1577862004817	mozrunner::runner	INFO	Running command: "/usr/bin/firefox" "-marionette" "-foreground" "-no-remote" "-profile" "/tmp/rust_mozprofileOiba7x"
1577862005378	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: mozillaAddons
1577862005379	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: telemetry
1577862005379	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: resource://pdf.js/
1577862005379	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: about:reader*
1577862008013	Marionette	INFO	Listening on port 35565
1577862008025	Marionette	WARN	TLS certificate errors will be ignored for this session

(/usr/lib/firefox/firefox:15116): dconf-WARNING **: 13:00:16.067: Unable to open /var/lib/snapd/desktop/dconf/profile/user: Permission denied
1577862026961	Marionette	INFO	Stopped listening on port 35565
1577865784350	mozrunner::runner	INFO	Running command: "/usr/bin/firefox" "-marionette" "-foreground" "-no-remote" "-profile" "/tmp/rust_mozprofileZWQlC0"
1577865786871	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: mozillaAddons
1577865786871	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: telemetry
1577865786871	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: resource://pdf.js/
1577865786871	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: about:reader*
1577865792360	Marionette	INFO	Listening on port 35033
1577865792375	Marionette	WARN	TLS certificate errors will be ignored for this session
JavaScript warning: https://static.xx.fbcdn.net/rsrc.php/v3/y5/r/O6Ex0i9YYdO.js?_nc_x=F-xmOkya9-Y, line 7: Error: Script terminated by timeout at:
Kb@https://static.xx.fbcdn.net/rsrc.php/v3/y5/r/O6Ex0i9YYdO.js?_nc_x=F-xmOkya9-Y:7:8681
oe@https://static.xx.fbcdn.net/rsrc.php/v3/y5/r/O6Ex0i9YYdO.js?_nc_x=F-xmOkya9-Y:7:39203
applyWithGuard@https://static.xx.fbcdn.net/rsrc.php/v3/ys/r/lCw1umbrh_g.js?_nc_x=F-xmOkya9-Y:54:531
d@https://static.xx.fbcdn.net/rsrc.php/v3/ys/r/lCw1umbrh_g.js?_nc_x=F-xmOkya9-Y:300:2841

[Parent 16905, Gecko_IOThread] WARNING: pipe error (73): Connection reset by peer: file /build/firefox-kECWsf/firefox-71.0+build5/ipc/chromium/src/chrome/common/ipc_channel_posix.cc, line 358
[Parent 16905, Gecko_IOThread] WARNING: pipe error (64): Connection reset by peer: file /build/firefox-kECWsf/firefox-71.0+build5/ipc/chromium/src/chrome/common/ipc_channel_posix.cc, line 358
JavaScript error: , line 0: UnknownError: The operation failed for reasons unrelated to the database itself and not covered by any other error code.
1577865931419	Marionette	INFO	Stopped listening on port 35033
1577865934655	mozrunner::runner	INFO	Running command: "/usr/bin/firefox" "-marionette" "-foreground" "-no-remote" "-profile" "/tmp/rust_mozprofileKI9qxr"
1577865936237	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: mozillaAddons
1577865936237	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: telemetry
1577865936237	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: resource://pdf.js/
1577865936237	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: about:reader*
1577865939520	Marionette	INFO	Listening on port 44933
1577865939572	Marionette	WARN	TLS certificate errors will be ignored for this session
Exiting due to channel error.
Exiting due to channel error.
Exiting due to channel error.
1577866189096	mozrunner::runner	INFO	Running command: "/usr/bin/firefox" "-marionette" "-foreground" "-no-remote" "-profile" "/tmp/rust_mozprofileWtOCAK"
1577866189657	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: mozillaAddons
1577866189657	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: telemetry
1577866189657	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: resource://pdf.js/
1577866189657	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: about:reader*
1577866191418	Marionette	INFO	Listening on port 45675
1577866191501	Marionette	WARN	TLS certificate errors will be ignored for this session
1577866223479	mozrunner::runner	INFO	Running command: "/usr/bin/firefox" "-marionette" "-foreground" "-no-remote" "-profile" "/tmp/rust_mozprofileQc0LV7"
1577866223933	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: mozillaAddons
1577866223933	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: telemetry
1577866223934	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: resource://pdf.js/
1577866223934	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: about:reader*
1577866225920	Marionette	INFO	Listening on port 35799
1577866225985	Marionette	WARN	TLS certificate errors will be ignored for this session
1577868114257	mozrunner::runner	INFO	Running command: "/usr/bin/firefox" "-marionette" "-foreground" "-no-remote" "-profile" "/tmp/rust_mozprofileZrXknb"
1577868115069	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: mozillaAddons
1577868115069	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: telemetry
1577868115069	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: resource://pdf.js/
1577868115069	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: about:reader*
1577868119491	Marionette	INFO	Listening on port 42679
1577868119577	Marionette	WARN	TLS certificate errors will be ignored for this session
1577868228845	mozrunner::runner	INFO	Running command: "/usr/bin/firefox" "-marionette" "-foreground" "-no-remote" "-profile" "/tmp/rust_mozprofile7OY4v9"
1577868229309	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: mozillaAddons
1577868229309	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: telemetry
1577868229309	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: resource://pdf.js/
1577868229309	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: about:reader*
1577868231271	Marionette	INFO	Listening on port 34357
1577868231351	Marionette	WARN	TLS certificate errors will be ignored for this session
1577868237857	Marionette	INFO	Stopped listening on port 34357
[Parent 3237, Gecko_IOThread] WARNING: pipe error (75): Connection reset by peer: file /build/firefox-kECWsf/firefox-71.0+build5/ipc/chromium/src/chrome/common/ipc_channel_posix.cc, line 358
[Parent 3237, Gecko_IOThread] WARNING: pipe error (73): Connection reset by peer: file /build/firefox-kECWsf/firefox-71.0+build5/ipc/chromium/src/chrome/common/ipc_channel_posix.cc, line 358
JavaScript error: , line 0: UnknownError: The operation failed for reasons unrelated to the database itself and not covered by any other error code.
1577868240724	Marionette	INFO	Stopped listening on port 42679
1577868242755	mozrunner::runner	INFO	Running command: "/usr/bin/firefox" "-marionette" "-foreground" "-no-remote" "-profile" "/tmp/rust_mozprofileFkOtHF"
1577868243212	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: mozillaAddons
1577868243212	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: telemetry
1577868243212	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: resource://pdf.js/
1577868243212	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: about:reader*
1577868245144	Marionette	INFO	Listening on port 40005
1577868245163	Marionette	WARN	TLS certificate errors will be ignored for this session
[Parent 4954, Gecko_IOThread] WARNING: pipe error (86): Connection reset by peer: file /build/firefox-kECWsf/firefox-71.0+build5/ipc/chromium/src/chrome/common/ipc_channel_posix.cc, line 358
[Parent 4954, Gecko_IOThread] WARNING: pipe error (72): Connection reset by peer: file /build/firefox-kECWsf/firefox-71.0+build5/ipc/chromium/src/chrome/common/ipc_channel_posix.cc, line 358
JavaScript error: , line 0: UnknownError: The operation failed for reasons unrelated to the database itself and not covered by any other error code.
1577868503988	Marionette	INFO	Stopped listening on port 40005
1577869229712	mozrunner::runner	INFO	Running command: "/usr/bin/firefox" "-marionette" "-foreground" "-no-remote" "-profile" "/tmp/rust_mozprofileby94uP"
1577869230179	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: mozillaAddons
1577869230180	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: telemetry
1577869230180	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: resource://pdf.js/
1577869230180	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: about:reader*
1577869232755	Marionette	INFO	Listening on port 43463
1577869232824	Marionette	WARN	TLS certificate errors will be ignored for this session
[Parent 6193, Gecko_IOThread] WARNING: pipe error (72): Connection reset by peer: file /build/firefox-kECWsf/firefox-71.0+build5/ipc/chromium/src/chrome/common/ipc_channel_posix.cc, line 358
[Parent 6193, Gecko_IOThread] WARNING: pipe error (64): Connection reset by peer: file /build/firefox-kECWsf/firefox-71.0+build5/ipc/chromium/src/chrome/common/ipc_channel_posix.cc, line 358
JavaScript error: , line 0: UnknownError: The operation failed for reasons unrelated to the database itself and not covered by any other error code.
1577870391582	Marionette	INFO	Stopped listening on port 43463
1577870439345	mozrunner::runner	INFO	Running command: "/usr/bin/firefox" "-marionette" "-foreground" "-no-remote" "-profile" "/tmp/rust_mozprofilewv6I8K"
1577870439786	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: mozillaAddons
1577870439786	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: telemetry
1577870439786	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: resource://pdf.js/
1577870439786	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: about:reader*
1577870442097	Marionette	INFO	Listening on port 39597
1577870442155	Marionette	WARN	TLS certificate errors will be ignored for this session
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/yz/r/XpFFWCF_B8_.js?_nc_x=F-xmOkya9-Y, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/yz/r/XpFFWCF_B8_.js?_nc_x=F-xmOkya9-Y, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/yz/r/XpFFWCF_B8_.js?_nc_x=F-xmOkya9-Y, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
1577870552429	Marionette	INFO	Stopped listening on port 39597
[Parent 7296, Gecko_IOThread] WARNING: pipe error (110): Connection reset by peer: file /build/firefox-kECWsf/firefox-71.0+build5/ipc/chromium/src/chrome/common/ipc_channel_posix.cc, line 358
[Child 7367, Chrome_ChildThread] WARNING: pipe error: Broken pipe: file /build/firefox-kECWsf/firefox-71.0+build5/ipc/chromium/src/chrome/common/ipc_channel_posix.cc, line 728
[Child 7367, Chrome_ChildThread] WARNING: pipe error: Broken pipe: file /build/firefox-kECWsf/firefox-71.0+build5/ipc/chromium/src/chrome/common/ipc_channel_posix.cc, line 728
[Parent 7296, Gecko_IOThread] WARNING: pipe error (64): Connection reset by peer: file /build/firefox-kECWsf/firefox-71.0+build5/ipc/chromium/src/chrome/common/ipc_channel_posix.cc, line 358
1577870677115	mozrunner::runner	INFO	Running command: "/usr/bin/firefox" "-marionette" "-foreground" "-no-remote" "-profile" "/tmp/rust_mozprofilejEnipL"
1577870678070	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: mozillaAddons
1577870678070	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: telemetry
1577870678071	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: resource://pdf.js/
1577870678071	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: about:reader*
1577870680790	Marionette	INFO	Listening on port 43969
1577870680825	Marionette	WARN	TLS certificate errors will be ignored for this session
1577870782022	Marionette	WARN	TimedPromise timed out after 500 ms: stacktrace:
bail@chrome://marionette/content/sync.js:237:64
1577870791188	Marionette	INFO	Stopped listening on port 43969
[Parent 8054, Gecko_IOThread] WARNING: pipe error (66): Connection reset by peer: file /build/firefox-kECWsf/firefox-71.0+build5/ipc/chromium/src/chrome/common/ipc_channel_posix.cc, line 358
JavaScript error: , line 0: UnknownError: The operation failed for reasons unrelated to the database itself and not covered by any other error code.
1577873544473	mozrunner::runner	INFO	Running command: "/usr/bin/firefox" "-marionette" "-foreground" "-no-remote" "-profile" "/tmp/rust_mozprofileeGjAKK"
1577873545143	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: mozillaAddons
1577873545143	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: telemetry
1577873545143	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: resource://pdf.js/
1577873545143	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: about:reader*
1577873547344	Marionette	INFO	Listening on port 38805
1577873547380	Marionette	WARN	TLS certificate errors will be ignored for this session
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/yz/r/XpFFWCF_B8_.js?_nc_x=F-xmOkya9-Y, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
1577873633574	Marionette	INFO	Stopped listening on port 38805
[Parent 9649, Gecko_IOThread] WARNING: pipe error (72): Connection reset by peer: file /build/firefox-kECWsf/firefox-71.0+build5/ipc/chromium/src/chrome/common/ipc_channel_posix.cc, line 358
IPDL protocol error: Handler returned error code!

###!!! [Parent][DispatchAsyncMessage] Error: PLayerTransaction::Msg_ReleaseLayer Processing error: message was deserialized, but the handler returned false (indicating failure)

IPDL protocol error: Handler returned error code!

###!!! [Parent][DispatchAsyncMessage] Error: PLayerTransaction::Msg_ReleaseLayer Processing error: message was deserialized, but the handler returned false (indicating failure)

JavaScript error: , line 0: AbortError: A request was aborted, for example through a call to IDBTransaction.abort.
1577873798945	mozrunner::runner	INFO	Running command: "/usr/bin/firefox" "-marionette" "-foreground" "-no-remote" "-profile" "/tmp/rust_mozprofileJVXFY8"
1577873799412	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: mozillaAddons
1577873799412	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: telemetry
1577873799412	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: resource://pdf.js/
1577873799412	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: about:reader*
1577873801347	Marionette	INFO	Listening on port 42649
1577873801369	Marionette	WARN	TLS certificate errors will be ignored for this session
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/yz/r/XpFFWCF_B8_.js?_nc_x=F-xmOkya9-Y, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
1577873864847	Marionette	WARN	TimedPromise timed out after 500 ms: stacktrace:
bail@chrome://marionette/content/sync.js:237:64
1577873866000	Marionette	INFO	Stopped listening on port 42649
[Parent 10361, Gecko_IOThread] WARNING: pipe error (64): Connection reset by peer: file /build/firefox-kECWsf/firefox-71.0+build5/ipc/chromium/src/chrome/common/ipc_channel_posix.cc, line 358
IPDL protocol error: Handler returned error code!

###!!! [Parent][DispatchAsyncMessage] Error: PLayerTransaction::Msg_ReleaseLayer Processing error: message was deserialized, but the handler returned false (indicating failure)

IPDL protocol error: Handler returned error code!

###!!! [Parent][DispatchAsyncMessage] Error: PLayerTransaction::Msg_ReleaseLayer Processing error: message was deserialized, but the handler returned false (indicating failure)

IPDL protocol error: Handler returned error code!

###!!! [Parent][DispatchAsyncMessage] Error: PLayerTransaction::Msg_ReleaseLayer Processing error: message was deserialized, but the handler returned false (indicating failure)

IPDL protocol error: Handler returned error code!

###!!! [Parent][DispatchAsyncMessage] Error: PLayerTransaction::Msg_ReleaseLayer Processing error: message was deserialized, but the handler returned false (indicating failure)

IPDL protocol error: Handler returned error code!

###!!! [Parent][DispatchAsyncMessage] Error: PLayerTransaction::Msg_ReleaseLayer Processing error: message was deserialized, but the handler returned false (indicating failure)

IPDL protocol error: Handler returned error code!

###!!! [Parent][DispatchAsyncMessage] Error: PLayerTransaction::Msg_ReleaseLayer Processing error: message was deserialized, but the handler returned false (indicating failure)

IPDL protocol error: Handler returned error code!

###!!! [Parent][DispatchAsyncMessage] Error: PLayerTransaction::Msg_ReleaseLayer Processing error: message was deserialized, but the handler returned false (indicating failure)

IPDL protocol error: Handler returned error code!

###!!! [Parent][DispatchAsyncMessage] Error: PLayerTransaction::Msg_ReleaseLayer Processing error: message was deserialized, but the handler returned false (indicating failure)

IPDL protocol error: Handler returned error code!

###!!! [Parent][DispatchAsyncMessage] Error: PLayerTransaction::Msg_ReleaseLayer Processing error: message was deserialized, but the handler returned false (indicating failure)

IPDL protocol error: Handler returned error code!

###!!! [Parent][DispatchAsyncMessage] Error: PLayerTransaction::Msg_ReleaseLayer Processing error: message was deserialized, but the handler returned false (indicating failure)

IPDL protocol error: Handler returned error code!

###!!! [Parent][DispatchAsyncMessage] Error: PLayerTransaction::Msg_ReleaseLayer Processing error: message was deserialized, but the handler returned false (indicating failure)

IPDL protocol error: Handler returned error code!

###!!! [Parent][DispatchAsyncMessage] Error: PLayerTransaction::Msg_ReleaseLayer Processing error: message was deserialized, but the handler returned false (indicating failure)

IPDL protocol error: Handler returned error code!

###!!! [Parent][DispatchAsyncMessage] Error: PLayerTransaction::Msg_ReleaseLayer Processing error: message was deserialized, but the handler returned false (indicating failure)

IPDL protocol error: Handler returned error code!

###!!! [Parent][DispatchAsyncMessage] Error: PLayerTransaction::Msg_ReleaseLayer Processing error: message was deserialized, but the handler returned false (indicating failure)

IPDL protocol error: Handler returned error code!

###!!! [Parent][DispatchAsyncMessage] Error: PLayerTransaction::Msg_ReleaseLayer Processing error: message was deserialized, but the handler returned false (indicating failure)

IPDL protocol error: Handler returned error code!

###!!! [Parent][DispatchAsyncMessage] Error: PLayerTransaction::Msg_ReleaseLayer Processing error: message was deserialized, but the handler returned false (indicating failure)

IPDL protocol error: Handler returned error code!

###!!! [Parent][DispatchAsyncMessage] Error: PLayerTransaction::Msg_ReleaseLayer Processing error: message was deserialized, but the handler returned false (indicating failure)

IPDL protocol error: Handler returned error code!

###!!! [Parent][DispatchAsyncMessage] Error: PLayerTransaction::Msg_ReleaseLayer Processing error: message was deserialized, but the handler returned false (indicating failure)

IPDL protocol error: Handler returned error code!

###!!! [Parent][DispatchAsyncMessage] Error: PLayerTransaction::Msg_ReleaseLayer Processing error: message was deserialized, but the handler returned false (indicating failure)

IPDL protocol error: Handler returned error code!

###!!! [Parent][DispatchAsyncMessage] Error: PLayerTransaction::Msg_ReleaseLayer Processing error: message was deserialized, but the handler returned false (indicating failure)

IPDL protocol error: Handler returned error code!

###!!! [Parent][DispatchAsyncMessage] Error: PLayerTransaction::Msg_ReleaseLayer Processing error: message was deserialized, but the handler returned false (indicating failure)

IPDL protocol error: Handler returned error code!

###!!! [Parent][DispatchAsyncMessage] Error: PLayerTransaction::Msg_ReleaseLayer Processing error: message was deserialized, but the handler returned false (indicating failure)

IPDL protocol error: Handler returned error code!

###!!! [Parent][DispatchAsyncMessage] Error: PLayerTransaction::Msg_ReleaseLayer Processing error: message was deserialized, but the handler returned false (indicating failure)


###!!! [Child][MessageChannel] Error: (msgtype=0x590011,name=PHttpChannel::Msg___delete__) Channel closing: too late to send/recv, messages will be lost


###!!! [Child][MessageChannel] Error: (msgtype=0x670029,name=PNecko::Msg_RemoveRequestContext) Channel closing: too late to send/recv, messages will be lost

[Child 10432, Chrome_ChildThread] WARNING: pipe error (3): Connection reset by peer: file /build/firefox-kECWsf/firefox-71.0+build5/ipc/chromium/src/chrome/common/ipc_channel_posix.cc, line 358

###!!! [Child][MessageChannel] Error: (msgtype=0x37011E,name=PContent::Msg_ScriptError) Channel closing: too late to send/recv, messages will be lost


###!!! [Child][MessageChannel] Error: (msgtype=0xAD0006,name=PWebSocket::Msg_DeleteSelf) Channel closing: too late to send/recv, messages will be lost


###!!! [Child][RunMessage] Error: Channel closing: too late to send/recv, messages will be lost

JavaScript error: , line 0: UnknownError: The operation failed for reasons unrelated to the database itself and not covered by any other error code.
1577874504837	mozrunner::runner	INFO	Running command: "/usr/bin/firefox" "-marionette" "-foreground" "-no-remote" "-profile" "/tmp/rust_mozprofiledRtUPT"
1577874505271	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: mozillaAddons
1577874505271	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: telemetry
1577874505271	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: resource://pdf.js/
1577874505271	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: about:reader*
1577874507020	Marionette	INFO	Listening on port 41001
1577874507045	Marionette	WARN	TLS certificate errors will be ignored for this session
JavaScript warning: https://static.xx.fbcdn.net/rsrc.php/v3/yb/r/L1xgwx3PuV5.js?_nc_x=F-xmOkya9-Y, line 24: Error: This error message will be blank when privacy.resistFingerprinting = true.  If it is really necessary, please add it to the whitelist in MediaError::GetMessage: Failed to init decoder
1577874571034	Marionette	INFO	Stopped listening on port 41001
[Parent 11282, Gecko_IOThread] WARNING: pipe error (72): Connection reset by peer: file /build/firefox-kECWsf/firefox-71.0+build5/ipc/chromium/src/chrome/common/ipc_channel_posix.cc, line 358
[Child 11355, Chrome_ChildThread] WARNING: pipe error (3): Connection reset by peer: file /build/firefox-kECWsf/firefox-71.0+build5/ipc/chromium/src/chrome/common/ipc_channel_posix.cc, line 358
JavaScript error: , line 0: UnknownError: The operation failed for reasons unrelated to the database itself and not covered by any other error code.
1577875081898	mozrunner::runner	INFO	Running command: "/usr/bin/firefox" "-marionette" "-foreground" "-no-remote" "-profile" "/tmp/rust_mozprofileX0PgaL"
1577875082449	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: mozillaAddons
1577875082449	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: telemetry
1577875082449	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: resource://pdf.js/
1577875082449	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: about:reader*
1577875084434	Marionette	INFO	Listening on port 35591
1577875084503	Marionette	WARN	TLS certificate errors will be ignored for this session
1577875141483	Marionette	WARN	TimedPromise timed out after 500 ms: stacktrace:
bail@chrome://marionette/content/sync.js:237:64
1577875147147	Marionette	INFO	Stopped listening on port 35591
[Parent 12170, Gecko_IOThread] WARNING: pipe error (89): Connection reset by peer: file /build/firefox-kECWsf/firefox-71.0+build5/ipc/chromium/src/chrome/common/ipc_channel_posix.cc, line 358
JavaScript error: , line 0: UnknownError: The operation failed for reasons unrelated to the database itself and not covered by any other error code.
1577875362857	mozrunner::runner	INFO	Running command: "/usr/bin/firefox" "-marionette" "-foreground" "-no-remote" "-profile" "/tmp/rust_mozprofileRzFP7Z"
1577875363351	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: mozillaAddons
1577875363352	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: telemetry
1577875363352	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: resource://pdf.js/
1577875363352	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: about:reader*
1577875365422	Marionette	INFO	Listening on port 37861
1577875365464	Marionette	WARN	TLS certificate errors will be ignored for this session
JavaScript warning: https://static.xx.fbcdn.net/rsrc.php/v3ij6B4/y7/l/en_US/o8DtuvrnvYX.js?_nc_x=F-xmOkya9-Y, line 469: unreachable code after return statement
[Parent 12927, Gecko_IOThread] WARNING: pipe error: Broken pipe: file /build/firefox-kECWsf/firefox-71.0+build5/ipc/chromium/src/chrome/common/ipc_channel_posix.cc, line 728
1577875415606	Marionette	INFO	Stopped listening on port 37861
1577875809892	mozrunner::runner	INFO	Running command: "/usr/bin/firefox" "-marionette" "-foreground" "-no-remote" "-profile" "/tmp/rust_mozprofilejJquy0"
1577875810367	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: mozillaAddons
1577875810367	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: telemetry
1577875810367	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: resource://pdf.js/
1577875810367	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: about:reader*
1577875812424	Marionette	INFO	Listening on port 40729
1577875812499	Marionette	WARN	TLS certificate errors will be ignored for this session
1577875822149	Marionette	WARN	TimedPromise timed out after 5000 ms: stacktrace:
bail@chrome://marionette/content/sync.js:237:64
1577875822808	Marionette	WARN	TimedPromise timed out after 500 ms: stacktrace:
bail@chrome://marionette/content/sync.js:237:64
1577875864381	Marionette	WARN	TimedPromise timed out after 500 ms: stacktrace:
bail@chrome://marionette/content/sync.js:237:64
1577875865963	Marionette	INFO	Stopped listening on port 40729
1577876230648	mozrunner::runner	INFO	Running command: "/usr/bin/firefox" "-marionette" "-foreground" "-no-remote" "-profile" "/tmp/rust_mozprofilef9QKUh"
1577876231116	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: mozillaAddons
1577876231116	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: telemetry
1577876231116	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: resource://pdf.js/
1577876231116	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: about:reader*
1577876233042	Marionette	INFO	Listening on port 34731
1577876233058	Marionette	WARN	TLS certificate errors will be ignored for this session
1577876321032	mozrunner::runner	INFO	Running command: "/usr/bin/firefox" "-marionette" "-foreground" "-no-remote" "-profile" "/tmp/rust_mozprofile6ANH2x"
1577876321488	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: mozillaAddons
1577876321488	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: telemetry
1577876321488	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: resource://pdf.js/
1577876321488	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: about:reader*
1577876323330	Marionette	INFO	Listening on port 38495
1577876323351	Marionette	WARN	TLS certificate errors will be ignored for this session
1577876411129	mozrunner::runner	INFO	Running command: "/usr/bin/firefox" "-marionette" "-foreground" "-no-remote" "-profile" "/tmp/rust_mozprofilexAPcrO"
1577876411639	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: mozillaAddons
1577876411639	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: telemetry
1577876411639	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: resource://pdf.js/
1577876411639	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: about:reader*
1577876413512	Marionette	INFO	Listening on port 40123
1577876413540	Marionette	WARN	TLS certificate errors will be ignored for this session
1577876553541	mozrunner::runner	INFO	Running command: "/usr/bin/firefox" "-marionette" "-foreground" "-no-remote" "-profile" "/tmp/rust_mozprofile1A2eBI"
1577876553989	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: mozillaAddons
1577876553989	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: telemetry
1577876553989	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: resource://pdf.js/
1577876553989	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: about:reader*
1577876555942	Marionette	INFO	Listening on port 33783
1577876555962	Marionette	WARN	TLS certificate errors will be ignored for this session
1577876592258	Marionette	INFO	Stopped listening on port 33783
1577877155960	mozrunner::runner	INFO	Running command: "/usr/bin/firefox" "-marionette" "-foreground" "-no-remote" "-profile" "/tmp/rust_mozprofileNiAlns"
1577877156473	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: mozillaAddons
1577877156473	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: telemetry
1577877156473	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: resource://pdf.js/
1577877156473	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: about:reader*
1577877158331	Marionette	INFO	Listening on port 37085
1577877158366	Marionette	WARN	TLS certificate errors will be ignored for this session
JavaScript warning: https://static.xx.fbcdn.net/rsrc.php/v3ij6B4/y7/l/en_US/o8DtuvrnvYX.js?_nc_x=F-xmOkya9-Y, line 469: unreachable code after return statement
[Parent 17551, Gecko_IOThread] WARNING: pipe error: Broken pipe: file /build/firefox-kECWsf/firefox-71.0+build5/ipc/chromium/src/chrome/common/ipc_channel_posix.cc, line 728
1577877220679	Marionette	INFO	Stopped listening on port 37085
IPDL protocol error: Handler returned error code!

###!!! [Parent][DispatchAsyncMessage] Error: PLayerTransaction::Msg_ReleaseLayer Processing error: message was deserialized, but the handler returned false (indicating failure)

IPDL protocol error: Handler returned error code!

###!!! [Parent][DispatchAsyncMessage] Error: PLayerTransaction::Msg_ReleaseLayer Processing error: message was deserialized, but the handler returned false (indicating failure)

1577954478255	mozrunner::runner	INFO	Running command: "/usr/bin/firefox" "-marionette" "-foreground" "-no-remote" "-profile" "/tmp/rust_mozprofileoqDa5I"
1577954478850	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: mozillaAddons
1577954478850	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: telemetry
1577954478850	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: resource://pdf.js/
1577954478850	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: about:reader*
1577954481967	Marionette	INFO	Listening on port 33105
1577954481983	Marionette	WARN	TLS certificate errors will be ignored for this session
1577954543735	Marionette	WARN	TimedPromise timed out after 500 ms: stacktrace:
bail@chrome://marionette/content/sync.js:237:64
1577954544494	Marionette	INFO	Stopped listening on port 33105
IPDL protocol error: Handler returned error code!

###!!! [Parent][DispatchAsyncMessage] Error: PLayerTransaction::Msg_ReleaseLayer Processing error: message was deserialized, but the handler returned false (indicating failure)

IPDL protocol error: Handler returned error code!

###!!! [Parent][DispatchAsyncMessage] Error: PLayerTransaction::Msg_ReleaseLayer Processing error: message was deserialized, but the handler returned false (indicating failure)

IPDL protocol error: Handler returned error code!

###!!! [Parent][DispatchAsyncMessage] Error: PLayerTransaction::Msg_ReleaseLayer Processing error: message was deserialized, but the handler returned false (indicating failure)

IPDL protocol error: Handler returned error code!

###!!! [Parent][DispatchAsyncMessage] Error: PLayerTransaction::Msg_ReleaseLayer Processing error: message was deserialized, but the handler returned false (indicating failure)

IPDL protocol error: Handler returned error code!

###!!! [Parent][DispatchAsyncMessage] Error: PLayerTransaction::Msg_ReleaseLayer Processing error: message was deserialized, but the handler returned false (indicating failure)

IPDL protocol error: Handler returned error code!

###!!! [Parent][DispatchAsyncMessage] Error: PLayerTransaction::Msg_ReleaseLayer Processing error: message was deserialized, but the handler returned false (indicating failure)

IPDL protocol error: Handler returned error code!

###!!! [Parent][DispatchAsyncMessage] Error: PLayerTransaction::Msg_ReleaseLayer Processing error: message was deserialized, but the handler returned false (indicating failure)

IPDL protocol error: Handler returned error code!

###!!! [Parent][DispatchAsyncMessage] Error: PLayerTransaction::Msg_ReleaseLayer Processing error: message was deserialized, but the handler returned false (indicating failure)

IPDL protocol error: Handler returned error code!

###!!! [Parent][DispatchAsyncMessage] Error: PLayerTransaction::Msg_ReleaseLayer Processing error: message was deserialized, but the handler returned false (indicating failure)

IPDL protocol error: Handler returned error code!

###!!! [Parent][DispatchAsyncMessage] Error: PLayerTransaction::Msg_ReleaseLayer Processing error: message was deserialized, but the handler returned false (indicating failure)

IPDL protocol error: Handler returned error code!

###!!! [Parent][DispatchAsyncMessage] Error: PLayerTransaction::Msg_ReleaseLayer Processing error: message was deserialized, but the handler returned false (indicating failure)

IPDL protocol error: Handler returned error code!

###!!! [Parent][DispatchAsyncMessage] Error: PLayerTransaction::Msg_ReleaseLayer Processing error: message was deserialized, but the handler returned false (indicating failure)

IPDL protocol error: Handler returned error code!

###!!! [Parent][DispatchAsyncMessage] Error: PLayerTransaction::Msg_ReleaseLayer Processing error: message was deserialized, but the handler returned false (indicating failure)

IPDL protocol error: Handler returned error code!

###!!! [Parent][DispatchAsyncMessage] Error: PLayerTransaction::Msg_ReleaseLayer Processing error: message was deserialized, but the handler returned false (indicating failure)

IPDL protocol error: Handler returned error code!

###!!! [Parent][DispatchAsyncMessage] Error: PLayerTransaction::Msg_ReleaseLayer Processing error: message was deserialized, but the handler returned false (indicating failure)

IPDL protocol error: Handler returned error code!

###!!! [Parent][DispatchAsyncMessage] Error: PLayerTransaction::Msg_ReleaseLayer Processing error: message was deserialized, but the handler returned false (indicating failure)

IPDL protocol error: Handler returned error code!

###!!! [Parent][DispatchAsyncMessage] Error: PLayerTransaction::Msg_ReleaseLayer Processing error: message was deserialized, but the handler returned false (indicating failure)

IPDL protocol error: Handler returned error code!

###!!! [Parent][DispatchAsyncMessage] Error: PLayerTransaction::Msg_ReleaseLayer Processing error: message was deserialized, but the handler returned false (indicating failure)

IPDL protocol error: Handler returned error code!

###!!! [Parent][DispatchAsyncMessage] Error: PLayerTransaction::Msg_ReleaseLayer Processing error: message was deserialized, but the handler returned false (indicating failure)

IPDL protocol error: Handler returned error code!

###!!! [Parent][DispatchAsyncMessage] Error: PLayerTransaction::Msg_ReleaseLayer Processing error: message was deserialized, but the handler returned false (indicating failure)

IPDL protocol error: Handler returned error code!

###!!! [Parent][DispatchAsyncMessage] Error: PLayerTransaction::Msg_ReleaseLayer Processing error: message was deserialized, but the handler returned false (indicating failure)

IPDL protocol error: Handler returned error code!

###!!! [Parent][DispatchAsyncMessage] Error: PLayerTransaction::Msg_ReleaseLayer Processing error: message was deserialized, but the handler returned false (indicating failure)

IPDL protocol error: Handler returned error code!

###!!! [Parent][DispatchAsyncMessage] Error: PLayerTransaction::Msg_ReleaseLayer Processing error: message was deserialized, but the handler returned false (indicating failure)

[Parent 4112, Gecko_IOThread] WARNING: pipe error (62): Connection reset by peer: file /build/firefox-kECWsf/firefox-71.0+build5/ipc/chromium/src/chrome/common/ipc_channel_posix.cc, line 358
1578473982787	mozrunner::runner	INFO	Running command: "/usr/bin/firefox" "-marionette" "-foreground" "-no-remote" "-profile" "/tmp/rust_mozprofile2v9TvE"
1578473983434	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: mozillaAddons
1578473983434	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: telemetry
1578473983434	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: resource://pdf.js/
1578473983434	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: about:reader*
1578473987100	Marionette	INFO	Listening on port 46271
1578473987131	Marionette	WARN	TLS certificate errors will be ignored for this session
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/yz/r/XpFFWCF_B8_.js?_nc_x=F-xmOkya9-Y, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/yz/r/XpFFWCF_B8_.js?_nc_x=F-xmOkya9-Y, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/yz/r/XpFFWCF_B8_.js?_nc_x=F-xmOkya9-Y, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/yz/r/XpFFWCF_B8_.js?_nc_x=F-xmOkya9-Y, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript warning: https://static.xx.fbcdn.net/rsrc.php/v3ieBO4/yY/l/en_US/pJvmAlAkRlI.js?_nc_x=F-xmOkya9-Y, line 54: Error: This error message will be blank when privacy.resistFingerprinting = true.  If it is really necessary, please add it to the whitelist in MediaError::GetMessage: Failed to init decoder
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/yz/r/XpFFWCF_B8_.js?_nc_x=F-xmOkya9-Y, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/yz/r/XpFFWCF_B8_.js?_nc_x=F-xmOkya9-Y, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/yz/r/XpFFWCF_B8_.js?_nc_x=F-xmOkya9-Y, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/yz/r/XpFFWCF_B8_.js?_nc_x=F-xmOkya9-Y, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/yz/r/XpFFWCF_B8_.js?_nc_x=F-xmOkya9-Y, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/yz/r/XpFFWCF_B8_.js?_nc_x=F-xmOkya9-Y, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/yz/r/XpFFWCF_B8_.js?_nc_x=F-xmOkya9-Y, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/yz/r/XpFFWCF_B8_.js?_nc_x=F-xmOkya9-Y, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/yz/r/XpFFWCF_B8_.js?_nc_x=F-xmOkya9-Y, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/yz/r/XpFFWCF_B8_.js?_nc_x=F-xmOkya9-Y, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/yz/r/XpFFWCF_B8_.js?_nc_x=F-xmOkya9-Y, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/yz/r/XpFFWCF_B8_.js?_nc_x=F-xmOkya9-Y, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/yz/r/XpFFWCF_B8_.js?_nc_x=F-xmOkya9-Y, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/yz/r/XpFFWCF_B8_.js?_nc_x=F-xmOkya9-Y, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/yz/r/XpFFWCF_B8_.js?_nc_x=F-xmOkya9-Y, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/yz/r/XpFFWCF_B8_.js?_nc_x=F-xmOkya9-Y, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/yz/r/XpFFWCF_B8_.js?_nc_x=F-xmOkya9-Y, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/yz/r/XpFFWCF_B8_.js?_nc_x=F-xmOkya9-Y, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript warning: https://static.xx.fbcdn.net/rsrc.php/v3ieBO4/yY/l/en_US/pJvmAlAkRlI.js?_nc_x=F-xmOkya9-Y, line 54: Error: This error message will be blank when privacy.resistFingerprinting = true.  If it is really necessary, please add it to the whitelist in MediaError::GetMessage: Failed to init decoder
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/yz/r/XpFFWCF_B8_.js?_nc_x=F-xmOkya9-Y, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/yz/r/XpFFWCF_B8_.js?_nc_x=F-xmOkya9-Y, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript warning: https://static.xx.fbcdn.net/rsrc.php/v3ieBO4/yY/l/en_US/pJvmAlAkRlI.js?_nc_x=F-xmOkya9-Y, line 54: Error: This error message will be blank when privacy.resistFingerprinting = true.  If it is really necessary, please add it to the whitelist in MediaError::GetMessage: Failed to init decoder
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/yz/r/XpFFWCF_B8_.js?_nc_x=F-xmOkya9-Y, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/yz/r/XpFFWCF_B8_.js?_nc_x=F-xmOkya9-Y, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
1578474262073	Marionette	WARN	TimedPromise timed out after 500 ms: stacktrace:
bail@chrome://marionette/content/sync.js:237:64
1578474278846	Marionette	INFO	Stopped listening on port 46271
[Parent 13816, Gecko_IOThread] WARNING: pipe error (77): Connection reset by peer: file /build/firefox-kECWsf/firefox-71.0+build5/ipc/chromium/src/chrome/common/ipc_channel_posix.cc, line 358
[Parent 13816, Gecko_IOThread] WARNING: pipe error (88): Connection reset by peer: file /build/firefox-kECWsf/firefox-71.0+build5/ipc/chromium/src/chrome/common/ipc_channel_posix.cc, line 358
JavaScript error: , line 0: AbortError: A request was aborted, for example through a call to IDBTransaction.abort.
1578559487798	mozrunner::runner	INFO	Running command: "/usr/bin/firefox" "-marionette" "-foreground" "-no-remote" "-profile" "/tmp/rust_mozprofileUKb2B6"
1578559488462	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: mozillaAddons
1578559488462	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: telemetry
1578559488462	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: resource://pdf.js/
1578559488462	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: about:reader*
1578559491302	Marionette	INFO	Listening on port 40493
1578559491334	Marionette	WARN	TLS certificate errors will be ignored for this session
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/yz/r/XpFFWCF_B8_.js?_nc_x=F-xmOkya9-Y, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/yz/r/XpFFWCF_B8_.js?_nc_x=F-xmOkya9-Y, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/yz/r/XpFFWCF_B8_.js?_nc_x=F-xmOkya9-Y, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
1578559843017	mozrunner::runner	INFO	Running command: "/usr/bin/firefox" "-marionette" "-foreground" "-no-remote" "-profile" "/tmp/rust_mozprofileEMQA4W"
1578559843675	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: mozillaAddons
1578559843675	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: telemetry
1578559843675	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: resource://pdf.js/
1578559843675	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: about:reader*
1578559846672	Marionette	INFO	Listening on port 39513
1578559846726	Marionette	WARN	TLS certificate errors will be ignored for this session
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/yz/r/XpFFWCF_B8_.js?_nc_x=F-xmOkya9-Y, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/yz/r/XpFFWCF_B8_.js?_nc_x=F-xmOkya9-Y, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
1578559948656	mozrunner::runner	INFO	Running command: "/usr/bin/firefox" "-marionette" "-foreground" "-no-remote" "-profile" "/tmp/rust_mozprofileqTfL1U"
1578559949509	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: mozillaAddons
1578559949509	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: telemetry
1578559949509	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: resource://pdf.js/
1578559949509	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: about:reader*
1578559951908	Marionette	INFO	Listening on port 43181
1578559951964	Marionette	WARN	TLS certificate errors will be ignored for this session
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/yz/r/XpFFWCF_B8_.js?_nc_x=F-xmOkya9-Y, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/yz/r/XpFFWCF_B8_.js?_nc_x=F-xmOkya9-Y, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
1578559986747	Marionette	WARN	TimedPromise timed out after 500 ms: stacktrace:
bail@chrome://marionette/content/sync.js:237:64
1578559988323	Marionette	INFO	Stopped listening on port 43181
1578562923777	mozrunner::runner	INFO	Running command: "/usr/bin/firefox" "-marionette" "-foreground" "-no-remote" "-profile" "/tmp/rust_mozprofile1TdnU2"
1578562924222	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: mozillaAddons
1578562924222	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: telemetry
1578562924223	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: resource://pdf.js/
1578562924223	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: about:reader*
1578562926012	Marionette	INFO	Listening on port 45649
1578562926082	Marionette	WARN	TLS certificate errors will be ignored for this session
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/yz/r/XpFFWCF_B8_.js?_nc_x=F-xmOkya9-Y, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/yz/r/XpFFWCF_B8_.js?_nc_x=F-xmOkya9-Y, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
1578563195153	mozrunner::runner	INFO	Running command: "/usr/bin/firefox" "-marionette" "-foreground" "-no-remote" "-profile" "/tmp/rust_mozprofilef7uIPj"
1578563195627	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: mozillaAddons
1578563195627	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: telemetry
1578563195627	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: resource://pdf.js/
1578563195627	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: about:reader*
1578563197540	Marionette	INFO	Listening on port 35055
1578563197561	Marionette	WARN	TLS certificate errors will be ignored for this session
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/yz/r/XpFFWCF_B8_.js?_nc_x=F-xmOkya9-Y, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
1578563285235	mozrunner::runner	INFO	Running command: "/usr/bin/firefox" "-marionette" "-foreground" "-no-remote" "-profile" "/tmp/rust_mozprofileq2BhWu"
1578563285711	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: mozillaAddons
1578563285711	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: telemetry
1578563285711	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: resource://pdf.js/
1578563285711	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: about:reader*
1578563287535	Marionette	INFO	Listening on port 33489
1578563287543	Marionette	WARN	TLS certificate errors will be ignored for this session
1578563297409	Marionette	WARN	TimedPromise timed out after 5000 ms: stacktrace:
bail@chrome://marionette/content/sync.js:237:64
1578563298065	Marionette	WARN	TimedPromise timed out after 500 ms: stacktrace:
bail@chrome://marionette/content/sync.js:237:64
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/yz/r/XpFFWCF_B8_.js?_nc_x=F-xmOkya9-Y, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
1578563411694	mozrunner::runner	INFO	Running command: "/usr/bin/firefox" "-marionette" "-foreground" "-no-remote" "-profile" "/tmp/rust_mozprofile6X7k5a"
1578563412096	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: mozillaAddons
1578563412096	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: telemetry
1578563412097	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: resource://pdf.js/
1578563412097	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: about:reader*
1578563413951	Marionette	INFO	Listening on port 37619
1578563414001	Marionette	WARN	TLS certificate errors will be ignored for this session
[Parent 19307, Gecko_IOThread] WARNING: pipe error (83): Connection reset by peer: file /build/firefox-kECWsf/firefox-71.0+build5/ipc/chromium/src/chrome/common/ipc_channel_posix.cc, line 358
JavaScript error: , line 0: UnknownError: The operation failed for reasons unrelated to the database itself and not covered by any other error code.
1578563422003	Marionette	INFO	Stopped listening on port 33489
1578564078875	mozrunner::runner	INFO	Running command: "/usr/bin/firefox" "-marionette" "-foreground" "-no-remote" "-profile" "/tmp/rust_mozprofileYWYjCs"
1578564079361	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: mozillaAddons
1578564079361	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: telemetry
1578564079361	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: resource://pdf.js/
1578564079361	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: about:reader*
1578564081276	Marionette	INFO	Listening on port 38969
1578564081293	Marionette	WARN	TLS certificate errors will be ignored for this session
1578564335260	Marionette	INFO	Stopped listening on port 38969
[Parent 20876, Gecko_IOThread] WARNING: pipe error (64): Connection reset by peer: file /build/firefox-kECWsf/firefox-71.0+build5/ipc/chromium/src/chrome/common/ipc_channel_posix.cc, line 358
JavaScript error: , line 0: UnknownError: The operation failed for reasons unrelated to the database itself and not covered by any other error code.
1578564742595	mozrunner::runner	INFO	Running command: "/usr/bin/firefox" "-marionette" "-foreground" "-no-remote" "-profile" "/tmp/rust_mozprofilerUsD6e"
1578564743308	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: mozillaAddons
1578564743308	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: telemetry
1578564743308	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: resource://pdf.js/
1578564743308	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: about:reader*
1578564745429	Marionette	INFO	Listening on port 42625
1578564745502	Marionette	WARN	TLS certificate errors will be ignored for this session
1578564770948	Marionette	WARN	TimedPromise timed out after 5000 ms: stacktrace:
bail@chrome://marionette/content/sync.js:237:64
1578564771559	Marionette	WARN	TimedPromise timed out after 500 ms: stacktrace:
bail@chrome://marionette/content/sync.js:237:64
JavaScript error: data:application/x-javascript;charset=utf-8;base64,aWYgKHNlbGYuQ2F2YWxyeUxvZ2dlcikgeyBDYXZhbHJ5TG9nZ2VyLnN0YXJ0X2pzKFsiKzRzV3kiXSk7IH0KLyoqCiAqIEBwcm92aWRlc01vZHVsZSBTaGFrYQogKiBAcHJlc2VydmUtd2hpdGVzcGFjZQogKiBAbm9wYWNrYWdlCiAqIEBnZW5lcmF0ZWQKICovCl9fZCgiU2hha2EiLFsiUHJvbWlzZSIsIkV2ZW50TGlzdGVuZXIiLCJWaWRlb1BsYXllclNoYWthUGVyZm9ybWFuY2VMb2dnZXIiLCJWaWRlb1B1c2hQYXJhbWV0ZXJzSGVscGVyIiwiVGltZVNsaWNlIiwiVmlkZW9QbGF5ZXJMb2NhbEJhbmR3aWR0aEVzdGltYXRvciIsIlZpZGVvUGxheWVyUmVzb3VyY2VUaW1lciIsIlNoYWthU2VnbWVudFJlZmVyZW5jZUhlbHBlciIsIlNlZ21lbnRSZXF1ZXN0TWFuYWdlciIsImNvbmNhdEFycmF5QnVmZmVyIiwiQnVmZmVyUmVwbGFjZW1lbnRIZWxwZXIiLCJsb2dMb25nQWthbWFpUmVxdWVzdCIsInRocm90dGxlIiwiVmlld3BvcnRQcmlvcml0eUFkanVzdGVyIiwiRmlyc3RMb2FkZWRWaWRlb1ByaW9yaXR5QWRqdXN0ZXIiLCJWaWRlb1ByaW9yaXR5Q2FsY3VsYXRvciIsIlZpZGVvU3RyZWFtaW5nTWFuYWdlciIsIk11bHRpcGxlU2VnbWVudHNQcm92aWRlciIsIkxvY2FsQml0cmF0ZUhlbHBlciIsIlVuaXRDb25zdGFudHMiLCJCdWZmZXJWZWxvY2l0eSIsIlZpZGVvUGxheWVyQml0cmF0ZUVzdGltYXRvciIsIlZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWciLCJnZXRTZWVrUmFuZ2VHYXBzRnJvbVNoYWthUmVmZXJlbmNlcyIsIm1lcmdlU2Vla1JhbmdlR2FwcyIsIk5ldHdvcmtTdGF0dXNEZXRlY3RvciIsIk1vc1V0aWxzIiwiQmFuemFpT0RTIiwiVmlkZW9EYXNoUHJlZmV0Y2hDYWNoZSIsIlZpZGVvQ2xpZW50RWRnZUNvb3BlcmF0aW9uIiwiVmlkZW9TdHJlYW1pbmdUYXNrUXVldWVQcm92aWRlciIsIkJpbmFyeVNlYXJjaCIsIlNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscyIsImdreCIsInNldFRpbWVvdXRBY3Jvc3NUcmFuc2l0aW9ucyIsInNldFRpbWVvdXQiLCJzZXRJbnRlcnZhbEFjcm9zc1RyYW5zaXRpb25zIiwic2V0SW50ZXJ2YWwiLCJzZXRJbW1lZGlhdGVBY3Jvc3NUcmFuc2l0aW9ucyIsInNldEltbWVkaWF0ZSIsImNsZWFyVGltZW91dCIsImNsZWFySW50ZXJ2YWwiLCJjbGVhckltbWVkaWF0ZSIsImRpc3BhdGNoRXZlbnQiLCJFdmVudExpc3RlbmVyIiwiRXZlbnQiLCJleHRyYWN0Q0VBNjA4IiwicGVyZm9ybWFuY2VOb3ciLCJwYXJzZUhlYWRlcnMiLCJjYW5Vc2VGZXRjaFN0cmVhbSIsIlN1YnNjcmlwdGlvbnNIYW5kbGVyIiwiVmlkZW9QdXNoVHJhY2tlciJdLChmdW5jdGlvbiAkbW9kdWxlX1NoYWthKGdsb2JhbCxyZXF1aXJlLHJlcXVpcmVEeW5hbWljLHJlcXVpcmVMYXp5LG1vZHVsZSxleHBvcnRzKXsKCi8vIHJ1biBgYXJjIHJlYnVpbGQgc2hha2EtcGxheWVyYCB0byByZWdlbmVyYXRlIFNoYWthLmpzIGFmdGVyIG1vZGlmeWluZyB0aGlzCi8vIGZpbGUKCnZhciBQcm9taXNlID0gcmVxdWlyZSgnUHJvbWlzZScpOwp2YXIgRXZlbnRMaXN0ZW5lciA9IHJlcXVpcmUoJ0V2ZW50TGlzdGVuZXInKTsKdmFyIFZpZGVvUGxheWVyU2hha2FQZXJmb3JtYW5jZUxvZ2dlciA9IHJlcXVpcmUoJ1ZpZGVvUGxheWVyU2hha2FQZXJmb3JtYW5jZUxvZ2dlcicpOwp2YXIgVmlkZW9QdXNoUGFyYW1ldGVyc0hlbHBlciA9IHJlcXVpcmUoJ1ZpZGVvUHVzaFBhcmFtZXRlcnNIZWxwZXInKTsKdmFyIFRpbWVTbGljZSA9IHJlcXVpcmUoJ1RpbWVTbGljZScpOwp2YXIgVmlkZW9QbGF5ZXJMb2NhbEJhbmR3aWR0aEVzdGltYXRvciA9IHJlcXVpcmUoJ1ZpZGVvUGxheWVyTG9jYWxCYW5kd2lkdGhFc3RpbWF0b3InKTsKdmFyIFZpZGVvUGxheWVyUmVzb3VyY2VUaW1lciA9IHJlcXVpcmUoJ1ZpZGVvUGxheWVyUmVzb3VyY2VUaW1lcicpOwp2YXIgU2hha2FTZWdtZW50UmVmZXJlbmNlSGVscGVyID0gcmVxdWlyZSgnU2hha2FTZWdtZW50UmVmZXJlbmNlSGVscGVyJyk7CnZhciBTZWdtZW50UmVxdWVzdE1hbmFnZXIgPSByZXF1aXJlKCdTZWdtZW50UmVxdWVzdE1hbmFnZXInKTsKdmFyIGNvbmNhdEFycmF5QnVmZmVyID0gcmVxdWlyZSgnY29uY2F0QXJyYXlCdWZmZXInKTsKdmFyIEJ1ZmZlclJlcGxhY2VtZW50SGVscGVyID0gcmVxdWlyZSgnQnVmZmVyUmVwbGFjZW1lbnRIZWxwZXInKTsKdmFyIGxvZ0xvbmdBa2FtYWlSZXF1ZXN0ID0gcmVxdWlyZSgnbG9nTG9uZ0FrYW1haVJlcXVlc3QnKTsKdmFyIHRocm90dGxlID0gcmVxdWlyZSgndGhyb3R0bGUnKTsKdmFyIFZpZXdwb3J0UHJpb3JpdHlBZGp1c3RlciA9IHJlcXVpcmUoJ1ZpZXdwb3J0UHJpb3JpdHlBZGp1c3RlcicpOwp2YXIgRmlyc3RMb2FkZWRWaWRlb1ByaW9yaXR5QWRqdXN0ZXIgPSByZXF1aXJlKCdGaXJzdExvYWRlZFZpZGVvUHJpb3JpdHlBZGp1c3RlcicpOwp2YXIgVmlkZW9Qcmlvcml0eUNhbGN1bGF0b3IgPSByZXF1aXJlKCdWaWRlb1ByaW9yaXR5Q2FsY3VsYXRvcicpOwp2YXIgVmlkZW9TdHJlYW1pbmdNYW5hZ2VyID0gcmVxdWlyZSgnVmlkZW9TdHJlYW1pbmdNYW5hZ2VyJyk7CnZhciBNdWx0aXBsZVNlZ21lbnRzUHJvdmlkZXIgPSByZXF1aXJlKCdNdWx0aXBsZVNlZ21lbnRzUHJvdmlkZXInKTsKdmFyIExvY2FsQml0cmF0ZUhlbHBlciA9IHJlcXVpcmUoJ0xvY2FsQml0cmF0ZUhlbHBlcicpOwp2YXIgVW5pdENvbnN0YW50cyA9IHJlcXVpcmUoJ1VuaXRDb25zdGFudHMnKTsKdmFyIEJ1ZmZlclZlbG9jaXR5ID0gcmVxdWlyZSgnQnVmZmVyVmVsb2NpdHknKTsKdmFyIFZpZGVvUGxheWVyQml0cmF0ZUVzdGltYXRvciA9IHJlcXVpcmUoJ1ZpZGVvUGxheWVyQml0cmF0ZUVzdGltYXRvcicpOwp2YXIgVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZyA9IHJlcXVpcmUoJ1ZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcnKTsKdmFyIGdldFNlZWtSYW5nZUdhcHNGcm9tU2hha2FSZWZlcmVuY2VzID0gcmVxdWlyZSgnZ2V0U2Vla1JhbmdlR2Fwc0Zyb21TaGFrYVJlZmVyZW5jZXMnKTsKdmFyIG1lcmdlU2Vla1JhbmdlR2FwcyA9IHJlcXVpcmUoJ21lcmdlU2Vla1JhbmdlR2FwcycpOwp2YXIgTmV0d29ya1N0YXR1c0RldGVjdG9yID0gcmVxdWlyZSgnTmV0d29ya1N0YXR1c0RldGVjdG9yJyk7CnZhciBNb3NVdGlscyA9IHJlcXVpcmUoJ01vc1V0aWxzJyk7CnZhciBCYW56YWlPRFMgPSByZXF1aXJlKCdCYW56YWlPRFMnKTsKdmFyIFZpZGVvRGFzaFByZWZldGNoQ2FjaGUgPSByZXF1aXJlKCdWaWRlb0Rhc2hQcmVmZXRjaENhY2hlJyk7CnZhciBWaWRlb0NsaWVudEVkZ2VDb29wZXJhdGlvbiA9IHJlcXVpcmUoJ1ZpZGVvQ2xpZW50RWRnZUNvb3BlcmF0aW9uJyk7CnZhciBWaWRlb1N0cmVhbWluZ1Rhc2tRdWV1ZVByb3ZpZGVyID0gcmVxdWlyZSgnVmlkZW9TdHJlYW1pbmdUYXNrUXVldWVQcm92aWRlcicpOwp2YXIgQmluYXJ5U2VhcmNoID0gcmVxdWlyZSgnQmluYXJ5U2VhcmNoJyk7CnZhciBTaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMgPSByZXF1aXJlKCdTaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMnKTsKdmFyIGdreCA9IHJlcXVpcmUoJ2dreCcpOwoKdmFyIHNldFRpbWVvdXQgPSBWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woCiAgICAndGltZW91dHNfcGVyc2lzdF9vbl9wYWdlX3RyYW5zaXRpb24nLAogICAgdHJ1ZQogICkgPwogIHJlcXVpcmUoJ3NldFRpbWVvdXRBY3Jvc3NUcmFuc2l0aW9ucycpIDoKICByZXF1aXJlKCdzZXRUaW1lb3V0Jyk7CnZhciBzZXRJbnRlcnZhbCA9IFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgKICAgICd0aW1lb3V0c19wZXJzaXN0X29uX3BhZ2VfdHJhbnNpdGlvbicsCiAgICB0cnVlCiAgKSA/CiAgcmVxdWlyZSgnc2V0SW50ZXJ2YWxBY3Jvc3NUcmFuc2l0aW9ucycpIDoKICByZXF1aXJlKCdzZXRJbnRlcnZhbCcpOwp2YXIgc2V0SW1tZWRpYXRlID0gVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKAogICAgJ3RpbWVvdXRzX3BlcnNpc3Rfb25fcGFnZV90cmFuc2l0aW9uJywKICAgIHRydWUKICApID8KICByZXF1aXJlKCdzZXRJbW1lZGlhdGVBY3Jvc3NUcmFuc2l0aW9ucycpIDoKICByZXF1aXJlKCdzZXRJbW1lZGlhdGUnKTsKdmFyIGNsZWFyVGltZW91dCA9IHJlcXVpcmUoJ2NsZWFyVGltZW91dCcpOwp2YXIgY2xlYXJJbnRlcnZhbCA9IHJlcXVpcmUoJ2NsZWFySW50ZXJ2YWwnKTsKdmFyIGNsZWFySW1tZWRpYXRlID0gcmVxdWlyZSgnY2xlYXJJbW1lZGlhdGUnKTsKdmFyIGRpc3BhdGNoRG9tRXZlbnQgPSByZXF1aXJlKCdkaXNwYXRjaEV2ZW50Jyk7CnZhciBldmVudExpc3RlbmVyQ2FwdHVyZSA9IHJlcXVpcmUoJ0V2ZW50TGlzdGVuZXInKS5jYXB0dXJlOwp2YXIgZXZlbnRLaWxsID0gcmVxdWlyZSgnRXZlbnQnKS5raWxsOwp2YXIgZXh0cmFjdENFQTYwOCA9IHJlcXVpcmUoJ2V4dHJhY3RDRUE2MDgnKTsKdmFyIHBlcmZvcm1hbmNlTm93ID0gcmVxdWlyZSgncGVyZm9ybWFuY2VOb3cnKTsKdmFyIHBhcnNlSGVhZGVycyA9IHJlcXVpcmUoJ3BhcnNlSGVhZGVycycpOwp2YXIgY2FuVXNlRmV0Y2hTdHJlYW0gPSByZXF1aXJlKCdjYW5Vc2VGZXRjaFN0cmVhbScpOwp2YXIgU3Vic2NyaXB0aW9uc0hhbmRsZXIgPSByZXF1aXJlKCdTdWJzY3JpcHRpb25zSGFuZGxlcicpOwp2YXIgVmlkZW9QdXNoVHJhY2tlciA9IHJlcXVpcmUoJ1ZpZGVvUHVzaFRyYWNrZXInKTsKCmZ1bmN0aW9uIHNldEV2ZW50UHJvcGVydHkob2JqLCBuYW1lLCBoYW5kbGVyKSB7CiAgb2JqW25hbWVdID0gVGltZVNsaWNlLmd1YXJkKGhhbmRsZXIsICdzaGFrYSAnICsgbmFtZSk7Cn07CgppZiAoCiAgVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCdzaGFrYV9uYXRpdmVfcHJvbWlzZScsIGZhbHNlKSAmJgogIFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgndXNlX25hdGl2ZV9wcm9taXNlJywgdHJ1ZSkKKSB7CiAgUHJvbWlzZSA9IHdpbmRvdy5Qcm9taXNlOwp9Cgp2YXIgZyA9IHt9OwoKKGZ1bmN0aW9uKHdpbmRvdyl7dmFyIG4sYWE9dGhpcztmdW5jdGlvbiBxKGEsYil7dmFyIGM9YS5zcGxpdCgiLiIpLGQ9YWE7Y1swXWluIGR8fCFkLmV4ZWNTY3JpcHR8fGQuZXhlY1NjcmlwdCgidmFyICIrY1swXSk7Zm9yKHZhciBlO2MubGVuZ3RoJiYoZT1jLnNoaWZ0KCkpOyljLmxlbmd0aHx8dm9pZCAwPT09Yj9kW2VdP2Q9ZFtlXTpkPWRbZV09e306ZFtlXT1ifWZ1bmN0aW9uIHIoYSxiKXtmdW5jdGlvbiBjKCl7fWMucHJvdG90eXBlPWIucHJvdG90eXBlO2EuUGQ9Yi5wcm90b3R5cGU7YS5wcm90b3R5cGU9bmV3IGM7YS5wcm90b3R5cGUuY29uc3RydWN0b3I9YTthLkxkPWZ1bmN0aW9uKGEsYyxmKXtyZXR1cm4gYi5wcm90b3R5cGVbY10uYXBwbHkoYSxBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMikpfX07LyoKCiBDb3B5cmlnaHQgMjAxNSBHb29nbGUgSW5jLgoKIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoKIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoqLwpmdW5jdGlvbiBiYSgpe307ZnVuY3Rpb24gY2EoYSl7dmFyIGI9Y29uc29sZVthXTtiP2IuYmluZHx8KGNvbnNvbGVbYV09ZnVuY3Rpb24oKXtiLmFwcGx5KGNvbnNvbGUsYXJndW1lbnRzKX0pOmNvbnNvbGVbYV09ZnVuY3Rpb24oKXt9fWNhKCJlcnJvciIpO2NhKCJ3YXJuIik7Y2EoImluZm8iKTtjYSgibG9nIik7Y2EoImRlYnVnIik7dmFyIHU9e3FhOmZ1bmN0aW9uKGEpe3UuSGJbYV09e3FhOnUud2MoKSxlbmQ6TmFOfX0sZW5kOmZ1bmN0aW9uKGEpe2lmKGE9dS5IYlthXSlhLmVuZD11LndjKCl9LE1kOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD11LmdldChhKSxlPXUuZ2V0KGIpO2lmKCFkfHwhZSlyZXR1cm4gTmFOO2QtPWU7Zm9yKGU9MjtlPGFyZ3VtZW50cy5sZW5ndGg7KytlKXt2YXIgZj11LmdldChhcmd1bWVudHNbZV0pO2lmKCFmKXJldHVybiBOYU47ZC09Zn1yZXR1cm4gZH0sZ2V0OmZ1bmN0aW9uKGEpe3JldHVybihhPXUuSGJbYV0pJiZhLmVuZD9hLmVuZC1hLnFhOk5hTn19O3Uud2M9d2luZG93LnBlcmZvcm1hbmNlJiZ3aW5kb3cucGVyZm9ybWFuY2Uubm93P3dpbmRvdy5wZXJmb3JtYW5jZS5ub3cuYmluZCh3aW5kb3cucGVyZm9ybWFuY2UpOkRhdGUubm93O3UuSGI9e307LyoKCiBDb3B5cmlnaHQgMjAwNC1wcmVzZW50IEZhY2Vib29rLiBBbGwgUmlnaHRzIFJlc2VydmVkLgoKKi8KZnVuY3Rpb24gZmEoYSxiLGMsZCxlLGYsZyxoKXt0aGlzLmlkPWE7dGhpcy5iYW5kd2lkdGg9Ynx8MDt0aGlzLmxhbmc9Y3x8InVua25vd24iO3RoaXMuc3RyZWFtSW5mb0lEPWQ7dGhpcy5taW1lVHlwZT1lfHwiIjt0aGlzLmNvZGVjcz1mfHwiIjt0aGlzLmNoYW5uZWxzPWd8fG51bGw7dGhpcy5zYW1wbGluZ1JhdGU9aHx8bnVsbDt0aGlzLmFjdGl2ZT0hMX1xKCJzaGFrYS5wbGF5ZXIuQXVkaW9UcmFjay5jb21wYXJlIixmdW5jdGlvbihhLGIpe3JldHVybiBhLmxhbmc8Yi5sYW5nPy0xOmEubGFuZz5iLmxhbmc/MTphLmJhbmR3aWR0aDxiLmJhbmR3aWR0aD8tMTphLmJhbmR3aWR0aD5iLmJhbmR3aWR0aD8xOjB9KTt2YXIgZ2E9VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoInNoYWthX2RlZmF1bHRfcmVxdWVzdF90aW1lb3V0X3RpbWVzY2FsZSIsMUUzKSxoYT1NYXRoLmZsb29yKFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJzaGFrYV9kZWZhdWx0X2FqYXhfcmVxdWVzdF90aW1lb3V0X21zIiwwKS9nYSksaWE9TWF0aC5mbG9vcihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigic2hha2FfZGVmYXVsdF9hamF4X3JlcXVlc3RfdGltZW91dF9tcyIsMCkvZ2EpLGphPU1hdGguZmxvb3IoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoInNoYWthX2RlZmF1bHRfYWpheF9yZXF1ZXN0X3RpbWVvdXRfbXMiLDApL2dhKTtmdW5jdGlvbiBrYSgpe3RoaXMubWluQmFuZHdpZHRoPXRoaXMubWF4QmFuZHdpZHRoPXRoaXMubWF4V2lkdGg9dGhpcy5taW5IZWlnaHQ9dGhpcy5tYXhIZWlnaHQ9bnVsbH1rYS5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYT1uZXcga2E7YS5tYXhIZWlnaHQ9dGhpcy5tYXhIZWlnaHQ7YS5taW5IZWlnaHQ9dGhpcy5taW5IZWlnaHQ7YS5tYXhXaWR0aD10aGlzLm1heFdpZHRoO2EubWF4QmFuZHdpZHRoPXRoaXMubWF4QmFuZHdpZHRoO2EubWluQmFuZHdpZHRoPXRoaXMubWluQmFuZHdpZHRoO3JldHVybiBhfTtmdW5jdGlvbiBsYSgpe3RoaXMuZm9udFNpemU9IjEwMCUiO3RoaXMuZm9udENvbG9yPW1hO3RoaXMuZm9udE9wYWNpdHk9b2E7dGhpcy5iYWNrZ3JvdW5kQ29sb3I9cGE7dGhpcy5iYWNrZ3JvdW5kT3BhY2l0eT1vYTt0aGlzLmZvbnRFZGdlPXFhfXEoInNoYWthLnBsYXllci5UZXh0U3R5bGUiLGxhKTsKZnVuY3Rpb24gcmEoYSl7dmFyIGI9W107Yi5wdXNoKCJmb250LXNpemU6ICIrYS5mb250U2l6ZSk7Yi5wdXNoKCJjb2xvcjogIitzYShhLmZvbnRDb2xvcixhLmZvbnRPcGFjaXR5KSk7Yi5wdXNoKCJiYWNrZ3JvdW5kLWNvbG9yOiAiK3NhKGEuYmFja2dyb3VuZENvbG9yLGEuYmFja2dyb3VuZE9wYWNpdHkpKTtmb3IodmFyIGM9W10sZD0wO2Q8YS5mb250RWRnZS5sZW5ndGg7KytkKXt2YXIgZT1hLmZvbnRFZGdlW2RdLnNsaWNlKDMsNik7Yy5wdXNoKHNhKGEuZm9udEVkZ2VbZF0uc2xpY2UoMCwzKSxhLmZvbnRPcGFjaXR5KSsiICIrZS5qb2luKCJweCAiKSsicHgiKX1iLnB1c2goInRleHQtc2hhZG93OiAiK2Muam9pbigiLCIpKTtyZXR1cm4gYi5qb2luKCI7ICIpfWZ1bmN0aW9uIHNhKGEsYil7cmV0dXJuInJnYmEoIithLmNvbmNhdChiKS5qb2luKCIsIikrIikifXZhciBtYT1bMjU1LDI1NSwyNTVdLHBhPVswLDAsMF07CmxhLlN0YW5kYXJkQ29sb3JzPXtXSElURTptYSxCTEFDSzpwYSxSRUQ6WzI1NSwwLDBdLEdSRUVOOlswLDI1NSwwXSxCTFVFOlswLDAsMjU1XSxZRUxMT1c6WzI1NSwyNTUsMF0sTUFHRU5UQTpbMjU1LDAsMjU1XSxDWUFOOlswLDI1NSwyNTVdfTt2YXIgb2E9MTtsYS5TdGFuZGFyZE9wYWNpdGllcz17T1BBUVVFOm9hLFNFTUlfSElHSDouNzUsU0VNSV9MT1c6LjI1LFRSQU5TUEFSRU5UOjB9O3ZhciBxYT1bXTsKbGEuRWRnZVN0eWxlcz17Tk9ORTpxYSxSQUlTRUQ6W1szNCwzNCwzNCwxLDEsMF0sWzM0LDM0LDM0LDIsMiwwXSxbMzQsMzQsMzQsMywzLDBdXSxERVBSRVNTRUQ6W1syMDQsMjA0LDIwNCwxLDEsMF0sWzIwNCwyMDQsMjA0LDAsMSwwXSxbMzQsMzQsMzQsLTEsLTEsMF0sWzM0LDM0LDM0LDAsLTEsMF1dLFVOSUZPUk06W1szNCwzNCwzNCwwLDAsNF0sWzM0LDM0LDM0LDAsMCw0XSxbMzQsMzQsMzQsMCwwLDRdLFszNCwzNCwzNCwwLDAsNF1dLERST1A6W1szNCwzNCwzNCwyLDIsM10sWzM0LDM0LDM0LDIsMiw0XSxbMzQsMzQsMzQsMiwyLDVdXX07ZnVuY3Rpb24gdGEoYSxiKXt0aGlzLmlkPWE7dGhpcy5sYW5nPWJ8fCJ1bmtub3duIjt0aGlzLmVuYWJsZWQ9dGhpcy5hY3RpdmU9ITF9cSgic2hha2EucGxheWVyLlRleHRUcmFjay5jb21wYXJlIixmdW5jdGlvbihhLGIpe3JldHVybiBhLmxhbmc8Yi5sYW5nPy0xOmEubGFuZz5iLmxhbmc/MTowfSk7ZnVuY3Rpb24gdWEoYSxiLGMsZCxlLGYsZyxoLGssbCxtLHAsdCl7dGhpcy5pZD1hO3RoaXMuYmFuZHdpZHRoPWJ8fDA7dGhpcy53aWR0aD1jfHwwO3RoaXMuaGVpZ2h0PWR8fDA7dGhpcy5zdHJlYW1JbmZvSUQ9ZTt0aGlzLmZiUXVhbGl0eUxhYmVsPWY7dGhpcy5mYlF1YWxpdHlDbGFzcz1nO2E9W107aCYmKGE9aC5zcGxpdCgiLCIpKTt0aGlzLmZyYW1lUmF0ZT1rfHwiIjt0aGlzLm1pbWVUeXBlPWx8fCIiO3RoaXMuY29kZWNzPW18fCIiO3RoaXMuaXNIVlE9LTE8YS5pbmRleE9mKCJodnEiKTt0aGlzLmlzSW5saW5lSFZRPS0xPGEuaW5kZXhPZigiaHZxX3d3d19pbmxpbmUiKTt0aGlzLmF2b2lkT25Qb29yQ29ubmVjdGlvbj0tMTxhLmluZGV4T2YoImF2b2lkX29uX3Bvb3JfY29ubmVjdGlvbiIpO3RoaXMuYWN0aXZlPSExO3RoaXMucGxheWJhY2tSZXNvbHV0aW9uTW9zPXB8fG51bGw7dGhpcy5wbGF5YmFja1Jlc29sdXRpb25Nb3NDb25maWRlbmNlTGV2ZWw9dHx8bnVsbH0KZnVuY3Rpb24gdmEoYSxiKXt2YXIgYz1hLndpZHRoKmEuaGVpZ2h0LGQ9Yi53aWR0aCpiLmhlaWdodDtyZXR1cm4gYzxkPy0xOmM+ZD8xOmEuYmFuZHdpZHRoPGIuYmFuZHdpZHRoPy0xOmEuYmFuZHdpZHRoPmIuYmFuZHdpZHRoPzE6MH1xKCJzaGFrYS5wbGF5ZXIuVmlkZW9UcmFjay5jb21wYXJlIix2YSk7ZnVuY3Rpb24gd2EoYSl7Zm9yKHZhciBiPXhhLGM9W10sZD0wO2Q8YS5sZW5ndGg7KytkKXtmb3IodmFyIGU9ITEsZj0wO2Y8Yy5sZW5ndGgmJiEoZT1iP2IoYVtkXSxjW2ZdKTphW2RdPT09Y1tmXSk7KytmKTtlfHxjLnB1c2goYVtkXSl9cmV0dXJuIGN9O2Z1bmN0aW9uIHlhKCl7cmV0dXJuIERhdGUubm93KCkremF9dmFyIHphPTA7ZnVuY3Rpb24gQmEoYSl7dGhpcy5iPWE7dGhpcy5jPTA9PUNhO3RoaXMuYT0wfXZhciBDYT0xO2Z1bmN0aW9uIERhKGEpe3JldHVybiBhLmE8YS5iLmJ5dGVMZW5ndGh9ZnVuY3Rpb24gRWEoYSl7dmFyIGI9YS5iLmdldFVpbnQ4KGEuYSk7YS5hKz0xO3JldHVybiBifWZ1bmN0aW9uIHYoYSl7dmFyIGI9YS5iLmdldFVpbnQzMihhLmEsYS5jKTthLmErPTQ7cmV0dXJuIGJ9ZnVuY3Rpb24gRmEoYSl7dmFyIGIsYzthLmM/KGI9YS5iLmdldFVpbnQzMihhLmEsITApLGM9YS5iLmdldFVpbnQzMihhLmErNCwhMCkpOihjPWEuYi5nZXRVaW50MzIoYS5hLCExKSxiPWEuYi5nZXRVaW50MzIoYS5hKzQsITEpKTtpZigyMDk3MTUxPGMpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkRhdGFWaWV3UmVhZGVyOiBPdmVyZmxvdyByZWFkaW5nIDY0LWJpdCB2YWx1ZS4iKTthLmErPTg7cmV0dXJuIGMqTWF0aC5wb3coMiwzMikrYn0KZnVuY3Rpb24gR2EoYSl7aWYoYS5hKzE2PmEuYi5ieXRlTGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKCJEYXRhVmlld1JlYWRlcjogUmVhZCBwYXN0IGVuZCBvZiBEYXRhVmlldy4iKTt2YXIgYj1uZXcgVWludDhBcnJheShhLmIuYnVmZmVyLGEuYSwxNik7YS5hKz0xNjtyZXR1cm4gYn1mdW5jdGlvbiBIYShhLGIpe2lmKGEuYStiPmEuYi5ieXRlTGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKCJEYXRhVmlld1JlYWRlcjogU2tpcCBwYXN0IGVuZCBvZiBEYXRhVmlldy4iKTthLmErPWJ9O2Z1bmN0aW9uIElhKGEpe3RoaXMuYj1hO3RoaXMuYT1uZXcgQmEoYSk7SmF8fChKYT1bbmV3IFVpbnQ4QXJyYXkoWzI1NV0pLG5ldyBVaW50OEFycmF5KFsxMjcsMjU1XSksbmV3IFVpbnQ4QXJyYXkoWzYzLDI1NSwyNTVdKSxuZXcgVWludDhBcnJheShbMzEsMjU1LDI1NSwyNTVdKSxuZXcgVWludDhBcnJheShbMTUsMjU1LDI1NSwyNTUsMjU1XSksbmV3IFVpbnQ4QXJyYXkoWzcsMjU1LDI1NSwyNTUsMjU1LDI1NV0pLG5ldyBVaW50OEFycmF5KFszLDI1NSwyNTUsMjU1LDI1NSwyNTUsMjU1XSksbmV3IFVpbnQ4QXJyYXkoWzEsMjU1LDI1NSwyNTUsMjU1LDI1NSwyNTUsMjU1XSldKX12YXIgSmE7CmZ1bmN0aW9uIEthKGEpe3ZhciBiO2I9TGEoYSk7aWYoNzxiLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiRWJtbFBhcnNlcjogRUJNTCBJRCBtdXN0IGJlIGF0IG1vc3QgNyBieXRlcy4iKTtmb3IodmFyIGM9MCxkPTA7ZDxiLmxlbmd0aDtkKyspYz0yNTYqYytiW2RdO2I9YztjPUxhKGEpO2E6e2ZvcihkPTA7ZDxKYS5sZW5ndGg7ZCsrKWlmKE1hKGMsSmFbZF0pKXtkPSEwO2JyZWFrIGF9ZD0hMX1pZihkKWM9YS5iLmJ5dGVMZW5ndGgtYS5hLmE7ZWxzZXtpZig4PT1jLmxlbmd0aCYmY1sxXSYyMjQpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkVibWxQYXJzZXI6IFZhcmlhYmxlIHNpemVkIGludGVnZXIgdmFsdWUgbXVzdCBiZSBhdCBtb3N0IDUzIGJpdHMuIik7Zm9yKHZhciBkPWNbMF0mKDE8PDgtYy5sZW5ndGgpLTEsZT0xO2U8Yy5sZW5ndGg7ZSsrKWQ9MjU2KmQrY1tlXTtjPWR9Yz1hLmEuYStjPD1hLmIuYnl0ZUxlbmd0aD9jOmEuYi5ieXRlTGVuZ3RoLWEuYS5hO2Q9bmV3IERhdGFWaWV3KGEuYi5idWZmZXIsCmEuYi5ieXRlT2Zmc2V0K2EuYS5hLGMpO0hhKGEuYSxjKTtyZXR1cm4gbmV3IE5hKGIsZCl9ZnVuY3Rpb24gTGEoYSl7dmFyIGI9RWEoYS5hKSxjO2ZvcihjPTE7OD49YyYmIShiJjE8PDgtYyk7YysrKTtpZig4PGMpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkVibWxQYXJzZXI6IFZhcmlhYmxlIHNpemVkIGludGVnZXIgbXVzdCBmaXQgd2l0aGluIDggYnl0ZXMuIik7dmFyIGQ9bmV3IFVpbnQ4QXJyYXkoYyk7ZFswXT1iO2ZvcihiPTE7YjxjO2IrKylkW2JdPUVhKGEuYSk7cmV0dXJuIGR9ZnVuY3Rpb24gTmEoYSxiKXt0aGlzLmlkPWE7dGhpcy5hPWJ9CmZ1bmN0aW9uIE9hKGEpe2lmKDg8YS5hLmJ5dGVMZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkVibWxFbGVtZW50OiBVbnNpZ25lZCBpbnRlZ2VyIGhhcyB0b28gbWFueSBieXRlcy4iKTtpZig4PT1hLmEuYnl0ZUxlbmd0aCYmYS5hLmdldFVpbnQ4KDApJjIyNCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiRWJtbFBhcnNlcjogVW5zaWduZWQgaW50ZWdlciBtdXN0IGJlIGF0IG1vc3QgNTMgYml0cy4iKTtmb3IodmFyIGI9MCxjPTA7YzxhLmEuYnl0ZUxlbmd0aDtjKyspdmFyIGQ9YS5hLmdldFVpbnQ4KGMpLGI9MjU2KmIrZDtyZXR1cm4gYn07dmFyIFBhPXsib3V0cHV0LXJlc3RyaWN0ZWQiOiJUaGUgcmVxdWlyZWQgb3V0cHV0IHByb3RlY3Rpb24gaXMgbm90IGF2YWlsYWJsZS4iLCJvdXRwdXQtbm90LWFsbG93ZWQiOiJUaGUgcmVxdWlyZWQgb3V0cHV0IHByb3RlY3Rpb24gaXMgbm90IGF2YWlsYWJsZS4iLGV4cGlyZWQ6IlRoZSBkZWNyeXB0aW9uIGtleSBoYXMgZXhwaXJlZC4iLCJpbnRlcm5hbC1lcnJvciI6IlRoZSBrZXkgc3lzdGVtIGhhcyBlbmNvdW50ZXJlZCBhbiB1bnNwZWNpZmllZCBlcnJvci4ifTtmdW5jdGlvbiB4KGEpe3RoaXMuYj1NYXRoLmV4cChNYXRoLmxvZyguNSkvYSk7dGhpcy55Yj10aGlzLiRhPXRoaXMuYT0wfXEoInNoYWthLnV0aWwuRVdNQSIseCk7eC5wcm90b3R5cGUuc2FtcGxlPWZ1bmN0aW9uKGEsYil7dmFyIGM9TWF0aC5wb3codGhpcy5iLGEpO3RoaXMuYT1iKigxLWMpK2MqdGhpcy5hO3RoaXMuJGErPWE7dGhpcy55Yis9MX07eC5wcm90b3R5cGUuc2FtcGxlPXgucHJvdG90eXBlLnNhbXBsZTt4LnByb3RvdHlwZS5jPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGF9O3gucHJvdG90eXBlLmdldFRvdGFsV2VpZ2h0PXgucHJvdG90eXBlLmM7eC5wcm90b3R5cGUuZ2V0RXN0aW1hdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLygxLU1hdGgucG93KHRoaXMuYix0aGlzLiRhKSl9O3gucHJvdG90eXBlLmdldEVzdGltYXRlPXgucHJvdG90eXBlLmdldEVzdGltYXRlO3gucHJvdG90eXBlLmY9ZnVuY3Rpb24oKXt0aGlzLnliPXRoaXMuJGE9dGhpcy5hPTB9Owp4LnByb3RvdHlwZS5yZXNldD14LnByb3RvdHlwZS5mO3ZhciBRYT13aW5kb3cuQ3VzdG9tRXZlbnQ7ImZ1bmN0aW9uIiE9PXR5cGVvZiBRYSYmKFFhPWZ1bmN0aW9uKGEsYil7Yj1ifHx7YnViYmxlczohMSxjYW5jZWxhYmxlOiExLGRldGFpbDp2b2lkIDB9O3ZhciBjPWRvY3VtZW50LmNyZWF0ZUV2ZW50KCJDdXN0b21FdmVudCIpO2MuaW5pdEN1c3RvbUV2ZW50KGEsYi5idWJibGVzLGIuY2FuY2VsYWJsZSxiLmRldGFpbCk7cmV0dXJuIGN9LFFhLnByb3RvdHlwZT13aW5kb3cuRXZlbnQucHJvdG90eXBlKTtmdW5jdGlvbiB5KGEpe3ZhciBiPW5ldyBRYShhLnR5cGUse2RldGFpbDphLmRldGFpbCxidWJibGVzOiEhYS5idWJibGVzfSksYztmb3IoYyBpbiBhKWMgaW4gYnx8KGJbY109YVtjXSk7cmV0dXJuIGJ9ZnVuY3Rpb24gQShhKXtyZXR1cm4gbmV3IFFhKCJlcnJvciIse2RldGFpbDphLGJ1YmJsZXM6ITB9KX07ZnVuY3Rpb24gUmEoYSxiLGMpe1NhKGIpO1NhKGMpO3JldHVybiBjPT1ifHxhPj1UYSYmYz09Yi5zcGxpdCgiLSIpWzBdfHxhPj1VYSYmYy5zcGxpdCgiLSIpWzBdPT1iLnNwbGl0KCItIilbMF0/ITA6ITF9dmFyIFRhPTEsVWE9MjtmdW5jdGlvbiBTYShhKXthPWEudG9Mb3dlckNhc2UoKS5zcGxpdCgiLSIpO3ZhciBiPVZhW2FbMF1dO2ImJihhWzBdPWIpO3JldHVybiBhLmpvaW4oIi0iKX0KdmFyIFZhPXthYXI6ImFhIixhYms6ImFiIixhZnI6ImFmIixha2E6ImFrIixhbGI6InNxIixhbWg6ImFtIixhcmE6ImFyIixhcmc6ImFuIixhcm06Imh5Iixhc206ImFzIixhdmE6ImF2IixhdmU6ImFlIixheW06ImF5IixhemU6ImF6IixiYWs6ImJhIixiYW06ImJtIixiYXE6ImV1IixiZWw6ImJlIixiZW46ImJuIixiaWg6ImJoIixiaXM6ImJpIixib2Q6ImJvIixib3M6ImJzIixicmU6ImJyIixidWw6ImJnIixidXI6Im15IixjYXQ6ImNhIixjZXM6ImNzIixjaGE6ImNoIixjaGU6ImNlIixjaGk6InpoIixjaHU6ImN1IixjaHY6ImN2Iixjb3I6Imt3Iixjb3M6ImNvIixjcmU6ImNyIixjeW06ImN5IixjemU6ImNzIixkYW46ImRhIixkZXU6ImRlIixkaXY6ImR2IixkdXQ6Im5sIixkem86ImR6IixlbGw6ImVsIixlbmc6ImVuIixlcG86ImVvIixlc3Q6ImV0IixldXM6ImV1Iixld2U6ImVlIixmYW86ImZvIixmYXM6ImZhIixmaWo6ImZqIixmaW46ImZpIixmcmE6ImZyIixmcmU6ImZyIiwKZnJ5OiJmeSIsZnVsOiJmZiIsZ2VvOiJrYSIsZ2VyOiJkZSIsZ2xhOiJnZCIsZ2xlOiJnYSIsZ2xnOiJnbCIsZ2x2OiJndiIsZ3JlOiJlbCIsZ3JuOiJnbiIsZ3VqOiJndSIsaGF0OiJodCIsaGF1OiJoYSIsaGViOiJoZSIsaGVyOiJoeiIsaGluOiJoaSIsaG1vOiJobyIsaHJ2OiJociIsaHVuOiJodSIsaHllOiJoeSIsaWJvOiJpZyIsaWNlOiJpcyIsaWRvOiJpbyIsaWlpOiJpaSIsaWt1OiJpdSIsaWxlOiJpZSIsaW5hOiJpYSIsaW5kOiJpZCIsaXBrOiJpayIsaXNsOiJpcyIsaXRhOiJpdCIsamF2OiJqdiIsanBuOiJqYSIsa2FsOiJrbCIsa2FuOiJrbiIsa2FzOiJrcyIsa2F0OiJrYSIsa2F1OiJrciIsa2F6OiJrayIsa2htOiJrbSIsa2lrOiJraSIsa2luOiJydyIsa2lyOiJreSIsa29tOiJrdiIsa29uOiJrZyIsa29yOiJrbyIsa3VhOiJraiIsa3VyOiJrdSIsbGFvOiJsbyIsbGF0OiJsYSIsbGF2OiJsdiIsbGltOiJsaSIsbGluOiJsbiIsbGl0OiJsdCIsbHR6OiJsYiIsbHViOiJsdSIsCmx1ZzoibGciLG1hYzoibWsiLG1haDoibWgiLG1hbDoibWwiLG1hbzoibWkiLG1hcjoibXIiLG1heToibXMiLG1rZDoibWsiLG1sZzoibWciLG1sdDoibXQiLG1vbjoibW4iLG1yaToibWkiLG1zYToibXMiLG15YToibXkiLG5hdToibmEiLG5hdjoibnYiLG5ibDoibnIiLG5kZToibmQiLG5kbzoibmciLG5lcDoibmUiLG5sZDoibmwiLG5ubzoibm4iLG5vYjoibmIiLG5vcjoibm8iLG55YToibnkiLG9jaToib2MiLG9qaToib2oiLG9yaToib3IiLG9ybToib20iLG9zczoib3MiLHBhbjoicGEiLHBlcjoiZmEiLHBsaToicGkiLHBvbDoicGwiLHBvcjoicHQiLHB1czoicHMiLHF1ZToicXUiLHJvaDoicm0iLHJvbjoicm8iLHJ1bToicm8iLHJ1bjoicm4iLHJ1czoicnUiLHNhZzoic2ciLHNhbjoic2EiLHNpbjoic2kiLHNsazoic2siLHNsbzoic2siLHNsdjoic2wiLHNtZToic2UiLHNtbzoic20iLHNuYToic24iLHNuZDoic2QiLHNvbToic28iLHNvdDoic3QiLHNwYToiZXMiLHNxaToic3EiLApzcmQ6InNjIixzcnA6InNyIixzc3c6InNzIixzdW46InN1Iixzd2E6InN3Iixzd2U6InN2Iix0YWg6InR5Iix0YW06InRhIix0YXQ6InR0Iix0ZWw6InRlIix0Z2s6InRnIix0Z2w6InRsIix0aGE6InRoIix0aWI6ImJvIix0aXI6InRpIix0b246InRvIix0c246InRuIix0c286InRzIix0dWs6InRrIix0dXI6InRyIix0d2k6InR3Iix1aWc6InVnIix1a3I6InVrIix1cmQ6InVyIix1emI6InV6Iix2ZW46InZlIix2aWU6InZpIix2b2w6InZvIix3ZWw6ImN5Iix3bG46IndhIix3b2w6IndvIix4aG86InhoIix5aWQ6InlpIix5b3I6InlvIix6aGE6InphIix6aG86InpoIix6dWw6Inp1In07ZnVuY3Rpb24gV2EoYSl7cmV0dXJuIE9iamVjdC5rZXlzKGEpLm1hcChmdW5jdGlvbihiKXtyZXR1cm4gYVtiXX0pfWZ1bmN0aW9uIEIoYSxiKXtyZXR1cm4gWGEoYSxiLCJib29sZWFuIil9ZnVuY3Rpb24gQyhhLGIsYyl7YT1YYShhLGIsIm51bWJlciIpO2lmKG51bGw9PWEpcmV0dXJuIG51bGw7aWYoaXNOYU4oYSl8fGE9PU51bWJlci5ORUdBVElWRV9JTkZJTklUWXx8YT09TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZKXRocm93IG5ldyBSYW5nZUVycm9yKCInIitiKyInIG11c3QgYmUgZmluaXRlLiIpO2lmKG51bGwhPWMmJmE8Yyl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiJyIrYisiJyBtdXN0IGJlID49ICIrYyk7cmV0dXJuIGF9ZnVuY3Rpb24gWWEoYSxiKXtyZXR1cm4gWGEoYSxiLCJzdHJpbmciKX0KZnVuY3Rpb24gWGEoYSxiLGMpe2E9YVtiXTtpZihudWxsPT1hKXJldHVybiBudWxsO2lmKHR5cGVvZiBhIT09Yyl0aHJvdyBuZXcgVHlwZUVycm9yKCInIitiKyInIG11c3QgYmUgYSAiK2MrIi4iKTtyZXR1cm4gYX1mdW5jdGlvbiBaYShhLGIsYyl7YT1hW2JdO2lmKG51bGw9PWEpcmV0dXJuIG51bGw7aWYoIShhIGluc3RhbmNlb2YgYykpdGhyb3cgbmV3IFR5cGVFcnJvcigiJyIrYisiJyBtdXN0IGJlIGFuIGluc3RhbmNlIG9mICIrYy5uYW1lKyIuIik7cmV0dXJuIGF9O2Z1bmN0aW9uIEQoKXt0aGlzLmE9e319RC5wcm90b3R5cGUucHVzaD1mdW5jdGlvbihhLGIpe3RoaXMuYS5oYXNPd25Qcm9wZXJ0eShhKT90aGlzLmFbYV0ucHVzaChiKTp0aGlzLmFbYV09W2JdfTtELnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24oYSxiKXt0aGlzLmFbYV09Yn07RC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGEpe3JldHVybihhPXRoaXMuYVthXSk/YS5zbGljZSgpOm51bGx9O2Z1bmN0aW9uICRhKGEpe3ZhciBiPVtdLGM7Zm9yKGMgaW4gYS5hKWIucHVzaC5hcHBseShiLGEuYVtjXSk7cmV0dXJuIGJ9RC5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5hW2FdO2lmKGMpZm9yKHZhciBkPTA7ZDxjLmxlbmd0aDsrK2QpY1tkXT09YiYmKGMuc3BsaWNlKGQsMSksLS1kKX07ZnVuY3Rpb24gYWIoYSl7dmFyIGI9W10sYztmb3IoYyBpbiBhLmEpYi5wdXNoKGMpO3JldHVybiBifTtmdW5jdGlvbiBiYigpe3RoaXMuYT1uZXcgRH1iYi5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe2RiKHRoaXMpO3RoaXMuYT1udWxsfTtmdW5jdGlvbiBFKGEsYixjLGQpe2I9bmV3IGViKGIsYyxkKTthLmEucHVzaChjLGIpfWJiLnByb3RvdHlwZS5hYj1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz10aGlzLmEuZ2V0KGIpfHxbXSxkPTA7ZDxjLmxlbmd0aDsrK2Qpe3ZhciBlPWNbZF07ZS50YXJnZXQ9PWEmJihlLmFiKCksdGhpcy5hLnJlbW92ZShiLGUpKX19O2Z1bmN0aW9uIGRiKGEpe2Zvcih2YXIgYj0kYShhLmEpLGM9MDtjPGIubGVuZ3RoOysrYyliW2NdLmFiKCk7YS5hLmE9e319ZnVuY3Rpb24gZWIoYSxiLGMpe3RoaXMudGFyZ2V0PWE7dGhpcy50eXBlPWI7dGhpcy5hPWM7dGhpcy50YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihiLGMsITEpfQplYi5wcm90b3R5cGUuYWI9ZnVuY3Rpb24oKXt0aGlzLnRhcmdldCYmKHRoaXMudGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIodGhpcy50eXBlLHRoaXMuYSwhMSksdGhpcy5hPXRoaXMudGFyZ2V0PW51bGwpfTtmdW5jdGlvbiBGKGEpe3RoaXMuRWI9bmV3IEQ7dGhpcy5KYT1hfXEoInNoYWthLnV0aWwuRmFrZUV2ZW50VGFyZ2V0IixGKTtuPUYucHJvdG90eXBlO24uYWRkRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbihhLGIpe3RoaXMuRWIucHVzaChhLGIpfTtuLnJlbW92ZUV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24oYSxiKXt0aGlzLkViLnJlbW92ZShhLGIpfTsKbi5kaXNwYXRjaEV2ZW50PWZ1bmN0aW9uKGEpe2EuaGFzT3duUHJvcGVydHkoInNyY0VsZW1lbnQiKXx8KGRlbGV0ZSBhLnNyY0VsZW1lbnQsT2JqZWN0LmRlZmluZVByb3BlcnR5KGEsInNyY0VsZW1lbnQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH19KSk7aWYoYS5oYXNPd25Qcm9wZXJ0eSgidGFyZ2V0IikpYS50YXJnZXQ9dGhpcztlbHNle2RlbGV0ZSBhLnRhcmdldDt2YXIgYj10aGlzO09iamVjdC5kZWZpbmVQcm9wZXJ0eShhLCJ0YXJnZXQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYn0sc2V0OmZ1bmN0aW9uKGEpe2I9YX19KX1pZihhLmhhc093blByb3BlcnR5KCJjdXJyZW50VGFyZ2V0IikpYS5jdXJyZW50VGFyZ2V0PW51bGw7ZWxzZXtkZWxldGUgYS5jdXJyZW50VGFyZ2V0O3ZhciBjPW51bGw7T2JqZWN0LmRlZmluZVByb3BlcnR5KGEsImN1cnJlbnRUYXJnZXQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY30sc2V0OmZ1bmN0aW9uKGEpe2M9YX19KX1yZXR1cm4gZmIodGhpcywKYSl9O24ub2M9ITE7bi5MYT1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmRpc3BhdGNoRXZlbnQoeSh7dHlwZToiZGVidWcvZGFzaFBsYXllckV2ZW50IixidWJibGVzOiEwLGRldGFpbDp7dHlwZTphLGV2ZW50OmJ9fSkpfTtmdW5jdGlvbiBmYihhLGIpe2IuY3VycmVudFRhcmdldD1hO2Zvcih2YXIgYz1hLkViLmdldChiLnR5cGUpfHxbXSxkPTA7ZDxjLmxlbmd0aDsrK2Qpe3ZhciBlPWNbZF07dHJ5e2UuaGFuZGxlRXZlbnQ/ZS5oYW5kbGVFdmVudChiKTplLmNhbGwoYSxiKX1jYXRjaChmKXt9fWEuSmEmJmIuYnViYmxlcyYmZmIoYS5KYSxiKTtyZXR1cm4gYi5kZWZhdWx0UHJldmVudGVkfTtmdW5jdGlvbiBHKGEpe0YuY2FsbCh0aGlzLG51bGwpO3RoaXMuYT17b2I6e1ZhOm5ldyB4KFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJmYXN0X21vdmluZ19hdmVyYWdlX2hhbGZfbGlmZSIsMykpLHhiOm5ldyB4KFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJzbG93X21vdmluZ19hdmVyYWdlX2hhbGZfbGlmZSIsMTApKX0sY2I6e1ZhOm5ldyB4KFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJhZ2dyZXNzaXZlX2Zhc3RfbW92aW5nX2F2ZXJhZ2VfaGFsZl9saWZlIiwxRS00KSkseGI6bmV3IHgoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoImFnZ3Jlc3NpdmVfc2xvd19tb3ZpbmdfYXZlcmFnZV9oYWxmX2xpZmUiLDkuMjMzNTA4NzkxNzc0NSkpfX07dGhpcy5oPWF8fDVFNTt0aGlzLmo9VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoIm1pbl9zYW1wbGVfY291bnQiLAoxRTQpO3RoaXMuYj0wO3RoaXMuYz1bXTt0aGlzLmk9VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoIm1heF9yZWNlbnRfYmFuZHdpZHRoX3NhbXBsZXMiLDApfXIoRyxGKTtxKCJzaGFrYS51dGlsLkVXTUFCYW5kd2lkdGhFc3RpbWF0b3IiLEcpO0cucHJvdG90eXBlLnNob3VsZEV4Y2x1ZGVTYW1wbGU9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJjaGFuZ2VfYWJyX2F1ZGlvX2V4Y2x1c2lvbl9sb2dpYyIsITApPyFiOjY1NTM2PmF9OwpHLnByb3RvdHlwZS5zYW1wbGU9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyl7aWYodGhpcy5zaG91bGRFeGNsdWRlU2FtcGxlKGIsYykpZSYmZS5zZXRFdmVudCgidW5zYW1wbGVkIikuc2V0UmVhc29uKCJhdWRpbyIpLmxvZygpO2Vsc2V7aWYoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJ1c2VfcmVzb3VyY2VfdGltaW5nX2VudHJ5X2Zvcl9iYW5kd2lkdGgiLCEwKSl7aWYoIWQpe2UmJmUuc2V0RXZlbnQoInVuc2FtcGxlZCIpLnNldFJlYXNvbigicmVzb3VyY2VfdGltaW5nX2VudHJ5X21pc3NpbmciKS5sb2coKTtyZXR1cm59YT1kLnRpbWVUb0xhc3RCeXRlO2lmKDA+YSl7ZSYmZS5zZXRFdmVudCgidW5zYW1wbGVkIikuc2V0UmVhc29uKCJyZXNvdXJjZV90aW1pbmdfZW50cnlfaW52YWxpZCIpLmxvZygpO3JldHVybn19YT1NYXRoLm1heChhLDUwKTtjPTFFMypVbml0Q29uc3RhbnRzLkJJVFNfSU5fQllURSpiL2E7dmFyIGg9YS8xRTM7dGhpcy5hLmNiLlZhLnNhbXBsZShoLApjLGQpO3RoaXMuYS5jYi54Yi5zYW1wbGUoaCxjLGQpO3RoaXMuYS5vYi5WYS5zYW1wbGUoaCxjLGQpO3RoaXMuYS5vYi54Yi5zYW1wbGUoaCxjLGQpO2d8fHRoaXMuZGlzcGF0Y2hFdmVudCh5KHt0eXBlOiJiYW5kd2lkdGgifSkpO3RoaXMuYj1EYXRlLm5vdygpO2Q9cGFyc2VJbnQoYSwxMCk7aWYoMDx0aGlzLmkpZm9yKHRoaXMuYy5wdXNoKFtiLGRdKTt0aGlzLmMubGVuZ3RoPnRoaXMuaTspdGhpcy5jLnNoaWZ0KCk7ZSYmZS5zZXRFdmVudCgic2FtcGxlZCIpLnNldEJ5dGVzKGIpLnNldERlbGF5TXMoZCkubG9nKCk7ZiYmZi5nZXRFdmVudExvZ2dlcigiYmFuZHdpZHRoX3NhbXBsZWQiKS5zZXRMZW5ndGgoYikuc2V0Q2xpZW50VGltZUJlZ2luKHRoaXMuYi1kKS5zZXRDbGllbnRUaW1lRW5kKHRoaXMuYikubG9nKCl9fTsKRy5wcm90b3R5cGUuZ2V0QmFuZHdpZHRoPWZ1bmN0aW9uKGEpe2E9ImFnZ3Jlc3NpdmUiPT09YT90aGlzLmEuY2I6dGhpcy5hLm9iO3JldHVybiB0aGlzLmNhblRydXN0RXN0aW1hdGUoKT9NYXRoLm1pbihhLlZhLmdldEVzdGltYXRlKCksYS54Yi5nZXRFc3RpbWF0ZSgpKTp0aGlzLmh9O0cucHJvdG90eXBlLmdldEZhc3RNb3ZpbmdCYW5kd2lkdGg9ZnVuY3Rpb24oYSl7YT0iYWdncmVzc2l2ZSI9PT1hP3RoaXMuYS5jYjp0aGlzLmEub2I7cmV0dXJuIHRoaXMuY2FuVHJ1c3RFc3RpbWF0ZSgpP2EuVmEuZ2V0RXN0aW1hdGUoKTp0aGlzLmh9O0cucHJvdG90eXBlLmdldERhdGFBZ2U9ZnVuY3Rpb24oKXtyZXR1cm4oRGF0ZS5ub3coKS10aGlzLmIpLzFFM307Ry5wcm90b3R5cGUuY2FuVHJ1c3RFc3RpbWF0ZT1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmEuY2IuVmE7cmV0dXJuIGIuJGE+PSh2b2lkIDA9PT1hPy41OmEpfHxiLnliPj10aGlzLmp9OwpHLnByb3RvdHlwZS5zdXBwb3J0c0NhY2hpbmc9ZnVuY3Rpb24oKXtyZXR1cm4hMX07Ry5wcm90b3R5cGUuc2V0UmVwcmVzZW50YXRpb25JRD1mdW5jdGlvbigpe307Ry5wcm90b3R5cGUuZmx1c2hBQlJFdmFsdWF0aW9uU2V0PWZ1bmN0aW9uKCl7cmV0dXJuW119O0cucHJvdG90eXBlLmdldFJlY2VudFNhbXBsZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jfTsvKgoKIENvcHlyaWdodCAyMDE1IEZhY2Vib29rIEluYy4KCiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoKICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KKi8KZnVuY3Rpb24gZ2IoYSxiLGMsZCl7Ry5jYWxsKHRoaXMsZCk7dGhpcy5nPWF8fDA7dGhpcy5mPXZvaWQgMD09PWI/SW5maW5pdHk6Yjt0aGlzLm09Y31yKGdiLEcpO3EoInNoYWthLnV0aWwuRVdNQUNhY2hlQmFuZHdpZHRoRXN0aW1hdG9yIixnYik7CmdiLnByb3RvdHlwZS5zYW1wbGU9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxoKXt2YXIgaz04RTMqYi9hO2UmJmUuc2V0Qnl0ZXMoYikuc2V0RGVsYXlNcyhwYXJzZUludChhLDEwKSk7YTw9dGhpcy5nJiZrPnRoaXMuZiYmIWg/KGUmJmUuc2V0RXZlbnQoInVuc2FtcGxlZCIpLnNldFJlYXNvbigiY2FjaGVkIikubG9nKCksZiYmIXRoaXMuc2hvdWxkRXhjbHVkZVNhbXBsZShiLGMpJiZmLmdldEV2ZW50TG9nZ2VyKCJiYW5kd2lkdGhfc2FtcGxlZCIpLnNldFJlc3VsdCgiYWJvcnRlZCIpLnNldExlbmd0aChiKS5zZXRDbGllbnRUaW1lQmVnaW4oRGF0ZS5ub3coKS1wYXJzZUludChhLDEwKSkuc2V0Q2xpZW50VGltZUVuZChEYXRlLm5vdygpKS5sb2coKSx0aGlzLm0oKSk6Ry5wcm90b3R5cGUuc2FtcGxlLmNhbGwodGhpcyxhLGIsYyxkLGUsZixnKX07Z2IucHJvdG90eXBlLnN1cHBvcnRzQ2FjaGluZz1mdW5jdGlvbigpe3JldHVybiBJbmZpbml0eSE9PXRoaXMuZiYmISF0aGlzLmd9OwpnYi5wcm90b3R5cGUuc2V0UmVwcmVzZW50YXRpb25JRD1mdW5jdGlvbigpe307Z2IucHJvdG90eXBlLmZsdXNoQUJSRXZhbHVhdGlvblNldD1mdW5jdGlvbigpe3JldHVybltdfTtmdW5jdGlvbiBoYigpe0cuY2FsbCh0aGlzKX1yKGhiLEcpO3EoInNoYWthLnV0aWwuRVdNQVNpZ25lZFVSTEJhbmR3aWR0aEVzdGltYXRvciIsaGIpO2hiLnByb3RvdHlwZS5zdXBwb3J0c0NhY2hpbmc9ZnVuY3Rpb24oKXtyZXR1cm4hMH07ZnVuY3Rpb24gSSgpe3ZhciBhLGIsYz1uZXcgUHJvbWlzZShmdW5jdGlvbihjLGUpe2E9YztiPWV9KTtjLnJlc29sdmU9YTtjLnJlamVjdD1iO2MuZGVzdHJveT1JLnByb3RvdHlwZS5kZXN0cm95O3JldHVybiBjfUkucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmNhdGNoKGZ1bmN0aW9uKCl7fSk7dmFyIGE9RXJyb3IoIkRlc3Ryb3llZCEiKTthLnR5cGU9ImRlc3Ryb3kiO3RoaXMucmVqZWN0KGEpfTtmdW5jdGlvbiBpYihhKXthLnNwbGl0KCIiKS5yZWR1Y2UoZnVuY3Rpb24oYSxjLGQpe3JldHVybiBhKyhkJiYwPT1kJTQ/IiAiK2M6Yyl9KX07ZnVuY3Rpb24gamIoKXt0aGlzLmxiPW5ldyBJO3RoaXMuYz0hMTt0aGlzLkFhPW51bGw7dGhpcy5hPVtdO3RoaXMuYj1udWxsfWZ1bmN0aW9uIGtiKGEsYil7aWYoYS5jKXRocm93IEVycm9yKCJDYW5ub3QgYXBwZW5kIHRvIGEgcnVubmluZyB0YXNrISIpO2EuYS5wdXNoKGIpfWpiLnByb3RvdHlwZS5zdGFydD1mdW5jdGlvbigpe2lmKHRoaXMuYyl0aHJvdyBFcnJvcigiVGFzayBhbHJlYWR5IHN0YXJ0ZWQhIik7dGhpcy5jPSEwO3RoaXMuYS51bnNoaWZ0KGZ1bmN0aW9uKCl7fSk7bGIodGhpcyx2b2lkIDApfTtqYi5wcm90b3R5cGUuYWJvcnQ9ZnVuY3Rpb24oKXtpZih0aGlzLkFhKXJldHVybiB0aGlzLkFhO2lmKCF0aGlzLmMpcmV0dXJuIHRoaXMuYz0hMCxQcm9taXNlLnJlc29sdmUoKTt0aGlzLmImJih0aGlzLmY9dGhpcy5iKCkpO3JldHVybiB0aGlzLkFhPW5ldyBJfTtqYi5wcm90b3R5cGUuZW5kPWZ1bmN0aW9uKCl7dGhpcy5hLnNwbGljZSgxKX07CmZ1bmN0aW9uIGxiKGEsYil7dmFyIGM9YS5hWzBdKGIpLGQ7Yz8oZD1jWzBdLGEuYj1jWzFdKTooZD1Qcm9taXNlLnJlc29sdmUoKSxhLmI9bnVsbCk7ZC50aGVuKEooYSxmdW5jdGlvbihhKXt0aGlzLkFhPyh0aGlzLmE9W10sdGhpcy5iPW51bGwsbWIodGhpcykpOih0aGlzLmEuc2hpZnQoKSx0aGlzLmEubGVuZ3RoP2xiKHRoaXMsYSk6KHRoaXMubGIucmVzb2x2ZShhKSx0aGlzLmI9bnVsbCkpfSkpLmNhdGNoKEooYSxmdW5jdGlvbihhKXt0aGlzLmE9W107dGhpcy5iPW51bGw7dGhpcy5BYT9tYih0aGlzKTp0aGlzLmxiLnJlamVjdChhKX0pKX0KZnVuY3Rpb24gbWIoYSl7ZnVuY3Rpb24gYigpe3ZhciBhPUVycm9yKCJUYXNrIGFib3J0ZWQuIik7YS50eXBlPSJhYm9ydGVkIjt0aGlzLmxiLnJlamVjdChhKTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhpcy5BYS5yZXNvbHZlKCk7dGhpcy5BYT1udWxsfS5iaW5kKHRoaXMpLDUpfWEuZj9hLmYudGhlbihmdW5jdGlvbigpe3RoaXMuZj1udWxsO2IuY2FsbCh0aGlzKX0uYmluZChhKSk6Yi5jYWxsKGEpfTtmdW5jdGlvbiBKKGEsYil7cmV0dXJuIGIuYmluZChhKX07ZnVuY3Rpb24gbmIoYSxiLGMsZCxlLGYsZyl7TWVkaWFTb3VyY2UuaXNUeXBlU3VwcG9ydGVkKGMpO0YuY2FsbCh0aGlzLGUpO2U9Yi5hZGRTb3VyY2VCdWZmZXIoYyk7dGhpcy5oPWE7dGhpcy5BPWI7dGhpcy5hPWU7dGhpcy5KPWQ7dGhpcy5CPW5ldyBiYjt0aGlzLkk9dGhpcy5sPXRoaXMuWT10aGlzLmk9bnVsbDt0aGlzLlI9ITE7dGhpcy5QPXRoaXMuSz10aGlzLk89MDt0aGlzLkc9bnVsbDt0aGlzLlY9dGhpcy5GPSExO3RoaXMuWj1mO3RoaXMuRD1udWxsO3RoaXMuJD1nP2c6bnVsbDt0aGlzLmI9W107dGhpcy5VPTA7dGhpcy5tPXRoaXMuYz10aGlzLmY9bnVsbDt0aGlzLlQ9amE7dGhpcy5vPXRoaXMudT0wO3RoaXMudz10aGlzLlM9ITE7dGhpcy5nPWMmJmMuY2hhckF0KDApO0UodGhpcy5CLHRoaXMuYSwidXBkYXRlZW5kIix0aGlzLm5kLmJpbmQodGhpcykpO3RoaXMuaC5nZXRCb29sKCJsaXN0ZW5fZm9yX2FzeW5jX2FwcGVuZF9idWZmZXJfZXJyb3JzIiwhMCkmJkUodGhpcy5CLAp0aGlzLmEsImVycm9yIix0aGlzLmFkLmJpbmQodGhpcykpO3RoaXMuaj1udWxsfXIobmIsRik7bmIucHJvdG90eXBlLkJhPWZ1bmN0aW9uKCl7cmV0dXJue1NvdXJjZUJ1ZmZlcjp0aGlzLmF9fTtmdW5jdGlvbiBvYihhLGIsYyl7YS5vYyYmYS5MYShiLHt0eXBlOmEuZy5jaGFyQXQoMCksc2VnbWVudDpjLHNvdXJjZUJ1ZmZlcjphLmF9KX12YXIgcGI9MS82MDtuYi5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuYWJvcnQoKS5jYXRjaChmdW5jdGlvbigpe30pO3RoaXMuYyYmdGhpcy5jLmRlc3Ryb3koKTt0aGlzLmI9dGhpcy5mPXRoaXMuYz1udWxsO3RoaXMuQi5kZXN0cm95KCk7dGhpcy5BPXRoaXMuYT10aGlzLkQ9dGhpcy5CPW51bGx9O2Z1bmN0aW9uIHFiKGEpe3ZhciBiPWEuYi5sZW5ndGg7cmV0dXJuIDA8Yj9hLmJbYi0xXTpudWxsfQpmdW5jdGlvbiByYihhLGIpe2Zvcih2YXIgYz1hLmEuYnVmZmVyZWQsZD0wO2Q8Yy5sZW5ndGg7KytkKXt2YXIgZT1jLnN0YXJ0KGQpLXBiLGY9Yy5lbmQoZCkrcGI7aWYoYj49ZSYmYjw9ZilyZXR1cm4gYy5lbmQoZCktYn1yZXR1cm4gMH1mdW5jdGlvbiBzYihhLGIsYyl7dmFyIGQ9Yi5lbmRUaW1lP2IuZW5kVGltZS1iLnN0YXJ0VGltZToxLGU9bmV3IHRiO2UuTmE9MztlLmM9MUUzKmQ7ZS5iPTFFMyphLlQ7ZS51PWEuWTtlLmo9YztlLmRhPWEuWjtlLm1pbWVUeXBlPWEuZztlLmg9YS4kO2Uubz1iLmlzUHJlZGljdGl2ZTtyZXR1cm4gZX1uPW5iLnByb3RvdHlwZTsKbi5mZXRjaD1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGgpe3ZhciBrLGw9Zj8icmVwbGFjaW5nX2xvd2VyX3F1YWxpdHlfYnVmZmVyIjpudWxsO2lmKHRoaXMubCl7dmFyIG09dGhpcy5iW3RoaXMuYi5sZW5ndGgtMV0scD1udWxsO20mJihwPTFFMyooYS5zdGFydFRpbWUtbS5lbmRUaW1lKSk7az10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJmZXRjaCIpLnNldFJlYXNvbihsKS5zZXRSZXNvdXJjZSh1YihhLnVybCkpLnNldFR5cGUodmIodGhpcykpLnNldExlbmd0aChNYXRoLnJvdW5kKDFFMyooYS5lbmRUaW1lLWEuc3RhcnRUaW1lKSkpLnNldFNlZ21lbnRTdGFydFRpbWUoMUUzKmEuc3RhcnRUaW1lKS5zZXRTZWdtZW50RW5kVGltZSgxRTMqYS5lbmRUaW1lKS5zZXRTZWdtZW50VGltZUdhcChwKS5zdGFydCgpfXRoaXMuaj1rO2lmKHRoaXMuZil7aWYodGhpcy5oLmdldEJvb2woInNibV9lbmFibGVfY29uY3VycmVudF9mZXRjaF9yZXF1ZXN0cyIsITEpKXt2YXIgdD1bXS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7CnJldHVybiB0aGlzLmYubGIudGhlbihKKHRoaXMsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mZXRjaC5hcHBseSh0aGlzLHQpfSksZnVuY3Rpb24oYSl7dGhyb3cgYTt9KX1tPUVycm9yKCJDYW5ub3QgZmV0Y2ggKCIrdGhpcy5nKyIpOiBwcmV2aW91cyBvcGVyYXRpb24gbm90IGNvbXBsZXRlLiIpO3RoaXMudT49dGhpcy5PPyhtLnR5cGU9InN0cmVhbSIsayYmay5zZXRFcnJvcihtKS5sb2coKSx0aGlzLnU9MCk6KHRoaXMudSsrLG0udHlwZT0iYWJvcnRlZCIpO3JldHVybiBQcm9taXNlLnJlamVjdChtKX10aGlzLmY9bmV3IGpiO2MhPXRoaXMuYS50aW1lc3RhbXBPZmZzZXQmJih0aGlzLmEudGltZXN0YW1wT2Zmc2V0PWMpO3ZhciBtPXNiKHRoaXMsYSxlKSxwPXRoaXMuaC5nZXRCb29sKCJlbmFibGVfc3RyZWFtaW5nX2NvZGVfcGF0aCIsITApLHc7dz1wP2EudXJsLnN0cmVhbShtLHRoaXMuSix0aGlzLmwsdGhpcy5qLHRoaXMuSSx2Yih0aGlzKSxsLGcsaCk6YS51cmwuZmV0Y2gobSwKdGhpcy5KLHRoaXMubCx0aGlzLmosdGhpcy5JLHZiKHRoaXMpLGwsZyk7b2IodGhpcywiU2VnbWVudEZldGNoaW5nIixhKTt2YXIgej1LLnByb3RvdHlwZS5LYS5iaW5kKGEudXJsKTt0aGlzLkcmJnRoaXMuRiYmKGQ9dGhpcy5HKTt2YXIgSD0wLGRhPW51bGw7ZCYmKHRoaXMuRz1kLHRoaXMuRj0hMSxrYih0aGlzLmYsZnVuY3Rpb24oKXtyZXR1cm5bZC50aGVuKGZ1bmN0aW9uKGEpe2EuWWE+SCYmKEg9YS5ZYSk7cmV0dXJuIHdiKHRoaXMsYSxudWxsKX0uYmluZCh0aGlzKSksdGhpcy5iYi5iaW5kKHRoaXMpXX0uYmluZCh0aGlzKSkpO3ZhciBlYT1mdW5jdGlvbihhKXthLllhPkgmJihIPWEuWWEpO2RhPWEuYnl0ZUxlbmd0aDt0aGlzLkouZ2V0QmFuZHdpZHRoKCk7dGhpcy5TJiZ0aGlzLmRpc3BhdGNoRXZlbnQoeSh7dHlwZToiY2VhNjA4Q2FwdGlvbnNCeXRlc1JlY2VpdmVkIixidWJibGVzOiEwLGRldGFpbDp7dGltZXNjYWxlOmIsdmlkZW9CeXRlczphfX0pKX0uYmluZCh0aGlzKTsKcD8oaCYmKG09aC5nZXRQcm9ncmVzc1RyYWNrZXIoKSx0aGlzLmkhPT1tJiYodGhpcy5pPW0pKSxrYih0aGlzLmYsSih0aGlzLGZ1bmN0aW9uKCl7dmFyIGI9bnVsbCxjPU1hdGgubWF4KDAsKGEudXJsLmVuZEJ5dGV8fDApLWEudXJsLnN0YXJ0Qnl0ZSksZD10aGlzLmguZ2V0TnVtYmVyKCJzdHJlYW1pbmdfYXBwZW5kX3Blcl9zZWdtZW50IiwzKSxlPTA9PT1kPzA6Yy9kO3JldHVyblt3LnRoZW4oZnVuY3Rpb24oYyl7Yj1jO3RoaXMudz0hMTtyZXR1cm4geGIodGhpcyxjLGEsZSl9LmJpbmQodGhpcykpLnRoZW4oZnVuY3Rpb24oYSl7Yj1udWxsO3JldHVybiBhfSkudGhlbihlYSkuY2F0Y2goZnVuY3Rpb24oYSl7dGhpcy5oLmdldEJvb2woImFib3J0X2ZldGNoX29uX25ldF9lcnJvciIsITEpJiZoJiYodGhpcy5hLmFib3J0KCksdGhpcy53PSEwKTtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYSl9LmJpbmQodGhpcykpLGZ1bmN0aW9uKCl7b2IodGhpcywiU2VnbWVudEZhaWxlZCIsYSk7CmImJihiLmNhbmNlbCgiYWJvcnQiKSxiPW51bGwsaCYmKHRoaXMuYS5hYm9ydCgpLHRoaXMudz0hMCkpO3ooKTtyZXR1cm4gdGhpcy5iYigpfS5iaW5kKHRoaXMpXX0pKSk6a2IodGhpcy5mLEoodGhpcyxmdW5jdGlvbigpe3JldHVyblt3LnRoZW4oZnVuY3Rpb24oYil7b2IodGhpcywiU2VnbWVudEZldGNoZWQiLGEpO2VhKGIpO3JldHVybiB3Yih0aGlzLGIsYSxsKX0uYmluZCh0aGlzKSksZnVuY3Rpb24oKXtvYih0aGlzLCJTZWdtZW50RmFpbGVkIixhKTt6KCk7cmV0dXJuIHRoaXMuYmIoKX0uYmluZCh0aGlzKV19KSk7dmFyIEFhPTA9PXRoaXMuYS5idWZmZXJlZC5sZW5ndGgmJjA9PXRoaXMuYi5sZW5ndGgsY2I9bnVsbDtrYih0aGlzLmYsZnVuY3Rpb24oKXtpZigwPT10aGlzLmEuYnVmZmVyZWQubGVuZ3RoJiYhdGhpcy5WKXt2YXIgYj1FcnJvcigiRmFpbGVkIHRvIGJ1ZmZlciBzZWdtZW50ICgiK3RoaXMuZysiKS4iKTtiLnR5cGU9InN0cmVhbSI7cmV0dXJuW1Byb21pc2UucmVqZWN0KGIpXX10aGlzLmEuYnVmZmVyZWQubGVuZ3RoJiYKQWEmJihiPWEuc3RhcnRUaW1lLGNiPXRoaXMuYS5idWZmZXJlZC5zdGFydCgwKS1iKTtiPXliKHRoaXMuYixhLnN0YXJ0VGltZSk7MDw9Yj90aGlzLmIuc3BsaWNlKGIrMSwwLGEpOnRoaXMuYi5wdXNoKGEpfS5iaW5kKHRoaXMpKTt0aGlzLnU9MDtyZXR1cm4gemIodGhpcykudGhlbihmdW5jdGlvbigpe2smJmsubG9nKCk7cmV0dXJuIFByb21pc2UucmVzb2x2ZSh7VzpjYixXYzpILEg6YS5lbmRUaW1lLWEuc3RhcnRUaW1lLERjOmRhfSl9LmJpbmQodGhpcyksZnVuY3Rpb24oYSl7ayYmay5zZXRFcnJvcihhKS5sb2coKTthPUFiKGEsInRhc2siLCJBbiB1bmtub3duIHRhc2sgZXJyb3Igb2NjdXJyZWQuIik7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfS5iaW5kKHRoaXMpKX07CmZ1bmN0aW9uIHhiKGEsYixjLGQpe3ZhciBlPW5ldyBBcnJheUJ1ZmZlcigwKSxmPW5ldyBBcnJheUJ1ZmZlcigwKSxnPWZ1bmN0aW9uKCl7cmV0dXJuIGIucmVhZCgpLnRoZW4oZnVuY3Rpb24oYSl7dmFyIGI9YS52YWx1ZTthPWEuZG9uZTtpZih0aGlzLnd8fGEmJjA9PT1mLmJ5dGVMZW5ndGgpcmV0dXJuIGU7aWYoIWEmJiFiKXJldHVybiBnKCk7YiYmKGIgaW5zdGFuY2VvZiBVaW50OEFycmF5JiYoYj1iLmJ1ZmZlciksZj1jb25jYXRBcnJheUJ1ZmZlcihmLGIpKTtyZXR1cm4gZi5ieXRlTGVuZ3RoPj1kfHxhPyh0aGlzLmkmJnRoaXMuaS5ub3RpZnlCeXRlc0NvbnN1bWVkKGYuYnl0ZUxlbmd0aCksb2IodGhpcywiU2VnbWVudEZldGNoZWQiLGMpLGU9Y29uY2F0QXJyYXlCdWZmZXIoZSxmKSxiPWYsZj1uZXcgQXJyYXlCdWZmZXIoMCksd2IodGhpcyxiLGMpLnRoZW4oZykpOmcoKX0uYmluZCh0aGlzKSl9LmJpbmQoYSk7cmV0dXJuIGcoKX0KZnVuY3Rpb24gQmIoYSl7aWYoYS5mKXt2YXIgYj1FcnJvcigiQ2Fubm90IGNsZWFyICgiK2EuZysiKTogcHJldmlvdXMgb3BlcmF0aW9uIG5vdCBjb21wbGV0ZS4iKTthLm8+PWEuSz8oYi50eXBlPSJzdHJlYW0iLGEubz0wKTooYS5vKyssYi50eXBlPSJhYm9ydGVkIik7cmV0dXJuIFByb21pc2UucmVqZWN0KGIpfWEuZj1uZXcgamI7a2IoYS5mLGZ1bmN0aW9uKCl7dmFyIGE7YTppZigwPT10aGlzLmEuYnVmZmVyZWQubGVuZ3RoKWE9UHJvbWlzZS5yZXNvbHZlKCk7ZWxzZXt0cnl7dGhpcy5hLnJlbW92ZSgwLHRoaXMuQS5kdXJhdGlvbil9Y2F0Y2goYil7Yj1BYihiLCJjbGVhcl9idWZmZXIiLCJBbiBlcnJvciBvY2N1cmVkIHdoZW4gY2xlYXJpbmcgdGhlIGJ1ZmZlci4iKTthPVByb21pc2UucmVqZWN0KGIpO2JyZWFrIGF9dGhpcy5iPVtdO2E9dGhpcy5jPW5ldyBJfXJldHVyblthLHRoaXMuYmIuYmluZCh0aGlzKV19LmJpbmQoYSkpO2Eubz0wO3JldHVybiB6YihhKX0KZnVuY3Rpb24gQ2IoYSxiKXtpZihhLmYpe3ZhciBjPUVycm9yKCJDYW5ub3QgY2xlYXJBZnRlciAoIithLmcrIik6IHByZXZpb3VzIG9wZXJhdGlvbiBub3QgY29tcGxldGUuIik7Yy50eXBlPSJzdHJlYW0iO3JldHVybiBQcm9taXNlLnJlamVjdChjKX1hLmY9bmV3IGpiO2tiKGEuZixmdW5jdGlvbigpe3JldHVybltEYih0aGlzLGIpLHRoaXMuYmIuYmluZCh0aGlzKV19LmJpbmQoYSkpO3JldHVybiB6YihhKX1mdW5jdGlvbiBFYihhLGIpe2EuYz1uZXcgSTt2YXIgYz1iLTU7aWYoMDxjKXt0cnl7YS5hLnJlbW92ZSgwLGMpfWNhdGNoKGQpe3JldHVybiBkPUFiKGQsImNsZWFyX2J1ZmZlciIsIkFuIGVycm9yIG9jY3VyZWQgd2hlbiBjbGVhcmluZyB0aGUgYnVmZmVyLiIpLFByb21pc2UucmVqZWN0KGQpfWM9RmIoYSxjKTswPGMmJihhLmI9YS5iLnNsaWNlKGMsYS5iLmxlbmd0aCkpfWVsc2UgYS5jLnJlc29sdmUoKTtyZXR1cm4gYS5jfQpuLmFib3J0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZj90aGlzLmYuYWJvcnQoKTpQcm9taXNlLnJlc29sdmUoKX07ZnVuY3Rpb24gR2IoYSl7Zm9yKHZhciBiPWEuY3VycmVudFRpbWUsYz1iLGQ9MDtkPGEuYnVmZmVyZWQubGVuZ3RoO2QrKylpZihiPD1hLmJ1ZmZlcmVkLnN0YXJ0KGQpKXtjPWEuYnVmZmVyZWQuc3RhcnQoZCk7YnJlYWt9cmV0dXJuIGN9ZnVuY3Rpb24gSGIoYSxiKXtmb3IodmFyIGM9Yi5jdXJyZW50VGltZSxkPTA7ZDxiLmJ1ZmZlcmVkLmxlbmd0aDtkKyspaWYoYz49Yi5idWZmZXJlZC5zdGFydChkKSYmYzw9Yi5idWZmZXJlZC5lbmQoZCktYS5QKXJldHVybiExO3JldHVybiEwfQpmdW5jdGlvbiB6YihhKXthLmYuc3RhcnQoKTtyZXR1cm4gYS5mLmxiLnRoZW4oSihhLGZ1bmN0aW9uKCl7dGhpcy5mPW51bGx9KSkuY2F0Y2goSihhLGZ1bmN0aW9uKGEpe3RoaXMuZj1udWxsO2E9QWIoYSwidGFzayIsIkFuIHVua25vd24gdGFzayBlcnJvciBvY2N1cnJlZC4iKTtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYSl9KSl9CmZ1bmN0aW9uIHdiKGEsYixjLGQpe3ZhciBlO2lmKGEubCl7dmFyIGY9Yz91YihjLnVybCk6ImluaXQiO2U9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigiYXBwZW5kIikuc2V0UmVhc29uKGQpLnNldFJlc291cmNlKGYpLnNldFR5cGUodmIoYSkpLnNldExlbmd0aChiLmJ5dGVMZW5ndGgpLnN0YXJ0KCk7bnVsbCE9PWMmJihlPWUuc2V0U2VnbWVudFN0YXJ0VGltZSgxRTMqYy5zdGFydFRpbWUpLnNldFNlZ21lbnRFbmRUaW1lKDFFMypjLmVuZFRpbWUpKTthLmomJihlPWUuc2V0UGFyZW50TG9nZ2VyKGEuaikpfXRyeXthLmEuYXBwZW5kQnVmZmVyKGIpfWNhdGNoKGcpe3JldHVybiBhLmguZ2V0Qm9vbCgibnVrZV9zb3VyY2VfYnVmZmVyX29uX3F1b3RhX2V4Y2VlZGVkX2VyciIsITApJiZnIGluc3RhbmNlb2YgRE9NRXhjZXB0aW9uJiZnLmNvZGU9PT1ET01FeGNlcHRpb24uUVVPVEFfRVhDRUVERURfRVJSJiZnLm1lc3NhZ2UubWF0Y2goL14uKlNvdXJjZUJ1ZmZlci4qZnVsbC4qZnJlZVxzc3BhY2UuKiQvKSYmCihnLnR5cGU9InNvdXJjZWJ1ZmZlcl9mdWxsIiksZSYmZS5zZXRFcnJvcihnKS5sb2coKSxQcm9taXNlLnJlamVjdChnKX1hLmM9bmV3IEk7YS5tPWM7cmV0dXJuIGEuYy50aGVuKGZ1bmN0aW9uKCl7ZSYmZS5sb2coKX0sZnVuY3Rpb24oYSl7ZSYmZS5zZXRFcnJvcihhKS5sb2coKTtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYSl9KX1uLmFkPWZ1bmN0aW9uKGEpe2E9YS5lcnJvcnx8RXJyb3IoIkNhbGwgdG8gYXBwZW5kQnVmZmVyIGZhaWxlZCB0byBhcHBlbmQgdGhlIHNlZ21lbnQuIik7YT1BYihhLCJzdHJlYW0iLCJDYWxsIHRvIGFwcGVuZEJ1ZmZlciBmYWlsZWQgdG8gYXBwZW5kIHRoZSBzZWdtZW50LiIpO3RoaXMuYyYmdGhpcy5jLnJlamVjdChhKX07CmZ1bmN0aW9uIERiKGEsYil7aWYoMD09YS5hLmJ1ZmZlcmVkLmxlbmd0aClyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7dmFyIGM9RmIoYSxiKTtpZigtMT09Y3x8Yz09YS5iLmxlbmd0aC0xKXJldHVybiBQcm9taXNlLnJlc29sdmUoKTt0cnl7YS5hLnJlbW92ZShhLmJbYysxXS5zdGFydFRpbWUsYS5BLmR1cmF0aW9uKX1jYXRjaChkKXtyZXR1cm4gUHJvbWlzZS5yZWplY3QoZCl9YS5iPWEuYi5zbGljZSgwLGMrMSk7YS5jPW5ldyBJO3JldHVybiBhLmN9bi5iYj1mdW5jdGlvbigpe2lmKHRoaXMuYyl7aWYoIm9wZW4iPT10aGlzLkEucmVhZHlTdGF0ZSl7dmFyIGE9RXJyb3IoIlByZXZpb3VzIG9wZXJhdGlvbiBhYm9ydGVkLiIpO2EudHlwZT0iYWJvcnRlZCI7dGhpcy5jLnJlamVjdChhKTt0aGlzLmEuYWJvcnQoKTt0aGlzLlImJih0aGlzLkY9ITApO3RoaXMuYz1uZXcgSX1yZXR1cm4gdGhpcy5jfXJldHVybiBQcm9taXNlLnJlc29sdmUoKX07Cm4ubmQ9ZnVuY3Rpb24oKXt0aGlzLmMmJih0aGlzLm0mJihvYih0aGlzLCJTZWdtZW50QXBwZW5kZWQiLHRoaXMubSksdGhpcy5tPW51bGwpLHRoaXMuYy5yZXNvbHZlKCksdGhpcy5jPW51bGwpfTtuLkRkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaX07bmIucHJvdG90eXBlLmdldFN0cmVhbVByb2dyZXNzVHJhY2tlcj1uYi5wcm90b3R5cGUuRGQ7ZnVuY3Rpb24gdmIoYSl7cmV0dXJuInYiPT09YS5nLmNoYXJBdCgwKT8idmlkZW8iOiJhIj09PWEuZy5jaGFyQXQoMCk/ImF1ZGlvIjpudWxsfWZ1bmN0aW9uIEFiKGEsYixjKXthfHwoYT1FcnJvcihjKSk7YS50eXBlfHwoYS50eXBlPWIpO2EubWVzc2FnZXx8KGEubWVzc2FnZT1jKTtyZXR1cm4gYX0KZnVuY3Rpb24gRmIoYSxiKXtpZihhLmguZ2V0Qm9vbCgic2JtX3VzZV9zZWdtZW50X2luZGV4X3RvX2ZpbmRfdGltZXN0YW1wcyIsITEpJiZhLkQpe3ZhciBjPWEuRC5maW5kKGIpO2lmKGMpcmV0dXJuIHliKGEuYixjLnN0YXJ0VGltZSl9ZWxzZSByZXR1cm4geWIoYS5iLGIpO3JldHVybi0xfTtmdW5jdGlvbiBJYihhKXtyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLGEpfXEoInNoYWthLnV0aWwuVWludDhBcnJheVV0aWxzLnRvU3RyaW5nIixJYik7ZnVuY3Rpb24gSmIoYSl7Zm9yKHZhciBiPW5ldyBVaW50OEFycmF5KGEubGVuZ3RoKSxjPTA7YzxhLmxlbmd0aDsrK2MpYltjXT1hLmNoYXJDb2RlQXQoYyk7cmV0dXJuIGJ9cSgic2hha2EudXRpbC5VaW50OEFycmF5VXRpbHMuZnJvbVN0cmluZyIsSmIpO3EoInNoYWthLnV0aWwuVWludDhBcnJheVV0aWxzLnRvQmFzZTY0IixmdW5jdGlvbihhLGIpe3ZhciBjPXZvaWQgMD09Yj8hMDpiLGQ9d2luZG93LmJ0b2EoSWIoYSkpLnJlcGxhY2UoL1wrL2csIi0iKS5yZXBsYWNlKC9cLy9nLCJfIik7cmV0dXJuIGM/ZDpkLnJlcGxhY2UoLz0qJC8sIiIpfSk7ZnVuY3Rpb24gS2IoYSl7cmV0dXJuIEpiKHdpbmRvdy5hdG9iKGEucmVwbGFjZSgvLS9nLCIrIikucmVwbGFjZSgvXy9nLCIvIikpKX0KcSgic2hha2EudXRpbC5VaW50OEFycmF5VXRpbHMuZnJvbUJhc2U2NCIsS2IpO3EoInNoYWthLnV0aWwuVWludDhBcnJheVV0aWxzLmZyb21IZXgiLGZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1uZXcgVWludDhBcnJheShhLmxlbmd0aC8yKSxjPTA7YzxhLmxlbmd0aDtjKz0yKWJbYy8yXT13aW5kb3cucGFyc2VJbnQoYS5zdWJzdHIoYywyKSwxNik7cmV0dXJuIGJ9KTtmdW5jdGlvbiBMYihhKXtmb3IodmFyIGI9IiIsYz0wO2M8YS5sZW5ndGg7KytjKXt2YXIgZD1hW2NdLnRvU3RyaW5nKDE2KTsxPT1kLmxlbmd0aCYmKGQ9IjAiK2QpO2IrPWR9cmV0dXJuIGJ9cSgic2hha2EudXRpbC5VaW50OEFycmF5VXRpbHMudG9IZXgiLExiKTtmdW5jdGlvbiBNYShhLGIpe2lmKCFhJiYhYilyZXR1cm4hMDtpZighYXx8IWJ8fGEubGVuZ3RoIT1iLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIGM9MDtjPGEubGVuZ3RoOysrYylpZihhW2NdIT1iW2NdKXJldHVybiExO3JldHVybiEwfTtmdW5jdGlvbiBNYigpe3RoaXMuaT10aGlzLmE9IiI7dGhpcy53aXRoQ3JlZGVudGlhbHM9ITE7dGhpcy5vPXRoaXMuZj1udWxsO3RoaXMuaj10aGlzLmg9ITE7dGhpcy5tPXRoaXMuZz0iIjt0aGlzLmM9bnVsbDt0aGlzLmI9W119ZnVuY3Rpb24gTmIoYSxiKXt2YXIgYz1uZXcgTWI7Yy5hPWEuYTtjLmk9YS5pO2Mud2l0aENyZWRlbnRpYWxzPWEud2l0aENyZWRlbnRpYWxzO2MuZj1hLmY7Yy5vPWEubztjLmg9YS5oO2Muaj1hLmo7Yy5nPWEuZztjLm09YS5tO2MuYz1hLmM/bmV3IFVpbnQ4QXJyYXkoYS5jLmJ1ZmZlcik6bnVsbDtPYihjLGEuYik7T2IoYyxiLmIpO3JldHVybiBjfWZ1bmN0aW9uIE9iKGEsYil7dmFyIGM9YS5iLmNvbmNhdChiLm1hcChmdW5jdGlvbihhKXtyZXR1cm57aW5pdERhdGE6bmV3IFVpbnQ4QXJyYXkoYS5pbml0RGF0YS5idWZmZXIpLGluaXREYXRhVHlwZTphLmluaXREYXRhVHlwZX19KSk7YS5iPXdhKGMpfQpmdW5jdGlvbiB4YShhLGIpe3JldHVybiBhLmluaXREYXRhVHlwZT09Yi5pbml0RGF0YVR5cGUmJk1hKGEuaW5pdERhdGEsYi5pbml0RGF0YSl9O2Z1bmN0aW9uIFBiKGEsYixjLGQpe3RoaXMud2l0aENyZWRlbnRpYWxzPWM7dGhpcy5hPVtdO2QmJnRoaXMuYS5wdXNoKGQpfXEoInNoYWthLnBsYXllci5Ecm1TY2hlbWVJbmZvIixQYik7UGIuRGlzdGluY3RpdmVJZGVudGlmaWVyPXtPUFRJT05BTDowLFJFUVVJUkVEOjF9O1BiLlBlcnNpc3RlbnRTdGF0ZT17T1BUSU9OQUw6MCxSRVFVSVJFRDoxfTtQYi5jcmVhdGVVbmVuY3J5cHRlZD1mdW5jdGlvbigpe3JldHVybiBuZXcgUGIoMCwwLCExLG51bGwpfTtmdW5jdGlvbiBRYihhKXt0aGlzLnN5c3RlbUlkcz1bXTt0aGlzLmNlbmNLZXlJZHM9W107dGhpcy5hPVtdO2E9bmV3IEJhKG5ldyBEYXRhVmlldyhhLmJ1ZmZlcikpO3RyeXtmb3IoO0RhKGEpOyl7dmFyIGI9YS5hLGM9dihhKSxkPXYoYSk7MT09Yz9jPUZhKGEpOjA9PWMmJihjPWEuYi5ieXRlTGVuZ3RoLWIpO2lmKDE4ODY2MTQzNzYhPWQpSGEoYSxjLShhLmEtYikpO2Vsc2V7dmFyIGU9RWEoYSk7aWYoMTxlKUhhKGEsYy0oYS5hLWIpKTtlbHNle0hhKGEsMyk7dmFyIGY9TGIoR2EoYSkpLGc9W107aWYoMDxlKWZvcih2YXIgaD12KGEpLGs9MDtrPGg7KytrKXt2YXIgbD1MYihHYShhKSk7Zy5wdXNoKGwpfXZhciBtPXYoYSk7SGEoYSxtKTt0aGlzLmNlbmNLZXlJZHMucHVzaC5hcHBseSh0aGlzLmNlbmNLZXlJZHMsZyk7dGhpcy5zeXN0ZW1JZHMucHVzaChmKTt0aGlzLmEucHVzaCh7c3RhcnQ6YixlbmQ6YS5hLTF9KTthLmEhPWIrYyYmSGEoYSxjLShhLmEtYikpfX19fWNhdGNoKHApe319Cjt2YXIgUmI9L14oPzooW146Lz8jLl0rKTopPyg/OlwvXC8oPzooW14vPyNdKilAKT8oW14vIz9dKj8pKD86OihbMC05XSspKT8oPz1bLyM/XXwkKSk/KFtePyNdKyk/KD86XD8oW14jXSopKT8oPzojKC4qKSk/JC87ZnVuY3Rpb24gTChhKXt2YXIgYjthIGluc3RhbmNlb2YgTD8oU2IodGhpcyxhLnphKSx0aGlzLlVhPWEuVWEsdGhpcy5oYT1hLmhhLFRiKHRoaXMsYS5YYSksdGhpcy51YT1hLnVhLFViKHRoaXMsYS5hLmNsb25lKCkpLHRoaXMuTWE9YS5NYSk6YSYmKGI9U3RyaW5nKGEpLm1hdGNoKFJiKSk/KFNiKHRoaXMsYlsxXXx8IiIsITApLHRoaXMuVWE9VmIoYlsyXXx8IiIpLHRoaXMuaGE9VmIoYlszXXx8IiIsITApLFRiKHRoaXMsYls0XSksdGhpcy51YT1WYihiWzVdfHwiIiwhMCksVWIodGhpcyxiWzZdfHwiIiwhMCksdGhpcy5NYT1WYihiWzddfHwiIikpOnRoaXMuYT1uZXcgV2IobnVsbCl9bj1MLnByb3RvdHlwZTtuLnphPSIiO24uVWE9IiI7bi5oYT0iIjtuLlhhPW51bGw7bi51YT0iIjtuLk1hPSIiOwpuLnRvU3RyaW5nPWZ1bmN0aW9uKCl7dmFyIGE9W10sYj10aGlzLnphO2ImJmEucHVzaChYYihiLFliLCEwKSwiOiIpO2lmKGI9dGhpcy5oYSl7YS5wdXNoKCIvLyIpO3ZhciBjPXRoaXMuVWE7YyYmYS5wdXNoKFhiKGMsWWIsITApLCJAIik7YS5wdXNoKGVuY29kZVVSSUNvbXBvbmVudChiKS5yZXBsYWNlKC8lMjUoWzAtOWEtZkEtRl17Mn0pL2csIiUkMSIpKTtiPXRoaXMuWGE7bnVsbCE9YiYmYS5wdXNoKCI6IixTdHJpbmcoYikpfWlmKGI9dGhpcy51YSl0aGlzLmhhJiYiLyIhPWIuY2hhckF0KDApJiZhLnB1c2goIi8iKSxhLnB1c2goWGIoYiwiLyI9PWIuY2hhckF0KDApP1piOiRiLCEwKSk7KGI9dGhpcy5hLnRvU3RyaW5nKCkpJiZhLnB1c2goIj8iLGIpOyhiPXRoaXMuTWEpJiZhLnB1c2goIiMiLFhiKGIsYWMpKTtyZXR1cm4gYS5qb2luKCIiKX07Cm4ucmVzb2x2ZT1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmNsb25lKCk7ImRhdGEiPT09Yi56YSYmKGI9bmV3IEwpO3ZhciBjPSEhYS56YTtjP1NiKGIsYS56YSk6Yz0hIWEuVWE7Yz9iLlVhPWEuVWE6Yz0hIWEuaGE7Yz9iLmhhPWEuaGE6Yz1udWxsIT1hLlhhO3ZhciBkPWEudWE7aWYoYylUYihiLGEuWGEpO2Vsc2UgaWYoYz0hIWEudWEpe2lmKCIvIiE9ZC5jaGFyQXQoMCkpaWYodGhpcy5oYSYmIXRoaXMudWEpZD0iLyIrZDtlbHNle3ZhciBlPWIudWEubGFzdEluZGV4T2YoIi8iKTstMSE9ZSYmKGQ9Yi51YS5zdWJzdHIoMCxlKzEpK2QpfWlmKCIuLiI9PWR8fCIuIj09ZClkPSIiO2Vsc2UgaWYoLTEhPWQuaW5kZXhPZigiLi8iKXx8LTEhPWQuaW5kZXhPZigiLy4iKSl7Zm9yKHZhciBlPTA9PWQubGFzdEluZGV4T2YoIi8iLDApLGQ9ZC5zcGxpdCgiLyIpLGY9W10sZz0wO2c8ZC5sZW5ndGg7KXt2YXIgaD1kW2crK107Ii4iPT1oP2UmJmc9PWQubGVuZ3RoJiZmLnB1c2goIiIpOiIuLiI9PQpoPygoMTxmLmxlbmd0aHx8MT09Zi5sZW5ndGgmJiIiIT1mWzBdKSYmZi5wb3AoKSxlJiZnPT1kLmxlbmd0aCYmZi5wdXNoKCIiKSk6KGYucHVzaChoKSxlPSEwKX1kPWYuam9pbigiLyIpfX1jP2IudWE9ZDpjPSIiIT09YS5hLnRvU3RyaW5nKCk7Yz9VYihiLGEuYS5jbG9uZSgpKTpjPSEhYS5NYTtjJiYoYi5NYT1hLk1hKTtyZXR1cm4gYn07bi5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgTCh0aGlzKX07ZnVuY3Rpb24gU2IoYSxiLGMpe2EuemE9Yz9WYihiLCEwKTpiO2EuemEmJihhLnphPWEuemEucmVwbGFjZSgvOiQvLCIiKSl9ZnVuY3Rpb24gVGIoYSxiKXtpZihiKXtiPU51bWJlcihiKTtpZihpc05hTihiKXx8MD5iKXRocm93IEVycm9yKCJCYWQgcG9ydCBudW1iZXIgIitiKTthLlhhPWJ9ZWxzZSBhLlhhPW51bGx9ZnVuY3Rpb24gVWIoYSxiLGMpe2IgaW5zdGFuY2VvZiBXYj9hLmE9YjooY3x8KGI9WGIoYixiYykpLGEuYT1uZXcgV2IoYikpfQpmdW5jdGlvbiBWYihhLGIpe3JldHVybiBhP2I/ZGVjb2RlVVJJKGEpOmRlY29kZVVSSUNvbXBvbmVudChhKToiIn1mdW5jdGlvbiBYYihhLGIsYyl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBhPyhhPWVuY29kZVVSSShhKS5yZXBsYWNlKGIsY2MpLGMmJihhPWEucmVwbGFjZSgvJTI1KFswLTlhLWZBLUZdezJ9KS9nLCIlJDEiKSksYSk6bnVsbH1mdW5jdGlvbiBjYyhhKXthPWEuY2hhckNvZGVBdCgwKTtyZXR1cm4iJSIrKGE+PjQmMTUpLnRvU3RyaW5nKDE2KSsoYSYxNSkudG9TdHJpbmcoMTYpfXZhciBZYj0vWyNcL1w/QF0vZywkYj0vW1wjXD86XS9nLFpiPS9bXCNcP10vZyxiYz0vW1wjXD9AXS9nLGFjPS8jL2c7ZnVuY3Rpb24gV2IoYSl7dGhpcy5iPWF8fG51bGx9V2IucHJvdG90eXBlLmE9bnVsbDtXYi5wcm90b3R5cGUuYz1udWxsOwpmdW5jdGlvbiBkYyhhLGIsYyl7aWYoIWEuYSYmKGEuYT17fSxhLmM9MCxhLmIpKWZvcih2YXIgZD1hLmIuc3BsaXQoIiYiKSxlPTA7ZTxkLmxlbmd0aDtlKyspe3ZhciBmPWRbZV0uaW5kZXhPZigiPSIpLGc9bnVsbCxoPW51bGw7MDw9Zj8oZz1kW2VdLnN1YnN0cmluZygwLGYpLGg9ZFtlXS5zdWJzdHJpbmcoZisxKSk6Zz1kW2VdO2c9ZGVjb2RlVVJJQ29tcG9uZW50KGcucmVwbGFjZSgvXCsvZywiICIpKTtoPWh8fCIiO2RjKGEsZyxkZWNvZGVVUklDb21wb25lbnQoaC5yZXBsYWNlKC9cKy9nLCIgIikpKX1hLmI9bnVsbDsoZD1hLmEuaGFzT3duUHJvcGVydHkoYikmJmEuYVtiXSl8fChhLmFbYl09ZD1bXSk7ZC5wdXNoKGMpO2EuYysrfQpXYi5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtpZih0aGlzLmIpcmV0dXJuIHRoaXMuYjtpZighdGhpcy5hKXJldHVybiIiO3ZhciBhPVtdLGI7Zm9yKGIgaW4gdGhpcy5hKWZvcih2YXIgYz1lbmNvZGVVUklDb21wb25lbnQoYiksZD10aGlzLmFbYl0sZT0wO2U8ZC5sZW5ndGg7ZSsrKXt2YXIgZj1jOyIiIT09ZFtlXSYmKGYrPSI9IitlbmNvZGVVUklDb21wb25lbnQoZFtlXSkpO2EucHVzaChmKX1yZXR1cm4gdGhpcy5iPWEuam9pbigiJiIpfTtXYi5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgV2I7YS5iPXRoaXMuYjtpZih0aGlzLmEpe3ZhciBiPXt9LGM7Zm9yKGMgaW4gdGhpcy5hKWJbY109dGhpcy5hW2NdLmNvbmNhdCgpO2EuYT1iO2EuYz10aGlzLmN9cmV0dXJuIGF9O2Z1bmN0aW9uIGVjKGEsYixjKXt2YXIgZD1hLmluZGV4T2YoIjw/eG1sIik7MDw9ZCYmKGE9YS5zdWJzdHIoZCkpO2E9KG5ldyBET01QYXJzZXIpLnBhcnNlRnJvbVN0cmluZyhhLCJ0ZXh0L3htbCIpO2lmKCFhKXJldHVybiBudWxsOyJzdHJpbmciPT09dHlwZW9mIGImJihiPVtuZXcgTChiKV0pO2I9Ynx8W25ldyBMKCIiKV07Yz1jfHxbbmV3IEwoIiIpXTtyZXR1cm4gTSh7QWM6YixiYXNlVXJsOmN9LGEsZmMpfXEoInNoYWthLmRhc2gubXBkLnBhcnNlTXBkIixlYyk7CmZ1bmN0aW9uIGZjKCl7dGhpcy5pZD10aGlzLnVybD1udWxsO3RoaXMudHlwZT0ic3RhdGljIjt0aGlzLkZCSXNMaXZlVGVtcGxhdGVkPXRoaXMuRkJXYXNMaXZlPXRoaXMubWFuaWZlc3RJc0xpdmVTdHJlYW1pbmc9ITE7dGhpcy5GQk1hbmlmZXN0SWRlbnRpZmllcj0iIjt0aGlzLkZCTVM9ITE7dGhpcy51PXRoaXMuYmFzZVVybD10aGlzLkFjPW51bGw7dGhpcy5qPXRoaXMuaT10aGlzLmg9MDt0aGlzLmI9bnVsbDt0aGlzLm09NTt0aGlzLmY9dGhpcy5jPXRoaXMuZz1udWxsO3RoaXMubz0xO3RoaXMubGFzdFZpZGVvRnJhbWVUcz10aGlzLmN1cnJlbnRTZXJ2ZXJUaW1lTXM9MDt0aGlzLmE9W119ZnVuY3Rpb24gZ2MoKXt0aGlzLmY9dGhpcy5jPXRoaXMuYj10aGlzLmJhc2VVcmw9dGhpcy5kdXJhdGlvbj10aGlzLnN0YXJ0PXRoaXMuaWQ9bnVsbDt0aGlzLmE9W119CmZ1bmN0aW9uIGhjKCl7dGhpcy5jPXRoaXMuY29kZWNzPXRoaXMubWltZVR5cGU9dGhpcy5oZWlnaHQ9dGhpcy53aWR0aD10aGlzLmNvbnRlbnRUeXBlPXRoaXMubGFuZz10aGlzLmdyb3VwPXRoaXMuaWQ9bnVsbDt0aGlzLmY9ITE7dGhpcy5pPXRoaXMuaD10aGlzLmc9dGhpcy5iYXNlVXJsPW51bGw7dGhpcy5qPVtdO3RoaXMuYT1bXTt0aGlzLmI9bnVsbH1mdW5jdGlvbiBpYygpe3RoaXMudmFsdWU9bnVsbH1mdW5jdGlvbiBqYygpe3RoaXMubGFuZz10aGlzLmE9bnVsbH1mdW5jdGlvbiBrYygpe3RoaXMuY29udGVudFR5cGU9dGhpcy5sYW5nPXRoaXMuaWQ9bnVsbH1mdW5jdGlvbiBsYygpe3RoaXMuZGF0YT1udWxsfWZ1bmN0aW9uIG1jKCl7dGhpcy5kYXRhPW51bGx9CmZ1bmN0aW9uIG5jKCl7dGhpcy5hPXRoaXMuYj10aGlzLmY9dGhpcy5pPXRoaXMuYmFzZVVybD10aGlzLmo9dGhpcy5mcmFtZVJhdGU9dGhpcy51PXRoaXMubz10aGlzLm09dGhpcy5mYlF1YWxpdHlDbGFzcz10aGlzLmZiUXVhbGl0eUxhYmVsPXRoaXMuaD10aGlzLmc9dGhpcy5jb2RlY3M9dGhpcy5taW1lVHlwZT10aGlzLmhlaWdodD10aGlzLndpZHRoPXRoaXMuYmFuZHdpZHRoPXRoaXMubGFuZz10aGlzLmlkPW51bGw7dGhpcy5jPVtdfWZ1bmN0aW9uIG9jKCl7dGhpcy52YWx1ZT10aGlzLmE9bnVsbH1vYy5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgb2M7YS5hPXRoaXMuYTthLnZhbHVlPXRoaXMudmFsdWU7cmV0dXJuIGF9O29jLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMuYT1OKGIsInNjaGVtZUlkVXJpIixPLHRoaXMuYSk7dGhpcy52YWx1ZT1OKGIsInZhbHVlIixPLHRoaXMudmFsdWUpfTsKZnVuY3Rpb24gcGMoKXt0aGlzLmI9dGhpcy5hPXRoaXMuZj10aGlzLmM9bnVsbH1mdW5jdGlvbiBxYygpe3RoaXMucGFyc2VkUHNzaD10aGlzLnBzc2hCb3g9bnVsbH1mdW5jdGlvbiByYygpe3RoaXMudXJsPW51bGx9ZnVuY3Rpb24gc2MoKXt0aGlzLnVybD1udWxsfWZ1bmN0aW9uIHRjKCl7dGhpcy5iYXNlVXJsPW51bGw7dGhpcy5zPTE7dGhpcy5jPXRoaXMuYj10aGlzLmY9dGhpcy5hPXRoaXMuTD1udWxsfXRjLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyB0YzthLmJhc2VVcmw9dWModGhpcy5iYXNlVXJsKTthLnM9dGhpcy5zO2EuTD10aGlzLkw7YS5hPXZjKHRoaXMuYSk7YS5mPXZjKHRoaXMuZik7YS5iPXZjKHRoaXMuYik7YS5jPXZjKHRoaXMuYyk7cmV0dXJuIGF9O2Z1bmN0aW9uIHdjKCl7dGhpcy5hPXRoaXMudXJsPW51bGx9CndjLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyB3YzthLnVybD11Yyh0aGlzLnVybCk7YS5hPXZjKHRoaXMuYSk7cmV0dXJuIGF9O2Z1bmN0aW9uIHhjKCl7dGhpcy5hPXRoaXMudXJsPW51bGx9eGMucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IHhjO2EudXJsPXVjKHRoaXMudXJsKTthLmE9dmModGhpcy5hKTtyZXR1cm4gYX07ZnVuY3Rpb24geWMoKXt0aGlzLmJhc2VVcmw9bnVsbDt0aGlzLnM9MTt0aGlzLkg9dGhpcy5MPW51bGw7dGhpcy5jPTA7dGhpcy5iPW51bGw7dGhpcy5hPVtdO3RoaXMuQz1udWxsfXljLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyB5YzthLmJhc2VVcmw9dWModGhpcy5iYXNlVXJsKTthLnM9dGhpcy5zO2EuTD10aGlzLkw7YS5IPXRoaXMuSDthLmM9dGhpcy5jO2EuYj12Yyh0aGlzLmIpO2EuYT11Yyh0aGlzLmEpfHxbXTthLkM9dmModGhpcy5DKTtyZXR1cm4gYX07CmZ1bmN0aW9uIHpjKCl7dGhpcy5hPXRoaXMuYj1udWxsfXpjLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyB6YzthLmI9dWModGhpcy5iKTthLmE9dmModGhpcy5hKTtyZXR1cm4gYX07ZnVuY3Rpb24gQWMoKXt0aGlzLnM9MTt0aGlzLkg9dGhpcy5MPW51bGw7dGhpcy5iPTA7dGhpcy5DPXRoaXMuYz10aGlzLmE9dGhpcy5mPW51bGx9QWMucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IEFjO2Eucz10aGlzLnM7YS5MPXRoaXMuTDthLkg9dGhpcy5IO2EuYj10aGlzLmI7YS5mPXRoaXMuZjthLmE9dGhpcy5hO2EuYz10aGlzLmM7YS5DPXZjKHRoaXMuQyk7cmV0dXJuIGF9O2Z1bmN0aW9uIEJjKCl7dGhpcy5iPXRoaXMuYT1udWxsO3RoaXMuTj1bXX1CYy5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgQmM7YS5hPXRoaXMuYTthLmI9dGhpcy5iO2EuTj11Yyh0aGlzLk4pfHxbXTtyZXR1cm4gYX07CmZ1bmN0aW9uIENjKCl7dGhpcy5zdGFydFNlZ21lbnRJbmRleD10aGlzLnJlcGVhdD10aGlzLmR1cmF0aW9uPXRoaXMuc3RhcnRUaW1lPW51bGx9Q2MucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IENjO2Euc3RhcnRUaW1lPXRoaXMuc3RhcnRUaW1lO2EuZHVyYXRpb249dGhpcy5kdXJhdGlvbjthLnJlcGVhdD10aGlzLnJlcGVhdDtyZXR1cm4gYX07ZnVuY3Rpb24gRGMoYSxiKXt0aGlzLnFhPWE7dGhpcy5lbmQ9Yn1EYy5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IERjKHRoaXMucWEsdGhpcy5lbmQpfTtmYy5UQUdfTkFNRT0iTVBEIjtnYy5UQUdfTkFNRT0iUGVyaW9kIjtoYy5UQUdfTkFNRT0iQWRhcHRhdGlvblNldCI7aWMuVEFHX05BTUU9IlJvbGUiO2pjLlRBR19OQU1FPSJBY2Nlc3NpYmlsaXR5IjtrYy5UQUdfTkFNRT0iQ29udGVudENvbXBvbmVudCI7bmMuVEFHX05BTUU9IlJlcHJlc2VudGF0aW9uIjtwYy5UQUdfTkFNRT0iQ29udGVudFByb3RlY3Rpb24iOwpxYy5UQUdfTkFNRT0iY2VuYzpwc3NoIjtyYy5UQUdfTkFNRT0iQmFzZVVSTCI7b2MuVEFHX05BTUU9IkF1ZGlvQ2hhbm5lbENvbmZpZ3VyYXRpb24iO3NjLlRBR19OQU1FPSJMb2NhdGlvbiI7dGMuVEFHX05BTUU9IlNlZ21lbnRCYXNlIjt3Yy5UQUdfTkFNRT0iUmVwcmVzZW50YXRpb25JbmRleCI7bGMuVEFHX05BTUU9IkZCSW5pdGlhbGl6YXRpb25CaW5hcnkiO21jLlRBR19OQU1FPSJGQlNlZ21lbnRJbmRleEJpbmFyeSI7eGMuVEFHX05BTUU9IkluaXRpYWxpemF0aW9uIjt5Yy5UQUdfTkFNRT0iU2VnbWVudExpc3QiO3pjLlRBR19OQU1FPSJTZWdtZW50VVJMIjtBYy5UQUdfTkFNRT0iU2VnbWVudFRlbXBsYXRlIjtCYy5UQUdfTkFNRT0iU2VnbWVudFRpbWVsaW5lIjtDYy5UQUdfTkFNRT0iUyI7CmZjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMudXJsPWEuQWM7dGhpcy5pZD1OKGIsImlkIixPKTt0aGlzLnR5cGU9TihiLCJ0eXBlIixPKXx8InN0YXRpYyI7dGhpcy5tYW5pZmVzdElzTGl2ZVN0cmVhbWluZz0iZHluYW1pYyI9PT10aGlzLnR5cGU7dGhpcy5GQldhc0xpdmU9TihiLCJGQldhc0xpdmUiLEVjKXx8ITE7dGhpcy5GQklzTGl2ZVRlbXBsYXRlZD1OKGIsIkZCSXNMaXZlVGVtcGxhdGVkIixFYyl8fCExO3RoaXMuRkJNYW5pZmVzdElkZW50aWZpZXI9TihiLCJGQk1hbmlmZXN0SWRlbnRpZmllciIsTyl8fCIiO3RoaXMuRkJNUz1OKGIsIkZCTVMiLEVjKXx8ITE7VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJvdmVycmlkZV9mYl9pc19saXZlX3RlbXBsYXRlZCIsITEpJiYodGhpcy5GQklzTGl2ZVRlbXBsYXRlZD0hMSk7dGhpcy5iPU4oYiwibWVkaWFQcmVzZW50YXRpb25EdXJhdGlvbiIsRmMpO3RoaXMubT1OKGIsIm1pbkJ1ZmZlclRpbWUiLApGYyx0aGlzLm0pO3RoaXMuZz1OKGIsIm1pbmltdW1VcGRhdGVQZXJpb2QiLEZjLHRoaXMuZyk7dGhpcy5jPU4oYiwiYXZhaWxhYmlsaXR5U3RhcnRUaW1lIixHYyx0aGlzLmMpO3RoaXMuZj1OKGIsInRpbWVTaGlmdEJ1ZmZlckRlcHRoIixGYyx0aGlzLmYpO3RoaXMuY3VycmVudFNlcnZlclRpbWVNcz1OKGIsImN1cnJlbnRTZXJ2ZXJUaW1lTXMiLFApO04oYiwiZmlyc3RBdlRpbWVNcyIsUCk7dGhpcy5sYXN0VmlkZW9GcmFtZVRzPU4oYiwibGFzdFZpZGVvRnJhbWVUcyIsUCk7dGhpcy5mPW51bGw7dGhpcy5vPU4oYiwic3VnZ2VzdGVkUHJlc2VudGF0aW9uRGVsYXkiLEZjLHRoaXMubyk7dGhpcy5oPU4oYiwibG9hcFN0cmVhbVR5cGUiLEhjLHRoaXMuaCk7dGhpcy5pPU4oYiwidXNpbmdBU1JDYXB0aW9ucyIsSGMsdGhpcy5pKTt0aGlzLmo9TihiLCJpc1VzaW5nQXNyQ2FwdGlvbnNFbXBsb3llZURvZ2Zvb2RpbmciLEhjLHRoaXMuaik7dmFyIGM9YS5iYXNlVXJsLGQ9SWModGhpcywKYixyYyk7dGhpcy5iYXNlVXJsPUpjKGMsZCk7aWYoZD1NKHRoaXMsYixzYykpdGhpcy51PUtjKGMsZC51cmwpO3RoaXMuYT1JYyh0aGlzLGIsZ2MpfTtmdW5jdGlvbiBMYyhhLGIsYyxkKXtpZigwIT09YS5hLmxlbmd0aCl7dmFyIGU9bmV3IGhjO2UuY29udGVudFR5cGU9InRleHQiO2UubGFuZz1jfHwiZW4iO2UuZj0hMDtjPW5ldyBuYztjLmJhbmR3aWR0aD0wO2MubWltZVR5cGU9ZHx8InRleHQvdnR0IjtjLmJhc2VVcmw9W25ldyBMKGIpXTtlLmEucHVzaChjKTthLmFbMF0uYS5wdXNoKGUpO01jKGEuYVswXSl9fQpnYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt0aGlzLmlkPU4oYiwiaWQiLE8pO3RoaXMuc3RhcnQ9TihiLCJzdGFydCIsRmMpO3RoaXMuZHVyYXRpb249TihiLCJkdXJhdGlvbiIsRmMpO3ZhciBjPUljKHRoaXMsYixyYyk7dGhpcy5iYXNlVXJsPUpjKGEuYmFzZVVybCxjKTt0aGlzLmI9TSh0aGlzLGIsdGMpO3RoaXMuYz1NKHRoaXMsYix5Yyk7dGhpcy5mPU0odGhpcyxiLEFjKTt0aGlzLmE9SWModGhpcyxiLGhjKTtNYyh0aGlzKX07ZnVuY3Rpb24gTWMoYSl7Zm9yKHZhciBiPVtdLGM9MDtjPGEuYS5sZW5ndGg7KytjKXt2YXIgZD1hLmFbY107bnVsbCE9ZC5ncm91cCYmKGJbZC5ncm91cF09ITApfWZvcihjPTA7YzxhLmEubGVuZ3RoOysrYylpZihkPWEuYVtjXSxudWxsPT1kLmdyb3VwKXtmb3IodmFyIGU9MTsxPT1iW2VdOykrK2U7YltlXT0hMDtkLmdyb3VwPWV9fQpoYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt2YXIgYz1NKHRoaXMsYixrYyl8fHt9LGQ9TSh0aGlzLGIsaWMpO3RoaXMuaWQ9TihiLCJpZCIsTyk7dGhpcy5ncm91cD1OKGIsImdyb3VwIixQKTt0aGlzLmxhbmc9TihiLCJsYW5nIixPLGMubGFuZyk7dGhpcy5jb250ZW50VHlwZT1OKGIsImNvbnRlbnRUeXBlIixPLGMuY29udGVudFR5cGUpO3RoaXMud2lkdGg9TihiLCJ3aWR0aCIsUSk7dGhpcy5oZWlnaHQ9TihiLCJoZWlnaHQiLFEpO3RoaXMubWltZVR5cGU9TihiLCJtaW1lVHlwZSIsTyk7dGhpcy5jb2RlY3M9TihiLCJjb2RlY3MiLE8pO3RoaXMuYz1OKGIsIkZCUHJvamVjdGlvbiIsTyk7dGhpcy5mPWQmJiJtYWluIj09ZC52YWx1ZTt0aGlzLmxhbmcmJih0aGlzLmxhbmc9U2EodGhpcy5sYW5nKSk7Yz1JYyh0aGlzLGIscmMpO3RoaXMuYmFzZVVybD1KYyhhLmJhc2VVcmwsYyk7dGhpcy5qPUljKHRoaXMsYixwYyk7IXRoaXMuY29udGVudFR5cGUmJnRoaXMubWltZVR5cGUmJgoodGhpcy5jb250ZW50VHlwZT10aGlzLm1pbWVUeXBlLnNwbGl0KCIvIilbMF0pO3RoaXMuZz1hLmI/T2ModGhpcyxiLGEuYik6TSh0aGlzLGIsdGMpO3RoaXMuaD1hLmM/T2ModGhpcyxiLGEuYyk6TSh0aGlzLGIseWMpO3RoaXMuaT1hLmY/T2ModGhpcyxiLGEuZik6TSh0aGlzLGIsQWMpO3RoaXMuYT1JYyh0aGlzLGIsbmMpO3RoaXMuYj1NKHRoaXMsYixqYyk7IXRoaXMubWltZVR5cGUmJnRoaXMuYS5sZW5ndGgmJih0aGlzLm1pbWVUeXBlPXRoaXMuYVswXS5taW1lVHlwZSwhdGhpcy5jb250ZW50VHlwZSYmdGhpcy5taW1lVHlwZSYmKHRoaXMuY29udGVudFR5cGU9dGhpcy5taW1lVHlwZS5zcGxpdCgiLyIpWzBdKSl9O2ljLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMudmFsdWU9TihiLCJ2YWx1ZSIsTyl9O2pjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMuYT1OKGIsInNjaGVtZUlkVXJpIixPKTt0aGlzLmxhbmc9TihiLCJsYW5nIixPKX07CmtjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMuaWQ9TihiLCJpZCIsTyk7dGhpcy5sYW5nPU4oYiwibGFuZyIsTyk7dGhpcy5jb250ZW50VHlwZT1OKGIsImNvbnRlbnRUeXBlIixPKTt0aGlzLmxhbmcmJih0aGlzLmxhbmc9U2EodGhpcy5sYW5nKSl9OwpuYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt0aGlzLmlkPU4oYiwiaWQiLE8pO3RoaXMuYmFuZHdpZHRoPU4oYiwiYmFuZHdpZHRoIixRKTt0aGlzLndpZHRoPU4oYiwid2lkdGgiLFEsYS53aWR0aCk7dGhpcy5oZWlnaHQ9TihiLCJoZWlnaHQiLFEsYS5oZWlnaHQpO3RoaXMubWltZVR5cGU9TihiLCJtaW1lVHlwZSIsTyxhLm1pbWVUeXBlKTt0aGlzLmNvZGVjcz1OKGIsImNvZGVjcyIsTyxhLmNvZGVjcyk7dGhpcy5mYlF1YWxpdHlMYWJlbD1OKGIsIkZCUXVhbGl0eUxhYmVsIixPKTt0aGlzLmZiUXVhbGl0eUNsYXNzPU4oYiwiRkJRdWFsaXR5Q2xhc3MiLE8pO3RoaXMubT1OKGIsIkZCQWJyUG9saWN5VGFncyIsTyk7VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJtcGRfcGFyc2VfbW9zX2F0dHJpYnV0ZXMiLCExKSYmKHRoaXMubz1OKGIsIkZCUGxheWJhY2tSZXNvbHV0aW9uTW9zIixNb3NVdGlscy5wYXJzZVBsYXliYWNrTW9zKSx0aGlzLnU9TihiLAoiRkJQbGF5YmFja1Jlc29sdXRpb25Nb3NDb25maWRlbmNlTGV2ZWwiLE8pKTtWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woIm1wZF9wYXJzZV9mcmFtZV9hbmRfYXVkaW9fc2FtcGxpbmdfcmF0ZSIsITEpJiYodGhpcy5mcmFtZVJhdGU9TihiLCJmcmFtZVJhdGUiLE8pLHRoaXMuaj1OKGIsImF1ZGlvU2FtcGxpbmdSYXRlIixRKSk7dGhpcy5sYW5nPWEubGFuZzt2YXIgYz1JYyh0aGlzLGIscmMpO3RoaXMuYmFzZVVybD1KYyhhLmJhc2VVcmwsYyk7VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJhZGRfaW5saW5lX2luaXRpYWxpemF0aW9uX3Jlc291cmNlcyIsITEpJiYodGhpcy5nPU0odGhpcyxiLGxjKSx0aGlzLmg9TSh0aGlzLGIsbWMpKTt0aGlzLmM9SWModGhpcyxiLHBjKTt0aGlzLmk9TSh0aGlzLGIsb2MpO3RoaXMuZj1hLmc/T2ModGhpcyxiLGEuZyk6TSh0aGlzLGIsdGMpO3RoaXMuYj1hLmg/T2ModGhpcyxiLGEuaCk6TSh0aGlzLGIsCnljKTt0aGlzLmE9YS5pP09jKHRoaXMsYixhLmkpOk0odGhpcyxiLEFjKTt0aGlzLmM9dGhpcy5jLmNvbmNhdChhLmopfTtsYy5wcm90b3R5cGUucGFyc2U9bWMucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7aWYoYiYmYi5maXJzdENoaWxkKXt2YXIgYz1QYyhiKTtudWxsIT1jJiYodGhpcy5kYXRhPUtiKGMpLmJ1ZmZlcil9fTtwYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt0aGlzLmM9Yjt0aGlzLmY9TihiLCJzY2hlbWVJZFVyaSIsTyk7dmFyIGM9TihiLCJjZW5jOmRlZmF1bHRfS0lEIixPKTtjJiYodGhpcy5iPWMucmVwbGFjZSgvWy1dL2csIiIpKTt0aGlzLmE9TSh0aGlzLGIscWMpfTsKcWMucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dmFyIGM9UGMoYik7aWYoYyl7dGhpcy5wc3NoQm94PUtiKGMpO3RyeXt0aGlzLnBhcnNlZFBzc2g9bmV3IFFiKHRoaXMucHNzaEJveCl9Y2F0Y2goZCl7aWYoIShkIGluc3RhbmNlb2YgUmFuZ2VFcnJvcikpdGhyb3cgZDt9fX07cmMucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dmFyIGM9Yi5jaGlsZE5vZGVzLGQ9IiI7aWYoMT09Yy5sZW5ndGgpZD1QYyhiKTtlbHNlIGZvcih2YXIgZT0wO2U8Yy5sZW5ndGg7ZSsrKWNbZV0ubm9kZVR5cGU9PU5vZGUuVEVYVF9OT0RFJiYoZCs9Y1tlXS5ub2RlVmFsdWUpO3RoaXMudXJsPWR9O3NjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMudXJsPVBjKGIpfTsKdGMucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dGhpcy5iYXNlVXJsPWEuYmFzZVVybHx8dGhpcy5iYXNlVXJsO3RoaXMucz1OKGIsInRpbWVzY2FsZSIsUSx0aGlzLnMpO3RoaXMuTD1OKGIsInByZXNlbnRhdGlvblRpbWVPZmZzZXQiLFAsdGhpcy5MKTt0aGlzLmE9TihiLCJpbmRleFJhbmdlIixRYyx0aGlzLmEpO3RoaXMuZj1OKGIsIkZCRmlyc3RTZWdtZW50UmFuZ2UiLFFjLHRoaXMuZik7dGhpcy5iPU0odGhpcyxiLHdjKXx8dGhpcy5iO3RoaXMuYz1NKHRoaXMsYix4Yyl8fHRoaXMuY307d2MucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dmFyIGM9TihiLCJzb3VyY2VVUkwiLE8pO3RoaXMudXJsPUtjKGEuYmFzZVVybCxjKTt0aGlzLmE9TihiLCJyYW5nZSIsUWMsdmMoYS5hKSl9Owp4Yy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt2YXIgYz1OKGIsInNvdXJjZVVSTCIsTyk7dGhpcy51cmw9S2MoYS5iYXNlVXJsLGMpO3RoaXMuYT1OKGIsInJhbmdlIixRYyl9Owp5Yy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt0aGlzLmJhc2VVcmw9YS5iYXNlVXJsfHx0aGlzLmJhc2VVcmw7dGhpcy5zPU4oYiwidGltZXNjYWxlIixRLHRoaXMucyk7dGhpcy5MPU4oYiwicHJlc2VudGF0aW9uVGltZU9mZnNldCIsUCx0aGlzLkwpO3RoaXMuSD1OKGIsImR1cmF0aW9uIixRLHRoaXMuSCk7dmFyIGM9TihiLCJzdGFydE51bWJlciIsUSk7bnVsbCE9YyYmKHRoaXMuYz1jKTt0aGlzLmI9TSh0aGlzLGIseGMpfHx0aGlzLmI7dGhpcy5hPShjPUljKHRoaXMsYix6YykpJiYwPGMubGVuZ3RoP2M6dGhpcy5hO3RoaXMuQz1NKHRoaXMsYixCYyl8fHRoaXMuQztWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImNhbGN1bGF0ZV9xdWlja19kYXNoX3ByZXNlbnRhdGlvbl90aW1lX29mZnNldF9mcm9tX3RpbWVsaW5lIiwhMSkmJihjPVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJjYWxjdWxhdGVfcXVpY2tfZGFzaF9wcmVzZW50YXRpb25fdGltZV9vZmZzZXRfZXBzaWxvbl9tcyIsCjI1MCksdGhpcy5DJiZ0aGlzLkMuTlswXSYmKHRoaXMuTD0xRTM8dGhpcy5DLk5bMF0uc3RhcnRUaW1lP3RoaXMuQy5OWzBdLnN0YXJ0VGltZS1jOnRoaXMuTCkpfTt6Yy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt2YXIgYz1OKGIsIm1lZGlhIixPKTt0aGlzLmI9S2MoYS5iYXNlVXJsLGMpO3RoaXMuYT1OKGIsIm1lZGlhUmFuZ2UiLFFjKX07CkFjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMucz1OKGIsInRpbWVzY2FsZSIsUSx0aGlzLnMpO3RoaXMuTD1OKGIsInByZXNlbnRhdGlvblRpbWVPZmZzZXQiLFAsdGhpcy5MKTt0aGlzLkg9TihiLCJkdXJhdGlvbiIsUSx0aGlzLkgpO3ZhciBjPU4oYiwic3RhcnROdW1iZXIiLFApO251bGwhPWMmJih0aGlzLmI9Yyk7dGhpcy5mPU4oYiwibWVkaWEiLE8sdGhpcy5mKTt0aGlzLmE9TihiLCJpbmRleCIsTyx0aGlzLmEpO3RoaXMuYz1OKGIsImluaXRpYWxpemF0aW9uIixPLHRoaXMuYyk7dGhpcy5DPU0odGhpcyxiLEJjKXx8dGhpcy5DfTtCYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt0aGlzLmE9TihiLCJGQlByZWRpY3RlZE1lZGlhIixPLHRoaXMuYSk7dGhpcy5iPU4oYiwiRkJQcmVkaWN0ZWRNZWRpYUVuZE51bWJlciIsUSk7dGhpcy5OPUljKHRoaXMsYixDYyl9OwpDYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt0aGlzLnN0YXJ0VGltZT1OKGIsInQiLFApO3RoaXMuZHVyYXRpb249TihiLCJkIixQKTt0aGlzLnJlcGVhdD1OKGIsInIiLEhjKX07ZnVuY3Rpb24gSmMoYSxiKXtpZighYnx8MD09PWIubGVuZ3RoKXJldHVybiBhO2Zvcih2YXIgYz1bXSxkPTA7ZDxiLmxlbmd0aDtkKyspe3ZhciBlPWJbZF0udXJsO251bGw9PWF8fDA9PT1hLmxlbmd0aD9jLnB1c2gobmV3IEwoZSkpOihlPUtjKGEuc2xpY2UoMCwxKSxlKSxjLnB1c2goZVswXSkpfXJldHVybiBjfWZ1bmN0aW9uIEtjKGEsYil7aWYoIWIpcmV0dXJuIGE7dmFyIGM9bmV3IEwoYik7cmV0dXJuIGE/YS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVzb2x2ZShjKX0pOltjXX1mdW5jdGlvbiBPYyhhLGIsYyl7dmFyIGQ9dmMoYyk7KGI9UmMoYixjLmNvbnN0cnVjdG9yLlRBR19OQU1FKSkmJmQucGFyc2UoYSxiKTtyZXR1cm4gZH0KZnVuY3Rpb24gTShhLGIsYyl7dmFyIGQ9bnVsbDtpZihiPVJjKGIsYy5UQUdfTkFNRSkpZD1uZXcgYyxkLnBhcnNlKGEsYik7cmV0dXJuIGR9ZnVuY3Rpb24gUmMoYSxiKXtmb3IodmFyIGM9bnVsbCxkPTA7ZDxhLmNoaWxkTm9kZXMubGVuZ3RoO2QrKylpZihhLmNoaWxkTm9kZXNbZF0udGFnTmFtZT09Yil7aWYoYylyZXR1cm4gbnVsbDtjPWEuY2hpbGROb2Rlc1tkXX1yZXR1cm4gY31mdW5jdGlvbiBJYyhhLGIsYyl7Zm9yKHZhciBkPVtdLGU9MDtlPGIuY2hpbGROb2Rlcy5sZW5ndGg7ZSsrKWlmKGIuY2hpbGROb2Rlc1tlXS50YWdOYW1lPT1jLlRBR19OQU1FKXt2YXIgZj1uZXcgYztmLnBhcnNlLmNhbGwoZixhLGIuY2hpbGROb2Rlc1tlXSk7ZC5wdXNoKGYpfXJldHVybiBkfWZ1bmN0aW9uIFBjKGEpe2E9YS5maXJzdENoaWxkO3JldHVybiBhLm5vZGVUeXBlIT1Ob2RlLlRFWFRfTk9ERT9udWxsOmEubm9kZVZhbHVlfQpmdW5jdGlvbiB1YyhhKXtyZXR1cm4gYT9hLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS5jbG9uZSgpfSk6bnVsbH1mdW5jdGlvbiB2YyhhKXtyZXR1cm4gYT9hLmNsb25lKCk6bnVsbH1mdW5jdGlvbiBOKGEsYixjLGQpe2E9YS5oYXNBdHRyaWJ1dGUoYik/YyhhLmdldEF0dHJpYnV0ZShiKSk6bnVsbDtyZXR1cm4gbnVsbCE9YT9hOnZvaWQgMCE9PWQ/ZDpudWxsfWZ1bmN0aW9uIEdjKGEpe2lmKCFhKXJldHVybiBudWxsO2E9RGF0ZS5wYXJzZShhKTtyZXR1cm4gaXNOYU4oYSk/bnVsbDpNYXRoLmZsb29yKGEvMUUzKX0KZnVuY3Rpb24gRmMoYSl7aWYoIWEpcmV0dXJuIG51bGw7dmFyIGI9L15QKD86KFswLTldKilZKT8oPzooWzAtOV0qKU0pPyg/OihbMC05XSopRCk/KD86VCg/OihbMC05XSopSCk/KD86KFswLTldKilNKT8oPzooWzAtOS5dKilTKT8pPyQvLmV4ZWMoYSk7aWYoIWIpcmV0dXJuIG51bGw7YT0wO3ZhciBjPVAoYlsxXSk7YyYmKGErPTMxNTM2RTMqYyk7KGM9UChiWzJdKSkmJihhKz0yNTkyRTMqYyk7KGM9UChiWzNdKSkmJihhKz04NjQwMCpjKTsoYz1QKGJbNF0pKSYmKGErPTM2MDAqYyk7KGM9UChiWzVdKSkmJihhKz02MCpjKTtiPXdpbmRvdy5wYXJzZUZsb2F0KGJbNl0pOyhiPWlzTmFOKGIpP251bGw6YikmJihhKz1iKTtyZXR1cm4gYX0KZnVuY3Rpb24gUWMoYSl7dmFyIGI9LyhbMC05XSspLShbMC05XSspLy5leGVjKGEpO2lmKCFiKXJldHVybiBudWxsO2E9UChiWzFdKTtpZihudWxsPT1hKXJldHVybiBudWxsO2I9UChiWzJdKTtyZXR1cm4gbnVsbD09Yj9udWxsOm5ldyBEYyhhLGIpfWZ1bmN0aW9uIEhjKGEpe2E9d2luZG93LnBhcnNlSW50KGEsMTApO3JldHVybiBpc05hTihhKT9udWxsOmF9ZnVuY3Rpb24gUShhKXthPXdpbmRvdy5wYXJzZUludChhLDEwKTtyZXR1cm4gMDxhP2E6bnVsbH1mdW5jdGlvbiBQKGEpe2E9d2luZG93LnBhcnNlSW50KGEsMTApO3JldHVybiAwPD1hP2E6bnVsbH1mdW5jdGlvbiBFYyhhKXtzd2l0Y2goYS50b0xvd2VyQ2FzZSgpKXtjYXNlICJ0cnVlIjpyZXR1cm4hMDtjYXNlICJmYWxzZSI6cmV0dXJuITE7ZGVmYXVsdDpyZXR1cm4gbnVsbH19ZnVuY3Rpb24gTyhhKXtyZXR1cm4gYX07ZnVuY3Rpb24gU2MoYSxiKXt0aGlzLnVybD1hO3RoaXMuYj1ifHxuZXcgdGI7dGhpcy5qPTA7dGhpcy5nPS0xO3RoaXMuaD10aGlzLmk9MDt0aGlzLmE9bnVsbDt0aGlzLmM9bmV3IEk7dGhpcy5mPW51bGw7dGhpcy5vPXRoaXMuYi5pO3RoaXMubD10aGlzLmIubX1xKCJzaGFrYS51dGlsLkFqYXhSZXF1ZXN0IixTYyk7CmZ1bmN0aW9uIHRiKCl7dGhpcy5ib2R5PW51bGw7dGhpcy5OYT0xO3RoaXMuYz0xRTM7dGhpcy5iPTA7dGhpcy5tZXRob2Q9IkdFVCI7dGhpcy5yZXNwb25zZVR5cGU9ImFycmF5YnVmZmVyIjt0aGlzLlFhPXt9O3RoaXMuZz10aGlzLndpdGhDcmVkZW50aWFscz0hMTt0aGlzLmRhPXRoaXMuYT10aGlzLnU9bnVsbDt0aGlzLmo9ITE7dGhpcy5oPXRoaXMubT10aGlzLmk9dGhpcy5taW1lVHlwZT1udWxsO3RoaXMubz0hMTt0aGlzLnc9LyguKilcLih4eHxmbmEpXC5mYmNkblwubmV0Lzt0aGlzLmY9L2xpdmVzdHJlYW0tbG9va2FzaWRlXC4oZmFjZWJvb2t8d29ya3BsYWNlKVwuY29tJC99dmFyIFRjPSEwO2Z1bmN0aW9uIFVjKGEpe1ZjKGEpO1djKGEpO2EuYi5ib2R5PW51bGw7YS5jLmRlc3Ryb3koKTthLmM9bnVsbDthLmY9bnVsbH0KZnVuY3Rpb24gV2MoYSl7YS5hJiYoYS5hLm9ubG9hZD1udWxsLGEuYS5vbnJlYWR5c3RhdGVjaGFuZ2U9bnVsbCxhLmEub25lcnJvcj1udWxsLGEuYS5vbnRpbWVvdXQ9bnVsbCk7YS5hPW51bGx9ZnVuY3Rpb24gVmMoYSl7LTEhPT1hLmcmJihjbGVhclRpbWVvdXQoYS5nKSxhLmc9LTEpfQpTYy5wcm90b3R5cGUubT1mdW5jdGlvbigpe2lmKHRoaXMuYSlyZXR1cm4gdGhpcy5jO2lmKDA9PXRoaXMudXJsLmxhc3RJbmRleE9mKCJkYXRhOiIsMCkpe3ZhciBhPXRoaXMudXJsLnNwbGl0KCI6IilbMV0uc3BsaXQoIjsiKS5wb3AoKS5zcGxpdCgiLCIpLGI9YS5wb3AoKSxiPSJiYXNlNjQiPT1hLnBvcCgpP3dpbmRvdy5hdG9iKGIucmVwbGFjZSgvLS9nLCIrIikucmVwbGFjZSgvXy9nLCIvIikpOndpbmRvdy5kZWNvZGVVUklDb21wb25lbnQoYik7ImFycmF5YnVmZmVyIj09dGhpcy5iLnJlc3BvbnNlVHlwZSYmKGI9SmIoYikuYnVmZmVyKTthPUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkobmV3IFhNTEh0dHBSZXF1ZXN0KSk7YS5yZXNwb25zZT1iO2EucmVzcG9uc2VUZXh0PWIudG9TdHJpbmcoKTtiPXRoaXMuYztiLnJlc29sdmUoYSk7VWModGhpcyk7cmV0dXJuIGJ9aWYoMD09dGhpcy51cmwubGFzdEluZGV4T2YoImlkYjoiLDApKXJldHVybiB0aGlzLnUoKTt0aGlzLmorKzsKdGhpcy5pPXBlcmZvcm1hbmNlTm93KCk7dGhpcy5ofHwodGhpcy5oPXRoaXMuYi5jKTt0aGlzLmE9bmV3IFhNTEh0dHBSZXF1ZXN0O3ZhciBjPXRoaXMudXJsLGE9bmV3IEwoYyk7VGMmJih0aGlzLmYmJiF0aGlzLmYuc3VwcG9ydHNDYWNoaW5nKCl8fHRoaXMuYi5nKSYmZGMoYS5hLCJfIixEYXRlLm5vdygpKTtjPXRoaXMuYi53LnRlc3QoYyk7aWYobnVsbCE9dGhpcy5iLmEmJmMpe3ZhciBkPXRoaXMuYi5hLGU9YS5hO251bGwhPWQuYSYmKGQuaD1kLmEuZ2V0U2VnbWVudHNUb1B1c2goKSxkLmY9ZC5hLmdldFNlZ21lbnRTdGFydFRpbWUoKSxkLmc9ZC5hLmdldFNlZ21lbnRPZmZzZXQoKSxkLmM9ZC5hLmdldFB1c2hWaWRlb1JlcHJlc2VudGF0aW9uSUQoKSxkLmI9ZC5hLmdldFB1c2hBdWRpb1JlcHJlc2VudGF0aW9uSUQoKSxkLmo9ZC5hLmdldFVzZUxvbmdDYWNoZUZvck1hbmlmZXN0KCkpO251bGwhPWQuaCYmZGMoZSwiX25jX3BfbiIsZC5oKTtudWxsIT1kLmY/ZGMoZSwiX25jX3BfdHMiLApkLmYpOm51bGwhPWQuZyYmZGMoZSwiX25jX3BfbyIsZC5nKTtudWxsIT1kLmMmJm51bGwhPWQuYiYmKGRjKGUsIl9uY19wX3JpZCIsZC5jKSxkYyhlLCJfbmNfcF9hcmlkIixkLmIpKTtkLmkmJmRjKGUsIl9uY19wX2RiZyIsIjEiKTtkLmomJmRjKGUsIl9uY19uYyIsIjEiKX0xPT10aGlzLmIuaiYmYyYmZGMoYS5hLCJfbmNfcGxheWluZyIsMSk7dGhpcy5iLm8mJmRjKGEuYSwiX25jX3NjIiwxKTtjPWEudG9TdHJpbmcoKTthPXRoaXMuYi5mLnRlc3QoYS5oYSk7dGhpcy5hLm9wZW4odGhpcy5iLm1ldGhvZCxjLCEwKTt0aGlzLmEucmVzcG9uc2VUeXBlPXRoaXMuYi5yZXNwb25zZVR5cGU7dGhpcy5hLnRpbWVvdXQ9dGhpcy5iLmI7dGhpcy5hLndpdGhDcmVkZW50aWFscz10aGlzLmIud2l0aENyZWRlbnRpYWxzfHxhO3NldEV2ZW50UHJvcGVydHkodGhpcy5hLCJvbmxvYWQiLHRoaXMuZmQuYmluZCh0aGlzKSk7c2V0RXZlbnRQcm9wZXJ0eSh0aGlzLmEsIm9ucmVhZHlzdGF0ZWNoYW5nZSIsCnRoaXMubGQuYmluZCh0aGlzKSk7c2V0RXZlbnRQcm9wZXJ0eSh0aGlzLmEsIm9uZXJyb3IiLHRoaXMuZGQuYmluZCh0aGlzKSk7c2V0RXZlbnRQcm9wZXJ0eSh0aGlzLmEsIm9udGltZW91dCIsdGhpcy5xZC5iaW5kKHRoaXMpKTtzZXRFdmVudFByb3BlcnR5KHRoaXMuYSwib25hYm9ydCIsdGhpcy4kYy5iaW5kKHRoaXMpKTtmb3IoYiBpbiB0aGlzLmIuUWEpdGhpcy5hLnNldFJlcXVlc3RIZWFkZXIoYix0aGlzLmIuUWFbYl0pO3RoaXMuYS5zZW5kKHRoaXMuYi5ib2R5KTtyZXR1cm4gdGhpcy5jfTtTYy5wcm90b3R5cGUuc2VuZD1TYy5wcm90b3R5cGUubTsKZnVuY3Rpb24gWGMoYSxiLGMpe2I9RXJyb3IoYik7Yi50eXBlPWM7Yi5zdGF0dXM9YS5hLnN0YXR1cztiLnVybD1hLnVybDtWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImVuYWJsZV9kb3VibGVfaW5nZXN0IiwhMSkmJihiLnJlc3BvbnNlSGVhZGVycz1wYXJzZUhlYWRlcnMoYS5hLmdldEFsbFJlc3BvbnNlSGVhZGVycygpKSk7Yi5tZXRob2Q9YS5iLm1ldGhvZDtiLmJvZHk9YS5iLmJvZHk7cmV0dXJuIGJ9bj1TYy5wcm90b3R5cGU7bi5hYm9ydD1mdW5jdGlvbigpe1ZjKHRoaXMpO2lmKHRoaXMuYSYmdGhpcy5hLnJlYWR5U3RhdGUhPVhNTEh0dHBSZXF1ZXN0LkRPTkUmJih0aGlzLmEuYWJvcnQoKSwhVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJmaXhfc2hha2FfdXRpbF9hamF4X3JlcXVlc3RfYWJvcnQiLCEwKSkpe3ZhciBhPVhjKHRoaXMsIlJlcXVlc3QgYWJvcnRlZC4iLCJhYm9ydGVkIik7dGhpcy5jLnJlamVjdChhKTtVYyh0aGlzKX19OwpuLiRjPWZ1bmN0aW9uKCl7aWYoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJmaXhfc2hha2FfdXRpbF9hamF4X3JlcXVlc3RfYWJvcnQiLCEwKSl7dmFyIGE9WGModGhpcywiUmVxdWVzdCBhYm9ydGVkLiIsImFib3J0ZWQiKTt0aGlzLmMucmVqZWN0KGEpO1VjKHRoaXMpfX07Cm4uZmQ9ZnVuY3Rpb24oYSl7aWYodGhpcy5mKXt2YXIgYj1WaWRlb1BsYXllclJlc291cmNlVGltZXIuZ2V0UmVzb3VyY2VUaW1pbmdFbnRyeSh0aGlzLnVybCx0aGlzLmkscGVyZm9ybWFuY2VOb3coKSk7dGhpcy5mLnNhbXBsZShwZXJmb3JtYW5jZU5vdygpLXRoaXMuaSxhLmxvYWRlZHx8dGhpcy5hLnJlc3BvbnNlJiZ0aGlzLmEucmVzcG9uc2UuYnl0ZUxlbmd0aHx8MCx0aGlzLmIubWltZVR5cGU/InYiPT09dGhpcy5iLm1pbWVUeXBlLmNoYXJBdCgwKTohMSxiLHRoaXMubyx0aGlzLmwsVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJldmFsdWF0ZV9hYnJfb25fZmV0Y2hfZW5kIiwhMSkpfWE9WzQwM107MjAwPD10aGlzLmEuc3RhdHVzJiYyOTk+PXRoaXMuYS5zdGF0dXM/KFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgiZW5hYmxlX2RvdWJsZV9pbmdlc3QiLCExKSYmbnVsbCE9cGFyc2VIZWFkZXJzKHRoaXMuYS5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSlbIngtZmItdmlkZW8tcmVwbGljYSJdPwooYT1YYyh0aGlzLCJIVFRQIGVycm9yLiIsIm5ldCIpLHRoaXMuYy5yZWplY3QoYSkpOnRoaXMuYy5yZXNvbHZlKHRoaXMuYSksVWModGhpcykpOiFWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInJlbW92ZV9hamF4X3Jlc2VuZF9pbnRlcm5hbCIsITApJiZ0aGlzLmo8dGhpcy5iLk5hJiYtMT09PWEuaW5kZXhPZih0aGlzLmEuc3RhdHVzKT9ZYyh0aGlzKTooYT1YYyh0aGlzLCJIVFRQIGVycm9yLiIsIm5ldCIpLHRoaXMuYy5yZWplY3QoYSksVWModGhpcykpfTsKbi5sZD1mdW5jdGlvbigpe2lmKHRoaXMuYS5yZWFkeVN0YXRlPT1YTUxIdHRwUmVxdWVzdC5IRUFERVJTX1JFQ0VJVkVEJiYodGhpcy5hLllhPURhdGUubm93KCktdGhpcy5pLHRoaXMuYi5hJiZ0aGlzLmIuZGEmJnRoaXMuYi5kYS5hZGRQdXNoRGF0YUZyb21YSFIodGhpcy5hKSx0aGlzLmIuaCYmdGhpcy5iLmguaGFuZGxlWEhSKHRoaXMuYSksVmlkZW9DbGllbnRFZGdlQ29vcGVyYXRpb24udXBkYXRlRnJvbVhIUih0aGlzLmEpLHRoaXMuYi5nKSl7dmFyIGE9RGF0ZS5wYXJzZSh0aGlzLmEuZ2V0UmVzcG9uc2VIZWFkZXIoIkRhdGUiKSk7YSYmKHphPWEtRGF0ZS5ub3coKSl9fTtuLmRkPWZ1bmN0aW9uKCl7dmFyIGE9WGModGhpcywiTmV0d29yayBmYWlsdXJlLiIsIm5ldCIpO3RoaXMuYy5yZWplY3QoYSk7VWModGhpcyl9OwpuLnFkPWZ1bmN0aW9uKCl7aWYoIVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgicmVtb3ZlX2FqYXhfcmVzZW5kX2ludGVybmFsIiwhMCkmJnRoaXMuajx0aGlzLmIuTmEpWWModGhpcyk7ZWxzZXt2YXIgYT1YYyh0aGlzLCJSZXF1ZXN0IHRpbWVkIG91dC4iLCJuZXQiKTt0aGlzLmMucmVqZWN0KGEpO1VjKHRoaXMpfX07ZnVuY3Rpb24gWWMoYSl7V2MoYSk7YS5nPXNldFRpbWVvdXQoZnVuY3Rpb24oKXt0aGlzLmc9LTE7dGhpcy5tKCl9LmJpbmQoYSksYS5oKigxKy41KigyKk1hdGgucmFuZG9tKCktMSkpKTthLmgqPTJ9O2Z1bmN0aW9uIEsoYSxiLGMsZCxlLGYpe3RoaXMuYz1iO3RoaXMuc3RhcnRCeXRlPWN8fDA7dGhpcy5iYXNlVXJsPXRoaXMudG9TdHJpbmcoKTt0aGlzLmVuZEJ5dGU9bnVsbCE9ZD9kOm51bGw7dGhpcy5pc1ByZWRpY3RpdmU9ZXx8ITE7dGhpcy5mPW51bGw7dGhpcy5tPTA7dGhpcy5BPSExO3RoaXMuTmM9dGhpcy5nPW51bGw7dGhpcy5vPWE7dGhpcy5pPW51bGw7dGhpcy5qPXRoaXMudT0hMTt0aGlzLmI9dGhpcy5hPW51bGw7dGhpcy5oPWZ8fG51bGx9cSgic2hha2EudXRpbC5GYWlsb3ZlclVyaSIsSyk7Sy5wcm90b3R5cGUudz1mdW5jdGlvbihhKXt0aGlzLkE9YX07Sy5wcm90b3R5cGUuc2V0U2hvdWxkUmVhZFhGYlZpZGVvQnJvYWRjYXN0RW5kZWRIZWFkZXI9Sy5wcm90b3R5cGUudztLLnByb3RvdHlwZS5EPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubX07Sy5wcm90b3R5cGUuZ2V0RmJWaWRlb0Jyb2FkY2FzdEVuZGVkUmVzcG9uc2VIZWFkZXI9Sy5wcm90b3R5cGUuRDsKSy5wcm90b3R5cGUuRj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YXJ0Qnl0ZX07Sy5wcm90b3R5cGUuZ2V0U3RhcnRCeXRlPUsucHJvdG90eXBlLkY7Sy5wcm90b3R5cGUuQj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVuZEJ5dGV9O0sucHJvdG90eXBlLmdldEVuZEJ5dGU9Sy5wcm90b3R5cGUuQjtmdW5jdGlvbiBaYyhhLGIpe3JldHVybiBhJiYwIT09YS5sZW5ndGg/YS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVzb2x2ZShiKX0pOltiXX1uPUsucHJvdG90eXBlO24uZmV0Y2g9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxoKXtyZXR1cm4gdGhpcy5mP3RoaXMuZjp0aGlzLmY9JGModGhpcywwLGF8fG5ldyB0YixiLGMsZCxlLGYsZyxoKX07bi5zdHJlYW09ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxoLGspe3JldHVybiBhZCh0aGlzLDAsYXx8bmV3IHRiLGIsYyxkLGUsZixnLGgsayl9OwpmdW5jdGlvbiAkYyhhLGIsYyxkLGUsZixnLGgsayxsKXtyZXR1cm4gYWQoYSxiLGMsZCxlLGYsZyxoLGssbCkudGhlbihmdW5jdGlvbihhKXt2YXIgYixjPWZ1bmN0aW9uKCl7cmV0dXJuIGEucmVhZCgpLnRoZW4oZnVuY3Rpb24oYSl7dmFyIGQ9YS52YWx1ZTtpZihhLmRvbmUpcmV0dXJuIGJ8fG5ldyBBcnJheUJ1ZmZlcigwKTtkJiYoInN0cmluZyI9PT10eXBlb2YgZD9iPShifHwiIikrZDpiPWNvbmNhdEFycmF5QnVmZmVyKGJ8fG5ldyBBcnJheUJ1ZmZlcigwKSxkKSk7cmV0dXJuIGMoKX0uYmluZCh0aGlzKSl9LmJpbmQodGhpcyk7cmV0dXJuIGMoKX0pfQpuLkthPWZ1bmN0aW9uKCl7dGhpcy5nJiYodGhpcy5hPXRoaXMuZj1udWxsLHRoaXMuZy5hYm9ydCgpLHRoaXMuaT10aGlzLmc9bnVsbCk7dGhpcy5OYyYmVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJlbmFibGVfcDJwX3N1cHBvcnQiLCExKSYmKHRoaXMuRy5hYm9ydCgpLHRoaXMuRz1udWxsKTt0aGlzLmImJih0aGlzLmIuYWJvcnRSZXF1ZXN0KGJkKHRoaXMpKSxWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImZpeGluZ19zY2hlZHVsZXJfZGlzYWJsZV9sZWFrcyIsITApJiYodGhpcy5iPW51bGwpKX07CmZ1bmN0aW9uIGFkKGEsYixjLGQsZSxmLGcsaCxrLGwsbSl7YS5iPWx8fG51bGw7dmFyIHA7ZSYmKGMuYSYmKGMuYS5pPSEwKSxsPTAsYy5kYSYmKGw9Yy5kYS5nZXRQdXNoQ291bnRGb3JVcmwoYS5jW2JdLnRvU3RyaW5nKCkpKSwocD1lLmdldE9wZXJhdGlvbkxvZ2dlcigicmVxdWVzdCIpKSYmcC5zZXRSZWFzb24oa3x8bnVsbCkuc2V0UHVzaGVkKGwpLnNldFR5cGUoaHx8bnVsbCkuc2V0SW5pdGlhdG9yKCJzaGFrYSIpLnN0YXJ0KCksZiYmKHA9cC5zZXRQYXJlbnRMb2dnZXIoZikpKTt2YXIgdD1wZXJmb3JtYW5jZU5vdygpO2EuYT1udWxsO2cmJihjLmk9Zyk7ZSYmKGMubT1lKTt2YXIgdz1jZChhLGEuY1tiXSxjKTtrPW51bGw7YS5qPSExO3ZhciB6PVZpZGVvRGFzaFByZWZldGNoQ2FjaGUuZ2V0Q2FjaGVWYWx1ZSh3KTt6JiYoaz16LGEuaj0hMCxwJiYocC5zZXRDb25uZWN0aW9uUXVhbGl0eUxldmVsKFZpZGVvRGFzaFByZWZldGNoQ2FjaGUuZ2V0Q29ubmVjdGlvblF1YWxpdHlMZXZlbCh3KSksCnAuc2V0SW5pdGlhdG9yKCJwcmVmZXRjaCIpKSk7aWYoIXomJm0pcmV0dXJuIG0uZ2V0U3RyZWFtKGJkKGEpKS50aGVuKGZ1bmN0aW9uKGEpe3JldHVybiBhLmdldFJlYWRlcigpfS5iaW5kKGEpKTttPW51bGw7aWYoYS5iJiYhYS5iLmlzRGlzYWJsZWQoKSYmIWspdHJ5eyhrPW09YS5iLmdldFByb21pc2UoYmQoYSkpKT9wPW51bGw6YS5iLmRpc2FibGUoKX1jYXRjaChIKXtlJiZlLmdldEV2ZW50TG9nZ2VyKCJyZXF1ZXN0X2luZm9fbm90X2ZvdW5kIikuc2V0UmVzb3VyY2UodykubG9nKCl9IWsmJmEuaCYmYS5oLmNyZWF0ZVByb21pc2UmJihtPW5ldyBMKHcpLG09Yy5mLnRlc3QobS5oYSksaz1hLmguY3JlYXRlUHJvbWlzZSh7dXJsOncscmVzcG9uc2VUeXBlOmMucmVzcG9uc2VUeXBlLE9kOmMuYyxLZDoyLE5hOmMuTmEsd2l0aENyZWRlbnRpYWxzOmMud2l0aENyZWRlbnRpYWxzfHxtLFFhOmMuUWF9LGZ1bmN0aW9uKGEpe3RoaXMuTmM9YTt2YXIgYj1wZXJmb3JtYW5jZU5vdygpOwphLm9ubG9hZD1mdW5jdGlvbihmKXtpZihkKXt2YXIgaD1WaWRlb1BsYXllclJlc291cmNlVGltZXIuZ2V0UmVzb3VyY2VUaW1pbmdFbnRyeSh3LGIscGVyZm9ybWFuY2VOb3coKSk7ZC5zYW1wbGUocGVyZm9ybWFuY2VOb3coKS1iLGYubG9hZGVkfHxhLnJlc3BvbnNlJiZhLnJlc3BvbnNlLmJ5dGVMZW5ndGh8fDAsYy5taW1lVHlwZT8idiI9PT1jLm1pbWVUeXBlLmNoYXJBdCgwKTohMSxoLGcsZSxWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImV2YWx1YXRlX2Ficl9vbl9mZXRjaF9lbmQiLCExKSl9fX0pKTtrfHwoYS5nPW5ldyBTYyh3LGMpLGEubT0wLGQmJihhLmcuZj1kKSxrPWEuZy5tKCkpO3AmJnAuc2V0UmVzb3VyY2Uodyk7ZiYmZi5zZXRSZXNvdXJjZSh3KTt2YXIgZGE9ITEsZWE9ay50aGVuKEooYSxmdW5jdGlvbihhKXt2YXIgYz10aGlzLmg/dGhpcy5oLm9uUmVxdWVzdFNlbmQ6bnVsbDshY3x8InZpZGVvIiE9aCYmImF1ZGlvIiE9aCYmIm1hbmlmZXN0IiE9Cmh8fGMoITAsaCxhLnJlc3BvbnNlLmJ5dGVMZW5ndGgpOyF0aGlzLmJ8fHRoaXMuYi5pc0Rpc2FibGVkKCl8fHRoaXMuYT90aGlzLmF8fCh0aGlzLmE9VmlkZW9QbGF5ZXJSZXNvdXJjZVRpbWVyLmdldFJlc291cmNlVGltaW5nRW50cnkodyx0aGlzLmo/MDp0LHBlcmZvcm1hbmNlTm93KCkpKTp0aGlzLmE9dGhpcy5iLmdldFJlc291cmNlVGltaW5nRW50cnkodyk7VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJzYW1wbGVfcHJlZmV0Y2hfYmFuZHdpZHRoIiwhMSkmJnomJnRoaXMuYSYmMDx0aGlzLmEudGltZVRvTGFzdEJ5dGUmJmQmJmQuc2FtcGxlKHRoaXMuYS50aW1lVG9MYXN0Qnl0ZSxhLnJlc3BvbnNlLmJ5dGVMZW5ndGgsInYiPT09aC5jaGFyQXQoMCksdGhpcy5hLGcsZSwhMCk7aWYodGhpcy5BKXRyeXt0aGlzLm09cGFyc2VJbnQoYS5nZXRSZXNwb25zZUhlYWRlcigieC1mYi12aWRlby1icm9hZGNhc3QtZW5kZWQiKSwxMCl9Y2F0Y2goZil7fXRoaXMuYj0KdGhpcy5pPXRoaXMuZz10aGlzLmY9bnVsbDthLmE/KHRoaXMuaT1uZXcgTChhLmEpLHRoaXMudT0hMCk6dGhpcy5pPXRoaXMuY1tiXTthLnJlc3BvbnNlLllhPWEuWWE7cCYmKHA9cC5zZXRMZW5ndGgoYS5yZXNwb25zZS5ieXRlTGVuZ3RofHxhLnJlc3BvbnNlLmxlbmd0aCkuc2V0V2FzUHJlZmV0Y2hDYWNoZUhpdCh0aGlzLmopLG51bGwhPXRoaXMuYSYmKHA9cC5zZXRUaW1lVG9MYXN0Qnl0ZShNYXRoLnJvdW5kKHRoaXMuYS50aW1lVG9MYXN0Qnl0ZSkpLnNldFRpbWVUb0ZpcnN0Qnl0ZShNYXRoLnJvdW5kKHRoaXMuYS50aW1lVG9GaXJzdEJ5dGUpKS5zZXRUaW1lVG9SZXF1ZXN0U3RhcnQoTWF0aC5yb3VuZCh0aGlzLmEudGltZVRvUmVxdWVzdFN0YXJ0KSksMkUzPD10aGlzLmEudGltZVRvRmlyc3RCeXRlJiYtMTx3LmluZGV4T2YoImFrYW1haWhkIikmJmxvZ0xvbmdBa2FtYWlSZXF1ZXN0KGEuZ2V0UmVzcG9uc2VIZWFkZXIoIkRlYnVnLUluZm8iKSsiLCBUVEZCLT4gIit0aGlzLmEudGltZVRvRmlyc3RCeXRlKwoiLCBUVFJTLT4gIit0aGlzLmEudGltZVRvUmVxdWVzdFN0YXJ0KSkscC5sb2coKSk7cmV0dXJuIFByb21pc2UucmVzb2x2ZSh7dmFsdWU6YS5yZXNwb25zZSxkb25lOiExfSl9KSksZWE9ZWEuY2F0Y2goSihhLGZ1bmN0aW9uKGEpe3ZhciBlPXRoaXMuaD90aGlzLmgub25SZXF1ZXN0U2VuZDpudWxsO2UmJmUoITEsaCwwKTtpZih0aGlzLmYmJmIrMTx0aGlzLmMubGVuZ3RoKXJldHVybiB0aGlzLmY9JGModGhpcyxiKzEsYyxkKTt0aGlzLmI9dGhpcy5hPXRoaXMuZj10aGlzLmc9bnVsbDtwJiZwLnNldEVycm9yKGEpLmxvZygpO3JldHVybiBQcm9taXNlLnJlamVjdChhKX0pKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtjYW5jZWw6ZnVuY3Rpb24oKXt9LHJlYWQ6ZnVuY3Rpb24oKXtyZXR1cm4gZGE/UHJvbWlzZS5yZXNvbHZlKHt2YWx1ZTpudWxsLGRvbmU6ITB9KTplYS50aGVuKGZ1bmN0aW9uKGEpe2RhPSEwO3JldHVybiBhfSl9LmJpbmQoYSl9KX0KZnVuY3Rpb24gYmQoYSl7cmV0dXJue2Jhc2VVcmw6YS50b1N0cmluZygpLGlzUHJlZGljdGl2ZTphLmlzUHJlZGljdGl2ZSxzdGFydEJ5dGU6YS5zdGFydEJ5dGUsZW5kQnl0ZTphLmVuZEJ5dGV9fW4uY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEsodGhpcy5vLHRoaXMuYy5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuY2xvbmUoKX0pLHRoaXMuc3RhcnRCeXRlLHRoaXMuZW5kQnl0ZSx0aGlzLmlzUHJlZGljdGl2ZSx0aGlzLmgpfTtuLmdldFJlc291cmNlVGltaW5nRW50cnk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hfTsKZnVuY3Rpb24gY2QoYSxiLGMpe3ZhciBkPWIudG9TdHJpbmcoKTtpZihhLnN0YXJ0Qnl0ZXx8YS5lbmRCeXRlKWI9Yi5oYSwhYi5lbmRzV2l0aCgiZmJjZG4ubmV0Iil8fGIuc3RhcnRzV2l0aCgiaW50ZXJuY2FjaGUiKXx8Yi5lbmRzV2l0aCgiYWsuZmJjZG4ubmV0Iik/YyYmKGMuUWEuUmFuZ2U9ImJ5dGVzPSIrKGEuc3RhcnRCeXRlKyItIisobnVsbCE9YS5lbmRCeXRlP2EuZW5kQnl0ZToiIikpKTooZCs9IiZieXRlc3RhcnQ9IithLnN0YXJ0Qnl0ZSxkKz1udWxsIT09YS5lbmRCeXRlPyImYnl0ZWVuZD0iK2EuZW5kQnl0ZToiIik7YS5vJiZjJiYoZD1hLm8oZCxjLlFhKXx8ZCk7cmV0dXJuIGR9ZnVuY3Rpb24gdWIoYSl7cmV0dXJuIGNkKGEsYS5jWzBdKX1uLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY1swXS50b1N0cmluZygpfTtmdW5jdGlvbiBkZChhLGIsYyxkKXt0aGlzLmE9bmV3IHRiO2I9bnVsbCE9Yj9iOmlhO3RoaXMuYS5yZXNwb25zZVR5cGU9InRleHQiO3RoaXMuYS5OYT0zO3RoaXMuYS5iPTFFMypiO2MmJih0aGlzLmEuYT1jKTtkJiYodGhpcy5hLmRhPWQpO3RoaXMuYS5nPSEwO3RoaXMuYS53aXRoQ3JlZGVudGlhbHM9dGhpcy5hLmYudGVzdChhKTt0aGlzLmI9YX0KZnVuY3Rpb24gZWQoYSxiKXt2YXIgYz1hLmIsZD1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImRldGVjdF9saXZlX3N0cmVhbV9lbmRlZF9mcm9tX3Jlc3BvbnNlX2hlYWRlcnMiLCExKTtjLncoZCk7cmV0dXJuIGMuZmV0Y2goYS5hLG51bGwsYixudWxsLG51bGwsIm1hbmlmZXN0IikudGhlbihmdW5jdGlvbihhKXthIGluc3RhbmNlb2YgQXJyYXlCdWZmZXImJihhPVN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCxuZXcgVWludDhBcnJheShhKSkpO3ZhciBmPWQmJiEhYy5tLGc7YiYmKGc9Yi5nZXRPcGVyYXRpb25Mb2dnZXIoInBhcnNlX21hbmlmZXN0Iikuc3RhcnQoKSk7YT1lYyhhLGMuYyxbYy5pXSk7ZyYmZy5sb2coKTthJiYiZHluYW1pYyI9PT1hLnR5cGUmJmYmJihhLnR5cGU9InN0YXRpYyIsYiYmQmFuemFpT0RTLmJ1bXBFbnRpdHlLZXkoMjk2NiwidmlkZW9zLnd3dy5zaGFrYSIsImNoYW5nZWRfbWFuaWZlc3RfdG9fZHluYW1pY19vZmZfaGVhZGVycyIpKTsKaWYoYSlyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGEpO2Y9RXJyb3IoIk1QRCBwYXJzZSBmYWlsdXJlLiIpO2YudHlwZT0iZGFzaCI7cmV0dXJuIFByb21pc2UucmVqZWN0KGYpfSl9ZnVuY3Rpb24gZmQoYSl7dGhpcy5hPW51bGw7dGhpcy5oPWE7dGhpcy5jPXRoaXMuZz10aGlzLmY9bnVsbDt0aGlzLmk9ITE7dGhpcy5qPXRoaXMuYj1udWxsfTtmdW5jdGlvbiBnZChhLGIpe3RoaXMuYT1hO3RoaXMuYj1ifHxudWxsfWdkLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5hJiYodGhpcy5hLkthKCksdGhpcy5hPW51bGwpO3RoaXMuYj1udWxsfTtnZC5wcm90b3R5cGUuY3JlYXRlPWZ1bmN0aW9uKGEsYil7dmFyIGM9bnVsbDtiJiYoYz1uZXcgdGIsYy5kYT1iKTtyZXR1cm4hdGhpcy5iJiZ0aGlzLmE/dGhpcy5hLmZldGNoKGMsbnVsbCxhLG51bGwsbnVsbCwiaW5pdCIpOlByb21pc2UucmVzb2x2ZSh0aGlzLmIpfTtnZC5wcm90b3R5cGUuYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmF9O2dkLnByb3RvdHlwZS5nZXRGYWlsb3ZlclVyaT1nZC5wcm90b3R5cGUuYztmdW5jdGlvbiBoZChhLGIpe3RoaXMuc2VnbWVudE9yaWdpbmFsRW5kVGltZT1hO3RoaXMuZ2FwRGlzdGFuY2U9Yn1mdW5jdGlvbiBpZChhLGIsYyxkLGUsZixnKXt0aGlzLnN0YXJ0VGltZT1hO3RoaXMuZW5kVGltZT1iO3RoaXMudXJsPWM7dGhpcy51bnNjYWxlZFN0YXJ0VGltZT1kO3RoaXMudW5zY2FsZWREdXJhdGlvbj1lO3RoaXMudGltZXNjYWxlZEdhcEluZm89Znx8bnVsbDt0aGlzLmlzUHJlZGljdGl2ZT1nfHwhMTt0aGlzLmRlYnVnSW5mbz10aGlzLnRpbWVzY2FsZWRHYXBJbmZvP3tlbmRUaW1lOnRoaXMudGltZXNjYWxlZEdhcEluZm8uc2VnbWVudE9yaWdpbmFsRW5kVGltZSxkZWx0YTp0aGlzLnRpbWVzY2FsZWRHYXBJbmZvLmdhcERpc3RhbmNlfTpudWxsfWZ1bmN0aW9uIGpkKGEsYixjKXtyZXR1cm4gbmV3IGlkKGIsYyxhLnVybCxhLnVuc2NhbGVkU3RhcnRUaW1lLGEudW5zY2FsZWREdXJhdGlvbixhLnRpbWVzY2FsZWRHYXBJbmZvLGEuaXNQcmVkaWN0aXZlKX0KZnVuY3Rpb24geWIoYSxiKXtpZihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInVzZV9iaW5hcnlfc2VhcmNoX3doZW5fZmluZGluZ19zZWdtZW50X3JlZmVyZW5jZXMiLCExKSlyZXR1cm4gQmluYXJ5U2VhcmNoLmZpbmRJbmRleEluQXJyYXkoYSxiLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGI+PWEuc3RhcnRUaW1lJiYobnVsbD09YS5lbmRUaW1lfHxiPGEuZW5kVGltZSk/MDphLnN0YXJ0VGltZS1ifSk7Zm9yKHZhciBjPWEubGVuZ3RoLTE7MDw9YzstLWMpe3ZhciBkPWFbY107aWYoYj49ZC5zdGFydFRpbWUmJihudWxsPT1kLmVuZFRpbWV8fGI8ZC5lbmRUaW1lKSlyZXR1cm4gY31yZXR1cm4tMX1mdW5jdGlvbiBrZChhLGIpe3JldHVybiBhLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gamQoYSxhLnN0YXJ0VGltZStiLG51bGwhPWEuZW5kVGltZT9hLmVuZFRpbWUrYjpudWxsKX0pfTtmdW5jdGlvbiBsZChhLGIsYyxkKXtmb3IodmFyIGU9Yi5hLGY9W10sZz0wO2c8ZDsrK2cpe3ZhciBoPWcrYyxrPShoLTEpKmUuSCxsPWsvZS5zLG09KGsrZS5IKS9lLnMsaD1tZChhLGIsZS5iK2gtMSxrKTtpZighaClyZXR1cm4gbnVsbDtmLnB1c2gobmV3IGlkKGwsbSxoLGssZS5IfHwwKSl9cmV0dXJuIGZ9ZnVuY3Rpb24gbWQoYSxiLGMsZCxlLGYpe2lmKCFiLmEpcmV0dXJuIG51bGw7ZT1lfHwhMTt2YXIgZz1iLmEuZixoPWIuYS5DLmE7aWYoIWcpcmV0dXJuIGIuYmFzZVVybD9uZXcgSyhhLGIuYmFzZVVybCwwLG51bGwsdm9pZCAwLGYpOm51bGw7Yz1uZChlJiZoP2g6ZyxiLmlkLGMsYi5iYW5kd2lkdGgsZCk7aWYoIWMpcmV0dXJuIG51bGw7Yj1aYyhiLmJhc2VVcmwsYyk7cmV0dXJuIG5ldyBLKGEsYiwwLG51bGwsZSxmKX0KZnVuY3Rpb24gbmQoYSxiLGMsZCxlKXt2YXIgZj17UmVwcmVzZW50YXRpb25JRDpiLE51bWJlcjpjLEJhbmR3aWR0aDpkLFRpbWU6ZX07YT1hLnJlcGxhY2UoL1wkKFJlcHJlc2VudGF0aW9uSUR8TnVtYmVyfEJhbmR3aWR0aHxUaW1lKT8oPzolMChbMC05XSspZCk/XCQvZyxmdW5jdGlvbihhLGIsYyl7aWYoIiQkIj09YSlyZXR1cm4iJCI7dmFyIGQ9ZltiXTtpZihudWxsPT1kKXJldHVybiBhOyJSZXByZXNlbnRhdGlvbklEIj09YiYmYyYmKGM9dm9pZCAwKTthPWQudG9TdHJpbmcoKTtjPXdpbmRvdy5wYXJzZUludChjLDEwKXx8MTtjPU1hdGgubWF4KDAsYy1hLmxlbmd0aCk7cmV0dXJuIEFycmF5KGMrMSkuam9pbigiMCIpK2F9KTt0cnl7cmV0dXJuIG5ldyBMKGEpfWNhdGNoKGcpe2lmKGcgaW5zdGFuY2VvZiBVUklFcnJvcilyZXR1cm4gbnVsbDt0aHJvdyBnO319CmZ1bmN0aW9uIG9kKGEsYixjLGQsZSxmKXt2YXIgZz0wLGg9YypiO2M9YS5OO3ZhciBrPWR8fDA7ZD1bXTt2YXIgbD1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigibGl2ZV9yZXdpbmRfdGVtcGxhdGVkX2xhc3RfeF9zZWdtZW50c19vbmx5IiwwKSxtPVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgidGVtcGxhdGVkX2xhc3RfeF90aW1lbGluZSIsITEpJiZlJiZudWxsIT1mLHA9ZSYmbT9WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigidGVtcGxhdGVkX2luZ2VzdF90aHJvdHRsZSIsMCk6MDtpZihsfHxtKXtmb3IoZT0wO2U8Yy5sZW5ndGg7KytlKXtpZighY1tlXS5kdXJhdGlvbilyZXR1cm4gZDt2YXIgdD1jW2VdLnN0YXJ0VGltZSx0PW51bGwhPXQ/dDpnLHc9Y1tlXS5yZXBlYXR8fDA7aWYoMD53KWlmKHc9Y1tlXS5kdXJhdGlvbixlKzE9PT1jLmxlbmd0aCl2YXIgej1jWzBdLnN0YXJ0VGltZStoLXQsdz1NYXRoLmNlaWwoei8KdyktMTtlbHNlIHo9Y1tlKzFdLnN0YXJ0VGltZSx3PU1hdGguY2VpbCgoei10KS93KS0xO2NbZV0uc3RhcnRUaW1lPXQ7Y1tlXS5yZXBlYXQ9dztnPWNbZV0uc3RhcnRUaW1lK2NbZV0uZHVyYXRpb24qKGNbZV0ucmVwZWF0KzEpfWZvcihlPWMubGVuZ3RoLTE7LTE8ZTstLWUpZm9yKHZhciBIPTA7SDw9Y1tlXS5yZXBlYXQ7KytIKWlmKHQ9Y1tlXS5zdGFydFRpbWUrY1tlXS5kdXJhdGlvbiooY1tlXS5yZXBlYXQtSCksZz10K2NbZV0uZHVyYXRpb24sYT1udWxsLGQubGVuZ3RoJiZnIT1kW2QubGVuZ3RoLTFdLnN0YXJ0JiYoej1kW2QubGVuZ3RoLTFdLnN0YXJ0LWcsYT1uZXcgaGQoZy9iLHovYiksZz1kW2QubGVuZ3RoLTFdLnN0YXJ0KSxkLnB1c2goe3N0YXJ0OnQsZW5kOmd9KSxhJiYoZFtkLmxlbmd0aC0xXS50aW1lc2NhbGVkR2FwSW5mbz1hKSxsKXtpZihkLmxlbmd0aD09PWwpcmV0dXJuIGQ9ZC5yZXZlcnNlKCl9ZWxzZSBpZihtJiZkW2QubGVuZ3RoLTFdLnN0YXJ0PD1mKXJldHVybiBkLnBvcCgpLApkPWQucmV2ZXJzZSgpLDA8cCYmKGQ9ZC5zbGljZSgwLHApKSxkO3JldHVybiBkLnJldmVyc2UoKX1mb3IoZT0wO2U8Yy5sZW5ndGg7KytlKXtpZighY1tlXS5kdXJhdGlvbilyZXR1cm4gZDt0PWNbZV0uc3RhcnRUaW1lO3Q9bnVsbCE9dD90Omc7dz1jW2VdLnJlcGVhdHx8MDswPncmJih3PWNbZV0uZHVyYXRpb24sZSsxPT09Yy5sZW5ndGg/KHo9Y1swXS5zdGFydFRpbWUraC10LHc9TWF0aC5jZWlsKHovdyktMSk6KHo9Y1tlKzFdLnN0YXJ0VGltZSx3PU1hdGguY2VpbCgoei10KS93KS0xKSk7MDxkLmxlbmd0aCYmdCE9ZyYmKHo9dC1nLGY9ZFtkLmxlbmd0aC0xXSxmLnRpbWVzY2FsZWRHYXBJbmZvPW5ldyBoZChnL2Isei9iKSxmLmVuZD10KTtmb3IoSD0wO0g8PXc7KytIKWc9dCtjW2VdLmR1cmF0aW9uLGQucHVzaCh7c3RhcnQ6dCxlbmQ6Z30pLHQ9Z31pZihhLmEmJjA8Yy5sZW5ndGgpZm9yKGI9Y1swXS5kdXJhdGlvbixmPTA7ZjxrO2YrKylkLnB1c2goe3N0YXJ0OnQrZipiLGVuZDp0KwooZisxKSpiLHVkOmEuYitmfSk7cmV0dXJuIGR9O2Z1bmN0aW9uIHBkKGEsYixjLGQsZSl7dGhpcy53PWE7dGhpcy5tPWI7dGhpcy5jPWM7dGhpcy5XPTA7dGhpcy5CPSEwO3RoaXMucz1jLnN8fDA7dGhpcy5BPSExO3RoaXMuZz1udWxsO3RoaXMudT1kO3RoaXMuaj1jLkx8fDA7dGhpcy5iPTA7dGhpcy5pPXRoaXMuaD1udWxsO2E6e2I9Yy5DO3ZhciBmPTA7YT0oYS5kdXJhdGlvbnx8MCkqdGhpcy5zO2M9Yi5OO2ZvcihkPTA7ZDxjLmxlbmd0aDsrK2Qpe2lmKCFjW2RdLmR1cmF0aW9uKXtiLk49Yy5zbGljZSgwLGQpO2JyZWFrIGF9dmFyIGc9Y1tkXS5zdGFydFRpbWUsZj1udWxsIT1nP2c6ZixnPWNbZF0ucmVwZWF0fHwwOzA+ZyYmKGc9Y1tkXS5kdXJhdGlvbixnPWQrMT09PWMubGVuZ3RoP01hdGguY2VpbCgoY1swXS5zdGFydFRpbWUrYS1mKS9nKS0xOk1hdGguY2VpbCgoY1tkKzFdLnN0YXJ0VGltZS1mKS9nKS0xKTtjW2RdLnN0YXJ0VGltZT1mO2NbZF0ucmVwZWF0PWc7Zj1jW2RdLnN0YXJ0VGltZStjW2RdLmR1cmF0aW9uKihjW2RdLnJlcGVhdCsKMSl9fXRoaXMuZj1bXTt0aGlzLm89VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoInRpbWVsaW5lX3NlZ21lbnRfaW5kZXhfbWF4X2luZGV4X2NhY2hlX2xlbmd0aCIsMCk7dGhpcy5iPVNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscy5sZW5ndGgodGhpcy5jLkMuTik7dGhpcy5EPWV8fG51bGx9cGQucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmI9dGhpcy5jPXRoaXMubT10aGlzLnc9bnVsbDt0aGlzLmc9ZnVuY3Rpb24oKXt9O3RoaXMuZj10aGlzLnU9bnVsbH07cGQucHJvdG90eXBlLmxlbmd0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmJ9O2Z1bmN0aW9uIHFkKGEsYil7Zm9yKHZhciBjPWEuZi5sZW5ndGgtMTstMTxjO2MtLSlpZihhLmZbY10uaW5kZXg9PT1iKXt2YXIgZD1hLmZbY107YS5mLnNwbGljZShjLDEpO2EuZi5wdXNoKGQpO3JldHVybiBkLnhkfXJldHVybiBudWxsfQpmdW5jdGlvbiByZChhLGIsYyl7dmFyIGQ9W107aWYoYS5vJiYxPT09Yy1iKXt2YXIgZT1xZChhLGIpO2lmKGUpcmV0dXJuW2VdfXZhciBmPS1hLmovYS5zK2EuVztTaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMuZ2V0U2VnbWVudHMoYixjLGEuYy5DLk4sZnVuY3Rpb24oYSxlLGssbCxtKXtpZihsKXt2YXIgcD1kW2QubGVuZ3RoLTFdO3AmJihwLnRpbWVzY2FsZWRHYXBJbmZvPW5ldyBoZChtL3RoaXMucyxsL3RoaXMucykscC5kZWJ1Z0luZm89e2VuZFRpbWU6cC50aW1lc2NhbGVkR2FwSW5mby5zZWdtZW50T3JpZ2luYWxFbmRUaW1lLGRlbHRhOnAudGltZXNjYWxlZEdhcEluZm8uZ2FwRGlzdGFuY2V9LGRbZC5sZW5ndGgtMV09amQocCxwLnN0YXJ0VGltZSxhL3RoaXMucytmKSl9az1tZCh0aGlzLnUsdGhpcy5tLGsrdGhpcy5jLmIsYSx2b2lkIDAsdGhpcy5EKTtpZighayl0aHJvdyBhPUVycm9yKCJGYWlsZWQgdG8gZ2VuZXJhdGUgbWVkaWEgVVJMLiIpLGEudHlwZT0iZGFzaCIsCmE7YT1uZXcgaWQoYS90aGlzLnMrZixlL3RoaXMucytmLGssYSxlLWEsbnVsbCk7ZT1iK2QubGVuZ3RoO2QucHVzaChhKTshdGhpcy5vfHwwIT09ZSYmZSE9PXRoaXMuYi0xJiYxIT09Yy1ifHxxZCh0aGlzLGUpfHwodGhpcy5mLmxlbmd0aCsxPnRoaXMubyYmdGhpcy5mLnNoaWZ0KCksdGhpcy5mLnB1c2goe2luZGV4OmUseGQ6YX0pKX0uYmluZChhKSk7cmV0dXJuIGR9CmZ1bmN0aW9uIHNkKGEsYil7dmFyIGM9Yi51bnNjYWxlZFN0YXJ0VGltZSxkPWIudW5zY2FsZWRFbmRUaW1lLGU9Yi5kZWx0YSxmPWIucHJldmlvdXNFbmRUaW1lO2lmKGUpdmFyIGc9bmV3IGhkKGYvYS5zLGUvYS5zKTtlPW1kKGEudSxhLm0sYi5zZWdtZW50UmVwbGFjZW1lbnQrYS5jLmIsYyx2b2lkIDAsYS5EKTtpZighZSl0aHJvdyBjPUVycm9yKCJGYWlsZWQgdG8gZ2VuZXJhdGUgbWVkaWEgVVJMLiIpLGMudHlwZT0iZGFzaCIsYztmPS1hLmovYS5zK2EuVztyZXR1cm4gbmV3IGlkKGMvYS5zK2YsZC9hLnMrZixlLGMsZC1jLGd8fG51bGwpfXBkLnByb3RvdHlwZS5nZXRTZWdtZW50cz1mdW5jdGlvbigpe3JldHVybiByZCh0aGlzLDAsdGhpcy5iKXx8W119OwpwZC5wcm90b3R5cGUuZmlyc3Q9ZnVuY3Rpb24oKXtpZighdGhpcy5iKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbmRleCBvdXQgb2YgcmFuZ2UuIik7aWYoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJvcHRpbWl6ZV9jb21tb25fc2VnbWVudF9nZW5lcmF0aW9ucyIsITEpKXtpZih0aGlzLmgpcmV0dXJuIHRoaXMuaDt2YXIgYT1TaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMuZmlyc3QodGhpcy5jLkMuTix0aGlzLmIpO3JldHVybiB0aGlzLmg9c2QodGhpcyxhKX1yZXR1cm4gcmQodGhpcywwLDEpWzBdfTsKcGQucHJvdG90eXBlLmxhc3Q9ZnVuY3Rpb24oKXtpZighdGhpcy5iKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbmRleCBvdXQgb2YgcmFuZ2UuIik7aWYoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJvcHRpbWl6ZV9jb21tb25fc2VnbWVudF9nZW5lcmF0aW9ucyIsITEpKXtpZih0aGlzLmkpcmV0dXJuIHRoaXMuaTt2YXIgYT1TaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMubGFzdCh0aGlzLmMuQy5OLHRoaXMuYik7cmV0dXJuIHRoaXMuaT1zZCh0aGlzLGEpfXJldHVybiByZCh0aGlzLHRoaXMuYi0xLHRoaXMuYilbMF19OwpwZC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGEpe2lmKCF0aGlzLmJ8fDA+YXx8YT49dGhpcy5iKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbmRleCBvdXQgb2YgcmFuZ2UuIik7cmV0dXJuIFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgib3B0aW1pemVfY29tbW9uX3NlZ21lbnRfZ2VuZXJhdGlvbnMiLCExKT8oYT1TaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMuZ2V0KHRoaXMuYy5DLk4sYSx0aGlzLmIpLHNkKHRoaXMsYSkpOnJkKHRoaXMsYSxhKzEpWzBdfTsKcGQucHJvdG90eXBlLmZpbmQ9ZnVuY3Rpb24oYSl7aWYoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJmaXhfY29tcG9zaXRlZF90aW1lX2luZGV4X2NhbGxzIiwhMSkpcmV0dXJuKGE9U2hha2FUaW1lbGluZVNlZ21lbnRJbmRleFV0aWxzLmZpbmQoYSx0aGlzLmMuQy5OLHRoaXMucywtdGhpcy5qL3RoaXMucyt0aGlzLlcpKT9zZCh0aGlzLGEpOm51bGw7YT10aGlzLmZpbmRJbmRleChhKTtyZXR1cm4gVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJvcHRpbWl6ZV9jb21tb25fc2VnbWVudF9nZW5lcmF0aW9ucyIsITEpPzA8PWE/dGhpcy5nZXQoYSk6bnVsbDowPD1hP3JkKHRoaXMsYSxhKzEpWzBdOm51bGx9O3BkLnByb3RvdHlwZS5maW5kSW5kZXg9ZnVuY3Rpb24oYSl7cmV0dXJuIFNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscy5maW5kSW5kZXgoYSx0aGlzLmMuQy5OLHRoaXMucywtdGhpcy5qL3RoaXMucyt0aGlzLlcpfTtuPXBkLnByb3RvdHlwZTsKbi5TYT1mdW5jdGlvbihhKXt2YXIgYj1hLmxlbmd0aCgpLGM9Yi10aGlzLmI7aWYoMCE9PWImJihiIT09dGhpcy5ifHwwIT09dGhpcy5iJiZhLmxhc3QoKS5lbmRUaW1lIT09dGhpcy5sYXN0KCkuZW5kVGltZSkmJiEoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJmaXhfaW50ZWdyYXRpb25fb25fZWFybGllcl9lbmR0aW1lIiwhMSkmJmEubGFzdCgpLmVuZFRpbWU8PXRoaXMubGFzdCgpLmVuZFRpbWUpKWlmKHRoaXMuQT0hMSxiPWEubGFzdCgpLG51bGwhPWIuZW5kVGltZSYmYi5lbmRUaW1lPHRoaXMubGFzdCgpLmVuZFRpbWUmJmIuZW5kVGltZTx0aGlzLmZpcnN0KCkuc3RhcnRUaW1lJiYodGhpcy5BPSEwKSxWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImludGVncmF0ZV9zZWdtZW50X3RpbWVsaW5lX3RpbWVfcG9pbnRzIiwhMSk/dGhpcy5jLkMuTj1TaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMuaW50ZWdyYXRlVGltZVBvaW50cyh0aGlzLmMuQy5OLAphLmMuQy5OKToodGhpcy53PWEudyx0aGlzLm09YS5tLHRoaXMuYz1hLmMsdGhpcy5qPXRoaXMuYy5MfHwwLHRoaXMucz10aGlzLmMuc3x8MCksdGhpcy5mPVtdLHRoaXMuaT10aGlzLmg9bnVsbCx0aGlzLmI9U2hha2FUaW1lbGluZVNlZ21lbnRJbmRleFV0aWxzLmxlbmd0aCh0aGlzLmMuQy5OKSx0aGlzLmZpcnN0KCksdGhpcy5sYXN0KCksVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJ0ZW1wbGF0ZWRfY2FsbF9vbl9zZWdtZW50c191cGRhdGVkX3dpdGhfZGVsdGFfc2VnbWVudHMiLCExKSl7dmFyIGQ9W10sYz10aGlzLmItYztmb3IoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJ0ZW1wbGF0ZWRfZHluYW1pY19pbmNsdWRlX3ByZXZpb3VzX2xhc3Rfc2VnbWVudF9pbl91cGRhdGVzIiwhMSkmJjA8YyYmYy0tO2M8dGhpcy5iOysrYylkLnB1c2godGhpcy5nZXQoYykpO3RoaXMuZyYmdGhpcy5nKGQpfWVsc2UgYz0hVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJub19wcm92aWRlX3NlZ21lbnRzX3RvX29uX3NlZ21lbnRzX3VwZGF0ZWRfbGlzdGVuZXJzIiwKITEpLHRoaXMuZyYmKGMmJihkPXRoaXMuZ2V0U2VnbWVudHMoKSksdGhpcy5nKGQpKX07bi5oYj1mdW5jdGlvbihhKXt2YXIgYj1hLXRoaXMuVztpZigwPT1iKXJldHVybiAwO3RoaXMuVz1hO3RoaXMuaT10aGlzLmg9bnVsbDt0aGlzLmY9W107cmV0dXJuIGJ9O24uaWI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iP3tzdGFydDp0aGlzLmZpcnN0KCkuc3RhcnRUaW1lLGVuZDp0aGlzLmxhc3QoKS5lbmRUaW1lfTp7c3RhcnQ6MCxlbmQ6MH19O24uZ2V0U2Vla1JhbmdlR2Fwcz1mdW5jdGlvbigpe3JldHVybiBTaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMuZ2V0U2Vla1JhbmdlR2Fwcyh0aGlzLmMuQy5OLHRoaXMucywtdGhpcy5qL3RoaXMucyt0aGlzLlcpfTtuLnJiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuQX07bi5HYz1mdW5jdGlvbihhKXt0aGlzLmc9YX07bi5GYz1mdW5jdGlvbigpe3RoaXMuZz1udWxsfTtuLklhPWZ1bmN0aW9uKCl7fTtmdW5jdGlvbiB0ZCgpe30KdGQucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9bnVsbDt0cnl7YTp7dmFyIGc9W10saD1uZXcgQmEoYSksaz12KGgpO2lmKDE5MzYyODY4NDAhPXYoaCkpZj1udWxsO2Vsc2V7MT09ayYmKGs9RmEoaCkpO3ZhciBsPUVhKGgpO0hhKGgsMyk7SGEoaCw0KTt2YXIgbT12KGgpO2lmKDA9PW0pZj1udWxsO2Vsc2V7dmFyIHAsdDswPT1sPyhwPXYoaCksdD12KGgpKToocD1GYShoKSx0PUZhKGgpKTtIYShoLDIpO3ZhciB3PWguYi5nZXRVaW50MTYoaC5hLGguYyk7aC5hKz0yO2E9cDtiPWIrayt0O2Zvcih0PWs9MDt0PHc7dCsrKXt2YXIgej12KGgpO3A9KHomMjE0NzQ4MzY0OCk+Pj4zMTt2YXIgbD16JjIxNDc0ODM2NDcsSD12KGgpO3YoaCk7aWYoMT09cCl7Zj1udWxsO2JyZWFrIGF9dmFyIGRhO2RhPTA9PXQmJmU/ZTpuZXcgSyhkLGMsYixiK2wtMSk7cD1hL207dmFyIGVhPShhK0gpL207MD09PXQmJihrPXApO2cucHVzaChuZXcgaWQocC1rLGVhLWssZGEsCmEsSCkpO2ErPUg7Yis9bH1nLnM9bTtmPWd9fX19Y2F0Y2goQWEpe2lmKCEoQWEgaW5zdGFuY2VvZiBSYW5nZUVycm9yKSl0aHJvdyBBYTt9cmV0dXJuIGZ9O2Z1bmN0aW9uIFIoYSl7dGhpcy5hPWE7dGhpcy5zPXRoaXMuYS5zO3RoaXMuSz10aGlzLmEuQjt0aGlzLmc9W119Ui5wcm90b3R5cGUuSj1mdW5jdGlvbigpe3JldHVybiEhdGhpcy5nW3RoaXMuZy5sZW5ndGgtMV19O1IucHJvdG90eXBlLmxhc3RQb2xsSGFkQ2hhbmdlcz1SLnByb3RvdHlwZS5KO1IucHJvdG90eXBlLkk9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmcsYj1hLmxhc3RJbmRleE9mKCEwKTtpZigxPmIpcmV0dXJuIDA7YT1hLmxhc3RJbmRleE9mKCEwLGItMSk7cmV0dXJuIDA+YT8wOmItYS0xfTtSLnByb3RvdHlwZS5nZXRGZXRjaGVzQmV0d2VlblJlY2VudENoYW5nZXM9Ui5wcm90b3R5cGUuSTtSLnByb3RvdHlwZS51PWZ1bmN0aW9uKCl7cmV0dXJuIE1hdGguZmxvb3IoKHRoaXMuZy5sZW5ndGgtMS10aGlzLmcubGFzdEluZGV4T2YoITApKS8yKX07Ui5wcm90b3R5cGUuZ2V0Q29uc2VjdXRpdmVVcGRhdGVzV2l0aG91dENoYW5nZXM9Ui5wcm90b3R5cGUudTsKUi5wcm90b3R5cGUuRz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmcubGVuZ3RoLTEtdGhpcy5nLmxhc3RJbmRleE9mKCExKX07Ui5wcm90b3R5cGUuZ2V0Q29uc2VjdXRpdmVVcGRhdGVzV2l0aENoYW5nZXM9Ui5wcm90b3R5cGUuRztSLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5hLmRlc3Ryb3koKTt0aGlzLmE9bnVsbH07Ui5wcm90b3R5cGUubGVuZ3RoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS5sZW5ndGgoKX07Ui5wcm90b3R5cGUuZ2V0U2VnbWVudHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLmdldFNlZ21lbnRzKCl9O1IucHJvdG90eXBlLmdldFNlZ21lbnRzPVIucHJvdG90eXBlLmdldFNlZ21lbnRzO1IucHJvdG90eXBlLmZpcnN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS5maXJzdCgpfTtSLnByb3RvdHlwZS5sYXN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS5sYXN0KCl9O1IucHJvdG90eXBlLmxhc3Q9Ui5wcm90b3R5cGUubGFzdDsKUi5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmEuZ2V0KGEpfTtSLnByb3RvdHlwZS5maW5kPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmEuZmluZChhKX07Ui5wcm90b3R5cGUuZmluZEluZGV4PWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmEuZmluZEluZGV4KGEpfTtSLnByb3RvdHlwZS5CPWZ1bmN0aW9uKGEpe3RoaXMuYS5TYShhLmEpO3JldHVybiEwfTtSLnByb3RvdHlwZS5UYT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5hLmhiKGEpfTtSLnByb3RvdHlwZS5BPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS5pYigpfTtSLnByb3RvdHlwZS5nZXRTZWVrUmFuZ2VHYXBzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS5nZXRTZWVrUmFuZ2VHYXBzKCl9O1IucHJvdG90eXBlLmdldFNlZWtSYW5nZUdhcHM9Ui5wcm90b3R5cGUuZ2V0U2Vla1JhbmdlR2FwcztSLnByb3RvdHlwZS5yYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmEucmIoKX07CmZ1bmN0aW9uIHVkKGEsYil7YS5hLkdjKGIpfTtmdW5jdGlvbiBTKGEsYixjLGQpe1IuY2FsbCh0aGlzLGEpO3RoaXMuaT1iO3RoaXMuRj1jO3RoaXMuaD1kO3RoaXMuZHVyYXRpb249dGhpcy5pLmJ8fHRoaXMuaS5hLnJlZHVjZShmdW5jdGlvbihhLGIpe3JldHVybiBudWxsPT1iLmR1cmF0aW9uP05hTjphK2IuZHVyYXRpb259LDApfHwwO3RoaXMuYj10aGlzLm89dGhpcy5mPW51bGw7eWQodGhpcyl9cihTLFIpO1MucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLkY9dGhpcy5pPW51bGw7Ui5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpfTtTLnByb3RvdHlwZS5maW5kPWZ1bmN0aW9uKGEpe3pkKHRoaXMseWEoKS8xRTMpO3JldHVybiBSLnByb3RvdHlwZS5maW5kLmNhbGwodGhpcyxhKX07ClMucHJvdG90eXBlLkI9ZnVuY3Rpb24oYSl7aWYoIShhIGluc3RhbmNlb2YgUykpcmV0dXJuITE7dGhpcy5hLlNhKGEuYSk7dGhpcy5kdXJhdGlvbj1NYXRoLm1heCh0aGlzLmR1cmF0aW9uLGEuZHVyYXRpb24pO251bGw9PXRoaXMuZj8odGhpcy5oPWEuaCx5ZCh0aGlzKSk6QWQodGhpcyk7cmV0dXJuITB9O2Z1bmN0aW9uIHlkKGEpe0FkKGEpO2lmKDAhPWEubGVuZ3RoKCkpe2EubGVuZ3RoKCk7dmFyIGI9bnVsbCE9YS5sYXN0KCkuZW5kVGltZT9hLmxhc3QoKS5lbmRUaW1lOmEubGFzdCgpLnN0YXJ0VGltZTtpZihhLmkuYz5hLmgpYS5mPWI7ZWxzZXt2YXIgYz1hLmgtKGEuaS5jK2EuRi5zdGFydCk7MD5jP2EuZj1iOmM8TWF0aC5tYXgoYS5sYXN0KCkuc3RhcnRUaW1lLGEubGFzdCgpLmVuZFRpbWV8fDApPyhhLmxhc3QoKSxhLmY9Yik6YS5mPWN9YS5vPWEubGFzdCgpLnN0YXJ0VGltZTthLmI9YS5maXJzdCgpLnN0YXJ0VGltZX19ClMucHJvdG90eXBlLlRhPWZ1bmN0aW9uKGEpe2E9Ui5wcm90b3R5cGUuVGEuY2FsbCh0aGlzLGEpO1ZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgibm9fY29ycmVjdF9kZWx0YV93YXJuaW5nIiwhMSl8fE1hdGgubWluLmFwcGx5KG51bGwsdGhpcy5nZXRTZWdtZW50cygpLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YS5lbmRUaW1lfSkubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLmVuZFRpbWUtYS5zdGFydFRpbWV9KSk7bnVsbCE9dGhpcy5mJiYodGhpcy5vKz1hLHRoaXMuYis9YSx0aGlzLmYrPWEpO3JldHVybiBhfTtTLnByb3RvdHlwZS5BPWZ1bmN0aW9uKCl7cmV0dXJuIEJkKHRoaXMseWEoKS8xRTMpfTsKZnVuY3Rpb24gQmQoYSxiKXt6ZChhLGIpO2lmKG51bGw9PWEuZnx8bnVsbD09YS5vfHxudWxsPT1hLmIpcmV0dXJue3N0YXJ0OjAsZW5kOjB9O3ZhciBjPU51bWJlci5QT1NJVElWRV9JTkZJTklUWTthLmR1cmF0aW9uJiYoYz1hLmR1cmF0aW9uKTt2YXIgZD1iLWEuaCxlPWEuZitkO251bGwhPWEuaS5mJiYoZT1lLWEuYi1hLmkuZiwwPGUmJihhLmIrPWUpKTthLmI9TWF0aC5taW4oYS5iLGMpO2Q9YS5vK2Q7aWYoZDxhLmIpcmV0dXJue3N0YXJ0OmEuYixlbmQ6YS5ifTtkPTA8YS5sZW5ndGgoKT9udWxsIT1hLmxhc3QoKS5lbmRUaW1lP01hdGgubWluKGQsYS5sYXN0KCkuZW5kVGltZSk6ZDphLmI7ZD1NYXRoLm1heChkLGEuYik7ZD1NYXRoLm1pbihkLGMpO3JldHVybntzdGFydDphLmIsZW5kOmR9fQpmdW5jdGlvbiB6ZChhLGIpe2lmKGEuYS5hJiYoQWQoYSksbnVsbCE9YS5pLmYpKWlmKG51bGw9PWEuZilhLmxlbmd0aCgpO2Vsc2V7Zm9yKHZhciBjPWEuZisoYi1hLmgpLGQ9MCxlPTA7ZTxhLmEuYS5sZW5ndGg7KytlKXt2YXIgZj1udWxsO2U8YS5hLmEubGVuZ3RoLTE/Zj1hLmEuYVtlKzFdLmVuZFRpbWU6KGY9YS5hLmFbZV0sZj1udWxsIT1mLmVuZFRpbWU/Zi5lbmRUaW1lKyhmLmVuZFRpbWUtZi5zdGFydFRpbWUpOm51bGwpO2lmKG51bGwhPWYmJmY8Yy1hLmkuZikrK2Q7ZWxzZSBicmVha30wPGQmJmEuYS5hLnNwbGljZSgwLGQpfX1mdW5jdGlvbiBBZChhKXtpZihhLmR1cmF0aW9uJiZhLmEuYSl7Zm9yKHZhciBiPTAsYz1hLmEuYS5sZW5ndGgtMTswPD1jOy0tYylpZihhLmEuYVtjXS5zdGFydFRpbWU+YS5kdXJhdGlvbikrK2I7ZWxzZSBicmVhazswPGImJmEuYS5hLnNwbGljZSgtYil9fTtmdW5jdGlvbiBUKGEsYixjKXt2YXIgZD1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigidGVtcGxhdGVkX3F1YXJhbnRpbmVfaWRsZV9yZWZlcmVuY2VzX3RocmVzaG9sZCIsMCk7dGhpcy5pPVtdO2lmKDA8ZCl7dmFyIGU9YTthPWUuc3BsaWNlKC1kKTt0aGlzLmk9ZX10aGlzLmE9YTt0aGlzLlc9MDt0aGlzLnM9Yjt0aGlzLmY9ITE7dGhpcy5oPWZ1bmN0aW9uKCl7fTt0aGlzLkI9Y3x8ITF9VC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuYT1udWxsfTtULnByb3RvdHlwZS5sZW5ndGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLmxlbmd0aH07VC5wcm90b3R5cGUuZ2V0U2VnbWVudHM9ZnVuY3Rpb24oKXtyZXR1cm4odGhpcy5hfHxbXSkuc2xpY2UoKX07VC5wcm90b3R5cGUuZ2V0U2VnbWVudHM9VC5wcm90b3R5cGUuZ2V0U2VnbWVudHM7ClQucHJvdG90eXBlLmZpcnN0PWZ1bmN0aW9uKCl7aWYoMD09dGhpcy5hLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiU2VnbWVudEluZGV4QmFzZTogVGhlcmUgaXMgbm8gZmlyc3QgU2VnbWVudFJlZmVyZW5jZS4iKTtyZXR1cm4gdGhpcy5hWzBdfTtULnByb3RvdHlwZS5sYXN0PWZ1bmN0aW9uKCl7aWYoMD09dGhpcy5hLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiU2VnbWVudEluZGV4QmFzZTogVGhlcmUgaXMgbm8gbGFzdCBTZWdtZW50UmVmZXJlbmNlLiIpO3JldHVybiB0aGlzLmFbdGhpcy5hLmxlbmd0aC0xXX07VC5wcm90b3R5cGUubGFzdD1ULnByb3RvdHlwZS5sYXN0O1QucHJvdG90eXBlLmdldD1mdW5jdGlvbihhKXtpZigwPmF8fGE+PXRoaXMuYS5sZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIlNlZ21lbnRJbmRleEJhc2U6IFRoZSBzcGVjaWZpZWQgaW5kZXggaXMgb3V0IG9mIHJhbmdlLiIpO3JldHVybiB0aGlzLmFbYV19OwpULnByb3RvdHlwZS5maW5kPWZ1bmN0aW9uKGEpe2E9dGhpcy5maW5kSW5kZXgoYSk7cmV0dXJuIDA8PWE/dGhpcy5hW2FdOm51bGx9O1QucHJvdG90eXBlLmZpbmRJbmRleD1mdW5jdGlvbihhKXtyZXR1cm4geWIodGhpcy5hLGEpfTsKVC5wcm90b3R5cGUuU2E9ZnVuY3Rpb24oYSl7dGhpcy5XIT1hLlcmJihhPW5ldyBUKGtkKGEuYSx0aGlzLlctYS5XKSxhLnMpKTtpZigwPT10aGlzLmxlbmd0aCgpKXRoaXMuYT1hLmEuc2xpY2UoMCksdGhpcy5JYSgpO2Vsc2UgaWYoMCE9YS5sZW5ndGgoKSYmbnVsbCE9dGhpcy5sYXN0KCkuZW5kVGltZSlpZihudWxsIT1hLmxhc3QoKS5lbmRUaW1lJiZhLmxhc3QoKS5lbmRUaW1lPHRoaXMubGFzdCgpLmVuZFRpbWUpVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJmaXhfbWFuaWZlc3Rfd3JhcHBlZCIsITApP2EubGFzdCgpLmVuZFRpbWU8dGhpcy5maXJzdCgpLnN0YXJ0VGltZSYmKHRoaXMuZj0hMCk6dGhpcy5mPSEwO2Vsc2V7dGhpcy5mPSExO2lmKHRoaXMubGFzdCgpLmVuZFRpbWU8PWEuZmlyc3QoKS5zdGFydFRpbWUpe3ZhciBiPWpkKHRoaXMubGFzdCgpLHRoaXMubGFzdCgpLnN0YXJ0VGltZSxhLmZpcnN0KCkuc3RhcnRUaW1lKSxjPXRoaXMubGFzdCgpLnVuc2NhbGVkU3RhcnRUaW1lKwp0aGlzLmxhc3QoKS51bnNjYWxlZER1cmF0aW9uO1ZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgiY2FsY3VsYXRlX21pc3NlZF9zZWdtZW50X2dhcF9pbmZvX29uX21lcmdlIiwhMSkmJmM8YS5maXJzdCgpLnVuc2NhbGVkU3RhcnRUaW1lJiZudWxsPT09dGhpcy5sYXN0KCkudGltZXNjYWxlZEdhcEluZm8mJihiLnRpbWVzY2FsZWRHYXBJbmZvPW5ldyBoZChjL3RoaXMucywoYS5maXJzdCgpLnVuc2NhbGVkU3RhcnRUaW1lLWMpL3RoaXMucykpO2lmKFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgidGVtcGxhdGVkX29wdGltaXplX21lcmdlX3RhcmdldF9hbGdvcyIsITEpKWZvcih0aGlzLmEucG9wKCksdGhpcy5hLnB1c2goYiksYz0wO2M8YS5hLmxlbmd0aDsrK2MpdGhpcy5hLnB1c2goYS5hW2NdKTtlbHNlIGI9dGhpcy5hLnNsaWNlKDAsLTEpLmNvbmNhdChbYl0pLHRoaXMuYT1iLmNvbmNhdChhLmEpfWVsc2V7Zm9yKGM9MDtjPHRoaXMuYS5sZW5ndGgmJgohKHRoaXMuYVtjXS5lbmRUaW1lPj1hLmZpcnN0KCkuc3RhcnRUaW1lKTsrK2MpO3RoaXMuYVtjXS5zdGFydFRpbWU8YS5maXJzdCgpLnN0YXJ0VGltZT8oYj1qZCh0aGlzLmFbY10sdGhpcy5hW2NdLnN0YXJ0VGltZSxhLmZpcnN0KCkuc3RhcnRUaW1lKSxiPXRoaXMuYS5zbGljZSgwLGMpLmNvbmNhdChbYl0pKToodGhpcy5maXJzdCgpLnN0YXJ0VGltZT5hLmZpcnN0KCkuc3RhcnRUaW1lfHxhLmZpcnN0KCksYj10aGlzLmEuc2xpY2UoMCxjKSk7dGhpcy5hPWIuY29uY2F0KGEuYSl9dGhpcy5oKGEuYSk7dGhpcy5JYSgpfX07VC5wcm90b3R5cGUuaGI9ZnVuY3Rpb24oYSl7dmFyIGI9YS10aGlzLlc7aWYoMD09YilyZXR1cm4gMDt0aGlzLmE9a2QodGhpcy5hLGIpO3RoaXMuSWEoKTt0aGlzLlc9YTtyZXR1cm4gYn07ClQucHJvdG90eXBlLmliPWZ1bmN0aW9uKCl7cmV0dXJuIDA8dGhpcy5sZW5ndGgoKT97c3RhcnQ6dGhpcy5maXJzdCgpLnN0YXJ0VGltZSxlbmQ6dGhpcy5sYXN0KCkuZW5kVGltZX06e3N0YXJ0OjAsZW5kOjB9fTtULnByb3RvdHlwZS5nZXRTZWVrUmFuZ2VHYXBzPWZ1bmN0aW9uKCl7cmV0dXJuIGdldFNlZWtSYW5nZUdhcHNGcm9tU2hha2FSZWZlcmVuY2VzKHRoaXMuYSx0aGlzLnMpfTtULnByb3RvdHlwZS5nZXRTZWVrUmFuZ2VHYXBzPVQucHJvdG90eXBlLmdldFNlZWtSYW5nZUdhcHM7VC5wcm90b3R5cGUucmI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mfTtULnByb3RvdHlwZS5HYz1mdW5jdGlvbihhKXt0aGlzLmg9YX07VC5wcm90b3R5cGUuRmM9ZnVuY3Rpb24oKXt0aGlzLmg9ZnVuY3Rpb24oKXt9fTtULnByb3RvdHlwZS5JYT1mdW5jdGlvbigpe307VC5wcm90b3R5cGUuZ2V0SWRsZVJlZmVyZW5jZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pfTtmdW5jdGlvbiBDZChhLGIsYyxkLGUpe3ZhciBmPTEsZz0wLGg7aWYoYS5jPmQpaD1udWxsO2Vsc2V7dmFyIGs9YS5vfHwwLGw9YS5mfHwwO2g9Yy5hO2g9aC5IL2guczt2YXIgbT1kLShhLmMrYi5zdGFydCk7MD5tP2g9bnVsbDoobD1tLTIqaC1sLDA+bCYmKGw9MCksbD1NYXRoLmNlaWwobC9oKSpoLG0tPWgsMD5tP2g9bnVsbDooaz1NYXRoLmZsb29yKG0vaCkqaC1rLDA+ayYmKGs9MCksaz1NYXRoLmZsb29yKGsvaCkqaCxoPXt0YzpsL2grMSxjdXJyZW50OihrPj1sP2s6bCkvaCsxfSkpfWgmJihmPWgudGMsZz1oLmN1cnJlbnQtaC50YysxKTtmPWxkKGUsYyxmLGcpO2lmKG51bGw9PWYpdGhyb3cgYT1FcnJvcigiRmFpbGVkIHRvIGdlbmVyYXRlIFNlZ21lbnRSZWZlcmVuY2VzLiIpLGEudHlwZT0ic3RyZWFtIixhO2Y9bmV3IFQoZixjLmEuc3x8MSk7Uy5jYWxsKHRoaXMsZixhLGIsZCk7dGhpcy53PWM7dGhpcy5tPXRoaXMuYz0wPHRoaXMubGVuZ3RoKCk/YS5jK2Iuc3RhcnQrdGhpcy5sYXN0KCkuZW5kVGltZToKbnVsbDt0aGlzLmo9aD9oLmN1cnJlbnQrMTpudWxsO3RoaXMuRD1lfXIoQ2QsUyk7Q2QucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLkQ9dGhpcy53PW51bGw7Uy5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpfTtDZC5wcm90b3R5cGUuZmluZD1mdW5jdGlvbihhKXt2YXIgYj15YSgpLzFFMztEZCh0aGlzLGIpO3pkKHRoaXMsYik7cmV0dXJuIFIucHJvdG90eXBlLmZpbmQuY2FsbCh0aGlzLGEpfTtDZC5wcm90b3R5cGUuQj1mdW5jdGlvbihhKXtpZihudWxsIT10aGlzLmN8fCEoYSBpbnN0YW5jZW9mIENkKXx8bnVsbD09YS5jKXJldHVybiExO3RoaXMuYz1hLmM7dGhpcy5tPWEubTt0aGlzLmo9YS5qO3RoaXMuaD1hLmg7dGhpcy5kdXJhdGlvbj1hLmR1cmF0aW9uO3RoaXMuYS5TYShhLmEpO0RkKHRoaXMseWEoKS8xRTMpO3lkKHRoaXMpO3JldHVybiEwfTsKQ2QucHJvdG90eXBlLlRhPWZ1bmN0aW9uKGEpe2E9Uy5wcm90b3R5cGUuVGEuY2FsbCh0aGlzLGEpO251bGwhPXRoaXMuYyYmKHRoaXMuYys9YSx0aGlzLm0rPWEpO3JldHVybiBhfTtDZC5wcm90b3R5cGUuQT1mdW5jdGlvbigpe3ZhciBhPXlhKCkvMUUzO0RkKHRoaXMsYSk7cmV0dXJuIEJkKHRoaXMsYSl9O2Z1bmN0aW9uIERkKGEsYil7aWYobnVsbCE9YS5jJiZudWxsIT1hLm0mJm51bGwhPWEuail7dmFyIGM9YS53LmEsYz1jLkgvYy5zLGQ9TWF0aC5mbG9vcigoYS5tKyhiLWEuaCktYS5jKS9jKTtpZigwIT1kKXt2YXIgZT1sZChhLkQsYS53LGEuaixkKTtBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShhLmEuYSxrZChlLGEuYS5XKSk7YS5hLklhKCk7YS5jKz1kKmM7YS5qKz1kfX19O2Z1bmN0aW9uIEVkKGEsYixjLGQsZSl7dGhpcy5nPWE7dGhpcy5mPWI7dGhpcy5iPWM7dGhpcy5pPWQ7dGhpcy5hPW51bGw7dGhpcy5oPWV9RWQucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmg9dGhpcy5iPXRoaXMuZj10aGlzLmc9bnVsbDt0aGlzLmEmJih0aGlzLmEuZGVzdHJveSgpLHRoaXMuYT1udWxsKX07CkVkLnByb3RvdHlwZS5jcmVhdGU9ZnVuY3Rpb24oKXtpZih0aGlzLmEpcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLmEpO2lmKCJkeW5hbWljIj09dGhpcy5nLnR5cGUpdHJ5e3RoaXMuYT1uZXcgQ2QodGhpcy5nLHRoaXMuZix0aGlzLmIsdGhpcy5pLHRoaXMuaCl9Y2F0Y2goYSl7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfWVsc2V7dmFyIGI7Yj10aGlzLmIuYTtpZihiPWxkKHRoaXMuaCx0aGlzLmIsMSxNYXRoLmNlaWwodGhpcy5mLmR1cmF0aW9uLyhiLkgvYi5zKSkpKXtpZigwPGIubGVuZ3RoKXt2YXIgYz1iW2IubGVuZ3RoLTFdO2JbYi5sZW5ndGgtMV09amQoYyxjLnN0YXJ0VGltZSx0aGlzLmYuZHVyYXRpb24pfWI9bmV3IFQoYix0aGlzLmIuYS5zfHwxKTtiPW5ldyBSKGIpfWVsc2UgYj1udWxsO3RoaXMuYT1iO2lmKCF0aGlzLmEpcmV0dXJuIGI9RXJyb3IoIkZhaWxlZCB0byBnZW5lcmF0ZSBTZWdtZW50UmVmZXJlbmNlcyIpLGIudHlwZT0ic3RyZWFtIixQcm9taXNlLnJlamVjdChiKX1yZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuYSl9OwpFZC5wcm90b3R5cGUuYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmF9O2Z1bmN0aW9uIEZkKGEsYixjLGQsZSxmKXt0aGlzLmY9YTt0aGlzLmI9Yjt0aGlzLmg9Yzt0aGlzLmE9bnVsbDt0aGlzLmk9ZDt0aGlzLmc9ZTt0aGlzLmo9Znx8bnVsbH1GZC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuZz10aGlzLmg9dGhpcy5iPXRoaXMuZj1udWxsO3RoaXMuYSYmKHRoaXMuYS5kZXN0cm95KCksdGhpcy5hPW51bGwpfTsKRmQucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbigpe2lmKHRoaXMuYSlyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuYSk7dmFyIGE9dGhpcy5oLmIsYj1bXTthLkMmJihiPW9kKGEuQyxhLnN8fDEsdGhpcy5iLmR1cmF0aW9ufHwwKSk7dmFyIGM9MDthLkgmJmEuYz9jPShhLmMtMSkqYS5IOjA8Yi5sZW5ndGgmJihjPWJbMF0uc3RhcnQtKGEuTHx8MCkpO3ZhciBkPWMsZT1hLmEubGVuZ3RoOzA8Yi5sZW5ndGgmJmIubGVuZ3RoIT1hLmEubGVuZ3RoJiYoZT1NYXRoLm1pbihiLmxlbmd0aCxhLmEubGVuZ3RoKSk7Zm9yKHZhciBmPVtdLGc9MDtnPGU7KytnKXt2YXIgaD1hLmFbZ10saz1jLGw9ay9hLnMsbT1jPW51bGwscDthLkg/KGM9aythLkgsbT1jL2Eucyk6MDxiLmxlbmd0aD8ocD1iW2ddLnRpbWVzY2FsZWRHYXBJbmZvLGM9YltnXS5lbmQtKGEuTHx8MCksbT1jL2Eucyk6KG09bCt0aGlzLmIuZHVyYXRpb24sYz1tKmEucyk7dmFyIHQ9MCx3PW51bGw7aC5hJiYodD1oLmEucWEsCnc9aC5hLmVuZCk7bT1NYXRoLm1pbih0aGlzLmIuZHVyYXRpb24rZC9hLnMsbSk7Zi5wdXNoKG5ldyBpZChsLG0sbmV3IEsodGhpcy5nLGguYix0LHcsdm9pZCAwLHRoaXMuaiksayxwfHxudWxsKSl9YT1uZXcgVChmLGEuc3x8MSk7ImR5bmFtaWMiPT10aGlzLmYudHlwZT90aGlzLmE9bmV3IFMoYSx0aGlzLmYsdGhpcy5iLHRoaXMuaSk6dGhpcy5hPW5ldyBSKGEpO3JldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5hKX07RmQucHJvdG90eXBlLmM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hfTtmdW5jdGlvbiBHZChhLGIsYyl7VC5jYWxsKHRoaXMsYSxjKTt0aGlzLmc9Yjt0aGlzLmI9ITE7dGhpcy5qPVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0U3RyaW5nKCJ0ZW1wbGF0ZWRfcGVyZl90ZXN0X21ldGhvZHNfdW5kZXJfdGVzdF9jc3Zfc3RyaW5nIiwiYWxsIikuc3BsaXQoIiwiKX1yKEdkLFQpO2Z1bmN0aW9uIEhkKGEsYil7aWYoISgtMTxhLmouaW5kZXhPZigiYWxsIil8fC0xPGEuai5pbmRleE9mKGIpKXx8YS5iKXJldHVybiBudWxsO3ZhciBjPWEuYTthLmE9YS5nO2EuYj0hMDtyZXR1cm4gY31mdW5jdGlvbiBJZChhLGIpe2EuYiYmKGEuZz1hLmEsYS5hPWIpfUdkLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7VC5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpO3RoaXMuZz1udWxsfTsKR2QucHJvdG90eXBlLmxlbmd0aD1mdW5jdGlvbigpe3ZhciBhPUhkKHRoaXMsImxlbmd0aCIpLGI9VC5wcm90b3R5cGUubGVuZ3RoLmNhbGwodGhpcyk7YSYmKElkKHRoaXMsYSksYj1ULnByb3RvdHlwZS5sZW5ndGguY2FsbCh0aGlzKSx0aGlzLmI9ITEpO3JldHVybiBifTtHZC5wcm90b3R5cGUuZ2V0U2VnbWVudHM9ZnVuY3Rpb24oKXt2YXIgYT1IZCh0aGlzLCJnZXRTZWdtZW50cyIpLGI9VC5wcm90b3R5cGUuZ2V0U2VnbWVudHMuY2FsbCh0aGlzKTthJiYoSWQodGhpcyxhKSxiPVQucHJvdG90eXBlLmdldFNlZ21lbnRzLmNhbGwodGhpcyksdGhpcy5iPSExKTtyZXR1cm4gYn07R2QucHJvdG90eXBlLmZpcnN0PWZ1bmN0aW9uKCl7dmFyIGE9SGQodGhpcywiZmlyc3QiKSxiPVQucHJvdG90eXBlLmZpcnN0LmNhbGwodGhpcyk7YSYmKElkKHRoaXMsYSksYj1ULnByb3RvdHlwZS5maXJzdC5jYWxsKHRoaXMpLHRoaXMuYj0hMSk7cmV0dXJuIGJ9OwpHZC5wcm90b3R5cGUubGFzdD1mdW5jdGlvbigpe3ZhciBhPUhkKHRoaXMsImxhc3QiKSxiPVQucHJvdG90eXBlLmxhc3QuY2FsbCh0aGlzKTthJiYoSWQodGhpcyxhKSxiPVQucHJvdG90eXBlLmxhc3QuY2FsbCh0aGlzKSx0aGlzLmI9ITEpO3JldHVybiBifTtHZC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGEpe3ZhciBiPUhkKHRoaXMsImdldCIpLGM7Yz1iP1QucHJvdG90eXBlLmdldC5jYWxsKHRoaXMsYSsodGhpcy5hLmxlbmd0aC1iLmxlbmd0aCkpOlQucHJvdG90eXBlLmdldC5jYWxsKHRoaXMsYSk7YiYmKElkKHRoaXMsYiksYz1ULnByb3RvdHlwZS5nZXQuY2FsbCh0aGlzLGEpLHRoaXMuYj0hMSk7cmV0dXJuIGN9O0dkLnByb3RvdHlwZS5maW5kPWZ1bmN0aW9uKGEpe3ZhciBiPUhkKHRoaXMsImZpbmQiKSxjPVQucHJvdG90eXBlLmZpbmQuY2FsbCh0aGlzLGEpO2ImJihJZCh0aGlzLGIpLGM9VC5wcm90b3R5cGUuZmluZC5jYWxsKHRoaXMsYSksdGhpcy5iPSExKTtyZXR1cm4gY307CkdkLnByb3RvdHlwZS5maW5kSW5kZXg9ZnVuY3Rpb24oYSl7dmFyIGI9SGQodGhpcywiZmluZEluZGV4IiksYz1ULnByb3RvdHlwZS5maW5kSW5kZXguY2FsbCh0aGlzLGEpO2ImJihJZCh0aGlzLGIpLGM9VC5wcm90b3R5cGUuZmluZEluZGV4LmNhbGwodGhpcyxhKSx0aGlzLmI9ITEpO3JldHVybiBjfTtuPUdkLnByb3RvdHlwZTtuLlNhPWZ1bmN0aW9uKGEpe3ZhciBiPUhkKHRoaXMsIm1lcmdlIiksYz1ULnByb3RvdHlwZS5TYS5jYWxsKHRoaXMsYSk7YiYmKElkKHRoaXMsYiksYz1ULnByb3RvdHlwZS5TYS5jYWxsKHRoaXMsYSksdGhpcy5iPSExKTtyZXR1cm4gY307bi5oYj1mdW5jdGlvbihhKXt2YXIgYj1IZCh0aGlzLCJjb3JyZWN0IiksYz1ULnByb3RvdHlwZS5oYi5jYWxsKHRoaXMsYSk7YiYmKElkKHRoaXMsYiksYz1ULnByb3RvdHlwZS5oYi5jYWxsKHRoaXMsYSksdGhpcy5iPSExKTtyZXR1cm4gY307Cm4uaWI9ZnVuY3Rpb24oKXt2YXIgYT1IZCh0aGlzLCJnZXRTZWVrUmFuZ2UiKSxiPVQucHJvdG90eXBlLmliLmNhbGwodGhpcyk7YSYmKElkKHRoaXMsYSksYj1ULnByb3RvdHlwZS5pYi5jYWxsKHRoaXMpLHRoaXMuYj0hMSk7cmV0dXJuIGJ9O24uZ2V0U2Vla1JhbmdlR2Fwcz1mdW5jdGlvbigpe3ZhciBhPUhkKHRoaXMsImdldFNlZWtSYW5nZUdhcHMiKSxiPVQucHJvdG90eXBlLmdldFNlZWtSYW5nZUdhcHMuY2FsbCh0aGlzKTthJiYoSWQodGhpcyxhKSxiPVQucHJvdG90eXBlLmdldFNlZWtSYW5nZUdhcHMuY2FsbCh0aGlzKSx0aGlzLmI9ITEpO3JldHVybiBifTtuLklhPWZ1bmN0aW9uKCl7dmFyIGE9SGQodGhpcywiYXNzZXJ0Q29ycmVjdFJlZmVyZW5jZXMiKTtULnByb3RvdHlwZS5JYS5jYWxsKHRoaXMpO2EmJihJZCh0aGlzLGEpLFQucHJvdG90eXBlLklhLmNhbGwodGhpcyksdGhpcy5iPSExKX07ZnVuY3Rpb24gSmQoYSxiLGMsZCxlLGYsZyxoKXt0aGlzLm09YTt0aGlzLmE9Yjt0aGlzLmc9Yzt0aGlzLmY9ZDt0aGlzLm89ZTt0aGlzLmI9bnVsbDt0aGlzLmk9Zjt0aGlzLmg9bnVsbDt0aGlzLmo9aHx8bnVsbH1KZC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuaT10aGlzLmY9dGhpcy5nPXRoaXMuYT1udWxsO3RoaXMuYiYmKHRoaXMuYi5kZXN0cm95KCksdGhpcy5iPW51bGwpfTsKSmQucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbigpe2lmKHRoaXMuYilyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuYik7dmFyIGE9VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJmYmxzX3VzZV90aW1lbGluZV9zZWdtZW50X2luZGV4IiwhMSk7aWYoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJ1c2VfdGltZWxpbmVfc2VnbWVudF9pbmRleCIsITEpJiYodGhpcy5hLkZCSXNMaXZlVGVtcGxhdGVkfHx0aGlzLmEuRkJXYXNMaXZlfHxhKSlhPW5ldyBwZCh0aGlzLmcsdGhpcy5mLHRoaXMuZi5hLHRoaXMuaSx0aGlzLmopO2Vsc2V7Zm9yKHZhciBhPXRoaXMuZi5hLGI9b2QoYS5DLGEuc3x8MSx0aGlzLmcuZHVyYXRpb258fDAsdGhpcy5tLmdldE51bWJlcigibnVtX3ByZWRpY3RpdmVfc2VnbWVudHMiLDApLHRoaXMuYS5GQklzTGl2ZVRlbXBsYXRlZHx8dGhpcy5hLkZCV2FzTGl2ZSx0aGlzLmgpLGM9W10sZD0wO2Q8Yi5sZW5ndGg7KytkKXt2YXIgZT0KYltkXS5zdGFydCxmPWJbZF0uZW5kLGc9YltkXS51ZHx8MCxoPWJbZF0udGltZXNjYWxlZEdhcEluZm8saz1lL2EucyxsPWYvYS5zLG09ZCthLmIscD1lLG09bWQodGhpcy5pLHRoaXMuZiwwPGc/ZzptLHAsMDxnPyEwOiExLHRoaXMuaik7aWYoIW0pcmV0dXJuIGE9RXJyb3IoIkZhaWxlZCB0byBnZW5lcmF0ZSBtZWRpYSBVUkwuIiksYS50eXBlPSJkYXNoIixQcm9taXNlLnJlamVjdChhKTt2YXIgdD0oYS5MfHwwKS9hLnM7Yy5wdXNoKG5ldyBpZChrLXQsbC10LG0scCxmLWUsaHx8bnVsbCwwPGcpKX1iPXRoaXMuYS5GQklzTGl2ZVRlbXBsYXRlZHx8dGhpcy5hLkZCV2FzTGl2ZTtWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigidGVtcGxhdGVkX3VzZV9wZXJmX3Rlc3Rfc2VnbWVudF9pbmRleF9iYXNlX2ludCIsMCkmJm51bGw9PXRoaXMuaCYmdGhpcy5hLkZCSXNMaXZlVGVtcGxhdGVkPyhiPWMsYz1iLnNsaWNlKC1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigidGVtcGxhdGVkX3VzZV9wZXJmX3Rlc3Rfc2VnbWVudF9pbmRleF9iYXNlX2ludCIsCjApKSxhPW5ldyBHZChjLGIsYS5zfHwxKSk6YT1uZXcgVChjLGEuc3x8MSxiKX10aGlzLmEubWFuaWZlc3RJc0xpdmVTdHJlYW1pbmc/dGhpcy5iPW5ldyBTKGEsdGhpcy5hLHRoaXMuZyx0aGlzLm8pOnRoaXMuYj1uZXcgUihhKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuYil9O0pkLnByb3RvdHlwZS5jPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYn07SmQucHJvdG90eXBlLkVjPWZ1bmN0aW9uKGEpe3RoaXMuaD1hfTtmdW5jdGlvbiBLZCgpe3RoaXMuWD1MZCsrO3RoaXMuaWQ9dGhpcy5hYT10aGlzLk09bnVsbDt0aGlzLmE9MDt0aGlzLmhlaWdodD10aGlzLndpZHRoPXRoaXMuYmFuZHdpZHRoPW51bGw7dGhpcy5jb2RlY3M9dGhpcy5taW1lVHlwZT0iIjt0aGlzLmY9dGhpcy5mYlF1YWxpdHlDbGFzcz10aGlzLmZiUXVhbGl0eUxhYmVsPW51bGw7dGhpcy5mcmFtZVJhdGU9IiI7dGhpcy5zd2l0Y2hSZWFzb249dGhpcy5oPXRoaXMuZz10aGlzLmM9bnVsbDt0aGlzLmI9W107dGhpcy5vYT0hMTt0aGlzLmZhPSEwfXZhciBMZD0wO0tkLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5NJiYodGhpcy5NLmRlc3Ryb3koKSx0aGlzLk09bnVsbCk7dGhpcy5hYSYmKHRoaXMuYWEuZGVzdHJveSgpLHRoaXMuYWE9bnVsbCl9O2Z1bmN0aW9uIE1kKGEpe3JldHVybiBhLm1pbWVUeXBlLnNwbGl0KCIvIilbMF19CmZ1bmN0aW9uIE5kKGEpe3ZhciBiPWEubWltZVR5cGV8fCIiO2EuY29kZWNzJiYoYis9JzsgY29kZWNzPSInK2EuY29kZWNzKyciJyk7cmV0dXJuIGJ9ZnVuY3Rpb24gT2QoKXt0aGlzLlg9UGQrKzt0aGlzLmlkPW51bGw7dGhpcy5jb250ZW50VHlwZT10aGlzLmxhbmc9IiI7dGhpcy5mPXRoaXMuYj0hMTt0aGlzLmM9bnVsbDt0aGlzLnY9W107dGhpcy5hPVtdfXZhciBQZD0wO09kLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7Zm9yKHZhciBhPTA7YTx0aGlzLnYubGVuZ3RoOysrYSl0aGlzLnZbYV0uZGVzdHJveSgpO3RoaXMuYT10aGlzLnY9bnVsbH07ZnVuY3Rpb24gUWQoYSl7Zm9yKHZhciBiPVtdLGM9MDtjPGEuYS5sZW5ndGg7KytjKXt2YXIgZD1uZXcgUmQ7ZC5pZD1hLlg7ZC5hPWEuYVtjXTtkLmNvbnRlbnRUeXBlPWEuY29udGVudFR5cGU7ZC5iPWEudi5sZW5ndGg/TmQoYS52WzBdKToiIjtiLnB1c2goZCl9cmV0dXJuIGJ9CmZ1bmN0aW9uIFNkKCl7dGhpcy5pZD1udWxsO3RoaXMuc3RhcnQ9MDt0aGlzLmR1cmF0aW9uPW51bGw7dGhpcy5hPVtdfVNkLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7Zm9yKHZhciBhPTA7YTx0aGlzLmEubGVuZ3RoOysrYSl0aGlzLmFbYV0uZGVzdHJveSgpO3RoaXMuYT1udWxsfTtmdW5jdGlvbiBUZCgpe3RoaXMuQT10aGlzLmY9dGhpcy5iPSExO3RoaXMubz10aGlzLm09dGhpcy5CPTA7dGhpcy5qPXRoaXMuaT10aGlzLmM9bnVsbDt0aGlzLmc9MDt0aGlzLmE9W107dGhpcy5oPSExO3RoaXMudz0ibm9uZSI7dGhpcy51PW51bGx9VGQucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXtmb3IodmFyIGE9MDthPHRoaXMuYS5sZW5ndGg7KythKXRoaXMuYVthXS5kZXN0cm95KCk7dGhpcy5hPW51bGx9O2Z1bmN0aW9uIFJkKCl7dGhpcy5pZD0wO3RoaXMuYT1udWxsO3RoaXMuYj10aGlzLmNvbnRlbnRUeXBlPSIifTtmdW5jdGlvbiBVKGEsYixjLGQsZSxmLGcsaCxrLGwsbSxwLHQsdyl7Ri5jYWxsKHRoaXMsYSk7dGhpcy5iPWI7dGhpcy5hPWM7dGhpcy5jPW5ldyBuYihjLGQsZSxmLHRoaXMsaCx3KTt0aGlzLlBhPWg7dGhpcy5vPXt9O3RoaXMucmE9Zjt0aGlzLnlhPTA7dGhpcy5tYT10aGlzLmY9dGhpcy5nPW51bGw7dGhpcy50YT0hMTt0aGlzLnc9dGhpcy5jYT1udWxsO3RoaXMuUz0hMTt0aGlzLmphPTA7dGhpcy5rYT0hMTt0aGlzLkQ9bnVsbDt0aGlzLlo9dGhpcy5lYT10aGlzLmg9ITE7dGhpcy5PPW5ldyBJO3RoaXMuRz10aGlzLlQ9dGhpcy5CPSExO3RoaXMuUj0wO3RoaXMuZ2E9MTU7dGhpcy5HYT10aGlzLnZhPXRoaXMuVT0hMTt0aGlzLm5hPTE7dGhpcy4kPWc7dGhpcy54YT0hMTt0aGlzLmw9bnVsbDt0aGlzLkhhPSExO3RoaXMuST10aGlzLko9dGhpcy5LPW51bGw7dGhpcy5WPSExO3RoaXMudT1tfHxudWxsO3RoaXMuRj1wfHxudWxsO3RoaXMuaj10fHxudWxsO3RoaXMuWT1udWxsO3RoaXMuYmE9CiExO3RoaXMuRGE9e307dGhpcy5GYT1rO3RoaXMuaT1udWxsO3RoaXMuaWE9ITE7dGhpcy5FYT0wO3RoaXMuQ2E9ZT9lLnNwbGl0KCI7IilbMF06IiI7dGhpcy5QPSExO3RoaXMud2E9MDt0aGlzLnNhPWw7dGhpcy5BPXRoaXMubT1udWxsfXIoVSxGKTtVLnByb3RvdHlwZS5CYT1mdW5jdGlvbigpe3JldHVybntTb3VyY2VCdWZmZXJNYW5hZ2VyOnRoaXMuY319O1UucHJvdG90eXBlLmdldERlYnVnPVUucHJvdG90eXBlLkJhO2Z1bmN0aW9uIFVkKGEsYil7cmV0dXJuIG5ldyBWaWRlb1BsYXllckJpdHJhdGVFc3RpbWF0b3IobmV3IHgoYS5hLmdldE51bWJlcigibGl2ZV9iaXRyYXRlX2VzdGltYXRlc19oYWxmX2xpZmUiLDIpKSxiLGEuYS5nZXROdW1iZXIoImxpdmVfYml0cmF0ZV9lc3RpbWF0ZXNfbWluaW11bV9zYW1wbGVfY291bnQiLDEpLGEuYS5nZXROdW1iZXIoImxpdmVfYml0cmF0ZV9lc3RpbWF0ZXNfbGFyZ2Vfc2FtcGxlX3dlaWdodF9mYWN0b3IiLDEwKSl9ClUucHJvdG90eXBlLnBhPWZ1bmN0aW9uKGEpe251bGwhPWEuaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemUmJih0aGlzLlI9TnVtYmVyKGEuaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemUpKTt2YXIgYj10aGlzLmEuZ2V0TnVtYmVyKCJpbml0aWFsX3N0cmVhbV9idWZmZXJfc2l6ZV9mb3JfdmlkZW9fc3RyZWFtIiwwKTswPGImJi0xIT09dGhpcy5DYS5pbmRleE9mKCJ2IikmJih0aGlzLlI9Yik7bnVsbCE9YS5keW5hbWljU3RyZWFtQnVmZmVyU2l6ZSYmKHRoaXMuamE9TnVtYmVyKGEuZHluYW1pY1N0cmVhbUJ1ZmZlclNpemUpKTtudWxsIT1hLnNtYXJ0QnVmZmVyQWRqdXN0bWVudFBhcmFtcyYmKHRoaXMuRGE9YS5zbWFydEJ1ZmZlckFkanVzdG1lbnRQYXJhbXMpO251bGwhPWEuc21hcnRCdWZmZXJBZGp1c3RtZW50RW5hYmxlZCYmKHRoaXMuYmE9Qm9vbGVhbihhLnNtYXJ0QnVmZmVyQWRqdXN0bWVudEVuYWJsZWQpKTtudWxsIT1hLnN0cmVhbUJ1ZmZlclNpemUmJih0aGlzLmdhPU51bWJlcihhLnN0cmVhbUJ1ZmZlclNpemUpKTsKbnVsbCE9YS5maXhCdWZmZXJpbmdHb2FsRGV0ZXJtaW5hdGlvbiYmKHRoaXMuVT1Cb29sZWFuKGEuZml4QnVmZmVyaW5nR29hbERldGVybWluYXRpb24pKTtudWxsIT1hLmFkZENkbkRlYnVnUXVlcnlQYXJhbWV0ZXJzJiYodGhpcy52YT1Cb29sZWFuKGEuYWRkQ2RuRGVidWdRdWVyeVBhcmFtZXRlcnMpKTtudWxsIT1hLnVzZUluaXRpYWxCdWZmZXJTaXplV2hlblBhdXNlZCYmKHRoaXMuR2E9Qm9vbGVhbihhLnVzZUluaXRpYWxCdWZmZXJTaXplV2hlblBhdXNlZCkpO251bGwhPWEuc2VnbWVudFJlcXVlc3RUaW1lb3V0JiYodGhpcy5jLlQ9TnVtYmVyKGEuc2VnbWVudFJlcXVlc3RUaW1lb3V0KSk7bnVsbCE9YS5yZXNvbHZlVmlkZW9UaW1lVXBkYXRlT25GcmFnbWVudGVkVGltZVJhbmdlcyYmKHRoaXMueGE9Qm9vbGVhbihhLnJlc29sdmVWaWRlb1RpbWVVcGRhdGVPbkZyYWdtZW50ZWRUaW1lUmFuZ2VzKSk7bnVsbCE9YS5wZXJmb3JtYW5jZUxvZ2dlciYmKHRoaXMubD10aGlzLm8ucGVyZm9ybWFuY2VMb2dnZXI9CmEucGVyZm9ybWFuY2VMb2dnZXIpO251bGwhPWEuYWJyTG9nZ2VyJiYodGhpcy5vLmFickxvZ2dlcj1hLmFickxvZ2dlcik7bnVsbCE9YS5yZWFwcGVuZEluaXRTZWdtZW50QWZ0ZXJBYm9ydCYmKHRoaXMuby5yZWFwcGVuZEluaXRTZWdtZW50QWZ0ZXJBYm9ydD1Cb29sZWFuKGEucmVhcHBlbmRJbml0U2VnbWVudEFmdGVyQWJvcnQpKTtudWxsIT1hLmxpdmVEYXRhRmV0Y2hNYXhSZXRyaWVzJiYodGhpcy5vLmxpdmVEYXRhRmV0Y2hNYXhSZXRyaWVzPU51bWJlcihhLmxpdmVEYXRhRmV0Y2hNYXhSZXRyaWVzKSk7bnVsbCE9YS5saXZlU291cmNlQnVmZmVyQ2xlYXJNYXhSZXRyaWVzJiYodGhpcy5vLmxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXM9TnVtYmVyKGEubGl2ZVNvdXJjZUJ1ZmZlckNsZWFyTWF4UmV0cmllcykpO251bGwhPWEuc2tpcEVtcHR5U2VnbWVudHMmJih0aGlzLm8uc2tpcEVtcHR5U2VnbWVudHM9Qm9vbGVhbihhLnNraXBFbXB0eVNlZ21lbnRzKSk7bnVsbCE9CmEucGxheWhlYWRGcmFnbWVudGVkR2FwRGlmZkFsbG93YW5jZSYmKHRoaXMuby5wbGF5aGVhZEZyYWdtZW50ZWRHYXBEaWZmQWxsb3dhbmNlPU51bWJlcihhLnBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2UpKTtudWxsIT1hLnVzZU1pY3JvVGFza1RpbWVvdXRzJiYodGhpcy5IYT1Cb29sZWFuKGEudXNlTWljcm9UYXNrVGltZW91dHMpKTthPXRoaXMuYztiPXRoaXMubztudWxsIT1iLnJlYXBwZW5kSW5pdFNlZ21lbnRBZnRlckFib3J0JiYoYS5SPUJvb2xlYW4oYi5yZWFwcGVuZEluaXRTZWdtZW50QWZ0ZXJBYm9ydCkpO251bGwhPWIucGVyZm9ybWFuY2VMb2dnZXImJihhLmw9Yi5wZXJmb3JtYW5jZUxvZ2dlcik7bnVsbCE9Yi5hYnJMb2dnZXImJihhLkk9Yi5hYnJMb2dnZXIpO251bGwhPWIubGl2ZURhdGFGZXRjaE1heFJldHJpZXMmJihhLk89Yi5saXZlRGF0YUZldGNoTWF4UmV0cmllcyk7bnVsbCE9Yi5saXZlU291cmNlQnVmZmVyQ2xlYXJNYXhSZXRyaWVzJiYoYS5LPQpiLmxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXMpO251bGwhPWIucGxheWhlYWRGcmFnbWVudGVkR2FwRGlmZkFsbG93YW5jZSYmKGEuUD1iLnBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2UpO251bGwhPWIuc2tpcEVtcHR5U2VnbWVudHMmJihhLlY9Yi5za2lwRW1wdHlTZWdtZW50cyl9O1UucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXtWZCh0aGlzKTt0aGlzLk8uZGVzdHJveSgpO3RoaXMucmE9dGhpcy5nPXRoaXMuTz1udWxsO3RoaXMuYy5kZXN0cm95KCk7dGhpcy5iPXRoaXMuYz1udWxsO3RoaXMuYS5nZXRCb29sKCJmaXhpbmdfc2NoZWR1bGVyX2Rpc2FibGVfbGVha3MiLCEwKSYmKHRoaXMudT1udWxsKTt0aGlzLkphPW51bGx9O249VS5wcm90b3R5cGU7bi5XYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmd9O24uRmI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mfTsKbi5LYz1mdW5jdGlvbihhKXt0aGlzLkJ8fGEudGhlbihmdW5jdGlvbigpe3RoaXMuQj0hMDt0aGlzLnd8fFYodGhpcywwKX0uYmluZCh0aGlzKSkuY2F0Y2goZnVuY3Rpb24oKXt9KTtyZXR1cm4gdGhpcy5PfTtuLkNiPWZ1bmN0aW9uKCl7dGhpcy5HPSEwO1dkKHRoaXMpfTtuLmZiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuR307Cm4uamI9ZnVuY3Rpb24oYSxiLGMsZCxlKXtpZihhIT10aGlzLmcpe3ZhciBmPTE7dGhpcy5hLmdldEJvb2woInVzZV9saXZlX2JpdHJhdGVfZXN0aW1hdGVzIiwhMSkmJm51bGwhPT10aGlzLm0mJjA8dGhpcy5nLmJhbmR3aWR0aCYmKGY9dGhpcy5tLmdldEVzdGltYXRlKCkvdGhpcy5nLmJhbmR3aWR0aCk7dmFyIGc9YS5hYTtnJiYodGhpcy5tYT1nLmNyZWF0ZSh0aGlzLmwsdGhpcy5QYSkpO3RoaXMuWj0hMDthLk0uY3JlYXRlKCkudGhlbihKKHRoaXMsZnVuY3Rpb24oZyl7aWYodGhpcy5iKXt0aGlzLlo9ITE7dmFyIGs9dGhpcy5nO3RoaXMuZz1hO3RoaXMuYS5nZXRCb29sKCJ1c2VfbGl2ZV9iaXRyYXRlX2VzdGltYXRlcyIsITEpJiYodGhpcy5tPVVkKHRoaXMsKGEuYmFuZHdpZHRofHwwKSpmKSk7dmFyIGw9dGhpcy5mO3RoaXMuZj1nO3RoaXMuYy5EPXRoaXMuZjtsJiZsLmEuRmMoKTt1ZCh0aGlzLmYsZnVuY3Rpb24oYSl7dmFyIGI9YTt0aGlzLmomJnRoaXMuai5zZXRTZWdtZW50cyh0aGlzLmYuZ2V0U2VnbWVudHMoKSk7CnRoaXMudSYmKGE9YSYmdGhpcy5hLmdldEJvb2woIm9wdGltaXplX3N0cmVhbV9nZXRfc2VnbWVudHNfY2FsbHMiLCExKT9hOnRoaXMuZi5nZXRTZWdtZW50cygpLHRoaXMuYS5nZXRCb29sKCJ0ZW1wbGF0ZWRfdXBkYXRlX3NybV9ieV9kZWx0YV9vZl9jaGFuZ2VkX3JlZmVyZW5jZXNfYm9vbCIsITEpJiZ0aGlzLmYuSyYmYi5sZW5ndGg8dGhpcy5mLmdldFNlZ21lbnRzKCkubGVuZ3RoJiYoYT10aGlzLmYuZ2V0U2VnbWVudHMoKS5zbGljZSgtKGIubGVuZ3RoKzEpKSksWGQodGhpcyx0aGlzLmcuaWR8fCIiLGEpKX0uYmluZCh0aGlzKSk7dGhpcy5qJiZ0aGlzLmouc2V0U2VnbWVudHModGhpcy5mLmdldFNlZ21lbnRzKCkpO2lmKHRoaXMudSl7dmFyIGw9W10sbT10aGlzLmEuZ2V0TnVtYmVyKCJ0ZW1wbGF0ZWRfY2h1bmtlZF9zZWdtZW50X3VwZGF0ZV9saW1pdF9pbnQiLDApO2lmKG0pe2c9dGhpcy5mLmxlbmd0aCgpO2Zvcih2YXIgbT1NYXRoLm1pbihnLG0pLHA9MTtwPD1tOysrcClsLnB1c2godGhpcy5mLmdldChnLQpwKSl9ZWxzZSBsPWcuZ2V0U2VnbWVudHMoKTtYZCh0aGlzLGEuaWR8fCIiLGwpfXRoaXMudGE9ITA7dGhpcy5jYT1kP2Q6bnVsbDt0aGlzLlN8fCh0aGlzLmEuZ2V0Qm9vbCgibWFrZV9lYXJseV90cmFja19zZWxlY3Rpb24iLCExKSYmdGhpcy5oJiYhdGhpcy5QJiYhdGhpcy53P1YodGhpcywwKTprP2I/WWQodGhpcywhMCxjKTplJiZZZCh0aGlzLCExKTpWKHRoaXMsMCkpfX0pKS5jYXRjaChKKHRoaXMsZnVuY3Rpb24oYSl7dGhpcy5aPSExOyJhYm9ydGVkIiE9YS50eXBlJiYodGhpcy5CPyhhPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGEpKTp0aGlzLk8ucmVqZWN0KGEpKX0pKX19O24uQ2M9ZnVuY3Rpb24oYSl7cmV0dXJuIFlkKHRoaXMsISFhKX07bi5IYz1mdW5jdGlvbigpe3RoaXMua2E9ITB9O24uSmM9ZnVuY3Rpb24oYSl7dGhpcy5FYT1hfTsKZnVuY3Rpb24gWGQoYSxiLGMpe2EuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9jaHVua2VkX3NlZ21lbnRfdXBkYXRlX2xpbWl0X2ludCIsMCkmJmEudS51cGRhdGVTZWdtZW50SW5kZXgoYixhLmYpO2EuYS5nZXRCb29sKCJ1c2VfdXBkYXRlX3NlZ21lbnRzX2J5X3NoYWthX3JlZmVyZW5jZSIsITApJiZhLnUudXBkYXRlU2VnbWVudHNCeVNoYWthUmVmZXJlbmNlcyhiLGMpfQpmdW5jdGlvbiBZZChhLGIsYyl7YS5nJiYhYS5TJiYoYS5TPSEwLFZkKGEpLGEuVD0hMSxudWxsIT09YS5BJiZhLkEucmVzZXQoKSxhLmMuYWJvcnQoKS50aGVuKEooYSxmdW5jdGlvbigpe3ZhciBhPXRoaXMuYi5jdXJyZW50VGltZTt0aGlzLmEuZ2V0Qm9vbCgic2V0X2N1cnJlbnRfdGltZV9pbl9yZXN5bmMiLCExKSYmMD09YT8odGhpcy5sJiZCYW56YWlPRFMuYnVtcEVudGl0eUtleSgyOTY2LCJ2aWRlb3Mud3d3LnNoYWthIiwic2V0X2N1cnJlbnRfdGltZV9pbl9yZXN5bmMiKSxhPXRoaXMuZi5maXJzdCgpLnN0YXJ0VGltZSk6dGhpcy5hLmdldEJvb2woImJldHRlcl9zZXRfY3VycmVudF90aW1lX2luX3Jlc3luYyIsITEpJiZhPHRoaXMuZi5maXJzdCgpLnN0YXJ0VGltZSYmKEJhbnphaU9EUy5idW1wRW50aXR5S2V5KDI5NjYsInZpZGVvcy53d3cuc2hha2EiLCJzZXRfY3VycmVudF90aW1lX2luX3Jlc3luYyIpLGE9dGhpcy5mLmZpcnN0KCkuc3RhcnRUaW1lK3RoaXMuYS5nZXROdW1iZXIoInJlc3luY19zZXRfY3VycmVudF90aW1lX2Z1ZGdlX2ZhY3RvciIsCjApKTtpZighYiYmMDxyYih0aGlzLmMsYSkmJjA8PUZiKHRoaXMuYyxhKSlyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7aWYoYylyZXR1cm4gQ2IodGhpcy5jLHRoaXMuYi5jdXJyZW50VGltZStjKTt0aGlzLmlhPSEwO3JldHVybiBCYih0aGlzLmMpfSkpLnRoZW4oSihhLGZ1bmN0aW9uKCl7dGhpcy5TPSExO1YodGhpcywwKX0pKS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7dGhpcy5TPSExOyJhYm9ydGVkIiE9YS50eXBlJiYodGhpcy5CPyhhPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGEpKTp0aGlzLk8ucmVqZWN0KGEpKX0pKSl9bi5JYz1mdW5jdGlvbihhKXtyZXR1cm4gMDxyYih0aGlzLmMsYSkmJjA8PUZiKHRoaXMuYyxhKX07bi52Yj1mdW5jdGlvbigpe307bi5EYj1mdW5jdGlvbigpe3JldHVybiEwfTsKZnVuY3Rpb24gWmQoYSl7YS5lYT1hLmVhfHwhYS5iLnBhdXNlZDthLmIucGF1c2VkfHxhLmJhfHwoYS5ZPURhdGUubm93KCksYS5iYT0hMCk7dmFyIGI9YS5EYSxjPW51bGw7aWYoYi5pbkV4cGVyaW1lbnQpaWYoYi51c2VTbWFydEJ1ZmZlcmluZyl7aWYoYS5iYSYmYS5ZKXt2YXIgYz0oRGF0ZS5ub3coKS1hLlkpLzFFMyxkPW51bGw7MT5jP2M9bnVsbDooZD0zPmM/Yi5idWZmZXJTaXplXzAwX3RvXzAzOjEwPmM/Yi5idWZmZXJTaXplXzAzX3RvXzEwOjMwPmM/Yi5idWZmZXJTaXplXzEwX3RvXzMwOjYwPmM/Yi5idWZmZXJTaXplXzMwX3RvXzYwOmIuYnVmZmVyU2l6ZV9hYm92ZV82MCxjPU1hdGgubWluKGQsYS5iLmR1cmF0aW9uKSl9fWVsc2UgYS5ZJiYoYz1iLm5vblNtYXJ0QnVmZmVyU2l6ZSk7Y3x8KGM9YS5HYSYmYS5iLnBhdXNlZD9hLlI6YS5nYSxhLmIucGF1c2VkJiYxPGEubmEmJihjKj1hLm5hKSxhLmphJiYhYS5iLnBhdXNlZCYmKGM9TWF0aC5tYXgoTWF0aC5taW4oYS5mLmxhc3QoKS5lbmRUaW1lLQphLmIuY3VycmVudFRpbWUsYS5qYSksYS5nYSkpKTtjPShhLlU/YS5oJiZhLmVhOmEuaCk/TWF0aC5tYXgoYS5SLGMpOmEuUjswPGEuYS5nZXROdW1iZXIoImF1ZGlvX3ZpZGVvX2J1ZmZlcl9kaWZmX3RocmVzaG9sZCIsMTQ0MDApJiYoYj1hLmIuYnVmZmVyZWQubGVuZ3RoP2EuYi5idWZmZXJlZC5lbmQoYS5iLmJ1ZmZlcmVkLmxlbmd0aC0xKTowLGI9TWF0aC5tYXgoMCxiLWEuYi5jdXJyZW50VGltZSksYz1NYXRoLm1pbihjLGIrYS5hLmdldE51bWJlcigiYXVkaW9fdmlkZW9fYnVmZmVyX2RpZmZfdGhyZXNob2xkIiwxNDQwMCkpKTtyZXR1cm4gY30KZnVuY3Rpb24gJGQoYSl7dmFyIGI9YS5hLmdldE51bWJlcigic3RhcnRfc3RyZWFtX2J1ZmZlcl9zaXplIiwxKSxjPWEuYS5nZXROdW1iZXIoImxvd19zdGFydF9zdHJlYW1fYnVmZmVyX3NpemUiLDEpO2lmKGIhPT1jKXt2YXIgZD1hLmEuZ2V0TnVtYmVyKCJsb3dfYmFuZHdpZHRoX3N0YXJ0X3N0cmVhbV9idWZmZXJfc2l6ZV90aHJlc2hvbGQiLDApLGU9YS5hLmdldE51bWJlcigic2NoZWR1bGVkX3ZpZGVvc19zdGFydF9zdHJlYW1fYnVmZmVyX3NpemVfdGhyZXNob2xkIiwwKTtpZigwPGQmJmEucmEuZ2V0QmFuZHdpZHRoKCk8ZCYmVmlkZW9TdHJlYW1pbmdUYXNrUXVldWVQcm92aWRlci5nZXRRdWV1ZVNpemUoInZpZGVvIik+PWUpcmV0dXJuIGN9cmV0dXJuIGJ9ZnVuY3Rpb24gYWUoYSxiKXtyZXR1cm4gcmIoYS5jLGEuaD9iOmIrKGEuRHx8MCkpfQpmdW5jdGlvbiBiZShhKXtpZihhLmgmJiFhLkJ8fGEuYS5nZXRCb29sKCJtYWtlX2Vhcmx5X3RyYWNrX3NlbGVjdGlvbiIsITEpJiZhLlp8fGEuYS5nZXRCb29sKCJwcmV2ZW50X2ZldGNoX3doaWxlX2ZldGNoaW5nX2luX3N0cmVhbSIsITEpJiZhLlApcmV0dXJuIGEudz1udWxsLFByb21pc2UucmVzb2x2ZSgpO3ZhciBiO2lmKGI9YS5CJiYhYS5HKWI9MTxhLmMuYS5idWZmZXJlZC5sZW5ndGg/ITA6ITE7aWYoYiYmKGEua2F8fEhiKGEuYyxhLmIpKSlyZXR1cm4gYS54YSYmKGEuYi5jdXJyZW50VGltZT1HYihhLmIpKSxudWxsPT09YS5LJiYoYS5rYT0hMSxZZChhLCEwKSksUHJvbWlzZS5yZXNvbHZlKCk7YS5hLmdldE51bWJlcigiZGVjb3VwbGVfc3RyZWFtX29uX3VwZGF0ZV9sb29wX2Zyb21fcmVxdWVzdF9sb29wX2ludCIsMCl8fChhLnc9bnVsbCk7Yj1hLmc7dmFyIGM9YS5mLGQ9YS5iLmN1cnJlbnRUaW1lO2EuYS5nZXRCb29sKCJ1c2VfcGVuZGluZ19zZWVrX3Bvc2l0aW9uX2Zvcl9yZWZlcmVuY2UiLAohMSkmJjA9PT1hLmIucmVhZHlTdGF0ZSYmIWQmJmEuSiYmKGQ9YS5KKTtpZihhLlUmJiFhLmgmJmFlKGEsZCk+PSRkKGEpKXJldHVybiBhLmEuZ2V0Qm9vbCgiZml4X2Nocm9tZV9tc2VfcmVncmVzc2lvbiIsITEpJiYxPT09YS5iLnJlYWR5U3RhdGUmJjA8YS5iLmJ1ZmZlcmVkLmxlbmd0aCYmKGEuYi5jdXJyZW50VGltZT1hLmIuY3VycmVudFRpbWUpLGNlKGEpLFYoYSwwKSxQcm9taXNlLnJlc29sdmUoKTt2YXIgZT1udWxsLGY9W107bnVsbCE9PWEuSyYmKGQ9YS5LKTtpZihhZShhLGQpPj1aZChhKSlpZihhLlQ9ITAsbnVsbCE9PWEuSSYmYS5JLnJlc29sdmUoKSxhLlV8fGNlKGEpLGY9ZGUoYSk/amUoYSxkKTpbXSwwPGYubGVuZ3RoKWU9ZlswXTtlbHNlIHJldHVybiBWKGEsMUUzLyg1KihNYXRoLmFicyhhLmIucGxheWJhY2tSYXRlKXx8MSkpKSxQcm9taXNlLnJlc29sdmUoKTtlbHNle3ZhciBnPTE7YS5qJiYoZz1hLmouZ2V0TnVtYmVyT2ZTZWdtZW50cygpKTt2YXIgaD1xYihhLmMpOwphLlYmJihoPW51bGwsbnVsbCE9PWEuSyYmKGEuVj0hMSkpO2EuYS5nZXRCb29sKCJmaW5kX2xhc3RfaW5zZXJ0ZWRfc2VnbWVudF9pbl9zZWdtZW50X2luZGV4IiwhMSkmJmgmJiFjLmEuYSYmKGg9Yy5maW5kKGguc3RhcnRUaW1lKSk7YS5hLmdldEJvb2woInNldF9wZW5kaW5nX3NlZWtfb25fc2V0X2N1cnJlbnRfdGltZV9mYWlsdXJlIiwhMSkmJm51bGwhPWEuSiYmKGQ9YS5KLGEuSj1udWxsKTtnPWtlKGEsZCxjLGcsaCk7ZT1nWzBdO2EuaiYmKGEuai5zZXRGdXR1cmVTZWdtZW50cyhnKSxhLmouc2V0QnVmZmVyaW5nR29hbChaZChhKS1hZShhLGQpKSk7IWUmJmRlKGEpJiYoZj1qZShhLGQpLDA8Zi5sZW5ndGgmJihlPWZbMF0pKX1pZighZSlyZXR1cm4gY2UoYSksYS5CJiYhYS5HJiYoYS5HPSEwLFdkKGEpKSxWKGEsMjAwKSxQcm9taXNlLnJlc29sdmUoKTthLmEuZ2V0Qm9vbCgiY3JlYXRlX293bl9zZWdtZW50X3JlZmVyZW5jZV9mb3Jfc2JtIiwhMSkmJihlPWpkKGUsZS5zdGFydFRpbWUsCmUuZW5kVGltZSkpO2xlKGEsbWUoYSxkLGYpLGIuaWR8fCIiKTtuZShhLG1lKGEsZCxmKSk7YS5hLmdldEJvb2woInJlZnJlc2hfc2VnbWVudF9yZWZlcmVuY2VfZmFpbG92ZXJfdXJpIiwhMCkmJihlLnVybD1lLnVybC5jbG9uZSgpKTthLlA9ITA7YS53YT1EYXRlLm5vdygpOyJ2aWRlbyI9PT1iLm1pbWVUeXBlLnNwbGl0KCIvIilbMF0mJmEucmEuc2V0UmVwcmVzZW50YXRpb25JRChiLmlkKTtjPWEuYy5mZXRjaChlLGMucyxiLmErYS5FYSxhLm1hLGEudmEmJiFhLmIucGF1c2VkLDA8Zi5sZW5ndGgsYS51LGEuRik7Yz1jLnRoZW4oSihhLGZ1bmN0aW9uKGEpe3RoaXMuYS5nZXRCb29sKCJ1cGRhdGVzX3ByaW9yaXR5X29uX2ZldGNoX2NvbXBsZXRlIiwhMSkmJm5lKHRoaXMsbWUodGhpcyxkLFtdKSk7dGhpcy5zYS5pbmZvcm1OZXR3b3JrUmVzdW1lZCgpO3JldHVybiBhfSkpO2EuJCYmInZpZGVvIj09PWIubWltZVR5cGUuc3BsaXQoIi8iKVswXSYmYS4kLmFkZChlLnN0YXJ0VGltZXx8CjAsZS5lbmRUaW1lfHwwLHtpZDpiLmlkLHJlYXNvbjphLmNhLHBlcmZvcm1hbmNlTG9nZ2VyOmEubD9hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJzdHJlYW1fc3dpdGNoIik6bnVsbH0pO2EubWE9bnVsbDthLnRhJiYoYS50YT0hMSxmPWEuY2EsYS5jYT1udWxsLG9lKGEsYixmLGEubGEoKSkpO2EuRz0hMTtyZXR1cm4gYy50aGVuKEooYSxmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5hLmdldEJvb2woImNsZWFyX29sZF9idWZmZXIiLCExKT9FYih0aGlzLmMsdGhpcy5iLmN1cnJlbnRUaW1lKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGF9KTphfSkpLnRoZW4oSihhLGZ1bmN0aW9uKGEpe3ZhciBiPWEuVyxjPWEuV2M7dGhpcy5ofHwodGhpcy55YT1jKTt0aGlzLmEuZ2V0Qm9vbCgidXNlX2xpdmVfYml0cmF0ZV9lc3RpbWF0ZXMiLCExKSYmbnVsbCE9YSYmMDxhLkRjJiYwPGEuSCYmKG51bGw9PT10aGlzLm0mJih0aGlzLm09VWQodGhpcyx0aGlzLmcuYmFuZHdpZHRofHwwKSksdGhpcy5tLnNhbXBsZSg4KgphLkRjLGEuSCkpO2E9dGhpcy5hLmdldE51bWJlcigiYnVmZmVyX3ZlbG9jaXR5X3RpbWVfaW5fcGFzdF90b19jb25zaWRlciIsMCk7MDxhJiZudWxsIT09dGhpcy5nJiYidmlkZW8iPT09TWQodGhpcy5nKSYmKG51bGw9PT10aGlzLkEmJih0aGlzLkE9bmV3IEJ1ZmZlclZlbG9jaXR5KGEpKSx0aGlzLkEucmVjb3JkQnVmZmVyQWhlYWQocmIodGhpcy5jLHRoaXMuYi5jdXJyZW50VGltZSkpKTt0aGlzLlA9ITE7InZpZGVvIj09PSh0aGlzLmc/dGhpcy5nLm1pbWVUeXBlLnNwbGl0KCIvIilbMF06bnVsbCkmJnRoaXMuZGlzcGF0Y2hFdmVudCh5KHt0eXBlOiJmZXRjaF9lbmQiLGJ1YmJsZXM6ITAsZGV0YWlsOntzdHJlYW1fZmV0Y2hfdGltZV9tczpEYXRlLm5vdygpLXRoaXMud2Esc2VnbWVudF9sZW5ndGhfbXM6MUUzKihlLmVuZFRpbWUtZS5zdGFydFRpbWUpfX0pKTtudWxsPT10aGlzLkQmJih0aGlzLkQ9Yik7dGhpcy5pYSYmMDxyYih0aGlzLmMsZCkmJih0aGlzLmlhPSExLHRoaXMuYS5nZXRCb29sKCJkaXNhYmxlX251ZGdlIiwKITEpfHwoYj15KHt0eXBlOiJzaG91bGRfbnVkZ2UifSksdGhpcy5kaXNwYXRjaEV2ZW50KGIpKSk7Vih0aGlzLDApfSkpLmNhdGNoKEooYSxmdW5jdGlvbihhKXt0aGlzLlA9ITE7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfSkpfWZ1bmN0aW9uIG1lKGEsYixjKXt2YXIgZD1hLmg/YjpiKyhhLkR8fDApO3JldHVybnthZGRpdGlvbmFsU2VnbWVudHNSZXF1aXJlZDpjLHBsYXloZWFkOmIsYnVmZmVyU3RhcnQ6ZCxidWZmZXJFbmQ6YWUoYSxiKStkLGJ1ZmZlcmluZ0dvYWw6WmQoYSksaXNQbGF5aW5nOiFhLmIucGF1c2VkfX1mdW5jdGlvbiBsZShhLGIsYyl7YS51JiZhLnUudXBkYXRlUGxheWVyU3RhdGUoYyxiKX1mdW5jdGlvbiBuZShhLGIpe2EuRiYmYS5GLnVwZGF0ZVBsYXllclN0YXRlKGIpfQpmdW5jdGlvbiBwZShhLGIsYyl7dmFyIGQ9bnVsbCE9PWEuaSYmLTE8YS5pJiZhLmk8Yy5sZW5ndGgoKS0xP2MuZ2V0KGEuaSk6bnVsbCxlPW51bGw7aWYobnVsbD09PWEuaXx8IWR8fGQuc3RhcnRUaW1lPmIpcmV0dXJuIGU9Yy5maW5kSW5kZXgoYiksYS5pPWU7Zm9yKGQ9YS5pO2Q8PWEuaSsxO2QrKylpZihlPWMuZ2V0KGQpLGUuc3RhcnRUaW1lPD1iJiZlLmVuZFRpbWU+YilyZXR1cm4gYS5pPWQ7ZT1jLmZpbmRJbmRleChiKTtyZXR1cm4oYS5pPWUpfHwtMX1mdW5jdGlvbiBkZShhKXtyZXR1cm4gYS5hLmdldEJvb2woInJlcGxhY2VfbG93ZXJfcXVhbGl0eV9idWZmZXIiLCExKSYmbnVsbD09PWEuRiYmYS5lYSYmbnVsbCE9PWEuJCYmInZpZGVvIj09PU1kKGEuZykmJm51bGwhPT1hLmZ9CmZ1bmN0aW9uIGplKGEsYil7aWYoIWEuRmF8fCFhLmcuaWR8fCFhLmYpcmV0dXJuW107dmFyIGM9cGUoYSxiLGEuZik7cmV0dXJuLTE9PT1jP1tdOkJ1ZmZlclJlcGxhY2VtZW50SGVscGVyLmdldFNlZ21lbnRzVG9SZXBsYWNlTG93ZXJRdWFsaXR5KGEuZi5nZXRTZWdtZW50cygpLGIsYyxhLmcuaWQsYS5GYSxhLiQse3RocmVzaG9sZEJlZm9yZTphLmEuZ2V0TnVtYmVyKCJidWZmZXJfcmVwbGFjZW1lbnRfYmVoaW5kX3RocmVzaG9sZCIsNSksdGhyZXNob2xkQWZ0ZXI6YS5hLmdldE51bWJlcigiYnVmZmVyX3JlcGxhY2VtZW50X2FoZWFkX3RocmVzaG9sZCIsMTUpLHdyYXBSZXBsYWNlbWVudFBhc3RFbmQ6YS5hLmdldEJvb2woIndyYXBfcmVwbGFjZW1lbnRfcGFzdF9lbmQiLCExKX0pfQpuLnpjPWZ1bmN0aW9uKCl7dmFyIGE7aWYodGhpcy5sKXt2YXIgYj10aGlzLmEuZ2V0TnVtYmVyKCJzdHJlYW1fb251cGRhdGVfc2FtcGxpbmciLDApO2ImJjA9PT1NYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqYikmJihhPXRoaXMubC5nZXRPcGVyYXRpb25Mb2dnZXIoInN0cmVhbV9vbnVwZGF0ZSIpLnN0YXJ0KCkpfXZhciBjO3RoaXMuYS5nZXROdW1iZXIoImRlY291cGxlX3N0cmVhbV9vbl91cGRhdGVfbG9vcF9mcm9tX3JlcXVlc3RfbG9vcF9pbnQiLDApJiZWKHRoaXMsdGhpcy5hLmdldE51bWJlcigiZGVjb3VwbGVfc3RyZWFtX29uX3VwZGF0ZV9sb29wX2Zyb21fcmVxdWVzdF9sb29wX2ludCIsMCkpO2lmKHRoaXMuYS5nZXRCb29sKCJjYXRjaF9zdHJlYW1fdXBkYXRlX3N5bmNfY29kZV9lcnJvciIsITEpKXRyeXtjPWJlKHRoaXMpfWNhdGNoKGQpe2QudHlwZT0idW5jYXVnaHQiLGEmJmEuc2V0RXJyb3IoZCksYz1Qcm9taXNlLnJlamVjdChkKX1lbHNlIGM9YmUodGhpcyk7Yy5jYXRjaChKKHRoaXMsCmZ1bmN0aW9uKGEpe2lmKCJhYm9ydGVkIiE9YS50eXBlKXtpZigic291cmNlYnVmZmVyX2Z1bGwiPT09YS50eXBlKXJldHVybiBCYih0aGlzLmMpLnRoZW4oSih0aGlzLGZ1bmN0aW9uKCl7Vih0aGlzLDApfSkpO3ZhciBiPVswLDQwNCw0MTAsNTAyLDUwMyw1MDRdO3RoaXMuYS5nZXRCb29sKCJlbmFibGVfZG91YmxlX2luZ2VzdCIsITEpJiZiLnB1c2goNDE3LDIwMCk7Yj0tMT09PWIuaW5kZXhPZihhLnN0YXR1cyk7aWYoIm5ldCI9PT1hLnR5cGUmJiFiJiZ0aGlzLmcpaWYodGhpcy5hLmdldEJvb2woImFsbG93X2luZmluaXRlX3JldHJ5X29uX25ldF9lcnIiLCEwKSlzd2l0Y2goYS5zdGF0dXMpe2Nhc2UgNDA0OlYodGhpcywyRTMpO2JyZWFrO2Nhc2UgNDEwOnRoaXMuYS5nZXRCb29sKCJlbmRfYWxsX3N0cmVhbXNfb25fNDEwIiwhMSk/cWUodGhpcyk6dGhpcy5DYigpO2JyZWFrO2Nhc2UgNDE3OmNhc2UgMjAwOmEucmVzcG9uc2VIZWFkZXJzJiZudWxsIT1hLnJlc3BvbnNlSGVhZGVyc1sieC1mYi12aWRlby1yZXBsaWNhIl0/CnRoaXMuZGlzcGF0Y2hFdmVudCh5KHt0eXBlOiJyZXBsaWNhc3dpdGNoIixidWJibGVzOiEwLHJlcGxpY2E6YS5yZXNwb25zZUhlYWRlcnNbIngtZmItdmlkZW8tcmVwbGljYSJdLHVybDphLnVybCxzdGF0dXM6YS5zdGF0dXN9KSk6Yj0hMDticmVhaztkZWZhdWx0OlYodGhpcywxRTMpfWVsc2UgVih0aGlzLDFFMyksYj0hMDswPT09YS5zdGF0dXM/dGhpcy5zYS5pbmZvcm1OZXR3b3JrSW50ZXJydXB0ZWQoKTp0aGlzLnNhLmluZm9ybU5ldHdvcmtSZXN1bWVkKCk7aWYoIXRoaXMuYS5nZXRCb29sKCJhbGxvd19pbmZpbml0ZV9yZXRyeV9vbl9uZXRfZXJyIiwhMCl8fGIpYj1BKGEpLHRoaXMuZGlzcGF0Y2hFdmVudChiKSx0aGlzLmwmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgYj10aGlzLmwuZ2V0RXZlbnRMb2dnZXIoInN0cmVhbV9lcnJvcl9mYWxsYmFjayIpLnNldEVycm9yKGEpLnNldFR5cGUodGhpcy5DYS5zcGxpdCgiLyIpWzBdKTt0aGlzLmI/Yi5zZXRSZXN1bHQoImZhaWxlZCIpOgpiLnNldFJlc3VsdCgic3VjY2VzcyIpO2IubG9nKCl9LmJpbmQodGhpcyksMCl9fSkpO2EmJmEubG9nKCl9O2Z1bmN0aW9uIGtlKGEsYixjLGQsZSl7dmFyIGY9LTE7aWYoYS5hLmdldEJvb2woInRlbXBsYXRlZF9mYXN0ZXJfc3RyZWFtX2dldF9uZXh0X24iLCExKSYmMT09PWQmJm51bGwhPWUmJm51bGwhPWUuZW5kVGltZSlyZXR1cm4oYz1jLmZpbmQoZS5lbmRUaW1lKSk/W2NdOltdO251bGwhPWU/Zj1udWxsIT1lLmVuZFRpbWU/Yy5maW5kSW5kZXgoZS5lbmRUaW1lKTotMTooZj1wZShhLGIsYyksMD5mJiYoZj1jLmxlbmd0aCgpP2MubGVuZ3RoKCktMTotMSkpO2E9W107aWYoMDw9Zilmb3IoYj1mO2I8ZitkJiZiPGMubGVuZ3RoKCk7YisrKWEucHVzaChjLmdldChiKSk7cmV0dXJuIGF9CmZ1bmN0aW9uIGNlKGEpe2lmKCFhLmgmJm51bGwhPWEuRCl7YS5oPSEwO3ZhciBiPWEuYyxjPWEuRCxkPWMtYi5VOzAhPWQmJihiLmI9a2QoYi5iLGQpLGIuVT1jKTthLk8ucmVzb2x2ZShhLkQpfX1uLkVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaH07VS5wcm90b3R5cGUuaGFzU3RhcnRlZD1VLnByb3RvdHlwZS5FZDtVLnByb3RvdHlwZS5rYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLlR9O1UucHJvdG90eXBlLmhhc0hpdEJ1ZmZlcmluZ0dvYWw9VS5wcm90b3R5cGUua2I7VS5wcm90b3R5cGUubGE9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09PXRoaXMubT9udWxsOnRoaXMubS5nZXRFc3RpbWF0ZSgpfTtVLnByb3RvdHlwZS5nZXRCaXRyYXRlRXN0aW1hdGU9VS5wcm90b3R5cGUubGE7VS5wcm90b3R5cGUucWI9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09PXRoaXMuQT9udWxsOnRoaXMuQS5nZXRWZWxvY2l0eSgpfTtVLnByb3RvdHlwZS5nZXRCdWZmZXJWZWxvY2l0eT1VLnByb3RvdHlwZS5xYjsKZnVuY3Rpb24gb2UoYSxiLGMsZCl7dmFyIGU9Yi5taW1lVHlwZS5zcGxpdCgiLyIpWzBdO2I9eSh7dHlwZToiYWRhcHRhdGlvbiIsaWQ6Yi5pZCxidWJibGVzOiEwLGNvbnRlbnRUeXBlOmUsc2l6ZToidmlkZW8iIT1lP251bGw6e3dpZHRoOmIud2lkdGgsaGVpZ2h0OmIuaGVpZ2h0fSxiYW5kd2lkdGg6ZHx8Yi5iYW5kd2lkdGgscmVhc29uOmN9KTthLmRpc3BhdGNoRXZlbnQoYil9ZnVuY3Rpb24gcWUoYSl7dmFyIGI9eSh7dHlwZToic2hvdWxkX2VuZF9hbGxfc3RyZWFtcyJ9KTthLmRpc3BhdGNoRXZlbnQoYil9ZnVuY3Rpb24gV2QoYSl7dmFyIGI9eSh7dHlwZToiZW5kZWQifSk7YS5kaXNwYXRjaEV2ZW50KGIpfVUucHJvdG90eXBlLk9hPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuRn07VS5wcm90b3R5cGUuZ2V0VmlkZW9TdHJlYW1pbmdNYW5hZ2VyPVUucHJvdG90eXBlLk9hOwpmdW5jdGlvbiBWKGEsYil7VmQoYSk7IWImJmEuSGE/UHJvbWlzZS5yZXNvbHZlKCkudGhlbihhLnpjLmJpbmQoYSkpOmEudz1zZXRUaW1lb3V0KGEuemMuYmluZChhKSxiKX1mdW5jdGlvbiBWZChhKXtudWxsIT1hLncmJihjbGVhclRpbWVvdXQoYS53KSxhLnc9bnVsbCl9VS5wcm90b3R5cGUuc2I9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy55YX07VS5wcm90b3R5cGUuZ2I9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jLml9O1UucHJvdG90eXBlLmdldFN0cmVhbVByb2dyZXNzVHJhY2tlcj1VLnByb3RvdHlwZS5nYjtmdW5jdGlvbiByZShhLGIpe2EuSz1iO2EuVj0hMDthLkl8fChhLkk9bmV3IEkpO3JldHVybiBhLkl9O2Z1bmN0aW9uIHNlKGEpe3RoaXMuYj1hO3RoaXMuYT1udWxsfXNlLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5hJiYodGhpcy5hLmRlc3Ryb3koKSx0aGlzLmE9bnVsbCl9O3NlLnByb3RvdHlwZS5jcmVhdGU9ZnVuY3Rpb24oKXtpZih0aGlzLmEpcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLmEpO3ZhciBhPW5ldyBpZCgwLG51bGwsdGhpcy5iLDAsMCksYT1uZXcgVChbYV0sMSk7dGhpcy5hPW5ldyBSKGEpO3JldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5hKX07c2UucHJvdG90eXBlLmM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hfTtmdW5jdGlvbiB0ZShhLGIpe0YuY2FsbCh0aGlzLGEpO3RoaXMuYj1iO3RoaXMuaj0hMDt0aGlzLm09dGhpcy5nPW51bGw7dGhpcy5mPW5ldyBJO3RoaXMuYT1udWxsfXIodGUsRik7dGUucHJvdG90eXBlLnBhPWZ1bmN0aW9uKCl7fTt0ZS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuYSYmdGhpcy5iLnJlbW92ZUNoaWxkKHRoaXMuYSk7dGhpcy5mLmRlc3Ryb3koKTt0aGlzLkphPXRoaXMuYj10aGlzLmc9dGhpcy5tPXRoaXMuYT10aGlzLmY9bnVsbH07bj10ZS5wcm90b3R5cGU7bi5XYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmd9O24uRmI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tfTtuLktjPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZn07bi5mYj1mdW5jdGlvbigpe3JldHVybiEwfTtuLkNiPWZ1bmN0aW9uKCl7fTsKbi5qYj1mdW5jdGlvbihhKXthLk0uY3JlYXRlKCkudGhlbihKKHRoaXMsZnVuY3Rpb24oYil7aWYodGhpcy5iKXtpZigwPT1iLmxlbmd0aCgpKXJldHVybiBQcm9taXNlLnJlamVjdChFcnJvcigiTm8gc3VidGl0bGVzIFVSTCBhdmFpbGFibGUuIikpO3ZhciBjPXRoaXMuZzt0aGlzLmc9YTt0aGlzLm09YjtiPWIuZmlyc3QoKS51cmwuY1swXS50b1N0cmluZygpO3ZhciBkPXRoaXMuRGIoKTt0aGlzLmEmJih0aGlzLnZiKCExKSx0aGlzLmIucmVtb3ZlQ2hpbGQodGhpcy5hKSk7dGhpcy5hPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRyYWNrIik7dGhpcy5iLmFwcGVuZENoaWxkKHRoaXMuYSk7dGhpcy5hLnNyYz1iO3RoaXMudmIoZCk7Yj15KHt0eXBlOiJhZGFwdGF0aW9uIixidWJibGVzOiEwLGNvbnRlbnRUeXBlOiJ0ZXh0IixzaXplOm51bGwsYmFuZHdpZHRoOmEuYmFuZHdpZHRofSk7dGhpcy5kaXNwYXRjaEV2ZW50KGIpO2N8fHRoaXMuZi5yZXNvbHZlKDApfX0pKX07bi5DYz1mdW5jdGlvbigpe307Cm4uSGM9ZnVuY3Rpb24oKXt9O24uSWM9ZnVuY3Rpb24oKXtyZXR1cm4hMH07bi52Yj1mdW5jdGlvbihhKXt0aGlzLmo9YTt0aGlzLmEmJih0aGlzLmEudHJhY2subW9kZT1hPyJzaG93aW5nIjoiZGlzYWJsZWQiKX07bi5EYj1mdW5jdGlvbigpe3RoaXMuYSYmKHRoaXMuaj0ic2hvd2luZyI9PXRoaXMuYS50cmFjay5tb2RlKTtyZXR1cm4gdGhpcy5qfTtuLnNiPWZ1bmN0aW9uKCl7cmV0dXJuIDB9O24uSmM9ZnVuY3Rpb24oKXt9O2Z1bmN0aW9uIHVlKCl7fQp1ZS5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9bnVsbDt0cnl7dmFyIGY7dmFyIGc9bmV3IElhKGIpO2lmKDQ0MDc4Njg1MSE9S2EoZykuaWQpZj1udWxsO2Vsc2V7dmFyIGg9S2EoZyk7aWYoNDA4MTI1NTQzIT1oLmlkKWY9bnVsbDtlbHNle3ZhciBrPWguYS5ieXRlT2Zmc2V0LGw7dmFyIG09bmV3IElhKGguYSk7Zm9yKGI9bnVsbDtEYShtLmEpOyl7dmFyIHA9S2EobSk7aWYoMzU3MTQ5MDMwPT1wLmlkKXtiPXA7YnJlYWt9fWlmKGIpe2Zvcih2YXIgdD1uZXcgSWEoYi5hKSxwPTFFNixtPW51bGw7RGEodC5hKTspe3ZhciB3PUthKHQpO2lmKDI4MDc3Mjk9PXcuaWQpcD1PYSh3KTtlbHNlIGlmKDE3NTQ1PT13LmlkKWlmKGI9dyw0PT1iLmEuYnl0ZUxlbmd0aCltPWIuYS5nZXRGbG9hdDMyKDApO2Vsc2UgaWYoOD09Yi5hLmJ5dGVMZW5ndGgpbT1iLmEuZ2V0RmxvYXQ2NCgwKTtlbHNlIHRocm93IG5ldyBSYW5nZUVycm9yKCJFYm1sRWxlbWVudDogZmxvYXRpbmcgcG9pbnQgbnVtYmVycyBtdXN0IGJlIDQgb3IgOCBieXRlcy4iKTt9bnVsbD09Cm0/bD1udWxsOih0PXAvMUU5LGw9e0diOnQsZHVyYXRpb246bSp0fSl9ZWxzZSBsPW51bGw7Zj1sP3tBZDprLEdiOmwuR2IsZHVyYXRpb246bC5kdXJhdGlvbn06bnVsbH19aWYoZil7dmFyIHo9S2EobmV3IElhKGEpKTtpZig0NzUyNDk1MTUhPXouaWQpZT1udWxsO2Vsc2V7dmFyIEg9Zi5BZCxkYT1mLkdiLGVhPWYuZHVyYXRpb247YT1bXTtmb3IodmFyIEFhPW5ldyBJYSh6LmEpLGs9Zj16PS0xO0RhKEFhLmEpOyl7dmFyIGNiPUthKEFhKTtpZigxODc9PWNiLmlkKXt2YXIgbmE7dmFyIHZkPW5ldyBJYShjYi5hKSx3ZD1LYSh2ZCk7aWYoMTc5IT13ZC5pZCluYT1udWxsO2Vsc2V7dmFyIFllPU9hKHdkKSx4ZD1LYSh2ZCk7aWYoMTgzIT14ZC5pZCluYT1udWxsO2Vsc2V7dmFyIGVlPW5ldyBJYSh4ZC5hKTtmb3IobD0wO0RhKGVlLmEpOyl7dmFyIGZlPUthKGVlKTtpZigyNDE9PWZlLmlkKXtsPU9hKGZlKTticmVha319bmE9e3piOlllLHlkOmx9fX1pZihuYSl7dmFyIGdlPWRhKm5hLnpiLApoZT1IK25hLnlkO2lmKDA8PXope3ZhciBOYz1uZXcgSyhkLGMsayxoZS0xKSxBZj1uYS56Yi1mO2EucHVzaChuZXcgaWQoeixnZSxOYyxuYS56YixBZikpfXo9Z2U7Zj1uYS56YjtrPWhlfX19MDw9eiYmKE5jPW5ldyBLKGQsYyxrLG51bGwpLGEucHVzaChuZXcgaWQoeixlYSxOYyxmLGVhL2RhLWYpKSk7ZT1hfX1lbHNlIGU9bnVsbH1jYXRjaChpZSl7aWYoIShpZSBpbnN0YW5jZW9mIFJhbmdlRXJyb3IpKXRocm93IGllO31yZXR1cm4gZX07ZnVuY3Rpb24gdmUoYSxiLGMsZCxlLGYsZyxoLGssbCxtKXt0aGlzLmg9YTt0aGlzLm89Yjt0aGlzLmI9Yzt0aGlzLm09bHx8bnVsbDt0aGlzLmo9bXx8bnVsbDt0aGlzLmE9ZDt0aGlzLmc9ZTt0aGlzLmY9Zjt0aGlzLnc9Zzt0aGlzLlJhPW51bGw7dGhpcy5pPWg7dGhpcy5sPWt8fG51bGw7dGhpcy51PW51bGx9dmUucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmk9dGhpcy5vPXRoaXMuaD1udWxsO3RoaXMuYS5LYSgpO3RoaXMuYT1udWxsO3RoaXMuZiYmKHRoaXMuZi5LYSgpLHRoaXMuZj1udWxsKTt0aGlzLmcmJih0aGlzLmcuS2EoKSx0aGlzLmc9bnVsbCk7dGhpcy5SYT1udWxsfTt2ZS5wcm90b3R5cGUuUWM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5SYX07dmUucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbigpe3JldHVybiB3ZSh0aGlzKX07dmUucHJvdG90eXBlLnBiPWZ1bmN0aW9uKCl7cmV0dXJuIHdlKHRoaXMpfTsKZnVuY3Rpb24gd2UoYSl7aWYoYS5SYSlyZXR1cm4gYS5SYTt2YXIgYj1udWxsO2EubCYmKGI9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigiY3JlYXRlX2NvbnRhaW5lcl9zZWdtZW50X2luZGV4X3NvdXJjZSIpLnN0YXJ0KCkpO2lmKG51bGwhPT1hLm0mJihudWxsIT09YS5qfHwid2VibSIhPT1hLmIpKXJldHVybiB4ZShhLGEubSxhLmosYik7dmFyIGM9W2EuYS5mZXRjaChudWxsLG51bGwsYS5sLGIpXTsid2VibSI9PWEuYiYmYy5wdXNoKGEuZy5mZXRjaChudWxsLG51bGwsYS5sLGIpKTthLlJhPVByb21pc2UuYWxsKGMpLnRoZW4oSihhLGZ1bmN0aW9uKGEpe3JldHVybiB4ZSh0aGlzLGFbMF0sYVsxXXx8bnVsbCxiKX0pKTtyZXR1cm4gYS5SYX0KZnVuY3Rpb24geGUoYSxiLGMsZCl7dmFyIGU9bnVsbDsibXA0Ij09YS5iPyhlPW5ldyB0ZCxlPWUucGFyc2UobmV3IERhdGFWaWV3KGIpLGEuYS5zdGFydEJ5dGUsYS5hLmMsYS5pLGEuZikpOiJ3ZWJtIj09YS5iJiYoZT1uZXcgdWUsZT1lLnBhcnNlKG5ldyBEYXRhVmlldyhiKSxuZXcgRGF0YVZpZXcoYyksYS5hLmMsYS5pKSk7aWYoIWUpcmV0dXJuIGE9RXJyb3IoIkZhaWxlZCB0byBwYXJzZSBTZWdtZW50UmVmZXJlbmNlcyBmcm9tICIrYS5hLnRvU3RyaW5nKCkrIiAob3Igb25lIG9mIGl0cyBmYWxsYmFja3MpLiIpLGEudHlwZT0ic3RyZWFtIixQcm9taXNlLnJlamVjdChhKTtiPW5ldyBUKGUsZS5zKTt2YXIgZjsiZHluYW1pYyI9PWEuaC50eXBlP2Y9bmV3IFMoYixhLmgsYS5vLGEudyk6Zj1uZXcgUihiKTtkJiZkLmxvZygpO2EudT1mO3JldHVybiBQcm9taXNlLnJlc29sdmUoZil9dmUucHJvdG90eXBlLmM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51fTtmdW5jdGlvbiB5ZShhLGIsYyxkKXt0aGlzLmM9YTt0aGlzLmI9Yjt0aGlzLmw9Y3x8bnVsbDt0aGlzLmE9ZHx8bnVsbH0KZnVuY3Rpb24gemUoYSxiLGMpe2Zvcih2YXIgZD15YSgpLzFFMyxlPTA7ZTxiLmEubGVuZ3RoOysrZSlmb3IodmFyIGY9Yi5hW2VdLGc9MDtnPGYuYS5sZW5ndGg7KytnKXt2YXIgaD1mLmFbZ107aWYoInRleHQiIT1oLmNvbnRlbnRUeXBlKWZvcih2YXIgaz0wO2s8aC5hLmxlbmd0aDsrK2spe3ZhciBsPWguYVtrXSxtPTAsbT1tKyhsLmY/MTowKSxtPW0rKGwuYj8xOjApLG09bSsobC5hPzE6MCk7MD09bT8oaC5hLnNwbGljZShrLDEpLC0tayk6MSE9bSYmKGwuZj8obC5iPW51bGwsbC5hPW51bGwpOmwuYiYmKGwuYT1udWxsKSl9fUFlKGIpO2ZvcihlPTA7ZTxiLmEubGVuZ3RoOysrZSlmb3IoZj1iLmFbZV0sZz0wO2c8Zi5hLmxlbmd0aDsrK2cpe2s9aD1mLmFbZ107bD1udWxsO2ZvcihtPTA7bTxrLmEubGVuZ3RoOysrbSl7dmFyIHA9ay5hW21dLm1pbWVUeXBlfHwiIjtsP3AhPWwmJihrLmEuc3BsaWNlKG0sMSksLS1tKTpsPXB9MD09aC5hLmxlbmd0aCYmKGYuYS5zcGxpY2UoZywxKSwKLS1nKX1iLm1hbmlmZXN0SXNMaXZlU3RyZWFtaW5nJiZudWxsPT1iLmMmJihiLmM9ZCk7ZT1uZXcgVGQ7ImR5bmFtaWMiPT1iLnR5cGUmJihlLmI9ITAsZS5jPWIuZyxlLmk9bmV3IEsoYyxiLnV8fGIudXJsLHZvaWQgMCx2b2lkIDAsdm9pZCAwLGEuYSksZS5qPWIuYyk7ZS5CPWIuaHx8MDtlLm09Yi5pfHwwO2Uubz1iLmp8fDA7ZS5nPWIubXx8NTtmb3IoZj0wO2Y8Yi5hLmxlbmd0aDsrK2Ype2c9Yi5hW2ZdO2lmKG51bGw9PWcuc3RhcnQpYnJlYWs7Zz1CZShhLGIsZyxkLGMpO2UuYS5wdXNoKGcpfWUuZj1iLkZCSXNMaXZlVGVtcGxhdGVkO2EubCYmYS5sLnNldElzVGVtcGxhdGVkTWFuaWZlc3QoYi5GQklzTGl2ZVRlbXBsYXRlZCk7ZS5BPWIuRkJXYXNMaXZlO2E9bnVsbDtjPSJub25lIjtmb3IoZj0wO2Y8Yi5hLmxlbmd0aDtmKyspZm9yKGc9Yi5hW2ZdLGQ9MDtkPGcuYS5sZW5ndGg7ZCsrKWZvcihoPWcuYVtkXSxrPTA7azxoLmEubGVuZ3RoO2srKylsPWguYVtrXS5pLG51bGwhPQpsJiZudWxsIT1sLnZhbHVlJiYoYT1jPWwudmFsdWUsInVybjptcGVnOmRhc2g6MjMwMDM6MzphdWRpb19jaGFubmVsX2NvbmZpZ3VyYXRpb246MjAxMSI9PT1sLmEmJigiMSI9PT1hP2M9Im1vbm8iOiIyIj09PWEmJihjPSJzdGVyZW8iKSkpO2Uudz1jO2E9cGFyc2VJbnQoYSwxMCk7ZS51PTA8YT9hOm51bGw7cmV0dXJuIGV9CmZ1bmN0aW9uIEFlKGEpe2lmKGEuYS5sZW5ndGgpe251bGw9PWEuYVswXS5zdGFydCYmKGEuYVswXS5zdGFydD0wKTt2YXIgYj1mdW5jdGlvbihhKXtyZXR1cm4gMD09YXx8ISFhfTthLm1hbmlmZXN0SXNMaXZlU3RyZWFtaW5nJiYoYS5iPW51bGwpO2IoYS5iKSYmMT09YS5hLmxlbmd0aCYmIWIoYS5hWzBdLmR1cmF0aW9uKSYmKGEuYVswXS5kdXJhdGlvbj1hLmIpO2Zvcih2YXIgYz0wLGQ9ITAsZT0wO2U8YS5hLmxlbmd0aDsrK2Upe3ZhciBmPWEuYVtlLTFdLGc9YS5hW2VdLGg9YS5hW2UrMV18fHtzdGFydDphLmJ9OyFiKGcuc3RhcnQpJiZmJiZiKGYuc3RhcnQpJiZiKGYuZHVyYXRpb24pJiYoZy5zdGFydD1mLnN0YXJ0K2YuZHVyYXRpb24pOyFiKGcuZHVyYXRpb24pJiZiKGguc3RhcnQpJiYoZy5kdXJhdGlvbj1oLnN0YXJ0LWcuc3RhcnQpO251bGwhPWcuc3RhcnQmJm51bGwhPWcuZHVyYXRpb24/Yys9Zy5kdXJhdGlvbjpkPSExfWIoYS5iKXx8KGU9YS5hW2EuYS5sZW5ndGgtMV0sCmQ/YS5iPWM6YihlLnN0YXJ0KSYmYihlLmR1cmF0aW9uKT9hLmI9ZS5zdGFydCtlLmR1cmF0aW9uOmEubWFuaWZlc3RJc0xpdmVTdHJlYW1pbmd8fChhLmI9YykpfX0KZnVuY3Rpb24gQmUoYSxiLGMsZCxlKXt2YXIgZj1uZXcgU2Q7Zi5pZD1jLmlkO2Yuc3RhcnQ9Yy5zdGFydDtmLmR1cmF0aW9uPWMuZHVyYXRpb247dmFyIGc9bmV3IEQ7Yy5hLmZvckVhY2goZnVuY3Rpb24oYSl7Zy5wdXNoKGEuY29udGVudFR5cGV8fCIiLGEpfSk7Zm9yKHZhciBoPWFiKGcpLGs9MDtrPGgubGVuZ3RoOysrayl7dmFyIGw9bmV3IEQ7Zy5nZXQoaFtrXSkuZm9yRWFjaChmdW5jdGlvbihhKXtsLnB1c2goYS5ncm91cCxhKX0pO2Zvcih2YXIgbT1hYihsKSxwPTA7cDxtLmxlbmd0aDsrK3Ape3ZhciB0PW5ldyBEO2wuZ2V0KG1bcF0pLmZvckVhY2goZnVuY3Rpb24oYSl7dC5wdXNoKGEubGFuZyxhKX0pO2Zvcih2YXIgdz1hYih0KSx6PTA7ejx3Lmxlbmd0aDsrK3ope3ZhciBIPXQuZ2V0KHdbel0pLEg9Q2UoYSxiLGMsSCxkLGUpO2YuYS5wdXNoKEgpfX19cmV0dXJuIGZ9CmZ1bmN0aW9uIENlKGEsYixjLGQsZSxmKXtiYShkLmV2ZXJ5KGZ1bmN0aW9uKGEpe3JldHVybiBhLmdyb3VwPT1kWzBdLmdyb3VwJiYoYS5sYW5nfHwiIik9PShkWzBdLmxhbmd8fCIiKSYmKGEuY29udGVudFR5cGV8fCIiKT09KGRbMF0uY29udGVudFR5cGV8fCIiKX0pKTt2YXIgZz1uZXcgT2QsaD1kLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YS5pZH0pO2gubGVuZ3RoPT1kLmxlbmd0aCYmKGcuaWQ9aC5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuaWR9KS5zb3J0KCkucmVkdWNlKGZ1bmN0aW9uKGEsYil7cmV0dXJuIGErIiwiK2J9KSk7Zy5iPSEoIWRbMF0uYnx8InVybjpzY3RlOmRhc2g6Y2M6Y2VhLTYwODoyMDE1IiE9PWRbMF0uYi5hKTtnLmxhbmc9ZFswXS5sYW5nfHwiIjtnLmNvbnRlbnRUeXBlPWRbMF0uY29udGVudFR5cGV8fCIiO2cuZj1kLnNvbWUoZnVuY3Rpb24oYSl7cmV0dXJuIGEuZn0pO2Zvcih2YXIgaD17fSxrPTA7azxkLmxlbmd0aDsrK2spe3ZhciBsPQpkW2tdO2wuYyYmKGcuYz1sLmMpO2Zvcih2YXIgbT0wO208bC5hLmxlbmd0aDsrK20pe3ZhciBwPWwuYVttXSx0PURlKGEscCksdz1nLmEuc2xpY2UoMCk7RWUodCx3KTswPT13Lmxlbmd0aCYmMDxnLmEubGVuZ3RofHwhKHA9RmUoYSxiLGMscCxlLGYpKXx8KGcudi5wdXNoKHApLGcuYT13LGhbcC5YXT1sKX19aWYoZy5hLnNvbWUoZnVuY3Rpb24oYSl7cmV0dXJuIiI9PWEuYX0pKXJldHVybiBnLnYuZm9yRWFjaChmdW5jdGlvbihhKXthLm9hPSEwfSksZzthPUdlKGQpO2ZvcihrPTA7azxnLnYubGVuZ3RoOysraylwPWcudltrXSxsPWhbcC5YXSxsPT1hJiYocC5vYT0hMCk7cmV0dXJuIGd9CmZ1bmN0aW9uIEdlKGEpe2Zvcih2YXIgYj1udWxsLGM9bnVsbCxkPTA7ZDxhLmxlbmd0aDsrK2QpZm9yKHZhciBlPWFbZF0sZj0wO2Y8ZS5hLmxlbmd0aDsrK2Ype3ZhciBnPWUuYVtmXSxnPShnLndpZHRofHwxKSooZy5oZWlnaHR8fDEpKihnLmJhbmR3aWR0aHx8MSk7aWYobnVsbD09Ynx8ZzxiKWI9ZyxjPWV9cmV0dXJuIGN9ZnVuY3Rpb24gRWUoYSxiKXtpZigwPT1iLmxlbmd0aClBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShiLGEpO2Vsc2UgZm9yKHZhciBjPTA7YzxiLmxlbmd0aDsrK2Mpe2Zvcih2YXIgZD0hMSxlPTA7ZTxhLmxlbmd0aDsrK2Upe3ZhciBmPWJbY10sZz1hW2VdO2lmKGYuYT09Zy5hJiZmLmk9PWcuaSYmZi53aXRoQ3JlZGVudGlhbHM9PWcud2l0aENyZWRlbnRpYWxzJiZmLmg9PWcuaCYmZi5qPT1nLmomJmYuZz09Zy5nJiZmLm09PWcubSYmTWEoZi5jLGcuYykpe2Q9ITA7T2IoYltjXSxhW2VdLmIpO2JyZWFrfX1kfHwoYi5zcGxpY2UoYywxKSwtLWMpfX0KZnVuY3Rpb24gRGUoYSxiKXt2YXIgYz1bXTtpZigwPT1iLmMubGVuZ3RoKWMucHVzaChuZXcgTWIpO2Vsc2UgaWYoYS5iKWZvcih2YXIgZD0wO2Q8Yi5jLmxlbmd0aDsrK2QpYy5wdXNoLmFwcGx5KGMsSGUoYSxiLmNbZF0pKTtyZXR1cm4gY30KZnVuY3Rpb24gSGUoYSxiKXt2YXIgYz1bXTtpZigyIT1hLmIubGVuZ3RoKXJldHVybltdO3ZhciBkPWEuYihiLmZ8fCIiLGIuYyk7aWYoIShkJiZkIGluc3RhbmNlb2YgQXJyYXkpKXJldHVybltdO2Zvcih2YXIgZT0wO2U8ZC5sZW5ndGg7KytlKXt2YXIgZjt2YXIgZz1kW2VdO2Y9bmV3IE1iO2lmKGcpe3ZhciBoPVlhKGcsImtleVN5c3RlbSIpO2lmKG51bGwhPWgpZi5hPWg7ZWxzZSB0aHJvdyBFcnJvcigiJ2tleVN5c3RlbScgY2Fubm90IGJlIG51bGwuIik7dmFyIGs9WWEoZywibGljZW5zZVNlcnZlclVybCIpO2lmKG51bGwhPWspZi5pPWs7ZWxzZSBpZihoKXRocm93IEVycm9yKCJGb3IgZW5jcnlwdGVkIHN0cmVhbWluZyBjb250ZW50LCAnbGljZW5zZVNlcnZlclVybCcgY2Fubm90IGJlIG51bGwgb3IgZW1wdHkuIik7aD1CKGcsIndpdGhDcmVkZW50aWFscyIpO251bGwhPWgmJihmLndpdGhDcmVkZW50aWFscz1oKTtoPVphKGcsImxpY2Vuc2VQb3N0UHJvY2Vzc29yIixGdW5jdGlvbik7Cm51bGwhPWgmJihmLmY9aCk7aD1aYShnLCJsaWNlbnNlUHJlUHJvY2Vzc29yIixGdW5jdGlvbik7bnVsbCE9aCYmKGYubz1oKTtoPUIoZywiZGlzdGluY3RpdmVJZGVudGlmaWVyUmVxdWlyZWQiKTtudWxsIT1oJiYoZi5oPWgpO2g9QihnLCJwZXJzaXN0ZW50U3RhdGVSZXF1aXJlZCIpO251bGwhPWgmJihmLmo9aCk7aD1ZYShnLCJhdWRpb1JvYnVzdG5lc3MiKTtudWxsIT1oJiYoZi5nPWgpO2g9WWEoZywidmlkZW9Sb2J1c3RuZXNzIik7bnVsbCE9aCYmKGYubT1oKTtoPVphKGcsInNlcnZlckNlcnRpZmljYXRlIixVaW50OEFycmF5KTtudWxsIT1oJiYoZi5jPWgpO2lmKGg9WmEoZywiaW5pdERhdGEiLE9iamVjdCkpe2c9WmEoaCwiaW5pdERhdGEiLFVpbnQ4QXJyYXkpO2lmKG51bGw9PWcpdGhyb3cgRXJyb3IoIidpbml0RGF0YS5pbml0RGF0YScgY2Fubm90IGJlIG51bGwuIik7aD1ZYShoLCJpbml0RGF0YVR5cGUiKTtpZihudWxsPT1oKXRocm93IEVycm9yKCInaW5pdERhdGEuaW5pdERhdGFUeXBlJyBjYW5ub3QgYmUgbnVsbC4iKTsKZi5iLnB1c2goe2luaXREYXRhOm5ldyBVaW50OEFycmF5KGcuYnVmZmVyKSxpbml0RGF0YVR5cGU6aH0pfX0wPT1mLmIubGVuZ3RoJiZiLmEmJmIuYS5wc3NoQm94JiZPYihmLFt7aW5pdERhdGE6Yi5hLnBzc2hCb3gsaW5pdERhdGFUeXBlOiJjZW5jIn1dKTtjLnB1c2goZil9cmV0dXJuIGN9CmZ1bmN0aW9uIEZlKGEsYixjLGQsZSxmKXtpZighZC5iYXNlVXJsfHwwPT09ZC5iYXNlVXJsLmxlbmd0aClyZXR1cm4gbnVsbDt2YXIgZz1udWxsLGg9MSxrPTA7aWYoZC5mKXtnPWQubWltZVR5cGUuc3BsaXQoIi8iKVsxXTtpZigibXA0IiE9ZyYmIndlYm0iIT1nKWc9bnVsbDtlbHNle3ZhciBsPWQuZjtpZigid2VibSIhPWd8fGwuYylpZihsLmF8fGwuYiYmbC5iLmEpe2g9bC5iO2h8fChoPW5ldyB3YyxoLnVybD1kLmJhc2VVcmwsaC5hPWwuYT9sLmEuY2xvbmUoKTpudWxsKTtrPUllKGEsaCxmKTtoPWwuYz9JZShhLGwuYyxmKTpudWxsO2wuZj8obD1sLmYsbD1uZXcgSyhmLGQuYmFzZVVybCxsLnFhLGwuZW5kLHZvaWQgMCxhLmEpKTpsPW51bGw7dmFyIG09bCxwPVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgiYWRkX2lubGluZV9pbml0aWFsaXphdGlvbl9yZXNvdXJjZXMiLCExKSYmZC5oJiZkLmguZGF0YT9kLmguZGF0YTpudWxsLGw9VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJhZGRfaW5saW5lX2luaXRpYWxpemF0aW9uX3Jlc291cmNlcyIsCiExKSYmZC5nJiZkLmcuZGF0YT9kLmcuZGF0YTpudWxsO2E9bmV3IHZlKGIsYyxnLGssaCxtLGUsZixhLmwscCxsKTtiPW5ldyBnZChoLGwpO2M9bmV3IEtkO2MuTT1hO2MuYWE9YjtnPWN9ZWxzZSBnPW51bGw7ZWxzZSBnPW51bGx9aD1kLmYucztrPWQuZi5MfWVsc2UgaWYoZC5iKWc9ZC5iLCFnLkgmJiFnLkMmJjE8Zy5hLmxlbmd0aD9nPW51bGw6Zy5IfHxjLmR1cmF0aW9ufHxnLkN8fDEhPWcuYS5sZW5ndGg/Zy5DJiYwPT09Zy5DLk4ubGVuZ3RoP2c9bnVsbDooZz1nLmI/SWUoYSxnLmIsZik6bnVsbCxhPW5ldyBGZChiLGMsZCxlLGYsYS5hKSxiPW5ldyBnZChnKSxjPW5ldyBLZCxjLk09YSxjLmFhPWIsZz1jKTpnPW51bGwsaD1kLmIucyxrPWQuYi5MO2Vsc2UgaWYoZC5hKXthOmlmKGc9ZC5hLGg9MCsoZy5hPzE6MCksaCs9Zy5DPzE6MCxoKz1nLkg/MTowLDA9PWg/aD0hMTooMSE9aCYmKGcuYT8oZy5DPW51bGwsZy5IPW51bGwpOmcuQyYmKGcuSD1udWxsKSksaD0hMCksaCl7aD0KbnVsbDtpZihnLmMmJihoPShnPWQuYS5jKT9KZShkLGcseGMpOm51bGwsIWgpKXtnPW51bGw7YnJlYWsgYX1nPWg/SWUoYSxoLGYpOm51bGw7aD1kLmE7aC5hPyhoPWQubWltZVR5cGUuc3BsaXQoIi8iKVsxXSwibXA0IiE9aCYmIndlYm0iIT1oP2E9bnVsbDoid2VibSIhPWh8fGc/bWQoZixkLDEsMCx2b2lkIDAsYS5hKT8oaz0oaz1kLmEuYSk/SmUoZCxrLHdjKTpudWxsKT8oaz1JZShhLGssZiksYT1uZXcgdmUoYixjLGgsayxnLG51bGwsZSxmLGEubCkpOmE9bnVsbDphPW51bGw6YT1udWxsKTphPWguZj9oLkM/bmV3IEpkKGEuYyxiLGMsZCxlLGYsMCxhLmEpOmguSD9iLm1hbmlmZXN0SXNMaXZlU3RyZWFtaW5nfHxudWxsIT1jLmR1cmF0aW9uP25ldyBFZChiLGMsZCxlLGYpOm51bGw6bnVsbDpudWxsO2E/KGI9bmV3IGdkKGcpLGM9bmV3IEtkLGMuTT1hLGMuYWE9YixnPWMpOmc9bnVsbH1lbHNlIGc9bnVsbDtoPWQuYS5zO2s9ZC5hLkx9ZWxzZSJ0ZXh0Ij09ZC5taW1lVHlwZS5zcGxpdCgiLyIpWzBdJiYKKGc9bmV3IEtkLGcuTT1uZXcgc2UobmV3IEsoZixkLmJhc2VVcmwpKSk7aWYoIWcpcmV0dXJuIG51bGw7Zy5pZD1kLmlkO2smJihnLmE9LTEqay9oKTtnLmJhbmR3aWR0aD1kLmJhbmR3aWR0aDtnLndpZHRoPWQud2lkdGg7Zy5oZWlnaHQ9ZC5oZWlnaHQ7Zy5taW1lVHlwZT1kLm1pbWVUeXBlfHwiIjtnLmNvZGVjcz1kLmNvZGVjc3x8IiI7Zy5nPWQub3x8bnVsbDtnLmg9ZC51fHxudWxsO2cuZmJRdWFsaXR5TGFiZWw9ZC5mYlF1YWxpdHlMYWJlbHx8bnVsbDtnLmZiUXVhbGl0eUNsYXNzPWQuZmJRdWFsaXR5Q2xhc3N8fG51bGw7Zy5mPWQubXx8bnVsbDtnLmZyYW1lUmF0ZT1kLmZyYW1lUmF0ZXx8IiI7Zy5jPWQuanx8bnVsbDtmb3IoYT0wO2E8ZC5jLmxlbmd0aDsrK2EpYj1kLmNbYV0sYi5iJiZnLmIucHVzaChiLmIpO3JldHVybiBnfQpmdW5jdGlvbiBKZShhLGIsYyl7Yj1uZChiLGEuaWQsbnVsbCxhLmJhbmR3aWR0aCxudWxsKTtpZighYilyZXR1cm4gbnVsbDtjPW5ldyBjO2MudXJsPVpjKGEuYmFzZVVybCxiKTtyZXR1cm4gY31mdW5jdGlvbiBJZShhLGIsYyl7dmFyIGQ9Yi51cmwsZT0wLGY9bnVsbDtiLmEmJihlPWIuYS5xYSxmPWIuYS5lbmQpO3JldHVybiBuZXcgSyhjLGQsZSxmLHZvaWQgMCxhLmEpfTtmdW5jdGlvbiBLZShhLGIsYyxkLGUsZixnKXt0aGlzLmI9bmV3IEsobnVsbCxbbmV3IEwoYSldKTt0aGlzLmw9ZTt0aGlzLmY9Yjt0aGlzLmM9MTt0aGlzLmc9YTt0aGlzLmE9bmV3IHRiO3RoaXMuYS5ib2R5PWI7dGhpcy5hLm1ldGhvZD1jO3RoaXMuYS5OYT0zO3RoaXMuYS53aXRoQ3JlZGVudGlhbHM9ZDt0aGlzLmEuYj0xRTMqKG51bGwhPWc/ZzpoYSk7YT1mfHx7fTtmb3IodmFyIGggaW4gYSl0aGlzLmEuUWFbaF09YVtoXX0KZnVuY3Rpb24gTGUoYSl7cmV0dXJuIGEuYi5mZXRjaChhLmEpLnRoZW4oZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYi51JiYwPHRoaXMuYz8odGhpcy5jLS0sbnVsbCE9PXRoaXMubCYmbnVsbCE9PXRoaXMuYi5pJiZ0aGlzLmwuc2V0UmVhc29uKCJSZWRpcmVjdGVkIHRvIFVSTDogIit0aGlzLmIuaS50b1N0cmluZygpKSx0aGlzLmI9bmV3IEsobnVsbCxbbmV3IEwodGhpcy5nKV0pLHRoaXMuYS5ib2R5PXRoaXMuZixMZSh0aGlzKSk6UHJvbWlzZS5yZXNvbHZlKG5ldyBVaW50OEFycmF5KGEpKX0uYmluZChhKSl9O2Z1bmN0aW9uIE1lKGEsYixjLGQpe0YuY2FsbCh0aGlzLGEpO3RoaXMuYz1iO3RoaXMuaj1jO3RoaXMuYT10aGlzLmg9bnVsbDt0aGlzLmk9bmV3IGJiO3RoaXMuYj1bXTt0aGlzLmY9W107dGhpcy5tPTA7dGhpcy5nPW5ldyBJO3RoaXMubz1udWxsO3RoaXMuQT1oYTt0aGlzLmw9ZH1yKE1lLEYpO01lLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5KYT1udWxsO2Zvcih2YXIgYT0wO2E8dGhpcy5mLmxlbmd0aDsrK2EpdGhpcy5mW2FdLmNsb3NlKCkuY2F0Y2goZnVuY3Rpb24oKXt9KTt0aGlzLmY9W107dGhpcy5iPXRoaXMuYT10aGlzLmg9bnVsbDt0aGlzLmcuZGVzdHJveSgpO3RoaXMuZz1udWxsO3RoaXMuaS5kZXN0cm95KCk7dGhpcy5pPW51bGw7dGhpcy5vJiYoY2xlYXJUaW1lb3V0KHRoaXMubyksdGhpcy5vPW51bGwpO3RoaXMuYz10aGlzLmo9bnVsbH07Ck1lLnByb3RvdHlwZS5pbml0aWFsaXplPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPW5ldyBELGI9TmUodGhpcy5qKSxjPTA7YzxiLmxlbmd0aDsrK2Mpe3ZhciBkPWJbY107ZC5hLmF8fGQuYiYmIU9lKGQuYil8fGEucHVzaChkLmNvbnRlbnRUeXBlLGQpfWZvcih2YXIgYz17fSxkPSExLGU9MDtlPGIubGVuZ3RoOysrZSl7dmFyIGY9YltlXTtpZihmLmEuYSYmIWEuYS5oYXNPd25Qcm9wZXJ0eShmLmNvbnRlbnRUeXBlKSl7dmFyIGc9Zi5hLmEsaD1jW2ddO2h8fChoPWYuYSxoPXthdWRpb0NhcGFiaWxpdGllczp2b2lkIDAsdmlkZW9DYXBhYmlsaXRpZXM6dm9pZCAwLGluaXREYXRhVHlwZXM6dm9pZCAwLGRpc3RpbmN0aXZlSWRlbnRpZmllcjpoLmg/InJlcXVpcmVkIjoib3B0aW9uYWwiLHBlcnNpc3RlbnRTdGF0ZTpoLmo/InJlcXVpcmVkIjoib3B0aW9uYWwiLHNlc3Npb25UeXBlczpbInRlbXBvcmFyeSJdfSxjW2ddPWgpO2lmKGYuYiYmKGc9Zi5jb250ZW50VHlwZSsiQ2FwYWJpbGl0aWVzIiwKZyBpbiBoKSl7ZD0hMDtoW2ddfHwoaFtnXT1bXSk7dmFyIGs7ImF1ZGlvIj09Zi5jb250ZW50VHlwZT9rPWYuYS5nOiJ2aWRlbyI9PWYuY29udGVudFR5cGUmJihrPWYuYS5tKTtoW2ddLnB1c2goe2NvbnRlbnRUeXBlOmYuYixyb2J1c3RuZXNzOmt9KX19fWlmKCFkKWlmKGIubGVuZ3RoKXRoaXMuYT1iWzBdLmE7ZWxzZSB0aHJvdyBhPUVycm9yKCJObyBEcm1JbmZvIGV4aXN0cyEiKSxhLnR5cGU9ImRybSIsYTtpZigwPT1PYmplY3Qua2V5cyhjKS5sZW5ndGgpcmV0dXJuIFBlKHRoaXMuaixhKSx0aGlzLmcucmVzb2x2ZSgpLFByb21pc2UucmVzb2x2ZSgpO2s9bmV3IEk7Yz1RZShjLGspO2M9Yy50aGVuKHRoaXMudy5iaW5kKHRoaXMsYixhKSk7ay5yZWplY3QobnVsbCk7dGhpcy5sJiZ0aGlzLmwuZ2V0RXZlbnRMb2dnZXIoImVtZV9pbml0IikubG9nKCk7cmV0dXJuIGN9OwpmdW5jdGlvbiBRZShhLGIpe2Zvcih2YXIgYyBpbiBhKWI9Yi5jYXRjaChmdW5jdGlvbihhLGIpe3JldHVybiBuYXZpZ2F0b3IucmVxdWVzdE1lZGlhS2V5U3lzdGVtQWNjZXNzKGEsW2JdKX0uYmluZChudWxsLGMsYVtjXSkpO3JldHVybiBifQpNZS5wcm90b3R5cGUudz1mdW5jdGlvbihhLGIsYyl7aWYoIXRoaXMuYylyZXR1cm4gUmUoKTtmb3IodmFyIGQ9Yy5rZXlTeXN0ZW0sZT1jLmdldENvbmZpZ3VyYXRpb24oKSxmPVsiYXVkaW8iLCJ2aWRlbyJdLGc9MDtnPGYubGVuZ3RoOysrZyl7dmFyIGg9ZltnXTtpZighYi5hLmhhc093blByb3BlcnR5KGgpKXt2YXIgaz1lW2grIkNhcGFiaWxpdGllcyJdO2lmKGspe2Zvcih2YXIgaz1rWzBdLGw9W10sbT17fSxwPTA7cDxhLmxlbmd0aDsrK3Ape3ZhciB0PWFbcF0sdz1rP3QuYj09ay5jb250ZW50VHlwZTp0LmNvbnRlbnRUeXBlPT1oO3QuYS5hIT1kfHwhd3x8dC5pZCBpbiBtfHwobC5wdXNoKHQpLG1bdC5pZF09ITAsdGhpcy5hPXRoaXMuYT9OYih0aGlzLmEsdC5hKTp0LmEpfWIuc2V0KGgsbCl9fX1QZSh0aGlzLmosYik7aWYodGhpcy5jLm1lZGlhS2V5cyl0aGlzLmg9dGhpcy5jLm1lZGlhS2V5cztlbHNlIHJldHVybiBjLmNyZWF0ZU1lZGlhS2V5cygpLnRoZW4oZnVuY3Rpb24oYSl7dGhpcy5oPQphfS5iaW5kKHRoaXMpKX07ZnVuY3Rpb24gU2UoYSl7cmV0dXJuIGEuYz9hLmg/YS5jLnNldE1lZGlhS2V5cyhhLmgpLnRoZW4oSihhLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYz90aGlzLmEuYz90aGlzLmguc2V0U2VydmVyQ2VydGlmaWNhdGUodGhpcy5hLmMpOlByb21pc2UucmVzb2x2ZSgpOlJlKCl9KSkudGhlbihKKGEsZnVuY3Rpb24oKXtpZighdGhpcy5jKXJldHVybiBSZSgpO2Zvcih2YXIgYT0wO2E8dGhpcy5hLmIubGVuZ3RoOysrYSl7dmFyIGM9dGhpcy5hLmJbYV07dGhpcy51KHt0eXBlOiJlbmNyeXB0ZWQiLGluaXREYXRhVHlwZTpjLmluaXREYXRhVHlwZSxpbml0RGF0YTpjLmluaXREYXRhfSl9MD09dGhpcy5hLmIubGVuZ3RoJiZFKHRoaXMuaSx0aGlzLmMsImVuY3J5cHRlZCIsdGhpcy51LmJpbmQodGhpcykpfSkpOlByb21pc2UucmVzb2x2ZSgpOlJlKCl9CmZ1bmN0aW9uIFJlKCl7dmFyIGE9RXJyb3IoIkVtZU1hbmFnZXIgZGVzdHJveWVkIik7YS50eXBlPSJkZXN0cm95IjtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYSl9Ck1lLnByb3RvdHlwZS51PWZ1bmN0aW9uKGEpe3ZhciBiPW5ldyBVaW50OEFycmF5KGEuaW5pdERhdGEpO3RoaXMubCYmdGhpcy5sLmdldEV2ZW50TG9nZ2VyKCJlbmNyeXB0ZWRfc2FtcGxlIikubG9nKCk7Zm9yKHZhciBjPTA7Yzx0aGlzLmIubGVuZ3RoOysrYylpZihNYShiLHRoaXMuYltjXS5kYXRhKSlyZXR1cm47dHJ5e3ZhciBkPVRlKHRoaXMpfWNhdGNoKGUpe2I9QShlKTt0aGlzLmRpc3BhdGNoRXZlbnQoYik7dGhpcy5sJiZ0aGlzLmwuZ2V0RXZlbnRMb2dnZXIoImVtZV9lcnJvciIpLnNldEVycm9yKGUpLmxvZygpO3RoaXMuZy5yZWplY3QoZSk7cmV0dXJufWE9ZC5nZW5lcmF0ZVJlcXVlc3QoYS5pbml0RGF0YVR5cGUsYS5pbml0RGF0YSk7dGhpcy5iLnB1c2goe2RhdGE6Yix1YjpkfSk7YS5jYXRjaChKKHRoaXMsZnVuY3Rpb24oYSl7aWYodGhpcy5jKXtmb3IodmFyIGI9MDtiPHRoaXMuYi5sZW5ndGg7KytiKWlmKHRoaXMuYltiXS51Yj09ZCl7dGhpcy5iLnNwbGljZShiLAoxKTticmVha31iPUEoYSk7dGhpcy5kaXNwYXRjaEV2ZW50KGIpO3RoaXMubCYmdGhpcy5sLmdldEV2ZW50TG9nZ2VyKCJlbWVfZXJyb3IiKS5zZXRFcnJvcihhKS5sb2coKTt0aGlzLmcucmVqZWN0KGEpfX0pKTt0aGlzLmYucHVzaChkKX07ZnVuY3Rpb24gVWUoYSl7Zm9yKHZhciBiPVtdLGM9MDtjPGIubGVuZ3RoOysrYyl7dmFyIGQ9VGUoYSksZT1kLmxvYWQoYltjXSk7YS5mLnB1c2goZCk7ZS50aGVuKEooYSxmdW5jdGlvbigpe3RoaXMubSsrO3RoaXMubT49dGhpcy5mLmxlbmd0aCYmdGhpcy5nLnJlc29sdmUoKX0pKS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7dmFyIGI9QShhKTt0aGlzLmRpc3BhdGNoRXZlbnQoYik7dGhpcy5sJiZ0aGlzLmwuZ2V0RXZlbnRMb2dnZXIoImVtZV9lcnJvciIpLnNldEVycm9yKGEpLmxvZygpfSkpfX0KZnVuY3Rpb24gVGUoYSl7dmFyIGI9bnVsbCxiPWEuaC5jcmVhdGVTZXNzaW9uKCk7RShhLmksYiwibWVzc2FnZSIsYS5ELmJpbmQoYSkpO0UoYS5pLGIsImtleXN0YXR1c2VzY2hhbmdlIixhLkIuYmluZChhKSk7cmV0dXJuIGJ9TWUucHJvdG90eXBlLkQ9ZnVuY3Rpb24oYSl7VmUodGhpcyxhLnRhcmdldCx0aGlzLmEsYS5tZXNzYWdlKX07Ck1lLnByb3RvdHlwZS5CPWZ1bmN0aW9uKGEpe2E9YS50YXJnZXQ7dmFyIGI9e307YS5rZXlTdGF0dXNlcy5mb3JFYWNoKGZ1bmN0aW9uKGEsYyl7aWYoInN0cmluZyI9PT10eXBlb2YgYSl7dmFyIGY9YTthPWM7Yz1mfWlmKCJjb20ubWljcm9zb2Z0LnBsYXlyZWFkeSI9PXRoaXMuYS5hJiYxNj09YS5ieXRlTGVuZ3RoKXt2YXIgZj1uZXcgRGF0YVZpZXcoYSksZz1mLmdldFVpbnQzMigwLCEwKSxoPWYuZ2V0VWludDE2KDQsITApLGs9Zi5nZXRVaW50MTYoNiwhMCk7Zi5zZXRVaW50MzIoMCxnLCExKTtmLnNldFVpbnQxNig0LGgsITEpO2Yuc2V0VWludDE2KDYsaywhMSl9Zj1MYihuZXcgVWludDhBcnJheShhKSk7YltmXT1jfS5iaW5kKHRoaXMpKTtpZihhLmV4cGlyYXRpb248RGF0ZS5ub3coKSl7Zm9yKHZhciBjPTA7Yzx0aGlzLmIubGVuZ3RoOysrYylpZih0aGlzLmJbY10udWI9PWEpe3RoaXMuYi5zcGxpY2UoYywxKTticmVha31hLmNsb3NlKCk7dGhpcy5mLnNwbGljZSh0aGlzLmYuaW5kZXhPZihhKSwKMSl9dGhpcy5sJiZ0aGlzLmwuZ2V0RXZlbnRMb2dnZXIoImVtZV9rZXlfc3RhdHVzX2NoYW5nZSIpLmxvZygpO1dlKHRoaXMuaixiKX07CmZ1bmN0aW9uIFZlKGEsYixjLGQpe2Q9WGUoYyxkKTt2YXIgZT1udWxsO2EubCYmKGU9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigibGljZW5zZV9yZXF1ZXN0Iikuc3RhcnQoKSk7TGUobmV3IEtlKGQudXJsLGQuYm9keSxkLm1ldGhvZCxjLndpdGhDcmVkZW50aWFscyxlLGQuaGVhZGVycyxhLkEpKS50aGVuKEooYSxmdW5jdGlvbihhKXtlJiYoZS5zZXRSZXN1bHQoInN1Y2Nlc3MiKSxlLmxvZygpKTtjLmYmJihhPWMuZihhKSk7ZT1udWxsO3RoaXMubCYmKGU9dGhpcy5sLmdldE9wZXJhdGlvbkxvZ2dlcigiZW1lX3Bvc3RfbGljZW5zZV9zZXNzaW9uX3VwZGF0ZSIpLnN0YXJ0KCkpO251bGw9PT1hfHx2b2lkIDA9PT1hfHwwPT09YS5ieXRlTGVuZ3RoP251bGwhPT1lJiYoZS5zZXRFcnJvcigiZW1wdHkgbGljZW5zZSIpLGUuc2V0UmVzdWx0KCJmYWlsZWQiKS5sb2coKSk6Yi51cGRhdGUoYSkudGhlbihKKHRoaXMsZnVuY3Rpb24oKXtlJiYoZS5zZXRSZXN1bHQoInN1Y2Nlc3MiKSxlLmxvZygpKTsKdmFyIGE9eSh7dHlwZToic2Vzc2lvblJlYWR5IixkZXRhaWw6Yn0pO3RoaXMuZGlzcGF0Y2hFdmVudChhKTt0aGlzLm0rKzt0aGlzLm0+PXRoaXMuZi5sZW5ndGgmJnRoaXMuZy5yZXNvbHZlKCl9KSkuY2F0Y2goSih0aGlzLGZ1bmN0aW9uKGEpe2EudWI9Yjt2YXIgYz1BKGEpO2UmJihlLnNldFJlc3VsdCgiZmFpbGVkIiksZS5zZXRFcnJvcihhKS5sb2coKSk7dGhpcy5kaXNwYXRjaEV2ZW50KGMpfSkpfSkpLmNhdGNoKEooYSxmdW5jdGlvbihhKXtpZihjLmYpe3ZhciBkPUpTT04uc3RyaW5naWZ5KHtkYXRhOlt7ZXJyb3I6YX1dfSksZD1uZXcgVWludDhBcnJheShkLnNwbGl0KCIiKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuY2hhckNvZGVBdCgwKX0pKTtjLmYoZCl9YS51Yj1iO2Q9QShhKTtlJiZlLnNldEVycm9yKGEpLmxvZygpO3RoaXMuZGlzcGF0Y2hFdmVudChkKX0pKX0KZnVuY3Rpb24gWGUoYSxiKXt2YXIgYz17dXJsOmEuaSxib2R5OmIuc2xpY2UoMCksbWV0aG9kOiJQT1NUIixoZWFkZXJzOnt9LGtleV9zeXN0ZW06YS5hfTtpZigiY29tLm1pY3Jvc29mdC5wbGF5cmVhZHkiPT09YS5hKXtmb3IodmFyIGQ9U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLG5ldyBVaW50MTZBcnJheShjLmJvZHkpKSxkPShuZXcgRE9NUGFyc2VyKS5wYXJzZUZyb21TdHJpbmcoZCwiYXBwbGljYXRpb24veG1sIiksZT1kLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJuYW1lIiksZj1kLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJ2YWx1ZSIpLGc9MDtnPGUubGVuZ3RoO2crKyljLmhlYWRlcnNbZVtnXS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZV09ZltnXS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZTtjLmJvZHk9d2luZG93LmF0b2IoZC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiQ2hhbGxlbmdlIilbMF0uY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUpfWlmKCFhLm8pcmV0dXJuIGM7CmEubyhjKTtjLnVybD1ZYShjLCJ1cmwiKTtpZihudWxsPT1jLnVybCl0aHJvdyBFcnJvcigiJ3VybCcgY2Fubm90IGJlIG51bGwuIik7aWYoIShjLmJvZHkgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcnx8InN0cmluZyI9PT10eXBlb2YgYy5ib2R5fHxudWxsPT1jLmJvZHkpKXRocm93IG5ldyBUeXBlRXJyb3IoIidib2R5JyBtdXN0IGJlIGFuIEFycmF5QnVmZmVyLCBhIHN0cmluZywgb3IgbnVsbC4iKTtjLm1ldGhvZD1ZYShjLCJtZXRob2QiKTtpZigiR0VUIiE9Yy5tZXRob2QmJiJQT1NUIiE9Yy5tZXRob2QpdGhyb3cgRXJyb3IoIidtZXRob2QnIG11c3QgYmUgZWl0aGVyICdHRVQnIG9yICdQT1NUJy4iKTtjLmhlYWRlcnM9WmEoYywiaGVhZGVycyIsT2JqZWN0KTtpZihudWxsPT1jLmhlYWRlcnMpdGhyb3cgRXJyb3IoIidoZWFkZXJzJyBjYW5ub3QgYmUgbnVsbC4iKTtyZXR1cm4gY307ZnVuY3Rpb24gVyhhLGIsYyxkLGUsZixnKXtGLmNhbGwodGhpcyxudWxsKTt0aGlzLmI9YTt0aGlzLmY9Yjt0aGlzLmE9bnVsbDt0aGlzLmc9bmV3IGJiO3RoaXMubT10aGlzLmk9bnVsbDt0aGlzLkY9MDt0aGlzLlM9dGhpcy5aPXRoaXMuJD1udWxsO3RoaXMuYmE9Zzt0aGlzLko9bnVsbDt0aGlzLk89dGhpcy5oPSExO3RoaXMuVj10aGlzLlk9ITA7dGhpcy5LPSExO3RoaXMuYz17ZW5hYmxlQWRhcHRhdGlvbjohMCxzdHJlYW1CdWZmZXJTaXplOjE1LGxpdmVTdHJlYW1FbmRUaW1lb3V0OjE1LGxpY2Vuc2VSZXF1ZXN0VGltZW91dDpoYSxtcGRSZXF1ZXN0VGltZW91dDppYSxzZWdtZW50UmVxdWVzdFRpbWVvdXQ6amEscHJlZmVycmVkTGFuZ3VhZ2U6ImVuIixyZXN0cmljdGlvbnM6bmV3IGthfTt0aGlzLmw9Yzt0aGlzLkc9ZDt0aGlzLmNhPWU7dGhpcy5nYT1mO3RoaXMubz1udWxsO3RoaXMuaj0xO3RoaXMuVD1udWxsO3RoaXMudT10aGlzLkE9dGhpcy53PSExO3RoaXMuUj10aGlzLkI9Cm51bGx9cihXLEYpO3EoInNoYWthLnBsYXllci5QbGF5ZXIiLFcpO1cudmVyc2lvbj0idjEuNi40LWZiIjtXLmlzQnJvd3NlclN1cHBvcnRlZD1mdW5jdGlvbigpe3JldHVybiEhd2luZG93Lk1lZGlhU291cmNlJiYhIXdpbmRvdy5VaW50OEFycmF5fTsKVy5wcm90b3R5cGUuQmE9ZnVuY3Rpb24oKXt2YXIgYT17fSxiPXRoaXMuYTtpZihiKXt2YXIgYz1iLlhiKCk7YS5CYW5kd2lkdGhFc3RpbWF0b3I9Yy5CYW5kd2lkdGhFc3RpbWF0b3I7dmFyIGQ9Yy5WaWRlb1NvdXJjZVN0cmVhbTtkJiYoYS5WaWRlb1NvdXJjZVN0cmVhbT1kLChkPWEuVmlkZW9CdWZmZXJNYW5hZ2VyPWQuQmEoKS5Tb3VyY2VCdWZmZXJNYW5hZ2VyKSYmKGEuVmlkZW9Tb3VyY2VCdWZmZXI9ZC5CYSgpLlNvdXJjZUJ1ZmZlcikpOyhkPWEuQXVkaW9Tb3VyY2VTdHJlYW09Yy5BdWRpb1NvdXJjZVN0cmVhbSkmJihkPWEuQXVkaW9CdWZmZXJNYW5hZ2VyPWQuQmEoKS5Tb3VyY2VCdWZmZXJNYW5hZ2VyKSYmKGEuQXVkaW9Tb3VyY2VCdWZmZXI9ZC5CYSgpLlNvdXJjZUJ1ZmZlcik7YS5UZXh0U291cmNlU3RyZWFtPWMuVGV4dFNvdXJjZVN0cmVhbTthLmdldE1hbmlmZXN0PWIuVGIuYmluZChiKX1lbHNlIGEuZ2V0TWFuaWZlc3Q9ZnVuY3Rpb24oKXt9O2EuTmQ9ITA7cmV0dXJuIGF9OwpXLnByb3RvdHlwZS5nZXREZWJ1Zz1XLnByb3RvdHlwZS5CYTtXLnByb3RvdHlwZS5zYT1mdW5jdGlvbihhKXt0aGlzLlk9YX07Vy5wcm90b3R5cGUuc2V0UmVzdW1lQWZ0ZXJCdWZmZXJpbmc9Vy5wcm90b3R5cGUuc2E7ZnVuY3Rpb24gT2UoYSl7cmV0dXJuInRleHQvdnR0Ij09YT8hIXdpbmRvdy5WVFRDdWU6TWVkaWFTb3VyY2UuaXNUeXBlU3VwcG9ydGVkKGEpfVcuaXNUeXBlU3VwcG9ydGVkPU9lO1cuc2V0VGV4dFN0eWxlPWZ1bmN0aW9uKGEpe3ZhciBiPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJTaGFrYVBsYXllclRleHRTdHlsZSIpO2J8fChiPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInN0eWxlIiksYi5pZD0iU2hha2FQbGF5ZXJUZXh0U3R5bGUiLGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoYikpO2ZvcihiPWIuc2hlZXQ7Yi5jc3NSdWxlcy5sZW5ndGg7KWIuZGVsZXRlUnVsZSgwKTtiLmluc2VydFJ1bGUoIjo6Y3VlIHsgIityYShhKSsiIH0iLDApfTsKVy5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3JldHVybiB0aGlzLlUoKS50aGVuKEoodGhpcyxmdW5jdGlvbigpe3RoaXMuZy5kZXN0cm95KCk7dGhpcy5iPXRoaXMuZz1udWxsO3RoaXMuUiYmdGhpcy5SLnJlbW92ZSgpfSkpLmNhdGNoKGZ1bmN0aW9uKCl7fSl9O1cucHJvdG90eXBlLmRlc3Ryb3k9Vy5wcm90b3R5cGUuZGVzdHJveTtXLnByb3RvdHlwZS5VPWZ1bmN0aW9uKCl7dGhpcy5LPSEwO3JldHVybiBaZSh0aGlzKX07Vy5wcm90b3R5cGUudW5sb2FkPVcucHJvdG90eXBlLlU7CmZ1bmN0aW9uIFplKGEpe3ZhciBiO2EubCYmKGI9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigidW5sb2FkIikuc3RhcnQoKSk7aWYoIWEuYSlyZXR1cm4gYiYmYi5sb2coKSxQcm9taXNlLnJlc29sdmUoKTthLmgmJiRlKGEsInVubG9hZGluZyIpO2EuYi5wYXVzZSgpO2RiKGEuZyk7YWYoYSk7YmYoYSk7YS5pJiYoYS5pLmRlc3Ryb3koKSxhLmk9bnVsbCk7YS5hJiYoYS5hLmRlc3Ryb3koKSxhLmE9bnVsbCk7YS5mLmdldEJvb2woInd3d192aWRlb3NfcGxheWJhY2tfcmVtb3ZlX3NyY19hdHRyX29uX3VubG9hZCIsITEpP2EuYi5yZW1vdmVBdHRyaWJ1dGUoInNyYyIpOmEuYi5zcmM9IiI7dmFyIGM9YS5mLmdldEJvb2woInd3d19zaGFrYV9jbGVhcl9tZWRpYV9rZXlzX29uX3VubG9hZCIsITEpJiZhLmIuc2V0TWVkaWFLZXlzJiYiZnVuY3Rpb24iPT09dHlwZW9mIGEuYi5zZXRNZWRpYUtleXM/YS5iLnNldE1lZGlhS2V5cyhudWxsKTpQcm9taXNlLnJlc29sdmUoKSxjPWMudGhlbihmdW5jdGlvbigpe2ImJgpiLmxvZygpO2lmKGEuZi5nZXRCb29sKCJlbmFibGVfcDJwX3N1cHBvcnQiLCExKSl7dmFyIGM9eSh7dHlwZToidW5sb2FkIn0pO2EuZGlzcGF0Y2hFdmVudChjKX19KTthLmg9ITE7YS5PPSExO2EuQT0hMTthLnU9ITE7cmV0dXJuIGN9ZnVuY3Rpb24gY2YoYSxiKXtmb3IodmFyIGM9MDtjPGEubGVuZ3RoO2MrKyliLnB1c2goYVtjXS5jb250ZW50VHlwZSxhW2NdKX1XLnByb3RvdHlwZS5GYT1mdW5jdGlvbihhKXtyZXR1cm4gZGYodGhpcyxhKX07Vy5wcm90b3R5cGUubG9hZD1XLnByb3RvdHlwZS5GYTsKZnVuY3Rpb24gZGYoYSxiKXt2YXIgYzthLmwmJihjPWEubC5nZXRPcGVyYXRpb25Mb2dnZXIoImxvYWQiKS5zZXRTdGF0ZSgibG9hZGluZyIpLnN0YXJ0KCksYi5sPWIuZy5wZXJmb3JtYW5jZUxvZ2dlcj1hLmwpO2EuRyYmKGIuQWI9Yi5nLmFickxvZ2dlcj1hLkcpO2EuYmEmJihiLmlhPWEuYmEpO2EuY2EmJihiLkk9YS5jYSk7YS5nYSYmYi5VLnB1c2goYS5nYSk7ZWYoYixhLmIpO3ZhciBkPW51bGw7YS5LPSExO0UoYS5nLGIsInJlcGxpY2Fzd2l0Y2giLGEubmEuYmluZChhKSk7YS5hJiYoZD1aZShhKS50aGVuKEooYSxmdW5jdGlvbigpe3JldHVybiBiLndiKCl9KSkpO2EuYi5hdXRvcGxheSYmKHUucWEoImxvYWQiKSxFKGEuZyxhLmIsInRpbWV1cGRhdGUiLGEuZWQuYmluZChhKSkpO2IubGMoYS5jKTtiLmxhPWEuVDthLlQ9bnVsbDtkfHwoZD1iLndiKCkpO2EuZi5nZXRCb29sKCJmaXhfc2hha2FfcGxheWVyX2xvYWRfcmFjZV9jb25kaXRpb24iLCExKSYmKGEuYT1iKTtkLmNhdGNoKEooYSwKZnVuY3Rpb24oYSl7Yi5kZXN0cm95KCk7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfSkpO3JldHVybiBkLnRoZW4oSihhLGZ1bmN0aW9uKCl7aWYoZmYodGhpcyxiKSlyZXR1cm4gZ2YoKTt0aGlzLmE9Yjt0aGlzLmcuYWIodGhpcy5hLCJyZXBsaWNhc3dpdGNoIik7RSh0aGlzLmcsdGhpcy5hLCJzZWVrcmFuZ2VjaGFuZ2VkIix0aGlzLnBhLmJpbmQodGhpcykpO0UodGhpcy5nLHRoaXMuYSwiYWxsU3RyZWFtc1N0YXJ0ZWQiLHRoaXMuRmQuYmluZCh0aGlzKSk7dmFyIGE9bmV3IEQ7Y2YoTmUodGhpcy5hKSxhKTtQZSh0aGlzLmEsYSk7YT10aGlzLmVhKCk7YyYmMDxhLmxlbmd0aCYmKGE9YS5yZWR1Y2UoZnVuY3Rpb24oYSxiKXtpZihudWxsPT09YXx8Yi5iYW5kd2lkdGg8YS5iYW5kd2lkdGgpYT1iO3JldHVybiBhfSxudWxsKSxjLnNldExvd2VzdFF1YWxpdHlSZXByZXNlbnRhdGlvbklEKGEuc3RyZWFtSW5mb0lEKSk7aWYoIXRoaXMuYy5lbmFibGVDb250ZW50UHJvdGVjdGlvbilyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7CnRoaXMuaT1uZXcgTWUodGhpcyx0aGlzLmIsdGhpcy5hLHRoaXMubCk7cmV0dXJuIHRoaXMuaS5pbml0aWFsaXplKCl9KSkudGhlbihKKGEsZnVuY3Rpb24oKXtpZihmZih0aGlzLGIpKXJldHVybiBnZigpO2hmKHRoaXMpO0UodGhpcy5nLHRoaXMuYiwicGxheWluZyIsdGhpcy5rZC5iaW5kKHRoaXMpKTtFKHRoaXMuZyx0aGlzLmIsInBhdXNlIix0aGlzLm1hLmJpbmQodGhpcykpO0UodGhpcy5nLHRoaXMuYiwid2FpdGluZyIsdGhpcy5zZC5iaW5kKHRoaXMpKTtFKHRoaXMuZyx0aGlzLmIsInBsYXkiLHRoaXMuaWEuYmluZCh0aGlzKSk7cmV0dXJuIGpmKHRoaXMuYSx0aGlzLHRoaXMuYil9KSkudGhlbihKKGEsZnVuY3Rpb24oKXtpZihmZih0aGlzLGIpKXJldHVybiBnZigpO2lmKHRoaXMuYy5lbmFibGVDb250ZW50UHJvdGVjdGlvbil7dmFyIGE7dGhpcy5sJiYoYT10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJlbWVfYXR0YWNoIikpO3JldHVybiBTZSh0aGlzLmkpLnRoZW4oZnVuY3Rpb24oKXthJiYKYS5sb2coKX0pfXJldHVybiBQcm9taXNlLnJlc29sdmUoKX0pKS50aGVuKEooYSxmdW5jdGlvbigpe2lmKGZmKHRoaXMsYikpcmV0dXJuIGdmKCk7a2YodGhpcyk7YyYmYy51cGRhdGVTdGF0ZSgicmVhZHkiKS5sb2coKX0pKS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7YyYmYy5zZXRFcnJvcihKU09OLnN0cmluZ2lmeShhKSkubG9nKCk7aWYoZmYodGhpcyxiKSlyZXR1cm4gZ2YoKTtpZigiZGVzdHJveSIhPWEudHlwZSl7dmFyIGQ9QShhKTt0aGlzLmRpc3BhdGNoRXZlbnQoZCl9cmV0dXJuIHRoaXMuVSgpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYSl9KX0pKX1mdW5jdGlvbiBmZihhLGIpe3JldHVybiFhLmJ8fGEuS3x8YS5mLmdldEJvb2woImZpeF9zaGFrYV9wbGF5ZXJfbG9hZF9yYWNlX2NvbmRpdGlvbiIsITEpJiZiIT09YS5hfW49Vy5wcm90b3R5cGU7Cm4uRmQ9ZnVuY3Rpb24oKXt2YXIgYSxiO3RoaXMuZi5nZXRCb29sKCJ3d3dfdmlkZW9zX2V4dGVuZGVkX3NwbF9sb2dnaW5nX2Zvcl9jb25uZWN0ZWRfdHYiLCExKSYmdGhpcy5sJiYoYT10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJvbl9hbGxfc3RyZWFtc19zdGFydGVkIiksYj10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJyZXN0b3JlX3ZpZGVvX3BsYXliYWNrX3JhdGUiKSk7dGhpcy5PPSEwO3RoaXMuaD90aGlzLkQoKToodGhpcy5iLnBsYXliYWNrUmF0ZT10aGlzLmosYiYmYi5sb2coKSk7YSYmYS5sb2coKX07ZnVuY3Rpb24gZ2YoKXt2YXIgYT1FcnJvcigiUGxheWVyIGRlc3Ryb3llZCIpO2EudHlwZT0iZGVzdHJveSI7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfQpmdW5jdGlvbiBoZihhKXt2YXIgYj1hLmIucGFyZW50Tm9kZTtiJiZhLmYuZ2V0Qm9vbCgicHJldmVudF9wbGF5aW5nX29uX2luc3VmZmljaWVudF9idWZmZXIiLCExKSYmKGEuUj1ldmVudExpc3RlbmVyQ2FwdHVyZShiLCJwbGF5aW5nIixmdW5jdGlvbihhKXthLnRhcmdldD09PXRoaXMuYiYmdGhpcy5EKGEpfS5iaW5kKGEpKSl9bi5lZD1mdW5jdGlvbigpe3UuZW5kKCJsb2FkIik7dGhpcy5nLmFiKHRoaXMuYiwidGltZXVwZGF0ZSIpfTtuLnNkPWZ1bmN0aW9uKGEpe2xmKHRoaXMpO3RoaXMuZi5nZXRCb29sKCJ1bmlmeV9zdHJlYW1fc3RhcnRfd2l0aF9idWZmZXJfZGV0ZWN0b3IiLCExKSYmIXRoaXMuaCYmdGhpcy5EKGEpfTsKbi5rZD1mdW5jdGlvbigpe3UucWEoInBsYXlpbmciKTt0aGlzLmwmJnRoaXMubC5nZXRFdmVudExvZ2dlcigicGxheWluZyIpLnNldFN0YXRlKCJwbGF5aW5nIikubG9nKCk7IXRoaXMubSYmMD50aGlzLmomJih0aGlzLmIucGxheWJhY2tSYXRlPTAsdGhpcy5QKHRoaXMuYi5jdXJyZW50VGltZSxEYXRlLm5vdygpLHRoaXMuaikpO3RoaXMuaCYmIXRoaXMuViYmJGUodGhpcywicGxheWluZyIpfTtuLkJkPWZ1bmN0aW9uKGEpe3RoaXMudT1hfTtXLnByb3RvdHlwZS5zZXRQZW5kaW5nUGxheVJlcXVlc3Q9Vy5wcm90b3R5cGUuQmQ7Vy5wcm90b3R5cGUuaWE9ZnVuY3Rpb24oKXt0aGlzLnU9ITB9O1cucHJvdG90eXBlLm1hPWZ1bmN0aW9uKCl7dGhpcy5sJiZ0aGlzLmwuZ2V0RXZlbnRMb2dnZXIoInBhdXNlIikuc2V0U3RhdGUoInBhdXNlZCIpLmxvZygpO3UuZW5kKCJwbGF5aW5nIik7dS5nZXQoInBsYXlpbmciKTtiZih0aGlzKX07ClcucHJvdG90eXBlLnBhPWZ1bmN0aW9uKGEpe3RoaXMuRj1hLnN0YXJ0O3RoaXMuJD1hLmxhc3Q7dGhpcy5aPWEuZW5kO3RoaXMuUz1hLnNlZWtSYW5nZUdhcHM7dGhpcy5mLmdldEJvb2woIm5vX3NraXBfZ2Fwc19vbl9zZWVrX3JhbmdlX2NoYW5nZWQiLCExKXx8bGYodGhpcyl9O1cucHJvdG90eXBlLmVhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYT90aGlzLmEuWigpOltdfTtXLnByb3RvdHlwZS5nZXRWaWRlb1RyYWNrcz1XLnByb3RvdHlwZS5lYTtXLnByb3RvdHlwZS54YT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmE/dGhpcy5hLnZhKCk6W119O1cucHJvdG90eXBlLmdldEF1ZGlvVHJhY2tzPVcucHJvdG90eXBlLnhhO1cucHJvdG90eXBlLkRhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYT90aGlzLmEubWMoKTpbXX07Vy5wcm90b3R5cGUuZ2V0VGV4dFRyYWNrcz1XLnByb3RvdHlwZS5EYTsKVy5wcm90b3R5cGUuc2VsZWN0VmlkZW9UcmFjaz1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmE/dGhpcy5hLnNlbGVjdFZpZGVvVHJhY2soYSx2b2lkIDA9PWI/ITA6Yik6ITF9O1cucHJvdG90eXBlLnNlbGVjdFZpZGVvVHJhY2s9Vy5wcm90b3R5cGUuc2VsZWN0VmlkZW9UcmFjaztXLnByb3RvdHlwZS5HYT1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIHRoaXMuYT9tZih0aGlzLmEsImF1ZGlvIixhLHZvaWQgMD09Yj8hMDpiLGMpOiExfTtXLnByb3RvdHlwZS5zZWxlY3RBdWRpb1RyYWNrPVcucHJvdG90eXBlLkdhO1cucHJvdG90eXBlLkhhPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmE/bWYodGhpcy5hLCJ0ZXh0IixhLCExKTohMX07Vy5wcm90b3R5cGUuc2VsZWN0VGV4dFRyYWNrPVcucHJvdG90eXBlLkhhO1cucHJvdG90eXBlLndhPWZ1bmN0aW9uKGEpe3RoaXMuYSYmbmYodGhpcy5hLGEpfTtXLnByb3RvdHlwZS5lbmFibGVUZXh0VHJhY2s9Vy5wcm90b3R5cGUud2E7ClcucHJvdG90eXBlLnJhPWZ1bmN0aW9uKGEpe2JmKHRoaXMpO3RoaXMudyYmdGhpcy5ofHwhKDA8PWEpP3RoaXMuYi5wYXVzZWR8fCh0aGlzLmIucGxheWJhY2tSYXRlPTAsdGhpcy5QKHRoaXMuYi5jdXJyZW50VGltZSxEYXRlLm5vdygpLGEpKTp0aGlzLmIucGxheWJhY2tSYXRlPWE7dGhpcy5qPWF9O1cucHJvdG90eXBlLnNldFBsYXliYWNrUmF0ZT1XLnByb3RvdHlwZS5yYTtXLnByb3RvdHlwZS5rYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmp9O1cucHJvdG90eXBlLmdldFBsYXliYWNrUmF0ZT1XLnByb3RvdHlwZS5rYTtXLnByb3RvdHlwZS5DYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmE/dGhpcy5hLk9iKCk6bnVsbH07Vy5wcm90b3R5cGUuZ2V0TWFuaWZlc3Q9Vy5wcm90b3R5cGUuQ2E7Vy5wcm90b3R5cGUuUGE9ZnVuY3Rpb24oYSl7dGhpcy5UPWF9O1cucHJvdG90eXBlLnNldFBsYXliYWNrU3RhcnRUaW1lPVcucHJvdG90eXBlLlBhOwpXLnByb3RvdHlwZS5JPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYT8hIXRoaXMuYS5QKCk6ITF9O1cucHJvdG90eXBlLmlzTGl2ZT1XLnByb3RvdHlwZS5JOwpXLnByb3RvdHlwZS52YT1mdW5jdGlvbihhKXtpZihhKXt2YXIgYj1CKGEsImVuYWJsZUFkYXB0YXRpb24iKTtudWxsIT1iJiYodGhpcy5jLmVuYWJsZUFkYXB0YXRpb249Yik7Yj1CKGEsImVuZEJ1ZmZlcmluZ09uUGxheWluZyIpO251bGwhPWImJih0aGlzLlY9Yik7Yj1CKGEsInVzZVBsYXliYWNrUmF0ZUZvckJ1ZmZlcmluZyIpO251bGwhPWImJih0aGlzLnc9Yik7Yj1DKGEsInN0cmVhbUJ1ZmZlclNpemUiLDApO251bGwhPWImJih0aGlzLmMuc3RyZWFtQnVmZmVyU2l6ZT1iKTtiPUMoYSwiZHluYW1pY1N0cmVhbUJ1ZmZlclNpemUiLDApO251bGwhPWImJih0aGlzLmMuZHluYW1pY1N0cmVhbUJ1ZmZlclNpemU9Yik7bnVsbCE9YS5zbWFydEJ1ZmZlckFkanVzdG1lbnRQYXJhbXMmJih0aGlzLmMuc21hcnRCdWZmZXJBZGp1c3RtZW50UGFyYW1zPWEuc21hcnRCdWZmZXJBZGp1c3RtZW50UGFyYW1zKTtiPUIoYSwiYWRkQ2RuRGVidWdRdWVyeVBhcmFtZXRlcnMiKTtudWxsIT1iJiYKKHRoaXMuYy5hZGRDZG5EZWJ1Z1F1ZXJ5UGFyYW1ldGVycz1iKTtiPUMoYSwiaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemUiLDApO251bGwhPWImJih0aGlzLmMuaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemU9Yik7Yj1CKGEsImluY2x1ZGVTdHJlYW1CdWZmZXJTaXplSW5TdGFydE9mZnNldCIpO251bGwhPWImJih0aGlzLmMuaW5jbHVkZVN0cmVhbUJ1ZmZlclNpemVJblN0YXJ0T2Zmc2V0PWIpO2I9QyhhLCJqdW1wVG9MaXZlVGhyZXNob2xkIik7bnVsbCE9YiYmKHRoaXMuYy5qdW1wVG9MaXZlVGhyZXNob2xkPWIpO2I9QyhhLCJsaXZlU3RyZWFtRW5kVGltZW91dCIsMCk7bnVsbCE9YiYmKHRoaXMuYy5saXZlU3RyZWFtRW5kVGltZW91dD1iKTtiPUMoYSwibGljZW5zZVJlcXVlc3RUaW1lb3V0IiwwKTtudWxsIT1iJiYodGhpcy5jLmxpY2Vuc2VSZXF1ZXN0VGltZW91dD1iKTtiPUMoYSwibXBkUmVxdWVzdFRpbWVvdXQiLDApO251bGwhPWImJih0aGlzLmMubXBkUmVxdWVzdFRpbWVvdXQ9CmIpO2I9QyhhLCJtaW5NcGRSZWZyZXNoSW50ZXJ2YWwiLDApO251bGwhPWImJih0aGlzLmMubWluTXBkUmVmcmVzaEludGVydmFsPWIpO2I9QihhLCJlbmFibGVMaXZlSW50ZXJydXB0aW9uRGV0ZWN0aW9uIik7bnVsbCE9YiYmKHRoaXMuYy5lbmFibGVMaXZlSW50ZXJydXB0aW9uRGV0ZWN0aW9uPWIpO2I9QihhLCJlbmFibGVNYW5pZmVzdERlYnVnIik7bnVsbCE9YiYmKHRoaXMuYy5lbmFibGVNYW5pZmVzdERlYnVnPWIsRi5wcm90b3R5cGUub2M9YixifHwoRi5wcm90b3R5cGUuTGE9ZnVuY3Rpb24oKXt9KSk7Yj1CKGEsInJlc29sdmVWaWRlb1RpbWVVcGRhdGVPbkZyYWdtZW50ZWRUaW1lUmFuZ2VzIik7bnVsbCE9YiYmKHRoaXMuYy5yZXNvbHZlVmlkZW9UaW1lVXBkYXRlT25GcmFnbWVudGVkVGltZVJhbmdlcz1iKTtiPUMoYSwibGl2ZUludGVycnVwdGlvbkNvbnNlY3V0aXZlVXBkYXRlc1dpdGhvdXRDaGFuZ2UiKTtudWxsIT1iJiYodGhpcy5jLmxpdmVJbnRlcnJ1cHRpb25Db25zZWN1dGl2ZVVwZGF0ZXNXaXRob3V0Q2hhbmdlPQpiKTtiPUMoYSwibGl2ZUludGVycnVwdGlvbkNvbnNlY3V0aXZlVXBkYXRlc1dpdGhDaGFuZ2UiKTtudWxsIT1iJiYodGhpcy5jLmxpdmVJbnRlcnJ1cHRpb25Db25zZWN1dGl2ZVVwZGF0ZXNXaXRoQ2hhbmdlPWIpO2I9QihhLCJyZWFwcGVuZEluaXRTZWdtZW50QWZ0ZXJBYm9ydCIpO251bGwhPWImJih0aGlzLmMucmVhcHBlbmRJbml0U2VnbWVudEFmdGVyQWJvcnQ9Yik7Yj1CKGEsImxpdmVTZW5kUHVzaEhlYWRlcnMiKTtudWxsIT1iJiYodGhpcy5jLmxpdmVTZW5kUHVzaEhlYWRlcnM9Yik7Yj1DKGEsImxpdmVNYXhNYW5pZmVzdEZldGNoZXNXaXRoUHVzaCIpO251bGwhPWImJih0aGlzLmMubGl2ZU1heE1hbmlmZXN0RmV0Y2hlc1dpdGhQdXNoPWIpO2I9QyhhLCJsaXZlTWF4U2VnbWVudHNUb1B1c2giKTtudWxsIT1iJiYodGhpcy5jLmxpdmVNYXhTZWdtZW50c1RvUHVzaD1iKTtiPUMoYSwic2VnbWVudFJlcXVlc3RUaW1lb3V0IiwwKTtudWxsIT1iJiYodGhpcy5jLnNlZ21lbnRSZXF1ZXN0VGltZW91dD0KYik7Yj1ZYShhLCJwcmVmZXJyZWRMYW5ndWFnZSIpO251bGwhPWImJih0aGlzLmMucHJlZmVycmVkTGFuZ3VhZ2U9Yik7Yj1aYShhLCJyZXN0cmljdGlvbnMiLGthKTtudWxsIT1iJiYodGhpcy5jLnJlc3RyaWN0aW9ucz1iLmNsb25lKCkpO2I9YS5saXZlSW5pdGlhbFB1c2hSZXByZXNlbnRhdGlvbjtudWxsIT1iJiYodGhpcy5jLmxpdmVJbml0aWFsUHVzaFJlcHJlc2VudGF0aW9uPWIpO2I9YS5saXZlQXVkaW9QdXNoUmVwcmVzZW50YXRpb247bnVsbCE9YiYmKHRoaXMuYy5saXZlQXVkaW9QdXNoUmVwcmVzZW50YXRpb249Yik7Yj1hLnVzZUlubGluZUluaXRTZWdtZW50O251bGwhPWImJih0aGlzLmMudXNlSW5saW5lSW5pdFNlZ21lbnQ9Yik7Yj1CKGEsImRpc2FibGVDYWNoZUJ1c3RpbmdFdmVuVGhvdWdoSXRNYXlBZmZlY3RCYW5kd2lkdGhFc3RpbWF0aW9uIik7bnVsbCE9YiYmKFRjPSFiKTtiPUIoYSwiY3VycmVudFRpbWVEdXJpbmdSZWFkeVN0YXRlWmVyb1Rocm93cyIpO251bGwhPQpiJiYodGhpcy5jLmN1cnJlbnRUaW1lRHVyaW5nUmVhZHlTdGF0ZVplcm9UaHJvd3M9Yik7Yj1DKGEsImxpdmVEYXRhRmV0Y2hNYXhSZXRyaWVzIik7bnVsbCE9YiYmKHRoaXMuYy5saXZlRGF0YUZldGNoTWF4UmV0cmllcz1iKTtiPUMoYSwibGl2ZVNvdXJjZUJ1ZmZlckNsZWFyTWF4UmV0cmllcyIpO251bGwhPWImJih0aGlzLmMubGl2ZVNvdXJjZUJ1ZmZlckNsZWFyTWF4UmV0cmllcz1iKTtiPUIoYSwidXNlTG9uZ0NhY2hlRm9yTWFuaWZlc3QiKTtudWxsIT1iJiYodGhpcy5jLnVzZUxvbmdDYWNoZUZvck1hbmlmZXN0PWIpO2I9QihhLCJqdW1wVG9FYXJsaWVzdFBvc2l0aW9uSW5DdXJyZW50QmxvY2siKTtudWxsIT1iJiYodGhpcy5jLmp1bXBUb0VhcmxpZXN0UG9zaXRpb25JbkN1cnJlbnRCbG9jaz1iKTtiPUIoYSwiaWdub3JlTWluQnVmZmVyVGltZSIpO251bGwhPWImJih0aGlzLmMuaWdub3JlTWluQnVmZmVyVGltZT1iKTtiPUMoYSwicGxheWhlYWRGcmFnbWVudGVkR2FwRGlmZkFsbG93YW5jZSIpOwpudWxsIT1iJiYodGhpcy5jLnBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2U9Yik7Yj1CKGEsImZpeEJ1ZmZlcmluZ0dvYWxEZXRlcm1pbmF0aW9uIik7bnVsbCE9YiYmKHRoaXMuYy5maXhCdWZmZXJpbmdHb2FsRGV0ZXJtaW5hdGlvbj1iKTtiPUIoYSwic2tpcEVtcHR5U2VnbWVudHMiKTtudWxsIT1iJiYodGhpcy5jLnNraXBFbXB0eVNlZ21lbnRzPWIpOyhiPUIoYSwidXNlTWljcm9UYXNrVGltZW91dHMiKSkmJih0aGlzLmMudXNlTWljcm9UYXNrVGltZW91dHM9Yik7KGI9QihhLCJlbmFibGVSZXF1ZXN0UGlwZWxpbmluZyIpKSYmKHRoaXMuYy5lbmFibGVSZXF1ZXN0UGlwZWxpbmluZz1iKTsoYj1CKGEsImVuYWJsZVN0cmVhbWluZyIpKSYmKHRoaXMuYy5lbmFibGVTdHJlYW1pbmc9Yik7KGE9QihhLCJlbmFibGVDb250ZW50UHJvdGVjdGlvbiIpKSYmKHRoaXMuYy5lbmFibGVDb250ZW50UHJvdGVjdGlvbj1hKTt0aGlzLmEmJnRoaXMuYS5sYyh0aGlzLmMpfX07ClcucHJvdG90eXBlLmNvbmZpZ3VyZT1XLnByb3RvdHlwZS52YTtXLnByb3RvdHlwZS5PYT1mdW5jdGlvbihhKXt0aGlzLmEmJnRoaXMuYS5xYyhhKX07Vy5wcm90b3R5cGUuc2V0RW5hYmxlTGl2ZWhlYWRDYXRjaHVwPVcucHJvdG90eXBlLk9hO1cucHJvdG90eXBlLkVhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYT90aGlzLmEubmE6ITF9O1cucHJvdG90eXBlLmlzTGl2ZWhlYWRDYXRjaHVwRW5hYmxlZD1XLnByb3RvdHlwZS5FYTsKZnVuY3Rpb24gbGYoYSl7aWYoYS5mLmdldEJvb2woInNraXBfbWFuaWZlc3RfZ2FwX2Jhc2VkX29uX3N0cmVhbV9saW1pdHMiLCExKSYmKCFhLkkoKXx8IWEuZi5nZXRCb29sKCJub19za2lwX21hbmlmZXN0X2dhcHNfaWZfbGl2ZSIsITEpKSl7dmFyIGI7YS5mLmdldEJvb2woInNraXBfbWFuaWZlc3RfZ2Fwc191c2VfY2FjaGVkX3N0cmVhbV9saW1pdHMiLCExKT9hLmEmJm51bGwhPT1hLlM/Yj17c3RhcnQ6YS5GLGVuZDphLlosbGFzdDphLiQsWmE6YS5TfTpiPWEuYT9hLmEubmIoKTpudWxsOmI9YS5hP2EuYS5uYigpOm51bGw7aWYoYilmb3IodmFyIGM9YS5mLmdldE51bWJlcigic2tpcF9tYW5pZmVzdF9nYXBfYm91bmRhcnlfcHJlY2lzaW9uX21zIiwxRTMpLzFFMyxkPWIuWmEsZT1hLmIucGxheWJhY2tSYXRlLGY9YS5iLmN1cnJlbnRUaW1lLGc9MDtnPGQubGVuZ3RoOysrZyl7dmFyIGg9ZFtnXS5zdGFydFRpbWUtYyxrPWRbZ10uZW5kVGltZStjO2Y8PWsmJmY+PWgmJihhLmYuZ2V0Qm9vbCgiZml4X3NlZWtfcmFuZ2VfZ2FwX2JvdW5kYXJ5IiwKITEpfHwoaD1kW2ddLnN0YXJ0VGltZSxrPWRbZ10uZW5kVGltZSksMDw9ZT9iLmVuZD5rJiYoYS5iLmN1cnJlbnRUaW1lPWspOmIuc3RhcnQ8aCYmKGEuYi5jdXJyZW50VGltZT1oKSl9fX1XLnByb3RvdHlwZS5sYT1mdW5jdGlvbigpe3ZhciBhPXRoaXMuYSYmdGhpcy5hLm5iKCk7cmV0dXJuKGE9YSYme3N0YXJ0OmEuc3RhcnQsZW5kOmEuZW5kLGxhc3Q6YS5sYXN0LHNlZWtSYW5nZUdhcHM6YS5aYX0pfHxudWxsfTtXLnByb3RvdHlwZS5nZXRWaWRlb1NvdXJjZVN0cmVhbUxpbWl0cz1XLnByb3RvdHlwZS5sYTtXLnByb3RvdHlwZS55YT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmN9O1cucHJvdG90eXBlLmdldENvbmZpZ3VyYXRpb249Vy5wcm90b3R5cGUueWE7ZnVuY3Rpb24gYmYoYSl7YS5tJiYoY2xlYXJUaW1lb3V0KGEubSksYS5tPW51bGwpfQpmdW5jdGlvbiBrZihhKXt2YXIgYjthLmYuZ2V0Qm9vbCgid3d3X3ZpZGVvc19leHRlbmRlZF9zcGxfbG9nZ2luZ19mb3JfY29ubmVjdGVkX3R2IiwhMSkmJmEubCYmKGI9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigic3RhcnRfd2F0Y2hkb2ciKSk7YWYoYSk7YS5KPXNldFRpbWVvdXQoYS5ELmJpbmQoYSksMTAwKTtiJiZiLmxvZygpfWZ1bmN0aW9uIGFmKGEpe3ZhciBiO2EuZi5nZXRCb29sKCJ3d3dfdmlkZW9zX2V4dGVuZGVkX3NwbF9sb2dnaW5nX2Zvcl9jb25uZWN0ZWRfdHYiLCExKSYmYS5sJiYoYj1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJjYW5jZWxfd2F0Y2hkb2ciKSk7YS5KJiYoY2xlYXJUaW1lb3V0KGEuSiksYS5KPW51bGwpO2ImJmIubG9nKCl9ClcucHJvdG90eXBlLlA9ZnVuY3Rpb24oYSxiLGMpe3RoaXMubT1udWxsO3ZhciBkPShEYXRlLm5vdygpLWIpLzFFMypjO3RoaXMuYi5jdXJyZW50VGltZTx0aGlzLkYrKHRoaXMuSSgpPzE6LjA1KT90aGlzLmIucGF1c2UoKTooZD1NYXRoLm1heCh0aGlzLkYsYStkKSx0aGlzLmIuY3VycmVudFRpbWU9ZCx0aGlzLm09c2V0VGltZW91dCh0aGlzLlAuYmluZCh0aGlzLGEsYixjKSwyNTApKX07ZnVuY3Rpb24gb2YoYSl7cmV0dXJuIGEuZi5nZXRCb29sKCJ1bmlmeV9zdHJlYW1fc3RhcnRfd2l0aF9idWZmZXJfZGV0ZWN0b3IiLCExKSYmIWEuT30KZnVuY3Rpb24gJGUoYSxiKXtpZighb2YoYSkpe3UuZW5kKCJidWZmZXJpbmciKTtudWxsIT09YS5CJiYoYS5CPW51bGwpO2EubyYmKGEuby5zZXRDb25jbHVkZXIoYikubG9nKCksYS5vPW51bGwpO2lmKGEuRyl7dmFyIGM9RGF0ZS5ub3coKTthLkcuc2V0RXZlbnQoImJ1ZmZlcmluZyIpLnNldENsaWVudFRpbWVCZWdpbihNYXRoLnJvdW5kKGMtdS5nZXQoImJ1ZmZlcmluZyIpKSkuc2V0Q2xpZW50VGltZUVuZChNYXRoLnJvdW5kKGMpKS5sb2coKX1hLncmJihhLmIucGxheWJhY2tSYXRlPWEuaik7YS5oPSExO2EuZGlzcGF0Y2hFdmVudCh5KHt0eXBlOiJidWZmZXJpbmdFbmQifSkpO2EuQSYmKGEuQT0hMSxkaXNwYXRjaERvbUV2ZW50KGEuYiwicGxheWluZyIpKTthLnU9ITF9fVcucHJvdG90eXBlLmphPWZ1bmN0aW9uKGEpe3RoaXMuZGlzcGF0Y2hFdmVudCh5KGEpKX07Vy5wcm90b3R5cGUuZGlzcGF0Y2hFdmVudEV4dGVybj1XLnByb3RvdHlwZS5qYTsKZnVuY3Rpb24gcGYoYSl7dmFyIGI9YS5iLmJ1ZmZlcmVkO2lmKDE9PT1iLmxlbmd0aCliPWIuZW5kKDApO2Vsc2UgaWYoMD09PWIubGVuZ3RoKWI9MDtlbHNle2Zvcih2YXIgYz0wLGQ9MDtkPGIubGVuZ3RoOysrZCliLmVuZChkKT49YS5iLmN1cnJlbnRUaW1lJiYoYz1iLnN0YXJ0KGQpPD1hLmIuY3VycmVudFRpbWU/YysoYi5lbmQoZCktYS5iLmN1cnJlbnRUaW1lKTpjKyhiLmVuZChkKS1iLnN0YXJ0KGQpKSk7cmV0dXJuIGN9cmV0dXJuIE1hdGgubWF4KGItYS5iLmN1cnJlbnRUaW1lLDApfQpXLnByb3RvdHlwZS5EPWZ1bmN0aW9uKGEpe2lmKCF0aGlzLmYuZ2V0Qm9vbCgicHJldmVudF9wbGF5aW5nX29uX2luc3VmZmljaWVudF9idWZmZXIiLCExKXx8IXRoaXMuSyl7a2YodGhpcyk7dmFyIGI9YT9hLnR5cGU6IiIsYz0id2FpdGluZyI9PT1iO2lmKCF0aGlzLmIuZW5kZWQmJiF0aGlzLmIuc2Vla2luZ3x8Yyl7dmFyIGQ7dGhpcy5mLmdldEJvb2woInd3d192aWRlb3NfZXh0ZW5kZWRfc3BsX2xvZ2dpbmdfZm9yX2Nvbm5lY3RlZF90diIsITEpJiZ0aGlzLmwmJihkPXRoaXMubC5nZXRPcGVyYXRpb25Mb2dnZXIoIndhdGNoZG9nIikpO3ZhciBlPXRoaXMuYi5idWZmZXJlZCxmPWUubGVuZ3RoP2UuZW5kKGUubGVuZ3RoLTEpOjAsZzt0aGlzLmYuZ2V0Qm9vbCgiZml4X3Vuc3RhbGxfYnVmZmVyX2NhbGN1bGF0aW9uIiwhMSk/Zz1wZih0aGlzKTpnPU1hdGgubWF4KGYtdGhpcy5iLmN1cnJlbnRUaW1lLDApO3ZhciBoPXRoaXMuYi5jdXJyZW50VGltZSxlPXRoaXMuSSgpP3RoaXMuZi5nZXROdW1iZXIoImxpdmVfYnVmZmVyaW5nX3VuZGVyZmxvd190aHJlc2hvbGQiLAouNSk6dGhpcy5mLmdldE51bWJlcigiYnVmZmVyaW5nX3VuZGVyZmxvd190aHJlc2hvbGQiLDApLGs9dGhpcy5iLmR1cmF0aW9uLGs9aXNOYU4oayk/MDpNYXRoLm1heChrLS4wNSwwKSxmPWY+PWt8fGg+PWssYj1ifHwid2F0Y2hkb2dfdGltZXIiO2lmKHRoaXMuaCl7cWYodGhpcyxhKTthPXJmKHRoaXMuYSk7dmFyIGw9MDxhP2cvYTowO2c+YXx8c2YodGhpcy5hKXx8dGhpcy5mLmdldEJvb2woImZpeF9idWZmZXJpbmdfYXRfdGhlX2VuZF9vZl9wbGF5YmFjayIsITApJiZmPygkZSh0aGlzLGIpLHRoaXMuWSYmIXRoaXMudyYmdGhpcy5iLnBsYXkoKSk6dGhpcy5CIT09bCYmKHRoaXMuQj1sLHRoaXMuZGlzcGF0Y2hFdmVudCh5KHt0eXBlOiJidWZmZXJpbmdQcm9ncmVzcyIscHJvZ3Jlc3M6bH0pKSl9ZWxzZSB0aGlzLmIucGF1c2VkJiYhY3x8ISghZiYmZzxlfHxvZih0aGlzKSl8fCh0aGlzLmg9ITAsdGhpcy53P3RoaXMuYi5wbGF5YmFja1JhdGU9MDp0aGlzLmIucGF1c2UoKSx0aGlzLmwmJgohdGhpcy5vJiYoZz10aGlzLmIuYnVmZmVyZWQsZz1nLmxlbmd0aD9nLmVuZChnLmxlbmd0aC0xKTowLHRoaXMuZi5nZXRCb29sKCJmaXhfdW5zdGFsbF9idWZmZXJfY2FsY3VsYXRpb24iLCExKT9sPXBmKHRoaXMpOmw9TWF0aC5tYXgoZy10aGlzLmIuY3VycmVudFRpbWUsMCksZz0xRTMqKHJmKHRoaXMuYSktbCksdGhpcy5vPXRoaXMubC5nZXRPcGVyYXRpb25Mb2dnZXIoImJ1ZmZlcmluZyIpLnNldExlbmd0aChNYXRoLnJvdW5kKGcpKS5zZXRUeXBlKHRoaXMudT8ic3RhcnQvdW5wYXVzZSI6ImluX3BsYXkiKS5zZXRJbml0aWF0b3IoYikuc3RhcnQoKSksdS5xYSgiYnVmZmVyaW5nIiksdGhpcy5kaXNwYXRjaEV2ZW50KHkoe3R5cGU6ImJ1ZmZlcmluZ1N0YXJ0In0pKSx0aGlzLmYuZ2V0Qm9vbCgibm9fc2tpcF9nYXBzX29uX2J1ZmZlcmluZyIsITEpfHxsZih0aGlzKSxxZih0aGlzLGEpKSxzZih0aGlzLmEpJiYkZSh0aGlzLGIpO2QmJmQubG9nKCl9ZWxzZSB0aGlzLmYuZ2V0Qm9vbCgiZml4X2ZmX2luX3BsYXlfc3RhbGxfdXBvbl9zZWVrIiwKITEpJiZxZih0aGlzLGEpfX07Vy5wcm90b3R5cGUubmE9ZnVuY3Rpb24oYSl7dGhpcy5kaXNwYXRjaEV2ZW50KGEpfTtmdW5jdGlvbiBxZihhLGIpe2ImJiJwbGF5aW5nIj09PWIudHlwZSYmKGEuQT0hMCxldmVudEtpbGwoYikpfVcucHJvdG90eXBlLnRhPWZ1bmN0aW9uKGEpe2lmKHRoaXMuYSl7dmFyIGI9dGhpcy5hO2IuYy52aWRlbyYmYi5jLnZpZGVvLkpjKGEpfX07Vy5wcm90b3R5cGUuc2V0VmlkZW9TdHJlYW1PZmZzZXQ9Vy5wcm90b3R5cGUudGE7ZnVuY3Rpb24gdGYoYSl7Zm9yKHZhciBiPTA7YjxhLmxlbmd0aDsrK2IpZm9yKHZhciBjPWFbYl0sZD0wO2Q8Yy5hLmxlbmd0aDsrK2Qpe2Zvcih2YXIgZT1jLmFbZF0sZj1lLGc9L3ZpZGVvXC93ZWJtOyBjb2RlY3M9ImF2MDEuKiIvLGg9ITEsaz0wO2s8Zi52Lmxlbmd0aDsrK2spe3ZhciBsPWYudltrXTtPZShOZChsKSk/Zy50ZXN0KE5kKGwpKSYmKGg9ITApOihmLnYuc3BsaWNlKGssMSksLS1rKX1pZihoKWZvcihrPTA7azxmLnYubGVuZ3RoOysraylsPWYudltrXSxnLnRlc3QoTmQobCkpfHwoZi52LnNwbGljZShrLDEpLC0tayk7MD09ZS52Lmxlbmd0aCYmKGMuYS5zcGxpY2UoZCwxKSwtLWQpfWZvcihiPTA7YjxhLmxlbmd0aDsrK2IpZm9yKGM9YVtiXSxkPTA7ZDxjLmEubGVuZ3RoOysrZCljLmFbZF0udi5zb3J0KHVmKX0KZnVuY3Rpb24gdWYoYSxiKXt2YXIgYz1hLmJhbmR3aWR0aHx8TnVtYmVyLk1BWF9WQUxVRSxkPWIuYmFuZHdpZHRofHxOdW1iZXIuTUFYX1ZBTFVFO3JldHVybiBjPGQ/LTE6Yz5kPzE6MH07ZnVuY3Rpb24gdmYoYSl7dGhpcy5hPWF9dmYucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmEuZGVzdHJveSgpO3RoaXMuYT1udWxsfTt2Zi5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKGEpe3ZhciBiPXdmKGEsbnVsbCksYz13Zih0aGlzLmEsYSk7cmV0dXJuIFByb21pc2UuYWxsKFtiLGNdKS50aGVuKEoodGhpcyxmdW5jdGlvbihiKXt2YXIgYz1iWzBdO2I9YlsxXTt0Zih0aGlzLmEuYSk7YS5iJiYhdGhpcy5hLmImJihhLmg9ITApO2EuYz10aGlzLmEuYzthLmk9dGhpcy5hLmk/dGhpcy5hLmkuY2xvbmUoKTpudWxsO2EuZz10aGlzLmEuZzt2YXIgZj1bXTt4ZihhLHRoaXMuYSxjLGIsZik7dGYoYS5hKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGYpfSkpfTsKZnVuY3Rpb24gd2YoYSxiKXtmdW5jdGlvbiBjKGEsYil7cmV0dXJuIGEuY29uY2F0KGIpfXZhciBkPWEuYS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuYX0pLnJlZHVjZShjLFtdKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEudn0pLnJlZHVjZShjLFtdKTtpZihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInRlbXBsYXRlZF9sYXN0X3hfdGltZWxpbmUiLCExKSYmYil2YXIgZT1iLmEubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLmF9KS5yZWR1Y2UoYyxbXSkubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLnZ9KS5yZWR1Y2UoYyxbXSkubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLk0uY3JlYXRlKCl9KSxlPVByb21pc2UuYWxsKGUpLnRoZW4oZnVuY3Rpb24oYSl7Zm9yKHZhciBiPU51bWJlci5QT1NJVElWRV9JTkZJTklUWSxjPTA7YzxhLmxlbmd0aDsrK2Mpe3ZhciBlPWFbY107ZS5sZW5ndGgoKSYmZS5sYXN0KCkudW5zY2FsZWRTdGFydFRpbWU8YiYmKGI9ZS5sYXN0KCkudW5zY2FsZWRTdGFydFRpbWUpfWI9CmEubGVuZ3RoP2I6bnVsbDthPWQubWFwKGZ1bmN0aW9uKGEpe2EuTS5FYyYmYS5NLkVjKGIpO3JldHVybiBhLk0uY3JlYXRlKCl9KTtyZXR1cm4gUHJvbWlzZS5hbGwoYSl9KTtlbHNlIGU9ZC5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuTS5jcmVhdGUoKX0pLGU9UHJvbWlzZS5hbGwoZSk7cmV0dXJuIGUudGhlbihmdW5jdGlvbihhKXtmb3IodmFyIGI9e30sYz0wO2M8ZC5sZW5ndGg7KytjKWJbZFtjXS5YXT1hW2NdO3JldHVybiBQcm9taXNlLnJlc29sdmUoYil9KX0KZnVuY3Rpb24geGYoYSxiLGMsZCxlKXt2YXIgZj1uZXcgRDthLmEuZm9yRWFjaChmdW5jdGlvbihhLGIpe2YucHVzaChhLmlkfHwiIitiLGEpfSk7dmFyIGc9bmV3IEQ7Yi5hLmZvckVhY2goZnVuY3Rpb24oYSxiKXtnLnB1c2goYS5pZHx8IiIrYixhKX0pO2E9YWIoZik7Zm9yKGI9MDtiPGEubGVuZ3RoOysrYil7dmFyIGg9YVtiXSxrPWYuZ2V0KGgpOzE8ay5sZW5ndGh8fChoPWcuZ2V0KGgpKSYmMCE9aC5sZW5ndGgmJjE9PWgubGVuZ3RoJiYoeWYoa1swXSxoWzBdLGMsZCxlKSxrWzBdLmR1cmF0aW9uPWhbMF0uZHVyYXRpb24pfX0KZnVuY3Rpb24geWYoYSxiLGMsZCxlKXt2YXIgZj1uZXcgRDthLmEuZm9yRWFjaChmdW5jdGlvbihhLGIpe2YucHVzaChhLmlkfHwiIitiLGEpfSk7dmFyIGc9bmV3IEQ7Yi5hLmZvckVhY2goZnVuY3Rpb24oYSxiKXtnLnB1c2goYS5pZHx8IiIrYixhKX0pO2E9YWIoZik7Zm9yKGI9MDtiPGEubGVuZ3RoOysrYil7dmFyIGg9YVtiXSxrPWYuZ2V0KGgpOzE8ay5sZW5ndGh8fChoPWcuZ2V0KGgpKSYmMCE9aC5sZW5ndGgmJjE9PWgubGVuZ3RoJiZ6ZihrWzBdLGhbMF0sYyxkLGUpfX0KZnVuY3Rpb24gemYoYSxiLGMsZCxlKXt2YXIgZj1uZXcgRDthLnYuZm9yRWFjaChmdW5jdGlvbihhLGIpe2YucHVzaChhLmlkfHwiIitiLGEpfSk7dmFyIGc9bmV3IEQ7Yi52LmZvckVhY2goZnVuY3Rpb24oYSxiKXtnLnB1c2goYS5pZHx8IiIrYixhKX0pO2I9e307Zm9yKHZhciBoPWFiKGYpLGs9MDtrPGgubGVuZ3RoOysrayl7dmFyIGw9aFtrXTtiW2xdPWw7dmFyIG09Zi5nZXQobCk7MTxtLmxlbmd0aHx8KChsPWcuZ2V0KGwpKSYmMCE9bC5sZW5ndGg/MT09bC5sZW5ndGgmJihCZihtWzBdLGxbMF0sYyxkKSxtWzBdLmFhPWxbMF0uYWEsbFswXS5hYT1udWxsLG1bMF0uYT1sWzBdLmEsVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJyZWZyZXNoX2JhbmR3aWR0aF9mcm9tX2xpdmVfbWFuaWZlc3QiLCExKSYmKG1bMF0uYmFuZHdpZHRoPWxbMF0uYmFuZHdpZHRoKSk6KGUucHVzaChtWzBdKSxhLnYuc3BsaWNlKGEudi5pbmRleE9mKG1bMF0pLDEpKSl9aD1hYihnKTsKZm9yKGs9MDtrPGgubGVuZ3RoOysraylsPWhba10sYltsXXx8KGJbbF09bCxsPWcuZ2V0KGwpLGEudi5wdXNoKGxbMF0pKX1mdW5jdGlvbiBCZihhLGIsYyxkKXthPWNbYS5YXTtjPWRbYi5YXTtkPShiPWEubGVuZ3RoKCkpP2EubGFzdCgpLmVuZFRpbWU6MDtpZihhLkIoYykpe2M9YS5sZW5ndGgoKTt2YXIgZT0hMTtWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInJvYnVzdF9jb3VudF9jaGFuZ2VzIiwhMSkmJihlPSEhYyYmYS5sYXN0KCkuZW5kVGltZT5kKTthLmcucHVzaChiIT09Y3x8ZSk7NTA8YS5nLmxlbmd0aCYmYS5nLnNoaWZ0KCl9fTtmdW5jdGlvbiBYKCl7dGhpcy5hPXRoaXMuYj1udWxsO3RoaXMuZj1uZXcgYmI7dGhpcy5jPU51bWJlci5QT1NJVElWRV9JTkZJTklUWTt0aGlzLmk9ITA7dGhpcy5nPSExfXEoInNoYWthLm1lZGlhLlNpbXBsZUFick1hbmFnZXIiLFgpO1gucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmYuZGVzdHJveSgpO3RoaXMuYT10aGlzLmI9dGhpcy5mPW51bGx9O1gucHJvdG90eXBlLmluaXRpYWxpemU9ZnVuY3Rpb24oYSxiKXt0aGlzLmJ8fHRoaXMuYXx8KHRoaXMuYj1hLHRoaXMuYT1iKX07ClgucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKCl7dGhpcy5iJiZ0aGlzLmEmJiF0aGlzLmcmJih0aGlzLmM9RGF0ZS5ub3coKSs0RTMsRSh0aGlzLmYsdGhpcy5iLmdldEVzdGltYXRvcigpLCJiYW5kd2lkdGgiLHRoaXMubS5iaW5kKHRoaXMpKSxFKHRoaXMuZix0aGlzLmEsImFkYXB0YXRpb24iLHRoaXMuai5iaW5kKHRoaXMpKSxFKHRoaXMuZix0aGlzLmEsInRyYWNrc2NoYW5nZWQiLHRoaXMuaC5iaW5kKHRoaXMpKSx0aGlzLmc9ITApfTtYLnByb3RvdHlwZS5lbmFibGU9ZnVuY3Rpb24oYSl7dGhpcy5pPWF9O1gucHJvdG90eXBlLmdldEluaXRpYWxWaWRlb1RyYWNrSWQ9ZnVuY3Rpb24oKXtpZighdGhpcy5ifHwhdGhpcy5hKXJldHVybiBudWxsO3ZhciBhPUNmKHRoaXMpO3JldHVybiBhP2EuaWQ6bnVsbH07WC5wcm90b3R5cGUuZ2V0SW5pdGlhbFN3aXRjaFJlYXNvbj1mdW5jdGlvbigpe3JldHVybiBudWxsfTtYLnByb3RvdHlwZS5nZXRJbml0aWFsQXVkaW9UcmFja0lkPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9OwpYLnByb3RvdHlwZS5zZWxlY3RWaWRlb1RyYWNrPWZ1bmN0aW9uKGEsYixjKXt0aGlzLmcmJnRoaXMuYS5zZWxlY3RWaWRlb1RyYWNrKGEuaWQsYixjKX07WC5wcm90b3R5cGUubT1mdW5jdGlvbigpe0RhdGUubm93KCk8dGhpcy5jfHx0aGlzLmgoKX07WC5wcm90b3R5cGUuaD1mdW5jdGlvbigpe2lmKHRoaXMuaSl7dmFyIGE9Q2YodGhpcyk7aWYoYSl7aWYoYS5hY3RpdmUpe3RoaXMuYz1EYXRlLm5vdygpKzNFMztyZXR1cm59dGhpcy5zZWxlY3RWaWRlb1RyYWNrKGEsITEpfXRoaXMuYz1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFl9fTtYLnByb3RvdHlwZS5qPWZ1bmN0aW9uKCl7dGhpcy5jPT1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkmJih0aGlzLmM9RGF0ZS5ub3coKSszRTQpfTsKZnVuY3Rpb24gQ2YoYSl7dmFyIGI9YS5hLlooKTtpZigwPT1iLmxlbmd0aClyZXR1cm4gbnVsbDtiLnNvcnQodmEpO3ZhciBjO2E6e2M9YS5hLnZhKCk7Zm9yKHZhciBkPTA7ZDxjLmxlbmd0aDsrK2QpaWYoY1tkXS5hY3RpdmUpe2M9Y1tkXTticmVhayBhfWM9bnVsbH1jPWM/Yy5iYW5kd2lkdGg6MDthPWEuYi5nZXRCYW5kd2lkdGgoKTtmb3IodmFyIGQ9YlswXSxlPTA7ZTxiLmxlbmd0aDsrK2Upe3ZhciBmPWJbZV0sZz1lKzE8Yi5sZW5ndGg/YltlKzFdOntiYW5kd2lkdGg6TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZfTtpZihmLmJhbmR3aWR0aCYmKGc9KGcuYmFuZHdpZHRoK2MpLy44NSxhPj0oZi5iYW5kd2lkdGgrYykvLjk1JiZhPD1nJiYoZD1mLGQuYWN0aXZlKSkpYnJlYWt9cmV0dXJuIGR9O2Z1bmN0aW9uIFkoYSxiLGMsZCl7Ri5jYWxsKHRoaXMsbnVsbCk7dGhpcy5iPWE7dGhpcy5hPWI7dGhpcy53YT1jO3RoaXMua2I9bmV3IFZpZGVvUGxheWVyTG9jYWxCYW5kd2lkdGhFc3RpbWF0b3IodGhpcyxjLGIpO3RoaXMuaD1uZXcgYmI7dGhpcy5pPW5ldyBNZWRpYVNvdXJjZTt0aGlzLmJhPXRoaXMudmlkZW89bnVsbDt0aGlzLkJiPTA7dGhpcy5uYz10aGlzLlpiPSExO3RoaXMuTGI9aWE7dGhpcy5BYj10aGlzLlY9dGhpcy5pYT10aGlzLmw9bnVsbDt0aGlzLktiPTM7dGhpcy5yYT10aGlzLiRiPXRoaXMuRmE9dGhpcy5FYT0hMTt0aGlzLlBhPTA7dGhpcy5kYT1uZXcgVmlkZW9QdXNoVHJhY2tlcjt0aGlzLmdhPW51bGw7dGhpcy5pYz0xO3RoaXMuZ2M9SW5maW5pdHk7dGhpcy5VYj10aGlzLlNiPSExO3RoaXMucGE9dGhpcy5PYT1udWxsO3RoaXMuV2I9dGhpcy5WYj10aGlzLkdhPXRoaXMuY2M9dGhpcy5tYT0hMTt0aGlzLmY9bmV3IEQ7dGhpcy5BPWQ7dGhpcy5BLmluaXRpYWxpemUodGhpcy5rYiwKdGhpcyk7dGhpcy5PPSExO3RoaXMuUz0iZW4iO3RoaXMueWE9ITE7dGhpcy5KPW5ldyBJO3RoaXMuSWI9bmV3IEk7dGhpcy5tPW5ldyBrYTt0aGlzLkQ9bnVsbDt0aGlzLmtjPTE7dGhpcy5jPXt9O3RoaXMuc2E9bmV3IEk7dGhpcy5qYT0wO3RoaXMuZ2I9MTVFMzt0aGlzLmo9bnVsbDt0aGlzLmVjPSExO3RoaXMuZGM9MDt0aGlzLkNhPSExO3RoaXMuQj17fTt0aGlzLmxhPXRoaXMua2E9dGhpcy51PW51bGw7dGhpcy5nPXt9O3RoaXMuJD0hMTt0aGlzLmZjPTA7dGhpcy5LPXRoaXMuYS5nZXROdW1iZXIoImJ1ZmZlcmluZ19vdmVyZmxvd190aHJlc2hvbGQiLDApO3RoaXMucGM9bnVsbDt0aGlzLm89e307dGhpcy53PXt9O3RoaXMuUj1udWxsO3RoaXMuVT1bXTt0aGlzLlQ9dGhpcy5JPW51bGw7dGhpcy5HPW5ldyBOZXR3b3JrU3RhdHVzRGV0ZWN0b3I7dGhpcy5oYz0hMTt0aGlzLm5hPSEwO3RoaXMuZWE9ITE7dGhpcy51Yz1uZXcgU3Vic2NyaXB0aW9uc0hhbmRsZXI7dGhpcy5ZYj0hMTsKdGhpcy54YT0xO3RoaXMuSWQ9dGhpcy5hLmdldE51bWJlcigic3RyZWFtX21heGltdW1fb25wYXVzZV9idWZmZXJfc2l6ZV9tdWx0aXBsaWVyIiwwKTt0aGlzLmNhPW51bGw7dGhpcy5hLmdldEJvb2woImFsbG93X2luZmluaXRlX3JldHJ5X29uX25ldF9lcnIiLCEwKSYmdGhpcy51Yy5hZGRTdWJzY3JpcHRpb25zKHRoaXMuRy5hZGRMaXN0ZW5lcigibmV0d29ya0ludGVycnVwdGVkIix0aGlzLlRjLHRoaXMpLHRoaXMuRy5hZGRMaXN0ZW5lcigibmV0d29ya1Jlc3VtZWQiLHRoaXMuVWMsdGhpcyksdGhpcy5HLmFkZExpc3RlbmVyKCJzeXN0ZW1XYWtlIix0aGlzLlZjLHRoaXMpKX1yKFksRik7cSgic2hha2EucGxheWVyLlN0cmVhbVZpZGVvU291cmNlIixZKTtZLnByb3RvdHlwZS5YYj1mdW5jdGlvbigpe3JldHVybntWaWRlb1NvdXJjZVN0cmVhbTp0aGlzLmMudmlkZW8sQXVkaW9Tb3VyY2VTdHJlYW06dGhpcy5jLmF1ZGlvLFRleHRTb3VyY2VTdHJlYW06dGhpcy5jLnRleHQsQmFuZHdpZHRoRXN0aW1hdG9yOnRoaXMud2F9fTsKWS5wcm90b3R5cGUuZ2V0U3RyZWFtRGVidWc9WS5wcm90b3R5cGUuWGI7WS5wcm90b3R5cGUuUGM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iP3RoaXMuYi53OiJub25lIn07WS5wcm90b3R5cGUuZ2V0TXBkQXVkaW9Db25maWc9WS5wcm90b3R5cGUuUGM7ClkucHJvdG90eXBlLmxjPWZ1bmN0aW9uKGEpe251bGwhPWEuc3RyZWFtQnVmZmVyU2l6ZSYmKHRoaXMuZy5zdHJlYW1CdWZmZXJTaXplPWEuc3RyZWFtQnVmZmVyU2l6ZSk7bnVsbCE9YS5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZSYmKHRoaXMuZy5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZT1hLmluaXRpYWxTdHJlYW1CdWZmZXJTaXplKTtudWxsIT1hLmR5bmFtaWNTdHJlYW1CdWZmZXJTaXplJiYodGhpcy5nLmR5bmFtaWNTdHJlYW1CdWZmZXJTaXplPWEuZHluYW1pY1N0cmVhbUJ1ZmZlclNpemUpO251bGwhPWEuc21hcnRCdWZmZXJBZGp1c3RtZW50UGFyYW1zJiYodGhpcy5nLnNtYXJ0QnVmZmVyQWRqdXN0bWVudFBhcmFtcz1hLnNtYXJ0QnVmZmVyQWRqdXN0bWVudFBhcmFtcyk7bnVsbCE9YS5hZGRDZG5EZWJ1Z1F1ZXJ5UGFyYW1ldGVycyYmKHRoaXMuZy5hZGRDZG5EZWJ1Z1F1ZXJ5UGFyYW1ldGVycz1hLmFkZENkbkRlYnVnUXVlcnlQYXJhbWV0ZXJzKTtudWxsIT1hLnNlZ21lbnRSZXF1ZXN0VGltZW91dCYmCih0aGlzLmcuc2VnbWVudFJlcXVlc3RUaW1lb3V0PWEuc2VnbWVudFJlcXVlc3RUaW1lb3V0KTtudWxsIT1hLnJlc29sdmVWaWRlb1RpbWVVcGRhdGVPbkZyYWdtZW50ZWRUaW1lUmFuZ2VzJiYodGhpcy5nLnJlc29sdmVWaWRlb1RpbWVVcGRhdGVPbkZyYWdtZW50ZWRUaW1lUmFuZ2VzPWEucmVzb2x2ZVZpZGVvVGltZVVwZGF0ZU9uRnJhZ21lbnRlZFRpbWVSYW5nZXMpO251bGwhPWEucmVhcHBlbmRJbml0U2VnbWVudEFmdGVyQWJvcnQmJih0aGlzLmcucmVhcHBlbmRJbml0U2VnbWVudEFmdGVyQWJvcnQ9YS5yZWFwcGVuZEluaXRTZWdtZW50QWZ0ZXJBYm9ydCk7bnVsbCE9YS5saXZlRGF0YUZldGNoTWF4UmV0cmllcyYmKHRoaXMuZy5saXZlRGF0YUZldGNoTWF4UmV0cmllcz1hLmxpdmVEYXRhRmV0Y2hNYXhSZXRyaWVzKTtudWxsIT1hLmxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXMmJih0aGlzLmcubGl2ZVNvdXJjZUJ1ZmZlckNsZWFyTWF4UmV0cmllcz1hLmxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXMpOwpudWxsIT1hLnBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2UmJih0aGlzLmcucGxheWhlYWRGcmFnbWVudGVkR2FwRGlmZkFsbG93YW5jZT1hLnBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2UpO251bGwhPWEuZml4QnVmZmVyaW5nR29hbERldGVybWluYXRpb24mJih0aGlzLmcuZml4QnVmZmVyaW5nR29hbERldGVybWluYXRpb249YS5maXhCdWZmZXJpbmdHb2FsRGV0ZXJtaW5hdGlvbik7bnVsbCE9YS5za2lwRW1wdHlTZWdtZW50cyYmKHRoaXMuZy5za2lwRW1wdHlTZWdtZW50cz1hLnNraXBFbXB0eVNlZ21lbnRzKTtudWxsIT1hLnVzZU1pY3JvVGFza1RpbWVvdXRzJiYodGhpcy5nLnVzZU1pY3JvVGFza1RpbWVvdXRzPWEudXNlTWljcm9UYXNrVGltZW91dHMpO0RmKHRoaXMpO251bGwhPWEuaW5jbHVkZVN0cmVhbUJ1ZmZlclNpemVJblN0YXJ0T2Zmc2V0JiYodGhpcy5aYj1Cb29sZWFuKGEuaW5jbHVkZVN0cmVhbUJ1ZmZlclNpemVJblN0YXJ0T2Zmc2V0KSk7Cm51bGwhPWEubGl2ZUF1ZGlvUHVzaFJlcHJlc2VudGF0aW9uJiYodGhpcy5wYT1TdHJpbmcoYS5saXZlQXVkaW9QdXNoUmVwcmVzZW50YXRpb24pKTtudWxsIT1hLmxpdmVJbml0aWFsUHVzaFJlcHJlc2VudGF0aW9uJiYodGhpcy5PYT1TdHJpbmcoYS5saXZlSW5pdGlhbFB1c2hSZXByZXNlbnRhdGlvbikpO251bGwhPWEuZW5hYmxlQWRhcHRhdGlvbiYmdGhpcy5BLmVuYWJsZShCb29sZWFuKGEuZW5hYmxlQWRhcHRhdGlvbikpO251bGwhPWEubXBkUmVxdWVzdFRpbWVvdXQmJih0aGlzLkxiPU51bWJlcihhLm1wZFJlcXVlc3RUaW1lb3V0KSk7bnVsbCE9YS5taW5NcGRSZWZyZXNoSW50ZXJ2YWwmJih0aGlzLktiPU51bWJlcihhLm1pbk1wZFJlZnJlc2hJbnRlcnZhbCkvMUUzKTtudWxsIT1hLmVuYWJsZU1hbmlmZXN0RGVidWcmJih0aGlzLlViPSEhYS5lbmFibGVNYW5pZmVzdERlYnVnKTtudWxsIT1hLmxpdmVTdHJlYW1FbmRUaW1lb3V0JiYodGhpcy5nYj1OdW1iZXIoYS5saXZlU3RyZWFtRW5kVGltZW91dCkpOwpudWxsIT1hLnByZWZlcnJlZExhbmd1YWdlJiYodGhpcy5TPVNhKFN0cmluZyhhLnByZWZlcnJlZExhbmd1YWdlKSkpO251bGwhPWEubGl2ZVNlbmRQdXNoSGVhZGVycyYmKHRoaXMucmE9Qm9vbGVhbihhLmxpdmVTZW5kUHVzaEhlYWRlcnMpKTtudWxsIT1hLmxpdmVNYXhNYW5pZmVzdEZldGNoZXNXaXRoUHVzaCYmKHRoaXMuUGE9TnVtYmVyKGEubGl2ZU1heE1hbmlmZXN0RmV0Y2hlc1dpdGhQdXNoKSk7bnVsbCE9YS5jdXJyZW50VGltZUR1cmluZ1JlYWR5U3RhdGVaZXJvVGhyb3dzJiYodGhpcy5TYj1Cb29sZWFuKGEuY3VycmVudFRpbWVEdXJpbmdSZWFkeVN0YXRlWmVyb1Rocm93cykpO251bGwhPWEubGl2ZU1heFNlZ21lbnRzVG9QdXNoJiYodGhpcy5nYz1OdW1iZXIoYS5saXZlTWF4U2VnbWVudHNUb1B1c2gpKTtudWxsIT1hLmp1bXBUb0xpdmVUaHJlc2hvbGQmJih0aGlzLmRjPU51bWJlcihhLmp1bXBUb0xpdmVUaHJlc2hvbGQpKTtudWxsIT1hLnJlc3RyaWN0aW9ucyYmKHRoaXMubT0KYS5yZXN0cmljdGlvbnMsdGhpcy5PJiZFZih0aGlzKSk7bnVsbCE9YS51c2VMb25nQ2FjaGVGb3JNYW5pZmVzdCYmKHRoaXMubWE9Qm9vbGVhbihhLnVzZUxvbmdDYWNoZUZvck1hbmlmZXN0KSk7bnVsbCE9YS5qdW1wVG9FYXJsaWVzdFBvc2l0aW9uSW5DdXJyZW50QmxvY2smJih0aGlzLmNjPUJvb2xlYW4oYS5qdW1wVG9FYXJsaWVzdFBvc2l0aW9uSW5DdXJyZW50QmxvY2spKTtudWxsIT1hLmlnbm9yZU1pbkJ1ZmZlclRpbWUmJih0aGlzLkdhPUJvb2xlYW4oYS5pZ25vcmVNaW5CdWZmZXJUaW1lKSk7bnVsbCE9PWEuZW5hYmxlUmVxdWVzdFBpcGVsaW5pbmcmJih0aGlzLlZiPUJvb2xlYW4oYS5lbmFibGVSZXF1ZXN0UGlwZWxpbmluZykpO251bGwhPT1hLmVuYWJsZVN0cmVhbWluZyYmKHRoaXMuV2I9Qm9vbGVhbihhLmVuYWJsZVN0cmVhbWluZykpfTsKWS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuSi5kZXN0cm95KCk7dGhpcy5zYS5kZXN0cm95KCk7dGhpcy5zYT10aGlzLko9bnVsbDt0aGlzLmthJiYoY2xlYXJUaW1lb3V0KHRoaXMua2EpLHRoaXMua2E9bnVsbCk7dGhpcy51JiYoY2xlYXJUaW1lb3V0KHRoaXMudSksdGhpcy51PW51bGwpO3RoaXMuQj1udWxsO3RoaXMuaC5kZXN0cm95KCk7dGhpcy5oPW51bGw7V2EodGhpcy5jKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2EuZGVzdHJveSgpfSk7dGhpcy5mPXRoaXMuYz1udWxsO3RoaXMuYiYmKHRoaXMuYi5kZXN0cm95KCksdGhpcy5iPW51bGwpO3RoaXMuQS5kZXN0cm95KCk7dGhpcy5KYT10aGlzLm09dGhpcy52aWRlbz10aGlzLmk9dGhpcy53YT10aGlzLkE9bnVsbDt0aGlzLmEuZ2V0Qm9vbCgiZml4aW5nX3NjaGVkdWxlcl9kaXNhYmxlX2xlYWtzIiwhMCkmJihPYmplY3Qua2V5cyh0aGlzLm8pLmZvckVhY2goZnVuY3Rpb24oYSl7KGE9dGhpcy5vW2FdKSYmYS5kaXNhYmxlKCl9LmJpbmQodGhpcykpLAp0aGlzLm89e30pO09iamVjdC5rZXlzKHRoaXMudykuZm9yRWFjaChmdW5jdGlvbihhKXsoYT10aGlzLndbYV0pJiZhLmRlc3Ryb3koKX0uYmluZCh0aGlzKSk7dGhpcy53PXt9O3RoaXMuSSYmKHRoaXMuSS5kaXNhYmxlKCksdGhpcy5JPW51bGwpO3RoaXMuUiYmKHRoaXMuUi5jbGVhbnVwKCksdGhpcy5SPW51bGwpO2Zvcih2YXIgYT0wO2E8dGhpcy5VLmxlbmd0aDthKyspdGhpcy5VW2FdLmNsZWFudXAoKTt0aGlzLlU9W107dGhpcy51Yy5yZWxlYXNlKCl9O2Z1bmN0aW9uIGVmKGEsYil7aWYoYS5sKXt2YXIgYz1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJtZWRpYV9zb3VyY2Vfb3BlbiIpLnN0YXJ0KCk7YS5JYi50aGVuKGZ1bmN0aW9uKCl7Yy5sb2coKX0pfUUoYS5oLGEuaSwic291cmNlb3BlbiIsYS5oZC5iaW5kKGEpKTtiLnNyYz13aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChhLmkpfW49WS5wcm90b3R5cGU7bi52Yz1mdW5jdGlvbigpe307CmZ1bmN0aW9uIGpmKGEsYixjKXt2YXIgZDthLmwmJihkPWEubC5nZXRPcGVyYXRpb25Mb2dnZXIoInNvdXJjZV9hdHRhY2giKS5zdGFydCgpKTtpZighYS5PKXJldHVybiBhPUVycm9yKCJDYW5ub3QgY2FsbCBhdHRhY2goKSByaWdodCBub3cuIiksYS50eXBlPSJhcHAiLGQmJmQuc2V0RXJyb3IoYSkubG9nKCksUHJvbWlzZS5yZWplY3QoYSk7YS5KYT1iO2EudmlkZW89YzthLmJhPW51bGw7YS5hLmdldEJvb2woImVuYWJsZV92aWV3cG9ydF9wcmlvcml0eV9hZGp1c3RtZW50IiwhMSkmJihhLlI9bmV3IFZpZXdwb3J0UHJpb3JpdHlBZGp1c3RlcihhLnZpZGVvKSxhLlIuc2V0T25Qcmlvcml0eUNoYW5nZWQoZnVuY3Rpb24oYSl7T2JqZWN0LmtleXModGhpcy5vKS5mb3JFYWNoKGZ1bmN0aW9uKGIpe3RoaXMub1tiXS51cGRhdGVQcmlvcml0eVdpdGhOZXdBZGp1c3RtZW50KGEpfS5iaW5kKHRoaXMpKX0uYmluZChhKSkpO2EuYS5nZXRCb29sKCJlbmFibGVfZmlyc3RfdmlkZW9fcHJpb3JpdHlfYWRqdXN0bWVudCIsCiExKSYmYS5VLnB1c2gobmV3IEZpcnN0TG9hZGVkVmlkZW9Qcmlvcml0eUFkanVzdGVyKGEudmlkZW8pKTtFKGEuaCxhLnZpZGVvLCJsb2FkZWRtZXRhZGF0YSIsYS5nZC5iaW5kKGEpKTtFKGEuaCxhLndhLCJiYW5kd2lkdGgiLGEuR2QuYmluZChhKSk7aWYoYS5iLmJ8fGEuYS5nZXRCb29sKCJiYWNrX29mZl9idWZmZXJpbmdfb3ZlcmZsb3ciLCExKSlFKGEuaCxiLCJidWZmZXJpbmdTdGFydCIsYS5jZC5iaW5kKGEpKSxFKGEuaCxiLCJidWZmZXJpbmdFbmQiLGEuYmQuYmluZChhKSk7Yj1hLmEuZ2V0Qm9vbCgiZW5hYmxlX2NvbnRlbnRfcHJvdGVjdGlvbiIsITEpPyhiPWEudmlkZW8ubWVkaWFLZXlzKSYmYS52aWRlby5zZXRNZWRpYUtleXM/YS52aWRlby5zZXRNZWRpYUtleXMoYik6UHJvbWlzZS5yZXNvbHZlKCk6UHJvbWlzZS5yZXNvbHZlKCk7RmYoYSkudGhlbihKKGEsZnVuY3Rpb24oKXtkJiZ0aGlzLlAoKSYmZC5zZXRMaXZlaGVhZFBvc2l0aW9uKEdmKEhmKHRoaXMpKSk7dGhpcy5KJiYKdGhpcy5KLnJlc29sdmUoKTt0aGlzLnZjKCl9KSkuY2F0Y2goSihhLGZ1bmN0aW9uKGEpe3RoaXMuSiYmdGhpcy5KLnJlamVjdChhKX0pKTtyZXR1cm4gUHJvbWlzZS5hbGwoW2EuSixiXSkudGhlbihmdW5jdGlvbigpe2QmJmQubG9nKCl9KX0Kbi53Yj1mdW5jdGlvbigpe2lmKHRoaXMuTyl7dmFyIGE9RXJyb3IoIkNhbm5vdCBjYWxsIGxvYWQoKSByaWdodCBub3cuIik7YS50eXBlPSJhcHAiO3JldHVybiBQcm9taXNlLnJlamVjdChhKX1pZighdGhpcy5ifHwwPT10aGlzLmIuYS5sZW5ndGgpcmV0dXJuIGE9RXJyb3IoIlRoZSBtYW5pZmVzdCBkb2VzIG5vdCBzcGVjaWZ5IGFueSBjb250ZW50LiIpLGEudHlwZT0ic3RyZWFtIixQcm9taXNlLnJlamVjdChhKTt0Zih0aGlzLmIuYSk7aWYoMD09dGhpcy5iLmEubGVuZ3RofHwwPT10aGlzLmIuYVswXS5hLmxlbmd0aHx8IXRoaXMuYi5hWzBdLmEuc29tZShmdW5jdGlvbihhKXtyZXR1cm4idmlkZW8iPT09YS5jb250ZW50VHlwZX0pKXJldHVybiBhPUVycm9yKCJUaGUgbWFuaWZlc3Qgc3BlY2lmaWVzIGNvbnRlbnQgdGhhdCBjYW5ub3QgYmUgZGlzcGxheWVkIG9uIHRoaXMgYnJvd3Nlci9wbGF0Zm9ybS4iKSxhLnR5cGU9InN0cmVhbSIsUHJvbWlzZS5yZWplY3QoYSk7dGhpcy5PPQohMDt0aGlzLkdhfHwodGhpcy5nLmluaXRpYWxTdHJlYW1CdWZmZXJTaXplPU1hdGgubWF4KHRoaXMuZy5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZXx8MCx0aGlzLmIuZykpO3RoaXMuaWEmJnRoaXMuaWEuc2V0U3RyZWFtVHlwZSh0aGlzLmIuQik7RGYodGhpcyk7RWYodGhpcyk7cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpfTtmdW5jdGlvbiBJZihhKXt2YXIgYj15KHt0eXBlOiJtYW5pZmVzdHdyYXBwZWQiLGJ1YmJsZXM6ITB9KTthLmRpc3BhdGNoRXZlbnQoYil9ZnVuY3Rpb24gSmYoYSxiKXt2YXIgYz15KHt0eXBlOiJsaXZlaGVhZElkbGVBdCIsc2Vjb25kczpiLGJ1YmJsZXM6ITB9KTthLmRpc3BhdGNoRXZlbnQoYyl9ZnVuY3Rpb24gR2YoYSl7cmV0dXJuIE1hdGgubWluLmFwcGx5KE1hdGgsYS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEubGVuZ3RoKCk/YS5sYXN0KCkuZW5kVGltZTpudWxsfSkuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiEhYX0pKX0Kbi5KYj1mdW5jdGlvbihhLGIpe3ZhciBjO3RoaXMuYS5nZXRCb29sKCJkZWNvdXBsZV9tcGRfdXBkYXRlX2xvb3BfZnJvbV9yZXF1ZXN0X2xvb3AiLCExKSYmS2YodGhpcywwKTt0aGlzLlYmJih0aGlzLlYubG9nKCksdGhpcy5WPW51bGwpO3RoaXMubCYmKGM9dGhpcy5sLmdldE9wZXJhdGlvbkxvZ2dlcigidXBkYXRlX21hbmlmZXN0Iikuc3RhcnQoKSk7aWYoIWJ8fHRoaXMuTyl7dmFyIGQ9RGF0ZS5ub3coKTt0aGlzLmEuZ2V0Qm9vbCgiZGVjb3VwbGVfbXBkX3VwZGF0ZV9sb29wX2Zyb21fcmVxdWVzdF9sb29wIiwhMSl8fCh0aGlzLnU9bnVsbCk7dmFyIGU9bnVsbCxmLGc7aWYodGhpcy5yYSYmKCF0aGlzLlBhfHx0aGlzLlBhPnRoaXMuaWMpKXtmPU1hdGguZmxvb3IoTGYodGhpcykpKzE7Zj1NYXRoLm1pbihmLHRoaXMuZ2MpO3ZhciBoPXRoaXMuYy52aWRlbztpZihoPWg/aC5GYigpOm51bGwpaD1oLmxhc3QoKSxudWxsIT1oLnVuc2NhbGVkU3RhcnRUaW1lJiYoZz1oLnVuc2NhbGVkU3RhcnRUaW1lKTsKaWYodGhpcy52aWRlby5wYXVzZWR8fHRoaXMuJClmPTB9ZiYmdGhpcy5pYysrO2g9dGhpcy5iLmk7aD10aGlzLmEuZ2V0Qm9vbCgiZW5hYmxlX2NsZWFuX2ZhaWxvdmVyX3VyaV9vbl9tcGRfcmVxdWVzdHMiLCEwKT9oLmNsb25lKCk6aDtjJiYhYSYmYy5zZXRSZXNvdXJjZShoLnRvU3RyaW5nKCkpOyhhP3RoaXMueGMoKTp0aGlzLnljKGgsZixnKSkudGhlbihKKHRoaXMsZnVuY3Rpb24oYil7YXx8dGhpcy5HLmluZm9ybU5ldHdvcmtSZXN1bWVkKCk7ZT1uZXcgdmYoYik7dmFyIGM7dGhpcy5sJiYoYz10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJ1cGRhdGVfbWFuaWZlc3RfaW5mbyIpLnN0YXJ0KCkpO2I9ZS51cGRhdGUodGhpcy5iKTtiLnRoZW4oZnVuY3Rpb24oKXtjJiZjLmxvZygpfSxmdW5jdGlvbihhKXtjJiZjLnNldEVycm9yKGEpLmxvZygpfSkuY2F0Y2goZnVuY3Rpb24oKXt9KTtyZXR1cm4gYn0pKS50aGVuKEoodGhpcyxmdW5jdGlvbihhKXtlLmRlc3Ryb3koKTtlPW51bGw7CnZhciBmPUhmKHRoaXMpO3RoaXMuTGEoIlNlZ21lbnRJbmRleGVzVXBkYXRlZCIsZik7aWYodGhpcy5hLmdldEJvb2woImVtaXRfbGl2ZV9wbGF5aGVhZF9pZGxlX2Zyb21fY2xpZW50IiwhMCkpe3ZhciBnPXRoaXMuYS5nZXROdW1iZXIoImxpdmVfcGxheWhlYWRfaWRsZV9hbGxfc3RyZWFtX3RocmVzaG9sZCIsNCksaD10aGlzLmEuZ2V0TnVtYmVyKCJsaXZlX3BsYXloZWFkX2lkbGVfc2luZ2xlX3N0cmVhbV90aHJlc2hvbGQiLDUpO2lmKEhmKHRoaXMpLmV2ZXJ5KGZ1bmN0aW9uKGEpe3JldHVybiBhLnUoKT49Z30pfHxIZih0aGlzKS5zb21lKGZ1bmN0aW9uKGEpe3JldHVybiBhLnUoKT49aH0pKXt2YXIgdD1HZihmKTtKZih0aGlzLHQpfX1mLnNvbWUoZnVuY3Rpb24oYSl7cmV0dXJuIGEucmIoKX0pJiZJZih0aGlzKTt0PU1mKHRoaXMsZik7YyYmdGhpcy5QKCkmJmMuc2V0TGl2ZWhlYWRQb3NpdGlvbihHZihmKSk7YyYmYy5zZXRNYW5pZmVzdFR5cGUodGhpcy5iLmI/ImR5bmFtaWMiOgoic3RhdGljIikuc2V0VXBkYXRlUGVyaW9kKG51bGw9PT10aGlzLmIuYz9udWxsOk1hdGguY2VpbCgxRTMqdGhpcy5iLmMpKTt0aGlzLm5hJiZOZih0aGlzLHQpO3RoaXMuYS5nZXRCb29sKCJza2lwX3JlbWFpbmluZ19idWZmZXJlZF9vbl9zdHJlYW1fZW5kIiwhMSkmJnQmJnRoaXMuYi5iJiZ0aGlzLmIuaCYmdGhpcy52aWRlby5wYXVzZWQmJih0aGlzLnZpZGVvLmN1cnJlbnRUaW1lPXRoaXMuamEtLjEpO2lmKHNmKHRoaXMpKXJldHVybiBjJiZjLmxvZygpLHRoaXMuZWIoKTtmb3IoZj0wO2Y8YS5sZW5ndGg7KytmKU9mKHRoaXMsYVtmXSk7dGhpcy5HYXx8KHRoaXMuZy5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZT1NYXRoLm1heCh0aGlzLmcuaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemV8fDAsdGhpcy5iLmcpKTt0aGlzLmcudXNlSW5pdGlhbEJ1ZmZlclNpemVXaGVuUGF1c2VkPXRoaXMuYi5iO0RmKHRoaXMpO0VmKHRoaXMpOzA9PU9iamVjdC5rZXlzKHRoaXMuYykubGVuZ3RoP0ZmKHRoaXMpOgooYT1EYXRlLm5vdygpLGJ8fEtmKHRoaXMsKGEtZCkvMUUzKSk7YyYmYy5sb2coKTt0aGlzLnRiKCkmJmV4dHJhY3RDRUE2MDgucHJlcGFyZSgpO3RoaXMuYS5nZXRCb29sKCJ1cGRhdGVfY2VhNjA4X2F2YWlsYWJpbGl0eV9vbl9tcGRfcGFyc2luZyIsITEpJiYoYT10aGlzLnRiKCksdGhpcy5ZYiE9PWEmJihmPXkoe3R5cGU6ImNlYTYwOEF2YWlsYWJpbGl0eUNoYW5nZWQiLGJ1YmJsZXM6ITB9KSx0aGlzLmRpc3BhdGNoRXZlbnQoZiksdGhpcy5ZYj1hKSl9KSkuY2F0Y2goSih0aGlzLGZ1bmN0aW9uKGEpe2MmJmMuc2V0RXJyb3IoYSkubG9nKCk7ZSYmKGUuZGVzdHJveSgpLGU9bnVsbCk7aWYoIWIpe3ZhciBkPXRoaXMuYi5mfHx0aGlzLmEuZ2V0Qm9vbCgicmV0cnlfZWdyZXNzXzUwMHMiLCExKSxmPVswLDQxMF07dGhpcy5hLmdldEJvb2woImVuYWJsZV9kb3VibGVfaW5nZXN0IiwhMSkmJmYucHVzaCg0MTcsMjAwKTshdGhpcy5hLmdldEJvb2woIm5vX3JldHJ5X29uXzUwMl81MDMiLAohMSkmJmQmJihmPWYuY29uY2F0KFs1MDIsNTAzXSkpO2Q9dGhpcy5hLmdldEJvb2woImZpeF9saXZlX3N0cmVhbV9nb25lX29uX21hbmlmZXN0X3VwZGF0ZSIsITApPy0xPT09Zi5pbmRleE9mKGEuc3RhdHVzKTowIT09YS5zdGF0dXM7aWYodGhpcy5hLmdldEJvb2woImFsbG93X2luZmluaXRlX3JldHJ5X29uX25ldF9lcnIiLCEwKSYmIm5ldCI9PT1hLnR5cGUmJiFkKXN3aXRjaChhLnN0YXR1cyl7Y2FzZSA0MTA6dGhpcy5oYz0hMDt0aGlzLmomJihjbGVhclRpbWVvdXQodGhpcy5qKSx0aGlzLmo9bnVsbCk7dGhpcy5lYigpO2JyZWFrO2Nhc2UgMjAwOmNhc2UgNDE3OmEucmVzcG9uc2VIZWFkZXJzJiZudWxsIT1hLnJlc3BvbnNlSGVhZGVyc1sieC1mYi12aWRlby1yZXBsaWNhIl0/dGhpcy5kaXNwYXRjaEV2ZW50KHkoe3R5cGU6InJlcGxpY2Fzd2l0Y2giLGJ1YmJsZXM6ITAscmVwbGljYTphLnJlc3BvbnNlSGVhZGVyc1sieC1mYi12aWRlby1yZXBsaWNhIl0sdXJsOmEudXJsLHN0YXR1czphLnN0YXR1c30pKToKZD0hMDticmVhaztkZWZhdWx0OlBmKHRoaXMpfTA9PT1hLnN0YXR1cz90aGlzLkcuaW5mb3JtTmV0d29ya0ludGVycnVwdGVkKCk6dGhpcy5HLmluZm9ybU5ldHdvcmtSZXN1bWVkKCk7aWYoImRlbGF5Ij09YS50eXBlKXJldHVybiBQZih0aGlzKTt0aGlzLmEuZ2V0Qm9vbCgiYWxsb3dfaW5maW5pdGVfcmV0cnlfb25fbmV0X2VyciIsITApJiYhZHx8ImFib3J0ZWQiPT1hLnR5cGV8fChhPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGEpLHRoaXMuYiYmUGYodGhpcykpfX0pKX19O24ueWM9ZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZWplY3QoIkNhbm5vdCB1cGRhdGUgbWFuaWZlc3Qgd2l0aCB0aGlzIFZpZGVvU291cmNlIGltcGxlbWVudGF0aW9uLiIpfTtuLnhjPWZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVqZWN0KCJDYW5ub3QgdXBkYXRlIG1hbmlmZXN0IHdpdGggdGhpcyBWaWRlb1NvdXJjZSBpbXBsZW1lbnRhdGlvbi4iKX07CmZ1bmN0aW9uIE5mKGEsYil7aWYoYiYmYS5iJiZhLmIuYilpZihhLmEuZ2V0Qm9vbCgic2Vla19vdmVyX3VuYXZhaWxhYmxlX3NlZ21lbnRzX29uX21hbmlmZXN0X3VwZGF0ZSIsITEpJiZhLmVhKWIuZW5kPmEudmlkZW8uY3VycmVudFRpbWUrMTAmJihhLmVhPSExLGEudmlkZW8uY3VycmVudFRpbWU9Yi5lbmQsUWYoYSkpO2Vsc2UgaWYoYS52aWRlby5wYXVzZWQmJmIuZW5kPmEudmlkZW8uY3VycmVudFRpbWUrMTApaWYoYS5hLmdldEJvb2woImVuYWJsZV9sYXp5X2xpdmVoZWFkX2NhdGNodXAiLCExKSl7dmFyIGM9YS54YTtjPGEuSWQmJihhLnhhPSsrYyk7UmYoYSxjKTthLmNhPWIuZW5kfWVsc2UgYS5lYT0hMSxhLnZpZGVvLmN1cnJlbnRUaW1lPWIuZW5kLFFmKGEpfQpmdW5jdGlvbiBLZihhLGIpe2lmKG51bGw9PWEuYi5jKUJhbnphaU9EUy5idW1wRW50aXR5S2V5KDI5NjYsInZpZGVvcy53d3cubGl2ZSIsInVwZGF0ZV9wZXJpb2RfaXNfbnVsbCIpO2Vsc2UgaWYoIWEuRmEpe2lmKGEuYS5nZXRCb29sKCJkZWNvdXBsZV9tcGRfdXBkYXRlX2xvb3BfZnJvbV9yZXF1ZXN0X2xvb3AiLCExKSYmKGEudSYmKGNsZWFyVGltZW91dChhLnUpLGEudT1udWxsKSxzZihhKSkpcmV0dXJuO3ZhciBjPU1hdGgubWF4KGEuYi5jLGEuS2IpLGM9TWF0aC5tYXgoYy1iLDApLGQ9YS5KYi5iaW5kKGEsITEpOyFjJiZhLmcudXNlTWljcm9UYXNrVGltZW91dHM/UHJvbWlzZS5yZXNvbHZlKCkudGhlbihkKTooYS5WJiZhLlYuc2V0UmVzdWx0KCJmYWlsZWQiKS5sb2coKSxhLmwmJihhLlY9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigic2NoZWR1bGVfbWFuaWZlc3RfdXBkYXRlIikuc3RhcnQoKS5zZXRVcGRhdGVQZXJpb2QoTWF0aC5jZWlsKDFFMypjKSkpLGEudT1zZXRUaW1lb3V0KGQsCjFFMypjKSl9fWZ1bmN0aW9uIE9mKGEsYil7dmFyIGM9TWQoYiksZD1hLmNbY107aWYoZCYmZC5XYSgpPT1iKXt2YXIgZT1hLmYuZ2V0KE1kKGIpKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEudn0pLnJlZHVjZShmdW5jdGlvbihhLGIpe3JldHVybiBhLmNvbmNhdChiKX0sW10pLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gYS5vYSYmYS5mYX0pO2lmKDA9PWUubGVuZ3RoKXtjPUVycm9yKCJBbGwgdXNhYmxlIHN0cmVhbXMgaGF2ZSBiZWVuIHJlbW92ZWQgZnJvbSB0aGUgbWFuaWZlc3QuIik7Yy50eXBlPSJhcHAiO2M9QShjKTthLmRpc3BhdGNoRXZlbnQoYyk7cmV0dXJufWEuQltjXS5MYz09YiYmZGVsZXRlIGEuQltjXTtkLmpiKGVbMF0sITApO2IuZGVzdHJveSgpfWIuZGVzdHJveSgpfW4uQ2Q9ZnVuY3Rpb24oYSl7dGhpcy5wYz1hfTtZLnByb3RvdHlwZS5zZXRUYWdnZWRUaW1lUmFuZ2VzPVkucHJvdG90eXBlLkNkOwpZLnByb3RvdHlwZS53ZD1mdW5jdGlvbigpe3JldHVybiAwPT09T2JqZWN0LmtleXModGhpcy5jKS5sZW5ndGg/ITE6WyJhdWRpbyIsInZpZGVvIl0uZXZlcnkoSih0aGlzLGZ1bmN0aW9uKGEpe3JldHVybiF0aGlzLmNbYV18fHRoaXMuY1thXS5UfSkpfTtZLnByb3RvdHlwZS5oYXNIaXRCdWZmZXJpbmdHb2FsPVkucHJvdG90eXBlLndkOwpZLnByb3RvdHlwZS5aPWZ1bmN0aW9uKGEpe2lmKCF0aGlzLmZ8fCF0aGlzLmYuYS5oYXNPd25Qcm9wZXJ0eSgidmlkZW8iKSlyZXR1cm5bXTthPWEmJmEudXNlTG9jYWxCaXRyYXRlfHwhMTt2YXIgYj10aGlzLmMudmlkZW8sYz1iP2IuV2EoKTpudWxsLGQ9Yz9jLlg6MCxlPTEsZj1udWxsO3RoaXMuYS5nZXRCb29sKCJ1c2VfbGl2ZV9iaXRyYXRlX2VzdGltYXRlcyIsITEpJiZ0aGlzLlAoKSYmbnVsbCE9YiYmKGY9Yi5sYSgpLG51bGwhPWMmJjA8Yy5iYW5kd2lkdGgmJihlPWYvYy5iYW5kd2lkdGgpKTtmb3IodmFyIGM9W10sZz10aGlzLmYuZ2V0KCJ2aWRlbyIpLGg9MDtoPGcubGVuZ3RoOysraClmb3IodmFyIGs9Z1toXSxsPTA7bDxrLnYubGVuZ3RoOysrbCl7dmFyIG09ay52W2xdO2lmKG0ub2EmJm0uZmEpe3ZhciBwPW51bGw7aWYoYSYmbnVsbCE9PW0uTSl7dmFyIHQ9bS5NLmMoKSx3PWI7aWYodGhpcy5QKCl8fG51bGw9PT10fHxudWxsPT09dylwPW51bGw7ZWxzZXt2YXIgcD0KcGUodyx0aGlzLnZpZGVvLmN1cnJlbnRUaW1lLHQpLHo9dC5nZXRTZWdtZW50cygpO3RoaXMuYS5nZXRCb29sKCJzdGFydF9sb2NhbF9iaXRyYXRlX2F0X2J1ZmZlcl9lbmQiLCExKSYmKHc9TG9jYWxCaXRyYXRlSGVscGVyLmdldEJ1ZmZlckVuZFNlZ21lbnRJbmRleCh6LHAsdGhpcy52aWRlby5jdXJyZW50VGltZSthZSh3LHRoaXMudmlkZW8uY3VycmVudFRpbWUpKSxudWxsIT09dyYmKHA9dykpO3A9TG9jYWxCaXRyYXRlSGVscGVyLmdldExvY2FsQml0cmF0ZSh0LmdldFNlZ21lbnRzKCkscCx0aGlzLmEuZ2V0TnVtYmVyKCJsb2NhbF9iaXRyYXRlX3NlZ21lbnRzX2FoZWFkIiwxMCkpfXRoaXMuYS5nZXRCb29sKCJ1c2VfbWF4X2xvY2FsX2JpdHJhdGUiLCExKSYmKHA9TWF0aC5tYXgocCxtLmJhbmR3aWR0aCkpfXQ9bS5YO3A9cHx8bS5iYW5kd2lkdGg7dGhpcy5hLmdldEJvb2woInVzZV9saXZlX2JpdHJhdGVfZXN0aW1hdGVzIiwhMSkmJm51bGwhPWYmJih0PT09ZD9wPU1hdGgubWF4KHAsCmYpOjE8ZSYmKHA9cCplKSxwPU1hdGgucm91bmQocCkpO209bmV3IHVhKHQscCxtLndpZHRoLG0uaGVpZ2h0LG0uaWQsbS5mYlF1YWxpdHlMYWJlbCxtLmZiUXVhbGl0eUNsYXNzLG0uZixtLmZyYW1lUmF0ZSxtLm1pbWVUeXBlLG0uY29kZWNzLG0uZyxtLmgpO3Q9PWQmJihtLmFjdGl2ZT0hMCk7Yy5wdXNoKG0pfX1yZXR1cm4gY307WS5wcm90b3R5cGUuZ2V0VmlkZW9UcmFja3M9WS5wcm90b3R5cGUuWjtZLnByb3RvdHlwZS5SYz1mdW5jdGlvbigpe2lmKHRoaXMuZ2EpcmV0dXJuIHRoaXMuZ2E7aWYoIXRoaXMuYilyZXR1cm4gbnVsbDtmb3IodmFyIGE9MDthPHRoaXMuYi5hLmxlbmd0aDsrK2EpZm9yKHZhciBiPXRoaXMuYi5hW2FdLGM9MDtjPGIuYS5sZW5ndGg7KytjKWlmKHRoaXMuZ2E9Yi5hW2NdLmMpcmV0dXJuIHRoaXMuZ2E7cmV0dXJuIG51bGx9O1kucHJvdG90eXBlLmdldFZpZGVvUHJvamVjdGlvbj1ZLnByb3RvdHlwZS5SYztZLnByb3RvdHlwZS5PYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmtifTsKWS5wcm90b3R5cGUuZ2V0TG9jYWxFc3RpbWF0b3I9WS5wcm90b3R5cGUuT2M7ZnVuY3Rpb24gU2YoYSl7YT1hLlooKTtmb3IodmFyIGI9MDtiPGEubGVuZ3RoO2IrKylpZihhW2JdLmFjdGl2ZSlyZXR1cm4gYVtiXX1ZLnByb3RvdHlwZS52YT1mdW5jdGlvbigpe2lmKCF0aGlzLmZ8fCF0aGlzLmYuYS5oYXNPd25Qcm9wZXJ0eSgiYXVkaW8iKSlyZXR1cm5bXTtmb3IodmFyIGE9dGhpcy5jLmF1ZGlvLGE9KGE9YT9hLldhKCk6bnVsbCk/YS5YOjAsYj1bXSxjPXRoaXMuZi5nZXQoImF1ZGlvIiksZD0wO2Q8Yy5sZW5ndGg7KytkKWZvcih2YXIgZT1jW2RdLGY9ZS5sYW5nLGc9MDtnPGUudi5sZW5ndGg7KytnKXt2YXIgaD1lLnZbZ107aWYoaC5vYSYmaC5mYSl7dmFyIGs9aC5YLGg9bmV3IGZhKGssaC5iYW5kd2lkdGgsZixoLmlkLGgubWltZVR5cGUsaC5jb2RlY3MsdGhpcy5iLnUsaC5jKTtrPT1hJiYoaC5hY3RpdmU9ITApO2IucHVzaChoKX19cmV0dXJuIGJ9OwpZLnByb3RvdHlwZS5nZXRBdWRpb1RyYWNrcz1ZLnByb3RvdHlwZS52YTtZLnByb3RvdHlwZS5tYz1mdW5jdGlvbigpe2lmKCF0aGlzLmZ8fCF0aGlzLmYuYS5oYXNPd25Qcm9wZXJ0eSgidGV4dCIpKXJldHVybltdO2Zvcih2YXIgYT10aGlzLmMudGV4dCxiPWE/YS5XYSgpOm51bGwsYj1iP2IuWDowLGM9W10sZD10aGlzLmYuZ2V0KCJ0ZXh0IiksZT0wO2U8ZC5sZW5ndGg7KytlKWZvcih2YXIgZj1kW2VdLGc9Zi5sYW5nLGg9MDtoPGYudi5sZW5ndGg7KytoKXt2YXIgaz1mLnZbaF0uWCxsPW5ldyB0YShrLGcpO2s9PWImJihsLmFjdGl2ZT0hMCxsLmVuYWJsZWQ9YS5EYigpKTtjLnB1c2gobCl9cmV0dXJuIGN9O1kucHJvdG90eXBlLmdldFRleHRUcmFja3M9WS5wcm90b3R5cGUubWM7WS5wcm90b3R5cGUuYWM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iJiZ0aGlzLmIubSYmMDx0aGlzLmIubT8hMDohMX07WS5wcm90b3R5cGUuaXNVc2luZ0FTUkNhcHRpb25zPVkucHJvdG90eXBlLmFjOwpZLnByb3RvdHlwZS5iYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmImJnRoaXMuYi5vJiYwPHRoaXMuYi5vJiZna3goIjExNzYyNTEiKT8hMDohMX07WS5wcm90b3R5cGUuaXNVc2luZ0FTUkNhcHRpb25zRW1wbG95ZWVEb2dmb29kaW5nPVkucHJvdG90eXBlLmJjO2Z1bmN0aW9uIHJmKGEpe3ZhciBiPU51bWJlcihhLmcuaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemUpO2EuZy5maXhCdWZmZXJpbmdHb2FsRGV0ZXJtaW5hdGlvbiYmKGI9MSk7aWYoYS5hLmdldEJvb2woImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvdyIsITEpKWI9YS5LO2Vsc2V7dmFyIGM9YS5hLmdldE51bWJlcigiYnVmZmVyaW5nX292ZXJmbG93X3RocmVzaG9sZCIsMCk7MDxjJiYoYj1jKX1yZXR1cm4gYS4kYj9OdW1iZXIoYS5nLnN0cmVhbUJ1ZmZlclNpemUpOmJ9CmZ1bmN0aW9uIE5lKGEpe2lmKGEuTyl7YT1hLmIuYVswXTtmb3IodmFyIGI9W10sYz0wO2M8YS5hLmxlbmd0aDsrK2MpYi5wdXNoLmFwcGx5KGIsUWQoYS5hW2NdKSk7YT1ifWVsc2UgYT1bXTtyZXR1cm4gYX0KZnVuY3Rpb24gUGUoYSxiKXtpZihhLk8pe2Zvcih2YXIgYz17fSxkPWEuYi5hWzBdLGU9MDtlPGQuYS5sZW5ndGg7KytlKXt2YXIgZj1kLmFbZV07Y1tmLlhdPWZ9YS5mLmE9e307ZD1hYihiKTtmb3IoZT0wO2U8ZC5sZW5ndGg7KytlKXt2YXIgZj1kW2VdLGc9Yi5nZXQoZik7aWYoInZpZGVvIj09Zil7dmFyIGg9Z1swXS5pZDthLmYucHVzaChmLGNbaF0pfWVsc2UgaWYoImF1ZGlvIj09Zil7aWYoMDxnLmxlbmd0aClmb3IodmFyIGg9Z1swXS5iLnNwbGl0KCI7IilbMF0saz0wO2s8Zy5sZW5ndGg7KytrKXt2YXIgbD1nW2tdO2wuYi5zcGxpdCgiOyIpWzBdPT1oJiZhLmYucHVzaChmLGNbbC5pZF0pfX1lbHNlIGZvcihrPTA7azxnLmxlbmd0aDsrK2spaD1nW2tdLmlkLGEuZi5wdXNoKGYsY1toXSl9YS55YT0hMDtpZihjPWEuZi5nZXQoImF1ZGlvIikpVGYoYSxjKSxhLmYuc2V0KCJhdWRpbyIsYyksYz1jWzBdLmxhbmd8fGEuUyxSYSgyLGEuUyxjKSYmKGEueWE9ITEpO2lmKGM9YS5mLmdldCgidGV4dCIpKVRmKGEsCmMpLGEuZi5zZXQoInRleHQiLGMpLGM9Y1swXS5sYW5nfHxhLlMsUmEoMixhLlMsYyl8fChhLnlhPSExKX19WS5wcm90b3R5cGUuWGM9ZnVuY3Rpb24oKXt0aGlzLkVhPSEwfTtZLnByb3RvdHlwZS5zZXRDbGVhckJ1ZmZlckFmdGVyU2Vla2luZz1ZLnByb3RvdHlwZS5YYztZLnByb3RvdHlwZS5zZWxlY3RWaWRlb1RyYWNrPWZ1bmN0aW9uKGEsYixjLGQsZSl7cmV0dXJuIG1mKHRoaXMsInZpZGVvIixhLGIsYyxkLGUpfTtZLnByb3RvdHlwZS5yZXN1bWVWaWRlb0ZldGNoaW5nPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5jLnZpZGVvP3RoaXMuYy52aWRlby5GOm51bGw7YSYmYS5yZXN1bWVWaWRlb0ZldGNoaW5nKCl9O1kucHJvdG90eXBlLnJlc3VtZVZpZGVvRmV0Y2hpbmc9WS5wcm90b3R5cGUucmVzdW1lVmlkZW9GZXRjaGluZztZLnByb3RvdHlwZS5IZD1mdW5jdGlvbigpe3ZhciBhPXRoaXMuYy52aWRlbz90aGlzLmMudmlkZW8uRjpudWxsO2EmJmEuc3RvcFVudGlsU2VnbWVudHNVcGRhdGUoKX07ClkucHJvdG90eXBlLnN0b3BVbnRpbFZpZGVvU3RyZWFtU3dpdGNoPVkucHJvdG90eXBlLkhkO2Z1bmN0aW9uIG5mKGEsYil7dmFyIGM9YS5jLnRleHQ7YyYmYy52YihiKX0KZnVuY3Rpb24gRWYoYSl7aWYoYS5tKXtmb3IodmFyIGI9ITEsYz0wO2M8YS5iLmEubGVuZ3RoOysrYylmb3IodmFyIGQ9YS5iLmFbY10sZT0wO2U8ZC5hLmxlbmd0aDsrK2Upe3ZhciBmPWQuYVtlXTtpZigidmlkZW8iPT1mLmNvbnRlbnRUeXBlKWZvcih2YXIgZz0wO2c8Zi52Lmxlbmd0aDsrK2cpe3ZhciBoPWYudltnXSxrPWguZmE7aC5mYT0hMDthLm0ubWF4V2lkdGgmJmgud2lkdGg+YS5tLm1heFdpZHRoJiYoaC5mYT0hMSk7YS5tLm1heEhlaWdodCYmaC5oZWlnaHQ+YS5tLm1heEhlaWdodCYmKGguZmE9ITEpO2EubS5taW5IZWlnaHQmJmguaGVpZ2h0PGEubS5taW5IZWlnaHQmJihoLmZhPSExKTthLm0ubWF4QmFuZHdpZHRoJiZoLmJhbmR3aWR0aD5hLm0ubWF4QmFuZHdpZHRoJiYoaC5mYT0hMSk7YS5tLm1pbkJhbmR3aWR0aCYmaC5iYW5kd2lkdGg8YS5tLm1pbkJhbmR3aWR0aCYmKGguZmE9ITEpO2shPWguZmEmJihiPSEwKX19MCE9JGEoYS5mKS5sZW5ndGgmJmImJihVZihhKSwKMDxhLlooKS5sZW5ndGh8fChiPUVycm9yKCJUaGUgYXBwbGljYXRpb24gaGFzIHJlc3RyaWN0ZWQgYWxsIHZpZGVvIHRyYWNrcyEiKSxiLnR5cGU9ImFwcCIsYj1BKGIpLGEuZGlzcGF0Y2hFdmVudChiKSkpfX1ZLnByb3RvdHlwZS5QPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYj90aGlzLmIuYjpudWxsfTtZLnByb3RvdHlwZS5pc0xpdmU9WS5wcm90b3R5cGUuUDtZLnByb3RvdHlwZS5ZYz1mdW5jdGlvbihhKXt0aGlzLiRiPWF9O1kucHJvdG90eXBlLnNldElzTGl2ZUludGVycnVwdGVkPVkucHJvdG90eXBlLlljO1kucHJvdG90eXBlLnZkPWZ1bmN0aW9uKCl7Zm9yKHZhciBhIGluIHRoaXMuYyl0aGlzLmNbYV0uSGMoKX07WS5wcm90b3R5cGUuZm9yY2VSZXN5bmNWaWRlb0J1ZmZlcj1ZLnByb3RvdHlwZS52ZDsKZnVuY3Rpb24gV2UoYSxiKXtmb3IodmFyIGMsZD0hMSxlPW5ldyBELGY9JGEoYS5mKSxnPTA7ZzxmLmxlbmd0aDsrK2cpZm9yKHZhciBoPWZbZ10saz0wO2s8aC52Lmxlbmd0aDsrK2spe3ZhciBsPWgudltrXTtsLmIuZm9yRWFjaChmdW5jdGlvbihhKXtlLnB1c2goYSxsKX0pfWZvcihjIGluIGIpaWYoZj1QYVtiW2NdXXx8bnVsbCxoPWUuZ2V0KGMpKWZvcihnPTA7ZzxoLmxlbmd0aDsrK2cpbD1oW2ddLGs9bC5vYSxsLm9hPSFmLGshPWwub2EmJihkPSEwKTtlbHNlIGliKGMpO2QmJihVZihhKSxkPWEudmEoKSxjPWEuWigpLGQ9YS5mLmEuaGFzT3duUHJvcGVydHkoImF1ZGlvIikmJjA9PWQubGVuZ3RoLGM9YS5mLmEuaGFzT3duUHJvcGVydHkoInZpZGVvIikmJjA9PWMubGVuZ3RoLGR8fGMpJiYoYz1FcnJvcigiVGhlIGtleSBzeXN0ZW0gaGFzIHJlc3RyaWN0ZWQgYWxsICIrKGQmJmM/ImF1ZGlvIGFuZCB2aWRlbyB0cmFja3MuIjpkPyJhdWRpbyB0cmFja3MuIjoidmlkZW8gdHJhY2tzLiIpKSwKYy50eXBlPSJkcm0iLGM9QShjKSxhLmRpc3BhdGNoRXZlbnQoYykpfWZ1bmN0aW9uIFVmKGEpe3ZhciBiPXkoe3R5cGU6InRyYWNrc2NoYW5nZWQiLGJ1YmJsZXM6ITB9KTthLmRpc3BhdGNoRXZlbnQoYil9ZnVuY3Rpb24gbWYoYSxiLGMsZCxlLGYsZyl7Zz0hIWc7aWYoIWEuZi5hLmhhc093blByb3BlcnR5KGIpfHwhYS5jW2JdKXJldHVybiExO2Zvcih2YXIgaD1hLmYuZ2V0KGIpLGs9MDtrPGgubGVuZ3RoOysraylmb3IodmFyIGw9aFtrXSxtPTA7bTxsLnYubGVuZ3RoOysrbSl7dmFyIHA9bC52W21dO2lmKHAuWD09Yyl7aWYoIXAub2F8fCFwLmZhKXJldHVybiExO2lmKCJ0ZXh0IiE9YiYmIWEuQ2EpcmV0dXJuIGM9YS5CW2JdLGEuQltiXT17TGM6cCxyYzpudWxsIT1jJiZjLnJjfHxkLHNjOm51bGwhPWMmJmMuc2N8fGUsc3dpdGNoUmVhc29uOmYsS2E6Z30sITA7YS5jW2JdLmpiKHAsZCxlLGYsZyk7cmV0dXJuITB9fXJldHVybiExfQpmdW5jdGlvbiBUZihhLGIpe2Zvcih2YXIgYz0wOzI+PWM7KytjKWZvcih2YXIgZD0wO2Q8Yi5sZW5ndGg7KytkKXt2YXIgZT1iW2RdO2lmKFJhKGMsYS5TLGUubGFuZykpe2Iuc3BsaWNlKGQsMSk7Yi5zcGxpY2UoMCwwLGUpO3JldHVybn19Zm9yKGQ9MDtkPGIubGVuZ3RoOysrZClpZihlPWJbZF0sZS5mKXtiLnNwbGljZShkLDEpO2Iuc3BsaWNlKDAsMCxlKTticmVha319bj1ZLnByb3RvdHlwZTtuLmhkPWZ1bmN0aW9uKCl7dGhpcy5oLmFiKHRoaXMuaSwic291cmNlb3BlbiIpO3RoaXMuSWIucmVzb2x2ZSgpfTsKZnVuY3Rpb24gRmYoYSl7dmFyIGI7YS5sJiYoYj1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJzdGFydF9zdHJlYW1zIikuc3RhcnQoKSk7Zm9yKHZhciBjPVtdLGQ9WyJhdWRpbyIsInZpZGVvIiwidGV4dCJdLGU9MDtlPGQubGVuZ3RoOysrZSl7dmFyIGY9ZFtlXTthLmYuYS5oYXNPd25Qcm9wZXJ0eShmKSYmYy5wdXNoKGEuZi5nZXQoZilbMF0pfWZvcih2YXIgZz1WZihhLGMpLGU9MDtlPGQubGVuZ3RoOysrZSlpZihmPWRbZV0sYS5mLmEuaGFzT3duUHJvcGVydHkoZikmJiFnW2ZdKXJldHVybiBhPUVycm9yKCJVbmFibGUgdG8gc2VsZWN0IGFuIGluaXRpYWwgIitmKyIgc3RyZWFtOiBhbGwgIitmKyIgc3RyZWFtcyBoYXZlIGJlZW4gcmVzdHJpY3RlZCAoYnkgdGhlIGFwcGxpY2F0aW9uIG9yIGJ5IHRoZSBrZXkgc3lzdGVtKS4iKSxhLnR5cGU9InN0cmVhbSIsYiYmYi5zZXRFcnJvcihhKS5sb2coKSxQcm9taXNlLnJlamVjdChhKTtjPVdhKGcpLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS5NLmNyZWF0ZSgpfSk7CmMucHVzaChhLkliKTtyZXR1cm4gUHJvbWlzZS5hbGwoYykudGhlbihKKGEsZnVuY3Rpb24oYSl7YS5wb3AoKTtpZighYS5ldmVyeShmdW5jdGlvbihhKXtyZXR1cm4gYS5sZW5ndGgoKX0pKXJldHVybiBhPUVycm9yKCJTb21lIHN0cmVhbXMgYXJlIG5vdCBhdmFpbGFibGUuIiksYS50eXBlPSJzdHJlYW0iLFByb21pc2UucmVqZWN0KGEpO2E9TWYodGhpcyxhKTtpZighYSlyZXR1cm4gYT1FcnJvcigiU29tZSBzdHJlYW1zIGFyZSBub3QgYXZhaWxhYmxlLiIpLGEudHlwZT0ic3RyZWFtIixQcm9taXNlLnJlamVjdChhKTtpZighV2YodGhpcyxnKSlyZXR1cm4gYT1FcnJvcigiRmFpbGVkIHRvIGNyZWF0ZSBTdHJlYW0gb2JqZWN0cy4iKSxhLnR5cGU9InN0cmVhbSIsUHJvbWlzZS5yZWplY3QoYSk7dGhpcy5BLnN0YXJ0KCk7WGYodGhpcyxnLGEpO3JldHVybiBQcm9taXNlLnJlc29sdmUoKX0pKS50aGVuKGZ1bmN0aW9uKCl7YiYmYi5sb2coKX0pLmNhdGNoKEooYSxmdW5jdGlvbihhKXtpZigiYWJvcnRlZCI9PQphLnR5cGUpYiYmYi5zZXRFcnJvcihhKS5sb2coKTtlbHNle09iamVjdC5rZXlzKHRoaXMuYyk7aWYodGhpcy5iLmIpcmV0dXJuIHlhKCk8dGhpcy5iLmo/KGE9TWF0aC5tYXgodGhpcy5iLmotRGF0ZS5ub3coKS8xRTMsdGhpcy5LYiksdGhpcy51PXNldFRpbWVvdXQodGhpcy5KYi5iaW5kKHRoaXMsITApLDFFMyphKSk6S2YodGhpcywwKSxiJiZiLmxvZygpLFByb21pc2UucmVzb2x2ZSgpO2ImJmIuc2V0RXJyb3IoYSkubG9nKCk7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfX0pKX0KZnVuY3Rpb24gVmYoYSxiKXtmb3IodmFyIGM9e30sZD0wO2Q8Yi5sZW5ndGg7KytkKXt2YXIgZT1iW2RdLGY9bnVsbDtpZigidmlkZW8iPT1lLmNvbnRlbnRUeXBlKXt2YXIgZz1hLkEuZ2V0SW5pdGlhbFZpZGVvVHJhY2tJZCgpO2lmKG51bGw9PWcpY29udGludWU7Zj1lLnYuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiBhLlg9PWd9KTtpZigwPT1mLmxlbmd0aCljb250aW51ZTtmPWZbMF19ZWxzZSBpZigiYXVkaW8iPT1lLmNvbnRlbnRUeXBlKWlmKGc9YS5BLmdldEluaXRpYWxBdWRpb1RyYWNrSWQoKSxmPWUudi5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIGEuWD09Z30pLDA9PWYubGVuZ3RoKXtmPWUudi5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIGEub2EmJmEuZmF9KTtpZigwPT1mLmxlbmd0aCljb250aW51ZTtmPWUudltNYXRoLmZsb29yKGYubGVuZ3RoLzIpXX1lbHNlIGY9ZlswXTtlbHNlIDA8ZS52Lmxlbmd0aCYmKGY9ZS52WzBdKTtjW2UuY29udGVudFR5cGVdPWZ9cmV0dXJuIGN9CmZ1bmN0aW9uIFdmKGEsYil7dmFyIGM9e30sZDtmb3IoZCBpbiBiKXt2YXIgZT1iW2RdLGU9InRleHQiPT1kP25ldyB0ZShhLGEudmlkZW8pOllmKGEsZSk7aWYoIWUpcmV0dXJuIFdhKGMpLmZvckVhY2goZnVuY3Rpb24oYSl7YS5kZXN0cm95KCl9KSwhMTtjW2RdPWV9YS5QYihhLm5jKTthLmM9YztyZXR1cm4hMH0KZnVuY3Rpb24gWWYoYSxiKXt2YXIgYz1OZChiKSxkPVpmKGMuc3BsaXQoIjsiKVswXSksZT1udWxsLGY9YS5hLmdldEJvb2woInVzZV9sb2NhbF9lc3RpbWF0b3JfZm9yX2Ficl9zYW1wbGluZyIsITApP2Eua2I6YS53YSxnPW51bGwsaD1udWxsLGs9YS5iLmZ8fGEuYi5BLGs9YS5hLmdldEJvb2woInNraXBfc2VnbWVudF9yZXF1ZXN0X21hbmFnZXIiLCExKSYmazthLldiJiZjYW5Vc2VGZXRjaFN0cmVhbSgpPyhoPW5ldyBNdWx0aXBsZVNlZ21lbnRzUHJvdmlkZXIoYS5hLmdldE51bWJlcigic3RyZWFtaW5nX3NlZ21lbnRfc2l6ZSIsNCkpLGc9JGYoYSxoLGQsZikpOmEuVmImJiFrJiYoZT1hZyhhLGQsZikpO3ZhciBrPW51bGwsbD1hLmYuZ2V0KGQpOyJ2aWRlbyI9PT1kJiYwPGwubGVuZ3RoJiYoaz1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz1udWxsLGQ9bnVsbCxlPTA7ZTxsWzBdLnYubGVuZ3RoO2UrKylsWzBdLnZbZV0uaWQ9PT1hP2M9bFswXS52W2VdOmxbMF0udltlXS5pZD09PQpiJiYoZD1sWzBdLnZbZV0pO3JldHVybiBudWxsPT09Y3x8bnVsbD09PWQ/MDpjLmJhbmR3aWR0aD5kLmJhbmR3aWR0aD8xOi0xfSk7Yz1uZXcgVShhLGEudmlkZW8sYS5hLGEuaSxjLGYsYS5wYyxhLmRhLGssYS5HLGUsZyxoLGEuaWEpO2MucGEoYS5nKTtyZXR1cm4gY30KZnVuY3Rpb24gJGYoYSxiLGMsZCl7dmFyIGU9YS53W2NdLGY9ImF1ZGlvIiE9PWN8fGEuYS5nZXRCb29sKCJlbmFibGVfYXVkaW9fc3RyZWFtaW5nIiwhMSk7aWYoIWUmJmYpe3ZhciBlPW5ldyBWaWRlb1N0cmVhbWluZ01hbmFnZXIoYS5hLGIsYyxhLmwsYS5VKSxnPSJ2aWRlbyI9PT1jO2cmJmUuYWRkTGlzdGVuZXIoImJhbmR3aWR0aFVwZGF0ZSIsZnVuY3Rpb24oYSl7ZC5zYW1wbGUoYS50aW1lVGFrZW4sYS5ieXRlc1JlYWQsZyx7dGltZVRvTGFzdEJ5dGU6YS50aW1lVGFrZW59LHRoaXMuQWIsdGhpcy5sLCF0aGlzLmEuZ2V0Qm9vbCgiZXZhbHVhdGVfYWJyX29uX3N0cmVhbV9iYW5kd2lkdGhfc2FtcGxlIiwhMCkpfS5iaW5kKGEpKX1lJiYoYS53W2NdPWUpO3JldHVybiBlfHxudWxsfQpmdW5jdGlvbiBhZyhhLGIsYyl7aWYoInZpZGVvIj09PWJ8fCJhdWRpbyI9PT1iJiZhLmEuZ2V0Qm9vbCgiZW5hYmxlX3JlcXVlc3RfcGlwZWxpbmluZ19mb3Jfdm9kX2F1ZGlvcyIsITEpKXt2YXIgZD1hLm9bYl07ZHx8KGQ9bmV3IFNlZ21lbnRSZXF1ZXN0TWFuYWdlcihhLmEsYixhLlAoKT9WaWRlb1ByaW9yaXR5Q2FsY3VsYXRvci5jYWxjdWxhdGVMaXZlOlZpZGVvUHJpb3JpdHlDYWxjdWxhdG9yLmNhbGN1bGF0ZSxhLmwsYyxhLkFiLGEuZGEsYS5pYSksYS5SJiZkLnVwZGF0ZVByaW9yaXR5V2l0aE5ld0FkanVzdG1lbnQoYS5SLmdldFByaW9yaXR5QWRqdXN0bWVudCgpKSxhLm9bYl09ZCk7cmV0dXJuIGR9cmV0dXJuIG51bGx9ZnVuY3Rpb24gYmcoYSxiKXthLnZpZGVvLmN1cnJlbnRUaW1lPWI7YS5hLmdldEJvb2woInNldF9wZW5kaW5nX3NlZWtfb25fc2V0X2N1cnJlbnRfdGltZV9mYWlsdXJlIiwhMSkmJmEudmlkZW8uY3VycmVudFRpbWUrMTxiJiZjZyhhLGIpO2EuRD1ifQpmdW5jdGlvbiBYZihhLGIsYyl7YS5rYz1hLnZpZGVvLnBsYXliYWNrUmF0ZTthLnZpZGVvLnBsYXliYWNrUmF0ZT0wO2RnKGEsYyk7dmFyIGQ7ZD1hLmIuZjsoIWEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9hZGp1c3Rfc3RyZWFtX2xpbWl0c19zdGFydF9vZmZzZXRfaW50IiwwKSYmIWEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9qdW1wX3RvX2xpdmVfc2lkeF9lbmRfb2Zmc2V0IiwwKXx8IWQpJiZhLmxhJiZhLmxhPD1jLmVuZCYmYS5sYT49Yy5zdGFydD9kPWEubGE6YS5iLmI/KGQ9ZWcoYSxjKSxhLmVjPSEwKTpkPWMuc3RhcnQ7RShhLmgsYS52aWRlbywic2Vla2luZyIsYS5tZC5iaW5kKGEpKTthLkk/KGEuSS5zZXRPblBsYXlpbmcoYS5tYi5iaW5kKGEsITApKSxhLkkuc2V0T25QYXVzZWQoYS5tYi5iaW5kKGEsITEpKSxhLkkuZW5hYmxlKCkpOihFKGEuaCxhLnZpZGVvLCJwbGF5aW5nIixhLm1iLmJpbmQoYSwhMCkpLGEuYS5nZXRCb29sKCJ1cGRhdGVfcHJpb3JpdHlfb25fcGxheV9ldmVudCIsCiEwKSYmRShhLmgsYS52aWRlbywicGxheSIsYS5tYi5iaW5kKGEsITApKSxFKGEuaCxhLnZpZGVvLCJwYXVzZSIsYS5tYi5iaW5kKGEsITEpKSk7RShhLmgsYS52aWRlbywic2Vla2luZyIsYS5NYy5iaW5kKGEpKTtFKGEuaCxhLnZpZGVvLCJ0aW1ldXBkYXRlIix0aHJvdHRsZShhLk1jLmJpbmQoYSksYS5hLmdldE51bWJlcigic2NoZWR1bGVyX3ByaW9yaXR5X3VwZGF0ZV9pbnRlcnZhbCIsMUUzKSkpO2lmKGEudmlkZW8uY3VycmVudFRpbWUhPWQpaWYoYS5TYikwIT09YS52aWRlby5yZWFkeVN0YXRlP2JnKGEsZCk6Y2coYSxkKTtlbHNlIHRyeXtiZyhhLGQpfWNhdGNoKGUpe2NnKGEsZCl9ZmcoYSxjLnN0YXJ0LGMuZW5kLGMubGFzdCxjLlphKTt2YXIgZj1bXSxnO2ZvcihnIGluIGEuYyl7Yz1hLmNbZ107SihhLGZ1bmN0aW9uKGEpe2YucHVzaChhLktjKHRoaXMuc2EpLnRoZW4oSih0aGlzLGZ1bmN0aW9uKGIpe3ZhciBjPWEuc2IoKTtjPnRoaXMuQmImJih0aGlzLkJiPWMpO3JldHVybiBifSkpKX0pKGMpOwpFKGEuaCxjLCJlbmRlZCIsYS5vZC5iaW5kKGEpKTtFKGEuaCxjLCJzaG91bGRfZW5kX2FsbF9zdHJlYW1zIixhLnBkLmJpbmQoYSkpO0UoYS5oLGMsInNob3VsZF9udWRnZSIsYS5qZC5iaW5kKGEpKTtkPWJbZ107dmFyIGg9YS5BLmdldEluaXRpYWxTd2l0Y2hSZWFzb24oKXx8dm9pZCAwO2MuamIoZCwhMSx2b2lkIDAsaCl9UHJvbWlzZS5hbGwoZikudGhlbihKKGEsZnVuY3Rpb24oYSl7dGhpcy5hLmdldEJvb2woInByZXZlbnRfc3RyZWFtX3N0YXJ0X2lmX3N0cmVhbXNfY2hhbmdlIiwhMSkmJiFnZyh0aGlzKXx8aGcodGhpcyxhKX0pKS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7ImRlc3Ryb3kiIT1hLnR5cGUmJihhPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGEpKX0pKTtuZihhLGEueWEpfQpuLm1iPWZ1bmN0aW9uKGEpe09iamVjdC5rZXlzKHRoaXMubykuZm9yRWFjaChmdW5jdGlvbihiKXt0aGlzLm9bYl0udXBkYXRlUHJpb3JpdHlXaXRoTmV3UGxheWluZ1N0YXRlKGEpfS5iaW5kKHRoaXMpKTtPYmplY3Qua2V5cyh0aGlzLncpLmZvckVhY2goZnVuY3Rpb24oYil7dGhpcy53W2JdLmdldFByaW9yaXR5VXBkYXRlcigpLnVwZGF0ZVByaW9yaXR5V2l0aE5ld1BsYXlpbmdTdGF0ZShhKX0uYmluZCh0aGlzKSk7aWYodGhpcy5sKXt2YXIgYj1NZih0aGlzLEhmKHRoaXMpKTtiJiZ0aGlzLnZpZGVvLmN1cnJlbnRUaW1lPGIuc3RhcnQmJkJhbnphaU9EUy5idW1wRW50aXR5S2V5KDI5NjYsInZpZGVvcy53d3cuc2hha2EiLCJjdXJyZW50X3RpbWVfYXRfcGxheWluZ19sZXNzX3RoYW5fc3RyZWFtX2xpbWl0c19zdGFydCIpfWEmJm51bGwhPT10aGlzLmNhJiYodGhpcy54YT0xLFJmKHRoaXMsdGhpcy54YSksaWcodGhpcykpfTsKbi5NYz1mdW5jdGlvbigpe3RoaXMudmlkZW8mJihPYmplY3Qua2V5cyh0aGlzLm8pLmZvckVhY2goZnVuY3Rpb24oYSl7dGhpcy5vW2FdLnVwZGF0ZVByaW9yaXR5V2l0aE5ld1BsYXloZWFkKHRoaXMudmlkZW8uY3VycmVudFRpbWUpfS5iaW5kKHRoaXMpKSxPYmplY3Qua2V5cyh0aGlzLncpLmZvckVhY2goZnVuY3Rpb24oYSl7dGhpcy53W2FdLmdldFByaW9yaXR5VXBkYXRlcigpLnVwZGF0ZVByaW9yaXR5V2l0aE5ld1BsYXloZWFkKHRoaXMudmlkZW8uY3VycmVudFRpbWUpfS5iaW5kKHRoaXMpKSl9O2Z1bmN0aW9uIFFmKGEpe2lmKGEuYS5nZXRCb29sKCJjbGVhcl9jdXJyZW50X3NlZ21lbnRfaW5kZXhlc19kdXJpbmdfbGl2ZWhlYWRfY2F0Y2h1cCIsITEpKWZvcih2YXIgYiBpbiBhLmMpYS5jW2JdLmk9bnVsbH1mdW5jdGlvbiBjZyhhLGIpe2EuYmE9Yjtmb3IodmFyIGMgaW4gYS5jKXt2YXIgZD1hLmNbY107YS5iYSYmKGQuSj1hLmJhKX19CmZ1bmN0aW9uIGdnKGEpe3JldHVybiFPYmplY3Qua2V5cyhhLmMpLnNvbWUoSihhLGZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNbYV0mJiF0aGlzLmNbYV0uaH0pKX0KZnVuY3Rpb24gaGcoYSxiKXtiYShiJiZiLmxlbmd0aD09T2JqZWN0LmtleXMoYS5jKS5sZW5ndGgpO2Zvcih2YXIgYz1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksZD1OdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFksZT0wO2U8Yi5sZW5ndGg7KytlKXZhciBmPWJbZV0sYz1NYXRoLm1pbihjLGYpLGQ9TWF0aC5tYXgoZCxmKTtjPUhmKGEpO2ZvcihlPTA7ZTxjLmxlbmd0aDsrK2UpY1tlXS5UYShkKTthLmEuZ2V0Qm9vbCgicHJvY2Vzc19kZWZlcnJlZF9zd2l0Y2hlc19lYXJseSIsITEpJiZqZyhhKTtrZyhhLGMsZCk7dmFyIGc9V2EoYS5jKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuV2EoKS5pZH0pO2EuYS5nZXRCb29sKCJzZXF1ZW50aWFsbHlfbG9hZF9zdHJlYW1zIiwhMSk/bGcoYSxnLGQpOihlPSRhKGEuZikubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLnZ9KS5yZWR1Y2UoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5jb25jYXQoYil9LFtdKS5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIX5nLmluZGV4T2YoYS5pZCl9KS5tYXAoSihhLApmdW5jdGlvbihhKXt2YXIgYj1bYS5NLnBiP2EuTS5wYigpOmEuTS5jcmVhdGUoKV07YS5hYSYmYi5wdXNoKGEuYWEuY3JlYXRlKHRoaXMubCx0aGlzLmRhKSk7cmV0dXJuIFByb21pc2UuYWxsKGIpfSkpLFByb21pc2UuYWxsKGUpLnRoZW4oSihhLGZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7KytiKWFbYl1bMF0uVGEoZCk7dGhpcy5DYT0hMDtqZyh0aGlzKX0pKS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7ImFib3J0ZWQiIT1hLnR5cGUmJihhPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGEpKX0pKSl9CmZ1bmN0aW9uIGxnKGEsYixjKXt2YXIgZD1Qcm9taXNlLnJlc29sdmUoKTskYShhLmYpLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS52fSkucmVkdWNlKGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuY29uY2F0KGIpfSxbXSkuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiF+Yi5pbmRleE9mKGEuaWQpfSkuZm9yRWFjaChmdW5jdGlvbihhKXtkPWQudGhlbihKKHRoaXMsZnVuY3Rpb24oYil7YiYmYlswXS5UYShjKTtiPVthLk0ucGI/YS5NLnBiKCk6YS5NLmNyZWF0ZSgpXTthLmFhJiZiLnB1c2goYS5hYS5jcmVhdGUodGhpcy5sLHRoaXMuZGEpKTtyZXR1cm4gUHJvbWlzZS5hbGwoYil9KSkuY2F0Y2goZnVuY3Rpb24oYSl7dGhyb3cgYTt9KX0pO2QudGhlbihKKGEsZnVuY3Rpb24oKXt0aGlzLkNhPSEwO2pnKHRoaXMpfSkpLmNhdGNoKEooYSxmdW5jdGlvbihhKXsiYWJvcnRlZCIhPWEudHlwZSYmKGE9QShhKSx0aGlzLmRpc3BhdGNoRXZlbnQoYSkpfSkpfQpmdW5jdGlvbiBqZyhhKXtmb3IodmFyIGIgaW4gYS5CKXt2YXIgYz1hLkJbYl07YS5jW2JdLmpiKGMuTGMsYy5yYyxjLnNjLGMuc3dpdGNoUmVhc29uLGMuS2EpfWEuQj17fX0KZnVuY3Rpb24ga2coYSxiLGMpe3ZhciBkO2EuYS5nZXRCb29sKCJ3d3dfdmlkZW9zX2V4dGVuZGVkX3NwbF9sb2dnaW5nX2Zvcl9jb25uZWN0ZWRfdHYiLCExKSYmYS5sJiYoZD1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJzdHJlYW1fdmlkZW9fc291cmNlX2JlZ2luX3BsYXliYWNrIikpO2lmKGI9TWYoYSxiKSlkZyhhLGIpLGZnKGEsYi5zdGFydCxiLmVuZCxiLmxhc3QsYi5aYSk7MCE9Yz8oYz1hLnZpZGVvLmN1cnJlbnRUaW1lK2MsYS5hLmdldE51bWJlcigid3d3X3ZpZGVvc19udWRnZV90aW1lc3RhbXBfY29ycmVjdGlvbl9zIiwwKSYmKGMrPWEuYS5nZXROdW1iZXIoInd3d192aWRlb3NfbnVkZ2VfdGltZXN0YW1wX2NvcnJlY3Rpb25fcyIsMCkpLGEudmlkZW8uY3VycmVudFRpbWU9YyxhLkQ9Yyk6YS5lYyYmYiYmKGM9ZWcoYSxiKSxNYXRoLmFicyhjLWEudmlkZW8uY3VycmVudFRpbWUpPj1hLmRjJiYoYS52aWRlby5jdXJyZW50VGltZT1jKSk7YS5hLmdldEJvb2woInVuaWZ5X3N0cmVhbV9zdGFydF93aXRoX2J1ZmZlcl9kZXRlY3RvciIsCiExKT8oYz15KHt0eXBlOiJhbGxTdHJlYW1zU3RhcnRlZCIsYnViYmxlczohMH0pLGEuZGlzcGF0Y2hFdmVudChjKSk6YS52aWRlby5wbGF5YmFja1JhdGU9YS5rYzthLmIuYiYmbnVsbCE9YS5iLmMmJktmKGEsMCk7bWcoYSk7YS5zYS5yZXNvbHZlKCk7ZCYmZC5sb2coKX0KZnVuY3Rpb24gZWcoYSxiKXt2YXIgYz1iLmVuZDt2b2lkIDAhPT1iLkJjJiYoYz1iLkJjKTtpZihhLmEuZ2V0Qm9vbCgidGVtcGxhdGVkX2Fsd2F5c19qdW1wX3RvX3N0cmVhbV9saW1pdHNfZW5kIiwhMSkmJmEuYiYmYS5iLmYpcmV0dXJuIGIuZW5kO2lmKGEuY2Mpe3ZhciBkPWEudmlkZW8uY3VycmVudFRpbWUsZT1iLnN0YXJ0O2lmKGEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9hZGp1c3Rfc3RyZWFtX2xpbWl0c19zdGFydF9vZmZzZXRfaW50IiwwKSYmYS5iJiZhLmIuZil7Zm9yKHZhciBmPUhmKGEpLGc9MCxoPTA7aDxmLmxlbmd0aDsrK2gpe3ZhciBrPWZbaF0sbD1NYXRoLm1pbihhLmEuZ2V0TnVtYmVyKCJ0ZW1wbGF0ZWRfYWRqdXN0X3N0cmVhbV9saW1pdHNfc3RhcnRfb2Zmc2V0X2ludCIsMCksay5sZW5ndGgoKSk7ay5sZW5ndGgoKSYmMDxsJiZsPD1rLmxlbmd0aCgpJiYoZz1NYXRoLm1heChrLmdldChrLmxlbmd0aCgpLWwpLnN0YXJ0VGltZSxnKSl9ZT1NYXRoLm1heChlLApnKX1pZihkPj1lJiZkPD1iLmVuZCYmZDxjKWlmKGEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9qdW1wX3RvX2xpdmVfc2lkeF9lbmRfb2Zmc2V0IiwwKSYmYS5iJiZhLmIuZil7Zj1IZihhKTtrPW51bGw7ZT1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7Zm9yKGg9MDtoPGYubGVuZ3RoOysraClmW2hdLmxlbmd0aCgpPGUmJihlPWZbaF0ubGVuZ3RoKCksaz1mW2hdKTtrJiZlPmEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9qdW1wX3RvX2xpdmVfc2lkeF9lbmRfb2Zmc2V0IiwwKSYmKGY9ay5nZXQoay5sZW5ndGgoKS1hLmEuZ2V0TnVtYmVyKCJ0ZW1wbGF0ZWRfanVtcF90b19saXZlX3NpZHhfZW5kX29mZnNldCIsMCkpLnN0YXJ0VGltZSxkPj1mJiYoYz1kKSl9ZWxzZSBjPWR9cmV0dXJuIGN9CmZ1bmN0aW9uIGRnKGEsYil7aWYoYS5iLmIpaXNOYU4oYS5pLmR1cmF0aW9uKSYmKGEuaS5kdXJhdGlvbj1iLmVuZCsyNTkyRTMpO2Vsc2UgaWYoaXNOYU4oYS5pLmR1cmF0aW9uKXx8Yi5lbmQ+YS5pLmR1cmF0aW9uKWlmKGEuaS5kdXJhdGlvbj1iLmVuZCwhYS5hLmdldEJvb2woImRpc2FibGVfYXBwZW5kX3dpbmRvd19lbmQiLCExKSlmb3IodmFyIGM9YS5hLmdldE51bWJlcigiYXBwZW5kX3dpbmRvd19lbmRfZnVkZ2VfZmFjdG9yIiwwKSxkPTA7ZDxhLmkuc291cmNlQnVmZmVycy5sZW5ndGg7KytkKWEuaS5zb3VyY2VCdWZmZXJzW2RdLmFwcGVuZFdpbmRvd0VuZD1iLmVuZCtjfQpuLnJkPWZ1bmN0aW9uKCl7dGhpcy5rYT1udWxsO21nKHRoaXMpO3ZhciBhPU1mKHRoaXMsSGYodGhpcykpO2lmKGEpe3ZhciBiPXRoaXMuYi5iO3RoaXMuYS5nZXRCb29sKCJ0cmVhdF9saXZlX3N0YXRpY19tYW5pZmVzdF9hc19keW5hbWljIiwhMSkmJihiPWJ8fHRoaXMuYi5oKTtiJiZ0aGlzLmphIT1hLmxhc3QmJih0aGlzLmphPWEubGFzdCxudWxsIT10aGlzLmomJihjbGVhclRpbWVvdXQodGhpcy5qKSx0aGlzLmo9bnVsbCkpO2ZnKHRoaXMsYS5zdGFydCxhLmVuZCxhLmxhc3QsYS5aYSk7dGhpcy52aWRlby5wYXVzZWR8fG5nKHRoaXMsdGhpcy52aWRlby5jdXJyZW50VGltZSxhLnN0YXJ0LGEuZW5kKX19O2Z1bmN0aW9uIGZnKGEsYixjLGQsZSl7Yj15KHt0eXBlOiJzZWVrcmFuZ2VjaGFuZ2VkIixidWJibGVzOiEwLHN0YXJ0OmIsZW5kOmMsbGFzdDpkLHNlZWtSYW5nZUdhcHM6ZX0pO2EuZGlzcGF0Y2hFdmVudChiKX0Kbi5tZD1mdW5jdGlvbigpe3ZhciBhPXRoaXMudmlkZW8uY3VycmVudFRpbWUsYj1NZih0aGlzLEhmKHRoaXMpKTt0aGlzLmwmJmImJmE8Yi5zdGFydCYmQmFuemFpT0RTLmJ1bXBFbnRpdHlLZXkoMjk2NiwidmlkZW9zLnd3dy5zaGFrYSIsImN1cnJlbnRfdGltZV9hdF9zZWVrX2xlc3NfdGhhbl9zdHJlYW1fbGltaXRzX3N0YXJ0Iik7aWYobnVsbCE9dGhpcy5EKXtpZihhPj10aGlzLkQtLjAxJiZhPD10aGlzLkQrLjAxKXt0aGlzLkQ9bnVsbDt0aGlzLmwmJmImJmE8Yi5zdGFydCYmQmFuemFpT0RTLmJ1bXBFbnRpdHlLZXkoMjk2NiwidmlkZW9zLnd3dy5zaGFrYSIsImlnbm9yZWRfc2Vla193aGVuX2N1cnJlbnRfdGltZV9hdF9zZWVrX2xlc3NfdGhhbl9zdHJlYW1fbGltaXRzX3N0YXJ0Iik7cmV0dXJufXRoaXMuRD1udWxsfWlmKGIpe3ZhciBjPWIuc3RhcnQsZD1iLmVuZDt0aGlzLmEuZ2V0Qm9vbCgic2tpcF9yZW1haW5pbmdfYnVmZmVyZWRfb25fc3RyZWFtX2VuZCIsITEpJiZ0aGlzLmIuYiYmCnRoaXMuYi5oJiZ0aGlzLnZpZGVvLnBhdXNlZCYmKGQ9dGhpcy5qYSk7KGM9bmcodGhpcyxhLGMsZCkpfHwoYTw9ZCsuMDF8fHRoaXMuYi5iJiYhb2codGhpcyxkKT9jPSExOih0aGlzLnZpZGVvLmN1cnJlbnRUaW1lPWQsYz0hMCkpO2lmKGMpdGhpcy5sJiZhPGIuc3RhcnQmJkJhbnphaU9EUy5idW1wRW50aXR5S2V5KDI5NjYsInZpZGVvcy53d3cuc2hha2EiLCJjbGFtcF9wbGF5aGVhZF93aGVuX2N1cnJlbnRfdGltZV9hdF9zZWVrX2xlc3NfdGhhbl9zdHJlYW1fbGltaXRzX3N0YXJ0Iik7ZWxzZXtmb3IodmFyIGUgaW4gdGhpcy5jKXRoaXMuY1tlXS5DYyh0aGlzLkVhKTt0aGlzLkVhPSExfX19O2Z1bmN0aW9uIG5nKGEsYixjLGQpe2lmKGI+PWMtLjAxKXJldHVybiExO2I9MDthLmIuYiYmKGI9LjUsb2coYSxjK2IpfHwoYj1hLmIuZykpO2EudmlkZW8uY3VycmVudFRpbWU9TWF0aC5taW4oYytiLGQpO3JldHVybiEwfQpmdW5jdGlvbiBvZyhhLGIpe2Zvcih2YXIgYyBpbiBhLmMpaWYoIWEuY1tjXS5JYyhiKSlyZXR1cm4hMTtyZXR1cm4hMH1uLm9kPWZ1bmN0aW9uKCl7aWYoIXRoaXMuYi5ifHx0aGlzLkZhKXtmb3IodmFyIGEgaW4gdGhpcy5jKWlmKCF0aGlzLmNbYV0uZmIoKSlyZXR1cm47dGhpcy5lYigpfX07bi5wZD1mdW5jdGlvbigpe2NsZWFyVGltZW91dCh0aGlzLnUpO3RoaXMuRmE9ITA7Zm9yKHZhciBhIGluIHRoaXMuYyl0aGlzLmNbYV0uZmIoKXx8dGhpcy5jW2FdLkNiKCl9O24uamQ9ZnVuY3Rpb24oKXt0aGlzLmEuZ2V0Qm9vbCgiaWdub3JlX3NlZWtfd2hlbl9udWRnaW5nIiwhMCkmJih0aGlzLkQ9dGhpcy52aWRlby5jdXJyZW50VGltZSk7dGhpcy52aWRlby5jdXJyZW50VGltZSs9LjAwMX07Cm4udGI9ZnVuY3Rpb24oKXtpZih0aGlzLmFjKCl8fHRoaXMuYmMoKSlyZXR1cm4hMDt2YXIgYT10aGlzLmIsYj1udWxsLGM9bnVsbDthJiZhLmEmJmEuYVswXSYmKGI9YS5hWzBdKTtiJiZiLmEmJmIuYVswXSYmKGM9Yi5hWzBdKTtyZXR1cm4hIWMmJmMuYn07WS5wcm90b3R5cGUuaGFzSW5saW5lZENlYTYwOFN1YnRpdGxlcz1ZLnByb3RvdHlwZS50YjtZLnByb3RvdHlwZS5QYj1mdW5jdGlvbihhKXt0aGlzLm5jPWE7dmFyIGI9dGhpcy5jOyJ2aWRlbyJpbiBiJiYoYT1hJiZ0aGlzLnRiKCksYi52aWRlby5jLlM9YSl9O1kucHJvdG90eXBlLnNldEVuYWJsZUNlYTYwOFBhcnNpbmc9WS5wcm90b3R5cGUuUGI7CmZ1bmN0aW9uIHNmKGEpe3ZhciBiPWEuYS5nZXROdW1iZXIoImxpdmVfYnVmZmVyaW5nX3VuZGVyZmxvd190aHJlc2hvbGQiLC41KSxjPWEuYS5nZXRCb29sKCJmaXhfbGl2ZV9zdHJlYW1fZ29uZV9vbl9tYW5pZmVzdF91cGRhdGUiLCEwKSYmYS5oYyxkPSExO2lmKGEuYi5oKXt2YXIgZD1hLmEuZ2V0TnVtYmVyKCJsaXZlX3N0cmVhbV9lbmRfc2xhY2siLDApLGU7Zm9yKGUgaW4gYS5jKWEuY1tlXS5mYigpfHwoZD0wKTtkPWEudmlkZW8uY3VycmVudFRpbWUrYitkPmEuamF9cmV0dXJuIGN8fGR9bj1ZLnByb3RvdHlwZTsKbi5jZD1mdW5jdGlvbigpe3RoaXMuJD0hMDtpZih0aGlzLmImJnRoaXMuYi5iKXtpZihzZih0aGlzKSlyZXR1cm4gdGhpcy5lYigpO3RoaXMuYS5nZXRCb29sKCJhbGxvd19pbmZpbml0ZV9yZXRyeV9vbl9uZXRfZXJyIiwhMCkmJnRoaXMuRy5pc05ldHdvcmtJbnRlcnJ1cHRlZCgpfHwhV2EodGhpcy5jKS5ldmVyeShmdW5jdGlvbihhKXtyZXR1cm4gYS5mYigpfSl8fHBnKHRoaXMsdGhpcy5nYil9dGhpcy5hLmdldEJvb2woImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvdyIsITEpJiYobnVsbD09PXRoaXMuS3x8RGF0ZS5ub3coKS10aGlzLmZjPnRoaXMuYS5nZXROdW1iZXIoImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvd190aW1lX3dpbmRvdyIsMkUzKT90aGlzLks9dGhpcy5hLmdldE51bWJlcigiYnVmZmVyaW5nX292ZXJmbG93X3RocmVzaG9sZCIsMCk6dGhpcy5LKj10aGlzLmEuZ2V0TnVtYmVyKCJiYWNrX29mZl9idWZmZXJpbmdfb3ZlcmZsb3dfdGltZV9mYWN0b3IiLDIpLAp0aGlzLks9TWF0aC5taW4odGhpcy5LLHRoaXMuYS5nZXROdW1iZXIoImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvd19tYXgiLDUpKSl9O2Z1bmN0aW9uIHBnKGEsYil7YS5qPXNldFRpbWVvdXQoYS5lYi5iaW5kKGEpLGIpfW4uYmQ9ZnVuY3Rpb24oKXt0aGlzLiQ9ITE7dGhpcy5hLmdldEJvb2woImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvdyIsITEpJiYodGhpcy5mYz1EYXRlLm5vdygpKTtudWxsIT10aGlzLmomJihjbGVhclRpbWVvdXQodGhpcy5qKSx0aGlzLmo9bnVsbCl9O24uZ2Q9ZnVuY3Rpb24oKXtudWxsIT09dGhpcy5iYSYmKGJnKHRoaXMsdGhpcy5iYSksY2codGhpcyxudWxsKSl9O24uR2Q9ZnVuY3Rpb24oKXt9OwpuLmViPWZ1bmN0aW9uKCl7dGhpcy4kPSExO3RoaXMuaj1udWxsO3ZhciBhO2lmKGE9dGhpcy5hLmdldEJvb2woInRlc3Rfc291cmNlX2J1ZmZlcnNfbm90X3VwZGF0aW5nX2VuZF9vZl9zdHJlYW0iLCExKSlhOntmb3IoYT0wO2E8dGhpcy5pLnNvdXJjZUJ1ZmZlcnMubGVuZ3RoOysrYSlpZih0aGlzLmkuc291cmNlQnVmZmVyc1thXS51cGRhdGluZyl7YT0hMDticmVhayBhfWE9ITF9aWYoYSlyZXR1cm4gcGcodGhpcywxRTMpOyJvcGVuIj09dGhpcy5pLnJlYWR5U3RhdGUmJnRoaXMuaS5lbmRPZlN0cmVhbSgpfTtmdW5jdGlvbiBIZihhKXtyZXR1cm4gV2EoYS5jKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuRmIoKX0pLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YX0pfWZ1bmN0aW9uIExmKGEpe3JldHVybiBNYXRoLm1heChhLmI/YS5iLmc6MSxhLlpiP2EuZy5zdHJlYW1CdWZmZXJTaXplfHwwOjApfQpmdW5jdGlvbiBNZihhLGIpe2Zvcih2YXIgYz0wLGQ9TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLGU9TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLGY9W10sZz0hVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJub19zZWVrX3JhbmdlX2dhcHNfZHVyaW5nX2NvbXB1dGVfc3RyZWFtX2xpbWl0cyIsITEpLGg9MDtoPGIubGVuZ3RoOysraCl7dmFyIGs9YltoXS5BKCk7ZyYmKGY9Zi5jb25jYXQoYltoXS5nZXRTZWVrUmFuZ2VHYXBzKCkpKTtjPU1hdGgubWF4KGMsay5zdGFydCk7bnVsbCE9ay5lbmQmJihkPU1hdGgubWluKGQsay5lbmQpKTtiW2hdLmxlbmd0aCgpJiYoZT1NYXRoLm1pbihlLGJbaF0ubGFzdCgpLmVuZFRpbWUpKX1nJiYoZj1tZXJnZVNlZWtSYW5nZUdhcHMoZikpO2lmKGQ9PU51bWJlci5QT1NJVElWRV9JTkZJTklUWSlpZihkPWEuYi5hWzBdLGQuZHVyYXRpb24pZD0oZC5zdGFydHx8MCkrZC5kdXJhdGlvbjtlbHNlIHJldHVybiBudWxsO2lmKGEuYi5iKXt2YXIgZz0KTGYoYSksZD1NYXRoLm1heChkLWcsYyksbDthLnJhJiZhLmEuZ2V0Qm9vbCgibGl2ZV9qdW1wX3RvX3B1c2hlZF9zZWdtZW50IiwhMSkmJmIubGVuZ3RoJiYoaD1NYXRoLmZsb29yKExmKGEpLzEpKzEsZz1iWzBdLGg9Zy5sZW5ndGgoKS1oLChnPWcuZ2V0KGgpKSYmKGw9Zy5zdGFydFRpbWUpKX1pZihjPmQpcmV0dXJuIG51bGw7ZD1NYXRoLmZsb29yKDFFNSpkKS8xRTU7cmV0dXJue3N0YXJ0OmMsZW5kOmQsbGFzdDplLFphOmYsQmM6bH19bi5uYj1mdW5jdGlvbigpe3JldHVybiBNZih0aGlzLEhmKHRoaXMpKX07WS5wcm90b3R5cGUuY29tcHV0ZVN0cmVhbUxpbWl0cz1ZLnByb3RvdHlwZS5uYjtmdW5jdGlvbiBtZyhhKXthLmIuYiYmKGEua2E9c2V0VGltZW91dChhLnJkLmJpbmQoYSksMUUzKSl9ZnVuY3Rpb24gRGYoYSl7Zm9yKHZhciBiIGluIGEuYylhLmNbYl0ucGEoYS5nKX1ZLnByb3RvdHlwZS5zYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLkJifTsKWS5wcm90b3R5cGUuZ2V0TG9uZ2VzdEluaXRSZXNwb25zZVRpbWU9WS5wcm90b3R5cGUuc2I7ZnVuY3Rpb24gWmYoYSl7cmV0dXJuInYiPT09YS5jaGFyQXQoMCk/InZpZGVvIjoiYSI9PT1hLmNoYXJBdCgwKT8iYXVkaW8iOm51bGx9WS5wcm90b3R5cGUuVGM9ZnVuY3Rpb24oKXt2YXIgYT15KHt0eXBlOiJuZXR3b3JraW50ZXJydXB0ZWQiLGJ1YmJsZXM6ITB9KTt0aGlzLmRpc3BhdGNoRXZlbnQoYSk7dGhpcy5UPXRoaXMuVHx8RGF0ZS5ub3coKTt0aGlzLiQmJnRoaXMuaiYmY2xlYXJUaW1lb3V0KHRoaXMuail9OwpZLnByb3RvdHlwZS5VYz1mdW5jdGlvbigpe3ZhciBhPXkoe3R5cGU6Im5ldHdvcmtyZXN1bWVkIixidWJibGVzOiEwfSk7dGhpcy5kaXNwYXRjaEV2ZW50KGEpO2E9dGhpcy5hLmdldE51bWJlcigibWF4X25ldHdvcmtfaW50ZXJydXB0ZWRfdGltZV9iZWZvcmVfc2VlayIsMUU0KTtudWxsIT09dGhpcy5UJiZEYXRlLm5vdygpLXRoaXMuVD49YSYmKHRoaXMuVD1udWxsLHRoaXMuZWE9ITApO3RoaXMuYS5nZXRCb29sKCJmaXhfbmV0d29ya19pbnRlcnJ1cHRlZF9zdGFydF9ub3RfbnVsbGVkIiwhMSkmJih0aGlzLlQ9bnVsbCk7dGhpcy4kJiZwZyh0aGlzLHRoaXMuZ2IpfTtZLnByb3RvdHlwZS5WYz1mdW5jdGlvbigpe3RoaXMuZWE9ITB9O2Z1bmN0aW9uIFBmKGEpe2EuYS5nZXRCb29sKCJkZWNvdXBsZV9tcGRfdXBkYXRlX2xvb3BfZnJvbV9yZXF1ZXN0X2xvb3AiLCExKXx8S2YoYSwwKX1ZLnByb3RvdHlwZS5xYz1mdW5jdGlvbihhKXt0aGlzLm5hPWF9OwpZLnByb3RvdHlwZS5zZXRFbmFibGVMaXZlaGVhZENhdGNodXA9WS5wcm90b3R5cGUucWM7WS5wcm90b3R5cGUuemQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uYX07WS5wcm90b3R5cGUuaXNMaXZlaGVhZENhdGNodXBFbmFibGVkPVkucHJvdG90eXBlLnpkO1kucHJvdG90eXBlLlNjPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYy52aWRlbz90aGlzLmMudmlkZW8uYy5pOm51bGx9O1kucHJvdG90eXBlLmdldFZpZGVvU3RyZWFtUHJvZ3Jlc3NUcmFja2VyPVkucHJvdG90eXBlLlNjO1kucHJvdG90eXBlLnFiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYy52aWRlbz90aGlzLmMudmlkZW8ucWIoKTpudWxsfTtZLnByb3RvdHlwZS5nZXRCdWZmZXJWZWxvY2l0eT1ZLnByb3RvdHlwZS5xYjtmdW5jdGlvbiBSZihhLGIpe2Zvcih2YXIgYyBpbiBhLmMpYS5jW2NdLm5hPWJ9CmZ1bmN0aW9uIGlnKGEpe3ZhciBiPVtdO2lmKG51bGwhPT1hLmNhKXt2YXIgYz1hLmNhLGQ7Zm9yKGQgaW4gYS5jKWIucHVzaChyZShhLmNbZF0sYS5jYSkpO1Byb21pc2UuYWxsKGIpLnRoZW4oSihhLGZ1bmN0aW9uKCl7aWYoYyl7Zm9yKHZhciBhIGluIHRoaXMuYyl7dmFyIGI9dGhpcy5jW2FdO2IuSz1udWxsO2IuVj0hMTtiLkk9bnVsbH1jPnRoaXMudmlkZW8uY3VycmVudFRpbWUmJih0aGlzLnZpZGVvLmN1cnJlbnRUaW1lPWMpfX0pKX1hLmNhPW51bGx9O2Z1bmN0aW9uIFooYSxiLGMsZCxlLGYsZyl7ZHx8KGQ9bmV3IEcpO2V8fChlPW5ldyBYKTtZLmNhbGwodGhpcyxudWxsLGIsZCxlKTsic3RyaW5nIj09PXR5cGVvZiBhP3RoaXMuamM9YTp0aGlzLk5iPWE7dGhpcy5hPWI7dGhpcy5GPW51bGw7dGhpcy50YT1jO3RoaXMuRGE9W107dGhpcy5RYj1bXTt0aGlzLlJiPVtdO3RoaXMuSGE9MDt0aGlzLlk9bnVsbDt0aGlzLk1iPWd8fG51bGx9cihaLFkpO3EoInNoYWthLnBsYXllci5EYXNoVmlkZW9Tb3VyY2UiLFopO1oucHJvdG90eXBlLkpkPWZ1bmN0aW9uKGEpe3RoaXMuRj1hO3RoaXMuSmIoITAsITApfTtaLnByb3RvdHlwZS51cGRhdGVNYW5pZmVzdD1aLnByb3RvdHlwZS5KZDtaLnByb3RvdHlwZS5PYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLk5ifHx0aGlzLkZ9O1oucHJvdG90eXBlLmdldE1hbmlmZXN0PVoucHJvdG90eXBlLk9iO1oucHJvdG90eXBlLlRiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuT2IoKX07CloucHJvdG90eXBlLmRlYnVnR2V0TWFuaWZlc3Q9Wi5wcm90b3R5cGUuVGI7Wi5wcm90b3R5cGUuWmM9ZnVuY3Rpb24oYSxiLGMpe3RoaXMuRGEucHVzaChhKTt0aGlzLlFiLnB1c2goYnx8IiIpO3RoaXMuUmIucHVzaChjfHwiIil9O1oucHJvdG90eXBlLmFkZEV4dGVybmFsQ2FwdGlvbnM9Wi5wcm90b3R5cGUuWmM7Wi5wcm90b3R5cGUudGQ9ZnVuY3Rpb24oYSl7dGhpcy5ZPWF9O1oucHJvdG90eXBlLnNldE5ldHdvcmtDYWxsYmFjaz1aLnByb3RvdHlwZS50ZDtaLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5GPXRoaXMuWT10aGlzLnRhPW51bGw7WS5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpfTsKWi5wcm90b3R5cGUud2I9ZnVuY3Rpb24oKXt2YXIgYTt0aGlzLmwmJihhPXRoaXMubC5nZXRPcGVyYXRpb25Mb2dnZXIoInNvdXJjZV9sb2FkIikuc3RhcnQoKSk7dmFyIGIsYz1KKHRoaXMsZnVuY3Rpb24oYSl7aWYodGhpcy5hLmdldEJvb2woImVuYWJsZV9kb3VibGVfaW5nZXN0X29uX2luaXRpYWxfbXBkIiwhMSkpc3dpdGNoKGEuc3RhdHVzKXtjYXNlIDIwMDpjYXNlIDQxNzppZihhLnJlc3BvbnNlSGVhZGVycyYmbnVsbCE9YS5yZXNwb25zZUhlYWRlcnNbIngtZmItdmlkZW8tcmVwbGljYSJdKXJldHVybiB0aGlzLmRpc3BhdGNoRXZlbnQoeSh7dHlwZToicmVwbGljYXN3aXRjaCIsYnViYmxlczohMCxyZXBsaWNhOmEucmVzcG9uc2VIZWFkZXJzWyJ4LWZiLXZpZGVvLXJlcGxpY2EiXX0pKSxuZXcgUHJvbWlzZShmdW5jdGlvbigpe30pfXRocm93IGE7fSksZD1KKHRoaXMsZnVuY3Rpb24oYyl7dGhpcy5MYSgiTVBERmV0Y2hEdXJhdGlvbiIsKERhdGUubm93KCktYikvMUUzKTt0aGlzLkY9CmM7Zm9yKHZhciBkPTA7ZDx0aGlzLkRhLmxlbmd0aDtkKyspTGMoYyx0aGlzLkRhW2RdLHRoaXMuUWJbZF0sdGhpcy5SYltkXSk7dmFyIGQ9bmV3IHllKHRoaXMuYSx0aGlzLnRhLHRoaXMubCx0aGlzLk1iKSxlO3RoaXMubCYmKGU9dGhpcy5sLmdldE9wZXJhdGlvbkxvZ2dlcigicHJvY2Vzc19tYW5pZmVzdCIpLnN0YXJ0KCkpO3RoaXMuYj16ZShkLGMsdGhpcy5ZKTtlJiZlLmxvZygpO2EmJmEuc2V0TWFuaWZlc3RUeXBlKHRoaXMuYi5iPyJkeW5hbWljIjoic3RhdGljIik7cmV0dXJuIFkucHJvdG90eXBlLndiLmNhbGwodGhpcykudGhlbihmdW5jdGlvbigpe2EmJmEubG9nKCl9KX0pO2lmKHRoaXMuTmIpcmV0dXJuIGI9RGF0ZS5ub3coKSxkKHRoaXMuTmIpO3ZhciBlPVtuZXcgTCh0aGlzLmpjKV0sZjtpZih0aGlzLnJhKXt2YXIgZz1uZXcgVmlkZW9QdXNoUGFyYW1ldGVyc0hlbHBlcih0aGlzLmpjKTtnLnNldFN0cmVhbUVuZE9mZnNldChNYXRoLmZsb29yKExmKHRoaXMpLzEpKTsKdGhpcy5PYSYmZy5zZXRQdXNoVmlkZW9SZXByZXNlbnRhdGlvbklEKHRoaXMuT2EpO3RoaXMucGEmJmcuc2V0UHVzaEF1ZGlvUmVwcmVzZW50YXRpb25JRCh0aGlzLnBhKTt0aGlzLm1hJiZnLnNldFVzZUxvbmdDYWNoZUZvck1hbmlmZXN0KHRoaXMubWEpO2Y9bmV3IGZkKG51bGwpO2YuYT1nfWU9bmV3IEsodGhpcy5ZLGUsdm9pZCAwLHZvaWQgMCx2b2lkIDAsdGhpcy5NYik7Zj1uZXcgZGQoZSx0aGlzLkxiLGYsdGhpcy5kYSk7Yj1EYXRlLm5vdygpO3JldHVybiBlZChmLHRoaXMubCkudGhlbihkLGMpfTsKWi5wcm90b3R5cGUudmM9ZnVuY3Rpb24oKXtpZih0aGlzLlViKXt2YXIgYT10aGlzLmI7aWYoYT0oYT1hJiZhLmEpJiZhWzBdKXt2YXIgYT1hLmEucmVkdWNlKGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuY29uY2F0KGIudil9LFtdKSxiPWZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hfTtQcm9taXNlLmFsbChhLm1hcChmdW5jdGlvbihhKXthPWEuTTtyZXR1cm4gYS5RYz9hLlJhOmEuY3JlYXRlKCl9KSkudGhlbihmdW5jdGlvbihhKXthPWEuZmlsdGVyKGIpO3RoaXMuTGEoIkluaXRpYWxTZWdtZW50SW5kZXhlcyIsYSl9LmJpbmQodGhpcykpO1Byb21pc2UuYWxsKGEubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLmFhfSkpLnRoZW4oZnVuY3Rpb24oYSl7YT1hLmZpbHRlcihiKTt0aGlzLkxhKCJTZWdtZW50SW5pdFNvdXJjZXMiLGEpfS5iaW5kKHRoaXMpKX19fTsKWi5wcm90b3R5cGUueWM9ZnVuY3Rpb24oYSxiLGMpe2lmKHRoaXMudmlkZW8ucGF1c2VkJiZ0aGlzLkhhKzFFND5EYXRlLm5vdygpJiZ0aGlzLmIpcmV0dXJuIFByb21pc2UucmVqZWN0KHt0eXBlOiJkZWxheSJ9KTt2YXIgZDtpZihiJiZ2b2lkIDAhPWMpZD1uZXcgZmQoYiksZC5mPWMsYj1TZih0aGlzKSxudWxsIT1iJiYoZC5jPWIuc3RyZWFtSW5mb0lELGQuYj10aGlzLnBhKTtlbHNlIGZvcihiPWEuYyxjPTA7YzxiLmxlbmd0aDtjKyspe3ZhciBlPW5ldyBWaWRlb1B1c2hQYXJhbWV0ZXJzSGVscGVyKGJbY10udG9TdHJpbmcoKSk7dGhpcy5tYSYmZS5zZXRVc2VMb25nQ2FjaGVGb3JNYW5pZmVzdCh0aGlzLm1hKTtiW2NdPW5ldyBMKGUuZ2V0VVJMKCkpfWE9bmV3IGRkKGEsdGhpcy5MYixkLHRoaXMuZGEpO3ZhciBmPURhdGUubm93KCk7cmV0dXJuIGVkKGEsdGhpcy5sKS50aGVuKEoodGhpcyxmdW5jdGlvbihhKXt0aGlzLkhhPURhdGUubm93KCk7dGhpcy5MYSgiTVBERmV0Y2hEdXJhdGlvbiIsCih0aGlzLkhhLWYpLzFFMyk7dGhpcy5hLmdldEJvb2woInRyZWF0X2xpdmVfc3RhdGljX21hbmlmZXN0X2FzX2R5bmFtaWMiLCExKSYmKGEubWFuaWZlc3RJc0xpdmVTdHJlYW1pbmc9ImR5bmFtaWMiPT09KHRoaXMuRj90aGlzLkYudHlwZTphLnR5cGUpKTt0aGlzLkY9YTt2YXIgYj1uZXcgeWUodGhpcy5hLHRoaXMudGEsdGhpcy5sLHRoaXMuTWIpO2lmKHRoaXMubCl2YXIgYz10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJwcm9jZXNzX21hbmlmZXN0Iikuc3RhcnQoKTthPXplKGIsYSx0aGlzLlkpO2MmJmMubG9nKCk7cmV0dXJuIFByb21pc2UucmVzb2x2ZShhKX0pKX07Wi5wcm90b3R5cGUueGM9ZnVuY3Rpb24oKXt2YXIgYT16ZShuZXcgeWUodGhpcy5hLHRoaXMudGEpLHRoaXMuRix0aGlzLlkpO3JldHVybiBQcm9taXNlLnJlc29sdmUoYSl9O30uYmluZChnLCBnbG9iYWwpKSgpOwoKbW9kdWxlLmV4cG9ydHMgPSBnLnNoYWthOwoKCi8qICAqL30pLG51bGwpOwovLyMgc291cmNlVVJMPWZiOGIxNmM4YjU3NjdkNTE4ODYwZGFiMjgzMGM1MGYyLmpzCg==, line 416: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript error: data:application/x-javascript;charset=utf-8;base64,aWYgKHNlbGYuQ2F2YWxyeUxvZ2dlcikgeyBDYXZhbHJ5TG9nZ2VyLnN0YXJ0X2pzKFsiKzRzV3kiXSk7IH0KLyoqCiAqIEBwcm92aWRlc01vZHVsZSBTaGFrYQogKiBAcHJlc2VydmUtd2hpdGVzcGFjZQogKiBAbm9wYWNrYWdlCiAqIEBnZW5lcmF0ZWQKICovCl9fZCgiU2hha2EiLFsiUHJvbWlzZSIsIkV2ZW50TGlzdGVuZXIiLCJWaWRlb1BsYXllclNoYWthUGVyZm9ybWFuY2VMb2dnZXIiLCJWaWRlb1B1c2hQYXJhbWV0ZXJzSGVscGVyIiwiVGltZVNsaWNlIiwiVmlkZW9QbGF5ZXJMb2NhbEJhbmR3aWR0aEVzdGltYXRvciIsIlZpZGVvUGxheWVyUmVzb3VyY2VUaW1lciIsIlNoYWthU2VnbWVudFJlZmVyZW5jZUhlbHBlciIsIlNlZ21lbnRSZXF1ZXN0TWFuYWdlciIsImNvbmNhdEFycmF5QnVmZmVyIiwiQnVmZmVyUmVwbGFjZW1lbnRIZWxwZXIiLCJsb2dMb25nQWthbWFpUmVxdWVzdCIsInRocm90dGxlIiwiVmlld3BvcnRQcmlvcml0eUFkanVzdGVyIiwiRmlyc3RMb2FkZWRWaWRlb1ByaW9yaXR5QWRqdXN0ZXIiLCJWaWRlb1ByaW9yaXR5Q2FsY3VsYXRvciIsIlZpZGVvU3RyZWFtaW5nTWFuYWdlciIsIk11bHRpcGxlU2VnbWVudHNQcm92aWRlciIsIkxvY2FsQml0cmF0ZUhlbHBlciIsIlVuaXRDb25zdGFudHMiLCJCdWZmZXJWZWxvY2l0eSIsIlZpZGVvUGxheWVyQml0cmF0ZUVzdGltYXRvciIsIlZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWciLCJnZXRTZWVrUmFuZ2VHYXBzRnJvbVNoYWthUmVmZXJlbmNlcyIsIm1lcmdlU2Vla1JhbmdlR2FwcyIsIk5ldHdvcmtTdGF0dXNEZXRlY3RvciIsIk1vc1V0aWxzIiwiQmFuemFpT0RTIiwiVmlkZW9EYXNoUHJlZmV0Y2hDYWNoZSIsIlZpZGVvQ2xpZW50RWRnZUNvb3BlcmF0aW9uIiwiVmlkZW9TdHJlYW1pbmdUYXNrUXVldWVQcm92aWRlciIsIkJpbmFyeVNlYXJjaCIsIlNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscyIsImdreCIsInNldFRpbWVvdXRBY3Jvc3NUcmFuc2l0aW9ucyIsInNldFRpbWVvdXQiLCJzZXRJbnRlcnZhbEFjcm9zc1RyYW5zaXRpb25zIiwic2V0SW50ZXJ2YWwiLCJzZXRJbW1lZGlhdGVBY3Jvc3NUcmFuc2l0aW9ucyIsInNldEltbWVkaWF0ZSIsImNsZWFyVGltZW91dCIsImNsZWFySW50ZXJ2YWwiLCJjbGVhckltbWVkaWF0ZSIsImRpc3BhdGNoRXZlbnQiLCJFdmVudExpc3RlbmVyIiwiRXZlbnQiLCJleHRyYWN0Q0VBNjA4IiwicGVyZm9ybWFuY2VOb3ciLCJwYXJzZUhlYWRlcnMiLCJjYW5Vc2VGZXRjaFN0cmVhbSIsIlN1YnNjcmlwdGlvbnNIYW5kbGVyIiwiVmlkZW9QdXNoVHJhY2tlciJdLChmdW5jdGlvbiAkbW9kdWxlX1NoYWthKGdsb2JhbCxyZXF1aXJlLHJlcXVpcmVEeW5hbWljLHJlcXVpcmVMYXp5LG1vZHVsZSxleHBvcnRzKXsKCi8vIHJ1biBgYXJjIHJlYnVpbGQgc2hha2EtcGxheWVyYCB0byByZWdlbmVyYXRlIFNoYWthLmpzIGFmdGVyIG1vZGlmeWluZyB0aGlzCi8vIGZpbGUKCnZhciBQcm9taXNlID0gcmVxdWlyZSgnUHJvbWlzZScpOwp2YXIgRXZlbnRMaXN0ZW5lciA9IHJlcXVpcmUoJ0V2ZW50TGlzdGVuZXInKTsKdmFyIFZpZGVvUGxheWVyU2hha2FQZXJmb3JtYW5jZUxvZ2dlciA9IHJlcXVpcmUoJ1ZpZGVvUGxheWVyU2hha2FQZXJmb3JtYW5jZUxvZ2dlcicpOwp2YXIgVmlkZW9QdXNoUGFyYW1ldGVyc0hlbHBlciA9IHJlcXVpcmUoJ1ZpZGVvUHVzaFBhcmFtZXRlcnNIZWxwZXInKTsKdmFyIFRpbWVTbGljZSA9IHJlcXVpcmUoJ1RpbWVTbGljZScpOwp2YXIgVmlkZW9QbGF5ZXJMb2NhbEJhbmR3aWR0aEVzdGltYXRvciA9IHJlcXVpcmUoJ1ZpZGVvUGxheWVyTG9jYWxCYW5kd2lkdGhFc3RpbWF0b3InKTsKdmFyIFZpZGVvUGxheWVyUmVzb3VyY2VUaW1lciA9IHJlcXVpcmUoJ1ZpZGVvUGxheWVyUmVzb3VyY2VUaW1lcicpOwp2YXIgU2hha2FTZWdtZW50UmVmZXJlbmNlSGVscGVyID0gcmVxdWlyZSgnU2hha2FTZWdtZW50UmVmZXJlbmNlSGVscGVyJyk7CnZhciBTZWdtZW50UmVxdWVzdE1hbmFnZXIgPSByZXF1aXJlKCdTZWdtZW50UmVxdWVzdE1hbmFnZXInKTsKdmFyIGNvbmNhdEFycmF5QnVmZmVyID0gcmVxdWlyZSgnY29uY2F0QXJyYXlCdWZmZXInKTsKdmFyIEJ1ZmZlclJlcGxhY2VtZW50SGVscGVyID0gcmVxdWlyZSgnQnVmZmVyUmVwbGFjZW1lbnRIZWxwZXInKTsKdmFyIGxvZ0xvbmdBa2FtYWlSZXF1ZXN0ID0gcmVxdWlyZSgnbG9nTG9uZ0FrYW1haVJlcXVlc3QnKTsKdmFyIHRocm90dGxlID0gcmVxdWlyZSgndGhyb3R0bGUnKTsKdmFyIFZpZXdwb3J0UHJpb3JpdHlBZGp1c3RlciA9IHJlcXVpcmUoJ1ZpZXdwb3J0UHJpb3JpdHlBZGp1c3RlcicpOwp2YXIgRmlyc3RMb2FkZWRWaWRlb1ByaW9yaXR5QWRqdXN0ZXIgPSByZXF1aXJlKCdGaXJzdExvYWRlZFZpZGVvUHJpb3JpdHlBZGp1c3RlcicpOwp2YXIgVmlkZW9Qcmlvcml0eUNhbGN1bGF0b3IgPSByZXF1aXJlKCdWaWRlb1ByaW9yaXR5Q2FsY3VsYXRvcicpOwp2YXIgVmlkZW9TdHJlYW1pbmdNYW5hZ2VyID0gcmVxdWlyZSgnVmlkZW9TdHJlYW1pbmdNYW5hZ2VyJyk7CnZhciBNdWx0aXBsZVNlZ21lbnRzUHJvdmlkZXIgPSByZXF1aXJlKCdNdWx0aXBsZVNlZ21lbnRzUHJvdmlkZXInKTsKdmFyIExvY2FsQml0cmF0ZUhlbHBlciA9IHJlcXVpcmUoJ0xvY2FsQml0cmF0ZUhlbHBlcicpOwp2YXIgVW5pdENvbnN0YW50cyA9IHJlcXVpcmUoJ1VuaXRDb25zdGFudHMnKTsKdmFyIEJ1ZmZlclZlbG9jaXR5ID0gcmVxdWlyZSgnQnVmZmVyVmVsb2NpdHknKTsKdmFyIFZpZGVvUGxheWVyQml0cmF0ZUVzdGltYXRvciA9IHJlcXVpcmUoJ1ZpZGVvUGxheWVyQml0cmF0ZUVzdGltYXRvcicpOwp2YXIgVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZyA9IHJlcXVpcmUoJ1ZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcnKTsKdmFyIGdldFNlZWtSYW5nZUdhcHNGcm9tU2hha2FSZWZlcmVuY2VzID0gcmVxdWlyZSgnZ2V0U2Vla1JhbmdlR2Fwc0Zyb21TaGFrYVJlZmVyZW5jZXMnKTsKdmFyIG1lcmdlU2Vla1JhbmdlR2FwcyA9IHJlcXVpcmUoJ21lcmdlU2Vla1JhbmdlR2FwcycpOwp2YXIgTmV0d29ya1N0YXR1c0RldGVjdG9yID0gcmVxdWlyZSgnTmV0d29ya1N0YXR1c0RldGVjdG9yJyk7CnZhciBNb3NVdGlscyA9IHJlcXVpcmUoJ01vc1V0aWxzJyk7CnZhciBCYW56YWlPRFMgPSByZXF1aXJlKCdCYW56YWlPRFMnKTsKdmFyIFZpZGVvRGFzaFByZWZldGNoQ2FjaGUgPSByZXF1aXJlKCdWaWRlb0Rhc2hQcmVmZXRjaENhY2hlJyk7CnZhciBWaWRlb0NsaWVudEVkZ2VDb29wZXJhdGlvbiA9IHJlcXVpcmUoJ1ZpZGVvQ2xpZW50RWRnZUNvb3BlcmF0aW9uJyk7CnZhciBWaWRlb1N0cmVhbWluZ1Rhc2tRdWV1ZVByb3ZpZGVyID0gcmVxdWlyZSgnVmlkZW9TdHJlYW1pbmdUYXNrUXVldWVQcm92aWRlcicpOwp2YXIgQmluYXJ5U2VhcmNoID0gcmVxdWlyZSgnQmluYXJ5U2VhcmNoJyk7CnZhciBTaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMgPSByZXF1aXJlKCdTaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMnKTsKdmFyIGdreCA9IHJlcXVpcmUoJ2dreCcpOwoKdmFyIHNldFRpbWVvdXQgPSBWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woCiAgICAndGltZW91dHNfcGVyc2lzdF9vbl9wYWdlX3RyYW5zaXRpb24nLAogICAgdHJ1ZQogICkgPwogIHJlcXVpcmUoJ3NldFRpbWVvdXRBY3Jvc3NUcmFuc2l0aW9ucycpIDoKICByZXF1aXJlKCdzZXRUaW1lb3V0Jyk7CnZhciBzZXRJbnRlcnZhbCA9IFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgKICAgICd0aW1lb3V0c19wZXJzaXN0X29uX3BhZ2VfdHJhbnNpdGlvbicsCiAgICB0cnVlCiAgKSA/CiAgcmVxdWlyZSgnc2V0SW50ZXJ2YWxBY3Jvc3NUcmFuc2l0aW9ucycpIDoKICByZXF1aXJlKCdzZXRJbnRlcnZhbCcpOwp2YXIgc2V0SW1tZWRpYXRlID0gVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKAogICAgJ3RpbWVvdXRzX3BlcnNpc3Rfb25fcGFnZV90cmFuc2l0aW9uJywKICAgIHRydWUKICApID8KICByZXF1aXJlKCdzZXRJbW1lZGlhdGVBY3Jvc3NUcmFuc2l0aW9ucycpIDoKICByZXF1aXJlKCdzZXRJbW1lZGlhdGUnKTsKdmFyIGNsZWFyVGltZW91dCA9IHJlcXVpcmUoJ2NsZWFyVGltZW91dCcpOwp2YXIgY2xlYXJJbnRlcnZhbCA9IHJlcXVpcmUoJ2NsZWFySW50ZXJ2YWwnKTsKdmFyIGNsZWFySW1tZWRpYXRlID0gcmVxdWlyZSgnY2xlYXJJbW1lZGlhdGUnKTsKdmFyIGRpc3BhdGNoRG9tRXZlbnQgPSByZXF1aXJlKCdkaXNwYXRjaEV2ZW50Jyk7CnZhciBldmVudExpc3RlbmVyQ2FwdHVyZSA9IHJlcXVpcmUoJ0V2ZW50TGlzdGVuZXInKS5jYXB0dXJlOwp2YXIgZXZlbnRLaWxsID0gcmVxdWlyZSgnRXZlbnQnKS5raWxsOwp2YXIgZXh0cmFjdENFQTYwOCA9IHJlcXVpcmUoJ2V4dHJhY3RDRUE2MDgnKTsKdmFyIHBlcmZvcm1hbmNlTm93ID0gcmVxdWlyZSgncGVyZm9ybWFuY2VOb3cnKTsKdmFyIHBhcnNlSGVhZGVycyA9IHJlcXVpcmUoJ3BhcnNlSGVhZGVycycpOwp2YXIgY2FuVXNlRmV0Y2hTdHJlYW0gPSByZXF1aXJlKCdjYW5Vc2VGZXRjaFN0cmVhbScpOwp2YXIgU3Vic2NyaXB0aW9uc0hhbmRsZXIgPSByZXF1aXJlKCdTdWJzY3JpcHRpb25zSGFuZGxlcicpOwp2YXIgVmlkZW9QdXNoVHJhY2tlciA9IHJlcXVpcmUoJ1ZpZGVvUHVzaFRyYWNrZXInKTsKCmZ1bmN0aW9uIHNldEV2ZW50UHJvcGVydHkob2JqLCBuYW1lLCBoYW5kbGVyKSB7CiAgb2JqW25hbWVdID0gVGltZVNsaWNlLmd1YXJkKGhhbmRsZXIsICdzaGFrYSAnICsgbmFtZSk7Cn07CgppZiAoCiAgVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCdzaGFrYV9uYXRpdmVfcHJvbWlzZScsIGZhbHNlKSAmJgogIFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgndXNlX25hdGl2ZV9wcm9taXNlJywgdHJ1ZSkKKSB7CiAgUHJvbWlzZSA9IHdpbmRvdy5Qcm9taXNlOwp9Cgp2YXIgZyA9IHt9OwoKKGZ1bmN0aW9uKHdpbmRvdyl7dmFyIG4sYWE9dGhpcztmdW5jdGlvbiBxKGEsYil7dmFyIGM9YS5zcGxpdCgiLiIpLGQ9YWE7Y1swXWluIGR8fCFkLmV4ZWNTY3JpcHR8fGQuZXhlY1NjcmlwdCgidmFyICIrY1swXSk7Zm9yKHZhciBlO2MubGVuZ3RoJiYoZT1jLnNoaWZ0KCkpOyljLmxlbmd0aHx8dm9pZCAwPT09Yj9kW2VdP2Q9ZFtlXTpkPWRbZV09e306ZFtlXT1ifWZ1bmN0aW9uIHIoYSxiKXtmdW5jdGlvbiBjKCl7fWMucHJvdG90eXBlPWIucHJvdG90eXBlO2EuUGQ9Yi5wcm90b3R5cGU7YS5wcm90b3R5cGU9bmV3IGM7YS5wcm90b3R5cGUuY29uc3RydWN0b3I9YTthLkxkPWZ1bmN0aW9uKGEsYyxmKXtyZXR1cm4gYi5wcm90b3R5cGVbY10uYXBwbHkoYSxBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMikpfX07LyoKCiBDb3B5cmlnaHQgMjAxNSBHb29nbGUgSW5jLgoKIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoKIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoqLwpmdW5jdGlvbiBiYSgpe307ZnVuY3Rpb24gY2EoYSl7dmFyIGI9Y29uc29sZVthXTtiP2IuYmluZHx8KGNvbnNvbGVbYV09ZnVuY3Rpb24oKXtiLmFwcGx5KGNvbnNvbGUsYXJndW1lbnRzKX0pOmNvbnNvbGVbYV09ZnVuY3Rpb24oKXt9fWNhKCJlcnJvciIpO2NhKCJ3YXJuIik7Y2EoImluZm8iKTtjYSgibG9nIik7Y2EoImRlYnVnIik7dmFyIHU9e3FhOmZ1bmN0aW9uKGEpe3UuSGJbYV09e3FhOnUud2MoKSxlbmQ6TmFOfX0sZW5kOmZ1bmN0aW9uKGEpe2lmKGE9dS5IYlthXSlhLmVuZD11LndjKCl9LE1kOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD11LmdldChhKSxlPXUuZ2V0KGIpO2lmKCFkfHwhZSlyZXR1cm4gTmFOO2QtPWU7Zm9yKGU9MjtlPGFyZ3VtZW50cy5sZW5ndGg7KytlKXt2YXIgZj11LmdldChhcmd1bWVudHNbZV0pO2lmKCFmKXJldHVybiBOYU47ZC09Zn1yZXR1cm4gZH0sZ2V0OmZ1bmN0aW9uKGEpe3JldHVybihhPXUuSGJbYV0pJiZhLmVuZD9hLmVuZC1hLnFhOk5hTn19O3Uud2M9d2luZG93LnBlcmZvcm1hbmNlJiZ3aW5kb3cucGVyZm9ybWFuY2Uubm93P3dpbmRvdy5wZXJmb3JtYW5jZS5ub3cuYmluZCh3aW5kb3cucGVyZm9ybWFuY2UpOkRhdGUubm93O3UuSGI9e307LyoKCiBDb3B5cmlnaHQgMjAwNC1wcmVzZW50IEZhY2Vib29rLiBBbGwgUmlnaHRzIFJlc2VydmVkLgoKKi8KZnVuY3Rpb24gZmEoYSxiLGMsZCxlLGYsZyxoKXt0aGlzLmlkPWE7dGhpcy5iYW5kd2lkdGg9Ynx8MDt0aGlzLmxhbmc9Y3x8InVua25vd24iO3RoaXMuc3RyZWFtSW5mb0lEPWQ7dGhpcy5taW1lVHlwZT1lfHwiIjt0aGlzLmNvZGVjcz1mfHwiIjt0aGlzLmNoYW5uZWxzPWd8fG51bGw7dGhpcy5zYW1wbGluZ1JhdGU9aHx8bnVsbDt0aGlzLmFjdGl2ZT0hMX1xKCJzaGFrYS5wbGF5ZXIuQXVkaW9UcmFjay5jb21wYXJlIixmdW5jdGlvbihhLGIpe3JldHVybiBhLmxhbmc8Yi5sYW5nPy0xOmEubGFuZz5iLmxhbmc/MTphLmJhbmR3aWR0aDxiLmJhbmR3aWR0aD8tMTphLmJhbmR3aWR0aD5iLmJhbmR3aWR0aD8xOjB9KTt2YXIgZ2E9VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoInNoYWthX2RlZmF1bHRfcmVxdWVzdF90aW1lb3V0X3RpbWVzY2FsZSIsMUUzKSxoYT1NYXRoLmZsb29yKFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJzaGFrYV9kZWZhdWx0X2FqYXhfcmVxdWVzdF90aW1lb3V0X21zIiwwKS9nYSksaWE9TWF0aC5mbG9vcihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigic2hha2FfZGVmYXVsdF9hamF4X3JlcXVlc3RfdGltZW91dF9tcyIsMCkvZ2EpLGphPU1hdGguZmxvb3IoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoInNoYWthX2RlZmF1bHRfYWpheF9yZXF1ZXN0X3RpbWVvdXRfbXMiLDApL2dhKTtmdW5jdGlvbiBrYSgpe3RoaXMubWluQmFuZHdpZHRoPXRoaXMubWF4QmFuZHdpZHRoPXRoaXMubWF4V2lkdGg9dGhpcy5taW5IZWlnaHQ9dGhpcy5tYXhIZWlnaHQ9bnVsbH1rYS5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYT1uZXcga2E7YS5tYXhIZWlnaHQ9dGhpcy5tYXhIZWlnaHQ7YS5taW5IZWlnaHQ9dGhpcy5taW5IZWlnaHQ7YS5tYXhXaWR0aD10aGlzLm1heFdpZHRoO2EubWF4QmFuZHdpZHRoPXRoaXMubWF4QmFuZHdpZHRoO2EubWluQmFuZHdpZHRoPXRoaXMubWluQmFuZHdpZHRoO3JldHVybiBhfTtmdW5jdGlvbiBsYSgpe3RoaXMuZm9udFNpemU9IjEwMCUiO3RoaXMuZm9udENvbG9yPW1hO3RoaXMuZm9udE9wYWNpdHk9b2E7dGhpcy5iYWNrZ3JvdW5kQ29sb3I9cGE7dGhpcy5iYWNrZ3JvdW5kT3BhY2l0eT1vYTt0aGlzLmZvbnRFZGdlPXFhfXEoInNoYWthLnBsYXllci5UZXh0U3R5bGUiLGxhKTsKZnVuY3Rpb24gcmEoYSl7dmFyIGI9W107Yi5wdXNoKCJmb250LXNpemU6ICIrYS5mb250U2l6ZSk7Yi5wdXNoKCJjb2xvcjogIitzYShhLmZvbnRDb2xvcixhLmZvbnRPcGFjaXR5KSk7Yi5wdXNoKCJiYWNrZ3JvdW5kLWNvbG9yOiAiK3NhKGEuYmFja2dyb3VuZENvbG9yLGEuYmFja2dyb3VuZE9wYWNpdHkpKTtmb3IodmFyIGM9W10sZD0wO2Q8YS5mb250RWRnZS5sZW5ndGg7KytkKXt2YXIgZT1hLmZvbnRFZGdlW2RdLnNsaWNlKDMsNik7Yy5wdXNoKHNhKGEuZm9udEVkZ2VbZF0uc2xpY2UoMCwzKSxhLmZvbnRPcGFjaXR5KSsiICIrZS5qb2luKCJweCAiKSsicHgiKX1iLnB1c2goInRleHQtc2hhZG93OiAiK2Muam9pbigiLCIpKTtyZXR1cm4gYi5qb2luKCI7ICIpfWZ1bmN0aW9uIHNhKGEsYil7cmV0dXJuInJnYmEoIithLmNvbmNhdChiKS5qb2luKCIsIikrIikifXZhciBtYT1bMjU1LDI1NSwyNTVdLHBhPVswLDAsMF07CmxhLlN0YW5kYXJkQ29sb3JzPXtXSElURTptYSxCTEFDSzpwYSxSRUQ6WzI1NSwwLDBdLEdSRUVOOlswLDI1NSwwXSxCTFVFOlswLDAsMjU1XSxZRUxMT1c6WzI1NSwyNTUsMF0sTUFHRU5UQTpbMjU1LDAsMjU1XSxDWUFOOlswLDI1NSwyNTVdfTt2YXIgb2E9MTtsYS5TdGFuZGFyZE9wYWNpdGllcz17T1BBUVVFOm9hLFNFTUlfSElHSDouNzUsU0VNSV9MT1c6LjI1LFRSQU5TUEFSRU5UOjB9O3ZhciBxYT1bXTsKbGEuRWRnZVN0eWxlcz17Tk9ORTpxYSxSQUlTRUQ6W1szNCwzNCwzNCwxLDEsMF0sWzM0LDM0LDM0LDIsMiwwXSxbMzQsMzQsMzQsMywzLDBdXSxERVBSRVNTRUQ6W1syMDQsMjA0LDIwNCwxLDEsMF0sWzIwNCwyMDQsMjA0LDAsMSwwXSxbMzQsMzQsMzQsLTEsLTEsMF0sWzM0LDM0LDM0LDAsLTEsMF1dLFVOSUZPUk06W1szNCwzNCwzNCwwLDAsNF0sWzM0LDM0LDM0LDAsMCw0XSxbMzQsMzQsMzQsMCwwLDRdLFszNCwzNCwzNCwwLDAsNF1dLERST1A6W1szNCwzNCwzNCwyLDIsM10sWzM0LDM0LDM0LDIsMiw0XSxbMzQsMzQsMzQsMiwyLDVdXX07ZnVuY3Rpb24gdGEoYSxiKXt0aGlzLmlkPWE7dGhpcy5sYW5nPWJ8fCJ1bmtub3duIjt0aGlzLmVuYWJsZWQ9dGhpcy5hY3RpdmU9ITF9cSgic2hha2EucGxheWVyLlRleHRUcmFjay5jb21wYXJlIixmdW5jdGlvbihhLGIpe3JldHVybiBhLmxhbmc8Yi5sYW5nPy0xOmEubGFuZz5iLmxhbmc/MTowfSk7ZnVuY3Rpb24gdWEoYSxiLGMsZCxlLGYsZyxoLGssbCxtLHAsdCl7dGhpcy5pZD1hO3RoaXMuYmFuZHdpZHRoPWJ8fDA7dGhpcy53aWR0aD1jfHwwO3RoaXMuaGVpZ2h0PWR8fDA7dGhpcy5zdHJlYW1JbmZvSUQ9ZTt0aGlzLmZiUXVhbGl0eUxhYmVsPWY7dGhpcy5mYlF1YWxpdHlDbGFzcz1nO2E9W107aCYmKGE9aC5zcGxpdCgiLCIpKTt0aGlzLmZyYW1lUmF0ZT1rfHwiIjt0aGlzLm1pbWVUeXBlPWx8fCIiO3RoaXMuY29kZWNzPW18fCIiO3RoaXMuaXNIVlE9LTE8YS5pbmRleE9mKCJodnEiKTt0aGlzLmlzSW5saW5lSFZRPS0xPGEuaW5kZXhPZigiaHZxX3d3d19pbmxpbmUiKTt0aGlzLmF2b2lkT25Qb29yQ29ubmVjdGlvbj0tMTxhLmluZGV4T2YoImF2b2lkX29uX3Bvb3JfY29ubmVjdGlvbiIpO3RoaXMuYWN0aXZlPSExO3RoaXMucGxheWJhY2tSZXNvbHV0aW9uTW9zPXB8fG51bGw7dGhpcy5wbGF5YmFja1Jlc29sdXRpb25Nb3NDb25maWRlbmNlTGV2ZWw9dHx8bnVsbH0KZnVuY3Rpb24gdmEoYSxiKXt2YXIgYz1hLndpZHRoKmEuaGVpZ2h0LGQ9Yi53aWR0aCpiLmhlaWdodDtyZXR1cm4gYzxkPy0xOmM+ZD8xOmEuYmFuZHdpZHRoPGIuYmFuZHdpZHRoPy0xOmEuYmFuZHdpZHRoPmIuYmFuZHdpZHRoPzE6MH1xKCJzaGFrYS5wbGF5ZXIuVmlkZW9UcmFjay5jb21wYXJlIix2YSk7ZnVuY3Rpb24gd2EoYSl7Zm9yKHZhciBiPXhhLGM9W10sZD0wO2Q8YS5sZW5ndGg7KytkKXtmb3IodmFyIGU9ITEsZj0wO2Y8Yy5sZW5ndGgmJiEoZT1iP2IoYVtkXSxjW2ZdKTphW2RdPT09Y1tmXSk7KytmKTtlfHxjLnB1c2goYVtkXSl9cmV0dXJuIGN9O2Z1bmN0aW9uIHlhKCl7cmV0dXJuIERhdGUubm93KCkremF9dmFyIHphPTA7ZnVuY3Rpb24gQmEoYSl7dGhpcy5iPWE7dGhpcy5jPTA9PUNhO3RoaXMuYT0wfXZhciBDYT0xO2Z1bmN0aW9uIERhKGEpe3JldHVybiBhLmE8YS5iLmJ5dGVMZW5ndGh9ZnVuY3Rpb24gRWEoYSl7dmFyIGI9YS5iLmdldFVpbnQ4KGEuYSk7YS5hKz0xO3JldHVybiBifWZ1bmN0aW9uIHYoYSl7dmFyIGI9YS5iLmdldFVpbnQzMihhLmEsYS5jKTthLmErPTQ7cmV0dXJuIGJ9ZnVuY3Rpb24gRmEoYSl7dmFyIGIsYzthLmM/KGI9YS5iLmdldFVpbnQzMihhLmEsITApLGM9YS5iLmdldFVpbnQzMihhLmErNCwhMCkpOihjPWEuYi5nZXRVaW50MzIoYS5hLCExKSxiPWEuYi5nZXRVaW50MzIoYS5hKzQsITEpKTtpZigyMDk3MTUxPGMpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkRhdGFWaWV3UmVhZGVyOiBPdmVyZmxvdyByZWFkaW5nIDY0LWJpdCB2YWx1ZS4iKTthLmErPTg7cmV0dXJuIGMqTWF0aC5wb3coMiwzMikrYn0KZnVuY3Rpb24gR2EoYSl7aWYoYS5hKzE2PmEuYi5ieXRlTGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKCJEYXRhVmlld1JlYWRlcjogUmVhZCBwYXN0IGVuZCBvZiBEYXRhVmlldy4iKTt2YXIgYj1uZXcgVWludDhBcnJheShhLmIuYnVmZmVyLGEuYSwxNik7YS5hKz0xNjtyZXR1cm4gYn1mdW5jdGlvbiBIYShhLGIpe2lmKGEuYStiPmEuYi5ieXRlTGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKCJEYXRhVmlld1JlYWRlcjogU2tpcCBwYXN0IGVuZCBvZiBEYXRhVmlldy4iKTthLmErPWJ9O2Z1bmN0aW9uIElhKGEpe3RoaXMuYj1hO3RoaXMuYT1uZXcgQmEoYSk7SmF8fChKYT1bbmV3IFVpbnQ4QXJyYXkoWzI1NV0pLG5ldyBVaW50OEFycmF5KFsxMjcsMjU1XSksbmV3IFVpbnQ4QXJyYXkoWzYzLDI1NSwyNTVdKSxuZXcgVWludDhBcnJheShbMzEsMjU1LDI1NSwyNTVdKSxuZXcgVWludDhBcnJheShbMTUsMjU1LDI1NSwyNTUsMjU1XSksbmV3IFVpbnQ4QXJyYXkoWzcsMjU1LDI1NSwyNTUsMjU1LDI1NV0pLG5ldyBVaW50OEFycmF5KFszLDI1NSwyNTUsMjU1LDI1NSwyNTUsMjU1XSksbmV3IFVpbnQ4QXJyYXkoWzEsMjU1LDI1NSwyNTUsMjU1LDI1NSwyNTUsMjU1XSldKX12YXIgSmE7CmZ1bmN0aW9uIEthKGEpe3ZhciBiO2I9TGEoYSk7aWYoNzxiLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiRWJtbFBhcnNlcjogRUJNTCBJRCBtdXN0IGJlIGF0IG1vc3QgNyBieXRlcy4iKTtmb3IodmFyIGM9MCxkPTA7ZDxiLmxlbmd0aDtkKyspYz0yNTYqYytiW2RdO2I9YztjPUxhKGEpO2E6e2ZvcihkPTA7ZDxKYS5sZW5ndGg7ZCsrKWlmKE1hKGMsSmFbZF0pKXtkPSEwO2JyZWFrIGF9ZD0hMX1pZihkKWM9YS5iLmJ5dGVMZW5ndGgtYS5hLmE7ZWxzZXtpZig4PT1jLmxlbmd0aCYmY1sxXSYyMjQpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkVibWxQYXJzZXI6IFZhcmlhYmxlIHNpemVkIGludGVnZXIgdmFsdWUgbXVzdCBiZSBhdCBtb3N0IDUzIGJpdHMuIik7Zm9yKHZhciBkPWNbMF0mKDE8PDgtYy5sZW5ndGgpLTEsZT0xO2U8Yy5sZW5ndGg7ZSsrKWQ9MjU2KmQrY1tlXTtjPWR9Yz1hLmEuYStjPD1hLmIuYnl0ZUxlbmd0aD9jOmEuYi5ieXRlTGVuZ3RoLWEuYS5hO2Q9bmV3IERhdGFWaWV3KGEuYi5idWZmZXIsCmEuYi5ieXRlT2Zmc2V0K2EuYS5hLGMpO0hhKGEuYSxjKTtyZXR1cm4gbmV3IE5hKGIsZCl9ZnVuY3Rpb24gTGEoYSl7dmFyIGI9RWEoYS5hKSxjO2ZvcihjPTE7OD49YyYmIShiJjE8PDgtYyk7YysrKTtpZig4PGMpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkVibWxQYXJzZXI6IFZhcmlhYmxlIHNpemVkIGludGVnZXIgbXVzdCBmaXQgd2l0aGluIDggYnl0ZXMuIik7dmFyIGQ9bmV3IFVpbnQ4QXJyYXkoYyk7ZFswXT1iO2ZvcihiPTE7YjxjO2IrKylkW2JdPUVhKGEuYSk7cmV0dXJuIGR9ZnVuY3Rpb24gTmEoYSxiKXt0aGlzLmlkPWE7dGhpcy5hPWJ9CmZ1bmN0aW9uIE9hKGEpe2lmKDg8YS5hLmJ5dGVMZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkVibWxFbGVtZW50OiBVbnNpZ25lZCBpbnRlZ2VyIGhhcyB0b28gbWFueSBieXRlcy4iKTtpZig4PT1hLmEuYnl0ZUxlbmd0aCYmYS5hLmdldFVpbnQ4KDApJjIyNCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiRWJtbFBhcnNlcjogVW5zaWduZWQgaW50ZWdlciBtdXN0IGJlIGF0IG1vc3QgNTMgYml0cy4iKTtmb3IodmFyIGI9MCxjPTA7YzxhLmEuYnl0ZUxlbmd0aDtjKyspdmFyIGQ9YS5hLmdldFVpbnQ4KGMpLGI9MjU2KmIrZDtyZXR1cm4gYn07dmFyIFBhPXsib3V0cHV0LXJlc3RyaWN0ZWQiOiJUaGUgcmVxdWlyZWQgb3V0cHV0IHByb3RlY3Rpb24gaXMgbm90IGF2YWlsYWJsZS4iLCJvdXRwdXQtbm90LWFsbG93ZWQiOiJUaGUgcmVxdWlyZWQgb3V0cHV0IHByb3RlY3Rpb24gaXMgbm90IGF2YWlsYWJsZS4iLGV4cGlyZWQ6IlRoZSBkZWNyeXB0aW9uIGtleSBoYXMgZXhwaXJlZC4iLCJpbnRlcm5hbC1lcnJvciI6IlRoZSBrZXkgc3lzdGVtIGhhcyBlbmNvdW50ZXJlZCBhbiB1bnNwZWNpZmllZCBlcnJvci4ifTtmdW5jdGlvbiB4KGEpe3RoaXMuYj1NYXRoLmV4cChNYXRoLmxvZyguNSkvYSk7dGhpcy55Yj10aGlzLiRhPXRoaXMuYT0wfXEoInNoYWthLnV0aWwuRVdNQSIseCk7eC5wcm90b3R5cGUuc2FtcGxlPWZ1bmN0aW9uKGEsYil7dmFyIGM9TWF0aC5wb3codGhpcy5iLGEpO3RoaXMuYT1iKigxLWMpK2MqdGhpcy5hO3RoaXMuJGErPWE7dGhpcy55Yis9MX07eC5wcm90b3R5cGUuc2FtcGxlPXgucHJvdG90eXBlLnNhbXBsZTt4LnByb3RvdHlwZS5jPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGF9O3gucHJvdG90eXBlLmdldFRvdGFsV2VpZ2h0PXgucHJvdG90eXBlLmM7eC5wcm90b3R5cGUuZ2V0RXN0aW1hdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLygxLU1hdGgucG93KHRoaXMuYix0aGlzLiRhKSl9O3gucHJvdG90eXBlLmdldEVzdGltYXRlPXgucHJvdG90eXBlLmdldEVzdGltYXRlO3gucHJvdG90eXBlLmY9ZnVuY3Rpb24oKXt0aGlzLnliPXRoaXMuJGE9dGhpcy5hPTB9Owp4LnByb3RvdHlwZS5yZXNldD14LnByb3RvdHlwZS5mO3ZhciBRYT13aW5kb3cuQ3VzdG9tRXZlbnQ7ImZ1bmN0aW9uIiE9PXR5cGVvZiBRYSYmKFFhPWZ1bmN0aW9uKGEsYil7Yj1ifHx7YnViYmxlczohMSxjYW5jZWxhYmxlOiExLGRldGFpbDp2b2lkIDB9O3ZhciBjPWRvY3VtZW50LmNyZWF0ZUV2ZW50KCJDdXN0b21FdmVudCIpO2MuaW5pdEN1c3RvbUV2ZW50KGEsYi5idWJibGVzLGIuY2FuY2VsYWJsZSxiLmRldGFpbCk7cmV0dXJuIGN9LFFhLnByb3RvdHlwZT13aW5kb3cuRXZlbnQucHJvdG90eXBlKTtmdW5jdGlvbiB5KGEpe3ZhciBiPW5ldyBRYShhLnR5cGUse2RldGFpbDphLmRldGFpbCxidWJibGVzOiEhYS5idWJibGVzfSksYztmb3IoYyBpbiBhKWMgaW4gYnx8KGJbY109YVtjXSk7cmV0dXJuIGJ9ZnVuY3Rpb24gQShhKXtyZXR1cm4gbmV3IFFhKCJlcnJvciIse2RldGFpbDphLGJ1YmJsZXM6ITB9KX07ZnVuY3Rpb24gUmEoYSxiLGMpe1NhKGIpO1NhKGMpO3JldHVybiBjPT1ifHxhPj1UYSYmYz09Yi5zcGxpdCgiLSIpWzBdfHxhPj1VYSYmYy5zcGxpdCgiLSIpWzBdPT1iLnNwbGl0KCItIilbMF0/ITA6ITF9dmFyIFRhPTEsVWE9MjtmdW5jdGlvbiBTYShhKXthPWEudG9Mb3dlckNhc2UoKS5zcGxpdCgiLSIpO3ZhciBiPVZhW2FbMF1dO2ImJihhWzBdPWIpO3JldHVybiBhLmpvaW4oIi0iKX0KdmFyIFZhPXthYXI6ImFhIixhYms6ImFiIixhZnI6ImFmIixha2E6ImFrIixhbGI6InNxIixhbWg6ImFtIixhcmE6ImFyIixhcmc6ImFuIixhcm06Imh5Iixhc206ImFzIixhdmE6ImF2IixhdmU6ImFlIixheW06ImF5IixhemU6ImF6IixiYWs6ImJhIixiYW06ImJtIixiYXE6ImV1IixiZWw6ImJlIixiZW46ImJuIixiaWg6ImJoIixiaXM6ImJpIixib2Q6ImJvIixib3M6ImJzIixicmU6ImJyIixidWw6ImJnIixidXI6Im15IixjYXQ6ImNhIixjZXM6ImNzIixjaGE6ImNoIixjaGU6ImNlIixjaGk6InpoIixjaHU6ImN1IixjaHY6ImN2Iixjb3I6Imt3Iixjb3M6ImNvIixjcmU6ImNyIixjeW06ImN5IixjemU6ImNzIixkYW46ImRhIixkZXU6ImRlIixkaXY6ImR2IixkdXQ6Im5sIixkem86ImR6IixlbGw6ImVsIixlbmc6ImVuIixlcG86ImVvIixlc3Q6ImV0IixldXM6ImV1Iixld2U6ImVlIixmYW86ImZvIixmYXM6ImZhIixmaWo6ImZqIixmaW46ImZpIixmcmE6ImZyIixmcmU6ImZyIiwKZnJ5OiJmeSIsZnVsOiJmZiIsZ2VvOiJrYSIsZ2VyOiJkZSIsZ2xhOiJnZCIsZ2xlOiJnYSIsZ2xnOiJnbCIsZ2x2OiJndiIsZ3JlOiJlbCIsZ3JuOiJnbiIsZ3VqOiJndSIsaGF0OiJodCIsaGF1OiJoYSIsaGViOiJoZSIsaGVyOiJoeiIsaGluOiJoaSIsaG1vOiJobyIsaHJ2OiJociIsaHVuOiJodSIsaHllOiJoeSIsaWJvOiJpZyIsaWNlOiJpcyIsaWRvOiJpbyIsaWlpOiJpaSIsaWt1OiJpdSIsaWxlOiJpZSIsaW5hOiJpYSIsaW5kOiJpZCIsaXBrOiJpayIsaXNsOiJpcyIsaXRhOiJpdCIsamF2OiJqdiIsanBuOiJqYSIsa2FsOiJrbCIsa2FuOiJrbiIsa2FzOiJrcyIsa2F0OiJrYSIsa2F1OiJrciIsa2F6OiJrayIsa2htOiJrbSIsa2lrOiJraSIsa2luOiJydyIsa2lyOiJreSIsa29tOiJrdiIsa29uOiJrZyIsa29yOiJrbyIsa3VhOiJraiIsa3VyOiJrdSIsbGFvOiJsbyIsbGF0OiJsYSIsbGF2OiJsdiIsbGltOiJsaSIsbGluOiJsbiIsbGl0OiJsdCIsbHR6OiJsYiIsbHViOiJsdSIsCmx1ZzoibGciLG1hYzoibWsiLG1haDoibWgiLG1hbDoibWwiLG1hbzoibWkiLG1hcjoibXIiLG1heToibXMiLG1rZDoibWsiLG1sZzoibWciLG1sdDoibXQiLG1vbjoibW4iLG1yaToibWkiLG1zYToibXMiLG15YToibXkiLG5hdToibmEiLG5hdjoibnYiLG5ibDoibnIiLG5kZToibmQiLG5kbzoibmciLG5lcDoibmUiLG5sZDoibmwiLG5ubzoibm4iLG5vYjoibmIiLG5vcjoibm8iLG55YToibnkiLG9jaToib2MiLG9qaToib2oiLG9yaToib3IiLG9ybToib20iLG9zczoib3MiLHBhbjoicGEiLHBlcjoiZmEiLHBsaToicGkiLHBvbDoicGwiLHBvcjoicHQiLHB1czoicHMiLHF1ZToicXUiLHJvaDoicm0iLHJvbjoicm8iLHJ1bToicm8iLHJ1bjoicm4iLHJ1czoicnUiLHNhZzoic2ciLHNhbjoic2EiLHNpbjoic2kiLHNsazoic2siLHNsbzoic2siLHNsdjoic2wiLHNtZToic2UiLHNtbzoic20iLHNuYToic24iLHNuZDoic2QiLHNvbToic28iLHNvdDoic3QiLHNwYToiZXMiLHNxaToic3EiLApzcmQ6InNjIixzcnA6InNyIixzc3c6InNzIixzdW46InN1Iixzd2E6InN3Iixzd2U6InN2Iix0YWg6InR5Iix0YW06InRhIix0YXQ6InR0Iix0ZWw6InRlIix0Z2s6InRnIix0Z2w6InRsIix0aGE6InRoIix0aWI6ImJvIix0aXI6InRpIix0b246InRvIix0c246InRuIix0c286InRzIix0dWs6InRrIix0dXI6InRyIix0d2k6InR3Iix1aWc6InVnIix1a3I6InVrIix1cmQ6InVyIix1emI6InV6Iix2ZW46InZlIix2aWU6InZpIix2b2w6InZvIix3ZWw6ImN5Iix3bG46IndhIix3b2w6IndvIix4aG86InhoIix5aWQ6InlpIix5b3I6InlvIix6aGE6InphIix6aG86InpoIix6dWw6Inp1In07ZnVuY3Rpb24gV2EoYSl7cmV0dXJuIE9iamVjdC5rZXlzKGEpLm1hcChmdW5jdGlvbihiKXtyZXR1cm4gYVtiXX0pfWZ1bmN0aW9uIEIoYSxiKXtyZXR1cm4gWGEoYSxiLCJib29sZWFuIil9ZnVuY3Rpb24gQyhhLGIsYyl7YT1YYShhLGIsIm51bWJlciIpO2lmKG51bGw9PWEpcmV0dXJuIG51bGw7aWYoaXNOYU4oYSl8fGE9PU51bWJlci5ORUdBVElWRV9JTkZJTklUWXx8YT09TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZKXRocm93IG5ldyBSYW5nZUVycm9yKCInIitiKyInIG11c3QgYmUgZmluaXRlLiIpO2lmKG51bGwhPWMmJmE8Yyl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiJyIrYisiJyBtdXN0IGJlID49ICIrYyk7cmV0dXJuIGF9ZnVuY3Rpb24gWWEoYSxiKXtyZXR1cm4gWGEoYSxiLCJzdHJpbmciKX0KZnVuY3Rpb24gWGEoYSxiLGMpe2E9YVtiXTtpZihudWxsPT1hKXJldHVybiBudWxsO2lmKHR5cGVvZiBhIT09Yyl0aHJvdyBuZXcgVHlwZUVycm9yKCInIitiKyInIG11c3QgYmUgYSAiK2MrIi4iKTtyZXR1cm4gYX1mdW5jdGlvbiBaYShhLGIsYyl7YT1hW2JdO2lmKG51bGw9PWEpcmV0dXJuIG51bGw7aWYoIShhIGluc3RhbmNlb2YgYykpdGhyb3cgbmV3IFR5cGVFcnJvcigiJyIrYisiJyBtdXN0IGJlIGFuIGluc3RhbmNlIG9mICIrYy5uYW1lKyIuIik7cmV0dXJuIGF9O2Z1bmN0aW9uIEQoKXt0aGlzLmE9e319RC5wcm90b3R5cGUucHVzaD1mdW5jdGlvbihhLGIpe3RoaXMuYS5oYXNPd25Qcm9wZXJ0eShhKT90aGlzLmFbYV0ucHVzaChiKTp0aGlzLmFbYV09W2JdfTtELnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24oYSxiKXt0aGlzLmFbYV09Yn07RC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGEpe3JldHVybihhPXRoaXMuYVthXSk/YS5zbGljZSgpOm51bGx9O2Z1bmN0aW9uICRhKGEpe3ZhciBiPVtdLGM7Zm9yKGMgaW4gYS5hKWIucHVzaC5hcHBseShiLGEuYVtjXSk7cmV0dXJuIGJ9RC5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5hW2FdO2lmKGMpZm9yKHZhciBkPTA7ZDxjLmxlbmd0aDsrK2QpY1tkXT09YiYmKGMuc3BsaWNlKGQsMSksLS1kKX07ZnVuY3Rpb24gYWIoYSl7dmFyIGI9W10sYztmb3IoYyBpbiBhLmEpYi5wdXNoKGMpO3JldHVybiBifTtmdW5jdGlvbiBiYigpe3RoaXMuYT1uZXcgRH1iYi5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe2RiKHRoaXMpO3RoaXMuYT1udWxsfTtmdW5jdGlvbiBFKGEsYixjLGQpe2I9bmV3IGViKGIsYyxkKTthLmEucHVzaChjLGIpfWJiLnByb3RvdHlwZS5hYj1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz10aGlzLmEuZ2V0KGIpfHxbXSxkPTA7ZDxjLmxlbmd0aDsrK2Qpe3ZhciBlPWNbZF07ZS50YXJnZXQ9PWEmJihlLmFiKCksdGhpcy5hLnJlbW92ZShiLGUpKX19O2Z1bmN0aW9uIGRiKGEpe2Zvcih2YXIgYj0kYShhLmEpLGM9MDtjPGIubGVuZ3RoOysrYyliW2NdLmFiKCk7YS5hLmE9e319ZnVuY3Rpb24gZWIoYSxiLGMpe3RoaXMudGFyZ2V0PWE7dGhpcy50eXBlPWI7dGhpcy5hPWM7dGhpcy50YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihiLGMsITEpfQplYi5wcm90b3R5cGUuYWI9ZnVuY3Rpb24oKXt0aGlzLnRhcmdldCYmKHRoaXMudGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIodGhpcy50eXBlLHRoaXMuYSwhMSksdGhpcy5hPXRoaXMudGFyZ2V0PW51bGwpfTtmdW5jdGlvbiBGKGEpe3RoaXMuRWI9bmV3IEQ7dGhpcy5KYT1hfXEoInNoYWthLnV0aWwuRmFrZUV2ZW50VGFyZ2V0IixGKTtuPUYucHJvdG90eXBlO24uYWRkRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbihhLGIpe3RoaXMuRWIucHVzaChhLGIpfTtuLnJlbW92ZUV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24oYSxiKXt0aGlzLkViLnJlbW92ZShhLGIpfTsKbi5kaXNwYXRjaEV2ZW50PWZ1bmN0aW9uKGEpe2EuaGFzT3duUHJvcGVydHkoInNyY0VsZW1lbnQiKXx8KGRlbGV0ZSBhLnNyY0VsZW1lbnQsT2JqZWN0LmRlZmluZVByb3BlcnR5KGEsInNyY0VsZW1lbnQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH19KSk7aWYoYS5oYXNPd25Qcm9wZXJ0eSgidGFyZ2V0IikpYS50YXJnZXQ9dGhpcztlbHNle2RlbGV0ZSBhLnRhcmdldDt2YXIgYj10aGlzO09iamVjdC5kZWZpbmVQcm9wZXJ0eShhLCJ0YXJnZXQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYn0sc2V0OmZ1bmN0aW9uKGEpe2I9YX19KX1pZihhLmhhc093blByb3BlcnR5KCJjdXJyZW50VGFyZ2V0IikpYS5jdXJyZW50VGFyZ2V0PW51bGw7ZWxzZXtkZWxldGUgYS5jdXJyZW50VGFyZ2V0O3ZhciBjPW51bGw7T2JqZWN0LmRlZmluZVByb3BlcnR5KGEsImN1cnJlbnRUYXJnZXQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY30sc2V0OmZ1bmN0aW9uKGEpe2M9YX19KX1yZXR1cm4gZmIodGhpcywKYSl9O24ub2M9ITE7bi5MYT1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmRpc3BhdGNoRXZlbnQoeSh7dHlwZToiZGVidWcvZGFzaFBsYXllckV2ZW50IixidWJibGVzOiEwLGRldGFpbDp7dHlwZTphLGV2ZW50OmJ9fSkpfTtmdW5jdGlvbiBmYihhLGIpe2IuY3VycmVudFRhcmdldD1hO2Zvcih2YXIgYz1hLkViLmdldChiLnR5cGUpfHxbXSxkPTA7ZDxjLmxlbmd0aDsrK2Qpe3ZhciBlPWNbZF07dHJ5e2UuaGFuZGxlRXZlbnQ/ZS5oYW5kbGVFdmVudChiKTplLmNhbGwoYSxiKX1jYXRjaChmKXt9fWEuSmEmJmIuYnViYmxlcyYmZmIoYS5KYSxiKTtyZXR1cm4gYi5kZWZhdWx0UHJldmVudGVkfTtmdW5jdGlvbiBHKGEpe0YuY2FsbCh0aGlzLG51bGwpO3RoaXMuYT17b2I6e1ZhOm5ldyB4KFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJmYXN0X21vdmluZ19hdmVyYWdlX2hhbGZfbGlmZSIsMykpLHhiOm5ldyB4KFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJzbG93X21vdmluZ19hdmVyYWdlX2hhbGZfbGlmZSIsMTApKX0sY2I6e1ZhOm5ldyB4KFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJhZ2dyZXNzaXZlX2Zhc3RfbW92aW5nX2F2ZXJhZ2VfaGFsZl9saWZlIiwxRS00KSkseGI6bmV3IHgoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoImFnZ3Jlc3NpdmVfc2xvd19tb3ZpbmdfYXZlcmFnZV9oYWxmX2xpZmUiLDkuMjMzNTA4NzkxNzc0NSkpfX07dGhpcy5oPWF8fDVFNTt0aGlzLmo9VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoIm1pbl9zYW1wbGVfY291bnQiLAoxRTQpO3RoaXMuYj0wO3RoaXMuYz1bXTt0aGlzLmk9VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoIm1heF9yZWNlbnRfYmFuZHdpZHRoX3NhbXBsZXMiLDApfXIoRyxGKTtxKCJzaGFrYS51dGlsLkVXTUFCYW5kd2lkdGhFc3RpbWF0b3IiLEcpO0cucHJvdG90eXBlLnNob3VsZEV4Y2x1ZGVTYW1wbGU9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJjaGFuZ2VfYWJyX2F1ZGlvX2V4Y2x1c2lvbl9sb2dpYyIsITApPyFiOjY1NTM2PmF9OwpHLnByb3RvdHlwZS5zYW1wbGU9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyl7aWYodGhpcy5zaG91bGRFeGNsdWRlU2FtcGxlKGIsYykpZSYmZS5zZXRFdmVudCgidW5zYW1wbGVkIikuc2V0UmVhc29uKCJhdWRpbyIpLmxvZygpO2Vsc2V7aWYoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJ1c2VfcmVzb3VyY2VfdGltaW5nX2VudHJ5X2Zvcl9iYW5kd2lkdGgiLCEwKSl7aWYoIWQpe2UmJmUuc2V0RXZlbnQoInVuc2FtcGxlZCIpLnNldFJlYXNvbigicmVzb3VyY2VfdGltaW5nX2VudHJ5X21pc3NpbmciKS5sb2coKTtyZXR1cm59YT1kLnRpbWVUb0xhc3RCeXRlO2lmKDA+YSl7ZSYmZS5zZXRFdmVudCgidW5zYW1wbGVkIikuc2V0UmVhc29uKCJyZXNvdXJjZV90aW1pbmdfZW50cnlfaW52YWxpZCIpLmxvZygpO3JldHVybn19YT1NYXRoLm1heChhLDUwKTtjPTFFMypVbml0Q29uc3RhbnRzLkJJVFNfSU5fQllURSpiL2E7dmFyIGg9YS8xRTM7dGhpcy5hLmNiLlZhLnNhbXBsZShoLApjLGQpO3RoaXMuYS5jYi54Yi5zYW1wbGUoaCxjLGQpO3RoaXMuYS5vYi5WYS5zYW1wbGUoaCxjLGQpO3RoaXMuYS5vYi54Yi5zYW1wbGUoaCxjLGQpO2d8fHRoaXMuZGlzcGF0Y2hFdmVudCh5KHt0eXBlOiJiYW5kd2lkdGgifSkpO3RoaXMuYj1EYXRlLm5vdygpO2Q9cGFyc2VJbnQoYSwxMCk7aWYoMDx0aGlzLmkpZm9yKHRoaXMuYy5wdXNoKFtiLGRdKTt0aGlzLmMubGVuZ3RoPnRoaXMuaTspdGhpcy5jLnNoaWZ0KCk7ZSYmZS5zZXRFdmVudCgic2FtcGxlZCIpLnNldEJ5dGVzKGIpLnNldERlbGF5TXMoZCkubG9nKCk7ZiYmZi5nZXRFdmVudExvZ2dlcigiYmFuZHdpZHRoX3NhbXBsZWQiKS5zZXRMZW5ndGgoYikuc2V0Q2xpZW50VGltZUJlZ2luKHRoaXMuYi1kKS5zZXRDbGllbnRUaW1lRW5kKHRoaXMuYikubG9nKCl9fTsKRy5wcm90b3R5cGUuZ2V0QmFuZHdpZHRoPWZ1bmN0aW9uKGEpe2E9ImFnZ3Jlc3NpdmUiPT09YT90aGlzLmEuY2I6dGhpcy5hLm9iO3JldHVybiB0aGlzLmNhblRydXN0RXN0aW1hdGUoKT9NYXRoLm1pbihhLlZhLmdldEVzdGltYXRlKCksYS54Yi5nZXRFc3RpbWF0ZSgpKTp0aGlzLmh9O0cucHJvdG90eXBlLmdldEZhc3RNb3ZpbmdCYW5kd2lkdGg9ZnVuY3Rpb24oYSl7YT0iYWdncmVzc2l2ZSI9PT1hP3RoaXMuYS5jYjp0aGlzLmEub2I7cmV0dXJuIHRoaXMuY2FuVHJ1c3RFc3RpbWF0ZSgpP2EuVmEuZ2V0RXN0aW1hdGUoKTp0aGlzLmh9O0cucHJvdG90eXBlLmdldERhdGFBZ2U9ZnVuY3Rpb24oKXtyZXR1cm4oRGF0ZS5ub3coKS10aGlzLmIpLzFFM307Ry5wcm90b3R5cGUuY2FuVHJ1c3RFc3RpbWF0ZT1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmEuY2IuVmE7cmV0dXJuIGIuJGE+PSh2b2lkIDA9PT1hPy41OmEpfHxiLnliPj10aGlzLmp9OwpHLnByb3RvdHlwZS5zdXBwb3J0c0NhY2hpbmc9ZnVuY3Rpb24oKXtyZXR1cm4hMX07Ry5wcm90b3R5cGUuc2V0UmVwcmVzZW50YXRpb25JRD1mdW5jdGlvbigpe307Ry5wcm90b3R5cGUuZmx1c2hBQlJFdmFsdWF0aW9uU2V0PWZ1bmN0aW9uKCl7cmV0dXJuW119O0cucHJvdG90eXBlLmdldFJlY2VudFNhbXBsZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jfTsvKgoKIENvcHlyaWdodCAyMDE1IEZhY2Vib29rIEluYy4KCiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoKICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KKi8KZnVuY3Rpb24gZ2IoYSxiLGMsZCl7Ry5jYWxsKHRoaXMsZCk7dGhpcy5nPWF8fDA7dGhpcy5mPXZvaWQgMD09PWI/SW5maW5pdHk6Yjt0aGlzLm09Y31yKGdiLEcpO3EoInNoYWthLnV0aWwuRVdNQUNhY2hlQmFuZHdpZHRoRXN0aW1hdG9yIixnYik7CmdiLnByb3RvdHlwZS5zYW1wbGU9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxoKXt2YXIgaz04RTMqYi9hO2UmJmUuc2V0Qnl0ZXMoYikuc2V0RGVsYXlNcyhwYXJzZUludChhLDEwKSk7YTw9dGhpcy5nJiZrPnRoaXMuZiYmIWg/KGUmJmUuc2V0RXZlbnQoInVuc2FtcGxlZCIpLnNldFJlYXNvbigiY2FjaGVkIikubG9nKCksZiYmIXRoaXMuc2hvdWxkRXhjbHVkZVNhbXBsZShiLGMpJiZmLmdldEV2ZW50TG9nZ2VyKCJiYW5kd2lkdGhfc2FtcGxlZCIpLnNldFJlc3VsdCgiYWJvcnRlZCIpLnNldExlbmd0aChiKS5zZXRDbGllbnRUaW1lQmVnaW4oRGF0ZS5ub3coKS1wYXJzZUludChhLDEwKSkuc2V0Q2xpZW50VGltZUVuZChEYXRlLm5vdygpKS5sb2coKSx0aGlzLm0oKSk6Ry5wcm90b3R5cGUuc2FtcGxlLmNhbGwodGhpcyxhLGIsYyxkLGUsZixnKX07Z2IucHJvdG90eXBlLnN1cHBvcnRzQ2FjaGluZz1mdW5jdGlvbigpe3JldHVybiBJbmZpbml0eSE9PXRoaXMuZiYmISF0aGlzLmd9OwpnYi5wcm90b3R5cGUuc2V0UmVwcmVzZW50YXRpb25JRD1mdW5jdGlvbigpe307Z2IucHJvdG90eXBlLmZsdXNoQUJSRXZhbHVhdGlvblNldD1mdW5jdGlvbigpe3JldHVybltdfTtmdW5jdGlvbiBoYigpe0cuY2FsbCh0aGlzKX1yKGhiLEcpO3EoInNoYWthLnV0aWwuRVdNQVNpZ25lZFVSTEJhbmR3aWR0aEVzdGltYXRvciIsaGIpO2hiLnByb3RvdHlwZS5zdXBwb3J0c0NhY2hpbmc9ZnVuY3Rpb24oKXtyZXR1cm4hMH07ZnVuY3Rpb24gSSgpe3ZhciBhLGIsYz1uZXcgUHJvbWlzZShmdW5jdGlvbihjLGUpe2E9YztiPWV9KTtjLnJlc29sdmU9YTtjLnJlamVjdD1iO2MuZGVzdHJveT1JLnByb3RvdHlwZS5kZXN0cm95O3JldHVybiBjfUkucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmNhdGNoKGZ1bmN0aW9uKCl7fSk7dmFyIGE9RXJyb3IoIkRlc3Ryb3llZCEiKTthLnR5cGU9ImRlc3Ryb3kiO3RoaXMucmVqZWN0KGEpfTtmdW5jdGlvbiBpYihhKXthLnNwbGl0KCIiKS5yZWR1Y2UoZnVuY3Rpb24oYSxjLGQpe3JldHVybiBhKyhkJiYwPT1kJTQ/IiAiK2M6Yyl9KX07ZnVuY3Rpb24gamIoKXt0aGlzLmxiPW5ldyBJO3RoaXMuYz0hMTt0aGlzLkFhPW51bGw7dGhpcy5hPVtdO3RoaXMuYj1udWxsfWZ1bmN0aW9uIGtiKGEsYil7aWYoYS5jKXRocm93IEVycm9yKCJDYW5ub3QgYXBwZW5kIHRvIGEgcnVubmluZyB0YXNrISIpO2EuYS5wdXNoKGIpfWpiLnByb3RvdHlwZS5zdGFydD1mdW5jdGlvbigpe2lmKHRoaXMuYyl0aHJvdyBFcnJvcigiVGFzayBhbHJlYWR5IHN0YXJ0ZWQhIik7dGhpcy5jPSEwO3RoaXMuYS51bnNoaWZ0KGZ1bmN0aW9uKCl7fSk7bGIodGhpcyx2b2lkIDApfTtqYi5wcm90b3R5cGUuYWJvcnQ9ZnVuY3Rpb24oKXtpZih0aGlzLkFhKXJldHVybiB0aGlzLkFhO2lmKCF0aGlzLmMpcmV0dXJuIHRoaXMuYz0hMCxQcm9taXNlLnJlc29sdmUoKTt0aGlzLmImJih0aGlzLmY9dGhpcy5iKCkpO3JldHVybiB0aGlzLkFhPW5ldyBJfTtqYi5wcm90b3R5cGUuZW5kPWZ1bmN0aW9uKCl7dGhpcy5hLnNwbGljZSgxKX07CmZ1bmN0aW9uIGxiKGEsYil7dmFyIGM9YS5hWzBdKGIpLGQ7Yz8oZD1jWzBdLGEuYj1jWzFdKTooZD1Qcm9taXNlLnJlc29sdmUoKSxhLmI9bnVsbCk7ZC50aGVuKEooYSxmdW5jdGlvbihhKXt0aGlzLkFhPyh0aGlzLmE9W10sdGhpcy5iPW51bGwsbWIodGhpcykpOih0aGlzLmEuc2hpZnQoKSx0aGlzLmEubGVuZ3RoP2xiKHRoaXMsYSk6KHRoaXMubGIucmVzb2x2ZShhKSx0aGlzLmI9bnVsbCkpfSkpLmNhdGNoKEooYSxmdW5jdGlvbihhKXt0aGlzLmE9W107dGhpcy5iPW51bGw7dGhpcy5BYT9tYih0aGlzKTp0aGlzLmxiLnJlamVjdChhKX0pKX0KZnVuY3Rpb24gbWIoYSl7ZnVuY3Rpb24gYigpe3ZhciBhPUVycm9yKCJUYXNrIGFib3J0ZWQuIik7YS50eXBlPSJhYm9ydGVkIjt0aGlzLmxiLnJlamVjdChhKTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhpcy5BYS5yZXNvbHZlKCk7dGhpcy5BYT1udWxsfS5iaW5kKHRoaXMpLDUpfWEuZj9hLmYudGhlbihmdW5jdGlvbigpe3RoaXMuZj1udWxsO2IuY2FsbCh0aGlzKX0uYmluZChhKSk6Yi5jYWxsKGEpfTtmdW5jdGlvbiBKKGEsYil7cmV0dXJuIGIuYmluZChhKX07ZnVuY3Rpb24gbmIoYSxiLGMsZCxlLGYsZyl7TWVkaWFTb3VyY2UuaXNUeXBlU3VwcG9ydGVkKGMpO0YuY2FsbCh0aGlzLGUpO2U9Yi5hZGRTb3VyY2VCdWZmZXIoYyk7dGhpcy5oPWE7dGhpcy5BPWI7dGhpcy5hPWU7dGhpcy5KPWQ7dGhpcy5CPW5ldyBiYjt0aGlzLkk9dGhpcy5sPXRoaXMuWT10aGlzLmk9bnVsbDt0aGlzLlI9ITE7dGhpcy5QPXRoaXMuSz10aGlzLk89MDt0aGlzLkc9bnVsbDt0aGlzLlY9dGhpcy5GPSExO3RoaXMuWj1mO3RoaXMuRD1udWxsO3RoaXMuJD1nP2c6bnVsbDt0aGlzLmI9W107dGhpcy5VPTA7dGhpcy5tPXRoaXMuYz10aGlzLmY9bnVsbDt0aGlzLlQ9amE7dGhpcy5vPXRoaXMudT0wO3RoaXMudz10aGlzLlM9ITE7dGhpcy5nPWMmJmMuY2hhckF0KDApO0UodGhpcy5CLHRoaXMuYSwidXBkYXRlZW5kIix0aGlzLm5kLmJpbmQodGhpcykpO3RoaXMuaC5nZXRCb29sKCJsaXN0ZW5fZm9yX2FzeW5jX2FwcGVuZF9idWZmZXJfZXJyb3JzIiwhMCkmJkUodGhpcy5CLAp0aGlzLmEsImVycm9yIix0aGlzLmFkLmJpbmQodGhpcykpO3RoaXMuaj1udWxsfXIobmIsRik7bmIucHJvdG90eXBlLkJhPWZ1bmN0aW9uKCl7cmV0dXJue1NvdXJjZUJ1ZmZlcjp0aGlzLmF9fTtmdW5jdGlvbiBvYihhLGIsYyl7YS5vYyYmYS5MYShiLHt0eXBlOmEuZy5jaGFyQXQoMCksc2VnbWVudDpjLHNvdXJjZUJ1ZmZlcjphLmF9KX12YXIgcGI9MS82MDtuYi5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuYWJvcnQoKS5jYXRjaChmdW5jdGlvbigpe30pO3RoaXMuYyYmdGhpcy5jLmRlc3Ryb3koKTt0aGlzLmI9dGhpcy5mPXRoaXMuYz1udWxsO3RoaXMuQi5kZXN0cm95KCk7dGhpcy5BPXRoaXMuYT10aGlzLkQ9dGhpcy5CPW51bGx9O2Z1bmN0aW9uIHFiKGEpe3ZhciBiPWEuYi5sZW5ndGg7cmV0dXJuIDA8Yj9hLmJbYi0xXTpudWxsfQpmdW5jdGlvbiByYihhLGIpe2Zvcih2YXIgYz1hLmEuYnVmZmVyZWQsZD0wO2Q8Yy5sZW5ndGg7KytkKXt2YXIgZT1jLnN0YXJ0KGQpLXBiLGY9Yy5lbmQoZCkrcGI7aWYoYj49ZSYmYjw9ZilyZXR1cm4gYy5lbmQoZCktYn1yZXR1cm4gMH1mdW5jdGlvbiBzYihhLGIsYyl7dmFyIGQ9Yi5lbmRUaW1lP2IuZW5kVGltZS1iLnN0YXJ0VGltZToxLGU9bmV3IHRiO2UuTmE9MztlLmM9MUUzKmQ7ZS5iPTFFMyphLlQ7ZS51PWEuWTtlLmo9YztlLmRhPWEuWjtlLm1pbWVUeXBlPWEuZztlLmg9YS4kO2Uubz1iLmlzUHJlZGljdGl2ZTtyZXR1cm4gZX1uPW5iLnByb3RvdHlwZTsKbi5mZXRjaD1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGgpe3ZhciBrLGw9Zj8icmVwbGFjaW5nX2xvd2VyX3F1YWxpdHlfYnVmZmVyIjpudWxsO2lmKHRoaXMubCl7dmFyIG09dGhpcy5iW3RoaXMuYi5sZW5ndGgtMV0scD1udWxsO20mJihwPTFFMyooYS5zdGFydFRpbWUtbS5lbmRUaW1lKSk7az10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJmZXRjaCIpLnNldFJlYXNvbihsKS5zZXRSZXNvdXJjZSh1YihhLnVybCkpLnNldFR5cGUodmIodGhpcykpLnNldExlbmd0aChNYXRoLnJvdW5kKDFFMyooYS5lbmRUaW1lLWEuc3RhcnRUaW1lKSkpLnNldFNlZ21lbnRTdGFydFRpbWUoMUUzKmEuc3RhcnRUaW1lKS5zZXRTZWdtZW50RW5kVGltZSgxRTMqYS5lbmRUaW1lKS5zZXRTZWdtZW50VGltZUdhcChwKS5zdGFydCgpfXRoaXMuaj1rO2lmKHRoaXMuZil7aWYodGhpcy5oLmdldEJvb2woInNibV9lbmFibGVfY29uY3VycmVudF9mZXRjaF9yZXF1ZXN0cyIsITEpKXt2YXIgdD1bXS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7CnJldHVybiB0aGlzLmYubGIudGhlbihKKHRoaXMsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mZXRjaC5hcHBseSh0aGlzLHQpfSksZnVuY3Rpb24oYSl7dGhyb3cgYTt9KX1tPUVycm9yKCJDYW5ub3QgZmV0Y2ggKCIrdGhpcy5nKyIpOiBwcmV2aW91cyBvcGVyYXRpb24gbm90IGNvbXBsZXRlLiIpO3RoaXMudT49dGhpcy5PPyhtLnR5cGU9InN0cmVhbSIsayYmay5zZXRFcnJvcihtKS5sb2coKSx0aGlzLnU9MCk6KHRoaXMudSsrLG0udHlwZT0iYWJvcnRlZCIpO3JldHVybiBQcm9taXNlLnJlamVjdChtKX10aGlzLmY9bmV3IGpiO2MhPXRoaXMuYS50aW1lc3RhbXBPZmZzZXQmJih0aGlzLmEudGltZXN0YW1wT2Zmc2V0PWMpO3ZhciBtPXNiKHRoaXMsYSxlKSxwPXRoaXMuaC5nZXRCb29sKCJlbmFibGVfc3RyZWFtaW5nX2NvZGVfcGF0aCIsITApLHc7dz1wP2EudXJsLnN0cmVhbShtLHRoaXMuSix0aGlzLmwsdGhpcy5qLHRoaXMuSSx2Yih0aGlzKSxsLGcsaCk6YS51cmwuZmV0Y2gobSwKdGhpcy5KLHRoaXMubCx0aGlzLmosdGhpcy5JLHZiKHRoaXMpLGwsZyk7b2IodGhpcywiU2VnbWVudEZldGNoaW5nIixhKTt2YXIgej1LLnByb3RvdHlwZS5LYS5iaW5kKGEudXJsKTt0aGlzLkcmJnRoaXMuRiYmKGQ9dGhpcy5HKTt2YXIgSD0wLGRhPW51bGw7ZCYmKHRoaXMuRz1kLHRoaXMuRj0hMSxrYih0aGlzLmYsZnVuY3Rpb24oKXtyZXR1cm5bZC50aGVuKGZ1bmN0aW9uKGEpe2EuWWE+SCYmKEg9YS5ZYSk7cmV0dXJuIHdiKHRoaXMsYSxudWxsKX0uYmluZCh0aGlzKSksdGhpcy5iYi5iaW5kKHRoaXMpXX0uYmluZCh0aGlzKSkpO3ZhciBlYT1mdW5jdGlvbihhKXthLllhPkgmJihIPWEuWWEpO2RhPWEuYnl0ZUxlbmd0aDt0aGlzLkouZ2V0QmFuZHdpZHRoKCk7dGhpcy5TJiZ0aGlzLmRpc3BhdGNoRXZlbnQoeSh7dHlwZToiY2VhNjA4Q2FwdGlvbnNCeXRlc1JlY2VpdmVkIixidWJibGVzOiEwLGRldGFpbDp7dGltZXNjYWxlOmIsdmlkZW9CeXRlczphfX0pKX0uYmluZCh0aGlzKTsKcD8oaCYmKG09aC5nZXRQcm9ncmVzc1RyYWNrZXIoKSx0aGlzLmkhPT1tJiYodGhpcy5pPW0pKSxrYih0aGlzLmYsSih0aGlzLGZ1bmN0aW9uKCl7dmFyIGI9bnVsbCxjPU1hdGgubWF4KDAsKGEudXJsLmVuZEJ5dGV8fDApLWEudXJsLnN0YXJ0Qnl0ZSksZD10aGlzLmguZ2V0TnVtYmVyKCJzdHJlYW1pbmdfYXBwZW5kX3Blcl9zZWdtZW50IiwzKSxlPTA9PT1kPzA6Yy9kO3JldHVyblt3LnRoZW4oZnVuY3Rpb24oYyl7Yj1jO3RoaXMudz0hMTtyZXR1cm4geGIodGhpcyxjLGEsZSl9LmJpbmQodGhpcykpLnRoZW4oZnVuY3Rpb24oYSl7Yj1udWxsO3JldHVybiBhfSkudGhlbihlYSkuY2F0Y2goZnVuY3Rpb24oYSl7dGhpcy5oLmdldEJvb2woImFib3J0X2ZldGNoX29uX25ldF9lcnJvciIsITEpJiZoJiYodGhpcy5hLmFib3J0KCksdGhpcy53PSEwKTtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYSl9LmJpbmQodGhpcykpLGZ1bmN0aW9uKCl7b2IodGhpcywiU2VnbWVudEZhaWxlZCIsYSk7CmImJihiLmNhbmNlbCgiYWJvcnQiKSxiPW51bGwsaCYmKHRoaXMuYS5hYm9ydCgpLHRoaXMudz0hMCkpO3ooKTtyZXR1cm4gdGhpcy5iYigpfS5iaW5kKHRoaXMpXX0pKSk6a2IodGhpcy5mLEoodGhpcyxmdW5jdGlvbigpe3JldHVyblt3LnRoZW4oZnVuY3Rpb24oYil7b2IodGhpcywiU2VnbWVudEZldGNoZWQiLGEpO2VhKGIpO3JldHVybiB3Yih0aGlzLGIsYSxsKX0uYmluZCh0aGlzKSksZnVuY3Rpb24oKXtvYih0aGlzLCJTZWdtZW50RmFpbGVkIixhKTt6KCk7cmV0dXJuIHRoaXMuYmIoKX0uYmluZCh0aGlzKV19KSk7dmFyIEFhPTA9PXRoaXMuYS5idWZmZXJlZC5sZW5ndGgmJjA9PXRoaXMuYi5sZW5ndGgsY2I9bnVsbDtrYih0aGlzLmYsZnVuY3Rpb24oKXtpZigwPT10aGlzLmEuYnVmZmVyZWQubGVuZ3RoJiYhdGhpcy5WKXt2YXIgYj1FcnJvcigiRmFpbGVkIHRvIGJ1ZmZlciBzZWdtZW50ICgiK3RoaXMuZysiKS4iKTtiLnR5cGU9InN0cmVhbSI7cmV0dXJuW1Byb21pc2UucmVqZWN0KGIpXX10aGlzLmEuYnVmZmVyZWQubGVuZ3RoJiYKQWEmJihiPWEuc3RhcnRUaW1lLGNiPXRoaXMuYS5idWZmZXJlZC5zdGFydCgwKS1iKTtiPXliKHRoaXMuYixhLnN0YXJ0VGltZSk7MDw9Yj90aGlzLmIuc3BsaWNlKGIrMSwwLGEpOnRoaXMuYi5wdXNoKGEpfS5iaW5kKHRoaXMpKTt0aGlzLnU9MDtyZXR1cm4gemIodGhpcykudGhlbihmdW5jdGlvbigpe2smJmsubG9nKCk7cmV0dXJuIFByb21pc2UucmVzb2x2ZSh7VzpjYixXYzpILEg6YS5lbmRUaW1lLWEuc3RhcnRUaW1lLERjOmRhfSl9LmJpbmQodGhpcyksZnVuY3Rpb24oYSl7ayYmay5zZXRFcnJvcihhKS5sb2coKTthPUFiKGEsInRhc2siLCJBbiB1bmtub3duIHRhc2sgZXJyb3Igb2NjdXJyZWQuIik7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfS5iaW5kKHRoaXMpKX07CmZ1bmN0aW9uIHhiKGEsYixjLGQpe3ZhciBlPW5ldyBBcnJheUJ1ZmZlcigwKSxmPW5ldyBBcnJheUJ1ZmZlcigwKSxnPWZ1bmN0aW9uKCl7cmV0dXJuIGIucmVhZCgpLnRoZW4oZnVuY3Rpb24oYSl7dmFyIGI9YS52YWx1ZTthPWEuZG9uZTtpZih0aGlzLnd8fGEmJjA9PT1mLmJ5dGVMZW5ndGgpcmV0dXJuIGU7aWYoIWEmJiFiKXJldHVybiBnKCk7YiYmKGIgaW5zdGFuY2VvZiBVaW50OEFycmF5JiYoYj1iLmJ1ZmZlciksZj1jb25jYXRBcnJheUJ1ZmZlcihmLGIpKTtyZXR1cm4gZi5ieXRlTGVuZ3RoPj1kfHxhPyh0aGlzLmkmJnRoaXMuaS5ub3RpZnlCeXRlc0NvbnN1bWVkKGYuYnl0ZUxlbmd0aCksb2IodGhpcywiU2VnbWVudEZldGNoZWQiLGMpLGU9Y29uY2F0QXJyYXlCdWZmZXIoZSxmKSxiPWYsZj1uZXcgQXJyYXlCdWZmZXIoMCksd2IodGhpcyxiLGMpLnRoZW4oZykpOmcoKX0uYmluZCh0aGlzKSl9LmJpbmQoYSk7cmV0dXJuIGcoKX0KZnVuY3Rpb24gQmIoYSl7aWYoYS5mKXt2YXIgYj1FcnJvcigiQ2Fubm90IGNsZWFyICgiK2EuZysiKTogcHJldmlvdXMgb3BlcmF0aW9uIG5vdCBjb21wbGV0ZS4iKTthLm8+PWEuSz8oYi50eXBlPSJzdHJlYW0iLGEubz0wKTooYS5vKyssYi50eXBlPSJhYm9ydGVkIik7cmV0dXJuIFByb21pc2UucmVqZWN0KGIpfWEuZj1uZXcgamI7a2IoYS5mLGZ1bmN0aW9uKCl7dmFyIGE7YTppZigwPT10aGlzLmEuYnVmZmVyZWQubGVuZ3RoKWE9UHJvbWlzZS5yZXNvbHZlKCk7ZWxzZXt0cnl7dGhpcy5hLnJlbW92ZSgwLHRoaXMuQS5kdXJhdGlvbil9Y2F0Y2goYil7Yj1BYihiLCJjbGVhcl9idWZmZXIiLCJBbiBlcnJvciBvY2N1cmVkIHdoZW4gY2xlYXJpbmcgdGhlIGJ1ZmZlci4iKTthPVByb21pc2UucmVqZWN0KGIpO2JyZWFrIGF9dGhpcy5iPVtdO2E9dGhpcy5jPW5ldyBJfXJldHVyblthLHRoaXMuYmIuYmluZCh0aGlzKV19LmJpbmQoYSkpO2Eubz0wO3JldHVybiB6YihhKX0KZnVuY3Rpb24gQ2IoYSxiKXtpZihhLmYpe3ZhciBjPUVycm9yKCJDYW5ub3QgY2xlYXJBZnRlciAoIithLmcrIik6IHByZXZpb3VzIG9wZXJhdGlvbiBub3QgY29tcGxldGUuIik7Yy50eXBlPSJzdHJlYW0iO3JldHVybiBQcm9taXNlLnJlamVjdChjKX1hLmY9bmV3IGpiO2tiKGEuZixmdW5jdGlvbigpe3JldHVybltEYih0aGlzLGIpLHRoaXMuYmIuYmluZCh0aGlzKV19LmJpbmQoYSkpO3JldHVybiB6YihhKX1mdW5jdGlvbiBFYihhLGIpe2EuYz1uZXcgSTt2YXIgYz1iLTU7aWYoMDxjKXt0cnl7YS5hLnJlbW92ZSgwLGMpfWNhdGNoKGQpe3JldHVybiBkPUFiKGQsImNsZWFyX2J1ZmZlciIsIkFuIGVycm9yIG9jY3VyZWQgd2hlbiBjbGVhcmluZyB0aGUgYnVmZmVyLiIpLFByb21pc2UucmVqZWN0KGQpfWM9RmIoYSxjKTswPGMmJihhLmI9YS5iLnNsaWNlKGMsYS5iLmxlbmd0aCkpfWVsc2UgYS5jLnJlc29sdmUoKTtyZXR1cm4gYS5jfQpuLmFib3J0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZj90aGlzLmYuYWJvcnQoKTpQcm9taXNlLnJlc29sdmUoKX07ZnVuY3Rpb24gR2IoYSl7Zm9yKHZhciBiPWEuY3VycmVudFRpbWUsYz1iLGQ9MDtkPGEuYnVmZmVyZWQubGVuZ3RoO2QrKylpZihiPD1hLmJ1ZmZlcmVkLnN0YXJ0KGQpKXtjPWEuYnVmZmVyZWQuc3RhcnQoZCk7YnJlYWt9cmV0dXJuIGN9ZnVuY3Rpb24gSGIoYSxiKXtmb3IodmFyIGM9Yi5jdXJyZW50VGltZSxkPTA7ZDxiLmJ1ZmZlcmVkLmxlbmd0aDtkKyspaWYoYz49Yi5idWZmZXJlZC5zdGFydChkKSYmYzw9Yi5idWZmZXJlZC5lbmQoZCktYS5QKXJldHVybiExO3JldHVybiEwfQpmdW5jdGlvbiB6YihhKXthLmYuc3RhcnQoKTtyZXR1cm4gYS5mLmxiLnRoZW4oSihhLGZ1bmN0aW9uKCl7dGhpcy5mPW51bGx9KSkuY2F0Y2goSihhLGZ1bmN0aW9uKGEpe3RoaXMuZj1udWxsO2E9QWIoYSwidGFzayIsIkFuIHVua25vd24gdGFzayBlcnJvciBvY2N1cnJlZC4iKTtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYSl9KSl9CmZ1bmN0aW9uIHdiKGEsYixjLGQpe3ZhciBlO2lmKGEubCl7dmFyIGY9Yz91YihjLnVybCk6ImluaXQiO2U9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigiYXBwZW5kIikuc2V0UmVhc29uKGQpLnNldFJlc291cmNlKGYpLnNldFR5cGUodmIoYSkpLnNldExlbmd0aChiLmJ5dGVMZW5ndGgpLnN0YXJ0KCk7bnVsbCE9PWMmJihlPWUuc2V0U2VnbWVudFN0YXJ0VGltZSgxRTMqYy5zdGFydFRpbWUpLnNldFNlZ21lbnRFbmRUaW1lKDFFMypjLmVuZFRpbWUpKTthLmomJihlPWUuc2V0UGFyZW50TG9nZ2VyKGEuaikpfXRyeXthLmEuYXBwZW5kQnVmZmVyKGIpfWNhdGNoKGcpe3JldHVybiBhLmguZ2V0Qm9vbCgibnVrZV9zb3VyY2VfYnVmZmVyX29uX3F1b3RhX2V4Y2VlZGVkX2VyciIsITApJiZnIGluc3RhbmNlb2YgRE9NRXhjZXB0aW9uJiZnLmNvZGU9PT1ET01FeGNlcHRpb24uUVVPVEFfRVhDRUVERURfRVJSJiZnLm1lc3NhZ2UubWF0Y2goL14uKlNvdXJjZUJ1ZmZlci4qZnVsbC4qZnJlZVxzc3BhY2UuKiQvKSYmCihnLnR5cGU9InNvdXJjZWJ1ZmZlcl9mdWxsIiksZSYmZS5zZXRFcnJvcihnKS5sb2coKSxQcm9taXNlLnJlamVjdChnKX1hLmM9bmV3IEk7YS5tPWM7cmV0dXJuIGEuYy50aGVuKGZ1bmN0aW9uKCl7ZSYmZS5sb2coKX0sZnVuY3Rpb24oYSl7ZSYmZS5zZXRFcnJvcihhKS5sb2coKTtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYSl9KX1uLmFkPWZ1bmN0aW9uKGEpe2E9YS5lcnJvcnx8RXJyb3IoIkNhbGwgdG8gYXBwZW5kQnVmZmVyIGZhaWxlZCB0byBhcHBlbmQgdGhlIHNlZ21lbnQuIik7YT1BYihhLCJzdHJlYW0iLCJDYWxsIHRvIGFwcGVuZEJ1ZmZlciBmYWlsZWQgdG8gYXBwZW5kIHRoZSBzZWdtZW50LiIpO3RoaXMuYyYmdGhpcy5jLnJlamVjdChhKX07CmZ1bmN0aW9uIERiKGEsYil7aWYoMD09YS5hLmJ1ZmZlcmVkLmxlbmd0aClyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7dmFyIGM9RmIoYSxiKTtpZigtMT09Y3x8Yz09YS5iLmxlbmd0aC0xKXJldHVybiBQcm9taXNlLnJlc29sdmUoKTt0cnl7YS5hLnJlbW92ZShhLmJbYysxXS5zdGFydFRpbWUsYS5BLmR1cmF0aW9uKX1jYXRjaChkKXtyZXR1cm4gUHJvbWlzZS5yZWplY3QoZCl9YS5iPWEuYi5zbGljZSgwLGMrMSk7YS5jPW5ldyBJO3JldHVybiBhLmN9bi5iYj1mdW5jdGlvbigpe2lmKHRoaXMuYyl7aWYoIm9wZW4iPT10aGlzLkEucmVhZHlTdGF0ZSl7dmFyIGE9RXJyb3IoIlByZXZpb3VzIG9wZXJhdGlvbiBhYm9ydGVkLiIpO2EudHlwZT0iYWJvcnRlZCI7dGhpcy5jLnJlamVjdChhKTt0aGlzLmEuYWJvcnQoKTt0aGlzLlImJih0aGlzLkY9ITApO3RoaXMuYz1uZXcgSX1yZXR1cm4gdGhpcy5jfXJldHVybiBQcm9taXNlLnJlc29sdmUoKX07Cm4ubmQ9ZnVuY3Rpb24oKXt0aGlzLmMmJih0aGlzLm0mJihvYih0aGlzLCJTZWdtZW50QXBwZW5kZWQiLHRoaXMubSksdGhpcy5tPW51bGwpLHRoaXMuYy5yZXNvbHZlKCksdGhpcy5jPW51bGwpfTtuLkRkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaX07bmIucHJvdG90eXBlLmdldFN0cmVhbVByb2dyZXNzVHJhY2tlcj1uYi5wcm90b3R5cGUuRGQ7ZnVuY3Rpb24gdmIoYSl7cmV0dXJuInYiPT09YS5nLmNoYXJBdCgwKT8idmlkZW8iOiJhIj09PWEuZy5jaGFyQXQoMCk/ImF1ZGlvIjpudWxsfWZ1bmN0aW9uIEFiKGEsYixjKXthfHwoYT1FcnJvcihjKSk7YS50eXBlfHwoYS50eXBlPWIpO2EubWVzc2FnZXx8KGEubWVzc2FnZT1jKTtyZXR1cm4gYX0KZnVuY3Rpb24gRmIoYSxiKXtpZihhLmguZ2V0Qm9vbCgic2JtX3VzZV9zZWdtZW50X2luZGV4X3RvX2ZpbmRfdGltZXN0YW1wcyIsITEpJiZhLkQpe3ZhciBjPWEuRC5maW5kKGIpO2lmKGMpcmV0dXJuIHliKGEuYixjLnN0YXJ0VGltZSl9ZWxzZSByZXR1cm4geWIoYS5iLGIpO3JldHVybi0xfTtmdW5jdGlvbiBJYihhKXtyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLGEpfXEoInNoYWthLnV0aWwuVWludDhBcnJheVV0aWxzLnRvU3RyaW5nIixJYik7ZnVuY3Rpb24gSmIoYSl7Zm9yKHZhciBiPW5ldyBVaW50OEFycmF5KGEubGVuZ3RoKSxjPTA7YzxhLmxlbmd0aDsrK2MpYltjXT1hLmNoYXJDb2RlQXQoYyk7cmV0dXJuIGJ9cSgic2hha2EudXRpbC5VaW50OEFycmF5VXRpbHMuZnJvbVN0cmluZyIsSmIpO3EoInNoYWthLnV0aWwuVWludDhBcnJheVV0aWxzLnRvQmFzZTY0IixmdW5jdGlvbihhLGIpe3ZhciBjPXZvaWQgMD09Yj8hMDpiLGQ9d2luZG93LmJ0b2EoSWIoYSkpLnJlcGxhY2UoL1wrL2csIi0iKS5yZXBsYWNlKC9cLy9nLCJfIik7cmV0dXJuIGM/ZDpkLnJlcGxhY2UoLz0qJC8sIiIpfSk7ZnVuY3Rpb24gS2IoYSl7cmV0dXJuIEpiKHdpbmRvdy5hdG9iKGEucmVwbGFjZSgvLS9nLCIrIikucmVwbGFjZSgvXy9nLCIvIikpKX0KcSgic2hha2EudXRpbC5VaW50OEFycmF5VXRpbHMuZnJvbUJhc2U2NCIsS2IpO3EoInNoYWthLnV0aWwuVWludDhBcnJheVV0aWxzLmZyb21IZXgiLGZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1uZXcgVWludDhBcnJheShhLmxlbmd0aC8yKSxjPTA7YzxhLmxlbmd0aDtjKz0yKWJbYy8yXT13aW5kb3cucGFyc2VJbnQoYS5zdWJzdHIoYywyKSwxNik7cmV0dXJuIGJ9KTtmdW5jdGlvbiBMYihhKXtmb3IodmFyIGI9IiIsYz0wO2M8YS5sZW5ndGg7KytjKXt2YXIgZD1hW2NdLnRvU3RyaW5nKDE2KTsxPT1kLmxlbmd0aCYmKGQ9IjAiK2QpO2IrPWR9cmV0dXJuIGJ9cSgic2hha2EudXRpbC5VaW50OEFycmF5VXRpbHMudG9IZXgiLExiKTtmdW5jdGlvbiBNYShhLGIpe2lmKCFhJiYhYilyZXR1cm4hMDtpZighYXx8IWJ8fGEubGVuZ3RoIT1iLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIGM9MDtjPGEubGVuZ3RoOysrYylpZihhW2NdIT1iW2NdKXJldHVybiExO3JldHVybiEwfTtmdW5jdGlvbiBNYigpe3RoaXMuaT10aGlzLmE9IiI7dGhpcy53aXRoQ3JlZGVudGlhbHM9ITE7dGhpcy5vPXRoaXMuZj1udWxsO3RoaXMuaj10aGlzLmg9ITE7dGhpcy5tPXRoaXMuZz0iIjt0aGlzLmM9bnVsbDt0aGlzLmI9W119ZnVuY3Rpb24gTmIoYSxiKXt2YXIgYz1uZXcgTWI7Yy5hPWEuYTtjLmk9YS5pO2Mud2l0aENyZWRlbnRpYWxzPWEud2l0aENyZWRlbnRpYWxzO2MuZj1hLmY7Yy5vPWEubztjLmg9YS5oO2Muaj1hLmo7Yy5nPWEuZztjLm09YS5tO2MuYz1hLmM/bmV3IFVpbnQ4QXJyYXkoYS5jLmJ1ZmZlcik6bnVsbDtPYihjLGEuYik7T2IoYyxiLmIpO3JldHVybiBjfWZ1bmN0aW9uIE9iKGEsYil7dmFyIGM9YS5iLmNvbmNhdChiLm1hcChmdW5jdGlvbihhKXtyZXR1cm57aW5pdERhdGE6bmV3IFVpbnQ4QXJyYXkoYS5pbml0RGF0YS5idWZmZXIpLGluaXREYXRhVHlwZTphLmluaXREYXRhVHlwZX19KSk7YS5iPXdhKGMpfQpmdW5jdGlvbiB4YShhLGIpe3JldHVybiBhLmluaXREYXRhVHlwZT09Yi5pbml0RGF0YVR5cGUmJk1hKGEuaW5pdERhdGEsYi5pbml0RGF0YSl9O2Z1bmN0aW9uIFBiKGEsYixjLGQpe3RoaXMud2l0aENyZWRlbnRpYWxzPWM7dGhpcy5hPVtdO2QmJnRoaXMuYS5wdXNoKGQpfXEoInNoYWthLnBsYXllci5Ecm1TY2hlbWVJbmZvIixQYik7UGIuRGlzdGluY3RpdmVJZGVudGlmaWVyPXtPUFRJT05BTDowLFJFUVVJUkVEOjF9O1BiLlBlcnNpc3RlbnRTdGF0ZT17T1BUSU9OQUw6MCxSRVFVSVJFRDoxfTtQYi5jcmVhdGVVbmVuY3J5cHRlZD1mdW5jdGlvbigpe3JldHVybiBuZXcgUGIoMCwwLCExLG51bGwpfTtmdW5jdGlvbiBRYihhKXt0aGlzLnN5c3RlbUlkcz1bXTt0aGlzLmNlbmNLZXlJZHM9W107dGhpcy5hPVtdO2E9bmV3IEJhKG5ldyBEYXRhVmlldyhhLmJ1ZmZlcikpO3RyeXtmb3IoO0RhKGEpOyl7dmFyIGI9YS5hLGM9dihhKSxkPXYoYSk7MT09Yz9jPUZhKGEpOjA9PWMmJihjPWEuYi5ieXRlTGVuZ3RoLWIpO2lmKDE4ODY2MTQzNzYhPWQpSGEoYSxjLShhLmEtYikpO2Vsc2V7dmFyIGU9RWEoYSk7aWYoMTxlKUhhKGEsYy0oYS5hLWIpKTtlbHNle0hhKGEsMyk7dmFyIGY9TGIoR2EoYSkpLGc9W107aWYoMDxlKWZvcih2YXIgaD12KGEpLGs9MDtrPGg7KytrKXt2YXIgbD1MYihHYShhKSk7Zy5wdXNoKGwpfXZhciBtPXYoYSk7SGEoYSxtKTt0aGlzLmNlbmNLZXlJZHMucHVzaC5hcHBseSh0aGlzLmNlbmNLZXlJZHMsZyk7dGhpcy5zeXN0ZW1JZHMucHVzaChmKTt0aGlzLmEucHVzaCh7c3RhcnQ6YixlbmQ6YS5hLTF9KTthLmEhPWIrYyYmSGEoYSxjLShhLmEtYikpfX19fWNhdGNoKHApe319Cjt2YXIgUmI9L14oPzooW146Lz8jLl0rKTopPyg/OlwvXC8oPzooW14vPyNdKilAKT8oW14vIz9dKj8pKD86OihbMC05XSspKT8oPz1bLyM/XXwkKSk/KFtePyNdKyk/KD86XD8oW14jXSopKT8oPzojKC4qKSk/JC87ZnVuY3Rpb24gTChhKXt2YXIgYjthIGluc3RhbmNlb2YgTD8oU2IodGhpcyxhLnphKSx0aGlzLlVhPWEuVWEsdGhpcy5oYT1hLmhhLFRiKHRoaXMsYS5YYSksdGhpcy51YT1hLnVhLFViKHRoaXMsYS5hLmNsb25lKCkpLHRoaXMuTWE9YS5NYSk6YSYmKGI9U3RyaW5nKGEpLm1hdGNoKFJiKSk/KFNiKHRoaXMsYlsxXXx8IiIsITApLHRoaXMuVWE9VmIoYlsyXXx8IiIpLHRoaXMuaGE9VmIoYlszXXx8IiIsITApLFRiKHRoaXMsYls0XSksdGhpcy51YT1WYihiWzVdfHwiIiwhMCksVWIodGhpcyxiWzZdfHwiIiwhMCksdGhpcy5NYT1WYihiWzddfHwiIikpOnRoaXMuYT1uZXcgV2IobnVsbCl9bj1MLnByb3RvdHlwZTtuLnphPSIiO24uVWE9IiI7bi5oYT0iIjtuLlhhPW51bGw7bi51YT0iIjtuLk1hPSIiOwpuLnRvU3RyaW5nPWZ1bmN0aW9uKCl7dmFyIGE9W10sYj10aGlzLnphO2ImJmEucHVzaChYYihiLFliLCEwKSwiOiIpO2lmKGI9dGhpcy5oYSl7YS5wdXNoKCIvLyIpO3ZhciBjPXRoaXMuVWE7YyYmYS5wdXNoKFhiKGMsWWIsITApLCJAIik7YS5wdXNoKGVuY29kZVVSSUNvbXBvbmVudChiKS5yZXBsYWNlKC8lMjUoWzAtOWEtZkEtRl17Mn0pL2csIiUkMSIpKTtiPXRoaXMuWGE7bnVsbCE9YiYmYS5wdXNoKCI6IixTdHJpbmcoYikpfWlmKGI9dGhpcy51YSl0aGlzLmhhJiYiLyIhPWIuY2hhckF0KDApJiZhLnB1c2goIi8iKSxhLnB1c2goWGIoYiwiLyI9PWIuY2hhckF0KDApP1piOiRiLCEwKSk7KGI9dGhpcy5hLnRvU3RyaW5nKCkpJiZhLnB1c2goIj8iLGIpOyhiPXRoaXMuTWEpJiZhLnB1c2goIiMiLFhiKGIsYWMpKTtyZXR1cm4gYS5qb2luKCIiKX07Cm4ucmVzb2x2ZT1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmNsb25lKCk7ImRhdGEiPT09Yi56YSYmKGI9bmV3IEwpO3ZhciBjPSEhYS56YTtjP1NiKGIsYS56YSk6Yz0hIWEuVWE7Yz9iLlVhPWEuVWE6Yz0hIWEuaGE7Yz9iLmhhPWEuaGE6Yz1udWxsIT1hLlhhO3ZhciBkPWEudWE7aWYoYylUYihiLGEuWGEpO2Vsc2UgaWYoYz0hIWEudWEpe2lmKCIvIiE9ZC5jaGFyQXQoMCkpaWYodGhpcy5oYSYmIXRoaXMudWEpZD0iLyIrZDtlbHNle3ZhciBlPWIudWEubGFzdEluZGV4T2YoIi8iKTstMSE9ZSYmKGQ9Yi51YS5zdWJzdHIoMCxlKzEpK2QpfWlmKCIuLiI9PWR8fCIuIj09ZClkPSIiO2Vsc2UgaWYoLTEhPWQuaW5kZXhPZigiLi8iKXx8LTEhPWQuaW5kZXhPZigiLy4iKSl7Zm9yKHZhciBlPTA9PWQubGFzdEluZGV4T2YoIi8iLDApLGQ9ZC5zcGxpdCgiLyIpLGY9W10sZz0wO2c8ZC5sZW5ndGg7KXt2YXIgaD1kW2crK107Ii4iPT1oP2UmJmc9PWQubGVuZ3RoJiZmLnB1c2goIiIpOiIuLiI9PQpoPygoMTxmLmxlbmd0aHx8MT09Zi5sZW5ndGgmJiIiIT1mWzBdKSYmZi5wb3AoKSxlJiZnPT1kLmxlbmd0aCYmZi5wdXNoKCIiKSk6KGYucHVzaChoKSxlPSEwKX1kPWYuam9pbigiLyIpfX1jP2IudWE9ZDpjPSIiIT09YS5hLnRvU3RyaW5nKCk7Yz9VYihiLGEuYS5jbG9uZSgpKTpjPSEhYS5NYTtjJiYoYi5NYT1hLk1hKTtyZXR1cm4gYn07bi5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgTCh0aGlzKX07ZnVuY3Rpb24gU2IoYSxiLGMpe2EuemE9Yz9WYihiLCEwKTpiO2EuemEmJihhLnphPWEuemEucmVwbGFjZSgvOiQvLCIiKSl9ZnVuY3Rpb24gVGIoYSxiKXtpZihiKXtiPU51bWJlcihiKTtpZihpc05hTihiKXx8MD5iKXRocm93IEVycm9yKCJCYWQgcG9ydCBudW1iZXIgIitiKTthLlhhPWJ9ZWxzZSBhLlhhPW51bGx9ZnVuY3Rpb24gVWIoYSxiLGMpe2IgaW5zdGFuY2VvZiBXYj9hLmE9YjooY3x8KGI9WGIoYixiYykpLGEuYT1uZXcgV2IoYikpfQpmdW5jdGlvbiBWYihhLGIpe3JldHVybiBhP2I/ZGVjb2RlVVJJKGEpOmRlY29kZVVSSUNvbXBvbmVudChhKToiIn1mdW5jdGlvbiBYYihhLGIsYyl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBhPyhhPWVuY29kZVVSSShhKS5yZXBsYWNlKGIsY2MpLGMmJihhPWEucmVwbGFjZSgvJTI1KFswLTlhLWZBLUZdezJ9KS9nLCIlJDEiKSksYSk6bnVsbH1mdW5jdGlvbiBjYyhhKXthPWEuY2hhckNvZGVBdCgwKTtyZXR1cm4iJSIrKGE+PjQmMTUpLnRvU3RyaW5nKDE2KSsoYSYxNSkudG9TdHJpbmcoMTYpfXZhciBZYj0vWyNcL1w/QF0vZywkYj0vW1wjXD86XS9nLFpiPS9bXCNcP10vZyxiYz0vW1wjXD9AXS9nLGFjPS8jL2c7ZnVuY3Rpb24gV2IoYSl7dGhpcy5iPWF8fG51bGx9V2IucHJvdG90eXBlLmE9bnVsbDtXYi5wcm90b3R5cGUuYz1udWxsOwpmdW5jdGlvbiBkYyhhLGIsYyl7aWYoIWEuYSYmKGEuYT17fSxhLmM9MCxhLmIpKWZvcih2YXIgZD1hLmIuc3BsaXQoIiYiKSxlPTA7ZTxkLmxlbmd0aDtlKyspe3ZhciBmPWRbZV0uaW5kZXhPZigiPSIpLGc9bnVsbCxoPW51bGw7MDw9Zj8oZz1kW2VdLnN1YnN0cmluZygwLGYpLGg9ZFtlXS5zdWJzdHJpbmcoZisxKSk6Zz1kW2VdO2c9ZGVjb2RlVVJJQ29tcG9uZW50KGcucmVwbGFjZSgvXCsvZywiICIpKTtoPWh8fCIiO2RjKGEsZyxkZWNvZGVVUklDb21wb25lbnQoaC5yZXBsYWNlKC9cKy9nLCIgIikpKX1hLmI9bnVsbDsoZD1hLmEuaGFzT3duUHJvcGVydHkoYikmJmEuYVtiXSl8fChhLmFbYl09ZD1bXSk7ZC5wdXNoKGMpO2EuYysrfQpXYi5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtpZih0aGlzLmIpcmV0dXJuIHRoaXMuYjtpZighdGhpcy5hKXJldHVybiIiO3ZhciBhPVtdLGI7Zm9yKGIgaW4gdGhpcy5hKWZvcih2YXIgYz1lbmNvZGVVUklDb21wb25lbnQoYiksZD10aGlzLmFbYl0sZT0wO2U8ZC5sZW5ndGg7ZSsrKXt2YXIgZj1jOyIiIT09ZFtlXSYmKGYrPSI9IitlbmNvZGVVUklDb21wb25lbnQoZFtlXSkpO2EucHVzaChmKX1yZXR1cm4gdGhpcy5iPWEuam9pbigiJiIpfTtXYi5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgV2I7YS5iPXRoaXMuYjtpZih0aGlzLmEpe3ZhciBiPXt9LGM7Zm9yKGMgaW4gdGhpcy5hKWJbY109dGhpcy5hW2NdLmNvbmNhdCgpO2EuYT1iO2EuYz10aGlzLmN9cmV0dXJuIGF9O2Z1bmN0aW9uIGVjKGEsYixjKXt2YXIgZD1hLmluZGV4T2YoIjw/eG1sIik7MDw9ZCYmKGE9YS5zdWJzdHIoZCkpO2E9KG5ldyBET01QYXJzZXIpLnBhcnNlRnJvbVN0cmluZyhhLCJ0ZXh0L3htbCIpO2lmKCFhKXJldHVybiBudWxsOyJzdHJpbmciPT09dHlwZW9mIGImJihiPVtuZXcgTChiKV0pO2I9Ynx8W25ldyBMKCIiKV07Yz1jfHxbbmV3IEwoIiIpXTtyZXR1cm4gTSh7QWM6YixiYXNlVXJsOmN9LGEsZmMpfXEoInNoYWthLmRhc2gubXBkLnBhcnNlTXBkIixlYyk7CmZ1bmN0aW9uIGZjKCl7dGhpcy5pZD10aGlzLnVybD1udWxsO3RoaXMudHlwZT0ic3RhdGljIjt0aGlzLkZCSXNMaXZlVGVtcGxhdGVkPXRoaXMuRkJXYXNMaXZlPXRoaXMubWFuaWZlc3RJc0xpdmVTdHJlYW1pbmc9ITE7dGhpcy5GQk1hbmlmZXN0SWRlbnRpZmllcj0iIjt0aGlzLkZCTVM9ITE7dGhpcy51PXRoaXMuYmFzZVVybD10aGlzLkFjPW51bGw7dGhpcy5qPXRoaXMuaT10aGlzLmg9MDt0aGlzLmI9bnVsbDt0aGlzLm09NTt0aGlzLmY9dGhpcy5jPXRoaXMuZz1udWxsO3RoaXMubz0xO3RoaXMubGFzdFZpZGVvRnJhbWVUcz10aGlzLmN1cnJlbnRTZXJ2ZXJUaW1lTXM9MDt0aGlzLmE9W119ZnVuY3Rpb24gZ2MoKXt0aGlzLmY9dGhpcy5jPXRoaXMuYj10aGlzLmJhc2VVcmw9dGhpcy5kdXJhdGlvbj10aGlzLnN0YXJ0PXRoaXMuaWQ9bnVsbDt0aGlzLmE9W119CmZ1bmN0aW9uIGhjKCl7dGhpcy5jPXRoaXMuY29kZWNzPXRoaXMubWltZVR5cGU9dGhpcy5oZWlnaHQ9dGhpcy53aWR0aD10aGlzLmNvbnRlbnRUeXBlPXRoaXMubGFuZz10aGlzLmdyb3VwPXRoaXMuaWQ9bnVsbDt0aGlzLmY9ITE7dGhpcy5pPXRoaXMuaD10aGlzLmc9dGhpcy5iYXNlVXJsPW51bGw7dGhpcy5qPVtdO3RoaXMuYT1bXTt0aGlzLmI9bnVsbH1mdW5jdGlvbiBpYygpe3RoaXMudmFsdWU9bnVsbH1mdW5jdGlvbiBqYygpe3RoaXMubGFuZz10aGlzLmE9bnVsbH1mdW5jdGlvbiBrYygpe3RoaXMuY29udGVudFR5cGU9dGhpcy5sYW5nPXRoaXMuaWQ9bnVsbH1mdW5jdGlvbiBsYygpe3RoaXMuZGF0YT1udWxsfWZ1bmN0aW9uIG1jKCl7dGhpcy5kYXRhPW51bGx9CmZ1bmN0aW9uIG5jKCl7dGhpcy5hPXRoaXMuYj10aGlzLmY9dGhpcy5pPXRoaXMuYmFzZVVybD10aGlzLmo9dGhpcy5mcmFtZVJhdGU9dGhpcy51PXRoaXMubz10aGlzLm09dGhpcy5mYlF1YWxpdHlDbGFzcz10aGlzLmZiUXVhbGl0eUxhYmVsPXRoaXMuaD10aGlzLmc9dGhpcy5jb2RlY3M9dGhpcy5taW1lVHlwZT10aGlzLmhlaWdodD10aGlzLndpZHRoPXRoaXMuYmFuZHdpZHRoPXRoaXMubGFuZz10aGlzLmlkPW51bGw7dGhpcy5jPVtdfWZ1bmN0aW9uIG9jKCl7dGhpcy52YWx1ZT10aGlzLmE9bnVsbH1vYy5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgb2M7YS5hPXRoaXMuYTthLnZhbHVlPXRoaXMudmFsdWU7cmV0dXJuIGF9O29jLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMuYT1OKGIsInNjaGVtZUlkVXJpIixPLHRoaXMuYSk7dGhpcy52YWx1ZT1OKGIsInZhbHVlIixPLHRoaXMudmFsdWUpfTsKZnVuY3Rpb24gcGMoKXt0aGlzLmI9dGhpcy5hPXRoaXMuZj10aGlzLmM9bnVsbH1mdW5jdGlvbiBxYygpe3RoaXMucGFyc2VkUHNzaD10aGlzLnBzc2hCb3g9bnVsbH1mdW5jdGlvbiByYygpe3RoaXMudXJsPW51bGx9ZnVuY3Rpb24gc2MoKXt0aGlzLnVybD1udWxsfWZ1bmN0aW9uIHRjKCl7dGhpcy5iYXNlVXJsPW51bGw7dGhpcy5zPTE7dGhpcy5jPXRoaXMuYj10aGlzLmY9dGhpcy5hPXRoaXMuTD1udWxsfXRjLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyB0YzthLmJhc2VVcmw9dWModGhpcy5iYXNlVXJsKTthLnM9dGhpcy5zO2EuTD10aGlzLkw7YS5hPXZjKHRoaXMuYSk7YS5mPXZjKHRoaXMuZik7YS5iPXZjKHRoaXMuYik7YS5jPXZjKHRoaXMuYyk7cmV0dXJuIGF9O2Z1bmN0aW9uIHdjKCl7dGhpcy5hPXRoaXMudXJsPW51bGx9CndjLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyB3YzthLnVybD11Yyh0aGlzLnVybCk7YS5hPXZjKHRoaXMuYSk7cmV0dXJuIGF9O2Z1bmN0aW9uIHhjKCl7dGhpcy5hPXRoaXMudXJsPW51bGx9eGMucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IHhjO2EudXJsPXVjKHRoaXMudXJsKTthLmE9dmModGhpcy5hKTtyZXR1cm4gYX07ZnVuY3Rpb24geWMoKXt0aGlzLmJhc2VVcmw9bnVsbDt0aGlzLnM9MTt0aGlzLkg9dGhpcy5MPW51bGw7dGhpcy5jPTA7dGhpcy5iPW51bGw7dGhpcy5hPVtdO3RoaXMuQz1udWxsfXljLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyB5YzthLmJhc2VVcmw9dWModGhpcy5iYXNlVXJsKTthLnM9dGhpcy5zO2EuTD10aGlzLkw7YS5IPXRoaXMuSDthLmM9dGhpcy5jO2EuYj12Yyh0aGlzLmIpO2EuYT11Yyh0aGlzLmEpfHxbXTthLkM9dmModGhpcy5DKTtyZXR1cm4gYX07CmZ1bmN0aW9uIHpjKCl7dGhpcy5hPXRoaXMuYj1udWxsfXpjLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyB6YzthLmI9dWModGhpcy5iKTthLmE9dmModGhpcy5hKTtyZXR1cm4gYX07ZnVuY3Rpb24gQWMoKXt0aGlzLnM9MTt0aGlzLkg9dGhpcy5MPW51bGw7dGhpcy5iPTA7dGhpcy5DPXRoaXMuYz10aGlzLmE9dGhpcy5mPW51bGx9QWMucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IEFjO2Eucz10aGlzLnM7YS5MPXRoaXMuTDthLkg9dGhpcy5IO2EuYj10aGlzLmI7YS5mPXRoaXMuZjthLmE9dGhpcy5hO2EuYz10aGlzLmM7YS5DPXZjKHRoaXMuQyk7cmV0dXJuIGF9O2Z1bmN0aW9uIEJjKCl7dGhpcy5iPXRoaXMuYT1udWxsO3RoaXMuTj1bXX1CYy5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgQmM7YS5hPXRoaXMuYTthLmI9dGhpcy5iO2EuTj11Yyh0aGlzLk4pfHxbXTtyZXR1cm4gYX07CmZ1bmN0aW9uIENjKCl7dGhpcy5zdGFydFNlZ21lbnRJbmRleD10aGlzLnJlcGVhdD10aGlzLmR1cmF0aW9uPXRoaXMuc3RhcnRUaW1lPW51bGx9Q2MucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IENjO2Euc3RhcnRUaW1lPXRoaXMuc3RhcnRUaW1lO2EuZHVyYXRpb249dGhpcy5kdXJhdGlvbjthLnJlcGVhdD10aGlzLnJlcGVhdDtyZXR1cm4gYX07ZnVuY3Rpb24gRGMoYSxiKXt0aGlzLnFhPWE7dGhpcy5lbmQ9Yn1EYy5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IERjKHRoaXMucWEsdGhpcy5lbmQpfTtmYy5UQUdfTkFNRT0iTVBEIjtnYy5UQUdfTkFNRT0iUGVyaW9kIjtoYy5UQUdfTkFNRT0iQWRhcHRhdGlvblNldCI7aWMuVEFHX05BTUU9IlJvbGUiO2pjLlRBR19OQU1FPSJBY2Nlc3NpYmlsaXR5IjtrYy5UQUdfTkFNRT0iQ29udGVudENvbXBvbmVudCI7bmMuVEFHX05BTUU9IlJlcHJlc2VudGF0aW9uIjtwYy5UQUdfTkFNRT0iQ29udGVudFByb3RlY3Rpb24iOwpxYy5UQUdfTkFNRT0iY2VuYzpwc3NoIjtyYy5UQUdfTkFNRT0iQmFzZVVSTCI7b2MuVEFHX05BTUU9IkF1ZGlvQ2hhbm5lbENvbmZpZ3VyYXRpb24iO3NjLlRBR19OQU1FPSJMb2NhdGlvbiI7dGMuVEFHX05BTUU9IlNlZ21lbnRCYXNlIjt3Yy5UQUdfTkFNRT0iUmVwcmVzZW50YXRpb25JbmRleCI7bGMuVEFHX05BTUU9IkZCSW5pdGlhbGl6YXRpb25CaW5hcnkiO21jLlRBR19OQU1FPSJGQlNlZ21lbnRJbmRleEJpbmFyeSI7eGMuVEFHX05BTUU9IkluaXRpYWxpemF0aW9uIjt5Yy5UQUdfTkFNRT0iU2VnbWVudExpc3QiO3pjLlRBR19OQU1FPSJTZWdtZW50VVJMIjtBYy5UQUdfTkFNRT0iU2VnbWVudFRlbXBsYXRlIjtCYy5UQUdfTkFNRT0iU2VnbWVudFRpbWVsaW5lIjtDYy5UQUdfTkFNRT0iUyI7CmZjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMudXJsPWEuQWM7dGhpcy5pZD1OKGIsImlkIixPKTt0aGlzLnR5cGU9TihiLCJ0eXBlIixPKXx8InN0YXRpYyI7dGhpcy5tYW5pZmVzdElzTGl2ZVN0cmVhbWluZz0iZHluYW1pYyI9PT10aGlzLnR5cGU7dGhpcy5GQldhc0xpdmU9TihiLCJGQldhc0xpdmUiLEVjKXx8ITE7dGhpcy5GQklzTGl2ZVRlbXBsYXRlZD1OKGIsIkZCSXNMaXZlVGVtcGxhdGVkIixFYyl8fCExO3RoaXMuRkJNYW5pZmVzdElkZW50aWZpZXI9TihiLCJGQk1hbmlmZXN0SWRlbnRpZmllciIsTyl8fCIiO3RoaXMuRkJNUz1OKGIsIkZCTVMiLEVjKXx8ITE7VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJvdmVycmlkZV9mYl9pc19saXZlX3RlbXBsYXRlZCIsITEpJiYodGhpcy5GQklzTGl2ZVRlbXBsYXRlZD0hMSk7dGhpcy5iPU4oYiwibWVkaWFQcmVzZW50YXRpb25EdXJhdGlvbiIsRmMpO3RoaXMubT1OKGIsIm1pbkJ1ZmZlclRpbWUiLApGYyx0aGlzLm0pO3RoaXMuZz1OKGIsIm1pbmltdW1VcGRhdGVQZXJpb2QiLEZjLHRoaXMuZyk7dGhpcy5jPU4oYiwiYXZhaWxhYmlsaXR5U3RhcnRUaW1lIixHYyx0aGlzLmMpO3RoaXMuZj1OKGIsInRpbWVTaGlmdEJ1ZmZlckRlcHRoIixGYyx0aGlzLmYpO3RoaXMuY3VycmVudFNlcnZlclRpbWVNcz1OKGIsImN1cnJlbnRTZXJ2ZXJUaW1lTXMiLFApO04oYiwiZmlyc3RBdlRpbWVNcyIsUCk7dGhpcy5sYXN0VmlkZW9GcmFtZVRzPU4oYiwibGFzdFZpZGVvRnJhbWVUcyIsUCk7dGhpcy5mPW51bGw7dGhpcy5vPU4oYiwic3VnZ2VzdGVkUHJlc2VudGF0aW9uRGVsYXkiLEZjLHRoaXMubyk7dGhpcy5oPU4oYiwibG9hcFN0cmVhbVR5cGUiLEhjLHRoaXMuaCk7dGhpcy5pPU4oYiwidXNpbmdBU1JDYXB0aW9ucyIsSGMsdGhpcy5pKTt0aGlzLmo9TihiLCJpc1VzaW5nQXNyQ2FwdGlvbnNFbXBsb3llZURvZ2Zvb2RpbmciLEhjLHRoaXMuaik7dmFyIGM9YS5iYXNlVXJsLGQ9SWModGhpcywKYixyYyk7dGhpcy5iYXNlVXJsPUpjKGMsZCk7aWYoZD1NKHRoaXMsYixzYykpdGhpcy51PUtjKGMsZC51cmwpO3RoaXMuYT1JYyh0aGlzLGIsZ2MpfTtmdW5jdGlvbiBMYyhhLGIsYyxkKXtpZigwIT09YS5hLmxlbmd0aCl7dmFyIGU9bmV3IGhjO2UuY29udGVudFR5cGU9InRleHQiO2UubGFuZz1jfHwiZW4iO2UuZj0hMDtjPW5ldyBuYztjLmJhbmR3aWR0aD0wO2MubWltZVR5cGU9ZHx8InRleHQvdnR0IjtjLmJhc2VVcmw9W25ldyBMKGIpXTtlLmEucHVzaChjKTthLmFbMF0uYS5wdXNoKGUpO01jKGEuYVswXSl9fQpnYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt0aGlzLmlkPU4oYiwiaWQiLE8pO3RoaXMuc3RhcnQ9TihiLCJzdGFydCIsRmMpO3RoaXMuZHVyYXRpb249TihiLCJkdXJhdGlvbiIsRmMpO3ZhciBjPUljKHRoaXMsYixyYyk7dGhpcy5iYXNlVXJsPUpjKGEuYmFzZVVybCxjKTt0aGlzLmI9TSh0aGlzLGIsdGMpO3RoaXMuYz1NKHRoaXMsYix5Yyk7dGhpcy5mPU0odGhpcyxiLEFjKTt0aGlzLmE9SWModGhpcyxiLGhjKTtNYyh0aGlzKX07ZnVuY3Rpb24gTWMoYSl7Zm9yKHZhciBiPVtdLGM9MDtjPGEuYS5sZW5ndGg7KytjKXt2YXIgZD1hLmFbY107bnVsbCE9ZC5ncm91cCYmKGJbZC5ncm91cF09ITApfWZvcihjPTA7YzxhLmEubGVuZ3RoOysrYylpZihkPWEuYVtjXSxudWxsPT1kLmdyb3VwKXtmb3IodmFyIGU9MTsxPT1iW2VdOykrK2U7YltlXT0hMDtkLmdyb3VwPWV9fQpoYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt2YXIgYz1NKHRoaXMsYixrYyl8fHt9LGQ9TSh0aGlzLGIsaWMpO3RoaXMuaWQ9TihiLCJpZCIsTyk7dGhpcy5ncm91cD1OKGIsImdyb3VwIixQKTt0aGlzLmxhbmc9TihiLCJsYW5nIixPLGMubGFuZyk7dGhpcy5jb250ZW50VHlwZT1OKGIsImNvbnRlbnRUeXBlIixPLGMuY29udGVudFR5cGUpO3RoaXMud2lkdGg9TihiLCJ3aWR0aCIsUSk7dGhpcy5oZWlnaHQ9TihiLCJoZWlnaHQiLFEpO3RoaXMubWltZVR5cGU9TihiLCJtaW1lVHlwZSIsTyk7dGhpcy5jb2RlY3M9TihiLCJjb2RlY3MiLE8pO3RoaXMuYz1OKGIsIkZCUHJvamVjdGlvbiIsTyk7dGhpcy5mPWQmJiJtYWluIj09ZC52YWx1ZTt0aGlzLmxhbmcmJih0aGlzLmxhbmc9U2EodGhpcy5sYW5nKSk7Yz1JYyh0aGlzLGIscmMpO3RoaXMuYmFzZVVybD1KYyhhLmJhc2VVcmwsYyk7dGhpcy5qPUljKHRoaXMsYixwYyk7IXRoaXMuY29udGVudFR5cGUmJnRoaXMubWltZVR5cGUmJgoodGhpcy5jb250ZW50VHlwZT10aGlzLm1pbWVUeXBlLnNwbGl0KCIvIilbMF0pO3RoaXMuZz1hLmI/T2ModGhpcyxiLGEuYik6TSh0aGlzLGIsdGMpO3RoaXMuaD1hLmM/T2ModGhpcyxiLGEuYyk6TSh0aGlzLGIseWMpO3RoaXMuaT1hLmY/T2ModGhpcyxiLGEuZik6TSh0aGlzLGIsQWMpO3RoaXMuYT1JYyh0aGlzLGIsbmMpO3RoaXMuYj1NKHRoaXMsYixqYyk7IXRoaXMubWltZVR5cGUmJnRoaXMuYS5sZW5ndGgmJih0aGlzLm1pbWVUeXBlPXRoaXMuYVswXS5taW1lVHlwZSwhdGhpcy5jb250ZW50VHlwZSYmdGhpcy5taW1lVHlwZSYmKHRoaXMuY29udGVudFR5cGU9dGhpcy5taW1lVHlwZS5zcGxpdCgiLyIpWzBdKSl9O2ljLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMudmFsdWU9TihiLCJ2YWx1ZSIsTyl9O2pjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMuYT1OKGIsInNjaGVtZUlkVXJpIixPKTt0aGlzLmxhbmc9TihiLCJsYW5nIixPKX07CmtjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMuaWQ9TihiLCJpZCIsTyk7dGhpcy5sYW5nPU4oYiwibGFuZyIsTyk7dGhpcy5jb250ZW50VHlwZT1OKGIsImNvbnRlbnRUeXBlIixPKTt0aGlzLmxhbmcmJih0aGlzLmxhbmc9U2EodGhpcy5sYW5nKSl9OwpuYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt0aGlzLmlkPU4oYiwiaWQiLE8pO3RoaXMuYmFuZHdpZHRoPU4oYiwiYmFuZHdpZHRoIixRKTt0aGlzLndpZHRoPU4oYiwid2lkdGgiLFEsYS53aWR0aCk7dGhpcy5oZWlnaHQ9TihiLCJoZWlnaHQiLFEsYS5oZWlnaHQpO3RoaXMubWltZVR5cGU9TihiLCJtaW1lVHlwZSIsTyxhLm1pbWVUeXBlKTt0aGlzLmNvZGVjcz1OKGIsImNvZGVjcyIsTyxhLmNvZGVjcyk7dGhpcy5mYlF1YWxpdHlMYWJlbD1OKGIsIkZCUXVhbGl0eUxhYmVsIixPKTt0aGlzLmZiUXVhbGl0eUNsYXNzPU4oYiwiRkJRdWFsaXR5Q2xhc3MiLE8pO3RoaXMubT1OKGIsIkZCQWJyUG9saWN5VGFncyIsTyk7VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJtcGRfcGFyc2VfbW9zX2F0dHJpYnV0ZXMiLCExKSYmKHRoaXMubz1OKGIsIkZCUGxheWJhY2tSZXNvbHV0aW9uTW9zIixNb3NVdGlscy5wYXJzZVBsYXliYWNrTW9zKSx0aGlzLnU9TihiLAoiRkJQbGF5YmFja1Jlc29sdXRpb25Nb3NDb25maWRlbmNlTGV2ZWwiLE8pKTtWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woIm1wZF9wYXJzZV9mcmFtZV9hbmRfYXVkaW9fc2FtcGxpbmdfcmF0ZSIsITEpJiYodGhpcy5mcmFtZVJhdGU9TihiLCJmcmFtZVJhdGUiLE8pLHRoaXMuaj1OKGIsImF1ZGlvU2FtcGxpbmdSYXRlIixRKSk7dGhpcy5sYW5nPWEubGFuZzt2YXIgYz1JYyh0aGlzLGIscmMpO3RoaXMuYmFzZVVybD1KYyhhLmJhc2VVcmwsYyk7VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJhZGRfaW5saW5lX2luaXRpYWxpemF0aW9uX3Jlc291cmNlcyIsITEpJiYodGhpcy5nPU0odGhpcyxiLGxjKSx0aGlzLmg9TSh0aGlzLGIsbWMpKTt0aGlzLmM9SWModGhpcyxiLHBjKTt0aGlzLmk9TSh0aGlzLGIsb2MpO3RoaXMuZj1hLmc/T2ModGhpcyxiLGEuZyk6TSh0aGlzLGIsdGMpO3RoaXMuYj1hLmg/T2ModGhpcyxiLGEuaCk6TSh0aGlzLGIsCnljKTt0aGlzLmE9YS5pP09jKHRoaXMsYixhLmkpOk0odGhpcyxiLEFjKTt0aGlzLmM9dGhpcy5jLmNvbmNhdChhLmopfTtsYy5wcm90b3R5cGUucGFyc2U9bWMucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7aWYoYiYmYi5maXJzdENoaWxkKXt2YXIgYz1QYyhiKTtudWxsIT1jJiYodGhpcy5kYXRhPUtiKGMpLmJ1ZmZlcil9fTtwYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt0aGlzLmM9Yjt0aGlzLmY9TihiLCJzY2hlbWVJZFVyaSIsTyk7dmFyIGM9TihiLCJjZW5jOmRlZmF1bHRfS0lEIixPKTtjJiYodGhpcy5iPWMucmVwbGFjZSgvWy1dL2csIiIpKTt0aGlzLmE9TSh0aGlzLGIscWMpfTsKcWMucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dmFyIGM9UGMoYik7aWYoYyl7dGhpcy5wc3NoQm94PUtiKGMpO3RyeXt0aGlzLnBhcnNlZFBzc2g9bmV3IFFiKHRoaXMucHNzaEJveCl9Y2F0Y2goZCl7aWYoIShkIGluc3RhbmNlb2YgUmFuZ2VFcnJvcikpdGhyb3cgZDt9fX07cmMucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dmFyIGM9Yi5jaGlsZE5vZGVzLGQ9IiI7aWYoMT09Yy5sZW5ndGgpZD1QYyhiKTtlbHNlIGZvcih2YXIgZT0wO2U8Yy5sZW5ndGg7ZSsrKWNbZV0ubm9kZVR5cGU9PU5vZGUuVEVYVF9OT0RFJiYoZCs9Y1tlXS5ub2RlVmFsdWUpO3RoaXMudXJsPWR9O3NjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMudXJsPVBjKGIpfTsKdGMucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dGhpcy5iYXNlVXJsPWEuYmFzZVVybHx8dGhpcy5iYXNlVXJsO3RoaXMucz1OKGIsInRpbWVzY2FsZSIsUSx0aGlzLnMpO3RoaXMuTD1OKGIsInByZXNlbnRhdGlvblRpbWVPZmZzZXQiLFAsdGhpcy5MKTt0aGlzLmE9TihiLCJpbmRleFJhbmdlIixRYyx0aGlzLmEpO3RoaXMuZj1OKGIsIkZCRmlyc3RTZWdtZW50UmFuZ2UiLFFjLHRoaXMuZik7dGhpcy5iPU0odGhpcyxiLHdjKXx8dGhpcy5iO3RoaXMuYz1NKHRoaXMsYix4Yyl8fHRoaXMuY307d2MucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dmFyIGM9TihiLCJzb3VyY2VVUkwiLE8pO3RoaXMudXJsPUtjKGEuYmFzZVVybCxjKTt0aGlzLmE9TihiLCJyYW5nZSIsUWMsdmMoYS5hKSl9Owp4Yy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt2YXIgYz1OKGIsInNvdXJjZVVSTCIsTyk7dGhpcy51cmw9S2MoYS5iYXNlVXJsLGMpO3RoaXMuYT1OKGIsInJhbmdlIixRYyl9Owp5Yy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt0aGlzLmJhc2VVcmw9YS5iYXNlVXJsfHx0aGlzLmJhc2VVcmw7dGhpcy5zPU4oYiwidGltZXNjYWxlIixRLHRoaXMucyk7dGhpcy5MPU4oYiwicHJlc2VudGF0aW9uVGltZU9mZnNldCIsUCx0aGlzLkwpO3RoaXMuSD1OKGIsImR1cmF0aW9uIixRLHRoaXMuSCk7dmFyIGM9TihiLCJzdGFydE51bWJlciIsUSk7bnVsbCE9YyYmKHRoaXMuYz1jKTt0aGlzLmI9TSh0aGlzLGIseGMpfHx0aGlzLmI7dGhpcy5hPShjPUljKHRoaXMsYix6YykpJiYwPGMubGVuZ3RoP2M6dGhpcy5hO3RoaXMuQz1NKHRoaXMsYixCYyl8fHRoaXMuQztWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImNhbGN1bGF0ZV9xdWlja19kYXNoX3ByZXNlbnRhdGlvbl90aW1lX29mZnNldF9mcm9tX3RpbWVsaW5lIiwhMSkmJihjPVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJjYWxjdWxhdGVfcXVpY2tfZGFzaF9wcmVzZW50YXRpb25fdGltZV9vZmZzZXRfZXBzaWxvbl9tcyIsCjI1MCksdGhpcy5DJiZ0aGlzLkMuTlswXSYmKHRoaXMuTD0xRTM8dGhpcy5DLk5bMF0uc3RhcnRUaW1lP3RoaXMuQy5OWzBdLnN0YXJ0VGltZS1jOnRoaXMuTCkpfTt6Yy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt2YXIgYz1OKGIsIm1lZGlhIixPKTt0aGlzLmI9S2MoYS5iYXNlVXJsLGMpO3RoaXMuYT1OKGIsIm1lZGlhUmFuZ2UiLFFjKX07CkFjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMucz1OKGIsInRpbWVzY2FsZSIsUSx0aGlzLnMpO3RoaXMuTD1OKGIsInByZXNlbnRhdGlvblRpbWVPZmZzZXQiLFAsdGhpcy5MKTt0aGlzLkg9TihiLCJkdXJhdGlvbiIsUSx0aGlzLkgpO3ZhciBjPU4oYiwic3RhcnROdW1iZXIiLFApO251bGwhPWMmJih0aGlzLmI9Yyk7dGhpcy5mPU4oYiwibWVkaWEiLE8sdGhpcy5mKTt0aGlzLmE9TihiLCJpbmRleCIsTyx0aGlzLmEpO3RoaXMuYz1OKGIsImluaXRpYWxpemF0aW9uIixPLHRoaXMuYyk7dGhpcy5DPU0odGhpcyxiLEJjKXx8dGhpcy5DfTtCYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt0aGlzLmE9TihiLCJGQlByZWRpY3RlZE1lZGlhIixPLHRoaXMuYSk7dGhpcy5iPU4oYiwiRkJQcmVkaWN0ZWRNZWRpYUVuZE51bWJlciIsUSk7dGhpcy5OPUljKHRoaXMsYixDYyl9OwpDYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt0aGlzLnN0YXJ0VGltZT1OKGIsInQiLFApO3RoaXMuZHVyYXRpb249TihiLCJkIixQKTt0aGlzLnJlcGVhdD1OKGIsInIiLEhjKX07ZnVuY3Rpb24gSmMoYSxiKXtpZighYnx8MD09PWIubGVuZ3RoKXJldHVybiBhO2Zvcih2YXIgYz1bXSxkPTA7ZDxiLmxlbmd0aDtkKyspe3ZhciBlPWJbZF0udXJsO251bGw9PWF8fDA9PT1hLmxlbmd0aD9jLnB1c2gobmV3IEwoZSkpOihlPUtjKGEuc2xpY2UoMCwxKSxlKSxjLnB1c2goZVswXSkpfXJldHVybiBjfWZ1bmN0aW9uIEtjKGEsYil7aWYoIWIpcmV0dXJuIGE7dmFyIGM9bmV3IEwoYik7cmV0dXJuIGE/YS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVzb2x2ZShjKX0pOltjXX1mdW5jdGlvbiBPYyhhLGIsYyl7dmFyIGQ9dmMoYyk7KGI9UmMoYixjLmNvbnN0cnVjdG9yLlRBR19OQU1FKSkmJmQucGFyc2UoYSxiKTtyZXR1cm4gZH0KZnVuY3Rpb24gTShhLGIsYyl7dmFyIGQ9bnVsbDtpZihiPVJjKGIsYy5UQUdfTkFNRSkpZD1uZXcgYyxkLnBhcnNlKGEsYik7cmV0dXJuIGR9ZnVuY3Rpb24gUmMoYSxiKXtmb3IodmFyIGM9bnVsbCxkPTA7ZDxhLmNoaWxkTm9kZXMubGVuZ3RoO2QrKylpZihhLmNoaWxkTm9kZXNbZF0udGFnTmFtZT09Yil7aWYoYylyZXR1cm4gbnVsbDtjPWEuY2hpbGROb2Rlc1tkXX1yZXR1cm4gY31mdW5jdGlvbiBJYyhhLGIsYyl7Zm9yKHZhciBkPVtdLGU9MDtlPGIuY2hpbGROb2Rlcy5sZW5ndGg7ZSsrKWlmKGIuY2hpbGROb2Rlc1tlXS50YWdOYW1lPT1jLlRBR19OQU1FKXt2YXIgZj1uZXcgYztmLnBhcnNlLmNhbGwoZixhLGIuY2hpbGROb2Rlc1tlXSk7ZC5wdXNoKGYpfXJldHVybiBkfWZ1bmN0aW9uIFBjKGEpe2E9YS5maXJzdENoaWxkO3JldHVybiBhLm5vZGVUeXBlIT1Ob2RlLlRFWFRfTk9ERT9udWxsOmEubm9kZVZhbHVlfQpmdW5jdGlvbiB1YyhhKXtyZXR1cm4gYT9hLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS5jbG9uZSgpfSk6bnVsbH1mdW5jdGlvbiB2YyhhKXtyZXR1cm4gYT9hLmNsb25lKCk6bnVsbH1mdW5jdGlvbiBOKGEsYixjLGQpe2E9YS5oYXNBdHRyaWJ1dGUoYik/YyhhLmdldEF0dHJpYnV0ZShiKSk6bnVsbDtyZXR1cm4gbnVsbCE9YT9hOnZvaWQgMCE9PWQ/ZDpudWxsfWZ1bmN0aW9uIEdjKGEpe2lmKCFhKXJldHVybiBudWxsO2E9RGF0ZS5wYXJzZShhKTtyZXR1cm4gaXNOYU4oYSk/bnVsbDpNYXRoLmZsb29yKGEvMUUzKX0KZnVuY3Rpb24gRmMoYSl7aWYoIWEpcmV0dXJuIG51bGw7dmFyIGI9L15QKD86KFswLTldKilZKT8oPzooWzAtOV0qKU0pPyg/OihbMC05XSopRCk/KD86VCg/OihbMC05XSopSCk/KD86KFswLTldKilNKT8oPzooWzAtOS5dKilTKT8pPyQvLmV4ZWMoYSk7aWYoIWIpcmV0dXJuIG51bGw7YT0wO3ZhciBjPVAoYlsxXSk7YyYmKGErPTMxNTM2RTMqYyk7KGM9UChiWzJdKSkmJihhKz0yNTkyRTMqYyk7KGM9UChiWzNdKSkmJihhKz04NjQwMCpjKTsoYz1QKGJbNF0pKSYmKGErPTM2MDAqYyk7KGM9UChiWzVdKSkmJihhKz02MCpjKTtiPXdpbmRvdy5wYXJzZUZsb2F0KGJbNl0pOyhiPWlzTmFOKGIpP251bGw6YikmJihhKz1iKTtyZXR1cm4gYX0KZnVuY3Rpb24gUWMoYSl7dmFyIGI9LyhbMC05XSspLShbMC05XSspLy5leGVjKGEpO2lmKCFiKXJldHVybiBudWxsO2E9UChiWzFdKTtpZihudWxsPT1hKXJldHVybiBudWxsO2I9UChiWzJdKTtyZXR1cm4gbnVsbD09Yj9udWxsOm5ldyBEYyhhLGIpfWZ1bmN0aW9uIEhjKGEpe2E9d2luZG93LnBhcnNlSW50KGEsMTApO3JldHVybiBpc05hTihhKT9udWxsOmF9ZnVuY3Rpb24gUShhKXthPXdpbmRvdy5wYXJzZUludChhLDEwKTtyZXR1cm4gMDxhP2E6bnVsbH1mdW5jdGlvbiBQKGEpe2E9d2luZG93LnBhcnNlSW50KGEsMTApO3JldHVybiAwPD1hP2E6bnVsbH1mdW5jdGlvbiBFYyhhKXtzd2l0Y2goYS50b0xvd2VyQ2FzZSgpKXtjYXNlICJ0cnVlIjpyZXR1cm4hMDtjYXNlICJmYWxzZSI6cmV0dXJuITE7ZGVmYXVsdDpyZXR1cm4gbnVsbH19ZnVuY3Rpb24gTyhhKXtyZXR1cm4gYX07ZnVuY3Rpb24gU2MoYSxiKXt0aGlzLnVybD1hO3RoaXMuYj1ifHxuZXcgdGI7dGhpcy5qPTA7dGhpcy5nPS0xO3RoaXMuaD10aGlzLmk9MDt0aGlzLmE9bnVsbDt0aGlzLmM9bmV3IEk7dGhpcy5mPW51bGw7dGhpcy5vPXRoaXMuYi5pO3RoaXMubD10aGlzLmIubX1xKCJzaGFrYS51dGlsLkFqYXhSZXF1ZXN0IixTYyk7CmZ1bmN0aW9uIHRiKCl7dGhpcy5ib2R5PW51bGw7dGhpcy5OYT0xO3RoaXMuYz0xRTM7dGhpcy5iPTA7dGhpcy5tZXRob2Q9IkdFVCI7dGhpcy5yZXNwb25zZVR5cGU9ImFycmF5YnVmZmVyIjt0aGlzLlFhPXt9O3RoaXMuZz10aGlzLndpdGhDcmVkZW50aWFscz0hMTt0aGlzLmRhPXRoaXMuYT10aGlzLnU9bnVsbDt0aGlzLmo9ITE7dGhpcy5oPXRoaXMubT10aGlzLmk9dGhpcy5taW1lVHlwZT1udWxsO3RoaXMubz0hMTt0aGlzLnc9LyguKilcLih4eHxmbmEpXC5mYmNkblwubmV0Lzt0aGlzLmY9L2xpdmVzdHJlYW0tbG9va2FzaWRlXC4oZmFjZWJvb2t8d29ya3BsYWNlKVwuY29tJC99dmFyIFRjPSEwO2Z1bmN0aW9uIFVjKGEpe1ZjKGEpO1djKGEpO2EuYi5ib2R5PW51bGw7YS5jLmRlc3Ryb3koKTthLmM9bnVsbDthLmY9bnVsbH0KZnVuY3Rpb24gV2MoYSl7YS5hJiYoYS5hLm9ubG9hZD1udWxsLGEuYS5vbnJlYWR5c3RhdGVjaGFuZ2U9bnVsbCxhLmEub25lcnJvcj1udWxsLGEuYS5vbnRpbWVvdXQ9bnVsbCk7YS5hPW51bGx9ZnVuY3Rpb24gVmMoYSl7LTEhPT1hLmcmJihjbGVhclRpbWVvdXQoYS5nKSxhLmc9LTEpfQpTYy5wcm90b3R5cGUubT1mdW5jdGlvbigpe2lmKHRoaXMuYSlyZXR1cm4gdGhpcy5jO2lmKDA9PXRoaXMudXJsLmxhc3RJbmRleE9mKCJkYXRhOiIsMCkpe3ZhciBhPXRoaXMudXJsLnNwbGl0KCI6IilbMV0uc3BsaXQoIjsiKS5wb3AoKS5zcGxpdCgiLCIpLGI9YS5wb3AoKSxiPSJiYXNlNjQiPT1hLnBvcCgpP3dpbmRvdy5hdG9iKGIucmVwbGFjZSgvLS9nLCIrIikucmVwbGFjZSgvXy9nLCIvIikpOndpbmRvdy5kZWNvZGVVUklDb21wb25lbnQoYik7ImFycmF5YnVmZmVyIj09dGhpcy5iLnJlc3BvbnNlVHlwZSYmKGI9SmIoYikuYnVmZmVyKTthPUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkobmV3IFhNTEh0dHBSZXF1ZXN0KSk7YS5yZXNwb25zZT1iO2EucmVzcG9uc2VUZXh0PWIudG9TdHJpbmcoKTtiPXRoaXMuYztiLnJlc29sdmUoYSk7VWModGhpcyk7cmV0dXJuIGJ9aWYoMD09dGhpcy51cmwubGFzdEluZGV4T2YoImlkYjoiLDApKXJldHVybiB0aGlzLnUoKTt0aGlzLmorKzsKdGhpcy5pPXBlcmZvcm1hbmNlTm93KCk7dGhpcy5ofHwodGhpcy5oPXRoaXMuYi5jKTt0aGlzLmE9bmV3IFhNTEh0dHBSZXF1ZXN0O3ZhciBjPXRoaXMudXJsLGE9bmV3IEwoYyk7VGMmJih0aGlzLmYmJiF0aGlzLmYuc3VwcG9ydHNDYWNoaW5nKCl8fHRoaXMuYi5nKSYmZGMoYS5hLCJfIixEYXRlLm5vdygpKTtjPXRoaXMuYi53LnRlc3QoYyk7aWYobnVsbCE9dGhpcy5iLmEmJmMpe3ZhciBkPXRoaXMuYi5hLGU9YS5hO251bGwhPWQuYSYmKGQuaD1kLmEuZ2V0U2VnbWVudHNUb1B1c2goKSxkLmY9ZC5hLmdldFNlZ21lbnRTdGFydFRpbWUoKSxkLmc9ZC5hLmdldFNlZ21lbnRPZmZzZXQoKSxkLmM9ZC5hLmdldFB1c2hWaWRlb1JlcHJlc2VudGF0aW9uSUQoKSxkLmI9ZC5hLmdldFB1c2hBdWRpb1JlcHJlc2VudGF0aW9uSUQoKSxkLmo9ZC5hLmdldFVzZUxvbmdDYWNoZUZvck1hbmlmZXN0KCkpO251bGwhPWQuaCYmZGMoZSwiX25jX3BfbiIsZC5oKTtudWxsIT1kLmY/ZGMoZSwiX25jX3BfdHMiLApkLmYpOm51bGwhPWQuZyYmZGMoZSwiX25jX3BfbyIsZC5nKTtudWxsIT1kLmMmJm51bGwhPWQuYiYmKGRjKGUsIl9uY19wX3JpZCIsZC5jKSxkYyhlLCJfbmNfcF9hcmlkIixkLmIpKTtkLmkmJmRjKGUsIl9uY19wX2RiZyIsIjEiKTtkLmomJmRjKGUsIl9uY19uYyIsIjEiKX0xPT10aGlzLmIuaiYmYyYmZGMoYS5hLCJfbmNfcGxheWluZyIsMSk7dGhpcy5iLm8mJmRjKGEuYSwiX25jX3NjIiwxKTtjPWEudG9TdHJpbmcoKTthPXRoaXMuYi5mLnRlc3QoYS5oYSk7dGhpcy5hLm9wZW4odGhpcy5iLm1ldGhvZCxjLCEwKTt0aGlzLmEucmVzcG9uc2VUeXBlPXRoaXMuYi5yZXNwb25zZVR5cGU7dGhpcy5hLnRpbWVvdXQ9dGhpcy5iLmI7dGhpcy5hLndpdGhDcmVkZW50aWFscz10aGlzLmIud2l0aENyZWRlbnRpYWxzfHxhO3NldEV2ZW50UHJvcGVydHkodGhpcy5hLCJvbmxvYWQiLHRoaXMuZmQuYmluZCh0aGlzKSk7c2V0RXZlbnRQcm9wZXJ0eSh0aGlzLmEsIm9ucmVhZHlzdGF0ZWNoYW5nZSIsCnRoaXMubGQuYmluZCh0aGlzKSk7c2V0RXZlbnRQcm9wZXJ0eSh0aGlzLmEsIm9uZXJyb3IiLHRoaXMuZGQuYmluZCh0aGlzKSk7c2V0RXZlbnRQcm9wZXJ0eSh0aGlzLmEsIm9udGltZW91dCIsdGhpcy5xZC5iaW5kKHRoaXMpKTtzZXRFdmVudFByb3BlcnR5KHRoaXMuYSwib25hYm9ydCIsdGhpcy4kYy5iaW5kKHRoaXMpKTtmb3IoYiBpbiB0aGlzLmIuUWEpdGhpcy5hLnNldFJlcXVlc3RIZWFkZXIoYix0aGlzLmIuUWFbYl0pO3RoaXMuYS5zZW5kKHRoaXMuYi5ib2R5KTtyZXR1cm4gdGhpcy5jfTtTYy5wcm90b3R5cGUuc2VuZD1TYy5wcm90b3R5cGUubTsKZnVuY3Rpb24gWGMoYSxiLGMpe2I9RXJyb3IoYik7Yi50eXBlPWM7Yi5zdGF0dXM9YS5hLnN0YXR1cztiLnVybD1hLnVybDtWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImVuYWJsZV9kb3VibGVfaW5nZXN0IiwhMSkmJihiLnJlc3BvbnNlSGVhZGVycz1wYXJzZUhlYWRlcnMoYS5hLmdldEFsbFJlc3BvbnNlSGVhZGVycygpKSk7Yi5tZXRob2Q9YS5iLm1ldGhvZDtiLmJvZHk9YS5iLmJvZHk7cmV0dXJuIGJ9bj1TYy5wcm90b3R5cGU7bi5hYm9ydD1mdW5jdGlvbigpe1ZjKHRoaXMpO2lmKHRoaXMuYSYmdGhpcy5hLnJlYWR5U3RhdGUhPVhNTEh0dHBSZXF1ZXN0LkRPTkUmJih0aGlzLmEuYWJvcnQoKSwhVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJmaXhfc2hha2FfdXRpbF9hamF4X3JlcXVlc3RfYWJvcnQiLCEwKSkpe3ZhciBhPVhjKHRoaXMsIlJlcXVlc3QgYWJvcnRlZC4iLCJhYm9ydGVkIik7dGhpcy5jLnJlamVjdChhKTtVYyh0aGlzKX19OwpuLiRjPWZ1bmN0aW9uKCl7aWYoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJmaXhfc2hha2FfdXRpbF9hamF4X3JlcXVlc3RfYWJvcnQiLCEwKSl7dmFyIGE9WGModGhpcywiUmVxdWVzdCBhYm9ydGVkLiIsImFib3J0ZWQiKTt0aGlzLmMucmVqZWN0KGEpO1VjKHRoaXMpfX07Cm4uZmQ9ZnVuY3Rpb24oYSl7aWYodGhpcy5mKXt2YXIgYj1WaWRlb1BsYXllclJlc291cmNlVGltZXIuZ2V0UmVzb3VyY2VUaW1pbmdFbnRyeSh0aGlzLnVybCx0aGlzLmkscGVyZm9ybWFuY2VOb3coKSk7dGhpcy5mLnNhbXBsZShwZXJmb3JtYW5jZU5vdygpLXRoaXMuaSxhLmxvYWRlZHx8dGhpcy5hLnJlc3BvbnNlJiZ0aGlzLmEucmVzcG9uc2UuYnl0ZUxlbmd0aHx8MCx0aGlzLmIubWltZVR5cGU/InYiPT09dGhpcy5iLm1pbWVUeXBlLmNoYXJBdCgwKTohMSxiLHRoaXMubyx0aGlzLmwsVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJldmFsdWF0ZV9hYnJfb25fZmV0Y2hfZW5kIiwhMSkpfWE9WzQwM107MjAwPD10aGlzLmEuc3RhdHVzJiYyOTk+PXRoaXMuYS5zdGF0dXM/KFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgiZW5hYmxlX2RvdWJsZV9pbmdlc3QiLCExKSYmbnVsbCE9cGFyc2VIZWFkZXJzKHRoaXMuYS5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSlbIngtZmItdmlkZW8tcmVwbGljYSJdPwooYT1YYyh0aGlzLCJIVFRQIGVycm9yLiIsIm5ldCIpLHRoaXMuYy5yZWplY3QoYSkpOnRoaXMuYy5yZXNvbHZlKHRoaXMuYSksVWModGhpcykpOiFWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInJlbW92ZV9hamF4X3Jlc2VuZF9pbnRlcm5hbCIsITApJiZ0aGlzLmo8dGhpcy5iLk5hJiYtMT09PWEuaW5kZXhPZih0aGlzLmEuc3RhdHVzKT9ZYyh0aGlzKTooYT1YYyh0aGlzLCJIVFRQIGVycm9yLiIsIm5ldCIpLHRoaXMuYy5yZWplY3QoYSksVWModGhpcykpfTsKbi5sZD1mdW5jdGlvbigpe2lmKHRoaXMuYS5yZWFkeVN0YXRlPT1YTUxIdHRwUmVxdWVzdC5IRUFERVJTX1JFQ0VJVkVEJiYodGhpcy5hLllhPURhdGUubm93KCktdGhpcy5pLHRoaXMuYi5hJiZ0aGlzLmIuZGEmJnRoaXMuYi5kYS5hZGRQdXNoRGF0YUZyb21YSFIodGhpcy5hKSx0aGlzLmIuaCYmdGhpcy5iLmguaGFuZGxlWEhSKHRoaXMuYSksVmlkZW9DbGllbnRFZGdlQ29vcGVyYXRpb24udXBkYXRlRnJvbVhIUih0aGlzLmEpLHRoaXMuYi5nKSl7dmFyIGE9RGF0ZS5wYXJzZSh0aGlzLmEuZ2V0UmVzcG9uc2VIZWFkZXIoIkRhdGUiKSk7YSYmKHphPWEtRGF0ZS5ub3coKSl9fTtuLmRkPWZ1bmN0aW9uKCl7dmFyIGE9WGModGhpcywiTmV0d29yayBmYWlsdXJlLiIsIm5ldCIpO3RoaXMuYy5yZWplY3QoYSk7VWModGhpcyl9OwpuLnFkPWZ1bmN0aW9uKCl7aWYoIVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgicmVtb3ZlX2FqYXhfcmVzZW5kX2ludGVybmFsIiwhMCkmJnRoaXMuajx0aGlzLmIuTmEpWWModGhpcyk7ZWxzZXt2YXIgYT1YYyh0aGlzLCJSZXF1ZXN0IHRpbWVkIG91dC4iLCJuZXQiKTt0aGlzLmMucmVqZWN0KGEpO1VjKHRoaXMpfX07ZnVuY3Rpb24gWWMoYSl7V2MoYSk7YS5nPXNldFRpbWVvdXQoZnVuY3Rpb24oKXt0aGlzLmc9LTE7dGhpcy5tKCl9LmJpbmQoYSksYS5oKigxKy41KigyKk1hdGgucmFuZG9tKCktMSkpKTthLmgqPTJ9O2Z1bmN0aW9uIEsoYSxiLGMsZCxlLGYpe3RoaXMuYz1iO3RoaXMuc3RhcnRCeXRlPWN8fDA7dGhpcy5iYXNlVXJsPXRoaXMudG9TdHJpbmcoKTt0aGlzLmVuZEJ5dGU9bnVsbCE9ZD9kOm51bGw7dGhpcy5pc1ByZWRpY3RpdmU9ZXx8ITE7dGhpcy5mPW51bGw7dGhpcy5tPTA7dGhpcy5BPSExO3RoaXMuTmM9dGhpcy5nPW51bGw7dGhpcy5vPWE7dGhpcy5pPW51bGw7dGhpcy5qPXRoaXMudT0hMTt0aGlzLmI9dGhpcy5hPW51bGw7dGhpcy5oPWZ8fG51bGx9cSgic2hha2EudXRpbC5GYWlsb3ZlclVyaSIsSyk7Sy5wcm90b3R5cGUudz1mdW5jdGlvbihhKXt0aGlzLkE9YX07Sy5wcm90b3R5cGUuc2V0U2hvdWxkUmVhZFhGYlZpZGVvQnJvYWRjYXN0RW5kZWRIZWFkZXI9Sy5wcm90b3R5cGUudztLLnByb3RvdHlwZS5EPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubX07Sy5wcm90b3R5cGUuZ2V0RmJWaWRlb0Jyb2FkY2FzdEVuZGVkUmVzcG9uc2VIZWFkZXI9Sy5wcm90b3R5cGUuRDsKSy5wcm90b3R5cGUuRj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YXJ0Qnl0ZX07Sy5wcm90b3R5cGUuZ2V0U3RhcnRCeXRlPUsucHJvdG90eXBlLkY7Sy5wcm90b3R5cGUuQj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVuZEJ5dGV9O0sucHJvdG90eXBlLmdldEVuZEJ5dGU9Sy5wcm90b3R5cGUuQjtmdW5jdGlvbiBaYyhhLGIpe3JldHVybiBhJiYwIT09YS5sZW5ndGg/YS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVzb2x2ZShiKX0pOltiXX1uPUsucHJvdG90eXBlO24uZmV0Y2g9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxoKXtyZXR1cm4gdGhpcy5mP3RoaXMuZjp0aGlzLmY9JGModGhpcywwLGF8fG5ldyB0YixiLGMsZCxlLGYsZyxoKX07bi5zdHJlYW09ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxoLGspe3JldHVybiBhZCh0aGlzLDAsYXx8bmV3IHRiLGIsYyxkLGUsZixnLGgsayl9OwpmdW5jdGlvbiAkYyhhLGIsYyxkLGUsZixnLGgsayxsKXtyZXR1cm4gYWQoYSxiLGMsZCxlLGYsZyxoLGssbCkudGhlbihmdW5jdGlvbihhKXt2YXIgYixjPWZ1bmN0aW9uKCl7cmV0dXJuIGEucmVhZCgpLnRoZW4oZnVuY3Rpb24oYSl7dmFyIGQ9YS52YWx1ZTtpZihhLmRvbmUpcmV0dXJuIGJ8fG5ldyBBcnJheUJ1ZmZlcigwKTtkJiYoInN0cmluZyI9PT10eXBlb2YgZD9iPShifHwiIikrZDpiPWNvbmNhdEFycmF5QnVmZmVyKGJ8fG5ldyBBcnJheUJ1ZmZlcigwKSxkKSk7cmV0dXJuIGMoKX0uYmluZCh0aGlzKSl9LmJpbmQodGhpcyk7cmV0dXJuIGMoKX0pfQpuLkthPWZ1bmN0aW9uKCl7dGhpcy5nJiYodGhpcy5hPXRoaXMuZj1udWxsLHRoaXMuZy5hYm9ydCgpLHRoaXMuaT10aGlzLmc9bnVsbCk7dGhpcy5OYyYmVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJlbmFibGVfcDJwX3N1cHBvcnQiLCExKSYmKHRoaXMuRy5hYm9ydCgpLHRoaXMuRz1udWxsKTt0aGlzLmImJih0aGlzLmIuYWJvcnRSZXF1ZXN0KGJkKHRoaXMpKSxWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImZpeGluZ19zY2hlZHVsZXJfZGlzYWJsZV9sZWFrcyIsITApJiYodGhpcy5iPW51bGwpKX07CmZ1bmN0aW9uIGFkKGEsYixjLGQsZSxmLGcsaCxrLGwsbSl7YS5iPWx8fG51bGw7dmFyIHA7ZSYmKGMuYSYmKGMuYS5pPSEwKSxsPTAsYy5kYSYmKGw9Yy5kYS5nZXRQdXNoQ291bnRGb3JVcmwoYS5jW2JdLnRvU3RyaW5nKCkpKSwocD1lLmdldE9wZXJhdGlvbkxvZ2dlcigicmVxdWVzdCIpKSYmcC5zZXRSZWFzb24oa3x8bnVsbCkuc2V0UHVzaGVkKGwpLnNldFR5cGUoaHx8bnVsbCkuc2V0SW5pdGlhdG9yKCJzaGFrYSIpLnN0YXJ0KCksZiYmKHA9cC5zZXRQYXJlbnRMb2dnZXIoZikpKTt2YXIgdD1wZXJmb3JtYW5jZU5vdygpO2EuYT1udWxsO2cmJihjLmk9Zyk7ZSYmKGMubT1lKTt2YXIgdz1jZChhLGEuY1tiXSxjKTtrPW51bGw7YS5qPSExO3ZhciB6PVZpZGVvRGFzaFByZWZldGNoQ2FjaGUuZ2V0Q2FjaGVWYWx1ZSh3KTt6JiYoaz16LGEuaj0hMCxwJiYocC5zZXRDb25uZWN0aW9uUXVhbGl0eUxldmVsKFZpZGVvRGFzaFByZWZldGNoQ2FjaGUuZ2V0Q29ubmVjdGlvblF1YWxpdHlMZXZlbCh3KSksCnAuc2V0SW5pdGlhdG9yKCJwcmVmZXRjaCIpKSk7aWYoIXomJm0pcmV0dXJuIG0uZ2V0U3RyZWFtKGJkKGEpKS50aGVuKGZ1bmN0aW9uKGEpe3JldHVybiBhLmdldFJlYWRlcigpfS5iaW5kKGEpKTttPW51bGw7aWYoYS5iJiYhYS5iLmlzRGlzYWJsZWQoKSYmIWspdHJ5eyhrPW09YS5iLmdldFByb21pc2UoYmQoYSkpKT9wPW51bGw6YS5iLmRpc2FibGUoKX1jYXRjaChIKXtlJiZlLmdldEV2ZW50TG9nZ2VyKCJyZXF1ZXN0X2luZm9fbm90X2ZvdW5kIikuc2V0UmVzb3VyY2UodykubG9nKCl9IWsmJmEuaCYmYS5oLmNyZWF0ZVByb21pc2UmJihtPW5ldyBMKHcpLG09Yy5mLnRlc3QobS5oYSksaz1hLmguY3JlYXRlUHJvbWlzZSh7dXJsOncscmVzcG9uc2VUeXBlOmMucmVzcG9uc2VUeXBlLE9kOmMuYyxLZDoyLE5hOmMuTmEsd2l0aENyZWRlbnRpYWxzOmMud2l0aENyZWRlbnRpYWxzfHxtLFFhOmMuUWF9LGZ1bmN0aW9uKGEpe3RoaXMuTmM9YTt2YXIgYj1wZXJmb3JtYW5jZU5vdygpOwphLm9ubG9hZD1mdW5jdGlvbihmKXtpZihkKXt2YXIgaD1WaWRlb1BsYXllclJlc291cmNlVGltZXIuZ2V0UmVzb3VyY2VUaW1pbmdFbnRyeSh3LGIscGVyZm9ybWFuY2VOb3coKSk7ZC5zYW1wbGUocGVyZm9ybWFuY2VOb3coKS1iLGYubG9hZGVkfHxhLnJlc3BvbnNlJiZhLnJlc3BvbnNlLmJ5dGVMZW5ndGh8fDAsYy5taW1lVHlwZT8idiI9PT1jLm1pbWVUeXBlLmNoYXJBdCgwKTohMSxoLGcsZSxWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImV2YWx1YXRlX2Ficl9vbl9mZXRjaF9lbmQiLCExKSl9fX0pKTtrfHwoYS5nPW5ldyBTYyh3LGMpLGEubT0wLGQmJihhLmcuZj1kKSxrPWEuZy5tKCkpO3AmJnAuc2V0UmVzb3VyY2Uodyk7ZiYmZi5zZXRSZXNvdXJjZSh3KTt2YXIgZGE9ITEsZWE9ay50aGVuKEooYSxmdW5jdGlvbihhKXt2YXIgYz10aGlzLmg/dGhpcy5oLm9uUmVxdWVzdFNlbmQ6bnVsbDshY3x8InZpZGVvIiE9aCYmImF1ZGlvIiE9aCYmIm1hbmlmZXN0IiE9Cmh8fGMoITAsaCxhLnJlc3BvbnNlLmJ5dGVMZW5ndGgpOyF0aGlzLmJ8fHRoaXMuYi5pc0Rpc2FibGVkKCl8fHRoaXMuYT90aGlzLmF8fCh0aGlzLmE9VmlkZW9QbGF5ZXJSZXNvdXJjZVRpbWVyLmdldFJlc291cmNlVGltaW5nRW50cnkodyx0aGlzLmo/MDp0LHBlcmZvcm1hbmNlTm93KCkpKTp0aGlzLmE9dGhpcy5iLmdldFJlc291cmNlVGltaW5nRW50cnkodyk7VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJzYW1wbGVfcHJlZmV0Y2hfYmFuZHdpZHRoIiwhMSkmJnomJnRoaXMuYSYmMDx0aGlzLmEudGltZVRvTGFzdEJ5dGUmJmQmJmQuc2FtcGxlKHRoaXMuYS50aW1lVG9MYXN0Qnl0ZSxhLnJlc3BvbnNlLmJ5dGVMZW5ndGgsInYiPT09aC5jaGFyQXQoMCksdGhpcy5hLGcsZSwhMCk7aWYodGhpcy5BKXRyeXt0aGlzLm09cGFyc2VJbnQoYS5nZXRSZXNwb25zZUhlYWRlcigieC1mYi12aWRlby1icm9hZGNhc3QtZW5kZWQiKSwxMCl9Y2F0Y2goZil7fXRoaXMuYj0KdGhpcy5pPXRoaXMuZz10aGlzLmY9bnVsbDthLmE/KHRoaXMuaT1uZXcgTChhLmEpLHRoaXMudT0hMCk6dGhpcy5pPXRoaXMuY1tiXTthLnJlc3BvbnNlLllhPWEuWWE7cCYmKHA9cC5zZXRMZW5ndGgoYS5yZXNwb25zZS5ieXRlTGVuZ3RofHxhLnJlc3BvbnNlLmxlbmd0aCkuc2V0V2FzUHJlZmV0Y2hDYWNoZUhpdCh0aGlzLmopLG51bGwhPXRoaXMuYSYmKHA9cC5zZXRUaW1lVG9MYXN0Qnl0ZShNYXRoLnJvdW5kKHRoaXMuYS50aW1lVG9MYXN0Qnl0ZSkpLnNldFRpbWVUb0ZpcnN0Qnl0ZShNYXRoLnJvdW5kKHRoaXMuYS50aW1lVG9GaXJzdEJ5dGUpKS5zZXRUaW1lVG9SZXF1ZXN0U3RhcnQoTWF0aC5yb3VuZCh0aGlzLmEudGltZVRvUmVxdWVzdFN0YXJ0KSksMkUzPD10aGlzLmEudGltZVRvRmlyc3RCeXRlJiYtMTx3LmluZGV4T2YoImFrYW1haWhkIikmJmxvZ0xvbmdBa2FtYWlSZXF1ZXN0KGEuZ2V0UmVzcG9uc2VIZWFkZXIoIkRlYnVnLUluZm8iKSsiLCBUVEZCLT4gIit0aGlzLmEudGltZVRvRmlyc3RCeXRlKwoiLCBUVFJTLT4gIit0aGlzLmEudGltZVRvUmVxdWVzdFN0YXJ0KSkscC5sb2coKSk7cmV0dXJuIFByb21pc2UucmVzb2x2ZSh7dmFsdWU6YS5yZXNwb25zZSxkb25lOiExfSl9KSksZWE9ZWEuY2F0Y2goSihhLGZ1bmN0aW9uKGEpe3ZhciBlPXRoaXMuaD90aGlzLmgub25SZXF1ZXN0U2VuZDpudWxsO2UmJmUoITEsaCwwKTtpZih0aGlzLmYmJmIrMTx0aGlzLmMubGVuZ3RoKXJldHVybiB0aGlzLmY9JGModGhpcyxiKzEsYyxkKTt0aGlzLmI9dGhpcy5hPXRoaXMuZj10aGlzLmc9bnVsbDtwJiZwLnNldEVycm9yKGEpLmxvZygpO3JldHVybiBQcm9taXNlLnJlamVjdChhKX0pKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtjYW5jZWw6ZnVuY3Rpb24oKXt9LHJlYWQ6ZnVuY3Rpb24oKXtyZXR1cm4gZGE/UHJvbWlzZS5yZXNvbHZlKHt2YWx1ZTpudWxsLGRvbmU6ITB9KTplYS50aGVuKGZ1bmN0aW9uKGEpe2RhPSEwO3JldHVybiBhfSl9LmJpbmQoYSl9KX0KZnVuY3Rpb24gYmQoYSl7cmV0dXJue2Jhc2VVcmw6YS50b1N0cmluZygpLGlzUHJlZGljdGl2ZTphLmlzUHJlZGljdGl2ZSxzdGFydEJ5dGU6YS5zdGFydEJ5dGUsZW5kQnl0ZTphLmVuZEJ5dGV9fW4uY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEsodGhpcy5vLHRoaXMuYy5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuY2xvbmUoKX0pLHRoaXMuc3RhcnRCeXRlLHRoaXMuZW5kQnl0ZSx0aGlzLmlzUHJlZGljdGl2ZSx0aGlzLmgpfTtuLmdldFJlc291cmNlVGltaW5nRW50cnk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hfTsKZnVuY3Rpb24gY2QoYSxiLGMpe3ZhciBkPWIudG9TdHJpbmcoKTtpZihhLnN0YXJ0Qnl0ZXx8YS5lbmRCeXRlKWI9Yi5oYSwhYi5lbmRzV2l0aCgiZmJjZG4ubmV0Iil8fGIuc3RhcnRzV2l0aCgiaW50ZXJuY2FjaGUiKXx8Yi5lbmRzV2l0aCgiYWsuZmJjZG4ubmV0Iik/YyYmKGMuUWEuUmFuZ2U9ImJ5dGVzPSIrKGEuc3RhcnRCeXRlKyItIisobnVsbCE9YS5lbmRCeXRlP2EuZW5kQnl0ZToiIikpKTooZCs9IiZieXRlc3RhcnQ9IithLnN0YXJ0Qnl0ZSxkKz1udWxsIT09YS5lbmRCeXRlPyImYnl0ZWVuZD0iK2EuZW5kQnl0ZToiIik7YS5vJiZjJiYoZD1hLm8oZCxjLlFhKXx8ZCk7cmV0dXJuIGR9ZnVuY3Rpb24gdWIoYSl7cmV0dXJuIGNkKGEsYS5jWzBdKX1uLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY1swXS50b1N0cmluZygpfTtmdW5jdGlvbiBkZChhLGIsYyxkKXt0aGlzLmE9bmV3IHRiO2I9bnVsbCE9Yj9iOmlhO3RoaXMuYS5yZXNwb25zZVR5cGU9InRleHQiO3RoaXMuYS5OYT0zO3RoaXMuYS5iPTFFMypiO2MmJih0aGlzLmEuYT1jKTtkJiYodGhpcy5hLmRhPWQpO3RoaXMuYS5nPSEwO3RoaXMuYS53aXRoQ3JlZGVudGlhbHM9dGhpcy5hLmYudGVzdChhKTt0aGlzLmI9YX0KZnVuY3Rpb24gZWQoYSxiKXt2YXIgYz1hLmIsZD1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImRldGVjdF9saXZlX3N0cmVhbV9lbmRlZF9mcm9tX3Jlc3BvbnNlX2hlYWRlcnMiLCExKTtjLncoZCk7cmV0dXJuIGMuZmV0Y2goYS5hLG51bGwsYixudWxsLG51bGwsIm1hbmlmZXN0IikudGhlbihmdW5jdGlvbihhKXthIGluc3RhbmNlb2YgQXJyYXlCdWZmZXImJihhPVN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCxuZXcgVWludDhBcnJheShhKSkpO3ZhciBmPWQmJiEhYy5tLGc7YiYmKGc9Yi5nZXRPcGVyYXRpb25Mb2dnZXIoInBhcnNlX21hbmlmZXN0Iikuc3RhcnQoKSk7YT1lYyhhLGMuYyxbYy5pXSk7ZyYmZy5sb2coKTthJiYiZHluYW1pYyI9PT1hLnR5cGUmJmYmJihhLnR5cGU9InN0YXRpYyIsYiYmQmFuemFpT0RTLmJ1bXBFbnRpdHlLZXkoMjk2NiwidmlkZW9zLnd3dy5zaGFrYSIsImNoYW5nZWRfbWFuaWZlc3RfdG9fZHluYW1pY19vZmZfaGVhZGVycyIpKTsKaWYoYSlyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGEpO2Y9RXJyb3IoIk1QRCBwYXJzZSBmYWlsdXJlLiIpO2YudHlwZT0iZGFzaCI7cmV0dXJuIFByb21pc2UucmVqZWN0KGYpfSl9ZnVuY3Rpb24gZmQoYSl7dGhpcy5hPW51bGw7dGhpcy5oPWE7dGhpcy5jPXRoaXMuZz10aGlzLmY9bnVsbDt0aGlzLmk9ITE7dGhpcy5qPXRoaXMuYj1udWxsfTtmdW5jdGlvbiBnZChhLGIpe3RoaXMuYT1hO3RoaXMuYj1ifHxudWxsfWdkLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5hJiYodGhpcy5hLkthKCksdGhpcy5hPW51bGwpO3RoaXMuYj1udWxsfTtnZC5wcm90b3R5cGUuY3JlYXRlPWZ1bmN0aW9uKGEsYil7dmFyIGM9bnVsbDtiJiYoYz1uZXcgdGIsYy5kYT1iKTtyZXR1cm4hdGhpcy5iJiZ0aGlzLmE/dGhpcy5hLmZldGNoKGMsbnVsbCxhLG51bGwsbnVsbCwiaW5pdCIpOlByb21pc2UucmVzb2x2ZSh0aGlzLmIpfTtnZC5wcm90b3R5cGUuYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmF9O2dkLnByb3RvdHlwZS5nZXRGYWlsb3ZlclVyaT1nZC5wcm90b3R5cGUuYztmdW5jdGlvbiBoZChhLGIpe3RoaXMuc2VnbWVudE9yaWdpbmFsRW5kVGltZT1hO3RoaXMuZ2FwRGlzdGFuY2U9Yn1mdW5jdGlvbiBpZChhLGIsYyxkLGUsZixnKXt0aGlzLnN0YXJ0VGltZT1hO3RoaXMuZW5kVGltZT1iO3RoaXMudXJsPWM7dGhpcy51bnNjYWxlZFN0YXJ0VGltZT1kO3RoaXMudW5zY2FsZWREdXJhdGlvbj1lO3RoaXMudGltZXNjYWxlZEdhcEluZm89Znx8bnVsbDt0aGlzLmlzUHJlZGljdGl2ZT1nfHwhMTt0aGlzLmRlYnVnSW5mbz10aGlzLnRpbWVzY2FsZWRHYXBJbmZvP3tlbmRUaW1lOnRoaXMudGltZXNjYWxlZEdhcEluZm8uc2VnbWVudE9yaWdpbmFsRW5kVGltZSxkZWx0YTp0aGlzLnRpbWVzY2FsZWRHYXBJbmZvLmdhcERpc3RhbmNlfTpudWxsfWZ1bmN0aW9uIGpkKGEsYixjKXtyZXR1cm4gbmV3IGlkKGIsYyxhLnVybCxhLnVuc2NhbGVkU3RhcnRUaW1lLGEudW5zY2FsZWREdXJhdGlvbixhLnRpbWVzY2FsZWRHYXBJbmZvLGEuaXNQcmVkaWN0aXZlKX0KZnVuY3Rpb24geWIoYSxiKXtpZihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInVzZV9iaW5hcnlfc2VhcmNoX3doZW5fZmluZGluZ19zZWdtZW50X3JlZmVyZW5jZXMiLCExKSlyZXR1cm4gQmluYXJ5U2VhcmNoLmZpbmRJbmRleEluQXJyYXkoYSxiLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGI+PWEuc3RhcnRUaW1lJiYobnVsbD09YS5lbmRUaW1lfHxiPGEuZW5kVGltZSk/MDphLnN0YXJ0VGltZS1ifSk7Zm9yKHZhciBjPWEubGVuZ3RoLTE7MDw9YzstLWMpe3ZhciBkPWFbY107aWYoYj49ZC5zdGFydFRpbWUmJihudWxsPT1kLmVuZFRpbWV8fGI8ZC5lbmRUaW1lKSlyZXR1cm4gY31yZXR1cm4tMX1mdW5jdGlvbiBrZChhLGIpe3JldHVybiBhLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gamQoYSxhLnN0YXJ0VGltZStiLG51bGwhPWEuZW5kVGltZT9hLmVuZFRpbWUrYjpudWxsKX0pfTtmdW5jdGlvbiBsZChhLGIsYyxkKXtmb3IodmFyIGU9Yi5hLGY9W10sZz0wO2c8ZDsrK2cpe3ZhciBoPWcrYyxrPShoLTEpKmUuSCxsPWsvZS5zLG09KGsrZS5IKS9lLnMsaD1tZChhLGIsZS5iK2gtMSxrKTtpZighaClyZXR1cm4gbnVsbDtmLnB1c2gobmV3IGlkKGwsbSxoLGssZS5IfHwwKSl9cmV0dXJuIGZ9ZnVuY3Rpb24gbWQoYSxiLGMsZCxlLGYpe2lmKCFiLmEpcmV0dXJuIG51bGw7ZT1lfHwhMTt2YXIgZz1iLmEuZixoPWIuYS5DLmE7aWYoIWcpcmV0dXJuIGIuYmFzZVVybD9uZXcgSyhhLGIuYmFzZVVybCwwLG51bGwsdm9pZCAwLGYpOm51bGw7Yz1uZChlJiZoP2g6ZyxiLmlkLGMsYi5iYW5kd2lkdGgsZCk7aWYoIWMpcmV0dXJuIG51bGw7Yj1aYyhiLmJhc2VVcmwsYyk7cmV0dXJuIG5ldyBLKGEsYiwwLG51bGwsZSxmKX0KZnVuY3Rpb24gbmQoYSxiLGMsZCxlKXt2YXIgZj17UmVwcmVzZW50YXRpb25JRDpiLE51bWJlcjpjLEJhbmR3aWR0aDpkLFRpbWU6ZX07YT1hLnJlcGxhY2UoL1wkKFJlcHJlc2VudGF0aW9uSUR8TnVtYmVyfEJhbmR3aWR0aHxUaW1lKT8oPzolMChbMC05XSspZCk/XCQvZyxmdW5jdGlvbihhLGIsYyl7aWYoIiQkIj09YSlyZXR1cm4iJCI7dmFyIGQ9ZltiXTtpZihudWxsPT1kKXJldHVybiBhOyJSZXByZXNlbnRhdGlvbklEIj09YiYmYyYmKGM9dm9pZCAwKTthPWQudG9TdHJpbmcoKTtjPXdpbmRvdy5wYXJzZUludChjLDEwKXx8MTtjPU1hdGgubWF4KDAsYy1hLmxlbmd0aCk7cmV0dXJuIEFycmF5KGMrMSkuam9pbigiMCIpK2F9KTt0cnl7cmV0dXJuIG5ldyBMKGEpfWNhdGNoKGcpe2lmKGcgaW5zdGFuY2VvZiBVUklFcnJvcilyZXR1cm4gbnVsbDt0aHJvdyBnO319CmZ1bmN0aW9uIG9kKGEsYixjLGQsZSxmKXt2YXIgZz0wLGg9YypiO2M9YS5OO3ZhciBrPWR8fDA7ZD1bXTt2YXIgbD1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigibGl2ZV9yZXdpbmRfdGVtcGxhdGVkX2xhc3RfeF9zZWdtZW50c19vbmx5IiwwKSxtPVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgidGVtcGxhdGVkX2xhc3RfeF90aW1lbGluZSIsITEpJiZlJiZudWxsIT1mLHA9ZSYmbT9WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigidGVtcGxhdGVkX2luZ2VzdF90aHJvdHRsZSIsMCk6MDtpZihsfHxtKXtmb3IoZT0wO2U8Yy5sZW5ndGg7KytlKXtpZighY1tlXS5kdXJhdGlvbilyZXR1cm4gZDt2YXIgdD1jW2VdLnN0YXJ0VGltZSx0PW51bGwhPXQ/dDpnLHc9Y1tlXS5yZXBlYXR8fDA7aWYoMD53KWlmKHc9Y1tlXS5kdXJhdGlvbixlKzE9PT1jLmxlbmd0aCl2YXIgej1jWzBdLnN0YXJ0VGltZStoLXQsdz1NYXRoLmNlaWwoei8KdyktMTtlbHNlIHo9Y1tlKzFdLnN0YXJ0VGltZSx3PU1hdGguY2VpbCgoei10KS93KS0xO2NbZV0uc3RhcnRUaW1lPXQ7Y1tlXS5yZXBlYXQ9dztnPWNbZV0uc3RhcnRUaW1lK2NbZV0uZHVyYXRpb24qKGNbZV0ucmVwZWF0KzEpfWZvcihlPWMubGVuZ3RoLTE7LTE8ZTstLWUpZm9yKHZhciBIPTA7SDw9Y1tlXS5yZXBlYXQ7KytIKWlmKHQ9Y1tlXS5zdGFydFRpbWUrY1tlXS5kdXJhdGlvbiooY1tlXS5yZXBlYXQtSCksZz10K2NbZV0uZHVyYXRpb24sYT1udWxsLGQubGVuZ3RoJiZnIT1kW2QubGVuZ3RoLTFdLnN0YXJ0JiYoej1kW2QubGVuZ3RoLTFdLnN0YXJ0LWcsYT1uZXcgaGQoZy9iLHovYiksZz1kW2QubGVuZ3RoLTFdLnN0YXJ0KSxkLnB1c2goe3N0YXJ0OnQsZW5kOmd9KSxhJiYoZFtkLmxlbmd0aC0xXS50aW1lc2NhbGVkR2FwSW5mbz1hKSxsKXtpZihkLmxlbmd0aD09PWwpcmV0dXJuIGQ9ZC5yZXZlcnNlKCl9ZWxzZSBpZihtJiZkW2QubGVuZ3RoLTFdLnN0YXJ0PD1mKXJldHVybiBkLnBvcCgpLApkPWQucmV2ZXJzZSgpLDA8cCYmKGQ9ZC5zbGljZSgwLHApKSxkO3JldHVybiBkLnJldmVyc2UoKX1mb3IoZT0wO2U8Yy5sZW5ndGg7KytlKXtpZighY1tlXS5kdXJhdGlvbilyZXR1cm4gZDt0PWNbZV0uc3RhcnRUaW1lO3Q9bnVsbCE9dD90Omc7dz1jW2VdLnJlcGVhdHx8MDswPncmJih3PWNbZV0uZHVyYXRpb24sZSsxPT09Yy5sZW5ndGg/KHo9Y1swXS5zdGFydFRpbWUraC10LHc9TWF0aC5jZWlsKHovdyktMSk6KHo9Y1tlKzFdLnN0YXJ0VGltZSx3PU1hdGguY2VpbCgoei10KS93KS0xKSk7MDxkLmxlbmd0aCYmdCE9ZyYmKHo9dC1nLGY9ZFtkLmxlbmd0aC0xXSxmLnRpbWVzY2FsZWRHYXBJbmZvPW5ldyBoZChnL2Isei9iKSxmLmVuZD10KTtmb3IoSD0wO0g8PXc7KytIKWc9dCtjW2VdLmR1cmF0aW9uLGQucHVzaCh7c3RhcnQ6dCxlbmQ6Z30pLHQ9Z31pZihhLmEmJjA8Yy5sZW5ndGgpZm9yKGI9Y1swXS5kdXJhdGlvbixmPTA7ZjxrO2YrKylkLnB1c2goe3N0YXJ0OnQrZipiLGVuZDp0KwooZisxKSpiLHVkOmEuYitmfSk7cmV0dXJuIGR9O2Z1bmN0aW9uIHBkKGEsYixjLGQsZSl7dGhpcy53PWE7dGhpcy5tPWI7dGhpcy5jPWM7dGhpcy5XPTA7dGhpcy5CPSEwO3RoaXMucz1jLnN8fDA7dGhpcy5BPSExO3RoaXMuZz1udWxsO3RoaXMudT1kO3RoaXMuaj1jLkx8fDA7dGhpcy5iPTA7dGhpcy5pPXRoaXMuaD1udWxsO2E6e2I9Yy5DO3ZhciBmPTA7YT0oYS5kdXJhdGlvbnx8MCkqdGhpcy5zO2M9Yi5OO2ZvcihkPTA7ZDxjLmxlbmd0aDsrK2Qpe2lmKCFjW2RdLmR1cmF0aW9uKXtiLk49Yy5zbGljZSgwLGQpO2JyZWFrIGF9dmFyIGc9Y1tkXS5zdGFydFRpbWUsZj1udWxsIT1nP2c6ZixnPWNbZF0ucmVwZWF0fHwwOzA+ZyYmKGc9Y1tkXS5kdXJhdGlvbixnPWQrMT09PWMubGVuZ3RoP01hdGguY2VpbCgoY1swXS5zdGFydFRpbWUrYS1mKS9nKS0xOk1hdGguY2VpbCgoY1tkKzFdLnN0YXJ0VGltZS1mKS9nKS0xKTtjW2RdLnN0YXJ0VGltZT1mO2NbZF0ucmVwZWF0PWc7Zj1jW2RdLnN0YXJ0VGltZStjW2RdLmR1cmF0aW9uKihjW2RdLnJlcGVhdCsKMSl9fXRoaXMuZj1bXTt0aGlzLm89VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoInRpbWVsaW5lX3NlZ21lbnRfaW5kZXhfbWF4X2luZGV4X2NhY2hlX2xlbmd0aCIsMCk7dGhpcy5iPVNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscy5sZW5ndGgodGhpcy5jLkMuTik7dGhpcy5EPWV8fG51bGx9cGQucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmI9dGhpcy5jPXRoaXMubT10aGlzLnc9bnVsbDt0aGlzLmc9ZnVuY3Rpb24oKXt9O3RoaXMuZj10aGlzLnU9bnVsbH07cGQucHJvdG90eXBlLmxlbmd0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmJ9O2Z1bmN0aW9uIHFkKGEsYil7Zm9yKHZhciBjPWEuZi5sZW5ndGgtMTstMTxjO2MtLSlpZihhLmZbY10uaW5kZXg9PT1iKXt2YXIgZD1hLmZbY107YS5mLnNwbGljZShjLDEpO2EuZi5wdXNoKGQpO3JldHVybiBkLnhkfXJldHVybiBudWxsfQpmdW5jdGlvbiByZChhLGIsYyl7dmFyIGQ9W107aWYoYS5vJiYxPT09Yy1iKXt2YXIgZT1xZChhLGIpO2lmKGUpcmV0dXJuW2VdfXZhciBmPS1hLmovYS5zK2EuVztTaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMuZ2V0U2VnbWVudHMoYixjLGEuYy5DLk4sZnVuY3Rpb24oYSxlLGssbCxtKXtpZihsKXt2YXIgcD1kW2QubGVuZ3RoLTFdO3AmJihwLnRpbWVzY2FsZWRHYXBJbmZvPW5ldyBoZChtL3RoaXMucyxsL3RoaXMucykscC5kZWJ1Z0luZm89e2VuZFRpbWU6cC50aW1lc2NhbGVkR2FwSW5mby5zZWdtZW50T3JpZ2luYWxFbmRUaW1lLGRlbHRhOnAudGltZXNjYWxlZEdhcEluZm8uZ2FwRGlzdGFuY2V9LGRbZC5sZW5ndGgtMV09amQocCxwLnN0YXJ0VGltZSxhL3RoaXMucytmKSl9az1tZCh0aGlzLnUsdGhpcy5tLGsrdGhpcy5jLmIsYSx2b2lkIDAsdGhpcy5EKTtpZighayl0aHJvdyBhPUVycm9yKCJGYWlsZWQgdG8gZ2VuZXJhdGUgbWVkaWEgVVJMLiIpLGEudHlwZT0iZGFzaCIsCmE7YT1uZXcgaWQoYS90aGlzLnMrZixlL3RoaXMucytmLGssYSxlLWEsbnVsbCk7ZT1iK2QubGVuZ3RoO2QucHVzaChhKTshdGhpcy5vfHwwIT09ZSYmZSE9PXRoaXMuYi0xJiYxIT09Yy1ifHxxZCh0aGlzLGUpfHwodGhpcy5mLmxlbmd0aCsxPnRoaXMubyYmdGhpcy5mLnNoaWZ0KCksdGhpcy5mLnB1c2goe2luZGV4OmUseGQ6YX0pKX0uYmluZChhKSk7cmV0dXJuIGR9CmZ1bmN0aW9uIHNkKGEsYil7dmFyIGM9Yi51bnNjYWxlZFN0YXJ0VGltZSxkPWIudW5zY2FsZWRFbmRUaW1lLGU9Yi5kZWx0YSxmPWIucHJldmlvdXNFbmRUaW1lO2lmKGUpdmFyIGc9bmV3IGhkKGYvYS5zLGUvYS5zKTtlPW1kKGEudSxhLm0sYi5zZWdtZW50UmVwbGFjZW1lbnQrYS5jLmIsYyx2b2lkIDAsYS5EKTtpZighZSl0aHJvdyBjPUVycm9yKCJGYWlsZWQgdG8gZ2VuZXJhdGUgbWVkaWEgVVJMLiIpLGMudHlwZT0iZGFzaCIsYztmPS1hLmovYS5zK2EuVztyZXR1cm4gbmV3IGlkKGMvYS5zK2YsZC9hLnMrZixlLGMsZC1jLGd8fG51bGwpfXBkLnByb3RvdHlwZS5nZXRTZWdtZW50cz1mdW5jdGlvbigpe3JldHVybiByZCh0aGlzLDAsdGhpcy5iKXx8W119OwpwZC5wcm90b3R5cGUuZmlyc3Q9ZnVuY3Rpb24oKXtpZighdGhpcy5iKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbmRleCBvdXQgb2YgcmFuZ2UuIik7aWYoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJvcHRpbWl6ZV9jb21tb25fc2VnbWVudF9nZW5lcmF0aW9ucyIsITEpKXtpZih0aGlzLmgpcmV0dXJuIHRoaXMuaDt2YXIgYT1TaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMuZmlyc3QodGhpcy5jLkMuTix0aGlzLmIpO3JldHVybiB0aGlzLmg9c2QodGhpcyxhKX1yZXR1cm4gcmQodGhpcywwLDEpWzBdfTsKcGQucHJvdG90eXBlLmxhc3Q9ZnVuY3Rpb24oKXtpZighdGhpcy5iKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbmRleCBvdXQgb2YgcmFuZ2UuIik7aWYoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJvcHRpbWl6ZV9jb21tb25fc2VnbWVudF9nZW5lcmF0aW9ucyIsITEpKXtpZih0aGlzLmkpcmV0dXJuIHRoaXMuaTt2YXIgYT1TaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMubGFzdCh0aGlzLmMuQy5OLHRoaXMuYik7cmV0dXJuIHRoaXMuaT1zZCh0aGlzLGEpfXJldHVybiByZCh0aGlzLHRoaXMuYi0xLHRoaXMuYilbMF19OwpwZC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGEpe2lmKCF0aGlzLmJ8fDA+YXx8YT49dGhpcy5iKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbmRleCBvdXQgb2YgcmFuZ2UuIik7cmV0dXJuIFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgib3B0aW1pemVfY29tbW9uX3NlZ21lbnRfZ2VuZXJhdGlvbnMiLCExKT8oYT1TaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMuZ2V0KHRoaXMuYy5DLk4sYSx0aGlzLmIpLHNkKHRoaXMsYSkpOnJkKHRoaXMsYSxhKzEpWzBdfTsKcGQucHJvdG90eXBlLmZpbmQ9ZnVuY3Rpb24oYSl7aWYoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJmaXhfY29tcG9zaXRlZF90aW1lX2luZGV4X2NhbGxzIiwhMSkpcmV0dXJuKGE9U2hha2FUaW1lbGluZVNlZ21lbnRJbmRleFV0aWxzLmZpbmQoYSx0aGlzLmMuQy5OLHRoaXMucywtdGhpcy5qL3RoaXMucyt0aGlzLlcpKT9zZCh0aGlzLGEpOm51bGw7YT10aGlzLmZpbmRJbmRleChhKTtyZXR1cm4gVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJvcHRpbWl6ZV9jb21tb25fc2VnbWVudF9nZW5lcmF0aW9ucyIsITEpPzA8PWE/dGhpcy5nZXQoYSk6bnVsbDowPD1hP3JkKHRoaXMsYSxhKzEpWzBdOm51bGx9O3BkLnByb3RvdHlwZS5maW5kSW5kZXg9ZnVuY3Rpb24oYSl7cmV0dXJuIFNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscy5maW5kSW5kZXgoYSx0aGlzLmMuQy5OLHRoaXMucywtdGhpcy5qL3RoaXMucyt0aGlzLlcpfTtuPXBkLnByb3RvdHlwZTsKbi5TYT1mdW5jdGlvbihhKXt2YXIgYj1hLmxlbmd0aCgpLGM9Yi10aGlzLmI7aWYoMCE9PWImJihiIT09dGhpcy5ifHwwIT09dGhpcy5iJiZhLmxhc3QoKS5lbmRUaW1lIT09dGhpcy5sYXN0KCkuZW5kVGltZSkmJiEoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJmaXhfaW50ZWdyYXRpb25fb25fZWFybGllcl9lbmR0aW1lIiwhMSkmJmEubGFzdCgpLmVuZFRpbWU8PXRoaXMubGFzdCgpLmVuZFRpbWUpKWlmKHRoaXMuQT0hMSxiPWEubGFzdCgpLG51bGwhPWIuZW5kVGltZSYmYi5lbmRUaW1lPHRoaXMubGFzdCgpLmVuZFRpbWUmJmIuZW5kVGltZTx0aGlzLmZpcnN0KCkuc3RhcnRUaW1lJiYodGhpcy5BPSEwKSxWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImludGVncmF0ZV9zZWdtZW50X3RpbWVsaW5lX3RpbWVfcG9pbnRzIiwhMSk/dGhpcy5jLkMuTj1TaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMuaW50ZWdyYXRlVGltZVBvaW50cyh0aGlzLmMuQy5OLAphLmMuQy5OKToodGhpcy53PWEudyx0aGlzLm09YS5tLHRoaXMuYz1hLmMsdGhpcy5qPXRoaXMuYy5MfHwwLHRoaXMucz10aGlzLmMuc3x8MCksdGhpcy5mPVtdLHRoaXMuaT10aGlzLmg9bnVsbCx0aGlzLmI9U2hha2FUaW1lbGluZVNlZ21lbnRJbmRleFV0aWxzLmxlbmd0aCh0aGlzLmMuQy5OKSx0aGlzLmZpcnN0KCksdGhpcy5sYXN0KCksVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJ0ZW1wbGF0ZWRfY2FsbF9vbl9zZWdtZW50c191cGRhdGVkX3dpdGhfZGVsdGFfc2VnbWVudHMiLCExKSl7dmFyIGQ9W10sYz10aGlzLmItYztmb3IoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJ0ZW1wbGF0ZWRfZHluYW1pY19pbmNsdWRlX3ByZXZpb3VzX2xhc3Rfc2VnbWVudF9pbl91cGRhdGVzIiwhMSkmJjA8YyYmYy0tO2M8dGhpcy5iOysrYylkLnB1c2godGhpcy5nZXQoYykpO3RoaXMuZyYmdGhpcy5nKGQpfWVsc2UgYz0hVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJub19wcm92aWRlX3NlZ21lbnRzX3RvX29uX3NlZ21lbnRzX3VwZGF0ZWRfbGlzdGVuZXJzIiwKITEpLHRoaXMuZyYmKGMmJihkPXRoaXMuZ2V0U2VnbWVudHMoKSksdGhpcy5nKGQpKX07bi5oYj1mdW5jdGlvbihhKXt2YXIgYj1hLXRoaXMuVztpZigwPT1iKXJldHVybiAwO3RoaXMuVz1hO3RoaXMuaT10aGlzLmg9bnVsbDt0aGlzLmY9W107cmV0dXJuIGJ9O24uaWI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iP3tzdGFydDp0aGlzLmZpcnN0KCkuc3RhcnRUaW1lLGVuZDp0aGlzLmxhc3QoKS5lbmRUaW1lfTp7c3RhcnQ6MCxlbmQ6MH19O24uZ2V0U2Vla1JhbmdlR2Fwcz1mdW5jdGlvbigpe3JldHVybiBTaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMuZ2V0U2Vla1JhbmdlR2Fwcyh0aGlzLmMuQy5OLHRoaXMucywtdGhpcy5qL3RoaXMucyt0aGlzLlcpfTtuLnJiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuQX07bi5HYz1mdW5jdGlvbihhKXt0aGlzLmc9YX07bi5GYz1mdW5jdGlvbigpe3RoaXMuZz1udWxsfTtuLklhPWZ1bmN0aW9uKCl7fTtmdW5jdGlvbiB0ZCgpe30KdGQucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9bnVsbDt0cnl7YTp7dmFyIGc9W10saD1uZXcgQmEoYSksaz12KGgpO2lmKDE5MzYyODY4NDAhPXYoaCkpZj1udWxsO2Vsc2V7MT09ayYmKGs9RmEoaCkpO3ZhciBsPUVhKGgpO0hhKGgsMyk7SGEoaCw0KTt2YXIgbT12KGgpO2lmKDA9PW0pZj1udWxsO2Vsc2V7dmFyIHAsdDswPT1sPyhwPXYoaCksdD12KGgpKToocD1GYShoKSx0PUZhKGgpKTtIYShoLDIpO3ZhciB3PWguYi5nZXRVaW50MTYoaC5hLGguYyk7aC5hKz0yO2E9cDtiPWIrayt0O2Zvcih0PWs9MDt0PHc7dCsrKXt2YXIgej12KGgpO3A9KHomMjE0NzQ4MzY0OCk+Pj4zMTt2YXIgbD16JjIxNDc0ODM2NDcsSD12KGgpO3YoaCk7aWYoMT09cCl7Zj1udWxsO2JyZWFrIGF9dmFyIGRhO2RhPTA9PXQmJmU/ZTpuZXcgSyhkLGMsYixiK2wtMSk7cD1hL207dmFyIGVhPShhK0gpL207MD09PXQmJihrPXApO2cucHVzaChuZXcgaWQocC1rLGVhLWssZGEsCmEsSCkpO2ErPUg7Yis9bH1nLnM9bTtmPWd9fX19Y2F0Y2goQWEpe2lmKCEoQWEgaW5zdGFuY2VvZiBSYW5nZUVycm9yKSl0aHJvdyBBYTt9cmV0dXJuIGZ9O2Z1bmN0aW9uIFIoYSl7dGhpcy5hPWE7dGhpcy5zPXRoaXMuYS5zO3RoaXMuSz10aGlzLmEuQjt0aGlzLmc9W119Ui5wcm90b3R5cGUuSj1mdW5jdGlvbigpe3JldHVybiEhdGhpcy5nW3RoaXMuZy5sZW5ndGgtMV19O1IucHJvdG90eXBlLmxhc3RQb2xsSGFkQ2hhbmdlcz1SLnByb3RvdHlwZS5KO1IucHJvdG90eXBlLkk9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmcsYj1hLmxhc3RJbmRleE9mKCEwKTtpZigxPmIpcmV0dXJuIDA7YT1hLmxhc3RJbmRleE9mKCEwLGItMSk7cmV0dXJuIDA+YT8wOmItYS0xfTtSLnByb3RvdHlwZS5nZXRGZXRjaGVzQmV0d2VlblJlY2VudENoYW5nZXM9Ui5wcm90b3R5cGUuSTtSLnByb3RvdHlwZS51PWZ1bmN0aW9uKCl7cmV0dXJuIE1hdGguZmxvb3IoKHRoaXMuZy5sZW5ndGgtMS10aGlzLmcubGFzdEluZGV4T2YoITApKS8yKX07Ui5wcm90b3R5cGUuZ2V0Q29uc2VjdXRpdmVVcGRhdGVzV2l0aG91dENoYW5nZXM9Ui5wcm90b3R5cGUudTsKUi5wcm90b3R5cGUuRz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmcubGVuZ3RoLTEtdGhpcy5nLmxhc3RJbmRleE9mKCExKX07Ui5wcm90b3R5cGUuZ2V0Q29uc2VjdXRpdmVVcGRhdGVzV2l0aENoYW5nZXM9Ui5wcm90b3R5cGUuRztSLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5hLmRlc3Ryb3koKTt0aGlzLmE9bnVsbH07Ui5wcm90b3R5cGUubGVuZ3RoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS5sZW5ndGgoKX07Ui5wcm90b3R5cGUuZ2V0U2VnbWVudHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLmdldFNlZ21lbnRzKCl9O1IucHJvdG90eXBlLmdldFNlZ21lbnRzPVIucHJvdG90eXBlLmdldFNlZ21lbnRzO1IucHJvdG90eXBlLmZpcnN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS5maXJzdCgpfTtSLnByb3RvdHlwZS5sYXN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS5sYXN0KCl9O1IucHJvdG90eXBlLmxhc3Q9Ui5wcm90b3R5cGUubGFzdDsKUi5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmEuZ2V0KGEpfTtSLnByb3RvdHlwZS5maW5kPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmEuZmluZChhKX07Ui5wcm90b3R5cGUuZmluZEluZGV4PWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmEuZmluZEluZGV4KGEpfTtSLnByb3RvdHlwZS5CPWZ1bmN0aW9uKGEpe3RoaXMuYS5TYShhLmEpO3JldHVybiEwfTtSLnByb3RvdHlwZS5UYT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5hLmhiKGEpfTtSLnByb3RvdHlwZS5BPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS5pYigpfTtSLnByb3RvdHlwZS5nZXRTZWVrUmFuZ2VHYXBzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS5nZXRTZWVrUmFuZ2VHYXBzKCl9O1IucHJvdG90eXBlLmdldFNlZWtSYW5nZUdhcHM9Ui5wcm90b3R5cGUuZ2V0U2Vla1JhbmdlR2FwcztSLnByb3RvdHlwZS5yYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmEucmIoKX07CmZ1bmN0aW9uIHVkKGEsYil7YS5hLkdjKGIpfTtmdW5jdGlvbiBTKGEsYixjLGQpe1IuY2FsbCh0aGlzLGEpO3RoaXMuaT1iO3RoaXMuRj1jO3RoaXMuaD1kO3RoaXMuZHVyYXRpb249dGhpcy5pLmJ8fHRoaXMuaS5hLnJlZHVjZShmdW5jdGlvbihhLGIpe3JldHVybiBudWxsPT1iLmR1cmF0aW9uP05hTjphK2IuZHVyYXRpb259LDApfHwwO3RoaXMuYj10aGlzLm89dGhpcy5mPW51bGw7eWQodGhpcyl9cihTLFIpO1MucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLkY9dGhpcy5pPW51bGw7Ui5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpfTtTLnByb3RvdHlwZS5maW5kPWZ1bmN0aW9uKGEpe3pkKHRoaXMseWEoKS8xRTMpO3JldHVybiBSLnByb3RvdHlwZS5maW5kLmNhbGwodGhpcyxhKX07ClMucHJvdG90eXBlLkI9ZnVuY3Rpb24oYSl7aWYoIShhIGluc3RhbmNlb2YgUykpcmV0dXJuITE7dGhpcy5hLlNhKGEuYSk7dGhpcy5kdXJhdGlvbj1NYXRoLm1heCh0aGlzLmR1cmF0aW9uLGEuZHVyYXRpb24pO251bGw9PXRoaXMuZj8odGhpcy5oPWEuaCx5ZCh0aGlzKSk6QWQodGhpcyk7cmV0dXJuITB9O2Z1bmN0aW9uIHlkKGEpe0FkKGEpO2lmKDAhPWEubGVuZ3RoKCkpe2EubGVuZ3RoKCk7dmFyIGI9bnVsbCE9YS5sYXN0KCkuZW5kVGltZT9hLmxhc3QoKS5lbmRUaW1lOmEubGFzdCgpLnN0YXJ0VGltZTtpZihhLmkuYz5hLmgpYS5mPWI7ZWxzZXt2YXIgYz1hLmgtKGEuaS5jK2EuRi5zdGFydCk7MD5jP2EuZj1iOmM8TWF0aC5tYXgoYS5sYXN0KCkuc3RhcnRUaW1lLGEubGFzdCgpLmVuZFRpbWV8fDApPyhhLmxhc3QoKSxhLmY9Yik6YS5mPWN9YS5vPWEubGFzdCgpLnN0YXJ0VGltZTthLmI9YS5maXJzdCgpLnN0YXJ0VGltZX19ClMucHJvdG90eXBlLlRhPWZ1bmN0aW9uKGEpe2E9Ui5wcm90b3R5cGUuVGEuY2FsbCh0aGlzLGEpO1ZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgibm9fY29ycmVjdF9kZWx0YV93YXJuaW5nIiwhMSl8fE1hdGgubWluLmFwcGx5KG51bGwsdGhpcy5nZXRTZWdtZW50cygpLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YS5lbmRUaW1lfSkubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLmVuZFRpbWUtYS5zdGFydFRpbWV9KSk7bnVsbCE9dGhpcy5mJiYodGhpcy5vKz1hLHRoaXMuYis9YSx0aGlzLmYrPWEpO3JldHVybiBhfTtTLnByb3RvdHlwZS5BPWZ1bmN0aW9uKCl7cmV0dXJuIEJkKHRoaXMseWEoKS8xRTMpfTsKZnVuY3Rpb24gQmQoYSxiKXt6ZChhLGIpO2lmKG51bGw9PWEuZnx8bnVsbD09YS5vfHxudWxsPT1hLmIpcmV0dXJue3N0YXJ0OjAsZW5kOjB9O3ZhciBjPU51bWJlci5QT1NJVElWRV9JTkZJTklUWTthLmR1cmF0aW9uJiYoYz1hLmR1cmF0aW9uKTt2YXIgZD1iLWEuaCxlPWEuZitkO251bGwhPWEuaS5mJiYoZT1lLWEuYi1hLmkuZiwwPGUmJihhLmIrPWUpKTthLmI9TWF0aC5taW4oYS5iLGMpO2Q9YS5vK2Q7aWYoZDxhLmIpcmV0dXJue3N0YXJ0OmEuYixlbmQ6YS5ifTtkPTA8YS5sZW5ndGgoKT9udWxsIT1hLmxhc3QoKS5lbmRUaW1lP01hdGgubWluKGQsYS5sYXN0KCkuZW5kVGltZSk6ZDphLmI7ZD1NYXRoLm1heChkLGEuYik7ZD1NYXRoLm1pbihkLGMpO3JldHVybntzdGFydDphLmIsZW5kOmR9fQpmdW5jdGlvbiB6ZChhLGIpe2lmKGEuYS5hJiYoQWQoYSksbnVsbCE9YS5pLmYpKWlmKG51bGw9PWEuZilhLmxlbmd0aCgpO2Vsc2V7Zm9yKHZhciBjPWEuZisoYi1hLmgpLGQ9MCxlPTA7ZTxhLmEuYS5sZW5ndGg7KytlKXt2YXIgZj1udWxsO2U8YS5hLmEubGVuZ3RoLTE/Zj1hLmEuYVtlKzFdLmVuZFRpbWU6KGY9YS5hLmFbZV0sZj1udWxsIT1mLmVuZFRpbWU/Zi5lbmRUaW1lKyhmLmVuZFRpbWUtZi5zdGFydFRpbWUpOm51bGwpO2lmKG51bGwhPWYmJmY8Yy1hLmkuZikrK2Q7ZWxzZSBicmVha30wPGQmJmEuYS5hLnNwbGljZSgwLGQpfX1mdW5jdGlvbiBBZChhKXtpZihhLmR1cmF0aW9uJiZhLmEuYSl7Zm9yKHZhciBiPTAsYz1hLmEuYS5sZW5ndGgtMTswPD1jOy0tYylpZihhLmEuYVtjXS5zdGFydFRpbWU+YS5kdXJhdGlvbikrK2I7ZWxzZSBicmVhazswPGImJmEuYS5hLnNwbGljZSgtYil9fTtmdW5jdGlvbiBUKGEsYixjKXt2YXIgZD1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigidGVtcGxhdGVkX3F1YXJhbnRpbmVfaWRsZV9yZWZlcmVuY2VzX3RocmVzaG9sZCIsMCk7dGhpcy5pPVtdO2lmKDA8ZCl7dmFyIGU9YTthPWUuc3BsaWNlKC1kKTt0aGlzLmk9ZX10aGlzLmE9YTt0aGlzLlc9MDt0aGlzLnM9Yjt0aGlzLmY9ITE7dGhpcy5oPWZ1bmN0aW9uKCl7fTt0aGlzLkI9Y3x8ITF9VC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuYT1udWxsfTtULnByb3RvdHlwZS5sZW5ndGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLmxlbmd0aH07VC5wcm90b3R5cGUuZ2V0U2VnbWVudHM9ZnVuY3Rpb24oKXtyZXR1cm4odGhpcy5hfHxbXSkuc2xpY2UoKX07VC5wcm90b3R5cGUuZ2V0U2VnbWVudHM9VC5wcm90b3R5cGUuZ2V0U2VnbWVudHM7ClQucHJvdG90eXBlLmZpcnN0PWZ1bmN0aW9uKCl7aWYoMD09dGhpcy5hLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiU2VnbWVudEluZGV4QmFzZTogVGhlcmUgaXMgbm8gZmlyc3QgU2VnbWVudFJlZmVyZW5jZS4iKTtyZXR1cm4gdGhpcy5hWzBdfTtULnByb3RvdHlwZS5sYXN0PWZ1bmN0aW9uKCl7aWYoMD09dGhpcy5hLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiU2VnbWVudEluZGV4QmFzZTogVGhlcmUgaXMgbm8gbGFzdCBTZWdtZW50UmVmZXJlbmNlLiIpO3JldHVybiB0aGlzLmFbdGhpcy5hLmxlbmd0aC0xXX07VC5wcm90b3R5cGUubGFzdD1ULnByb3RvdHlwZS5sYXN0O1QucHJvdG90eXBlLmdldD1mdW5jdGlvbihhKXtpZigwPmF8fGE+PXRoaXMuYS5sZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIlNlZ21lbnRJbmRleEJhc2U6IFRoZSBzcGVjaWZpZWQgaW5kZXggaXMgb3V0IG9mIHJhbmdlLiIpO3JldHVybiB0aGlzLmFbYV19OwpULnByb3RvdHlwZS5maW5kPWZ1bmN0aW9uKGEpe2E9dGhpcy5maW5kSW5kZXgoYSk7cmV0dXJuIDA8PWE/dGhpcy5hW2FdOm51bGx9O1QucHJvdG90eXBlLmZpbmRJbmRleD1mdW5jdGlvbihhKXtyZXR1cm4geWIodGhpcy5hLGEpfTsKVC5wcm90b3R5cGUuU2E9ZnVuY3Rpb24oYSl7dGhpcy5XIT1hLlcmJihhPW5ldyBUKGtkKGEuYSx0aGlzLlctYS5XKSxhLnMpKTtpZigwPT10aGlzLmxlbmd0aCgpKXRoaXMuYT1hLmEuc2xpY2UoMCksdGhpcy5JYSgpO2Vsc2UgaWYoMCE9YS5sZW5ndGgoKSYmbnVsbCE9dGhpcy5sYXN0KCkuZW5kVGltZSlpZihudWxsIT1hLmxhc3QoKS5lbmRUaW1lJiZhLmxhc3QoKS5lbmRUaW1lPHRoaXMubGFzdCgpLmVuZFRpbWUpVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJmaXhfbWFuaWZlc3Rfd3JhcHBlZCIsITApP2EubGFzdCgpLmVuZFRpbWU8dGhpcy5maXJzdCgpLnN0YXJ0VGltZSYmKHRoaXMuZj0hMCk6dGhpcy5mPSEwO2Vsc2V7dGhpcy5mPSExO2lmKHRoaXMubGFzdCgpLmVuZFRpbWU8PWEuZmlyc3QoKS5zdGFydFRpbWUpe3ZhciBiPWpkKHRoaXMubGFzdCgpLHRoaXMubGFzdCgpLnN0YXJ0VGltZSxhLmZpcnN0KCkuc3RhcnRUaW1lKSxjPXRoaXMubGFzdCgpLnVuc2NhbGVkU3RhcnRUaW1lKwp0aGlzLmxhc3QoKS51bnNjYWxlZER1cmF0aW9uO1ZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgiY2FsY3VsYXRlX21pc3NlZF9zZWdtZW50X2dhcF9pbmZvX29uX21lcmdlIiwhMSkmJmM8YS5maXJzdCgpLnVuc2NhbGVkU3RhcnRUaW1lJiZudWxsPT09dGhpcy5sYXN0KCkudGltZXNjYWxlZEdhcEluZm8mJihiLnRpbWVzY2FsZWRHYXBJbmZvPW5ldyBoZChjL3RoaXMucywoYS5maXJzdCgpLnVuc2NhbGVkU3RhcnRUaW1lLWMpL3RoaXMucykpO2lmKFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgidGVtcGxhdGVkX29wdGltaXplX21lcmdlX3RhcmdldF9hbGdvcyIsITEpKWZvcih0aGlzLmEucG9wKCksdGhpcy5hLnB1c2goYiksYz0wO2M8YS5hLmxlbmd0aDsrK2MpdGhpcy5hLnB1c2goYS5hW2NdKTtlbHNlIGI9dGhpcy5hLnNsaWNlKDAsLTEpLmNvbmNhdChbYl0pLHRoaXMuYT1iLmNvbmNhdChhLmEpfWVsc2V7Zm9yKGM9MDtjPHRoaXMuYS5sZW5ndGgmJgohKHRoaXMuYVtjXS5lbmRUaW1lPj1hLmZpcnN0KCkuc3RhcnRUaW1lKTsrK2MpO3RoaXMuYVtjXS5zdGFydFRpbWU8YS5maXJzdCgpLnN0YXJ0VGltZT8oYj1qZCh0aGlzLmFbY10sdGhpcy5hW2NdLnN0YXJ0VGltZSxhLmZpcnN0KCkuc3RhcnRUaW1lKSxiPXRoaXMuYS5zbGljZSgwLGMpLmNvbmNhdChbYl0pKToodGhpcy5maXJzdCgpLnN0YXJ0VGltZT5hLmZpcnN0KCkuc3RhcnRUaW1lfHxhLmZpcnN0KCksYj10aGlzLmEuc2xpY2UoMCxjKSk7dGhpcy5hPWIuY29uY2F0KGEuYSl9dGhpcy5oKGEuYSk7dGhpcy5JYSgpfX07VC5wcm90b3R5cGUuaGI9ZnVuY3Rpb24oYSl7dmFyIGI9YS10aGlzLlc7aWYoMD09YilyZXR1cm4gMDt0aGlzLmE9a2QodGhpcy5hLGIpO3RoaXMuSWEoKTt0aGlzLlc9YTtyZXR1cm4gYn07ClQucHJvdG90eXBlLmliPWZ1bmN0aW9uKCl7cmV0dXJuIDA8dGhpcy5sZW5ndGgoKT97c3RhcnQ6dGhpcy5maXJzdCgpLnN0YXJ0VGltZSxlbmQ6dGhpcy5sYXN0KCkuZW5kVGltZX06e3N0YXJ0OjAsZW5kOjB9fTtULnByb3RvdHlwZS5nZXRTZWVrUmFuZ2VHYXBzPWZ1bmN0aW9uKCl7cmV0dXJuIGdldFNlZWtSYW5nZUdhcHNGcm9tU2hha2FSZWZlcmVuY2VzKHRoaXMuYSx0aGlzLnMpfTtULnByb3RvdHlwZS5nZXRTZWVrUmFuZ2VHYXBzPVQucHJvdG90eXBlLmdldFNlZWtSYW5nZUdhcHM7VC5wcm90b3R5cGUucmI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mfTtULnByb3RvdHlwZS5HYz1mdW5jdGlvbihhKXt0aGlzLmg9YX07VC5wcm90b3R5cGUuRmM9ZnVuY3Rpb24oKXt0aGlzLmg9ZnVuY3Rpb24oKXt9fTtULnByb3RvdHlwZS5JYT1mdW5jdGlvbigpe307VC5wcm90b3R5cGUuZ2V0SWRsZVJlZmVyZW5jZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pfTtmdW5jdGlvbiBDZChhLGIsYyxkLGUpe3ZhciBmPTEsZz0wLGg7aWYoYS5jPmQpaD1udWxsO2Vsc2V7dmFyIGs9YS5vfHwwLGw9YS5mfHwwO2g9Yy5hO2g9aC5IL2guczt2YXIgbT1kLShhLmMrYi5zdGFydCk7MD5tP2g9bnVsbDoobD1tLTIqaC1sLDA+bCYmKGw9MCksbD1NYXRoLmNlaWwobC9oKSpoLG0tPWgsMD5tP2g9bnVsbDooaz1NYXRoLmZsb29yKG0vaCkqaC1rLDA+ayYmKGs9MCksaz1NYXRoLmZsb29yKGsvaCkqaCxoPXt0YzpsL2grMSxjdXJyZW50OihrPj1sP2s6bCkvaCsxfSkpfWgmJihmPWgudGMsZz1oLmN1cnJlbnQtaC50YysxKTtmPWxkKGUsYyxmLGcpO2lmKG51bGw9PWYpdGhyb3cgYT1FcnJvcigiRmFpbGVkIHRvIGdlbmVyYXRlIFNlZ21lbnRSZWZlcmVuY2VzLiIpLGEudHlwZT0ic3RyZWFtIixhO2Y9bmV3IFQoZixjLmEuc3x8MSk7Uy5jYWxsKHRoaXMsZixhLGIsZCk7dGhpcy53PWM7dGhpcy5tPXRoaXMuYz0wPHRoaXMubGVuZ3RoKCk/YS5jK2Iuc3RhcnQrdGhpcy5sYXN0KCkuZW5kVGltZToKbnVsbDt0aGlzLmo9aD9oLmN1cnJlbnQrMTpudWxsO3RoaXMuRD1lfXIoQ2QsUyk7Q2QucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLkQ9dGhpcy53PW51bGw7Uy5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpfTtDZC5wcm90b3R5cGUuZmluZD1mdW5jdGlvbihhKXt2YXIgYj15YSgpLzFFMztEZCh0aGlzLGIpO3pkKHRoaXMsYik7cmV0dXJuIFIucHJvdG90eXBlLmZpbmQuY2FsbCh0aGlzLGEpfTtDZC5wcm90b3R5cGUuQj1mdW5jdGlvbihhKXtpZihudWxsIT10aGlzLmN8fCEoYSBpbnN0YW5jZW9mIENkKXx8bnVsbD09YS5jKXJldHVybiExO3RoaXMuYz1hLmM7dGhpcy5tPWEubTt0aGlzLmo9YS5qO3RoaXMuaD1hLmg7dGhpcy5kdXJhdGlvbj1hLmR1cmF0aW9uO3RoaXMuYS5TYShhLmEpO0RkKHRoaXMseWEoKS8xRTMpO3lkKHRoaXMpO3JldHVybiEwfTsKQ2QucHJvdG90eXBlLlRhPWZ1bmN0aW9uKGEpe2E9Uy5wcm90b3R5cGUuVGEuY2FsbCh0aGlzLGEpO251bGwhPXRoaXMuYyYmKHRoaXMuYys9YSx0aGlzLm0rPWEpO3JldHVybiBhfTtDZC5wcm90b3R5cGUuQT1mdW5jdGlvbigpe3ZhciBhPXlhKCkvMUUzO0RkKHRoaXMsYSk7cmV0dXJuIEJkKHRoaXMsYSl9O2Z1bmN0aW9uIERkKGEsYil7aWYobnVsbCE9YS5jJiZudWxsIT1hLm0mJm51bGwhPWEuail7dmFyIGM9YS53LmEsYz1jLkgvYy5zLGQ9TWF0aC5mbG9vcigoYS5tKyhiLWEuaCktYS5jKS9jKTtpZigwIT1kKXt2YXIgZT1sZChhLkQsYS53LGEuaixkKTtBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShhLmEuYSxrZChlLGEuYS5XKSk7YS5hLklhKCk7YS5jKz1kKmM7YS5qKz1kfX19O2Z1bmN0aW9uIEVkKGEsYixjLGQsZSl7dGhpcy5nPWE7dGhpcy5mPWI7dGhpcy5iPWM7dGhpcy5pPWQ7dGhpcy5hPW51bGw7dGhpcy5oPWV9RWQucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmg9dGhpcy5iPXRoaXMuZj10aGlzLmc9bnVsbDt0aGlzLmEmJih0aGlzLmEuZGVzdHJveSgpLHRoaXMuYT1udWxsKX07CkVkLnByb3RvdHlwZS5jcmVhdGU9ZnVuY3Rpb24oKXtpZih0aGlzLmEpcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLmEpO2lmKCJkeW5hbWljIj09dGhpcy5nLnR5cGUpdHJ5e3RoaXMuYT1uZXcgQ2QodGhpcy5nLHRoaXMuZix0aGlzLmIsdGhpcy5pLHRoaXMuaCl9Y2F0Y2goYSl7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfWVsc2V7dmFyIGI7Yj10aGlzLmIuYTtpZihiPWxkKHRoaXMuaCx0aGlzLmIsMSxNYXRoLmNlaWwodGhpcy5mLmR1cmF0aW9uLyhiLkgvYi5zKSkpKXtpZigwPGIubGVuZ3RoKXt2YXIgYz1iW2IubGVuZ3RoLTFdO2JbYi5sZW5ndGgtMV09amQoYyxjLnN0YXJ0VGltZSx0aGlzLmYuZHVyYXRpb24pfWI9bmV3IFQoYix0aGlzLmIuYS5zfHwxKTtiPW5ldyBSKGIpfWVsc2UgYj1udWxsO3RoaXMuYT1iO2lmKCF0aGlzLmEpcmV0dXJuIGI9RXJyb3IoIkZhaWxlZCB0byBnZW5lcmF0ZSBTZWdtZW50UmVmZXJlbmNlcyIpLGIudHlwZT0ic3RyZWFtIixQcm9taXNlLnJlamVjdChiKX1yZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuYSl9OwpFZC5wcm90b3R5cGUuYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmF9O2Z1bmN0aW9uIEZkKGEsYixjLGQsZSxmKXt0aGlzLmY9YTt0aGlzLmI9Yjt0aGlzLmg9Yzt0aGlzLmE9bnVsbDt0aGlzLmk9ZDt0aGlzLmc9ZTt0aGlzLmo9Znx8bnVsbH1GZC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuZz10aGlzLmg9dGhpcy5iPXRoaXMuZj1udWxsO3RoaXMuYSYmKHRoaXMuYS5kZXN0cm95KCksdGhpcy5hPW51bGwpfTsKRmQucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbigpe2lmKHRoaXMuYSlyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuYSk7dmFyIGE9dGhpcy5oLmIsYj1bXTthLkMmJihiPW9kKGEuQyxhLnN8fDEsdGhpcy5iLmR1cmF0aW9ufHwwKSk7dmFyIGM9MDthLkgmJmEuYz9jPShhLmMtMSkqYS5IOjA8Yi5sZW5ndGgmJihjPWJbMF0uc3RhcnQtKGEuTHx8MCkpO3ZhciBkPWMsZT1hLmEubGVuZ3RoOzA8Yi5sZW5ndGgmJmIubGVuZ3RoIT1hLmEubGVuZ3RoJiYoZT1NYXRoLm1pbihiLmxlbmd0aCxhLmEubGVuZ3RoKSk7Zm9yKHZhciBmPVtdLGc9MDtnPGU7KytnKXt2YXIgaD1hLmFbZ10saz1jLGw9ay9hLnMsbT1jPW51bGwscDthLkg/KGM9aythLkgsbT1jL2Eucyk6MDxiLmxlbmd0aD8ocD1iW2ddLnRpbWVzY2FsZWRHYXBJbmZvLGM9YltnXS5lbmQtKGEuTHx8MCksbT1jL2Eucyk6KG09bCt0aGlzLmIuZHVyYXRpb24sYz1tKmEucyk7dmFyIHQ9MCx3PW51bGw7aC5hJiYodD1oLmEucWEsCnc9aC5hLmVuZCk7bT1NYXRoLm1pbih0aGlzLmIuZHVyYXRpb24rZC9hLnMsbSk7Zi5wdXNoKG5ldyBpZChsLG0sbmV3IEsodGhpcy5nLGguYix0LHcsdm9pZCAwLHRoaXMuaiksayxwfHxudWxsKSl9YT1uZXcgVChmLGEuc3x8MSk7ImR5bmFtaWMiPT10aGlzLmYudHlwZT90aGlzLmE9bmV3IFMoYSx0aGlzLmYsdGhpcy5iLHRoaXMuaSk6dGhpcy5hPW5ldyBSKGEpO3JldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5hKX07RmQucHJvdG90eXBlLmM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hfTtmdW5jdGlvbiBHZChhLGIsYyl7VC5jYWxsKHRoaXMsYSxjKTt0aGlzLmc9Yjt0aGlzLmI9ITE7dGhpcy5qPVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0U3RyaW5nKCJ0ZW1wbGF0ZWRfcGVyZl90ZXN0X21ldGhvZHNfdW5kZXJfdGVzdF9jc3Zfc3RyaW5nIiwiYWxsIikuc3BsaXQoIiwiKX1yKEdkLFQpO2Z1bmN0aW9uIEhkKGEsYil7aWYoISgtMTxhLmouaW5kZXhPZigiYWxsIil8fC0xPGEuai5pbmRleE9mKGIpKXx8YS5iKXJldHVybiBudWxsO3ZhciBjPWEuYTthLmE9YS5nO2EuYj0hMDtyZXR1cm4gY31mdW5jdGlvbiBJZChhLGIpe2EuYiYmKGEuZz1hLmEsYS5hPWIpfUdkLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7VC5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpO3RoaXMuZz1udWxsfTsKR2QucHJvdG90eXBlLmxlbmd0aD1mdW5jdGlvbigpe3ZhciBhPUhkKHRoaXMsImxlbmd0aCIpLGI9VC5wcm90b3R5cGUubGVuZ3RoLmNhbGwodGhpcyk7YSYmKElkKHRoaXMsYSksYj1ULnByb3RvdHlwZS5sZW5ndGguY2FsbCh0aGlzKSx0aGlzLmI9ITEpO3JldHVybiBifTtHZC5wcm90b3R5cGUuZ2V0U2VnbWVudHM9ZnVuY3Rpb24oKXt2YXIgYT1IZCh0aGlzLCJnZXRTZWdtZW50cyIpLGI9VC5wcm90b3R5cGUuZ2V0U2VnbWVudHMuY2FsbCh0aGlzKTthJiYoSWQodGhpcyxhKSxiPVQucHJvdG90eXBlLmdldFNlZ21lbnRzLmNhbGwodGhpcyksdGhpcy5iPSExKTtyZXR1cm4gYn07R2QucHJvdG90eXBlLmZpcnN0PWZ1bmN0aW9uKCl7dmFyIGE9SGQodGhpcywiZmlyc3QiKSxiPVQucHJvdG90eXBlLmZpcnN0LmNhbGwodGhpcyk7YSYmKElkKHRoaXMsYSksYj1ULnByb3RvdHlwZS5maXJzdC5jYWxsKHRoaXMpLHRoaXMuYj0hMSk7cmV0dXJuIGJ9OwpHZC5wcm90b3R5cGUubGFzdD1mdW5jdGlvbigpe3ZhciBhPUhkKHRoaXMsImxhc3QiKSxiPVQucHJvdG90eXBlLmxhc3QuY2FsbCh0aGlzKTthJiYoSWQodGhpcyxhKSxiPVQucHJvdG90eXBlLmxhc3QuY2FsbCh0aGlzKSx0aGlzLmI9ITEpO3JldHVybiBifTtHZC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGEpe3ZhciBiPUhkKHRoaXMsImdldCIpLGM7Yz1iP1QucHJvdG90eXBlLmdldC5jYWxsKHRoaXMsYSsodGhpcy5hLmxlbmd0aC1iLmxlbmd0aCkpOlQucHJvdG90eXBlLmdldC5jYWxsKHRoaXMsYSk7YiYmKElkKHRoaXMsYiksYz1ULnByb3RvdHlwZS5nZXQuY2FsbCh0aGlzLGEpLHRoaXMuYj0hMSk7cmV0dXJuIGN9O0dkLnByb3RvdHlwZS5maW5kPWZ1bmN0aW9uKGEpe3ZhciBiPUhkKHRoaXMsImZpbmQiKSxjPVQucHJvdG90eXBlLmZpbmQuY2FsbCh0aGlzLGEpO2ImJihJZCh0aGlzLGIpLGM9VC5wcm90b3R5cGUuZmluZC5jYWxsKHRoaXMsYSksdGhpcy5iPSExKTtyZXR1cm4gY307CkdkLnByb3RvdHlwZS5maW5kSW5kZXg9ZnVuY3Rpb24oYSl7dmFyIGI9SGQodGhpcywiZmluZEluZGV4IiksYz1ULnByb3RvdHlwZS5maW5kSW5kZXguY2FsbCh0aGlzLGEpO2ImJihJZCh0aGlzLGIpLGM9VC5wcm90b3R5cGUuZmluZEluZGV4LmNhbGwodGhpcyxhKSx0aGlzLmI9ITEpO3JldHVybiBjfTtuPUdkLnByb3RvdHlwZTtuLlNhPWZ1bmN0aW9uKGEpe3ZhciBiPUhkKHRoaXMsIm1lcmdlIiksYz1ULnByb3RvdHlwZS5TYS5jYWxsKHRoaXMsYSk7YiYmKElkKHRoaXMsYiksYz1ULnByb3RvdHlwZS5TYS5jYWxsKHRoaXMsYSksdGhpcy5iPSExKTtyZXR1cm4gY307bi5oYj1mdW5jdGlvbihhKXt2YXIgYj1IZCh0aGlzLCJjb3JyZWN0IiksYz1ULnByb3RvdHlwZS5oYi5jYWxsKHRoaXMsYSk7YiYmKElkKHRoaXMsYiksYz1ULnByb3RvdHlwZS5oYi5jYWxsKHRoaXMsYSksdGhpcy5iPSExKTtyZXR1cm4gY307Cm4uaWI9ZnVuY3Rpb24oKXt2YXIgYT1IZCh0aGlzLCJnZXRTZWVrUmFuZ2UiKSxiPVQucHJvdG90eXBlLmliLmNhbGwodGhpcyk7YSYmKElkKHRoaXMsYSksYj1ULnByb3RvdHlwZS5pYi5jYWxsKHRoaXMpLHRoaXMuYj0hMSk7cmV0dXJuIGJ9O24uZ2V0U2Vla1JhbmdlR2Fwcz1mdW5jdGlvbigpe3ZhciBhPUhkKHRoaXMsImdldFNlZWtSYW5nZUdhcHMiKSxiPVQucHJvdG90eXBlLmdldFNlZWtSYW5nZUdhcHMuY2FsbCh0aGlzKTthJiYoSWQodGhpcyxhKSxiPVQucHJvdG90eXBlLmdldFNlZWtSYW5nZUdhcHMuY2FsbCh0aGlzKSx0aGlzLmI9ITEpO3JldHVybiBifTtuLklhPWZ1bmN0aW9uKCl7dmFyIGE9SGQodGhpcywiYXNzZXJ0Q29ycmVjdFJlZmVyZW5jZXMiKTtULnByb3RvdHlwZS5JYS5jYWxsKHRoaXMpO2EmJihJZCh0aGlzLGEpLFQucHJvdG90eXBlLklhLmNhbGwodGhpcyksdGhpcy5iPSExKX07ZnVuY3Rpb24gSmQoYSxiLGMsZCxlLGYsZyxoKXt0aGlzLm09YTt0aGlzLmE9Yjt0aGlzLmc9Yzt0aGlzLmY9ZDt0aGlzLm89ZTt0aGlzLmI9bnVsbDt0aGlzLmk9Zjt0aGlzLmg9bnVsbDt0aGlzLmo9aHx8bnVsbH1KZC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuaT10aGlzLmY9dGhpcy5nPXRoaXMuYT1udWxsO3RoaXMuYiYmKHRoaXMuYi5kZXN0cm95KCksdGhpcy5iPW51bGwpfTsKSmQucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbigpe2lmKHRoaXMuYilyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuYik7dmFyIGE9VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJmYmxzX3VzZV90aW1lbGluZV9zZWdtZW50X2luZGV4IiwhMSk7aWYoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJ1c2VfdGltZWxpbmVfc2VnbWVudF9pbmRleCIsITEpJiYodGhpcy5hLkZCSXNMaXZlVGVtcGxhdGVkfHx0aGlzLmEuRkJXYXNMaXZlfHxhKSlhPW5ldyBwZCh0aGlzLmcsdGhpcy5mLHRoaXMuZi5hLHRoaXMuaSx0aGlzLmopO2Vsc2V7Zm9yKHZhciBhPXRoaXMuZi5hLGI9b2QoYS5DLGEuc3x8MSx0aGlzLmcuZHVyYXRpb258fDAsdGhpcy5tLmdldE51bWJlcigibnVtX3ByZWRpY3RpdmVfc2VnbWVudHMiLDApLHRoaXMuYS5GQklzTGl2ZVRlbXBsYXRlZHx8dGhpcy5hLkZCV2FzTGl2ZSx0aGlzLmgpLGM9W10sZD0wO2Q8Yi5sZW5ndGg7KytkKXt2YXIgZT0KYltkXS5zdGFydCxmPWJbZF0uZW5kLGc9YltkXS51ZHx8MCxoPWJbZF0udGltZXNjYWxlZEdhcEluZm8saz1lL2EucyxsPWYvYS5zLG09ZCthLmIscD1lLG09bWQodGhpcy5pLHRoaXMuZiwwPGc/ZzptLHAsMDxnPyEwOiExLHRoaXMuaik7aWYoIW0pcmV0dXJuIGE9RXJyb3IoIkZhaWxlZCB0byBnZW5lcmF0ZSBtZWRpYSBVUkwuIiksYS50eXBlPSJkYXNoIixQcm9taXNlLnJlamVjdChhKTt2YXIgdD0oYS5MfHwwKS9hLnM7Yy5wdXNoKG5ldyBpZChrLXQsbC10LG0scCxmLWUsaHx8bnVsbCwwPGcpKX1iPXRoaXMuYS5GQklzTGl2ZVRlbXBsYXRlZHx8dGhpcy5hLkZCV2FzTGl2ZTtWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigidGVtcGxhdGVkX3VzZV9wZXJmX3Rlc3Rfc2VnbWVudF9pbmRleF9iYXNlX2ludCIsMCkmJm51bGw9PXRoaXMuaCYmdGhpcy5hLkZCSXNMaXZlVGVtcGxhdGVkPyhiPWMsYz1iLnNsaWNlKC1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigidGVtcGxhdGVkX3VzZV9wZXJmX3Rlc3Rfc2VnbWVudF9pbmRleF9iYXNlX2ludCIsCjApKSxhPW5ldyBHZChjLGIsYS5zfHwxKSk6YT1uZXcgVChjLGEuc3x8MSxiKX10aGlzLmEubWFuaWZlc3RJc0xpdmVTdHJlYW1pbmc/dGhpcy5iPW5ldyBTKGEsdGhpcy5hLHRoaXMuZyx0aGlzLm8pOnRoaXMuYj1uZXcgUihhKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuYil9O0pkLnByb3RvdHlwZS5jPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYn07SmQucHJvdG90eXBlLkVjPWZ1bmN0aW9uKGEpe3RoaXMuaD1hfTtmdW5jdGlvbiBLZCgpe3RoaXMuWD1MZCsrO3RoaXMuaWQ9dGhpcy5hYT10aGlzLk09bnVsbDt0aGlzLmE9MDt0aGlzLmhlaWdodD10aGlzLndpZHRoPXRoaXMuYmFuZHdpZHRoPW51bGw7dGhpcy5jb2RlY3M9dGhpcy5taW1lVHlwZT0iIjt0aGlzLmY9dGhpcy5mYlF1YWxpdHlDbGFzcz10aGlzLmZiUXVhbGl0eUxhYmVsPW51bGw7dGhpcy5mcmFtZVJhdGU9IiI7dGhpcy5zd2l0Y2hSZWFzb249dGhpcy5oPXRoaXMuZz10aGlzLmM9bnVsbDt0aGlzLmI9W107dGhpcy5vYT0hMTt0aGlzLmZhPSEwfXZhciBMZD0wO0tkLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5NJiYodGhpcy5NLmRlc3Ryb3koKSx0aGlzLk09bnVsbCk7dGhpcy5hYSYmKHRoaXMuYWEuZGVzdHJveSgpLHRoaXMuYWE9bnVsbCl9O2Z1bmN0aW9uIE1kKGEpe3JldHVybiBhLm1pbWVUeXBlLnNwbGl0KCIvIilbMF19CmZ1bmN0aW9uIE5kKGEpe3ZhciBiPWEubWltZVR5cGV8fCIiO2EuY29kZWNzJiYoYis9JzsgY29kZWNzPSInK2EuY29kZWNzKyciJyk7cmV0dXJuIGJ9ZnVuY3Rpb24gT2QoKXt0aGlzLlg9UGQrKzt0aGlzLmlkPW51bGw7dGhpcy5jb250ZW50VHlwZT10aGlzLmxhbmc9IiI7dGhpcy5mPXRoaXMuYj0hMTt0aGlzLmM9bnVsbDt0aGlzLnY9W107dGhpcy5hPVtdfXZhciBQZD0wO09kLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7Zm9yKHZhciBhPTA7YTx0aGlzLnYubGVuZ3RoOysrYSl0aGlzLnZbYV0uZGVzdHJveSgpO3RoaXMuYT10aGlzLnY9bnVsbH07ZnVuY3Rpb24gUWQoYSl7Zm9yKHZhciBiPVtdLGM9MDtjPGEuYS5sZW5ndGg7KytjKXt2YXIgZD1uZXcgUmQ7ZC5pZD1hLlg7ZC5hPWEuYVtjXTtkLmNvbnRlbnRUeXBlPWEuY29udGVudFR5cGU7ZC5iPWEudi5sZW5ndGg/TmQoYS52WzBdKToiIjtiLnB1c2goZCl9cmV0dXJuIGJ9CmZ1bmN0aW9uIFNkKCl7dGhpcy5pZD1udWxsO3RoaXMuc3RhcnQ9MDt0aGlzLmR1cmF0aW9uPW51bGw7dGhpcy5hPVtdfVNkLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7Zm9yKHZhciBhPTA7YTx0aGlzLmEubGVuZ3RoOysrYSl0aGlzLmFbYV0uZGVzdHJveSgpO3RoaXMuYT1udWxsfTtmdW5jdGlvbiBUZCgpe3RoaXMuQT10aGlzLmY9dGhpcy5iPSExO3RoaXMubz10aGlzLm09dGhpcy5CPTA7dGhpcy5qPXRoaXMuaT10aGlzLmM9bnVsbDt0aGlzLmc9MDt0aGlzLmE9W107dGhpcy5oPSExO3RoaXMudz0ibm9uZSI7dGhpcy51PW51bGx9VGQucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXtmb3IodmFyIGE9MDthPHRoaXMuYS5sZW5ndGg7KythKXRoaXMuYVthXS5kZXN0cm95KCk7dGhpcy5hPW51bGx9O2Z1bmN0aW9uIFJkKCl7dGhpcy5pZD0wO3RoaXMuYT1udWxsO3RoaXMuYj10aGlzLmNvbnRlbnRUeXBlPSIifTtmdW5jdGlvbiBVKGEsYixjLGQsZSxmLGcsaCxrLGwsbSxwLHQsdyl7Ri5jYWxsKHRoaXMsYSk7dGhpcy5iPWI7dGhpcy5hPWM7dGhpcy5jPW5ldyBuYihjLGQsZSxmLHRoaXMsaCx3KTt0aGlzLlBhPWg7dGhpcy5vPXt9O3RoaXMucmE9Zjt0aGlzLnlhPTA7dGhpcy5tYT10aGlzLmY9dGhpcy5nPW51bGw7dGhpcy50YT0hMTt0aGlzLnc9dGhpcy5jYT1udWxsO3RoaXMuUz0hMTt0aGlzLmphPTA7dGhpcy5rYT0hMTt0aGlzLkQ9bnVsbDt0aGlzLlo9dGhpcy5lYT10aGlzLmg9ITE7dGhpcy5PPW5ldyBJO3RoaXMuRz10aGlzLlQ9dGhpcy5CPSExO3RoaXMuUj0wO3RoaXMuZ2E9MTU7dGhpcy5HYT10aGlzLnZhPXRoaXMuVT0hMTt0aGlzLm5hPTE7dGhpcy4kPWc7dGhpcy54YT0hMTt0aGlzLmw9bnVsbDt0aGlzLkhhPSExO3RoaXMuST10aGlzLko9dGhpcy5LPW51bGw7dGhpcy5WPSExO3RoaXMudT1tfHxudWxsO3RoaXMuRj1wfHxudWxsO3RoaXMuaj10fHxudWxsO3RoaXMuWT1udWxsO3RoaXMuYmE9CiExO3RoaXMuRGE9e307dGhpcy5GYT1rO3RoaXMuaT1udWxsO3RoaXMuaWE9ITE7dGhpcy5FYT0wO3RoaXMuQ2E9ZT9lLnNwbGl0KCI7IilbMF06IiI7dGhpcy5QPSExO3RoaXMud2E9MDt0aGlzLnNhPWw7dGhpcy5BPXRoaXMubT1udWxsfXIoVSxGKTtVLnByb3RvdHlwZS5CYT1mdW5jdGlvbigpe3JldHVybntTb3VyY2VCdWZmZXJNYW5hZ2VyOnRoaXMuY319O1UucHJvdG90eXBlLmdldERlYnVnPVUucHJvdG90eXBlLkJhO2Z1bmN0aW9uIFVkKGEsYil7cmV0dXJuIG5ldyBWaWRlb1BsYXllckJpdHJhdGVFc3RpbWF0b3IobmV3IHgoYS5hLmdldE51bWJlcigibGl2ZV9iaXRyYXRlX2VzdGltYXRlc19oYWxmX2xpZmUiLDIpKSxiLGEuYS5nZXROdW1iZXIoImxpdmVfYml0cmF0ZV9lc3RpbWF0ZXNfbWluaW11bV9zYW1wbGVfY291bnQiLDEpLGEuYS5nZXROdW1iZXIoImxpdmVfYml0cmF0ZV9lc3RpbWF0ZXNfbGFyZ2Vfc2FtcGxlX3dlaWdodF9mYWN0b3IiLDEwKSl9ClUucHJvdG90eXBlLnBhPWZ1bmN0aW9uKGEpe251bGwhPWEuaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemUmJih0aGlzLlI9TnVtYmVyKGEuaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemUpKTt2YXIgYj10aGlzLmEuZ2V0TnVtYmVyKCJpbml0aWFsX3N0cmVhbV9idWZmZXJfc2l6ZV9mb3JfdmlkZW9fc3RyZWFtIiwwKTswPGImJi0xIT09dGhpcy5DYS5pbmRleE9mKCJ2IikmJih0aGlzLlI9Yik7bnVsbCE9YS5keW5hbWljU3RyZWFtQnVmZmVyU2l6ZSYmKHRoaXMuamE9TnVtYmVyKGEuZHluYW1pY1N0cmVhbUJ1ZmZlclNpemUpKTtudWxsIT1hLnNtYXJ0QnVmZmVyQWRqdXN0bWVudFBhcmFtcyYmKHRoaXMuRGE9YS5zbWFydEJ1ZmZlckFkanVzdG1lbnRQYXJhbXMpO251bGwhPWEuc21hcnRCdWZmZXJBZGp1c3RtZW50RW5hYmxlZCYmKHRoaXMuYmE9Qm9vbGVhbihhLnNtYXJ0QnVmZmVyQWRqdXN0bWVudEVuYWJsZWQpKTtudWxsIT1hLnN0cmVhbUJ1ZmZlclNpemUmJih0aGlzLmdhPU51bWJlcihhLnN0cmVhbUJ1ZmZlclNpemUpKTsKbnVsbCE9YS5maXhCdWZmZXJpbmdHb2FsRGV0ZXJtaW5hdGlvbiYmKHRoaXMuVT1Cb29sZWFuKGEuZml4QnVmZmVyaW5nR29hbERldGVybWluYXRpb24pKTtudWxsIT1hLmFkZENkbkRlYnVnUXVlcnlQYXJhbWV0ZXJzJiYodGhpcy52YT1Cb29sZWFuKGEuYWRkQ2RuRGVidWdRdWVyeVBhcmFtZXRlcnMpKTtudWxsIT1hLnVzZUluaXRpYWxCdWZmZXJTaXplV2hlblBhdXNlZCYmKHRoaXMuR2E9Qm9vbGVhbihhLnVzZUluaXRpYWxCdWZmZXJTaXplV2hlblBhdXNlZCkpO251bGwhPWEuc2VnbWVudFJlcXVlc3RUaW1lb3V0JiYodGhpcy5jLlQ9TnVtYmVyKGEuc2VnbWVudFJlcXVlc3RUaW1lb3V0KSk7bnVsbCE9YS5yZXNvbHZlVmlkZW9UaW1lVXBkYXRlT25GcmFnbWVudGVkVGltZVJhbmdlcyYmKHRoaXMueGE9Qm9vbGVhbihhLnJlc29sdmVWaWRlb1RpbWVVcGRhdGVPbkZyYWdtZW50ZWRUaW1lUmFuZ2VzKSk7bnVsbCE9YS5wZXJmb3JtYW5jZUxvZ2dlciYmKHRoaXMubD10aGlzLm8ucGVyZm9ybWFuY2VMb2dnZXI9CmEucGVyZm9ybWFuY2VMb2dnZXIpO251bGwhPWEuYWJyTG9nZ2VyJiYodGhpcy5vLmFickxvZ2dlcj1hLmFickxvZ2dlcik7bnVsbCE9YS5yZWFwcGVuZEluaXRTZWdtZW50QWZ0ZXJBYm9ydCYmKHRoaXMuby5yZWFwcGVuZEluaXRTZWdtZW50QWZ0ZXJBYm9ydD1Cb29sZWFuKGEucmVhcHBlbmRJbml0U2VnbWVudEFmdGVyQWJvcnQpKTtudWxsIT1hLmxpdmVEYXRhRmV0Y2hNYXhSZXRyaWVzJiYodGhpcy5vLmxpdmVEYXRhRmV0Y2hNYXhSZXRyaWVzPU51bWJlcihhLmxpdmVEYXRhRmV0Y2hNYXhSZXRyaWVzKSk7bnVsbCE9YS5saXZlU291cmNlQnVmZmVyQ2xlYXJNYXhSZXRyaWVzJiYodGhpcy5vLmxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXM9TnVtYmVyKGEubGl2ZVNvdXJjZUJ1ZmZlckNsZWFyTWF4UmV0cmllcykpO251bGwhPWEuc2tpcEVtcHR5U2VnbWVudHMmJih0aGlzLm8uc2tpcEVtcHR5U2VnbWVudHM9Qm9vbGVhbihhLnNraXBFbXB0eVNlZ21lbnRzKSk7bnVsbCE9CmEucGxheWhlYWRGcmFnbWVudGVkR2FwRGlmZkFsbG93YW5jZSYmKHRoaXMuby5wbGF5aGVhZEZyYWdtZW50ZWRHYXBEaWZmQWxsb3dhbmNlPU51bWJlcihhLnBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2UpKTtudWxsIT1hLnVzZU1pY3JvVGFza1RpbWVvdXRzJiYodGhpcy5IYT1Cb29sZWFuKGEudXNlTWljcm9UYXNrVGltZW91dHMpKTthPXRoaXMuYztiPXRoaXMubztudWxsIT1iLnJlYXBwZW5kSW5pdFNlZ21lbnRBZnRlckFib3J0JiYoYS5SPUJvb2xlYW4oYi5yZWFwcGVuZEluaXRTZWdtZW50QWZ0ZXJBYm9ydCkpO251bGwhPWIucGVyZm9ybWFuY2VMb2dnZXImJihhLmw9Yi5wZXJmb3JtYW5jZUxvZ2dlcik7bnVsbCE9Yi5hYnJMb2dnZXImJihhLkk9Yi5hYnJMb2dnZXIpO251bGwhPWIubGl2ZURhdGFGZXRjaE1heFJldHJpZXMmJihhLk89Yi5saXZlRGF0YUZldGNoTWF4UmV0cmllcyk7bnVsbCE9Yi5saXZlU291cmNlQnVmZmVyQ2xlYXJNYXhSZXRyaWVzJiYoYS5LPQpiLmxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXMpO251bGwhPWIucGxheWhlYWRGcmFnbWVudGVkR2FwRGlmZkFsbG93YW5jZSYmKGEuUD1iLnBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2UpO251bGwhPWIuc2tpcEVtcHR5U2VnbWVudHMmJihhLlY9Yi5za2lwRW1wdHlTZWdtZW50cyl9O1UucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXtWZCh0aGlzKTt0aGlzLk8uZGVzdHJveSgpO3RoaXMucmE9dGhpcy5nPXRoaXMuTz1udWxsO3RoaXMuYy5kZXN0cm95KCk7dGhpcy5iPXRoaXMuYz1udWxsO3RoaXMuYS5nZXRCb29sKCJmaXhpbmdfc2NoZWR1bGVyX2Rpc2FibGVfbGVha3MiLCEwKSYmKHRoaXMudT1udWxsKTt0aGlzLkphPW51bGx9O249VS5wcm90b3R5cGU7bi5XYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmd9O24uRmI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mfTsKbi5LYz1mdW5jdGlvbihhKXt0aGlzLkJ8fGEudGhlbihmdW5jdGlvbigpe3RoaXMuQj0hMDt0aGlzLnd8fFYodGhpcywwKX0uYmluZCh0aGlzKSkuY2F0Y2goZnVuY3Rpb24oKXt9KTtyZXR1cm4gdGhpcy5PfTtuLkNiPWZ1bmN0aW9uKCl7dGhpcy5HPSEwO1dkKHRoaXMpfTtuLmZiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuR307Cm4uamI9ZnVuY3Rpb24oYSxiLGMsZCxlKXtpZihhIT10aGlzLmcpe3ZhciBmPTE7dGhpcy5hLmdldEJvb2woInVzZV9saXZlX2JpdHJhdGVfZXN0aW1hdGVzIiwhMSkmJm51bGwhPT10aGlzLm0mJjA8dGhpcy5nLmJhbmR3aWR0aCYmKGY9dGhpcy5tLmdldEVzdGltYXRlKCkvdGhpcy5nLmJhbmR3aWR0aCk7dmFyIGc9YS5hYTtnJiYodGhpcy5tYT1nLmNyZWF0ZSh0aGlzLmwsdGhpcy5QYSkpO3RoaXMuWj0hMDthLk0uY3JlYXRlKCkudGhlbihKKHRoaXMsZnVuY3Rpb24oZyl7aWYodGhpcy5iKXt0aGlzLlo9ITE7dmFyIGs9dGhpcy5nO3RoaXMuZz1hO3RoaXMuYS5nZXRCb29sKCJ1c2VfbGl2ZV9iaXRyYXRlX2VzdGltYXRlcyIsITEpJiYodGhpcy5tPVVkKHRoaXMsKGEuYmFuZHdpZHRofHwwKSpmKSk7dmFyIGw9dGhpcy5mO3RoaXMuZj1nO3RoaXMuYy5EPXRoaXMuZjtsJiZsLmEuRmMoKTt1ZCh0aGlzLmYsZnVuY3Rpb24oYSl7dmFyIGI9YTt0aGlzLmomJnRoaXMuai5zZXRTZWdtZW50cyh0aGlzLmYuZ2V0U2VnbWVudHMoKSk7CnRoaXMudSYmKGE9YSYmdGhpcy5hLmdldEJvb2woIm9wdGltaXplX3N0cmVhbV9nZXRfc2VnbWVudHNfY2FsbHMiLCExKT9hOnRoaXMuZi5nZXRTZWdtZW50cygpLHRoaXMuYS5nZXRCb29sKCJ0ZW1wbGF0ZWRfdXBkYXRlX3NybV9ieV9kZWx0YV9vZl9jaGFuZ2VkX3JlZmVyZW5jZXNfYm9vbCIsITEpJiZ0aGlzLmYuSyYmYi5sZW5ndGg8dGhpcy5mLmdldFNlZ21lbnRzKCkubGVuZ3RoJiYoYT10aGlzLmYuZ2V0U2VnbWVudHMoKS5zbGljZSgtKGIubGVuZ3RoKzEpKSksWGQodGhpcyx0aGlzLmcuaWR8fCIiLGEpKX0uYmluZCh0aGlzKSk7dGhpcy5qJiZ0aGlzLmouc2V0U2VnbWVudHModGhpcy5mLmdldFNlZ21lbnRzKCkpO2lmKHRoaXMudSl7dmFyIGw9W10sbT10aGlzLmEuZ2V0TnVtYmVyKCJ0ZW1wbGF0ZWRfY2h1bmtlZF9zZWdtZW50X3VwZGF0ZV9saW1pdF9pbnQiLDApO2lmKG0pe2c9dGhpcy5mLmxlbmd0aCgpO2Zvcih2YXIgbT1NYXRoLm1pbihnLG0pLHA9MTtwPD1tOysrcClsLnB1c2godGhpcy5mLmdldChnLQpwKSl9ZWxzZSBsPWcuZ2V0U2VnbWVudHMoKTtYZCh0aGlzLGEuaWR8fCIiLGwpfXRoaXMudGE9ITA7dGhpcy5jYT1kP2Q6bnVsbDt0aGlzLlN8fCh0aGlzLmEuZ2V0Qm9vbCgibWFrZV9lYXJseV90cmFja19zZWxlY3Rpb24iLCExKSYmdGhpcy5oJiYhdGhpcy5QJiYhdGhpcy53P1YodGhpcywwKTprP2I/WWQodGhpcywhMCxjKTplJiZZZCh0aGlzLCExKTpWKHRoaXMsMCkpfX0pKS5jYXRjaChKKHRoaXMsZnVuY3Rpb24oYSl7dGhpcy5aPSExOyJhYm9ydGVkIiE9YS50eXBlJiYodGhpcy5CPyhhPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGEpKTp0aGlzLk8ucmVqZWN0KGEpKX0pKX19O24uQ2M9ZnVuY3Rpb24oYSl7cmV0dXJuIFlkKHRoaXMsISFhKX07bi5IYz1mdW5jdGlvbigpe3RoaXMua2E9ITB9O24uSmM9ZnVuY3Rpb24oYSl7dGhpcy5FYT1hfTsKZnVuY3Rpb24gWGQoYSxiLGMpe2EuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9jaHVua2VkX3NlZ21lbnRfdXBkYXRlX2xpbWl0X2ludCIsMCkmJmEudS51cGRhdGVTZWdtZW50SW5kZXgoYixhLmYpO2EuYS5nZXRCb29sKCJ1c2VfdXBkYXRlX3NlZ21lbnRzX2J5X3NoYWthX3JlZmVyZW5jZSIsITApJiZhLnUudXBkYXRlU2VnbWVudHNCeVNoYWthUmVmZXJlbmNlcyhiLGMpfQpmdW5jdGlvbiBZZChhLGIsYyl7YS5nJiYhYS5TJiYoYS5TPSEwLFZkKGEpLGEuVD0hMSxudWxsIT09YS5BJiZhLkEucmVzZXQoKSxhLmMuYWJvcnQoKS50aGVuKEooYSxmdW5jdGlvbigpe3ZhciBhPXRoaXMuYi5jdXJyZW50VGltZTt0aGlzLmEuZ2V0Qm9vbCgic2V0X2N1cnJlbnRfdGltZV9pbl9yZXN5bmMiLCExKSYmMD09YT8odGhpcy5sJiZCYW56YWlPRFMuYnVtcEVudGl0eUtleSgyOTY2LCJ2aWRlb3Mud3d3LnNoYWthIiwic2V0X2N1cnJlbnRfdGltZV9pbl9yZXN5bmMiKSxhPXRoaXMuZi5maXJzdCgpLnN0YXJ0VGltZSk6dGhpcy5hLmdldEJvb2woImJldHRlcl9zZXRfY3VycmVudF90aW1lX2luX3Jlc3luYyIsITEpJiZhPHRoaXMuZi5maXJzdCgpLnN0YXJ0VGltZSYmKEJhbnphaU9EUy5idW1wRW50aXR5S2V5KDI5NjYsInZpZGVvcy53d3cuc2hha2EiLCJzZXRfY3VycmVudF90aW1lX2luX3Jlc3luYyIpLGE9dGhpcy5mLmZpcnN0KCkuc3RhcnRUaW1lK3RoaXMuYS5nZXROdW1iZXIoInJlc3luY19zZXRfY3VycmVudF90aW1lX2Z1ZGdlX2ZhY3RvciIsCjApKTtpZighYiYmMDxyYih0aGlzLmMsYSkmJjA8PUZiKHRoaXMuYyxhKSlyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7aWYoYylyZXR1cm4gQ2IodGhpcy5jLHRoaXMuYi5jdXJyZW50VGltZStjKTt0aGlzLmlhPSEwO3JldHVybiBCYih0aGlzLmMpfSkpLnRoZW4oSihhLGZ1bmN0aW9uKCl7dGhpcy5TPSExO1YodGhpcywwKX0pKS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7dGhpcy5TPSExOyJhYm9ydGVkIiE9YS50eXBlJiYodGhpcy5CPyhhPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGEpKTp0aGlzLk8ucmVqZWN0KGEpKX0pKSl9bi5JYz1mdW5jdGlvbihhKXtyZXR1cm4gMDxyYih0aGlzLmMsYSkmJjA8PUZiKHRoaXMuYyxhKX07bi52Yj1mdW5jdGlvbigpe307bi5EYj1mdW5jdGlvbigpe3JldHVybiEwfTsKZnVuY3Rpb24gWmQoYSl7YS5lYT1hLmVhfHwhYS5iLnBhdXNlZDthLmIucGF1c2VkfHxhLmJhfHwoYS5ZPURhdGUubm93KCksYS5iYT0hMCk7dmFyIGI9YS5EYSxjPW51bGw7aWYoYi5pbkV4cGVyaW1lbnQpaWYoYi51c2VTbWFydEJ1ZmZlcmluZyl7aWYoYS5iYSYmYS5ZKXt2YXIgYz0oRGF0ZS5ub3coKS1hLlkpLzFFMyxkPW51bGw7MT5jP2M9bnVsbDooZD0zPmM/Yi5idWZmZXJTaXplXzAwX3RvXzAzOjEwPmM/Yi5idWZmZXJTaXplXzAzX3RvXzEwOjMwPmM/Yi5idWZmZXJTaXplXzEwX3RvXzMwOjYwPmM/Yi5idWZmZXJTaXplXzMwX3RvXzYwOmIuYnVmZmVyU2l6ZV9hYm92ZV82MCxjPU1hdGgubWluKGQsYS5iLmR1cmF0aW9uKSl9fWVsc2UgYS5ZJiYoYz1iLm5vblNtYXJ0QnVmZmVyU2l6ZSk7Y3x8KGM9YS5HYSYmYS5iLnBhdXNlZD9hLlI6YS5nYSxhLmIucGF1c2VkJiYxPGEubmEmJihjKj1hLm5hKSxhLmphJiYhYS5iLnBhdXNlZCYmKGM9TWF0aC5tYXgoTWF0aC5taW4oYS5mLmxhc3QoKS5lbmRUaW1lLQphLmIuY3VycmVudFRpbWUsYS5qYSksYS5nYSkpKTtjPShhLlU/YS5oJiZhLmVhOmEuaCk/TWF0aC5tYXgoYS5SLGMpOmEuUjswPGEuYS5nZXROdW1iZXIoImF1ZGlvX3ZpZGVvX2J1ZmZlcl9kaWZmX3RocmVzaG9sZCIsMTQ0MDApJiYoYj1hLmIuYnVmZmVyZWQubGVuZ3RoP2EuYi5idWZmZXJlZC5lbmQoYS5iLmJ1ZmZlcmVkLmxlbmd0aC0xKTowLGI9TWF0aC5tYXgoMCxiLWEuYi5jdXJyZW50VGltZSksYz1NYXRoLm1pbihjLGIrYS5hLmdldE51bWJlcigiYXVkaW9fdmlkZW9fYnVmZmVyX2RpZmZfdGhyZXNob2xkIiwxNDQwMCkpKTtyZXR1cm4gY30KZnVuY3Rpb24gJGQoYSl7dmFyIGI9YS5hLmdldE51bWJlcigic3RhcnRfc3RyZWFtX2J1ZmZlcl9zaXplIiwxKSxjPWEuYS5nZXROdW1iZXIoImxvd19zdGFydF9zdHJlYW1fYnVmZmVyX3NpemUiLDEpO2lmKGIhPT1jKXt2YXIgZD1hLmEuZ2V0TnVtYmVyKCJsb3dfYmFuZHdpZHRoX3N0YXJ0X3N0cmVhbV9idWZmZXJfc2l6ZV90aHJlc2hvbGQiLDApLGU9YS5hLmdldE51bWJlcigic2NoZWR1bGVkX3ZpZGVvc19zdGFydF9zdHJlYW1fYnVmZmVyX3NpemVfdGhyZXNob2xkIiwwKTtpZigwPGQmJmEucmEuZ2V0QmFuZHdpZHRoKCk8ZCYmVmlkZW9TdHJlYW1pbmdUYXNrUXVldWVQcm92aWRlci5nZXRRdWV1ZVNpemUoInZpZGVvIik+PWUpcmV0dXJuIGN9cmV0dXJuIGJ9ZnVuY3Rpb24gYWUoYSxiKXtyZXR1cm4gcmIoYS5jLGEuaD9iOmIrKGEuRHx8MCkpfQpmdW5jdGlvbiBiZShhKXtpZihhLmgmJiFhLkJ8fGEuYS5nZXRCb29sKCJtYWtlX2Vhcmx5X3RyYWNrX3NlbGVjdGlvbiIsITEpJiZhLlp8fGEuYS5nZXRCb29sKCJwcmV2ZW50X2ZldGNoX3doaWxlX2ZldGNoaW5nX2luX3N0cmVhbSIsITEpJiZhLlApcmV0dXJuIGEudz1udWxsLFByb21pc2UucmVzb2x2ZSgpO3ZhciBiO2lmKGI9YS5CJiYhYS5HKWI9MTxhLmMuYS5idWZmZXJlZC5sZW5ndGg/ITA6ITE7aWYoYiYmKGEua2F8fEhiKGEuYyxhLmIpKSlyZXR1cm4gYS54YSYmKGEuYi5jdXJyZW50VGltZT1HYihhLmIpKSxudWxsPT09YS5LJiYoYS5rYT0hMSxZZChhLCEwKSksUHJvbWlzZS5yZXNvbHZlKCk7YS5hLmdldE51bWJlcigiZGVjb3VwbGVfc3RyZWFtX29uX3VwZGF0ZV9sb29wX2Zyb21fcmVxdWVzdF9sb29wX2ludCIsMCl8fChhLnc9bnVsbCk7Yj1hLmc7dmFyIGM9YS5mLGQ9YS5iLmN1cnJlbnRUaW1lO2EuYS5nZXRCb29sKCJ1c2VfcGVuZGluZ19zZWVrX3Bvc2l0aW9uX2Zvcl9yZWZlcmVuY2UiLAohMSkmJjA9PT1hLmIucmVhZHlTdGF0ZSYmIWQmJmEuSiYmKGQ9YS5KKTtpZihhLlUmJiFhLmgmJmFlKGEsZCk+PSRkKGEpKXJldHVybiBhLmEuZ2V0Qm9vbCgiZml4X2Nocm9tZV9tc2VfcmVncmVzc2lvbiIsITEpJiYxPT09YS5iLnJlYWR5U3RhdGUmJjA8YS5iLmJ1ZmZlcmVkLmxlbmd0aCYmKGEuYi5jdXJyZW50VGltZT1hLmIuY3VycmVudFRpbWUpLGNlKGEpLFYoYSwwKSxQcm9taXNlLnJlc29sdmUoKTt2YXIgZT1udWxsLGY9W107bnVsbCE9PWEuSyYmKGQ9YS5LKTtpZihhZShhLGQpPj1aZChhKSlpZihhLlQ9ITAsbnVsbCE9PWEuSSYmYS5JLnJlc29sdmUoKSxhLlV8fGNlKGEpLGY9ZGUoYSk/amUoYSxkKTpbXSwwPGYubGVuZ3RoKWU9ZlswXTtlbHNlIHJldHVybiBWKGEsMUUzLyg1KihNYXRoLmFicyhhLmIucGxheWJhY2tSYXRlKXx8MSkpKSxQcm9taXNlLnJlc29sdmUoKTtlbHNle3ZhciBnPTE7YS5qJiYoZz1hLmouZ2V0TnVtYmVyT2ZTZWdtZW50cygpKTt2YXIgaD1xYihhLmMpOwphLlYmJihoPW51bGwsbnVsbCE9PWEuSyYmKGEuVj0hMSkpO2EuYS5nZXRCb29sKCJmaW5kX2xhc3RfaW5zZXJ0ZWRfc2VnbWVudF9pbl9zZWdtZW50X2luZGV4IiwhMSkmJmgmJiFjLmEuYSYmKGg9Yy5maW5kKGguc3RhcnRUaW1lKSk7YS5hLmdldEJvb2woInNldF9wZW5kaW5nX3NlZWtfb25fc2V0X2N1cnJlbnRfdGltZV9mYWlsdXJlIiwhMSkmJm51bGwhPWEuSiYmKGQ9YS5KLGEuSj1udWxsKTtnPWtlKGEsZCxjLGcsaCk7ZT1nWzBdO2EuaiYmKGEuai5zZXRGdXR1cmVTZWdtZW50cyhnKSxhLmouc2V0QnVmZmVyaW5nR29hbChaZChhKS1hZShhLGQpKSk7IWUmJmRlKGEpJiYoZj1qZShhLGQpLDA8Zi5sZW5ndGgmJihlPWZbMF0pKX1pZighZSlyZXR1cm4gY2UoYSksYS5CJiYhYS5HJiYoYS5HPSEwLFdkKGEpKSxWKGEsMjAwKSxQcm9taXNlLnJlc29sdmUoKTthLmEuZ2V0Qm9vbCgiY3JlYXRlX293bl9zZWdtZW50X3JlZmVyZW5jZV9mb3Jfc2JtIiwhMSkmJihlPWpkKGUsZS5zdGFydFRpbWUsCmUuZW5kVGltZSkpO2xlKGEsbWUoYSxkLGYpLGIuaWR8fCIiKTtuZShhLG1lKGEsZCxmKSk7YS5hLmdldEJvb2woInJlZnJlc2hfc2VnbWVudF9yZWZlcmVuY2VfZmFpbG92ZXJfdXJpIiwhMCkmJihlLnVybD1lLnVybC5jbG9uZSgpKTthLlA9ITA7YS53YT1EYXRlLm5vdygpOyJ2aWRlbyI9PT1iLm1pbWVUeXBlLnNwbGl0KCIvIilbMF0mJmEucmEuc2V0UmVwcmVzZW50YXRpb25JRChiLmlkKTtjPWEuYy5mZXRjaChlLGMucyxiLmErYS5FYSxhLm1hLGEudmEmJiFhLmIucGF1c2VkLDA8Zi5sZW5ndGgsYS51LGEuRik7Yz1jLnRoZW4oSihhLGZ1bmN0aW9uKGEpe3RoaXMuYS5nZXRCb29sKCJ1cGRhdGVzX3ByaW9yaXR5X29uX2ZldGNoX2NvbXBsZXRlIiwhMSkmJm5lKHRoaXMsbWUodGhpcyxkLFtdKSk7dGhpcy5zYS5pbmZvcm1OZXR3b3JrUmVzdW1lZCgpO3JldHVybiBhfSkpO2EuJCYmInZpZGVvIj09PWIubWltZVR5cGUuc3BsaXQoIi8iKVswXSYmYS4kLmFkZChlLnN0YXJ0VGltZXx8CjAsZS5lbmRUaW1lfHwwLHtpZDpiLmlkLHJlYXNvbjphLmNhLHBlcmZvcm1hbmNlTG9nZ2VyOmEubD9hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJzdHJlYW1fc3dpdGNoIik6bnVsbH0pO2EubWE9bnVsbDthLnRhJiYoYS50YT0hMSxmPWEuY2EsYS5jYT1udWxsLG9lKGEsYixmLGEubGEoKSkpO2EuRz0hMTtyZXR1cm4gYy50aGVuKEooYSxmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5hLmdldEJvb2woImNsZWFyX29sZF9idWZmZXIiLCExKT9FYih0aGlzLmMsdGhpcy5iLmN1cnJlbnRUaW1lKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGF9KTphfSkpLnRoZW4oSihhLGZ1bmN0aW9uKGEpe3ZhciBiPWEuVyxjPWEuV2M7dGhpcy5ofHwodGhpcy55YT1jKTt0aGlzLmEuZ2V0Qm9vbCgidXNlX2xpdmVfYml0cmF0ZV9lc3RpbWF0ZXMiLCExKSYmbnVsbCE9YSYmMDxhLkRjJiYwPGEuSCYmKG51bGw9PT10aGlzLm0mJih0aGlzLm09VWQodGhpcyx0aGlzLmcuYmFuZHdpZHRofHwwKSksdGhpcy5tLnNhbXBsZSg4KgphLkRjLGEuSCkpO2E9dGhpcy5hLmdldE51bWJlcigiYnVmZmVyX3ZlbG9jaXR5X3RpbWVfaW5fcGFzdF90b19jb25zaWRlciIsMCk7MDxhJiZudWxsIT09dGhpcy5nJiYidmlkZW8iPT09TWQodGhpcy5nKSYmKG51bGw9PT10aGlzLkEmJih0aGlzLkE9bmV3IEJ1ZmZlclZlbG9jaXR5KGEpKSx0aGlzLkEucmVjb3JkQnVmZmVyQWhlYWQocmIodGhpcy5jLHRoaXMuYi5jdXJyZW50VGltZSkpKTt0aGlzLlA9ITE7InZpZGVvIj09PSh0aGlzLmc/dGhpcy5nLm1pbWVUeXBlLnNwbGl0KCIvIilbMF06bnVsbCkmJnRoaXMuZGlzcGF0Y2hFdmVudCh5KHt0eXBlOiJmZXRjaF9lbmQiLGJ1YmJsZXM6ITAsZGV0YWlsOntzdHJlYW1fZmV0Y2hfdGltZV9tczpEYXRlLm5vdygpLXRoaXMud2Esc2VnbWVudF9sZW5ndGhfbXM6MUUzKihlLmVuZFRpbWUtZS5zdGFydFRpbWUpfX0pKTtudWxsPT10aGlzLkQmJih0aGlzLkQ9Yik7dGhpcy5pYSYmMDxyYih0aGlzLmMsZCkmJih0aGlzLmlhPSExLHRoaXMuYS5nZXRCb29sKCJkaXNhYmxlX251ZGdlIiwKITEpfHwoYj15KHt0eXBlOiJzaG91bGRfbnVkZ2UifSksdGhpcy5kaXNwYXRjaEV2ZW50KGIpKSk7Vih0aGlzLDApfSkpLmNhdGNoKEooYSxmdW5jdGlvbihhKXt0aGlzLlA9ITE7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfSkpfWZ1bmN0aW9uIG1lKGEsYixjKXt2YXIgZD1hLmg/YjpiKyhhLkR8fDApO3JldHVybnthZGRpdGlvbmFsU2VnbWVudHNSZXF1aXJlZDpjLHBsYXloZWFkOmIsYnVmZmVyU3RhcnQ6ZCxidWZmZXJFbmQ6YWUoYSxiKStkLGJ1ZmZlcmluZ0dvYWw6WmQoYSksaXNQbGF5aW5nOiFhLmIucGF1c2VkfX1mdW5jdGlvbiBsZShhLGIsYyl7YS51JiZhLnUudXBkYXRlUGxheWVyU3RhdGUoYyxiKX1mdW5jdGlvbiBuZShhLGIpe2EuRiYmYS5GLnVwZGF0ZVBsYXllclN0YXRlKGIpfQpmdW5jdGlvbiBwZShhLGIsYyl7dmFyIGQ9bnVsbCE9PWEuaSYmLTE8YS5pJiZhLmk8Yy5sZW5ndGgoKS0xP2MuZ2V0KGEuaSk6bnVsbCxlPW51bGw7aWYobnVsbD09PWEuaXx8IWR8fGQuc3RhcnRUaW1lPmIpcmV0dXJuIGU9Yy5maW5kSW5kZXgoYiksYS5pPWU7Zm9yKGQ9YS5pO2Q8PWEuaSsxO2QrKylpZihlPWMuZ2V0KGQpLGUuc3RhcnRUaW1lPD1iJiZlLmVuZFRpbWU+YilyZXR1cm4gYS5pPWQ7ZT1jLmZpbmRJbmRleChiKTtyZXR1cm4oYS5pPWUpfHwtMX1mdW5jdGlvbiBkZShhKXtyZXR1cm4gYS5hLmdldEJvb2woInJlcGxhY2VfbG93ZXJfcXVhbGl0eV9idWZmZXIiLCExKSYmbnVsbD09PWEuRiYmYS5lYSYmbnVsbCE9PWEuJCYmInZpZGVvIj09PU1kKGEuZykmJm51bGwhPT1hLmZ9CmZ1bmN0aW9uIGplKGEsYil7aWYoIWEuRmF8fCFhLmcuaWR8fCFhLmYpcmV0dXJuW107dmFyIGM9cGUoYSxiLGEuZik7cmV0dXJuLTE9PT1jP1tdOkJ1ZmZlclJlcGxhY2VtZW50SGVscGVyLmdldFNlZ21lbnRzVG9SZXBsYWNlTG93ZXJRdWFsaXR5KGEuZi5nZXRTZWdtZW50cygpLGIsYyxhLmcuaWQsYS5GYSxhLiQse3RocmVzaG9sZEJlZm9yZTphLmEuZ2V0TnVtYmVyKCJidWZmZXJfcmVwbGFjZW1lbnRfYmVoaW5kX3RocmVzaG9sZCIsNSksdGhyZXNob2xkQWZ0ZXI6YS5hLmdldE51bWJlcigiYnVmZmVyX3JlcGxhY2VtZW50X2FoZWFkX3RocmVzaG9sZCIsMTUpLHdyYXBSZXBsYWNlbWVudFBhc3RFbmQ6YS5hLmdldEJvb2woIndyYXBfcmVwbGFjZW1lbnRfcGFzdF9lbmQiLCExKX0pfQpuLnpjPWZ1bmN0aW9uKCl7dmFyIGE7aWYodGhpcy5sKXt2YXIgYj10aGlzLmEuZ2V0TnVtYmVyKCJzdHJlYW1fb251cGRhdGVfc2FtcGxpbmciLDApO2ImJjA9PT1NYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqYikmJihhPXRoaXMubC5nZXRPcGVyYXRpb25Mb2dnZXIoInN0cmVhbV9vbnVwZGF0ZSIpLnN0YXJ0KCkpfXZhciBjO3RoaXMuYS5nZXROdW1iZXIoImRlY291cGxlX3N0cmVhbV9vbl91cGRhdGVfbG9vcF9mcm9tX3JlcXVlc3RfbG9vcF9pbnQiLDApJiZWKHRoaXMsdGhpcy5hLmdldE51bWJlcigiZGVjb3VwbGVfc3RyZWFtX29uX3VwZGF0ZV9sb29wX2Zyb21fcmVxdWVzdF9sb29wX2ludCIsMCkpO2lmKHRoaXMuYS5nZXRCb29sKCJjYXRjaF9zdHJlYW1fdXBkYXRlX3N5bmNfY29kZV9lcnJvciIsITEpKXRyeXtjPWJlKHRoaXMpfWNhdGNoKGQpe2QudHlwZT0idW5jYXVnaHQiLGEmJmEuc2V0RXJyb3IoZCksYz1Qcm9taXNlLnJlamVjdChkKX1lbHNlIGM9YmUodGhpcyk7Yy5jYXRjaChKKHRoaXMsCmZ1bmN0aW9uKGEpe2lmKCJhYm9ydGVkIiE9YS50eXBlKXtpZigic291cmNlYnVmZmVyX2Z1bGwiPT09YS50eXBlKXJldHVybiBCYih0aGlzLmMpLnRoZW4oSih0aGlzLGZ1bmN0aW9uKCl7Vih0aGlzLDApfSkpO3ZhciBiPVswLDQwNCw0MTAsNTAyLDUwMyw1MDRdO3RoaXMuYS5nZXRCb29sKCJlbmFibGVfZG91YmxlX2luZ2VzdCIsITEpJiZiLnB1c2goNDE3LDIwMCk7Yj0tMT09PWIuaW5kZXhPZihhLnN0YXR1cyk7aWYoIm5ldCI9PT1hLnR5cGUmJiFiJiZ0aGlzLmcpaWYodGhpcy5hLmdldEJvb2woImFsbG93X2luZmluaXRlX3JldHJ5X29uX25ldF9lcnIiLCEwKSlzd2l0Y2goYS5zdGF0dXMpe2Nhc2UgNDA0OlYodGhpcywyRTMpO2JyZWFrO2Nhc2UgNDEwOnRoaXMuYS5nZXRCb29sKCJlbmRfYWxsX3N0cmVhbXNfb25fNDEwIiwhMSk/cWUodGhpcyk6dGhpcy5DYigpO2JyZWFrO2Nhc2UgNDE3OmNhc2UgMjAwOmEucmVzcG9uc2VIZWFkZXJzJiZudWxsIT1hLnJlc3BvbnNlSGVhZGVyc1sieC1mYi12aWRlby1yZXBsaWNhIl0/CnRoaXMuZGlzcGF0Y2hFdmVudCh5KHt0eXBlOiJyZXBsaWNhc3dpdGNoIixidWJibGVzOiEwLHJlcGxpY2E6YS5yZXNwb25zZUhlYWRlcnNbIngtZmItdmlkZW8tcmVwbGljYSJdLHVybDphLnVybCxzdGF0dXM6YS5zdGF0dXN9KSk6Yj0hMDticmVhaztkZWZhdWx0OlYodGhpcywxRTMpfWVsc2UgVih0aGlzLDFFMyksYj0hMDswPT09YS5zdGF0dXM/dGhpcy5zYS5pbmZvcm1OZXR3b3JrSW50ZXJydXB0ZWQoKTp0aGlzLnNhLmluZm9ybU5ldHdvcmtSZXN1bWVkKCk7aWYoIXRoaXMuYS5nZXRCb29sKCJhbGxvd19pbmZpbml0ZV9yZXRyeV9vbl9uZXRfZXJyIiwhMCl8fGIpYj1BKGEpLHRoaXMuZGlzcGF0Y2hFdmVudChiKSx0aGlzLmwmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgYj10aGlzLmwuZ2V0RXZlbnRMb2dnZXIoInN0cmVhbV9lcnJvcl9mYWxsYmFjayIpLnNldEVycm9yKGEpLnNldFR5cGUodGhpcy5DYS5zcGxpdCgiLyIpWzBdKTt0aGlzLmI/Yi5zZXRSZXN1bHQoImZhaWxlZCIpOgpiLnNldFJlc3VsdCgic3VjY2VzcyIpO2IubG9nKCl9LmJpbmQodGhpcyksMCl9fSkpO2EmJmEubG9nKCl9O2Z1bmN0aW9uIGtlKGEsYixjLGQsZSl7dmFyIGY9LTE7aWYoYS5hLmdldEJvb2woInRlbXBsYXRlZF9mYXN0ZXJfc3RyZWFtX2dldF9uZXh0X24iLCExKSYmMT09PWQmJm51bGwhPWUmJm51bGwhPWUuZW5kVGltZSlyZXR1cm4oYz1jLmZpbmQoZS5lbmRUaW1lKSk/W2NdOltdO251bGwhPWU/Zj1udWxsIT1lLmVuZFRpbWU/Yy5maW5kSW5kZXgoZS5lbmRUaW1lKTotMTooZj1wZShhLGIsYyksMD5mJiYoZj1jLmxlbmd0aCgpP2MubGVuZ3RoKCktMTotMSkpO2E9W107aWYoMDw9Zilmb3IoYj1mO2I8ZitkJiZiPGMubGVuZ3RoKCk7YisrKWEucHVzaChjLmdldChiKSk7cmV0dXJuIGF9CmZ1bmN0aW9uIGNlKGEpe2lmKCFhLmgmJm51bGwhPWEuRCl7YS5oPSEwO3ZhciBiPWEuYyxjPWEuRCxkPWMtYi5VOzAhPWQmJihiLmI9a2QoYi5iLGQpLGIuVT1jKTthLk8ucmVzb2x2ZShhLkQpfX1uLkVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaH07VS5wcm90b3R5cGUuaGFzU3RhcnRlZD1VLnByb3RvdHlwZS5FZDtVLnByb3RvdHlwZS5rYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLlR9O1UucHJvdG90eXBlLmhhc0hpdEJ1ZmZlcmluZ0dvYWw9VS5wcm90b3R5cGUua2I7VS5wcm90b3R5cGUubGE9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09PXRoaXMubT9udWxsOnRoaXMubS5nZXRFc3RpbWF0ZSgpfTtVLnByb3RvdHlwZS5nZXRCaXRyYXRlRXN0aW1hdGU9VS5wcm90b3R5cGUubGE7VS5wcm90b3R5cGUucWI9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09PXRoaXMuQT9udWxsOnRoaXMuQS5nZXRWZWxvY2l0eSgpfTtVLnByb3RvdHlwZS5nZXRCdWZmZXJWZWxvY2l0eT1VLnByb3RvdHlwZS5xYjsKZnVuY3Rpb24gb2UoYSxiLGMsZCl7dmFyIGU9Yi5taW1lVHlwZS5zcGxpdCgiLyIpWzBdO2I9eSh7dHlwZToiYWRhcHRhdGlvbiIsaWQ6Yi5pZCxidWJibGVzOiEwLGNvbnRlbnRUeXBlOmUsc2l6ZToidmlkZW8iIT1lP251bGw6e3dpZHRoOmIud2lkdGgsaGVpZ2h0OmIuaGVpZ2h0fSxiYW5kd2lkdGg6ZHx8Yi5iYW5kd2lkdGgscmVhc29uOmN9KTthLmRpc3BhdGNoRXZlbnQoYil9ZnVuY3Rpb24gcWUoYSl7dmFyIGI9eSh7dHlwZToic2hvdWxkX2VuZF9hbGxfc3RyZWFtcyJ9KTthLmRpc3BhdGNoRXZlbnQoYil9ZnVuY3Rpb24gV2QoYSl7dmFyIGI9eSh7dHlwZToiZW5kZWQifSk7YS5kaXNwYXRjaEV2ZW50KGIpfVUucHJvdG90eXBlLk9hPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuRn07VS5wcm90b3R5cGUuZ2V0VmlkZW9TdHJlYW1pbmdNYW5hZ2VyPVUucHJvdG90eXBlLk9hOwpmdW5jdGlvbiBWKGEsYil7VmQoYSk7IWImJmEuSGE/UHJvbWlzZS5yZXNvbHZlKCkudGhlbihhLnpjLmJpbmQoYSkpOmEudz1zZXRUaW1lb3V0KGEuemMuYmluZChhKSxiKX1mdW5jdGlvbiBWZChhKXtudWxsIT1hLncmJihjbGVhclRpbWVvdXQoYS53KSxhLnc9bnVsbCl9VS5wcm90b3R5cGUuc2I9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy55YX07VS5wcm90b3R5cGUuZ2I9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jLml9O1UucHJvdG90eXBlLmdldFN0cmVhbVByb2dyZXNzVHJhY2tlcj1VLnByb3RvdHlwZS5nYjtmdW5jdGlvbiByZShhLGIpe2EuSz1iO2EuVj0hMDthLkl8fChhLkk9bmV3IEkpO3JldHVybiBhLkl9O2Z1bmN0aW9uIHNlKGEpe3RoaXMuYj1hO3RoaXMuYT1udWxsfXNlLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5hJiYodGhpcy5hLmRlc3Ryb3koKSx0aGlzLmE9bnVsbCl9O3NlLnByb3RvdHlwZS5jcmVhdGU9ZnVuY3Rpb24oKXtpZih0aGlzLmEpcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLmEpO3ZhciBhPW5ldyBpZCgwLG51bGwsdGhpcy5iLDAsMCksYT1uZXcgVChbYV0sMSk7dGhpcy5hPW5ldyBSKGEpO3JldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5hKX07c2UucHJvdG90eXBlLmM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hfTtmdW5jdGlvbiB0ZShhLGIpe0YuY2FsbCh0aGlzLGEpO3RoaXMuYj1iO3RoaXMuaj0hMDt0aGlzLm09dGhpcy5nPW51bGw7dGhpcy5mPW5ldyBJO3RoaXMuYT1udWxsfXIodGUsRik7dGUucHJvdG90eXBlLnBhPWZ1bmN0aW9uKCl7fTt0ZS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuYSYmdGhpcy5iLnJlbW92ZUNoaWxkKHRoaXMuYSk7dGhpcy5mLmRlc3Ryb3koKTt0aGlzLkphPXRoaXMuYj10aGlzLmc9dGhpcy5tPXRoaXMuYT10aGlzLmY9bnVsbH07bj10ZS5wcm90b3R5cGU7bi5XYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmd9O24uRmI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tfTtuLktjPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZn07bi5mYj1mdW5jdGlvbigpe3JldHVybiEwfTtuLkNiPWZ1bmN0aW9uKCl7fTsKbi5qYj1mdW5jdGlvbihhKXthLk0uY3JlYXRlKCkudGhlbihKKHRoaXMsZnVuY3Rpb24oYil7aWYodGhpcy5iKXtpZigwPT1iLmxlbmd0aCgpKXJldHVybiBQcm9taXNlLnJlamVjdChFcnJvcigiTm8gc3VidGl0bGVzIFVSTCBhdmFpbGFibGUuIikpO3ZhciBjPXRoaXMuZzt0aGlzLmc9YTt0aGlzLm09YjtiPWIuZmlyc3QoKS51cmwuY1swXS50b1N0cmluZygpO3ZhciBkPXRoaXMuRGIoKTt0aGlzLmEmJih0aGlzLnZiKCExKSx0aGlzLmIucmVtb3ZlQ2hpbGQodGhpcy5hKSk7dGhpcy5hPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRyYWNrIik7dGhpcy5iLmFwcGVuZENoaWxkKHRoaXMuYSk7dGhpcy5hLnNyYz1iO3RoaXMudmIoZCk7Yj15KHt0eXBlOiJhZGFwdGF0aW9uIixidWJibGVzOiEwLGNvbnRlbnRUeXBlOiJ0ZXh0IixzaXplOm51bGwsYmFuZHdpZHRoOmEuYmFuZHdpZHRofSk7dGhpcy5kaXNwYXRjaEV2ZW50KGIpO2N8fHRoaXMuZi5yZXNvbHZlKDApfX0pKX07bi5DYz1mdW5jdGlvbigpe307Cm4uSGM9ZnVuY3Rpb24oKXt9O24uSWM9ZnVuY3Rpb24oKXtyZXR1cm4hMH07bi52Yj1mdW5jdGlvbihhKXt0aGlzLmo9YTt0aGlzLmEmJih0aGlzLmEudHJhY2subW9kZT1hPyJzaG93aW5nIjoiZGlzYWJsZWQiKX07bi5EYj1mdW5jdGlvbigpe3RoaXMuYSYmKHRoaXMuaj0ic2hvd2luZyI9PXRoaXMuYS50cmFjay5tb2RlKTtyZXR1cm4gdGhpcy5qfTtuLnNiPWZ1bmN0aW9uKCl7cmV0dXJuIDB9O24uSmM9ZnVuY3Rpb24oKXt9O2Z1bmN0aW9uIHVlKCl7fQp1ZS5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9bnVsbDt0cnl7dmFyIGY7dmFyIGc9bmV3IElhKGIpO2lmKDQ0MDc4Njg1MSE9S2EoZykuaWQpZj1udWxsO2Vsc2V7dmFyIGg9S2EoZyk7aWYoNDA4MTI1NTQzIT1oLmlkKWY9bnVsbDtlbHNle3ZhciBrPWguYS5ieXRlT2Zmc2V0LGw7dmFyIG09bmV3IElhKGguYSk7Zm9yKGI9bnVsbDtEYShtLmEpOyl7dmFyIHA9S2EobSk7aWYoMzU3MTQ5MDMwPT1wLmlkKXtiPXA7YnJlYWt9fWlmKGIpe2Zvcih2YXIgdD1uZXcgSWEoYi5hKSxwPTFFNixtPW51bGw7RGEodC5hKTspe3ZhciB3PUthKHQpO2lmKDI4MDc3Mjk9PXcuaWQpcD1PYSh3KTtlbHNlIGlmKDE3NTQ1PT13LmlkKWlmKGI9dyw0PT1iLmEuYnl0ZUxlbmd0aCltPWIuYS5nZXRGbG9hdDMyKDApO2Vsc2UgaWYoOD09Yi5hLmJ5dGVMZW5ndGgpbT1iLmEuZ2V0RmxvYXQ2NCgwKTtlbHNlIHRocm93IG5ldyBSYW5nZUVycm9yKCJFYm1sRWxlbWVudDogZmxvYXRpbmcgcG9pbnQgbnVtYmVycyBtdXN0IGJlIDQgb3IgOCBieXRlcy4iKTt9bnVsbD09Cm0/bD1udWxsOih0PXAvMUU5LGw9e0diOnQsZHVyYXRpb246bSp0fSl9ZWxzZSBsPW51bGw7Zj1sP3tBZDprLEdiOmwuR2IsZHVyYXRpb246bC5kdXJhdGlvbn06bnVsbH19aWYoZil7dmFyIHo9S2EobmV3IElhKGEpKTtpZig0NzUyNDk1MTUhPXouaWQpZT1udWxsO2Vsc2V7dmFyIEg9Zi5BZCxkYT1mLkdiLGVhPWYuZHVyYXRpb247YT1bXTtmb3IodmFyIEFhPW5ldyBJYSh6LmEpLGs9Zj16PS0xO0RhKEFhLmEpOyl7dmFyIGNiPUthKEFhKTtpZigxODc9PWNiLmlkKXt2YXIgbmE7dmFyIHZkPW5ldyBJYShjYi5hKSx3ZD1LYSh2ZCk7aWYoMTc5IT13ZC5pZCluYT1udWxsO2Vsc2V7dmFyIFllPU9hKHdkKSx4ZD1LYSh2ZCk7aWYoMTgzIT14ZC5pZCluYT1udWxsO2Vsc2V7dmFyIGVlPW5ldyBJYSh4ZC5hKTtmb3IobD0wO0RhKGVlLmEpOyl7dmFyIGZlPUthKGVlKTtpZigyNDE9PWZlLmlkKXtsPU9hKGZlKTticmVha319bmE9e3piOlllLHlkOmx9fX1pZihuYSl7dmFyIGdlPWRhKm5hLnpiLApoZT1IK25hLnlkO2lmKDA8PXope3ZhciBOYz1uZXcgSyhkLGMsayxoZS0xKSxBZj1uYS56Yi1mO2EucHVzaChuZXcgaWQoeixnZSxOYyxuYS56YixBZikpfXo9Z2U7Zj1uYS56YjtrPWhlfX19MDw9eiYmKE5jPW5ldyBLKGQsYyxrLG51bGwpLGEucHVzaChuZXcgaWQoeixlYSxOYyxmLGVhL2RhLWYpKSk7ZT1hfX1lbHNlIGU9bnVsbH1jYXRjaChpZSl7aWYoIShpZSBpbnN0YW5jZW9mIFJhbmdlRXJyb3IpKXRocm93IGllO31yZXR1cm4gZX07ZnVuY3Rpb24gdmUoYSxiLGMsZCxlLGYsZyxoLGssbCxtKXt0aGlzLmg9YTt0aGlzLm89Yjt0aGlzLmI9Yzt0aGlzLm09bHx8bnVsbDt0aGlzLmo9bXx8bnVsbDt0aGlzLmE9ZDt0aGlzLmc9ZTt0aGlzLmY9Zjt0aGlzLnc9Zzt0aGlzLlJhPW51bGw7dGhpcy5pPWg7dGhpcy5sPWt8fG51bGw7dGhpcy51PW51bGx9dmUucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmk9dGhpcy5vPXRoaXMuaD1udWxsO3RoaXMuYS5LYSgpO3RoaXMuYT1udWxsO3RoaXMuZiYmKHRoaXMuZi5LYSgpLHRoaXMuZj1udWxsKTt0aGlzLmcmJih0aGlzLmcuS2EoKSx0aGlzLmc9bnVsbCk7dGhpcy5SYT1udWxsfTt2ZS5wcm90b3R5cGUuUWM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5SYX07dmUucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbigpe3JldHVybiB3ZSh0aGlzKX07dmUucHJvdG90eXBlLnBiPWZ1bmN0aW9uKCl7cmV0dXJuIHdlKHRoaXMpfTsKZnVuY3Rpb24gd2UoYSl7aWYoYS5SYSlyZXR1cm4gYS5SYTt2YXIgYj1udWxsO2EubCYmKGI9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigiY3JlYXRlX2NvbnRhaW5lcl9zZWdtZW50X2luZGV4X3NvdXJjZSIpLnN0YXJ0KCkpO2lmKG51bGwhPT1hLm0mJihudWxsIT09YS5qfHwid2VibSIhPT1hLmIpKXJldHVybiB4ZShhLGEubSxhLmosYik7dmFyIGM9W2EuYS5mZXRjaChudWxsLG51bGwsYS5sLGIpXTsid2VibSI9PWEuYiYmYy5wdXNoKGEuZy5mZXRjaChudWxsLG51bGwsYS5sLGIpKTthLlJhPVByb21pc2UuYWxsKGMpLnRoZW4oSihhLGZ1bmN0aW9uKGEpe3JldHVybiB4ZSh0aGlzLGFbMF0sYVsxXXx8bnVsbCxiKX0pKTtyZXR1cm4gYS5SYX0KZnVuY3Rpb24geGUoYSxiLGMsZCl7dmFyIGU9bnVsbDsibXA0Ij09YS5iPyhlPW5ldyB0ZCxlPWUucGFyc2UobmV3IERhdGFWaWV3KGIpLGEuYS5zdGFydEJ5dGUsYS5hLmMsYS5pLGEuZikpOiJ3ZWJtIj09YS5iJiYoZT1uZXcgdWUsZT1lLnBhcnNlKG5ldyBEYXRhVmlldyhiKSxuZXcgRGF0YVZpZXcoYyksYS5hLmMsYS5pKSk7aWYoIWUpcmV0dXJuIGE9RXJyb3IoIkZhaWxlZCB0byBwYXJzZSBTZWdtZW50UmVmZXJlbmNlcyBmcm9tICIrYS5hLnRvU3RyaW5nKCkrIiAob3Igb25lIG9mIGl0cyBmYWxsYmFja3MpLiIpLGEudHlwZT0ic3RyZWFtIixQcm9taXNlLnJlamVjdChhKTtiPW5ldyBUKGUsZS5zKTt2YXIgZjsiZHluYW1pYyI9PWEuaC50eXBlP2Y9bmV3IFMoYixhLmgsYS5vLGEudyk6Zj1uZXcgUihiKTtkJiZkLmxvZygpO2EudT1mO3JldHVybiBQcm9taXNlLnJlc29sdmUoZil9dmUucHJvdG90eXBlLmM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51fTtmdW5jdGlvbiB5ZShhLGIsYyxkKXt0aGlzLmM9YTt0aGlzLmI9Yjt0aGlzLmw9Y3x8bnVsbDt0aGlzLmE9ZHx8bnVsbH0KZnVuY3Rpb24gemUoYSxiLGMpe2Zvcih2YXIgZD15YSgpLzFFMyxlPTA7ZTxiLmEubGVuZ3RoOysrZSlmb3IodmFyIGY9Yi5hW2VdLGc9MDtnPGYuYS5sZW5ndGg7KytnKXt2YXIgaD1mLmFbZ107aWYoInRleHQiIT1oLmNvbnRlbnRUeXBlKWZvcih2YXIgaz0wO2s8aC5hLmxlbmd0aDsrK2spe3ZhciBsPWguYVtrXSxtPTAsbT1tKyhsLmY/MTowKSxtPW0rKGwuYj8xOjApLG09bSsobC5hPzE6MCk7MD09bT8oaC5hLnNwbGljZShrLDEpLC0tayk6MSE9bSYmKGwuZj8obC5iPW51bGwsbC5hPW51bGwpOmwuYiYmKGwuYT1udWxsKSl9fUFlKGIpO2ZvcihlPTA7ZTxiLmEubGVuZ3RoOysrZSlmb3IoZj1iLmFbZV0sZz0wO2c8Zi5hLmxlbmd0aDsrK2cpe2s9aD1mLmFbZ107bD1udWxsO2ZvcihtPTA7bTxrLmEubGVuZ3RoOysrbSl7dmFyIHA9ay5hW21dLm1pbWVUeXBlfHwiIjtsP3AhPWwmJihrLmEuc3BsaWNlKG0sMSksLS1tKTpsPXB9MD09aC5hLmxlbmd0aCYmKGYuYS5zcGxpY2UoZywxKSwKLS1nKX1iLm1hbmlmZXN0SXNMaXZlU3RyZWFtaW5nJiZudWxsPT1iLmMmJihiLmM9ZCk7ZT1uZXcgVGQ7ImR5bmFtaWMiPT1iLnR5cGUmJihlLmI9ITAsZS5jPWIuZyxlLmk9bmV3IEsoYyxiLnV8fGIudXJsLHZvaWQgMCx2b2lkIDAsdm9pZCAwLGEuYSksZS5qPWIuYyk7ZS5CPWIuaHx8MDtlLm09Yi5pfHwwO2Uubz1iLmp8fDA7ZS5nPWIubXx8NTtmb3IoZj0wO2Y8Yi5hLmxlbmd0aDsrK2Ype2c9Yi5hW2ZdO2lmKG51bGw9PWcuc3RhcnQpYnJlYWs7Zz1CZShhLGIsZyxkLGMpO2UuYS5wdXNoKGcpfWUuZj1iLkZCSXNMaXZlVGVtcGxhdGVkO2EubCYmYS5sLnNldElzVGVtcGxhdGVkTWFuaWZlc3QoYi5GQklzTGl2ZVRlbXBsYXRlZCk7ZS5BPWIuRkJXYXNMaXZlO2E9bnVsbDtjPSJub25lIjtmb3IoZj0wO2Y8Yi5hLmxlbmd0aDtmKyspZm9yKGc9Yi5hW2ZdLGQ9MDtkPGcuYS5sZW5ndGg7ZCsrKWZvcihoPWcuYVtkXSxrPTA7azxoLmEubGVuZ3RoO2srKylsPWguYVtrXS5pLG51bGwhPQpsJiZudWxsIT1sLnZhbHVlJiYoYT1jPWwudmFsdWUsInVybjptcGVnOmRhc2g6MjMwMDM6MzphdWRpb19jaGFubmVsX2NvbmZpZ3VyYXRpb246MjAxMSI9PT1sLmEmJigiMSI9PT1hP2M9Im1vbm8iOiIyIj09PWEmJihjPSJzdGVyZW8iKSkpO2Uudz1jO2E9cGFyc2VJbnQoYSwxMCk7ZS51PTA8YT9hOm51bGw7cmV0dXJuIGV9CmZ1bmN0aW9uIEFlKGEpe2lmKGEuYS5sZW5ndGgpe251bGw9PWEuYVswXS5zdGFydCYmKGEuYVswXS5zdGFydD0wKTt2YXIgYj1mdW5jdGlvbihhKXtyZXR1cm4gMD09YXx8ISFhfTthLm1hbmlmZXN0SXNMaXZlU3RyZWFtaW5nJiYoYS5iPW51bGwpO2IoYS5iKSYmMT09YS5hLmxlbmd0aCYmIWIoYS5hWzBdLmR1cmF0aW9uKSYmKGEuYVswXS5kdXJhdGlvbj1hLmIpO2Zvcih2YXIgYz0wLGQ9ITAsZT0wO2U8YS5hLmxlbmd0aDsrK2Upe3ZhciBmPWEuYVtlLTFdLGc9YS5hW2VdLGg9YS5hW2UrMV18fHtzdGFydDphLmJ9OyFiKGcuc3RhcnQpJiZmJiZiKGYuc3RhcnQpJiZiKGYuZHVyYXRpb24pJiYoZy5zdGFydD1mLnN0YXJ0K2YuZHVyYXRpb24pOyFiKGcuZHVyYXRpb24pJiZiKGguc3RhcnQpJiYoZy5kdXJhdGlvbj1oLnN0YXJ0LWcuc3RhcnQpO251bGwhPWcuc3RhcnQmJm51bGwhPWcuZHVyYXRpb24/Yys9Zy5kdXJhdGlvbjpkPSExfWIoYS5iKXx8KGU9YS5hW2EuYS5sZW5ndGgtMV0sCmQ/YS5iPWM6YihlLnN0YXJ0KSYmYihlLmR1cmF0aW9uKT9hLmI9ZS5zdGFydCtlLmR1cmF0aW9uOmEubWFuaWZlc3RJc0xpdmVTdHJlYW1pbmd8fChhLmI9YykpfX0KZnVuY3Rpb24gQmUoYSxiLGMsZCxlKXt2YXIgZj1uZXcgU2Q7Zi5pZD1jLmlkO2Yuc3RhcnQ9Yy5zdGFydDtmLmR1cmF0aW9uPWMuZHVyYXRpb247dmFyIGc9bmV3IEQ7Yy5hLmZvckVhY2goZnVuY3Rpb24oYSl7Zy5wdXNoKGEuY29udGVudFR5cGV8fCIiLGEpfSk7Zm9yKHZhciBoPWFiKGcpLGs9MDtrPGgubGVuZ3RoOysrayl7dmFyIGw9bmV3IEQ7Zy5nZXQoaFtrXSkuZm9yRWFjaChmdW5jdGlvbihhKXtsLnB1c2goYS5ncm91cCxhKX0pO2Zvcih2YXIgbT1hYihsKSxwPTA7cDxtLmxlbmd0aDsrK3Ape3ZhciB0PW5ldyBEO2wuZ2V0KG1bcF0pLmZvckVhY2goZnVuY3Rpb24oYSl7dC5wdXNoKGEubGFuZyxhKX0pO2Zvcih2YXIgdz1hYih0KSx6PTA7ejx3Lmxlbmd0aDsrK3ope3ZhciBIPXQuZ2V0KHdbel0pLEg9Q2UoYSxiLGMsSCxkLGUpO2YuYS5wdXNoKEgpfX19cmV0dXJuIGZ9CmZ1bmN0aW9uIENlKGEsYixjLGQsZSxmKXtiYShkLmV2ZXJ5KGZ1bmN0aW9uKGEpe3JldHVybiBhLmdyb3VwPT1kWzBdLmdyb3VwJiYoYS5sYW5nfHwiIik9PShkWzBdLmxhbmd8fCIiKSYmKGEuY29udGVudFR5cGV8fCIiKT09KGRbMF0uY29udGVudFR5cGV8fCIiKX0pKTt2YXIgZz1uZXcgT2QsaD1kLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YS5pZH0pO2gubGVuZ3RoPT1kLmxlbmd0aCYmKGcuaWQ9aC5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuaWR9KS5zb3J0KCkucmVkdWNlKGZ1bmN0aW9uKGEsYil7cmV0dXJuIGErIiwiK2J9KSk7Zy5iPSEoIWRbMF0uYnx8InVybjpzY3RlOmRhc2g6Y2M6Y2VhLTYwODoyMDE1IiE9PWRbMF0uYi5hKTtnLmxhbmc9ZFswXS5sYW5nfHwiIjtnLmNvbnRlbnRUeXBlPWRbMF0uY29udGVudFR5cGV8fCIiO2cuZj1kLnNvbWUoZnVuY3Rpb24oYSl7cmV0dXJuIGEuZn0pO2Zvcih2YXIgaD17fSxrPTA7azxkLmxlbmd0aDsrK2spe3ZhciBsPQpkW2tdO2wuYyYmKGcuYz1sLmMpO2Zvcih2YXIgbT0wO208bC5hLmxlbmd0aDsrK20pe3ZhciBwPWwuYVttXSx0PURlKGEscCksdz1nLmEuc2xpY2UoMCk7RWUodCx3KTswPT13Lmxlbmd0aCYmMDxnLmEubGVuZ3RofHwhKHA9RmUoYSxiLGMscCxlLGYpKXx8KGcudi5wdXNoKHApLGcuYT13LGhbcC5YXT1sKX19aWYoZy5hLnNvbWUoZnVuY3Rpb24oYSl7cmV0dXJuIiI9PWEuYX0pKXJldHVybiBnLnYuZm9yRWFjaChmdW5jdGlvbihhKXthLm9hPSEwfSksZzthPUdlKGQpO2ZvcihrPTA7azxnLnYubGVuZ3RoOysraylwPWcudltrXSxsPWhbcC5YXSxsPT1hJiYocC5vYT0hMCk7cmV0dXJuIGd9CmZ1bmN0aW9uIEdlKGEpe2Zvcih2YXIgYj1udWxsLGM9bnVsbCxkPTA7ZDxhLmxlbmd0aDsrK2QpZm9yKHZhciBlPWFbZF0sZj0wO2Y8ZS5hLmxlbmd0aDsrK2Ype3ZhciBnPWUuYVtmXSxnPShnLndpZHRofHwxKSooZy5oZWlnaHR8fDEpKihnLmJhbmR3aWR0aHx8MSk7aWYobnVsbD09Ynx8ZzxiKWI9ZyxjPWV9cmV0dXJuIGN9ZnVuY3Rpb24gRWUoYSxiKXtpZigwPT1iLmxlbmd0aClBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShiLGEpO2Vsc2UgZm9yKHZhciBjPTA7YzxiLmxlbmd0aDsrK2Mpe2Zvcih2YXIgZD0hMSxlPTA7ZTxhLmxlbmd0aDsrK2Upe3ZhciBmPWJbY10sZz1hW2VdO2lmKGYuYT09Zy5hJiZmLmk9PWcuaSYmZi53aXRoQ3JlZGVudGlhbHM9PWcud2l0aENyZWRlbnRpYWxzJiZmLmg9PWcuaCYmZi5qPT1nLmomJmYuZz09Zy5nJiZmLm09PWcubSYmTWEoZi5jLGcuYykpe2Q9ITA7T2IoYltjXSxhW2VdLmIpO2JyZWFrfX1kfHwoYi5zcGxpY2UoYywxKSwtLWMpfX0KZnVuY3Rpb24gRGUoYSxiKXt2YXIgYz1bXTtpZigwPT1iLmMubGVuZ3RoKWMucHVzaChuZXcgTWIpO2Vsc2UgaWYoYS5iKWZvcih2YXIgZD0wO2Q8Yi5jLmxlbmd0aDsrK2QpYy5wdXNoLmFwcGx5KGMsSGUoYSxiLmNbZF0pKTtyZXR1cm4gY30KZnVuY3Rpb24gSGUoYSxiKXt2YXIgYz1bXTtpZigyIT1hLmIubGVuZ3RoKXJldHVybltdO3ZhciBkPWEuYihiLmZ8fCIiLGIuYyk7aWYoIShkJiZkIGluc3RhbmNlb2YgQXJyYXkpKXJldHVybltdO2Zvcih2YXIgZT0wO2U8ZC5sZW5ndGg7KytlKXt2YXIgZjt2YXIgZz1kW2VdO2Y9bmV3IE1iO2lmKGcpe3ZhciBoPVlhKGcsImtleVN5c3RlbSIpO2lmKG51bGwhPWgpZi5hPWg7ZWxzZSB0aHJvdyBFcnJvcigiJ2tleVN5c3RlbScgY2Fubm90IGJlIG51bGwuIik7dmFyIGs9WWEoZywibGljZW5zZVNlcnZlclVybCIpO2lmKG51bGwhPWspZi5pPWs7ZWxzZSBpZihoKXRocm93IEVycm9yKCJGb3IgZW5jcnlwdGVkIHN0cmVhbWluZyBjb250ZW50LCAnbGljZW5zZVNlcnZlclVybCcgY2Fubm90IGJlIG51bGwgb3IgZW1wdHkuIik7aD1CKGcsIndpdGhDcmVkZW50aWFscyIpO251bGwhPWgmJihmLndpdGhDcmVkZW50aWFscz1oKTtoPVphKGcsImxpY2Vuc2VQb3N0UHJvY2Vzc29yIixGdW5jdGlvbik7Cm51bGwhPWgmJihmLmY9aCk7aD1aYShnLCJsaWNlbnNlUHJlUHJvY2Vzc29yIixGdW5jdGlvbik7bnVsbCE9aCYmKGYubz1oKTtoPUIoZywiZGlzdGluY3RpdmVJZGVudGlmaWVyUmVxdWlyZWQiKTtudWxsIT1oJiYoZi5oPWgpO2g9QihnLCJwZXJzaXN0ZW50U3RhdGVSZXF1aXJlZCIpO251bGwhPWgmJihmLmo9aCk7aD1ZYShnLCJhdWRpb1JvYnVzdG5lc3MiKTtudWxsIT1oJiYoZi5nPWgpO2g9WWEoZywidmlkZW9Sb2J1c3RuZXNzIik7bnVsbCE9aCYmKGYubT1oKTtoPVphKGcsInNlcnZlckNlcnRpZmljYXRlIixVaW50OEFycmF5KTtudWxsIT1oJiYoZi5jPWgpO2lmKGg9WmEoZywiaW5pdERhdGEiLE9iamVjdCkpe2c9WmEoaCwiaW5pdERhdGEiLFVpbnQ4QXJyYXkpO2lmKG51bGw9PWcpdGhyb3cgRXJyb3IoIidpbml0RGF0YS5pbml0RGF0YScgY2Fubm90IGJlIG51bGwuIik7aD1ZYShoLCJpbml0RGF0YVR5cGUiKTtpZihudWxsPT1oKXRocm93IEVycm9yKCInaW5pdERhdGEuaW5pdERhdGFUeXBlJyBjYW5ub3QgYmUgbnVsbC4iKTsKZi5iLnB1c2goe2luaXREYXRhOm5ldyBVaW50OEFycmF5KGcuYnVmZmVyKSxpbml0RGF0YVR5cGU6aH0pfX0wPT1mLmIubGVuZ3RoJiZiLmEmJmIuYS5wc3NoQm94JiZPYihmLFt7aW5pdERhdGE6Yi5hLnBzc2hCb3gsaW5pdERhdGFUeXBlOiJjZW5jIn1dKTtjLnB1c2goZil9cmV0dXJuIGN9CmZ1bmN0aW9uIEZlKGEsYixjLGQsZSxmKXtpZighZC5iYXNlVXJsfHwwPT09ZC5iYXNlVXJsLmxlbmd0aClyZXR1cm4gbnVsbDt2YXIgZz1udWxsLGg9MSxrPTA7aWYoZC5mKXtnPWQubWltZVR5cGUuc3BsaXQoIi8iKVsxXTtpZigibXA0IiE9ZyYmIndlYm0iIT1nKWc9bnVsbDtlbHNle3ZhciBsPWQuZjtpZigid2VibSIhPWd8fGwuYylpZihsLmF8fGwuYiYmbC5iLmEpe2g9bC5iO2h8fChoPW5ldyB3YyxoLnVybD1kLmJhc2VVcmwsaC5hPWwuYT9sLmEuY2xvbmUoKTpudWxsKTtrPUllKGEsaCxmKTtoPWwuYz9JZShhLGwuYyxmKTpudWxsO2wuZj8obD1sLmYsbD1uZXcgSyhmLGQuYmFzZVVybCxsLnFhLGwuZW5kLHZvaWQgMCxhLmEpKTpsPW51bGw7dmFyIG09bCxwPVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgiYWRkX2lubGluZV9pbml0aWFsaXphdGlvbl9yZXNvdXJjZXMiLCExKSYmZC5oJiZkLmguZGF0YT9kLmguZGF0YTpudWxsLGw9VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJhZGRfaW5saW5lX2luaXRpYWxpemF0aW9uX3Jlc291cmNlcyIsCiExKSYmZC5nJiZkLmcuZGF0YT9kLmcuZGF0YTpudWxsO2E9bmV3IHZlKGIsYyxnLGssaCxtLGUsZixhLmwscCxsKTtiPW5ldyBnZChoLGwpO2M9bmV3IEtkO2MuTT1hO2MuYWE9YjtnPWN9ZWxzZSBnPW51bGw7ZWxzZSBnPW51bGx9aD1kLmYucztrPWQuZi5MfWVsc2UgaWYoZC5iKWc9ZC5iLCFnLkgmJiFnLkMmJjE8Zy5hLmxlbmd0aD9nPW51bGw6Zy5IfHxjLmR1cmF0aW9ufHxnLkN8fDEhPWcuYS5sZW5ndGg/Zy5DJiYwPT09Zy5DLk4ubGVuZ3RoP2c9bnVsbDooZz1nLmI/SWUoYSxnLmIsZik6bnVsbCxhPW5ldyBGZChiLGMsZCxlLGYsYS5hKSxiPW5ldyBnZChnKSxjPW5ldyBLZCxjLk09YSxjLmFhPWIsZz1jKTpnPW51bGwsaD1kLmIucyxrPWQuYi5MO2Vsc2UgaWYoZC5hKXthOmlmKGc9ZC5hLGg9MCsoZy5hPzE6MCksaCs9Zy5DPzE6MCxoKz1nLkg/MTowLDA9PWg/aD0hMTooMSE9aCYmKGcuYT8oZy5DPW51bGwsZy5IPW51bGwpOmcuQyYmKGcuSD1udWxsKSksaD0hMCksaCl7aD0KbnVsbDtpZihnLmMmJihoPShnPWQuYS5jKT9KZShkLGcseGMpOm51bGwsIWgpKXtnPW51bGw7YnJlYWsgYX1nPWg/SWUoYSxoLGYpOm51bGw7aD1kLmE7aC5hPyhoPWQubWltZVR5cGUuc3BsaXQoIi8iKVsxXSwibXA0IiE9aCYmIndlYm0iIT1oP2E9bnVsbDoid2VibSIhPWh8fGc/bWQoZixkLDEsMCx2b2lkIDAsYS5hKT8oaz0oaz1kLmEuYSk/SmUoZCxrLHdjKTpudWxsKT8oaz1JZShhLGssZiksYT1uZXcgdmUoYixjLGgsayxnLG51bGwsZSxmLGEubCkpOmE9bnVsbDphPW51bGw6YT1udWxsKTphPWguZj9oLkM/bmV3IEpkKGEuYyxiLGMsZCxlLGYsMCxhLmEpOmguSD9iLm1hbmlmZXN0SXNMaXZlU3RyZWFtaW5nfHxudWxsIT1jLmR1cmF0aW9uP25ldyBFZChiLGMsZCxlLGYpOm51bGw6bnVsbDpudWxsO2E/KGI9bmV3IGdkKGcpLGM9bmV3IEtkLGMuTT1hLGMuYWE9YixnPWMpOmc9bnVsbH1lbHNlIGc9bnVsbDtoPWQuYS5zO2s9ZC5hLkx9ZWxzZSJ0ZXh0Ij09ZC5taW1lVHlwZS5zcGxpdCgiLyIpWzBdJiYKKGc9bmV3IEtkLGcuTT1uZXcgc2UobmV3IEsoZixkLmJhc2VVcmwpKSk7aWYoIWcpcmV0dXJuIG51bGw7Zy5pZD1kLmlkO2smJihnLmE9LTEqay9oKTtnLmJhbmR3aWR0aD1kLmJhbmR3aWR0aDtnLndpZHRoPWQud2lkdGg7Zy5oZWlnaHQ9ZC5oZWlnaHQ7Zy5taW1lVHlwZT1kLm1pbWVUeXBlfHwiIjtnLmNvZGVjcz1kLmNvZGVjc3x8IiI7Zy5nPWQub3x8bnVsbDtnLmg9ZC51fHxudWxsO2cuZmJRdWFsaXR5TGFiZWw9ZC5mYlF1YWxpdHlMYWJlbHx8bnVsbDtnLmZiUXVhbGl0eUNsYXNzPWQuZmJRdWFsaXR5Q2xhc3N8fG51bGw7Zy5mPWQubXx8bnVsbDtnLmZyYW1lUmF0ZT1kLmZyYW1lUmF0ZXx8IiI7Zy5jPWQuanx8bnVsbDtmb3IoYT0wO2E8ZC5jLmxlbmd0aDsrK2EpYj1kLmNbYV0sYi5iJiZnLmIucHVzaChiLmIpO3JldHVybiBnfQpmdW5jdGlvbiBKZShhLGIsYyl7Yj1uZChiLGEuaWQsbnVsbCxhLmJhbmR3aWR0aCxudWxsKTtpZighYilyZXR1cm4gbnVsbDtjPW5ldyBjO2MudXJsPVpjKGEuYmFzZVVybCxiKTtyZXR1cm4gY31mdW5jdGlvbiBJZShhLGIsYyl7dmFyIGQ9Yi51cmwsZT0wLGY9bnVsbDtiLmEmJihlPWIuYS5xYSxmPWIuYS5lbmQpO3JldHVybiBuZXcgSyhjLGQsZSxmLHZvaWQgMCxhLmEpfTtmdW5jdGlvbiBLZShhLGIsYyxkLGUsZixnKXt0aGlzLmI9bmV3IEsobnVsbCxbbmV3IEwoYSldKTt0aGlzLmw9ZTt0aGlzLmY9Yjt0aGlzLmM9MTt0aGlzLmc9YTt0aGlzLmE9bmV3IHRiO3RoaXMuYS5ib2R5PWI7dGhpcy5hLm1ldGhvZD1jO3RoaXMuYS5OYT0zO3RoaXMuYS53aXRoQ3JlZGVudGlhbHM9ZDt0aGlzLmEuYj0xRTMqKG51bGwhPWc/ZzpoYSk7YT1mfHx7fTtmb3IodmFyIGggaW4gYSl0aGlzLmEuUWFbaF09YVtoXX0KZnVuY3Rpb24gTGUoYSl7cmV0dXJuIGEuYi5mZXRjaChhLmEpLnRoZW4oZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYi51JiYwPHRoaXMuYz8odGhpcy5jLS0sbnVsbCE9PXRoaXMubCYmbnVsbCE9PXRoaXMuYi5pJiZ0aGlzLmwuc2V0UmVhc29uKCJSZWRpcmVjdGVkIHRvIFVSTDogIit0aGlzLmIuaS50b1N0cmluZygpKSx0aGlzLmI9bmV3IEsobnVsbCxbbmV3IEwodGhpcy5nKV0pLHRoaXMuYS5ib2R5PXRoaXMuZixMZSh0aGlzKSk6UHJvbWlzZS5yZXNvbHZlKG5ldyBVaW50OEFycmF5KGEpKX0uYmluZChhKSl9O2Z1bmN0aW9uIE1lKGEsYixjLGQpe0YuY2FsbCh0aGlzLGEpO3RoaXMuYz1iO3RoaXMuaj1jO3RoaXMuYT10aGlzLmg9bnVsbDt0aGlzLmk9bmV3IGJiO3RoaXMuYj1bXTt0aGlzLmY9W107dGhpcy5tPTA7dGhpcy5nPW5ldyBJO3RoaXMubz1udWxsO3RoaXMuQT1oYTt0aGlzLmw9ZH1yKE1lLEYpO01lLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5KYT1udWxsO2Zvcih2YXIgYT0wO2E8dGhpcy5mLmxlbmd0aDsrK2EpdGhpcy5mW2FdLmNsb3NlKCkuY2F0Y2goZnVuY3Rpb24oKXt9KTt0aGlzLmY9W107dGhpcy5iPXRoaXMuYT10aGlzLmg9bnVsbDt0aGlzLmcuZGVzdHJveSgpO3RoaXMuZz1udWxsO3RoaXMuaS5kZXN0cm95KCk7dGhpcy5pPW51bGw7dGhpcy5vJiYoY2xlYXJUaW1lb3V0KHRoaXMubyksdGhpcy5vPW51bGwpO3RoaXMuYz10aGlzLmo9bnVsbH07Ck1lLnByb3RvdHlwZS5pbml0aWFsaXplPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPW5ldyBELGI9TmUodGhpcy5qKSxjPTA7YzxiLmxlbmd0aDsrK2Mpe3ZhciBkPWJbY107ZC5hLmF8fGQuYiYmIU9lKGQuYil8fGEucHVzaChkLmNvbnRlbnRUeXBlLGQpfWZvcih2YXIgYz17fSxkPSExLGU9MDtlPGIubGVuZ3RoOysrZSl7dmFyIGY9YltlXTtpZihmLmEuYSYmIWEuYS5oYXNPd25Qcm9wZXJ0eShmLmNvbnRlbnRUeXBlKSl7dmFyIGc9Zi5hLmEsaD1jW2ddO2h8fChoPWYuYSxoPXthdWRpb0NhcGFiaWxpdGllczp2b2lkIDAsdmlkZW9DYXBhYmlsaXRpZXM6dm9pZCAwLGluaXREYXRhVHlwZXM6dm9pZCAwLGRpc3RpbmN0aXZlSWRlbnRpZmllcjpoLmg/InJlcXVpcmVkIjoib3B0aW9uYWwiLHBlcnNpc3RlbnRTdGF0ZTpoLmo/InJlcXVpcmVkIjoib3B0aW9uYWwiLHNlc3Npb25UeXBlczpbInRlbXBvcmFyeSJdfSxjW2ddPWgpO2lmKGYuYiYmKGc9Zi5jb250ZW50VHlwZSsiQ2FwYWJpbGl0aWVzIiwKZyBpbiBoKSl7ZD0hMDtoW2ddfHwoaFtnXT1bXSk7dmFyIGs7ImF1ZGlvIj09Zi5jb250ZW50VHlwZT9rPWYuYS5nOiJ2aWRlbyI9PWYuY29udGVudFR5cGUmJihrPWYuYS5tKTtoW2ddLnB1c2goe2NvbnRlbnRUeXBlOmYuYixyb2J1c3RuZXNzOmt9KX19fWlmKCFkKWlmKGIubGVuZ3RoKXRoaXMuYT1iWzBdLmE7ZWxzZSB0aHJvdyBhPUVycm9yKCJObyBEcm1JbmZvIGV4aXN0cyEiKSxhLnR5cGU9ImRybSIsYTtpZigwPT1PYmplY3Qua2V5cyhjKS5sZW5ndGgpcmV0dXJuIFBlKHRoaXMuaixhKSx0aGlzLmcucmVzb2x2ZSgpLFByb21pc2UucmVzb2x2ZSgpO2s9bmV3IEk7Yz1RZShjLGspO2M9Yy50aGVuKHRoaXMudy5iaW5kKHRoaXMsYixhKSk7ay5yZWplY3QobnVsbCk7dGhpcy5sJiZ0aGlzLmwuZ2V0RXZlbnRMb2dnZXIoImVtZV9pbml0IikubG9nKCk7cmV0dXJuIGN9OwpmdW5jdGlvbiBRZShhLGIpe2Zvcih2YXIgYyBpbiBhKWI9Yi5jYXRjaChmdW5jdGlvbihhLGIpe3JldHVybiBuYXZpZ2F0b3IucmVxdWVzdE1lZGlhS2V5U3lzdGVtQWNjZXNzKGEsW2JdKX0uYmluZChudWxsLGMsYVtjXSkpO3JldHVybiBifQpNZS5wcm90b3R5cGUudz1mdW5jdGlvbihhLGIsYyl7aWYoIXRoaXMuYylyZXR1cm4gUmUoKTtmb3IodmFyIGQ9Yy5rZXlTeXN0ZW0sZT1jLmdldENvbmZpZ3VyYXRpb24oKSxmPVsiYXVkaW8iLCJ2aWRlbyJdLGc9MDtnPGYubGVuZ3RoOysrZyl7dmFyIGg9ZltnXTtpZighYi5hLmhhc093blByb3BlcnR5KGgpKXt2YXIgaz1lW2grIkNhcGFiaWxpdGllcyJdO2lmKGspe2Zvcih2YXIgaz1rWzBdLGw9W10sbT17fSxwPTA7cDxhLmxlbmd0aDsrK3Ape3ZhciB0PWFbcF0sdz1rP3QuYj09ay5jb250ZW50VHlwZTp0LmNvbnRlbnRUeXBlPT1oO3QuYS5hIT1kfHwhd3x8dC5pZCBpbiBtfHwobC5wdXNoKHQpLG1bdC5pZF09ITAsdGhpcy5hPXRoaXMuYT9OYih0aGlzLmEsdC5hKTp0LmEpfWIuc2V0KGgsbCl9fX1QZSh0aGlzLmosYik7aWYodGhpcy5jLm1lZGlhS2V5cyl0aGlzLmg9dGhpcy5jLm1lZGlhS2V5cztlbHNlIHJldHVybiBjLmNyZWF0ZU1lZGlhS2V5cygpLnRoZW4oZnVuY3Rpb24oYSl7dGhpcy5oPQphfS5iaW5kKHRoaXMpKX07ZnVuY3Rpb24gU2UoYSl7cmV0dXJuIGEuYz9hLmg/YS5jLnNldE1lZGlhS2V5cyhhLmgpLnRoZW4oSihhLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYz90aGlzLmEuYz90aGlzLmguc2V0U2VydmVyQ2VydGlmaWNhdGUodGhpcy5hLmMpOlByb21pc2UucmVzb2x2ZSgpOlJlKCl9KSkudGhlbihKKGEsZnVuY3Rpb24oKXtpZighdGhpcy5jKXJldHVybiBSZSgpO2Zvcih2YXIgYT0wO2E8dGhpcy5hLmIubGVuZ3RoOysrYSl7dmFyIGM9dGhpcy5hLmJbYV07dGhpcy51KHt0eXBlOiJlbmNyeXB0ZWQiLGluaXREYXRhVHlwZTpjLmluaXREYXRhVHlwZSxpbml0RGF0YTpjLmluaXREYXRhfSl9MD09dGhpcy5hLmIubGVuZ3RoJiZFKHRoaXMuaSx0aGlzLmMsImVuY3J5cHRlZCIsdGhpcy51LmJpbmQodGhpcykpfSkpOlByb21pc2UucmVzb2x2ZSgpOlJlKCl9CmZ1bmN0aW9uIFJlKCl7dmFyIGE9RXJyb3IoIkVtZU1hbmFnZXIgZGVzdHJveWVkIik7YS50eXBlPSJkZXN0cm95IjtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYSl9Ck1lLnByb3RvdHlwZS51PWZ1bmN0aW9uKGEpe3ZhciBiPW5ldyBVaW50OEFycmF5KGEuaW5pdERhdGEpO3RoaXMubCYmdGhpcy5sLmdldEV2ZW50TG9nZ2VyKCJlbmNyeXB0ZWRfc2FtcGxlIikubG9nKCk7Zm9yKHZhciBjPTA7Yzx0aGlzLmIubGVuZ3RoOysrYylpZihNYShiLHRoaXMuYltjXS5kYXRhKSlyZXR1cm47dHJ5e3ZhciBkPVRlKHRoaXMpfWNhdGNoKGUpe2I9QShlKTt0aGlzLmRpc3BhdGNoRXZlbnQoYik7dGhpcy5sJiZ0aGlzLmwuZ2V0RXZlbnRMb2dnZXIoImVtZV9lcnJvciIpLnNldEVycm9yKGUpLmxvZygpO3RoaXMuZy5yZWplY3QoZSk7cmV0dXJufWE9ZC5nZW5lcmF0ZVJlcXVlc3QoYS5pbml0RGF0YVR5cGUsYS5pbml0RGF0YSk7dGhpcy5iLnB1c2goe2RhdGE6Yix1YjpkfSk7YS5jYXRjaChKKHRoaXMsZnVuY3Rpb24oYSl7aWYodGhpcy5jKXtmb3IodmFyIGI9MDtiPHRoaXMuYi5sZW5ndGg7KytiKWlmKHRoaXMuYltiXS51Yj09ZCl7dGhpcy5iLnNwbGljZShiLAoxKTticmVha31iPUEoYSk7dGhpcy5kaXNwYXRjaEV2ZW50KGIpO3RoaXMubCYmdGhpcy5sLmdldEV2ZW50TG9nZ2VyKCJlbWVfZXJyb3IiKS5zZXRFcnJvcihhKS5sb2coKTt0aGlzLmcucmVqZWN0KGEpfX0pKTt0aGlzLmYucHVzaChkKX07ZnVuY3Rpb24gVWUoYSl7Zm9yKHZhciBiPVtdLGM9MDtjPGIubGVuZ3RoOysrYyl7dmFyIGQ9VGUoYSksZT1kLmxvYWQoYltjXSk7YS5mLnB1c2goZCk7ZS50aGVuKEooYSxmdW5jdGlvbigpe3RoaXMubSsrO3RoaXMubT49dGhpcy5mLmxlbmd0aCYmdGhpcy5nLnJlc29sdmUoKX0pKS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7dmFyIGI9QShhKTt0aGlzLmRpc3BhdGNoRXZlbnQoYik7dGhpcy5sJiZ0aGlzLmwuZ2V0RXZlbnRMb2dnZXIoImVtZV9lcnJvciIpLnNldEVycm9yKGEpLmxvZygpfSkpfX0KZnVuY3Rpb24gVGUoYSl7dmFyIGI9bnVsbCxiPWEuaC5jcmVhdGVTZXNzaW9uKCk7RShhLmksYiwibWVzc2FnZSIsYS5ELmJpbmQoYSkpO0UoYS5pLGIsImtleXN0YXR1c2VzY2hhbmdlIixhLkIuYmluZChhKSk7cmV0dXJuIGJ9TWUucHJvdG90eXBlLkQ9ZnVuY3Rpb24oYSl7VmUodGhpcyxhLnRhcmdldCx0aGlzLmEsYS5tZXNzYWdlKX07Ck1lLnByb3RvdHlwZS5CPWZ1bmN0aW9uKGEpe2E9YS50YXJnZXQ7dmFyIGI9e307YS5rZXlTdGF0dXNlcy5mb3JFYWNoKGZ1bmN0aW9uKGEsYyl7aWYoInN0cmluZyI9PT10eXBlb2YgYSl7dmFyIGY9YTthPWM7Yz1mfWlmKCJjb20ubWljcm9zb2Z0LnBsYXlyZWFkeSI9PXRoaXMuYS5hJiYxNj09YS5ieXRlTGVuZ3RoKXt2YXIgZj1uZXcgRGF0YVZpZXcoYSksZz1mLmdldFVpbnQzMigwLCEwKSxoPWYuZ2V0VWludDE2KDQsITApLGs9Zi5nZXRVaW50MTYoNiwhMCk7Zi5zZXRVaW50MzIoMCxnLCExKTtmLnNldFVpbnQxNig0LGgsITEpO2Yuc2V0VWludDE2KDYsaywhMSl9Zj1MYihuZXcgVWludDhBcnJheShhKSk7YltmXT1jfS5iaW5kKHRoaXMpKTtpZihhLmV4cGlyYXRpb248RGF0ZS5ub3coKSl7Zm9yKHZhciBjPTA7Yzx0aGlzLmIubGVuZ3RoOysrYylpZih0aGlzLmJbY10udWI9PWEpe3RoaXMuYi5zcGxpY2UoYywxKTticmVha31hLmNsb3NlKCk7dGhpcy5mLnNwbGljZSh0aGlzLmYuaW5kZXhPZihhKSwKMSl9dGhpcy5sJiZ0aGlzLmwuZ2V0RXZlbnRMb2dnZXIoImVtZV9rZXlfc3RhdHVzX2NoYW5nZSIpLmxvZygpO1dlKHRoaXMuaixiKX07CmZ1bmN0aW9uIFZlKGEsYixjLGQpe2Q9WGUoYyxkKTt2YXIgZT1udWxsO2EubCYmKGU9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigibGljZW5zZV9yZXF1ZXN0Iikuc3RhcnQoKSk7TGUobmV3IEtlKGQudXJsLGQuYm9keSxkLm1ldGhvZCxjLndpdGhDcmVkZW50aWFscyxlLGQuaGVhZGVycyxhLkEpKS50aGVuKEooYSxmdW5jdGlvbihhKXtlJiYoZS5zZXRSZXN1bHQoInN1Y2Nlc3MiKSxlLmxvZygpKTtjLmYmJihhPWMuZihhKSk7ZT1udWxsO3RoaXMubCYmKGU9dGhpcy5sLmdldE9wZXJhdGlvbkxvZ2dlcigiZW1lX3Bvc3RfbGljZW5zZV9zZXNzaW9uX3VwZGF0ZSIpLnN0YXJ0KCkpO251bGw9PT1hfHx2b2lkIDA9PT1hfHwwPT09YS5ieXRlTGVuZ3RoP251bGwhPT1lJiYoZS5zZXRFcnJvcigiZW1wdHkgbGljZW5zZSIpLGUuc2V0UmVzdWx0KCJmYWlsZWQiKS5sb2coKSk6Yi51cGRhdGUoYSkudGhlbihKKHRoaXMsZnVuY3Rpb24oKXtlJiYoZS5zZXRSZXN1bHQoInN1Y2Nlc3MiKSxlLmxvZygpKTsKdmFyIGE9eSh7dHlwZToic2Vzc2lvblJlYWR5IixkZXRhaWw6Yn0pO3RoaXMuZGlzcGF0Y2hFdmVudChhKTt0aGlzLm0rKzt0aGlzLm0+PXRoaXMuZi5sZW5ndGgmJnRoaXMuZy5yZXNvbHZlKCl9KSkuY2F0Y2goSih0aGlzLGZ1bmN0aW9uKGEpe2EudWI9Yjt2YXIgYz1BKGEpO2UmJihlLnNldFJlc3VsdCgiZmFpbGVkIiksZS5zZXRFcnJvcihhKS5sb2coKSk7dGhpcy5kaXNwYXRjaEV2ZW50KGMpfSkpfSkpLmNhdGNoKEooYSxmdW5jdGlvbihhKXtpZihjLmYpe3ZhciBkPUpTT04uc3RyaW5naWZ5KHtkYXRhOlt7ZXJyb3I6YX1dfSksZD1uZXcgVWludDhBcnJheShkLnNwbGl0KCIiKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuY2hhckNvZGVBdCgwKX0pKTtjLmYoZCl9YS51Yj1iO2Q9QShhKTtlJiZlLnNldEVycm9yKGEpLmxvZygpO3RoaXMuZGlzcGF0Y2hFdmVudChkKX0pKX0KZnVuY3Rpb24gWGUoYSxiKXt2YXIgYz17dXJsOmEuaSxib2R5OmIuc2xpY2UoMCksbWV0aG9kOiJQT1NUIixoZWFkZXJzOnt9LGtleV9zeXN0ZW06YS5hfTtpZigiY29tLm1pY3Jvc29mdC5wbGF5cmVhZHkiPT09YS5hKXtmb3IodmFyIGQ9U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLG5ldyBVaW50MTZBcnJheShjLmJvZHkpKSxkPShuZXcgRE9NUGFyc2VyKS5wYXJzZUZyb21TdHJpbmcoZCwiYXBwbGljYXRpb24veG1sIiksZT1kLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJuYW1lIiksZj1kLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJ2YWx1ZSIpLGc9MDtnPGUubGVuZ3RoO2crKyljLmhlYWRlcnNbZVtnXS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZV09ZltnXS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZTtjLmJvZHk9d2luZG93LmF0b2IoZC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiQ2hhbGxlbmdlIilbMF0uY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUpfWlmKCFhLm8pcmV0dXJuIGM7CmEubyhjKTtjLnVybD1ZYShjLCJ1cmwiKTtpZihudWxsPT1jLnVybCl0aHJvdyBFcnJvcigiJ3VybCcgY2Fubm90IGJlIG51bGwuIik7aWYoIShjLmJvZHkgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcnx8InN0cmluZyI9PT10eXBlb2YgYy5ib2R5fHxudWxsPT1jLmJvZHkpKXRocm93IG5ldyBUeXBlRXJyb3IoIidib2R5JyBtdXN0IGJlIGFuIEFycmF5QnVmZmVyLCBhIHN0cmluZywgb3IgbnVsbC4iKTtjLm1ldGhvZD1ZYShjLCJtZXRob2QiKTtpZigiR0VUIiE9Yy5tZXRob2QmJiJQT1NUIiE9Yy5tZXRob2QpdGhyb3cgRXJyb3IoIidtZXRob2QnIG11c3QgYmUgZWl0aGVyICdHRVQnIG9yICdQT1NUJy4iKTtjLmhlYWRlcnM9WmEoYywiaGVhZGVycyIsT2JqZWN0KTtpZihudWxsPT1jLmhlYWRlcnMpdGhyb3cgRXJyb3IoIidoZWFkZXJzJyBjYW5ub3QgYmUgbnVsbC4iKTtyZXR1cm4gY307ZnVuY3Rpb24gVyhhLGIsYyxkLGUsZixnKXtGLmNhbGwodGhpcyxudWxsKTt0aGlzLmI9YTt0aGlzLmY9Yjt0aGlzLmE9bnVsbDt0aGlzLmc9bmV3IGJiO3RoaXMubT10aGlzLmk9bnVsbDt0aGlzLkY9MDt0aGlzLlM9dGhpcy5aPXRoaXMuJD1udWxsO3RoaXMuYmE9Zzt0aGlzLko9bnVsbDt0aGlzLk89dGhpcy5oPSExO3RoaXMuVj10aGlzLlk9ITA7dGhpcy5LPSExO3RoaXMuYz17ZW5hYmxlQWRhcHRhdGlvbjohMCxzdHJlYW1CdWZmZXJTaXplOjE1LGxpdmVTdHJlYW1FbmRUaW1lb3V0OjE1LGxpY2Vuc2VSZXF1ZXN0VGltZW91dDpoYSxtcGRSZXF1ZXN0VGltZW91dDppYSxzZWdtZW50UmVxdWVzdFRpbWVvdXQ6amEscHJlZmVycmVkTGFuZ3VhZ2U6ImVuIixyZXN0cmljdGlvbnM6bmV3IGthfTt0aGlzLmw9Yzt0aGlzLkc9ZDt0aGlzLmNhPWU7dGhpcy5nYT1mO3RoaXMubz1udWxsO3RoaXMuaj0xO3RoaXMuVD1udWxsO3RoaXMudT10aGlzLkE9dGhpcy53PSExO3RoaXMuUj10aGlzLkI9Cm51bGx9cihXLEYpO3EoInNoYWthLnBsYXllci5QbGF5ZXIiLFcpO1cudmVyc2lvbj0idjEuNi40LWZiIjtXLmlzQnJvd3NlclN1cHBvcnRlZD1mdW5jdGlvbigpe3JldHVybiEhd2luZG93Lk1lZGlhU291cmNlJiYhIXdpbmRvdy5VaW50OEFycmF5fTsKVy5wcm90b3R5cGUuQmE9ZnVuY3Rpb24oKXt2YXIgYT17fSxiPXRoaXMuYTtpZihiKXt2YXIgYz1iLlhiKCk7YS5CYW5kd2lkdGhFc3RpbWF0b3I9Yy5CYW5kd2lkdGhFc3RpbWF0b3I7dmFyIGQ9Yy5WaWRlb1NvdXJjZVN0cmVhbTtkJiYoYS5WaWRlb1NvdXJjZVN0cmVhbT1kLChkPWEuVmlkZW9CdWZmZXJNYW5hZ2VyPWQuQmEoKS5Tb3VyY2VCdWZmZXJNYW5hZ2VyKSYmKGEuVmlkZW9Tb3VyY2VCdWZmZXI9ZC5CYSgpLlNvdXJjZUJ1ZmZlcikpOyhkPWEuQXVkaW9Tb3VyY2VTdHJlYW09Yy5BdWRpb1NvdXJjZVN0cmVhbSkmJihkPWEuQXVkaW9CdWZmZXJNYW5hZ2VyPWQuQmEoKS5Tb3VyY2VCdWZmZXJNYW5hZ2VyKSYmKGEuQXVkaW9Tb3VyY2VCdWZmZXI9ZC5CYSgpLlNvdXJjZUJ1ZmZlcik7YS5UZXh0U291cmNlU3RyZWFtPWMuVGV4dFNvdXJjZVN0cmVhbTthLmdldE1hbmlmZXN0PWIuVGIuYmluZChiKX1lbHNlIGEuZ2V0TWFuaWZlc3Q9ZnVuY3Rpb24oKXt9O2EuTmQ9ITA7cmV0dXJuIGF9OwpXLnByb3RvdHlwZS5nZXREZWJ1Zz1XLnByb3RvdHlwZS5CYTtXLnByb3RvdHlwZS5zYT1mdW5jdGlvbihhKXt0aGlzLlk9YX07Vy5wcm90b3R5cGUuc2V0UmVzdW1lQWZ0ZXJCdWZmZXJpbmc9Vy5wcm90b3R5cGUuc2E7ZnVuY3Rpb24gT2UoYSl7cmV0dXJuInRleHQvdnR0Ij09YT8hIXdpbmRvdy5WVFRDdWU6TWVkaWFTb3VyY2UuaXNUeXBlU3VwcG9ydGVkKGEpfVcuaXNUeXBlU3VwcG9ydGVkPU9lO1cuc2V0VGV4dFN0eWxlPWZ1bmN0aW9uKGEpe3ZhciBiPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJTaGFrYVBsYXllclRleHRTdHlsZSIpO2J8fChiPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInN0eWxlIiksYi5pZD0iU2hha2FQbGF5ZXJUZXh0U3R5bGUiLGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoYikpO2ZvcihiPWIuc2hlZXQ7Yi5jc3NSdWxlcy5sZW5ndGg7KWIuZGVsZXRlUnVsZSgwKTtiLmluc2VydFJ1bGUoIjo6Y3VlIHsgIityYShhKSsiIH0iLDApfTsKVy5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3JldHVybiB0aGlzLlUoKS50aGVuKEoodGhpcyxmdW5jdGlvbigpe3RoaXMuZy5kZXN0cm95KCk7dGhpcy5iPXRoaXMuZz1udWxsO3RoaXMuUiYmdGhpcy5SLnJlbW92ZSgpfSkpLmNhdGNoKGZ1bmN0aW9uKCl7fSl9O1cucHJvdG90eXBlLmRlc3Ryb3k9Vy5wcm90b3R5cGUuZGVzdHJveTtXLnByb3RvdHlwZS5VPWZ1bmN0aW9uKCl7dGhpcy5LPSEwO3JldHVybiBaZSh0aGlzKX07Vy5wcm90b3R5cGUudW5sb2FkPVcucHJvdG90eXBlLlU7CmZ1bmN0aW9uIFplKGEpe3ZhciBiO2EubCYmKGI9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigidW5sb2FkIikuc3RhcnQoKSk7aWYoIWEuYSlyZXR1cm4gYiYmYi5sb2coKSxQcm9taXNlLnJlc29sdmUoKTthLmgmJiRlKGEsInVubG9hZGluZyIpO2EuYi5wYXVzZSgpO2RiKGEuZyk7YWYoYSk7YmYoYSk7YS5pJiYoYS5pLmRlc3Ryb3koKSxhLmk9bnVsbCk7YS5hJiYoYS5hLmRlc3Ryb3koKSxhLmE9bnVsbCk7YS5mLmdldEJvb2woInd3d192aWRlb3NfcGxheWJhY2tfcmVtb3ZlX3NyY19hdHRyX29uX3VubG9hZCIsITEpP2EuYi5yZW1vdmVBdHRyaWJ1dGUoInNyYyIpOmEuYi5zcmM9IiI7dmFyIGM9YS5mLmdldEJvb2woInd3d19zaGFrYV9jbGVhcl9tZWRpYV9rZXlzX29uX3VubG9hZCIsITEpJiZhLmIuc2V0TWVkaWFLZXlzJiYiZnVuY3Rpb24iPT09dHlwZW9mIGEuYi5zZXRNZWRpYUtleXM/YS5iLnNldE1lZGlhS2V5cyhudWxsKTpQcm9taXNlLnJlc29sdmUoKSxjPWMudGhlbihmdW5jdGlvbigpe2ImJgpiLmxvZygpO2lmKGEuZi5nZXRCb29sKCJlbmFibGVfcDJwX3N1cHBvcnQiLCExKSl7dmFyIGM9eSh7dHlwZToidW5sb2FkIn0pO2EuZGlzcGF0Y2hFdmVudChjKX19KTthLmg9ITE7YS5PPSExO2EuQT0hMTthLnU9ITE7cmV0dXJuIGN9ZnVuY3Rpb24gY2YoYSxiKXtmb3IodmFyIGM9MDtjPGEubGVuZ3RoO2MrKyliLnB1c2goYVtjXS5jb250ZW50VHlwZSxhW2NdKX1XLnByb3RvdHlwZS5GYT1mdW5jdGlvbihhKXtyZXR1cm4gZGYodGhpcyxhKX07Vy5wcm90b3R5cGUubG9hZD1XLnByb3RvdHlwZS5GYTsKZnVuY3Rpb24gZGYoYSxiKXt2YXIgYzthLmwmJihjPWEubC5nZXRPcGVyYXRpb25Mb2dnZXIoImxvYWQiKS5zZXRTdGF0ZSgibG9hZGluZyIpLnN0YXJ0KCksYi5sPWIuZy5wZXJmb3JtYW5jZUxvZ2dlcj1hLmwpO2EuRyYmKGIuQWI9Yi5nLmFickxvZ2dlcj1hLkcpO2EuYmEmJihiLmlhPWEuYmEpO2EuY2EmJihiLkk9YS5jYSk7YS5nYSYmYi5VLnB1c2goYS5nYSk7ZWYoYixhLmIpO3ZhciBkPW51bGw7YS5LPSExO0UoYS5nLGIsInJlcGxpY2Fzd2l0Y2giLGEubmEuYmluZChhKSk7YS5hJiYoZD1aZShhKS50aGVuKEooYSxmdW5jdGlvbigpe3JldHVybiBiLndiKCl9KSkpO2EuYi5hdXRvcGxheSYmKHUucWEoImxvYWQiKSxFKGEuZyxhLmIsInRpbWV1cGRhdGUiLGEuZWQuYmluZChhKSkpO2IubGMoYS5jKTtiLmxhPWEuVDthLlQ9bnVsbDtkfHwoZD1iLndiKCkpO2EuZi5nZXRCb29sKCJmaXhfc2hha2FfcGxheWVyX2xvYWRfcmFjZV9jb25kaXRpb24iLCExKSYmKGEuYT1iKTtkLmNhdGNoKEooYSwKZnVuY3Rpb24oYSl7Yi5kZXN0cm95KCk7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfSkpO3JldHVybiBkLnRoZW4oSihhLGZ1bmN0aW9uKCl7aWYoZmYodGhpcyxiKSlyZXR1cm4gZ2YoKTt0aGlzLmE9Yjt0aGlzLmcuYWIodGhpcy5hLCJyZXBsaWNhc3dpdGNoIik7RSh0aGlzLmcsdGhpcy5hLCJzZWVrcmFuZ2VjaGFuZ2VkIix0aGlzLnBhLmJpbmQodGhpcykpO0UodGhpcy5nLHRoaXMuYSwiYWxsU3RyZWFtc1N0YXJ0ZWQiLHRoaXMuRmQuYmluZCh0aGlzKSk7dmFyIGE9bmV3IEQ7Y2YoTmUodGhpcy5hKSxhKTtQZSh0aGlzLmEsYSk7YT10aGlzLmVhKCk7YyYmMDxhLmxlbmd0aCYmKGE9YS5yZWR1Y2UoZnVuY3Rpb24oYSxiKXtpZihudWxsPT09YXx8Yi5iYW5kd2lkdGg8YS5iYW5kd2lkdGgpYT1iO3JldHVybiBhfSxudWxsKSxjLnNldExvd2VzdFF1YWxpdHlSZXByZXNlbnRhdGlvbklEKGEuc3RyZWFtSW5mb0lEKSk7aWYoIXRoaXMuYy5lbmFibGVDb250ZW50UHJvdGVjdGlvbilyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7CnRoaXMuaT1uZXcgTWUodGhpcyx0aGlzLmIsdGhpcy5hLHRoaXMubCk7cmV0dXJuIHRoaXMuaS5pbml0aWFsaXplKCl9KSkudGhlbihKKGEsZnVuY3Rpb24oKXtpZihmZih0aGlzLGIpKXJldHVybiBnZigpO2hmKHRoaXMpO0UodGhpcy5nLHRoaXMuYiwicGxheWluZyIsdGhpcy5rZC5iaW5kKHRoaXMpKTtFKHRoaXMuZyx0aGlzLmIsInBhdXNlIix0aGlzLm1hLmJpbmQodGhpcykpO0UodGhpcy5nLHRoaXMuYiwid2FpdGluZyIsdGhpcy5zZC5iaW5kKHRoaXMpKTtFKHRoaXMuZyx0aGlzLmIsInBsYXkiLHRoaXMuaWEuYmluZCh0aGlzKSk7cmV0dXJuIGpmKHRoaXMuYSx0aGlzLHRoaXMuYil9KSkudGhlbihKKGEsZnVuY3Rpb24oKXtpZihmZih0aGlzLGIpKXJldHVybiBnZigpO2lmKHRoaXMuYy5lbmFibGVDb250ZW50UHJvdGVjdGlvbil7dmFyIGE7dGhpcy5sJiYoYT10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJlbWVfYXR0YWNoIikpO3JldHVybiBTZSh0aGlzLmkpLnRoZW4oZnVuY3Rpb24oKXthJiYKYS5sb2coKX0pfXJldHVybiBQcm9taXNlLnJlc29sdmUoKX0pKS50aGVuKEooYSxmdW5jdGlvbigpe2lmKGZmKHRoaXMsYikpcmV0dXJuIGdmKCk7a2YodGhpcyk7YyYmYy51cGRhdGVTdGF0ZSgicmVhZHkiKS5sb2coKX0pKS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7YyYmYy5zZXRFcnJvcihKU09OLnN0cmluZ2lmeShhKSkubG9nKCk7aWYoZmYodGhpcyxiKSlyZXR1cm4gZ2YoKTtpZigiZGVzdHJveSIhPWEudHlwZSl7dmFyIGQ9QShhKTt0aGlzLmRpc3BhdGNoRXZlbnQoZCl9cmV0dXJuIHRoaXMuVSgpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYSl9KX0pKX1mdW5jdGlvbiBmZihhLGIpe3JldHVybiFhLmJ8fGEuS3x8YS5mLmdldEJvb2woImZpeF9zaGFrYV9wbGF5ZXJfbG9hZF9yYWNlX2NvbmRpdGlvbiIsITEpJiZiIT09YS5hfW49Vy5wcm90b3R5cGU7Cm4uRmQ9ZnVuY3Rpb24oKXt2YXIgYSxiO3RoaXMuZi5nZXRCb29sKCJ3d3dfdmlkZW9zX2V4dGVuZGVkX3NwbF9sb2dnaW5nX2Zvcl9jb25uZWN0ZWRfdHYiLCExKSYmdGhpcy5sJiYoYT10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJvbl9hbGxfc3RyZWFtc19zdGFydGVkIiksYj10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJyZXN0b3JlX3ZpZGVvX3BsYXliYWNrX3JhdGUiKSk7dGhpcy5PPSEwO3RoaXMuaD90aGlzLkQoKToodGhpcy5iLnBsYXliYWNrUmF0ZT10aGlzLmosYiYmYi5sb2coKSk7YSYmYS5sb2coKX07ZnVuY3Rpb24gZ2YoKXt2YXIgYT1FcnJvcigiUGxheWVyIGRlc3Ryb3llZCIpO2EudHlwZT0iZGVzdHJveSI7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfQpmdW5jdGlvbiBoZihhKXt2YXIgYj1hLmIucGFyZW50Tm9kZTtiJiZhLmYuZ2V0Qm9vbCgicHJldmVudF9wbGF5aW5nX29uX2luc3VmZmljaWVudF9idWZmZXIiLCExKSYmKGEuUj1ldmVudExpc3RlbmVyQ2FwdHVyZShiLCJwbGF5aW5nIixmdW5jdGlvbihhKXthLnRhcmdldD09PXRoaXMuYiYmdGhpcy5EKGEpfS5iaW5kKGEpKSl9bi5lZD1mdW5jdGlvbigpe3UuZW5kKCJsb2FkIik7dGhpcy5nLmFiKHRoaXMuYiwidGltZXVwZGF0ZSIpfTtuLnNkPWZ1bmN0aW9uKGEpe2xmKHRoaXMpO3RoaXMuZi5nZXRCb29sKCJ1bmlmeV9zdHJlYW1fc3RhcnRfd2l0aF9idWZmZXJfZGV0ZWN0b3IiLCExKSYmIXRoaXMuaCYmdGhpcy5EKGEpfTsKbi5rZD1mdW5jdGlvbigpe3UucWEoInBsYXlpbmciKTt0aGlzLmwmJnRoaXMubC5nZXRFdmVudExvZ2dlcigicGxheWluZyIpLnNldFN0YXRlKCJwbGF5aW5nIikubG9nKCk7IXRoaXMubSYmMD50aGlzLmomJih0aGlzLmIucGxheWJhY2tSYXRlPTAsdGhpcy5QKHRoaXMuYi5jdXJyZW50VGltZSxEYXRlLm5vdygpLHRoaXMuaikpO3RoaXMuaCYmIXRoaXMuViYmJGUodGhpcywicGxheWluZyIpfTtuLkJkPWZ1bmN0aW9uKGEpe3RoaXMudT1hfTtXLnByb3RvdHlwZS5zZXRQZW5kaW5nUGxheVJlcXVlc3Q9Vy5wcm90b3R5cGUuQmQ7Vy5wcm90b3R5cGUuaWE9ZnVuY3Rpb24oKXt0aGlzLnU9ITB9O1cucHJvdG90eXBlLm1hPWZ1bmN0aW9uKCl7dGhpcy5sJiZ0aGlzLmwuZ2V0RXZlbnRMb2dnZXIoInBhdXNlIikuc2V0U3RhdGUoInBhdXNlZCIpLmxvZygpO3UuZW5kKCJwbGF5aW5nIik7dS5nZXQoInBsYXlpbmciKTtiZih0aGlzKX07ClcucHJvdG90eXBlLnBhPWZ1bmN0aW9uKGEpe3RoaXMuRj1hLnN0YXJ0O3RoaXMuJD1hLmxhc3Q7dGhpcy5aPWEuZW5kO3RoaXMuUz1hLnNlZWtSYW5nZUdhcHM7dGhpcy5mLmdldEJvb2woIm5vX3NraXBfZ2Fwc19vbl9zZWVrX3JhbmdlX2NoYW5nZWQiLCExKXx8bGYodGhpcyl9O1cucHJvdG90eXBlLmVhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYT90aGlzLmEuWigpOltdfTtXLnByb3RvdHlwZS5nZXRWaWRlb1RyYWNrcz1XLnByb3RvdHlwZS5lYTtXLnByb3RvdHlwZS54YT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmE/dGhpcy5hLnZhKCk6W119O1cucHJvdG90eXBlLmdldEF1ZGlvVHJhY2tzPVcucHJvdG90eXBlLnhhO1cucHJvdG90eXBlLkRhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYT90aGlzLmEubWMoKTpbXX07Vy5wcm90b3R5cGUuZ2V0VGV4dFRyYWNrcz1XLnByb3RvdHlwZS5EYTsKVy5wcm90b3R5cGUuc2VsZWN0VmlkZW9UcmFjaz1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmE/dGhpcy5hLnNlbGVjdFZpZGVvVHJhY2soYSx2b2lkIDA9PWI/ITA6Yik6ITF9O1cucHJvdG90eXBlLnNlbGVjdFZpZGVvVHJhY2s9Vy5wcm90b3R5cGUuc2VsZWN0VmlkZW9UcmFjaztXLnByb3RvdHlwZS5HYT1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIHRoaXMuYT9tZih0aGlzLmEsImF1ZGlvIixhLHZvaWQgMD09Yj8hMDpiLGMpOiExfTtXLnByb3RvdHlwZS5zZWxlY3RBdWRpb1RyYWNrPVcucHJvdG90eXBlLkdhO1cucHJvdG90eXBlLkhhPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmE/bWYodGhpcy5hLCJ0ZXh0IixhLCExKTohMX07Vy5wcm90b3R5cGUuc2VsZWN0VGV4dFRyYWNrPVcucHJvdG90eXBlLkhhO1cucHJvdG90eXBlLndhPWZ1bmN0aW9uKGEpe3RoaXMuYSYmbmYodGhpcy5hLGEpfTtXLnByb3RvdHlwZS5lbmFibGVUZXh0VHJhY2s9Vy5wcm90b3R5cGUud2E7ClcucHJvdG90eXBlLnJhPWZ1bmN0aW9uKGEpe2JmKHRoaXMpO3RoaXMudyYmdGhpcy5ofHwhKDA8PWEpP3RoaXMuYi5wYXVzZWR8fCh0aGlzLmIucGxheWJhY2tSYXRlPTAsdGhpcy5QKHRoaXMuYi5jdXJyZW50VGltZSxEYXRlLm5vdygpLGEpKTp0aGlzLmIucGxheWJhY2tSYXRlPWE7dGhpcy5qPWF9O1cucHJvdG90eXBlLnNldFBsYXliYWNrUmF0ZT1XLnByb3RvdHlwZS5yYTtXLnByb3RvdHlwZS5rYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmp9O1cucHJvdG90eXBlLmdldFBsYXliYWNrUmF0ZT1XLnByb3RvdHlwZS5rYTtXLnByb3RvdHlwZS5DYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmE/dGhpcy5hLk9iKCk6bnVsbH07Vy5wcm90b3R5cGUuZ2V0TWFuaWZlc3Q9Vy5wcm90b3R5cGUuQ2E7Vy5wcm90b3R5cGUuUGE9ZnVuY3Rpb24oYSl7dGhpcy5UPWF9O1cucHJvdG90eXBlLnNldFBsYXliYWNrU3RhcnRUaW1lPVcucHJvdG90eXBlLlBhOwpXLnByb3RvdHlwZS5JPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYT8hIXRoaXMuYS5QKCk6ITF9O1cucHJvdG90eXBlLmlzTGl2ZT1XLnByb3RvdHlwZS5JOwpXLnByb3RvdHlwZS52YT1mdW5jdGlvbihhKXtpZihhKXt2YXIgYj1CKGEsImVuYWJsZUFkYXB0YXRpb24iKTtudWxsIT1iJiYodGhpcy5jLmVuYWJsZUFkYXB0YXRpb249Yik7Yj1CKGEsImVuZEJ1ZmZlcmluZ09uUGxheWluZyIpO251bGwhPWImJih0aGlzLlY9Yik7Yj1CKGEsInVzZVBsYXliYWNrUmF0ZUZvckJ1ZmZlcmluZyIpO251bGwhPWImJih0aGlzLnc9Yik7Yj1DKGEsInN0cmVhbUJ1ZmZlclNpemUiLDApO251bGwhPWImJih0aGlzLmMuc3RyZWFtQnVmZmVyU2l6ZT1iKTtiPUMoYSwiZHluYW1pY1N0cmVhbUJ1ZmZlclNpemUiLDApO251bGwhPWImJih0aGlzLmMuZHluYW1pY1N0cmVhbUJ1ZmZlclNpemU9Yik7bnVsbCE9YS5zbWFydEJ1ZmZlckFkanVzdG1lbnRQYXJhbXMmJih0aGlzLmMuc21hcnRCdWZmZXJBZGp1c3RtZW50UGFyYW1zPWEuc21hcnRCdWZmZXJBZGp1c3RtZW50UGFyYW1zKTtiPUIoYSwiYWRkQ2RuRGVidWdRdWVyeVBhcmFtZXRlcnMiKTtudWxsIT1iJiYKKHRoaXMuYy5hZGRDZG5EZWJ1Z1F1ZXJ5UGFyYW1ldGVycz1iKTtiPUMoYSwiaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemUiLDApO251bGwhPWImJih0aGlzLmMuaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemU9Yik7Yj1CKGEsImluY2x1ZGVTdHJlYW1CdWZmZXJTaXplSW5TdGFydE9mZnNldCIpO251bGwhPWImJih0aGlzLmMuaW5jbHVkZVN0cmVhbUJ1ZmZlclNpemVJblN0YXJ0T2Zmc2V0PWIpO2I9QyhhLCJqdW1wVG9MaXZlVGhyZXNob2xkIik7bnVsbCE9YiYmKHRoaXMuYy5qdW1wVG9MaXZlVGhyZXNob2xkPWIpO2I9QyhhLCJsaXZlU3RyZWFtRW5kVGltZW91dCIsMCk7bnVsbCE9YiYmKHRoaXMuYy5saXZlU3RyZWFtRW5kVGltZW91dD1iKTtiPUMoYSwibGljZW5zZVJlcXVlc3RUaW1lb3V0IiwwKTtudWxsIT1iJiYodGhpcy5jLmxpY2Vuc2VSZXF1ZXN0VGltZW91dD1iKTtiPUMoYSwibXBkUmVxdWVzdFRpbWVvdXQiLDApO251bGwhPWImJih0aGlzLmMubXBkUmVxdWVzdFRpbWVvdXQ9CmIpO2I9QyhhLCJtaW5NcGRSZWZyZXNoSW50ZXJ2YWwiLDApO251bGwhPWImJih0aGlzLmMubWluTXBkUmVmcmVzaEludGVydmFsPWIpO2I9QihhLCJlbmFibGVMaXZlSW50ZXJydXB0aW9uRGV0ZWN0aW9uIik7bnVsbCE9YiYmKHRoaXMuYy5lbmFibGVMaXZlSW50ZXJydXB0aW9uRGV0ZWN0aW9uPWIpO2I9QihhLCJlbmFibGVNYW5pZmVzdERlYnVnIik7bnVsbCE9YiYmKHRoaXMuYy5lbmFibGVNYW5pZmVzdERlYnVnPWIsRi5wcm90b3R5cGUub2M9YixifHwoRi5wcm90b3R5cGUuTGE9ZnVuY3Rpb24oKXt9KSk7Yj1CKGEsInJlc29sdmVWaWRlb1RpbWVVcGRhdGVPbkZyYWdtZW50ZWRUaW1lUmFuZ2VzIik7bnVsbCE9YiYmKHRoaXMuYy5yZXNvbHZlVmlkZW9UaW1lVXBkYXRlT25GcmFnbWVudGVkVGltZVJhbmdlcz1iKTtiPUMoYSwibGl2ZUludGVycnVwdGlvbkNvbnNlY3V0aXZlVXBkYXRlc1dpdGhvdXRDaGFuZ2UiKTtudWxsIT1iJiYodGhpcy5jLmxpdmVJbnRlcnJ1cHRpb25Db25zZWN1dGl2ZVVwZGF0ZXNXaXRob3V0Q2hhbmdlPQpiKTtiPUMoYSwibGl2ZUludGVycnVwdGlvbkNvbnNlY3V0aXZlVXBkYXRlc1dpdGhDaGFuZ2UiKTtudWxsIT1iJiYodGhpcy5jLmxpdmVJbnRlcnJ1cHRpb25Db25zZWN1dGl2ZVVwZGF0ZXNXaXRoQ2hhbmdlPWIpO2I9QihhLCJyZWFwcGVuZEluaXRTZWdtZW50QWZ0ZXJBYm9ydCIpO251bGwhPWImJih0aGlzLmMucmVhcHBlbmRJbml0U2VnbWVudEFmdGVyQWJvcnQ9Yik7Yj1CKGEsImxpdmVTZW5kUHVzaEhlYWRlcnMiKTtudWxsIT1iJiYodGhpcy5jLmxpdmVTZW5kUHVzaEhlYWRlcnM9Yik7Yj1DKGEsImxpdmVNYXhNYW5pZmVzdEZldGNoZXNXaXRoUHVzaCIpO251bGwhPWImJih0aGlzLmMubGl2ZU1heE1hbmlmZXN0RmV0Y2hlc1dpdGhQdXNoPWIpO2I9QyhhLCJsaXZlTWF4U2VnbWVudHNUb1B1c2giKTtudWxsIT1iJiYodGhpcy5jLmxpdmVNYXhTZWdtZW50c1RvUHVzaD1iKTtiPUMoYSwic2VnbWVudFJlcXVlc3RUaW1lb3V0IiwwKTtudWxsIT1iJiYodGhpcy5jLnNlZ21lbnRSZXF1ZXN0VGltZW91dD0KYik7Yj1ZYShhLCJwcmVmZXJyZWRMYW5ndWFnZSIpO251bGwhPWImJih0aGlzLmMucHJlZmVycmVkTGFuZ3VhZ2U9Yik7Yj1aYShhLCJyZXN0cmljdGlvbnMiLGthKTtudWxsIT1iJiYodGhpcy5jLnJlc3RyaWN0aW9ucz1iLmNsb25lKCkpO2I9YS5saXZlSW5pdGlhbFB1c2hSZXByZXNlbnRhdGlvbjtudWxsIT1iJiYodGhpcy5jLmxpdmVJbml0aWFsUHVzaFJlcHJlc2VudGF0aW9uPWIpO2I9YS5saXZlQXVkaW9QdXNoUmVwcmVzZW50YXRpb247bnVsbCE9YiYmKHRoaXMuYy5saXZlQXVkaW9QdXNoUmVwcmVzZW50YXRpb249Yik7Yj1hLnVzZUlubGluZUluaXRTZWdtZW50O251bGwhPWImJih0aGlzLmMudXNlSW5saW5lSW5pdFNlZ21lbnQ9Yik7Yj1CKGEsImRpc2FibGVDYWNoZUJ1c3RpbmdFdmVuVGhvdWdoSXRNYXlBZmZlY3RCYW5kd2lkdGhFc3RpbWF0aW9uIik7bnVsbCE9YiYmKFRjPSFiKTtiPUIoYSwiY3VycmVudFRpbWVEdXJpbmdSZWFkeVN0YXRlWmVyb1Rocm93cyIpO251bGwhPQpiJiYodGhpcy5jLmN1cnJlbnRUaW1lRHVyaW5nUmVhZHlTdGF0ZVplcm9UaHJvd3M9Yik7Yj1DKGEsImxpdmVEYXRhRmV0Y2hNYXhSZXRyaWVzIik7bnVsbCE9YiYmKHRoaXMuYy5saXZlRGF0YUZldGNoTWF4UmV0cmllcz1iKTtiPUMoYSwibGl2ZVNvdXJjZUJ1ZmZlckNsZWFyTWF4UmV0cmllcyIpO251bGwhPWImJih0aGlzLmMubGl2ZVNvdXJjZUJ1ZmZlckNsZWFyTWF4UmV0cmllcz1iKTtiPUIoYSwidXNlTG9uZ0NhY2hlRm9yTWFuaWZlc3QiKTtudWxsIT1iJiYodGhpcy5jLnVzZUxvbmdDYWNoZUZvck1hbmlmZXN0PWIpO2I9QihhLCJqdW1wVG9FYXJsaWVzdFBvc2l0aW9uSW5DdXJyZW50QmxvY2siKTtudWxsIT1iJiYodGhpcy5jLmp1bXBUb0VhcmxpZXN0UG9zaXRpb25JbkN1cnJlbnRCbG9jaz1iKTtiPUIoYSwiaWdub3JlTWluQnVmZmVyVGltZSIpO251bGwhPWImJih0aGlzLmMuaWdub3JlTWluQnVmZmVyVGltZT1iKTtiPUMoYSwicGxheWhlYWRGcmFnbWVudGVkR2FwRGlmZkFsbG93YW5jZSIpOwpudWxsIT1iJiYodGhpcy5jLnBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2U9Yik7Yj1CKGEsImZpeEJ1ZmZlcmluZ0dvYWxEZXRlcm1pbmF0aW9uIik7bnVsbCE9YiYmKHRoaXMuYy5maXhCdWZmZXJpbmdHb2FsRGV0ZXJtaW5hdGlvbj1iKTtiPUIoYSwic2tpcEVtcHR5U2VnbWVudHMiKTtudWxsIT1iJiYodGhpcy5jLnNraXBFbXB0eVNlZ21lbnRzPWIpOyhiPUIoYSwidXNlTWljcm9UYXNrVGltZW91dHMiKSkmJih0aGlzLmMudXNlTWljcm9UYXNrVGltZW91dHM9Yik7KGI9QihhLCJlbmFibGVSZXF1ZXN0UGlwZWxpbmluZyIpKSYmKHRoaXMuYy5lbmFibGVSZXF1ZXN0UGlwZWxpbmluZz1iKTsoYj1CKGEsImVuYWJsZVN0cmVhbWluZyIpKSYmKHRoaXMuYy5lbmFibGVTdHJlYW1pbmc9Yik7KGE9QihhLCJlbmFibGVDb250ZW50UHJvdGVjdGlvbiIpKSYmKHRoaXMuYy5lbmFibGVDb250ZW50UHJvdGVjdGlvbj1hKTt0aGlzLmEmJnRoaXMuYS5sYyh0aGlzLmMpfX07ClcucHJvdG90eXBlLmNvbmZpZ3VyZT1XLnByb3RvdHlwZS52YTtXLnByb3RvdHlwZS5PYT1mdW5jdGlvbihhKXt0aGlzLmEmJnRoaXMuYS5xYyhhKX07Vy5wcm90b3R5cGUuc2V0RW5hYmxlTGl2ZWhlYWRDYXRjaHVwPVcucHJvdG90eXBlLk9hO1cucHJvdG90eXBlLkVhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYT90aGlzLmEubmE6ITF9O1cucHJvdG90eXBlLmlzTGl2ZWhlYWRDYXRjaHVwRW5hYmxlZD1XLnByb3RvdHlwZS5FYTsKZnVuY3Rpb24gbGYoYSl7aWYoYS5mLmdldEJvb2woInNraXBfbWFuaWZlc3RfZ2FwX2Jhc2VkX29uX3N0cmVhbV9saW1pdHMiLCExKSYmKCFhLkkoKXx8IWEuZi5nZXRCb29sKCJub19za2lwX21hbmlmZXN0X2dhcHNfaWZfbGl2ZSIsITEpKSl7dmFyIGI7YS5mLmdldEJvb2woInNraXBfbWFuaWZlc3RfZ2Fwc191c2VfY2FjaGVkX3N0cmVhbV9saW1pdHMiLCExKT9hLmEmJm51bGwhPT1hLlM/Yj17c3RhcnQ6YS5GLGVuZDphLlosbGFzdDphLiQsWmE6YS5TfTpiPWEuYT9hLmEubmIoKTpudWxsOmI9YS5hP2EuYS5uYigpOm51bGw7aWYoYilmb3IodmFyIGM9YS5mLmdldE51bWJlcigic2tpcF9tYW5pZmVzdF9nYXBfYm91bmRhcnlfcHJlY2lzaW9uX21zIiwxRTMpLzFFMyxkPWIuWmEsZT1hLmIucGxheWJhY2tSYXRlLGY9YS5iLmN1cnJlbnRUaW1lLGc9MDtnPGQubGVuZ3RoOysrZyl7dmFyIGg9ZFtnXS5zdGFydFRpbWUtYyxrPWRbZ10uZW5kVGltZStjO2Y8PWsmJmY+PWgmJihhLmYuZ2V0Qm9vbCgiZml4X3NlZWtfcmFuZ2VfZ2FwX2JvdW5kYXJ5IiwKITEpfHwoaD1kW2ddLnN0YXJ0VGltZSxrPWRbZ10uZW5kVGltZSksMDw9ZT9iLmVuZD5rJiYoYS5iLmN1cnJlbnRUaW1lPWspOmIuc3RhcnQ8aCYmKGEuYi5jdXJyZW50VGltZT1oKSl9fX1XLnByb3RvdHlwZS5sYT1mdW5jdGlvbigpe3ZhciBhPXRoaXMuYSYmdGhpcy5hLm5iKCk7cmV0dXJuKGE9YSYme3N0YXJ0OmEuc3RhcnQsZW5kOmEuZW5kLGxhc3Q6YS5sYXN0LHNlZWtSYW5nZUdhcHM6YS5aYX0pfHxudWxsfTtXLnByb3RvdHlwZS5nZXRWaWRlb1NvdXJjZVN0cmVhbUxpbWl0cz1XLnByb3RvdHlwZS5sYTtXLnByb3RvdHlwZS55YT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmN9O1cucHJvdG90eXBlLmdldENvbmZpZ3VyYXRpb249Vy5wcm90b3R5cGUueWE7ZnVuY3Rpb24gYmYoYSl7YS5tJiYoY2xlYXJUaW1lb3V0KGEubSksYS5tPW51bGwpfQpmdW5jdGlvbiBrZihhKXt2YXIgYjthLmYuZ2V0Qm9vbCgid3d3X3ZpZGVvc19leHRlbmRlZF9zcGxfbG9nZ2luZ19mb3JfY29ubmVjdGVkX3R2IiwhMSkmJmEubCYmKGI9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigic3RhcnRfd2F0Y2hkb2ciKSk7YWYoYSk7YS5KPXNldFRpbWVvdXQoYS5ELmJpbmQoYSksMTAwKTtiJiZiLmxvZygpfWZ1bmN0aW9uIGFmKGEpe3ZhciBiO2EuZi5nZXRCb29sKCJ3d3dfdmlkZW9zX2V4dGVuZGVkX3NwbF9sb2dnaW5nX2Zvcl9jb25uZWN0ZWRfdHYiLCExKSYmYS5sJiYoYj1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJjYW5jZWxfd2F0Y2hkb2ciKSk7YS5KJiYoY2xlYXJUaW1lb3V0KGEuSiksYS5KPW51bGwpO2ImJmIubG9nKCl9ClcucHJvdG90eXBlLlA9ZnVuY3Rpb24oYSxiLGMpe3RoaXMubT1udWxsO3ZhciBkPShEYXRlLm5vdygpLWIpLzFFMypjO3RoaXMuYi5jdXJyZW50VGltZTx0aGlzLkYrKHRoaXMuSSgpPzE6LjA1KT90aGlzLmIucGF1c2UoKTooZD1NYXRoLm1heCh0aGlzLkYsYStkKSx0aGlzLmIuY3VycmVudFRpbWU9ZCx0aGlzLm09c2V0VGltZW91dCh0aGlzLlAuYmluZCh0aGlzLGEsYixjKSwyNTApKX07ZnVuY3Rpb24gb2YoYSl7cmV0dXJuIGEuZi5nZXRCb29sKCJ1bmlmeV9zdHJlYW1fc3RhcnRfd2l0aF9idWZmZXJfZGV0ZWN0b3IiLCExKSYmIWEuT30KZnVuY3Rpb24gJGUoYSxiKXtpZighb2YoYSkpe3UuZW5kKCJidWZmZXJpbmciKTtudWxsIT09YS5CJiYoYS5CPW51bGwpO2EubyYmKGEuby5zZXRDb25jbHVkZXIoYikubG9nKCksYS5vPW51bGwpO2lmKGEuRyl7dmFyIGM9RGF0ZS5ub3coKTthLkcuc2V0RXZlbnQoImJ1ZmZlcmluZyIpLnNldENsaWVudFRpbWVCZWdpbihNYXRoLnJvdW5kKGMtdS5nZXQoImJ1ZmZlcmluZyIpKSkuc2V0Q2xpZW50VGltZUVuZChNYXRoLnJvdW5kKGMpKS5sb2coKX1hLncmJihhLmIucGxheWJhY2tSYXRlPWEuaik7YS5oPSExO2EuZGlzcGF0Y2hFdmVudCh5KHt0eXBlOiJidWZmZXJpbmdFbmQifSkpO2EuQSYmKGEuQT0hMSxkaXNwYXRjaERvbUV2ZW50KGEuYiwicGxheWluZyIpKTthLnU9ITF9fVcucHJvdG90eXBlLmphPWZ1bmN0aW9uKGEpe3RoaXMuZGlzcGF0Y2hFdmVudCh5KGEpKX07Vy5wcm90b3R5cGUuZGlzcGF0Y2hFdmVudEV4dGVybj1XLnByb3RvdHlwZS5qYTsKZnVuY3Rpb24gcGYoYSl7dmFyIGI9YS5iLmJ1ZmZlcmVkO2lmKDE9PT1iLmxlbmd0aCliPWIuZW5kKDApO2Vsc2UgaWYoMD09PWIubGVuZ3RoKWI9MDtlbHNle2Zvcih2YXIgYz0wLGQ9MDtkPGIubGVuZ3RoOysrZCliLmVuZChkKT49YS5iLmN1cnJlbnRUaW1lJiYoYz1iLnN0YXJ0KGQpPD1hLmIuY3VycmVudFRpbWU/YysoYi5lbmQoZCktYS5iLmN1cnJlbnRUaW1lKTpjKyhiLmVuZChkKS1iLnN0YXJ0KGQpKSk7cmV0dXJuIGN9cmV0dXJuIE1hdGgubWF4KGItYS5iLmN1cnJlbnRUaW1lLDApfQpXLnByb3RvdHlwZS5EPWZ1bmN0aW9uKGEpe2lmKCF0aGlzLmYuZ2V0Qm9vbCgicHJldmVudF9wbGF5aW5nX29uX2luc3VmZmljaWVudF9idWZmZXIiLCExKXx8IXRoaXMuSyl7a2YodGhpcyk7dmFyIGI9YT9hLnR5cGU6IiIsYz0id2FpdGluZyI9PT1iO2lmKCF0aGlzLmIuZW5kZWQmJiF0aGlzLmIuc2Vla2luZ3x8Yyl7dmFyIGQ7dGhpcy5mLmdldEJvb2woInd3d192aWRlb3NfZXh0ZW5kZWRfc3BsX2xvZ2dpbmdfZm9yX2Nvbm5lY3RlZF90diIsITEpJiZ0aGlzLmwmJihkPXRoaXMubC5nZXRPcGVyYXRpb25Mb2dnZXIoIndhdGNoZG9nIikpO3ZhciBlPXRoaXMuYi5idWZmZXJlZCxmPWUubGVuZ3RoP2UuZW5kKGUubGVuZ3RoLTEpOjAsZzt0aGlzLmYuZ2V0Qm9vbCgiZml4X3Vuc3RhbGxfYnVmZmVyX2NhbGN1bGF0aW9uIiwhMSk/Zz1wZih0aGlzKTpnPU1hdGgubWF4KGYtdGhpcy5iLmN1cnJlbnRUaW1lLDApO3ZhciBoPXRoaXMuYi5jdXJyZW50VGltZSxlPXRoaXMuSSgpP3RoaXMuZi5nZXROdW1iZXIoImxpdmVfYnVmZmVyaW5nX3VuZGVyZmxvd190aHJlc2hvbGQiLAouNSk6dGhpcy5mLmdldE51bWJlcigiYnVmZmVyaW5nX3VuZGVyZmxvd190aHJlc2hvbGQiLDApLGs9dGhpcy5iLmR1cmF0aW9uLGs9aXNOYU4oayk/MDpNYXRoLm1heChrLS4wNSwwKSxmPWY+PWt8fGg+PWssYj1ifHwid2F0Y2hkb2dfdGltZXIiO2lmKHRoaXMuaCl7cWYodGhpcyxhKTthPXJmKHRoaXMuYSk7dmFyIGw9MDxhP2cvYTowO2c+YXx8c2YodGhpcy5hKXx8dGhpcy5mLmdldEJvb2woImZpeF9idWZmZXJpbmdfYXRfdGhlX2VuZF9vZl9wbGF5YmFjayIsITApJiZmPygkZSh0aGlzLGIpLHRoaXMuWSYmIXRoaXMudyYmdGhpcy5iLnBsYXkoKSk6dGhpcy5CIT09bCYmKHRoaXMuQj1sLHRoaXMuZGlzcGF0Y2hFdmVudCh5KHt0eXBlOiJidWZmZXJpbmdQcm9ncmVzcyIscHJvZ3Jlc3M6bH0pKSl9ZWxzZSB0aGlzLmIucGF1c2VkJiYhY3x8ISghZiYmZzxlfHxvZih0aGlzKSl8fCh0aGlzLmg9ITAsdGhpcy53P3RoaXMuYi5wbGF5YmFja1JhdGU9MDp0aGlzLmIucGF1c2UoKSx0aGlzLmwmJgohdGhpcy5vJiYoZz10aGlzLmIuYnVmZmVyZWQsZz1nLmxlbmd0aD9nLmVuZChnLmxlbmd0aC0xKTowLHRoaXMuZi5nZXRCb29sKCJmaXhfdW5zdGFsbF9idWZmZXJfY2FsY3VsYXRpb24iLCExKT9sPXBmKHRoaXMpOmw9TWF0aC5tYXgoZy10aGlzLmIuY3VycmVudFRpbWUsMCksZz0xRTMqKHJmKHRoaXMuYSktbCksdGhpcy5vPXRoaXMubC5nZXRPcGVyYXRpb25Mb2dnZXIoImJ1ZmZlcmluZyIpLnNldExlbmd0aChNYXRoLnJvdW5kKGcpKS5zZXRUeXBlKHRoaXMudT8ic3RhcnQvdW5wYXVzZSI6ImluX3BsYXkiKS5zZXRJbml0aWF0b3IoYikuc3RhcnQoKSksdS5xYSgiYnVmZmVyaW5nIiksdGhpcy5kaXNwYXRjaEV2ZW50KHkoe3R5cGU6ImJ1ZmZlcmluZ1N0YXJ0In0pKSx0aGlzLmYuZ2V0Qm9vbCgibm9fc2tpcF9nYXBzX29uX2J1ZmZlcmluZyIsITEpfHxsZih0aGlzKSxxZih0aGlzLGEpKSxzZih0aGlzLmEpJiYkZSh0aGlzLGIpO2QmJmQubG9nKCl9ZWxzZSB0aGlzLmYuZ2V0Qm9vbCgiZml4X2ZmX2luX3BsYXlfc3RhbGxfdXBvbl9zZWVrIiwKITEpJiZxZih0aGlzLGEpfX07Vy5wcm90b3R5cGUubmE9ZnVuY3Rpb24oYSl7dGhpcy5kaXNwYXRjaEV2ZW50KGEpfTtmdW5jdGlvbiBxZihhLGIpe2ImJiJwbGF5aW5nIj09PWIudHlwZSYmKGEuQT0hMCxldmVudEtpbGwoYikpfVcucHJvdG90eXBlLnRhPWZ1bmN0aW9uKGEpe2lmKHRoaXMuYSl7dmFyIGI9dGhpcy5hO2IuYy52aWRlbyYmYi5jLnZpZGVvLkpjKGEpfX07Vy5wcm90b3R5cGUuc2V0VmlkZW9TdHJlYW1PZmZzZXQ9Vy5wcm90b3R5cGUudGE7ZnVuY3Rpb24gdGYoYSl7Zm9yKHZhciBiPTA7YjxhLmxlbmd0aDsrK2IpZm9yKHZhciBjPWFbYl0sZD0wO2Q8Yy5hLmxlbmd0aDsrK2Qpe2Zvcih2YXIgZT1jLmFbZF0sZj1lLGc9L3ZpZGVvXC93ZWJtOyBjb2RlY3M9ImF2MDEuKiIvLGg9ITEsaz0wO2s8Zi52Lmxlbmd0aDsrK2spe3ZhciBsPWYudltrXTtPZShOZChsKSk/Zy50ZXN0KE5kKGwpKSYmKGg9ITApOihmLnYuc3BsaWNlKGssMSksLS1rKX1pZihoKWZvcihrPTA7azxmLnYubGVuZ3RoOysraylsPWYudltrXSxnLnRlc3QoTmQobCkpfHwoZi52LnNwbGljZShrLDEpLC0tayk7MD09ZS52Lmxlbmd0aCYmKGMuYS5zcGxpY2UoZCwxKSwtLWQpfWZvcihiPTA7YjxhLmxlbmd0aDsrK2IpZm9yKGM9YVtiXSxkPTA7ZDxjLmEubGVuZ3RoOysrZCljLmFbZF0udi5zb3J0KHVmKX0KZnVuY3Rpb24gdWYoYSxiKXt2YXIgYz1hLmJhbmR3aWR0aHx8TnVtYmVyLk1BWF9WQUxVRSxkPWIuYmFuZHdpZHRofHxOdW1iZXIuTUFYX1ZBTFVFO3JldHVybiBjPGQ/LTE6Yz5kPzE6MH07ZnVuY3Rpb24gdmYoYSl7dGhpcy5hPWF9dmYucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmEuZGVzdHJveSgpO3RoaXMuYT1udWxsfTt2Zi5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKGEpe3ZhciBiPXdmKGEsbnVsbCksYz13Zih0aGlzLmEsYSk7cmV0dXJuIFByb21pc2UuYWxsKFtiLGNdKS50aGVuKEoodGhpcyxmdW5jdGlvbihiKXt2YXIgYz1iWzBdO2I9YlsxXTt0Zih0aGlzLmEuYSk7YS5iJiYhdGhpcy5hLmImJihhLmg9ITApO2EuYz10aGlzLmEuYzthLmk9dGhpcy5hLmk/dGhpcy5hLmkuY2xvbmUoKTpudWxsO2EuZz10aGlzLmEuZzt2YXIgZj1bXTt4ZihhLHRoaXMuYSxjLGIsZik7dGYoYS5hKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGYpfSkpfTsKZnVuY3Rpb24gd2YoYSxiKXtmdW5jdGlvbiBjKGEsYil7cmV0dXJuIGEuY29uY2F0KGIpfXZhciBkPWEuYS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuYX0pLnJlZHVjZShjLFtdKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEudn0pLnJlZHVjZShjLFtdKTtpZihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInRlbXBsYXRlZF9sYXN0X3hfdGltZWxpbmUiLCExKSYmYil2YXIgZT1iLmEubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLmF9KS5yZWR1Y2UoYyxbXSkubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLnZ9KS5yZWR1Y2UoYyxbXSkubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLk0uY3JlYXRlKCl9KSxlPVByb21pc2UuYWxsKGUpLnRoZW4oZnVuY3Rpb24oYSl7Zm9yKHZhciBiPU51bWJlci5QT1NJVElWRV9JTkZJTklUWSxjPTA7YzxhLmxlbmd0aDsrK2Mpe3ZhciBlPWFbY107ZS5sZW5ndGgoKSYmZS5sYXN0KCkudW5zY2FsZWRTdGFydFRpbWU8YiYmKGI9ZS5sYXN0KCkudW5zY2FsZWRTdGFydFRpbWUpfWI9CmEubGVuZ3RoP2I6bnVsbDthPWQubWFwKGZ1bmN0aW9uKGEpe2EuTS5FYyYmYS5NLkVjKGIpO3JldHVybiBhLk0uY3JlYXRlKCl9KTtyZXR1cm4gUHJvbWlzZS5hbGwoYSl9KTtlbHNlIGU9ZC5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuTS5jcmVhdGUoKX0pLGU9UHJvbWlzZS5hbGwoZSk7cmV0dXJuIGUudGhlbihmdW5jdGlvbihhKXtmb3IodmFyIGI9e30sYz0wO2M8ZC5sZW5ndGg7KytjKWJbZFtjXS5YXT1hW2NdO3JldHVybiBQcm9taXNlLnJlc29sdmUoYil9KX0KZnVuY3Rpb24geGYoYSxiLGMsZCxlKXt2YXIgZj1uZXcgRDthLmEuZm9yRWFjaChmdW5jdGlvbihhLGIpe2YucHVzaChhLmlkfHwiIitiLGEpfSk7dmFyIGc9bmV3IEQ7Yi5hLmZvckVhY2goZnVuY3Rpb24oYSxiKXtnLnB1c2goYS5pZHx8IiIrYixhKX0pO2E9YWIoZik7Zm9yKGI9MDtiPGEubGVuZ3RoOysrYil7dmFyIGg9YVtiXSxrPWYuZ2V0KGgpOzE8ay5sZW5ndGh8fChoPWcuZ2V0KGgpKSYmMCE9aC5sZW5ndGgmJjE9PWgubGVuZ3RoJiYoeWYoa1swXSxoWzBdLGMsZCxlKSxrWzBdLmR1cmF0aW9uPWhbMF0uZHVyYXRpb24pfX0KZnVuY3Rpb24geWYoYSxiLGMsZCxlKXt2YXIgZj1uZXcgRDthLmEuZm9yRWFjaChmdW5jdGlvbihhLGIpe2YucHVzaChhLmlkfHwiIitiLGEpfSk7dmFyIGc9bmV3IEQ7Yi5hLmZvckVhY2goZnVuY3Rpb24oYSxiKXtnLnB1c2goYS5pZHx8IiIrYixhKX0pO2E9YWIoZik7Zm9yKGI9MDtiPGEubGVuZ3RoOysrYil7dmFyIGg9YVtiXSxrPWYuZ2V0KGgpOzE8ay5sZW5ndGh8fChoPWcuZ2V0KGgpKSYmMCE9aC5sZW5ndGgmJjE9PWgubGVuZ3RoJiZ6ZihrWzBdLGhbMF0sYyxkLGUpfX0KZnVuY3Rpb24gemYoYSxiLGMsZCxlKXt2YXIgZj1uZXcgRDthLnYuZm9yRWFjaChmdW5jdGlvbihhLGIpe2YucHVzaChhLmlkfHwiIitiLGEpfSk7dmFyIGc9bmV3IEQ7Yi52LmZvckVhY2goZnVuY3Rpb24oYSxiKXtnLnB1c2goYS5pZHx8IiIrYixhKX0pO2I9e307Zm9yKHZhciBoPWFiKGYpLGs9MDtrPGgubGVuZ3RoOysrayl7dmFyIGw9aFtrXTtiW2xdPWw7dmFyIG09Zi5nZXQobCk7MTxtLmxlbmd0aHx8KChsPWcuZ2V0KGwpKSYmMCE9bC5sZW5ndGg/MT09bC5sZW5ndGgmJihCZihtWzBdLGxbMF0sYyxkKSxtWzBdLmFhPWxbMF0uYWEsbFswXS5hYT1udWxsLG1bMF0uYT1sWzBdLmEsVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJyZWZyZXNoX2JhbmR3aWR0aF9mcm9tX2xpdmVfbWFuaWZlc3QiLCExKSYmKG1bMF0uYmFuZHdpZHRoPWxbMF0uYmFuZHdpZHRoKSk6KGUucHVzaChtWzBdKSxhLnYuc3BsaWNlKGEudi5pbmRleE9mKG1bMF0pLDEpKSl9aD1hYihnKTsKZm9yKGs9MDtrPGgubGVuZ3RoOysraylsPWhba10sYltsXXx8KGJbbF09bCxsPWcuZ2V0KGwpLGEudi5wdXNoKGxbMF0pKX1mdW5jdGlvbiBCZihhLGIsYyxkKXthPWNbYS5YXTtjPWRbYi5YXTtkPShiPWEubGVuZ3RoKCkpP2EubGFzdCgpLmVuZFRpbWU6MDtpZihhLkIoYykpe2M9YS5sZW5ndGgoKTt2YXIgZT0hMTtWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInJvYnVzdF9jb3VudF9jaGFuZ2VzIiwhMSkmJihlPSEhYyYmYS5sYXN0KCkuZW5kVGltZT5kKTthLmcucHVzaChiIT09Y3x8ZSk7NTA8YS5nLmxlbmd0aCYmYS5nLnNoaWZ0KCl9fTtmdW5jdGlvbiBYKCl7dGhpcy5hPXRoaXMuYj1udWxsO3RoaXMuZj1uZXcgYmI7dGhpcy5jPU51bWJlci5QT1NJVElWRV9JTkZJTklUWTt0aGlzLmk9ITA7dGhpcy5nPSExfXEoInNoYWthLm1lZGlhLlNpbXBsZUFick1hbmFnZXIiLFgpO1gucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmYuZGVzdHJveSgpO3RoaXMuYT10aGlzLmI9dGhpcy5mPW51bGx9O1gucHJvdG90eXBlLmluaXRpYWxpemU9ZnVuY3Rpb24oYSxiKXt0aGlzLmJ8fHRoaXMuYXx8KHRoaXMuYj1hLHRoaXMuYT1iKX07ClgucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKCl7dGhpcy5iJiZ0aGlzLmEmJiF0aGlzLmcmJih0aGlzLmM9RGF0ZS5ub3coKSs0RTMsRSh0aGlzLmYsdGhpcy5iLmdldEVzdGltYXRvcigpLCJiYW5kd2lkdGgiLHRoaXMubS5iaW5kKHRoaXMpKSxFKHRoaXMuZix0aGlzLmEsImFkYXB0YXRpb24iLHRoaXMuai5iaW5kKHRoaXMpKSxFKHRoaXMuZix0aGlzLmEsInRyYWNrc2NoYW5nZWQiLHRoaXMuaC5iaW5kKHRoaXMpKSx0aGlzLmc9ITApfTtYLnByb3RvdHlwZS5lbmFibGU9ZnVuY3Rpb24oYSl7dGhpcy5pPWF9O1gucHJvdG90eXBlLmdldEluaXRpYWxWaWRlb1RyYWNrSWQ9ZnVuY3Rpb24oKXtpZighdGhpcy5ifHwhdGhpcy5hKXJldHVybiBudWxsO3ZhciBhPUNmKHRoaXMpO3JldHVybiBhP2EuaWQ6bnVsbH07WC5wcm90b3R5cGUuZ2V0SW5pdGlhbFN3aXRjaFJlYXNvbj1mdW5jdGlvbigpe3JldHVybiBudWxsfTtYLnByb3RvdHlwZS5nZXRJbml0aWFsQXVkaW9UcmFja0lkPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9OwpYLnByb3RvdHlwZS5zZWxlY3RWaWRlb1RyYWNrPWZ1bmN0aW9uKGEsYixjKXt0aGlzLmcmJnRoaXMuYS5zZWxlY3RWaWRlb1RyYWNrKGEuaWQsYixjKX07WC5wcm90b3R5cGUubT1mdW5jdGlvbigpe0RhdGUubm93KCk8dGhpcy5jfHx0aGlzLmgoKX07WC5wcm90b3R5cGUuaD1mdW5jdGlvbigpe2lmKHRoaXMuaSl7dmFyIGE9Q2YodGhpcyk7aWYoYSl7aWYoYS5hY3RpdmUpe3RoaXMuYz1EYXRlLm5vdygpKzNFMztyZXR1cm59dGhpcy5zZWxlY3RWaWRlb1RyYWNrKGEsITEpfXRoaXMuYz1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFl9fTtYLnByb3RvdHlwZS5qPWZ1bmN0aW9uKCl7dGhpcy5jPT1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkmJih0aGlzLmM9RGF0ZS5ub3coKSszRTQpfTsKZnVuY3Rpb24gQ2YoYSl7dmFyIGI9YS5hLlooKTtpZigwPT1iLmxlbmd0aClyZXR1cm4gbnVsbDtiLnNvcnQodmEpO3ZhciBjO2E6e2M9YS5hLnZhKCk7Zm9yKHZhciBkPTA7ZDxjLmxlbmd0aDsrK2QpaWYoY1tkXS5hY3RpdmUpe2M9Y1tkXTticmVhayBhfWM9bnVsbH1jPWM/Yy5iYW5kd2lkdGg6MDthPWEuYi5nZXRCYW5kd2lkdGgoKTtmb3IodmFyIGQ9YlswXSxlPTA7ZTxiLmxlbmd0aDsrK2Upe3ZhciBmPWJbZV0sZz1lKzE8Yi5sZW5ndGg/YltlKzFdOntiYW5kd2lkdGg6TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZfTtpZihmLmJhbmR3aWR0aCYmKGc9KGcuYmFuZHdpZHRoK2MpLy44NSxhPj0oZi5iYW5kd2lkdGgrYykvLjk1JiZhPD1nJiYoZD1mLGQuYWN0aXZlKSkpYnJlYWt9cmV0dXJuIGR9O2Z1bmN0aW9uIFkoYSxiLGMsZCl7Ri5jYWxsKHRoaXMsbnVsbCk7dGhpcy5iPWE7dGhpcy5hPWI7dGhpcy53YT1jO3RoaXMua2I9bmV3IFZpZGVvUGxheWVyTG9jYWxCYW5kd2lkdGhFc3RpbWF0b3IodGhpcyxjLGIpO3RoaXMuaD1uZXcgYmI7dGhpcy5pPW5ldyBNZWRpYVNvdXJjZTt0aGlzLmJhPXRoaXMudmlkZW89bnVsbDt0aGlzLkJiPTA7dGhpcy5uYz10aGlzLlpiPSExO3RoaXMuTGI9aWE7dGhpcy5BYj10aGlzLlY9dGhpcy5pYT10aGlzLmw9bnVsbDt0aGlzLktiPTM7dGhpcy5yYT10aGlzLiRiPXRoaXMuRmE9dGhpcy5FYT0hMTt0aGlzLlBhPTA7dGhpcy5kYT1uZXcgVmlkZW9QdXNoVHJhY2tlcjt0aGlzLmdhPW51bGw7dGhpcy5pYz0xO3RoaXMuZ2M9SW5maW5pdHk7dGhpcy5VYj10aGlzLlNiPSExO3RoaXMucGE9dGhpcy5PYT1udWxsO3RoaXMuV2I9dGhpcy5WYj10aGlzLkdhPXRoaXMuY2M9dGhpcy5tYT0hMTt0aGlzLmY9bmV3IEQ7dGhpcy5BPWQ7dGhpcy5BLmluaXRpYWxpemUodGhpcy5rYiwKdGhpcyk7dGhpcy5PPSExO3RoaXMuUz0iZW4iO3RoaXMueWE9ITE7dGhpcy5KPW5ldyBJO3RoaXMuSWI9bmV3IEk7dGhpcy5tPW5ldyBrYTt0aGlzLkQ9bnVsbDt0aGlzLmtjPTE7dGhpcy5jPXt9O3RoaXMuc2E9bmV3IEk7dGhpcy5qYT0wO3RoaXMuZ2I9MTVFMzt0aGlzLmo9bnVsbDt0aGlzLmVjPSExO3RoaXMuZGM9MDt0aGlzLkNhPSExO3RoaXMuQj17fTt0aGlzLmxhPXRoaXMua2E9dGhpcy51PW51bGw7dGhpcy5nPXt9O3RoaXMuJD0hMTt0aGlzLmZjPTA7dGhpcy5LPXRoaXMuYS5nZXROdW1iZXIoImJ1ZmZlcmluZ19vdmVyZmxvd190aHJlc2hvbGQiLDApO3RoaXMucGM9bnVsbDt0aGlzLm89e307dGhpcy53PXt9O3RoaXMuUj1udWxsO3RoaXMuVT1bXTt0aGlzLlQ9dGhpcy5JPW51bGw7dGhpcy5HPW5ldyBOZXR3b3JrU3RhdHVzRGV0ZWN0b3I7dGhpcy5oYz0hMTt0aGlzLm5hPSEwO3RoaXMuZWE9ITE7dGhpcy51Yz1uZXcgU3Vic2NyaXB0aW9uc0hhbmRsZXI7dGhpcy5ZYj0hMTsKdGhpcy54YT0xO3RoaXMuSWQ9dGhpcy5hLmdldE51bWJlcigic3RyZWFtX21heGltdW1fb25wYXVzZV9idWZmZXJfc2l6ZV9tdWx0aXBsaWVyIiwwKTt0aGlzLmNhPW51bGw7dGhpcy5hLmdldEJvb2woImFsbG93X2luZmluaXRlX3JldHJ5X29uX25ldF9lcnIiLCEwKSYmdGhpcy51Yy5hZGRTdWJzY3JpcHRpb25zKHRoaXMuRy5hZGRMaXN0ZW5lcigibmV0d29ya0ludGVycnVwdGVkIix0aGlzLlRjLHRoaXMpLHRoaXMuRy5hZGRMaXN0ZW5lcigibmV0d29ya1Jlc3VtZWQiLHRoaXMuVWMsdGhpcyksdGhpcy5HLmFkZExpc3RlbmVyKCJzeXN0ZW1XYWtlIix0aGlzLlZjLHRoaXMpKX1yKFksRik7cSgic2hha2EucGxheWVyLlN0cmVhbVZpZGVvU291cmNlIixZKTtZLnByb3RvdHlwZS5YYj1mdW5jdGlvbigpe3JldHVybntWaWRlb1NvdXJjZVN0cmVhbTp0aGlzLmMudmlkZW8sQXVkaW9Tb3VyY2VTdHJlYW06dGhpcy5jLmF1ZGlvLFRleHRTb3VyY2VTdHJlYW06dGhpcy5jLnRleHQsQmFuZHdpZHRoRXN0aW1hdG9yOnRoaXMud2F9fTsKWS5wcm90b3R5cGUuZ2V0U3RyZWFtRGVidWc9WS5wcm90b3R5cGUuWGI7WS5wcm90b3R5cGUuUGM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iP3RoaXMuYi53OiJub25lIn07WS5wcm90b3R5cGUuZ2V0TXBkQXVkaW9Db25maWc9WS5wcm90b3R5cGUuUGM7ClkucHJvdG90eXBlLmxjPWZ1bmN0aW9uKGEpe251bGwhPWEuc3RyZWFtQnVmZmVyU2l6ZSYmKHRoaXMuZy5zdHJlYW1CdWZmZXJTaXplPWEuc3RyZWFtQnVmZmVyU2l6ZSk7bnVsbCE9YS5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZSYmKHRoaXMuZy5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZT1hLmluaXRpYWxTdHJlYW1CdWZmZXJTaXplKTtudWxsIT1hLmR5bmFtaWNTdHJlYW1CdWZmZXJTaXplJiYodGhpcy5nLmR5bmFtaWNTdHJlYW1CdWZmZXJTaXplPWEuZHluYW1pY1N0cmVhbUJ1ZmZlclNpemUpO251bGwhPWEuc21hcnRCdWZmZXJBZGp1c3RtZW50UGFyYW1zJiYodGhpcy5nLnNtYXJ0QnVmZmVyQWRqdXN0bWVudFBhcmFtcz1hLnNtYXJ0QnVmZmVyQWRqdXN0bWVudFBhcmFtcyk7bnVsbCE9YS5hZGRDZG5EZWJ1Z1F1ZXJ5UGFyYW1ldGVycyYmKHRoaXMuZy5hZGRDZG5EZWJ1Z1F1ZXJ5UGFyYW1ldGVycz1hLmFkZENkbkRlYnVnUXVlcnlQYXJhbWV0ZXJzKTtudWxsIT1hLnNlZ21lbnRSZXF1ZXN0VGltZW91dCYmCih0aGlzLmcuc2VnbWVudFJlcXVlc3RUaW1lb3V0PWEuc2VnbWVudFJlcXVlc3RUaW1lb3V0KTtudWxsIT1hLnJlc29sdmVWaWRlb1RpbWVVcGRhdGVPbkZyYWdtZW50ZWRUaW1lUmFuZ2VzJiYodGhpcy5nLnJlc29sdmVWaWRlb1RpbWVVcGRhdGVPbkZyYWdtZW50ZWRUaW1lUmFuZ2VzPWEucmVzb2x2ZVZpZGVvVGltZVVwZGF0ZU9uRnJhZ21lbnRlZFRpbWVSYW5nZXMpO251bGwhPWEucmVhcHBlbmRJbml0U2VnbWVudEFmdGVyQWJvcnQmJih0aGlzLmcucmVhcHBlbmRJbml0U2VnbWVudEFmdGVyQWJvcnQ9YS5yZWFwcGVuZEluaXRTZWdtZW50QWZ0ZXJBYm9ydCk7bnVsbCE9YS5saXZlRGF0YUZldGNoTWF4UmV0cmllcyYmKHRoaXMuZy5saXZlRGF0YUZldGNoTWF4UmV0cmllcz1hLmxpdmVEYXRhRmV0Y2hNYXhSZXRyaWVzKTtudWxsIT1hLmxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXMmJih0aGlzLmcubGl2ZVNvdXJjZUJ1ZmZlckNsZWFyTWF4UmV0cmllcz1hLmxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXMpOwpudWxsIT1hLnBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2UmJih0aGlzLmcucGxheWhlYWRGcmFnbWVudGVkR2FwRGlmZkFsbG93YW5jZT1hLnBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2UpO251bGwhPWEuZml4QnVmZmVyaW5nR29hbERldGVybWluYXRpb24mJih0aGlzLmcuZml4QnVmZmVyaW5nR29hbERldGVybWluYXRpb249YS5maXhCdWZmZXJpbmdHb2FsRGV0ZXJtaW5hdGlvbik7bnVsbCE9YS5za2lwRW1wdHlTZWdtZW50cyYmKHRoaXMuZy5za2lwRW1wdHlTZWdtZW50cz1hLnNraXBFbXB0eVNlZ21lbnRzKTtudWxsIT1hLnVzZU1pY3JvVGFza1RpbWVvdXRzJiYodGhpcy5nLnVzZU1pY3JvVGFza1RpbWVvdXRzPWEudXNlTWljcm9UYXNrVGltZW91dHMpO0RmKHRoaXMpO251bGwhPWEuaW5jbHVkZVN0cmVhbUJ1ZmZlclNpemVJblN0YXJ0T2Zmc2V0JiYodGhpcy5aYj1Cb29sZWFuKGEuaW5jbHVkZVN0cmVhbUJ1ZmZlclNpemVJblN0YXJ0T2Zmc2V0KSk7Cm51bGwhPWEubGl2ZUF1ZGlvUHVzaFJlcHJlc2VudGF0aW9uJiYodGhpcy5wYT1TdHJpbmcoYS5saXZlQXVkaW9QdXNoUmVwcmVzZW50YXRpb24pKTtudWxsIT1hLmxpdmVJbml0aWFsUHVzaFJlcHJlc2VudGF0aW9uJiYodGhpcy5PYT1TdHJpbmcoYS5saXZlSW5pdGlhbFB1c2hSZXByZXNlbnRhdGlvbikpO251bGwhPWEuZW5hYmxlQWRhcHRhdGlvbiYmdGhpcy5BLmVuYWJsZShCb29sZWFuKGEuZW5hYmxlQWRhcHRhdGlvbikpO251bGwhPWEubXBkUmVxdWVzdFRpbWVvdXQmJih0aGlzLkxiPU51bWJlcihhLm1wZFJlcXVlc3RUaW1lb3V0KSk7bnVsbCE9YS5taW5NcGRSZWZyZXNoSW50ZXJ2YWwmJih0aGlzLktiPU51bWJlcihhLm1pbk1wZFJlZnJlc2hJbnRlcnZhbCkvMUUzKTtudWxsIT1hLmVuYWJsZU1hbmlmZXN0RGVidWcmJih0aGlzLlViPSEhYS5lbmFibGVNYW5pZmVzdERlYnVnKTtudWxsIT1hLmxpdmVTdHJlYW1FbmRUaW1lb3V0JiYodGhpcy5nYj1OdW1iZXIoYS5saXZlU3RyZWFtRW5kVGltZW91dCkpOwpudWxsIT1hLnByZWZlcnJlZExhbmd1YWdlJiYodGhpcy5TPVNhKFN0cmluZyhhLnByZWZlcnJlZExhbmd1YWdlKSkpO251bGwhPWEubGl2ZVNlbmRQdXNoSGVhZGVycyYmKHRoaXMucmE9Qm9vbGVhbihhLmxpdmVTZW5kUHVzaEhlYWRlcnMpKTtudWxsIT1hLmxpdmVNYXhNYW5pZmVzdEZldGNoZXNXaXRoUHVzaCYmKHRoaXMuUGE9TnVtYmVyKGEubGl2ZU1heE1hbmlmZXN0RmV0Y2hlc1dpdGhQdXNoKSk7bnVsbCE9YS5jdXJyZW50VGltZUR1cmluZ1JlYWR5U3RhdGVaZXJvVGhyb3dzJiYodGhpcy5TYj1Cb29sZWFuKGEuY3VycmVudFRpbWVEdXJpbmdSZWFkeVN0YXRlWmVyb1Rocm93cykpO251bGwhPWEubGl2ZU1heFNlZ21lbnRzVG9QdXNoJiYodGhpcy5nYz1OdW1iZXIoYS5saXZlTWF4U2VnbWVudHNUb1B1c2gpKTtudWxsIT1hLmp1bXBUb0xpdmVUaHJlc2hvbGQmJih0aGlzLmRjPU51bWJlcihhLmp1bXBUb0xpdmVUaHJlc2hvbGQpKTtudWxsIT1hLnJlc3RyaWN0aW9ucyYmKHRoaXMubT0KYS5yZXN0cmljdGlvbnMsdGhpcy5PJiZFZih0aGlzKSk7bnVsbCE9YS51c2VMb25nQ2FjaGVGb3JNYW5pZmVzdCYmKHRoaXMubWE9Qm9vbGVhbihhLnVzZUxvbmdDYWNoZUZvck1hbmlmZXN0KSk7bnVsbCE9YS5qdW1wVG9FYXJsaWVzdFBvc2l0aW9uSW5DdXJyZW50QmxvY2smJih0aGlzLmNjPUJvb2xlYW4oYS5qdW1wVG9FYXJsaWVzdFBvc2l0aW9uSW5DdXJyZW50QmxvY2spKTtudWxsIT1hLmlnbm9yZU1pbkJ1ZmZlclRpbWUmJih0aGlzLkdhPUJvb2xlYW4oYS5pZ25vcmVNaW5CdWZmZXJUaW1lKSk7bnVsbCE9PWEuZW5hYmxlUmVxdWVzdFBpcGVsaW5pbmcmJih0aGlzLlZiPUJvb2xlYW4oYS5lbmFibGVSZXF1ZXN0UGlwZWxpbmluZykpO251bGwhPT1hLmVuYWJsZVN0cmVhbWluZyYmKHRoaXMuV2I9Qm9vbGVhbihhLmVuYWJsZVN0cmVhbWluZykpfTsKWS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuSi5kZXN0cm95KCk7dGhpcy5zYS5kZXN0cm95KCk7dGhpcy5zYT10aGlzLko9bnVsbDt0aGlzLmthJiYoY2xlYXJUaW1lb3V0KHRoaXMua2EpLHRoaXMua2E9bnVsbCk7dGhpcy51JiYoY2xlYXJUaW1lb3V0KHRoaXMudSksdGhpcy51PW51bGwpO3RoaXMuQj1udWxsO3RoaXMuaC5kZXN0cm95KCk7dGhpcy5oPW51bGw7V2EodGhpcy5jKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2EuZGVzdHJveSgpfSk7dGhpcy5mPXRoaXMuYz1udWxsO3RoaXMuYiYmKHRoaXMuYi5kZXN0cm95KCksdGhpcy5iPW51bGwpO3RoaXMuQS5kZXN0cm95KCk7dGhpcy5KYT10aGlzLm09dGhpcy52aWRlbz10aGlzLmk9dGhpcy53YT10aGlzLkE9bnVsbDt0aGlzLmEuZ2V0Qm9vbCgiZml4aW5nX3NjaGVkdWxlcl9kaXNhYmxlX2xlYWtzIiwhMCkmJihPYmplY3Qua2V5cyh0aGlzLm8pLmZvckVhY2goZnVuY3Rpb24oYSl7KGE9dGhpcy5vW2FdKSYmYS5kaXNhYmxlKCl9LmJpbmQodGhpcykpLAp0aGlzLm89e30pO09iamVjdC5rZXlzKHRoaXMudykuZm9yRWFjaChmdW5jdGlvbihhKXsoYT10aGlzLndbYV0pJiZhLmRlc3Ryb3koKX0uYmluZCh0aGlzKSk7dGhpcy53PXt9O3RoaXMuSSYmKHRoaXMuSS5kaXNhYmxlKCksdGhpcy5JPW51bGwpO3RoaXMuUiYmKHRoaXMuUi5jbGVhbnVwKCksdGhpcy5SPW51bGwpO2Zvcih2YXIgYT0wO2E8dGhpcy5VLmxlbmd0aDthKyspdGhpcy5VW2FdLmNsZWFudXAoKTt0aGlzLlU9W107dGhpcy51Yy5yZWxlYXNlKCl9O2Z1bmN0aW9uIGVmKGEsYil7aWYoYS5sKXt2YXIgYz1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJtZWRpYV9zb3VyY2Vfb3BlbiIpLnN0YXJ0KCk7YS5JYi50aGVuKGZ1bmN0aW9uKCl7Yy5sb2coKX0pfUUoYS5oLGEuaSwic291cmNlb3BlbiIsYS5oZC5iaW5kKGEpKTtiLnNyYz13aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChhLmkpfW49WS5wcm90b3R5cGU7bi52Yz1mdW5jdGlvbigpe307CmZ1bmN0aW9uIGpmKGEsYixjKXt2YXIgZDthLmwmJihkPWEubC5nZXRPcGVyYXRpb25Mb2dnZXIoInNvdXJjZV9hdHRhY2giKS5zdGFydCgpKTtpZighYS5PKXJldHVybiBhPUVycm9yKCJDYW5ub3QgY2FsbCBhdHRhY2goKSByaWdodCBub3cuIiksYS50eXBlPSJhcHAiLGQmJmQuc2V0RXJyb3IoYSkubG9nKCksUHJvbWlzZS5yZWplY3QoYSk7YS5KYT1iO2EudmlkZW89YzthLmJhPW51bGw7YS5hLmdldEJvb2woImVuYWJsZV92aWV3cG9ydF9wcmlvcml0eV9hZGp1c3RtZW50IiwhMSkmJihhLlI9bmV3IFZpZXdwb3J0UHJpb3JpdHlBZGp1c3RlcihhLnZpZGVvKSxhLlIuc2V0T25Qcmlvcml0eUNoYW5nZWQoZnVuY3Rpb24oYSl7T2JqZWN0LmtleXModGhpcy5vKS5mb3JFYWNoKGZ1bmN0aW9uKGIpe3RoaXMub1tiXS51cGRhdGVQcmlvcml0eVdpdGhOZXdBZGp1c3RtZW50KGEpfS5iaW5kKHRoaXMpKX0uYmluZChhKSkpO2EuYS5nZXRCb29sKCJlbmFibGVfZmlyc3RfdmlkZW9fcHJpb3JpdHlfYWRqdXN0bWVudCIsCiExKSYmYS5VLnB1c2gobmV3IEZpcnN0TG9hZGVkVmlkZW9Qcmlvcml0eUFkanVzdGVyKGEudmlkZW8pKTtFKGEuaCxhLnZpZGVvLCJsb2FkZWRtZXRhZGF0YSIsYS5nZC5iaW5kKGEpKTtFKGEuaCxhLndhLCJiYW5kd2lkdGgiLGEuR2QuYmluZChhKSk7aWYoYS5iLmJ8fGEuYS5nZXRCb29sKCJiYWNrX29mZl9idWZmZXJpbmdfb3ZlcmZsb3ciLCExKSlFKGEuaCxiLCJidWZmZXJpbmdTdGFydCIsYS5jZC5iaW5kKGEpKSxFKGEuaCxiLCJidWZmZXJpbmdFbmQiLGEuYmQuYmluZChhKSk7Yj1hLmEuZ2V0Qm9vbCgiZW5hYmxlX2NvbnRlbnRfcHJvdGVjdGlvbiIsITEpPyhiPWEudmlkZW8ubWVkaWFLZXlzKSYmYS52aWRlby5zZXRNZWRpYUtleXM/YS52aWRlby5zZXRNZWRpYUtleXMoYik6UHJvbWlzZS5yZXNvbHZlKCk6UHJvbWlzZS5yZXNvbHZlKCk7RmYoYSkudGhlbihKKGEsZnVuY3Rpb24oKXtkJiZ0aGlzLlAoKSYmZC5zZXRMaXZlaGVhZFBvc2l0aW9uKEdmKEhmKHRoaXMpKSk7dGhpcy5KJiYKdGhpcy5KLnJlc29sdmUoKTt0aGlzLnZjKCl9KSkuY2F0Y2goSihhLGZ1bmN0aW9uKGEpe3RoaXMuSiYmdGhpcy5KLnJlamVjdChhKX0pKTtyZXR1cm4gUHJvbWlzZS5hbGwoW2EuSixiXSkudGhlbihmdW5jdGlvbigpe2QmJmQubG9nKCl9KX0Kbi53Yj1mdW5jdGlvbigpe2lmKHRoaXMuTyl7dmFyIGE9RXJyb3IoIkNhbm5vdCBjYWxsIGxvYWQoKSByaWdodCBub3cuIik7YS50eXBlPSJhcHAiO3JldHVybiBQcm9taXNlLnJlamVjdChhKX1pZighdGhpcy5ifHwwPT10aGlzLmIuYS5sZW5ndGgpcmV0dXJuIGE9RXJyb3IoIlRoZSBtYW5pZmVzdCBkb2VzIG5vdCBzcGVjaWZ5IGFueSBjb250ZW50LiIpLGEudHlwZT0ic3RyZWFtIixQcm9taXNlLnJlamVjdChhKTt0Zih0aGlzLmIuYSk7aWYoMD09dGhpcy5iLmEubGVuZ3RofHwwPT10aGlzLmIuYVswXS5hLmxlbmd0aHx8IXRoaXMuYi5hWzBdLmEuc29tZShmdW5jdGlvbihhKXtyZXR1cm4idmlkZW8iPT09YS5jb250ZW50VHlwZX0pKXJldHVybiBhPUVycm9yKCJUaGUgbWFuaWZlc3Qgc3BlY2lmaWVzIGNvbnRlbnQgdGhhdCBjYW5ub3QgYmUgZGlzcGxheWVkIG9uIHRoaXMgYnJvd3Nlci9wbGF0Zm9ybS4iKSxhLnR5cGU9InN0cmVhbSIsUHJvbWlzZS5yZWplY3QoYSk7dGhpcy5PPQohMDt0aGlzLkdhfHwodGhpcy5nLmluaXRpYWxTdHJlYW1CdWZmZXJTaXplPU1hdGgubWF4KHRoaXMuZy5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZXx8MCx0aGlzLmIuZykpO3RoaXMuaWEmJnRoaXMuaWEuc2V0U3RyZWFtVHlwZSh0aGlzLmIuQik7RGYodGhpcyk7RWYodGhpcyk7cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpfTtmdW5jdGlvbiBJZihhKXt2YXIgYj15KHt0eXBlOiJtYW5pZmVzdHdyYXBwZWQiLGJ1YmJsZXM6ITB9KTthLmRpc3BhdGNoRXZlbnQoYil9ZnVuY3Rpb24gSmYoYSxiKXt2YXIgYz15KHt0eXBlOiJsaXZlaGVhZElkbGVBdCIsc2Vjb25kczpiLGJ1YmJsZXM6ITB9KTthLmRpc3BhdGNoRXZlbnQoYyl9ZnVuY3Rpb24gR2YoYSl7cmV0dXJuIE1hdGgubWluLmFwcGx5KE1hdGgsYS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEubGVuZ3RoKCk/YS5sYXN0KCkuZW5kVGltZTpudWxsfSkuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiEhYX0pKX0Kbi5KYj1mdW5jdGlvbihhLGIpe3ZhciBjO3RoaXMuYS5nZXRCb29sKCJkZWNvdXBsZV9tcGRfdXBkYXRlX2xvb3BfZnJvbV9yZXF1ZXN0X2xvb3AiLCExKSYmS2YodGhpcywwKTt0aGlzLlYmJih0aGlzLlYubG9nKCksdGhpcy5WPW51bGwpO3RoaXMubCYmKGM9dGhpcy5sLmdldE9wZXJhdGlvbkxvZ2dlcigidXBkYXRlX21hbmlmZXN0Iikuc3RhcnQoKSk7aWYoIWJ8fHRoaXMuTyl7dmFyIGQ9RGF0ZS5ub3coKTt0aGlzLmEuZ2V0Qm9vbCgiZGVjb3VwbGVfbXBkX3VwZGF0ZV9sb29wX2Zyb21fcmVxdWVzdF9sb29wIiwhMSl8fCh0aGlzLnU9bnVsbCk7dmFyIGU9bnVsbCxmLGc7aWYodGhpcy5yYSYmKCF0aGlzLlBhfHx0aGlzLlBhPnRoaXMuaWMpKXtmPU1hdGguZmxvb3IoTGYodGhpcykpKzE7Zj1NYXRoLm1pbihmLHRoaXMuZ2MpO3ZhciBoPXRoaXMuYy52aWRlbztpZihoPWg/aC5GYigpOm51bGwpaD1oLmxhc3QoKSxudWxsIT1oLnVuc2NhbGVkU3RhcnRUaW1lJiYoZz1oLnVuc2NhbGVkU3RhcnRUaW1lKTsKaWYodGhpcy52aWRlby5wYXVzZWR8fHRoaXMuJClmPTB9ZiYmdGhpcy5pYysrO2g9dGhpcy5iLmk7aD10aGlzLmEuZ2V0Qm9vbCgiZW5hYmxlX2NsZWFuX2ZhaWxvdmVyX3VyaV9vbl9tcGRfcmVxdWVzdHMiLCEwKT9oLmNsb25lKCk6aDtjJiYhYSYmYy5zZXRSZXNvdXJjZShoLnRvU3RyaW5nKCkpOyhhP3RoaXMueGMoKTp0aGlzLnljKGgsZixnKSkudGhlbihKKHRoaXMsZnVuY3Rpb24oYil7YXx8dGhpcy5HLmluZm9ybU5ldHdvcmtSZXN1bWVkKCk7ZT1uZXcgdmYoYik7dmFyIGM7dGhpcy5sJiYoYz10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJ1cGRhdGVfbWFuaWZlc3RfaW5mbyIpLnN0YXJ0KCkpO2I9ZS51cGRhdGUodGhpcy5iKTtiLnRoZW4oZnVuY3Rpb24oKXtjJiZjLmxvZygpfSxmdW5jdGlvbihhKXtjJiZjLnNldEVycm9yKGEpLmxvZygpfSkuY2F0Y2goZnVuY3Rpb24oKXt9KTtyZXR1cm4gYn0pKS50aGVuKEoodGhpcyxmdW5jdGlvbihhKXtlLmRlc3Ryb3koKTtlPW51bGw7CnZhciBmPUhmKHRoaXMpO3RoaXMuTGEoIlNlZ21lbnRJbmRleGVzVXBkYXRlZCIsZik7aWYodGhpcy5hLmdldEJvb2woImVtaXRfbGl2ZV9wbGF5aGVhZF9pZGxlX2Zyb21fY2xpZW50IiwhMCkpe3ZhciBnPXRoaXMuYS5nZXROdW1iZXIoImxpdmVfcGxheWhlYWRfaWRsZV9hbGxfc3RyZWFtX3RocmVzaG9sZCIsNCksaD10aGlzLmEuZ2V0TnVtYmVyKCJsaXZlX3BsYXloZWFkX2lkbGVfc2luZ2xlX3N0cmVhbV90aHJlc2hvbGQiLDUpO2lmKEhmKHRoaXMpLmV2ZXJ5KGZ1bmN0aW9uKGEpe3JldHVybiBhLnUoKT49Z30pfHxIZih0aGlzKS5zb21lKGZ1bmN0aW9uKGEpe3JldHVybiBhLnUoKT49aH0pKXt2YXIgdD1HZihmKTtKZih0aGlzLHQpfX1mLnNvbWUoZnVuY3Rpb24oYSl7cmV0dXJuIGEucmIoKX0pJiZJZih0aGlzKTt0PU1mKHRoaXMsZik7YyYmdGhpcy5QKCkmJmMuc2V0TGl2ZWhlYWRQb3NpdGlvbihHZihmKSk7YyYmYy5zZXRNYW5pZmVzdFR5cGUodGhpcy5iLmI/ImR5bmFtaWMiOgoic3RhdGljIikuc2V0VXBkYXRlUGVyaW9kKG51bGw9PT10aGlzLmIuYz9udWxsOk1hdGguY2VpbCgxRTMqdGhpcy5iLmMpKTt0aGlzLm5hJiZOZih0aGlzLHQpO3RoaXMuYS5nZXRCb29sKCJza2lwX3JlbWFpbmluZ19idWZmZXJlZF9vbl9zdHJlYW1fZW5kIiwhMSkmJnQmJnRoaXMuYi5iJiZ0aGlzLmIuaCYmdGhpcy52aWRlby5wYXVzZWQmJih0aGlzLnZpZGVvLmN1cnJlbnRUaW1lPXRoaXMuamEtLjEpO2lmKHNmKHRoaXMpKXJldHVybiBjJiZjLmxvZygpLHRoaXMuZWIoKTtmb3IoZj0wO2Y8YS5sZW5ndGg7KytmKU9mKHRoaXMsYVtmXSk7dGhpcy5HYXx8KHRoaXMuZy5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZT1NYXRoLm1heCh0aGlzLmcuaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemV8fDAsdGhpcy5iLmcpKTt0aGlzLmcudXNlSW5pdGlhbEJ1ZmZlclNpemVXaGVuUGF1c2VkPXRoaXMuYi5iO0RmKHRoaXMpO0VmKHRoaXMpOzA9PU9iamVjdC5rZXlzKHRoaXMuYykubGVuZ3RoP0ZmKHRoaXMpOgooYT1EYXRlLm5vdygpLGJ8fEtmKHRoaXMsKGEtZCkvMUUzKSk7YyYmYy5sb2coKTt0aGlzLnRiKCkmJmV4dHJhY3RDRUE2MDgucHJlcGFyZSgpO3RoaXMuYS5nZXRCb29sKCJ1cGRhdGVfY2VhNjA4X2F2YWlsYWJpbGl0eV9vbl9tcGRfcGFyc2luZyIsITEpJiYoYT10aGlzLnRiKCksdGhpcy5ZYiE9PWEmJihmPXkoe3R5cGU6ImNlYTYwOEF2YWlsYWJpbGl0eUNoYW5nZWQiLGJ1YmJsZXM6ITB9KSx0aGlzLmRpc3BhdGNoRXZlbnQoZiksdGhpcy5ZYj1hKSl9KSkuY2F0Y2goSih0aGlzLGZ1bmN0aW9uKGEpe2MmJmMuc2V0RXJyb3IoYSkubG9nKCk7ZSYmKGUuZGVzdHJveSgpLGU9bnVsbCk7aWYoIWIpe3ZhciBkPXRoaXMuYi5mfHx0aGlzLmEuZ2V0Qm9vbCgicmV0cnlfZWdyZXNzXzUwMHMiLCExKSxmPVswLDQxMF07dGhpcy5hLmdldEJvb2woImVuYWJsZV9kb3VibGVfaW5nZXN0IiwhMSkmJmYucHVzaCg0MTcsMjAwKTshdGhpcy5hLmdldEJvb2woIm5vX3JldHJ5X29uXzUwMl81MDMiLAohMSkmJmQmJihmPWYuY29uY2F0KFs1MDIsNTAzXSkpO2Q9dGhpcy5hLmdldEJvb2woImZpeF9saXZlX3N0cmVhbV9nb25lX29uX21hbmlmZXN0X3VwZGF0ZSIsITApPy0xPT09Zi5pbmRleE9mKGEuc3RhdHVzKTowIT09YS5zdGF0dXM7aWYodGhpcy5hLmdldEJvb2woImFsbG93X2luZmluaXRlX3JldHJ5X29uX25ldF9lcnIiLCEwKSYmIm5ldCI9PT1hLnR5cGUmJiFkKXN3aXRjaChhLnN0YXR1cyl7Y2FzZSA0MTA6dGhpcy5oYz0hMDt0aGlzLmomJihjbGVhclRpbWVvdXQodGhpcy5qKSx0aGlzLmo9bnVsbCk7dGhpcy5lYigpO2JyZWFrO2Nhc2UgMjAwOmNhc2UgNDE3OmEucmVzcG9uc2VIZWFkZXJzJiZudWxsIT1hLnJlc3BvbnNlSGVhZGVyc1sieC1mYi12aWRlby1yZXBsaWNhIl0/dGhpcy5kaXNwYXRjaEV2ZW50KHkoe3R5cGU6InJlcGxpY2Fzd2l0Y2giLGJ1YmJsZXM6ITAscmVwbGljYTphLnJlc3BvbnNlSGVhZGVyc1sieC1mYi12aWRlby1yZXBsaWNhIl0sdXJsOmEudXJsLHN0YXR1czphLnN0YXR1c30pKToKZD0hMDticmVhaztkZWZhdWx0OlBmKHRoaXMpfTA9PT1hLnN0YXR1cz90aGlzLkcuaW5mb3JtTmV0d29ya0ludGVycnVwdGVkKCk6dGhpcy5HLmluZm9ybU5ldHdvcmtSZXN1bWVkKCk7aWYoImRlbGF5Ij09YS50eXBlKXJldHVybiBQZih0aGlzKTt0aGlzLmEuZ2V0Qm9vbCgiYWxsb3dfaW5maW5pdGVfcmV0cnlfb25fbmV0X2VyciIsITApJiYhZHx8ImFib3J0ZWQiPT1hLnR5cGV8fChhPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGEpLHRoaXMuYiYmUGYodGhpcykpfX0pKX19O24ueWM9ZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZWplY3QoIkNhbm5vdCB1cGRhdGUgbWFuaWZlc3Qgd2l0aCB0aGlzIFZpZGVvU291cmNlIGltcGxlbWVudGF0aW9uLiIpfTtuLnhjPWZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVqZWN0KCJDYW5ub3QgdXBkYXRlIG1hbmlmZXN0IHdpdGggdGhpcyBWaWRlb1NvdXJjZSBpbXBsZW1lbnRhdGlvbi4iKX07CmZ1bmN0aW9uIE5mKGEsYil7aWYoYiYmYS5iJiZhLmIuYilpZihhLmEuZ2V0Qm9vbCgic2Vla19vdmVyX3VuYXZhaWxhYmxlX3NlZ21lbnRzX29uX21hbmlmZXN0X3VwZGF0ZSIsITEpJiZhLmVhKWIuZW5kPmEudmlkZW8uY3VycmVudFRpbWUrMTAmJihhLmVhPSExLGEudmlkZW8uY3VycmVudFRpbWU9Yi5lbmQsUWYoYSkpO2Vsc2UgaWYoYS52aWRlby5wYXVzZWQmJmIuZW5kPmEudmlkZW8uY3VycmVudFRpbWUrMTApaWYoYS5hLmdldEJvb2woImVuYWJsZV9sYXp5X2xpdmVoZWFkX2NhdGNodXAiLCExKSl7dmFyIGM9YS54YTtjPGEuSWQmJihhLnhhPSsrYyk7UmYoYSxjKTthLmNhPWIuZW5kfWVsc2UgYS5lYT0hMSxhLnZpZGVvLmN1cnJlbnRUaW1lPWIuZW5kLFFmKGEpfQpmdW5jdGlvbiBLZihhLGIpe2lmKG51bGw9PWEuYi5jKUJhbnphaU9EUy5idW1wRW50aXR5S2V5KDI5NjYsInZpZGVvcy53d3cubGl2ZSIsInVwZGF0ZV9wZXJpb2RfaXNfbnVsbCIpO2Vsc2UgaWYoIWEuRmEpe2lmKGEuYS5nZXRCb29sKCJkZWNvdXBsZV9tcGRfdXBkYXRlX2xvb3BfZnJvbV9yZXF1ZXN0X2xvb3AiLCExKSYmKGEudSYmKGNsZWFyVGltZW91dChhLnUpLGEudT1udWxsKSxzZihhKSkpcmV0dXJuO3ZhciBjPU1hdGgubWF4KGEuYi5jLGEuS2IpLGM9TWF0aC5tYXgoYy1iLDApLGQ9YS5KYi5iaW5kKGEsITEpOyFjJiZhLmcudXNlTWljcm9UYXNrVGltZW91dHM/UHJvbWlzZS5yZXNvbHZlKCkudGhlbihkKTooYS5WJiZhLlYuc2V0UmVzdWx0KCJmYWlsZWQiKS5sb2coKSxhLmwmJihhLlY9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigic2NoZWR1bGVfbWFuaWZlc3RfdXBkYXRlIikuc3RhcnQoKS5zZXRVcGRhdGVQZXJpb2QoTWF0aC5jZWlsKDFFMypjKSkpLGEudT1zZXRUaW1lb3V0KGQsCjFFMypjKSl9fWZ1bmN0aW9uIE9mKGEsYil7dmFyIGM9TWQoYiksZD1hLmNbY107aWYoZCYmZC5XYSgpPT1iKXt2YXIgZT1hLmYuZ2V0KE1kKGIpKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEudn0pLnJlZHVjZShmdW5jdGlvbihhLGIpe3JldHVybiBhLmNvbmNhdChiKX0sW10pLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gYS5vYSYmYS5mYX0pO2lmKDA9PWUubGVuZ3RoKXtjPUVycm9yKCJBbGwgdXNhYmxlIHN0cmVhbXMgaGF2ZSBiZWVuIHJlbW92ZWQgZnJvbSB0aGUgbWFuaWZlc3QuIik7Yy50eXBlPSJhcHAiO2M9QShjKTthLmRpc3BhdGNoRXZlbnQoYyk7cmV0dXJufWEuQltjXS5MYz09YiYmZGVsZXRlIGEuQltjXTtkLmpiKGVbMF0sITApO2IuZGVzdHJveSgpfWIuZGVzdHJveSgpfW4uQ2Q9ZnVuY3Rpb24oYSl7dGhpcy5wYz1hfTtZLnByb3RvdHlwZS5zZXRUYWdnZWRUaW1lUmFuZ2VzPVkucHJvdG90eXBlLkNkOwpZLnByb3RvdHlwZS53ZD1mdW5jdGlvbigpe3JldHVybiAwPT09T2JqZWN0LmtleXModGhpcy5jKS5sZW5ndGg/ITE6WyJhdWRpbyIsInZpZGVvIl0uZXZlcnkoSih0aGlzLGZ1bmN0aW9uKGEpe3JldHVybiF0aGlzLmNbYV18fHRoaXMuY1thXS5UfSkpfTtZLnByb3RvdHlwZS5oYXNIaXRCdWZmZXJpbmdHb2FsPVkucHJvdG90eXBlLndkOwpZLnByb3RvdHlwZS5aPWZ1bmN0aW9uKGEpe2lmKCF0aGlzLmZ8fCF0aGlzLmYuYS5oYXNPd25Qcm9wZXJ0eSgidmlkZW8iKSlyZXR1cm5bXTthPWEmJmEudXNlTG9jYWxCaXRyYXRlfHwhMTt2YXIgYj10aGlzLmMudmlkZW8sYz1iP2IuV2EoKTpudWxsLGQ9Yz9jLlg6MCxlPTEsZj1udWxsO3RoaXMuYS5nZXRCb29sKCJ1c2VfbGl2ZV9iaXRyYXRlX2VzdGltYXRlcyIsITEpJiZ0aGlzLlAoKSYmbnVsbCE9YiYmKGY9Yi5sYSgpLG51bGwhPWMmJjA8Yy5iYW5kd2lkdGgmJihlPWYvYy5iYW5kd2lkdGgpKTtmb3IodmFyIGM9W10sZz10aGlzLmYuZ2V0KCJ2aWRlbyIpLGg9MDtoPGcubGVuZ3RoOysraClmb3IodmFyIGs9Z1toXSxsPTA7bDxrLnYubGVuZ3RoOysrbCl7dmFyIG09ay52W2xdO2lmKG0ub2EmJm0uZmEpe3ZhciBwPW51bGw7aWYoYSYmbnVsbCE9PW0uTSl7dmFyIHQ9bS5NLmMoKSx3PWI7aWYodGhpcy5QKCl8fG51bGw9PT10fHxudWxsPT09dylwPW51bGw7ZWxzZXt2YXIgcD0KcGUodyx0aGlzLnZpZGVvLmN1cnJlbnRUaW1lLHQpLHo9dC5nZXRTZWdtZW50cygpO3RoaXMuYS5nZXRCb29sKCJzdGFydF9sb2NhbF9iaXRyYXRlX2F0X2J1ZmZlcl9lbmQiLCExKSYmKHc9TG9jYWxCaXRyYXRlSGVscGVyLmdldEJ1ZmZlckVuZFNlZ21lbnRJbmRleCh6LHAsdGhpcy52aWRlby5jdXJyZW50VGltZSthZSh3LHRoaXMudmlkZW8uY3VycmVudFRpbWUpKSxudWxsIT09dyYmKHA9dykpO3A9TG9jYWxCaXRyYXRlSGVscGVyLmdldExvY2FsQml0cmF0ZSh0LmdldFNlZ21lbnRzKCkscCx0aGlzLmEuZ2V0TnVtYmVyKCJsb2NhbF9iaXRyYXRlX3NlZ21lbnRzX2FoZWFkIiwxMCkpfXRoaXMuYS5nZXRCb29sKCJ1c2VfbWF4X2xvY2FsX2JpdHJhdGUiLCExKSYmKHA9TWF0aC5tYXgocCxtLmJhbmR3aWR0aCkpfXQ9bS5YO3A9cHx8bS5iYW5kd2lkdGg7dGhpcy5hLmdldEJvb2woInVzZV9saXZlX2JpdHJhdGVfZXN0aW1hdGVzIiwhMSkmJm51bGwhPWYmJih0PT09ZD9wPU1hdGgubWF4KHAsCmYpOjE8ZSYmKHA9cCplKSxwPU1hdGgucm91bmQocCkpO209bmV3IHVhKHQscCxtLndpZHRoLG0uaGVpZ2h0LG0uaWQsbS5mYlF1YWxpdHlMYWJlbCxtLmZiUXVhbGl0eUNsYXNzLG0uZixtLmZyYW1lUmF0ZSxtLm1pbWVUeXBlLG0uY29kZWNzLG0uZyxtLmgpO3Q9PWQmJihtLmFjdGl2ZT0hMCk7Yy5wdXNoKG0pfX1yZXR1cm4gY307WS5wcm90b3R5cGUuZ2V0VmlkZW9UcmFja3M9WS5wcm90b3R5cGUuWjtZLnByb3RvdHlwZS5SYz1mdW5jdGlvbigpe2lmKHRoaXMuZ2EpcmV0dXJuIHRoaXMuZ2E7aWYoIXRoaXMuYilyZXR1cm4gbnVsbDtmb3IodmFyIGE9MDthPHRoaXMuYi5hLmxlbmd0aDsrK2EpZm9yKHZhciBiPXRoaXMuYi5hW2FdLGM9MDtjPGIuYS5sZW5ndGg7KytjKWlmKHRoaXMuZ2E9Yi5hW2NdLmMpcmV0dXJuIHRoaXMuZ2E7cmV0dXJuIG51bGx9O1kucHJvdG90eXBlLmdldFZpZGVvUHJvamVjdGlvbj1ZLnByb3RvdHlwZS5SYztZLnByb3RvdHlwZS5PYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmtifTsKWS5wcm90b3R5cGUuZ2V0TG9jYWxFc3RpbWF0b3I9WS5wcm90b3R5cGUuT2M7ZnVuY3Rpb24gU2YoYSl7YT1hLlooKTtmb3IodmFyIGI9MDtiPGEubGVuZ3RoO2IrKylpZihhW2JdLmFjdGl2ZSlyZXR1cm4gYVtiXX1ZLnByb3RvdHlwZS52YT1mdW5jdGlvbigpe2lmKCF0aGlzLmZ8fCF0aGlzLmYuYS5oYXNPd25Qcm9wZXJ0eSgiYXVkaW8iKSlyZXR1cm5bXTtmb3IodmFyIGE9dGhpcy5jLmF1ZGlvLGE9KGE9YT9hLldhKCk6bnVsbCk/YS5YOjAsYj1bXSxjPXRoaXMuZi5nZXQoImF1ZGlvIiksZD0wO2Q8Yy5sZW5ndGg7KytkKWZvcih2YXIgZT1jW2RdLGY9ZS5sYW5nLGc9MDtnPGUudi5sZW5ndGg7KytnKXt2YXIgaD1lLnZbZ107aWYoaC5vYSYmaC5mYSl7dmFyIGs9aC5YLGg9bmV3IGZhKGssaC5iYW5kd2lkdGgsZixoLmlkLGgubWltZVR5cGUsaC5jb2RlY3MsdGhpcy5iLnUsaC5jKTtrPT1hJiYoaC5hY3RpdmU9ITApO2IucHVzaChoKX19cmV0dXJuIGJ9OwpZLnByb3RvdHlwZS5nZXRBdWRpb1RyYWNrcz1ZLnByb3RvdHlwZS52YTtZLnByb3RvdHlwZS5tYz1mdW5jdGlvbigpe2lmKCF0aGlzLmZ8fCF0aGlzLmYuYS5oYXNPd25Qcm9wZXJ0eSgidGV4dCIpKXJldHVybltdO2Zvcih2YXIgYT10aGlzLmMudGV4dCxiPWE/YS5XYSgpOm51bGwsYj1iP2IuWDowLGM9W10sZD10aGlzLmYuZ2V0KCJ0ZXh0IiksZT0wO2U8ZC5sZW5ndGg7KytlKWZvcih2YXIgZj1kW2VdLGc9Zi5sYW5nLGg9MDtoPGYudi5sZW5ndGg7KytoKXt2YXIgaz1mLnZbaF0uWCxsPW5ldyB0YShrLGcpO2s9PWImJihsLmFjdGl2ZT0hMCxsLmVuYWJsZWQ9YS5EYigpKTtjLnB1c2gobCl9cmV0dXJuIGN9O1kucHJvdG90eXBlLmdldFRleHRUcmFja3M9WS5wcm90b3R5cGUubWM7WS5wcm90b3R5cGUuYWM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iJiZ0aGlzLmIubSYmMDx0aGlzLmIubT8hMDohMX07WS5wcm90b3R5cGUuaXNVc2luZ0FTUkNhcHRpb25zPVkucHJvdG90eXBlLmFjOwpZLnByb3RvdHlwZS5iYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmImJnRoaXMuYi5vJiYwPHRoaXMuYi5vJiZna3goIjExNzYyNTEiKT8hMDohMX07WS5wcm90b3R5cGUuaXNVc2luZ0FTUkNhcHRpb25zRW1wbG95ZWVEb2dmb29kaW5nPVkucHJvdG90eXBlLmJjO2Z1bmN0aW9uIHJmKGEpe3ZhciBiPU51bWJlcihhLmcuaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemUpO2EuZy5maXhCdWZmZXJpbmdHb2FsRGV0ZXJtaW5hdGlvbiYmKGI9MSk7aWYoYS5hLmdldEJvb2woImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvdyIsITEpKWI9YS5LO2Vsc2V7dmFyIGM9YS5hLmdldE51bWJlcigiYnVmZmVyaW5nX292ZXJmbG93X3RocmVzaG9sZCIsMCk7MDxjJiYoYj1jKX1yZXR1cm4gYS4kYj9OdW1iZXIoYS5nLnN0cmVhbUJ1ZmZlclNpemUpOmJ9CmZ1bmN0aW9uIE5lKGEpe2lmKGEuTyl7YT1hLmIuYVswXTtmb3IodmFyIGI9W10sYz0wO2M8YS5hLmxlbmd0aDsrK2MpYi5wdXNoLmFwcGx5KGIsUWQoYS5hW2NdKSk7YT1ifWVsc2UgYT1bXTtyZXR1cm4gYX0KZnVuY3Rpb24gUGUoYSxiKXtpZihhLk8pe2Zvcih2YXIgYz17fSxkPWEuYi5hWzBdLGU9MDtlPGQuYS5sZW5ndGg7KytlKXt2YXIgZj1kLmFbZV07Y1tmLlhdPWZ9YS5mLmE9e307ZD1hYihiKTtmb3IoZT0wO2U8ZC5sZW5ndGg7KytlKXt2YXIgZj1kW2VdLGc9Yi5nZXQoZik7aWYoInZpZGVvIj09Zil7dmFyIGg9Z1swXS5pZDthLmYucHVzaChmLGNbaF0pfWVsc2UgaWYoImF1ZGlvIj09Zil7aWYoMDxnLmxlbmd0aClmb3IodmFyIGg9Z1swXS5iLnNwbGl0KCI7IilbMF0saz0wO2s8Zy5sZW5ndGg7KytrKXt2YXIgbD1nW2tdO2wuYi5zcGxpdCgiOyIpWzBdPT1oJiZhLmYucHVzaChmLGNbbC5pZF0pfX1lbHNlIGZvcihrPTA7azxnLmxlbmd0aDsrK2spaD1nW2tdLmlkLGEuZi5wdXNoKGYsY1toXSl9YS55YT0hMDtpZihjPWEuZi5nZXQoImF1ZGlvIikpVGYoYSxjKSxhLmYuc2V0KCJhdWRpbyIsYyksYz1jWzBdLmxhbmd8fGEuUyxSYSgyLGEuUyxjKSYmKGEueWE9ITEpO2lmKGM9YS5mLmdldCgidGV4dCIpKVRmKGEsCmMpLGEuZi5zZXQoInRleHQiLGMpLGM9Y1swXS5sYW5nfHxhLlMsUmEoMixhLlMsYyl8fChhLnlhPSExKX19WS5wcm90b3R5cGUuWGM9ZnVuY3Rpb24oKXt0aGlzLkVhPSEwfTtZLnByb3RvdHlwZS5zZXRDbGVhckJ1ZmZlckFmdGVyU2Vla2luZz1ZLnByb3RvdHlwZS5YYztZLnByb3RvdHlwZS5zZWxlY3RWaWRlb1RyYWNrPWZ1bmN0aW9uKGEsYixjLGQsZSl7cmV0dXJuIG1mKHRoaXMsInZpZGVvIixhLGIsYyxkLGUpfTtZLnByb3RvdHlwZS5yZXN1bWVWaWRlb0ZldGNoaW5nPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5jLnZpZGVvP3RoaXMuYy52aWRlby5GOm51bGw7YSYmYS5yZXN1bWVWaWRlb0ZldGNoaW5nKCl9O1kucHJvdG90eXBlLnJlc3VtZVZpZGVvRmV0Y2hpbmc9WS5wcm90b3R5cGUucmVzdW1lVmlkZW9GZXRjaGluZztZLnByb3RvdHlwZS5IZD1mdW5jdGlvbigpe3ZhciBhPXRoaXMuYy52aWRlbz90aGlzLmMudmlkZW8uRjpudWxsO2EmJmEuc3RvcFVudGlsU2VnbWVudHNVcGRhdGUoKX07ClkucHJvdG90eXBlLnN0b3BVbnRpbFZpZGVvU3RyZWFtU3dpdGNoPVkucHJvdG90eXBlLkhkO2Z1bmN0aW9uIG5mKGEsYil7dmFyIGM9YS5jLnRleHQ7YyYmYy52YihiKX0KZnVuY3Rpb24gRWYoYSl7aWYoYS5tKXtmb3IodmFyIGI9ITEsYz0wO2M8YS5iLmEubGVuZ3RoOysrYylmb3IodmFyIGQ9YS5iLmFbY10sZT0wO2U8ZC5hLmxlbmd0aDsrK2Upe3ZhciBmPWQuYVtlXTtpZigidmlkZW8iPT1mLmNvbnRlbnRUeXBlKWZvcih2YXIgZz0wO2c8Zi52Lmxlbmd0aDsrK2cpe3ZhciBoPWYudltnXSxrPWguZmE7aC5mYT0hMDthLm0ubWF4V2lkdGgmJmgud2lkdGg+YS5tLm1heFdpZHRoJiYoaC5mYT0hMSk7YS5tLm1heEhlaWdodCYmaC5oZWlnaHQ+YS5tLm1heEhlaWdodCYmKGguZmE9ITEpO2EubS5taW5IZWlnaHQmJmguaGVpZ2h0PGEubS5taW5IZWlnaHQmJihoLmZhPSExKTthLm0ubWF4QmFuZHdpZHRoJiZoLmJhbmR3aWR0aD5hLm0ubWF4QmFuZHdpZHRoJiYoaC5mYT0hMSk7YS5tLm1pbkJhbmR3aWR0aCYmaC5iYW5kd2lkdGg8YS5tLm1pbkJhbmR3aWR0aCYmKGguZmE9ITEpO2shPWguZmEmJihiPSEwKX19MCE9JGEoYS5mKS5sZW5ndGgmJmImJihVZihhKSwKMDxhLlooKS5sZW5ndGh8fChiPUVycm9yKCJUaGUgYXBwbGljYXRpb24gaGFzIHJlc3RyaWN0ZWQgYWxsIHZpZGVvIHRyYWNrcyEiKSxiLnR5cGU9ImFwcCIsYj1BKGIpLGEuZGlzcGF0Y2hFdmVudChiKSkpfX1ZLnByb3RvdHlwZS5QPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYj90aGlzLmIuYjpudWxsfTtZLnByb3RvdHlwZS5pc0xpdmU9WS5wcm90b3R5cGUuUDtZLnByb3RvdHlwZS5ZYz1mdW5jdGlvbihhKXt0aGlzLiRiPWF9O1kucHJvdG90eXBlLnNldElzTGl2ZUludGVycnVwdGVkPVkucHJvdG90eXBlLlljO1kucHJvdG90eXBlLnZkPWZ1bmN0aW9uKCl7Zm9yKHZhciBhIGluIHRoaXMuYyl0aGlzLmNbYV0uSGMoKX07WS5wcm90b3R5cGUuZm9yY2VSZXN5bmNWaWRlb0J1ZmZlcj1ZLnByb3RvdHlwZS52ZDsKZnVuY3Rpb24gV2UoYSxiKXtmb3IodmFyIGMsZD0hMSxlPW5ldyBELGY9JGEoYS5mKSxnPTA7ZzxmLmxlbmd0aDsrK2cpZm9yKHZhciBoPWZbZ10saz0wO2s8aC52Lmxlbmd0aDsrK2spe3ZhciBsPWgudltrXTtsLmIuZm9yRWFjaChmdW5jdGlvbihhKXtlLnB1c2goYSxsKX0pfWZvcihjIGluIGIpaWYoZj1QYVtiW2NdXXx8bnVsbCxoPWUuZ2V0KGMpKWZvcihnPTA7ZzxoLmxlbmd0aDsrK2cpbD1oW2ddLGs9bC5vYSxsLm9hPSFmLGshPWwub2EmJihkPSEwKTtlbHNlIGliKGMpO2QmJihVZihhKSxkPWEudmEoKSxjPWEuWigpLGQ9YS5mLmEuaGFzT3duUHJvcGVydHkoImF1ZGlvIikmJjA9PWQubGVuZ3RoLGM9YS5mLmEuaGFzT3duUHJvcGVydHkoInZpZGVvIikmJjA9PWMubGVuZ3RoLGR8fGMpJiYoYz1FcnJvcigiVGhlIGtleSBzeXN0ZW0gaGFzIHJlc3RyaWN0ZWQgYWxsICIrKGQmJmM/ImF1ZGlvIGFuZCB2aWRlbyB0cmFja3MuIjpkPyJhdWRpbyB0cmFja3MuIjoidmlkZW8gdHJhY2tzLiIpKSwKYy50eXBlPSJkcm0iLGM9QShjKSxhLmRpc3BhdGNoRXZlbnQoYykpfWZ1bmN0aW9uIFVmKGEpe3ZhciBiPXkoe3R5cGU6InRyYWNrc2NoYW5nZWQiLGJ1YmJsZXM6ITB9KTthLmRpc3BhdGNoRXZlbnQoYil9ZnVuY3Rpb24gbWYoYSxiLGMsZCxlLGYsZyl7Zz0hIWc7aWYoIWEuZi5hLmhhc093blByb3BlcnR5KGIpfHwhYS5jW2JdKXJldHVybiExO2Zvcih2YXIgaD1hLmYuZ2V0KGIpLGs9MDtrPGgubGVuZ3RoOysraylmb3IodmFyIGw9aFtrXSxtPTA7bTxsLnYubGVuZ3RoOysrbSl7dmFyIHA9bC52W21dO2lmKHAuWD09Yyl7aWYoIXAub2F8fCFwLmZhKXJldHVybiExO2lmKCJ0ZXh0IiE9YiYmIWEuQ2EpcmV0dXJuIGM9YS5CW2JdLGEuQltiXT17TGM6cCxyYzpudWxsIT1jJiZjLnJjfHxkLHNjOm51bGwhPWMmJmMuc2N8fGUsc3dpdGNoUmVhc29uOmYsS2E6Z30sITA7YS5jW2JdLmpiKHAsZCxlLGYsZyk7cmV0dXJuITB9fXJldHVybiExfQpmdW5jdGlvbiBUZihhLGIpe2Zvcih2YXIgYz0wOzI+PWM7KytjKWZvcih2YXIgZD0wO2Q8Yi5sZW5ndGg7KytkKXt2YXIgZT1iW2RdO2lmKFJhKGMsYS5TLGUubGFuZykpe2Iuc3BsaWNlKGQsMSk7Yi5zcGxpY2UoMCwwLGUpO3JldHVybn19Zm9yKGQ9MDtkPGIubGVuZ3RoOysrZClpZihlPWJbZF0sZS5mKXtiLnNwbGljZShkLDEpO2Iuc3BsaWNlKDAsMCxlKTticmVha319bj1ZLnByb3RvdHlwZTtuLmhkPWZ1bmN0aW9uKCl7dGhpcy5oLmFiKHRoaXMuaSwic291cmNlb3BlbiIpO3RoaXMuSWIucmVzb2x2ZSgpfTsKZnVuY3Rpb24gRmYoYSl7dmFyIGI7YS5sJiYoYj1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJzdGFydF9zdHJlYW1zIikuc3RhcnQoKSk7Zm9yKHZhciBjPVtdLGQ9WyJhdWRpbyIsInZpZGVvIiwidGV4dCJdLGU9MDtlPGQubGVuZ3RoOysrZSl7dmFyIGY9ZFtlXTthLmYuYS5oYXNPd25Qcm9wZXJ0eShmKSYmYy5wdXNoKGEuZi5nZXQoZilbMF0pfWZvcih2YXIgZz1WZihhLGMpLGU9MDtlPGQubGVuZ3RoOysrZSlpZihmPWRbZV0sYS5mLmEuaGFzT3duUHJvcGVydHkoZikmJiFnW2ZdKXJldHVybiBhPUVycm9yKCJVbmFibGUgdG8gc2VsZWN0IGFuIGluaXRpYWwgIitmKyIgc3RyZWFtOiBhbGwgIitmKyIgc3RyZWFtcyBoYXZlIGJlZW4gcmVzdHJpY3RlZCAoYnkgdGhlIGFwcGxpY2F0aW9uIG9yIGJ5IHRoZSBrZXkgc3lzdGVtKS4iKSxhLnR5cGU9InN0cmVhbSIsYiYmYi5zZXRFcnJvcihhKS5sb2coKSxQcm9taXNlLnJlamVjdChhKTtjPVdhKGcpLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS5NLmNyZWF0ZSgpfSk7CmMucHVzaChhLkliKTtyZXR1cm4gUHJvbWlzZS5hbGwoYykudGhlbihKKGEsZnVuY3Rpb24oYSl7YS5wb3AoKTtpZighYS5ldmVyeShmdW5jdGlvbihhKXtyZXR1cm4gYS5sZW5ndGgoKX0pKXJldHVybiBhPUVycm9yKCJTb21lIHN0cmVhbXMgYXJlIG5vdCBhdmFpbGFibGUuIiksYS50eXBlPSJzdHJlYW0iLFByb21pc2UucmVqZWN0KGEpO2E9TWYodGhpcyxhKTtpZighYSlyZXR1cm4gYT1FcnJvcigiU29tZSBzdHJlYW1zIGFyZSBub3QgYXZhaWxhYmxlLiIpLGEudHlwZT0ic3RyZWFtIixQcm9taXNlLnJlamVjdChhKTtpZighV2YodGhpcyxnKSlyZXR1cm4gYT1FcnJvcigiRmFpbGVkIHRvIGNyZWF0ZSBTdHJlYW0gb2JqZWN0cy4iKSxhLnR5cGU9InN0cmVhbSIsUHJvbWlzZS5yZWplY3QoYSk7dGhpcy5BLnN0YXJ0KCk7WGYodGhpcyxnLGEpO3JldHVybiBQcm9taXNlLnJlc29sdmUoKX0pKS50aGVuKGZ1bmN0aW9uKCl7YiYmYi5sb2coKX0pLmNhdGNoKEooYSxmdW5jdGlvbihhKXtpZigiYWJvcnRlZCI9PQphLnR5cGUpYiYmYi5zZXRFcnJvcihhKS5sb2coKTtlbHNle09iamVjdC5rZXlzKHRoaXMuYyk7aWYodGhpcy5iLmIpcmV0dXJuIHlhKCk8dGhpcy5iLmo/KGE9TWF0aC5tYXgodGhpcy5iLmotRGF0ZS5ub3coKS8xRTMsdGhpcy5LYiksdGhpcy51PXNldFRpbWVvdXQodGhpcy5KYi5iaW5kKHRoaXMsITApLDFFMyphKSk6S2YodGhpcywwKSxiJiZiLmxvZygpLFByb21pc2UucmVzb2x2ZSgpO2ImJmIuc2V0RXJyb3IoYSkubG9nKCk7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfX0pKX0KZnVuY3Rpb24gVmYoYSxiKXtmb3IodmFyIGM9e30sZD0wO2Q8Yi5sZW5ndGg7KytkKXt2YXIgZT1iW2RdLGY9bnVsbDtpZigidmlkZW8iPT1lLmNvbnRlbnRUeXBlKXt2YXIgZz1hLkEuZ2V0SW5pdGlhbFZpZGVvVHJhY2tJZCgpO2lmKG51bGw9PWcpY29udGludWU7Zj1lLnYuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiBhLlg9PWd9KTtpZigwPT1mLmxlbmd0aCljb250aW51ZTtmPWZbMF19ZWxzZSBpZigiYXVkaW8iPT1lLmNvbnRlbnRUeXBlKWlmKGc9YS5BLmdldEluaXRpYWxBdWRpb1RyYWNrSWQoKSxmPWUudi5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIGEuWD09Z30pLDA9PWYubGVuZ3RoKXtmPWUudi5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIGEub2EmJmEuZmF9KTtpZigwPT1mLmxlbmd0aCljb250aW51ZTtmPWUudltNYXRoLmZsb29yKGYubGVuZ3RoLzIpXX1lbHNlIGY9ZlswXTtlbHNlIDA8ZS52Lmxlbmd0aCYmKGY9ZS52WzBdKTtjW2UuY29udGVudFR5cGVdPWZ9cmV0dXJuIGN9CmZ1bmN0aW9uIFdmKGEsYil7dmFyIGM9e30sZDtmb3IoZCBpbiBiKXt2YXIgZT1iW2RdLGU9InRleHQiPT1kP25ldyB0ZShhLGEudmlkZW8pOllmKGEsZSk7aWYoIWUpcmV0dXJuIFdhKGMpLmZvckVhY2goZnVuY3Rpb24oYSl7YS5kZXN0cm95KCl9KSwhMTtjW2RdPWV9YS5QYihhLm5jKTthLmM9YztyZXR1cm4hMH0KZnVuY3Rpb24gWWYoYSxiKXt2YXIgYz1OZChiKSxkPVpmKGMuc3BsaXQoIjsiKVswXSksZT1udWxsLGY9YS5hLmdldEJvb2woInVzZV9sb2NhbF9lc3RpbWF0b3JfZm9yX2Ficl9zYW1wbGluZyIsITApP2Eua2I6YS53YSxnPW51bGwsaD1udWxsLGs9YS5iLmZ8fGEuYi5BLGs9YS5hLmdldEJvb2woInNraXBfc2VnbWVudF9yZXF1ZXN0X21hbmFnZXIiLCExKSYmazthLldiJiZjYW5Vc2VGZXRjaFN0cmVhbSgpPyhoPW5ldyBNdWx0aXBsZVNlZ21lbnRzUHJvdmlkZXIoYS5hLmdldE51bWJlcigic3RyZWFtaW5nX3NlZ21lbnRfc2l6ZSIsNCkpLGc9JGYoYSxoLGQsZikpOmEuVmImJiFrJiYoZT1hZyhhLGQsZikpO3ZhciBrPW51bGwsbD1hLmYuZ2V0KGQpOyJ2aWRlbyI9PT1kJiYwPGwubGVuZ3RoJiYoaz1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz1udWxsLGQ9bnVsbCxlPTA7ZTxsWzBdLnYubGVuZ3RoO2UrKylsWzBdLnZbZV0uaWQ9PT1hP2M9bFswXS52W2VdOmxbMF0udltlXS5pZD09PQpiJiYoZD1sWzBdLnZbZV0pO3JldHVybiBudWxsPT09Y3x8bnVsbD09PWQ/MDpjLmJhbmR3aWR0aD5kLmJhbmR3aWR0aD8xOi0xfSk7Yz1uZXcgVShhLGEudmlkZW8sYS5hLGEuaSxjLGYsYS5wYyxhLmRhLGssYS5HLGUsZyxoLGEuaWEpO2MucGEoYS5nKTtyZXR1cm4gY30KZnVuY3Rpb24gJGYoYSxiLGMsZCl7dmFyIGU9YS53W2NdLGY9ImF1ZGlvIiE9PWN8fGEuYS5nZXRCb29sKCJlbmFibGVfYXVkaW9fc3RyZWFtaW5nIiwhMSk7aWYoIWUmJmYpe3ZhciBlPW5ldyBWaWRlb1N0cmVhbWluZ01hbmFnZXIoYS5hLGIsYyxhLmwsYS5VKSxnPSJ2aWRlbyI9PT1jO2cmJmUuYWRkTGlzdGVuZXIoImJhbmR3aWR0aFVwZGF0ZSIsZnVuY3Rpb24oYSl7ZC5zYW1wbGUoYS50aW1lVGFrZW4sYS5ieXRlc1JlYWQsZyx7dGltZVRvTGFzdEJ5dGU6YS50aW1lVGFrZW59LHRoaXMuQWIsdGhpcy5sLCF0aGlzLmEuZ2V0Qm9vbCgiZXZhbHVhdGVfYWJyX29uX3N0cmVhbV9iYW5kd2lkdGhfc2FtcGxlIiwhMCkpfS5iaW5kKGEpKX1lJiYoYS53W2NdPWUpO3JldHVybiBlfHxudWxsfQpmdW5jdGlvbiBhZyhhLGIsYyl7aWYoInZpZGVvIj09PWJ8fCJhdWRpbyI9PT1iJiZhLmEuZ2V0Qm9vbCgiZW5hYmxlX3JlcXVlc3RfcGlwZWxpbmluZ19mb3Jfdm9kX2F1ZGlvcyIsITEpKXt2YXIgZD1hLm9bYl07ZHx8KGQ9bmV3IFNlZ21lbnRSZXF1ZXN0TWFuYWdlcihhLmEsYixhLlAoKT9WaWRlb1ByaW9yaXR5Q2FsY3VsYXRvci5jYWxjdWxhdGVMaXZlOlZpZGVvUHJpb3JpdHlDYWxjdWxhdG9yLmNhbGN1bGF0ZSxhLmwsYyxhLkFiLGEuZGEsYS5pYSksYS5SJiZkLnVwZGF0ZVByaW9yaXR5V2l0aE5ld0FkanVzdG1lbnQoYS5SLmdldFByaW9yaXR5QWRqdXN0bWVudCgpKSxhLm9bYl09ZCk7cmV0dXJuIGR9cmV0dXJuIG51bGx9ZnVuY3Rpb24gYmcoYSxiKXthLnZpZGVvLmN1cnJlbnRUaW1lPWI7YS5hLmdldEJvb2woInNldF9wZW5kaW5nX3NlZWtfb25fc2V0X2N1cnJlbnRfdGltZV9mYWlsdXJlIiwhMSkmJmEudmlkZW8uY3VycmVudFRpbWUrMTxiJiZjZyhhLGIpO2EuRD1ifQpmdW5jdGlvbiBYZihhLGIsYyl7YS5rYz1hLnZpZGVvLnBsYXliYWNrUmF0ZTthLnZpZGVvLnBsYXliYWNrUmF0ZT0wO2RnKGEsYyk7dmFyIGQ7ZD1hLmIuZjsoIWEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9hZGp1c3Rfc3RyZWFtX2xpbWl0c19zdGFydF9vZmZzZXRfaW50IiwwKSYmIWEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9qdW1wX3RvX2xpdmVfc2lkeF9lbmRfb2Zmc2V0IiwwKXx8IWQpJiZhLmxhJiZhLmxhPD1jLmVuZCYmYS5sYT49Yy5zdGFydD9kPWEubGE6YS5iLmI/KGQ9ZWcoYSxjKSxhLmVjPSEwKTpkPWMuc3RhcnQ7RShhLmgsYS52aWRlbywic2Vla2luZyIsYS5tZC5iaW5kKGEpKTthLkk/KGEuSS5zZXRPblBsYXlpbmcoYS5tYi5iaW5kKGEsITApKSxhLkkuc2V0T25QYXVzZWQoYS5tYi5iaW5kKGEsITEpKSxhLkkuZW5hYmxlKCkpOihFKGEuaCxhLnZpZGVvLCJwbGF5aW5nIixhLm1iLmJpbmQoYSwhMCkpLGEuYS5nZXRCb29sKCJ1cGRhdGVfcHJpb3JpdHlfb25fcGxheV9ldmVudCIsCiEwKSYmRShhLmgsYS52aWRlbywicGxheSIsYS5tYi5iaW5kKGEsITApKSxFKGEuaCxhLnZpZGVvLCJwYXVzZSIsYS5tYi5iaW5kKGEsITEpKSk7RShhLmgsYS52aWRlbywic2Vla2luZyIsYS5NYy5iaW5kKGEpKTtFKGEuaCxhLnZpZGVvLCJ0aW1ldXBkYXRlIix0aHJvdHRsZShhLk1jLmJpbmQoYSksYS5hLmdldE51bWJlcigic2NoZWR1bGVyX3ByaW9yaXR5X3VwZGF0ZV9pbnRlcnZhbCIsMUUzKSkpO2lmKGEudmlkZW8uY3VycmVudFRpbWUhPWQpaWYoYS5TYikwIT09YS52aWRlby5yZWFkeVN0YXRlP2JnKGEsZCk6Y2coYSxkKTtlbHNlIHRyeXtiZyhhLGQpfWNhdGNoKGUpe2NnKGEsZCl9ZmcoYSxjLnN0YXJ0LGMuZW5kLGMubGFzdCxjLlphKTt2YXIgZj1bXSxnO2ZvcihnIGluIGEuYyl7Yz1hLmNbZ107SihhLGZ1bmN0aW9uKGEpe2YucHVzaChhLktjKHRoaXMuc2EpLnRoZW4oSih0aGlzLGZ1bmN0aW9uKGIpe3ZhciBjPWEuc2IoKTtjPnRoaXMuQmImJih0aGlzLkJiPWMpO3JldHVybiBifSkpKX0pKGMpOwpFKGEuaCxjLCJlbmRlZCIsYS5vZC5iaW5kKGEpKTtFKGEuaCxjLCJzaG91bGRfZW5kX2FsbF9zdHJlYW1zIixhLnBkLmJpbmQoYSkpO0UoYS5oLGMsInNob3VsZF9udWRnZSIsYS5qZC5iaW5kKGEpKTtkPWJbZ107dmFyIGg9YS5BLmdldEluaXRpYWxTd2l0Y2hSZWFzb24oKXx8dm9pZCAwO2MuamIoZCwhMSx2b2lkIDAsaCl9UHJvbWlzZS5hbGwoZikudGhlbihKKGEsZnVuY3Rpb24oYSl7dGhpcy5hLmdldEJvb2woInByZXZlbnRfc3RyZWFtX3N0YXJ0X2lmX3N0cmVhbXNfY2hhbmdlIiwhMSkmJiFnZyh0aGlzKXx8aGcodGhpcyxhKX0pKS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7ImRlc3Ryb3kiIT1hLnR5cGUmJihhPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGEpKX0pKTtuZihhLGEueWEpfQpuLm1iPWZ1bmN0aW9uKGEpe09iamVjdC5rZXlzKHRoaXMubykuZm9yRWFjaChmdW5jdGlvbihiKXt0aGlzLm9bYl0udXBkYXRlUHJpb3JpdHlXaXRoTmV3UGxheWluZ1N0YXRlKGEpfS5iaW5kKHRoaXMpKTtPYmplY3Qua2V5cyh0aGlzLncpLmZvckVhY2goZnVuY3Rpb24oYil7dGhpcy53W2JdLmdldFByaW9yaXR5VXBkYXRlcigpLnVwZGF0ZVByaW9yaXR5V2l0aE5ld1BsYXlpbmdTdGF0ZShhKX0uYmluZCh0aGlzKSk7aWYodGhpcy5sKXt2YXIgYj1NZih0aGlzLEhmKHRoaXMpKTtiJiZ0aGlzLnZpZGVvLmN1cnJlbnRUaW1lPGIuc3RhcnQmJkJhbnphaU9EUy5idW1wRW50aXR5S2V5KDI5NjYsInZpZGVvcy53d3cuc2hha2EiLCJjdXJyZW50X3RpbWVfYXRfcGxheWluZ19sZXNzX3RoYW5fc3RyZWFtX2xpbWl0c19zdGFydCIpfWEmJm51bGwhPT10aGlzLmNhJiYodGhpcy54YT0xLFJmKHRoaXMsdGhpcy54YSksaWcodGhpcykpfTsKbi5NYz1mdW5jdGlvbigpe3RoaXMudmlkZW8mJihPYmplY3Qua2V5cyh0aGlzLm8pLmZvckVhY2goZnVuY3Rpb24oYSl7dGhpcy5vW2FdLnVwZGF0ZVByaW9yaXR5V2l0aE5ld1BsYXloZWFkKHRoaXMudmlkZW8uY3VycmVudFRpbWUpfS5iaW5kKHRoaXMpKSxPYmplY3Qua2V5cyh0aGlzLncpLmZvckVhY2goZnVuY3Rpb24oYSl7dGhpcy53W2FdLmdldFByaW9yaXR5VXBkYXRlcigpLnVwZGF0ZVByaW9yaXR5V2l0aE5ld1BsYXloZWFkKHRoaXMudmlkZW8uY3VycmVudFRpbWUpfS5iaW5kKHRoaXMpKSl9O2Z1bmN0aW9uIFFmKGEpe2lmKGEuYS5nZXRCb29sKCJjbGVhcl9jdXJyZW50X3NlZ21lbnRfaW5kZXhlc19kdXJpbmdfbGl2ZWhlYWRfY2F0Y2h1cCIsITEpKWZvcih2YXIgYiBpbiBhLmMpYS5jW2JdLmk9bnVsbH1mdW5jdGlvbiBjZyhhLGIpe2EuYmE9Yjtmb3IodmFyIGMgaW4gYS5jKXt2YXIgZD1hLmNbY107YS5iYSYmKGQuSj1hLmJhKX19CmZ1bmN0aW9uIGdnKGEpe3JldHVybiFPYmplY3Qua2V5cyhhLmMpLnNvbWUoSihhLGZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNbYV0mJiF0aGlzLmNbYV0uaH0pKX0KZnVuY3Rpb24gaGcoYSxiKXtiYShiJiZiLmxlbmd0aD09T2JqZWN0LmtleXMoYS5jKS5sZW5ndGgpO2Zvcih2YXIgYz1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksZD1OdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFksZT0wO2U8Yi5sZW5ndGg7KytlKXZhciBmPWJbZV0sYz1NYXRoLm1pbihjLGYpLGQ9TWF0aC5tYXgoZCxmKTtjPUhmKGEpO2ZvcihlPTA7ZTxjLmxlbmd0aDsrK2UpY1tlXS5UYShkKTthLmEuZ2V0Qm9vbCgicHJvY2Vzc19kZWZlcnJlZF9zd2l0Y2hlc19lYXJseSIsITEpJiZqZyhhKTtrZyhhLGMsZCk7dmFyIGc9V2EoYS5jKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuV2EoKS5pZH0pO2EuYS5nZXRCb29sKCJzZXF1ZW50aWFsbHlfbG9hZF9zdHJlYW1zIiwhMSk/bGcoYSxnLGQpOihlPSRhKGEuZikubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLnZ9KS5yZWR1Y2UoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5jb25jYXQoYil9LFtdKS5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIX5nLmluZGV4T2YoYS5pZCl9KS5tYXAoSihhLApmdW5jdGlvbihhKXt2YXIgYj1bYS5NLnBiP2EuTS5wYigpOmEuTS5jcmVhdGUoKV07YS5hYSYmYi5wdXNoKGEuYWEuY3JlYXRlKHRoaXMubCx0aGlzLmRhKSk7cmV0dXJuIFByb21pc2UuYWxsKGIpfSkpLFByb21pc2UuYWxsKGUpLnRoZW4oSihhLGZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7KytiKWFbYl1bMF0uVGEoZCk7dGhpcy5DYT0hMDtqZyh0aGlzKX0pKS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7ImFib3J0ZWQiIT1hLnR5cGUmJihhPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGEpKX0pKSl9CmZ1bmN0aW9uIGxnKGEsYixjKXt2YXIgZD1Qcm9taXNlLnJlc29sdmUoKTskYShhLmYpLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS52fSkucmVkdWNlKGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuY29uY2F0KGIpfSxbXSkuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiF+Yi5pbmRleE9mKGEuaWQpfSkuZm9yRWFjaChmdW5jdGlvbihhKXtkPWQudGhlbihKKHRoaXMsZnVuY3Rpb24oYil7YiYmYlswXS5UYShjKTtiPVthLk0ucGI/YS5NLnBiKCk6YS5NLmNyZWF0ZSgpXTthLmFhJiZiLnB1c2goYS5hYS5jcmVhdGUodGhpcy5sLHRoaXMuZGEpKTtyZXR1cm4gUHJvbWlzZS5hbGwoYil9KSkuY2F0Y2goZnVuY3Rpb24oYSl7dGhyb3cgYTt9KX0pO2QudGhlbihKKGEsZnVuY3Rpb24oKXt0aGlzLkNhPSEwO2pnKHRoaXMpfSkpLmNhdGNoKEooYSxmdW5jdGlvbihhKXsiYWJvcnRlZCIhPWEudHlwZSYmKGE9QShhKSx0aGlzLmRpc3BhdGNoRXZlbnQoYSkpfSkpfQpmdW5jdGlvbiBqZyhhKXtmb3IodmFyIGIgaW4gYS5CKXt2YXIgYz1hLkJbYl07YS5jW2JdLmpiKGMuTGMsYy5yYyxjLnNjLGMuc3dpdGNoUmVhc29uLGMuS2EpfWEuQj17fX0KZnVuY3Rpb24ga2coYSxiLGMpe3ZhciBkO2EuYS5nZXRCb29sKCJ3d3dfdmlkZW9zX2V4dGVuZGVkX3NwbF9sb2dnaW5nX2Zvcl9jb25uZWN0ZWRfdHYiLCExKSYmYS5sJiYoZD1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJzdHJlYW1fdmlkZW9fc291cmNlX2JlZ2luX3BsYXliYWNrIikpO2lmKGI9TWYoYSxiKSlkZyhhLGIpLGZnKGEsYi5zdGFydCxiLmVuZCxiLmxhc3QsYi5aYSk7MCE9Yz8oYz1hLnZpZGVvLmN1cnJlbnRUaW1lK2MsYS5hLmdldE51bWJlcigid3d3X3ZpZGVvc19udWRnZV90aW1lc3RhbXBfY29ycmVjdGlvbl9zIiwwKSYmKGMrPWEuYS5nZXROdW1iZXIoInd3d192aWRlb3NfbnVkZ2VfdGltZXN0YW1wX2NvcnJlY3Rpb25fcyIsMCkpLGEudmlkZW8uY3VycmVudFRpbWU9YyxhLkQ9Yyk6YS5lYyYmYiYmKGM9ZWcoYSxiKSxNYXRoLmFicyhjLWEudmlkZW8uY3VycmVudFRpbWUpPj1hLmRjJiYoYS52aWRlby5jdXJyZW50VGltZT1jKSk7YS5hLmdldEJvb2woInVuaWZ5X3N0cmVhbV9zdGFydF93aXRoX2J1ZmZlcl9kZXRlY3RvciIsCiExKT8oYz15KHt0eXBlOiJhbGxTdHJlYW1zU3RhcnRlZCIsYnViYmxlczohMH0pLGEuZGlzcGF0Y2hFdmVudChjKSk6YS52aWRlby5wbGF5YmFja1JhdGU9YS5rYzthLmIuYiYmbnVsbCE9YS5iLmMmJktmKGEsMCk7bWcoYSk7YS5zYS5yZXNvbHZlKCk7ZCYmZC5sb2coKX0KZnVuY3Rpb24gZWcoYSxiKXt2YXIgYz1iLmVuZDt2b2lkIDAhPT1iLkJjJiYoYz1iLkJjKTtpZihhLmEuZ2V0Qm9vbCgidGVtcGxhdGVkX2Fsd2F5c19qdW1wX3RvX3N0cmVhbV9saW1pdHNfZW5kIiwhMSkmJmEuYiYmYS5iLmYpcmV0dXJuIGIuZW5kO2lmKGEuY2Mpe3ZhciBkPWEudmlkZW8uY3VycmVudFRpbWUsZT1iLnN0YXJ0O2lmKGEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9hZGp1c3Rfc3RyZWFtX2xpbWl0c19zdGFydF9vZmZzZXRfaW50IiwwKSYmYS5iJiZhLmIuZil7Zm9yKHZhciBmPUhmKGEpLGc9MCxoPTA7aDxmLmxlbmd0aDsrK2gpe3ZhciBrPWZbaF0sbD1NYXRoLm1pbihhLmEuZ2V0TnVtYmVyKCJ0ZW1wbGF0ZWRfYWRqdXN0X3N0cmVhbV9saW1pdHNfc3RhcnRfb2Zmc2V0X2ludCIsMCksay5sZW5ndGgoKSk7ay5sZW5ndGgoKSYmMDxsJiZsPD1rLmxlbmd0aCgpJiYoZz1NYXRoLm1heChrLmdldChrLmxlbmd0aCgpLWwpLnN0YXJ0VGltZSxnKSl9ZT1NYXRoLm1heChlLApnKX1pZihkPj1lJiZkPD1iLmVuZCYmZDxjKWlmKGEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9qdW1wX3RvX2xpdmVfc2lkeF9lbmRfb2Zmc2V0IiwwKSYmYS5iJiZhLmIuZil7Zj1IZihhKTtrPW51bGw7ZT1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7Zm9yKGg9MDtoPGYubGVuZ3RoOysraClmW2hdLmxlbmd0aCgpPGUmJihlPWZbaF0ubGVuZ3RoKCksaz1mW2hdKTtrJiZlPmEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9qdW1wX3RvX2xpdmVfc2lkeF9lbmRfb2Zmc2V0IiwwKSYmKGY9ay5nZXQoay5sZW5ndGgoKS1hLmEuZ2V0TnVtYmVyKCJ0ZW1wbGF0ZWRfanVtcF90b19saXZlX3NpZHhfZW5kX29mZnNldCIsMCkpLnN0YXJ0VGltZSxkPj1mJiYoYz1kKSl9ZWxzZSBjPWR9cmV0dXJuIGN9CmZ1bmN0aW9uIGRnKGEsYil7aWYoYS5iLmIpaXNOYU4oYS5pLmR1cmF0aW9uKSYmKGEuaS5kdXJhdGlvbj1iLmVuZCsyNTkyRTMpO2Vsc2UgaWYoaXNOYU4oYS5pLmR1cmF0aW9uKXx8Yi5lbmQ+YS5pLmR1cmF0aW9uKWlmKGEuaS5kdXJhdGlvbj1iLmVuZCwhYS5hLmdldEJvb2woImRpc2FibGVfYXBwZW5kX3dpbmRvd19lbmQiLCExKSlmb3IodmFyIGM9YS5hLmdldE51bWJlcigiYXBwZW5kX3dpbmRvd19lbmRfZnVkZ2VfZmFjdG9yIiwwKSxkPTA7ZDxhLmkuc291cmNlQnVmZmVycy5sZW5ndGg7KytkKWEuaS5zb3VyY2VCdWZmZXJzW2RdLmFwcGVuZFdpbmRvd0VuZD1iLmVuZCtjfQpuLnJkPWZ1bmN0aW9uKCl7dGhpcy5rYT1udWxsO21nKHRoaXMpO3ZhciBhPU1mKHRoaXMsSGYodGhpcykpO2lmKGEpe3ZhciBiPXRoaXMuYi5iO3RoaXMuYS5nZXRCb29sKCJ0cmVhdF9saXZlX3N0YXRpY19tYW5pZmVzdF9hc19keW5hbWljIiwhMSkmJihiPWJ8fHRoaXMuYi5oKTtiJiZ0aGlzLmphIT1hLmxhc3QmJih0aGlzLmphPWEubGFzdCxudWxsIT10aGlzLmomJihjbGVhclRpbWVvdXQodGhpcy5qKSx0aGlzLmo9bnVsbCkpO2ZnKHRoaXMsYS5zdGFydCxhLmVuZCxhLmxhc3QsYS5aYSk7dGhpcy52aWRlby5wYXVzZWR8fG5nKHRoaXMsdGhpcy52aWRlby5jdXJyZW50VGltZSxhLnN0YXJ0LGEuZW5kKX19O2Z1bmN0aW9uIGZnKGEsYixjLGQsZSl7Yj15KHt0eXBlOiJzZWVrcmFuZ2VjaGFuZ2VkIixidWJibGVzOiEwLHN0YXJ0OmIsZW5kOmMsbGFzdDpkLHNlZWtSYW5nZUdhcHM6ZX0pO2EuZGlzcGF0Y2hFdmVudChiKX0Kbi5tZD1mdW5jdGlvbigpe3ZhciBhPXRoaXMudmlkZW8uY3VycmVudFRpbWUsYj1NZih0aGlzLEhmKHRoaXMpKTt0aGlzLmwmJmImJmE8Yi5zdGFydCYmQmFuemFpT0RTLmJ1bXBFbnRpdHlLZXkoMjk2NiwidmlkZW9zLnd3dy5zaGFrYSIsImN1cnJlbnRfdGltZV9hdF9zZWVrX2xlc3NfdGhhbl9zdHJlYW1fbGltaXRzX3N0YXJ0Iik7aWYobnVsbCE9dGhpcy5EKXtpZihhPj10aGlzLkQtLjAxJiZhPD10aGlzLkQrLjAxKXt0aGlzLkQ9bnVsbDt0aGlzLmwmJmImJmE8Yi5zdGFydCYmQmFuemFpT0RTLmJ1bXBFbnRpdHlLZXkoMjk2NiwidmlkZW9zLnd3dy5zaGFrYSIsImlnbm9yZWRfc2Vla193aGVuX2N1cnJlbnRfdGltZV9hdF9zZWVrX2xlc3NfdGhhbl9zdHJlYW1fbGltaXRzX3N0YXJ0Iik7cmV0dXJufXRoaXMuRD1udWxsfWlmKGIpe3ZhciBjPWIuc3RhcnQsZD1iLmVuZDt0aGlzLmEuZ2V0Qm9vbCgic2tpcF9yZW1haW5pbmdfYnVmZmVyZWRfb25fc3RyZWFtX2VuZCIsITEpJiZ0aGlzLmIuYiYmCnRoaXMuYi5oJiZ0aGlzLnZpZGVvLnBhdXNlZCYmKGQ9dGhpcy5qYSk7KGM9bmcodGhpcyxhLGMsZCkpfHwoYTw9ZCsuMDF8fHRoaXMuYi5iJiYhb2codGhpcyxkKT9jPSExOih0aGlzLnZpZGVvLmN1cnJlbnRUaW1lPWQsYz0hMCkpO2lmKGMpdGhpcy5sJiZhPGIuc3RhcnQmJkJhbnphaU9EUy5idW1wRW50aXR5S2V5KDI5NjYsInZpZGVvcy53d3cuc2hha2EiLCJjbGFtcF9wbGF5aGVhZF93aGVuX2N1cnJlbnRfdGltZV9hdF9zZWVrX2xlc3NfdGhhbl9zdHJlYW1fbGltaXRzX3N0YXJ0Iik7ZWxzZXtmb3IodmFyIGUgaW4gdGhpcy5jKXRoaXMuY1tlXS5DYyh0aGlzLkVhKTt0aGlzLkVhPSExfX19O2Z1bmN0aW9uIG5nKGEsYixjLGQpe2lmKGI+PWMtLjAxKXJldHVybiExO2I9MDthLmIuYiYmKGI9LjUsb2coYSxjK2IpfHwoYj1hLmIuZykpO2EudmlkZW8uY3VycmVudFRpbWU9TWF0aC5taW4oYytiLGQpO3JldHVybiEwfQpmdW5jdGlvbiBvZyhhLGIpe2Zvcih2YXIgYyBpbiBhLmMpaWYoIWEuY1tjXS5JYyhiKSlyZXR1cm4hMTtyZXR1cm4hMH1uLm9kPWZ1bmN0aW9uKCl7aWYoIXRoaXMuYi5ifHx0aGlzLkZhKXtmb3IodmFyIGEgaW4gdGhpcy5jKWlmKCF0aGlzLmNbYV0uZmIoKSlyZXR1cm47dGhpcy5lYigpfX07bi5wZD1mdW5jdGlvbigpe2NsZWFyVGltZW91dCh0aGlzLnUpO3RoaXMuRmE9ITA7Zm9yKHZhciBhIGluIHRoaXMuYyl0aGlzLmNbYV0uZmIoKXx8dGhpcy5jW2FdLkNiKCl9O24uamQ9ZnVuY3Rpb24oKXt0aGlzLmEuZ2V0Qm9vbCgiaWdub3JlX3NlZWtfd2hlbl9udWRnaW5nIiwhMCkmJih0aGlzLkQ9dGhpcy52aWRlby5jdXJyZW50VGltZSk7dGhpcy52aWRlby5jdXJyZW50VGltZSs9LjAwMX07Cm4udGI9ZnVuY3Rpb24oKXtpZih0aGlzLmFjKCl8fHRoaXMuYmMoKSlyZXR1cm4hMDt2YXIgYT10aGlzLmIsYj1udWxsLGM9bnVsbDthJiZhLmEmJmEuYVswXSYmKGI9YS5hWzBdKTtiJiZiLmEmJmIuYVswXSYmKGM9Yi5hWzBdKTtyZXR1cm4hIWMmJmMuYn07WS5wcm90b3R5cGUuaGFzSW5saW5lZENlYTYwOFN1YnRpdGxlcz1ZLnByb3RvdHlwZS50YjtZLnByb3RvdHlwZS5QYj1mdW5jdGlvbihhKXt0aGlzLm5jPWE7dmFyIGI9dGhpcy5jOyJ2aWRlbyJpbiBiJiYoYT1hJiZ0aGlzLnRiKCksYi52aWRlby5jLlM9YSl9O1kucHJvdG90eXBlLnNldEVuYWJsZUNlYTYwOFBhcnNpbmc9WS5wcm90b3R5cGUuUGI7CmZ1bmN0aW9uIHNmKGEpe3ZhciBiPWEuYS5nZXROdW1iZXIoImxpdmVfYnVmZmVyaW5nX3VuZGVyZmxvd190aHJlc2hvbGQiLC41KSxjPWEuYS5nZXRCb29sKCJmaXhfbGl2ZV9zdHJlYW1fZ29uZV9vbl9tYW5pZmVzdF91cGRhdGUiLCEwKSYmYS5oYyxkPSExO2lmKGEuYi5oKXt2YXIgZD1hLmEuZ2V0TnVtYmVyKCJsaXZlX3N0cmVhbV9lbmRfc2xhY2siLDApLGU7Zm9yKGUgaW4gYS5jKWEuY1tlXS5mYigpfHwoZD0wKTtkPWEudmlkZW8uY3VycmVudFRpbWUrYitkPmEuamF9cmV0dXJuIGN8fGR9bj1ZLnByb3RvdHlwZTsKbi5jZD1mdW5jdGlvbigpe3RoaXMuJD0hMDtpZih0aGlzLmImJnRoaXMuYi5iKXtpZihzZih0aGlzKSlyZXR1cm4gdGhpcy5lYigpO3RoaXMuYS5nZXRCb29sKCJhbGxvd19pbmZpbml0ZV9yZXRyeV9vbl9uZXRfZXJyIiwhMCkmJnRoaXMuRy5pc05ldHdvcmtJbnRlcnJ1cHRlZCgpfHwhV2EodGhpcy5jKS5ldmVyeShmdW5jdGlvbihhKXtyZXR1cm4gYS5mYigpfSl8fHBnKHRoaXMsdGhpcy5nYil9dGhpcy5hLmdldEJvb2woImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvdyIsITEpJiYobnVsbD09PXRoaXMuS3x8RGF0ZS5ub3coKS10aGlzLmZjPnRoaXMuYS5nZXROdW1iZXIoImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvd190aW1lX3dpbmRvdyIsMkUzKT90aGlzLks9dGhpcy5hLmdldE51bWJlcigiYnVmZmVyaW5nX292ZXJmbG93X3RocmVzaG9sZCIsMCk6dGhpcy5LKj10aGlzLmEuZ2V0TnVtYmVyKCJiYWNrX29mZl9idWZmZXJpbmdfb3ZlcmZsb3dfdGltZV9mYWN0b3IiLDIpLAp0aGlzLks9TWF0aC5taW4odGhpcy5LLHRoaXMuYS5nZXROdW1iZXIoImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvd19tYXgiLDUpKSl9O2Z1bmN0aW9uIHBnKGEsYil7YS5qPXNldFRpbWVvdXQoYS5lYi5iaW5kKGEpLGIpfW4uYmQ9ZnVuY3Rpb24oKXt0aGlzLiQ9ITE7dGhpcy5hLmdldEJvb2woImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvdyIsITEpJiYodGhpcy5mYz1EYXRlLm5vdygpKTtudWxsIT10aGlzLmomJihjbGVhclRpbWVvdXQodGhpcy5qKSx0aGlzLmo9bnVsbCl9O24uZ2Q9ZnVuY3Rpb24oKXtudWxsIT09dGhpcy5iYSYmKGJnKHRoaXMsdGhpcy5iYSksY2codGhpcyxudWxsKSl9O24uR2Q9ZnVuY3Rpb24oKXt9OwpuLmViPWZ1bmN0aW9uKCl7dGhpcy4kPSExO3RoaXMuaj1udWxsO3ZhciBhO2lmKGE9dGhpcy5hLmdldEJvb2woInRlc3Rfc291cmNlX2J1ZmZlcnNfbm90X3VwZGF0aW5nX2VuZF9vZl9zdHJlYW0iLCExKSlhOntmb3IoYT0wO2E8dGhpcy5pLnNvdXJjZUJ1ZmZlcnMubGVuZ3RoOysrYSlpZih0aGlzLmkuc291cmNlQnVmZmVyc1thXS51cGRhdGluZyl7YT0hMDticmVhayBhfWE9ITF9aWYoYSlyZXR1cm4gcGcodGhpcywxRTMpOyJvcGVuIj09dGhpcy5pLnJlYWR5U3RhdGUmJnRoaXMuaS5lbmRPZlN0cmVhbSgpfTtmdW5jdGlvbiBIZihhKXtyZXR1cm4gV2EoYS5jKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuRmIoKX0pLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YX0pfWZ1bmN0aW9uIExmKGEpe3JldHVybiBNYXRoLm1heChhLmI/YS5iLmc6MSxhLlpiP2EuZy5zdHJlYW1CdWZmZXJTaXplfHwwOjApfQpmdW5jdGlvbiBNZihhLGIpe2Zvcih2YXIgYz0wLGQ9TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLGU9TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLGY9W10sZz0hVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJub19zZWVrX3JhbmdlX2dhcHNfZHVyaW5nX2NvbXB1dGVfc3RyZWFtX2xpbWl0cyIsITEpLGg9MDtoPGIubGVuZ3RoOysraCl7dmFyIGs9YltoXS5BKCk7ZyYmKGY9Zi5jb25jYXQoYltoXS5nZXRTZWVrUmFuZ2VHYXBzKCkpKTtjPU1hdGgubWF4KGMsay5zdGFydCk7bnVsbCE9ay5lbmQmJihkPU1hdGgubWluKGQsay5lbmQpKTtiW2hdLmxlbmd0aCgpJiYoZT1NYXRoLm1pbihlLGJbaF0ubGFzdCgpLmVuZFRpbWUpKX1nJiYoZj1tZXJnZVNlZWtSYW5nZUdhcHMoZikpO2lmKGQ9PU51bWJlci5QT1NJVElWRV9JTkZJTklUWSlpZihkPWEuYi5hWzBdLGQuZHVyYXRpb24pZD0oZC5zdGFydHx8MCkrZC5kdXJhdGlvbjtlbHNlIHJldHVybiBudWxsO2lmKGEuYi5iKXt2YXIgZz0KTGYoYSksZD1NYXRoLm1heChkLWcsYyksbDthLnJhJiZhLmEuZ2V0Qm9vbCgibGl2ZV9qdW1wX3RvX3B1c2hlZF9zZWdtZW50IiwhMSkmJmIubGVuZ3RoJiYoaD1NYXRoLmZsb29yKExmKGEpLzEpKzEsZz1iWzBdLGg9Zy5sZW5ndGgoKS1oLChnPWcuZ2V0KGgpKSYmKGw9Zy5zdGFydFRpbWUpKX1pZihjPmQpcmV0dXJuIG51bGw7ZD1NYXRoLmZsb29yKDFFNSpkKS8xRTU7cmV0dXJue3N0YXJ0OmMsZW5kOmQsbGFzdDplLFphOmYsQmM6bH19bi5uYj1mdW5jdGlvbigpe3JldHVybiBNZih0aGlzLEhmKHRoaXMpKX07WS5wcm90b3R5cGUuY29tcHV0ZVN0cmVhbUxpbWl0cz1ZLnByb3RvdHlwZS5uYjtmdW5jdGlvbiBtZyhhKXthLmIuYiYmKGEua2E9c2V0VGltZW91dChhLnJkLmJpbmQoYSksMUUzKSl9ZnVuY3Rpb24gRGYoYSl7Zm9yKHZhciBiIGluIGEuYylhLmNbYl0ucGEoYS5nKX1ZLnByb3RvdHlwZS5zYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLkJifTsKWS5wcm90b3R5cGUuZ2V0TG9uZ2VzdEluaXRSZXNwb25zZVRpbWU9WS5wcm90b3R5cGUuc2I7ZnVuY3Rpb24gWmYoYSl7cmV0dXJuInYiPT09YS5jaGFyQXQoMCk/InZpZGVvIjoiYSI9PT1hLmNoYXJBdCgwKT8iYXVkaW8iOm51bGx9WS5wcm90b3R5cGUuVGM9ZnVuY3Rpb24oKXt2YXIgYT15KHt0eXBlOiJuZXR3b3JraW50ZXJydXB0ZWQiLGJ1YmJsZXM6ITB9KTt0aGlzLmRpc3BhdGNoRXZlbnQoYSk7dGhpcy5UPXRoaXMuVHx8RGF0ZS5ub3coKTt0aGlzLiQmJnRoaXMuaiYmY2xlYXJUaW1lb3V0KHRoaXMuail9OwpZLnByb3RvdHlwZS5VYz1mdW5jdGlvbigpe3ZhciBhPXkoe3R5cGU6Im5ldHdvcmtyZXN1bWVkIixidWJibGVzOiEwfSk7dGhpcy5kaXNwYXRjaEV2ZW50KGEpO2E9dGhpcy5hLmdldE51bWJlcigibWF4X25ldHdvcmtfaW50ZXJydXB0ZWRfdGltZV9iZWZvcmVfc2VlayIsMUU0KTtudWxsIT09dGhpcy5UJiZEYXRlLm5vdygpLXRoaXMuVD49YSYmKHRoaXMuVD1udWxsLHRoaXMuZWE9ITApO3RoaXMuYS5nZXRCb29sKCJmaXhfbmV0d29ya19pbnRlcnJ1cHRlZF9zdGFydF9ub3RfbnVsbGVkIiwhMSkmJih0aGlzLlQ9bnVsbCk7dGhpcy4kJiZwZyh0aGlzLHRoaXMuZ2IpfTtZLnByb3RvdHlwZS5WYz1mdW5jdGlvbigpe3RoaXMuZWE9ITB9O2Z1bmN0aW9uIFBmKGEpe2EuYS5nZXRCb29sKCJkZWNvdXBsZV9tcGRfdXBkYXRlX2xvb3BfZnJvbV9yZXF1ZXN0X2xvb3AiLCExKXx8S2YoYSwwKX1ZLnByb3RvdHlwZS5xYz1mdW5jdGlvbihhKXt0aGlzLm5hPWF9OwpZLnByb3RvdHlwZS5zZXRFbmFibGVMaXZlaGVhZENhdGNodXA9WS5wcm90b3R5cGUucWM7WS5wcm90b3R5cGUuemQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uYX07WS5wcm90b3R5cGUuaXNMaXZlaGVhZENhdGNodXBFbmFibGVkPVkucHJvdG90eXBlLnpkO1kucHJvdG90eXBlLlNjPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYy52aWRlbz90aGlzLmMudmlkZW8uYy5pOm51bGx9O1kucHJvdG90eXBlLmdldFZpZGVvU3RyZWFtUHJvZ3Jlc3NUcmFja2VyPVkucHJvdG90eXBlLlNjO1kucHJvdG90eXBlLnFiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYy52aWRlbz90aGlzLmMudmlkZW8ucWIoKTpudWxsfTtZLnByb3RvdHlwZS5nZXRCdWZmZXJWZWxvY2l0eT1ZLnByb3RvdHlwZS5xYjtmdW5jdGlvbiBSZihhLGIpe2Zvcih2YXIgYyBpbiBhLmMpYS5jW2NdLm5hPWJ9CmZ1bmN0aW9uIGlnKGEpe3ZhciBiPVtdO2lmKG51bGwhPT1hLmNhKXt2YXIgYz1hLmNhLGQ7Zm9yKGQgaW4gYS5jKWIucHVzaChyZShhLmNbZF0sYS5jYSkpO1Byb21pc2UuYWxsKGIpLnRoZW4oSihhLGZ1bmN0aW9uKCl7aWYoYyl7Zm9yKHZhciBhIGluIHRoaXMuYyl7dmFyIGI9dGhpcy5jW2FdO2IuSz1udWxsO2IuVj0hMTtiLkk9bnVsbH1jPnRoaXMudmlkZW8uY3VycmVudFRpbWUmJih0aGlzLnZpZGVvLmN1cnJlbnRUaW1lPWMpfX0pKX1hLmNhPW51bGx9O2Z1bmN0aW9uIFooYSxiLGMsZCxlLGYsZyl7ZHx8KGQ9bmV3IEcpO2V8fChlPW5ldyBYKTtZLmNhbGwodGhpcyxudWxsLGIsZCxlKTsic3RyaW5nIj09PXR5cGVvZiBhP3RoaXMuamM9YTp0aGlzLk5iPWE7dGhpcy5hPWI7dGhpcy5GPW51bGw7dGhpcy50YT1jO3RoaXMuRGE9W107dGhpcy5RYj1bXTt0aGlzLlJiPVtdO3RoaXMuSGE9MDt0aGlzLlk9bnVsbDt0aGlzLk1iPWd8fG51bGx9cihaLFkpO3EoInNoYWthLnBsYXllci5EYXNoVmlkZW9Tb3VyY2UiLFopO1oucHJvdG90eXBlLkpkPWZ1bmN0aW9uKGEpe3RoaXMuRj1hO3RoaXMuSmIoITAsITApfTtaLnByb3RvdHlwZS51cGRhdGVNYW5pZmVzdD1aLnByb3RvdHlwZS5KZDtaLnByb3RvdHlwZS5PYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLk5ifHx0aGlzLkZ9O1oucHJvdG90eXBlLmdldE1hbmlmZXN0PVoucHJvdG90eXBlLk9iO1oucHJvdG90eXBlLlRiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuT2IoKX07CloucHJvdG90eXBlLmRlYnVnR2V0TWFuaWZlc3Q9Wi5wcm90b3R5cGUuVGI7Wi5wcm90b3R5cGUuWmM9ZnVuY3Rpb24oYSxiLGMpe3RoaXMuRGEucHVzaChhKTt0aGlzLlFiLnB1c2goYnx8IiIpO3RoaXMuUmIucHVzaChjfHwiIil9O1oucHJvdG90eXBlLmFkZEV4dGVybmFsQ2FwdGlvbnM9Wi5wcm90b3R5cGUuWmM7Wi5wcm90b3R5cGUudGQ9ZnVuY3Rpb24oYSl7dGhpcy5ZPWF9O1oucHJvdG90eXBlLnNldE5ldHdvcmtDYWxsYmFjaz1aLnByb3RvdHlwZS50ZDtaLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5GPXRoaXMuWT10aGlzLnRhPW51bGw7WS5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpfTsKWi5wcm90b3R5cGUud2I9ZnVuY3Rpb24oKXt2YXIgYTt0aGlzLmwmJihhPXRoaXMubC5nZXRPcGVyYXRpb25Mb2dnZXIoInNvdXJjZV9sb2FkIikuc3RhcnQoKSk7dmFyIGIsYz1KKHRoaXMsZnVuY3Rpb24oYSl7aWYodGhpcy5hLmdldEJvb2woImVuYWJsZV9kb3VibGVfaW5nZXN0X29uX2luaXRpYWxfbXBkIiwhMSkpc3dpdGNoKGEuc3RhdHVzKXtjYXNlIDIwMDpjYXNlIDQxNzppZihhLnJlc3BvbnNlSGVhZGVycyYmbnVsbCE9YS5yZXNwb25zZUhlYWRlcnNbIngtZmItdmlkZW8tcmVwbGljYSJdKXJldHVybiB0aGlzLmRpc3BhdGNoRXZlbnQoeSh7dHlwZToicmVwbGljYXN3aXRjaCIsYnViYmxlczohMCxyZXBsaWNhOmEucmVzcG9uc2VIZWFkZXJzWyJ4LWZiLXZpZGVvLXJlcGxpY2EiXX0pKSxuZXcgUHJvbWlzZShmdW5jdGlvbigpe30pfXRocm93IGE7fSksZD1KKHRoaXMsZnVuY3Rpb24oYyl7dGhpcy5MYSgiTVBERmV0Y2hEdXJhdGlvbiIsKERhdGUubm93KCktYikvMUUzKTt0aGlzLkY9CmM7Zm9yKHZhciBkPTA7ZDx0aGlzLkRhLmxlbmd0aDtkKyspTGMoYyx0aGlzLkRhW2RdLHRoaXMuUWJbZF0sdGhpcy5SYltkXSk7dmFyIGQ9bmV3IHllKHRoaXMuYSx0aGlzLnRhLHRoaXMubCx0aGlzLk1iKSxlO3RoaXMubCYmKGU9dGhpcy5sLmdldE9wZXJhdGlvbkxvZ2dlcigicHJvY2Vzc19tYW5pZmVzdCIpLnN0YXJ0KCkpO3RoaXMuYj16ZShkLGMsdGhpcy5ZKTtlJiZlLmxvZygpO2EmJmEuc2V0TWFuaWZlc3RUeXBlKHRoaXMuYi5iPyJkeW5hbWljIjoic3RhdGljIik7cmV0dXJuIFkucHJvdG90eXBlLndiLmNhbGwodGhpcykudGhlbihmdW5jdGlvbigpe2EmJmEubG9nKCl9KX0pO2lmKHRoaXMuTmIpcmV0dXJuIGI9RGF0ZS5ub3coKSxkKHRoaXMuTmIpO3ZhciBlPVtuZXcgTCh0aGlzLmpjKV0sZjtpZih0aGlzLnJhKXt2YXIgZz1uZXcgVmlkZW9QdXNoUGFyYW1ldGVyc0hlbHBlcih0aGlzLmpjKTtnLnNldFN0cmVhbUVuZE9mZnNldChNYXRoLmZsb29yKExmKHRoaXMpLzEpKTsKdGhpcy5PYSYmZy5zZXRQdXNoVmlkZW9SZXByZXNlbnRhdGlvbklEKHRoaXMuT2EpO3RoaXMucGEmJmcuc2V0UHVzaEF1ZGlvUmVwcmVzZW50YXRpb25JRCh0aGlzLnBhKTt0aGlzLm1hJiZnLnNldFVzZUxvbmdDYWNoZUZvck1hbmlmZXN0KHRoaXMubWEpO2Y9bmV3IGZkKG51bGwpO2YuYT1nfWU9bmV3IEsodGhpcy5ZLGUsdm9pZCAwLHZvaWQgMCx2b2lkIDAsdGhpcy5NYik7Zj1uZXcgZGQoZSx0aGlzLkxiLGYsdGhpcy5kYSk7Yj1EYXRlLm5vdygpO3JldHVybiBlZChmLHRoaXMubCkudGhlbihkLGMpfTsKWi5wcm90b3R5cGUudmM9ZnVuY3Rpb24oKXtpZih0aGlzLlViKXt2YXIgYT10aGlzLmI7aWYoYT0oYT1hJiZhLmEpJiZhWzBdKXt2YXIgYT1hLmEucmVkdWNlKGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuY29uY2F0KGIudil9LFtdKSxiPWZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hfTtQcm9taXNlLmFsbChhLm1hcChmdW5jdGlvbihhKXthPWEuTTtyZXR1cm4gYS5RYz9hLlJhOmEuY3JlYXRlKCl9KSkudGhlbihmdW5jdGlvbihhKXthPWEuZmlsdGVyKGIpO3RoaXMuTGEoIkluaXRpYWxTZWdtZW50SW5kZXhlcyIsYSl9LmJpbmQodGhpcykpO1Byb21pc2UuYWxsKGEubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLmFhfSkpLnRoZW4oZnVuY3Rpb24oYSl7YT1hLmZpbHRlcihiKTt0aGlzLkxhKCJTZWdtZW50SW5pdFNvdXJjZXMiLGEpfS5iaW5kKHRoaXMpKX19fTsKWi5wcm90b3R5cGUueWM9ZnVuY3Rpb24oYSxiLGMpe2lmKHRoaXMudmlkZW8ucGF1c2VkJiZ0aGlzLkhhKzFFND5EYXRlLm5vdygpJiZ0aGlzLmIpcmV0dXJuIFByb21pc2UucmVqZWN0KHt0eXBlOiJkZWxheSJ9KTt2YXIgZDtpZihiJiZ2b2lkIDAhPWMpZD1uZXcgZmQoYiksZC5mPWMsYj1TZih0aGlzKSxudWxsIT1iJiYoZC5jPWIuc3RyZWFtSW5mb0lELGQuYj10aGlzLnBhKTtlbHNlIGZvcihiPWEuYyxjPTA7YzxiLmxlbmd0aDtjKyspe3ZhciBlPW5ldyBWaWRlb1B1c2hQYXJhbWV0ZXJzSGVscGVyKGJbY10udG9TdHJpbmcoKSk7dGhpcy5tYSYmZS5zZXRVc2VMb25nQ2FjaGVGb3JNYW5pZmVzdCh0aGlzLm1hKTtiW2NdPW5ldyBMKGUuZ2V0VVJMKCkpfWE9bmV3IGRkKGEsdGhpcy5MYixkLHRoaXMuZGEpO3ZhciBmPURhdGUubm93KCk7cmV0dXJuIGVkKGEsdGhpcy5sKS50aGVuKEoodGhpcyxmdW5jdGlvbihhKXt0aGlzLkhhPURhdGUubm93KCk7dGhpcy5MYSgiTVBERmV0Y2hEdXJhdGlvbiIsCih0aGlzLkhhLWYpLzFFMyk7dGhpcy5hLmdldEJvb2woInRyZWF0X2xpdmVfc3RhdGljX21hbmlmZXN0X2FzX2R5bmFtaWMiLCExKSYmKGEubWFuaWZlc3RJc0xpdmVTdHJlYW1pbmc9ImR5bmFtaWMiPT09KHRoaXMuRj90aGlzLkYudHlwZTphLnR5cGUpKTt0aGlzLkY9YTt2YXIgYj1uZXcgeWUodGhpcy5hLHRoaXMudGEsdGhpcy5sLHRoaXMuTWIpO2lmKHRoaXMubCl2YXIgYz10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJwcm9jZXNzX21hbmlmZXN0Iikuc3RhcnQoKTthPXplKGIsYSx0aGlzLlkpO2MmJmMubG9nKCk7cmV0dXJuIFByb21pc2UucmVzb2x2ZShhKX0pKX07Wi5wcm90b3R5cGUueGM9ZnVuY3Rpb24oKXt2YXIgYT16ZShuZXcgeWUodGhpcy5hLHRoaXMudGEpLHRoaXMuRix0aGlzLlkpO3JldHVybiBQcm9taXNlLnJlc29sdmUoYSl9O30uYmluZChnLCBnbG9iYWwpKSgpOwoKbW9kdWxlLmV4cG9ydHMgPSBnLnNoYWthOwoKCi8qICAqL30pLG51bGwpOwovLyMgc291cmNlVVJMPWZiOGIxNmM4YjU3NjdkNTE4ODYwZGFiMjgzMGM1MGYyLmpzCg==, line 416: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript error: data:application/x-javascript;charset=utf-8;base64,aWYgKHNlbGYuQ2F2YWxyeUxvZ2dlcikgeyBDYXZhbHJ5TG9nZ2VyLnN0YXJ0X2pzKFsiKzRzV3kiXSk7IH0KLyoqCiAqIEBwcm92aWRlc01vZHVsZSBTaGFrYQogKiBAcHJlc2VydmUtd2hpdGVzcGFjZQogKiBAbm9wYWNrYWdlCiAqIEBnZW5lcmF0ZWQKICovCl9fZCgiU2hha2EiLFsiUHJvbWlzZSIsIkV2ZW50TGlzdGVuZXIiLCJWaWRlb1BsYXllclNoYWthUGVyZm9ybWFuY2VMb2dnZXIiLCJWaWRlb1B1c2hQYXJhbWV0ZXJzSGVscGVyIiwiVGltZVNsaWNlIiwiVmlkZW9QbGF5ZXJMb2NhbEJhbmR3aWR0aEVzdGltYXRvciIsIlZpZGVvUGxheWVyUmVzb3VyY2VUaW1lciIsIlNoYWthU2VnbWVudFJlZmVyZW5jZUhlbHBlciIsIlNlZ21lbnRSZXF1ZXN0TWFuYWdlciIsImNvbmNhdEFycmF5QnVmZmVyIiwiQnVmZmVyUmVwbGFjZW1lbnRIZWxwZXIiLCJsb2dMb25nQWthbWFpUmVxdWVzdCIsInRocm90dGxlIiwiVmlld3BvcnRQcmlvcml0eUFkanVzdGVyIiwiRmlyc3RMb2FkZWRWaWRlb1ByaW9yaXR5QWRqdXN0ZXIiLCJWaWRlb1ByaW9yaXR5Q2FsY3VsYXRvciIsIlZpZGVvU3RyZWFtaW5nTWFuYWdlciIsIk11bHRpcGxlU2VnbWVudHNQcm92aWRlciIsIkxvY2FsQml0cmF0ZUhlbHBlciIsIlVuaXRDb25zdGFudHMiLCJCdWZmZXJWZWxvY2l0eSIsIlZpZGVvUGxheWVyQml0cmF0ZUVzdGltYXRvciIsIlZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWciLCJnZXRTZWVrUmFuZ2VHYXBzRnJvbVNoYWthUmVmZXJlbmNlcyIsIm1lcmdlU2Vla1JhbmdlR2FwcyIsIk5ldHdvcmtTdGF0dXNEZXRlY3RvciIsIk1vc1V0aWxzIiwiQmFuemFpT0RTIiwiVmlkZW9EYXNoUHJlZmV0Y2hDYWNoZSIsIlZpZGVvQ2xpZW50RWRnZUNvb3BlcmF0aW9uIiwiVmlkZW9TdHJlYW1pbmdUYXNrUXVldWVQcm92aWRlciIsIkJpbmFyeVNlYXJjaCIsIlNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscyIsImdreCIsInNldFRpbWVvdXRBY3Jvc3NUcmFuc2l0aW9ucyIsInNldFRpbWVvdXQiLCJzZXRJbnRlcnZhbEFjcm9zc1RyYW5zaXRpb25zIiwic2V0SW50ZXJ2YWwiLCJzZXRJbW1lZGlhdGVBY3Jvc3NUcmFuc2l0aW9ucyIsInNldEltbWVkaWF0ZSIsImNsZWFyVGltZW91dCIsImNsZWFySW50ZXJ2YWwiLCJjbGVhckltbWVkaWF0ZSIsImRpc3BhdGNoRXZlbnQiLCJFdmVudExpc3RlbmVyIiwiRXZlbnQiLCJleHRyYWN0Q0VBNjA4IiwicGVyZm9ybWFuY2VOb3ciLCJwYXJzZUhlYWRlcnMiLCJjYW5Vc2VGZXRjaFN0cmVhbSIsIlN1YnNjcmlwdGlvbnNIYW5kbGVyIiwiVmlkZW9QdXNoVHJhY2tlciJdLChmdW5jdGlvbiAkbW9kdWxlX1NoYWthKGdsb2JhbCxyZXF1aXJlLHJlcXVpcmVEeW5hbWljLHJlcXVpcmVMYXp5LG1vZHVsZSxleHBvcnRzKXsKCi8vIHJ1biBgYXJjIHJlYnVpbGQgc2hha2EtcGxheWVyYCB0byByZWdlbmVyYXRlIFNoYWthLmpzIGFmdGVyIG1vZGlmeWluZyB0aGlzCi8vIGZpbGUKCnZhciBQcm9taXNlID0gcmVxdWlyZSgnUHJvbWlzZScpOwp2YXIgRXZlbnRMaXN0ZW5lciA9IHJlcXVpcmUoJ0V2ZW50TGlzdGVuZXInKTsKdmFyIFZpZGVvUGxheWVyU2hha2FQZXJmb3JtYW5jZUxvZ2dlciA9IHJlcXVpcmUoJ1ZpZGVvUGxheWVyU2hha2FQZXJmb3JtYW5jZUxvZ2dlcicpOwp2YXIgVmlkZW9QdXNoUGFyYW1ldGVyc0hlbHBlciA9IHJlcXVpcmUoJ1ZpZGVvUHVzaFBhcmFtZXRlcnNIZWxwZXInKTsKdmFyIFRpbWVTbGljZSA9IHJlcXVpcmUoJ1RpbWVTbGljZScpOwp2YXIgVmlkZW9QbGF5ZXJMb2NhbEJhbmR3aWR0aEVzdGltYXRvciA9IHJlcXVpcmUoJ1ZpZGVvUGxheWVyTG9jYWxCYW5kd2lkdGhFc3RpbWF0b3InKTsKdmFyIFZpZGVvUGxheWVyUmVzb3VyY2VUaW1lciA9IHJlcXVpcmUoJ1ZpZGVvUGxheWVyUmVzb3VyY2VUaW1lcicpOwp2YXIgU2hha2FTZWdtZW50UmVmZXJlbmNlSGVscGVyID0gcmVxdWlyZSgnU2hha2FTZWdtZW50UmVmZXJlbmNlSGVscGVyJyk7CnZhciBTZWdtZW50UmVxdWVzdE1hbmFnZXIgPSByZXF1aXJlKCdTZWdtZW50UmVxdWVzdE1hbmFnZXInKTsKdmFyIGNvbmNhdEFycmF5QnVmZmVyID0gcmVxdWlyZSgnY29uY2F0QXJyYXlCdWZmZXInKTsKdmFyIEJ1ZmZlclJlcGxhY2VtZW50SGVscGVyID0gcmVxdWlyZSgnQnVmZmVyUmVwbGFjZW1lbnRIZWxwZXInKTsKdmFyIGxvZ0xvbmdBa2FtYWlSZXF1ZXN0ID0gcmVxdWlyZSgnbG9nTG9uZ0FrYW1haVJlcXVlc3QnKTsKdmFyIHRocm90dGxlID0gcmVxdWlyZSgndGhyb3R0bGUnKTsKdmFyIFZpZXdwb3J0UHJpb3JpdHlBZGp1c3RlciA9IHJlcXVpcmUoJ1ZpZXdwb3J0UHJpb3JpdHlBZGp1c3RlcicpOwp2YXIgRmlyc3RMb2FkZWRWaWRlb1ByaW9yaXR5QWRqdXN0ZXIgPSByZXF1aXJlKCdGaXJzdExvYWRlZFZpZGVvUHJpb3JpdHlBZGp1c3RlcicpOwp2YXIgVmlkZW9Qcmlvcml0eUNhbGN1bGF0b3IgPSByZXF1aXJlKCdWaWRlb1ByaW9yaXR5Q2FsY3VsYXRvcicpOwp2YXIgVmlkZW9TdHJlYW1pbmdNYW5hZ2VyID0gcmVxdWlyZSgnVmlkZW9TdHJlYW1pbmdNYW5hZ2VyJyk7CnZhciBNdWx0aXBsZVNlZ21lbnRzUHJvdmlkZXIgPSByZXF1aXJlKCdNdWx0aXBsZVNlZ21lbnRzUHJvdmlkZXInKTsKdmFyIExvY2FsQml0cmF0ZUhlbHBlciA9IHJlcXVpcmUoJ0xvY2FsQml0cmF0ZUhlbHBlcicpOwp2YXIgVW5pdENvbnN0YW50cyA9IHJlcXVpcmUoJ1VuaXRDb25zdGFudHMnKTsKdmFyIEJ1ZmZlclZlbG9jaXR5ID0gcmVxdWlyZSgnQnVmZmVyVmVsb2NpdHknKTsKdmFyIFZpZGVvUGxheWVyQml0cmF0ZUVzdGltYXRvciA9IHJlcXVpcmUoJ1ZpZGVvUGxheWVyQml0cmF0ZUVzdGltYXRvcicpOwp2YXIgVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZyA9IHJlcXVpcmUoJ1ZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcnKTsKdmFyIGdldFNlZWtSYW5nZUdhcHNGcm9tU2hha2FSZWZlcmVuY2VzID0gcmVxdWlyZSgnZ2V0U2Vla1JhbmdlR2Fwc0Zyb21TaGFrYVJlZmVyZW5jZXMnKTsKdmFyIG1lcmdlU2Vla1JhbmdlR2FwcyA9IHJlcXVpcmUoJ21lcmdlU2Vla1JhbmdlR2FwcycpOwp2YXIgTmV0d29ya1N0YXR1c0RldGVjdG9yID0gcmVxdWlyZSgnTmV0d29ya1N0YXR1c0RldGVjdG9yJyk7CnZhciBNb3NVdGlscyA9IHJlcXVpcmUoJ01vc1V0aWxzJyk7CnZhciBCYW56YWlPRFMgPSByZXF1aXJlKCdCYW56YWlPRFMnKTsKdmFyIFZpZGVvRGFzaFByZWZldGNoQ2FjaGUgPSByZXF1aXJlKCdWaWRlb0Rhc2hQcmVmZXRjaENhY2hlJyk7CnZhciBWaWRlb0NsaWVudEVkZ2VDb29wZXJhdGlvbiA9IHJlcXVpcmUoJ1ZpZGVvQ2xpZW50RWRnZUNvb3BlcmF0aW9uJyk7CnZhciBWaWRlb1N0cmVhbWluZ1Rhc2tRdWV1ZVByb3ZpZGVyID0gcmVxdWlyZSgnVmlkZW9TdHJlYW1pbmdUYXNrUXVldWVQcm92aWRlcicpOwp2YXIgQmluYXJ5U2VhcmNoID0gcmVxdWlyZSgnQmluYXJ5U2VhcmNoJyk7CnZhciBTaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMgPSByZXF1aXJlKCdTaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMnKTsKdmFyIGdreCA9IHJlcXVpcmUoJ2dreCcpOwoKdmFyIHNldFRpbWVvdXQgPSBWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woCiAgICAndGltZW91dHNfcGVyc2lzdF9vbl9wYWdlX3RyYW5zaXRpb24nLAogICAgdHJ1ZQogICkgPwogIHJlcXVpcmUoJ3NldFRpbWVvdXRBY3Jvc3NUcmFuc2l0aW9ucycpIDoKICByZXF1aXJlKCdzZXRUaW1lb3V0Jyk7CnZhciBzZXRJbnRlcnZhbCA9IFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgKICAgICd0aW1lb3V0c19wZXJzaXN0X29uX3BhZ2VfdHJhbnNpdGlvbicsCiAgICB0cnVlCiAgKSA/CiAgcmVxdWlyZSgnc2V0SW50ZXJ2YWxBY3Jvc3NUcmFuc2l0aW9ucycpIDoKICByZXF1aXJlKCdzZXRJbnRlcnZhbCcpOwp2YXIgc2V0SW1tZWRpYXRlID0gVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKAogICAgJ3RpbWVvdXRzX3BlcnNpc3Rfb25fcGFnZV90cmFuc2l0aW9uJywKICAgIHRydWUKICApID8KICByZXF1aXJlKCdzZXRJbW1lZGlhdGVBY3Jvc3NUcmFuc2l0aW9ucycpIDoKICByZXF1aXJlKCdzZXRJbW1lZGlhdGUnKTsKdmFyIGNsZWFyVGltZW91dCA9IHJlcXVpcmUoJ2NsZWFyVGltZW91dCcpOwp2YXIgY2xlYXJJbnRlcnZhbCA9IHJlcXVpcmUoJ2NsZWFySW50ZXJ2YWwnKTsKdmFyIGNsZWFySW1tZWRpYXRlID0gcmVxdWlyZSgnY2xlYXJJbW1lZGlhdGUnKTsKdmFyIGRpc3BhdGNoRG9tRXZlbnQgPSByZXF1aXJlKCdkaXNwYXRjaEV2ZW50Jyk7CnZhciBldmVudExpc3RlbmVyQ2FwdHVyZSA9IHJlcXVpcmUoJ0V2ZW50TGlzdGVuZXInKS5jYXB0dXJlOwp2YXIgZXZlbnRLaWxsID0gcmVxdWlyZSgnRXZlbnQnKS5raWxsOwp2YXIgZXh0cmFjdENFQTYwOCA9IHJlcXVpcmUoJ2V4dHJhY3RDRUE2MDgnKTsKdmFyIHBlcmZvcm1hbmNlTm93ID0gcmVxdWlyZSgncGVyZm9ybWFuY2VOb3cnKTsKdmFyIHBhcnNlSGVhZGVycyA9IHJlcXVpcmUoJ3BhcnNlSGVhZGVycycpOwp2YXIgY2FuVXNlRmV0Y2hTdHJlYW0gPSByZXF1aXJlKCdjYW5Vc2VGZXRjaFN0cmVhbScpOwp2YXIgU3Vic2NyaXB0aW9uc0hhbmRsZXIgPSByZXF1aXJlKCdTdWJzY3JpcHRpb25zSGFuZGxlcicpOwp2YXIgVmlkZW9QdXNoVHJhY2tlciA9IHJlcXVpcmUoJ1ZpZGVvUHVzaFRyYWNrZXInKTsKCmZ1bmN0aW9uIHNldEV2ZW50UHJvcGVydHkob2JqLCBuYW1lLCBoYW5kbGVyKSB7CiAgb2JqW25hbWVdID0gVGltZVNsaWNlLmd1YXJkKGhhbmRsZXIsICdzaGFrYSAnICsgbmFtZSk7Cn07CgppZiAoCiAgVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCdzaGFrYV9uYXRpdmVfcHJvbWlzZScsIGZhbHNlKSAmJgogIFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgndXNlX25hdGl2ZV9wcm9taXNlJywgdHJ1ZSkKKSB7CiAgUHJvbWlzZSA9IHdpbmRvdy5Qcm9taXNlOwp9Cgp2YXIgZyA9IHt9OwoKKGZ1bmN0aW9uKHdpbmRvdyl7dmFyIG4sYWE9dGhpcztmdW5jdGlvbiBxKGEsYil7dmFyIGM9YS5zcGxpdCgiLiIpLGQ9YWE7Y1swXWluIGR8fCFkLmV4ZWNTY3JpcHR8fGQuZXhlY1NjcmlwdCgidmFyICIrY1swXSk7Zm9yKHZhciBlO2MubGVuZ3RoJiYoZT1jLnNoaWZ0KCkpOyljLmxlbmd0aHx8dm9pZCAwPT09Yj9kW2VdP2Q9ZFtlXTpkPWRbZV09e306ZFtlXT1ifWZ1bmN0aW9uIHIoYSxiKXtmdW5jdGlvbiBjKCl7fWMucHJvdG90eXBlPWIucHJvdG90eXBlO2EuUGQ9Yi5wcm90b3R5cGU7YS5wcm90b3R5cGU9bmV3IGM7YS5wcm90b3R5cGUuY29uc3RydWN0b3I9YTthLkxkPWZ1bmN0aW9uKGEsYyxmKXtyZXR1cm4gYi5wcm90b3R5cGVbY10uYXBwbHkoYSxBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMikpfX07LyoKCiBDb3B5cmlnaHQgMjAxNSBHb29nbGUgSW5jLgoKIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoKIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoqLwpmdW5jdGlvbiBiYSgpe307ZnVuY3Rpb24gY2EoYSl7dmFyIGI9Y29uc29sZVthXTtiP2IuYmluZHx8KGNvbnNvbGVbYV09ZnVuY3Rpb24oKXtiLmFwcGx5KGNvbnNvbGUsYXJndW1lbnRzKX0pOmNvbnNvbGVbYV09ZnVuY3Rpb24oKXt9fWNhKCJlcnJvciIpO2NhKCJ3YXJuIik7Y2EoImluZm8iKTtjYSgibG9nIik7Y2EoImRlYnVnIik7dmFyIHU9e3FhOmZ1bmN0aW9uKGEpe3UuSGJbYV09e3FhOnUud2MoKSxlbmQ6TmFOfX0sZW5kOmZ1bmN0aW9uKGEpe2lmKGE9dS5IYlthXSlhLmVuZD11LndjKCl9LE1kOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD11LmdldChhKSxlPXUuZ2V0KGIpO2lmKCFkfHwhZSlyZXR1cm4gTmFOO2QtPWU7Zm9yKGU9MjtlPGFyZ3VtZW50cy5sZW5ndGg7KytlKXt2YXIgZj11LmdldChhcmd1bWVudHNbZV0pO2lmKCFmKXJldHVybiBOYU47ZC09Zn1yZXR1cm4gZH0sZ2V0OmZ1bmN0aW9uKGEpe3JldHVybihhPXUuSGJbYV0pJiZhLmVuZD9hLmVuZC1hLnFhOk5hTn19O3Uud2M9d2luZG93LnBlcmZvcm1hbmNlJiZ3aW5kb3cucGVyZm9ybWFuY2Uubm93P3dpbmRvdy5wZXJmb3JtYW5jZS5ub3cuYmluZCh3aW5kb3cucGVyZm9ybWFuY2UpOkRhdGUubm93O3UuSGI9e307LyoKCiBDb3B5cmlnaHQgMjAwNC1wcmVzZW50IEZhY2Vib29rLiBBbGwgUmlnaHRzIFJlc2VydmVkLgoKKi8KZnVuY3Rpb24gZmEoYSxiLGMsZCxlLGYsZyxoKXt0aGlzLmlkPWE7dGhpcy5iYW5kd2lkdGg9Ynx8MDt0aGlzLmxhbmc9Y3x8InVua25vd24iO3RoaXMuc3RyZWFtSW5mb0lEPWQ7dGhpcy5taW1lVHlwZT1lfHwiIjt0aGlzLmNvZGVjcz1mfHwiIjt0aGlzLmNoYW5uZWxzPWd8fG51bGw7dGhpcy5zYW1wbGluZ1JhdGU9aHx8bnVsbDt0aGlzLmFjdGl2ZT0hMX1xKCJzaGFrYS5wbGF5ZXIuQXVkaW9UcmFjay5jb21wYXJlIixmdW5jdGlvbihhLGIpe3JldHVybiBhLmxhbmc8Yi5sYW5nPy0xOmEubGFuZz5iLmxhbmc/MTphLmJhbmR3aWR0aDxiLmJhbmR3aWR0aD8tMTphLmJhbmR3aWR0aD5iLmJhbmR3aWR0aD8xOjB9KTt2YXIgZ2E9VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoInNoYWthX2RlZmF1bHRfcmVxdWVzdF90aW1lb3V0X3RpbWVzY2FsZSIsMUUzKSxoYT1NYXRoLmZsb29yKFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJzaGFrYV9kZWZhdWx0X2FqYXhfcmVxdWVzdF90aW1lb3V0X21zIiwwKS9nYSksaWE9TWF0aC5mbG9vcihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigic2hha2FfZGVmYXVsdF9hamF4X3JlcXVlc3RfdGltZW91dF9tcyIsMCkvZ2EpLGphPU1hdGguZmxvb3IoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoInNoYWthX2RlZmF1bHRfYWpheF9yZXF1ZXN0X3RpbWVvdXRfbXMiLDApL2dhKTtmdW5jdGlvbiBrYSgpe3RoaXMubWluQmFuZHdpZHRoPXRoaXMubWF4QmFuZHdpZHRoPXRoaXMubWF4V2lkdGg9dGhpcy5taW5IZWlnaHQ9dGhpcy5tYXhIZWlnaHQ9bnVsbH1rYS5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYT1uZXcga2E7YS5tYXhIZWlnaHQ9dGhpcy5tYXhIZWlnaHQ7YS5taW5IZWlnaHQ9dGhpcy5taW5IZWlnaHQ7YS5tYXhXaWR0aD10aGlzLm1heFdpZHRoO2EubWF4QmFuZHdpZHRoPXRoaXMubWF4QmFuZHdpZHRoO2EubWluQmFuZHdpZHRoPXRoaXMubWluQmFuZHdpZHRoO3JldHVybiBhfTtmdW5jdGlvbiBsYSgpe3RoaXMuZm9udFNpemU9IjEwMCUiO3RoaXMuZm9udENvbG9yPW1hO3RoaXMuZm9udE9wYWNpdHk9b2E7dGhpcy5iYWNrZ3JvdW5kQ29sb3I9cGE7dGhpcy5iYWNrZ3JvdW5kT3BhY2l0eT1vYTt0aGlzLmZvbnRFZGdlPXFhfXEoInNoYWthLnBsYXllci5UZXh0U3R5bGUiLGxhKTsKZnVuY3Rpb24gcmEoYSl7dmFyIGI9W107Yi5wdXNoKCJmb250LXNpemU6ICIrYS5mb250U2l6ZSk7Yi5wdXNoKCJjb2xvcjogIitzYShhLmZvbnRDb2xvcixhLmZvbnRPcGFjaXR5KSk7Yi5wdXNoKCJiYWNrZ3JvdW5kLWNvbG9yOiAiK3NhKGEuYmFja2dyb3VuZENvbG9yLGEuYmFja2dyb3VuZE9wYWNpdHkpKTtmb3IodmFyIGM9W10sZD0wO2Q8YS5mb250RWRnZS5sZW5ndGg7KytkKXt2YXIgZT1hLmZvbnRFZGdlW2RdLnNsaWNlKDMsNik7Yy5wdXNoKHNhKGEuZm9udEVkZ2VbZF0uc2xpY2UoMCwzKSxhLmZvbnRPcGFjaXR5KSsiICIrZS5qb2luKCJweCAiKSsicHgiKX1iLnB1c2goInRleHQtc2hhZG93OiAiK2Muam9pbigiLCIpKTtyZXR1cm4gYi5qb2luKCI7ICIpfWZ1bmN0aW9uIHNhKGEsYil7cmV0dXJuInJnYmEoIithLmNvbmNhdChiKS5qb2luKCIsIikrIikifXZhciBtYT1bMjU1LDI1NSwyNTVdLHBhPVswLDAsMF07CmxhLlN0YW5kYXJkQ29sb3JzPXtXSElURTptYSxCTEFDSzpwYSxSRUQ6WzI1NSwwLDBdLEdSRUVOOlswLDI1NSwwXSxCTFVFOlswLDAsMjU1XSxZRUxMT1c6WzI1NSwyNTUsMF0sTUFHRU5UQTpbMjU1LDAsMjU1XSxDWUFOOlswLDI1NSwyNTVdfTt2YXIgb2E9MTtsYS5TdGFuZGFyZE9wYWNpdGllcz17T1BBUVVFOm9hLFNFTUlfSElHSDouNzUsU0VNSV9MT1c6LjI1LFRSQU5TUEFSRU5UOjB9O3ZhciBxYT1bXTsKbGEuRWRnZVN0eWxlcz17Tk9ORTpxYSxSQUlTRUQ6W1szNCwzNCwzNCwxLDEsMF0sWzM0LDM0LDM0LDIsMiwwXSxbMzQsMzQsMzQsMywzLDBdXSxERVBSRVNTRUQ6W1syMDQsMjA0LDIwNCwxLDEsMF0sWzIwNCwyMDQsMjA0LDAsMSwwXSxbMzQsMzQsMzQsLTEsLTEsMF0sWzM0LDM0LDM0LDAsLTEsMF1dLFVOSUZPUk06W1szNCwzNCwzNCwwLDAsNF0sWzM0LDM0LDM0LDAsMCw0XSxbMzQsMzQsMzQsMCwwLDRdLFszNCwzNCwzNCwwLDAsNF1dLERST1A6W1szNCwzNCwzNCwyLDIsM10sWzM0LDM0LDM0LDIsMiw0XSxbMzQsMzQsMzQsMiwyLDVdXX07ZnVuY3Rpb24gdGEoYSxiKXt0aGlzLmlkPWE7dGhpcy5sYW5nPWJ8fCJ1bmtub3duIjt0aGlzLmVuYWJsZWQ9dGhpcy5hY3RpdmU9ITF9cSgic2hha2EucGxheWVyLlRleHRUcmFjay5jb21wYXJlIixmdW5jdGlvbihhLGIpe3JldHVybiBhLmxhbmc8Yi5sYW5nPy0xOmEubGFuZz5iLmxhbmc/MTowfSk7ZnVuY3Rpb24gdWEoYSxiLGMsZCxlLGYsZyxoLGssbCxtLHAsdCl7dGhpcy5pZD1hO3RoaXMuYmFuZHdpZHRoPWJ8fDA7dGhpcy53aWR0aD1jfHwwO3RoaXMuaGVpZ2h0PWR8fDA7dGhpcy5zdHJlYW1JbmZvSUQ9ZTt0aGlzLmZiUXVhbGl0eUxhYmVsPWY7dGhpcy5mYlF1YWxpdHlDbGFzcz1nO2E9W107aCYmKGE9aC5zcGxpdCgiLCIpKTt0aGlzLmZyYW1lUmF0ZT1rfHwiIjt0aGlzLm1pbWVUeXBlPWx8fCIiO3RoaXMuY29kZWNzPW18fCIiO3RoaXMuaXNIVlE9LTE8YS5pbmRleE9mKCJodnEiKTt0aGlzLmlzSW5saW5lSFZRPS0xPGEuaW5kZXhPZigiaHZxX3d3d19pbmxpbmUiKTt0aGlzLmF2b2lkT25Qb29yQ29ubmVjdGlvbj0tMTxhLmluZGV4T2YoImF2b2lkX29uX3Bvb3JfY29ubmVjdGlvbiIpO3RoaXMuYWN0aXZlPSExO3RoaXMucGxheWJhY2tSZXNvbHV0aW9uTW9zPXB8fG51bGw7dGhpcy5wbGF5YmFja1Jlc29sdXRpb25Nb3NDb25maWRlbmNlTGV2ZWw9dHx8bnVsbH0KZnVuY3Rpb24gdmEoYSxiKXt2YXIgYz1hLndpZHRoKmEuaGVpZ2h0LGQ9Yi53aWR0aCpiLmhlaWdodDtyZXR1cm4gYzxkPy0xOmM+ZD8xOmEuYmFuZHdpZHRoPGIuYmFuZHdpZHRoPy0xOmEuYmFuZHdpZHRoPmIuYmFuZHdpZHRoPzE6MH1xKCJzaGFrYS5wbGF5ZXIuVmlkZW9UcmFjay5jb21wYXJlIix2YSk7ZnVuY3Rpb24gd2EoYSl7Zm9yKHZhciBiPXhhLGM9W10sZD0wO2Q8YS5sZW5ndGg7KytkKXtmb3IodmFyIGU9ITEsZj0wO2Y8Yy5sZW5ndGgmJiEoZT1iP2IoYVtkXSxjW2ZdKTphW2RdPT09Y1tmXSk7KytmKTtlfHxjLnB1c2goYVtkXSl9cmV0dXJuIGN9O2Z1bmN0aW9uIHlhKCl7cmV0dXJuIERhdGUubm93KCkremF9dmFyIHphPTA7ZnVuY3Rpb24gQmEoYSl7dGhpcy5iPWE7dGhpcy5jPTA9PUNhO3RoaXMuYT0wfXZhciBDYT0xO2Z1bmN0aW9uIERhKGEpe3JldHVybiBhLmE8YS5iLmJ5dGVMZW5ndGh9ZnVuY3Rpb24gRWEoYSl7dmFyIGI9YS5iLmdldFVpbnQ4KGEuYSk7YS5hKz0xO3JldHVybiBifWZ1bmN0aW9uIHYoYSl7dmFyIGI9YS5iLmdldFVpbnQzMihhLmEsYS5jKTthLmErPTQ7cmV0dXJuIGJ9ZnVuY3Rpb24gRmEoYSl7dmFyIGIsYzthLmM/KGI9YS5iLmdldFVpbnQzMihhLmEsITApLGM9YS5iLmdldFVpbnQzMihhLmErNCwhMCkpOihjPWEuYi5nZXRVaW50MzIoYS5hLCExKSxiPWEuYi5nZXRVaW50MzIoYS5hKzQsITEpKTtpZigyMDk3MTUxPGMpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkRhdGFWaWV3UmVhZGVyOiBPdmVyZmxvdyByZWFkaW5nIDY0LWJpdCB2YWx1ZS4iKTthLmErPTg7cmV0dXJuIGMqTWF0aC5wb3coMiwzMikrYn0KZnVuY3Rpb24gR2EoYSl7aWYoYS5hKzE2PmEuYi5ieXRlTGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKCJEYXRhVmlld1JlYWRlcjogUmVhZCBwYXN0IGVuZCBvZiBEYXRhVmlldy4iKTt2YXIgYj1uZXcgVWludDhBcnJheShhLmIuYnVmZmVyLGEuYSwxNik7YS5hKz0xNjtyZXR1cm4gYn1mdW5jdGlvbiBIYShhLGIpe2lmKGEuYStiPmEuYi5ieXRlTGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKCJEYXRhVmlld1JlYWRlcjogU2tpcCBwYXN0IGVuZCBvZiBEYXRhVmlldy4iKTthLmErPWJ9O2Z1bmN0aW9uIElhKGEpe3RoaXMuYj1hO3RoaXMuYT1uZXcgQmEoYSk7SmF8fChKYT1bbmV3IFVpbnQ4QXJyYXkoWzI1NV0pLG5ldyBVaW50OEFycmF5KFsxMjcsMjU1XSksbmV3IFVpbnQ4QXJyYXkoWzYzLDI1NSwyNTVdKSxuZXcgVWludDhBcnJheShbMzEsMjU1LDI1NSwyNTVdKSxuZXcgVWludDhBcnJheShbMTUsMjU1LDI1NSwyNTUsMjU1XSksbmV3IFVpbnQ4QXJyYXkoWzcsMjU1LDI1NSwyNTUsMjU1LDI1NV0pLG5ldyBVaW50OEFycmF5KFszLDI1NSwyNTUsMjU1LDI1NSwyNTUsMjU1XSksbmV3IFVpbnQ4QXJyYXkoWzEsMjU1LDI1NSwyNTUsMjU1LDI1NSwyNTUsMjU1XSldKX12YXIgSmE7CmZ1bmN0aW9uIEthKGEpe3ZhciBiO2I9TGEoYSk7aWYoNzxiLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiRWJtbFBhcnNlcjogRUJNTCBJRCBtdXN0IGJlIGF0IG1vc3QgNyBieXRlcy4iKTtmb3IodmFyIGM9MCxkPTA7ZDxiLmxlbmd0aDtkKyspYz0yNTYqYytiW2RdO2I9YztjPUxhKGEpO2E6e2ZvcihkPTA7ZDxKYS5sZW5ndGg7ZCsrKWlmKE1hKGMsSmFbZF0pKXtkPSEwO2JyZWFrIGF9ZD0hMX1pZihkKWM9YS5iLmJ5dGVMZW5ndGgtYS5hLmE7ZWxzZXtpZig4PT1jLmxlbmd0aCYmY1sxXSYyMjQpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkVibWxQYXJzZXI6IFZhcmlhYmxlIHNpemVkIGludGVnZXIgdmFsdWUgbXVzdCBiZSBhdCBtb3N0IDUzIGJpdHMuIik7Zm9yKHZhciBkPWNbMF0mKDE8PDgtYy5sZW5ndGgpLTEsZT0xO2U8Yy5sZW5ndGg7ZSsrKWQ9MjU2KmQrY1tlXTtjPWR9Yz1hLmEuYStjPD1hLmIuYnl0ZUxlbmd0aD9jOmEuYi5ieXRlTGVuZ3RoLWEuYS5hO2Q9bmV3IERhdGFWaWV3KGEuYi5idWZmZXIsCmEuYi5ieXRlT2Zmc2V0K2EuYS5hLGMpO0hhKGEuYSxjKTtyZXR1cm4gbmV3IE5hKGIsZCl9ZnVuY3Rpb24gTGEoYSl7dmFyIGI9RWEoYS5hKSxjO2ZvcihjPTE7OD49YyYmIShiJjE8PDgtYyk7YysrKTtpZig4PGMpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkVibWxQYXJzZXI6IFZhcmlhYmxlIHNpemVkIGludGVnZXIgbXVzdCBmaXQgd2l0aGluIDggYnl0ZXMuIik7dmFyIGQ9bmV3IFVpbnQ4QXJyYXkoYyk7ZFswXT1iO2ZvcihiPTE7YjxjO2IrKylkW2JdPUVhKGEuYSk7cmV0dXJuIGR9ZnVuY3Rpb24gTmEoYSxiKXt0aGlzLmlkPWE7dGhpcy5hPWJ9CmZ1bmN0aW9uIE9hKGEpe2lmKDg8YS5hLmJ5dGVMZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkVibWxFbGVtZW50OiBVbnNpZ25lZCBpbnRlZ2VyIGhhcyB0b28gbWFueSBieXRlcy4iKTtpZig4PT1hLmEuYnl0ZUxlbmd0aCYmYS5hLmdldFVpbnQ4KDApJjIyNCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiRWJtbFBhcnNlcjogVW5zaWduZWQgaW50ZWdlciBtdXN0IGJlIGF0IG1vc3QgNTMgYml0cy4iKTtmb3IodmFyIGI9MCxjPTA7YzxhLmEuYnl0ZUxlbmd0aDtjKyspdmFyIGQ9YS5hLmdldFVpbnQ4KGMpLGI9MjU2KmIrZDtyZXR1cm4gYn07dmFyIFBhPXsib3V0cHV0LXJlc3RyaWN0ZWQiOiJUaGUgcmVxdWlyZWQgb3V0cHV0IHByb3RlY3Rpb24gaXMgbm90IGF2YWlsYWJsZS4iLCJvdXRwdXQtbm90LWFsbG93ZWQiOiJUaGUgcmVxdWlyZWQgb3V0cHV0IHByb3RlY3Rpb24gaXMgbm90IGF2YWlsYWJsZS4iLGV4cGlyZWQ6IlRoZSBkZWNyeXB0aW9uIGtleSBoYXMgZXhwaXJlZC4iLCJpbnRlcm5hbC1lcnJvciI6IlRoZSBrZXkgc3lzdGVtIGhhcyBlbmNvdW50ZXJlZCBhbiB1bnNwZWNpZmllZCBlcnJvci4ifTtmdW5jdGlvbiB4KGEpe3RoaXMuYj1NYXRoLmV4cChNYXRoLmxvZyguNSkvYSk7dGhpcy55Yj10aGlzLiRhPXRoaXMuYT0wfXEoInNoYWthLnV0aWwuRVdNQSIseCk7eC5wcm90b3R5cGUuc2FtcGxlPWZ1bmN0aW9uKGEsYil7dmFyIGM9TWF0aC5wb3codGhpcy5iLGEpO3RoaXMuYT1iKigxLWMpK2MqdGhpcy5hO3RoaXMuJGErPWE7dGhpcy55Yis9MX07eC5wcm90b3R5cGUuc2FtcGxlPXgucHJvdG90eXBlLnNhbXBsZTt4LnByb3RvdHlwZS5jPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGF9O3gucHJvdG90eXBlLmdldFRvdGFsV2VpZ2h0PXgucHJvdG90eXBlLmM7eC5wcm90b3R5cGUuZ2V0RXN0aW1hdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLygxLU1hdGgucG93KHRoaXMuYix0aGlzLiRhKSl9O3gucHJvdG90eXBlLmdldEVzdGltYXRlPXgucHJvdG90eXBlLmdldEVzdGltYXRlO3gucHJvdG90eXBlLmY9ZnVuY3Rpb24oKXt0aGlzLnliPXRoaXMuJGE9dGhpcy5hPTB9Owp4LnByb3RvdHlwZS5yZXNldD14LnByb3RvdHlwZS5mO3ZhciBRYT13aW5kb3cuQ3VzdG9tRXZlbnQ7ImZ1bmN0aW9uIiE9PXR5cGVvZiBRYSYmKFFhPWZ1bmN0aW9uKGEsYil7Yj1ifHx7YnViYmxlczohMSxjYW5jZWxhYmxlOiExLGRldGFpbDp2b2lkIDB9O3ZhciBjPWRvY3VtZW50LmNyZWF0ZUV2ZW50KCJDdXN0b21FdmVudCIpO2MuaW5pdEN1c3RvbUV2ZW50KGEsYi5idWJibGVzLGIuY2FuY2VsYWJsZSxiLmRldGFpbCk7cmV0dXJuIGN9LFFhLnByb3RvdHlwZT13aW5kb3cuRXZlbnQucHJvdG90eXBlKTtmdW5jdGlvbiB5KGEpe3ZhciBiPW5ldyBRYShhLnR5cGUse2RldGFpbDphLmRldGFpbCxidWJibGVzOiEhYS5idWJibGVzfSksYztmb3IoYyBpbiBhKWMgaW4gYnx8KGJbY109YVtjXSk7cmV0dXJuIGJ9ZnVuY3Rpb24gQShhKXtyZXR1cm4gbmV3IFFhKCJlcnJvciIse2RldGFpbDphLGJ1YmJsZXM6ITB9KX07ZnVuY3Rpb24gUmEoYSxiLGMpe1NhKGIpO1NhKGMpO3JldHVybiBjPT1ifHxhPj1UYSYmYz09Yi5zcGxpdCgiLSIpWzBdfHxhPj1VYSYmYy5zcGxpdCgiLSIpWzBdPT1iLnNwbGl0KCItIilbMF0/ITA6ITF9dmFyIFRhPTEsVWE9MjtmdW5jdGlvbiBTYShhKXthPWEudG9Mb3dlckNhc2UoKS5zcGxpdCgiLSIpO3ZhciBiPVZhW2FbMF1dO2ImJihhWzBdPWIpO3JldHVybiBhLmpvaW4oIi0iKX0KdmFyIFZhPXthYXI6ImFhIixhYms6ImFiIixhZnI6ImFmIixha2E6ImFrIixhbGI6InNxIixhbWg6ImFtIixhcmE6ImFyIixhcmc6ImFuIixhcm06Imh5Iixhc206ImFzIixhdmE6ImF2IixhdmU6ImFlIixheW06ImF5IixhemU6ImF6IixiYWs6ImJhIixiYW06ImJtIixiYXE6ImV1IixiZWw6ImJlIixiZW46ImJuIixiaWg6ImJoIixiaXM6ImJpIixib2Q6ImJvIixib3M6ImJzIixicmU6ImJyIixidWw6ImJnIixidXI6Im15IixjYXQ6ImNhIixjZXM6ImNzIixjaGE6ImNoIixjaGU6ImNlIixjaGk6InpoIixjaHU6ImN1IixjaHY6ImN2Iixjb3I6Imt3Iixjb3M6ImNvIixjcmU6ImNyIixjeW06ImN5IixjemU6ImNzIixkYW46ImRhIixkZXU6ImRlIixkaXY6ImR2IixkdXQ6Im5sIixkem86ImR6IixlbGw6ImVsIixlbmc6ImVuIixlcG86ImVvIixlc3Q6ImV0IixldXM6ImV1Iixld2U6ImVlIixmYW86ImZvIixmYXM6ImZhIixmaWo6ImZqIixmaW46ImZpIixmcmE6ImZyIixmcmU6ImZyIiwKZnJ5OiJmeSIsZnVsOiJmZiIsZ2VvOiJrYSIsZ2VyOiJkZSIsZ2xhOiJnZCIsZ2xlOiJnYSIsZ2xnOiJnbCIsZ2x2OiJndiIsZ3JlOiJlbCIsZ3JuOiJnbiIsZ3VqOiJndSIsaGF0OiJodCIsaGF1OiJoYSIsaGViOiJoZSIsaGVyOiJoeiIsaGluOiJoaSIsaG1vOiJobyIsaHJ2OiJociIsaHVuOiJodSIsaHllOiJoeSIsaWJvOiJpZyIsaWNlOiJpcyIsaWRvOiJpbyIsaWlpOiJpaSIsaWt1OiJpdSIsaWxlOiJpZSIsaW5hOiJpYSIsaW5kOiJpZCIsaXBrOiJpayIsaXNsOiJpcyIsaXRhOiJpdCIsamF2OiJqdiIsanBuOiJqYSIsa2FsOiJrbCIsa2FuOiJrbiIsa2FzOiJrcyIsa2F0OiJrYSIsa2F1OiJrciIsa2F6OiJrayIsa2htOiJrbSIsa2lrOiJraSIsa2luOiJydyIsa2lyOiJreSIsa29tOiJrdiIsa29uOiJrZyIsa29yOiJrbyIsa3VhOiJraiIsa3VyOiJrdSIsbGFvOiJsbyIsbGF0OiJsYSIsbGF2OiJsdiIsbGltOiJsaSIsbGluOiJsbiIsbGl0OiJsdCIsbHR6OiJsYiIsbHViOiJsdSIsCmx1ZzoibGciLG1hYzoibWsiLG1haDoibWgiLG1hbDoibWwiLG1hbzoibWkiLG1hcjoibXIiLG1heToibXMiLG1rZDoibWsiLG1sZzoibWciLG1sdDoibXQiLG1vbjoibW4iLG1yaToibWkiLG1zYToibXMiLG15YToibXkiLG5hdToibmEiLG5hdjoibnYiLG5ibDoibnIiLG5kZToibmQiLG5kbzoibmciLG5lcDoibmUiLG5sZDoibmwiLG5ubzoibm4iLG5vYjoibmIiLG5vcjoibm8iLG55YToibnkiLG9jaToib2MiLG9qaToib2oiLG9yaToib3IiLG9ybToib20iLG9zczoib3MiLHBhbjoicGEiLHBlcjoiZmEiLHBsaToicGkiLHBvbDoicGwiLHBvcjoicHQiLHB1czoicHMiLHF1ZToicXUiLHJvaDoicm0iLHJvbjoicm8iLHJ1bToicm8iLHJ1bjoicm4iLHJ1czoicnUiLHNhZzoic2ciLHNhbjoic2EiLHNpbjoic2kiLHNsazoic2siLHNsbzoic2siLHNsdjoic2wiLHNtZToic2UiLHNtbzoic20iLHNuYToic24iLHNuZDoic2QiLHNvbToic28iLHNvdDoic3QiLHNwYToiZXMiLHNxaToic3EiLApzcmQ6InNjIixzcnA6InNyIixzc3c6InNzIixzdW46InN1Iixzd2E6InN3Iixzd2U6InN2Iix0YWg6InR5Iix0YW06InRhIix0YXQ6InR0Iix0ZWw6InRlIix0Z2s6InRnIix0Z2w6InRsIix0aGE6InRoIix0aWI6ImJvIix0aXI6InRpIix0b246InRvIix0c246InRuIix0c286InRzIix0dWs6InRrIix0dXI6InRyIix0d2k6InR3Iix1aWc6InVnIix1a3I6InVrIix1cmQ6InVyIix1emI6InV6Iix2ZW46InZlIix2aWU6InZpIix2b2w6InZvIix3ZWw6ImN5Iix3bG46IndhIix3b2w6IndvIix4aG86InhoIix5aWQ6InlpIix5b3I6InlvIix6aGE6InphIix6aG86InpoIix6dWw6Inp1In07ZnVuY3Rpb24gV2EoYSl7cmV0dXJuIE9iamVjdC5rZXlzKGEpLm1hcChmdW5jdGlvbihiKXtyZXR1cm4gYVtiXX0pfWZ1bmN0aW9uIEIoYSxiKXtyZXR1cm4gWGEoYSxiLCJib29sZWFuIil9ZnVuY3Rpb24gQyhhLGIsYyl7YT1YYShhLGIsIm51bWJlciIpO2lmKG51bGw9PWEpcmV0dXJuIG51bGw7aWYoaXNOYU4oYSl8fGE9PU51bWJlci5ORUdBVElWRV9JTkZJTklUWXx8YT09TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZKXRocm93IG5ldyBSYW5nZUVycm9yKCInIitiKyInIG11c3QgYmUgZmluaXRlLiIpO2lmKG51bGwhPWMmJmE8Yyl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiJyIrYisiJyBtdXN0IGJlID49ICIrYyk7cmV0dXJuIGF9ZnVuY3Rpb24gWWEoYSxiKXtyZXR1cm4gWGEoYSxiLCJzdHJpbmciKX0KZnVuY3Rpb24gWGEoYSxiLGMpe2E9YVtiXTtpZihudWxsPT1hKXJldHVybiBudWxsO2lmKHR5cGVvZiBhIT09Yyl0aHJvdyBuZXcgVHlwZUVycm9yKCInIitiKyInIG11c3QgYmUgYSAiK2MrIi4iKTtyZXR1cm4gYX1mdW5jdGlvbiBaYShhLGIsYyl7YT1hW2JdO2lmKG51bGw9PWEpcmV0dXJuIG51bGw7aWYoIShhIGluc3RhbmNlb2YgYykpdGhyb3cgbmV3IFR5cGVFcnJvcigiJyIrYisiJyBtdXN0IGJlIGFuIGluc3RhbmNlIG9mICIrYy5uYW1lKyIuIik7cmV0dXJuIGF9O2Z1bmN0aW9uIEQoKXt0aGlzLmE9e319RC5wcm90b3R5cGUucHVzaD1mdW5jdGlvbihhLGIpe3RoaXMuYS5oYXNPd25Qcm9wZXJ0eShhKT90aGlzLmFbYV0ucHVzaChiKTp0aGlzLmFbYV09W2JdfTtELnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24oYSxiKXt0aGlzLmFbYV09Yn07RC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGEpe3JldHVybihhPXRoaXMuYVthXSk/YS5zbGljZSgpOm51bGx9O2Z1bmN0aW9uICRhKGEpe3ZhciBiPVtdLGM7Zm9yKGMgaW4gYS5hKWIucHVzaC5hcHBseShiLGEuYVtjXSk7cmV0dXJuIGJ9RC5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5hW2FdO2lmKGMpZm9yKHZhciBkPTA7ZDxjLmxlbmd0aDsrK2QpY1tkXT09YiYmKGMuc3BsaWNlKGQsMSksLS1kKX07ZnVuY3Rpb24gYWIoYSl7dmFyIGI9W10sYztmb3IoYyBpbiBhLmEpYi5wdXNoKGMpO3JldHVybiBifTtmdW5jdGlvbiBiYigpe3RoaXMuYT1uZXcgRH1iYi5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe2RiKHRoaXMpO3RoaXMuYT1udWxsfTtmdW5jdGlvbiBFKGEsYixjLGQpe2I9bmV3IGViKGIsYyxkKTthLmEucHVzaChjLGIpfWJiLnByb3RvdHlwZS5hYj1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz10aGlzLmEuZ2V0KGIpfHxbXSxkPTA7ZDxjLmxlbmd0aDsrK2Qpe3ZhciBlPWNbZF07ZS50YXJnZXQ9PWEmJihlLmFiKCksdGhpcy5hLnJlbW92ZShiLGUpKX19O2Z1bmN0aW9uIGRiKGEpe2Zvcih2YXIgYj0kYShhLmEpLGM9MDtjPGIubGVuZ3RoOysrYyliW2NdLmFiKCk7YS5hLmE9e319ZnVuY3Rpb24gZWIoYSxiLGMpe3RoaXMudGFyZ2V0PWE7dGhpcy50eXBlPWI7dGhpcy5hPWM7dGhpcy50YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihiLGMsITEpfQplYi5wcm90b3R5cGUuYWI9ZnVuY3Rpb24oKXt0aGlzLnRhcmdldCYmKHRoaXMudGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIodGhpcy50eXBlLHRoaXMuYSwhMSksdGhpcy5hPXRoaXMudGFyZ2V0PW51bGwpfTtmdW5jdGlvbiBGKGEpe3RoaXMuRWI9bmV3IEQ7dGhpcy5KYT1hfXEoInNoYWthLnV0aWwuRmFrZUV2ZW50VGFyZ2V0IixGKTtuPUYucHJvdG90eXBlO24uYWRkRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbihhLGIpe3RoaXMuRWIucHVzaChhLGIpfTtuLnJlbW92ZUV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24oYSxiKXt0aGlzLkViLnJlbW92ZShhLGIpfTsKbi5kaXNwYXRjaEV2ZW50PWZ1bmN0aW9uKGEpe2EuaGFzT3duUHJvcGVydHkoInNyY0VsZW1lbnQiKXx8KGRlbGV0ZSBhLnNyY0VsZW1lbnQsT2JqZWN0LmRlZmluZVByb3BlcnR5KGEsInNyY0VsZW1lbnQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH19KSk7aWYoYS5oYXNPd25Qcm9wZXJ0eSgidGFyZ2V0IikpYS50YXJnZXQ9dGhpcztlbHNle2RlbGV0ZSBhLnRhcmdldDt2YXIgYj10aGlzO09iamVjdC5kZWZpbmVQcm9wZXJ0eShhLCJ0YXJnZXQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYn0sc2V0OmZ1bmN0aW9uKGEpe2I9YX19KX1pZihhLmhhc093blByb3BlcnR5KCJjdXJyZW50VGFyZ2V0IikpYS5jdXJyZW50VGFyZ2V0PW51bGw7ZWxzZXtkZWxldGUgYS5jdXJyZW50VGFyZ2V0O3ZhciBjPW51bGw7T2JqZWN0LmRlZmluZVByb3BlcnR5KGEsImN1cnJlbnRUYXJnZXQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY30sc2V0OmZ1bmN0aW9uKGEpe2M9YX19KX1yZXR1cm4gZmIodGhpcywKYSl9O24ub2M9ITE7bi5MYT1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmRpc3BhdGNoRXZlbnQoeSh7dHlwZToiZGVidWcvZGFzaFBsYXllckV2ZW50IixidWJibGVzOiEwLGRldGFpbDp7dHlwZTphLGV2ZW50OmJ9fSkpfTtmdW5jdGlvbiBmYihhLGIpe2IuY3VycmVudFRhcmdldD1hO2Zvcih2YXIgYz1hLkViLmdldChiLnR5cGUpfHxbXSxkPTA7ZDxjLmxlbmd0aDsrK2Qpe3ZhciBlPWNbZF07dHJ5e2UuaGFuZGxlRXZlbnQ/ZS5oYW5kbGVFdmVudChiKTplLmNhbGwoYSxiKX1jYXRjaChmKXt9fWEuSmEmJmIuYnViYmxlcyYmZmIoYS5KYSxiKTtyZXR1cm4gYi5kZWZhdWx0UHJldmVudGVkfTtmdW5jdGlvbiBHKGEpe0YuY2FsbCh0aGlzLG51bGwpO3RoaXMuYT17b2I6e1ZhOm5ldyB4KFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJmYXN0X21vdmluZ19hdmVyYWdlX2hhbGZfbGlmZSIsMykpLHhiOm5ldyB4KFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJzbG93X21vdmluZ19hdmVyYWdlX2hhbGZfbGlmZSIsMTApKX0sY2I6e1ZhOm5ldyB4KFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJhZ2dyZXNzaXZlX2Zhc3RfbW92aW5nX2F2ZXJhZ2VfaGFsZl9saWZlIiwxRS00KSkseGI6bmV3IHgoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoImFnZ3Jlc3NpdmVfc2xvd19tb3ZpbmdfYXZlcmFnZV9oYWxmX2xpZmUiLDkuMjMzNTA4NzkxNzc0NSkpfX07dGhpcy5oPWF8fDVFNTt0aGlzLmo9VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoIm1pbl9zYW1wbGVfY291bnQiLAoxRTQpO3RoaXMuYj0wO3RoaXMuYz1bXTt0aGlzLmk9VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoIm1heF9yZWNlbnRfYmFuZHdpZHRoX3NhbXBsZXMiLDApfXIoRyxGKTtxKCJzaGFrYS51dGlsLkVXTUFCYW5kd2lkdGhFc3RpbWF0b3IiLEcpO0cucHJvdG90eXBlLnNob3VsZEV4Y2x1ZGVTYW1wbGU9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJjaGFuZ2VfYWJyX2F1ZGlvX2V4Y2x1c2lvbl9sb2dpYyIsITApPyFiOjY1NTM2PmF9OwpHLnByb3RvdHlwZS5zYW1wbGU9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyl7aWYodGhpcy5zaG91bGRFeGNsdWRlU2FtcGxlKGIsYykpZSYmZS5zZXRFdmVudCgidW5zYW1wbGVkIikuc2V0UmVhc29uKCJhdWRpbyIpLmxvZygpO2Vsc2V7aWYoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJ1c2VfcmVzb3VyY2VfdGltaW5nX2VudHJ5X2Zvcl9iYW5kd2lkdGgiLCEwKSl7aWYoIWQpe2UmJmUuc2V0RXZlbnQoInVuc2FtcGxlZCIpLnNldFJlYXNvbigicmVzb3VyY2VfdGltaW5nX2VudHJ5X21pc3NpbmciKS5sb2coKTtyZXR1cm59YT1kLnRpbWVUb0xhc3RCeXRlO2lmKDA+YSl7ZSYmZS5zZXRFdmVudCgidW5zYW1wbGVkIikuc2V0UmVhc29uKCJyZXNvdXJjZV90aW1pbmdfZW50cnlfaW52YWxpZCIpLmxvZygpO3JldHVybn19YT1NYXRoLm1heChhLDUwKTtjPTFFMypVbml0Q29uc3RhbnRzLkJJVFNfSU5fQllURSpiL2E7dmFyIGg9YS8xRTM7dGhpcy5hLmNiLlZhLnNhbXBsZShoLApjLGQpO3RoaXMuYS5jYi54Yi5zYW1wbGUoaCxjLGQpO3RoaXMuYS5vYi5WYS5zYW1wbGUoaCxjLGQpO3RoaXMuYS5vYi54Yi5zYW1wbGUoaCxjLGQpO2d8fHRoaXMuZGlzcGF0Y2hFdmVudCh5KHt0eXBlOiJiYW5kd2lkdGgifSkpO3RoaXMuYj1EYXRlLm5vdygpO2Q9cGFyc2VJbnQoYSwxMCk7aWYoMDx0aGlzLmkpZm9yKHRoaXMuYy5wdXNoKFtiLGRdKTt0aGlzLmMubGVuZ3RoPnRoaXMuaTspdGhpcy5jLnNoaWZ0KCk7ZSYmZS5zZXRFdmVudCgic2FtcGxlZCIpLnNldEJ5dGVzKGIpLnNldERlbGF5TXMoZCkubG9nKCk7ZiYmZi5nZXRFdmVudExvZ2dlcigiYmFuZHdpZHRoX3NhbXBsZWQiKS5zZXRMZW5ndGgoYikuc2V0Q2xpZW50VGltZUJlZ2luKHRoaXMuYi1kKS5zZXRDbGllbnRUaW1lRW5kKHRoaXMuYikubG9nKCl9fTsKRy5wcm90b3R5cGUuZ2V0QmFuZHdpZHRoPWZ1bmN0aW9uKGEpe2E9ImFnZ3Jlc3NpdmUiPT09YT90aGlzLmEuY2I6dGhpcy5hLm9iO3JldHVybiB0aGlzLmNhblRydXN0RXN0aW1hdGUoKT9NYXRoLm1pbihhLlZhLmdldEVzdGltYXRlKCksYS54Yi5nZXRFc3RpbWF0ZSgpKTp0aGlzLmh9O0cucHJvdG90eXBlLmdldEZhc3RNb3ZpbmdCYW5kd2lkdGg9ZnVuY3Rpb24oYSl7YT0iYWdncmVzc2l2ZSI9PT1hP3RoaXMuYS5jYjp0aGlzLmEub2I7cmV0dXJuIHRoaXMuY2FuVHJ1c3RFc3RpbWF0ZSgpP2EuVmEuZ2V0RXN0aW1hdGUoKTp0aGlzLmh9O0cucHJvdG90eXBlLmdldERhdGFBZ2U9ZnVuY3Rpb24oKXtyZXR1cm4oRGF0ZS5ub3coKS10aGlzLmIpLzFFM307Ry5wcm90b3R5cGUuY2FuVHJ1c3RFc3RpbWF0ZT1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmEuY2IuVmE7cmV0dXJuIGIuJGE+PSh2b2lkIDA9PT1hPy41OmEpfHxiLnliPj10aGlzLmp9OwpHLnByb3RvdHlwZS5zdXBwb3J0c0NhY2hpbmc9ZnVuY3Rpb24oKXtyZXR1cm4hMX07Ry5wcm90b3R5cGUuc2V0UmVwcmVzZW50YXRpb25JRD1mdW5jdGlvbigpe307Ry5wcm90b3R5cGUuZmx1c2hBQlJFdmFsdWF0aW9uU2V0PWZ1bmN0aW9uKCl7cmV0dXJuW119O0cucHJvdG90eXBlLmdldFJlY2VudFNhbXBsZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jfTsvKgoKIENvcHlyaWdodCAyMDE1IEZhY2Vib29rIEluYy4KCiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoKICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KKi8KZnVuY3Rpb24gZ2IoYSxiLGMsZCl7Ry5jYWxsKHRoaXMsZCk7dGhpcy5nPWF8fDA7dGhpcy5mPXZvaWQgMD09PWI/SW5maW5pdHk6Yjt0aGlzLm09Y31yKGdiLEcpO3EoInNoYWthLnV0aWwuRVdNQUNhY2hlQmFuZHdpZHRoRXN0aW1hdG9yIixnYik7CmdiLnByb3RvdHlwZS5zYW1wbGU9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxoKXt2YXIgaz04RTMqYi9hO2UmJmUuc2V0Qnl0ZXMoYikuc2V0RGVsYXlNcyhwYXJzZUludChhLDEwKSk7YTw9dGhpcy5nJiZrPnRoaXMuZiYmIWg/KGUmJmUuc2V0RXZlbnQoInVuc2FtcGxlZCIpLnNldFJlYXNvbigiY2FjaGVkIikubG9nKCksZiYmIXRoaXMuc2hvdWxkRXhjbHVkZVNhbXBsZShiLGMpJiZmLmdldEV2ZW50TG9nZ2VyKCJiYW5kd2lkdGhfc2FtcGxlZCIpLnNldFJlc3VsdCgiYWJvcnRlZCIpLnNldExlbmd0aChiKS5zZXRDbGllbnRUaW1lQmVnaW4oRGF0ZS5ub3coKS1wYXJzZUludChhLDEwKSkuc2V0Q2xpZW50VGltZUVuZChEYXRlLm5vdygpKS5sb2coKSx0aGlzLm0oKSk6Ry5wcm90b3R5cGUuc2FtcGxlLmNhbGwodGhpcyxhLGIsYyxkLGUsZixnKX07Z2IucHJvdG90eXBlLnN1cHBvcnRzQ2FjaGluZz1mdW5jdGlvbigpe3JldHVybiBJbmZpbml0eSE9PXRoaXMuZiYmISF0aGlzLmd9OwpnYi5wcm90b3R5cGUuc2V0UmVwcmVzZW50YXRpb25JRD1mdW5jdGlvbigpe307Z2IucHJvdG90eXBlLmZsdXNoQUJSRXZhbHVhdGlvblNldD1mdW5jdGlvbigpe3JldHVybltdfTtmdW5jdGlvbiBoYigpe0cuY2FsbCh0aGlzKX1yKGhiLEcpO3EoInNoYWthLnV0aWwuRVdNQVNpZ25lZFVSTEJhbmR3aWR0aEVzdGltYXRvciIsaGIpO2hiLnByb3RvdHlwZS5zdXBwb3J0c0NhY2hpbmc9ZnVuY3Rpb24oKXtyZXR1cm4hMH07ZnVuY3Rpb24gSSgpe3ZhciBhLGIsYz1uZXcgUHJvbWlzZShmdW5jdGlvbihjLGUpe2E9YztiPWV9KTtjLnJlc29sdmU9YTtjLnJlamVjdD1iO2MuZGVzdHJveT1JLnByb3RvdHlwZS5kZXN0cm95O3JldHVybiBjfUkucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmNhdGNoKGZ1bmN0aW9uKCl7fSk7dmFyIGE9RXJyb3IoIkRlc3Ryb3llZCEiKTthLnR5cGU9ImRlc3Ryb3kiO3RoaXMucmVqZWN0KGEpfTtmdW5jdGlvbiBpYihhKXthLnNwbGl0KCIiKS5yZWR1Y2UoZnVuY3Rpb24oYSxjLGQpe3JldHVybiBhKyhkJiYwPT1kJTQ/IiAiK2M6Yyl9KX07ZnVuY3Rpb24gamIoKXt0aGlzLmxiPW5ldyBJO3RoaXMuYz0hMTt0aGlzLkFhPW51bGw7dGhpcy5hPVtdO3RoaXMuYj1udWxsfWZ1bmN0aW9uIGtiKGEsYil7aWYoYS5jKXRocm93IEVycm9yKCJDYW5ub3QgYXBwZW5kIHRvIGEgcnVubmluZyB0YXNrISIpO2EuYS5wdXNoKGIpfWpiLnByb3RvdHlwZS5zdGFydD1mdW5jdGlvbigpe2lmKHRoaXMuYyl0aHJvdyBFcnJvcigiVGFzayBhbHJlYWR5IHN0YXJ0ZWQhIik7dGhpcy5jPSEwO3RoaXMuYS51bnNoaWZ0KGZ1bmN0aW9uKCl7fSk7bGIodGhpcyx2b2lkIDApfTtqYi5wcm90b3R5cGUuYWJvcnQ9ZnVuY3Rpb24oKXtpZih0aGlzLkFhKXJldHVybiB0aGlzLkFhO2lmKCF0aGlzLmMpcmV0dXJuIHRoaXMuYz0hMCxQcm9taXNlLnJlc29sdmUoKTt0aGlzLmImJih0aGlzLmY9dGhpcy5iKCkpO3JldHVybiB0aGlzLkFhPW5ldyBJfTtqYi5wcm90b3R5cGUuZW5kPWZ1bmN0aW9uKCl7dGhpcy5hLnNwbGljZSgxKX07CmZ1bmN0aW9uIGxiKGEsYil7dmFyIGM9YS5hWzBdKGIpLGQ7Yz8oZD1jWzBdLGEuYj1jWzFdKTooZD1Qcm9taXNlLnJlc29sdmUoKSxhLmI9bnVsbCk7ZC50aGVuKEooYSxmdW5jdGlvbihhKXt0aGlzLkFhPyh0aGlzLmE9W10sdGhpcy5iPW51bGwsbWIodGhpcykpOih0aGlzLmEuc2hpZnQoKSx0aGlzLmEubGVuZ3RoP2xiKHRoaXMsYSk6KHRoaXMubGIucmVzb2x2ZShhKSx0aGlzLmI9bnVsbCkpfSkpLmNhdGNoKEooYSxmdW5jdGlvbihhKXt0aGlzLmE9W107dGhpcy5iPW51bGw7dGhpcy5BYT9tYih0aGlzKTp0aGlzLmxiLnJlamVjdChhKX0pKX0KZnVuY3Rpb24gbWIoYSl7ZnVuY3Rpb24gYigpe3ZhciBhPUVycm9yKCJUYXNrIGFib3J0ZWQuIik7YS50eXBlPSJhYm9ydGVkIjt0aGlzLmxiLnJlamVjdChhKTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhpcy5BYS5yZXNvbHZlKCk7dGhpcy5BYT1udWxsfS5iaW5kKHRoaXMpLDUpfWEuZj9hLmYudGhlbihmdW5jdGlvbigpe3RoaXMuZj1udWxsO2IuY2FsbCh0aGlzKX0uYmluZChhKSk6Yi5jYWxsKGEpfTtmdW5jdGlvbiBKKGEsYil7cmV0dXJuIGIuYmluZChhKX07ZnVuY3Rpb24gbmIoYSxiLGMsZCxlLGYsZyl7TWVkaWFTb3VyY2UuaXNUeXBlU3VwcG9ydGVkKGMpO0YuY2FsbCh0aGlzLGUpO2U9Yi5hZGRTb3VyY2VCdWZmZXIoYyk7dGhpcy5oPWE7dGhpcy5BPWI7dGhpcy5hPWU7dGhpcy5KPWQ7dGhpcy5CPW5ldyBiYjt0aGlzLkk9dGhpcy5sPXRoaXMuWT10aGlzLmk9bnVsbDt0aGlzLlI9ITE7dGhpcy5QPXRoaXMuSz10aGlzLk89MDt0aGlzLkc9bnVsbDt0aGlzLlY9dGhpcy5GPSExO3RoaXMuWj1mO3RoaXMuRD1udWxsO3RoaXMuJD1nP2c6bnVsbDt0aGlzLmI9W107dGhpcy5VPTA7dGhpcy5tPXRoaXMuYz10aGlzLmY9bnVsbDt0aGlzLlQ9amE7dGhpcy5vPXRoaXMudT0wO3RoaXMudz10aGlzLlM9ITE7dGhpcy5nPWMmJmMuY2hhckF0KDApO0UodGhpcy5CLHRoaXMuYSwidXBkYXRlZW5kIix0aGlzLm5kLmJpbmQodGhpcykpO3RoaXMuaC5nZXRCb29sKCJsaXN0ZW5fZm9yX2FzeW5jX2FwcGVuZF9idWZmZXJfZXJyb3JzIiwhMCkmJkUodGhpcy5CLAp0aGlzLmEsImVycm9yIix0aGlzLmFkLmJpbmQodGhpcykpO3RoaXMuaj1udWxsfXIobmIsRik7bmIucHJvdG90eXBlLkJhPWZ1bmN0aW9uKCl7cmV0dXJue1NvdXJjZUJ1ZmZlcjp0aGlzLmF9fTtmdW5jdGlvbiBvYihhLGIsYyl7YS5vYyYmYS5MYShiLHt0eXBlOmEuZy5jaGFyQXQoMCksc2VnbWVudDpjLHNvdXJjZUJ1ZmZlcjphLmF9KX12YXIgcGI9MS82MDtuYi5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuYWJvcnQoKS5jYXRjaChmdW5jdGlvbigpe30pO3RoaXMuYyYmdGhpcy5jLmRlc3Ryb3koKTt0aGlzLmI9dGhpcy5mPXRoaXMuYz1udWxsO3RoaXMuQi5kZXN0cm95KCk7dGhpcy5BPXRoaXMuYT10aGlzLkQ9dGhpcy5CPW51bGx9O2Z1bmN0aW9uIHFiKGEpe3ZhciBiPWEuYi5sZW5ndGg7cmV0dXJuIDA8Yj9hLmJbYi0xXTpudWxsfQpmdW5jdGlvbiByYihhLGIpe2Zvcih2YXIgYz1hLmEuYnVmZmVyZWQsZD0wO2Q8Yy5sZW5ndGg7KytkKXt2YXIgZT1jLnN0YXJ0KGQpLXBiLGY9Yy5lbmQoZCkrcGI7aWYoYj49ZSYmYjw9ZilyZXR1cm4gYy5lbmQoZCktYn1yZXR1cm4gMH1mdW5jdGlvbiBzYihhLGIsYyl7dmFyIGQ9Yi5lbmRUaW1lP2IuZW5kVGltZS1iLnN0YXJ0VGltZToxLGU9bmV3IHRiO2UuTmE9MztlLmM9MUUzKmQ7ZS5iPTFFMyphLlQ7ZS51PWEuWTtlLmo9YztlLmRhPWEuWjtlLm1pbWVUeXBlPWEuZztlLmg9YS4kO2Uubz1iLmlzUHJlZGljdGl2ZTtyZXR1cm4gZX1uPW5iLnByb3RvdHlwZTsKbi5mZXRjaD1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGgpe3ZhciBrLGw9Zj8icmVwbGFjaW5nX2xvd2VyX3F1YWxpdHlfYnVmZmVyIjpudWxsO2lmKHRoaXMubCl7dmFyIG09dGhpcy5iW3RoaXMuYi5sZW5ndGgtMV0scD1udWxsO20mJihwPTFFMyooYS5zdGFydFRpbWUtbS5lbmRUaW1lKSk7az10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJmZXRjaCIpLnNldFJlYXNvbihsKS5zZXRSZXNvdXJjZSh1YihhLnVybCkpLnNldFR5cGUodmIodGhpcykpLnNldExlbmd0aChNYXRoLnJvdW5kKDFFMyooYS5lbmRUaW1lLWEuc3RhcnRUaW1lKSkpLnNldFNlZ21lbnRTdGFydFRpbWUoMUUzKmEuc3RhcnRUaW1lKS5zZXRTZWdtZW50RW5kVGltZSgxRTMqYS5lbmRUaW1lKS5zZXRTZWdtZW50VGltZUdhcChwKS5zdGFydCgpfXRoaXMuaj1rO2lmKHRoaXMuZil7aWYodGhpcy5oLmdldEJvb2woInNibV9lbmFibGVfY29uY3VycmVudF9mZXRjaF9yZXF1ZXN0cyIsITEpKXt2YXIgdD1bXS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7CnJldHVybiB0aGlzLmYubGIudGhlbihKKHRoaXMsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mZXRjaC5hcHBseSh0aGlzLHQpfSksZnVuY3Rpb24oYSl7dGhyb3cgYTt9KX1tPUVycm9yKCJDYW5ub3QgZmV0Y2ggKCIrdGhpcy5nKyIpOiBwcmV2aW91cyBvcGVyYXRpb24gbm90IGNvbXBsZXRlLiIpO3RoaXMudT49dGhpcy5PPyhtLnR5cGU9InN0cmVhbSIsayYmay5zZXRFcnJvcihtKS5sb2coKSx0aGlzLnU9MCk6KHRoaXMudSsrLG0udHlwZT0iYWJvcnRlZCIpO3JldHVybiBQcm9taXNlLnJlamVjdChtKX10aGlzLmY9bmV3IGpiO2MhPXRoaXMuYS50aW1lc3RhbXBPZmZzZXQmJih0aGlzLmEudGltZXN0YW1wT2Zmc2V0PWMpO3ZhciBtPXNiKHRoaXMsYSxlKSxwPXRoaXMuaC5nZXRCb29sKCJlbmFibGVfc3RyZWFtaW5nX2NvZGVfcGF0aCIsITApLHc7dz1wP2EudXJsLnN0cmVhbShtLHRoaXMuSix0aGlzLmwsdGhpcy5qLHRoaXMuSSx2Yih0aGlzKSxsLGcsaCk6YS51cmwuZmV0Y2gobSwKdGhpcy5KLHRoaXMubCx0aGlzLmosdGhpcy5JLHZiKHRoaXMpLGwsZyk7b2IodGhpcywiU2VnbWVudEZldGNoaW5nIixhKTt2YXIgej1LLnByb3RvdHlwZS5LYS5iaW5kKGEudXJsKTt0aGlzLkcmJnRoaXMuRiYmKGQ9dGhpcy5HKTt2YXIgSD0wLGRhPW51bGw7ZCYmKHRoaXMuRz1kLHRoaXMuRj0hMSxrYih0aGlzLmYsZnVuY3Rpb24oKXtyZXR1cm5bZC50aGVuKGZ1bmN0aW9uKGEpe2EuWWE+SCYmKEg9YS5ZYSk7cmV0dXJuIHdiKHRoaXMsYSxudWxsKX0uYmluZCh0aGlzKSksdGhpcy5iYi5iaW5kKHRoaXMpXX0uYmluZCh0aGlzKSkpO3ZhciBlYT1mdW5jdGlvbihhKXthLllhPkgmJihIPWEuWWEpO2RhPWEuYnl0ZUxlbmd0aDt0aGlzLkouZ2V0QmFuZHdpZHRoKCk7dGhpcy5TJiZ0aGlzLmRpc3BhdGNoRXZlbnQoeSh7dHlwZToiY2VhNjA4Q2FwdGlvbnNCeXRlc1JlY2VpdmVkIixidWJibGVzOiEwLGRldGFpbDp7dGltZXNjYWxlOmIsdmlkZW9CeXRlczphfX0pKX0uYmluZCh0aGlzKTsKcD8oaCYmKG09aC5nZXRQcm9ncmVzc1RyYWNrZXIoKSx0aGlzLmkhPT1tJiYodGhpcy5pPW0pKSxrYih0aGlzLmYsSih0aGlzLGZ1bmN0aW9uKCl7dmFyIGI9bnVsbCxjPU1hdGgubWF4KDAsKGEudXJsLmVuZEJ5dGV8fDApLWEudXJsLnN0YXJ0Qnl0ZSksZD10aGlzLmguZ2V0TnVtYmVyKCJzdHJlYW1pbmdfYXBwZW5kX3Blcl9zZWdtZW50IiwzKSxlPTA9PT1kPzA6Yy9kO3JldHVyblt3LnRoZW4oZnVuY3Rpb24oYyl7Yj1jO3RoaXMudz0hMTtyZXR1cm4geGIodGhpcyxjLGEsZSl9LmJpbmQodGhpcykpLnRoZW4oZnVuY3Rpb24oYSl7Yj1udWxsO3JldHVybiBhfSkudGhlbihlYSkuY2F0Y2goZnVuY3Rpb24oYSl7dGhpcy5oLmdldEJvb2woImFib3J0X2ZldGNoX29uX25ldF9lcnJvciIsITEpJiZoJiYodGhpcy5hLmFib3J0KCksdGhpcy53PSEwKTtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYSl9LmJpbmQodGhpcykpLGZ1bmN0aW9uKCl7b2IodGhpcywiU2VnbWVudEZhaWxlZCIsYSk7CmImJihiLmNhbmNlbCgiYWJvcnQiKSxiPW51bGwsaCYmKHRoaXMuYS5hYm9ydCgpLHRoaXMudz0hMCkpO3ooKTtyZXR1cm4gdGhpcy5iYigpfS5iaW5kKHRoaXMpXX0pKSk6a2IodGhpcy5mLEoodGhpcyxmdW5jdGlvbigpe3JldHVyblt3LnRoZW4oZnVuY3Rpb24oYil7b2IodGhpcywiU2VnbWVudEZldGNoZWQiLGEpO2VhKGIpO3JldHVybiB3Yih0aGlzLGIsYSxsKX0uYmluZCh0aGlzKSksZnVuY3Rpb24oKXtvYih0aGlzLCJTZWdtZW50RmFpbGVkIixhKTt6KCk7cmV0dXJuIHRoaXMuYmIoKX0uYmluZCh0aGlzKV19KSk7dmFyIEFhPTA9PXRoaXMuYS5idWZmZXJlZC5sZW5ndGgmJjA9PXRoaXMuYi5sZW5ndGgsY2I9bnVsbDtrYih0aGlzLmYsZnVuY3Rpb24oKXtpZigwPT10aGlzLmEuYnVmZmVyZWQubGVuZ3RoJiYhdGhpcy5WKXt2YXIgYj1FcnJvcigiRmFpbGVkIHRvIGJ1ZmZlciBzZWdtZW50ICgiK3RoaXMuZysiKS4iKTtiLnR5cGU9InN0cmVhbSI7cmV0dXJuW1Byb21pc2UucmVqZWN0KGIpXX10aGlzLmEuYnVmZmVyZWQubGVuZ3RoJiYKQWEmJihiPWEuc3RhcnRUaW1lLGNiPXRoaXMuYS5idWZmZXJlZC5zdGFydCgwKS1iKTtiPXliKHRoaXMuYixhLnN0YXJ0VGltZSk7MDw9Yj90aGlzLmIuc3BsaWNlKGIrMSwwLGEpOnRoaXMuYi5wdXNoKGEpfS5iaW5kKHRoaXMpKTt0aGlzLnU9MDtyZXR1cm4gemIodGhpcykudGhlbihmdW5jdGlvbigpe2smJmsubG9nKCk7cmV0dXJuIFByb21pc2UucmVzb2x2ZSh7VzpjYixXYzpILEg6YS5lbmRUaW1lLWEuc3RhcnRUaW1lLERjOmRhfSl9LmJpbmQodGhpcyksZnVuY3Rpb24oYSl7ayYmay5zZXRFcnJvcihhKS5sb2coKTthPUFiKGEsInRhc2siLCJBbiB1bmtub3duIHRhc2sgZXJyb3Igb2NjdXJyZWQuIik7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfS5iaW5kKHRoaXMpKX07CmZ1bmN0aW9uIHhiKGEsYixjLGQpe3ZhciBlPW5ldyBBcnJheUJ1ZmZlcigwKSxmPW5ldyBBcnJheUJ1ZmZlcigwKSxnPWZ1bmN0aW9uKCl7cmV0dXJuIGIucmVhZCgpLnRoZW4oZnVuY3Rpb24oYSl7dmFyIGI9YS52YWx1ZTthPWEuZG9uZTtpZih0aGlzLnd8fGEmJjA9PT1mLmJ5dGVMZW5ndGgpcmV0dXJuIGU7aWYoIWEmJiFiKXJldHVybiBnKCk7YiYmKGIgaW5zdGFuY2VvZiBVaW50OEFycmF5JiYoYj1iLmJ1ZmZlciksZj1jb25jYXRBcnJheUJ1ZmZlcihmLGIpKTtyZXR1cm4gZi5ieXRlTGVuZ3RoPj1kfHxhPyh0aGlzLmkmJnRoaXMuaS5ub3RpZnlCeXRlc0NvbnN1bWVkKGYuYnl0ZUxlbmd0aCksb2IodGhpcywiU2VnbWVudEZldGNoZWQiLGMpLGU9Y29uY2F0QXJyYXlCdWZmZXIoZSxmKSxiPWYsZj1uZXcgQXJyYXlCdWZmZXIoMCksd2IodGhpcyxiLGMpLnRoZW4oZykpOmcoKX0uYmluZCh0aGlzKSl9LmJpbmQoYSk7cmV0dXJuIGcoKX0KZnVuY3Rpb24gQmIoYSl7aWYoYS5mKXt2YXIgYj1FcnJvcigiQ2Fubm90IGNsZWFyICgiK2EuZysiKTogcHJldmlvdXMgb3BlcmF0aW9uIG5vdCBjb21wbGV0ZS4iKTthLm8+PWEuSz8oYi50eXBlPSJzdHJlYW0iLGEubz0wKTooYS5vKyssYi50eXBlPSJhYm9ydGVkIik7cmV0dXJuIFByb21pc2UucmVqZWN0KGIpfWEuZj1uZXcgamI7a2IoYS5mLGZ1bmN0aW9uKCl7dmFyIGE7YTppZigwPT10aGlzLmEuYnVmZmVyZWQubGVuZ3RoKWE9UHJvbWlzZS5yZXNvbHZlKCk7ZWxzZXt0cnl7dGhpcy5hLnJlbW92ZSgwLHRoaXMuQS5kdXJhdGlvbil9Y2F0Y2goYil7Yj1BYihiLCJjbGVhcl9idWZmZXIiLCJBbiBlcnJvciBvY2N1cmVkIHdoZW4gY2xlYXJpbmcgdGhlIGJ1ZmZlci4iKTthPVByb21pc2UucmVqZWN0KGIpO2JyZWFrIGF9dGhpcy5iPVtdO2E9dGhpcy5jPW5ldyBJfXJldHVyblthLHRoaXMuYmIuYmluZCh0aGlzKV19LmJpbmQoYSkpO2Eubz0wO3JldHVybiB6YihhKX0KZnVuY3Rpb24gQ2IoYSxiKXtpZihhLmYpe3ZhciBjPUVycm9yKCJDYW5ub3QgY2xlYXJBZnRlciAoIithLmcrIik6IHByZXZpb3VzIG9wZXJhdGlvbiBub3QgY29tcGxldGUuIik7Yy50eXBlPSJzdHJlYW0iO3JldHVybiBQcm9taXNlLnJlamVjdChjKX1hLmY9bmV3IGpiO2tiKGEuZixmdW5jdGlvbigpe3JldHVybltEYih0aGlzLGIpLHRoaXMuYmIuYmluZCh0aGlzKV19LmJpbmQoYSkpO3JldHVybiB6YihhKX1mdW5jdGlvbiBFYihhLGIpe2EuYz1uZXcgSTt2YXIgYz1iLTU7aWYoMDxjKXt0cnl7YS5hLnJlbW92ZSgwLGMpfWNhdGNoKGQpe3JldHVybiBkPUFiKGQsImNsZWFyX2J1ZmZlciIsIkFuIGVycm9yIG9jY3VyZWQgd2hlbiBjbGVhcmluZyB0aGUgYnVmZmVyLiIpLFByb21pc2UucmVqZWN0KGQpfWM9RmIoYSxjKTswPGMmJihhLmI9YS5iLnNsaWNlKGMsYS5iLmxlbmd0aCkpfWVsc2UgYS5jLnJlc29sdmUoKTtyZXR1cm4gYS5jfQpuLmFib3J0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZj90aGlzLmYuYWJvcnQoKTpQcm9taXNlLnJlc29sdmUoKX07ZnVuY3Rpb24gR2IoYSl7Zm9yKHZhciBiPWEuY3VycmVudFRpbWUsYz1iLGQ9MDtkPGEuYnVmZmVyZWQubGVuZ3RoO2QrKylpZihiPD1hLmJ1ZmZlcmVkLnN0YXJ0KGQpKXtjPWEuYnVmZmVyZWQuc3RhcnQoZCk7YnJlYWt9cmV0dXJuIGN9ZnVuY3Rpb24gSGIoYSxiKXtmb3IodmFyIGM9Yi5jdXJyZW50VGltZSxkPTA7ZDxiLmJ1ZmZlcmVkLmxlbmd0aDtkKyspaWYoYz49Yi5idWZmZXJlZC5zdGFydChkKSYmYzw9Yi5idWZmZXJlZC5lbmQoZCktYS5QKXJldHVybiExO3JldHVybiEwfQpmdW5jdGlvbiB6YihhKXthLmYuc3RhcnQoKTtyZXR1cm4gYS5mLmxiLnRoZW4oSihhLGZ1bmN0aW9uKCl7dGhpcy5mPW51bGx9KSkuY2F0Y2goSihhLGZ1bmN0aW9uKGEpe3RoaXMuZj1udWxsO2E9QWIoYSwidGFzayIsIkFuIHVua25vd24gdGFzayBlcnJvciBvY2N1cnJlZC4iKTtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYSl9KSl9CmZ1bmN0aW9uIHdiKGEsYixjLGQpe3ZhciBlO2lmKGEubCl7dmFyIGY9Yz91YihjLnVybCk6ImluaXQiO2U9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigiYXBwZW5kIikuc2V0UmVhc29uKGQpLnNldFJlc291cmNlKGYpLnNldFR5cGUodmIoYSkpLnNldExlbmd0aChiLmJ5dGVMZW5ndGgpLnN0YXJ0KCk7bnVsbCE9PWMmJihlPWUuc2V0U2VnbWVudFN0YXJ0VGltZSgxRTMqYy5zdGFydFRpbWUpLnNldFNlZ21lbnRFbmRUaW1lKDFFMypjLmVuZFRpbWUpKTthLmomJihlPWUuc2V0UGFyZW50TG9nZ2VyKGEuaikpfXRyeXthLmEuYXBwZW5kQnVmZmVyKGIpfWNhdGNoKGcpe3JldHVybiBhLmguZ2V0Qm9vbCgibnVrZV9zb3VyY2VfYnVmZmVyX29uX3F1b3RhX2V4Y2VlZGVkX2VyciIsITApJiZnIGluc3RhbmNlb2YgRE9NRXhjZXB0aW9uJiZnLmNvZGU9PT1ET01FeGNlcHRpb24uUVVPVEFfRVhDRUVERURfRVJSJiZnLm1lc3NhZ2UubWF0Y2goL14uKlNvdXJjZUJ1ZmZlci4qZnVsbC4qZnJlZVxzc3BhY2UuKiQvKSYmCihnLnR5cGU9InNvdXJjZWJ1ZmZlcl9mdWxsIiksZSYmZS5zZXRFcnJvcihnKS5sb2coKSxQcm9taXNlLnJlamVjdChnKX1hLmM9bmV3IEk7YS5tPWM7cmV0dXJuIGEuYy50aGVuKGZ1bmN0aW9uKCl7ZSYmZS5sb2coKX0sZnVuY3Rpb24oYSl7ZSYmZS5zZXRFcnJvcihhKS5sb2coKTtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYSl9KX1uLmFkPWZ1bmN0aW9uKGEpe2E9YS5lcnJvcnx8RXJyb3IoIkNhbGwgdG8gYXBwZW5kQnVmZmVyIGZhaWxlZCB0byBhcHBlbmQgdGhlIHNlZ21lbnQuIik7YT1BYihhLCJzdHJlYW0iLCJDYWxsIHRvIGFwcGVuZEJ1ZmZlciBmYWlsZWQgdG8gYXBwZW5kIHRoZSBzZWdtZW50LiIpO3RoaXMuYyYmdGhpcy5jLnJlamVjdChhKX07CmZ1bmN0aW9uIERiKGEsYil7aWYoMD09YS5hLmJ1ZmZlcmVkLmxlbmd0aClyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7dmFyIGM9RmIoYSxiKTtpZigtMT09Y3x8Yz09YS5iLmxlbmd0aC0xKXJldHVybiBQcm9taXNlLnJlc29sdmUoKTt0cnl7YS5hLnJlbW92ZShhLmJbYysxXS5zdGFydFRpbWUsYS5BLmR1cmF0aW9uKX1jYXRjaChkKXtyZXR1cm4gUHJvbWlzZS5yZWplY3QoZCl9YS5iPWEuYi5zbGljZSgwLGMrMSk7YS5jPW5ldyBJO3JldHVybiBhLmN9bi5iYj1mdW5jdGlvbigpe2lmKHRoaXMuYyl7aWYoIm9wZW4iPT10aGlzLkEucmVhZHlTdGF0ZSl7dmFyIGE9RXJyb3IoIlByZXZpb3VzIG9wZXJhdGlvbiBhYm9ydGVkLiIpO2EudHlwZT0iYWJvcnRlZCI7dGhpcy5jLnJlamVjdChhKTt0aGlzLmEuYWJvcnQoKTt0aGlzLlImJih0aGlzLkY9ITApO3RoaXMuYz1uZXcgSX1yZXR1cm4gdGhpcy5jfXJldHVybiBQcm9taXNlLnJlc29sdmUoKX07Cm4ubmQ9ZnVuY3Rpb24oKXt0aGlzLmMmJih0aGlzLm0mJihvYih0aGlzLCJTZWdtZW50QXBwZW5kZWQiLHRoaXMubSksdGhpcy5tPW51bGwpLHRoaXMuYy5yZXNvbHZlKCksdGhpcy5jPW51bGwpfTtuLkRkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaX07bmIucHJvdG90eXBlLmdldFN0cmVhbVByb2dyZXNzVHJhY2tlcj1uYi5wcm90b3R5cGUuRGQ7ZnVuY3Rpb24gdmIoYSl7cmV0dXJuInYiPT09YS5nLmNoYXJBdCgwKT8idmlkZW8iOiJhIj09PWEuZy5jaGFyQXQoMCk/ImF1ZGlvIjpudWxsfWZ1bmN0aW9uIEFiKGEsYixjKXthfHwoYT1FcnJvcihjKSk7YS50eXBlfHwoYS50eXBlPWIpO2EubWVzc2FnZXx8KGEubWVzc2FnZT1jKTtyZXR1cm4gYX0KZnVuY3Rpb24gRmIoYSxiKXtpZihhLmguZ2V0Qm9vbCgic2JtX3VzZV9zZWdtZW50X2luZGV4X3RvX2ZpbmRfdGltZXN0YW1wcyIsITEpJiZhLkQpe3ZhciBjPWEuRC5maW5kKGIpO2lmKGMpcmV0dXJuIHliKGEuYixjLnN0YXJ0VGltZSl9ZWxzZSByZXR1cm4geWIoYS5iLGIpO3JldHVybi0xfTtmdW5jdGlvbiBJYihhKXtyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLGEpfXEoInNoYWthLnV0aWwuVWludDhBcnJheVV0aWxzLnRvU3RyaW5nIixJYik7ZnVuY3Rpb24gSmIoYSl7Zm9yKHZhciBiPW5ldyBVaW50OEFycmF5KGEubGVuZ3RoKSxjPTA7YzxhLmxlbmd0aDsrK2MpYltjXT1hLmNoYXJDb2RlQXQoYyk7cmV0dXJuIGJ9cSgic2hha2EudXRpbC5VaW50OEFycmF5VXRpbHMuZnJvbVN0cmluZyIsSmIpO3EoInNoYWthLnV0aWwuVWludDhBcnJheVV0aWxzLnRvQmFzZTY0IixmdW5jdGlvbihhLGIpe3ZhciBjPXZvaWQgMD09Yj8hMDpiLGQ9d2luZG93LmJ0b2EoSWIoYSkpLnJlcGxhY2UoL1wrL2csIi0iKS5yZXBsYWNlKC9cLy9nLCJfIik7cmV0dXJuIGM/ZDpkLnJlcGxhY2UoLz0qJC8sIiIpfSk7ZnVuY3Rpb24gS2IoYSl7cmV0dXJuIEpiKHdpbmRvdy5hdG9iKGEucmVwbGFjZSgvLS9nLCIrIikucmVwbGFjZSgvXy9nLCIvIikpKX0KcSgic2hha2EudXRpbC5VaW50OEFycmF5VXRpbHMuZnJvbUJhc2U2NCIsS2IpO3EoInNoYWthLnV0aWwuVWludDhBcnJheVV0aWxzLmZyb21IZXgiLGZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1uZXcgVWludDhBcnJheShhLmxlbmd0aC8yKSxjPTA7YzxhLmxlbmd0aDtjKz0yKWJbYy8yXT13aW5kb3cucGFyc2VJbnQoYS5zdWJzdHIoYywyKSwxNik7cmV0dXJuIGJ9KTtmdW5jdGlvbiBMYihhKXtmb3IodmFyIGI9IiIsYz0wO2M8YS5sZW5ndGg7KytjKXt2YXIgZD1hW2NdLnRvU3RyaW5nKDE2KTsxPT1kLmxlbmd0aCYmKGQ9IjAiK2QpO2IrPWR9cmV0dXJuIGJ9cSgic2hha2EudXRpbC5VaW50OEFycmF5VXRpbHMudG9IZXgiLExiKTtmdW5jdGlvbiBNYShhLGIpe2lmKCFhJiYhYilyZXR1cm4hMDtpZighYXx8IWJ8fGEubGVuZ3RoIT1iLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIGM9MDtjPGEubGVuZ3RoOysrYylpZihhW2NdIT1iW2NdKXJldHVybiExO3JldHVybiEwfTtmdW5jdGlvbiBNYigpe3RoaXMuaT10aGlzLmE9IiI7dGhpcy53aXRoQ3JlZGVudGlhbHM9ITE7dGhpcy5vPXRoaXMuZj1udWxsO3RoaXMuaj10aGlzLmg9ITE7dGhpcy5tPXRoaXMuZz0iIjt0aGlzLmM9bnVsbDt0aGlzLmI9W119ZnVuY3Rpb24gTmIoYSxiKXt2YXIgYz1uZXcgTWI7Yy5hPWEuYTtjLmk9YS5pO2Mud2l0aENyZWRlbnRpYWxzPWEud2l0aENyZWRlbnRpYWxzO2MuZj1hLmY7Yy5vPWEubztjLmg9YS5oO2Muaj1hLmo7Yy5nPWEuZztjLm09YS5tO2MuYz1hLmM/bmV3IFVpbnQ4QXJyYXkoYS5jLmJ1ZmZlcik6bnVsbDtPYihjLGEuYik7T2IoYyxiLmIpO3JldHVybiBjfWZ1bmN0aW9uIE9iKGEsYil7dmFyIGM9YS5iLmNvbmNhdChiLm1hcChmdW5jdGlvbihhKXtyZXR1cm57aW5pdERhdGE6bmV3IFVpbnQ4QXJyYXkoYS5pbml0RGF0YS5idWZmZXIpLGluaXREYXRhVHlwZTphLmluaXREYXRhVHlwZX19KSk7YS5iPXdhKGMpfQpmdW5jdGlvbiB4YShhLGIpe3JldHVybiBhLmluaXREYXRhVHlwZT09Yi5pbml0RGF0YVR5cGUmJk1hKGEuaW5pdERhdGEsYi5pbml0RGF0YSl9O2Z1bmN0aW9uIFBiKGEsYixjLGQpe3RoaXMud2l0aENyZWRlbnRpYWxzPWM7dGhpcy5hPVtdO2QmJnRoaXMuYS5wdXNoKGQpfXEoInNoYWthLnBsYXllci5Ecm1TY2hlbWVJbmZvIixQYik7UGIuRGlzdGluY3RpdmVJZGVudGlmaWVyPXtPUFRJT05BTDowLFJFUVVJUkVEOjF9O1BiLlBlcnNpc3RlbnRTdGF0ZT17T1BUSU9OQUw6MCxSRVFVSVJFRDoxfTtQYi5jcmVhdGVVbmVuY3J5cHRlZD1mdW5jdGlvbigpe3JldHVybiBuZXcgUGIoMCwwLCExLG51bGwpfTtmdW5jdGlvbiBRYihhKXt0aGlzLnN5c3RlbUlkcz1bXTt0aGlzLmNlbmNLZXlJZHM9W107dGhpcy5hPVtdO2E9bmV3IEJhKG5ldyBEYXRhVmlldyhhLmJ1ZmZlcikpO3RyeXtmb3IoO0RhKGEpOyl7dmFyIGI9YS5hLGM9dihhKSxkPXYoYSk7MT09Yz9jPUZhKGEpOjA9PWMmJihjPWEuYi5ieXRlTGVuZ3RoLWIpO2lmKDE4ODY2MTQzNzYhPWQpSGEoYSxjLShhLmEtYikpO2Vsc2V7dmFyIGU9RWEoYSk7aWYoMTxlKUhhKGEsYy0oYS5hLWIpKTtlbHNle0hhKGEsMyk7dmFyIGY9TGIoR2EoYSkpLGc9W107aWYoMDxlKWZvcih2YXIgaD12KGEpLGs9MDtrPGg7KytrKXt2YXIgbD1MYihHYShhKSk7Zy5wdXNoKGwpfXZhciBtPXYoYSk7SGEoYSxtKTt0aGlzLmNlbmNLZXlJZHMucHVzaC5hcHBseSh0aGlzLmNlbmNLZXlJZHMsZyk7dGhpcy5zeXN0ZW1JZHMucHVzaChmKTt0aGlzLmEucHVzaCh7c3RhcnQ6YixlbmQ6YS5hLTF9KTthLmEhPWIrYyYmSGEoYSxjLShhLmEtYikpfX19fWNhdGNoKHApe319Cjt2YXIgUmI9L14oPzooW146Lz8jLl0rKTopPyg/OlwvXC8oPzooW14vPyNdKilAKT8oW14vIz9dKj8pKD86OihbMC05XSspKT8oPz1bLyM/XXwkKSk/KFtePyNdKyk/KD86XD8oW14jXSopKT8oPzojKC4qKSk/JC87ZnVuY3Rpb24gTChhKXt2YXIgYjthIGluc3RhbmNlb2YgTD8oU2IodGhpcyxhLnphKSx0aGlzLlVhPWEuVWEsdGhpcy5oYT1hLmhhLFRiKHRoaXMsYS5YYSksdGhpcy51YT1hLnVhLFViKHRoaXMsYS5hLmNsb25lKCkpLHRoaXMuTWE9YS5NYSk6YSYmKGI9U3RyaW5nKGEpLm1hdGNoKFJiKSk/KFNiKHRoaXMsYlsxXXx8IiIsITApLHRoaXMuVWE9VmIoYlsyXXx8IiIpLHRoaXMuaGE9VmIoYlszXXx8IiIsITApLFRiKHRoaXMsYls0XSksdGhpcy51YT1WYihiWzVdfHwiIiwhMCksVWIodGhpcyxiWzZdfHwiIiwhMCksdGhpcy5NYT1WYihiWzddfHwiIikpOnRoaXMuYT1uZXcgV2IobnVsbCl9bj1MLnByb3RvdHlwZTtuLnphPSIiO24uVWE9IiI7bi5oYT0iIjtuLlhhPW51bGw7bi51YT0iIjtuLk1hPSIiOwpuLnRvU3RyaW5nPWZ1bmN0aW9uKCl7dmFyIGE9W10sYj10aGlzLnphO2ImJmEucHVzaChYYihiLFliLCEwKSwiOiIpO2lmKGI9dGhpcy5oYSl7YS5wdXNoKCIvLyIpO3ZhciBjPXRoaXMuVWE7YyYmYS5wdXNoKFhiKGMsWWIsITApLCJAIik7YS5wdXNoKGVuY29kZVVSSUNvbXBvbmVudChiKS5yZXBsYWNlKC8lMjUoWzAtOWEtZkEtRl17Mn0pL2csIiUkMSIpKTtiPXRoaXMuWGE7bnVsbCE9YiYmYS5wdXNoKCI6IixTdHJpbmcoYikpfWlmKGI9dGhpcy51YSl0aGlzLmhhJiYiLyIhPWIuY2hhckF0KDApJiZhLnB1c2goIi8iKSxhLnB1c2goWGIoYiwiLyI9PWIuY2hhckF0KDApP1piOiRiLCEwKSk7KGI9dGhpcy5hLnRvU3RyaW5nKCkpJiZhLnB1c2goIj8iLGIpOyhiPXRoaXMuTWEpJiZhLnB1c2goIiMiLFhiKGIsYWMpKTtyZXR1cm4gYS5qb2luKCIiKX07Cm4ucmVzb2x2ZT1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmNsb25lKCk7ImRhdGEiPT09Yi56YSYmKGI9bmV3IEwpO3ZhciBjPSEhYS56YTtjP1NiKGIsYS56YSk6Yz0hIWEuVWE7Yz9iLlVhPWEuVWE6Yz0hIWEuaGE7Yz9iLmhhPWEuaGE6Yz1udWxsIT1hLlhhO3ZhciBkPWEudWE7aWYoYylUYihiLGEuWGEpO2Vsc2UgaWYoYz0hIWEudWEpe2lmKCIvIiE9ZC5jaGFyQXQoMCkpaWYodGhpcy5oYSYmIXRoaXMudWEpZD0iLyIrZDtlbHNle3ZhciBlPWIudWEubGFzdEluZGV4T2YoIi8iKTstMSE9ZSYmKGQ9Yi51YS5zdWJzdHIoMCxlKzEpK2QpfWlmKCIuLiI9PWR8fCIuIj09ZClkPSIiO2Vsc2UgaWYoLTEhPWQuaW5kZXhPZigiLi8iKXx8LTEhPWQuaW5kZXhPZigiLy4iKSl7Zm9yKHZhciBlPTA9PWQubGFzdEluZGV4T2YoIi8iLDApLGQ9ZC5zcGxpdCgiLyIpLGY9W10sZz0wO2c8ZC5sZW5ndGg7KXt2YXIgaD1kW2crK107Ii4iPT1oP2UmJmc9PWQubGVuZ3RoJiZmLnB1c2goIiIpOiIuLiI9PQpoPygoMTxmLmxlbmd0aHx8MT09Zi5sZW5ndGgmJiIiIT1mWzBdKSYmZi5wb3AoKSxlJiZnPT1kLmxlbmd0aCYmZi5wdXNoKCIiKSk6KGYucHVzaChoKSxlPSEwKX1kPWYuam9pbigiLyIpfX1jP2IudWE9ZDpjPSIiIT09YS5hLnRvU3RyaW5nKCk7Yz9VYihiLGEuYS5jbG9uZSgpKTpjPSEhYS5NYTtjJiYoYi5NYT1hLk1hKTtyZXR1cm4gYn07bi5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgTCh0aGlzKX07ZnVuY3Rpb24gU2IoYSxiLGMpe2EuemE9Yz9WYihiLCEwKTpiO2EuemEmJihhLnphPWEuemEucmVwbGFjZSgvOiQvLCIiKSl9ZnVuY3Rpb24gVGIoYSxiKXtpZihiKXtiPU51bWJlcihiKTtpZihpc05hTihiKXx8MD5iKXRocm93IEVycm9yKCJCYWQgcG9ydCBudW1iZXIgIitiKTthLlhhPWJ9ZWxzZSBhLlhhPW51bGx9ZnVuY3Rpb24gVWIoYSxiLGMpe2IgaW5zdGFuY2VvZiBXYj9hLmE9YjooY3x8KGI9WGIoYixiYykpLGEuYT1uZXcgV2IoYikpfQpmdW5jdGlvbiBWYihhLGIpe3JldHVybiBhP2I/ZGVjb2RlVVJJKGEpOmRlY29kZVVSSUNvbXBvbmVudChhKToiIn1mdW5jdGlvbiBYYihhLGIsYyl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBhPyhhPWVuY29kZVVSSShhKS5yZXBsYWNlKGIsY2MpLGMmJihhPWEucmVwbGFjZSgvJTI1KFswLTlhLWZBLUZdezJ9KS9nLCIlJDEiKSksYSk6bnVsbH1mdW5jdGlvbiBjYyhhKXthPWEuY2hhckNvZGVBdCgwKTtyZXR1cm4iJSIrKGE+PjQmMTUpLnRvU3RyaW5nKDE2KSsoYSYxNSkudG9TdHJpbmcoMTYpfXZhciBZYj0vWyNcL1w/QF0vZywkYj0vW1wjXD86XS9nLFpiPS9bXCNcP10vZyxiYz0vW1wjXD9AXS9nLGFjPS8jL2c7ZnVuY3Rpb24gV2IoYSl7dGhpcy5iPWF8fG51bGx9V2IucHJvdG90eXBlLmE9bnVsbDtXYi5wcm90b3R5cGUuYz1udWxsOwpmdW5jdGlvbiBkYyhhLGIsYyl7aWYoIWEuYSYmKGEuYT17fSxhLmM9MCxhLmIpKWZvcih2YXIgZD1hLmIuc3BsaXQoIiYiKSxlPTA7ZTxkLmxlbmd0aDtlKyspe3ZhciBmPWRbZV0uaW5kZXhPZigiPSIpLGc9bnVsbCxoPW51bGw7MDw9Zj8oZz1kW2VdLnN1YnN0cmluZygwLGYpLGg9ZFtlXS5zdWJzdHJpbmcoZisxKSk6Zz1kW2VdO2c9ZGVjb2RlVVJJQ29tcG9uZW50KGcucmVwbGFjZSgvXCsvZywiICIpKTtoPWh8fCIiO2RjKGEsZyxkZWNvZGVVUklDb21wb25lbnQoaC5yZXBsYWNlKC9cKy9nLCIgIikpKX1hLmI9bnVsbDsoZD1hLmEuaGFzT3duUHJvcGVydHkoYikmJmEuYVtiXSl8fChhLmFbYl09ZD1bXSk7ZC5wdXNoKGMpO2EuYysrfQpXYi5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtpZih0aGlzLmIpcmV0dXJuIHRoaXMuYjtpZighdGhpcy5hKXJldHVybiIiO3ZhciBhPVtdLGI7Zm9yKGIgaW4gdGhpcy5hKWZvcih2YXIgYz1lbmNvZGVVUklDb21wb25lbnQoYiksZD10aGlzLmFbYl0sZT0wO2U8ZC5sZW5ndGg7ZSsrKXt2YXIgZj1jOyIiIT09ZFtlXSYmKGYrPSI9IitlbmNvZGVVUklDb21wb25lbnQoZFtlXSkpO2EucHVzaChmKX1yZXR1cm4gdGhpcy5iPWEuam9pbigiJiIpfTtXYi5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgV2I7YS5iPXRoaXMuYjtpZih0aGlzLmEpe3ZhciBiPXt9LGM7Zm9yKGMgaW4gdGhpcy5hKWJbY109dGhpcy5hW2NdLmNvbmNhdCgpO2EuYT1iO2EuYz10aGlzLmN9cmV0dXJuIGF9O2Z1bmN0aW9uIGVjKGEsYixjKXt2YXIgZD1hLmluZGV4T2YoIjw/eG1sIik7MDw9ZCYmKGE9YS5zdWJzdHIoZCkpO2E9KG5ldyBET01QYXJzZXIpLnBhcnNlRnJvbVN0cmluZyhhLCJ0ZXh0L3htbCIpO2lmKCFhKXJldHVybiBudWxsOyJzdHJpbmciPT09dHlwZW9mIGImJihiPVtuZXcgTChiKV0pO2I9Ynx8W25ldyBMKCIiKV07Yz1jfHxbbmV3IEwoIiIpXTtyZXR1cm4gTSh7QWM6YixiYXNlVXJsOmN9LGEsZmMpfXEoInNoYWthLmRhc2gubXBkLnBhcnNlTXBkIixlYyk7CmZ1bmN0aW9uIGZjKCl7dGhpcy5pZD10aGlzLnVybD1udWxsO3RoaXMudHlwZT0ic3RhdGljIjt0aGlzLkZCSXNMaXZlVGVtcGxhdGVkPXRoaXMuRkJXYXNMaXZlPXRoaXMubWFuaWZlc3RJc0xpdmVTdHJlYW1pbmc9ITE7dGhpcy5GQk1hbmlmZXN0SWRlbnRpZmllcj0iIjt0aGlzLkZCTVM9ITE7dGhpcy51PXRoaXMuYmFzZVVybD10aGlzLkFjPW51bGw7dGhpcy5qPXRoaXMuaT10aGlzLmg9MDt0aGlzLmI9bnVsbDt0aGlzLm09NTt0aGlzLmY9dGhpcy5jPXRoaXMuZz1udWxsO3RoaXMubz0xO3RoaXMubGFzdFZpZGVvRnJhbWVUcz10aGlzLmN1cnJlbnRTZXJ2ZXJUaW1lTXM9MDt0aGlzLmE9W119ZnVuY3Rpb24gZ2MoKXt0aGlzLmY9dGhpcy5jPXRoaXMuYj10aGlzLmJhc2VVcmw9dGhpcy5kdXJhdGlvbj10aGlzLnN0YXJ0PXRoaXMuaWQ9bnVsbDt0aGlzLmE9W119CmZ1bmN0aW9uIGhjKCl7dGhpcy5jPXRoaXMuY29kZWNzPXRoaXMubWltZVR5cGU9dGhpcy5oZWlnaHQ9dGhpcy53aWR0aD10aGlzLmNvbnRlbnRUeXBlPXRoaXMubGFuZz10aGlzLmdyb3VwPXRoaXMuaWQ9bnVsbDt0aGlzLmY9ITE7dGhpcy5pPXRoaXMuaD10aGlzLmc9dGhpcy5iYXNlVXJsPW51bGw7dGhpcy5qPVtdO3RoaXMuYT1bXTt0aGlzLmI9bnVsbH1mdW5jdGlvbiBpYygpe3RoaXMudmFsdWU9bnVsbH1mdW5jdGlvbiBqYygpe3RoaXMubGFuZz10aGlzLmE9bnVsbH1mdW5jdGlvbiBrYygpe3RoaXMuY29udGVudFR5cGU9dGhpcy5sYW5nPXRoaXMuaWQ9bnVsbH1mdW5jdGlvbiBsYygpe3RoaXMuZGF0YT1udWxsfWZ1bmN0aW9uIG1jKCl7dGhpcy5kYXRhPW51bGx9CmZ1bmN0aW9uIG5jKCl7dGhpcy5hPXRoaXMuYj10aGlzLmY9dGhpcy5pPXRoaXMuYmFzZVVybD10aGlzLmo9dGhpcy5mcmFtZVJhdGU9dGhpcy51PXRoaXMubz10aGlzLm09dGhpcy5mYlF1YWxpdHlDbGFzcz10aGlzLmZiUXVhbGl0eUxhYmVsPXRoaXMuaD10aGlzLmc9dGhpcy5jb2RlY3M9dGhpcy5taW1lVHlwZT10aGlzLmhlaWdodD10aGlzLndpZHRoPXRoaXMuYmFuZHdpZHRoPXRoaXMubGFuZz10aGlzLmlkPW51bGw7dGhpcy5jPVtdfWZ1bmN0aW9uIG9jKCl7dGhpcy52YWx1ZT10aGlzLmE9bnVsbH1vYy5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgb2M7YS5hPXRoaXMuYTthLnZhbHVlPXRoaXMudmFsdWU7cmV0dXJuIGF9O29jLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMuYT1OKGIsInNjaGVtZUlkVXJpIixPLHRoaXMuYSk7dGhpcy52YWx1ZT1OKGIsInZhbHVlIixPLHRoaXMudmFsdWUpfTsKZnVuY3Rpb24gcGMoKXt0aGlzLmI9dGhpcy5hPXRoaXMuZj10aGlzLmM9bnVsbH1mdW5jdGlvbiBxYygpe3RoaXMucGFyc2VkUHNzaD10aGlzLnBzc2hCb3g9bnVsbH1mdW5jdGlvbiByYygpe3RoaXMudXJsPW51bGx9ZnVuY3Rpb24gc2MoKXt0aGlzLnVybD1udWxsfWZ1bmN0aW9uIHRjKCl7dGhpcy5iYXNlVXJsPW51bGw7dGhpcy5zPTE7dGhpcy5jPXRoaXMuYj10aGlzLmY9dGhpcy5hPXRoaXMuTD1udWxsfXRjLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyB0YzthLmJhc2VVcmw9dWModGhpcy5iYXNlVXJsKTthLnM9dGhpcy5zO2EuTD10aGlzLkw7YS5hPXZjKHRoaXMuYSk7YS5mPXZjKHRoaXMuZik7YS5iPXZjKHRoaXMuYik7YS5jPXZjKHRoaXMuYyk7cmV0dXJuIGF9O2Z1bmN0aW9uIHdjKCl7dGhpcy5hPXRoaXMudXJsPW51bGx9CndjLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyB3YzthLnVybD11Yyh0aGlzLnVybCk7YS5hPXZjKHRoaXMuYSk7cmV0dXJuIGF9O2Z1bmN0aW9uIHhjKCl7dGhpcy5hPXRoaXMudXJsPW51bGx9eGMucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IHhjO2EudXJsPXVjKHRoaXMudXJsKTthLmE9dmModGhpcy5hKTtyZXR1cm4gYX07ZnVuY3Rpb24geWMoKXt0aGlzLmJhc2VVcmw9bnVsbDt0aGlzLnM9MTt0aGlzLkg9dGhpcy5MPW51bGw7dGhpcy5jPTA7dGhpcy5iPW51bGw7dGhpcy5hPVtdO3RoaXMuQz1udWxsfXljLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyB5YzthLmJhc2VVcmw9dWModGhpcy5iYXNlVXJsKTthLnM9dGhpcy5zO2EuTD10aGlzLkw7YS5IPXRoaXMuSDthLmM9dGhpcy5jO2EuYj12Yyh0aGlzLmIpO2EuYT11Yyh0aGlzLmEpfHxbXTthLkM9dmModGhpcy5DKTtyZXR1cm4gYX07CmZ1bmN0aW9uIHpjKCl7dGhpcy5hPXRoaXMuYj1udWxsfXpjLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyB6YzthLmI9dWModGhpcy5iKTthLmE9dmModGhpcy5hKTtyZXR1cm4gYX07ZnVuY3Rpb24gQWMoKXt0aGlzLnM9MTt0aGlzLkg9dGhpcy5MPW51bGw7dGhpcy5iPTA7dGhpcy5DPXRoaXMuYz10aGlzLmE9dGhpcy5mPW51bGx9QWMucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IEFjO2Eucz10aGlzLnM7YS5MPXRoaXMuTDthLkg9dGhpcy5IO2EuYj10aGlzLmI7YS5mPXRoaXMuZjthLmE9dGhpcy5hO2EuYz10aGlzLmM7YS5DPXZjKHRoaXMuQyk7cmV0dXJuIGF9O2Z1bmN0aW9uIEJjKCl7dGhpcy5iPXRoaXMuYT1udWxsO3RoaXMuTj1bXX1CYy5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgQmM7YS5hPXRoaXMuYTthLmI9dGhpcy5iO2EuTj11Yyh0aGlzLk4pfHxbXTtyZXR1cm4gYX07CmZ1bmN0aW9uIENjKCl7dGhpcy5zdGFydFNlZ21lbnRJbmRleD10aGlzLnJlcGVhdD10aGlzLmR1cmF0aW9uPXRoaXMuc3RhcnRUaW1lPW51bGx9Q2MucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IENjO2Euc3RhcnRUaW1lPXRoaXMuc3RhcnRUaW1lO2EuZHVyYXRpb249dGhpcy5kdXJhdGlvbjthLnJlcGVhdD10aGlzLnJlcGVhdDtyZXR1cm4gYX07ZnVuY3Rpb24gRGMoYSxiKXt0aGlzLnFhPWE7dGhpcy5lbmQ9Yn1EYy5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IERjKHRoaXMucWEsdGhpcy5lbmQpfTtmYy5UQUdfTkFNRT0iTVBEIjtnYy5UQUdfTkFNRT0iUGVyaW9kIjtoYy5UQUdfTkFNRT0iQWRhcHRhdGlvblNldCI7aWMuVEFHX05BTUU9IlJvbGUiO2pjLlRBR19OQU1FPSJBY2Nlc3NpYmlsaXR5IjtrYy5UQUdfTkFNRT0iQ29udGVudENvbXBvbmVudCI7bmMuVEFHX05BTUU9IlJlcHJlc2VudGF0aW9uIjtwYy5UQUdfTkFNRT0iQ29udGVudFByb3RlY3Rpb24iOwpxYy5UQUdfTkFNRT0iY2VuYzpwc3NoIjtyYy5UQUdfTkFNRT0iQmFzZVVSTCI7b2MuVEFHX05BTUU9IkF1ZGlvQ2hhbm5lbENvbmZpZ3VyYXRpb24iO3NjLlRBR19OQU1FPSJMb2NhdGlvbiI7dGMuVEFHX05BTUU9IlNlZ21lbnRCYXNlIjt3Yy5UQUdfTkFNRT0iUmVwcmVzZW50YXRpb25JbmRleCI7bGMuVEFHX05BTUU9IkZCSW5pdGlhbGl6YXRpb25CaW5hcnkiO21jLlRBR19OQU1FPSJGQlNlZ21lbnRJbmRleEJpbmFyeSI7eGMuVEFHX05BTUU9IkluaXRpYWxpemF0aW9uIjt5Yy5UQUdfTkFNRT0iU2VnbWVudExpc3QiO3pjLlRBR19OQU1FPSJTZWdtZW50VVJMIjtBYy5UQUdfTkFNRT0iU2VnbWVudFRlbXBsYXRlIjtCYy5UQUdfTkFNRT0iU2VnbWVudFRpbWVsaW5lIjtDYy5UQUdfTkFNRT0iUyI7CmZjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMudXJsPWEuQWM7dGhpcy5pZD1OKGIsImlkIixPKTt0aGlzLnR5cGU9TihiLCJ0eXBlIixPKXx8InN0YXRpYyI7dGhpcy5tYW5pZmVzdElzTGl2ZVN0cmVhbWluZz0iZHluYW1pYyI9PT10aGlzLnR5cGU7dGhpcy5GQldhc0xpdmU9TihiLCJGQldhc0xpdmUiLEVjKXx8ITE7dGhpcy5GQklzTGl2ZVRlbXBsYXRlZD1OKGIsIkZCSXNMaXZlVGVtcGxhdGVkIixFYyl8fCExO3RoaXMuRkJNYW5pZmVzdElkZW50aWZpZXI9TihiLCJGQk1hbmlmZXN0SWRlbnRpZmllciIsTyl8fCIiO3RoaXMuRkJNUz1OKGIsIkZCTVMiLEVjKXx8ITE7VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJvdmVycmlkZV9mYl9pc19saXZlX3RlbXBsYXRlZCIsITEpJiYodGhpcy5GQklzTGl2ZVRlbXBsYXRlZD0hMSk7dGhpcy5iPU4oYiwibWVkaWFQcmVzZW50YXRpb25EdXJhdGlvbiIsRmMpO3RoaXMubT1OKGIsIm1pbkJ1ZmZlclRpbWUiLApGYyx0aGlzLm0pO3RoaXMuZz1OKGIsIm1pbmltdW1VcGRhdGVQZXJpb2QiLEZjLHRoaXMuZyk7dGhpcy5jPU4oYiwiYXZhaWxhYmlsaXR5U3RhcnRUaW1lIixHYyx0aGlzLmMpO3RoaXMuZj1OKGIsInRpbWVTaGlmdEJ1ZmZlckRlcHRoIixGYyx0aGlzLmYpO3RoaXMuY3VycmVudFNlcnZlclRpbWVNcz1OKGIsImN1cnJlbnRTZXJ2ZXJUaW1lTXMiLFApO04oYiwiZmlyc3RBdlRpbWVNcyIsUCk7dGhpcy5sYXN0VmlkZW9GcmFtZVRzPU4oYiwibGFzdFZpZGVvRnJhbWVUcyIsUCk7dGhpcy5mPW51bGw7dGhpcy5vPU4oYiwic3VnZ2VzdGVkUHJlc2VudGF0aW9uRGVsYXkiLEZjLHRoaXMubyk7dGhpcy5oPU4oYiwibG9hcFN0cmVhbVR5cGUiLEhjLHRoaXMuaCk7dGhpcy5pPU4oYiwidXNpbmdBU1JDYXB0aW9ucyIsSGMsdGhpcy5pKTt0aGlzLmo9TihiLCJpc1VzaW5nQXNyQ2FwdGlvbnNFbXBsb3llZURvZ2Zvb2RpbmciLEhjLHRoaXMuaik7dmFyIGM9YS5iYXNlVXJsLGQ9SWModGhpcywKYixyYyk7dGhpcy5iYXNlVXJsPUpjKGMsZCk7aWYoZD1NKHRoaXMsYixzYykpdGhpcy51PUtjKGMsZC51cmwpO3RoaXMuYT1JYyh0aGlzLGIsZ2MpfTtmdW5jdGlvbiBMYyhhLGIsYyxkKXtpZigwIT09YS5hLmxlbmd0aCl7dmFyIGU9bmV3IGhjO2UuY29udGVudFR5cGU9InRleHQiO2UubGFuZz1jfHwiZW4iO2UuZj0hMDtjPW5ldyBuYztjLmJhbmR3aWR0aD0wO2MubWltZVR5cGU9ZHx8InRleHQvdnR0IjtjLmJhc2VVcmw9W25ldyBMKGIpXTtlLmEucHVzaChjKTthLmFbMF0uYS5wdXNoKGUpO01jKGEuYVswXSl9fQpnYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt0aGlzLmlkPU4oYiwiaWQiLE8pO3RoaXMuc3RhcnQ9TihiLCJzdGFydCIsRmMpO3RoaXMuZHVyYXRpb249TihiLCJkdXJhdGlvbiIsRmMpO3ZhciBjPUljKHRoaXMsYixyYyk7dGhpcy5iYXNlVXJsPUpjKGEuYmFzZVVybCxjKTt0aGlzLmI9TSh0aGlzLGIsdGMpO3RoaXMuYz1NKHRoaXMsYix5Yyk7dGhpcy5mPU0odGhpcyxiLEFjKTt0aGlzLmE9SWModGhpcyxiLGhjKTtNYyh0aGlzKX07ZnVuY3Rpb24gTWMoYSl7Zm9yKHZhciBiPVtdLGM9MDtjPGEuYS5sZW5ndGg7KytjKXt2YXIgZD1hLmFbY107bnVsbCE9ZC5ncm91cCYmKGJbZC5ncm91cF09ITApfWZvcihjPTA7YzxhLmEubGVuZ3RoOysrYylpZihkPWEuYVtjXSxudWxsPT1kLmdyb3VwKXtmb3IodmFyIGU9MTsxPT1iW2VdOykrK2U7YltlXT0hMDtkLmdyb3VwPWV9fQpoYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt2YXIgYz1NKHRoaXMsYixrYyl8fHt9LGQ9TSh0aGlzLGIsaWMpO3RoaXMuaWQ9TihiLCJpZCIsTyk7dGhpcy5ncm91cD1OKGIsImdyb3VwIixQKTt0aGlzLmxhbmc9TihiLCJsYW5nIixPLGMubGFuZyk7dGhpcy5jb250ZW50VHlwZT1OKGIsImNvbnRlbnRUeXBlIixPLGMuY29udGVudFR5cGUpO3RoaXMud2lkdGg9TihiLCJ3aWR0aCIsUSk7dGhpcy5oZWlnaHQ9TihiLCJoZWlnaHQiLFEpO3RoaXMubWltZVR5cGU9TihiLCJtaW1lVHlwZSIsTyk7dGhpcy5jb2RlY3M9TihiLCJjb2RlY3MiLE8pO3RoaXMuYz1OKGIsIkZCUHJvamVjdGlvbiIsTyk7dGhpcy5mPWQmJiJtYWluIj09ZC52YWx1ZTt0aGlzLmxhbmcmJih0aGlzLmxhbmc9U2EodGhpcy5sYW5nKSk7Yz1JYyh0aGlzLGIscmMpO3RoaXMuYmFzZVVybD1KYyhhLmJhc2VVcmwsYyk7dGhpcy5qPUljKHRoaXMsYixwYyk7IXRoaXMuY29udGVudFR5cGUmJnRoaXMubWltZVR5cGUmJgoodGhpcy5jb250ZW50VHlwZT10aGlzLm1pbWVUeXBlLnNwbGl0KCIvIilbMF0pO3RoaXMuZz1hLmI/T2ModGhpcyxiLGEuYik6TSh0aGlzLGIsdGMpO3RoaXMuaD1hLmM/T2ModGhpcyxiLGEuYyk6TSh0aGlzLGIseWMpO3RoaXMuaT1hLmY/T2ModGhpcyxiLGEuZik6TSh0aGlzLGIsQWMpO3RoaXMuYT1JYyh0aGlzLGIsbmMpO3RoaXMuYj1NKHRoaXMsYixqYyk7IXRoaXMubWltZVR5cGUmJnRoaXMuYS5sZW5ndGgmJih0aGlzLm1pbWVUeXBlPXRoaXMuYVswXS5taW1lVHlwZSwhdGhpcy5jb250ZW50VHlwZSYmdGhpcy5taW1lVHlwZSYmKHRoaXMuY29udGVudFR5cGU9dGhpcy5taW1lVHlwZS5zcGxpdCgiLyIpWzBdKSl9O2ljLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMudmFsdWU9TihiLCJ2YWx1ZSIsTyl9O2pjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMuYT1OKGIsInNjaGVtZUlkVXJpIixPKTt0aGlzLmxhbmc9TihiLCJsYW5nIixPKX07CmtjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMuaWQ9TihiLCJpZCIsTyk7dGhpcy5sYW5nPU4oYiwibGFuZyIsTyk7dGhpcy5jb250ZW50VHlwZT1OKGIsImNvbnRlbnRUeXBlIixPKTt0aGlzLmxhbmcmJih0aGlzLmxhbmc9U2EodGhpcy5sYW5nKSl9OwpuYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt0aGlzLmlkPU4oYiwiaWQiLE8pO3RoaXMuYmFuZHdpZHRoPU4oYiwiYmFuZHdpZHRoIixRKTt0aGlzLndpZHRoPU4oYiwid2lkdGgiLFEsYS53aWR0aCk7dGhpcy5oZWlnaHQ9TihiLCJoZWlnaHQiLFEsYS5oZWlnaHQpO3RoaXMubWltZVR5cGU9TihiLCJtaW1lVHlwZSIsTyxhLm1pbWVUeXBlKTt0aGlzLmNvZGVjcz1OKGIsImNvZGVjcyIsTyxhLmNvZGVjcyk7dGhpcy5mYlF1YWxpdHlMYWJlbD1OKGIsIkZCUXVhbGl0eUxhYmVsIixPKTt0aGlzLmZiUXVhbGl0eUNsYXNzPU4oYiwiRkJRdWFsaXR5Q2xhc3MiLE8pO3RoaXMubT1OKGIsIkZCQWJyUG9saWN5VGFncyIsTyk7VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJtcGRfcGFyc2VfbW9zX2F0dHJpYnV0ZXMiLCExKSYmKHRoaXMubz1OKGIsIkZCUGxheWJhY2tSZXNvbHV0aW9uTW9zIixNb3NVdGlscy5wYXJzZVBsYXliYWNrTW9zKSx0aGlzLnU9TihiLAoiRkJQbGF5YmFja1Jlc29sdXRpb25Nb3NDb25maWRlbmNlTGV2ZWwiLE8pKTtWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woIm1wZF9wYXJzZV9mcmFtZV9hbmRfYXVkaW9fc2FtcGxpbmdfcmF0ZSIsITEpJiYodGhpcy5mcmFtZVJhdGU9TihiLCJmcmFtZVJhdGUiLE8pLHRoaXMuaj1OKGIsImF1ZGlvU2FtcGxpbmdSYXRlIixRKSk7dGhpcy5sYW5nPWEubGFuZzt2YXIgYz1JYyh0aGlzLGIscmMpO3RoaXMuYmFzZVVybD1KYyhhLmJhc2VVcmwsYyk7VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJhZGRfaW5saW5lX2luaXRpYWxpemF0aW9uX3Jlc291cmNlcyIsITEpJiYodGhpcy5nPU0odGhpcyxiLGxjKSx0aGlzLmg9TSh0aGlzLGIsbWMpKTt0aGlzLmM9SWModGhpcyxiLHBjKTt0aGlzLmk9TSh0aGlzLGIsb2MpO3RoaXMuZj1hLmc/T2ModGhpcyxiLGEuZyk6TSh0aGlzLGIsdGMpO3RoaXMuYj1hLmg/T2ModGhpcyxiLGEuaCk6TSh0aGlzLGIsCnljKTt0aGlzLmE9YS5pP09jKHRoaXMsYixhLmkpOk0odGhpcyxiLEFjKTt0aGlzLmM9dGhpcy5jLmNvbmNhdChhLmopfTtsYy5wcm90b3R5cGUucGFyc2U9bWMucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7aWYoYiYmYi5maXJzdENoaWxkKXt2YXIgYz1QYyhiKTtudWxsIT1jJiYodGhpcy5kYXRhPUtiKGMpLmJ1ZmZlcil9fTtwYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt0aGlzLmM9Yjt0aGlzLmY9TihiLCJzY2hlbWVJZFVyaSIsTyk7dmFyIGM9TihiLCJjZW5jOmRlZmF1bHRfS0lEIixPKTtjJiYodGhpcy5iPWMucmVwbGFjZSgvWy1dL2csIiIpKTt0aGlzLmE9TSh0aGlzLGIscWMpfTsKcWMucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dmFyIGM9UGMoYik7aWYoYyl7dGhpcy5wc3NoQm94PUtiKGMpO3RyeXt0aGlzLnBhcnNlZFBzc2g9bmV3IFFiKHRoaXMucHNzaEJveCl9Y2F0Y2goZCl7aWYoIShkIGluc3RhbmNlb2YgUmFuZ2VFcnJvcikpdGhyb3cgZDt9fX07cmMucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dmFyIGM9Yi5jaGlsZE5vZGVzLGQ9IiI7aWYoMT09Yy5sZW5ndGgpZD1QYyhiKTtlbHNlIGZvcih2YXIgZT0wO2U8Yy5sZW5ndGg7ZSsrKWNbZV0ubm9kZVR5cGU9PU5vZGUuVEVYVF9OT0RFJiYoZCs9Y1tlXS5ub2RlVmFsdWUpO3RoaXMudXJsPWR9O3NjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMudXJsPVBjKGIpfTsKdGMucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dGhpcy5iYXNlVXJsPWEuYmFzZVVybHx8dGhpcy5iYXNlVXJsO3RoaXMucz1OKGIsInRpbWVzY2FsZSIsUSx0aGlzLnMpO3RoaXMuTD1OKGIsInByZXNlbnRhdGlvblRpbWVPZmZzZXQiLFAsdGhpcy5MKTt0aGlzLmE9TihiLCJpbmRleFJhbmdlIixRYyx0aGlzLmEpO3RoaXMuZj1OKGIsIkZCRmlyc3RTZWdtZW50UmFuZ2UiLFFjLHRoaXMuZik7dGhpcy5iPU0odGhpcyxiLHdjKXx8dGhpcy5iO3RoaXMuYz1NKHRoaXMsYix4Yyl8fHRoaXMuY307d2MucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dmFyIGM9TihiLCJzb3VyY2VVUkwiLE8pO3RoaXMudXJsPUtjKGEuYmFzZVVybCxjKTt0aGlzLmE9TihiLCJyYW5nZSIsUWMsdmMoYS5hKSl9Owp4Yy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt2YXIgYz1OKGIsInNvdXJjZVVSTCIsTyk7dGhpcy51cmw9S2MoYS5iYXNlVXJsLGMpO3RoaXMuYT1OKGIsInJhbmdlIixRYyl9Owp5Yy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt0aGlzLmJhc2VVcmw9YS5iYXNlVXJsfHx0aGlzLmJhc2VVcmw7dGhpcy5zPU4oYiwidGltZXNjYWxlIixRLHRoaXMucyk7dGhpcy5MPU4oYiwicHJlc2VudGF0aW9uVGltZU9mZnNldCIsUCx0aGlzLkwpO3RoaXMuSD1OKGIsImR1cmF0aW9uIixRLHRoaXMuSCk7dmFyIGM9TihiLCJzdGFydE51bWJlciIsUSk7bnVsbCE9YyYmKHRoaXMuYz1jKTt0aGlzLmI9TSh0aGlzLGIseGMpfHx0aGlzLmI7dGhpcy5hPShjPUljKHRoaXMsYix6YykpJiYwPGMubGVuZ3RoP2M6dGhpcy5hO3RoaXMuQz1NKHRoaXMsYixCYyl8fHRoaXMuQztWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImNhbGN1bGF0ZV9xdWlja19kYXNoX3ByZXNlbnRhdGlvbl90aW1lX29mZnNldF9mcm9tX3RpbWVsaW5lIiwhMSkmJihjPVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJjYWxjdWxhdGVfcXVpY2tfZGFzaF9wcmVzZW50YXRpb25fdGltZV9vZmZzZXRfZXBzaWxvbl9tcyIsCjI1MCksdGhpcy5DJiZ0aGlzLkMuTlswXSYmKHRoaXMuTD0xRTM8dGhpcy5DLk5bMF0uc3RhcnRUaW1lP3RoaXMuQy5OWzBdLnN0YXJ0VGltZS1jOnRoaXMuTCkpfTt6Yy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt2YXIgYz1OKGIsIm1lZGlhIixPKTt0aGlzLmI9S2MoYS5iYXNlVXJsLGMpO3RoaXMuYT1OKGIsIm1lZGlhUmFuZ2UiLFFjKX07CkFjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMucz1OKGIsInRpbWVzY2FsZSIsUSx0aGlzLnMpO3RoaXMuTD1OKGIsInByZXNlbnRhdGlvblRpbWVPZmZzZXQiLFAsdGhpcy5MKTt0aGlzLkg9TihiLCJkdXJhdGlvbiIsUSx0aGlzLkgpO3ZhciBjPU4oYiwic3RhcnROdW1iZXIiLFApO251bGwhPWMmJih0aGlzLmI9Yyk7dGhpcy5mPU4oYiwibWVkaWEiLE8sdGhpcy5mKTt0aGlzLmE9TihiLCJpbmRleCIsTyx0aGlzLmEpO3RoaXMuYz1OKGIsImluaXRpYWxpemF0aW9uIixPLHRoaXMuYyk7dGhpcy5DPU0odGhpcyxiLEJjKXx8dGhpcy5DfTtCYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt0aGlzLmE9TihiLCJGQlByZWRpY3RlZE1lZGlhIixPLHRoaXMuYSk7dGhpcy5iPU4oYiwiRkJQcmVkaWN0ZWRNZWRpYUVuZE51bWJlciIsUSk7dGhpcy5OPUljKHRoaXMsYixDYyl9OwpDYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt0aGlzLnN0YXJ0VGltZT1OKGIsInQiLFApO3RoaXMuZHVyYXRpb249TihiLCJkIixQKTt0aGlzLnJlcGVhdD1OKGIsInIiLEhjKX07ZnVuY3Rpb24gSmMoYSxiKXtpZighYnx8MD09PWIubGVuZ3RoKXJldHVybiBhO2Zvcih2YXIgYz1bXSxkPTA7ZDxiLmxlbmd0aDtkKyspe3ZhciBlPWJbZF0udXJsO251bGw9PWF8fDA9PT1hLmxlbmd0aD9jLnB1c2gobmV3IEwoZSkpOihlPUtjKGEuc2xpY2UoMCwxKSxlKSxjLnB1c2goZVswXSkpfXJldHVybiBjfWZ1bmN0aW9uIEtjKGEsYil7aWYoIWIpcmV0dXJuIGE7dmFyIGM9bmV3IEwoYik7cmV0dXJuIGE/YS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVzb2x2ZShjKX0pOltjXX1mdW5jdGlvbiBPYyhhLGIsYyl7dmFyIGQ9dmMoYyk7KGI9UmMoYixjLmNvbnN0cnVjdG9yLlRBR19OQU1FKSkmJmQucGFyc2UoYSxiKTtyZXR1cm4gZH0KZnVuY3Rpb24gTShhLGIsYyl7dmFyIGQ9bnVsbDtpZihiPVJjKGIsYy5UQUdfTkFNRSkpZD1uZXcgYyxkLnBhcnNlKGEsYik7cmV0dXJuIGR9ZnVuY3Rpb24gUmMoYSxiKXtmb3IodmFyIGM9bnVsbCxkPTA7ZDxhLmNoaWxkTm9kZXMubGVuZ3RoO2QrKylpZihhLmNoaWxkTm9kZXNbZF0udGFnTmFtZT09Yil7aWYoYylyZXR1cm4gbnVsbDtjPWEuY2hpbGROb2Rlc1tkXX1yZXR1cm4gY31mdW5jdGlvbiBJYyhhLGIsYyl7Zm9yKHZhciBkPVtdLGU9MDtlPGIuY2hpbGROb2Rlcy5sZW5ndGg7ZSsrKWlmKGIuY2hpbGROb2Rlc1tlXS50YWdOYW1lPT1jLlRBR19OQU1FKXt2YXIgZj1uZXcgYztmLnBhcnNlLmNhbGwoZixhLGIuY2hpbGROb2Rlc1tlXSk7ZC5wdXNoKGYpfXJldHVybiBkfWZ1bmN0aW9uIFBjKGEpe2E9YS5maXJzdENoaWxkO3JldHVybiBhLm5vZGVUeXBlIT1Ob2RlLlRFWFRfTk9ERT9udWxsOmEubm9kZVZhbHVlfQpmdW5jdGlvbiB1YyhhKXtyZXR1cm4gYT9hLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS5jbG9uZSgpfSk6bnVsbH1mdW5jdGlvbiB2YyhhKXtyZXR1cm4gYT9hLmNsb25lKCk6bnVsbH1mdW5jdGlvbiBOKGEsYixjLGQpe2E9YS5oYXNBdHRyaWJ1dGUoYik/YyhhLmdldEF0dHJpYnV0ZShiKSk6bnVsbDtyZXR1cm4gbnVsbCE9YT9hOnZvaWQgMCE9PWQ/ZDpudWxsfWZ1bmN0aW9uIEdjKGEpe2lmKCFhKXJldHVybiBudWxsO2E9RGF0ZS5wYXJzZShhKTtyZXR1cm4gaXNOYU4oYSk/bnVsbDpNYXRoLmZsb29yKGEvMUUzKX0KZnVuY3Rpb24gRmMoYSl7aWYoIWEpcmV0dXJuIG51bGw7dmFyIGI9L15QKD86KFswLTldKilZKT8oPzooWzAtOV0qKU0pPyg/OihbMC05XSopRCk/KD86VCg/OihbMC05XSopSCk/KD86KFswLTldKilNKT8oPzooWzAtOS5dKilTKT8pPyQvLmV4ZWMoYSk7aWYoIWIpcmV0dXJuIG51bGw7YT0wO3ZhciBjPVAoYlsxXSk7YyYmKGErPTMxNTM2RTMqYyk7KGM9UChiWzJdKSkmJihhKz0yNTkyRTMqYyk7KGM9UChiWzNdKSkmJihhKz04NjQwMCpjKTsoYz1QKGJbNF0pKSYmKGErPTM2MDAqYyk7KGM9UChiWzVdKSkmJihhKz02MCpjKTtiPXdpbmRvdy5wYXJzZUZsb2F0KGJbNl0pOyhiPWlzTmFOKGIpP251bGw6YikmJihhKz1iKTtyZXR1cm4gYX0KZnVuY3Rpb24gUWMoYSl7dmFyIGI9LyhbMC05XSspLShbMC05XSspLy5leGVjKGEpO2lmKCFiKXJldHVybiBudWxsO2E9UChiWzFdKTtpZihudWxsPT1hKXJldHVybiBudWxsO2I9UChiWzJdKTtyZXR1cm4gbnVsbD09Yj9udWxsOm5ldyBEYyhhLGIpfWZ1bmN0aW9uIEhjKGEpe2E9d2luZG93LnBhcnNlSW50KGEsMTApO3JldHVybiBpc05hTihhKT9udWxsOmF9ZnVuY3Rpb24gUShhKXthPXdpbmRvdy5wYXJzZUludChhLDEwKTtyZXR1cm4gMDxhP2E6bnVsbH1mdW5jdGlvbiBQKGEpe2E9d2luZG93LnBhcnNlSW50KGEsMTApO3JldHVybiAwPD1hP2E6bnVsbH1mdW5jdGlvbiBFYyhhKXtzd2l0Y2goYS50b0xvd2VyQ2FzZSgpKXtjYXNlICJ0cnVlIjpyZXR1cm4hMDtjYXNlICJmYWxzZSI6cmV0dXJuITE7ZGVmYXVsdDpyZXR1cm4gbnVsbH19ZnVuY3Rpb24gTyhhKXtyZXR1cm4gYX07ZnVuY3Rpb24gU2MoYSxiKXt0aGlzLnVybD1hO3RoaXMuYj1ifHxuZXcgdGI7dGhpcy5qPTA7dGhpcy5nPS0xO3RoaXMuaD10aGlzLmk9MDt0aGlzLmE9bnVsbDt0aGlzLmM9bmV3IEk7dGhpcy5mPW51bGw7dGhpcy5vPXRoaXMuYi5pO3RoaXMubD10aGlzLmIubX1xKCJzaGFrYS51dGlsLkFqYXhSZXF1ZXN0IixTYyk7CmZ1bmN0aW9uIHRiKCl7dGhpcy5ib2R5PW51bGw7dGhpcy5OYT0xO3RoaXMuYz0xRTM7dGhpcy5iPTA7dGhpcy5tZXRob2Q9IkdFVCI7dGhpcy5yZXNwb25zZVR5cGU9ImFycmF5YnVmZmVyIjt0aGlzLlFhPXt9O3RoaXMuZz10aGlzLndpdGhDcmVkZW50aWFscz0hMTt0aGlzLmRhPXRoaXMuYT10aGlzLnU9bnVsbDt0aGlzLmo9ITE7dGhpcy5oPXRoaXMubT10aGlzLmk9dGhpcy5taW1lVHlwZT1udWxsO3RoaXMubz0hMTt0aGlzLnc9LyguKilcLih4eHxmbmEpXC5mYmNkblwubmV0Lzt0aGlzLmY9L2xpdmVzdHJlYW0tbG9va2FzaWRlXC4oZmFjZWJvb2t8d29ya3BsYWNlKVwuY29tJC99dmFyIFRjPSEwO2Z1bmN0aW9uIFVjKGEpe1ZjKGEpO1djKGEpO2EuYi5ib2R5PW51bGw7YS5jLmRlc3Ryb3koKTthLmM9bnVsbDthLmY9bnVsbH0KZnVuY3Rpb24gV2MoYSl7YS5hJiYoYS5hLm9ubG9hZD1udWxsLGEuYS5vbnJlYWR5c3RhdGVjaGFuZ2U9bnVsbCxhLmEub25lcnJvcj1udWxsLGEuYS5vbnRpbWVvdXQ9bnVsbCk7YS5hPW51bGx9ZnVuY3Rpb24gVmMoYSl7LTEhPT1hLmcmJihjbGVhclRpbWVvdXQoYS5nKSxhLmc9LTEpfQpTYy5wcm90b3R5cGUubT1mdW5jdGlvbigpe2lmKHRoaXMuYSlyZXR1cm4gdGhpcy5jO2lmKDA9PXRoaXMudXJsLmxhc3RJbmRleE9mKCJkYXRhOiIsMCkpe3ZhciBhPXRoaXMudXJsLnNwbGl0KCI6IilbMV0uc3BsaXQoIjsiKS5wb3AoKS5zcGxpdCgiLCIpLGI9YS5wb3AoKSxiPSJiYXNlNjQiPT1hLnBvcCgpP3dpbmRvdy5hdG9iKGIucmVwbGFjZSgvLS9nLCIrIikucmVwbGFjZSgvXy9nLCIvIikpOndpbmRvdy5kZWNvZGVVUklDb21wb25lbnQoYik7ImFycmF5YnVmZmVyIj09dGhpcy5iLnJlc3BvbnNlVHlwZSYmKGI9SmIoYikuYnVmZmVyKTthPUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkobmV3IFhNTEh0dHBSZXF1ZXN0KSk7YS5yZXNwb25zZT1iO2EucmVzcG9uc2VUZXh0PWIudG9TdHJpbmcoKTtiPXRoaXMuYztiLnJlc29sdmUoYSk7VWModGhpcyk7cmV0dXJuIGJ9aWYoMD09dGhpcy51cmwubGFzdEluZGV4T2YoImlkYjoiLDApKXJldHVybiB0aGlzLnUoKTt0aGlzLmorKzsKdGhpcy5pPXBlcmZvcm1hbmNlTm93KCk7dGhpcy5ofHwodGhpcy5oPXRoaXMuYi5jKTt0aGlzLmE9bmV3IFhNTEh0dHBSZXF1ZXN0O3ZhciBjPXRoaXMudXJsLGE9bmV3IEwoYyk7VGMmJih0aGlzLmYmJiF0aGlzLmYuc3VwcG9ydHNDYWNoaW5nKCl8fHRoaXMuYi5nKSYmZGMoYS5hLCJfIixEYXRlLm5vdygpKTtjPXRoaXMuYi53LnRlc3QoYyk7aWYobnVsbCE9dGhpcy5iLmEmJmMpe3ZhciBkPXRoaXMuYi5hLGU9YS5hO251bGwhPWQuYSYmKGQuaD1kLmEuZ2V0U2VnbWVudHNUb1B1c2goKSxkLmY9ZC5hLmdldFNlZ21lbnRTdGFydFRpbWUoKSxkLmc9ZC5hLmdldFNlZ21lbnRPZmZzZXQoKSxkLmM9ZC5hLmdldFB1c2hWaWRlb1JlcHJlc2VudGF0aW9uSUQoKSxkLmI9ZC5hLmdldFB1c2hBdWRpb1JlcHJlc2VudGF0aW9uSUQoKSxkLmo9ZC5hLmdldFVzZUxvbmdDYWNoZUZvck1hbmlmZXN0KCkpO251bGwhPWQuaCYmZGMoZSwiX25jX3BfbiIsZC5oKTtudWxsIT1kLmY/ZGMoZSwiX25jX3BfdHMiLApkLmYpOm51bGwhPWQuZyYmZGMoZSwiX25jX3BfbyIsZC5nKTtudWxsIT1kLmMmJm51bGwhPWQuYiYmKGRjKGUsIl9uY19wX3JpZCIsZC5jKSxkYyhlLCJfbmNfcF9hcmlkIixkLmIpKTtkLmkmJmRjKGUsIl9uY19wX2RiZyIsIjEiKTtkLmomJmRjKGUsIl9uY19uYyIsIjEiKX0xPT10aGlzLmIuaiYmYyYmZGMoYS5hLCJfbmNfcGxheWluZyIsMSk7dGhpcy5iLm8mJmRjKGEuYSwiX25jX3NjIiwxKTtjPWEudG9TdHJpbmcoKTthPXRoaXMuYi5mLnRlc3QoYS5oYSk7dGhpcy5hLm9wZW4odGhpcy5iLm1ldGhvZCxjLCEwKTt0aGlzLmEucmVzcG9uc2VUeXBlPXRoaXMuYi5yZXNwb25zZVR5cGU7dGhpcy5hLnRpbWVvdXQ9dGhpcy5iLmI7dGhpcy5hLndpdGhDcmVkZW50aWFscz10aGlzLmIud2l0aENyZWRlbnRpYWxzfHxhO3NldEV2ZW50UHJvcGVydHkodGhpcy5hLCJvbmxvYWQiLHRoaXMuZmQuYmluZCh0aGlzKSk7c2V0RXZlbnRQcm9wZXJ0eSh0aGlzLmEsIm9ucmVhZHlzdGF0ZWNoYW5nZSIsCnRoaXMubGQuYmluZCh0aGlzKSk7c2V0RXZlbnRQcm9wZXJ0eSh0aGlzLmEsIm9uZXJyb3IiLHRoaXMuZGQuYmluZCh0aGlzKSk7c2V0RXZlbnRQcm9wZXJ0eSh0aGlzLmEsIm9udGltZW91dCIsdGhpcy5xZC5iaW5kKHRoaXMpKTtzZXRFdmVudFByb3BlcnR5KHRoaXMuYSwib25hYm9ydCIsdGhpcy4kYy5iaW5kKHRoaXMpKTtmb3IoYiBpbiB0aGlzLmIuUWEpdGhpcy5hLnNldFJlcXVlc3RIZWFkZXIoYix0aGlzLmIuUWFbYl0pO3RoaXMuYS5zZW5kKHRoaXMuYi5ib2R5KTtyZXR1cm4gdGhpcy5jfTtTYy5wcm90b3R5cGUuc2VuZD1TYy5wcm90b3R5cGUubTsKZnVuY3Rpb24gWGMoYSxiLGMpe2I9RXJyb3IoYik7Yi50eXBlPWM7Yi5zdGF0dXM9YS5hLnN0YXR1cztiLnVybD1hLnVybDtWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImVuYWJsZV9kb3VibGVfaW5nZXN0IiwhMSkmJihiLnJlc3BvbnNlSGVhZGVycz1wYXJzZUhlYWRlcnMoYS5hLmdldEFsbFJlc3BvbnNlSGVhZGVycygpKSk7Yi5tZXRob2Q9YS5iLm1ldGhvZDtiLmJvZHk9YS5iLmJvZHk7cmV0dXJuIGJ9bj1TYy5wcm90b3R5cGU7bi5hYm9ydD1mdW5jdGlvbigpe1ZjKHRoaXMpO2lmKHRoaXMuYSYmdGhpcy5hLnJlYWR5U3RhdGUhPVhNTEh0dHBSZXF1ZXN0LkRPTkUmJih0aGlzLmEuYWJvcnQoKSwhVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJmaXhfc2hha2FfdXRpbF9hamF4X3JlcXVlc3RfYWJvcnQiLCEwKSkpe3ZhciBhPVhjKHRoaXMsIlJlcXVlc3QgYWJvcnRlZC4iLCJhYm9ydGVkIik7dGhpcy5jLnJlamVjdChhKTtVYyh0aGlzKX19OwpuLiRjPWZ1bmN0aW9uKCl7aWYoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJmaXhfc2hha2FfdXRpbF9hamF4X3JlcXVlc3RfYWJvcnQiLCEwKSl7dmFyIGE9WGModGhpcywiUmVxdWVzdCBhYm9ydGVkLiIsImFib3J0ZWQiKTt0aGlzLmMucmVqZWN0KGEpO1VjKHRoaXMpfX07Cm4uZmQ9ZnVuY3Rpb24oYSl7aWYodGhpcy5mKXt2YXIgYj1WaWRlb1BsYXllclJlc291cmNlVGltZXIuZ2V0UmVzb3VyY2VUaW1pbmdFbnRyeSh0aGlzLnVybCx0aGlzLmkscGVyZm9ybWFuY2VOb3coKSk7dGhpcy5mLnNhbXBsZShwZXJmb3JtYW5jZU5vdygpLXRoaXMuaSxhLmxvYWRlZHx8dGhpcy5hLnJlc3BvbnNlJiZ0aGlzLmEucmVzcG9uc2UuYnl0ZUxlbmd0aHx8MCx0aGlzLmIubWltZVR5cGU/InYiPT09dGhpcy5iLm1pbWVUeXBlLmNoYXJBdCgwKTohMSxiLHRoaXMubyx0aGlzLmwsVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJldmFsdWF0ZV9hYnJfb25fZmV0Y2hfZW5kIiwhMSkpfWE9WzQwM107MjAwPD10aGlzLmEuc3RhdHVzJiYyOTk+PXRoaXMuYS5zdGF0dXM/KFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgiZW5hYmxlX2RvdWJsZV9pbmdlc3QiLCExKSYmbnVsbCE9cGFyc2VIZWFkZXJzKHRoaXMuYS5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSlbIngtZmItdmlkZW8tcmVwbGljYSJdPwooYT1YYyh0aGlzLCJIVFRQIGVycm9yLiIsIm5ldCIpLHRoaXMuYy5yZWplY3QoYSkpOnRoaXMuYy5yZXNvbHZlKHRoaXMuYSksVWModGhpcykpOiFWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInJlbW92ZV9hamF4X3Jlc2VuZF9pbnRlcm5hbCIsITApJiZ0aGlzLmo8dGhpcy5iLk5hJiYtMT09PWEuaW5kZXhPZih0aGlzLmEuc3RhdHVzKT9ZYyh0aGlzKTooYT1YYyh0aGlzLCJIVFRQIGVycm9yLiIsIm5ldCIpLHRoaXMuYy5yZWplY3QoYSksVWModGhpcykpfTsKbi5sZD1mdW5jdGlvbigpe2lmKHRoaXMuYS5yZWFkeVN0YXRlPT1YTUxIdHRwUmVxdWVzdC5IRUFERVJTX1JFQ0VJVkVEJiYodGhpcy5hLllhPURhdGUubm93KCktdGhpcy5pLHRoaXMuYi5hJiZ0aGlzLmIuZGEmJnRoaXMuYi5kYS5hZGRQdXNoRGF0YUZyb21YSFIodGhpcy5hKSx0aGlzLmIuaCYmdGhpcy5iLmguaGFuZGxlWEhSKHRoaXMuYSksVmlkZW9DbGllbnRFZGdlQ29vcGVyYXRpb24udXBkYXRlRnJvbVhIUih0aGlzLmEpLHRoaXMuYi5nKSl7dmFyIGE9RGF0ZS5wYXJzZSh0aGlzLmEuZ2V0UmVzcG9uc2VIZWFkZXIoIkRhdGUiKSk7YSYmKHphPWEtRGF0ZS5ub3coKSl9fTtuLmRkPWZ1bmN0aW9uKCl7dmFyIGE9WGModGhpcywiTmV0d29yayBmYWlsdXJlLiIsIm5ldCIpO3RoaXMuYy5yZWplY3QoYSk7VWModGhpcyl9OwpuLnFkPWZ1bmN0aW9uKCl7aWYoIVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgicmVtb3ZlX2FqYXhfcmVzZW5kX2ludGVybmFsIiwhMCkmJnRoaXMuajx0aGlzLmIuTmEpWWModGhpcyk7ZWxzZXt2YXIgYT1YYyh0aGlzLCJSZXF1ZXN0IHRpbWVkIG91dC4iLCJuZXQiKTt0aGlzLmMucmVqZWN0KGEpO1VjKHRoaXMpfX07ZnVuY3Rpb24gWWMoYSl7V2MoYSk7YS5nPXNldFRpbWVvdXQoZnVuY3Rpb24oKXt0aGlzLmc9LTE7dGhpcy5tKCl9LmJpbmQoYSksYS5oKigxKy41KigyKk1hdGgucmFuZG9tKCktMSkpKTthLmgqPTJ9O2Z1bmN0aW9uIEsoYSxiLGMsZCxlLGYpe3RoaXMuYz1iO3RoaXMuc3RhcnRCeXRlPWN8fDA7dGhpcy5iYXNlVXJsPXRoaXMudG9TdHJpbmcoKTt0aGlzLmVuZEJ5dGU9bnVsbCE9ZD9kOm51bGw7dGhpcy5pc1ByZWRpY3RpdmU9ZXx8ITE7dGhpcy5mPW51bGw7dGhpcy5tPTA7dGhpcy5BPSExO3RoaXMuTmM9dGhpcy5nPW51bGw7dGhpcy5vPWE7dGhpcy5pPW51bGw7dGhpcy5qPXRoaXMudT0hMTt0aGlzLmI9dGhpcy5hPW51bGw7dGhpcy5oPWZ8fG51bGx9cSgic2hha2EudXRpbC5GYWlsb3ZlclVyaSIsSyk7Sy5wcm90b3R5cGUudz1mdW5jdGlvbihhKXt0aGlzLkE9YX07Sy5wcm90b3R5cGUuc2V0U2hvdWxkUmVhZFhGYlZpZGVvQnJvYWRjYXN0RW5kZWRIZWFkZXI9Sy5wcm90b3R5cGUudztLLnByb3RvdHlwZS5EPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubX07Sy5wcm90b3R5cGUuZ2V0RmJWaWRlb0Jyb2FkY2FzdEVuZGVkUmVzcG9uc2VIZWFkZXI9Sy5wcm90b3R5cGUuRDsKSy5wcm90b3R5cGUuRj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YXJ0Qnl0ZX07Sy5wcm90b3R5cGUuZ2V0U3RhcnRCeXRlPUsucHJvdG90eXBlLkY7Sy5wcm90b3R5cGUuQj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVuZEJ5dGV9O0sucHJvdG90eXBlLmdldEVuZEJ5dGU9Sy5wcm90b3R5cGUuQjtmdW5jdGlvbiBaYyhhLGIpe3JldHVybiBhJiYwIT09YS5sZW5ndGg/YS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVzb2x2ZShiKX0pOltiXX1uPUsucHJvdG90eXBlO24uZmV0Y2g9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxoKXtyZXR1cm4gdGhpcy5mP3RoaXMuZjp0aGlzLmY9JGModGhpcywwLGF8fG5ldyB0YixiLGMsZCxlLGYsZyxoKX07bi5zdHJlYW09ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxoLGspe3JldHVybiBhZCh0aGlzLDAsYXx8bmV3IHRiLGIsYyxkLGUsZixnLGgsayl9OwpmdW5jdGlvbiAkYyhhLGIsYyxkLGUsZixnLGgsayxsKXtyZXR1cm4gYWQoYSxiLGMsZCxlLGYsZyxoLGssbCkudGhlbihmdW5jdGlvbihhKXt2YXIgYixjPWZ1bmN0aW9uKCl7cmV0dXJuIGEucmVhZCgpLnRoZW4oZnVuY3Rpb24oYSl7dmFyIGQ9YS52YWx1ZTtpZihhLmRvbmUpcmV0dXJuIGJ8fG5ldyBBcnJheUJ1ZmZlcigwKTtkJiYoInN0cmluZyI9PT10eXBlb2YgZD9iPShifHwiIikrZDpiPWNvbmNhdEFycmF5QnVmZmVyKGJ8fG5ldyBBcnJheUJ1ZmZlcigwKSxkKSk7cmV0dXJuIGMoKX0uYmluZCh0aGlzKSl9LmJpbmQodGhpcyk7cmV0dXJuIGMoKX0pfQpuLkthPWZ1bmN0aW9uKCl7dGhpcy5nJiYodGhpcy5hPXRoaXMuZj1udWxsLHRoaXMuZy5hYm9ydCgpLHRoaXMuaT10aGlzLmc9bnVsbCk7dGhpcy5OYyYmVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJlbmFibGVfcDJwX3N1cHBvcnQiLCExKSYmKHRoaXMuRy5hYm9ydCgpLHRoaXMuRz1udWxsKTt0aGlzLmImJih0aGlzLmIuYWJvcnRSZXF1ZXN0KGJkKHRoaXMpKSxWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImZpeGluZ19zY2hlZHVsZXJfZGlzYWJsZV9sZWFrcyIsITApJiYodGhpcy5iPW51bGwpKX07CmZ1bmN0aW9uIGFkKGEsYixjLGQsZSxmLGcsaCxrLGwsbSl7YS5iPWx8fG51bGw7dmFyIHA7ZSYmKGMuYSYmKGMuYS5pPSEwKSxsPTAsYy5kYSYmKGw9Yy5kYS5nZXRQdXNoQ291bnRGb3JVcmwoYS5jW2JdLnRvU3RyaW5nKCkpKSwocD1lLmdldE9wZXJhdGlvbkxvZ2dlcigicmVxdWVzdCIpKSYmcC5zZXRSZWFzb24oa3x8bnVsbCkuc2V0UHVzaGVkKGwpLnNldFR5cGUoaHx8bnVsbCkuc2V0SW5pdGlhdG9yKCJzaGFrYSIpLnN0YXJ0KCksZiYmKHA9cC5zZXRQYXJlbnRMb2dnZXIoZikpKTt2YXIgdD1wZXJmb3JtYW5jZU5vdygpO2EuYT1udWxsO2cmJihjLmk9Zyk7ZSYmKGMubT1lKTt2YXIgdz1jZChhLGEuY1tiXSxjKTtrPW51bGw7YS5qPSExO3ZhciB6PVZpZGVvRGFzaFByZWZldGNoQ2FjaGUuZ2V0Q2FjaGVWYWx1ZSh3KTt6JiYoaz16LGEuaj0hMCxwJiYocC5zZXRDb25uZWN0aW9uUXVhbGl0eUxldmVsKFZpZGVvRGFzaFByZWZldGNoQ2FjaGUuZ2V0Q29ubmVjdGlvblF1YWxpdHlMZXZlbCh3KSksCnAuc2V0SW5pdGlhdG9yKCJwcmVmZXRjaCIpKSk7aWYoIXomJm0pcmV0dXJuIG0uZ2V0U3RyZWFtKGJkKGEpKS50aGVuKGZ1bmN0aW9uKGEpe3JldHVybiBhLmdldFJlYWRlcigpfS5iaW5kKGEpKTttPW51bGw7aWYoYS5iJiYhYS5iLmlzRGlzYWJsZWQoKSYmIWspdHJ5eyhrPW09YS5iLmdldFByb21pc2UoYmQoYSkpKT9wPW51bGw6YS5iLmRpc2FibGUoKX1jYXRjaChIKXtlJiZlLmdldEV2ZW50TG9nZ2VyKCJyZXF1ZXN0X2luZm9fbm90X2ZvdW5kIikuc2V0UmVzb3VyY2UodykubG9nKCl9IWsmJmEuaCYmYS5oLmNyZWF0ZVByb21pc2UmJihtPW5ldyBMKHcpLG09Yy5mLnRlc3QobS5oYSksaz1hLmguY3JlYXRlUHJvbWlzZSh7dXJsOncscmVzcG9uc2VUeXBlOmMucmVzcG9uc2VUeXBlLE9kOmMuYyxLZDoyLE5hOmMuTmEsd2l0aENyZWRlbnRpYWxzOmMud2l0aENyZWRlbnRpYWxzfHxtLFFhOmMuUWF9LGZ1bmN0aW9uKGEpe3RoaXMuTmM9YTt2YXIgYj1wZXJmb3JtYW5jZU5vdygpOwphLm9ubG9hZD1mdW5jdGlvbihmKXtpZihkKXt2YXIgaD1WaWRlb1BsYXllclJlc291cmNlVGltZXIuZ2V0UmVzb3VyY2VUaW1pbmdFbnRyeSh3LGIscGVyZm9ybWFuY2VOb3coKSk7ZC5zYW1wbGUocGVyZm9ybWFuY2VOb3coKS1iLGYubG9hZGVkfHxhLnJlc3BvbnNlJiZhLnJlc3BvbnNlLmJ5dGVMZW5ndGh8fDAsYy5taW1lVHlwZT8idiI9PT1jLm1pbWVUeXBlLmNoYXJBdCgwKTohMSxoLGcsZSxWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImV2YWx1YXRlX2Ficl9vbl9mZXRjaF9lbmQiLCExKSl9fX0pKTtrfHwoYS5nPW5ldyBTYyh3LGMpLGEubT0wLGQmJihhLmcuZj1kKSxrPWEuZy5tKCkpO3AmJnAuc2V0UmVzb3VyY2Uodyk7ZiYmZi5zZXRSZXNvdXJjZSh3KTt2YXIgZGE9ITEsZWE9ay50aGVuKEooYSxmdW5jdGlvbihhKXt2YXIgYz10aGlzLmg/dGhpcy5oLm9uUmVxdWVzdFNlbmQ6bnVsbDshY3x8InZpZGVvIiE9aCYmImF1ZGlvIiE9aCYmIm1hbmlmZXN0IiE9Cmh8fGMoITAsaCxhLnJlc3BvbnNlLmJ5dGVMZW5ndGgpOyF0aGlzLmJ8fHRoaXMuYi5pc0Rpc2FibGVkKCl8fHRoaXMuYT90aGlzLmF8fCh0aGlzLmE9VmlkZW9QbGF5ZXJSZXNvdXJjZVRpbWVyLmdldFJlc291cmNlVGltaW5nRW50cnkodyx0aGlzLmo/MDp0LHBlcmZvcm1hbmNlTm93KCkpKTp0aGlzLmE9dGhpcy5iLmdldFJlc291cmNlVGltaW5nRW50cnkodyk7VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJzYW1wbGVfcHJlZmV0Y2hfYmFuZHdpZHRoIiwhMSkmJnomJnRoaXMuYSYmMDx0aGlzLmEudGltZVRvTGFzdEJ5dGUmJmQmJmQuc2FtcGxlKHRoaXMuYS50aW1lVG9MYXN0Qnl0ZSxhLnJlc3BvbnNlLmJ5dGVMZW5ndGgsInYiPT09aC5jaGFyQXQoMCksdGhpcy5hLGcsZSwhMCk7aWYodGhpcy5BKXRyeXt0aGlzLm09cGFyc2VJbnQoYS5nZXRSZXNwb25zZUhlYWRlcigieC1mYi12aWRlby1icm9hZGNhc3QtZW5kZWQiKSwxMCl9Y2F0Y2goZil7fXRoaXMuYj0KdGhpcy5pPXRoaXMuZz10aGlzLmY9bnVsbDthLmE/KHRoaXMuaT1uZXcgTChhLmEpLHRoaXMudT0hMCk6dGhpcy5pPXRoaXMuY1tiXTthLnJlc3BvbnNlLllhPWEuWWE7cCYmKHA9cC5zZXRMZW5ndGgoYS5yZXNwb25zZS5ieXRlTGVuZ3RofHxhLnJlc3BvbnNlLmxlbmd0aCkuc2V0V2FzUHJlZmV0Y2hDYWNoZUhpdCh0aGlzLmopLG51bGwhPXRoaXMuYSYmKHA9cC5zZXRUaW1lVG9MYXN0Qnl0ZShNYXRoLnJvdW5kKHRoaXMuYS50aW1lVG9MYXN0Qnl0ZSkpLnNldFRpbWVUb0ZpcnN0Qnl0ZShNYXRoLnJvdW5kKHRoaXMuYS50aW1lVG9GaXJzdEJ5dGUpKS5zZXRUaW1lVG9SZXF1ZXN0U3RhcnQoTWF0aC5yb3VuZCh0aGlzLmEudGltZVRvUmVxdWVzdFN0YXJ0KSksMkUzPD10aGlzLmEudGltZVRvRmlyc3RCeXRlJiYtMTx3LmluZGV4T2YoImFrYW1haWhkIikmJmxvZ0xvbmdBa2FtYWlSZXF1ZXN0KGEuZ2V0UmVzcG9uc2VIZWFkZXIoIkRlYnVnLUluZm8iKSsiLCBUVEZCLT4gIit0aGlzLmEudGltZVRvRmlyc3RCeXRlKwoiLCBUVFJTLT4gIit0aGlzLmEudGltZVRvUmVxdWVzdFN0YXJ0KSkscC5sb2coKSk7cmV0dXJuIFByb21pc2UucmVzb2x2ZSh7dmFsdWU6YS5yZXNwb25zZSxkb25lOiExfSl9KSksZWE9ZWEuY2F0Y2goSihhLGZ1bmN0aW9uKGEpe3ZhciBlPXRoaXMuaD90aGlzLmgub25SZXF1ZXN0U2VuZDpudWxsO2UmJmUoITEsaCwwKTtpZih0aGlzLmYmJmIrMTx0aGlzLmMubGVuZ3RoKXJldHVybiB0aGlzLmY9JGModGhpcyxiKzEsYyxkKTt0aGlzLmI9dGhpcy5hPXRoaXMuZj10aGlzLmc9bnVsbDtwJiZwLnNldEVycm9yKGEpLmxvZygpO3JldHVybiBQcm9taXNlLnJlamVjdChhKX0pKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtjYW5jZWw6ZnVuY3Rpb24oKXt9LHJlYWQ6ZnVuY3Rpb24oKXtyZXR1cm4gZGE/UHJvbWlzZS5yZXNvbHZlKHt2YWx1ZTpudWxsLGRvbmU6ITB9KTplYS50aGVuKGZ1bmN0aW9uKGEpe2RhPSEwO3JldHVybiBhfSl9LmJpbmQoYSl9KX0KZnVuY3Rpb24gYmQoYSl7cmV0dXJue2Jhc2VVcmw6YS50b1N0cmluZygpLGlzUHJlZGljdGl2ZTphLmlzUHJlZGljdGl2ZSxzdGFydEJ5dGU6YS5zdGFydEJ5dGUsZW5kQnl0ZTphLmVuZEJ5dGV9fW4uY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEsodGhpcy5vLHRoaXMuYy5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuY2xvbmUoKX0pLHRoaXMuc3RhcnRCeXRlLHRoaXMuZW5kQnl0ZSx0aGlzLmlzUHJlZGljdGl2ZSx0aGlzLmgpfTtuLmdldFJlc291cmNlVGltaW5nRW50cnk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hfTsKZnVuY3Rpb24gY2QoYSxiLGMpe3ZhciBkPWIudG9TdHJpbmcoKTtpZihhLnN0YXJ0Qnl0ZXx8YS5lbmRCeXRlKWI9Yi5oYSwhYi5lbmRzV2l0aCgiZmJjZG4ubmV0Iil8fGIuc3RhcnRzV2l0aCgiaW50ZXJuY2FjaGUiKXx8Yi5lbmRzV2l0aCgiYWsuZmJjZG4ubmV0Iik/YyYmKGMuUWEuUmFuZ2U9ImJ5dGVzPSIrKGEuc3RhcnRCeXRlKyItIisobnVsbCE9YS5lbmRCeXRlP2EuZW5kQnl0ZToiIikpKTooZCs9IiZieXRlc3RhcnQ9IithLnN0YXJ0Qnl0ZSxkKz1udWxsIT09YS5lbmRCeXRlPyImYnl0ZWVuZD0iK2EuZW5kQnl0ZToiIik7YS5vJiZjJiYoZD1hLm8oZCxjLlFhKXx8ZCk7cmV0dXJuIGR9ZnVuY3Rpb24gdWIoYSl7cmV0dXJuIGNkKGEsYS5jWzBdKX1uLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY1swXS50b1N0cmluZygpfTtmdW5jdGlvbiBkZChhLGIsYyxkKXt0aGlzLmE9bmV3IHRiO2I9bnVsbCE9Yj9iOmlhO3RoaXMuYS5yZXNwb25zZVR5cGU9InRleHQiO3RoaXMuYS5OYT0zO3RoaXMuYS5iPTFFMypiO2MmJih0aGlzLmEuYT1jKTtkJiYodGhpcy5hLmRhPWQpO3RoaXMuYS5nPSEwO3RoaXMuYS53aXRoQ3JlZGVudGlhbHM9dGhpcy5hLmYudGVzdChhKTt0aGlzLmI9YX0KZnVuY3Rpb24gZWQoYSxiKXt2YXIgYz1hLmIsZD1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImRldGVjdF9saXZlX3N0cmVhbV9lbmRlZF9mcm9tX3Jlc3BvbnNlX2hlYWRlcnMiLCExKTtjLncoZCk7cmV0dXJuIGMuZmV0Y2goYS5hLG51bGwsYixudWxsLG51bGwsIm1hbmlmZXN0IikudGhlbihmdW5jdGlvbihhKXthIGluc3RhbmNlb2YgQXJyYXlCdWZmZXImJihhPVN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCxuZXcgVWludDhBcnJheShhKSkpO3ZhciBmPWQmJiEhYy5tLGc7YiYmKGc9Yi5nZXRPcGVyYXRpb25Mb2dnZXIoInBhcnNlX21hbmlmZXN0Iikuc3RhcnQoKSk7YT1lYyhhLGMuYyxbYy5pXSk7ZyYmZy5sb2coKTthJiYiZHluYW1pYyI9PT1hLnR5cGUmJmYmJihhLnR5cGU9InN0YXRpYyIsYiYmQmFuemFpT0RTLmJ1bXBFbnRpdHlLZXkoMjk2NiwidmlkZW9zLnd3dy5zaGFrYSIsImNoYW5nZWRfbWFuaWZlc3RfdG9fZHluYW1pY19vZmZfaGVhZGVycyIpKTsKaWYoYSlyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGEpO2Y9RXJyb3IoIk1QRCBwYXJzZSBmYWlsdXJlLiIpO2YudHlwZT0iZGFzaCI7cmV0dXJuIFByb21pc2UucmVqZWN0KGYpfSl9ZnVuY3Rpb24gZmQoYSl7dGhpcy5hPW51bGw7dGhpcy5oPWE7dGhpcy5jPXRoaXMuZz10aGlzLmY9bnVsbDt0aGlzLmk9ITE7dGhpcy5qPXRoaXMuYj1udWxsfTtmdW5jdGlvbiBnZChhLGIpe3RoaXMuYT1hO3RoaXMuYj1ifHxudWxsfWdkLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5hJiYodGhpcy5hLkthKCksdGhpcy5hPW51bGwpO3RoaXMuYj1udWxsfTtnZC5wcm90b3R5cGUuY3JlYXRlPWZ1bmN0aW9uKGEsYil7dmFyIGM9bnVsbDtiJiYoYz1uZXcgdGIsYy5kYT1iKTtyZXR1cm4hdGhpcy5iJiZ0aGlzLmE/dGhpcy5hLmZldGNoKGMsbnVsbCxhLG51bGwsbnVsbCwiaW5pdCIpOlByb21pc2UucmVzb2x2ZSh0aGlzLmIpfTtnZC5wcm90b3R5cGUuYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmF9O2dkLnByb3RvdHlwZS5nZXRGYWlsb3ZlclVyaT1nZC5wcm90b3R5cGUuYztmdW5jdGlvbiBoZChhLGIpe3RoaXMuc2VnbWVudE9yaWdpbmFsRW5kVGltZT1hO3RoaXMuZ2FwRGlzdGFuY2U9Yn1mdW5jdGlvbiBpZChhLGIsYyxkLGUsZixnKXt0aGlzLnN0YXJ0VGltZT1hO3RoaXMuZW5kVGltZT1iO3RoaXMudXJsPWM7dGhpcy51bnNjYWxlZFN0YXJ0VGltZT1kO3RoaXMudW5zY2FsZWREdXJhdGlvbj1lO3RoaXMudGltZXNjYWxlZEdhcEluZm89Znx8bnVsbDt0aGlzLmlzUHJlZGljdGl2ZT1nfHwhMTt0aGlzLmRlYnVnSW5mbz10aGlzLnRpbWVzY2FsZWRHYXBJbmZvP3tlbmRUaW1lOnRoaXMudGltZXNjYWxlZEdhcEluZm8uc2VnbWVudE9yaWdpbmFsRW5kVGltZSxkZWx0YTp0aGlzLnRpbWVzY2FsZWRHYXBJbmZvLmdhcERpc3RhbmNlfTpudWxsfWZ1bmN0aW9uIGpkKGEsYixjKXtyZXR1cm4gbmV3IGlkKGIsYyxhLnVybCxhLnVuc2NhbGVkU3RhcnRUaW1lLGEudW5zY2FsZWREdXJhdGlvbixhLnRpbWVzY2FsZWRHYXBJbmZvLGEuaXNQcmVkaWN0aXZlKX0KZnVuY3Rpb24geWIoYSxiKXtpZihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInVzZV9iaW5hcnlfc2VhcmNoX3doZW5fZmluZGluZ19zZWdtZW50X3JlZmVyZW5jZXMiLCExKSlyZXR1cm4gQmluYXJ5U2VhcmNoLmZpbmRJbmRleEluQXJyYXkoYSxiLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGI+PWEuc3RhcnRUaW1lJiYobnVsbD09YS5lbmRUaW1lfHxiPGEuZW5kVGltZSk/MDphLnN0YXJ0VGltZS1ifSk7Zm9yKHZhciBjPWEubGVuZ3RoLTE7MDw9YzstLWMpe3ZhciBkPWFbY107aWYoYj49ZC5zdGFydFRpbWUmJihudWxsPT1kLmVuZFRpbWV8fGI8ZC5lbmRUaW1lKSlyZXR1cm4gY31yZXR1cm4tMX1mdW5jdGlvbiBrZChhLGIpe3JldHVybiBhLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gamQoYSxhLnN0YXJ0VGltZStiLG51bGwhPWEuZW5kVGltZT9hLmVuZFRpbWUrYjpudWxsKX0pfTtmdW5jdGlvbiBsZChhLGIsYyxkKXtmb3IodmFyIGU9Yi5hLGY9W10sZz0wO2c8ZDsrK2cpe3ZhciBoPWcrYyxrPShoLTEpKmUuSCxsPWsvZS5zLG09KGsrZS5IKS9lLnMsaD1tZChhLGIsZS5iK2gtMSxrKTtpZighaClyZXR1cm4gbnVsbDtmLnB1c2gobmV3IGlkKGwsbSxoLGssZS5IfHwwKSl9cmV0dXJuIGZ9ZnVuY3Rpb24gbWQoYSxiLGMsZCxlLGYpe2lmKCFiLmEpcmV0dXJuIG51bGw7ZT1lfHwhMTt2YXIgZz1iLmEuZixoPWIuYS5DLmE7aWYoIWcpcmV0dXJuIGIuYmFzZVVybD9uZXcgSyhhLGIuYmFzZVVybCwwLG51bGwsdm9pZCAwLGYpOm51bGw7Yz1uZChlJiZoP2g6ZyxiLmlkLGMsYi5iYW5kd2lkdGgsZCk7aWYoIWMpcmV0dXJuIG51bGw7Yj1aYyhiLmJhc2VVcmwsYyk7cmV0dXJuIG5ldyBLKGEsYiwwLG51bGwsZSxmKX0KZnVuY3Rpb24gbmQoYSxiLGMsZCxlKXt2YXIgZj17UmVwcmVzZW50YXRpb25JRDpiLE51bWJlcjpjLEJhbmR3aWR0aDpkLFRpbWU6ZX07YT1hLnJlcGxhY2UoL1wkKFJlcHJlc2VudGF0aW9uSUR8TnVtYmVyfEJhbmR3aWR0aHxUaW1lKT8oPzolMChbMC05XSspZCk/XCQvZyxmdW5jdGlvbihhLGIsYyl7aWYoIiQkIj09YSlyZXR1cm4iJCI7dmFyIGQ9ZltiXTtpZihudWxsPT1kKXJldHVybiBhOyJSZXByZXNlbnRhdGlvbklEIj09YiYmYyYmKGM9dm9pZCAwKTthPWQudG9TdHJpbmcoKTtjPXdpbmRvdy5wYXJzZUludChjLDEwKXx8MTtjPU1hdGgubWF4KDAsYy1hLmxlbmd0aCk7cmV0dXJuIEFycmF5KGMrMSkuam9pbigiMCIpK2F9KTt0cnl7cmV0dXJuIG5ldyBMKGEpfWNhdGNoKGcpe2lmKGcgaW5zdGFuY2VvZiBVUklFcnJvcilyZXR1cm4gbnVsbDt0aHJvdyBnO319CmZ1bmN0aW9uIG9kKGEsYixjLGQsZSxmKXt2YXIgZz0wLGg9YypiO2M9YS5OO3ZhciBrPWR8fDA7ZD1bXTt2YXIgbD1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigibGl2ZV9yZXdpbmRfdGVtcGxhdGVkX2xhc3RfeF9zZWdtZW50c19vbmx5IiwwKSxtPVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgidGVtcGxhdGVkX2xhc3RfeF90aW1lbGluZSIsITEpJiZlJiZudWxsIT1mLHA9ZSYmbT9WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigidGVtcGxhdGVkX2luZ2VzdF90aHJvdHRsZSIsMCk6MDtpZihsfHxtKXtmb3IoZT0wO2U8Yy5sZW5ndGg7KytlKXtpZighY1tlXS5kdXJhdGlvbilyZXR1cm4gZDt2YXIgdD1jW2VdLnN0YXJ0VGltZSx0PW51bGwhPXQ/dDpnLHc9Y1tlXS5yZXBlYXR8fDA7aWYoMD53KWlmKHc9Y1tlXS5kdXJhdGlvbixlKzE9PT1jLmxlbmd0aCl2YXIgej1jWzBdLnN0YXJ0VGltZStoLXQsdz1NYXRoLmNlaWwoei8KdyktMTtlbHNlIHo9Y1tlKzFdLnN0YXJ0VGltZSx3PU1hdGguY2VpbCgoei10KS93KS0xO2NbZV0uc3RhcnRUaW1lPXQ7Y1tlXS5yZXBlYXQ9dztnPWNbZV0uc3RhcnRUaW1lK2NbZV0uZHVyYXRpb24qKGNbZV0ucmVwZWF0KzEpfWZvcihlPWMubGVuZ3RoLTE7LTE8ZTstLWUpZm9yKHZhciBIPTA7SDw9Y1tlXS5yZXBlYXQ7KytIKWlmKHQ9Y1tlXS5zdGFydFRpbWUrY1tlXS5kdXJhdGlvbiooY1tlXS5yZXBlYXQtSCksZz10K2NbZV0uZHVyYXRpb24sYT1udWxsLGQubGVuZ3RoJiZnIT1kW2QubGVuZ3RoLTFdLnN0YXJ0JiYoej1kW2QubGVuZ3RoLTFdLnN0YXJ0LWcsYT1uZXcgaGQoZy9iLHovYiksZz1kW2QubGVuZ3RoLTFdLnN0YXJ0KSxkLnB1c2goe3N0YXJ0OnQsZW5kOmd9KSxhJiYoZFtkLmxlbmd0aC0xXS50aW1lc2NhbGVkR2FwSW5mbz1hKSxsKXtpZihkLmxlbmd0aD09PWwpcmV0dXJuIGQ9ZC5yZXZlcnNlKCl9ZWxzZSBpZihtJiZkW2QubGVuZ3RoLTFdLnN0YXJ0PD1mKXJldHVybiBkLnBvcCgpLApkPWQucmV2ZXJzZSgpLDA8cCYmKGQ9ZC5zbGljZSgwLHApKSxkO3JldHVybiBkLnJldmVyc2UoKX1mb3IoZT0wO2U8Yy5sZW5ndGg7KytlKXtpZighY1tlXS5kdXJhdGlvbilyZXR1cm4gZDt0PWNbZV0uc3RhcnRUaW1lO3Q9bnVsbCE9dD90Omc7dz1jW2VdLnJlcGVhdHx8MDswPncmJih3PWNbZV0uZHVyYXRpb24sZSsxPT09Yy5sZW5ndGg/KHo9Y1swXS5zdGFydFRpbWUraC10LHc9TWF0aC5jZWlsKHovdyktMSk6KHo9Y1tlKzFdLnN0YXJ0VGltZSx3PU1hdGguY2VpbCgoei10KS93KS0xKSk7MDxkLmxlbmd0aCYmdCE9ZyYmKHo9dC1nLGY9ZFtkLmxlbmd0aC0xXSxmLnRpbWVzY2FsZWRHYXBJbmZvPW5ldyBoZChnL2Isei9iKSxmLmVuZD10KTtmb3IoSD0wO0g8PXc7KytIKWc9dCtjW2VdLmR1cmF0aW9uLGQucHVzaCh7c3RhcnQ6dCxlbmQ6Z30pLHQ9Z31pZihhLmEmJjA8Yy5sZW5ndGgpZm9yKGI9Y1swXS5kdXJhdGlvbixmPTA7ZjxrO2YrKylkLnB1c2goe3N0YXJ0OnQrZipiLGVuZDp0KwooZisxKSpiLHVkOmEuYitmfSk7cmV0dXJuIGR9O2Z1bmN0aW9uIHBkKGEsYixjLGQsZSl7dGhpcy53PWE7dGhpcy5tPWI7dGhpcy5jPWM7dGhpcy5XPTA7dGhpcy5CPSEwO3RoaXMucz1jLnN8fDA7dGhpcy5BPSExO3RoaXMuZz1udWxsO3RoaXMudT1kO3RoaXMuaj1jLkx8fDA7dGhpcy5iPTA7dGhpcy5pPXRoaXMuaD1udWxsO2E6e2I9Yy5DO3ZhciBmPTA7YT0oYS5kdXJhdGlvbnx8MCkqdGhpcy5zO2M9Yi5OO2ZvcihkPTA7ZDxjLmxlbmd0aDsrK2Qpe2lmKCFjW2RdLmR1cmF0aW9uKXtiLk49Yy5zbGljZSgwLGQpO2JyZWFrIGF9dmFyIGc9Y1tkXS5zdGFydFRpbWUsZj1udWxsIT1nP2c6ZixnPWNbZF0ucmVwZWF0fHwwOzA+ZyYmKGc9Y1tkXS5kdXJhdGlvbixnPWQrMT09PWMubGVuZ3RoP01hdGguY2VpbCgoY1swXS5zdGFydFRpbWUrYS1mKS9nKS0xOk1hdGguY2VpbCgoY1tkKzFdLnN0YXJ0VGltZS1mKS9nKS0xKTtjW2RdLnN0YXJ0VGltZT1mO2NbZF0ucmVwZWF0PWc7Zj1jW2RdLnN0YXJ0VGltZStjW2RdLmR1cmF0aW9uKihjW2RdLnJlcGVhdCsKMSl9fXRoaXMuZj1bXTt0aGlzLm89VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoInRpbWVsaW5lX3NlZ21lbnRfaW5kZXhfbWF4X2luZGV4X2NhY2hlX2xlbmd0aCIsMCk7dGhpcy5iPVNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscy5sZW5ndGgodGhpcy5jLkMuTik7dGhpcy5EPWV8fG51bGx9cGQucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmI9dGhpcy5jPXRoaXMubT10aGlzLnc9bnVsbDt0aGlzLmc9ZnVuY3Rpb24oKXt9O3RoaXMuZj10aGlzLnU9bnVsbH07cGQucHJvdG90eXBlLmxlbmd0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmJ9O2Z1bmN0aW9uIHFkKGEsYil7Zm9yKHZhciBjPWEuZi5sZW5ndGgtMTstMTxjO2MtLSlpZihhLmZbY10uaW5kZXg9PT1iKXt2YXIgZD1hLmZbY107YS5mLnNwbGljZShjLDEpO2EuZi5wdXNoKGQpO3JldHVybiBkLnhkfXJldHVybiBudWxsfQpmdW5jdGlvbiByZChhLGIsYyl7dmFyIGQ9W107aWYoYS5vJiYxPT09Yy1iKXt2YXIgZT1xZChhLGIpO2lmKGUpcmV0dXJuW2VdfXZhciBmPS1hLmovYS5zK2EuVztTaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMuZ2V0U2VnbWVudHMoYixjLGEuYy5DLk4sZnVuY3Rpb24oYSxlLGssbCxtKXtpZihsKXt2YXIgcD1kW2QubGVuZ3RoLTFdO3AmJihwLnRpbWVzY2FsZWRHYXBJbmZvPW5ldyBoZChtL3RoaXMucyxsL3RoaXMucykscC5kZWJ1Z0luZm89e2VuZFRpbWU6cC50aW1lc2NhbGVkR2FwSW5mby5zZWdtZW50T3JpZ2luYWxFbmRUaW1lLGRlbHRhOnAudGltZXNjYWxlZEdhcEluZm8uZ2FwRGlzdGFuY2V9LGRbZC5sZW5ndGgtMV09amQocCxwLnN0YXJ0VGltZSxhL3RoaXMucytmKSl9az1tZCh0aGlzLnUsdGhpcy5tLGsrdGhpcy5jLmIsYSx2b2lkIDAsdGhpcy5EKTtpZighayl0aHJvdyBhPUVycm9yKCJGYWlsZWQgdG8gZ2VuZXJhdGUgbWVkaWEgVVJMLiIpLGEudHlwZT0iZGFzaCIsCmE7YT1uZXcgaWQoYS90aGlzLnMrZixlL3RoaXMucytmLGssYSxlLWEsbnVsbCk7ZT1iK2QubGVuZ3RoO2QucHVzaChhKTshdGhpcy5vfHwwIT09ZSYmZSE9PXRoaXMuYi0xJiYxIT09Yy1ifHxxZCh0aGlzLGUpfHwodGhpcy5mLmxlbmd0aCsxPnRoaXMubyYmdGhpcy5mLnNoaWZ0KCksdGhpcy5mLnB1c2goe2luZGV4OmUseGQ6YX0pKX0uYmluZChhKSk7cmV0dXJuIGR9CmZ1bmN0aW9uIHNkKGEsYil7dmFyIGM9Yi51bnNjYWxlZFN0YXJ0VGltZSxkPWIudW5zY2FsZWRFbmRUaW1lLGU9Yi5kZWx0YSxmPWIucHJldmlvdXNFbmRUaW1lO2lmKGUpdmFyIGc9bmV3IGhkKGYvYS5zLGUvYS5zKTtlPW1kKGEudSxhLm0sYi5zZWdtZW50UmVwbGFjZW1lbnQrYS5jLmIsYyx2b2lkIDAsYS5EKTtpZighZSl0aHJvdyBjPUVycm9yKCJGYWlsZWQgdG8gZ2VuZXJhdGUgbWVkaWEgVVJMLiIpLGMudHlwZT0iZGFzaCIsYztmPS1hLmovYS5zK2EuVztyZXR1cm4gbmV3IGlkKGMvYS5zK2YsZC9hLnMrZixlLGMsZC1jLGd8fG51bGwpfXBkLnByb3RvdHlwZS5nZXRTZWdtZW50cz1mdW5jdGlvbigpe3JldHVybiByZCh0aGlzLDAsdGhpcy5iKXx8W119OwpwZC5wcm90b3R5cGUuZmlyc3Q9ZnVuY3Rpb24oKXtpZighdGhpcy5iKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbmRleCBvdXQgb2YgcmFuZ2UuIik7aWYoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJvcHRpbWl6ZV9jb21tb25fc2VnbWVudF9nZW5lcmF0aW9ucyIsITEpKXtpZih0aGlzLmgpcmV0dXJuIHRoaXMuaDt2YXIgYT1TaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMuZmlyc3QodGhpcy5jLkMuTix0aGlzLmIpO3JldHVybiB0aGlzLmg9c2QodGhpcyxhKX1yZXR1cm4gcmQodGhpcywwLDEpWzBdfTsKcGQucHJvdG90eXBlLmxhc3Q9ZnVuY3Rpb24oKXtpZighdGhpcy5iKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbmRleCBvdXQgb2YgcmFuZ2UuIik7aWYoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJvcHRpbWl6ZV9jb21tb25fc2VnbWVudF9nZW5lcmF0aW9ucyIsITEpKXtpZih0aGlzLmkpcmV0dXJuIHRoaXMuaTt2YXIgYT1TaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMubGFzdCh0aGlzLmMuQy5OLHRoaXMuYik7cmV0dXJuIHRoaXMuaT1zZCh0aGlzLGEpfXJldHVybiByZCh0aGlzLHRoaXMuYi0xLHRoaXMuYilbMF19OwpwZC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGEpe2lmKCF0aGlzLmJ8fDA+YXx8YT49dGhpcy5iKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbmRleCBvdXQgb2YgcmFuZ2UuIik7cmV0dXJuIFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgib3B0aW1pemVfY29tbW9uX3NlZ21lbnRfZ2VuZXJhdGlvbnMiLCExKT8oYT1TaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMuZ2V0KHRoaXMuYy5DLk4sYSx0aGlzLmIpLHNkKHRoaXMsYSkpOnJkKHRoaXMsYSxhKzEpWzBdfTsKcGQucHJvdG90eXBlLmZpbmQ9ZnVuY3Rpb24oYSl7aWYoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJmaXhfY29tcG9zaXRlZF90aW1lX2luZGV4X2NhbGxzIiwhMSkpcmV0dXJuKGE9U2hha2FUaW1lbGluZVNlZ21lbnRJbmRleFV0aWxzLmZpbmQoYSx0aGlzLmMuQy5OLHRoaXMucywtdGhpcy5qL3RoaXMucyt0aGlzLlcpKT9zZCh0aGlzLGEpOm51bGw7YT10aGlzLmZpbmRJbmRleChhKTtyZXR1cm4gVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJvcHRpbWl6ZV9jb21tb25fc2VnbWVudF9nZW5lcmF0aW9ucyIsITEpPzA8PWE/dGhpcy5nZXQoYSk6bnVsbDowPD1hP3JkKHRoaXMsYSxhKzEpWzBdOm51bGx9O3BkLnByb3RvdHlwZS5maW5kSW5kZXg9ZnVuY3Rpb24oYSl7cmV0dXJuIFNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscy5maW5kSW5kZXgoYSx0aGlzLmMuQy5OLHRoaXMucywtdGhpcy5qL3RoaXMucyt0aGlzLlcpfTtuPXBkLnByb3RvdHlwZTsKbi5TYT1mdW5jdGlvbihhKXt2YXIgYj1hLmxlbmd0aCgpLGM9Yi10aGlzLmI7aWYoMCE9PWImJihiIT09dGhpcy5ifHwwIT09dGhpcy5iJiZhLmxhc3QoKS5lbmRUaW1lIT09dGhpcy5sYXN0KCkuZW5kVGltZSkmJiEoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJmaXhfaW50ZWdyYXRpb25fb25fZWFybGllcl9lbmR0aW1lIiwhMSkmJmEubGFzdCgpLmVuZFRpbWU8PXRoaXMubGFzdCgpLmVuZFRpbWUpKWlmKHRoaXMuQT0hMSxiPWEubGFzdCgpLG51bGwhPWIuZW5kVGltZSYmYi5lbmRUaW1lPHRoaXMubGFzdCgpLmVuZFRpbWUmJmIuZW5kVGltZTx0aGlzLmZpcnN0KCkuc3RhcnRUaW1lJiYodGhpcy5BPSEwKSxWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImludGVncmF0ZV9zZWdtZW50X3RpbWVsaW5lX3RpbWVfcG9pbnRzIiwhMSk/dGhpcy5jLkMuTj1TaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMuaW50ZWdyYXRlVGltZVBvaW50cyh0aGlzLmMuQy5OLAphLmMuQy5OKToodGhpcy53PWEudyx0aGlzLm09YS5tLHRoaXMuYz1hLmMsdGhpcy5qPXRoaXMuYy5MfHwwLHRoaXMucz10aGlzLmMuc3x8MCksdGhpcy5mPVtdLHRoaXMuaT10aGlzLmg9bnVsbCx0aGlzLmI9U2hha2FUaW1lbGluZVNlZ21lbnRJbmRleFV0aWxzLmxlbmd0aCh0aGlzLmMuQy5OKSx0aGlzLmZpcnN0KCksdGhpcy5sYXN0KCksVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJ0ZW1wbGF0ZWRfY2FsbF9vbl9zZWdtZW50c191cGRhdGVkX3dpdGhfZGVsdGFfc2VnbWVudHMiLCExKSl7dmFyIGQ9W10sYz10aGlzLmItYztmb3IoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJ0ZW1wbGF0ZWRfZHluYW1pY19pbmNsdWRlX3ByZXZpb3VzX2xhc3Rfc2VnbWVudF9pbl91cGRhdGVzIiwhMSkmJjA8YyYmYy0tO2M8dGhpcy5iOysrYylkLnB1c2godGhpcy5nZXQoYykpO3RoaXMuZyYmdGhpcy5nKGQpfWVsc2UgYz0hVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJub19wcm92aWRlX3NlZ21lbnRzX3RvX29uX3NlZ21lbnRzX3VwZGF0ZWRfbGlzdGVuZXJzIiwKITEpLHRoaXMuZyYmKGMmJihkPXRoaXMuZ2V0U2VnbWVudHMoKSksdGhpcy5nKGQpKX07bi5oYj1mdW5jdGlvbihhKXt2YXIgYj1hLXRoaXMuVztpZigwPT1iKXJldHVybiAwO3RoaXMuVz1hO3RoaXMuaT10aGlzLmg9bnVsbDt0aGlzLmY9W107cmV0dXJuIGJ9O24uaWI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iP3tzdGFydDp0aGlzLmZpcnN0KCkuc3RhcnRUaW1lLGVuZDp0aGlzLmxhc3QoKS5lbmRUaW1lfTp7c3RhcnQ6MCxlbmQ6MH19O24uZ2V0U2Vla1JhbmdlR2Fwcz1mdW5jdGlvbigpe3JldHVybiBTaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMuZ2V0U2Vla1JhbmdlR2Fwcyh0aGlzLmMuQy5OLHRoaXMucywtdGhpcy5qL3RoaXMucyt0aGlzLlcpfTtuLnJiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuQX07bi5HYz1mdW5jdGlvbihhKXt0aGlzLmc9YX07bi5GYz1mdW5jdGlvbigpe3RoaXMuZz1udWxsfTtuLklhPWZ1bmN0aW9uKCl7fTtmdW5jdGlvbiB0ZCgpe30KdGQucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9bnVsbDt0cnl7YTp7dmFyIGc9W10saD1uZXcgQmEoYSksaz12KGgpO2lmKDE5MzYyODY4NDAhPXYoaCkpZj1udWxsO2Vsc2V7MT09ayYmKGs9RmEoaCkpO3ZhciBsPUVhKGgpO0hhKGgsMyk7SGEoaCw0KTt2YXIgbT12KGgpO2lmKDA9PW0pZj1udWxsO2Vsc2V7dmFyIHAsdDswPT1sPyhwPXYoaCksdD12KGgpKToocD1GYShoKSx0PUZhKGgpKTtIYShoLDIpO3ZhciB3PWguYi5nZXRVaW50MTYoaC5hLGguYyk7aC5hKz0yO2E9cDtiPWIrayt0O2Zvcih0PWs9MDt0PHc7dCsrKXt2YXIgej12KGgpO3A9KHomMjE0NzQ4MzY0OCk+Pj4zMTt2YXIgbD16JjIxNDc0ODM2NDcsSD12KGgpO3YoaCk7aWYoMT09cCl7Zj1udWxsO2JyZWFrIGF9dmFyIGRhO2RhPTA9PXQmJmU/ZTpuZXcgSyhkLGMsYixiK2wtMSk7cD1hL207dmFyIGVhPShhK0gpL207MD09PXQmJihrPXApO2cucHVzaChuZXcgaWQocC1rLGVhLWssZGEsCmEsSCkpO2ErPUg7Yis9bH1nLnM9bTtmPWd9fX19Y2F0Y2goQWEpe2lmKCEoQWEgaW5zdGFuY2VvZiBSYW5nZUVycm9yKSl0aHJvdyBBYTt9cmV0dXJuIGZ9O2Z1bmN0aW9uIFIoYSl7dGhpcy5hPWE7dGhpcy5zPXRoaXMuYS5zO3RoaXMuSz10aGlzLmEuQjt0aGlzLmc9W119Ui5wcm90b3R5cGUuSj1mdW5jdGlvbigpe3JldHVybiEhdGhpcy5nW3RoaXMuZy5sZW5ndGgtMV19O1IucHJvdG90eXBlLmxhc3RQb2xsSGFkQ2hhbmdlcz1SLnByb3RvdHlwZS5KO1IucHJvdG90eXBlLkk9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmcsYj1hLmxhc3RJbmRleE9mKCEwKTtpZigxPmIpcmV0dXJuIDA7YT1hLmxhc3RJbmRleE9mKCEwLGItMSk7cmV0dXJuIDA+YT8wOmItYS0xfTtSLnByb3RvdHlwZS5nZXRGZXRjaGVzQmV0d2VlblJlY2VudENoYW5nZXM9Ui5wcm90b3R5cGUuSTtSLnByb3RvdHlwZS51PWZ1bmN0aW9uKCl7cmV0dXJuIE1hdGguZmxvb3IoKHRoaXMuZy5sZW5ndGgtMS10aGlzLmcubGFzdEluZGV4T2YoITApKS8yKX07Ui5wcm90b3R5cGUuZ2V0Q29uc2VjdXRpdmVVcGRhdGVzV2l0aG91dENoYW5nZXM9Ui5wcm90b3R5cGUudTsKUi5wcm90b3R5cGUuRz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmcubGVuZ3RoLTEtdGhpcy5nLmxhc3RJbmRleE9mKCExKX07Ui5wcm90b3R5cGUuZ2V0Q29uc2VjdXRpdmVVcGRhdGVzV2l0aENoYW5nZXM9Ui5wcm90b3R5cGUuRztSLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5hLmRlc3Ryb3koKTt0aGlzLmE9bnVsbH07Ui5wcm90b3R5cGUubGVuZ3RoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS5sZW5ndGgoKX07Ui5wcm90b3R5cGUuZ2V0U2VnbWVudHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLmdldFNlZ21lbnRzKCl9O1IucHJvdG90eXBlLmdldFNlZ21lbnRzPVIucHJvdG90eXBlLmdldFNlZ21lbnRzO1IucHJvdG90eXBlLmZpcnN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS5maXJzdCgpfTtSLnByb3RvdHlwZS5sYXN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS5sYXN0KCl9O1IucHJvdG90eXBlLmxhc3Q9Ui5wcm90b3R5cGUubGFzdDsKUi5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmEuZ2V0KGEpfTtSLnByb3RvdHlwZS5maW5kPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmEuZmluZChhKX07Ui5wcm90b3R5cGUuZmluZEluZGV4PWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmEuZmluZEluZGV4KGEpfTtSLnByb3RvdHlwZS5CPWZ1bmN0aW9uKGEpe3RoaXMuYS5TYShhLmEpO3JldHVybiEwfTtSLnByb3RvdHlwZS5UYT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5hLmhiKGEpfTtSLnByb3RvdHlwZS5BPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS5pYigpfTtSLnByb3RvdHlwZS5nZXRTZWVrUmFuZ2VHYXBzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS5nZXRTZWVrUmFuZ2VHYXBzKCl9O1IucHJvdG90eXBlLmdldFNlZWtSYW5nZUdhcHM9Ui5wcm90b3R5cGUuZ2V0U2Vla1JhbmdlR2FwcztSLnByb3RvdHlwZS5yYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmEucmIoKX07CmZ1bmN0aW9uIHVkKGEsYil7YS5hLkdjKGIpfTtmdW5jdGlvbiBTKGEsYixjLGQpe1IuY2FsbCh0aGlzLGEpO3RoaXMuaT1iO3RoaXMuRj1jO3RoaXMuaD1kO3RoaXMuZHVyYXRpb249dGhpcy5pLmJ8fHRoaXMuaS5hLnJlZHVjZShmdW5jdGlvbihhLGIpe3JldHVybiBudWxsPT1iLmR1cmF0aW9uP05hTjphK2IuZHVyYXRpb259LDApfHwwO3RoaXMuYj10aGlzLm89dGhpcy5mPW51bGw7eWQodGhpcyl9cihTLFIpO1MucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLkY9dGhpcy5pPW51bGw7Ui5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpfTtTLnByb3RvdHlwZS5maW5kPWZ1bmN0aW9uKGEpe3pkKHRoaXMseWEoKS8xRTMpO3JldHVybiBSLnByb3RvdHlwZS5maW5kLmNhbGwodGhpcyxhKX07ClMucHJvdG90eXBlLkI9ZnVuY3Rpb24oYSl7aWYoIShhIGluc3RhbmNlb2YgUykpcmV0dXJuITE7dGhpcy5hLlNhKGEuYSk7dGhpcy5kdXJhdGlvbj1NYXRoLm1heCh0aGlzLmR1cmF0aW9uLGEuZHVyYXRpb24pO251bGw9PXRoaXMuZj8odGhpcy5oPWEuaCx5ZCh0aGlzKSk6QWQodGhpcyk7cmV0dXJuITB9O2Z1bmN0aW9uIHlkKGEpe0FkKGEpO2lmKDAhPWEubGVuZ3RoKCkpe2EubGVuZ3RoKCk7dmFyIGI9bnVsbCE9YS5sYXN0KCkuZW5kVGltZT9hLmxhc3QoKS5lbmRUaW1lOmEubGFzdCgpLnN0YXJ0VGltZTtpZihhLmkuYz5hLmgpYS5mPWI7ZWxzZXt2YXIgYz1hLmgtKGEuaS5jK2EuRi5zdGFydCk7MD5jP2EuZj1iOmM8TWF0aC5tYXgoYS5sYXN0KCkuc3RhcnRUaW1lLGEubGFzdCgpLmVuZFRpbWV8fDApPyhhLmxhc3QoKSxhLmY9Yik6YS5mPWN9YS5vPWEubGFzdCgpLnN0YXJ0VGltZTthLmI9YS5maXJzdCgpLnN0YXJ0VGltZX19ClMucHJvdG90eXBlLlRhPWZ1bmN0aW9uKGEpe2E9Ui5wcm90b3R5cGUuVGEuY2FsbCh0aGlzLGEpO1ZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgibm9fY29ycmVjdF9kZWx0YV93YXJuaW5nIiwhMSl8fE1hdGgubWluLmFwcGx5KG51bGwsdGhpcy5nZXRTZWdtZW50cygpLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YS5lbmRUaW1lfSkubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLmVuZFRpbWUtYS5zdGFydFRpbWV9KSk7bnVsbCE9dGhpcy5mJiYodGhpcy5vKz1hLHRoaXMuYis9YSx0aGlzLmYrPWEpO3JldHVybiBhfTtTLnByb3RvdHlwZS5BPWZ1bmN0aW9uKCl7cmV0dXJuIEJkKHRoaXMseWEoKS8xRTMpfTsKZnVuY3Rpb24gQmQoYSxiKXt6ZChhLGIpO2lmKG51bGw9PWEuZnx8bnVsbD09YS5vfHxudWxsPT1hLmIpcmV0dXJue3N0YXJ0OjAsZW5kOjB9O3ZhciBjPU51bWJlci5QT1NJVElWRV9JTkZJTklUWTthLmR1cmF0aW9uJiYoYz1hLmR1cmF0aW9uKTt2YXIgZD1iLWEuaCxlPWEuZitkO251bGwhPWEuaS5mJiYoZT1lLWEuYi1hLmkuZiwwPGUmJihhLmIrPWUpKTthLmI9TWF0aC5taW4oYS5iLGMpO2Q9YS5vK2Q7aWYoZDxhLmIpcmV0dXJue3N0YXJ0OmEuYixlbmQ6YS5ifTtkPTA8YS5sZW5ndGgoKT9udWxsIT1hLmxhc3QoKS5lbmRUaW1lP01hdGgubWluKGQsYS5sYXN0KCkuZW5kVGltZSk6ZDphLmI7ZD1NYXRoLm1heChkLGEuYik7ZD1NYXRoLm1pbihkLGMpO3JldHVybntzdGFydDphLmIsZW5kOmR9fQpmdW5jdGlvbiB6ZChhLGIpe2lmKGEuYS5hJiYoQWQoYSksbnVsbCE9YS5pLmYpKWlmKG51bGw9PWEuZilhLmxlbmd0aCgpO2Vsc2V7Zm9yKHZhciBjPWEuZisoYi1hLmgpLGQ9MCxlPTA7ZTxhLmEuYS5sZW5ndGg7KytlKXt2YXIgZj1udWxsO2U8YS5hLmEubGVuZ3RoLTE/Zj1hLmEuYVtlKzFdLmVuZFRpbWU6KGY9YS5hLmFbZV0sZj1udWxsIT1mLmVuZFRpbWU/Zi5lbmRUaW1lKyhmLmVuZFRpbWUtZi5zdGFydFRpbWUpOm51bGwpO2lmKG51bGwhPWYmJmY8Yy1hLmkuZikrK2Q7ZWxzZSBicmVha30wPGQmJmEuYS5hLnNwbGljZSgwLGQpfX1mdW5jdGlvbiBBZChhKXtpZihhLmR1cmF0aW9uJiZhLmEuYSl7Zm9yKHZhciBiPTAsYz1hLmEuYS5sZW5ndGgtMTswPD1jOy0tYylpZihhLmEuYVtjXS5zdGFydFRpbWU+YS5kdXJhdGlvbikrK2I7ZWxzZSBicmVhazswPGImJmEuYS5hLnNwbGljZSgtYil9fTtmdW5jdGlvbiBUKGEsYixjKXt2YXIgZD1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigidGVtcGxhdGVkX3F1YXJhbnRpbmVfaWRsZV9yZWZlcmVuY2VzX3RocmVzaG9sZCIsMCk7dGhpcy5pPVtdO2lmKDA8ZCl7dmFyIGU9YTthPWUuc3BsaWNlKC1kKTt0aGlzLmk9ZX10aGlzLmE9YTt0aGlzLlc9MDt0aGlzLnM9Yjt0aGlzLmY9ITE7dGhpcy5oPWZ1bmN0aW9uKCl7fTt0aGlzLkI9Y3x8ITF9VC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuYT1udWxsfTtULnByb3RvdHlwZS5sZW5ndGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLmxlbmd0aH07VC5wcm90b3R5cGUuZ2V0U2VnbWVudHM9ZnVuY3Rpb24oKXtyZXR1cm4odGhpcy5hfHxbXSkuc2xpY2UoKX07VC5wcm90b3R5cGUuZ2V0U2VnbWVudHM9VC5wcm90b3R5cGUuZ2V0U2VnbWVudHM7ClQucHJvdG90eXBlLmZpcnN0PWZ1bmN0aW9uKCl7aWYoMD09dGhpcy5hLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiU2VnbWVudEluZGV4QmFzZTogVGhlcmUgaXMgbm8gZmlyc3QgU2VnbWVudFJlZmVyZW5jZS4iKTtyZXR1cm4gdGhpcy5hWzBdfTtULnByb3RvdHlwZS5sYXN0PWZ1bmN0aW9uKCl7aWYoMD09dGhpcy5hLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiU2VnbWVudEluZGV4QmFzZTogVGhlcmUgaXMgbm8gbGFzdCBTZWdtZW50UmVmZXJlbmNlLiIpO3JldHVybiB0aGlzLmFbdGhpcy5hLmxlbmd0aC0xXX07VC5wcm90b3R5cGUubGFzdD1ULnByb3RvdHlwZS5sYXN0O1QucHJvdG90eXBlLmdldD1mdW5jdGlvbihhKXtpZigwPmF8fGE+PXRoaXMuYS5sZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIlNlZ21lbnRJbmRleEJhc2U6IFRoZSBzcGVjaWZpZWQgaW5kZXggaXMgb3V0IG9mIHJhbmdlLiIpO3JldHVybiB0aGlzLmFbYV19OwpULnByb3RvdHlwZS5maW5kPWZ1bmN0aW9uKGEpe2E9dGhpcy5maW5kSW5kZXgoYSk7cmV0dXJuIDA8PWE/dGhpcy5hW2FdOm51bGx9O1QucHJvdG90eXBlLmZpbmRJbmRleD1mdW5jdGlvbihhKXtyZXR1cm4geWIodGhpcy5hLGEpfTsKVC5wcm90b3R5cGUuU2E9ZnVuY3Rpb24oYSl7dGhpcy5XIT1hLlcmJihhPW5ldyBUKGtkKGEuYSx0aGlzLlctYS5XKSxhLnMpKTtpZigwPT10aGlzLmxlbmd0aCgpKXRoaXMuYT1hLmEuc2xpY2UoMCksdGhpcy5JYSgpO2Vsc2UgaWYoMCE9YS5sZW5ndGgoKSYmbnVsbCE9dGhpcy5sYXN0KCkuZW5kVGltZSlpZihudWxsIT1hLmxhc3QoKS5lbmRUaW1lJiZhLmxhc3QoKS5lbmRUaW1lPHRoaXMubGFzdCgpLmVuZFRpbWUpVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJmaXhfbWFuaWZlc3Rfd3JhcHBlZCIsITApP2EubGFzdCgpLmVuZFRpbWU8dGhpcy5maXJzdCgpLnN0YXJ0VGltZSYmKHRoaXMuZj0hMCk6dGhpcy5mPSEwO2Vsc2V7dGhpcy5mPSExO2lmKHRoaXMubGFzdCgpLmVuZFRpbWU8PWEuZmlyc3QoKS5zdGFydFRpbWUpe3ZhciBiPWpkKHRoaXMubGFzdCgpLHRoaXMubGFzdCgpLnN0YXJ0VGltZSxhLmZpcnN0KCkuc3RhcnRUaW1lKSxjPXRoaXMubGFzdCgpLnVuc2NhbGVkU3RhcnRUaW1lKwp0aGlzLmxhc3QoKS51bnNjYWxlZER1cmF0aW9uO1ZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgiY2FsY3VsYXRlX21pc3NlZF9zZWdtZW50X2dhcF9pbmZvX29uX21lcmdlIiwhMSkmJmM8YS5maXJzdCgpLnVuc2NhbGVkU3RhcnRUaW1lJiZudWxsPT09dGhpcy5sYXN0KCkudGltZXNjYWxlZEdhcEluZm8mJihiLnRpbWVzY2FsZWRHYXBJbmZvPW5ldyBoZChjL3RoaXMucywoYS5maXJzdCgpLnVuc2NhbGVkU3RhcnRUaW1lLWMpL3RoaXMucykpO2lmKFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgidGVtcGxhdGVkX29wdGltaXplX21lcmdlX3RhcmdldF9hbGdvcyIsITEpKWZvcih0aGlzLmEucG9wKCksdGhpcy5hLnB1c2goYiksYz0wO2M8YS5hLmxlbmd0aDsrK2MpdGhpcy5hLnB1c2goYS5hW2NdKTtlbHNlIGI9dGhpcy5hLnNsaWNlKDAsLTEpLmNvbmNhdChbYl0pLHRoaXMuYT1iLmNvbmNhdChhLmEpfWVsc2V7Zm9yKGM9MDtjPHRoaXMuYS5sZW5ndGgmJgohKHRoaXMuYVtjXS5lbmRUaW1lPj1hLmZpcnN0KCkuc3RhcnRUaW1lKTsrK2MpO3RoaXMuYVtjXS5zdGFydFRpbWU8YS5maXJzdCgpLnN0YXJ0VGltZT8oYj1qZCh0aGlzLmFbY10sdGhpcy5hW2NdLnN0YXJ0VGltZSxhLmZpcnN0KCkuc3RhcnRUaW1lKSxiPXRoaXMuYS5zbGljZSgwLGMpLmNvbmNhdChbYl0pKToodGhpcy5maXJzdCgpLnN0YXJ0VGltZT5hLmZpcnN0KCkuc3RhcnRUaW1lfHxhLmZpcnN0KCksYj10aGlzLmEuc2xpY2UoMCxjKSk7dGhpcy5hPWIuY29uY2F0KGEuYSl9dGhpcy5oKGEuYSk7dGhpcy5JYSgpfX07VC5wcm90b3R5cGUuaGI9ZnVuY3Rpb24oYSl7dmFyIGI9YS10aGlzLlc7aWYoMD09YilyZXR1cm4gMDt0aGlzLmE9a2QodGhpcy5hLGIpO3RoaXMuSWEoKTt0aGlzLlc9YTtyZXR1cm4gYn07ClQucHJvdG90eXBlLmliPWZ1bmN0aW9uKCl7cmV0dXJuIDA8dGhpcy5sZW5ndGgoKT97c3RhcnQ6dGhpcy5maXJzdCgpLnN0YXJ0VGltZSxlbmQ6dGhpcy5sYXN0KCkuZW5kVGltZX06e3N0YXJ0OjAsZW5kOjB9fTtULnByb3RvdHlwZS5nZXRTZWVrUmFuZ2VHYXBzPWZ1bmN0aW9uKCl7cmV0dXJuIGdldFNlZWtSYW5nZUdhcHNGcm9tU2hha2FSZWZlcmVuY2VzKHRoaXMuYSx0aGlzLnMpfTtULnByb3RvdHlwZS5nZXRTZWVrUmFuZ2VHYXBzPVQucHJvdG90eXBlLmdldFNlZWtSYW5nZUdhcHM7VC5wcm90b3R5cGUucmI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mfTtULnByb3RvdHlwZS5HYz1mdW5jdGlvbihhKXt0aGlzLmg9YX07VC5wcm90b3R5cGUuRmM9ZnVuY3Rpb24oKXt0aGlzLmg9ZnVuY3Rpb24oKXt9fTtULnByb3RvdHlwZS5JYT1mdW5jdGlvbigpe307VC5wcm90b3R5cGUuZ2V0SWRsZVJlZmVyZW5jZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pfTtmdW5jdGlvbiBDZChhLGIsYyxkLGUpe3ZhciBmPTEsZz0wLGg7aWYoYS5jPmQpaD1udWxsO2Vsc2V7dmFyIGs9YS5vfHwwLGw9YS5mfHwwO2g9Yy5hO2g9aC5IL2guczt2YXIgbT1kLShhLmMrYi5zdGFydCk7MD5tP2g9bnVsbDoobD1tLTIqaC1sLDA+bCYmKGw9MCksbD1NYXRoLmNlaWwobC9oKSpoLG0tPWgsMD5tP2g9bnVsbDooaz1NYXRoLmZsb29yKG0vaCkqaC1rLDA+ayYmKGs9MCksaz1NYXRoLmZsb29yKGsvaCkqaCxoPXt0YzpsL2grMSxjdXJyZW50OihrPj1sP2s6bCkvaCsxfSkpfWgmJihmPWgudGMsZz1oLmN1cnJlbnQtaC50YysxKTtmPWxkKGUsYyxmLGcpO2lmKG51bGw9PWYpdGhyb3cgYT1FcnJvcigiRmFpbGVkIHRvIGdlbmVyYXRlIFNlZ21lbnRSZWZlcmVuY2VzLiIpLGEudHlwZT0ic3RyZWFtIixhO2Y9bmV3IFQoZixjLmEuc3x8MSk7Uy5jYWxsKHRoaXMsZixhLGIsZCk7dGhpcy53PWM7dGhpcy5tPXRoaXMuYz0wPHRoaXMubGVuZ3RoKCk/YS5jK2Iuc3RhcnQrdGhpcy5sYXN0KCkuZW5kVGltZToKbnVsbDt0aGlzLmo9aD9oLmN1cnJlbnQrMTpudWxsO3RoaXMuRD1lfXIoQ2QsUyk7Q2QucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLkQ9dGhpcy53PW51bGw7Uy5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpfTtDZC5wcm90b3R5cGUuZmluZD1mdW5jdGlvbihhKXt2YXIgYj15YSgpLzFFMztEZCh0aGlzLGIpO3pkKHRoaXMsYik7cmV0dXJuIFIucHJvdG90eXBlLmZpbmQuY2FsbCh0aGlzLGEpfTtDZC5wcm90b3R5cGUuQj1mdW5jdGlvbihhKXtpZihudWxsIT10aGlzLmN8fCEoYSBpbnN0YW5jZW9mIENkKXx8bnVsbD09YS5jKXJldHVybiExO3RoaXMuYz1hLmM7dGhpcy5tPWEubTt0aGlzLmo9YS5qO3RoaXMuaD1hLmg7dGhpcy5kdXJhdGlvbj1hLmR1cmF0aW9uO3RoaXMuYS5TYShhLmEpO0RkKHRoaXMseWEoKS8xRTMpO3lkKHRoaXMpO3JldHVybiEwfTsKQ2QucHJvdG90eXBlLlRhPWZ1bmN0aW9uKGEpe2E9Uy5wcm90b3R5cGUuVGEuY2FsbCh0aGlzLGEpO251bGwhPXRoaXMuYyYmKHRoaXMuYys9YSx0aGlzLm0rPWEpO3JldHVybiBhfTtDZC5wcm90b3R5cGUuQT1mdW5jdGlvbigpe3ZhciBhPXlhKCkvMUUzO0RkKHRoaXMsYSk7cmV0dXJuIEJkKHRoaXMsYSl9O2Z1bmN0aW9uIERkKGEsYil7aWYobnVsbCE9YS5jJiZudWxsIT1hLm0mJm51bGwhPWEuail7dmFyIGM9YS53LmEsYz1jLkgvYy5zLGQ9TWF0aC5mbG9vcigoYS5tKyhiLWEuaCktYS5jKS9jKTtpZigwIT1kKXt2YXIgZT1sZChhLkQsYS53LGEuaixkKTtBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShhLmEuYSxrZChlLGEuYS5XKSk7YS5hLklhKCk7YS5jKz1kKmM7YS5qKz1kfX19O2Z1bmN0aW9uIEVkKGEsYixjLGQsZSl7dGhpcy5nPWE7dGhpcy5mPWI7dGhpcy5iPWM7dGhpcy5pPWQ7dGhpcy5hPW51bGw7dGhpcy5oPWV9RWQucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmg9dGhpcy5iPXRoaXMuZj10aGlzLmc9bnVsbDt0aGlzLmEmJih0aGlzLmEuZGVzdHJveSgpLHRoaXMuYT1udWxsKX07CkVkLnByb3RvdHlwZS5jcmVhdGU9ZnVuY3Rpb24oKXtpZih0aGlzLmEpcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLmEpO2lmKCJkeW5hbWljIj09dGhpcy5nLnR5cGUpdHJ5e3RoaXMuYT1uZXcgQ2QodGhpcy5nLHRoaXMuZix0aGlzLmIsdGhpcy5pLHRoaXMuaCl9Y2F0Y2goYSl7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfWVsc2V7dmFyIGI7Yj10aGlzLmIuYTtpZihiPWxkKHRoaXMuaCx0aGlzLmIsMSxNYXRoLmNlaWwodGhpcy5mLmR1cmF0aW9uLyhiLkgvYi5zKSkpKXtpZigwPGIubGVuZ3RoKXt2YXIgYz1iW2IubGVuZ3RoLTFdO2JbYi5sZW5ndGgtMV09amQoYyxjLnN0YXJ0VGltZSx0aGlzLmYuZHVyYXRpb24pfWI9bmV3IFQoYix0aGlzLmIuYS5zfHwxKTtiPW5ldyBSKGIpfWVsc2UgYj1udWxsO3RoaXMuYT1iO2lmKCF0aGlzLmEpcmV0dXJuIGI9RXJyb3IoIkZhaWxlZCB0byBnZW5lcmF0ZSBTZWdtZW50UmVmZXJlbmNlcyIpLGIudHlwZT0ic3RyZWFtIixQcm9taXNlLnJlamVjdChiKX1yZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuYSl9OwpFZC5wcm90b3R5cGUuYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmF9O2Z1bmN0aW9uIEZkKGEsYixjLGQsZSxmKXt0aGlzLmY9YTt0aGlzLmI9Yjt0aGlzLmg9Yzt0aGlzLmE9bnVsbDt0aGlzLmk9ZDt0aGlzLmc9ZTt0aGlzLmo9Znx8bnVsbH1GZC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuZz10aGlzLmg9dGhpcy5iPXRoaXMuZj1udWxsO3RoaXMuYSYmKHRoaXMuYS5kZXN0cm95KCksdGhpcy5hPW51bGwpfTsKRmQucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbigpe2lmKHRoaXMuYSlyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuYSk7dmFyIGE9dGhpcy5oLmIsYj1bXTthLkMmJihiPW9kKGEuQyxhLnN8fDEsdGhpcy5iLmR1cmF0aW9ufHwwKSk7dmFyIGM9MDthLkgmJmEuYz9jPShhLmMtMSkqYS5IOjA8Yi5sZW5ndGgmJihjPWJbMF0uc3RhcnQtKGEuTHx8MCkpO3ZhciBkPWMsZT1hLmEubGVuZ3RoOzA8Yi5sZW5ndGgmJmIubGVuZ3RoIT1hLmEubGVuZ3RoJiYoZT1NYXRoLm1pbihiLmxlbmd0aCxhLmEubGVuZ3RoKSk7Zm9yKHZhciBmPVtdLGc9MDtnPGU7KytnKXt2YXIgaD1hLmFbZ10saz1jLGw9ay9hLnMsbT1jPW51bGwscDthLkg/KGM9aythLkgsbT1jL2Eucyk6MDxiLmxlbmd0aD8ocD1iW2ddLnRpbWVzY2FsZWRHYXBJbmZvLGM9YltnXS5lbmQtKGEuTHx8MCksbT1jL2Eucyk6KG09bCt0aGlzLmIuZHVyYXRpb24sYz1tKmEucyk7dmFyIHQ9MCx3PW51bGw7aC5hJiYodD1oLmEucWEsCnc9aC5hLmVuZCk7bT1NYXRoLm1pbih0aGlzLmIuZHVyYXRpb24rZC9hLnMsbSk7Zi5wdXNoKG5ldyBpZChsLG0sbmV3IEsodGhpcy5nLGguYix0LHcsdm9pZCAwLHRoaXMuaiksayxwfHxudWxsKSl9YT1uZXcgVChmLGEuc3x8MSk7ImR5bmFtaWMiPT10aGlzLmYudHlwZT90aGlzLmE9bmV3IFMoYSx0aGlzLmYsdGhpcy5iLHRoaXMuaSk6dGhpcy5hPW5ldyBSKGEpO3JldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5hKX07RmQucHJvdG90eXBlLmM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hfTtmdW5jdGlvbiBHZChhLGIsYyl7VC5jYWxsKHRoaXMsYSxjKTt0aGlzLmc9Yjt0aGlzLmI9ITE7dGhpcy5qPVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0U3RyaW5nKCJ0ZW1wbGF0ZWRfcGVyZl90ZXN0X21ldGhvZHNfdW5kZXJfdGVzdF9jc3Zfc3RyaW5nIiwiYWxsIikuc3BsaXQoIiwiKX1yKEdkLFQpO2Z1bmN0aW9uIEhkKGEsYil7aWYoISgtMTxhLmouaW5kZXhPZigiYWxsIil8fC0xPGEuai5pbmRleE9mKGIpKXx8YS5iKXJldHVybiBudWxsO3ZhciBjPWEuYTthLmE9YS5nO2EuYj0hMDtyZXR1cm4gY31mdW5jdGlvbiBJZChhLGIpe2EuYiYmKGEuZz1hLmEsYS5hPWIpfUdkLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7VC5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpO3RoaXMuZz1udWxsfTsKR2QucHJvdG90eXBlLmxlbmd0aD1mdW5jdGlvbigpe3ZhciBhPUhkKHRoaXMsImxlbmd0aCIpLGI9VC5wcm90b3R5cGUubGVuZ3RoLmNhbGwodGhpcyk7YSYmKElkKHRoaXMsYSksYj1ULnByb3RvdHlwZS5sZW5ndGguY2FsbCh0aGlzKSx0aGlzLmI9ITEpO3JldHVybiBifTtHZC5wcm90b3R5cGUuZ2V0U2VnbWVudHM9ZnVuY3Rpb24oKXt2YXIgYT1IZCh0aGlzLCJnZXRTZWdtZW50cyIpLGI9VC5wcm90b3R5cGUuZ2V0U2VnbWVudHMuY2FsbCh0aGlzKTthJiYoSWQodGhpcyxhKSxiPVQucHJvdG90eXBlLmdldFNlZ21lbnRzLmNhbGwodGhpcyksdGhpcy5iPSExKTtyZXR1cm4gYn07R2QucHJvdG90eXBlLmZpcnN0PWZ1bmN0aW9uKCl7dmFyIGE9SGQodGhpcywiZmlyc3QiKSxiPVQucHJvdG90eXBlLmZpcnN0LmNhbGwodGhpcyk7YSYmKElkKHRoaXMsYSksYj1ULnByb3RvdHlwZS5maXJzdC5jYWxsKHRoaXMpLHRoaXMuYj0hMSk7cmV0dXJuIGJ9OwpHZC5wcm90b3R5cGUubGFzdD1mdW5jdGlvbigpe3ZhciBhPUhkKHRoaXMsImxhc3QiKSxiPVQucHJvdG90eXBlLmxhc3QuY2FsbCh0aGlzKTthJiYoSWQodGhpcyxhKSxiPVQucHJvdG90eXBlLmxhc3QuY2FsbCh0aGlzKSx0aGlzLmI9ITEpO3JldHVybiBifTtHZC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGEpe3ZhciBiPUhkKHRoaXMsImdldCIpLGM7Yz1iP1QucHJvdG90eXBlLmdldC5jYWxsKHRoaXMsYSsodGhpcy5hLmxlbmd0aC1iLmxlbmd0aCkpOlQucHJvdG90eXBlLmdldC5jYWxsKHRoaXMsYSk7YiYmKElkKHRoaXMsYiksYz1ULnByb3RvdHlwZS5nZXQuY2FsbCh0aGlzLGEpLHRoaXMuYj0hMSk7cmV0dXJuIGN9O0dkLnByb3RvdHlwZS5maW5kPWZ1bmN0aW9uKGEpe3ZhciBiPUhkKHRoaXMsImZpbmQiKSxjPVQucHJvdG90eXBlLmZpbmQuY2FsbCh0aGlzLGEpO2ImJihJZCh0aGlzLGIpLGM9VC5wcm90b3R5cGUuZmluZC5jYWxsKHRoaXMsYSksdGhpcy5iPSExKTtyZXR1cm4gY307CkdkLnByb3RvdHlwZS5maW5kSW5kZXg9ZnVuY3Rpb24oYSl7dmFyIGI9SGQodGhpcywiZmluZEluZGV4IiksYz1ULnByb3RvdHlwZS5maW5kSW5kZXguY2FsbCh0aGlzLGEpO2ImJihJZCh0aGlzLGIpLGM9VC5wcm90b3R5cGUuZmluZEluZGV4LmNhbGwodGhpcyxhKSx0aGlzLmI9ITEpO3JldHVybiBjfTtuPUdkLnByb3RvdHlwZTtuLlNhPWZ1bmN0aW9uKGEpe3ZhciBiPUhkKHRoaXMsIm1lcmdlIiksYz1ULnByb3RvdHlwZS5TYS5jYWxsKHRoaXMsYSk7YiYmKElkKHRoaXMsYiksYz1ULnByb3RvdHlwZS5TYS5jYWxsKHRoaXMsYSksdGhpcy5iPSExKTtyZXR1cm4gY307bi5oYj1mdW5jdGlvbihhKXt2YXIgYj1IZCh0aGlzLCJjb3JyZWN0IiksYz1ULnByb3RvdHlwZS5oYi5jYWxsKHRoaXMsYSk7YiYmKElkKHRoaXMsYiksYz1ULnByb3RvdHlwZS5oYi5jYWxsKHRoaXMsYSksdGhpcy5iPSExKTtyZXR1cm4gY307Cm4uaWI9ZnVuY3Rpb24oKXt2YXIgYT1IZCh0aGlzLCJnZXRTZWVrUmFuZ2UiKSxiPVQucHJvdG90eXBlLmliLmNhbGwodGhpcyk7YSYmKElkKHRoaXMsYSksYj1ULnByb3RvdHlwZS5pYi5jYWxsKHRoaXMpLHRoaXMuYj0hMSk7cmV0dXJuIGJ9O24uZ2V0U2Vla1JhbmdlR2Fwcz1mdW5jdGlvbigpe3ZhciBhPUhkKHRoaXMsImdldFNlZWtSYW5nZUdhcHMiKSxiPVQucHJvdG90eXBlLmdldFNlZWtSYW5nZUdhcHMuY2FsbCh0aGlzKTthJiYoSWQodGhpcyxhKSxiPVQucHJvdG90eXBlLmdldFNlZWtSYW5nZUdhcHMuY2FsbCh0aGlzKSx0aGlzLmI9ITEpO3JldHVybiBifTtuLklhPWZ1bmN0aW9uKCl7dmFyIGE9SGQodGhpcywiYXNzZXJ0Q29ycmVjdFJlZmVyZW5jZXMiKTtULnByb3RvdHlwZS5JYS5jYWxsKHRoaXMpO2EmJihJZCh0aGlzLGEpLFQucHJvdG90eXBlLklhLmNhbGwodGhpcyksdGhpcy5iPSExKX07ZnVuY3Rpb24gSmQoYSxiLGMsZCxlLGYsZyxoKXt0aGlzLm09YTt0aGlzLmE9Yjt0aGlzLmc9Yzt0aGlzLmY9ZDt0aGlzLm89ZTt0aGlzLmI9bnVsbDt0aGlzLmk9Zjt0aGlzLmg9bnVsbDt0aGlzLmo9aHx8bnVsbH1KZC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuaT10aGlzLmY9dGhpcy5nPXRoaXMuYT1udWxsO3RoaXMuYiYmKHRoaXMuYi5kZXN0cm95KCksdGhpcy5iPW51bGwpfTsKSmQucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbigpe2lmKHRoaXMuYilyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuYik7dmFyIGE9VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJmYmxzX3VzZV90aW1lbGluZV9zZWdtZW50X2luZGV4IiwhMSk7aWYoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJ1c2VfdGltZWxpbmVfc2VnbWVudF9pbmRleCIsITEpJiYodGhpcy5hLkZCSXNMaXZlVGVtcGxhdGVkfHx0aGlzLmEuRkJXYXNMaXZlfHxhKSlhPW5ldyBwZCh0aGlzLmcsdGhpcy5mLHRoaXMuZi5hLHRoaXMuaSx0aGlzLmopO2Vsc2V7Zm9yKHZhciBhPXRoaXMuZi5hLGI9b2QoYS5DLGEuc3x8MSx0aGlzLmcuZHVyYXRpb258fDAsdGhpcy5tLmdldE51bWJlcigibnVtX3ByZWRpY3RpdmVfc2VnbWVudHMiLDApLHRoaXMuYS5GQklzTGl2ZVRlbXBsYXRlZHx8dGhpcy5hLkZCV2FzTGl2ZSx0aGlzLmgpLGM9W10sZD0wO2Q8Yi5sZW5ndGg7KytkKXt2YXIgZT0KYltkXS5zdGFydCxmPWJbZF0uZW5kLGc9YltkXS51ZHx8MCxoPWJbZF0udGltZXNjYWxlZEdhcEluZm8saz1lL2EucyxsPWYvYS5zLG09ZCthLmIscD1lLG09bWQodGhpcy5pLHRoaXMuZiwwPGc/ZzptLHAsMDxnPyEwOiExLHRoaXMuaik7aWYoIW0pcmV0dXJuIGE9RXJyb3IoIkZhaWxlZCB0byBnZW5lcmF0ZSBtZWRpYSBVUkwuIiksYS50eXBlPSJkYXNoIixQcm9taXNlLnJlamVjdChhKTt2YXIgdD0oYS5MfHwwKS9hLnM7Yy5wdXNoKG5ldyBpZChrLXQsbC10LG0scCxmLWUsaHx8bnVsbCwwPGcpKX1iPXRoaXMuYS5GQklzTGl2ZVRlbXBsYXRlZHx8dGhpcy5hLkZCV2FzTGl2ZTtWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigidGVtcGxhdGVkX3VzZV9wZXJmX3Rlc3Rfc2VnbWVudF9pbmRleF9iYXNlX2ludCIsMCkmJm51bGw9PXRoaXMuaCYmdGhpcy5hLkZCSXNMaXZlVGVtcGxhdGVkPyhiPWMsYz1iLnNsaWNlKC1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigidGVtcGxhdGVkX3VzZV9wZXJmX3Rlc3Rfc2VnbWVudF9pbmRleF9iYXNlX2ludCIsCjApKSxhPW5ldyBHZChjLGIsYS5zfHwxKSk6YT1uZXcgVChjLGEuc3x8MSxiKX10aGlzLmEubWFuaWZlc3RJc0xpdmVTdHJlYW1pbmc/dGhpcy5iPW5ldyBTKGEsdGhpcy5hLHRoaXMuZyx0aGlzLm8pOnRoaXMuYj1uZXcgUihhKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuYil9O0pkLnByb3RvdHlwZS5jPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYn07SmQucHJvdG90eXBlLkVjPWZ1bmN0aW9uKGEpe3RoaXMuaD1hfTtmdW5jdGlvbiBLZCgpe3RoaXMuWD1MZCsrO3RoaXMuaWQ9dGhpcy5hYT10aGlzLk09bnVsbDt0aGlzLmE9MDt0aGlzLmhlaWdodD10aGlzLndpZHRoPXRoaXMuYmFuZHdpZHRoPW51bGw7dGhpcy5jb2RlY3M9dGhpcy5taW1lVHlwZT0iIjt0aGlzLmY9dGhpcy5mYlF1YWxpdHlDbGFzcz10aGlzLmZiUXVhbGl0eUxhYmVsPW51bGw7dGhpcy5mcmFtZVJhdGU9IiI7dGhpcy5zd2l0Y2hSZWFzb249dGhpcy5oPXRoaXMuZz10aGlzLmM9bnVsbDt0aGlzLmI9W107dGhpcy5vYT0hMTt0aGlzLmZhPSEwfXZhciBMZD0wO0tkLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5NJiYodGhpcy5NLmRlc3Ryb3koKSx0aGlzLk09bnVsbCk7dGhpcy5hYSYmKHRoaXMuYWEuZGVzdHJveSgpLHRoaXMuYWE9bnVsbCl9O2Z1bmN0aW9uIE1kKGEpe3JldHVybiBhLm1pbWVUeXBlLnNwbGl0KCIvIilbMF19CmZ1bmN0aW9uIE5kKGEpe3ZhciBiPWEubWltZVR5cGV8fCIiO2EuY29kZWNzJiYoYis9JzsgY29kZWNzPSInK2EuY29kZWNzKyciJyk7cmV0dXJuIGJ9ZnVuY3Rpb24gT2QoKXt0aGlzLlg9UGQrKzt0aGlzLmlkPW51bGw7dGhpcy5jb250ZW50VHlwZT10aGlzLmxhbmc9IiI7dGhpcy5mPXRoaXMuYj0hMTt0aGlzLmM9bnVsbDt0aGlzLnY9W107dGhpcy5hPVtdfXZhciBQZD0wO09kLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7Zm9yKHZhciBhPTA7YTx0aGlzLnYubGVuZ3RoOysrYSl0aGlzLnZbYV0uZGVzdHJveSgpO3RoaXMuYT10aGlzLnY9bnVsbH07ZnVuY3Rpb24gUWQoYSl7Zm9yKHZhciBiPVtdLGM9MDtjPGEuYS5sZW5ndGg7KytjKXt2YXIgZD1uZXcgUmQ7ZC5pZD1hLlg7ZC5hPWEuYVtjXTtkLmNvbnRlbnRUeXBlPWEuY29udGVudFR5cGU7ZC5iPWEudi5sZW5ndGg/TmQoYS52WzBdKToiIjtiLnB1c2goZCl9cmV0dXJuIGJ9CmZ1bmN0aW9uIFNkKCl7dGhpcy5pZD1udWxsO3RoaXMuc3RhcnQ9MDt0aGlzLmR1cmF0aW9uPW51bGw7dGhpcy5hPVtdfVNkLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7Zm9yKHZhciBhPTA7YTx0aGlzLmEubGVuZ3RoOysrYSl0aGlzLmFbYV0uZGVzdHJveSgpO3RoaXMuYT1udWxsfTtmdW5jdGlvbiBUZCgpe3RoaXMuQT10aGlzLmY9dGhpcy5iPSExO3RoaXMubz10aGlzLm09dGhpcy5CPTA7dGhpcy5qPXRoaXMuaT10aGlzLmM9bnVsbDt0aGlzLmc9MDt0aGlzLmE9W107dGhpcy5oPSExO3RoaXMudz0ibm9uZSI7dGhpcy51PW51bGx9VGQucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXtmb3IodmFyIGE9MDthPHRoaXMuYS5sZW5ndGg7KythKXRoaXMuYVthXS5kZXN0cm95KCk7dGhpcy5hPW51bGx9O2Z1bmN0aW9uIFJkKCl7dGhpcy5pZD0wO3RoaXMuYT1udWxsO3RoaXMuYj10aGlzLmNvbnRlbnRUeXBlPSIifTtmdW5jdGlvbiBVKGEsYixjLGQsZSxmLGcsaCxrLGwsbSxwLHQsdyl7Ri5jYWxsKHRoaXMsYSk7dGhpcy5iPWI7dGhpcy5hPWM7dGhpcy5jPW5ldyBuYihjLGQsZSxmLHRoaXMsaCx3KTt0aGlzLlBhPWg7dGhpcy5vPXt9O3RoaXMucmE9Zjt0aGlzLnlhPTA7dGhpcy5tYT10aGlzLmY9dGhpcy5nPW51bGw7dGhpcy50YT0hMTt0aGlzLnc9dGhpcy5jYT1udWxsO3RoaXMuUz0hMTt0aGlzLmphPTA7dGhpcy5rYT0hMTt0aGlzLkQ9bnVsbDt0aGlzLlo9dGhpcy5lYT10aGlzLmg9ITE7dGhpcy5PPW5ldyBJO3RoaXMuRz10aGlzLlQ9dGhpcy5CPSExO3RoaXMuUj0wO3RoaXMuZ2E9MTU7dGhpcy5HYT10aGlzLnZhPXRoaXMuVT0hMTt0aGlzLm5hPTE7dGhpcy4kPWc7dGhpcy54YT0hMTt0aGlzLmw9bnVsbDt0aGlzLkhhPSExO3RoaXMuST10aGlzLko9dGhpcy5LPW51bGw7dGhpcy5WPSExO3RoaXMudT1tfHxudWxsO3RoaXMuRj1wfHxudWxsO3RoaXMuaj10fHxudWxsO3RoaXMuWT1udWxsO3RoaXMuYmE9CiExO3RoaXMuRGE9e307dGhpcy5GYT1rO3RoaXMuaT1udWxsO3RoaXMuaWE9ITE7dGhpcy5FYT0wO3RoaXMuQ2E9ZT9lLnNwbGl0KCI7IilbMF06IiI7dGhpcy5QPSExO3RoaXMud2E9MDt0aGlzLnNhPWw7dGhpcy5BPXRoaXMubT1udWxsfXIoVSxGKTtVLnByb3RvdHlwZS5CYT1mdW5jdGlvbigpe3JldHVybntTb3VyY2VCdWZmZXJNYW5hZ2VyOnRoaXMuY319O1UucHJvdG90eXBlLmdldERlYnVnPVUucHJvdG90eXBlLkJhO2Z1bmN0aW9uIFVkKGEsYil7cmV0dXJuIG5ldyBWaWRlb1BsYXllckJpdHJhdGVFc3RpbWF0b3IobmV3IHgoYS5hLmdldE51bWJlcigibGl2ZV9iaXRyYXRlX2VzdGltYXRlc19oYWxmX2xpZmUiLDIpKSxiLGEuYS5nZXROdW1iZXIoImxpdmVfYml0cmF0ZV9lc3RpbWF0ZXNfbWluaW11bV9zYW1wbGVfY291bnQiLDEpLGEuYS5nZXROdW1iZXIoImxpdmVfYml0cmF0ZV9lc3RpbWF0ZXNfbGFyZ2Vfc2FtcGxlX3dlaWdodF9mYWN0b3IiLDEwKSl9ClUucHJvdG90eXBlLnBhPWZ1bmN0aW9uKGEpe251bGwhPWEuaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemUmJih0aGlzLlI9TnVtYmVyKGEuaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemUpKTt2YXIgYj10aGlzLmEuZ2V0TnVtYmVyKCJpbml0aWFsX3N0cmVhbV9idWZmZXJfc2l6ZV9mb3JfdmlkZW9fc3RyZWFtIiwwKTswPGImJi0xIT09dGhpcy5DYS5pbmRleE9mKCJ2IikmJih0aGlzLlI9Yik7bnVsbCE9YS5keW5hbWljU3RyZWFtQnVmZmVyU2l6ZSYmKHRoaXMuamE9TnVtYmVyKGEuZHluYW1pY1N0cmVhbUJ1ZmZlclNpemUpKTtudWxsIT1hLnNtYXJ0QnVmZmVyQWRqdXN0bWVudFBhcmFtcyYmKHRoaXMuRGE9YS5zbWFydEJ1ZmZlckFkanVzdG1lbnRQYXJhbXMpO251bGwhPWEuc21hcnRCdWZmZXJBZGp1c3RtZW50RW5hYmxlZCYmKHRoaXMuYmE9Qm9vbGVhbihhLnNtYXJ0QnVmZmVyQWRqdXN0bWVudEVuYWJsZWQpKTtudWxsIT1hLnN0cmVhbUJ1ZmZlclNpemUmJih0aGlzLmdhPU51bWJlcihhLnN0cmVhbUJ1ZmZlclNpemUpKTsKbnVsbCE9YS5maXhCdWZmZXJpbmdHb2FsRGV0ZXJtaW5hdGlvbiYmKHRoaXMuVT1Cb29sZWFuKGEuZml4QnVmZmVyaW5nR29hbERldGVybWluYXRpb24pKTtudWxsIT1hLmFkZENkbkRlYnVnUXVlcnlQYXJhbWV0ZXJzJiYodGhpcy52YT1Cb29sZWFuKGEuYWRkQ2RuRGVidWdRdWVyeVBhcmFtZXRlcnMpKTtudWxsIT1hLnVzZUluaXRpYWxCdWZmZXJTaXplV2hlblBhdXNlZCYmKHRoaXMuR2E9Qm9vbGVhbihhLnVzZUluaXRpYWxCdWZmZXJTaXplV2hlblBhdXNlZCkpO251bGwhPWEuc2VnbWVudFJlcXVlc3RUaW1lb3V0JiYodGhpcy5jLlQ9TnVtYmVyKGEuc2VnbWVudFJlcXVlc3RUaW1lb3V0KSk7bnVsbCE9YS5yZXNvbHZlVmlkZW9UaW1lVXBkYXRlT25GcmFnbWVudGVkVGltZVJhbmdlcyYmKHRoaXMueGE9Qm9vbGVhbihhLnJlc29sdmVWaWRlb1RpbWVVcGRhdGVPbkZyYWdtZW50ZWRUaW1lUmFuZ2VzKSk7bnVsbCE9YS5wZXJmb3JtYW5jZUxvZ2dlciYmKHRoaXMubD10aGlzLm8ucGVyZm9ybWFuY2VMb2dnZXI9CmEucGVyZm9ybWFuY2VMb2dnZXIpO251bGwhPWEuYWJyTG9nZ2VyJiYodGhpcy5vLmFickxvZ2dlcj1hLmFickxvZ2dlcik7bnVsbCE9YS5yZWFwcGVuZEluaXRTZWdtZW50QWZ0ZXJBYm9ydCYmKHRoaXMuby5yZWFwcGVuZEluaXRTZWdtZW50QWZ0ZXJBYm9ydD1Cb29sZWFuKGEucmVhcHBlbmRJbml0U2VnbWVudEFmdGVyQWJvcnQpKTtudWxsIT1hLmxpdmVEYXRhRmV0Y2hNYXhSZXRyaWVzJiYodGhpcy5vLmxpdmVEYXRhRmV0Y2hNYXhSZXRyaWVzPU51bWJlcihhLmxpdmVEYXRhRmV0Y2hNYXhSZXRyaWVzKSk7bnVsbCE9YS5saXZlU291cmNlQnVmZmVyQ2xlYXJNYXhSZXRyaWVzJiYodGhpcy5vLmxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXM9TnVtYmVyKGEubGl2ZVNvdXJjZUJ1ZmZlckNsZWFyTWF4UmV0cmllcykpO251bGwhPWEuc2tpcEVtcHR5U2VnbWVudHMmJih0aGlzLm8uc2tpcEVtcHR5U2VnbWVudHM9Qm9vbGVhbihhLnNraXBFbXB0eVNlZ21lbnRzKSk7bnVsbCE9CmEucGxheWhlYWRGcmFnbWVudGVkR2FwRGlmZkFsbG93YW5jZSYmKHRoaXMuby5wbGF5aGVhZEZyYWdtZW50ZWRHYXBEaWZmQWxsb3dhbmNlPU51bWJlcihhLnBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2UpKTtudWxsIT1hLnVzZU1pY3JvVGFza1RpbWVvdXRzJiYodGhpcy5IYT1Cb29sZWFuKGEudXNlTWljcm9UYXNrVGltZW91dHMpKTthPXRoaXMuYztiPXRoaXMubztudWxsIT1iLnJlYXBwZW5kSW5pdFNlZ21lbnRBZnRlckFib3J0JiYoYS5SPUJvb2xlYW4oYi5yZWFwcGVuZEluaXRTZWdtZW50QWZ0ZXJBYm9ydCkpO251bGwhPWIucGVyZm9ybWFuY2VMb2dnZXImJihhLmw9Yi5wZXJmb3JtYW5jZUxvZ2dlcik7bnVsbCE9Yi5hYnJMb2dnZXImJihhLkk9Yi5hYnJMb2dnZXIpO251bGwhPWIubGl2ZURhdGFGZXRjaE1heFJldHJpZXMmJihhLk89Yi5saXZlRGF0YUZldGNoTWF4UmV0cmllcyk7bnVsbCE9Yi5saXZlU291cmNlQnVmZmVyQ2xlYXJNYXhSZXRyaWVzJiYoYS5LPQpiLmxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXMpO251bGwhPWIucGxheWhlYWRGcmFnbWVudGVkR2FwRGlmZkFsbG93YW5jZSYmKGEuUD1iLnBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2UpO251bGwhPWIuc2tpcEVtcHR5U2VnbWVudHMmJihhLlY9Yi5za2lwRW1wdHlTZWdtZW50cyl9O1UucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXtWZCh0aGlzKTt0aGlzLk8uZGVzdHJveSgpO3RoaXMucmE9dGhpcy5nPXRoaXMuTz1udWxsO3RoaXMuYy5kZXN0cm95KCk7dGhpcy5iPXRoaXMuYz1udWxsO3RoaXMuYS5nZXRCb29sKCJmaXhpbmdfc2NoZWR1bGVyX2Rpc2FibGVfbGVha3MiLCEwKSYmKHRoaXMudT1udWxsKTt0aGlzLkphPW51bGx9O249VS5wcm90b3R5cGU7bi5XYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmd9O24uRmI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mfTsKbi5LYz1mdW5jdGlvbihhKXt0aGlzLkJ8fGEudGhlbihmdW5jdGlvbigpe3RoaXMuQj0hMDt0aGlzLnd8fFYodGhpcywwKX0uYmluZCh0aGlzKSkuY2F0Y2goZnVuY3Rpb24oKXt9KTtyZXR1cm4gdGhpcy5PfTtuLkNiPWZ1bmN0aW9uKCl7dGhpcy5HPSEwO1dkKHRoaXMpfTtuLmZiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuR307Cm4uamI9ZnVuY3Rpb24oYSxiLGMsZCxlKXtpZihhIT10aGlzLmcpe3ZhciBmPTE7dGhpcy5hLmdldEJvb2woInVzZV9saXZlX2JpdHJhdGVfZXN0aW1hdGVzIiwhMSkmJm51bGwhPT10aGlzLm0mJjA8dGhpcy5nLmJhbmR3aWR0aCYmKGY9dGhpcy5tLmdldEVzdGltYXRlKCkvdGhpcy5nLmJhbmR3aWR0aCk7dmFyIGc9YS5hYTtnJiYodGhpcy5tYT1nLmNyZWF0ZSh0aGlzLmwsdGhpcy5QYSkpO3RoaXMuWj0hMDthLk0uY3JlYXRlKCkudGhlbihKKHRoaXMsZnVuY3Rpb24oZyl7aWYodGhpcy5iKXt0aGlzLlo9ITE7dmFyIGs9dGhpcy5nO3RoaXMuZz1hO3RoaXMuYS5nZXRCb29sKCJ1c2VfbGl2ZV9iaXRyYXRlX2VzdGltYXRlcyIsITEpJiYodGhpcy5tPVVkKHRoaXMsKGEuYmFuZHdpZHRofHwwKSpmKSk7dmFyIGw9dGhpcy5mO3RoaXMuZj1nO3RoaXMuYy5EPXRoaXMuZjtsJiZsLmEuRmMoKTt1ZCh0aGlzLmYsZnVuY3Rpb24oYSl7dmFyIGI9YTt0aGlzLmomJnRoaXMuai5zZXRTZWdtZW50cyh0aGlzLmYuZ2V0U2VnbWVudHMoKSk7CnRoaXMudSYmKGE9YSYmdGhpcy5hLmdldEJvb2woIm9wdGltaXplX3N0cmVhbV9nZXRfc2VnbWVudHNfY2FsbHMiLCExKT9hOnRoaXMuZi5nZXRTZWdtZW50cygpLHRoaXMuYS5nZXRCb29sKCJ0ZW1wbGF0ZWRfdXBkYXRlX3NybV9ieV9kZWx0YV9vZl9jaGFuZ2VkX3JlZmVyZW5jZXNfYm9vbCIsITEpJiZ0aGlzLmYuSyYmYi5sZW5ndGg8dGhpcy5mLmdldFNlZ21lbnRzKCkubGVuZ3RoJiYoYT10aGlzLmYuZ2V0U2VnbWVudHMoKS5zbGljZSgtKGIubGVuZ3RoKzEpKSksWGQodGhpcyx0aGlzLmcuaWR8fCIiLGEpKX0uYmluZCh0aGlzKSk7dGhpcy5qJiZ0aGlzLmouc2V0U2VnbWVudHModGhpcy5mLmdldFNlZ21lbnRzKCkpO2lmKHRoaXMudSl7dmFyIGw9W10sbT10aGlzLmEuZ2V0TnVtYmVyKCJ0ZW1wbGF0ZWRfY2h1bmtlZF9zZWdtZW50X3VwZGF0ZV9saW1pdF9pbnQiLDApO2lmKG0pe2c9dGhpcy5mLmxlbmd0aCgpO2Zvcih2YXIgbT1NYXRoLm1pbihnLG0pLHA9MTtwPD1tOysrcClsLnB1c2godGhpcy5mLmdldChnLQpwKSl9ZWxzZSBsPWcuZ2V0U2VnbWVudHMoKTtYZCh0aGlzLGEuaWR8fCIiLGwpfXRoaXMudGE9ITA7dGhpcy5jYT1kP2Q6bnVsbDt0aGlzLlN8fCh0aGlzLmEuZ2V0Qm9vbCgibWFrZV9lYXJseV90cmFja19zZWxlY3Rpb24iLCExKSYmdGhpcy5oJiYhdGhpcy5QJiYhdGhpcy53P1YodGhpcywwKTprP2I/WWQodGhpcywhMCxjKTplJiZZZCh0aGlzLCExKTpWKHRoaXMsMCkpfX0pKS5jYXRjaChKKHRoaXMsZnVuY3Rpb24oYSl7dGhpcy5aPSExOyJhYm9ydGVkIiE9YS50eXBlJiYodGhpcy5CPyhhPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGEpKTp0aGlzLk8ucmVqZWN0KGEpKX0pKX19O24uQ2M9ZnVuY3Rpb24oYSl7cmV0dXJuIFlkKHRoaXMsISFhKX07bi5IYz1mdW5jdGlvbigpe3RoaXMua2E9ITB9O24uSmM9ZnVuY3Rpb24oYSl7dGhpcy5FYT1hfTsKZnVuY3Rpb24gWGQoYSxiLGMpe2EuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9jaHVua2VkX3NlZ21lbnRfdXBkYXRlX2xpbWl0X2ludCIsMCkmJmEudS51cGRhdGVTZWdtZW50SW5kZXgoYixhLmYpO2EuYS5nZXRCb29sKCJ1c2VfdXBkYXRlX3NlZ21lbnRzX2J5X3NoYWthX3JlZmVyZW5jZSIsITApJiZhLnUudXBkYXRlU2VnbWVudHNCeVNoYWthUmVmZXJlbmNlcyhiLGMpfQpmdW5jdGlvbiBZZChhLGIsYyl7YS5nJiYhYS5TJiYoYS5TPSEwLFZkKGEpLGEuVD0hMSxudWxsIT09YS5BJiZhLkEucmVzZXQoKSxhLmMuYWJvcnQoKS50aGVuKEooYSxmdW5jdGlvbigpe3ZhciBhPXRoaXMuYi5jdXJyZW50VGltZTt0aGlzLmEuZ2V0Qm9vbCgic2V0X2N1cnJlbnRfdGltZV9pbl9yZXN5bmMiLCExKSYmMD09YT8odGhpcy5sJiZCYW56YWlPRFMuYnVtcEVudGl0eUtleSgyOTY2LCJ2aWRlb3Mud3d3LnNoYWthIiwic2V0X2N1cnJlbnRfdGltZV9pbl9yZXN5bmMiKSxhPXRoaXMuZi5maXJzdCgpLnN0YXJ0VGltZSk6dGhpcy5hLmdldEJvb2woImJldHRlcl9zZXRfY3VycmVudF90aW1lX2luX3Jlc3luYyIsITEpJiZhPHRoaXMuZi5maXJzdCgpLnN0YXJ0VGltZSYmKEJhbnphaU9EUy5idW1wRW50aXR5S2V5KDI5NjYsInZpZGVvcy53d3cuc2hha2EiLCJzZXRfY3VycmVudF90aW1lX2luX3Jlc3luYyIpLGE9dGhpcy5mLmZpcnN0KCkuc3RhcnRUaW1lK3RoaXMuYS5nZXROdW1iZXIoInJlc3luY19zZXRfY3VycmVudF90aW1lX2Z1ZGdlX2ZhY3RvciIsCjApKTtpZighYiYmMDxyYih0aGlzLmMsYSkmJjA8PUZiKHRoaXMuYyxhKSlyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7aWYoYylyZXR1cm4gQ2IodGhpcy5jLHRoaXMuYi5jdXJyZW50VGltZStjKTt0aGlzLmlhPSEwO3JldHVybiBCYih0aGlzLmMpfSkpLnRoZW4oSihhLGZ1bmN0aW9uKCl7dGhpcy5TPSExO1YodGhpcywwKX0pKS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7dGhpcy5TPSExOyJhYm9ydGVkIiE9YS50eXBlJiYodGhpcy5CPyhhPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGEpKTp0aGlzLk8ucmVqZWN0KGEpKX0pKSl9bi5JYz1mdW5jdGlvbihhKXtyZXR1cm4gMDxyYih0aGlzLmMsYSkmJjA8PUZiKHRoaXMuYyxhKX07bi52Yj1mdW5jdGlvbigpe307bi5EYj1mdW5jdGlvbigpe3JldHVybiEwfTsKZnVuY3Rpb24gWmQoYSl7YS5lYT1hLmVhfHwhYS5iLnBhdXNlZDthLmIucGF1c2VkfHxhLmJhfHwoYS5ZPURhdGUubm93KCksYS5iYT0hMCk7dmFyIGI9YS5EYSxjPW51bGw7aWYoYi5pbkV4cGVyaW1lbnQpaWYoYi51c2VTbWFydEJ1ZmZlcmluZyl7aWYoYS5iYSYmYS5ZKXt2YXIgYz0oRGF0ZS5ub3coKS1hLlkpLzFFMyxkPW51bGw7MT5jP2M9bnVsbDooZD0zPmM/Yi5idWZmZXJTaXplXzAwX3RvXzAzOjEwPmM/Yi5idWZmZXJTaXplXzAzX3RvXzEwOjMwPmM/Yi5idWZmZXJTaXplXzEwX3RvXzMwOjYwPmM/Yi5idWZmZXJTaXplXzMwX3RvXzYwOmIuYnVmZmVyU2l6ZV9hYm92ZV82MCxjPU1hdGgubWluKGQsYS5iLmR1cmF0aW9uKSl9fWVsc2UgYS5ZJiYoYz1iLm5vblNtYXJ0QnVmZmVyU2l6ZSk7Y3x8KGM9YS5HYSYmYS5iLnBhdXNlZD9hLlI6YS5nYSxhLmIucGF1c2VkJiYxPGEubmEmJihjKj1hLm5hKSxhLmphJiYhYS5iLnBhdXNlZCYmKGM9TWF0aC5tYXgoTWF0aC5taW4oYS5mLmxhc3QoKS5lbmRUaW1lLQphLmIuY3VycmVudFRpbWUsYS5qYSksYS5nYSkpKTtjPShhLlU/YS5oJiZhLmVhOmEuaCk/TWF0aC5tYXgoYS5SLGMpOmEuUjswPGEuYS5nZXROdW1iZXIoImF1ZGlvX3ZpZGVvX2J1ZmZlcl9kaWZmX3RocmVzaG9sZCIsMTQ0MDApJiYoYj1hLmIuYnVmZmVyZWQubGVuZ3RoP2EuYi5idWZmZXJlZC5lbmQoYS5iLmJ1ZmZlcmVkLmxlbmd0aC0xKTowLGI9TWF0aC5tYXgoMCxiLWEuYi5jdXJyZW50VGltZSksYz1NYXRoLm1pbihjLGIrYS5hLmdldE51bWJlcigiYXVkaW9fdmlkZW9fYnVmZmVyX2RpZmZfdGhyZXNob2xkIiwxNDQwMCkpKTtyZXR1cm4gY30KZnVuY3Rpb24gJGQoYSl7dmFyIGI9YS5hLmdldE51bWJlcigic3RhcnRfc3RyZWFtX2J1ZmZlcl9zaXplIiwxKSxjPWEuYS5nZXROdW1iZXIoImxvd19zdGFydF9zdHJlYW1fYnVmZmVyX3NpemUiLDEpO2lmKGIhPT1jKXt2YXIgZD1hLmEuZ2V0TnVtYmVyKCJsb3dfYmFuZHdpZHRoX3N0YXJ0X3N0cmVhbV9idWZmZXJfc2l6ZV90aHJlc2hvbGQiLDApLGU9YS5hLmdldE51bWJlcigic2NoZWR1bGVkX3ZpZGVvc19zdGFydF9zdHJlYW1fYnVmZmVyX3NpemVfdGhyZXNob2xkIiwwKTtpZigwPGQmJmEucmEuZ2V0QmFuZHdpZHRoKCk8ZCYmVmlkZW9TdHJlYW1pbmdUYXNrUXVldWVQcm92aWRlci5nZXRRdWV1ZVNpemUoInZpZGVvIik+PWUpcmV0dXJuIGN9cmV0dXJuIGJ9ZnVuY3Rpb24gYWUoYSxiKXtyZXR1cm4gcmIoYS5jLGEuaD9iOmIrKGEuRHx8MCkpfQpmdW5jdGlvbiBiZShhKXtpZihhLmgmJiFhLkJ8fGEuYS5nZXRCb29sKCJtYWtlX2Vhcmx5X3RyYWNrX3NlbGVjdGlvbiIsITEpJiZhLlp8fGEuYS5nZXRCb29sKCJwcmV2ZW50X2ZldGNoX3doaWxlX2ZldGNoaW5nX2luX3N0cmVhbSIsITEpJiZhLlApcmV0dXJuIGEudz1udWxsLFByb21pc2UucmVzb2x2ZSgpO3ZhciBiO2lmKGI9YS5CJiYhYS5HKWI9MTxhLmMuYS5idWZmZXJlZC5sZW5ndGg/ITA6ITE7aWYoYiYmKGEua2F8fEhiKGEuYyxhLmIpKSlyZXR1cm4gYS54YSYmKGEuYi5jdXJyZW50VGltZT1HYihhLmIpKSxudWxsPT09YS5LJiYoYS5rYT0hMSxZZChhLCEwKSksUHJvbWlzZS5yZXNvbHZlKCk7YS5hLmdldE51bWJlcigiZGVjb3VwbGVfc3RyZWFtX29uX3VwZGF0ZV9sb29wX2Zyb21fcmVxdWVzdF9sb29wX2ludCIsMCl8fChhLnc9bnVsbCk7Yj1hLmc7dmFyIGM9YS5mLGQ9YS5iLmN1cnJlbnRUaW1lO2EuYS5nZXRCb29sKCJ1c2VfcGVuZGluZ19zZWVrX3Bvc2l0aW9uX2Zvcl9yZWZlcmVuY2UiLAohMSkmJjA9PT1hLmIucmVhZHlTdGF0ZSYmIWQmJmEuSiYmKGQ9YS5KKTtpZihhLlUmJiFhLmgmJmFlKGEsZCk+PSRkKGEpKXJldHVybiBhLmEuZ2V0Qm9vbCgiZml4X2Nocm9tZV9tc2VfcmVncmVzc2lvbiIsITEpJiYxPT09YS5iLnJlYWR5U3RhdGUmJjA8YS5iLmJ1ZmZlcmVkLmxlbmd0aCYmKGEuYi5jdXJyZW50VGltZT1hLmIuY3VycmVudFRpbWUpLGNlKGEpLFYoYSwwKSxQcm9taXNlLnJlc29sdmUoKTt2YXIgZT1udWxsLGY9W107bnVsbCE9PWEuSyYmKGQ9YS5LKTtpZihhZShhLGQpPj1aZChhKSlpZihhLlQ9ITAsbnVsbCE9PWEuSSYmYS5JLnJlc29sdmUoKSxhLlV8fGNlKGEpLGY9ZGUoYSk/amUoYSxkKTpbXSwwPGYubGVuZ3RoKWU9ZlswXTtlbHNlIHJldHVybiBWKGEsMUUzLyg1KihNYXRoLmFicyhhLmIucGxheWJhY2tSYXRlKXx8MSkpKSxQcm9taXNlLnJlc29sdmUoKTtlbHNle3ZhciBnPTE7YS5qJiYoZz1hLmouZ2V0TnVtYmVyT2ZTZWdtZW50cygpKTt2YXIgaD1xYihhLmMpOwphLlYmJihoPW51bGwsbnVsbCE9PWEuSyYmKGEuVj0hMSkpO2EuYS5nZXRCb29sKCJmaW5kX2xhc3RfaW5zZXJ0ZWRfc2VnbWVudF9pbl9zZWdtZW50X2luZGV4IiwhMSkmJmgmJiFjLmEuYSYmKGg9Yy5maW5kKGguc3RhcnRUaW1lKSk7YS5hLmdldEJvb2woInNldF9wZW5kaW5nX3NlZWtfb25fc2V0X2N1cnJlbnRfdGltZV9mYWlsdXJlIiwhMSkmJm51bGwhPWEuSiYmKGQ9YS5KLGEuSj1udWxsKTtnPWtlKGEsZCxjLGcsaCk7ZT1nWzBdO2EuaiYmKGEuai5zZXRGdXR1cmVTZWdtZW50cyhnKSxhLmouc2V0QnVmZmVyaW5nR29hbChaZChhKS1hZShhLGQpKSk7IWUmJmRlKGEpJiYoZj1qZShhLGQpLDA8Zi5sZW5ndGgmJihlPWZbMF0pKX1pZighZSlyZXR1cm4gY2UoYSksYS5CJiYhYS5HJiYoYS5HPSEwLFdkKGEpKSxWKGEsMjAwKSxQcm9taXNlLnJlc29sdmUoKTthLmEuZ2V0Qm9vbCgiY3JlYXRlX293bl9zZWdtZW50X3JlZmVyZW5jZV9mb3Jfc2JtIiwhMSkmJihlPWpkKGUsZS5zdGFydFRpbWUsCmUuZW5kVGltZSkpO2xlKGEsbWUoYSxkLGYpLGIuaWR8fCIiKTtuZShhLG1lKGEsZCxmKSk7YS5hLmdldEJvb2woInJlZnJlc2hfc2VnbWVudF9yZWZlcmVuY2VfZmFpbG92ZXJfdXJpIiwhMCkmJihlLnVybD1lLnVybC5jbG9uZSgpKTthLlA9ITA7YS53YT1EYXRlLm5vdygpOyJ2aWRlbyI9PT1iLm1pbWVUeXBlLnNwbGl0KCIvIilbMF0mJmEucmEuc2V0UmVwcmVzZW50YXRpb25JRChiLmlkKTtjPWEuYy5mZXRjaChlLGMucyxiLmErYS5FYSxhLm1hLGEudmEmJiFhLmIucGF1c2VkLDA8Zi5sZW5ndGgsYS51LGEuRik7Yz1jLnRoZW4oSihhLGZ1bmN0aW9uKGEpe3RoaXMuYS5nZXRCb29sKCJ1cGRhdGVzX3ByaW9yaXR5X29uX2ZldGNoX2NvbXBsZXRlIiwhMSkmJm5lKHRoaXMsbWUodGhpcyxkLFtdKSk7dGhpcy5zYS5pbmZvcm1OZXR3b3JrUmVzdW1lZCgpO3JldHVybiBhfSkpO2EuJCYmInZpZGVvIj09PWIubWltZVR5cGUuc3BsaXQoIi8iKVswXSYmYS4kLmFkZChlLnN0YXJ0VGltZXx8CjAsZS5lbmRUaW1lfHwwLHtpZDpiLmlkLHJlYXNvbjphLmNhLHBlcmZvcm1hbmNlTG9nZ2VyOmEubD9hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJzdHJlYW1fc3dpdGNoIik6bnVsbH0pO2EubWE9bnVsbDthLnRhJiYoYS50YT0hMSxmPWEuY2EsYS5jYT1udWxsLG9lKGEsYixmLGEubGEoKSkpO2EuRz0hMTtyZXR1cm4gYy50aGVuKEooYSxmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5hLmdldEJvb2woImNsZWFyX29sZF9idWZmZXIiLCExKT9FYih0aGlzLmMsdGhpcy5iLmN1cnJlbnRUaW1lKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGF9KTphfSkpLnRoZW4oSihhLGZ1bmN0aW9uKGEpe3ZhciBiPWEuVyxjPWEuV2M7dGhpcy5ofHwodGhpcy55YT1jKTt0aGlzLmEuZ2V0Qm9vbCgidXNlX2xpdmVfYml0cmF0ZV9lc3RpbWF0ZXMiLCExKSYmbnVsbCE9YSYmMDxhLkRjJiYwPGEuSCYmKG51bGw9PT10aGlzLm0mJih0aGlzLm09VWQodGhpcyx0aGlzLmcuYmFuZHdpZHRofHwwKSksdGhpcy5tLnNhbXBsZSg4KgphLkRjLGEuSCkpO2E9dGhpcy5hLmdldE51bWJlcigiYnVmZmVyX3ZlbG9jaXR5X3RpbWVfaW5fcGFzdF90b19jb25zaWRlciIsMCk7MDxhJiZudWxsIT09dGhpcy5nJiYidmlkZW8iPT09TWQodGhpcy5nKSYmKG51bGw9PT10aGlzLkEmJih0aGlzLkE9bmV3IEJ1ZmZlclZlbG9jaXR5KGEpKSx0aGlzLkEucmVjb3JkQnVmZmVyQWhlYWQocmIodGhpcy5jLHRoaXMuYi5jdXJyZW50VGltZSkpKTt0aGlzLlA9ITE7InZpZGVvIj09PSh0aGlzLmc/dGhpcy5nLm1pbWVUeXBlLnNwbGl0KCIvIilbMF06bnVsbCkmJnRoaXMuZGlzcGF0Y2hFdmVudCh5KHt0eXBlOiJmZXRjaF9lbmQiLGJ1YmJsZXM6ITAsZGV0YWlsOntzdHJlYW1fZmV0Y2hfdGltZV9tczpEYXRlLm5vdygpLXRoaXMud2Esc2VnbWVudF9sZW5ndGhfbXM6MUUzKihlLmVuZFRpbWUtZS5zdGFydFRpbWUpfX0pKTtudWxsPT10aGlzLkQmJih0aGlzLkQ9Yik7dGhpcy5pYSYmMDxyYih0aGlzLmMsZCkmJih0aGlzLmlhPSExLHRoaXMuYS5nZXRCb29sKCJkaXNhYmxlX251ZGdlIiwKITEpfHwoYj15KHt0eXBlOiJzaG91bGRfbnVkZ2UifSksdGhpcy5kaXNwYXRjaEV2ZW50KGIpKSk7Vih0aGlzLDApfSkpLmNhdGNoKEooYSxmdW5jdGlvbihhKXt0aGlzLlA9ITE7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfSkpfWZ1bmN0aW9uIG1lKGEsYixjKXt2YXIgZD1hLmg/YjpiKyhhLkR8fDApO3JldHVybnthZGRpdGlvbmFsU2VnbWVudHNSZXF1aXJlZDpjLHBsYXloZWFkOmIsYnVmZmVyU3RhcnQ6ZCxidWZmZXJFbmQ6YWUoYSxiKStkLGJ1ZmZlcmluZ0dvYWw6WmQoYSksaXNQbGF5aW5nOiFhLmIucGF1c2VkfX1mdW5jdGlvbiBsZShhLGIsYyl7YS51JiZhLnUudXBkYXRlUGxheWVyU3RhdGUoYyxiKX1mdW5jdGlvbiBuZShhLGIpe2EuRiYmYS5GLnVwZGF0ZVBsYXllclN0YXRlKGIpfQpmdW5jdGlvbiBwZShhLGIsYyl7dmFyIGQ9bnVsbCE9PWEuaSYmLTE8YS5pJiZhLmk8Yy5sZW5ndGgoKS0xP2MuZ2V0KGEuaSk6bnVsbCxlPW51bGw7aWYobnVsbD09PWEuaXx8IWR8fGQuc3RhcnRUaW1lPmIpcmV0dXJuIGU9Yy5maW5kSW5kZXgoYiksYS5pPWU7Zm9yKGQ9YS5pO2Q8PWEuaSsxO2QrKylpZihlPWMuZ2V0KGQpLGUuc3RhcnRUaW1lPD1iJiZlLmVuZFRpbWU+YilyZXR1cm4gYS5pPWQ7ZT1jLmZpbmRJbmRleChiKTtyZXR1cm4oYS5pPWUpfHwtMX1mdW5jdGlvbiBkZShhKXtyZXR1cm4gYS5hLmdldEJvb2woInJlcGxhY2VfbG93ZXJfcXVhbGl0eV9idWZmZXIiLCExKSYmbnVsbD09PWEuRiYmYS5lYSYmbnVsbCE9PWEuJCYmInZpZGVvIj09PU1kKGEuZykmJm51bGwhPT1hLmZ9CmZ1bmN0aW9uIGplKGEsYil7aWYoIWEuRmF8fCFhLmcuaWR8fCFhLmYpcmV0dXJuW107dmFyIGM9cGUoYSxiLGEuZik7cmV0dXJuLTE9PT1jP1tdOkJ1ZmZlclJlcGxhY2VtZW50SGVscGVyLmdldFNlZ21lbnRzVG9SZXBsYWNlTG93ZXJRdWFsaXR5KGEuZi5nZXRTZWdtZW50cygpLGIsYyxhLmcuaWQsYS5GYSxhLiQse3RocmVzaG9sZEJlZm9yZTphLmEuZ2V0TnVtYmVyKCJidWZmZXJfcmVwbGFjZW1lbnRfYmVoaW5kX3RocmVzaG9sZCIsNSksdGhyZXNob2xkQWZ0ZXI6YS5hLmdldE51bWJlcigiYnVmZmVyX3JlcGxhY2VtZW50X2FoZWFkX3RocmVzaG9sZCIsMTUpLHdyYXBSZXBsYWNlbWVudFBhc3RFbmQ6YS5hLmdldEJvb2woIndyYXBfcmVwbGFjZW1lbnRfcGFzdF9lbmQiLCExKX0pfQpuLnpjPWZ1bmN0aW9uKCl7dmFyIGE7aWYodGhpcy5sKXt2YXIgYj10aGlzLmEuZ2V0TnVtYmVyKCJzdHJlYW1fb251cGRhdGVfc2FtcGxpbmciLDApO2ImJjA9PT1NYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqYikmJihhPXRoaXMubC5nZXRPcGVyYXRpb25Mb2dnZXIoInN0cmVhbV9vbnVwZGF0ZSIpLnN0YXJ0KCkpfXZhciBjO3RoaXMuYS5nZXROdW1iZXIoImRlY291cGxlX3N0cmVhbV9vbl91cGRhdGVfbG9vcF9mcm9tX3JlcXVlc3RfbG9vcF9pbnQiLDApJiZWKHRoaXMsdGhpcy5hLmdldE51bWJlcigiZGVjb3VwbGVfc3RyZWFtX29uX3VwZGF0ZV9sb29wX2Zyb21fcmVxdWVzdF9sb29wX2ludCIsMCkpO2lmKHRoaXMuYS5nZXRCb29sKCJjYXRjaF9zdHJlYW1fdXBkYXRlX3N5bmNfY29kZV9lcnJvciIsITEpKXRyeXtjPWJlKHRoaXMpfWNhdGNoKGQpe2QudHlwZT0idW5jYXVnaHQiLGEmJmEuc2V0RXJyb3IoZCksYz1Qcm9taXNlLnJlamVjdChkKX1lbHNlIGM9YmUodGhpcyk7Yy5jYXRjaChKKHRoaXMsCmZ1bmN0aW9uKGEpe2lmKCJhYm9ydGVkIiE9YS50eXBlKXtpZigic291cmNlYnVmZmVyX2Z1bGwiPT09YS50eXBlKXJldHVybiBCYih0aGlzLmMpLnRoZW4oSih0aGlzLGZ1bmN0aW9uKCl7Vih0aGlzLDApfSkpO3ZhciBiPVswLDQwNCw0MTAsNTAyLDUwMyw1MDRdO3RoaXMuYS5nZXRCb29sKCJlbmFibGVfZG91YmxlX2luZ2VzdCIsITEpJiZiLnB1c2goNDE3LDIwMCk7Yj0tMT09PWIuaW5kZXhPZihhLnN0YXR1cyk7aWYoIm5ldCI9PT1hLnR5cGUmJiFiJiZ0aGlzLmcpaWYodGhpcy5hLmdldEJvb2woImFsbG93X2luZmluaXRlX3JldHJ5X29uX25ldF9lcnIiLCEwKSlzd2l0Y2goYS5zdGF0dXMpe2Nhc2UgNDA0OlYodGhpcywyRTMpO2JyZWFrO2Nhc2UgNDEwOnRoaXMuYS5nZXRCb29sKCJlbmRfYWxsX3N0cmVhbXNfb25fNDEwIiwhMSk/cWUodGhpcyk6dGhpcy5DYigpO2JyZWFrO2Nhc2UgNDE3OmNhc2UgMjAwOmEucmVzcG9uc2VIZWFkZXJzJiZudWxsIT1hLnJlc3BvbnNlSGVhZGVyc1sieC1mYi12aWRlby1yZXBsaWNhIl0/CnRoaXMuZGlzcGF0Y2hFdmVudCh5KHt0eXBlOiJyZXBsaWNhc3dpdGNoIixidWJibGVzOiEwLHJlcGxpY2E6YS5yZXNwb25zZUhlYWRlcnNbIngtZmItdmlkZW8tcmVwbGljYSJdLHVybDphLnVybCxzdGF0dXM6YS5zdGF0dXN9KSk6Yj0hMDticmVhaztkZWZhdWx0OlYodGhpcywxRTMpfWVsc2UgVih0aGlzLDFFMyksYj0hMDswPT09YS5zdGF0dXM/dGhpcy5zYS5pbmZvcm1OZXR3b3JrSW50ZXJydXB0ZWQoKTp0aGlzLnNhLmluZm9ybU5ldHdvcmtSZXN1bWVkKCk7aWYoIXRoaXMuYS5nZXRCb29sKCJhbGxvd19pbmZpbml0ZV9yZXRyeV9vbl9uZXRfZXJyIiwhMCl8fGIpYj1BKGEpLHRoaXMuZGlzcGF0Y2hFdmVudChiKSx0aGlzLmwmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgYj10aGlzLmwuZ2V0RXZlbnRMb2dnZXIoInN0cmVhbV9lcnJvcl9mYWxsYmFjayIpLnNldEVycm9yKGEpLnNldFR5cGUodGhpcy5DYS5zcGxpdCgiLyIpWzBdKTt0aGlzLmI/Yi5zZXRSZXN1bHQoImZhaWxlZCIpOgpiLnNldFJlc3VsdCgic3VjY2VzcyIpO2IubG9nKCl9LmJpbmQodGhpcyksMCl9fSkpO2EmJmEubG9nKCl9O2Z1bmN0aW9uIGtlKGEsYixjLGQsZSl7dmFyIGY9LTE7aWYoYS5hLmdldEJvb2woInRlbXBsYXRlZF9mYXN0ZXJfc3RyZWFtX2dldF9uZXh0X24iLCExKSYmMT09PWQmJm51bGwhPWUmJm51bGwhPWUuZW5kVGltZSlyZXR1cm4oYz1jLmZpbmQoZS5lbmRUaW1lKSk/W2NdOltdO251bGwhPWU/Zj1udWxsIT1lLmVuZFRpbWU/Yy5maW5kSW5kZXgoZS5lbmRUaW1lKTotMTooZj1wZShhLGIsYyksMD5mJiYoZj1jLmxlbmd0aCgpP2MubGVuZ3RoKCktMTotMSkpO2E9W107aWYoMDw9Zilmb3IoYj1mO2I8ZitkJiZiPGMubGVuZ3RoKCk7YisrKWEucHVzaChjLmdldChiKSk7cmV0dXJuIGF9CmZ1bmN0aW9uIGNlKGEpe2lmKCFhLmgmJm51bGwhPWEuRCl7YS5oPSEwO3ZhciBiPWEuYyxjPWEuRCxkPWMtYi5VOzAhPWQmJihiLmI9a2QoYi5iLGQpLGIuVT1jKTthLk8ucmVzb2x2ZShhLkQpfX1uLkVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaH07VS5wcm90b3R5cGUuaGFzU3RhcnRlZD1VLnByb3RvdHlwZS5FZDtVLnByb3RvdHlwZS5rYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLlR9O1UucHJvdG90eXBlLmhhc0hpdEJ1ZmZlcmluZ0dvYWw9VS5wcm90b3R5cGUua2I7VS5wcm90b3R5cGUubGE9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09PXRoaXMubT9udWxsOnRoaXMubS5nZXRFc3RpbWF0ZSgpfTtVLnByb3RvdHlwZS5nZXRCaXRyYXRlRXN0aW1hdGU9VS5wcm90b3R5cGUubGE7VS5wcm90b3R5cGUucWI9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09PXRoaXMuQT9udWxsOnRoaXMuQS5nZXRWZWxvY2l0eSgpfTtVLnByb3RvdHlwZS5nZXRCdWZmZXJWZWxvY2l0eT1VLnByb3RvdHlwZS5xYjsKZnVuY3Rpb24gb2UoYSxiLGMsZCl7dmFyIGU9Yi5taW1lVHlwZS5zcGxpdCgiLyIpWzBdO2I9eSh7dHlwZToiYWRhcHRhdGlvbiIsaWQ6Yi5pZCxidWJibGVzOiEwLGNvbnRlbnRUeXBlOmUsc2l6ZToidmlkZW8iIT1lP251bGw6e3dpZHRoOmIud2lkdGgsaGVpZ2h0OmIuaGVpZ2h0fSxiYW5kd2lkdGg6ZHx8Yi5iYW5kd2lkdGgscmVhc29uOmN9KTthLmRpc3BhdGNoRXZlbnQoYil9ZnVuY3Rpb24gcWUoYSl7dmFyIGI9eSh7dHlwZToic2hvdWxkX2VuZF9hbGxfc3RyZWFtcyJ9KTthLmRpc3BhdGNoRXZlbnQoYil9ZnVuY3Rpb24gV2QoYSl7dmFyIGI9eSh7dHlwZToiZW5kZWQifSk7YS5kaXNwYXRjaEV2ZW50KGIpfVUucHJvdG90eXBlLk9hPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuRn07VS5wcm90b3R5cGUuZ2V0VmlkZW9TdHJlYW1pbmdNYW5hZ2VyPVUucHJvdG90eXBlLk9hOwpmdW5jdGlvbiBWKGEsYil7VmQoYSk7IWImJmEuSGE/UHJvbWlzZS5yZXNvbHZlKCkudGhlbihhLnpjLmJpbmQoYSkpOmEudz1zZXRUaW1lb3V0KGEuemMuYmluZChhKSxiKX1mdW5jdGlvbiBWZChhKXtudWxsIT1hLncmJihjbGVhclRpbWVvdXQoYS53KSxhLnc9bnVsbCl9VS5wcm90b3R5cGUuc2I9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy55YX07VS5wcm90b3R5cGUuZ2I9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jLml9O1UucHJvdG90eXBlLmdldFN0cmVhbVByb2dyZXNzVHJhY2tlcj1VLnByb3RvdHlwZS5nYjtmdW5jdGlvbiByZShhLGIpe2EuSz1iO2EuVj0hMDthLkl8fChhLkk9bmV3IEkpO3JldHVybiBhLkl9O2Z1bmN0aW9uIHNlKGEpe3RoaXMuYj1hO3RoaXMuYT1udWxsfXNlLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5hJiYodGhpcy5hLmRlc3Ryb3koKSx0aGlzLmE9bnVsbCl9O3NlLnByb3RvdHlwZS5jcmVhdGU9ZnVuY3Rpb24oKXtpZih0aGlzLmEpcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLmEpO3ZhciBhPW5ldyBpZCgwLG51bGwsdGhpcy5iLDAsMCksYT1uZXcgVChbYV0sMSk7dGhpcy5hPW5ldyBSKGEpO3JldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5hKX07c2UucHJvdG90eXBlLmM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hfTtmdW5jdGlvbiB0ZShhLGIpe0YuY2FsbCh0aGlzLGEpO3RoaXMuYj1iO3RoaXMuaj0hMDt0aGlzLm09dGhpcy5nPW51bGw7dGhpcy5mPW5ldyBJO3RoaXMuYT1udWxsfXIodGUsRik7dGUucHJvdG90eXBlLnBhPWZ1bmN0aW9uKCl7fTt0ZS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuYSYmdGhpcy5iLnJlbW92ZUNoaWxkKHRoaXMuYSk7dGhpcy5mLmRlc3Ryb3koKTt0aGlzLkphPXRoaXMuYj10aGlzLmc9dGhpcy5tPXRoaXMuYT10aGlzLmY9bnVsbH07bj10ZS5wcm90b3R5cGU7bi5XYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmd9O24uRmI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tfTtuLktjPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZn07bi5mYj1mdW5jdGlvbigpe3JldHVybiEwfTtuLkNiPWZ1bmN0aW9uKCl7fTsKbi5qYj1mdW5jdGlvbihhKXthLk0uY3JlYXRlKCkudGhlbihKKHRoaXMsZnVuY3Rpb24oYil7aWYodGhpcy5iKXtpZigwPT1iLmxlbmd0aCgpKXJldHVybiBQcm9taXNlLnJlamVjdChFcnJvcigiTm8gc3VidGl0bGVzIFVSTCBhdmFpbGFibGUuIikpO3ZhciBjPXRoaXMuZzt0aGlzLmc9YTt0aGlzLm09YjtiPWIuZmlyc3QoKS51cmwuY1swXS50b1N0cmluZygpO3ZhciBkPXRoaXMuRGIoKTt0aGlzLmEmJih0aGlzLnZiKCExKSx0aGlzLmIucmVtb3ZlQ2hpbGQodGhpcy5hKSk7dGhpcy5hPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRyYWNrIik7dGhpcy5iLmFwcGVuZENoaWxkKHRoaXMuYSk7dGhpcy5hLnNyYz1iO3RoaXMudmIoZCk7Yj15KHt0eXBlOiJhZGFwdGF0aW9uIixidWJibGVzOiEwLGNvbnRlbnRUeXBlOiJ0ZXh0IixzaXplOm51bGwsYmFuZHdpZHRoOmEuYmFuZHdpZHRofSk7dGhpcy5kaXNwYXRjaEV2ZW50KGIpO2N8fHRoaXMuZi5yZXNvbHZlKDApfX0pKX07bi5DYz1mdW5jdGlvbigpe307Cm4uSGM9ZnVuY3Rpb24oKXt9O24uSWM9ZnVuY3Rpb24oKXtyZXR1cm4hMH07bi52Yj1mdW5jdGlvbihhKXt0aGlzLmo9YTt0aGlzLmEmJih0aGlzLmEudHJhY2subW9kZT1hPyJzaG93aW5nIjoiZGlzYWJsZWQiKX07bi5EYj1mdW5jdGlvbigpe3RoaXMuYSYmKHRoaXMuaj0ic2hvd2luZyI9PXRoaXMuYS50cmFjay5tb2RlKTtyZXR1cm4gdGhpcy5qfTtuLnNiPWZ1bmN0aW9uKCl7cmV0dXJuIDB9O24uSmM9ZnVuY3Rpb24oKXt9O2Z1bmN0aW9uIHVlKCl7fQp1ZS5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9bnVsbDt0cnl7dmFyIGY7dmFyIGc9bmV3IElhKGIpO2lmKDQ0MDc4Njg1MSE9S2EoZykuaWQpZj1udWxsO2Vsc2V7dmFyIGg9S2EoZyk7aWYoNDA4MTI1NTQzIT1oLmlkKWY9bnVsbDtlbHNle3ZhciBrPWguYS5ieXRlT2Zmc2V0LGw7dmFyIG09bmV3IElhKGguYSk7Zm9yKGI9bnVsbDtEYShtLmEpOyl7dmFyIHA9S2EobSk7aWYoMzU3MTQ5MDMwPT1wLmlkKXtiPXA7YnJlYWt9fWlmKGIpe2Zvcih2YXIgdD1uZXcgSWEoYi5hKSxwPTFFNixtPW51bGw7RGEodC5hKTspe3ZhciB3PUthKHQpO2lmKDI4MDc3Mjk9PXcuaWQpcD1PYSh3KTtlbHNlIGlmKDE3NTQ1PT13LmlkKWlmKGI9dyw0PT1iLmEuYnl0ZUxlbmd0aCltPWIuYS5nZXRGbG9hdDMyKDApO2Vsc2UgaWYoOD09Yi5hLmJ5dGVMZW5ndGgpbT1iLmEuZ2V0RmxvYXQ2NCgwKTtlbHNlIHRocm93IG5ldyBSYW5nZUVycm9yKCJFYm1sRWxlbWVudDogZmxvYXRpbmcgcG9pbnQgbnVtYmVycyBtdXN0IGJlIDQgb3IgOCBieXRlcy4iKTt9bnVsbD09Cm0/bD1udWxsOih0PXAvMUU5LGw9e0diOnQsZHVyYXRpb246bSp0fSl9ZWxzZSBsPW51bGw7Zj1sP3tBZDprLEdiOmwuR2IsZHVyYXRpb246bC5kdXJhdGlvbn06bnVsbH19aWYoZil7dmFyIHo9S2EobmV3IElhKGEpKTtpZig0NzUyNDk1MTUhPXouaWQpZT1udWxsO2Vsc2V7dmFyIEg9Zi5BZCxkYT1mLkdiLGVhPWYuZHVyYXRpb247YT1bXTtmb3IodmFyIEFhPW5ldyBJYSh6LmEpLGs9Zj16PS0xO0RhKEFhLmEpOyl7dmFyIGNiPUthKEFhKTtpZigxODc9PWNiLmlkKXt2YXIgbmE7dmFyIHZkPW5ldyBJYShjYi5hKSx3ZD1LYSh2ZCk7aWYoMTc5IT13ZC5pZCluYT1udWxsO2Vsc2V7dmFyIFllPU9hKHdkKSx4ZD1LYSh2ZCk7aWYoMTgzIT14ZC5pZCluYT1udWxsO2Vsc2V7dmFyIGVlPW5ldyBJYSh4ZC5hKTtmb3IobD0wO0RhKGVlLmEpOyl7dmFyIGZlPUthKGVlKTtpZigyNDE9PWZlLmlkKXtsPU9hKGZlKTticmVha319bmE9e3piOlllLHlkOmx9fX1pZihuYSl7dmFyIGdlPWRhKm5hLnpiLApoZT1IK25hLnlkO2lmKDA8PXope3ZhciBOYz1uZXcgSyhkLGMsayxoZS0xKSxBZj1uYS56Yi1mO2EucHVzaChuZXcgaWQoeixnZSxOYyxuYS56YixBZikpfXo9Z2U7Zj1uYS56YjtrPWhlfX19MDw9eiYmKE5jPW5ldyBLKGQsYyxrLG51bGwpLGEucHVzaChuZXcgaWQoeixlYSxOYyxmLGVhL2RhLWYpKSk7ZT1hfX1lbHNlIGU9bnVsbH1jYXRjaChpZSl7aWYoIShpZSBpbnN0YW5jZW9mIFJhbmdlRXJyb3IpKXRocm93IGllO31yZXR1cm4gZX07ZnVuY3Rpb24gdmUoYSxiLGMsZCxlLGYsZyxoLGssbCxtKXt0aGlzLmg9YTt0aGlzLm89Yjt0aGlzLmI9Yzt0aGlzLm09bHx8bnVsbDt0aGlzLmo9bXx8bnVsbDt0aGlzLmE9ZDt0aGlzLmc9ZTt0aGlzLmY9Zjt0aGlzLnc9Zzt0aGlzLlJhPW51bGw7dGhpcy5pPWg7dGhpcy5sPWt8fG51bGw7dGhpcy51PW51bGx9dmUucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmk9dGhpcy5vPXRoaXMuaD1udWxsO3RoaXMuYS5LYSgpO3RoaXMuYT1udWxsO3RoaXMuZiYmKHRoaXMuZi5LYSgpLHRoaXMuZj1udWxsKTt0aGlzLmcmJih0aGlzLmcuS2EoKSx0aGlzLmc9bnVsbCk7dGhpcy5SYT1udWxsfTt2ZS5wcm90b3R5cGUuUWM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5SYX07dmUucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbigpe3JldHVybiB3ZSh0aGlzKX07dmUucHJvdG90eXBlLnBiPWZ1bmN0aW9uKCl7cmV0dXJuIHdlKHRoaXMpfTsKZnVuY3Rpb24gd2UoYSl7aWYoYS5SYSlyZXR1cm4gYS5SYTt2YXIgYj1udWxsO2EubCYmKGI9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigiY3JlYXRlX2NvbnRhaW5lcl9zZWdtZW50X2luZGV4X3NvdXJjZSIpLnN0YXJ0KCkpO2lmKG51bGwhPT1hLm0mJihudWxsIT09YS5qfHwid2VibSIhPT1hLmIpKXJldHVybiB4ZShhLGEubSxhLmosYik7dmFyIGM9W2EuYS5mZXRjaChudWxsLG51bGwsYS5sLGIpXTsid2VibSI9PWEuYiYmYy5wdXNoKGEuZy5mZXRjaChudWxsLG51bGwsYS5sLGIpKTthLlJhPVByb21pc2UuYWxsKGMpLnRoZW4oSihhLGZ1bmN0aW9uKGEpe3JldHVybiB4ZSh0aGlzLGFbMF0sYVsxXXx8bnVsbCxiKX0pKTtyZXR1cm4gYS5SYX0KZnVuY3Rpb24geGUoYSxiLGMsZCl7dmFyIGU9bnVsbDsibXA0Ij09YS5iPyhlPW5ldyB0ZCxlPWUucGFyc2UobmV3IERhdGFWaWV3KGIpLGEuYS5zdGFydEJ5dGUsYS5hLmMsYS5pLGEuZikpOiJ3ZWJtIj09YS5iJiYoZT1uZXcgdWUsZT1lLnBhcnNlKG5ldyBEYXRhVmlldyhiKSxuZXcgRGF0YVZpZXcoYyksYS5hLmMsYS5pKSk7aWYoIWUpcmV0dXJuIGE9RXJyb3IoIkZhaWxlZCB0byBwYXJzZSBTZWdtZW50UmVmZXJlbmNlcyBmcm9tICIrYS5hLnRvU3RyaW5nKCkrIiAob3Igb25lIG9mIGl0cyBmYWxsYmFja3MpLiIpLGEudHlwZT0ic3RyZWFtIixQcm9taXNlLnJlamVjdChhKTtiPW5ldyBUKGUsZS5zKTt2YXIgZjsiZHluYW1pYyI9PWEuaC50eXBlP2Y9bmV3IFMoYixhLmgsYS5vLGEudyk6Zj1uZXcgUihiKTtkJiZkLmxvZygpO2EudT1mO3JldHVybiBQcm9taXNlLnJlc29sdmUoZil9dmUucHJvdG90eXBlLmM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51fTtmdW5jdGlvbiB5ZShhLGIsYyxkKXt0aGlzLmM9YTt0aGlzLmI9Yjt0aGlzLmw9Y3x8bnVsbDt0aGlzLmE9ZHx8bnVsbH0KZnVuY3Rpb24gemUoYSxiLGMpe2Zvcih2YXIgZD15YSgpLzFFMyxlPTA7ZTxiLmEubGVuZ3RoOysrZSlmb3IodmFyIGY9Yi5hW2VdLGc9MDtnPGYuYS5sZW5ndGg7KytnKXt2YXIgaD1mLmFbZ107aWYoInRleHQiIT1oLmNvbnRlbnRUeXBlKWZvcih2YXIgaz0wO2s8aC5hLmxlbmd0aDsrK2spe3ZhciBsPWguYVtrXSxtPTAsbT1tKyhsLmY/MTowKSxtPW0rKGwuYj8xOjApLG09bSsobC5hPzE6MCk7MD09bT8oaC5hLnNwbGljZShrLDEpLC0tayk6MSE9bSYmKGwuZj8obC5iPW51bGwsbC5hPW51bGwpOmwuYiYmKGwuYT1udWxsKSl9fUFlKGIpO2ZvcihlPTA7ZTxiLmEubGVuZ3RoOysrZSlmb3IoZj1iLmFbZV0sZz0wO2c8Zi5hLmxlbmd0aDsrK2cpe2s9aD1mLmFbZ107bD1udWxsO2ZvcihtPTA7bTxrLmEubGVuZ3RoOysrbSl7dmFyIHA9ay5hW21dLm1pbWVUeXBlfHwiIjtsP3AhPWwmJihrLmEuc3BsaWNlKG0sMSksLS1tKTpsPXB9MD09aC5hLmxlbmd0aCYmKGYuYS5zcGxpY2UoZywxKSwKLS1nKX1iLm1hbmlmZXN0SXNMaXZlU3RyZWFtaW5nJiZudWxsPT1iLmMmJihiLmM9ZCk7ZT1uZXcgVGQ7ImR5bmFtaWMiPT1iLnR5cGUmJihlLmI9ITAsZS5jPWIuZyxlLmk9bmV3IEsoYyxiLnV8fGIudXJsLHZvaWQgMCx2b2lkIDAsdm9pZCAwLGEuYSksZS5qPWIuYyk7ZS5CPWIuaHx8MDtlLm09Yi5pfHwwO2Uubz1iLmp8fDA7ZS5nPWIubXx8NTtmb3IoZj0wO2Y8Yi5hLmxlbmd0aDsrK2Ype2c9Yi5hW2ZdO2lmKG51bGw9PWcuc3RhcnQpYnJlYWs7Zz1CZShhLGIsZyxkLGMpO2UuYS5wdXNoKGcpfWUuZj1iLkZCSXNMaXZlVGVtcGxhdGVkO2EubCYmYS5sLnNldElzVGVtcGxhdGVkTWFuaWZlc3QoYi5GQklzTGl2ZVRlbXBsYXRlZCk7ZS5BPWIuRkJXYXNMaXZlO2E9bnVsbDtjPSJub25lIjtmb3IoZj0wO2Y8Yi5hLmxlbmd0aDtmKyspZm9yKGc9Yi5hW2ZdLGQ9MDtkPGcuYS5sZW5ndGg7ZCsrKWZvcihoPWcuYVtkXSxrPTA7azxoLmEubGVuZ3RoO2srKylsPWguYVtrXS5pLG51bGwhPQpsJiZudWxsIT1sLnZhbHVlJiYoYT1jPWwudmFsdWUsInVybjptcGVnOmRhc2g6MjMwMDM6MzphdWRpb19jaGFubmVsX2NvbmZpZ3VyYXRpb246MjAxMSI9PT1sLmEmJigiMSI9PT1hP2M9Im1vbm8iOiIyIj09PWEmJihjPSJzdGVyZW8iKSkpO2Uudz1jO2E9cGFyc2VJbnQoYSwxMCk7ZS51PTA8YT9hOm51bGw7cmV0dXJuIGV9CmZ1bmN0aW9uIEFlKGEpe2lmKGEuYS5sZW5ndGgpe251bGw9PWEuYVswXS5zdGFydCYmKGEuYVswXS5zdGFydD0wKTt2YXIgYj1mdW5jdGlvbihhKXtyZXR1cm4gMD09YXx8ISFhfTthLm1hbmlmZXN0SXNMaXZlU3RyZWFtaW5nJiYoYS5iPW51bGwpO2IoYS5iKSYmMT09YS5hLmxlbmd0aCYmIWIoYS5hWzBdLmR1cmF0aW9uKSYmKGEuYVswXS5kdXJhdGlvbj1hLmIpO2Zvcih2YXIgYz0wLGQ9ITAsZT0wO2U8YS5hLmxlbmd0aDsrK2Upe3ZhciBmPWEuYVtlLTFdLGc9YS5hW2VdLGg9YS5hW2UrMV18fHtzdGFydDphLmJ9OyFiKGcuc3RhcnQpJiZmJiZiKGYuc3RhcnQpJiZiKGYuZHVyYXRpb24pJiYoZy5zdGFydD1mLnN0YXJ0K2YuZHVyYXRpb24pOyFiKGcuZHVyYXRpb24pJiZiKGguc3RhcnQpJiYoZy5kdXJhdGlvbj1oLnN0YXJ0LWcuc3RhcnQpO251bGwhPWcuc3RhcnQmJm51bGwhPWcuZHVyYXRpb24/Yys9Zy5kdXJhdGlvbjpkPSExfWIoYS5iKXx8KGU9YS5hW2EuYS5sZW5ndGgtMV0sCmQ/YS5iPWM6YihlLnN0YXJ0KSYmYihlLmR1cmF0aW9uKT9hLmI9ZS5zdGFydCtlLmR1cmF0aW9uOmEubWFuaWZlc3RJc0xpdmVTdHJlYW1pbmd8fChhLmI9YykpfX0KZnVuY3Rpb24gQmUoYSxiLGMsZCxlKXt2YXIgZj1uZXcgU2Q7Zi5pZD1jLmlkO2Yuc3RhcnQ9Yy5zdGFydDtmLmR1cmF0aW9uPWMuZHVyYXRpb247dmFyIGc9bmV3IEQ7Yy5hLmZvckVhY2goZnVuY3Rpb24oYSl7Zy5wdXNoKGEuY29udGVudFR5cGV8fCIiLGEpfSk7Zm9yKHZhciBoPWFiKGcpLGs9MDtrPGgubGVuZ3RoOysrayl7dmFyIGw9bmV3IEQ7Zy5nZXQoaFtrXSkuZm9yRWFjaChmdW5jdGlvbihhKXtsLnB1c2goYS5ncm91cCxhKX0pO2Zvcih2YXIgbT1hYihsKSxwPTA7cDxtLmxlbmd0aDsrK3Ape3ZhciB0PW5ldyBEO2wuZ2V0KG1bcF0pLmZvckVhY2goZnVuY3Rpb24oYSl7dC5wdXNoKGEubGFuZyxhKX0pO2Zvcih2YXIgdz1hYih0KSx6PTA7ejx3Lmxlbmd0aDsrK3ope3ZhciBIPXQuZ2V0KHdbel0pLEg9Q2UoYSxiLGMsSCxkLGUpO2YuYS5wdXNoKEgpfX19cmV0dXJuIGZ9CmZ1bmN0aW9uIENlKGEsYixjLGQsZSxmKXtiYShkLmV2ZXJ5KGZ1bmN0aW9uKGEpe3JldHVybiBhLmdyb3VwPT1kWzBdLmdyb3VwJiYoYS5sYW5nfHwiIik9PShkWzBdLmxhbmd8fCIiKSYmKGEuY29udGVudFR5cGV8fCIiKT09KGRbMF0uY29udGVudFR5cGV8fCIiKX0pKTt2YXIgZz1uZXcgT2QsaD1kLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YS5pZH0pO2gubGVuZ3RoPT1kLmxlbmd0aCYmKGcuaWQ9aC5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuaWR9KS5zb3J0KCkucmVkdWNlKGZ1bmN0aW9uKGEsYil7cmV0dXJuIGErIiwiK2J9KSk7Zy5iPSEoIWRbMF0uYnx8InVybjpzY3RlOmRhc2g6Y2M6Y2VhLTYwODoyMDE1IiE9PWRbMF0uYi5hKTtnLmxhbmc9ZFswXS5sYW5nfHwiIjtnLmNvbnRlbnRUeXBlPWRbMF0uY29udGVudFR5cGV8fCIiO2cuZj1kLnNvbWUoZnVuY3Rpb24oYSl7cmV0dXJuIGEuZn0pO2Zvcih2YXIgaD17fSxrPTA7azxkLmxlbmd0aDsrK2spe3ZhciBsPQpkW2tdO2wuYyYmKGcuYz1sLmMpO2Zvcih2YXIgbT0wO208bC5hLmxlbmd0aDsrK20pe3ZhciBwPWwuYVttXSx0PURlKGEscCksdz1nLmEuc2xpY2UoMCk7RWUodCx3KTswPT13Lmxlbmd0aCYmMDxnLmEubGVuZ3RofHwhKHA9RmUoYSxiLGMscCxlLGYpKXx8KGcudi5wdXNoKHApLGcuYT13LGhbcC5YXT1sKX19aWYoZy5hLnNvbWUoZnVuY3Rpb24oYSl7cmV0dXJuIiI9PWEuYX0pKXJldHVybiBnLnYuZm9yRWFjaChmdW5jdGlvbihhKXthLm9hPSEwfSksZzthPUdlKGQpO2ZvcihrPTA7azxnLnYubGVuZ3RoOysraylwPWcudltrXSxsPWhbcC5YXSxsPT1hJiYocC5vYT0hMCk7cmV0dXJuIGd9CmZ1bmN0aW9uIEdlKGEpe2Zvcih2YXIgYj1udWxsLGM9bnVsbCxkPTA7ZDxhLmxlbmd0aDsrK2QpZm9yKHZhciBlPWFbZF0sZj0wO2Y8ZS5hLmxlbmd0aDsrK2Ype3ZhciBnPWUuYVtmXSxnPShnLndpZHRofHwxKSooZy5oZWlnaHR8fDEpKihnLmJhbmR3aWR0aHx8MSk7aWYobnVsbD09Ynx8ZzxiKWI9ZyxjPWV9cmV0dXJuIGN9ZnVuY3Rpb24gRWUoYSxiKXtpZigwPT1iLmxlbmd0aClBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShiLGEpO2Vsc2UgZm9yKHZhciBjPTA7YzxiLmxlbmd0aDsrK2Mpe2Zvcih2YXIgZD0hMSxlPTA7ZTxhLmxlbmd0aDsrK2Upe3ZhciBmPWJbY10sZz1hW2VdO2lmKGYuYT09Zy5hJiZmLmk9PWcuaSYmZi53aXRoQ3JlZGVudGlhbHM9PWcud2l0aENyZWRlbnRpYWxzJiZmLmg9PWcuaCYmZi5qPT1nLmomJmYuZz09Zy5nJiZmLm09PWcubSYmTWEoZi5jLGcuYykpe2Q9ITA7T2IoYltjXSxhW2VdLmIpO2JyZWFrfX1kfHwoYi5zcGxpY2UoYywxKSwtLWMpfX0KZnVuY3Rpb24gRGUoYSxiKXt2YXIgYz1bXTtpZigwPT1iLmMubGVuZ3RoKWMucHVzaChuZXcgTWIpO2Vsc2UgaWYoYS5iKWZvcih2YXIgZD0wO2Q8Yi5jLmxlbmd0aDsrK2QpYy5wdXNoLmFwcGx5KGMsSGUoYSxiLmNbZF0pKTtyZXR1cm4gY30KZnVuY3Rpb24gSGUoYSxiKXt2YXIgYz1bXTtpZigyIT1hLmIubGVuZ3RoKXJldHVybltdO3ZhciBkPWEuYihiLmZ8fCIiLGIuYyk7aWYoIShkJiZkIGluc3RhbmNlb2YgQXJyYXkpKXJldHVybltdO2Zvcih2YXIgZT0wO2U8ZC5sZW5ndGg7KytlKXt2YXIgZjt2YXIgZz1kW2VdO2Y9bmV3IE1iO2lmKGcpe3ZhciBoPVlhKGcsImtleVN5c3RlbSIpO2lmKG51bGwhPWgpZi5hPWg7ZWxzZSB0aHJvdyBFcnJvcigiJ2tleVN5c3RlbScgY2Fubm90IGJlIG51bGwuIik7dmFyIGs9WWEoZywibGljZW5zZVNlcnZlclVybCIpO2lmKG51bGwhPWspZi5pPWs7ZWxzZSBpZihoKXRocm93IEVycm9yKCJGb3IgZW5jcnlwdGVkIHN0cmVhbWluZyBjb250ZW50LCAnbGljZW5zZVNlcnZlclVybCcgY2Fubm90IGJlIG51bGwgb3IgZW1wdHkuIik7aD1CKGcsIndpdGhDcmVkZW50aWFscyIpO251bGwhPWgmJihmLndpdGhDcmVkZW50aWFscz1oKTtoPVphKGcsImxpY2Vuc2VQb3N0UHJvY2Vzc29yIixGdW5jdGlvbik7Cm51bGwhPWgmJihmLmY9aCk7aD1aYShnLCJsaWNlbnNlUHJlUHJvY2Vzc29yIixGdW5jdGlvbik7bnVsbCE9aCYmKGYubz1oKTtoPUIoZywiZGlzdGluY3RpdmVJZGVudGlmaWVyUmVxdWlyZWQiKTtudWxsIT1oJiYoZi5oPWgpO2g9QihnLCJwZXJzaXN0ZW50U3RhdGVSZXF1aXJlZCIpO251bGwhPWgmJihmLmo9aCk7aD1ZYShnLCJhdWRpb1JvYnVzdG5lc3MiKTtudWxsIT1oJiYoZi5nPWgpO2g9WWEoZywidmlkZW9Sb2J1c3RuZXNzIik7bnVsbCE9aCYmKGYubT1oKTtoPVphKGcsInNlcnZlckNlcnRpZmljYXRlIixVaW50OEFycmF5KTtudWxsIT1oJiYoZi5jPWgpO2lmKGg9WmEoZywiaW5pdERhdGEiLE9iamVjdCkpe2c9WmEoaCwiaW5pdERhdGEiLFVpbnQ4QXJyYXkpO2lmKG51bGw9PWcpdGhyb3cgRXJyb3IoIidpbml0RGF0YS5pbml0RGF0YScgY2Fubm90IGJlIG51bGwuIik7aD1ZYShoLCJpbml0RGF0YVR5cGUiKTtpZihudWxsPT1oKXRocm93IEVycm9yKCInaW5pdERhdGEuaW5pdERhdGFUeXBlJyBjYW5ub3QgYmUgbnVsbC4iKTsKZi5iLnB1c2goe2luaXREYXRhOm5ldyBVaW50OEFycmF5KGcuYnVmZmVyKSxpbml0RGF0YVR5cGU6aH0pfX0wPT1mLmIubGVuZ3RoJiZiLmEmJmIuYS5wc3NoQm94JiZPYihmLFt7aW5pdERhdGE6Yi5hLnBzc2hCb3gsaW5pdERhdGFUeXBlOiJjZW5jIn1dKTtjLnB1c2goZil9cmV0dXJuIGN9CmZ1bmN0aW9uIEZlKGEsYixjLGQsZSxmKXtpZighZC5iYXNlVXJsfHwwPT09ZC5iYXNlVXJsLmxlbmd0aClyZXR1cm4gbnVsbDt2YXIgZz1udWxsLGg9MSxrPTA7aWYoZC5mKXtnPWQubWltZVR5cGUuc3BsaXQoIi8iKVsxXTtpZigibXA0IiE9ZyYmIndlYm0iIT1nKWc9bnVsbDtlbHNle3ZhciBsPWQuZjtpZigid2VibSIhPWd8fGwuYylpZihsLmF8fGwuYiYmbC5iLmEpe2g9bC5iO2h8fChoPW5ldyB3YyxoLnVybD1kLmJhc2VVcmwsaC5hPWwuYT9sLmEuY2xvbmUoKTpudWxsKTtrPUllKGEsaCxmKTtoPWwuYz9JZShhLGwuYyxmKTpudWxsO2wuZj8obD1sLmYsbD1uZXcgSyhmLGQuYmFzZVVybCxsLnFhLGwuZW5kLHZvaWQgMCxhLmEpKTpsPW51bGw7dmFyIG09bCxwPVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgiYWRkX2lubGluZV9pbml0aWFsaXphdGlvbl9yZXNvdXJjZXMiLCExKSYmZC5oJiZkLmguZGF0YT9kLmguZGF0YTpudWxsLGw9VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJhZGRfaW5saW5lX2luaXRpYWxpemF0aW9uX3Jlc291cmNlcyIsCiExKSYmZC5nJiZkLmcuZGF0YT9kLmcuZGF0YTpudWxsO2E9bmV3IHZlKGIsYyxnLGssaCxtLGUsZixhLmwscCxsKTtiPW5ldyBnZChoLGwpO2M9bmV3IEtkO2MuTT1hO2MuYWE9YjtnPWN9ZWxzZSBnPW51bGw7ZWxzZSBnPW51bGx9aD1kLmYucztrPWQuZi5MfWVsc2UgaWYoZC5iKWc9ZC5iLCFnLkgmJiFnLkMmJjE8Zy5hLmxlbmd0aD9nPW51bGw6Zy5IfHxjLmR1cmF0aW9ufHxnLkN8fDEhPWcuYS5sZW5ndGg/Zy5DJiYwPT09Zy5DLk4ubGVuZ3RoP2c9bnVsbDooZz1nLmI/SWUoYSxnLmIsZik6bnVsbCxhPW5ldyBGZChiLGMsZCxlLGYsYS5hKSxiPW5ldyBnZChnKSxjPW5ldyBLZCxjLk09YSxjLmFhPWIsZz1jKTpnPW51bGwsaD1kLmIucyxrPWQuYi5MO2Vsc2UgaWYoZC5hKXthOmlmKGc9ZC5hLGg9MCsoZy5hPzE6MCksaCs9Zy5DPzE6MCxoKz1nLkg/MTowLDA9PWg/aD0hMTooMSE9aCYmKGcuYT8oZy5DPW51bGwsZy5IPW51bGwpOmcuQyYmKGcuSD1udWxsKSksaD0hMCksaCl7aD0KbnVsbDtpZihnLmMmJihoPShnPWQuYS5jKT9KZShkLGcseGMpOm51bGwsIWgpKXtnPW51bGw7YnJlYWsgYX1nPWg/SWUoYSxoLGYpOm51bGw7aD1kLmE7aC5hPyhoPWQubWltZVR5cGUuc3BsaXQoIi8iKVsxXSwibXA0IiE9aCYmIndlYm0iIT1oP2E9bnVsbDoid2VibSIhPWh8fGc/bWQoZixkLDEsMCx2b2lkIDAsYS5hKT8oaz0oaz1kLmEuYSk/SmUoZCxrLHdjKTpudWxsKT8oaz1JZShhLGssZiksYT1uZXcgdmUoYixjLGgsayxnLG51bGwsZSxmLGEubCkpOmE9bnVsbDphPW51bGw6YT1udWxsKTphPWguZj9oLkM/bmV3IEpkKGEuYyxiLGMsZCxlLGYsMCxhLmEpOmguSD9iLm1hbmlmZXN0SXNMaXZlU3RyZWFtaW5nfHxudWxsIT1jLmR1cmF0aW9uP25ldyBFZChiLGMsZCxlLGYpOm51bGw6bnVsbDpudWxsO2E/KGI9bmV3IGdkKGcpLGM9bmV3IEtkLGMuTT1hLGMuYWE9YixnPWMpOmc9bnVsbH1lbHNlIGc9bnVsbDtoPWQuYS5zO2s9ZC5hLkx9ZWxzZSJ0ZXh0Ij09ZC5taW1lVHlwZS5zcGxpdCgiLyIpWzBdJiYKKGc9bmV3IEtkLGcuTT1uZXcgc2UobmV3IEsoZixkLmJhc2VVcmwpKSk7aWYoIWcpcmV0dXJuIG51bGw7Zy5pZD1kLmlkO2smJihnLmE9LTEqay9oKTtnLmJhbmR3aWR0aD1kLmJhbmR3aWR0aDtnLndpZHRoPWQud2lkdGg7Zy5oZWlnaHQ9ZC5oZWlnaHQ7Zy5taW1lVHlwZT1kLm1pbWVUeXBlfHwiIjtnLmNvZGVjcz1kLmNvZGVjc3x8IiI7Zy5nPWQub3x8bnVsbDtnLmg9ZC51fHxudWxsO2cuZmJRdWFsaXR5TGFiZWw9ZC5mYlF1YWxpdHlMYWJlbHx8bnVsbDtnLmZiUXVhbGl0eUNsYXNzPWQuZmJRdWFsaXR5Q2xhc3N8fG51bGw7Zy5mPWQubXx8bnVsbDtnLmZyYW1lUmF0ZT1kLmZyYW1lUmF0ZXx8IiI7Zy5jPWQuanx8bnVsbDtmb3IoYT0wO2E8ZC5jLmxlbmd0aDsrK2EpYj1kLmNbYV0sYi5iJiZnLmIucHVzaChiLmIpO3JldHVybiBnfQpmdW5jdGlvbiBKZShhLGIsYyl7Yj1uZChiLGEuaWQsbnVsbCxhLmJhbmR3aWR0aCxudWxsKTtpZighYilyZXR1cm4gbnVsbDtjPW5ldyBjO2MudXJsPVpjKGEuYmFzZVVybCxiKTtyZXR1cm4gY31mdW5jdGlvbiBJZShhLGIsYyl7dmFyIGQ9Yi51cmwsZT0wLGY9bnVsbDtiLmEmJihlPWIuYS5xYSxmPWIuYS5lbmQpO3JldHVybiBuZXcgSyhjLGQsZSxmLHZvaWQgMCxhLmEpfTtmdW5jdGlvbiBLZShhLGIsYyxkLGUsZixnKXt0aGlzLmI9bmV3IEsobnVsbCxbbmV3IEwoYSldKTt0aGlzLmw9ZTt0aGlzLmY9Yjt0aGlzLmM9MTt0aGlzLmc9YTt0aGlzLmE9bmV3IHRiO3RoaXMuYS5ib2R5PWI7dGhpcy5hLm1ldGhvZD1jO3RoaXMuYS5OYT0zO3RoaXMuYS53aXRoQ3JlZGVudGlhbHM9ZDt0aGlzLmEuYj0xRTMqKG51bGwhPWc/ZzpoYSk7YT1mfHx7fTtmb3IodmFyIGggaW4gYSl0aGlzLmEuUWFbaF09YVtoXX0KZnVuY3Rpb24gTGUoYSl7cmV0dXJuIGEuYi5mZXRjaChhLmEpLnRoZW4oZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYi51JiYwPHRoaXMuYz8odGhpcy5jLS0sbnVsbCE9PXRoaXMubCYmbnVsbCE9PXRoaXMuYi5pJiZ0aGlzLmwuc2V0UmVhc29uKCJSZWRpcmVjdGVkIHRvIFVSTDogIit0aGlzLmIuaS50b1N0cmluZygpKSx0aGlzLmI9bmV3IEsobnVsbCxbbmV3IEwodGhpcy5nKV0pLHRoaXMuYS5ib2R5PXRoaXMuZixMZSh0aGlzKSk6UHJvbWlzZS5yZXNvbHZlKG5ldyBVaW50OEFycmF5KGEpKX0uYmluZChhKSl9O2Z1bmN0aW9uIE1lKGEsYixjLGQpe0YuY2FsbCh0aGlzLGEpO3RoaXMuYz1iO3RoaXMuaj1jO3RoaXMuYT10aGlzLmg9bnVsbDt0aGlzLmk9bmV3IGJiO3RoaXMuYj1bXTt0aGlzLmY9W107dGhpcy5tPTA7dGhpcy5nPW5ldyBJO3RoaXMubz1udWxsO3RoaXMuQT1oYTt0aGlzLmw9ZH1yKE1lLEYpO01lLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5KYT1udWxsO2Zvcih2YXIgYT0wO2E8dGhpcy5mLmxlbmd0aDsrK2EpdGhpcy5mW2FdLmNsb3NlKCkuY2F0Y2goZnVuY3Rpb24oKXt9KTt0aGlzLmY9W107dGhpcy5iPXRoaXMuYT10aGlzLmg9bnVsbDt0aGlzLmcuZGVzdHJveSgpO3RoaXMuZz1udWxsO3RoaXMuaS5kZXN0cm95KCk7dGhpcy5pPW51bGw7dGhpcy5vJiYoY2xlYXJUaW1lb3V0KHRoaXMubyksdGhpcy5vPW51bGwpO3RoaXMuYz10aGlzLmo9bnVsbH07Ck1lLnByb3RvdHlwZS5pbml0aWFsaXplPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPW5ldyBELGI9TmUodGhpcy5qKSxjPTA7YzxiLmxlbmd0aDsrK2Mpe3ZhciBkPWJbY107ZC5hLmF8fGQuYiYmIU9lKGQuYil8fGEucHVzaChkLmNvbnRlbnRUeXBlLGQpfWZvcih2YXIgYz17fSxkPSExLGU9MDtlPGIubGVuZ3RoOysrZSl7dmFyIGY9YltlXTtpZihmLmEuYSYmIWEuYS5oYXNPd25Qcm9wZXJ0eShmLmNvbnRlbnRUeXBlKSl7dmFyIGc9Zi5hLmEsaD1jW2ddO2h8fChoPWYuYSxoPXthdWRpb0NhcGFiaWxpdGllczp2b2lkIDAsdmlkZW9DYXBhYmlsaXRpZXM6dm9pZCAwLGluaXREYXRhVHlwZXM6dm9pZCAwLGRpc3RpbmN0aXZlSWRlbnRpZmllcjpoLmg/InJlcXVpcmVkIjoib3B0aW9uYWwiLHBlcnNpc3RlbnRTdGF0ZTpoLmo/InJlcXVpcmVkIjoib3B0aW9uYWwiLHNlc3Npb25UeXBlczpbInRlbXBvcmFyeSJdfSxjW2ddPWgpO2lmKGYuYiYmKGc9Zi5jb250ZW50VHlwZSsiQ2FwYWJpbGl0aWVzIiwKZyBpbiBoKSl7ZD0hMDtoW2ddfHwoaFtnXT1bXSk7dmFyIGs7ImF1ZGlvIj09Zi5jb250ZW50VHlwZT9rPWYuYS5nOiJ2aWRlbyI9PWYuY29udGVudFR5cGUmJihrPWYuYS5tKTtoW2ddLnB1c2goe2NvbnRlbnRUeXBlOmYuYixyb2J1c3RuZXNzOmt9KX19fWlmKCFkKWlmKGIubGVuZ3RoKXRoaXMuYT1iWzBdLmE7ZWxzZSB0aHJvdyBhPUVycm9yKCJObyBEcm1JbmZvIGV4aXN0cyEiKSxhLnR5cGU9ImRybSIsYTtpZigwPT1PYmplY3Qua2V5cyhjKS5sZW5ndGgpcmV0dXJuIFBlKHRoaXMuaixhKSx0aGlzLmcucmVzb2x2ZSgpLFByb21pc2UucmVzb2x2ZSgpO2s9bmV3IEk7Yz1RZShjLGspO2M9Yy50aGVuKHRoaXMudy5iaW5kKHRoaXMsYixhKSk7ay5yZWplY3QobnVsbCk7dGhpcy5sJiZ0aGlzLmwuZ2V0RXZlbnRMb2dnZXIoImVtZV9pbml0IikubG9nKCk7cmV0dXJuIGN9OwpmdW5jdGlvbiBRZShhLGIpe2Zvcih2YXIgYyBpbiBhKWI9Yi5jYXRjaChmdW5jdGlvbihhLGIpe3JldHVybiBuYXZpZ2F0b3IucmVxdWVzdE1lZGlhS2V5U3lzdGVtQWNjZXNzKGEsW2JdKX0uYmluZChudWxsLGMsYVtjXSkpO3JldHVybiBifQpNZS5wcm90b3R5cGUudz1mdW5jdGlvbihhLGIsYyl7aWYoIXRoaXMuYylyZXR1cm4gUmUoKTtmb3IodmFyIGQ9Yy5rZXlTeXN0ZW0sZT1jLmdldENvbmZpZ3VyYXRpb24oKSxmPVsiYXVkaW8iLCJ2aWRlbyJdLGc9MDtnPGYubGVuZ3RoOysrZyl7dmFyIGg9ZltnXTtpZighYi5hLmhhc093blByb3BlcnR5KGgpKXt2YXIgaz1lW2grIkNhcGFiaWxpdGllcyJdO2lmKGspe2Zvcih2YXIgaz1rWzBdLGw9W10sbT17fSxwPTA7cDxhLmxlbmd0aDsrK3Ape3ZhciB0PWFbcF0sdz1rP3QuYj09ay5jb250ZW50VHlwZTp0LmNvbnRlbnRUeXBlPT1oO3QuYS5hIT1kfHwhd3x8dC5pZCBpbiBtfHwobC5wdXNoKHQpLG1bdC5pZF09ITAsdGhpcy5hPXRoaXMuYT9OYih0aGlzLmEsdC5hKTp0LmEpfWIuc2V0KGgsbCl9fX1QZSh0aGlzLmosYik7aWYodGhpcy5jLm1lZGlhS2V5cyl0aGlzLmg9dGhpcy5jLm1lZGlhS2V5cztlbHNlIHJldHVybiBjLmNyZWF0ZU1lZGlhS2V5cygpLnRoZW4oZnVuY3Rpb24oYSl7dGhpcy5oPQphfS5iaW5kKHRoaXMpKX07ZnVuY3Rpb24gU2UoYSl7cmV0dXJuIGEuYz9hLmg/YS5jLnNldE1lZGlhS2V5cyhhLmgpLnRoZW4oSihhLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYz90aGlzLmEuYz90aGlzLmguc2V0U2VydmVyQ2VydGlmaWNhdGUodGhpcy5hLmMpOlByb21pc2UucmVzb2x2ZSgpOlJlKCl9KSkudGhlbihKKGEsZnVuY3Rpb24oKXtpZighdGhpcy5jKXJldHVybiBSZSgpO2Zvcih2YXIgYT0wO2E8dGhpcy5hLmIubGVuZ3RoOysrYSl7dmFyIGM9dGhpcy5hLmJbYV07dGhpcy51KHt0eXBlOiJlbmNyeXB0ZWQiLGluaXREYXRhVHlwZTpjLmluaXREYXRhVHlwZSxpbml0RGF0YTpjLmluaXREYXRhfSl9MD09dGhpcy5hLmIubGVuZ3RoJiZFKHRoaXMuaSx0aGlzLmMsImVuY3J5cHRlZCIsdGhpcy51LmJpbmQodGhpcykpfSkpOlByb21pc2UucmVzb2x2ZSgpOlJlKCl9CmZ1bmN0aW9uIFJlKCl7dmFyIGE9RXJyb3IoIkVtZU1hbmFnZXIgZGVzdHJveWVkIik7YS50eXBlPSJkZXN0cm95IjtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYSl9Ck1lLnByb3RvdHlwZS51PWZ1bmN0aW9uKGEpe3ZhciBiPW5ldyBVaW50OEFycmF5KGEuaW5pdERhdGEpO3RoaXMubCYmdGhpcy5sLmdldEV2ZW50TG9nZ2VyKCJlbmNyeXB0ZWRfc2FtcGxlIikubG9nKCk7Zm9yKHZhciBjPTA7Yzx0aGlzLmIubGVuZ3RoOysrYylpZihNYShiLHRoaXMuYltjXS5kYXRhKSlyZXR1cm47dHJ5e3ZhciBkPVRlKHRoaXMpfWNhdGNoKGUpe2I9QShlKTt0aGlzLmRpc3BhdGNoRXZlbnQoYik7dGhpcy5sJiZ0aGlzLmwuZ2V0RXZlbnRMb2dnZXIoImVtZV9lcnJvciIpLnNldEVycm9yKGUpLmxvZygpO3RoaXMuZy5yZWplY3QoZSk7cmV0dXJufWE9ZC5nZW5lcmF0ZVJlcXVlc3QoYS5pbml0RGF0YVR5cGUsYS5pbml0RGF0YSk7dGhpcy5iLnB1c2goe2RhdGE6Yix1YjpkfSk7YS5jYXRjaChKKHRoaXMsZnVuY3Rpb24oYSl7aWYodGhpcy5jKXtmb3IodmFyIGI9MDtiPHRoaXMuYi5sZW5ndGg7KytiKWlmKHRoaXMuYltiXS51Yj09ZCl7dGhpcy5iLnNwbGljZShiLAoxKTticmVha31iPUEoYSk7dGhpcy5kaXNwYXRjaEV2ZW50KGIpO3RoaXMubCYmdGhpcy5sLmdldEV2ZW50TG9nZ2VyKCJlbWVfZXJyb3IiKS5zZXRFcnJvcihhKS5sb2coKTt0aGlzLmcucmVqZWN0KGEpfX0pKTt0aGlzLmYucHVzaChkKX07ZnVuY3Rpb24gVWUoYSl7Zm9yKHZhciBiPVtdLGM9MDtjPGIubGVuZ3RoOysrYyl7dmFyIGQ9VGUoYSksZT1kLmxvYWQoYltjXSk7YS5mLnB1c2goZCk7ZS50aGVuKEooYSxmdW5jdGlvbigpe3RoaXMubSsrO3RoaXMubT49dGhpcy5mLmxlbmd0aCYmdGhpcy5nLnJlc29sdmUoKX0pKS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7dmFyIGI9QShhKTt0aGlzLmRpc3BhdGNoRXZlbnQoYik7dGhpcy5sJiZ0aGlzLmwuZ2V0RXZlbnRMb2dnZXIoImVtZV9lcnJvciIpLnNldEVycm9yKGEpLmxvZygpfSkpfX0KZnVuY3Rpb24gVGUoYSl7dmFyIGI9bnVsbCxiPWEuaC5jcmVhdGVTZXNzaW9uKCk7RShhLmksYiwibWVzc2FnZSIsYS5ELmJpbmQoYSkpO0UoYS5pLGIsImtleXN0YXR1c2VzY2hhbmdlIixhLkIuYmluZChhKSk7cmV0dXJuIGJ9TWUucHJvdG90eXBlLkQ9ZnVuY3Rpb24oYSl7VmUodGhpcyxhLnRhcmdldCx0aGlzLmEsYS5tZXNzYWdlKX07Ck1lLnByb3RvdHlwZS5CPWZ1bmN0aW9uKGEpe2E9YS50YXJnZXQ7dmFyIGI9e307YS5rZXlTdGF0dXNlcy5mb3JFYWNoKGZ1bmN0aW9uKGEsYyl7aWYoInN0cmluZyI9PT10eXBlb2YgYSl7dmFyIGY9YTthPWM7Yz1mfWlmKCJjb20ubWljcm9zb2Z0LnBsYXlyZWFkeSI9PXRoaXMuYS5hJiYxNj09YS5ieXRlTGVuZ3RoKXt2YXIgZj1uZXcgRGF0YVZpZXcoYSksZz1mLmdldFVpbnQzMigwLCEwKSxoPWYuZ2V0VWludDE2KDQsITApLGs9Zi5nZXRVaW50MTYoNiwhMCk7Zi5zZXRVaW50MzIoMCxnLCExKTtmLnNldFVpbnQxNig0LGgsITEpO2Yuc2V0VWludDE2KDYsaywhMSl9Zj1MYihuZXcgVWludDhBcnJheShhKSk7YltmXT1jfS5iaW5kKHRoaXMpKTtpZihhLmV4cGlyYXRpb248RGF0ZS5ub3coKSl7Zm9yKHZhciBjPTA7Yzx0aGlzLmIubGVuZ3RoOysrYylpZih0aGlzLmJbY10udWI9PWEpe3RoaXMuYi5zcGxpY2UoYywxKTticmVha31hLmNsb3NlKCk7dGhpcy5mLnNwbGljZSh0aGlzLmYuaW5kZXhPZihhKSwKMSl9dGhpcy5sJiZ0aGlzLmwuZ2V0RXZlbnRMb2dnZXIoImVtZV9rZXlfc3RhdHVzX2NoYW5nZSIpLmxvZygpO1dlKHRoaXMuaixiKX07CmZ1bmN0aW9uIFZlKGEsYixjLGQpe2Q9WGUoYyxkKTt2YXIgZT1udWxsO2EubCYmKGU9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigibGljZW5zZV9yZXF1ZXN0Iikuc3RhcnQoKSk7TGUobmV3IEtlKGQudXJsLGQuYm9keSxkLm1ldGhvZCxjLndpdGhDcmVkZW50aWFscyxlLGQuaGVhZGVycyxhLkEpKS50aGVuKEooYSxmdW5jdGlvbihhKXtlJiYoZS5zZXRSZXN1bHQoInN1Y2Nlc3MiKSxlLmxvZygpKTtjLmYmJihhPWMuZihhKSk7ZT1udWxsO3RoaXMubCYmKGU9dGhpcy5sLmdldE9wZXJhdGlvbkxvZ2dlcigiZW1lX3Bvc3RfbGljZW5zZV9zZXNzaW9uX3VwZGF0ZSIpLnN0YXJ0KCkpO251bGw9PT1hfHx2b2lkIDA9PT1hfHwwPT09YS5ieXRlTGVuZ3RoP251bGwhPT1lJiYoZS5zZXRFcnJvcigiZW1wdHkgbGljZW5zZSIpLGUuc2V0UmVzdWx0KCJmYWlsZWQiKS5sb2coKSk6Yi51cGRhdGUoYSkudGhlbihKKHRoaXMsZnVuY3Rpb24oKXtlJiYoZS5zZXRSZXN1bHQoInN1Y2Nlc3MiKSxlLmxvZygpKTsKdmFyIGE9eSh7dHlwZToic2Vzc2lvblJlYWR5IixkZXRhaWw6Yn0pO3RoaXMuZGlzcGF0Y2hFdmVudChhKTt0aGlzLm0rKzt0aGlzLm0+PXRoaXMuZi5sZW5ndGgmJnRoaXMuZy5yZXNvbHZlKCl9KSkuY2F0Y2goSih0aGlzLGZ1bmN0aW9uKGEpe2EudWI9Yjt2YXIgYz1BKGEpO2UmJihlLnNldFJlc3VsdCgiZmFpbGVkIiksZS5zZXRFcnJvcihhKS5sb2coKSk7dGhpcy5kaXNwYXRjaEV2ZW50KGMpfSkpfSkpLmNhdGNoKEooYSxmdW5jdGlvbihhKXtpZihjLmYpe3ZhciBkPUpTT04uc3RyaW5naWZ5KHtkYXRhOlt7ZXJyb3I6YX1dfSksZD1uZXcgVWludDhBcnJheShkLnNwbGl0KCIiKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuY2hhckNvZGVBdCgwKX0pKTtjLmYoZCl9YS51Yj1iO2Q9QShhKTtlJiZlLnNldEVycm9yKGEpLmxvZygpO3RoaXMuZGlzcGF0Y2hFdmVudChkKX0pKX0KZnVuY3Rpb24gWGUoYSxiKXt2YXIgYz17dXJsOmEuaSxib2R5OmIuc2xpY2UoMCksbWV0aG9kOiJQT1NUIixoZWFkZXJzOnt9LGtleV9zeXN0ZW06YS5hfTtpZigiY29tLm1pY3Jvc29mdC5wbGF5cmVhZHkiPT09YS5hKXtmb3IodmFyIGQ9U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLG5ldyBVaW50MTZBcnJheShjLmJvZHkpKSxkPShuZXcgRE9NUGFyc2VyKS5wYXJzZUZyb21TdHJpbmcoZCwiYXBwbGljYXRpb24veG1sIiksZT1kLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJuYW1lIiksZj1kLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJ2YWx1ZSIpLGc9MDtnPGUubGVuZ3RoO2crKyljLmhlYWRlcnNbZVtnXS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZV09ZltnXS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZTtjLmJvZHk9d2luZG93LmF0b2IoZC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiQ2hhbGxlbmdlIilbMF0uY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUpfWlmKCFhLm8pcmV0dXJuIGM7CmEubyhjKTtjLnVybD1ZYShjLCJ1cmwiKTtpZihudWxsPT1jLnVybCl0aHJvdyBFcnJvcigiJ3VybCcgY2Fubm90IGJlIG51bGwuIik7aWYoIShjLmJvZHkgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcnx8InN0cmluZyI9PT10eXBlb2YgYy5ib2R5fHxudWxsPT1jLmJvZHkpKXRocm93IG5ldyBUeXBlRXJyb3IoIidib2R5JyBtdXN0IGJlIGFuIEFycmF5QnVmZmVyLCBhIHN0cmluZywgb3IgbnVsbC4iKTtjLm1ldGhvZD1ZYShjLCJtZXRob2QiKTtpZigiR0VUIiE9Yy5tZXRob2QmJiJQT1NUIiE9Yy5tZXRob2QpdGhyb3cgRXJyb3IoIidtZXRob2QnIG11c3QgYmUgZWl0aGVyICdHRVQnIG9yICdQT1NUJy4iKTtjLmhlYWRlcnM9WmEoYywiaGVhZGVycyIsT2JqZWN0KTtpZihudWxsPT1jLmhlYWRlcnMpdGhyb3cgRXJyb3IoIidoZWFkZXJzJyBjYW5ub3QgYmUgbnVsbC4iKTtyZXR1cm4gY307ZnVuY3Rpb24gVyhhLGIsYyxkLGUsZixnKXtGLmNhbGwodGhpcyxudWxsKTt0aGlzLmI9YTt0aGlzLmY9Yjt0aGlzLmE9bnVsbDt0aGlzLmc9bmV3IGJiO3RoaXMubT10aGlzLmk9bnVsbDt0aGlzLkY9MDt0aGlzLlM9dGhpcy5aPXRoaXMuJD1udWxsO3RoaXMuYmE9Zzt0aGlzLko9bnVsbDt0aGlzLk89dGhpcy5oPSExO3RoaXMuVj10aGlzLlk9ITA7dGhpcy5LPSExO3RoaXMuYz17ZW5hYmxlQWRhcHRhdGlvbjohMCxzdHJlYW1CdWZmZXJTaXplOjE1LGxpdmVTdHJlYW1FbmRUaW1lb3V0OjE1LGxpY2Vuc2VSZXF1ZXN0VGltZW91dDpoYSxtcGRSZXF1ZXN0VGltZW91dDppYSxzZWdtZW50UmVxdWVzdFRpbWVvdXQ6amEscHJlZmVycmVkTGFuZ3VhZ2U6ImVuIixyZXN0cmljdGlvbnM6bmV3IGthfTt0aGlzLmw9Yzt0aGlzLkc9ZDt0aGlzLmNhPWU7dGhpcy5nYT1mO3RoaXMubz1udWxsO3RoaXMuaj0xO3RoaXMuVD1udWxsO3RoaXMudT10aGlzLkE9dGhpcy53PSExO3RoaXMuUj10aGlzLkI9Cm51bGx9cihXLEYpO3EoInNoYWthLnBsYXllci5QbGF5ZXIiLFcpO1cudmVyc2lvbj0idjEuNi40LWZiIjtXLmlzQnJvd3NlclN1cHBvcnRlZD1mdW5jdGlvbigpe3JldHVybiEhd2luZG93Lk1lZGlhU291cmNlJiYhIXdpbmRvdy5VaW50OEFycmF5fTsKVy5wcm90b3R5cGUuQmE9ZnVuY3Rpb24oKXt2YXIgYT17fSxiPXRoaXMuYTtpZihiKXt2YXIgYz1iLlhiKCk7YS5CYW5kd2lkdGhFc3RpbWF0b3I9Yy5CYW5kd2lkdGhFc3RpbWF0b3I7dmFyIGQ9Yy5WaWRlb1NvdXJjZVN0cmVhbTtkJiYoYS5WaWRlb1NvdXJjZVN0cmVhbT1kLChkPWEuVmlkZW9CdWZmZXJNYW5hZ2VyPWQuQmEoKS5Tb3VyY2VCdWZmZXJNYW5hZ2VyKSYmKGEuVmlkZW9Tb3VyY2VCdWZmZXI9ZC5CYSgpLlNvdXJjZUJ1ZmZlcikpOyhkPWEuQXVkaW9Tb3VyY2VTdHJlYW09Yy5BdWRpb1NvdXJjZVN0cmVhbSkmJihkPWEuQXVkaW9CdWZmZXJNYW5hZ2VyPWQuQmEoKS5Tb3VyY2VCdWZmZXJNYW5hZ2VyKSYmKGEuQXVkaW9Tb3VyY2VCdWZmZXI9ZC5CYSgpLlNvdXJjZUJ1ZmZlcik7YS5UZXh0U291cmNlU3RyZWFtPWMuVGV4dFNvdXJjZVN0cmVhbTthLmdldE1hbmlmZXN0PWIuVGIuYmluZChiKX1lbHNlIGEuZ2V0TWFuaWZlc3Q9ZnVuY3Rpb24oKXt9O2EuTmQ9ITA7cmV0dXJuIGF9OwpXLnByb3RvdHlwZS5nZXREZWJ1Zz1XLnByb3RvdHlwZS5CYTtXLnByb3RvdHlwZS5zYT1mdW5jdGlvbihhKXt0aGlzLlk9YX07Vy5wcm90b3R5cGUuc2V0UmVzdW1lQWZ0ZXJCdWZmZXJpbmc9Vy5wcm90b3R5cGUuc2E7ZnVuY3Rpb24gT2UoYSl7cmV0dXJuInRleHQvdnR0Ij09YT8hIXdpbmRvdy5WVFRDdWU6TWVkaWFTb3VyY2UuaXNUeXBlU3VwcG9ydGVkKGEpfVcuaXNUeXBlU3VwcG9ydGVkPU9lO1cuc2V0VGV4dFN0eWxlPWZ1bmN0aW9uKGEpe3ZhciBiPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJTaGFrYVBsYXllclRleHRTdHlsZSIpO2J8fChiPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInN0eWxlIiksYi5pZD0iU2hha2FQbGF5ZXJUZXh0U3R5bGUiLGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoYikpO2ZvcihiPWIuc2hlZXQ7Yi5jc3NSdWxlcy5sZW5ndGg7KWIuZGVsZXRlUnVsZSgwKTtiLmluc2VydFJ1bGUoIjo6Y3VlIHsgIityYShhKSsiIH0iLDApfTsKVy5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3JldHVybiB0aGlzLlUoKS50aGVuKEoodGhpcyxmdW5jdGlvbigpe3RoaXMuZy5kZXN0cm95KCk7dGhpcy5iPXRoaXMuZz1udWxsO3RoaXMuUiYmdGhpcy5SLnJlbW92ZSgpfSkpLmNhdGNoKGZ1bmN0aW9uKCl7fSl9O1cucHJvdG90eXBlLmRlc3Ryb3k9Vy5wcm90b3R5cGUuZGVzdHJveTtXLnByb3RvdHlwZS5VPWZ1bmN0aW9uKCl7dGhpcy5LPSEwO3JldHVybiBaZSh0aGlzKX07Vy5wcm90b3R5cGUudW5sb2FkPVcucHJvdG90eXBlLlU7CmZ1bmN0aW9uIFplKGEpe3ZhciBiO2EubCYmKGI9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigidW5sb2FkIikuc3RhcnQoKSk7aWYoIWEuYSlyZXR1cm4gYiYmYi5sb2coKSxQcm9taXNlLnJlc29sdmUoKTthLmgmJiRlKGEsInVubG9hZGluZyIpO2EuYi5wYXVzZSgpO2RiKGEuZyk7YWYoYSk7YmYoYSk7YS5pJiYoYS5pLmRlc3Ryb3koKSxhLmk9bnVsbCk7YS5hJiYoYS5hLmRlc3Ryb3koKSxhLmE9bnVsbCk7YS5mLmdldEJvb2woInd3d192aWRlb3NfcGxheWJhY2tfcmVtb3ZlX3NyY19hdHRyX29uX3VubG9hZCIsITEpP2EuYi5yZW1vdmVBdHRyaWJ1dGUoInNyYyIpOmEuYi5zcmM9IiI7dmFyIGM9YS5mLmdldEJvb2woInd3d19zaGFrYV9jbGVhcl9tZWRpYV9rZXlzX29uX3VubG9hZCIsITEpJiZhLmIuc2V0TWVkaWFLZXlzJiYiZnVuY3Rpb24iPT09dHlwZW9mIGEuYi5zZXRNZWRpYUtleXM/YS5iLnNldE1lZGlhS2V5cyhudWxsKTpQcm9taXNlLnJlc29sdmUoKSxjPWMudGhlbihmdW5jdGlvbigpe2ImJgpiLmxvZygpO2lmKGEuZi5nZXRCb29sKCJlbmFibGVfcDJwX3N1cHBvcnQiLCExKSl7dmFyIGM9eSh7dHlwZToidW5sb2FkIn0pO2EuZGlzcGF0Y2hFdmVudChjKX19KTthLmg9ITE7YS5PPSExO2EuQT0hMTthLnU9ITE7cmV0dXJuIGN9ZnVuY3Rpb24gY2YoYSxiKXtmb3IodmFyIGM9MDtjPGEubGVuZ3RoO2MrKyliLnB1c2goYVtjXS5jb250ZW50VHlwZSxhW2NdKX1XLnByb3RvdHlwZS5GYT1mdW5jdGlvbihhKXtyZXR1cm4gZGYodGhpcyxhKX07Vy5wcm90b3R5cGUubG9hZD1XLnByb3RvdHlwZS5GYTsKZnVuY3Rpb24gZGYoYSxiKXt2YXIgYzthLmwmJihjPWEubC5nZXRPcGVyYXRpb25Mb2dnZXIoImxvYWQiKS5zZXRTdGF0ZSgibG9hZGluZyIpLnN0YXJ0KCksYi5sPWIuZy5wZXJmb3JtYW5jZUxvZ2dlcj1hLmwpO2EuRyYmKGIuQWI9Yi5nLmFickxvZ2dlcj1hLkcpO2EuYmEmJihiLmlhPWEuYmEpO2EuY2EmJihiLkk9YS5jYSk7YS5nYSYmYi5VLnB1c2goYS5nYSk7ZWYoYixhLmIpO3ZhciBkPW51bGw7YS5LPSExO0UoYS5nLGIsInJlcGxpY2Fzd2l0Y2giLGEubmEuYmluZChhKSk7YS5hJiYoZD1aZShhKS50aGVuKEooYSxmdW5jdGlvbigpe3JldHVybiBiLndiKCl9KSkpO2EuYi5hdXRvcGxheSYmKHUucWEoImxvYWQiKSxFKGEuZyxhLmIsInRpbWV1cGRhdGUiLGEuZWQuYmluZChhKSkpO2IubGMoYS5jKTtiLmxhPWEuVDthLlQ9bnVsbDtkfHwoZD1iLndiKCkpO2EuZi5nZXRCb29sKCJmaXhfc2hha2FfcGxheWVyX2xvYWRfcmFjZV9jb25kaXRpb24iLCExKSYmKGEuYT1iKTtkLmNhdGNoKEooYSwKZnVuY3Rpb24oYSl7Yi5kZXN0cm95KCk7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfSkpO3JldHVybiBkLnRoZW4oSihhLGZ1bmN0aW9uKCl7aWYoZmYodGhpcyxiKSlyZXR1cm4gZ2YoKTt0aGlzLmE9Yjt0aGlzLmcuYWIodGhpcy5hLCJyZXBsaWNhc3dpdGNoIik7RSh0aGlzLmcsdGhpcy5hLCJzZWVrcmFuZ2VjaGFuZ2VkIix0aGlzLnBhLmJpbmQodGhpcykpO0UodGhpcy5nLHRoaXMuYSwiYWxsU3RyZWFtc1N0YXJ0ZWQiLHRoaXMuRmQuYmluZCh0aGlzKSk7dmFyIGE9bmV3IEQ7Y2YoTmUodGhpcy5hKSxhKTtQZSh0aGlzLmEsYSk7YT10aGlzLmVhKCk7YyYmMDxhLmxlbmd0aCYmKGE9YS5yZWR1Y2UoZnVuY3Rpb24oYSxiKXtpZihudWxsPT09YXx8Yi5iYW5kd2lkdGg8YS5iYW5kd2lkdGgpYT1iO3JldHVybiBhfSxudWxsKSxjLnNldExvd2VzdFF1YWxpdHlSZXByZXNlbnRhdGlvbklEKGEuc3RyZWFtSW5mb0lEKSk7aWYoIXRoaXMuYy5lbmFibGVDb250ZW50UHJvdGVjdGlvbilyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7CnRoaXMuaT1uZXcgTWUodGhpcyx0aGlzLmIsdGhpcy5hLHRoaXMubCk7cmV0dXJuIHRoaXMuaS5pbml0aWFsaXplKCl9KSkudGhlbihKKGEsZnVuY3Rpb24oKXtpZihmZih0aGlzLGIpKXJldHVybiBnZigpO2hmKHRoaXMpO0UodGhpcy5nLHRoaXMuYiwicGxheWluZyIsdGhpcy5rZC5iaW5kKHRoaXMpKTtFKHRoaXMuZyx0aGlzLmIsInBhdXNlIix0aGlzLm1hLmJpbmQodGhpcykpO0UodGhpcy5nLHRoaXMuYiwid2FpdGluZyIsdGhpcy5zZC5iaW5kKHRoaXMpKTtFKHRoaXMuZyx0aGlzLmIsInBsYXkiLHRoaXMuaWEuYmluZCh0aGlzKSk7cmV0dXJuIGpmKHRoaXMuYSx0aGlzLHRoaXMuYil9KSkudGhlbihKKGEsZnVuY3Rpb24oKXtpZihmZih0aGlzLGIpKXJldHVybiBnZigpO2lmKHRoaXMuYy5lbmFibGVDb250ZW50UHJvdGVjdGlvbil7dmFyIGE7dGhpcy5sJiYoYT10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJlbWVfYXR0YWNoIikpO3JldHVybiBTZSh0aGlzLmkpLnRoZW4oZnVuY3Rpb24oKXthJiYKYS5sb2coKX0pfXJldHVybiBQcm9taXNlLnJlc29sdmUoKX0pKS50aGVuKEooYSxmdW5jdGlvbigpe2lmKGZmKHRoaXMsYikpcmV0dXJuIGdmKCk7a2YodGhpcyk7YyYmYy51cGRhdGVTdGF0ZSgicmVhZHkiKS5sb2coKX0pKS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7YyYmYy5zZXRFcnJvcihKU09OLnN0cmluZ2lmeShhKSkubG9nKCk7aWYoZmYodGhpcyxiKSlyZXR1cm4gZ2YoKTtpZigiZGVzdHJveSIhPWEudHlwZSl7dmFyIGQ9QShhKTt0aGlzLmRpc3BhdGNoRXZlbnQoZCl9cmV0dXJuIHRoaXMuVSgpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYSl9KX0pKX1mdW5jdGlvbiBmZihhLGIpe3JldHVybiFhLmJ8fGEuS3x8YS5mLmdldEJvb2woImZpeF9zaGFrYV9wbGF5ZXJfbG9hZF9yYWNlX2NvbmRpdGlvbiIsITEpJiZiIT09YS5hfW49Vy5wcm90b3R5cGU7Cm4uRmQ9ZnVuY3Rpb24oKXt2YXIgYSxiO3RoaXMuZi5nZXRCb29sKCJ3d3dfdmlkZW9zX2V4dGVuZGVkX3NwbF9sb2dnaW5nX2Zvcl9jb25uZWN0ZWRfdHYiLCExKSYmdGhpcy5sJiYoYT10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJvbl9hbGxfc3RyZWFtc19zdGFydGVkIiksYj10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJyZXN0b3JlX3ZpZGVvX3BsYXliYWNrX3JhdGUiKSk7dGhpcy5PPSEwO3RoaXMuaD90aGlzLkQoKToodGhpcy5iLnBsYXliYWNrUmF0ZT10aGlzLmosYiYmYi5sb2coKSk7YSYmYS5sb2coKX07ZnVuY3Rpb24gZ2YoKXt2YXIgYT1FcnJvcigiUGxheWVyIGRlc3Ryb3llZCIpO2EudHlwZT0iZGVzdHJveSI7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfQpmdW5jdGlvbiBoZihhKXt2YXIgYj1hLmIucGFyZW50Tm9kZTtiJiZhLmYuZ2V0Qm9vbCgicHJldmVudF9wbGF5aW5nX29uX2luc3VmZmljaWVudF9idWZmZXIiLCExKSYmKGEuUj1ldmVudExpc3RlbmVyQ2FwdHVyZShiLCJwbGF5aW5nIixmdW5jdGlvbihhKXthLnRhcmdldD09PXRoaXMuYiYmdGhpcy5EKGEpfS5iaW5kKGEpKSl9bi5lZD1mdW5jdGlvbigpe3UuZW5kKCJsb2FkIik7dGhpcy5nLmFiKHRoaXMuYiwidGltZXVwZGF0ZSIpfTtuLnNkPWZ1bmN0aW9uKGEpe2xmKHRoaXMpO3RoaXMuZi5nZXRCb29sKCJ1bmlmeV9zdHJlYW1fc3RhcnRfd2l0aF9idWZmZXJfZGV0ZWN0b3IiLCExKSYmIXRoaXMuaCYmdGhpcy5EKGEpfTsKbi5rZD1mdW5jdGlvbigpe3UucWEoInBsYXlpbmciKTt0aGlzLmwmJnRoaXMubC5nZXRFdmVudExvZ2dlcigicGxheWluZyIpLnNldFN0YXRlKCJwbGF5aW5nIikubG9nKCk7IXRoaXMubSYmMD50aGlzLmomJih0aGlzLmIucGxheWJhY2tSYXRlPTAsdGhpcy5QKHRoaXMuYi5jdXJyZW50VGltZSxEYXRlLm5vdygpLHRoaXMuaikpO3RoaXMuaCYmIXRoaXMuViYmJGUodGhpcywicGxheWluZyIpfTtuLkJkPWZ1bmN0aW9uKGEpe3RoaXMudT1hfTtXLnByb3RvdHlwZS5zZXRQZW5kaW5nUGxheVJlcXVlc3Q9Vy5wcm90b3R5cGUuQmQ7Vy5wcm90b3R5cGUuaWE9ZnVuY3Rpb24oKXt0aGlzLnU9ITB9O1cucHJvdG90eXBlLm1hPWZ1bmN0aW9uKCl7dGhpcy5sJiZ0aGlzLmwuZ2V0RXZlbnRMb2dnZXIoInBhdXNlIikuc2V0U3RhdGUoInBhdXNlZCIpLmxvZygpO3UuZW5kKCJwbGF5aW5nIik7dS5nZXQoInBsYXlpbmciKTtiZih0aGlzKX07ClcucHJvdG90eXBlLnBhPWZ1bmN0aW9uKGEpe3RoaXMuRj1hLnN0YXJ0O3RoaXMuJD1hLmxhc3Q7dGhpcy5aPWEuZW5kO3RoaXMuUz1hLnNlZWtSYW5nZUdhcHM7dGhpcy5mLmdldEJvb2woIm5vX3NraXBfZ2Fwc19vbl9zZWVrX3JhbmdlX2NoYW5nZWQiLCExKXx8bGYodGhpcyl9O1cucHJvdG90eXBlLmVhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYT90aGlzLmEuWigpOltdfTtXLnByb3RvdHlwZS5nZXRWaWRlb1RyYWNrcz1XLnByb3RvdHlwZS5lYTtXLnByb3RvdHlwZS54YT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmE/dGhpcy5hLnZhKCk6W119O1cucHJvdG90eXBlLmdldEF1ZGlvVHJhY2tzPVcucHJvdG90eXBlLnhhO1cucHJvdG90eXBlLkRhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYT90aGlzLmEubWMoKTpbXX07Vy5wcm90b3R5cGUuZ2V0VGV4dFRyYWNrcz1XLnByb3RvdHlwZS5EYTsKVy5wcm90b3R5cGUuc2VsZWN0VmlkZW9UcmFjaz1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmE/dGhpcy5hLnNlbGVjdFZpZGVvVHJhY2soYSx2b2lkIDA9PWI/ITA6Yik6ITF9O1cucHJvdG90eXBlLnNlbGVjdFZpZGVvVHJhY2s9Vy5wcm90b3R5cGUuc2VsZWN0VmlkZW9UcmFjaztXLnByb3RvdHlwZS5HYT1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIHRoaXMuYT9tZih0aGlzLmEsImF1ZGlvIixhLHZvaWQgMD09Yj8hMDpiLGMpOiExfTtXLnByb3RvdHlwZS5zZWxlY3RBdWRpb1RyYWNrPVcucHJvdG90eXBlLkdhO1cucHJvdG90eXBlLkhhPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmE/bWYodGhpcy5hLCJ0ZXh0IixhLCExKTohMX07Vy5wcm90b3R5cGUuc2VsZWN0VGV4dFRyYWNrPVcucHJvdG90eXBlLkhhO1cucHJvdG90eXBlLndhPWZ1bmN0aW9uKGEpe3RoaXMuYSYmbmYodGhpcy5hLGEpfTtXLnByb3RvdHlwZS5lbmFibGVUZXh0VHJhY2s9Vy5wcm90b3R5cGUud2E7ClcucHJvdG90eXBlLnJhPWZ1bmN0aW9uKGEpe2JmKHRoaXMpO3RoaXMudyYmdGhpcy5ofHwhKDA8PWEpP3RoaXMuYi5wYXVzZWR8fCh0aGlzLmIucGxheWJhY2tSYXRlPTAsdGhpcy5QKHRoaXMuYi5jdXJyZW50VGltZSxEYXRlLm5vdygpLGEpKTp0aGlzLmIucGxheWJhY2tSYXRlPWE7dGhpcy5qPWF9O1cucHJvdG90eXBlLnNldFBsYXliYWNrUmF0ZT1XLnByb3RvdHlwZS5yYTtXLnByb3RvdHlwZS5rYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmp9O1cucHJvdG90eXBlLmdldFBsYXliYWNrUmF0ZT1XLnByb3RvdHlwZS5rYTtXLnByb3RvdHlwZS5DYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmE/dGhpcy5hLk9iKCk6bnVsbH07Vy5wcm90b3R5cGUuZ2V0TWFuaWZlc3Q9Vy5wcm90b3R5cGUuQ2E7Vy5wcm90b3R5cGUuUGE9ZnVuY3Rpb24oYSl7dGhpcy5UPWF9O1cucHJvdG90eXBlLnNldFBsYXliYWNrU3RhcnRUaW1lPVcucHJvdG90eXBlLlBhOwpXLnByb3RvdHlwZS5JPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYT8hIXRoaXMuYS5QKCk6ITF9O1cucHJvdG90eXBlLmlzTGl2ZT1XLnByb3RvdHlwZS5JOwpXLnByb3RvdHlwZS52YT1mdW5jdGlvbihhKXtpZihhKXt2YXIgYj1CKGEsImVuYWJsZUFkYXB0YXRpb24iKTtudWxsIT1iJiYodGhpcy5jLmVuYWJsZUFkYXB0YXRpb249Yik7Yj1CKGEsImVuZEJ1ZmZlcmluZ09uUGxheWluZyIpO251bGwhPWImJih0aGlzLlY9Yik7Yj1CKGEsInVzZVBsYXliYWNrUmF0ZUZvckJ1ZmZlcmluZyIpO251bGwhPWImJih0aGlzLnc9Yik7Yj1DKGEsInN0cmVhbUJ1ZmZlclNpemUiLDApO251bGwhPWImJih0aGlzLmMuc3RyZWFtQnVmZmVyU2l6ZT1iKTtiPUMoYSwiZHluYW1pY1N0cmVhbUJ1ZmZlclNpemUiLDApO251bGwhPWImJih0aGlzLmMuZHluYW1pY1N0cmVhbUJ1ZmZlclNpemU9Yik7bnVsbCE9YS5zbWFydEJ1ZmZlckFkanVzdG1lbnRQYXJhbXMmJih0aGlzLmMuc21hcnRCdWZmZXJBZGp1c3RtZW50UGFyYW1zPWEuc21hcnRCdWZmZXJBZGp1c3RtZW50UGFyYW1zKTtiPUIoYSwiYWRkQ2RuRGVidWdRdWVyeVBhcmFtZXRlcnMiKTtudWxsIT1iJiYKKHRoaXMuYy5hZGRDZG5EZWJ1Z1F1ZXJ5UGFyYW1ldGVycz1iKTtiPUMoYSwiaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemUiLDApO251bGwhPWImJih0aGlzLmMuaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemU9Yik7Yj1CKGEsImluY2x1ZGVTdHJlYW1CdWZmZXJTaXplSW5TdGFydE9mZnNldCIpO251bGwhPWImJih0aGlzLmMuaW5jbHVkZVN0cmVhbUJ1ZmZlclNpemVJblN0YXJ0T2Zmc2V0PWIpO2I9QyhhLCJqdW1wVG9MaXZlVGhyZXNob2xkIik7bnVsbCE9YiYmKHRoaXMuYy5qdW1wVG9MaXZlVGhyZXNob2xkPWIpO2I9QyhhLCJsaXZlU3RyZWFtRW5kVGltZW91dCIsMCk7bnVsbCE9YiYmKHRoaXMuYy5saXZlU3RyZWFtRW5kVGltZW91dD1iKTtiPUMoYSwibGljZW5zZVJlcXVlc3RUaW1lb3V0IiwwKTtudWxsIT1iJiYodGhpcy5jLmxpY2Vuc2VSZXF1ZXN0VGltZW91dD1iKTtiPUMoYSwibXBkUmVxdWVzdFRpbWVvdXQiLDApO251bGwhPWImJih0aGlzLmMubXBkUmVxdWVzdFRpbWVvdXQ9CmIpO2I9QyhhLCJtaW5NcGRSZWZyZXNoSW50ZXJ2YWwiLDApO251bGwhPWImJih0aGlzLmMubWluTXBkUmVmcmVzaEludGVydmFsPWIpO2I9QihhLCJlbmFibGVMaXZlSW50ZXJydXB0aW9uRGV0ZWN0aW9uIik7bnVsbCE9YiYmKHRoaXMuYy5lbmFibGVMaXZlSW50ZXJydXB0aW9uRGV0ZWN0aW9uPWIpO2I9QihhLCJlbmFibGVNYW5pZmVzdERlYnVnIik7bnVsbCE9YiYmKHRoaXMuYy5lbmFibGVNYW5pZmVzdERlYnVnPWIsRi5wcm90b3R5cGUub2M9YixifHwoRi5wcm90b3R5cGUuTGE9ZnVuY3Rpb24oKXt9KSk7Yj1CKGEsInJlc29sdmVWaWRlb1RpbWVVcGRhdGVPbkZyYWdtZW50ZWRUaW1lUmFuZ2VzIik7bnVsbCE9YiYmKHRoaXMuYy5yZXNvbHZlVmlkZW9UaW1lVXBkYXRlT25GcmFnbWVudGVkVGltZVJhbmdlcz1iKTtiPUMoYSwibGl2ZUludGVycnVwdGlvbkNvbnNlY3V0aXZlVXBkYXRlc1dpdGhvdXRDaGFuZ2UiKTtudWxsIT1iJiYodGhpcy5jLmxpdmVJbnRlcnJ1cHRpb25Db25zZWN1dGl2ZVVwZGF0ZXNXaXRob3V0Q2hhbmdlPQpiKTtiPUMoYSwibGl2ZUludGVycnVwdGlvbkNvbnNlY3V0aXZlVXBkYXRlc1dpdGhDaGFuZ2UiKTtudWxsIT1iJiYodGhpcy5jLmxpdmVJbnRlcnJ1cHRpb25Db25zZWN1dGl2ZVVwZGF0ZXNXaXRoQ2hhbmdlPWIpO2I9QihhLCJyZWFwcGVuZEluaXRTZWdtZW50QWZ0ZXJBYm9ydCIpO251bGwhPWImJih0aGlzLmMucmVhcHBlbmRJbml0U2VnbWVudEFmdGVyQWJvcnQ9Yik7Yj1CKGEsImxpdmVTZW5kUHVzaEhlYWRlcnMiKTtudWxsIT1iJiYodGhpcy5jLmxpdmVTZW5kUHVzaEhlYWRlcnM9Yik7Yj1DKGEsImxpdmVNYXhNYW5pZmVzdEZldGNoZXNXaXRoUHVzaCIpO251bGwhPWImJih0aGlzLmMubGl2ZU1heE1hbmlmZXN0RmV0Y2hlc1dpdGhQdXNoPWIpO2I9QyhhLCJsaXZlTWF4U2VnbWVudHNUb1B1c2giKTtudWxsIT1iJiYodGhpcy5jLmxpdmVNYXhTZWdtZW50c1RvUHVzaD1iKTtiPUMoYSwic2VnbWVudFJlcXVlc3RUaW1lb3V0IiwwKTtudWxsIT1iJiYodGhpcy5jLnNlZ21lbnRSZXF1ZXN0VGltZW91dD0KYik7Yj1ZYShhLCJwcmVmZXJyZWRMYW5ndWFnZSIpO251bGwhPWImJih0aGlzLmMucHJlZmVycmVkTGFuZ3VhZ2U9Yik7Yj1aYShhLCJyZXN0cmljdGlvbnMiLGthKTtudWxsIT1iJiYodGhpcy5jLnJlc3RyaWN0aW9ucz1iLmNsb25lKCkpO2I9YS5saXZlSW5pdGlhbFB1c2hSZXByZXNlbnRhdGlvbjtudWxsIT1iJiYodGhpcy5jLmxpdmVJbml0aWFsUHVzaFJlcHJlc2VudGF0aW9uPWIpO2I9YS5saXZlQXVkaW9QdXNoUmVwcmVzZW50YXRpb247bnVsbCE9YiYmKHRoaXMuYy5saXZlQXVkaW9QdXNoUmVwcmVzZW50YXRpb249Yik7Yj1hLnVzZUlubGluZUluaXRTZWdtZW50O251bGwhPWImJih0aGlzLmMudXNlSW5saW5lSW5pdFNlZ21lbnQ9Yik7Yj1CKGEsImRpc2FibGVDYWNoZUJ1c3RpbmdFdmVuVGhvdWdoSXRNYXlBZmZlY3RCYW5kd2lkdGhFc3RpbWF0aW9uIik7bnVsbCE9YiYmKFRjPSFiKTtiPUIoYSwiY3VycmVudFRpbWVEdXJpbmdSZWFkeVN0YXRlWmVyb1Rocm93cyIpO251bGwhPQpiJiYodGhpcy5jLmN1cnJlbnRUaW1lRHVyaW5nUmVhZHlTdGF0ZVplcm9UaHJvd3M9Yik7Yj1DKGEsImxpdmVEYXRhRmV0Y2hNYXhSZXRyaWVzIik7bnVsbCE9YiYmKHRoaXMuYy5saXZlRGF0YUZldGNoTWF4UmV0cmllcz1iKTtiPUMoYSwibGl2ZVNvdXJjZUJ1ZmZlckNsZWFyTWF4UmV0cmllcyIpO251bGwhPWImJih0aGlzLmMubGl2ZVNvdXJjZUJ1ZmZlckNsZWFyTWF4UmV0cmllcz1iKTtiPUIoYSwidXNlTG9uZ0NhY2hlRm9yTWFuaWZlc3QiKTtudWxsIT1iJiYodGhpcy5jLnVzZUxvbmdDYWNoZUZvck1hbmlmZXN0PWIpO2I9QihhLCJqdW1wVG9FYXJsaWVzdFBvc2l0aW9uSW5DdXJyZW50QmxvY2siKTtudWxsIT1iJiYodGhpcy5jLmp1bXBUb0VhcmxpZXN0UG9zaXRpb25JbkN1cnJlbnRCbG9jaz1iKTtiPUIoYSwiaWdub3JlTWluQnVmZmVyVGltZSIpO251bGwhPWImJih0aGlzLmMuaWdub3JlTWluQnVmZmVyVGltZT1iKTtiPUMoYSwicGxheWhlYWRGcmFnbWVudGVkR2FwRGlmZkFsbG93YW5jZSIpOwpudWxsIT1iJiYodGhpcy5jLnBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2U9Yik7Yj1CKGEsImZpeEJ1ZmZlcmluZ0dvYWxEZXRlcm1pbmF0aW9uIik7bnVsbCE9YiYmKHRoaXMuYy5maXhCdWZmZXJpbmdHb2FsRGV0ZXJtaW5hdGlvbj1iKTtiPUIoYSwic2tpcEVtcHR5U2VnbWVudHMiKTtudWxsIT1iJiYodGhpcy5jLnNraXBFbXB0eVNlZ21lbnRzPWIpOyhiPUIoYSwidXNlTWljcm9UYXNrVGltZW91dHMiKSkmJih0aGlzLmMudXNlTWljcm9UYXNrVGltZW91dHM9Yik7KGI9QihhLCJlbmFibGVSZXF1ZXN0UGlwZWxpbmluZyIpKSYmKHRoaXMuYy5lbmFibGVSZXF1ZXN0UGlwZWxpbmluZz1iKTsoYj1CKGEsImVuYWJsZVN0cmVhbWluZyIpKSYmKHRoaXMuYy5lbmFibGVTdHJlYW1pbmc9Yik7KGE9QihhLCJlbmFibGVDb250ZW50UHJvdGVjdGlvbiIpKSYmKHRoaXMuYy5lbmFibGVDb250ZW50UHJvdGVjdGlvbj1hKTt0aGlzLmEmJnRoaXMuYS5sYyh0aGlzLmMpfX07ClcucHJvdG90eXBlLmNvbmZpZ3VyZT1XLnByb3RvdHlwZS52YTtXLnByb3RvdHlwZS5PYT1mdW5jdGlvbihhKXt0aGlzLmEmJnRoaXMuYS5xYyhhKX07Vy5wcm90b3R5cGUuc2V0RW5hYmxlTGl2ZWhlYWRDYXRjaHVwPVcucHJvdG90eXBlLk9hO1cucHJvdG90eXBlLkVhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYT90aGlzLmEubmE6ITF9O1cucHJvdG90eXBlLmlzTGl2ZWhlYWRDYXRjaHVwRW5hYmxlZD1XLnByb3RvdHlwZS5FYTsKZnVuY3Rpb24gbGYoYSl7aWYoYS5mLmdldEJvb2woInNraXBfbWFuaWZlc3RfZ2FwX2Jhc2VkX29uX3N0cmVhbV9saW1pdHMiLCExKSYmKCFhLkkoKXx8IWEuZi5nZXRCb29sKCJub19za2lwX21hbmlmZXN0X2dhcHNfaWZfbGl2ZSIsITEpKSl7dmFyIGI7YS5mLmdldEJvb2woInNraXBfbWFuaWZlc3RfZ2Fwc191c2VfY2FjaGVkX3N0cmVhbV9saW1pdHMiLCExKT9hLmEmJm51bGwhPT1hLlM/Yj17c3RhcnQ6YS5GLGVuZDphLlosbGFzdDphLiQsWmE6YS5TfTpiPWEuYT9hLmEubmIoKTpudWxsOmI9YS5hP2EuYS5uYigpOm51bGw7aWYoYilmb3IodmFyIGM9YS5mLmdldE51bWJlcigic2tpcF9tYW5pZmVzdF9nYXBfYm91bmRhcnlfcHJlY2lzaW9uX21zIiwxRTMpLzFFMyxkPWIuWmEsZT1hLmIucGxheWJhY2tSYXRlLGY9YS5iLmN1cnJlbnRUaW1lLGc9MDtnPGQubGVuZ3RoOysrZyl7dmFyIGg9ZFtnXS5zdGFydFRpbWUtYyxrPWRbZ10uZW5kVGltZStjO2Y8PWsmJmY+PWgmJihhLmYuZ2V0Qm9vbCgiZml4X3NlZWtfcmFuZ2VfZ2FwX2JvdW5kYXJ5IiwKITEpfHwoaD1kW2ddLnN0YXJ0VGltZSxrPWRbZ10uZW5kVGltZSksMDw9ZT9iLmVuZD5rJiYoYS5iLmN1cnJlbnRUaW1lPWspOmIuc3RhcnQ8aCYmKGEuYi5jdXJyZW50VGltZT1oKSl9fX1XLnByb3RvdHlwZS5sYT1mdW5jdGlvbigpe3ZhciBhPXRoaXMuYSYmdGhpcy5hLm5iKCk7cmV0dXJuKGE9YSYme3N0YXJ0OmEuc3RhcnQsZW5kOmEuZW5kLGxhc3Q6YS5sYXN0LHNlZWtSYW5nZUdhcHM6YS5aYX0pfHxudWxsfTtXLnByb3RvdHlwZS5nZXRWaWRlb1NvdXJjZVN0cmVhbUxpbWl0cz1XLnByb3RvdHlwZS5sYTtXLnByb3RvdHlwZS55YT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmN9O1cucHJvdG90eXBlLmdldENvbmZpZ3VyYXRpb249Vy5wcm90b3R5cGUueWE7ZnVuY3Rpb24gYmYoYSl7YS5tJiYoY2xlYXJUaW1lb3V0KGEubSksYS5tPW51bGwpfQpmdW5jdGlvbiBrZihhKXt2YXIgYjthLmYuZ2V0Qm9vbCgid3d3X3ZpZGVvc19leHRlbmRlZF9zcGxfbG9nZ2luZ19mb3JfY29ubmVjdGVkX3R2IiwhMSkmJmEubCYmKGI9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigic3RhcnRfd2F0Y2hkb2ciKSk7YWYoYSk7YS5KPXNldFRpbWVvdXQoYS5ELmJpbmQoYSksMTAwKTtiJiZiLmxvZygpfWZ1bmN0aW9uIGFmKGEpe3ZhciBiO2EuZi5nZXRCb29sKCJ3d3dfdmlkZW9zX2V4dGVuZGVkX3NwbF9sb2dnaW5nX2Zvcl9jb25uZWN0ZWRfdHYiLCExKSYmYS5sJiYoYj1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJjYW5jZWxfd2F0Y2hkb2ciKSk7YS5KJiYoY2xlYXJUaW1lb3V0KGEuSiksYS5KPW51bGwpO2ImJmIubG9nKCl9ClcucHJvdG90eXBlLlA9ZnVuY3Rpb24oYSxiLGMpe3RoaXMubT1udWxsO3ZhciBkPShEYXRlLm5vdygpLWIpLzFFMypjO3RoaXMuYi5jdXJyZW50VGltZTx0aGlzLkYrKHRoaXMuSSgpPzE6LjA1KT90aGlzLmIucGF1c2UoKTooZD1NYXRoLm1heCh0aGlzLkYsYStkKSx0aGlzLmIuY3VycmVudFRpbWU9ZCx0aGlzLm09c2V0VGltZW91dCh0aGlzLlAuYmluZCh0aGlzLGEsYixjKSwyNTApKX07ZnVuY3Rpb24gb2YoYSl7cmV0dXJuIGEuZi5nZXRCb29sKCJ1bmlmeV9zdHJlYW1fc3RhcnRfd2l0aF9idWZmZXJfZGV0ZWN0b3IiLCExKSYmIWEuT30KZnVuY3Rpb24gJGUoYSxiKXtpZighb2YoYSkpe3UuZW5kKCJidWZmZXJpbmciKTtudWxsIT09YS5CJiYoYS5CPW51bGwpO2EubyYmKGEuby5zZXRDb25jbHVkZXIoYikubG9nKCksYS5vPW51bGwpO2lmKGEuRyl7dmFyIGM9RGF0ZS5ub3coKTthLkcuc2V0RXZlbnQoImJ1ZmZlcmluZyIpLnNldENsaWVudFRpbWVCZWdpbihNYXRoLnJvdW5kKGMtdS5nZXQoImJ1ZmZlcmluZyIpKSkuc2V0Q2xpZW50VGltZUVuZChNYXRoLnJvdW5kKGMpKS5sb2coKX1hLncmJihhLmIucGxheWJhY2tSYXRlPWEuaik7YS5oPSExO2EuZGlzcGF0Y2hFdmVudCh5KHt0eXBlOiJidWZmZXJpbmdFbmQifSkpO2EuQSYmKGEuQT0hMSxkaXNwYXRjaERvbUV2ZW50KGEuYiwicGxheWluZyIpKTthLnU9ITF9fVcucHJvdG90eXBlLmphPWZ1bmN0aW9uKGEpe3RoaXMuZGlzcGF0Y2hFdmVudCh5KGEpKX07Vy5wcm90b3R5cGUuZGlzcGF0Y2hFdmVudEV4dGVybj1XLnByb3RvdHlwZS5qYTsKZnVuY3Rpb24gcGYoYSl7dmFyIGI9YS5iLmJ1ZmZlcmVkO2lmKDE9PT1iLmxlbmd0aCliPWIuZW5kKDApO2Vsc2UgaWYoMD09PWIubGVuZ3RoKWI9MDtlbHNle2Zvcih2YXIgYz0wLGQ9MDtkPGIubGVuZ3RoOysrZCliLmVuZChkKT49YS5iLmN1cnJlbnRUaW1lJiYoYz1iLnN0YXJ0KGQpPD1hLmIuY3VycmVudFRpbWU/YysoYi5lbmQoZCktYS5iLmN1cnJlbnRUaW1lKTpjKyhiLmVuZChkKS1iLnN0YXJ0KGQpKSk7cmV0dXJuIGN9cmV0dXJuIE1hdGgubWF4KGItYS5iLmN1cnJlbnRUaW1lLDApfQpXLnByb3RvdHlwZS5EPWZ1bmN0aW9uKGEpe2lmKCF0aGlzLmYuZ2V0Qm9vbCgicHJldmVudF9wbGF5aW5nX29uX2luc3VmZmljaWVudF9idWZmZXIiLCExKXx8IXRoaXMuSyl7a2YodGhpcyk7dmFyIGI9YT9hLnR5cGU6IiIsYz0id2FpdGluZyI9PT1iO2lmKCF0aGlzLmIuZW5kZWQmJiF0aGlzLmIuc2Vla2luZ3x8Yyl7dmFyIGQ7dGhpcy5mLmdldEJvb2woInd3d192aWRlb3NfZXh0ZW5kZWRfc3BsX2xvZ2dpbmdfZm9yX2Nvbm5lY3RlZF90diIsITEpJiZ0aGlzLmwmJihkPXRoaXMubC5nZXRPcGVyYXRpb25Mb2dnZXIoIndhdGNoZG9nIikpO3ZhciBlPXRoaXMuYi5idWZmZXJlZCxmPWUubGVuZ3RoP2UuZW5kKGUubGVuZ3RoLTEpOjAsZzt0aGlzLmYuZ2V0Qm9vbCgiZml4X3Vuc3RhbGxfYnVmZmVyX2NhbGN1bGF0aW9uIiwhMSk/Zz1wZih0aGlzKTpnPU1hdGgubWF4KGYtdGhpcy5iLmN1cnJlbnRUaW1lLDApO3ZhciBoPXRoaXMuYi5jdXJyZW50VGltZSxlPXRoaXMuSSgpP3RoaXMuZi5nZXROdW1iZXIoImxpdmVfYnVmZmVyaW5nX3VuZGVyZmxvd190aHJlc2hvbGQiLAouNSk6dGhpcy5mLmdldE51bWJlcigiYnVmZmVyaW5nX3VuZGVyZmxvd190aHJlc2hvbGQiLDApLGs9dGhpcy5iLmR1cmF0aW9uLGs9aXNOYU4oayk/MDpNYXRoLm1heChrLS4wNSwwKSxmPWY+PWt8fGg+PWssYj1ifHwid2F0Y2hkb2dfdGltZXIiO2lmKHRoaXMuaCl7cWYodGhpcyxhKTthPXJmKHRoaXMuYSk7dmFyIGw9MDxhP2cvYTowO2c+YXx8c2YodGhpcy5hKXx8dGhpcy5mLmdldEJvb2woImZpeF9idWZmZXJpbmdfYXRfdGhlX2VuZF9vZl9wbGF5YmFjayIsITApJiZmPygkZSh0aGlzLGIpLHRoaXMuWSYmIXRoaXMudyYmdGhpcy5iLnBsYXkoKSk6dGhpcy5CIT09bCYmKHRoaXMuQj1sLHRoaXMuZGlzcGF0Y2hFdmVudCh5KHt0eXBlOiJidWZmZXJpbmdQcm9ncmVzcyIscHJvZ3Jlc3M6bH0pKSl9ZWxzZSB0aGlzLmIucGF1c2VkJiYhY3x8ISghZiYmZzxlfHxvZih0aGlzKSl8fCh0aGlzLmg9ITAsdGhpcy53P3RoaXMuYi5wbGF5YmFja1JhdGU9MDp0aGlzLmIucGF1c2UoKSx0aGlzLmwmJgohdGhpcy5vJiYoZz10aGlzLmIuYnVmZmVyZWQsZz1nLmxlbmd0aD9nLmVuZChnLmxlbmd0aC0xKTowLHRoaXMuZi5nZXRCb29sKCJmaXhfdW5zdGFsbF9idWZmZXJfY2FsY3VsYXRpb24iLCExKT9sPXBmKHRoaXMpOmw9TWF0aC5tYXgoZy10aGlzLmIuY3VycmVudFRpbWUsMCksZz0xRTMqKHJmKHRoaXMuYSktbCksdGhpcy5vPXRoaXMubC5nZXRPcGVyYXRpb25Mb2dnZXIoImJ1ZmZlcmluZyIpLnNldExlbmd0aChNYXRoLnJvdW5kKGcpKS5zZXRUeXBlKHRoaXMudT8ic3RhcnQvdW5wYXVzZSI6ImluX3BsYXkiKS5zZXRJbml0aWF0b3IoYikuc3RhcnQoKSksdS5xYSgiYnVmZmVyaW5nIiksdGhpcy5kaXNwYXRjaEV2ZW50KHkoe3R5cGU6ImJ1ZmZlcmluZ1N0YXJ0In0pKSx0aGlzLmYuZ2V0Qm9vbCgibm9fc2tpcF9nYXBzX29uX2J1ZmZlcmluZyIsITEpfHxsZih0aGlzKSxxZih0aGlzLGEpKSxzZih0aGlzLmEpJiYkZSh0aGlzLGIpO2QmJmQubG9nKCl9ZWxzZSB0aGlzLmYuZ2V0Qm9vbCgiZml4X2ZmX2luX3BsYXlfc3RhbGxfdXBvbl9zZWVrIiwKITEpJiZxZih0aGlzLGEpfX07Vy5wcm90b3R5cGUubmE9ZnVuY3Rpb24oYSl7dGhpcy5kaXNwYXRjaEV2ZW50KGEpfTtmdW5jdGlvbiBxZihhLGIpe2ImJiJwbGF5aW5nIj09PWIudHlwZSYmKGEuQT0hMCxldmVudEtpbGwoYikpfVcucHJvdG90eXBlLnRhPWZ1bmN0aW9uKGEpe2lmKHRoaXMuYSl7dmFyIGI9dGhpcy5hO2IuYy52aWRlbyYmYi5jLnZpZGVvLkpjKGEpfX07Vy5wcm90b3R5cGUuc2V0VmlkZW9TdHJlYW1PZmZzZXQ9Vy5wcm90b3R5cGUudGE7ZnVuY3Rpb24gdGYoYSl7Zm9yKHZhciBiPTA7YjxhLmxlbmd0aDsrK2IpZm9yKHZhciBjPWFbYl0sZD0wO2Q8Yy5hLmxlbmd0aDsrK2Qpe2Zvcih2YXIgZT1jLmFbZF0sZj1lLGc9L3ZpZGVvXC93ZWJtOyBjb2RlY3M9ImF2MDEuKiIvLGg9ITEsaz0wO2s8Zi52Lmxlbmd0aDsrK2spe3ZhciBsPWYudltrXTtPZShOZChsKSk/Zy50ZXN0KE5kKGwpKSYmKGg9ITApOihmLnYuc3BsaWNlKGssMSksLS1rKX1pZihoKWZvcihrPTA7azxmLnYubGVuZ3RoOysraylsPWYudltrXSxnLnRlc3QoTmQobCkpfHwoZi52LnNwbGljZShrLDEpLC0tayk7MD09ZS52Lmxlbmd0aCYmKGMuYS5zcGxpY2UoZCwxKSwtLWQpfWZvcihiPTA7YjxhLmxlbmd0aDsrK2IpZm9yKGM9YVtiXSxkPTA7ZDxjLmEubGVuZ3RoOysrZCljLmFbZF0udi5zb3J0KHVmKX0KZnVuY3Rpb24gdWYoYSxiKXt2YXIgYz1hLmJhbmR3aWR0aHx8TnVtYmVyLk1BWF9WQUxVRSxkPWIuYmFuZHdpZHRofHxOdW1iZXIuTUFYX1ZBTFVFO3JldHVybiBjPGQ/LTE6Yz5kPzE6MH07ZnVuY3Rpb24gdmYoYSl7dGhpcy5hPWF9dmYucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmEuZGVzdHJveSgpO3RoaXMuYT1udWxsfTt2Zi5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKGEpe3ZhciBiPXdmKGEsbnVsbCksYz13Zih0aGlzLmEsYSk7cmV0dXJuIFByb21pc2UuYWxsKFtiLGNdKS50aGVuKEoodGhpcyxmdW5jdGlvbihiKXt2YXIgYz1iWzBdO2I9YlsxXTt0Zih0aGlzLmEuYSk7YS5iJiYhdGhpcy5hLmImJihhLmg9ITApO2EuYz10aGlzLmEuYzthLmk9dGhpcy5hLmk/dGhpcy5hLmkuY2xvbmUoKTpudWxsO2EuZz10aGlzLmEuZzt2YXIgZj1bXTt4ZihhLHRoaXMuYSxjLGIsZik7dGYoYS5hKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGYpfSkpfTsKZnVuY3Rpb24gd2YoYSxiKXtmdW5jdGlvbiBjKGEsYil7cmV0dXJuIGEuY29uY2F0KGIpfXZhciBkPWEuYS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuYX0pLnJlZHVjZShjLFtdKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEudn0pLnJlZHVjZShjLFtdKTtpZihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInRlbXBsYXRlZF9sYXN0X3hfdGltZWxpbmUiLCExKSYmYil2YXIgZT1iLmEubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLmF9KS5yZWR1Y2UoYyxbXSkubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLnZ9KS5yZWR1Y2UoYyxbXSkubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLk0uY3JlYXRlKCl9KSxlPVByb21pc2UuYWxsKGUpLnRoZW4oZnVuY3Rpb24oYSl7Zm9yKHZhciBiPU51bWJlci5QT1NJVElWRV9JTkZJTklUWSxjPTA7YzxhLmxlbmd0aDsrK2Mpe3ZhciBlPWFbY107ZS5sZW5ndGgoKSYmZS5sYXN0KCkudW5zY2FsZWRTdGFydFRpbWU8YiYmKGI9ZS5sYXN0KCkudW5zY2FsZWRTdGFydFRpbWUpfWI9CmEubGVuZ3RoP2I6bnVsbDthPWQubWFwKGZ1bmN0aW9uKGEpe2EuTS5FYyYmYS5NLkVjKGIpO3JldHVybiBhLk0uY3JlYXRlKCl9KTtyZXR1cm4gUHJvbWlzZS5hbGwoYSl9KTtlbHNlIGU9ZC5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuTS5jcmVhdGUoKX0pLGU9UHJvbWlzZS5hbGwoZSk7cmV0dXJuIGUudGhlbihmdW5jdGlvbihhKXtmb3IodmFyIGI9e30sYz0wO2M8ZC5sZW5ndGg7KytjKWJbZFtjXS5YXT1hW2NdO3JldHVybiBQcm9taXNlLnJlc29sdmUoYil9KX0KZnVuY3Rpb24geGYoYSxiLGMsZCxlKXt2YXIgZj1uZXcgRDthLmEuZm9yRWFjaChmdW5jdGlvbihhLGIpe2YucHVzaChhLmlkfHwiIitiLGEpfSk7dmFyIGc9bmV3IEQ7Yi5hLmZvckVhY2goZnVuY3Rpb24oYSxiKXtnLnB1c2goYS5pZHx8IiIrYixhKX0pO2E9YWIoZik7Zm9yKGI9MDtiPGEubGVuZ3RoOysrYil7dmFyIGg9YVtiXSxrPWYuZ2V0KGgpOzE8ay5sZW5ndGh8fChoPWcuZ2V0KGgpKSYmMCE9aC5sZW5ndGgmJjE9PWgubGVuZ3RoJiYoeWYoa1swXSxoWzBdLGMsZCxlKSxrWzBdLmR1cmF0aW9uPWhbMF0uZHVyYXRpb24pfX0KZnVuY3Rpb24geWYoYSxiLGMsZCxlKXt2YXIgZj1uZXcgRDthLmEuZm9yRWFjaChmdW5jdGlvbihhLGIpe2YucHVzaChhLmlkfHwiIitiLGEpfSk7dmFyIGc9bmV3IEQ7Yi5hLmZvckVhY2goZnVuY3Rpb24oYSxiKXtnLnB1c2goYS5pZHx8IiIrYixhKX0pO2E9YWIoZik7Zm9yKGI9MDtiPGEubGVuZ3RoOysrYil7dmFyIGg9YVtiXSxrPWYuZ2V0KGgpOzE8ay5sZW5ndGh8fChoPWcuZ2V0KGgpKSYmMCE9aC5sZW5ndGgmJjE9PWgubGVuZ3RoJiZ6ZihrWzBdLGhbMF0sYyxkLGUpfX0KZnVuY3Rpb24gemYoYSxiLGMsZCxlKXt2YXIgZj1uZXcgRDthLnYuZm9yRWFjaChmdW5jdGlvbihhLGIpe2YucHVzaChhLmlkfHwiIitiLGEpfSk7dmFyIGc9bmV3IEQ7Yi52LmZvckVhY2goZnVuY3Rpb24oYSxiKXtnLnB1c2goYS5pZHx8IiIrYixhKX0pO2I9e307Zm9yKHZhciBoPWFiKGYpLGs9MDtrPGgubGVuZ3RoOysrayl7dmFyIGw9aFtrXTtiW2xdPWw7dmFyIG09Zi5nZXQobCk7MTxtLmxlbmd0aHx8KChsPWcuZ2V0KGwpKSYmMCE9bC5sZW5ndGg/MT09bC5sZW5ndGgmJihCZihtWzBdLGxbMF0sYyxkKSxtWzBdLmFhPWxbMF0uYWEsbFswXS5hYT1udWxsLG1bMF0uYT1sWzBdLmEsVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJyZWZyZXNoX2JhbmR3aWR0aF9mcm9tX2xpdmVfbWFuaWZlc3QiLCExKSYmKG1bMF0uYmFuZHdpZHRoPWxbMF0uYmFuZHdpZHRoKSk6KGUucHVzaChtWzBdKSxhLnYuc3BsaWNlKGEudi5pbmRleE9mKG1bMF0pLDEpKSl9aD1hYihnKTsKZm9yKGs9MDtrPGgubGVuZ3RoOysraylsPWhba10sYltsXXx8KGJbbF09bCxsPWcuZ2V0KGwpLGEudi5wdXNoKGxbMF0pKX1mdW5jdGlvbiBCZihhLGIsYyxkKXthPWNbYS5YXTtjPWRbYi5YXTtkPShiPWEubGVuZ3RoKCkpP2EubGFzdCgpLmVuZFRpbWU6MDtpZihhLkIoYykpe2M9YS5sZW5ndGgoKTt2YXIgZT0hMTtWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInJvYnVzdF9jb3VudF9jaGFuZ2VzIiwhMSkmJihlPSEhYyYmYS5sYXN0KCkuZW5kVGltZT5kKTthLmcucHVzaChiIT09Y3x8ZSk7NTA8YS5nLmxlbmd0aCYmYS5nLnNoaWZ0KCl9fTtmdW5jdGlvbiBYKCl7dGhpcy5hPXRoaXMuYj1udWxsO3RoaXMuZj1uZXcgYmI7dGhpcy5jPU51bWJlci5QT1NJVElWRV9JTkZJTklUWTt0aGlzLmk9ITA7dGhpcy5nPSExfXEoInNoYWthLm1lZGlhLlNpbXBsZUFick1hbmFnZXIiLFgpO1gucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmYuZGVzdHJveSgpO3RoaXMuYT10aGlzLmI9dGhpcy5mPW51bGx9O1gucHJvdG90eXBlLmluaXRpYWxpemU9ZnVuY3Rpb24oYSxiKXt0aGlzLmJ8fHRoaXMuYXx8KHRoaXMuYj1hLHRoaXMuYT1iKX07ClgucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKCl7dGhpcy5iJiZ0aGlzLmEmJiF0aGlzLmcmJih0aGlzLmM9RGF0ZS5ub3coKSs0RTMsRSh0aGlzLmYsdGhpcy5iLmdldEVzdGltYXRvcigpLCJiYW5kd2lkdGgiLHRoaXMubS5iaW5kKHRoaXMpKSxFKHRoaXMuZix0aGlzLmEsImFkYXB0YXRpb24iLHRoaXMuai5iaW5kKHRoaXMpKSxFKHRoaXMuZix0aGlzLmEsInRyYWNrc2NoYW5nZWQiLHRoaXMuaC5iaW5kKHRoaXMpKSx0aGlzLmc9ITApfTtYLnByb3RvdHlwZS5lbmFibGU9ZnVuY3Rpb24oYSl7dGhpcy5pPWF9O1gucHJvdG90eXBlLmdldEluaXRpYWxWaWRlb1RyYWNrSWQ9ZnVuY3Rpb24oKXtpZighdGhpcy5ifHwhdGhpcy5hKXJldHVybiBudWxsO3ZhciBhPUNmKHRoaXMpO3JldHVybiBhP2EuaWQ6bnVsbH07WC5wcm90b3R5cGUuZ2V0SW5pdGlhbFN3aXRjaFJlYXNvbj1mdW5jdGlvbigpe3JldHVybiBudWxsfTtYLnByb3RvdHlwZS5nZXRJbml0aWFsQXVkaW9UcmFja0lkPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9OwpYLnByb3RvdHlwZS5zZWxlY3RWaWRlb1RyYWNrPWZ1bmN0aW9uKGEsYixjKXt0aGlzLmcmJnRoaXMuYS5zZWxlY3RWaWRlb1RyYWNrKGEuaWQsYixjKX07WC5wcm90b3R5cGUubT1mdW5jdGlvbigpe0RhdGUubm93KCk8dGhpcy5jfHx0aGlzLmgoKX07WC5wcm90b3R5cGUuaD1mdW5jdGlvbigpe2lmKHRoaXMuaSl7dmFyIGE9Q2YodGhpcyk7aWYoYSl7aWYoYS5hY3RpdmUpe3RoaXMuYz1EYXRlLm5vdygpKzNFMztyZXR1cm59dGhpcy5zZWxlY3RWaWRlb1RyYWNrKGEsITEpfXRoaXMuYz1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFl9fTtYLnByb3RvdHlwZS5qPWZ1bmN0aW9uKCl7dGhpcy5jPT1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkmJih0aGlzLmM9RGF0ZS5ub3coKSszRTQpfTsKZnVuY3Rpb24gQ2YoYSl7dmFyIGI9YS5hLlooKTtpZigwPT1iLmxlbmd0aClyZXR1cm4gbnVsbDtiLnNvcnQodmEpO3ZhciBjO2E6e2M9YS5hLnZhKCk7Zm9yKHZhciBkPTA7ZDxjLmxlbmd0aDsrK2QpaWYoY1tkXS5hY3RpdmUpe2M9Y1tkXTticmVhayBhfWM9bnVsbH1jPWM/Yy5iYW5kd2lkdGg6MDthPWEuYi5nZXRCYW5kd2lkdGgoKTtmb3IodmFyIGQ9YlswXSxlPTA7ZTxiLmxlbmd0aDsrK2Upe3ZhciBmPWJbZV0sZz1lKzE8Yi5sZW5ndGg/YltlKzFdOntiYW5kd2lkdGg6TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZfTtpZihmLmJhbmR3aWR0aCYmKGc9KGcuYmFuZHdpZHRoK2MpLy44NSxhPj0oZi5iYW5kd2lkdGgrYykvLjk1JiZhPD1nJiYoZD1mLGQuYWN0aXZlKSkpYnJlYWt9cmV0dXJuIGR9O2Z1bmN0aW9uIFkoYSxiLGMsZCl7Ri5jYWxsKHRoaXMsbnVsbCk7dGhpcy5iPWE7dGhpcy5hPWI7dGhpcy53YT1jO3RoaXMua2I9bmV3IFZpZGVvUGxheWVyTG9jYWxCYW5kd2lkdGhFc3RpbWF0b3IodGhpcyxjLGIpO3RoaXMuaD1uZXcgYmI7dGhpcy5pPW5ldyBNZWRpYVNvdXJjZTt0aGlzLmJhPXRoaXMudmlkZW89bnVsbDt0aGlzLkJiPTA7dGhpcy5uYz10aGlzLlpiPSExO3RoaXMuTGI9aWE7dGhpcy5BYj10aGlzLlY9dGhpcy5pYT10aGlzLmw9bnVsbDt0aGlzLktiPTM7dGhpcy5yYT10aGlzLiRiPXRoaXMuRmE9dGhpcy5FYT0hMTt0aGlzLlBhPTA7dGhpcy5kYT1uZXcgVmlkZW9QdXNoVHJhY2tlcjt0aGlzLmdhPW51bGw7dGhpcy5pYz0xO3RoaXMuZ2M9SW5maW5pdHk7dGhpcy5VYj10aGlzLlNiPSExO3RoaXMucGE9dGhpcy5PYT1udWxsO3RoaXMuV2I9dGhpcy5WYj10aGlzLkdhPXRoaXMuY2M9dGhpcy5tYT0hMTt0aGlzLmY9bmV3IEQ7dGhpcy5BPWQ7dGhpcy5BLmluaXRpYWxpemUodGhpcy5rYiwKdGhpcyk7dGhpcy5PPSExO3RoaXMuUz0iZW4iO3RoaXMueWE9ITE7dGhpcy5KPW5ldyBJO3RoaXMuSWI9bmV3IEk7dGhpcy5tPW5ldyBrYTt0aGlzLkQ9bnVsbDt0aGlzLmtjPTE7dGhpcy5jPXt9O3RoaXMuc2E9bmV3IEk7dGhpcy5qYT0wO3RoaXMuZ2I9MTVFMzt0aGlzLmo9bnVsbDt0aGlzLmVjPSExO3RoaXMuZGM9MDt0aGlzLkNhPSExO3RoaXMuQj17fTt0aGlzLmxhPXRoaXMua2E9dGhpcy51PW51bGw7dGhpcy5nPXt9O3RoaXMuJD0hMTt0aGlzLmZjPTA7dGhpcy5LPXRoaXMuYS5nZXROdW1iZXIoImJ1ZmZlcmluZ19vdmVyZmxvd190aHJlc2hvbGQiLDApO3RoaXMucGM9bnVsbDt0aGlzLm89e307dGhpcy53PXt9O3RoaXMuUj1udWxsO3RoaXMuVT1bXTt0aGlzLlQ9dGhpcy5JPW51bGw7dGhpcy5HPW5ldyBOZXR3b3JrU3RhdHVzRGV0ZWN0b3I7dGhpcy5oYz0hMTt0aGlzLm5hPSEwO3RoaXMuZWE9ITE7dGhpcy51Yz1uZXcgU3Vic2NyaXB0aW9uc0hhbmRsZXI7dGhpcy5ZYj0hMTsKdGhpcy54YT0xO3RoaXMuSWQ9dGhpcy5hLmdldE51bWJlcigic3RyZWFtX21heGltdW1fb25wYXVzZV9idWZmZXJfc2l6ZV9tdWx0aXBsaWVyIiwwKTt0aGlzLmNhPW51bGw7dGhpcy5hLmdldEJvb2woImFsbG93X2luZmluaXRlX3JldHJ5X29uX25ldF9lcnIiLCEwKSYmdGhpcy51Yy5hZGRTdWJzY3JpcHRpb25zKHRoaXMuRy5hZGRMaXN0ZW5lcigibmV0d29ya0ludGVycnVwdGVkIix0aGlzLlRjLHRoaXMpLHRoaXMuRy5hZGRMaXN0ZW5lcigibmV0d29ya1Jlc3VtZWQiLHRoaXMuVWMsdGhpcyksdGhpcy5HLmFkZExpc3RlbmVyKCJzeXN0ZW1XYWtlIix0aGlzLlZjLHRoaXMpKX1yKFksRik7cSgic2hha2EucGxheWVyLlN0cmVhbVZpZGVvU291cmNlIixZKTtZLnByb3RvdHlwZS5YYj1mdW5jdGlvbigpe3JldHVybntWaWRlb1NvdXJjZVN0cmVhbTp0aGlzLmMudmlkZW8sQXVkaW9Tb3VyY2VTdHJlYW06dGhpcy5jLmF1ZGlvLFRleHRTb3VyY2VTdHJlYW06dGhpcy5jLnRleHQsQmFuZHdpZHRoRXN0aW1hdG9yOnRoaXMud2F9fTsKWS5wcm90b3R5cGUuZ2V0U3RyZWFtRGVidWc9WS5wcm90b3R5cGUuWGI7WS5wcm90b3R5cGUuUGM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iP3RoaXMuYi53OiJub25lIn07WS5wcm90b3R5cGUuZ2V0TXBkQXVkaW9Db25maWc9WS5wcm90b3R5cGUuUGM7ClkucHJvdG90eXBlLmxjPWZ1bmN0aW9uKGEpe251bGwhPWEuc3RyZWFtQnVmZmVyU2l6ZSYmKHRoaXMuZy5zdHJlYW1CdWZmZXJTaXplPWEuc3RyZWFtQnVmZmVyU2l6ZSk7bnVsbCE9YS5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZSYmKHRoaXMuZy5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZT1hLmluaXRpYWxTdHJlYW1CdWZmZXJTaXplKTtudWxsIT1hLmR5bmFtaWNTdHJlYW1CdWZmZXJTaXplJiYodGhpcy5nLmR5bmFtaWNTdHJlYW1CdWZmZXJTaXplPWEuZHluYW1pY1N0cmVhbUJ1ZmZlclNpemUpO251bGwhPWEuc21hcnRCdWZmZXJBZGp1c3RtZW50UGFyYW1zJiYodGhpcy5nLnNtYXJ0QnVmZmVyQWRqdXN0bWVudFBhcmFtcz1hLnNtYXJ0QnVmZmVyQWRqdXN0bWVudFBhcmFtcyk7bnVsbCE9YS5hZGRDZG5EZWJ1Z1F1ZXJ5UGFyYW1ldGVycyYmKHRoaXMuZy5hZGRDZG5EZWJ1Z1F1ZXJ5UGFyYW1ldGVycz1hLmFkZENkbkRlYnVnUXVlcnlQYXJhbWV0ZXJzKTtudWxsIT1hLnNlZ21lbnRSZXF1ZXN0VGltZW91dCYmCih0aGlzLmcuc2VnbWVudFJlcXVlc3RUaW1lb3V0PWEuc2VnbWVudFJlcXVlc3RUaW1lb3V0KTtudWxsIT1hLnJlc29sdmVWaWRlb1RpbWVVcGRhdGVPbkZyYWdtZW50ZWRUaW1lUmFuZ2VzJiYodGhpcy5nLnJlc29sdmVWaWRlb1RpbWVVcGRhdGVPbkZyYWdtZW50ZWRUaW1lUmFuZ2VzPWEucmVzb2x2ZVZpZGVvVGltZVVwZGF0ZU9uRnJhZ21lbnRlZFRpbWVSYW5nZXMpO251bGwhPWEucmVhcHBlbmRJbml0U2VnbWVudEFmdGVyQWJvcnQmJih0aGlzLmcucmVhcHBlbmRJbml0U2VnbWVudEFmdGVyQWJvcnQ9YS5yZWFwcGVuZEluaXRTZWdtZW50QWZ0ZXJBYm9ydCk7bnVsbCE9YS5saXZlRGF0YUZldGNoTWF4UmV0cmllcyYmKHRoaXMuZy5saXZlRGF0YUZldGNoTWF4UmV0cmllcz1hLmxpdmVEYXRhRmV0Y2hNYXhSZXRyaWVzKTtudWxsIT1hLmxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXMmJih0aGlzLmcubGl2ZVNvdXJjZUJ1ZmZlckNsZWFyTWF4UmV0cmllcz1hLmxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXMpOwpudWxsIT1hLnBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2UmJih0aGlzLmcucGxheWhlYWRGcmFnbWVudGVkR2FwRGlmZkFsbG93YW5jZT1hLnBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2UpO251bGwhPWEuZml4QnVmZmVyaW5nR29hbERldGVybWluYXRpb24mJih0aGlzLmcuZml4QnVmZmVyaW5nR29hbERldGVybWluYXRpb249YS5maXhCdWZmZXJpbmdHb2FsRGV0ZXJtaW5hdGlvbik7bnVsbCE9YS5za2lwRW1wdHlTZWdtZW50cyYmKHRoaXMuZy5za2lwRW1wdHlTZWdtZW50cz1hLnNraXBFbXB0eVNlZ21lbnRzKTtudWxsIT1hLnVzZU1pY3JvVGFza1RpbWVvdXRzJiYodGhpcy5nLnVzZU1pY3JvVGFza1RpbWVvdXRzPWEudXNlTWljcm9UYXNrVGltZW91dHMpO0RmKHRoaXMpO251bGwhPWEuaW5jbHVkZVN0cmVhbUJ1ZmZlclNpemVJblN0YXJ0T2Zmc2V0JiYodGhpcy5aYj1Cb29sZWFuKGEuaW5jbHVkZVN0cmVhbUJ1ZmZlclNpemVJblN0YXJ0T2Zmc2V0KSk7Cm51bGwhPWEubGl2ZUF1ZGlvUHVzaFJlcHJlc2VudGF0aW9uJiYodGhpcy5wYT1TdHJpbmcoYS5saXZlQXVkaW9QdXNoUmVwcmVzZW50YXRpb24pKTtudWxsIT1hLmxpdmVJbml0aWFsUHVzaFJlcHJlc2VudGF0aW9uJiYodGhpcy5PYT1TdHJpbmcoYS5saXZlSW5pdGlhbFB1c2hSZXByZXNlbnRhdGlvbikpO251bGwhPWEuZW5hYmxlQWRhcHRhdGlvbiYmdGhpcy5BLmVuYWJsZShCb29sZWFuKGEuZW5hYmxlQWRhcHRhdGlvbikpO251bGwhPWEubXBkUmVxdWVzdFRpbWVvdXQmJih0aGlzLkxiPU51bWJlcihhLm1wZFJlcXVlc3RUaW1lb3V0KSk7bnVsbCE9YS5taW5NcGRSZWZyZXNoSW50ZXJ2YWwmJih0aGlzLktiPU51bWJlcihhLm1pbk1wZFJlZnJlc2hJbnRlcnZhbCkvMUUzKTtudWxsIT1hLmVuYWJsZU1hbmlmZXN0RGVidWcmJih0aGlzLlViPSEhYS5lbmFibGVNYW5pZmVzdERlYnVnKTtudWxsIT1hLmxpdmVTdHJlYW1FbmRUaW1lb3V0JiYodGhpcy5nYj1OdW1iZXIoYS5saXZlU3RyZWFtRW5kVGltZW91dCkpOwpudWxsIT1hLnByZWZlcnJlZExhbmd1YWdlJiYodGhpcy5TPVNhKFN0cmluZyhhLnByZWZlcnJlZExhbmd1YWdlKSkpO251bGwhPWEubGl2ZVNlbmRQdXNoSGVhZGVycyYmKHRoaXMucmE9Qm9vbGVhbihhLmxpdmVTZW5kUHVzaEhlYWRlcnMpKTtudWxsIT1hLmxpdmVNYXhNYW5pZmVzdEZldGNoZXNXaXRoUHVzaCYmKHRoaXMuUGE9TnVtYmVyKGEubGl2ZU1heE1hbmlmZXN0RmV0Y2hlc1dpdGhQdXNoKSk7bnVsbCE9YS5jdXJyZW50VGltZUR1cmluZ1JlYWR5U3RhdGVaZXJvVGhyb3dzJiYodGhpcy5TYj1Cb29sZWFuKGEuY3VycmVudFRpbWVEdXJpbmdSZWFkeVN0YXRlWmVyb1Rocm93cykpO251bGwhPWEubGl2ZU1heFNlZ21lbnRzVG9QdXNoJiYodGhpcy5nYz1OdW1iZXIoYS5saXZlTWF4U2VnbWVudHNUb1B1c2gpKTtudWxsIT1hLmp1bXBUb0xpdmVUaHJlc2hvbGQmJih0aGlzLmRjPU51bWJlcihhLmp1bXBUb0xpdmVUaHJlc2hvbGQpKTtudWxsIT1hLnJlc3RyaWN0aW9ucyYmKHRoaXMubT0KYS5yZXN0cmljdGlvbnMsdGhpcy5PJiZFZih0aGlzKSk7bnVsbCE9YS51c2VMb25nQ2FjaGVGb3JNYW5pZmVzdCYmKHRoaXMubWE9Qm9vbGVhbihhLnVzZUxvbmdDYWNoZUZvck1hbmlmZXN0KSk7bnVsbCE9YS5qdW1wVG9FYXJsaWVzdFBvc2l0aW9uSW5DdXJyZW50QmxvY2smJih0aGlzLmNjPUJvb2xlYW4oYS5qdW1wVG9FYXJsaWVzdFBvc2l0aW9uSW5DdXJyZW50QmxvY2spKTtudWxsIT1hLmlnbm9yZU1pbkJ1ZmZlclRpbWUmJih0aGlzLkdhPUJvb2xlYW4oYS5pZ25vcmVNaW5CdWZmZXJUaW1lKSk7bnVsbCE9PWEuZW5hYmxlUmVxdWVzdFBpcGVsaW5pbmcmJih0aGlzLlZiPUJvb2xlYW4oYS5lbmFibGVSZXF1ZXN0UGlwZWxpbmluZykpO251bGwhPT1hLmVuYWJsZVN0cmVhbWluZyYmKHRoaXMuV2I9Qm9vbGVhbihhLmVuYWJsZVN0cmVhbWluZykpfTsKWS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuSi5kZXN0cm95KCk7dGhpcy5zYS5kZXN0cm95KCk7dGhpcy5zYT10aGlzLko9bnVsbDt0aGlzLmthJiYoY2xlYXJUaW1lb3V0KHRoaXMua2EpLHRoaXMua2E9bnVsbCk7dGhpcy51JiYoY2xlYXJUaW1lb3V0KHRoaXMudSksdGhpcy51PW51bGwpO3RoaXMuQj1udWxsO3RoaXMuaC5kZXN0cm95KCk7dGhpcy5oPW51bGw7V2EodGhpcy5jKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2EuZGVzdHJveSgpfSk7dGhpcy5mPXRoaXMuYz1udWxsO3RoaXMuYiYmKHRoaXMuYi5kZXN0cm95KCksdGhpcy5iPW51bGwpO3RoaXMuQS5kZXN0cm95KCk7dGhpcy5KYT10aGlzLm09dGhpcy52aWRlbz10aGlzLmk9dGhpcy53YT10aGlzLkE9bnVsbDt0aGlzLmEuZ2V0Qm9vbCgiZml4aW5nX3NjaGVkdWxlcl9kaXNhYmxlX2xlYWtzIiwhMCkmJihPYmplY3Qua2V5cyh0aGlzLm8pLmZvckVhY2goZnVuY3Rpb24oYSl7KGE9dGhpcy5vW2FdKSYmYS5kaXNhYmxlKCl9LmJpbmQodGhpcykpLAp0aGlzLm89e30pO09iamVjdC5rZXlzKHRoaXMudykuZm9yRWFjaChmdW5jdGlvbihhKXsoYT10aGlzLndbYV0pJiZhLmRlc3Ryb3koKX0uYmluZCh0aGlzKSk7dGhpcy53PXt9O3RoaXMuSSYmKHRoaXMuSS5kaXNhYmxlKCksdGhpcy5JPW51bGwpO3RoaXMuUiYmKHRoaXMuUi5jbGVhbnVwKCksdGhpcy5SPW51bGwpO2Zvcih2YXIgYT0wO2E8dGhpcy5VLmxlbmd0aDthKyspdGhpcy5VW2FdLmNsZWFudXAoKTt0aGlzLlU9W107dGhpcy51Yy5yZWxlYXNlKCl9O2Z1bmN0aW9uIGVmKGEsYil7aWYoYS5sKXt2YXIgYz1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJtZWRpYV9zb3VyY2Vfb3BlbiIpLnN0YXJ0KCk7YS5JYi50aGVuKGZ1bmN0aW9uKCl7Yy5sb2coKX0pfUUoYS5oLGEuaSwic291cmNlb3BlbiIsYS5oZC5iaW5kKGEpKTtiLnNyYz13aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChhLmkpfW49WS5wcm90b3R5cGU7bi52Yz1mdW5jdGlvbigpe307CmZ1bmN0aW9uIGpmKGEsYixjKXt2YXIgZDthLmwmJihkPWEubC5nZXRPcGVyYXRpb25Mb2dnZXIoInNvdXJjZV9hdHRhY2giKS5zdGFydCgpKTtpZighYS5PKXJldHVybiBhPUVycm9yKCJDYW5ub3QgY2FsbCBhdHRhY2goKSByaWdodCBub3cuIiksYS50eXBlPSJhcHAiLGQmJmQuc2V0RXJyb3IoYSkubG9nKCksUHJvbWlzZS5yZWplY3QoYSk7YS5KYT1iO2EudmlkZW89YzthLmJhPW51bGw7YS5hLmdldEJvb2woImVuYWJsZV92aWV3cG9ydF9wcmlvcml0eV9hZGp1c3RtZW50IiwhMSkmJihhLlI9bmV3IFZpZXdwb3J0UHJpb3JpdHlBZGp1c3RlcihhLnZpZGVvKSxhLlIuc2V0T25Qcmlvcml0eUNoYW5nZWQoZnVuY3Rpb24oYSl7T2JqZWN0LmtleXModGhpcy5vKS5mb3JFYWNoKGZ1bmN0aW9uKGIpe3RoaXMub1tiXS51cGRhdGVQcmlvcml0eVdpdGhOZXdBZGp1c3RtZW50KGEpfS5iaW5kKHRoaXMpKX0uYmluZChhKSkpO2EuYS5nZXRCb29sKCJlbmFibGVfZmlyc3RfdmlkZW9fcHJpb3JpdHlfYWRqdXN0bWVudCIsCiExKSYmYS5VLnB1c2gobmV3IEZpcnN0TG9hZGVkVmlkZW9Qcmlvcml0eUFkanVzdGVyKGEudmlkZW8pKTtFKGEuaCxhLnZpZGVvLCJsb2FkZWRtZXRhZGF0YSIsYS5nZC5iaW5kKGEpKTtFKGEuaCxhLndhLCJiYW5kd2lkdGgiLGEuR2QuYmluZChhKSk7aWYoYS5iLmJ8fGEuYS5nZXRCb29sKCJiYWNrX29mZl9idWZmZXJpbmdfb3ZlcmZsb3ciLCExKSlFKGEuaCxiLCJidWZmZXJpbmdTdGFydCIsYS5jZC5iaW5kKGEpKSxFKGEuaCxiLCJidWZmZXJpbmdFbmQiLGEuYmQuYmluZChhKSk7Yj1hLmEuZ2V0Qm9vbCgiZW5hYmxlX2NvbnRlbnRfcHJvdGVjdGlvbiIsITEpPyhiPWEudmlkZW8ubWVkaWFLZXlzKSYmYS52aWRlby5zZXRNZWRpYUtleXM/YS52aWRlby5zZXRNZWRpYUtleXMoYik6UHJvbWlzZS5yZXNvbHZlKCk6UHJvbWlzZS5yZXNvbHZlKCk7RmYoYSkudGhlbihKKGEsZnVuY3Rpb24oKXtkJiZ0aGlzLlAoKSYmZC5zZXRMaXZlaGVhZFBvc2l0aW9uKEdmKEhmKHRoaXMpKSk7dGhpcy5KJiYKdGhpcy5KLnJlc29sdmUoKTt0aGlzLnZjKCl9KSkuY2F0Y2goSihhLGZ1bmN0aW9uKGEpe3RoaXMuSiYmdGhpcy5KLnJlamVjdChhKX0pKTtyZXR1cm4gUHJvbWlzZS5hbGwoW2EuSixiXSkudGhlbihmdW5jdGlvbigpe2QmJmQubG9nKCl9KX0Kbi53Yj1mdW5jdGlvbigpe2lmKHRoaXMuTyl7dmFyIGE9RXJyb3IoIkNhbm5vdCBjYWxsIGxvYWQoKSByaWdodCBub3cuIik7YS50eXBlPSJhcHAiO3JldHVybiBQcm9taXNlLnJlamVjdChhKX1pZighdGhpcy5ifHwwPT10aGlzLmIuYS5sZW5ndGgpcmV0dXJuIGE9RXJyb3IoIlRoZSBtYW5pZmVzdCBkb2VzIG5vdCBzcGVjaWZ5IGFueSBjb250ZW50LiIpLGEudHlwZT0ic3RyZWFtIixQcm9taXNlLnJlamVjdChhKTt0Zih0aGlzLmIuYSk7aWYoMD09dGhpcy5iLmEubGVuZ3RofHwwPT10aGlzLmIuYVswXS5hLmxlbmd0aHx8IXRoaXMuYi5hWzBdLmEuc29tZShmdW5jdGlvbihhKXtyZXR1cm4idmlkZW8iPT09YS5jb250ZW50VHlwZX0pKXJldHVybiBhPUVycm9yKCJUaGUgbWFuaWZlc3Qgc3BlY2lmaWVzIGNvbnRlbnQgdGhhdCBjYW5ub3QgYmUgZGlzcGxheWVkIG9uIHRoaXMgYnJvd3Nlci9wbGF0Zm9ybS4iKSxhLnR5cGU9InN0cmVhbSIsUHJvbWlzZS5yZWplY3QoYSk7dGhpcy5PPQohMDt0aGlzLkdhfHwodGhpcy5nLmluaXRpYWxTdHJlYW1CdWZmZXJTaXplPU1hdGgubWF4KHRoaXMuZy5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZXx8MCx0aGlzLmIuZykpO3RoaXMuaWEmJnRoaXMuaWEuc2V0U3RyZWFtVHlwZSh0aGlzLmIuQik7RGYodGhpcyk7RWYodGhpcyk7cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpfTtmdW5jdGlvbiBJZihhKXt2YXIgYj15KHt0eXBlOiJtYW5pZmVzdHdyYXBwZWQiLGJ1YmJsZXM6ITB9KTthLmRpc3BhdGNoRXZlbnQoYil9ZnVuY3Rpb24gSmYoYSxiKXt2YXIgYz15KHt0eXBlOiJsaXZlaGVhZElkbGVBdCIsc2Vjb25kczpiLGJ1YmJsZXM6ITB9KTthLmRpc3BhdGNoRXZlbnQoYyl9ZnVuY3Rpb24gR2YoYSl7cmV0dXJuIE1hdGgubWluLmFwcGx5KE1hdGgsYS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEubGVuZ3RoKCk/YS5sYXN0KCkuZW5kVGltZTpudWxsfSkuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiEhYX0pKX0Kbi5KYj1mdW5jdGlvbihhLGIpe3ZhciBjO3RoaXMuYS5nZXRCb29sKCJkZWNvdXBsZV9tcGRfdXBkYXRlX2xvb3BfZnJvbV9yZXF1ZXN0X2xvb3AiLCExKSYmS2YodGhpcywwKTt0aGlzLlYmJih0aGlzLlYubG9nKCksdGhpcy5WPW51bGwpO3RoaXMubCYmKGM9dGhpcy5sLmdldE9wZXJhdGlvbkxvZ2dlcigidXBkYXRlX21hbmlmZXN0Iikuc3RhcnQoKSk7aWYoIWJ8fHRoaXMuTyl7dmFyIGQ9RGF0ZS5ub3coKTt0aGlzLmEuZ2V0Qm9vbCgiZGVjb3VwbGVfbXBkX3VwZGF0ZV9sb29wX2Zyb21fcmVxdWVzdF9sb29wIiwhMSl8fCh0aGlzLnU9bnVsbCk7dmFyIGU9bnVsbCxmLGc7aWYodGhpcy5yYSYmKCF0aGlzLlBhfHx0aGlzLlBhPnRoaXMuaWMpKXtmPU1hdGguZmxvb3IoTGYodGhpcykpKzE7Zj1NYXRoLm1pbihmLHRoaXMuZ2MpO3ZhciBoPXRoaXMuYy52aWRlbztpZihoPWg/aC5GYigpOm51bGwpaD1oLmxhc3QoKSxudWxsIT1oLnVuc2NhbGVkU3RhcnRUaW1lJiYoZz1oLnVuc2NhbGVkU3RhcnRUaW1lKTsKaWYodGhpcy52aWRlby5wYXVzZWR8fHRoaXMuJClmPTB9ZiYmdGhpcy5pYysrO2g9dGhpcy5iLmk7aD10aGlzLmEuZ2V0Qm9vbCgiZW5hYmxlX2NsZWFuX2ZhaWxvdmVyX3VyaV9vbl9tcGRfcmVxdWVzdHMiLCEwKT9oLmNsb25lKCk6aDtjJiYhYSYmYy5zZXRSZXNvdXJjZShoLnRvU3RyaW5nKCkpOyhhP3RoaXMueGMoKTp0aGlzLnljKGgsZixnKSkudGhlbihKKHRoaXMsZnVuY3Rpb24oYil7YXx8dGhpcy5HLmluZm9ybU5ldHdvcmtSZXN1bWVkKCk7ZT1uZXcgdmYoYik7dmFyIGM7dGhpcy5sJiYoYz10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJ1cGRhdGVfbWFuaWZlc3RfaW5mbyIpLnN0YXJ0KCkpO2I9ZS51cGRhdGUodGhpcy5iKTtiLnRoZW4oZnVuY3Rpb24oKXtjJiZjLmxvZygpfSxmdW5jdGlvbihhKXtjJiZjLnNldEVycm9yKGEpLmxvZygpfSkuY2F0Y2goZnVuY3Rpb24oKXt9KTtyZXR1cm4gYn0pKS50aGVuKEoodGhpcyxmdW5jdGlvbihhKXtlLmRlc3Ryb3koKTtlPW51bGw7CnZhciBmPUhmKHRoaXMpO3RoaXMuTGEoIlNlZ21lbnRJbmRleGVzVXBkYXRlZCIsZik7aWYodGhpcy5hLmdldEJvb2woImVtaXRfbGl2ZV9wbGF5aGVhZF9pZGxlX2Zyb21fY2xpZW50IiwhMCkpe3ZhciBnPXRoaXMuYS5nZXROdW1iZXIoImxpdmVfcGxheWhlYWRfaWRsZV9hbGxfc3RyZWFtX3RocmVzaG9sZCIsNCksaD10aGlzLmEuZ2V0TnVtYmVyKCJsaXZlX3BsYXloZWFkX2lkbGVfc2luZ2xlX3N0cmVhbV90aHJlc2hvbGQiLDUpO2lmKEhmKHRoaXMpLmV2ZXJ5KGZ1bmN0aW9uKGEpe3JldHVybiBhLnUoKT49Z30pfHxIZih0aGlzKS5zb21lKGZ1bmN0aW9uKGEpe3JldHVybiBhLnUoKT49aH0pKXt2YXIgdD1HZihmKTtKZih0aGlzLHQpfX1mLnNvbWUoZnVuY3Rpb24oYSl7cmV0dXJuIGEucmIoKX0pJiZJZih0aGlzKTt0PU1mKHRoaXMsZik7YyYmdGhpcy5QKCkmJmMuc2V0TGl2ZWhlYWRQb3NpdGlvbihHZihmKSk7YyYmYy5zZXRNYW5pZmVzdFR5cGUodGhpcy5iLmI/ImR5bmFtaWMiOgoic3RhdGljIikuc2V0VXBkYXRlUGVyaW9kKG51bGw9PT10aGlzLmIuYz9udWxsOk1hdGguY2VpbCgxRTMqdGhpcy5iLmMpKTt0aGlzLm5hJiZOZih0aGlzLHQpO3RoaXMuYS5nZXRCb29sKCJza2lwX3JlbWFpbmluZ19idWZmZXJlZF9vbl9zdHJlYW1fZW5kIiwhMSkmJnQmJnRoaXMuYi5iJiZ0aGlzLmIuaCYmdGhpcy52aWRlby5wYXVzZWQmJih0aGlzLnZpZGVvLmN1cnJlbnRUaW1lPXRoaXMuamEtLjEpO2lmKHNmKHRoaXMpKXJldHVybiBjJiZjLmxvZygpLHRoaXMuZWIoKTtmb3IoZj0wO2Y8YS5sZW5ndGg7KytmKU9mKHRoaXMsYVtmXSk7dGhpcy5HYXx8KHRoaXMuZy5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZT1NYXRoLm1heCh0aGlzLmcuaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemV8fDAsdGhpcy5iLmcpKTt0aGlzLmcudXNlSW5pdGlhbEJ1ZmZlclNpemVXaGVuUGF1c2VkPXRoaXMuYi5iO0RmKHRoaXMpO0VmKHRoaXMpOzA9PU9iamVjdC5rZXlzKHRoaXMuYykubGVuZ3RoP0ZmKHRoaXMpOgooYT1EYXRlLm5vdygpLGJ8fEtmKHRoaXMsKGEtZCkvMUUzKSk7YyYmYy5sb2coKTt0aGlzLnRiKCkmJmV4dHJhY3RDRUE2MDgucHJlcGFyZSgpO3RoaXMuYS5nZXRCb29sKCJ1cGRhdGVfY2VhNjA4X2F2YWlsYWJpbGl0eV9vbl9tcGRfcGFyc2luZyIsITEpJiYoYT10aGlzLnRiKCksdGhpcy5ZYiE9PWEmJihmPXkoe3R5cGU6ImNlYTYwOEF2YWlsYWJpbGl0eUNoYW5nZWQiLGJ1YmJsZXM6ITB9KSx0aGlzLmRpc3BhdGNoRXZlbnQoZiksdGhpcy5ZYj1hKSl9KSkuY2F0Y2goSih0aGlzLGZ1bmN0aW9uKGEpe2MmJmMuc2V0RXJyb3IoYSkubG9nKCk7ZSYmKGUuZGVzdHJveSgpLGU9bnVsbCk7aWYoIWIpe3ZhciBkPXRoaXMuYi5mfHx0aGlzLmEuZ2V0Qm9vbCgicmV0cnlfZWdyZXNzXzUwMHMiLCExKSxmPVswLDQxMF07dGhpcy5hLmdldEJvb2woImVuYWJsZV9kb3VibGVfaW5nZXN0IiwhMSkmJmYucHVzaCg0MTcsMjAwKTshdGhpcy5hLmdldEJvb2woIm5vX3JldHJ5X29uXzUwMl81MDMiLAohMSkmJmQmJihmPWYuY29uY2F0KFs1MDIsNTAzXSkpO2Q9dGhpcy5hLmdldEJvb2woImZpeF9saXZlX3N0cmVhbV9nb25lX29uX21hbmlmZXN0X3VwZGF0ZSIsITApPy0xPT09Zi5pbmRleE9mKGEuc3RhdHVzKTowIT09YS5zdGF0dXM7aWYodGhpcy5hLmdldEJvb2woImFsbG93X2luZmluaXRlX3JldHJ5X29uX25ldF9lcnIiLCEwKSYmIm5ldCI9PT1hLnR5cGUmJiFkKXN3aXRjaChhLnN0YXR1cyl7Y2FzZSA0MTA6dGhpcy5oYz0hMDt0aGlzLmomJihjbGVhclRpbWVvdXQodGhpcy5qKSx0aGlzLmo9bnVsbCk7dGhpcy5lYigpO2JyZWFrO2Nhc2UgMjAwOmNhc2UgNDE3OmEucmVzcG9uc2VIZWFkZXJzJiZudWxsIT1hLnJlc3BvbnNlSGVhZGVyc1sieC1mYi12aWRlby1yZXBsaWNhIl0/dGhpcy5kaXNwYXRjaEV2ZW50KHkoe3R5cGU6InJlcGxpY2Fzd2l0Y2giLGJ1YmJsZXM6ITAscmVwbGljYTphLnJlc3BvbnNlSGVhZGVyc1sieC1mYi12aWRlby1yZXBsaWNhIl0sdXJsOmEudXJsLHN0YXR1czphLnN0YXR1c30pKToKZD0hMDticmVhaztkZWZhdWx0OlBmKHRoaXMpfTA9PT1hLnN0YXR1cz90aGlzLkcuaW5mb3JtTmV0d29ya0ludGVycnVwdGVkKCk6dGhpcy5HLmluZm9ybU5ldHdvcmtSZXN1bWVkKCk7aWYoImRlbGF5Ij09YS50eXBlKXJldHVybiBQZih0aGlzKTt0aGlzLmEuZ2V0Qm9vbCgiYWxsb3dfaW5maW5pdGVfcmV0cnlfb25fbmV0X2VyciIsITApJiYhZHx8ImFib3J0ZWQiPT1hLnR5cGV8fChhPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGEpLHRoaXMuYiYmUGYodGhpcykpfX0pKX19O24ueWM9ZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZWplY3QoIkNhbm5vdCB1cGRhdGUgbWFuaWZlc3Qgd2l0aCB0aGlzIFZpZGVvU291cmNlIGltcGxlbWVudGF0aW9uLiIpfTtuLnhjPWZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVqZWN0KCJDYW5ub3QgdXBkYXRlIG1hbmlmZXN0IHdpdGggdGhpcyBWaWRlb1NvdXJjZSBpbXBsZW1lbnRhdGlvbi4iKX07CmZ1bmN0aW9uIE5mKGEsYil7aWYoYiYmYS5iJiZhLmIuYilpZihhLmEuZ2V0Qm9vbCgic2Vla19vdmVyX3VuYXZhaWxhYmxlX3NlZ21lbnRzX29uX21hbmlmZXN0X3VwZGF0ZSIsITEpJiZhLmVhKWIuZW5kPmEudmlkZW8uY3VycmVudFRpbWUrMTAmJihhLmVhPSExLGEudmlkZW8uY3VycmVudFRpbWU9Yi5lbmQsUWYoYSkpO2Vsc2UgaWYoYS52aWRlby5wYXVzZWQmJmIuZW5kPmEudmlkZW8uY3VycmVudFRpbWUrMTApaWYoYS5hLmdldEJvb2woImVuYWJsZV9sYXp5X2xpdmVoZWFkX2NhdGNodXAiLCExKSl7dmFyIGM9YS54YTtjPGEuSWQmJihhLnhhPSsrYyk7UmYoYSxjKTthLmNhPWIuZW5kfWVsc2UgYS5lYT0hMSxhLnZpZGVvLmN1cnJlbnRUaW1lPWIuZW5kLFFmKGEpfQpmdW5jdGlvbiBLZihhLGIpe2lmKG51bGw9PWEuYi5jKUJhbnphaU9EUy5idW1wRW50aXR5S2V5KDI5NjYsInZpZGVvcy53d3cubGl2ZSIsInVwZGF0ZV9wZXJpb2RfaXNfbnVsbCIpO2Vsc2UgaWYoIWEuRmEpe2lmKGEuYS5nZXRCb29sKCJkZWNvdXBsZV9tcGRfdXBkYXRlX2xvb3BfZnJvbV9yZXF1ZXN0X2xvb3AiLCExKSYmKGEudSYmKGNsZWFyVGltZW91dChhLnUpLGEudT1udWxsKSxzZihhKSkpcmV0dXJuO3ZhciBjPU1hdGgubWF4KGEuYi5jLGEuS2IpLGM9TWF0aC5tYXgoYy1iLDApLGQ9YS5KYi5iaW5kKGEsITEpOyFjJiZhLmcudXNlTWljcm9UYXNrVGltZW91dHM/UHJvbWlzZS5yZXNvbHZlKCkudGhlbihkKTooYS5WJiZhLlYuc2V0UmVzdWx0KCJmYWlsZWQiKS5sb2coKSxhLmwmJihhLlY9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigic2NoZWR1bGVfbWFuaWZlc3RfdXBkYXRlIikuc3RhcnQoKS5zZXRVcGRhdGVQZXJpb2QoTWF0aC5jZWlsKDFFMypjKSkpLGEudT1zZXRUaW1lb3V0KGQsCjFFMypjKSl9fWZ1bmN0aW9uIE9mKGEsYil7dmFyIGM9TWQoYiksZD1hLmNbY107aWYoZCYmZC5XYSgpPT1iKXt2YXIgZT1hLmYuZ2V0KE1kKGIpKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEudn0pLnJlZHVjZShmdW5jdGlvbihhLGIpe3JldHVybiBhLmNvbmNhdChiKX0sW10pLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gYS5vYSYmYS5mYX0pO2lmKDA9PWUubGVuZ3RoKXtjPUVycm9yKCJBbGwgdXNhYmxlIHN0cmVhbXMgaGF2ZSBiZWVuIHJlbW92ZWQgZnJvbSB0aGUgbWFuaWZlc3QuIik7Yy50eXBlPSJhcHAiO2M9QShjKTthLmRpc3BhdGNoRXZlbnQoYyk7cmV0dXJufWEuQltjXS5MYz09YiYmZGVsZXRlIGEuQltjXTtkLmpiKGVbMF0sITApO2IuZGVzdHJveSgpfWIuZGVzdHJveSgpfW4uQ2Q9ZnVuY3Rpb24oYSl7dGhpcy5wYz1hfTtZLnByb3RvdHlwZS5zZXRUYWdnZWRUaW1lUmFuZ2VzPVkucHJvdG90eXBlLkNkOwpZLnByb3RvdHlwZS53ZD1mdW5jdGlvbigpe3JldHVybiAwPT09T2JqZWN0LmtleXModGhpcy5jKS5sZW5ndGg/ITE6WyJhdWRpbyIsInZpZGVvIl0uZXZlcnkoSih0aGlzLGZ1bmN0aW9uKGEpe3JldHVybiF0aGlzLmNbYV18fHRoaXMuY1thXS5UfSkpfTtZLnByb3RvdHlwZS5oYXNIaXRCdWZmZXJpbmdHb2FsPVkucHJvdG90eXBlLndkOwpZLnByb3RvdHlwZS5aPWZ1bmN0aW9uKGEpe2lmKCF0aGlzLmZ8fCF0aGlzLmYuYS5oYXNPd25Qcm9wZXJ0eSgidmlkZW8iKSlyZXR1cm5bXTthPWEmJmEudXNlTG9jYWxCaXRyYXRlfHwhMTt2YXIgYj10aGlzLmMudmlkZW8sYz1iP2IuV2EoKTpudWxsLGQ9Yz9jLlg6MCxlPTEsZj1udWxsO3RoaXMuYS5nZXRCb29sKCJ1c2VfbGl2ZV9iaXRyYXRlX2VzdGltYXRlcyIsITEpJiZ0aGlzLlAoKSYmbnVsbCE9YiYmKGY9Yi5sYSgpLG51bGwhPWMmJjA8Yy5iYW5kd2lkdGgmJihlPWYvYy5iYW5kd2lkdGgpKTtmb3IodmFyIGM9W10sZz10aGlzLmYuZ2V0KCJ2aWRlbyIpLGg9MDtoPGcubGVuZ3RoOysraClmb3IodmFyIGs9Z1toXSxsPTA7bDxrLnYubGVuZ3RoOysrbCl7dmFyIG09ay52W2xdO2lmKG0ub2EmJm0uZmEpe3ZhciBwPW51bGw7aWYoYSYmbnVsbCE9PW0uTSl7dmFyIHQ9bS5NLmMoKSx3PWI7aWYodGhpcy5QKCl8fG51bGw9PT10fHxudWxsPT09dylwPW51bGw7ZWxzZXt2YXIgcD0KcGUodyx0aGlzLnZpZGVvLmN1cnJlbnRUaW1lLHQpLHo9dC5nZXRTZWdtZW50cygpO3RoaXMuYS5nZXRCb29sKCJzdGFydF9sb2NhbF9iaXRyYXRlX2F0X2J1ZmZlcl9lbmQiLCExKSYmKHc9TG9jYWxCaXRyYXRlSGVscGVyLmdldEJ1ZmZlckVuZFNlZ21lbnRJbmRleCh6LHAsdGhpcy52aWRlby5jdXJyZW50VGltZSthZSh3LHRoaXMudmlkZW8uY3VycmVudFRpbWUpKSxudWxsIT09dyYmKHA9dykpO3A9TG9jYWxCaXRyYXRlSGVscGVyLmdldExvY2FsQml0cmF0ZSh0LmdldFNlZ21lbnRzKCkscCx0aGlzLmEuZ2V0TnVtYmVyKCJsb2NhbF9iaXRyYXRlX3NlZ21lbnRzX2FoZWFkIiwxMCkpfXRoaXMuYS5nZXRCb29sKCJ1c2VfbWF4X2xvY2FsX2JpdHJhdGUiLCExKSYmKHA9TWF0aC5tYXgocCxtLmJhbmR3aWR0aCkpfXQ9bS5YO3A9cHx8bS5iYW5kd2lkdGg7dGhpcy5hLmdldEJvb2woInVzZV9saXZlX2JpdHJhdGVfZXN0aW1hdGVzIiwhMSkmJm51bGwhPWYmJih0PT09ZD9wPU1hdGgubWF4KHAsCmYpOjE8ZSYmKHA9cCplKSxwPU1hdGgucm91bmQocCkpO209bmV3IHVhKHQscCxtLndpZHRoLG0uaGVpZ2h0LG0uaWQsbS5mYlF1YWxpdHlMYWJlbCxtLmZiUXVhbGl0eUNsYXNzLG0uZixtLmZyYW1lUmF0ZSxtLm1pbWVUeXBlLG0uY29kZWNzLG0uZyxtLmgpO3Q9PWQmJihtLmFjdGl2ZT0hMCk7Yy5wdXNoKG0pfX1yZXR1cm4gY307WS5wcm90b3R5cGUuZ2V0VmlkZW9UcmFja3M9WS5wcm90b3R5cGUuWjtZLnByb3RvdHlwZS5SYz1mdW5jdGlvbigpe2lmKHRoaXMuZ2EpcmV0dXJuIHRoaXMuZ2E7aWYoIXRoaXMuYilyZXR1cm4gbnVsbDtmb3IodmFyIGE9MDthPHRoaXMuYi5hLmxlbmd0aDsrK2EpZm9yKHZhciBiPXRoaXMuYi5hW2FdLGM9MDtjPGIuYS5sZW5ndGg7KytjKWlmKHRoaXMuZ2E9Yi5hW2NdLmMpcmV0dXJuIHRoaXMuZ2E7cmV0dXJuIG51bGx9O1kucHJvdG90eXBlLmdldFZpZGVvUHJvamVjdGlvbj1ZLnByb3RvdHlwZS5SYztZLnByb3RvdHlwZS5PYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmtifTsKWS5wcm90b3R5cGUuZ2V0TG9jYWxFc3RpbWF0b3I9WS5wcm90b3R5cGUuT2M7ZnVuY3Rpb24gU2YoYSl7YT1hLlooKTtmb3IodmFyIGI9MDtiPGEubGVuZ3RoO2IrKylpZihhW2JdLmFjdGl2ZSlyZXR1cm4gYVtiXX1ZLnByb3RvdHlwZS52YT1mdW5jdGlvbigpe2lmKCF0aGlzLmZ8fCF0aGlzLmYuYS5oYXNPd25Qcm9wZXJ0eSgiYXVkaW8iKSlyZXR1cm5bXTtmb3IodmFyIGE9dGhpcy5jLmF1ZGlvLGE9KGE9YT9hLldhKCk6bnVsbCk/YS5YOjAsYj1bXSxjPXRoaXMuZi5nZXQoImF1ZGlvIiksZD0wO2Q8Yy5sZW5ndGg7KytkKWZvcih2YXIgZT1jW2RdLGY9ZS5sYW5nLGc9MDtnPGUudi5sZW5ndGg7KytnKXt2YXIgaD1lLnZbZ107aWYoaC5vYSYmaC5mYSl7dmFyIGs9aC5YLGg9bmV3IGZhKGssaC5iYW5kd2lkdGgsZixoLmlkLGgubWltZVR5cGUsaC5jb2RlY3MsdGhpcy5iLnUsaC5jKTtrPT1hJiYoaC5hY3RpdmU9ITApO2IucHVzaChoKX19cmV0dXJuIGJ9OwpZLnByb3RvdHlwZS5nZXRBdWRpb1RyYWNrcz1ZLnByb3RvdHlwZS52YTtZLnByb3RvdHlwZS5tYz1mdW5jdGlvbigpe2lmKCF0aGlzLmZ8fCF0aGlzLmYuYS5oYXNPd25Qcm9wZXJ0eSgidGV4dCIpKXJldHVybltdO2Zvcih2YXIgYT10aGlzLmMudGV4dCxiPWE/YS5XYSgpOm51bGwsYj1iP2IuWDowLGM9W10sZD10aGlzLmYuZ2V0KCJ0ZXh0IiksZT0wO2U8ZC5sZW5ndGg7KytlKWZvcih2YXIgZj1kW2VdLGc9Zi5sYW5nLGg9MDtoPGYudi5sZW5ndGg7KytoKXt2YXIgaz1mLnZbaF0uWCxsPW5ldyB0YShrLGcpO2s9PWImJihsLmFjdGl2ZT0hMCxsLmVuYWJsZWQ9YS5EYigpKTtjLnB1c2gobCl9cmV0dXJuIGN9O1kucHJvdG90eXBlLmdldFRleHRUcmFja3M9WS5wcm90b3R5cGUubWM7WS5wcm90b3R5cGUuYWM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iJiZ0aGlzLmIubSYmMDx0aGlzLmIubT8hMDohMX07WS5wcm90b3R5cGUuaXNVc2luZ0FTUkNhcHRpb25zPVkucHJvdG90eXBlLmFjOwpZLnByb3RvdHlwZS5iYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmImJnRoaXMuYi5vJiYwPHRoaXMuYi5vJiZna3goIjExNzYyNTEiKT8hMDohMX07WS5wcm90b3R5cGUuaXNVc2luZ0FTUkNhcHRpb25zRW1wbG95ZWVEb2dmb29kaW5nPVkucHJvdG90eXBlLmJjO2Z1bmN0aW9uIHJmKGEpe3ZhciBiPU51bWJlcihhLmcuaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemUpO2EuZy5maXhCdWZmZXJpbmdHb2FsRGV0ZXJtaW5hdGlvbiYmKGI9MSk7aWYoYS5hLmdldEJvb2woImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvdyIsITEpKWI9YS5LO2Vsc2V7dmFyIGM9YS5hLmdldE51bWJlcigiYnVmZmVyaW5nX292ZXJmbG93X3RocmVzaG9sZCIsMCk7MDxjJiYoYj1jKX1yZXR1cm4gYS4kYj9OdW1iZXIoYS5nLnN0cmVhbUJ1ZmZlclNpemUpOmJ9CmZ1bmN0aW9uIE5lKGEpe2lmKGEuTyl7YT1hLmIuYVswXTtmb3IodmFyIGI9W10sYz0wO2M8YS5hLmxlbmd0aDsrK2MpYi5wdXNoLmFwcGx5KGIsUWQoYS5hW2NdKSk7YT1ifWVsc2UgYT1bXTtyZXR1cm4gYX0KZnVuY3Rpb24gUGUoYSxiKXtpZihhLk8pe2Zvcih2YXIgYz17fSxkPWEuYi5hWzBdLGU9MDtlPGQuYS5sZW5ndGg7KytlKXt2YXIgZj1kLmFbZV07Y1tmLlhdPWZ9YS5mLmE9e307ZD1hYihiKTtmb3IoZT0wO2U8ZC5sZW5ndGg7KytlKXt2YXIgZj1kW2VdLGc9Yi5nZXQoZik7aWYoInZpZGVvIj09Zil7dmFyIGg9Z1swXS5pZDthLmYucHVzaChmLGNbaF0pfWVsc2UgaWYoImF1ZGlvIj09Zil7aWYoMDxnLmxlbmd0aClmb3IodmFyIGg9Z1swXS5iLnNwbGl0KCI7IilbMF0saz0wO2s8Zy5sZW5ndGg7KytrKXt2YXIgbD1nW2tdO2wuYi5zcGxpdCgiOyIpWzBdPT1oJiZhLmYucHVzaChmLGNbbC5pZF0pfX1lbHNlIGZvcihrPTA7azxnLmxlbmd0aDsrK2spaD1nW2tdLmlkLGEuZi5wdXNoKGYsY1toXSl9YS55YT0hMDtpZihjPWEuZi5nZXQoImF1ZGlvIikpVGYoYSxjKSxhLmYuc2V0KCJhdWRpbyIsYyksYz1jWzBdLmxhbmd8fGEuUyxSYSgyLGEuUyxjKSYmKGEueWE9ITEpO2lmKGM9YS5mLmdldCgidGV4dCIpKVRmKGEsCmMpLGEuZi5zZXQoInRleHQiLGMpLGM9Y1swXS5sYW5nfHxhLlMsUmEoMixhLlMsYyl8fChhLnlhPSExKX19WS5wcm90b3R5cGUuWGM9ZnVuY3Rpb24oKXt0aGlzLkVhPSEwfTtZLnByb3RvdHlwZS5zZXRDbGVhckJ1ZmZlckFmdGVyU2Vla2luZz1ZLnByb3RvdHlwZS5YYztZLnByb3RvdHlwZS5zZWxlY3RWaWRlb1RyYWNrPWZ1bmN0aW9uKGEsYixjLGQsZSl7cmV0dXJuIG1mKHRoaXMsInZpZGVvIixhLGIsYyxkLGUpfTtZLnByb3RvdHlwZS5yZXN1bWVWaWRlb0ZldGNoaW5nPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5jLnZpZGVvP3RoaXMuYy52aWRlby5GOm51bGw7YSYmYS5yZXN1bWVWaWRlb0ZldGNoaW5nKCl9O1kucHJvdG90eXBlLnJlc3VtZVZpZGVvRmV0Y2hpbmc9WS5wcm90b3R5cGUucmVzdW1lVmlkZW9GZXRjaGluZztZLnByb3RvdHlwZS5IZD1mdW5jdGlvbigpe3ZhciBhPXRoaXMuYy52aWRlbz90aGlzLmMudmlkZW8uRjpudWxsO2EmJmEuc3RvcFVudGlsU2VnbWVudHNVcGRhdGUoKX07ClkucHJvdG90eXBlLnN0b3BVbnRpbFZpZGVvU3RyZWFtU3dpdGNoPVkucHJvdG90eXBlLkhkO2Z1bmN0aW9uIG5mKGEsYil7dmFyIGM9YS5jLnRleHQ7YyYmYy52YihiKX0KZnVuY3Rpb24gRWYoYSl7aWYoYS5tKXtmb3IodmFyIGI9ITEsYz0wO2M8YS5iLmEubGVuZ3RoOysrYylmb3IodmFyIGQ9YS5iLmFbY10sZT0wO2U8ZC5hLmxlbmd0aDsrK2Upe3ZhciBmPWQuYVtlXTtpZigidmlkZW8iPT1mLmNvbnRlbnRUeXBlKWZvcih2YXIgZz0wO2c8Zi52Lmxlbmd0aDsrK2cpe3ZhciBoPWYudltnXSxrPWguZmE7aC5mYT0hMDthLm0ubWF4V2lkdGgmJmgud2lkdGg+YS5tLm1heFdpZHRoJiYoaC5mYT0hMSk7YS5tLm1heEhlaWdodCYmaC5oZWlnaHQ+YS5tLm1heEhlaWdodCYmKGguZmE9ITEpO2EubS5taW5IZWlnaHQmJmguaGVpZ2h0PGEubS5taW5IZWlnaHQmJihoLmZhPSExKTthLm0ubWF4QmFuZHdpZHRoJiZoLmJhbmR3aWR0aD5hLm0ubWF4QmFuZHdpZHRoJiYoaC5mYT0hMSk7YS5tLm1pbkJhbmR3aWR0aCYmaC5iYW5kd2lkdGg8YS5tLm1pbkJhbmR3aWR0aCYmKGguZmE9ITEpO2shPWguZmEmJihiPSEwKX19MCE9JGEoYS5mKS5sZW5ndGgmJmImJihVZihhKSwKMDxhLlooKS5sZW5ndGh8fChiPUVycm9yKCJUaGUgYXBwbGljYXRpb24gaGFzIHJlc3RyaWN0ZWQgYWxsIHZpZGVvIHRyYWNrcyEiKSxiLnR5cGU9ImFwcCIsYj1BKGIpLGEuZGlzcGF0Y2hFdmVudChiKSkpfX1ZLnByb3RvdHlwZS5QPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYj90aGlzLmIuYjpudWxsfTtZLnByb3RvdHlwZS5pc0xpdmU9WS5wcm90b3R5cGUuUDtZLnByb3RvdHlwZS5ZYz1mdW5jdGlvbihhKXt0aGlzLiRiPWF9O1kucHJvdG90eXBlLnNldElzTGl2ZUludGVycnVwdGVkPVkucHJvdG90eXBlLlljO1kucHJvdG90eXBlLnZkPWZ1bmN0aW9uKCl7Zm9yKHZhciBhIGluIHRoaXMuYyl0aGlzLmNbYV0uSGMoKX07WS5wcm90b3R5cGUuZm9yY2VSZXN5bmNWaWRlb0J1ZmZlcj1ZLnByb3RvdHlwZS52ZDsKZnVuY3Rpb24gV2UoYSxiKXtmb3IodmFyIGMsZD0hMSxlPW5ldyBELGY9JGEoYS5mKSxnPTA7ZzxmLmxlbmd0aDsrK2cpZm9yKHZhciBoPWZbZ10saz0wO2s8aC52Lmxlbmd0aDsrK2spe3ZhciBsPWgudltrXTtsLmIuZm9yRWFjaChmdW5jdGlvbihhKXtlLnB1c2goYSxsKX0pfWZvcihjIGluIGIpaWYoZj1QYVtiW2NdXXx8bnVsbCxoPWUuZ2V0KGMpKWZvcihnPTA7ZzxoLmxlbmd0aDsrK2cpbD1oW2ddLGs9bC5vYSxsLm9hPSFmLGshPWwub2EmJihkPSEwKTtlbHNlIGliKGMpO2QmJihVZihhKSxkPWEudmEoKSxjPWEuWigpLGQ9YS5mLmEuaGFzT3duUHJvcGVydHkoImF1ZGlvIikmJjA9PWQubGVuZ3RoLGM9YS5mLmEuaGFzT3duUHJvcGVydHkoInZpZGVvIikmJjA9PWMubGVuZ3RoLGR8fGMpJiYoYz1FcnJvcigiVGhlIGtleSBzeXN0ZW0gaGFzIHJlc3RyaWN0ZWQgYWxsICIrKGQmJmM/ImF1ZGlvIGFuZCB2aWRlbyB0cmFja3MuIjpkPyJhdWRpbyB0cmFja3MuIjoidmlkZW8gdHJhY2tzLiIpKSwKYy50eXBlPSJkcm0iLGM9QShjKSxhLmRpc3BhdGNoRXZlbnQoYykpfWZ1bmN0aW9uIFVmKGEpe3ZhciBiPXkoe3R5cGU6InRyYWNrc2NoYW5nZWQiLGJ1YmJsZXM6ITB9KTthLmRpc3BhdGNoRXZlbnQoYil9ZnVuY3Rpb24gbWYoYSxiLGMsZCxlLGYsZyl7Zz0hIWc7aWYoIWEuZi5hLmhhc093blByb3BlcnR5KGIpfHwhYS5jW2JdKXJldHVybiExO2Zvcih2YXIgaD1hLmYuZ2V0KGIpLGs9MDtrPGgubGVuZ3RoOysraylmb3IodmFyIGw9aFtrXSxtPTA7bTxsLnYubGVuZ3RoOysrbSl7dmFyIHA9bC52W21dO2lmKHAuWD09Yyl7aWYoIXAub2F8fCFwLmZhKXJldHVybiExO2lmKCJ0ZXh0IiE9YiYmIWEuQ2EpcmV0dXJuIGM9YS5CW2JdLGEuQltiXT17TGM6cCxyYzpudWxsIT1jJiZjLnJjfHxkLHNjOm51bGwhPWMmJmMuc2N8fGUsc3dpdGNoUmVhc29uOmYsS2E6Z30sITA7YS5jW2JdLmpiKHAsZCxlLGYsZyk7cmV0dXJuITB9fXJldHVybiExfQpmdW5jdGlvbiBUZihhLGIpe2Zvcih2YXIgYz0wOzI+PWM7KytjKWZvcih2YXIgZD0wO2Q8Yi5sZW5ndGg7KytkKXt2YXIgZT1iW2RdO2lmKFJhKGMsYS5TLGUubGFuZykpe2Iuc3BsaWNlKGQsMSk7Yi5zcGxpY2UoMCwwLGUpO3JldHVybn19Zm9yKGQ9MDtkPGIubGVuZ3RoOysrZClpZihlPWJbZF0sZS5mKXtiLnNwbGljZShkLDEpO2Iuc3BsaWNlKDAsMCxlKTticmVha319bj1ZLnByb3RvdHlwZTtuLmhkPWZ1bmN0aW9uKCl7dGhpcy5oLmFiKHRoaXMuaSwic291cmNlb3BlbiIpO3RoaXMuSWIucmVzb2x2ZSgpfTsKZnVuY3Rpb24gRmYoYSl7dmFyIGI7YS5sJiYoYj1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJzdGFydF9zdHJlYW1zIikuc3RhcnQoKSk7Zm9yKHZhciBjPVtdLGQ9WyJhdWRpbyIsInZpZGVvIiwidGV4dCJdLGU9MDtlPGQubGVuZ3RoOysrZSl7dmFyIGY9ZFtlXTthLmYuYS5oYXNPd25Qcm9wZXJ0eShmKSYmYy5wdXNoKGEuZi5nZXQoZilbMF0pfWZvcih2YXIgZz1WZihhLGMpLGU9MDtlPGQubGVuZ3RoOysrZSlpZihmPWRbZV0sYS5mLmEuaGFzT3duUHJvcGVydHkoZikmJiFnW2ZdKXJldHVybiBhPUVycm9yKCJVbmFibGUgdG8gc2VsZWN0IGFuIGluaXRpYWwgIitmKyIgc3RyZWFtOiBhbGwgIitmKyIgc3RyZWFtcyBoYXZlIGJlZW4gcmVzdHJpY3RlZCAoYnkgdGhlIGFwcGxpY2F0aW9uIG9yIGJ5IHRoZSBrZXkgc3lzdGVtKS4iKSxhLnR5cGU9InN0cmVhbSIsYiYmYi5zZXRFcnJvcihhKS5sb2coKSxQcm9taXNlLnJlamVjdChhKTtjPVdhKGcpLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS5NLmNyZWF0ZSgpfSk7CmMucHVzaChhLkliKTtyZXR1cm4gUHJvbWlzZS5hbGwoYykudGhlbihKKGEsZnVuY3Rpb24oYSl7YS5wb3AoKTtpZighYS5ldmVyeShmdW5jdGlvbihhKXtyZXR1cm4gYS5sZW5ndGgoKX0pKXJldHVybiBhPUVycm9yKCJTb21lIHN0cmVhbXMgYXJlIG5vdCBhdmFpbGFibGUuIiksYS50eXBlPSJzdHJlYW0iLFByb21pc2UucmVqZWN0KGEpO2E9TWYodGhpcyxhKTtpZighYSlyZXR1cm4gYT1FcnJvcigiU29tZSBzdHJlYW1zIGFyZSBub3QgYXZhaWxhYmxlLiIpLGEudHlwZT0ic3RyZWFtIixQcm9taXNlLnJlamVjdChhKTtpZighV2YodGhpcyxnKSlyZXR1cm4gYT1FcnJvcigiRmFpbGVkIHRvIGNyZWF0ZSBTdHJlYW0gb2JqZWN0cy4iKSxhLnR5cGU9InN0cmVhbSIsUHJvbWlzZS5yZWplY3QoYSk7dGhpcy5BLnN0YXJ0KCk7WGYodGhpcyxnLGEpO3JldHVybiBQcm9taXNlLnJlc29sdmUoKX0pKS50aGVuKGZ1bmN0aW9uKCl7YiYmYi5sb2coKX0pLmNhdGNoKEooYSxmdW5jdGlvbihhKXtpZigiYWJvcnRlZCI9PQphLnR5cGUpYiYmYi5zZXRFcnJvcihhKS5sb2coKTtlbHNle09iamVjdC5rZXlzKHRoaXMuYyk7aWYodGhpcy5iLmIpcmV0dXJuIHlhKCk8dGhpcy5iLmo/KGE9TWF0aC5tYXgodGhpcy5iLmotRGF0ZS5ub3coKS8xRTMsdGhpcy5LYiksdGhpcy51PXNldFRpbWVvdXQodGhpcy5KYi5iaW5kKHRoaXMsITApLDFFMyphKSk6S2YodGhpcywwKSxiJiZiLmxvZygpLFByb21pc2UucmVzb2x2ZSgpO2ImJmIuc2V0RXJyb3IoYSkubG9nKCk7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfX0pKX0KZnVuY3Rpb24gVmYoYSxiKXtmb3IodmFyIGM9e30sZD0wO2Q8Yi5sZW5ndGg7KytkKXt2YXIgZT1iW2RdLGY9bnVsbDtpZigidmlkZW8iPT1lLmNvbnRlbnRUeXBlKXt2YXIgZz1hLkEuZ2V0SW5pdGlhbFZpZGVvVHJhY2tJZCgpO2lmKG51bGw9PWcpY29udGludWU7Zj1lLnYuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiBhLlg9PWd9KTtpZigwPT1mLmxlbmd0aCljb250aW51ZTtmPWZbMF19ZWxzZSBpZigiYXVkaW8iPT1lLmNvbnRlbnRUeXBlKWlmKGc9YS5BLmdldEluaXRpYWxBdWRpb1RyYWNrSWQoKSxmPWUudi5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIGEuWD09Z30pLDA9PWYubGVuZ3RoKXtmPWUudi5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIGEub2EmJmEuZmF9KTtpZigwPT1mLmxlbmd0aCljb250aW51ZTtmPWUudltNYXRoLmZsb29yKGYubGVuZ3RoLzIpXX1lbHNlIGY9ZlswXTtlbHNlIDA8ZS52Lmxlbmd0aCYmKGY9ZS52WzBdKTtjW2UuY29udGVudFR5cGVdPWZ9cmV0dXJuIGN9CmZ1bmN0aW9uIFdmKGEsYil7dmFyIGM9e30sZDtmb3IoZCBpbiBiKXt2YXIgZT1iW2RdLGU9InRleHQiPT1kP25ldyB0ZShhLGEudmlkZW8pOllmKGEsZSk7aWYoIWUpcmV0dXJuIFdhKGMpLmZvckVhY2goZnVuY3Rpb24oYSl7YS5kZXN0cm95KCl9KSwhMTtjW2RdPWV9YS5QYihhLm5jKTthLmM9YztyZXR1cm4hMH0KZnVuY3Rpb24gWWYoYSxiKXt2YXIgYz1OZChiKSxkPVpmKGMuc3BsaXQoIjsiKVswXSksZT1udWxsLGY9YS5hLmdldEJvb2woInVzZV9sb2NhbF9lc3RpbWF0b3JfZm9yX2Ficl9zYW1wbGluZyIsITApP2Eua2I6YS53YSxnPW51bGwsaD1udWxsLGs9YS5iLmZ8fGEuYi5BLGs9YS5hLmdldEJvb2woInNraXBfc2VnbWVudF9yZXF1ZXN0X21hbmFnZXIiLCExKSYmazthLldiJiZjYW5Vc2VGZXRjaFN0cmVhbSgpPyhoPW5ldyBNdWx0aXBsZVNlZ21lbnRzUHJvdmlkZXIoYS5hLmdldE51bWJlcigic3RyZWFtaW5nX3NlZ21lbnRfc2l6ZSIsNCkpLGc9JGYoYSxoLGQsZikpOmEuVmImJiFrJiYoZT1hZyhhLGQsZikpO3ZhciBrPW51bGwsbD1hLmYuZ2V0KGQpOyJ2aWRlbyI9PT1kJiYwPGwubGVuZ3RoJiYoaz1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz1udWxsLGQ9bnVsbCxlPTA7ZTxsWzBdLnYubGVuZ3RoO2UrKylsWzBdLnZbZV0uaWQ9PT1hP2M9bFswXS52W2VdOmxbMF0udltlXS5pZD09PQpiJiYoZD1sWzBdLnZbZV0pO3JldHVybiBudWxsPT09Y3x8bnVsbD09PWQ/MDpjLmJhbmR3aWR0aD5kLmJhbmR3aWR0aD8xOi0xfSk7Yz1uZXcgVShhLGEudmlkZW8sYS5hLGEuaSxjLGYsYS5wYyxhLmRhLGssYS5HLGUsZyxoLGEuaWEpO2MucGEoYS5nKTtyZXR1cm4gY30KZnVuY3Rpb24gJGYoYSxiLGMsZCl7dmFyIGU9YS53W2NdLGY9ImF1ZGlvIiE9PWN8fGEuYS5nZXRCb29sKCJlbmFibGVfYXVkaW9fc3RyZWFtaW5nIiwhMSk7aWYoIWUmJmYpe3ZhciBlPW5ldyBWaWRlb1N0cmVhbWluZ01hbmFnZXIoYS5hLGIsYyxhLmwsYS5VKSxnPSJ2aWRlbyI9PT1jO2cmJmUuYWRkTGlzdGVuZXIoImJhbmR3aWR0aFVwZGF0ZSIsZnVuY3Rpb24oYSl7ZC5zYW1wbGUoYS50aW1lVGFrZW4sYS5ieXRlc1JlYWQsZyx7dGltZVRvTGFzdEJ5dGU6YS50aW1lVGFrZW59LHRoaXMuQWIsdGhpcy5sLCF0aGlzLmEuZ2V0Qm9vbCgiZXZhbHVhdGVfYWJyX29uX3N0cmVhbV9iYW5kd2lkdGhfc2FtcGxlIiwhMCkpfS5iaW5kKGEpKX1lJiYoYS53W2NdPWUpO3JldHVybiBlfHxudWxsfQpmdW5jdGlvbiBhZyhhLGIsYyl7aWYoInZpZGVvIj09PWJ8fCJhdWRpbyI9PT1iJiZhLmEuZ2V0Qm9vbCgiZW5hYmxlX3JlcXVlc3RfcGlwZWxpbmluZ19mb3Jfdm9kX2F1ZGlvcyIsITEpKXt2YXIgZD1hLm9bYl07ZHx8KGQ9bmV3IFNlZ21lbnRSZXF1ZXN0TWFuYWdlcihhLmEsYixhLlAoKT9WaWRlb1ByaW9yaXR5Q2FsY3VsYXRvci5jYWxjdWxhdGVMaXZlOlZpZGVvUHJpb3JpdHlDYWxjdWxhdG9yLmNhbGN1bGF0ZSxhLmwsYyxhLkFiLGEuZGEsYS5pYSksYS5SJiZkLnVwZGF0ZVByaW9yaXR5V2l0aE5ld0FkanVzdG1lbnQoYS5SLmdldFByaW9yaXR5QWRqdXN0bWVudCgpKSxhLm9bYl09ZCk7cmV0dXJuIGR9cmV0dXJuIG51bGx9ZnVuY3Rpb24gYmcoYSxiKXthLnZpZGVvLmN1cnJlbnRUaW1lPWI7YS5hLmdldEJvb2woInNldF9wZW5kaW5nX3NlZWtfb25fc2V0X2N1cnJlbnRfdGltZV9mYWlsdXJlIiwhMSkmJmEudmlkZW8uY3VycmVudFRpbWUrMTxiJiZjZyhhLGIpO2EuRD1ifQpmdW5jdGlvbiBYZihhLGIsYyl7YS5rYz1hLnZpZGVvLnBsYXliYWNrUmF0ZTthLnZpZGVvLnBsYXliYWNrUmF0ZT0wO2RnKGEsYyk7dmFyIGQ7ZD1hLmIuZjsoIWEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9hZGp1c3Rfc3RyZWFtX2xpbWl0c19zdGFydF9vZmZzZXRfaW50IiwwKSYmIWEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9qdW1wX3RvX2xpdmVfc2lkeF9lbmRfb2Zmc2V0IiwwKXx8IWQpJiZhLmxhJiZhLmxhPD1jLmVuZCYmYS5sYT49Yy5zdGFydD9kPWEubGE6YS5iLmI/KGQ9ZWcoYSxjKSxhLmVjPSEwKTpkPWMuc3RhcnQ7RShhLmgsYS52aWRlbywic2Vla2luZyIsYS5tZC5iaW5kKGEpKTthLkk/KGEuSS5zZXRPblBsYXlpbmcoYS5tYi5iaW5kKGEsITApKSxhLkkuc2V0T25QYXVzZWQoYS5tYi5iaW5kKGEsITEpKSxhLkkuZW5hYmxlKCkpOihFKGEuaCxhLnZpZGVvLCJwbGF5aW5nIixhLm1iLmJpbmQoYSwhMCkpLGEuYS5nZXRCb29sKCJ1cGRhdGVfcHJpb3JpdHlfb25fcGxheV9ldmVudCIsCiEwKSYmRShhLmgsYS52aWRlbywicGxheSIsYS5tYi5iaW5kKGEsITApKSxFKGEuaCxhLnZpZGVvLCJwYXVzZSIsYS5tYi5iaW5kKGEsITEpKSk7RShhLmgsYS52aWRlbywic2Vla2luZyIsYS5NYy5iaW5kKGEpKTtFKGEuaCxhLnZpZGVvLCJ0aW1ldXBkYXRlIix0aHJvdHRsZShhLk1jLmJpbmQoYSksYS5hLmdldE51bWJlcigic2NoZWR1bGVyX3ByaW9yaXR5X3VwZGF0ZV9pbnRlcnZhbCIsMUUzKSkpO2lmKGEudmlkZW8uY3VycmVudFRpbWUhPWQpaWYoYS5TYikwIT09YS52aWRlby5yZWFkeVN0YXRlP2JnKGEsZCk6Y2coYSxkKTtlbHNlIHRyeXtiZyhhLGQpfWNhdGNoKGUpe2NnKGEsZCl9ZmcoYSxjLnN0YXJ0LGMuZW5kLGMubGFzdCxjLlphKTt2YXIgZj1bXSxnO2ZvcihnIGluIGEuYyl7Yz1hLmNbZ107SihhLGZ1bmN0aW9uKGEpe2YucHVzaChhLktjKHRoaXMuc2EpLnRoZW4oSih0aGlzLGZ1bmN0aW9uKGIpe3ZhciBjPWEuc2IoKTtjPnRoaXMuQmImJih0aGlzLkJiPWMpO3JldHVybiBifSkpKX0pKGMpOwpFKGEuaCxjLCJlbmRlZCIsYS5vZC5iaW5kKGEpKTtFKGEuaCxjLCJzaG91bGRfZW5kX2FsbF9zdHJlYW1zIixhLnBkLmJpbmQoYSkpO0UoYS5oLGMsInNob3VsZF9udWRnZSIsYS5qZC5iaW5kKGEpKTtkPWJbZ107dmFyIGg9YS5BLmdldEluaXRpYWxTd2l0Y2hSZWFzb24oKXx8dm9pZCAwO2MuamIoZCwhMSx2b2lkIDAsaCl9UHJvbWlzZS5hbGwoZikudGhlbihKKGEsZnVuY3Rpb24oYSl7dGhpcy5hLmdldEJvb2woInByZXZlbnRfc3RyZWFtX3N0YXJ0X2lmX3N0cmVhbXNfY2hhbmdlIiwhMSkmJiFnZyh0aGlzKXx8aGcodGhpcyxhKX0pKS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7ImRlc3Ryb3kiIT1hLnR5cGUmJihhPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGEpKX0pKTtuZihhLGEueWEpfQpuLm1iPWZ1bmN0aW9uKGEpe09iamVjdC5rZXlzKHRoaXMubykuZm9yRWFjaChmdW5jdGlvbihiKXt0aGlzLm9bYl0udXBkYXRlUHJpb3JpdHlXaXRoTmV3UGxheWluZ1N0YXRlKGEpfS5iaW5kKHRoaXMpKTtPYmplY3Qua2V5cyh0aGlzLncpLmZvckVhY2goZnVuY3Rpb24oYil7dGhpcy53W2JdLmdldFByaW9yaXR5VXBkYXRlcigpLnVwZGF0ZVByaW9yaXR5V2l0aE5ld1BsYXlpbmdTdGF0ZShhKX0uYmluZCh0aGlzKSk7aWYodGhpcy5sKXt2YXIgYj1NZih0aGlzLEhmKHRoaXMpKTtiJiZ0aGlzLnZpZGVvLmN1cnJlbnRUaW1lPGIuc3RhcnQmJkJhbnphaU9EUy5idW1wRW50aXR5S2V5KDI5NjYsInZpZGVvcy53d3cuc2hha2EiLCJjdXJyZW50X3RpbWVfYXRfcGxheWluZ19sZXNzX3RoYW5fc3RyZWFtX2xpbWl0c19zdGFydCIpfWEmJm51bGwhPT10aGlzLmNhJiYodGhpcy54YT0xLFJmKHRoaXMsdGhpcy54YSksaWcodGhpcykpfTsKbi5NYz1mdW5jdGlvbigpe3RoaXMudmlkZW8mJihPYmplY3Qua2V5cyh0aGlzLm8pLmZvckVhY2goZnVuY3Rpb24oYSl7dGhpcy5vW2FdLnVwZGF0ZVByaW9yaXR5V2l0aE5ld1BsYXloZWFkKHRoaXMudmlkZW8uY3VycmVudFRpbWUpfS5iaW5kKHRoaXMpKSxPYmplY3Qua2V5cyh0aGlzLncpLmZvckVhY2goZnVuY3Rpb24oYSl7dGhpcy53W2FdLmdldFByaW9yaXR5VXBkYXRlcigpLnVwZGF0ZVByaW9yaXR5V2l0aE5ld1BsYXloZWFkKHRoaXMudmlkZW8uY3VycmVudFRpbWUpfS5iaW5kKHRoaXMpKSl9O2Z1bmN0aW9uIFFmKGEpe2lmKGEuYS5nZXRCb29sKCJjbGVhcl9jdXJyZW50X3NlZ21lbnRfaW5kZXhlc19kdXJpbmdfbGl2ZWhlYWRfY2F0Y2h1cCIsITEpKWZvcih2YXIgYiBpbiBhLmMpYS5jW2JdLmk9bnVsbH1mdW5jdGlvbiBjZyhhLGIpe2EuYmE9Yjtmb3IodmFyIGMgaW4gYS5jKXt2YXIgZD1hLmNbY107YS5iYSYmKGQuSj1hLmJhKX19CmZ1bmN0aW9uIGdnKGEpe3JldHVybiFPYmplY3Qua2V5cyhhLmMpLnNvbWUoSihhLGZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNbYV0mJiF0aGlzLmNbYV0uaH0pKX0KZnVuY3Rpb24gaGcoYSxiKXtiYShiJiZiLmxlbmd0aD09T2JqZWN0LmtleXMoYS5jKS5sZW5ndGgpO2Zvcih2YXIgYz1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksZD1OdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFksZT0wO2U8Yi5sZW5ndGg7KytlKXZhciBmPWJbZV0sYz1NYXRoLm1pbihjLGYpLGQ9TWF0aC5tYXgoZCxmKTtjPUhmKGEpO2ZvcihlPTA7ZTxjLmxlbmd0aDsrK2UpY1tlXS5UYShkKTthLmEuZ2V0Qm9vbCgicHJvY2Vzc19kZWZlcnJlZF9zd2l0Y2hlc19lYXJseSIsITEpJiZqZyhhKTtrZyhhLGMsZCk7dmFyIGc9V2EoYS5jKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuV2EoKS5pZH0pO2EuYS5nZXRCb29sKCJzZXF1ZW50aWFsbHlfbG9hZF9zdHJlYW1zIiwhMSk/bGcoYSxnLGQpOihlPSRhKGEuZikubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLnZ9KS5yZWR1Y2UoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5jb25jYXQoYil9LFtdKS5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIX5nLmluZGV4T2YoYS5pZCl9KS5tYXAoSihhLApmdW5jdGlvbihhKXt2YXIgYj1bYS5NLnBiP2EuTS5wYigpOmEuTS5jcmVhdGUoKV07YS5hYSYmYi5wdXNoKGEuYWEuY3JlYXRlKHRoaXMubCx0aGlzLmRhKSk7cmV0dXJuIFByb21pc2UuYWxsKGIpfSkpLFByb21pc2UuYWxsKGUpLnRoZW4oSihhLGZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7KytiKWFbYl1bMF0uVGEoZCk7dGhpcy5DYT0hMDtqZyh0aGlzKX0pKS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7ImFib3J0ZWQiIT1hLnR5cGUmJihhPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGEpKX0pKSl9CmZ1bmN0aW9uIGxnKGEsYixjKXt2YXIgZD1Qcm9taXNlLnJlc29sdmUoKTskYShhLmYpLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS52fSkucmVkdWNlKGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuY29uY2F0KGIpfSxbXSkuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiF+Yi5pbmRleE9mKGEuaWQpfSkuZm9yRWFjaChmdW5jdGlvbihhKXtkPWQudGhlbihKKHRoaXMsZnVuY3Rpb24oYil7YiYmYlswXS5UYShjKTtiPVthLk0ucGI/YS5NLnBiKCk6YS5NLmNyZWF0ZSgpXTthLmFhJiZiLnB1c2goYS5hYS5jcmVhdGUodGhpcy5sLHRoaXMuZGEpKTtyZXR1cm4gUHJvbWlzZS5hbGwoYil9KSkuY2F0Y2goZnVuY3Rpb24oYSl7dGhyb3cgYTt9KX0pO2QudGhlbihKKGEsZnVuY3Rpb24oKXt0aGlzLkNhPSEwO2pnKHRoaXMpfSkpLmNhdGNoKEooYSxmdW5jdGlvbihhKXsiYWJvcnRlZCIhPWEudHlwZSYmKGE9QShhKSx0aGlzLmRpc3BhdGNoRXZlbnQoYSkpfSkpfQpmdW5jdGlvbiBqZyhhKXtmb3IodmFyIGIgaW4gYS5CKXt2YXIgYz1hLkJbYl07YS5jW2JdLmpiKGMuTGMsYy5yYyxjLnNjLGMuc3dpdGNoUmVhc29uLGMuS2EpfWEuQj17fX0KZnVuY3Rpb24ga2coYSxiLGMpe3ZhciBkO2EuYS5nZXRCb29sKCJ3d3dfdmlkZW9zX2V4dGVuZGVkX3NwbF9sb2dnaW5nX2Zvcl9jb25uZWN0ZWRfdHYiLCExKSYmYS5sJiYoZD1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJzdHJlYW1fdmlkZW9fc291cmNlX2JlZ2luX3BsYXliYWNrIikpO2lmKGI9TWYoYSxiKSlkZyhhLGIpLGZnKGEsYi5zdGFydCxiLmVuZCxiLmxhc3QsYi5aYSk7MCE9Yz8oYz1hLnZpZGVvLmN1cnJlbnRUaW1lK2MsYS5hLmdldE51bWJlcigid3d3X3ZpZGVvc19udWRnZV90aW1lc3RhbXBfY29ycmVjdGlvbl9zIiwwKSYmKGMrPWEuYS5nZXROdW1iZXIoInd3d192aWRlb3NfbnVkZ2VfdGltZXN0YW1wX2NvcnJlY3Rpb25fcyIsMCkpLGEudmlkZW8uY3VycmVudFRpbWU9YyxhLkQ9Yyk6YS5lYyYmYiYmKGM9ZWcoYSxiKSxNYXRoLmFicyhjLWEudmlkZW8uY3VycmVudFRpbWUpPj1hLmRjJiYoYS52aWRlby5jdXJyZW50VGltZT1jKSk7YS5hLmdldEJvb2woInVuaWZ5X3N0cmVhbV9zdGFydF93aXRoX2J1ZmZlcl9kZXRlY3RvciIsCiExKT8oYz15KHt0eXBlOiJhbGxTdHJlYW1zU3RhcnRlZCIsYnViYmxlczohMH0pLGEuZGlzcGF0Y2hFdmVudChjKSk6YS52aWRlby5wbGF5YmFja1JhdGU9YS5rYzthLmIuYiYmbnVsbCE9YS5iLmMmJktmKGEsMCk7bWcoYSk7YS5zYS5yZXNvbHZlKCk7ZCYmZC5sb2coKX0KZnVuY3Rpb24gZWcoYSxiKXt2YXIgYz1iLmVuZDt2b2lkIDAhPT1iLkJjJiYoYz1iLkJjKTtpZihhLmEuZ2V0Qm9vbCgidGVtcGxhdGVkX2Fsd2F5c19qdW1wX3RvX3N0cmVhbV9saW1pdHNfZW5kIiwhMSkmJmEuYiYmYS5iLmYpcmV0dXJuIGIuZW5kO2lmKGEuY2Mpe3ZhciBkPWEudmlkZW8uY3VycmVudFRpbWUsZT1iLnN0YXJ0O2lmKGEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9hZGp1c3Rfc3RyZWFtX2xpbWl0c19zdGFydF9vZmZzZXRfaW50IiwwKSYmYS5iJiZhLmIuZil7Zm9yKHZhciBmPUhmKGEpLGc9MCxoPTA7aDxmLmxlbmd0aDsrK2gpe3ZhciBrPWZbaF0sbD1NYXRoLm1pbihhLmEuZ2V0TnVtYmVyKCJ0ZW1wbGF0ZWRfYWRqdXN0X3N0cmVhbV9saW1pdHNfc3RhcnRfb2Zmc2V0X2ludCIsMCksay5sZW5ndGgoKSk7ay5sZW5ndGgoKSYmMDxsJiZsPD1rLmxlbmd0aCgpJiYoZz1NYXRoLm1heChrLmdldChrLmxlbmd0aCgpLWwpLnN0YXJ0VGltZSxnKSl9ZT1NYXRoLm1heChlLApnKX1pZihkPj1lJiZkPD1iLmVuZCYmZDxjKWlmKGEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9qdW1wX3RvX2xpdmVfc2lkeF9lbmRfb2Zmc2V0IiwwKSYmYS5iJiZhLmIuZil7Zj1IZihhKTtrPW51bGw7ZT1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7Zm9yKGg9MDtoPGYubGVuZ3RoOysraClmW2hdLmxlbmd0aCgpPGUmJihlPWZbaF0ubGVuZ3RoKCksaz1mW2hdKTtrJiZlPmEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9qdW1wX3RvX2xpdmVfc2lkeF9lbmRfb2Zmc2V0IiwwKSYmKGY9ay5nZXQoay5sZW5ndGgoKS1hLmEuZ2V0TnVtYmVyKCJ0ZW1wbGF0ZWRfanVtcF90b19saXZlX3NpZHhfZW5kX29mZnNldCIsMCkpLnN0YXJ0VGltZSxkPj1mJiYoYz1kKSl9ZWxzZSBjPWR9cmV0dXJuIGN9CmZ1bmN0aW9uIGRnKGEsYil7aWYoYS5iLmIpaXNOYU4oYS5pLmR1cmF0aW9uKSYmKGEuaS5kdXJhdGlvbj1iLmVuZCsyNTkyRTMpO2Vsc2UgaWYoaXNOYU4oYS5pLmR1cmF0aW9uKXx8Yi5lbmQ+YS5pLmR1cmF0aW9uKWlmKGEuaS5kdXJhdGlvbj1iLmVuZCwhYS5hLmdldEJvb2woImRpc2FibGVfYXBwZW5kX3dpbmRvd19lbmQiLCExKSlmb3IodmFyIGM9YS5hLmdldE51bWJlcigiYXBwZW5kX3dpbmRvd19lbmRfZnVkZ2VfZmFjdG9yIiwwKSxkPTA7ZDxhLmkuc291cmNlQnVmZmVycy5sZW5ndGg7KytkKWEuaS5zb3VyY2VCdWZmZXJzW2RdLmFwcGVuZFdpbmRvd0VuZD1iLmVuZCtjfQpuLnJkPWZ1bmN0aW9uKCl7dGhpcy5rYT1udWxsO21nKHRoaXMpO3ZhciBhPU1mKHRoaXMsSGYodGhpcykpO2lmKGEpe3ZhciBiPXRoaXMuYi5iO3RoaXMuYS5nZXRCb29sKCJ0cmVhdF9saXZlX3N0YXRpY19tYW5pZmVzdF9hc19keW5hbWljIiwhMSkmJihiPWJ8fHRoaXMuYi5oKTtiJiZ0aGlzLmphIT1hLmxhc3QmJih0aGlzLmphPWEubGFzdCxudWxsIT10aGlzLmomJihjbGVhclRpbWVvdXQodGhpcy5qKSx0aGlzLmo9bnVsbCkpO2ZnKHRoaXMsYS5zdGFydCxhLmVuZCxhLmxhc3QsYS5aYSk7dGhpcy52aWRlby5wYXVzZWR8fG5nKHRoaXMsdGhpcy52aWRlby5jdXJyZW50VGltZSxhLnN0YXJ0LGEuZW5kKX19O2Z1bmN0aW9uIGZnKGEsYixjLGQsZSl7Yj15KHt0eXBlOiJzZWVrcmFuZ2VjaGFuZ2VkIixidWJibGVzOiEwLHN0YXJ0OmIsZW5kOmMsbGFzdDpkLHNlZWtSYW5nZUdhcHM6ZX0pO2EuZGlzcGF0Y2hFdmVudChiKX0Kbi5tZD1mdW5jdGlvbigpe3ZhciBhPXRoaXMudmlkZW8uY3VycmVudFRpbWUsYj1NZih0aGlzLEhmKHRoaXMpKTt0aGlzLmwmJmImJmE8Yi5zdGFydCYmQmFuemFpT0RTLmJ1bXBFbnRpdHlLZXkoMjk2NiwidmlkZW9zLnd3dy5zaGFrYSIsImN1cnJlbnRfdGltZV9hdF9zZWVrX2xlc3NfdGhhbl9zdHJlYW1fbGltaXRzX3N0YXJ0Iik7aWYobnVsbCE9dGhpcy5EKXtpZihhPj10aGlzLkQtLjAxJiZhPD10aGlzLkQrLjAxKXt0aGlzLkQ9bnVsbDt0aGlzLmwmJmImJmE8Yi5zdGFydCYmQmFuemFpT0RTLmJ1bXBFbnRpdHlLZXkoMjk2NiwidmlkZW9zLnd3dy5zaGFrYSIsImlnbm9yZWRfc2Vla193aGVuX2N1cnJlbnRfdGltZV9hdF9zZWVrX2xlc3NfdGhhbl9zdHJlYW1fbGltaXRzX3N0YXJ0Iik7cmV0dXJufXRoaXMuRD1udWxsfWlmKGIpe3ZhciBjPWIuc3RhcnQsZD1iLmVuZDt0aGlzLmEuZ2V0Qm9vbCgic2tpcF9yZW1haW5pbmdfYnVmZmVyZWRfb25fc3RyZWFtX2VuZCIsITEpJiZ0aGlzLmIuYiYmCnRoaXMuYi5oJiZ0aGlzLnZpZGVvLnBhdXNlZCYmKGQ9dGhpcy5qYSk7KGM9bmcodGhpcyxhLGMsZCkpfHwoYTw9ZCsuMDF8fHRoaXMuYi5iJiYhb2codGhpcyxkKT9jPSExOih0aGlzLnZpZGVvLmN1cnJlbnRUaW1lPWQsYz0hMCkpO2lmKGMpdGhpcy5sJiZhPGIuc3RhcnQmJkJhbnphaU9EUy5idW1wRW50aXR5S2V5KDI5NjYsInZpZGVvcy53d3cuc2hha2EiLCJjbGFtcF9wbGF5aGVhZF93aGVuX2N1cnJlbnRfdGltZV9hdF9zZWVrX2xlc3NfdGhhbl9zdHJlYW1fbGltaXRzX3N0YXJ0Iik7ZWxzZXtmb3IodmFyIGUgaW4gdGhpcy5jKXRoaXMuY1tlXS5DYyh0aGlzLkVhKTt0aGlzLkVhPSExfX19O2Z1bmN0aW9uIG5nKGEsYixjLGQpe2lmKGI+PWMtLjAxKXJldHVybiExO2I9MDthLmIuYiYmKGI9LjUsb2coYSxjK2IpfHwoYj1hLmIuZykpO2EudmlkZW8uY3VycmVudFRpbWU9TWF0aC5taW4oYytiLGQpO3JldHVybiEwfQpmdW5jdGlvbiBvZyhhLGIpe2Zvcih2YXIgYyBpbiBhLmMpaWYoIWEuY1tjXS5JYyhiKSlyZXR1cm4hMTtyZXR1cm4hMH1uLm9kPWZ1bmN0aW9uKCl7aWYoIXRoaXMuYi5ifHx0aGlzLkZhKXtmb3IodmFyIGEgaW4gdGhpcy5jKWlmKCF0aGlzLmNbYV0uZmIoKSlyZXR1cm47dGhpcy5lYigpfX07bi5wZD1mdW5jdGlvbigpe2NsZWFyVGltZW91dCh0aGlzLnUpO3RoaXMuRmE9ITA7Zm9yKHZhciBhIGluIHRoaXMuYyl0aGlzLmNbYV0uZmIoKXx8dGhpcy5jW2FdLkNiKCl9O24uamQ9ZnVuY3Rpb24oKXt0aGlzLmEuZ2V0Qm9vbCgiaWdub3JlX3NlZWtfd2hlbl9udWRnaW5nIiwhMCkmJih0aGlzLkQ9dGhpcy52aWRlby5jdXJyZW50VGltZSk7dGhpcy52aWRlby5jdXJyZW50VGltZSs9LjAwMX07Cm4udGI9ZnVuY3Rpb24oKXtpZih0aGlzLmFjKCl8fHRoaXMuYmMoKSlyZXR1cm4hMDt2YXIgYT10aGlzLmIsYj1udWxsLGM9bnVsbDthJiZhLmEmJmEuYVswXSYmKGI9YS5hWzBdKTtiJiZiLmEmJmIuYVswXSYmKGM9Yi5hWzBdKTtyZXR1cm4hIWMmJmMuYn07WS5wcm90b3R5cGUuaGFzSW5saW5lZENlYTYwOFN1YnRpdGxlcz1ZLnByb3RvdHlwZS50YjtZLnByb3RvdHlwZS5QYj1mdW5jdGlvbihhKXt0aGlzLm5jPWE7dmFyIGI9dGhpcy5jOyJ2aWRlbyJpbiBiJiYoYT1hJiZ0aGlzLnRiKCksYi52aWRlby5jLlM9YSl9O1kucHJvdG90eXBlLnNldEVuYWJsZUNlYTYwOFBhcnNpbmc9WS5wcm90b3R5cGUuUGI7CmZ1bmN0aW9uIHNmKGEpe3ZhciBiPWEuYS5nZXROdW1iZXIoImxpdmVfYnVmZmVyaW5nX3VuZGVyZmxvd190aHJlc2hvbGQiLC41KSxjPWEuYS5nZXRCb29sKCJmaXhfbGl2ZV9zdHJlYW1fZ29uZV9vbl9tYW5pZmVzdF91cGRhdGUiLCEwKSYmYS5oYyxkPSExO2lmKGEuYi5oKXt2YXIgZD1hLmEuZ2V0TnVtYmVyKCJsaXZlX3N0cmVhbV9lbmRfc2xhY2siLDApLGU7Zm9yKGUgaW4gYS5jKWEuY1tlXS5mYigpfHwoZD0wKTtkPWEudmlkZW8uY3VycmVudFRpbWUrYitkPmEuamF9cmV0dXJuIGN8fGR9bj1ZLnByb3RvdHlwZTsKbi5jZD1mdW5jdGlvbigpe3RoaXMuJD0hMDtpZih0aGlzLmImJnRoaXMuYi5iKXtpZihzZih0aGlzKSlyZXR1cm4gdGhpcy5lYigpO3RoaXMuYS5nZXRCb29sKCJhbGxvd19pbmZpbml0ZV9yZXRyeV9vbl9uZXRfZXJyIiwhMCkmJnRoaXMuRy5pc05ldHdvcmtJbnRlcnJ1cHRlZCgpfHwhV2EodGhpcy5jKS5ldmVyeShmdW5jdGlvbihhKXtyZXR1cm4gYS5mYigpfSl8fHBnKHRoaXMsdGhpcy5nYil9dGhpcy5hLmdldEJvb2woImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvdyIsITEpJiYobnVsbD09PXRoaXMuS3x8RGF0ZS5ub3coKS10aGlzLmZjPnRoaXMuYS5nZXROdW1iZXIoImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvd190aW1lX3dpbmRvdyIsMkUzKT90aGlzLks9dGhpcy5hLmdldE51bWJlcigiYnVmZmVyaW5nX292ZXJmbG93X3RocmVzaG9sZCIsMCk6dGhpcy5LKj10aGlzLmEuZ2V0TnVtYmVyKCJiYWNrX29mZl9idWZmZXJpbmdfb3ZlcmZsb3dfdGltZV9mYWN0b3IiLDIpLAp0aGlzLks9TWF0aC5taW4odGhpcy5LLHRoaXMuYS5nZXROdW1iZXIoImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvd19tYXgiLDUpKSl9O2Z1bmN0aW9uIHBnKGEsYil7YS5qPXNldFRpbWVvdXQoYS5lYi5iaW5kKGEpLGIpfW4uYmQ9ZnVuY3Rpb24oKXt0aGlzLiQ9ITE7dGhpcy5hLmdldEJvb2woImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvdyIsITEpJiYodGhpcy5mYz1EYXRlLm5vdygpKTtudWxsIT10aGlzLmomJihjbGVhclRpbWVvdXQodGhpcy5qKSx0aGlzLmo9bnVsbCl9O24uZ2Q9ZnVuY3Rpb24oKXtudWxsIT09dGhpcy5iYSYmKGJnKHRoaXMsdGhpcy5iYSksY2codGhpcyxudWxsKSl9O24uR2Q9ZnVuY3Rpb24oKXt9OwpuLmViPWZ1bmN0aW9uKCl7dGhpcy4kPSExO3RoaXMuaj1udWxsO3ZhciBhO2lmKGE9dGhpcy5hLmdldEJvb2woInRlc3Rfc291cmNlX2J1ZmZlcnNfbm90X3VwZGF0aW5nX2VuZF9vZl9zdHJlYW0iLCExKSlhOntmb3IoYT0wO2E8dGhpcy5pLnNvdXJjZUJ1ZmZlcnMubGVuZ3RoOysrYSlpZih0aGlzLmkuc291cmNlQnVmZmVyc1thXS51cGRhdGluZyl7YT0hMDticmVhayBhfWE9ITF9aWYoYSlyZXR1cm4gcGcodGhpcywxRTMpOyJvcGVuIj09dGhpcy5pLnJlYWR5U3RhdGUmJnRoaXMuaS5lbmRPZlN0cmVhbSgpfTtmdW5jdGlvbiBIZihhKXtyZXR1cm4gV2EoYS5jKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuRmIoKX0pLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YX0pfWZ1bmN0aW9uIExmKGEpe3JldHVybiBNYXRoLm1heChhLmI/YS5iLmc6MSxhLlpiP2EuZy5zdHJlYW1CdWZmZXJTaXplfHwwOjApfQpmdW5jdGlvbiBNZihhLGIpe2Zvcih2YXIgYz0wLGQ9TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLGU9TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLGY9W10sZz0hVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJub19zZWVrX3JhbmdlX2dhcHNfZHVyaW5nX2NvbXB1dGVfc3RyZWFtX2xpbWl0cyIsITEpLGg9MDtoPGIubGVuZ3RoOysraCl7dmFyIGs9YltoXS5BKCk7ZyYmKGY9Zi5jb25jYXQoYltoXS5nZXRTZWVrUmFuZ2VHYXBzKCkpKTtjPU1hdGgubWF4KGMsay5zdGFydCk7bnVsbCE9ay5lbmQmJihkPU1hdGgubWluKGQsay5lbmQpKTtiW2hdLmxlbmd0aCgpJiYoZT1NYXRoLm1pbihlLGJbaF0ubGFzdCgpLmVuZFRpbWUpKX1nJiYoZj1tZXJnZVNlZWtSYW5nZUdhcHMoZikpO2lmKGQ9PU51bWJlci5QT1NJVElWRV9JTkZJTklUWSlpZihkPWEuYi5hWzBdLGQuZHVyYXRpb24pZD0oZC5zdGFydHx8MCkrZC5kdXJhdGlvbjtlbHNlIHJldHVybiBudWxsO2lmKGEuYi5iKXt2YXIgZz0KTGYoYSksZD1NYXRoLm1heChkLWcsYyksbDthLnJhJiZhLmEuZ2V0Qm9vbCgibGl2ZV9qdW1wX3RvX3B1c2hlZF9zZWdtZW50IiwhMSkmJmIubGVuZ3RoJiYoaD1NYXRoLmZsb29yKExmKGEpLzEpKzEsZz1iWzBdLGg9Zy5sZW5ndGgoKS1oLChnPWcuZ2V0KGgpKSYmKGw9Zy5zdGFydFRpbWUpKX1pZihjPmQpcmV0dXJuIG51bGw7ZD1NYXRoLmZsb29yKDFFNSpkKS8xRTU7cmV0dXJue3N0YXJ0OmMsZW5kOmQsbGFzdDplLFphOmYsQmM6bH19bi5uYj1mdW5jdGlvbigpe3JldHVybiBNZih0aGlzLEhmKHRoaXMpKX07WS5wcm90b3R5cGUuY29tcHV0ZVN0cmVhbUxpbWl0cz1ZLnByb3RvdHlwZS5uYjtmdW5jdGlvbiBtZyhhKXthLmIuYiYmKGEua2E9c2V0VGltZW91dChhLnJkLmJpbmQoYSksMUUzKSl9ZnVuY3Rpb24gRGYoYSl7Zm9yKHZhciBiIGluIGEuYylhLmNbYl0ucGEoYS5nKX1ZLnByb3RvdHlwZS5zYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLkJifTsKWS5wcm90b3R5cGUuZ2V0TG9uZ2VzdEluaXRSZXNwb25zZVRpbWU9WS5wcm90b3R5cGUuc2I7ZnVuY3Rpb24gWmYoYSl7cmV0dXJuInYiPT09YS5jaGFyQXQoMCk/InZpZGVvIjoiYSI9PT1hLmNoYXJBdCgwKT8iYXVkaW8iOm51bGx9WS5wcm90b3R5cGUuVGM9ZnVuY3Rpb24oKXt2YXIgYT15KHt0eXBlOiJuZXR3b3JraW50ZXJydXB0ZWQiLGJ1YmJsZXM6ITB9KTt0aGlzLmRpc3BhdGNoRXZlbnQoYSk7dGhpcy5UPXRoaXMuVHx8RGF0ZS5ub3coKTt0aGlzLiQmJnRoaXMuaiYmY2xlYXJUaW1lb3V0KHRoaXMuail9OwpZLnByb3RvdHlwZS5VYz1mdW5jdGlvbigpe3ZhciBhPXkoe3R5cGU6Im5ldHdvcmtyZXN1bWVkIixidWJibGVzOiEwfSk7dGhpcy5kaXNwYXRjaEV2ZW50KGEpO2E9dGhpcy5hLmdldE51bWJlcigibWF4X25ldHdvcmtfaW50ZXJydXB0ZWRfdGltZV9iZWZvcmVfc2VlayIsMUU0KTtudWxsIT09dGhpcy5UJiZEYXRlLm5vdygpLXRoaXMuVD49YSYmKHRoaXMuVD1udWxsLHRoaXMuZWE9ITApO3RoaXMuYS5nZXRCb29sKCJmaXhfbmV0d29ya19pbnRlcnJ1cHRlZF9zdGFydF9ub3RfbnVsbGVkIiwhMSkmJih0aGlzLlQ9bnVsbCk7dGhpcy4kJiZwZyh0aGlzLHRoaXMuZ2IpfTtZLnByb3RvdHlwZS5WYz1mdW5jdGlvbigpe3RoaXMuZWE9ITB9O2Z1bmN0aW9uIFBmKGEpe2EuYS5nZXRCb29sKCJkZWNvdXBsZV9tcGRfdXBkYXRlX2xvb3BfZnJvbV9yZXF1ZXN0X2xvb3AiLCExKXx8S2YoYSwwKX1ZLnByb3RvdHlwZS5xYz1mdW5jdGlvbihhKXt0aGlzLm5hPWF9OwpZLnByb3RvdHlwZS5zZXRFbmFibGVMaXZlaGVhZENhdGNodXA9WS5wcm90b3R5cGUucWM7WS5wcm90b3R5cGUuemQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uYX07WS5wcm90b3R5cGUuaXNMaXZlaGVhZENhdGNodXBFbmFibGVkPVkucHJvdG90eXBlLnpkO1kucHJvdG90eXBlLlNjPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYy52aWRlbz90aGlzLmMudmlkZW8uYy5pOm51bGx9O1kucHJvdG90eXBlLmdldFZpZGVvU3RyZWFtUHJvZ3Jlc3NUcmFja2VyPVkucHJvdG90eXBlLlNjO1kucHJvdG90eXBlLnFiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYy52aWRlbz90aGlzLmMudmlkZW8ucWIoKTpudWxsfTtZLnByb3RvdHlwZS5nZXRCdWZmZXJWZWxvY2l0eT1ZLnByb3RvdHlwZS5xYjtmdW5jdGlvbiBSZihhLGIpe2Zvcih2YXIgYyBpbiBhLmMpYS5jW2NdLm5hPWJ9CmZ1bmN0aW9uIGlnKGEpe3ZhciBiPVtdO2lmKG51bGwhPT1hLmNhKXt2YXIgYz1hLmNhLGQ7Zm9yKGQgaW4gYS5jKWIucHVzaChyZShhLmNbZF0sYS5jYSkpO1Byb21pc2UuYWxsKGIpLnRoZW4oSihhLGZ1bmN0aW9uKCl7aWYoYyl7Zm9yKHZhciBhIGluIHRoaXMuYyl7dmFyIGI9dGhpcy5jW2FdO2IuSz1udWxsO2IuVj0hMTtiLkk9bnVsbH1jPnRoaXMudmlkZW8uY3VycmVudFRpbWUmJih0aGlzLnZpZGVvLmN1cnJlbnRUaW1lPWMpfX0pKX1hLmNhPW51bGx9O2Z1bmN0aW9uIFooYSxiLGMsZCxlLGYsZyl7ZHx8KGQ9bmV3IEcpO2V8fChlPW5ldyBYKTtZLmNhbGwodGhpcyxudWxsLGIsZCxlKTsic3RyaW5nIj09PXR5cGVvZiBhP3RoaXMuamM9YTp0aGlzLk5iPWE7dGhpcy5hPWI7dGhpcy5GPW51bGw7dGhpcy50YT1jO3RoaXMuRGE9W107dGhpcy5RYj1bXTt0aGlzLlJiPVtdO3RoaXMuSGE9MDt0aGlzLlk9bnVsbDt0aGlzLk1iPWd8fG51bGx9cihaLFkpO3EoInNoYWthLnBsYXllci5EYXNoVmlkZW9Tb3VyY2UiLFopO1oucHJvdG90eXBlLkpkPWZ1bmN0aW9uKGEpe3RoaXMuRj1hO3RoaXMuSmIoITAsITApfTtaLnByb3RvdHlwZS51cGRhdGVNYW5pZmVzdD1aLnByb3RvdHlwZS5KZDtaLnByb3RvdHlwZS5PYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLk5ifHx0aGlzLkZ9O1oucHJvdG90eXBlLmdldE1hbmlmZXN0PVoucHJvdG90eXBlLk9iO1oucHJvdG90eXBlLlRiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuT2IoKX07CloucHJvdG90eXBlLmRlYnVnR2V0TWFuaWZlc3Q9Wi5wcm90b3R5cGUuVGI7Wi5wcm90b3R5cGUuWmM9ZnVuY3Rpb24oYSxiLGMpe3RoaXMuRGEucHVzaChhKTt0aGlzLlFiLnB1c2goYnx8IiIpO3RoaXMuUmIucHVzaChjfHwiIil9O1oucHJvdG90eXBlLmFkZEV4dGVybmFsQ2FwdGlvbnM9Wi5wcm90b3R5cGUuWmM7Wi5wcm90b3R5cGUudGQ9ZnVuY3Rpb24oYSl7dGhpcy5ZPWF9O1oucHJvdG90eXBlLnNldE5ldHdvcmtDYWxsYmFjaz1aLnByb3RvdHlwZS50ZDtaLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5GPXRoaXMuWT10aGlzLnRhPW51bGw7WS5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpfTsKWi5wcm90b3R5cGUud2I9ZnVuY3Rpb24oKXt2YXIgYTt0aGlzLmwmJihhPXRoaXMubC5nZXRPcGVyYXRpb25Mb2dnZXIoInNvdXJjZV9sb2FkIikuc3RhcnQoKSk7dmFyIGIsYz1KKHRoaXMsZnVuY3Rpb24oYSl7aWYodGhpcy5hLmdldEJvb2woImVuYWJsZV9kb3VibGVfaW5nZXN0X29uX2luaXRpYWxfbXBkIiwhMSkpc3dpdGNoKGEuc3RhdHVzKXtjYXNlIDIwMDpjYXNlIDQxNzppZihhLnJlc3BvbnNlSGVhZGVycyYmbnVsbCE9YS5yZXNwb25zZUhlYWRlcnNbIngtZmItdmlkZW8tcmVwbGljYSJdKXJldHVybiB0aGlzLmRpc3BhdGNoRXZlbnQoeSh7dHlwZToicmVwbGljYXN3aXRjaCIsYnViYmxlczohMCxyZXBsaWNhOmEucmVzcG9uc2VIZWFkZXJzWyJ4LWZiLXZpZGVvLXJlcGxpY2EiXX0pKSxuZXcgUHJvbWlzZShmdW5jdGlvbigpe30pfXRocm93IGE7fSksZD1KKHRoaXMsZnVuY3Rpb24oYyl7dGhpcy5MYSgiTVBERmV0Y2hEdXJhdGlvbiIsKERhdGUubm93KCktYikvMUUzKTt0aGlzLkY9CmM7Zm9yKHZhciBkPTA7ZDx0aGlzLkRhLmxlbmd0aDtkKyspTGMoYyx0aGlzLkRhW2RdLHRoaXMuUWJbZF0sdGhpcy5SYltkXSk7dmFyIGQ9bmV3IHllKHRoaXMuYSx0aGlzLnRhLHRoaXMubCx0aGlzLk1iKSxlO3RoaXMubCYmKGU9dGhpcy5sLmdldE9wZXJhdGlvbkxvZ2dlcigicHJvY2Vzc19tYW5pZmVzdCIpLnN0YXJ0KCkpO3RoaXMuYj16ZShkLGMsdGhpcy5ZKTtlJiZlLmxvZygpO2EmJmEuc2V0TWFuaWZlc3RUeXBlKHRoaXMuYi5iPyJkeW5hbWljIjoic3RhdGljIik7cmV0dXJuIFkucHJvdG90eXBlLndiLmNhbGwodGhpcykudGhlbihmdW5jdGlvbigpe2EmJmEubG9nKCl9KX0pO2lmKHRoaXMuTmIpcmV0dXJuIGI9RGF0ZS5ub3coKSxkKHRoaXMuTmIpO3ZhciBlPVtuZXcgTCh0aGlzLmpjKV0sZjtpZih0aGlzLnJhKXt2YXIgZz1uZXcgVmlkZW9QdXNoUGFyYW1ldGVyc0hlbHBlcih0aGlzLmpjKTtnLnNldFN0cmVhbUVuZE9mZnNldChNYXRoLmZsb29yKExmKHRoaXMpLzEpKTsKdGhpcy5PYSYmZy5zZXRQdXNoVmlkZW9SZXByZXNlbnRhdGlvbklEKHRoaXMuT2EpO3RoaXMucGEmJmcuc2V0UHVzaEF1ZGlvUmVwcmVzZW50YXRpb25JRCh0aGlzLnBhKTt0aGlzLm1hJiZnLnNldFVzZUxvbmdDYWNoZUZvck1hbmlmZXN0KHRoaXMubWEpO2Y9bmV3IGZkKG51bGwpO2YuYT1nfWU9bmV3IEsodGhpcy5ZLGUsdm9pZCAwLHZvaWQgMCx2b2lkIDAsdGhpcy5NYik7Zj1uZXcgZGQoZSx0aGlzLkxiLGYsdGhpcy5kYSk7Yj1EYXRlLm5vdygpO3JldHVybiBlZChmLHRoaXMubCkudGhlbihkLGMpfTsKWi5wcm90b3R5cGUudmM9ZnVuY3Rpb24oKXtpZih0aGlzLlViKXt2YXIgYT10aGlzLmI7aWYoYT0oYT1hJiZhLmEpJiZhWzBdKXt2YXIgYT1hLmEucmVkdWNlKGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuY29uY2F0KGIudil9LFtdKSxiPWZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hfTtQcm9taXNlLmFsbChhLm1hcChmdW5jdGlvbihhKXthPWEuTTtyZXR1cm4gYS5RYz9hLlJhOmEuY3JlYXRlKCl9KSkudGhlbihmdW5jdGlvbihhKXthPWEuZmlsdGVyKGIpO3RoaXMuTGEoIkluaXRpYWxTZWdtZW50SW5kZXhlcyIsYSl9LmJpbmQodGhpcykpO1Byb21pc2UuYWxsKGEubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLmFhfSkpLnRoZW4oZnVuY3Rpb24oYSl7YT1hLmZpbHRlcihiKTt0aGlzLkxhKCJTZWdtZW50SW5pdFNvdXJjZXMiLGEpfS5iaW5kKHRoaXMpKX19fTsKWi5wcm90b3R5cGUueWM9ZnVuY3Rpb24oYSxiLGMpe2lmKHRoaXMudmlkZW8ucGF1c2VkJiZ0aGlzLkhhKzFFND5EYXRlLm5vdygpJiZ0aGlzLmIpcmV0dXJuIFByb21pc2UucmVqZWN0KHt0eXBlOiJkZWxheSJ9KTt2YXIgZDtpZihiJiZ2b2lkIDAhPWMpZD1uZXcgZmQoYiksZC5mPWMsYj1TZih0aGlzKSxudWxsIT1iJiYoZC5jPWIuc3RyZWFtSW5mb0lELGQuYj10aGlzLnBhKTtlbHNlIGZvcihiPWEuYyxjPTA7YzxiLmxlbmd0aDtjKyspe3ZhciBlPW5ldyBWaWRlb1B1c2hQYXJhbWV0ZXJzSGVscGVyKGJbY10udG9TdHJpbmcoKSk7dGhpcy5tYSYmZS5zZXRVc2VMb25nQ2FjaGVGb3JNYW5pZmVzdCh0aGlzLm1hKTtiW2NdPW5ldyBMKGUuZ2V0VVJMKCkpfWE9bmV3IGRkKGEsdGhpcy5MYixkLHRoaXMuZGEpO3ZhciBmPURhdGUubm93KCk7cmV0dXJuIGVkKGEsdGhpcy5sKS50aGVuKEoodGhpcyxmdW5jdGlvbihhKXt0aGlzLkhhPURhdGUubm93KCk7dGhpcy5MYSgiTVBERmV0Y2hEdXJhdGlvbiIsCih0aGlzLkhhLWYpLzFFMyk7dGhpcy5hLmdldEJvb2woInRyZWF0X2xpdmVfc3RhdGljX21hbmlmZXN0X2FzX2R5bmFtaWMiLCExKSYmKGEubWFuaWZlc3RJc0xpdmVTdHJlYW1pbmc9ImR5bmFtaWMiPT09KHRoaXMuRj90aGlzLkYudHlwZTphLnR5cGUpKTt0aGlzLkY9YTt2YXIgYj1uZXcgeWUodGhpcy5hLHRoaXMudGEsdGhpcy5sLHRoaXMuTWIpO2lmKHRoaXMubCl2YXIgYz10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJwcm9jZXNzX21hbmlmZXN0Iikuc3RhcnQoKTthPXplKGIsYSx0aGlzLlkpO2MmJmMubG9nKCk7cmV0dXJuIFByb21pc2UucmVzb2x2ZShhKX0pKX07Wi5wcm90b3R5cGUueGM9ZnVuY3Rpb24oKXt2YXIgYT16ZShuZXcgeWUodGhpcy5hLHRoaXMudGEpLHRoaXMuRix0aGlzLlkpO3JldHVybiBQcm9taXNlLnJlc29sdmUoYSl9O30uYmluZChnLCBnbG9iYWwpKSgpOwoKbW9kdWxlLmV4cG9ydHMgPSBnLnNoYWthOwoKCi8qICAqL30pLG51bGwpOwovLyMgc291cmNlVVJMPWZiOGIxNmM4YjU3NjdkNTE4ODYwZGFiMjgzMGM1MGYyLmpzCg==, line 416: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/yz/r/XpFFWCF_B8_.js?_nc_x=F-xmOkya9-Y, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
1578565517213	mozrunner::runner	INFO	Running command: "/usr/bin/firefox" "-marionette" "-foreground" "-no-remote" "-profile" "/tmp/rust_mozprofileuzk4QQ"
1578565517808	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: mozillaAddons
1578565517808	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: telemetry
1578565517818	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: resource://pdf.js/
1578565517818	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: about:reader*
1578565519645	Marionette	INFO	Listening on port 43053
1578565519719	Marionette	WARN	TLS certificate errors will be ignored for this session
1578565540500	Marionette	WARN	TimedPromise timed out after 5000 ms: stacktrace:
bail@chrome://marionette/content/sync.js:237:64
1578565541107	Marionette	WARN	TimedPromise timed out after 500 ms: stacktrace:
bail@chrome://marionette/content/sync.js:237:64
JavaScript error: data:application/x-javascript;charset=utf-8;base64,aWYgKHNlbGYuQ2F2YWxyeUxvZ2dlcikgeyBDYXZhbHJ5TG9nZ2VyLnN0YXJ0X2pzKFsiKzRzV3kiXSk7IH0KLyoqCiAqIEBwcm92aWRlc01vZHVsZSBTaGFrYQogKiBAcHJlc2VydmUtd2hpdGVzcGFjZQogKiBAbm9wYWNrYWdlCiAqIEBnZW5lcmF0ZWQKICovCl9fZCgiU2hha2EiLFsiUHJvbWlzZSIsIkV2ZW50TGlzdGVuZXIiLCJWaWRlb1BsYXllclNoYWthUGVyZm9ybWFuY2VMb2dnZXIiLCJWaWRlb1B1c2hQYXJhbWV0ZXJzSGVscGVyIiwiVGltZVNsaWNlIiwiVmlkZW9QbGF5ZXJMb2NhbEJhbmR3aWR0aEVzdGltYXRvciIsIlZpZGVvUGxheWVyUmVzb3VyY2VUaW1lciIsIlNoYWthU2VnbWVudFJlZmVyZW5jZUhlbHBlciIsIlNlZ21lbnRSZXF1ZXN0TWFuYWdlciIsImNvbmNhdEFycmF5QnVmZmVyIiwiQnVmZmVyUmVwbGFjZW1lbnRIZWxwZXIiLCJsb2dMb25nQWthbWFpUmVxdWVzdCIsInRocm90dGxlIiwiVmlld3BvcnRQcmlvcml0eUFkanVzdGVyIiwiRmlyc3RMb2FkZWRWaWRlb1ByaW9yaXR5QWRqdXN0ZXIiLCJWaWRlb1ByaW9yaXR5Q2FsY3VsYXRvciIsIlZpZGVvU3RyZWFtaW5nTWFuYWdlciIsIk11bHRpcGxlU2VnbWVudHNQcm92aWRlciIsIkxvY2FsQml0cmF0ZUhlbHBlciIsIlVuaXRDb25zdGFudHMiLCJCdWZmZXJWZWxvY2l0eSIsIlZpZGVvUGxheWVyQml0cmF0ZUVzdGltYXRvciIsIlZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWciLCJnZXRTZWVrUmFuZ2VHYXBzRnJvbVNoYWthUmVmZXJlbmNlcyIsIm1lcmdlU2Vla1JhbmdlR2FwcyIsIk5ldHdvcmtTdGF0dXNEZXRlY3RvciIsIk1vc1V0aWxzIiwiQmFuemFpT0RTIiwiVmlkZW9EYXNoUHJlZmV0Y2hDYWNoZSIsIlZpZGVvQ2xpZW50RWRnZUNvb3BlcmF0aW9uIiwiVmlkZW9TdHJlYW1pbmdUYXNrUXVldWVQcm92aWRlciIsIkJpbmFyeVNlYXJjaCIsIlNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscyIsImdreCIsInNldFRpbWVvdXRBY3Jvc3NUcmFuc2l0aW9ucyIsInNldFRpbWVvdXQiLCJzZXRJbnRlcnZhbEFjcm9zc1RyYW5zaXRpb25zIiwic2V0SW50ZXJ2YWwiLCJzZXRJbW1lZGlhdGVBY3Jvc3NUcmFuc2l0aW9ucyIsInNldEltbWVkaWF0ZSIsImNsZWFyVGltZW91dCIsImNsZWFySW50ZXJ2YWwiLCJjbGVhckltbWVkaWF0ZSIsImRpc3BhdGNoRXZlbnQiLCJFdmVudExpc3RlbmVyIiwiRXZlbnQiLCJleHRyYWN0Q0VBNjA4IiwicGVyZm9ybWFuY2VOb3ciLCJwYXJzZUhlYWRlcnMiLCJjYW5Vc2VGZXRjaFN0cmVhbSIsIlN1YnNjcmlwdGlvbnNIYW5kbGVyIiwiVmlkZW9QdXNoVHJhY2tlciJdLChmdW5jdGlvbiAkbW9kdWxlX1NoYWthKGdsb2JhbCxyZXF1aXJlLHJlcXVpcmVEeW5hbWljLHJlcXVpcmVMYXp5LG1vZHVsZSxleHBvcnRzKXsKCi8vIHJ1biBgYXJjIHJlYnVpbGQgc2hha2EtcGxheWVyYCB0byByZWdlbmVyYXRlIFNoYWthLmpzIGFmdGVyIG1vZGlmeWluZyB0aGlzCi8vIGZpbGUKCnZhciBQcm9taXNlID0gcmVxdWlyZSgnUHJvbWlzZScpOwp2YXIgRXZlbnRMaXN0ZW5lciA9IHJlcXVpcmUoJ0V2ZW50TGlzdGVuZXInKTsKdmFyIFZpZGVvUGxheWVyU2hha2FQZXJmb3JtYW5jZUxvZ2dlciA9IHJlcXVpcmUoJ1ZpZGVvUGxheWVyU2hha2FQZXJmb3JtYW5jZUxvZ2dlcicpOwp2YXIgVmlkZW9QdXNoUGFyYW1ldGVyc0hlbHBlciA9IHJlcXVpcmUoJ1ZpZGVvUHVzaFBhcmFtZXRlcnNIZWxwZXInKTsKdmFyIFRpbWVTbGljZSA9IHJlcXVpcmUoJ1RpbWVTbGljZScpOwp2YXIgVmlkZW9QbGF5ZXJMb2NhbEJhbmR3aWR0aEVzdGltYXRvciA9IHJlcXVpcmUoJ1ZpZGVvUGxheWVyTG9jYWxCYW5kd2lkdGhFc3RpbWF0b3InKTsKdmFyIFZpZGVvUGxheWVyUmVzb3VyY2VUaW1lciA9IHJlcXVpcmUoJ1ZpZGVvUGxheWVyUmVzb3VyY2VUaW1lcicpOwp2YXIgU2hha2FTZWdtZW50UmVmZXJlbmNlSGVscGVyID0gcmVxdWlyZSgnU2hha2FTZWdtZW50UmVmZXJlbmNlSGVscGVyJyk7CnZhciBTZWdtZW50UmVxdWVzdE1hbmFnZXIgPSByZXF1aXJlKCdTZWdtZW50UmVxdWVzdE1hbmFnZXInKTsKdmFyIGNvbmNhdEFycmF5QnVmZmVyID0gcmVxdWlyZSgnY29uY2F0QXJyYXlCdWZmZXInKTsKdmFyIEJ1ZmZlclJlcGxhY2VtZW50SGVscGVyID0gcmVxdWlyZSgnQnVmZmVyUmVwbGFjZW1lbnRIZWxwZXInKTsKdmFyIGxvZ0xvbmdBa2FtYWlSZXF1ZXN0ID0gcmVxdWlyZSgnbG9nTG9uZ0FrYW1haVJlcXVlc3QnKTsKdmFyIHRocm90dGxlID0gcmVxdWlyZSgndGhyb3R0bGUnKTsKdmFyIFZpZXdwb3J0UHJpb3JpdHlBZGp1c3RlciA9IHJlcXVpcmUoJ1ZpZXdwb3J0UHJpb3JpdHlBZGp1c3RlcicpOwp2YXIgRmlyc3RMb2FkZWRWaWRlb1ByaW9yaXR5QWRqdXN0ZXIgPSByZXF1aXJlKCdGaXJzdExvYWRlZFZpZGVvUHJpb3JpdHlBZGp1c3RlcicpOwp2YXIgVmlkZW9Qcmlvcml0eUNhbGN1bGF0b3IgPSByZXF1aXJlKCdWaWRlb1ByaW9yaXR5Q2FsY3VsYXRvcicpOwp2YXIgVmlkZW9TdHJlYW1pbmdNYW5hZ2VyID0gcmVxdWlyZSgnVmlkZW9TdHJlYW1pbmdNYW5hZ2VyJyk7CnZhciBNdWx0aXBsZVNlZ21lbnRzUHJvdmlkZXIgPSByZXF1aXJlKCdNdWx0aXBsZVNlZ21lbnRzUHJvdmlkZXInKTsKdmFyIExvY2FsQml0cmF0ZUhlbHBlciA9IHJlcXVpcmUoJ0xvY2FsQml0cmF0ZUhlbHBlcicpOwp2YXIgVW5pdENvbnN0YW50cyA9IHJlcXVpcmUoJ1VuaXRDb25zdGFudHMnKTsKdmFyIEJ1ZmZlclZlbG9jaXR5ID0gcmVxdWlyZSgnQnVmZmVyVmVsb2NpdHknKTsKdmFyIFZpZGVvUGxheWVyQml0cmF0ZUVzdGltYXRvciA9IHJlcXVpcmUoJ1ZpZGVvUGxheWVyQml0cmF0ZUVzdGltYXRvcicpOwp2YXIgVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZyA9IHJlcXVpcmUoJ1ZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcnKTsKdmFyIGdldFNlZWtSYW5nZUdhcHNGcm9tU2hha2FSZWZlcmVuY2VzID0gcmVxdWlyZSgnZ2V0U2Vla1JhbmdlR2Fwc0Zyb21TaGFrYVJlZmVyZW5jZXMnKTsKdmFyIG1lcmdlU2Vla1JhbmdlR2FwcyA9IHJlcXVpcmUoJ21lcmdlU2Vla1JhbmdlR2FwcycpOwp2YXIgTmV0d29ya1N0YXR1c0RldGVjdG9yID0gcmVxdWlyZSgnTmV0d29ya1N0YXR1c0RldGVjdG9yJyk7CnZhciBNb3NVdGlscyA9IHJlcXVpcmUoJ01vc1V0aWxzJyk7CnZhciBCYW56YWlPRFMgPSByZXF1aXJlKCdCYW56YWlPRFMnKTsKdmFyIFZpZGVvRGFzaFByZWZldGNoQ2FjaGUgPSByZXF1aXJlKCdWaWRlb0Rhc2hQcmVmZXRjaENhY2hlJyk7CnZhciBWaWRlb0NsaWVudEVkZ2VDb29wZXJhdGlvbiA9IHJlcXVpcmUoJ1ZpZGVvQ2xpZW50RWRnZUNvb3BlcmF0aW9uJyk7CnZhciBWaWRlb1N0cmVhbWluZ1Rhc2tRdWV1ZVByb3ZpZGVyID0gcmVxdWlyZSgnVmlkZW9TdHJlYW1pbmdUYXNrUXVldWVQcm92aWRlcicpOwp2YXIgQmluYXJ5U2VhcmNoID0gcmVxdWlyZSgnQmluYXJ5U2VhcmNoJyk7CnZhciBTaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMgPSByZXF1aXJlKCdTaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMnKTsKdmFyIGdreCA9IHJlcXVpcmUoJ2dreCcpOwoKdmFyIHNldFRpbWVvdXQgPSBWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woCiAgICAndGltZW91dHNfcGVyc2lzdF9vbl9wYWdlX3RyYW5zaXRpb24nLAogICAgdHJ1ZQogICkgPwogIHJlcXVpcmUoJ3NldFRpbWVvdXRBY3Jvc3NUcmFuc2l0aW9ucycpIDoKICByZXF1aXJlKCdzZXRUaW1lb3V0Jyk7CnZhciBzZXRJbnRlcnZhbCA9IFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgKICAgICd0aW1lb3V0c19wZXJzaXN0X29uX3BhZ2VfdHJhbnNpdGlvbicsCiAgICB0cnVlCiAgKSA/CiAgcmVxdWlyZSgnc2V0SW50ZXJ2YWxBY3Jvc3NUcmFuc2l0aW9ucycpIDoKICByZXF1aXJlKCdzZXRJbnRlcnZhbCcpOwp2YXIgc2V0SW1tZWRpYXRlID0gVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKAogICAgJ3RpbWVvdXRzX3BlcnNpc3Rfb25fcGFnZV90cmFuc2l0aW9uJywKICAgIHRydWUKICApID8KICByZXF1aXJlKCdzZXRJbW1lZGlhdGVBY3Jvc3NUcmFuc2l0aW9ucycpIDoKICByZXF1aXJlKCdzZXRJbW1lZGlhdGUnKTsKdmFyIGNsZWFyVGltZW91dCA9IHJlcXVpcmUoJ2NsZWFyVGltZW91dCcpOwp2YXIgY2xlYXJJbnRlcnZhbCA9IHJlcXVpcmUoJ2NsZWFySW50ZXJ2YWwnKTsKdmFyIGNsZWFySW1tZWRpYXRlID0gcmVxdWlyZSgnY2xlYXJJbW1lZGlhdGUnKTsKdmFyIGRpc3BhdGNoRG9tRXZlbnQgPSByZXF1aXJlKCdkaXNwYXRjaEV2ZW50Jyk7CnZhciBldmVudExpc3RlbmVyQ2FwdHVyZSA9IHJlcXVpcmUoJ0V2ZW50TGlzdGVuZXInKS5jYXB0dXJlOwp2YXIgZXZlbnRLaWxsID0gcmVxdWlyZSgnRXZlbnQnKS5raWxsOwp2YXIgZXh0cmFjdENFQTYwOCA9IHJlcXVpcmUoJ2V4dHJhY3RDRUE2MDgnKTsKdmFyIHBlcmZvcm1hbmNlTm93ID0gcmVxdWlyZSgncGVyZm9ybWFuY2VOb3cnKTsKdmFyIHBhcnNlSGVhZGVycyA9IHJlcXVpcmUoJ3BhcnNlSGVhZGVycycpOwp2YXIgY2FuVXNlRmV0Y2hTdHJlYW0gPSByZXF1aXJlKCdjYW5Vc2VGZXRjaFN0cmVhbScpOwp2YXIgU3Vic2NyaXB0aW9uc0hhbmRsZXIgPSByZXF1aXJlKCdTdWJzY3JpcHRpb25zSGFuZGxlcicpOwp2YXIgVmlkZW9QdXNoVHJhY2tlciA9IHJlcXVpcmUoJ1ZpZGVvUHVzaFRyYWNrZXInKTsKCmZ1bmN0aW9uIHNldEV2ZW50UHJvcGVydHkob2JqLCBuYW1lLCBoYW5kbGVyKSB7CiAgb2JqW25hbWVdID0gVGltZVNsaWNlLmd1YXJkKGhhbmRsZXIsICdzaGFrYSAnICsgbmFtZSk7Cn07CgppZiAoCiAgVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCdzaGFrYV9uYXRpdmVfcHJvbWlzZScsIGZhbHNlKSAmJgogIFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgndXNlX25hdGl2ZV9wcm9taXNlJywgdHJ1ZSkKKSB7CiAgUHJvbWlzZSA9IHdpbmRvdy5Qcm9taXNlOwp9Cgp2YXIgZyA9IHt9OwoKKGZ1bmN0aW9uKHdpbmRvdyl7dmFyIG4sYWE9dGhpcztmdW5jdGlvbiBxKGEsYil7dmFyIGM9YS5zcGxpdCgiLiIpLGQ9YWE7Y1swXWluIGR8fCFkLmV4ZWNTY3JpcHR8fGQuZXhlY1NjcmlwdCgidmFyICIrY1swXSk7Zm9yKHZhciBlO2MubGVuZ3RoJiYoZT1jLnNoaWZ0KCkpOyljLmxlbmd0aHx8dm9pZCAwPT09Yj9kW2VdP2Q9ZFtlXTpkPWRbZV09e306ZFtlXT1ifWZ1bmN0aW9uIHIoYSxiKXtmdW5jdGlvbiBjKCl7fWMucHJvdG90eXBlPWIucHJvdG90eXBlO2EuUGQ9Yi5wcm90b3R5cGU7YS5wcm90b3R5cGU9bmV3IGM7YS5wcm90b3R5cGUuY29uc3RydWN0b3I9YTthLkxkPWZ1bmN0aW9uKGEsYyxmKXtyZXR1cm4gYi5wcm90b3R5cGVbY10uYXBwbHkoYSxBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMikpfX07LyoKCiBDb3B5cmlnaHQgMjAxNSBHb29nbGUgSW5jLgoKIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoKIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoqLwpmdW5jdGlvbiBiYSgpe307ZnVuY3Rpb24gY2EoYSl7dmFyIGI9Y29uc29sZVthXTtiP2IuYmluZHx8KGNvbnNvbGVbYV09ZnVuY3Rpb24oKXtiLmFwcGx5KGNvbnNvbGUsYXJndW1lbnRzKX0pOmNvbnNvbGVbYV09ZnVuY3Rpb24oKXt9fWNhKCJlcnJvciIpO2NhKCJ3YXJuIik7Y2EoImluZm8iKTtjYSgibG9nIik7Y2EoImRlYnVnIik7dmFyIHU9e3FhOmZ1bmN0aW9uKGEpe3UuSGJbYV09e3FhOnUud2MoKSxlbmQ6TmFOfX0sZW5kOmZ1bmN0aW9uKGEpe2lmKGE9dS5IYlthXSlhLmVuZD11LndjKCl9LE1kOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD11LmdldChhKSxlPXUuZ2V0KGIpO2lmKCFkfHwhZSlyZXR1cm4gTmFOO2QtPWU7Zm9yKGU9MjtlPGFyZ3VtZW50cy5sZW5ndGg7KytlKXt2YXIgZj11LmdldChhcmd1bWVudHNbZV0pO2lmKCFmKXJldHVybiBOYU47ZC09Zn1yZXR1cm4gZH0sZ2V0OmZ1bmN0aW9uKGEpe3JldHVybihhPXUuSGJbYV0pJiZhLmVuZD9hLmVuZC1hLnFhOk5hTn19O3Uud2M9d2luZG93LnBlcmZvcm1hbmNlJiZ3aW5kb3cucGVyZm9ybWFuY2Uubm93P3dpbmRvdy5wZXJmb3JtYW5jZS5ub3cuYmluZCh3aW5kb3cucGVyZm9ybWFuY2UpOkRhdGUubm93O3UuSGI9e307LyoKCiBDb3B5cmlnaHQgMjAwNC1wcmVzZW50IEZhY2Vib29rLiBBbGwgUmlnaHRzIFJlc2VydmVkLgoKKi8KZnVuY3Rpb24gZmEoYSxiLGMsZCxlLGYsZyxoKXt0aGlzLmlkPWE7dGhpcy5iYW5kd2lkdGg9Ynx8MDt0aGlzLmxhbmc9Y3x8InVua25vd24iO3RoaXMuc3RyZWFtSW5mb0lEPWQ7dGhpcy5taW1lVHlwZT1lfHwiIjt0aGlzLmNvZGVjcz1mfHwiIjt0aGlzLmNoYW5uZWxzPWd8fG51bGw7dGhpcy5zYW1wbGluZ1JhdGU9aHx8bnVsbDt0aGlzLmFjdGl2ZT0hMX1xKCJzaGFrYS5wbGF5ZXIuQXVkaW9UcmFjay5jb21wYXJlIixmdW5jdGlvbihhLGIpe3JldHVybiBhLmxhbmc8Yi5sYW5nPy0xOmEubGFuZz5iLmxhbmc/MTphLmJhbmR3aWR0aDxiLmJhbmR3aWR0aD8tMTphLmJhbmR3aWR0aD5iLmJhbmR3aWR0aD8xOjB9KTt2YXIgZ2E9VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoInNoYWthX2RlZmF1bHRfcmVxdWVzdF90aW1lb3V0X3RpbWVzY2FsZSIsMUUzKSxoYT1NYXRoLmZsb29yKFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJzaGFrYV9kZWZhdWx0X2FqYXhfcmVxdWVzdF90aW1lb3V0X21zIiwwKS9nYSksaWE9TWF0aC5mbG9vcihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigic2hha2FfZGVmYXVsdF9hamF4X3JlcXVlc3RfdGltZW91dF9tcyIsMCkvZ2EpLGphPU1hdGguZmxvb3IoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoInNoYWthX2RlZmF1bHRfYWpheF9yZXF1ZXN0X3RpbWVvdXRfbXMiLDApL2dhKTtmdW5jdGlvbiBrYSgpe3RoaXMubWluQmFuZHdpZHRoPXRoaXMubWF4QmFuZHdpZHRoPXRoaXMubWF4V2lkdGg9dGhpcy5taW5IZWlnaHQ9dGhpcy5tYXhIZWlnaHQ9bnVsbH1rYS5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYT1uZXcga2E7YS5tYXhIZWlnaHQ9dGhpcy5tYXhIZWlnaHQ7YS5taW5IZWlnaHQ9dGhpcy5taW5IZWlnaHQ7YS5tYXhXaWR0aD10aGlzLm1heFdpZHRoO2EubWF4QmFuZHdpZHRoPXRoaXMubWF4QmFuZHdpZHRoO2EubWluQmFuZHdpZHRoPXRoaXMubWluQmFuZHdpZHRoO3JldHVybiBhfTtmdW5jdGlvbiBsYSgpe3RoaXMuZm9udFNpemU9IjEwMCUiO3RoaXMuZm9udENvbG9yPW1hO3RoaXMuZm9udE9wYWNpdHk9b2E7dGhpcy5iYWNrZ3JvdW5kQ29sb3I9cGE7dGhpcy5iYWNrZ3JvdW5kT3BhY2l0eT1vYTt0aGlzLmZvbnRFZGdlPXFhfXEoInNoYWthLnBsYXllci5UZXh0U3R5bGUiLGxhKTsKZnVuY3Rpb24gcmEoYSl7dmFyIGI9W107Yi5wdXNoKCJmb250LXNpemU6ICIrYS5mb250U2l6ZSk7Yi5wdXNoKCJjb2xvcjogIitzYShhLmZvbnRDb2xvcixhLmZvbnRPcGFjaXR5KSk7Yi5wdXNoKCJiYWNrZ3JvdW5kLWNvbG9yOiAiK3NhKGEuYmFja2dyb3VuZENvbG9yLGEuYmFja2dyb3VuZE9wYWNpdHkpKTtmb3IodmFyIGM9W10sZD0wO2Q8YS5mb250RWRnZS5sZW5ndGg7KytkKXt2YXIgZT1hLmZvbnRFZGdlW2RdLnNsaWNlKDMsNik7Yy5wdXNoKHNhKGEuZm9udEVkZ2VbZF0uc2xpY2UoMCwzKSxhLmZvbnRPcGFjaXR5KSsiICIrZS5qb2luKCJweCAiKSsicHgiKX1iLnB1c2goInRleHQtc2hhZG93OiAiK2Muam9pbigiLCIpKTtyZXR1cm4gYi5qb2luKCI7ICIpfWZ1bmN0aW9uIHNhKGEsYil7cmV0dXJuInJnYmEoIithLmNvbmNhdChiKS5qb2luKCIsIikrIikifXZhciBtYT1bMjU1LDI1NSwyNTVdLHBhPVswLDAsMF07CmxhLlN0YW5kYXJkQ29sb3JzPXtXSElURTptYSxCTEFDSzpwYSxSRUQ6WzI1NSwwLDBdLEdSRUVOOlswLDI1NSwwXSxCTFVFOlswLDAsMjU1XSxZRUxMT1c6WzI1NSwyNTUsMF0sTUFHRU5UQTpbMjU1LDAsMjU1XSxDWUFOOlswLDI1NSwyNTVdfTt2YXIgb2E9MTtsYS5TdGFuZGFyZE9wYWNpdGllcz17T1BBUVVFOm9hLFNFTUlfSElHSDouNzUsU0VNSV9MT1c6LjI1LFRSQU5TUEFSRU5UOjB9O3ZhciBxYT1bXTsKbGEuRWRnZVN0eWxlcz17Tk9ORTpxYSxSQUlTRUQ6W1szNCwzNCwzNCwxLDEsMF0sWzM0LDM0LDM0LDIsMiwwXSxbMzQsMzQsMzQsMywzLDBdXSxERVBSRVNTRUQ6W1syMDQsMjA0LDIwNCwxLDEsMF0sWzIwNCwyMDQsMjA0LDAsMSwwXSxbMzQsMzQsMzQsLTEsLTEsMF0sWzM0LDM0LDM0LDAsLTEsMF1dLFVOSUZPUk06W1szNCwzNCwzNCwwLDAsNF0sWzM0LDM0LDM0LDAsMCw0XSxbMzQsMzQsMzQsMCwwLDRdLFszNCwzNCwzNCwwLDAsNF1dLERST1A6W1szNCwzNCwzNCwyLDIsM10sWzM0LDM0LDM0LDIsMiw0XSxbMzQsMzQsMzQsMiwyLDVdXX07ZnVuY3Rpb24gdGEoYSxiKXt0aGlzLmlkPWE7dGhpcy5sYW5nPWJ8fCJ1bmtub3duIjt0aGlzLmVuYWJsZWQ9dGhpcy5hY3RpdmU9ITF9cSgic2hha2EucGxheWVyLlRleHRUcmFjay5jb21wYXJlIixmdW5jdGlvbihhLGIpe3JldHVybiBhLmxhbmc8Yi5sYW5nPy0xOmEubGFuZz5iLmxhbmc/MTowfSk7ZnVuY3Rpb24gdWEoYSxiLGMsZCxlLGYsZyxoLGssbCxtLHAsdCl7dGhpcy5pZD1hO3RoaXMuYmFuZHdpZHRoPWJ8fDA7dGhpcy53aWR0aD1jfHwwO3RoaXMuaGVpZ2h0PWR8fDA7dGhpcy5zdHJlYW1JbmZvSUQ9ZTt0aGlzLmZiUXVhbGl0eUxhYmVsPWY7dGhpcy5mYlF1YWxpdHlDbGFzcz1nO2E9W107aCYmKGE9aC5zcGxpdCgiLCIpKTt0aGlzLmZyYW1lUmF0ZT1rfHwiIjt0aGlzLm1pbWVUeXBlPWx8fCIiO3RoaXMuY29kZWNzPW18fCIiO3RoaXMuaXNIVlE9LTE8YS5pbmRleE9mKCJodnEiKTt0aGlzLmlzSW5saW5lSFZRPS0xPGEuaW5kZXhPZigiaHZxX3d3d19pbmxpbmUiKTt0aGlzLmF2b2lkT25Qb29yQ29ubmVjdGlvbj0tMTxhLmluZGV4T2YoImF2b2lkX29uX3Bvb3JfY29ubmVjdGlvbiIpO3RoaXMuYWN0aXZlPSExO3RoaXMucGxheWJhY2tSZXNvbHV0aW9uTW9zPXB8fG51bGw7dGhpcy5wbGF5YmFja1Jlc29sdXRpb25Nb3NDb25maWRlbmNlTGV2ZWw9dHx8bnVsbH0KZnVuY3Rpb24gdmEoYSxiKXt2YXIgYz1hLndpZHRoKmEuaGVpZ2h0LGQ9Yi53aWR0aCpiLmhlaWdodDtyZXR1cm4gYzxkPy0xOmM+ZD8xOmEuYmFuZHdpZHRoPGIuYmFuZHdpZHRoPy0xOmEuYmFuZHdpZHRoPmIuYmFuZHdpZHRoPzE6MH1xKCJzaGFrYS5wbGF5ZXIuVmlkZW9UcmFjay5jb21wYXJlIix2YSk7ZnVuY3Rpb24gd2EoYSl7Zm9yKHZhciBiPXhhLGM9W10sZD0wO2Q8YS5sZW5ndGg7KytkKXtmb3IodmFyIGU9ITEsZj0wO2Y8Yy5sZW5ndGgmJiEoZT1iP2IoYVtkXSxjW2ZdKTphW2RdPT09Y1tmXSk7KytmKTtlfHxjLnB1c2goYVtkXSl9cmV0dXJuIGN9O2Z1bmN0aW9uIHlhKCl7cmV0dXJuIERhdGUubm93KCkremF9dmFyIHphPTA7ZnVuY3Rpb24gQmEoYSl7dGhpcy5iPWE7dGhpcy5jPTA9PUNhO3RoaXMuYT0wfXZhciBDYT0xO2Z1bmN0aW9uIERhKGEpe3JldHVybiBhLmE8YS5iLmJ5dGVMZW5ndGh9ZnVuY3Rpb24gRWEoYSl7dmFyIGI9YS5iLmdldFVpbnQ4KGEuYSk7YS5hKz0xO3JldHVybiBifWZ1bmN0aW9uIHYoYSl7dmFyIGI9YS5iLmdldFVpbnQzMihhLmEsYS5jKTthLmErPTQ7cmV0dXJuIGJ9ZnVuY3Rpb24gRmEoYSl7dmFyIGIsYzthLmM/KGI9YS5iLmdldFVpbnQzMihhLmEsITApLGM9YS5iLmdldFVpbnQzMihhLmErNCwhMCkpOihjPWEuYi5nZXRVaW50MzIoYS5hLCExKSxiPWEuYi5nZXRVaW50MzIoYS5hKzQsITEpKTtpZigyMDk3MTUxPGMpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkRhdGFWaWV3UmVhZGVyOiBPdmVyZmxvdyByZWFkaW5nIDY0LWJpdCB2YWx1ZS4iKTthLmErPTg7cmV0dXJuIGMqTWF0aC5wb3coMiwzMikrYn0KZnVuY3Rpb24gR2EoYSl7aWYoYS5hKzE2PmEuYi5ieXRlTGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKCJEYXRhVmlld1JlYWRlcjogUmVhZCBwYXN0IGVuZCBvZiBEYXRhVmlldy4iKTt2YXIgYj1uZXcgVWludDhBcnJheShhLmIuYnVmZmVyLGEuYSwxNik7YS5hKz0xNjtyZXR1cm4gYn1mdW5jdGlvbiBIYShhLGIpe2lmKGEuYStiPmEuYi5ieXRlTGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKCJEYXRhVmlld1JlYWRlcjogU2tpcCBwYXN0IGVuZCBvZiBEYXRhVmlldy4iKTthLmErPWJ9O2Z1bmN0aW9uIElhKGEpe3RoaXMuYj1hO3RoaXMuYT1uZXcgQmEoYSk7SmF8fChKYT1bbmV3IFVpbnQ4QXJyYXkoWzI1NV0pLG5ldyBVaW50OEFycmF5KFsxMjcsMjU1XSksbmV3IFVpbnQ4QXJyYXkoWzYzLDI1NSwyNTVdKSxuZXcgVWludDhBcnJheShbMzEsMjU1LDI1NSwyNTVdKSxuZXcgVWludDhBcnJheShbMTUsMjU1LDI1NSwyNTUsMjU1XSksbmV3IFVpbnQ4QXJyYXkoWzcsMjU1LDI1NSwyNTUsMjU1LDI1NV0pLG5ldyBVaW50OEFycmF5KFszLDI1NSwyNTUsMjU1LDI1NSwyNTUsMjU1XSksbmV3IFVpbnQ4QXJyYXkoWzEsMjU1LDI1NSwyNTUsMjU1LDI1NSwyNTUsMjU1XSldKX12YXIgSmE7CmZ1bmN0aW9uIEthKGEpe3ZhciBiO2I9TGEoYSk7aWYoNzxiLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiRWJtbFBhcnNlcjogRUJNTCBJRCBtdXN0IGJlIGF0IG1vc3QgNyBieXRlcy4iKTtmb3IodmFyIGM9MCxkPTA7ZDxiLmxlbmd0aDtkKyspYz0yNTYqYytiW2RdO2I9YztjPUxhKGEpO2E6e2ZvcihkPTA7ZDxKYS5sZW5ndGg7ZCsrKWlmKE1hKGMsSmFbZF0pKXtkPSEwO2JyZWFrIGF9ZD0hMX1pZihkKWM9YS5iLmJ5dGVMZW5ndGgtYS5hLmE7ZWxzZXtpZig4PT1jLmxlbmd0aCYmY1sxXSYyMjQpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkVibWxQYXJzZXI6IFZhcmlhYmxlIHNpemVkIGludGVnZXIgdmFsdWUgbXVzdCBiZSBhdCBtb3N0IDUzIGJpdHMuIik7Zm9yKHZhciBkPWNbMF0mKDE8PDgtYy5sZW5ndGgpLTEsZT0xO2U8Yy5sZW5ndGg7ZSsrKWQ9MjU2KmQrY1tlXTtjPWR9Yz1hLmEuYStjPD1hLmIuYnl0ZUxlbmd0aD9jOmEuYi5ieXRlTGVuZ3RoLWEuYS5hO2Q9bmV3IERhdGFWaWV3KGEuYi5idWZmZXIsCmEuYi5ieXRlT2Zmc2V0K2EuYS5hLGMpO0hhKGEuYSxjKTtyZXR1cm4gbmV3IE5hKGIsZCl9ZnVuY3Rpb24gTGEoYSl7dmFyIGI9RWEoYS5hKSxjO2ZvcihjPTE7OD49YyYmIShiJjE8PDgtYyk7YysrKTtpZig4PGMpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkVibWxQYXJzZXI6IFZhcmlhYmxlIHNpemVkIGludGVnZXIgbXVzdCBmaXQgd2l0aGluIDggYnl0ZXMuIik7dmFyIGQ9bmV3IFVpbnQ4QXJyYXkoYyk7ZFswXT1iO2ZvcihiPTE7YjxjO2IrKylkW2JdPUVhKGEuYSk7cmV0dXJuIGR9ZnVuY3Rpb24gTmEoYSxiKXt0aGlzLmlkPWE7dGhpcy5hPWJ9CmZ1bmN0aW9uIE9hKGEpe2lmKDg8YS5hLmJ5dGVMZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkVibWxFbGVtZW50OiBVbnNpZ25lZCBpbnRlZ2VyIGhhcyB0b28gbWFueSBieXRlcy4iKTtpZig4PT1hLmEuYnl0ZUxlbmd0aCYmYS5hLmdldFVpbnQ4KDApJjIyNCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiRWJtbFBhcnNlcjogVW5zaWduZWQgaW50ZWdlciBtdXN0IGJlIGF0IG1vc3QgNTMgYml0cy4iKTtmb3IodmFyIGI9MCxjPTA7YzxhLmEuYnl0ZUxlbmd0aDtjKyspdmFyIGQ9YS5hLmdldFVpbnQ4KGMpLGI9MjU2KmIrZDtyZXR1cm4gYn07dmFyIFBhPXsib3V0cHV0LXJlc3RyaWN0ZWQiOiJUaGUgcmVxdWlyZWQgb3V0cHV0IHByb3RlY3Rpb24gaXMgbm90IGF2YWlsYWJsZS4iLCJvdXRwdXQtbm90LWFsbG93ZWQiOiJUaGUgcmVxdWlyZWQgb3V0cHV0IHByb3RlY3Rpb24gaXMgbm90IGF2YWlsYWJsZS4iLGV4cGlyZWQ6IlRoZSBkZWNyeXB0aW9uIGtleSBoYXMgZXhwaXJlZC4iLCJpbnRlcm5hbC1lcnJvciI6IlRoZSBrZXkgc3lzdGVtIGhhcyBlbmNvdW50ZXJlZCBhbiB1bnNwZWNpZmllZCBlcnJvci4ifTtmdW5jdGlvbiB4KGEpe3RoaXMuYj1NYXRoLmV4cChNYXRoLmxvZyguNSkvYSk7dGhpcy55Yj10aGlzLiRhPXRoaXMuYT0wfXEoInNoYWthLnV0aWwuRVdNQSIseCk7eC5wcm90b3R5cGUuc2FtcGxlPWZ1bmN0aW9uKGEsYil7dmFyIGM9TWF0aC5wb3codGhpcy5iLGEpO3RoaXMuYT1iKigxLWMpK2MqdGhpcy5hO3RoaXMuJGErPWE7dGhpcy55Yis9MX07eC5wcm90b3R5cGUuc2FtcGxlPXgucHJvdG90eXBlLnNhbXBsZTt4LnByb3RvdHlwZS5jPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGF9O3gucHJvdG90eXBlLmdldFRvdGFsV2VpZ2h0PXgucHJvdG90eXBlLmM7eC5wcm90b3R5cGUuZ2V0RXN0aW1hdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLygxLU1hdGgucG93KHRoaXMuYix0aGlzLiRhKSl9O3gucHJvdG90eXBlLmdldEVzdGltYXRlPXgucHJvdG90eXBlLmdldEVzdGltYXRlO3gucHJvdG90eXBlLmY9ZnVuY3Rpb24oKXt0aGlzLnliPXRoaXMuJGE9dGhpcy5hPTB9Owp4LnByb3RvdHlwZS5yZXNldD14LnByb3RvdHlwZS5mO3ZhciBRYT13aW5kb3cuQ3VzdG9tRXZlbnQ7ImZ1bmN0aW9uIiE9PXR5cGVvZiBRYSYmKFFhPWZ1bmN0aW9uKGEsYil7Yj1ifHx7YnViYmxlczohMSxjYW5jZWxhYmxlOiExLGRldGFpbDp2b2lkIDB9O3ZhciBjPWRvY3VtZW50LmNyZWF0ZUV2ZW50KCJDdXN0b21FdmVudCIpO2MuaW5pdEN1c3RvbUV2ZW50KGEsYi5idWJibGVzLGIuY2FuY2VsYWJsZSxiLmRldGFpbCk7cmV0dXJuIGN9LFFhLnByb3RvdHlwZT13aW5kb3cuRXZlbnQucHJvdG90eXBlKTtmdW5jdGlvbiB5KGEpe3ZhciBiPW5ldyBRYShhLnR5cGUse2RldGFpbDphLmRldGFpbCxidWJibGVzOiEhYS5idWJibGVzfSksYztmb3IoYyBpbiBhKWMgaW4gYnx8KGJbY109YVtjXSk7cmV0dXJuIGJ9ZnVuY3Rpb24gQShhKXtyZXR1cm4gbmV3IFFhKCJlcnJvciIse2RldGFpbDphLGJ1YmJsZXM6ITB9KX07ZnVuY3Rpb24gUmEoYSxiLGMpe1NhKGIpO1NhKGMpO3JldHVybiBjPT1ifHxhPj1UYSYmYz09Yi5zcGxpdCgiLSIpWzBdfHxhPj1VYSYmYy5zcGxpdCgiLSIpWzBdPT1iLnNwbGl0KCItIilbMF0/ITA6ITF9dmFyIFRhPTEsVWE9MjtmdW5jdGlvbiBTYShhKXthPWEudG9Mb3dlckNhc2UoKS5zcGxpdCgiLSIpO3ZhciBiPVZhW2FbMF1dO2ImJihhWzBdPWIpO3JldHVybiBhLmpvaW4oIi0iKX0KdmFyIFZhPXthYXI6ImFhIixhYms6ImFiIixhZnI6ImFmIixha2E6ImFrIixhbGI6InNxIixhbWg6ImFtIixhcmE6ImFyIixhcmc6ImFuIixhcm06Imh5Iixhc206ImFzIixhdmE6ImF2IixhdmU6ImFlIixheW06ImF5IixhemU6ImF6IixiYWs6ImJhIixiYW06ImJtIixiYXE6ImV1IixiZWw6ImJlIixiZW46ImJuIixiaWg6ImJoIixiaXM6ImJpIixib2Q6ImJvIixib3M6ImJzIixicmU6ImJyIixidWw6ImJnIixidXI6Im15IixjYXQ6ImNhIixjZXM6ImNzIixjaGE6ImNoIixjaGU6ImNlIixjaGk6InpoIixjaHU6ImN1IixjaHY6ImN2Iixjb3I6Imt3Iixjb3M6ImNvIixjcmU6ImNyIixjeW06ImN5IixjemU6ImNzIixkYW46ImRhIixkZXU6ImRlIixkaXY6ImR2IixkdXQ6Im5sIixkem86ImR6IixlbGw6ImVsIixlbmc6ImVuIixlcG86ImVvIixlc3Q6ImV0IixldXM6ImV1Iixld2U6ImVlIixmYW86ImZvIixmYXM6ImZhIixmaWo6ImZqIixmaW46ImZpIixmcmE6ImZyIixmcmU6ImZyIiwKZnJ5OiJmeSIsZnVsOiJmZiIsZ2VvOiJrYSIsZ2VyOiJkZSIsZ2xhOiJnZCIsZ2xlOiJnYSIsZ2xnOiJnbCIsZ2x2OiJndiIsZ3JlOiJlbCIsZ3JuOiJnbiIsZ3VqOiJndSIsaGF0OiJodCIsaGF1OiJoYSIsaGViOiJoZSIsaGVyOiJoeiIsaGluOiJoaSIsaG1vOiJobyIsaHJ2OiJociIsaHVuOiJodSIsaHllOiJoeSIsaWJvOiJpZyIsaWNlOiJpcyIsaWRvOiJpbyIsaWlpOiJpaSIsaWt1OiJpdSIsaWxlOiJpZSIsaW5hOiJpYSIsaW5kOiJpZCIsaXBrOiJpayIsaXNsOiJpcyIsaXRhOiJpdCIsamF2OiJqdiIsanBuOiJqYSIsa2FsOiJrbCIsa2FuOiJrbiIsa2FzOiJrcyIsa2F0OiJrYSIsa2F1OiJrciIsa2F6OiJrayIsa2htOiJrbSIsa2lrOiJraSIsa2luOiJydyIsa2lyOiJreSIsa29tOiJrdiIsa29uOiJrZyIsa29yOiJrbyIsa3VhOiJraiIsa3VyOiJrdSIsbGFvOiJsbyIsbGF0OiJsYSIsbGF2OiJsdiIsbGltOiJsaSIsbGluOiJsbiIsbGl0OiJsdCIsbHR6OiJsYiIsbHViOiJsdSIsCmx1ZzoibGciLG1hYzoibWsiLG1haDoibWgiLG1hbDoibWwiLG1hbzoibWkiLG1hcjoibXIiLG1heToibXMiLG1rZDoibWsiLG1sZzoibWciLG1sdDoibXQiLG1vbjoibW4iLG1yaToibWkiLG1zYToibXMiLG15YToibXkiLG5hdToibmEiLG5hdjoibnYiLG5ibDoibnIiLG5kZToibmQiLG5kbzoibmciLG5lcDoibmUiLG5sZDoibmwiLG5ubzoibm4iLG5vYjoibmIiLG5vcjoibm8iLG55YToibnkiLG9jaToib2MiLG9qaToib2oiLG9yaToib3IiLG9ybToib20iLG9zczoib3MiLHBhbjoicGEiLHBlcjoiZmEiLHBsaToicGkiLHBvbDoicGwiLHBvcjoicHQiLHB1czoicHMiLHF1ZToicXUiLHJvaDoicm0iLHJvbjoicm8iLHJ1bToicm8iLHJ1bjoicm4iLHJ1czoicnUiLHNhZzoic2ciLHNhbjoic2EiLHNpbjoic2kiLHNsazoic2siLHNsbzoic2siLHNsdjoic2wiLHNtZToic2UiLHNtbzoic20iLHNuYToic24iLHNuZDoic2QiLHNvbToic28iLHNvdDoic3QiLHNwYToiZXMiLHNxaToic3EiLApzcmQ6InNjIixzcnA6InNyIixzc3c6InNzIixzdW46InN1Iixzd2E6InN3Iixzd2U6InN2Iix0YWg6InR5Iix0YW06InRhIix0YXQ6InR0Iix0ZWw6InRlIix0Z2s6InRnIix0Z2w6InRsIix0aGE6InRoIix0aWI6ImJvIix0aXI6InRpIix0b246InRvIix0c246InRuIix0c286InRzIix0dWs6InRrIix0dXI6InRyIix0d2k6InR3Iix1aWc6InVnIix1a3I6InVrIix1cmQ6InVyIix1emI6InV6Iix2ZW46InZlIix2aWU6InZpIix2b2w6InZvIix3ZWw6ImN5Iix3bG46IndhIix3b2w6IndvIix4aG86InhoIix5aWQ6InlpIix5b3I6InlvIix6aGE6InphIix6aG86InpoIix6dWw6Inp1In07ZnVuY3Rpb24gV2EoYSl7cmV0dXJuIE9iamVjdC5rZXlzKGEpLm1hcChmdW5jdGlvbihiKXtyZXR1cm4gYVtiXX0pfWZ1bmN0aW9uIEIoYSxiKXtyZXR1cm4gWGEoYSxiLCJib29sZWFuIil9ZnVuY3Rpb24gQyhhLGIsYyl7YT1YYShhLGIsIm51bWJlciIpO2lmKG51bGw9PWEpcmV0dXJuIG51bGw7aWYoaXNOYU4oYSl8fGE9PU51bWJlci5ORUdBVElWRV9JTkZJTklUWXx8YT09TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZKXRocm93IG5ldyBSYW5nZUVycm9yKCInIitiKyInIG11c3QgYmUgZmluaXRlLiIpO2lmKG51bGwhPWMmJmE8Yyl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiJyIrYisiJyBtdXN0IGJlID49ICIrYyk7cmV0dXJuIGF9ZnVuY3Rpb24gWWEoYSxiKXtyZXR1cm4gWGEoYSxiLCJzdHJpbmciKX0KZnVuY3Rpb24gWGEoYSxiLGMpe2E9YVtiXTtpZihudWxsPT1hKXJldHVybiBudWxsO2lmKHR5cGVvZiBhIT09Yyl0aHJvdyBuZXcgVHlwZUVycm9yKCInIitiKyInIG11c3QgYmUgYSAiK2MrIi4iKTtyZXR1cm4gYX1mdW5jdGlvbiBaYShhLGIsYyl7YT1hW2JdO2lmKG51bGw9PWEpcmV0dXJuIG51bGw7aWYoIShhIGluc3RhbmNlb2YgYykpdGhyb3cgbmV3IFR5cGVFcnJvcigiJyIrYisiJyBtdXN0IGJlIGFuIGluc3RhbmNlIG9mICIrYy5uYW1lKyIuIik7cmV0dXJuIGF9O2Z1bmN0aW9uIEQoKXt0aGlzLmE9e319RC5wcm90b3R5cGUucHVzaD1mdW5jdGlvbihhLGIpe3RoaXMuYS5oYXNPd25Qcm9wZXJ0eShhKT90aGlzLmFbYV0ucHVzaChiKTp0aGlzLmFbYV09W2JdfTtELnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24oYSxiKXt0aGlzLmFbYV09Yn07RC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGEpe3JldHVybihhPXRoaXMuYVthXSk/YS5zbGljZSgpOm51bGx9O2Z1bmN0aW9uICRhKGEpe3ZhciBiPVtdLGM7Zm9yKGMgaW4gYS5hKWIucHVzaC5hcHBseShiLGEuYVtjXSk7cmV0dXJuIGJ9RC5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5hW2FdO2lmKGMpZm9yKHZhciBkPTA7ZDxjLmxlbmd0aDsrK2QpY1tkXT09YiYmKGMuc3BsaWNlKGQsMSksLS1kKX07ZnVuY3Rpb24gYWIoYSl7dmFyIGI9W10sYztmb3IoYyBpbiBhLmEpYi5wdXNoKGMpO3JldHVybiBifTtmdW5jdGlvbiBiYigpe3RoaXMuYT1uZXcgRH1iYi5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe2RiKHRoaXMpO3RoaXMuYT1udWxsfTtmdW5jdGlvbiBFKGEsYixjLGQpe2I9bmV3IGViKGIsYyxkKTthLmEucHVzaChjLGIpfWJiLnByb3RvdHlwZS5hYj1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz10aGlzLmEuZ2V0KGIpfHxbXSxkPTA7ZDxjLmxlbmd0aDsrK2Qpe3ZhciBlPWNbZF07ZS50YXJnZXQ9PWEmJihlLmFiKCksdGhpcy5hLnJlbW92ZShiLGUpKX19O2Z1bmN0aW9uIGRiKGEpe2Zvcih2YXIgYj0kYShhLmEpLGM9MDtjPGIubGVuZ3RoOysrYyliW2NdLmFiKCk7YS5hLmE9e319ZnVuY3Rpb24gZWIoYSxiLGMpe3RoaXMudGFyZ2V0PWE7dGhpcy50eXBlPWI7dGhpcy5hPWM7dGhpcy50YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihiLGMsITEpfQplYi5wcm90b3R5cGUuYWI9ZnVuY3Rpb24oKXt0aGlzLnRhcmdldCYmKHRoaXMudGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIodGhpcy50eXBlLHRoaXMuYSwhMSksdGhpcy5hPXRoaXMudGFyZ2V0PW51bGwpfTtmdW5jdGlvbiBGKGEpe3RoaXMuRWI9bmV3IEQ7dGhpcy5KYT1hfXEoInNoYWthLnV0aWwuRmFrZUV2ZW50VGFyZ2V0IixGKTtuPUYucHJvdG90eXBlO24uYWRkRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbihhLGIpe3RoaXMuRWIucHVzaChhLGIpfTtuLnJlbW92ZUV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24oYSxiKXt0aGlzLkViLnJlbW92ZShhLGIpfTsKbi5kaXNwYXRjaEV2ZW50PWZ1bmN0aW9uKGEpe2EuaGFzT3duUHJvcGVydHkoInNyY0VsZW1lbnQiKXx8KGRlbGV0ZSBhLnNyY0VsZW1lbnQsT2JqZWN0LmRlZmluZVByb3BlcnR5KGEsInNyY0VsZW1lbnQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH19KSk7aWYoYS5oYXNPd25Qcm9wZXJ0eSgidGFyZ2V0IikpYS50YXJnZXQ9dGhpcztlbHNle2RlbGV0ZSBhLnRhcmdldDt2YXIgYj10aGlzO09iamVjdC5kZWZpbmVQcm9wZXJ0eShhLCJ0YXJnZXQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYn0sc2V0OmZ1bmN0aW9uKGEpe2I9YX19KX1pZihhLmhhc093blByb3BlcnR5KCJjdXJyZW50VGFyZ2V0IikpYS5jdXJyZW50VGFyZ2V0PW51bGw7ZWxzZXtkZWxldGUgYS5jdXJyZW50VGFyZ2V0O3ZhciBjPW51bGw7T2JqZWN0LmRlZmluZVByb3BlcnR5KGEsImN1cnJlbnRUYXJnZXQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY30sc2V0OmZ1bmN0aW9uKGEpe2M9YX19KX1yZXR1cm4gZmIodGhpcywKYSl9O24ub2M9ITE7bi5MYT1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmRpc3BhdGNoRXZlbnQoeSh7dHlwZToiZGVidWcvZGFzaFBsYXllckV2ZW50IixidWJibGVzOiEwLGRldGFpbDp7dHlwZTphLGV2ZW50OmJ9fSkpfTtmdW5jdGlvbiBmYihhLGIpe2IuY3VycmVudFRhcmdldD1hO2Zvcih2YXIgYz1hLkViLmdldChiLnR5cGUpfHxbXSxkPTA7ZDxjLmxlbmd0aDsrK2Qpe3ZhciBlPWNbZF07dHJ5e2UuaGFuZGxlRXZlbnQ/ZS5oYW5kbGVFdmVudChiKTplLmNhbGwoYSxiKX1jYXRjaChmKXt9fWEuSmEmJmIuYnViYmxlcyYmZmIoYS5KYSxiKTtyZXR1cm4gYi5kZWZhdWx0UHJldmVudGVkfTtmdW5jdGlvbiBHKGEpe0YuY2FsbCh0aGlzLG51bGwpO3RoaXMuYT17b2I6e1ZhOm5ldyB4KFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJmYXN0X21vdmluZ19hdmVyYWdlX2hhbGZfbGlmZSIsMykpLHhiOm5ldyB4KFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJzbG93X21vdmluZ19hdmVyYWdlX2hhbGZfbGlmZSIsMTApKX0sY2I6e1ZhOm5ldyB4KFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJhZ2dyZXNzaXZlX2Zhc3RfbW92aW5nX2F2ZXJhZ2VfaGFsZl9saWZlIiwxRS00KSkseGI6bmV3IHgoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoImFnZ3Jlc3NpdmVfc2xvd19tb3ZpbmdfYXZlcmFnZV9oYWxmX2xpZmUiLDkuMjMzNTA4NzkxNzc0NSkpfX07dGhpcy5oPWF8fDVFNTt0aGlzLmo9VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoIm1pbl9zYW1wbGVfY291bnQiLAoxRTQpO3RoaXMuYj0wO3RoaXMuYz1bXTt0aGlzLmk9VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoIm1heF9yZWNlbnRfYmFuZHdpZHRoX3NhbXBsZXMiLDApfXIoRyxGKTtxKCJzaGFrYS51dGlsLkVXTUFCYW5kd2lkdGhFc3RpbWF0b3IiLEcpO0cucHJvdG90eXBlLnNob3VsZEV4Y2x1ZGVTYW1wbGU9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJjaGFuZ2VfYWJyX2F1ZGlvX2V4Y2x1c2lvbl9sb2dpYyIsITApPyFiOjY1NTM2PmF9OwpHLnByb3RvdHlwZS5zYW1wbGU9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyl7aWYodGhpcy5zaG91bGRFeGNsdWRlU2FtcGxlKGIsYykpZSYmZS5zZXRFdmVudCgidW5zYW1wbGVkIikuc2V0UmVhc29uKCJhdWRpbyIpLmxvZygpO2Vsc2V7aWYoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJ1c2VfcmVzb3VyY2VfdGltaW5nX2VudHJ5X2Zvcl9iYW5kd2lkdGgiLCEwKSl7aWYoIWQpe2UmJmUuc2V0RXZlbnQoInVuc2FtcGxlZCIpLnNldFJlYXNvbigicmVzb3VyY2VfdGltaW5nX2VudHJ5X21pc3NpbmciKS5sb2coKTtyZXR1cm59YT1kLnRpbWVUb0xhc3RCeXRlO2lmKDA+YSl7ZSYmZS5zZXRFdmVudCgidW5zYW1wbGVkIikuc2V0UmVhc29uKCJyZXNvdXJjZV90aW1pbmdfZW50cnlfaW52YWxpZCIpLmxvZygpO3JldHVybn19YT1NYXRoLm1heChhLDUwKTtjPTFFMypVbml0Q29uc3RhbnRzLkJJVFNfSU5fQllURSpiL2E7dmFyIGg9YS8xRTM7dGhpcy5hLmNiLlZhLnNhbXBsZShoLApjLGQpO3RoaXMuYS5jYi54Yi5zYW1wbGUoaCxjLGQpO3RoaXMuYS5vYi5WYS5zYW1wbGUoaCxjLGQpO3RoaXMuYS5vYi54Yi5zYW1wbGUoaCxjLGQpO2d8fHRoaXMuZGlzcGF0Y2hFdmVudCh5KHt0eXBlOiJiYW5kd2lkdGgifSkpO3RoaXMuYj1EYXRlLm5vdygpO2Q9cGFyc2VJbnQoYSwxMCk7aWYoMDx0aGlzLmkpZm9yKHRoaXMuYy5wdXNoKFtiLGRdKTt0aGlzLmMubGVuZ3RoPnRoaXMuaTspdGhpcy5jLnNoaWZ0KCk7ZSYmZS5zZXRFdmVudCgic2FtcGxlZCIpLnNldEJ5dGVzKGIpLnNldERlbGF5TXMoZCkubG9nKCk7ZiYmZi5nZXRFdmVudExvZ2dlcigiYmFuZHdpZHRoX3NhbXBsZWQiKS5zZXRMZW5ndGgoYikuc2V0Q2xpZW50VGltZUJlZ2luKHRoaXMuYi1kKS5zZXRDbGllbnRUaW1lRW5kKHRoaXMuYikubG9nKCl9fTsKRy5wcm90b3R5cGUuZ2V0QmFuZHdpZHRoPWZ1bmN0aW9uKGEpe2E9ImFnZ3Jlc3NpdmUiPT09YT90aGlzLmEuY2I6dGhpcy5hLm9iO3JldHVybiB0aGlzLmNhblRydXN0RXN0aW1hdGUoKT9NYXRoLm1pbihhLlZhLmdldEVzdGltYXRlKCksYS54Yi5nZXRFc3RpbWF0ZSgpKTp0aGlzLmh9O0cucHJvdG90eXBlLmdldEZhc3RNb3ZpbmdCYW5kd2lkdGg9ZnVuY3Rpb24oYSl7YT0iYWdncmVzc2l2ZSI9PT1hP3RoaXMuYS5jYjp0aGlzLmEub2I7cmV0dXJuIHRoaXMuY2FuVHJ1c3RFc3RpbWF0ZSgpP2EuVmEuZ2V0RXN0aW1hdGUoKTp0aGlzLmh9O0cucHJvdG90eXBlLmdldERhdGFBZ2U9ZnVuY3Rpb24oKXtyZXR1cm4oRGF0ZS5ub3coKS10aGlzLmIpLzFFM307Ry5wcm90b3R5cGUuY2FuVHJ1c3RFc3RpbWF0ZT1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmEuY2IuVmE7cmV0dXJuIGIuJGE+PSh2b2lkIDA9PT1hPy41OmEpfHxiLnliPj10aGlzLmp9OwpHLnByb3RvdHlwZS5zdXBwb3J0c0NhY2hpbmc9ZnVuY3Rpb24oKXtyZXR1cm4hMX07Ry5wcm90b3R5cGUuc2V0UmVwcmVzZW50YXRpb25JRD1mdW5jdGlvbigpe307Ry5wcm90b3R5cGUuZmx1c2hBQlJFdmFsdWF0aW9uU2V0PWZ1bmN0aW9uKCl7cmV0dXJuW119O0cucHJvdG90eXBlLmdldFJlY2VudFNhbXBsZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jfTsvKgoKIENvcHlyaWdodCAyMDE1IEZhY2Vib29rIEluYy4KCiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoKICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KKi8KZnVuY3Rpb24gZ2IoYSxiLGMsZCl7Ry5jYWxsKHRoaXMsZCk7dGhpcy5nPWF8fDA7dGhpcy5mPXZvaWQgMD09PWI/SW5maW5pdHk6Yjt0aGlzLm09Y31yKGdiLEcpO3EoInNoYWthLnV0aWwuRVdNQUNhY2hlQmFuZHdpZHRoRXN0aW1hdG9yIixnYik7CmdiLnByb3RvdHlwZS5zYW1wbGU9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxoKXt2YXIgaz04RTMqYi9hO2UmJmUuc2V0Qnl0ZXMoYikuc2V0RGVsYXlNcyhwYXJzZUludChhLDEwKSk7YTw9dGhpcy5nJiZrPnRoaXMuZiYmIWg/KGUmJmUuc2V0RXZlbnQoInVuc2FtcGxlZCIpLnNldFJlYXNvbigiY2FjaGVkIikubG9nKCksZiYmIXRoaXMuc2hvdWxkRXhjbHVkZVNhbXBsZShiLGMpJiZmLmdldEV2ZW50TG9nZ2VyKCJiYW5kd2lkdGhfc2FtcGxlZCIpLnNldFJlc3VsdCgiYWJvcnRlZCIpLnNldExlbmd0aChiKS5zZXRDbGllbnRUaW1lQmVnaW4oRGF0ZS5ub3coKS1wYXJzZUludChhLDEwKSkuc2V0Q2xpZW50VGltZUVuZChEYXRlLm5vdygpKS5sb2coKSx0aGlzLm0oKSk6Ry5wcm90b3R5cGUuc2FtcGxlLmNhbGwodGhpcyxhLGIsYyxkLGUsZixnKX07Z2IucHJvdG90eXBlLnN1cHBvcnRzQ2FjaGluZz1mdW5jdGlvbigpe3JldHVybiBJbmZpbml0eSE9PXRoaXMuZiYmISF0aGlzLmd9OwpnYi5wcm90b3R5cGUuc2V0UmVwcmVzZW50YXRpb25JRD1mdW5jdGlvbigpe307Z2IucHJvdG90eXBlLmZsdXNoQUJSRXZhbHVhdGlvblNldD1mdW5jdGlvbigpe3JldHVybltdfTtmdW5jdGlvbiBoYigpe0cuY2FsbCh0aGlzKX1yKGhiLEcpO3EoInNoYWthLnV0aWwuRVdNQVNpZ25lZFVSTEJhbmR3aWR0aEVzdGltYXRvciIsaGIpO2hiLnByb3RvdHlwZS5zdXBwb3J0c0NhY2hpbmc9ZnVuY3Rpb24oKXtyZXR1cm4hMH07ZnVuY3Rpb24gSSgpe3ZhciBhLGIsYz1uZXcgUHJvbWlzZShmdW5jdGlvbihjLGUpe2E9YztiPWV9KTtjLnJlc29sdmU9YTtjLnJlamVjdD1iO2MuZGVzdHJveT1JLnByb3RvdHlwZS5kZXN0cm95O3JldHVybiBjfUkucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmNhdGNoKGZ1bmN0aW9uKCl7fSk7dmFyIGE9RXJyb3IoIkRlc3Ryb3llZCEiKTthLnR5cGU9ImRlc3Ryb3kiO3RoaXMucmVqZWN0KGEpfTtmdW5jdGlvbiBpYihhKXthLnNwbGl0KCIiKS5yZWR1Y2UoZnVuY3Rpb24oYSxjLGQpe3JldHVybiBhKyhkJiYwPT1kJTQ/IiAiK2M6Yyl9KX07ZnVuY3Rpb24gamIoKXt0aGlzLmxiPW5ldyBJO3RoaXMuYz0hMTt0aGlzLkFhPW51bGw7dGhpcy5hPVtdO3RoaXMuYj1udWxsfWZ1bmN0aW9uIGtiKGEsYil7aWYoYS5jKXRocm93IEVycm9yKCJDYW5ub3QgYXBwZW5kIHRvIGEgcnVubmluZyB0YXNrISIpO2EuYS5wdXNoKGIpfWpiLnByb3RvdHlwZS5zdGFydD1mdW5jdGlvbigpe2lmKHRoaXMuYyl0aHJvdyBFcnJvcigiVGFzayBhbHJlYWR5IHN0YXJ0ZWQhIik7dGhpcy5jPSEwO3RoaXMuYS51bnNoaWZ0KGZ1bmN0aW9uKCl7fSk7bGIodGhpcyx2b2lkIDApfTtqYi5wcm90b3R5cGUuYWJvcnQ9ZnVuY3Rpb24oKXtpZih0aGlzLkFhKXJldHVybiB0aGlzLkFhO2lmKCF0aGlzLmMpcmV0dXJuIHRoaXMuYz0hMCxQcm9taXNlLnJlc29sdmUoKTt0aGlzLmImJih0aGlzLmY9dGhpcy5iKCkpO3JldHVybiB0aGlzLkFhPW5ldyBJfTtqYi5wcm90b3R5cGUuZW5kPWZ1bmN0aW9uKCl7dGhpcy5hLnNwbGljZSgxKX07CmZ1bmN0aW9uIGxiKGEsYil7dmFyIGM9YS5hWzBdKGIpLGQ7Yz8oZD1jWzBdLGEuYj1jWzFdKTooZD1Qcm9taXNlLnJlc29sdmUoKSxhLmI9bnVsbCk7ZC50aGVuKEooYSxmdW5jdGlvbihhKXt0aGlzLkFhPyh0aGlzLmE9W10sdGhpcy5iPW51bGwsbWIodGhpcykpOih0aGlzLmEuc2hpZnQoKSx0aGlzLmEubGVuZ3RoP2xiKHRoaXMsYSk6KHRoaXMubGIucmVzb2x2ZShhKSx0aGlzLmI9bnVsbCkpfSkpLmNhdGNoKEooYSxmdW5jdGlvbihhKXt0aGlzLmE9W107dGhpcy5iPW51bGw7dGhpcy5BYT9tYih0aGlzKTp0aGlzLmxiLnJlamVjdChhKX0pKX0KZnVuY3Rpb24gbWIoYSl7ZnVuY3Rpb24gYigpe3ZhciBhPUVycm9yKCJUYXNrIGFib3J0ZWQuIik7YS50eXBlPSJhYm9ydGVkIjt0aGlzLmxiLnJlamVjdChhKTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhpcy5BYS5yZXNvbHZlKCk7dGhpcy5BYT1udWxsfS5iaW5kKHRoaXMpLDUpfWEuZj9hLmYudGhlbihmdW5jdGlvbigpe3RoaXMuZj1udWxsO2IuY2FsbCh0aGlzKX0uYmluZChhKSk6Yi5jYWxsKGEpfTtmdW5jdGlvbiBKKGEsYil7cmV0dXJuIGIuYmluZChhKX07ZnVuY3Rpb24gbmIoYSxiLGMsZCxlLGYsZyl7TWVkaWFTb3VyY2UuaXNUeXBlU3VwcG9ydGVkKGMpO0YuY2FsbCh0aGlzLGUpO2U9Yi5hZGRTb3VyY2VCdWZmZXIoYyk7dGhpcy5oPWE7dGhpcy5BPWI7dGhpcy5hPWU7dGhpcy5KPWQ7dGhpcy5CPW5ldyBiYjt0aGlzLkk9dGhpcy5sPXRoaXMuWT10aGlzLmk9bnVsbDt0aGlzLlI9ITE7dGhpcy5QPXRoaXMuSz10aGlzLk89MDt0aGlzLkc9bnVsbDt0aGlzLlY9dGhpcy5GPSExO3RoaXMuWj1mO3RoaXMuRD1udWxsO3RoaXMuJD1nP2c6bnVsbDt0aGlzLmI9W107dGhpcy5VPTA7dGhpcy5tPXRoaXMuYz10aGlzLmY9bnVsbDt0aGlzLlQ9amE7dGhpcy5vPXRoaXMudT0wO3RoaXMudz10aGlzLlM9ITE7dGhpcy5nPWMmJmMuY2hhckF0KDApO0UodGhpcy5CLHRoaXMuYSwidXBkYXRlZW5kIix0aGlzLm5kLmJpbmQodGhpcykpO3RoaXMuaC5nZXRCb29sKCJsaXN0ZW5fZm9yX2FzeW5jX2FwcGVuZF9idWZmZXJfZXJyb3JzIiwhMCkmJkUodGhpcy5CLAp0aGlzLmEsImVycm9yIix0aGlzLmFkLmJpbmQodGhpcykpO3RoaXMuaj1udWxsfXIobmIsRik7bmIucHJvdG90eXBlLkJhPWZ1bmN0aW9uKCl7cmV0dXJue1NvdXJjZUJ1ZmZlcjp0aGlzLmF9fTtmdW5jdGlvbiBvYihhLGIsYyl7YS5vYyYmYS5MYShiLHt0eXBlOmEuZy5jaGFyQXQoMCksc2VnbWVudDpjLHNvdXJjZUJ1ZmZlcjphLmF9KX12YXIgcGI9MS82MDtuYi5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuYWJvcnQoKS5jYXRjaChmdW5jdGlvbigpe30pO3RoaXMuYyYmdGhpcy5jLmRlc3Ryb3koKTt0aGlzLmI9dGhpcy5mPXRoaXMuYz1udWxsO3RoaXMuQi5kZXN0cm95KCk7dGhpcy5BPXRoaXMuYT10aGlzLkQ9dGhpcy5CPW51bGx9O2Z1bmN0aW9uIHFiKGEpe3ZhciBiPWEuYi5sZW5ndGg7cmV0dXJuIDA8Yj9hLmJbYi0xXTpudWxsfQpmdW5jdGlvbiByYihhLGIpe2Zvcih2YXIgYz1hLmEuYnVmZmVyZWQsZD0wO2Q8Yy5sZW5ndGg7KytkKXt2YXIgZT1jLnN0YXJ0KGQpLXBiLGY9Yy5lbmQoZCkrcGI7aWYoYj49ZSYmYjw9ZilyZXR1cm4gYy5lbmQoZCktYn1yZXR1cm4gMH1mdW5jdGlvbiBzYihhLGIsYyl7dmFyIGQ9Yi5lbmRUaW1lP2IuZW5kVGltZS1iLnN0YXJ0VGltZToxLGU9bmV3IHRiO2UuTmE9MztlLmM9MUUzKmQ7ZS5iPTFFMyphLlQ7ZS51PWEuWTtlLmo9YztlLmRhPWEuWjtlLm1pbWVUeXBlPWEuZztlLmg9YS4kO2Uubz1iLmlzUHJlZGljdGl2ZTtyZXR1cm4gZX1uPW5iLnByb3RvdHlwZTsKbi5mZXRjaD1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGgpe3ZhciBrLGw9Zj8icmVwbGFjaW5nX2xvd2VyX3F1YWxpdHlfYnVmZmVyIjpudWxsO2lmKHRoaXMubCl7dmFyIG09dGhpcy5iW3RoaXMuYi5sZW5ndGgtMV0scD1udWxsO20mJihwPTFFMyooYS5zdGFydFRpbWUtbS5lbmRUaW1lKSk7az10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJmZXRjaCIpLnNldFJlYXNvbihsKS5zZXRSZXNvdXJjZSh1YihhLnVybCkpLnNldFR5cGUodmIodGhpcykpLnNldExlbmd0aChNYXRoLnJvdW5kKDFFMyooYS5lbmRUaW1lLWEuc3RhcnRUaW1lKSkpLnNldFNlZ21lbnRTdGFydFRpbWUoMUUzKmEuc3RhcnRUaW1lKS5zZXRTZWdtZW50RW5kVGltZSgxRTMqYS5lbmRUaW1lKS5zZXRTZWdtZW50VGltZUdhcChwKS5zdGFydCgpfXRoaXMuaj1rO2lmKHRoaXMuZil7aWYodGhpcy5oLmdldEJvb2woInNibV9lbmFibGVfY29uY3VycmVudF9mZXRjaF9yZXF1ZXN0cyIsITEpKXt2YXIgdD1bXS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7CnJldHVybiB0aGlzLmYubGIudGhlbihKKHRoaXMsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mZXRjaC5hcHBseSh0aGlzLHQpfSksZnVuY3Rpb24oYSl7dGhyb3cgYTt9KX1tPUVycm9yKCJDYW5ub3QgZmV0Y2ggKCIrdGhpcy5nKyIpOiBwcmV2aW91cyBvcGVyYXRpb24gbm90IGNvbXBsZXRlLiIpO3RoaXMudT49dGhpcy5PPyhtLnR5cGU9InN0cmVhbSIsayYmay5zZXRFcnJvcihtKS5sb2coKSx0aGlzLnU9MCk6KHRoaXMudSsrLG0udHlwZT0iYWJvcnRlZCIpO3JldHVybiBQcm9taXNlLnJlamVjdChtKX10aGlzLmY9bmV3IGpiO2MhPXRoaXMuYS50aW1lc3RhbXBPZmZzZXQmJih0aGlzLmEudGltZXN0YW1wT2Zmc2V0PWMpO3ZhciBtPXNiKHRoaXMsYSxlKSxwPXRoaXMuaC5nZXRCb29sKCJlbmFibGVfc3RyZWFtaW5nX2NvZGVfcGF0aCIsITApLHc7dz1wP2EudXJsLnN0cmVhbShtLHRoaXMuSix0aGlzLmwsdGhpcy5qLHRoaXMuSSx2Yih0aGlzKSxsLGcsaCk6YS51cmwuZmV0Y2gobSwKdGhpcy5KLHRoaXMubCx0aGlzLmosdGhpcy5JLHZiKHRoaXMpLGwsZyk7b2IodGhpcywiU2VnbWVudEZldGNoaW5nIixhKTt2YXIgej1LLnByb3RvdHlwZS5LYS5iaW5kKGEudXJsKTt0aGlzLkcmJnRoaXMuRiYmKGQ9dGhpcy5HKTt2YXIgSD0wLGRhPW51bGw7ZCYmKHRoaXMuRz1kLHRoaXMuRj0hMSxrYih0aGlzLmYsZnVuY3Rpb24oKXtyZXR1cm5bZC50aGVuKGZ1bmN0aW9uKGEpe2EuWWE+SCYmKEg9YS5ZYSk7cmV0dXJuIHdiKHRoaXMsYSxudWxsKX0uYmluZCh0aGlzKSksdGhpcy5iYi5iaW5kKHRoaXMpXX0uYmluZCh0aGlzKSkpO3ZhciBlYT1mdW5jdGlvbihhKXthLllhPkgmJihIPWEuWWEpO2RhPWEuYnl0ZUxlbmd0aDt0aGlzLkouZ2V0QmFuZHdpZHRoKCk7dGhpcy5TJiZ0aGlzLmRpc3BhdGNoRXZlbnQoeSh7dHlwZToiY2VhNjA4Q2FwdGlvbnNCeXRlc1JlY2VpdmVkIixidWJibGVzOiEwLGRldGFpbDp7dGltZXNjYWxlOmIsdmlkZW9CeXRlczphfX0pKX0uYmluZCh0aGlzKTsKcD8oaCYmKG09aC5nZXRQcm9ncmVzc1RyYWNrZXIoKSx0aGlzLmkhPT1tJiYodGhpcy5pPW0pKSxrYih0aGlzLmYsSih0aGlzLGZ1bmN0aW9uKCl7dmFyIGI9bnVsbCxjPU1hdGgubWF4KDAsKGEudXJsLmVuZEJ5dGV8fDApLWEudXJsLnN0YXJ0Qnl0ZSksZD10aGlzLmguZ2V0TnVtYmVyKCJzdHJlYW1pbmdfYXBwZW5kX3Blcl9zZWdtZW50IiwzKSxlPTA9PT1kPzA6Yy9kO3JldHVyblt3LnRoZW4oZnVuY3Rpb24oYyl7Yj1jO3RoaXMudz0hMTtyZXR1cm4geGIodGhpcyxjLGEsZSl9LmJpbmQodGhpcykpLnRoZW4oZnVuY3Rpb24oYSl7Yj1udWxsO3JldHVybiBhfSkudGhlbihlYSkuY2F0Y2goZnVuY3Rpb24oYSl7dGhpcy5oLmdldEJvb2woImFib3J0X2ZldGNoX29uX25ldF9lcnJvciIsITEpJiZoJiYodGhpcy5hLmFib3J0KCksdGhpcy53PSEwKTtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYSl9LmJpbmQodGhpcykpLGZ1bmN0aW9uKCl7b2IodGhpcywiU2VnbWVudEZhaWxlZCIsYSk7CmImJihiLmNhbmNlbCgiYWJvcnQiKSxiPW51bGwsaCYmKHRoaXMuYS5hYm9ydCgpLHRoaXMudz0hMCkpO3ooKTtyZXR1cm4gdGhpcy5iYigpfS5iaW5kKHRoaXMpXX0pKSk6a2IodGhpcy5mLEoodGhpcyxmdW5jdGlvbigpe3JldHVyblt3LnRoZW4oZnVuY3Rpb24oYil7b2IodGhpcywiU2VnbWVudEZldGNoZWQiLGEpO2VhKGIpO3JldHVybiB3Yih0aGlzLGIsYSxsKX0uYmluZCh0aGlzKSksZnVuY3Rpb24oKXtvYih0aGlzLCJTZWdtZW50RmFpbGVkIixhKTt6KCk7cmV0dXJuIHRoaXMuYmIoKX0uYmluZCh0aGlzKV19KSk7dmFyIEFhPTA9PXRoaXMuYS5idWZmZXJlZC5sZW5ndGgmJjA9PXRoaXMuYi5sZW5ndGgsY2I9bnVsbDtrYih0aGlzLmYsZnVuY3Rpb24oKXtpZigwPT10aGlzLmEuYnVmZmVyZWQubGVuZ3RoJiYhdGhpcy5WKXt2YXIgYj1FcnJvcigiRmFpbGVkIHRvIGJ1ZmZlciBzZWdtZW50ICgiK3RoaXMuZysiKS4iKTtiLnR5cGU9InN0cmVhbSI7cmV0dXJuW1Byb21pc2UucmVqZWN0KGIpXX10aGlzLmEuYnVmZmVyZWQubGVuZ3RoJiYKQWEmJihiPWEuc3RhcnRUaW1lLGNiPXRoaXMuYS5idWZmZXJlZC5zdGFydCgwKS1iKTtiPXliKHRoaXMuYixhLnN0YXJ0VGltZSk7MDw9Yj90aGlzLmIuc3BsaWNlKGIrMSwwLGEpOnRoaXMuYi5wdXNoKGEpfS5iaW5kKHRoaXMpKTt0aGlzLnU9MDtyZXR1cm4gemIodGhpcykudGhlbihmdW5jdGlvbigpe2smJmsubG9nKCk7cmV0dXJuIFByb21pc2UucmVzb2x2ZSh7VzpjYixXYzpILEg6YS5lbmRUaW1lLWEuc3RhcnRUaW1lLERjOmRhfSl9LmJpbmQodGhpcyksZnVuY3Rpb24oYSl7ayYmay5zZXRFcnJvcihhKS5sb2coKTthPUFiKGEsInRhc2siLCJBbiB1bmtub3duIHRhc2sgZXJyb3Igb2NjdXJyZWQuIik7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfS5iaW5kKHRoaXMpKX07CmZ1bmN0aW9uIHhiKGEsYixjLGQpe3ZhciBlPW5ldyBBcnJheUJ1ZmZlcigwKSxmPW5ldyBBcnJheUJ1ZmZlcigwKSxnPWZ1bmN0aW9uKCl7cmV0dXJuIGIucmVhZCgpLnRoZW4oZnVuY3Rpb24oYSl7dmFyIGI9YS52YWx1ZTthPWEuZG9uZTtpZih0aGlzLnd8fGEmJjA9PT1mLmJ5dGVMZW5ndGgpcmV0dXJuIGU7aWYoIWEmJiFiKXJldHVybiBnKCk7YiYmKGIgaW5zdGFuY2VvZiBVaW50OEFycmF5JiYoYj1iLmJ1ZmZlciksZj1jb25jYXRBcnJheUJ1ZmZlcihmLGIpKTtyZXR1cm4gZi5ieXRlTGVuZ3RoPj1kfHxhPyh0aGlzLmkmJnRoaXMuaS5ub3RpZnlCeXRlc0NvbnN1bWVkKGYuYnl0ZUxlbmd0aCksb2IodGhpcywiU2VnbWVudEZldGNoZWQiLGMpLGU9Y29uY2F0QXJyYXlCdWZmZXIoZSxmKSxiPWYsZj1uZXcgQXJyYXlCdWZmZXIoMCksd2IodGhpcyxiLGMpLnRoZW4oZykpOmcoKX0uYmluZCh0aGlzKSl9LmJpbmQoYSk7cmV0dXJuIGcoKX0KZnVuY3Rpb24gQmIoYSl7aWYoYS5mKXt2YXIgYj1FcnJvcigiQ2Fubm90IGNsZWFyICgiK2EuZysiKTogcHJldmlvdXMgb3BlcmF0aW9uIG5vdCBjb21wbGV0ZS4iKTthLm8+PWEuSz8oYi50eXBlPSJzdHJlYW0iLGEubz0wKTooYS5vKyssYi50eXBlPSJhYm9ydGVkIik7cmV0dXJuIFByb21pc2UucmVqZWN0KGIpfWEuZj1uZXcgamI7a2IoYS5mLGZ1bmN0aW9uKCl7dmFyIGE7YTppZigwPT10aGlzLmEuYnVmZmVyZWQubGVuZ3RoKWE9UHJvbWlzZS5yZXNvbHZlKCk7ZWxzZXt0cnl7dGhpcy5hLnJlbW92ZSgwLHRoaXMuQS5kdXJhdGlvbil9Y2F0Y2goYil7Yj1BYihiLCJjbGVhcl9idWZmZXIiLCJBbiBlcnJvciBvY2N1cmVkIHdoZW4gY2xlYXJpbmcgdGhlIGJ1ZmZlci4iKTthPVByb21pc2UucmVqZWN0KGIpO2JyZWFrIGF9dGhpcy5iPVtdO2E9dGhpcy5jPW5ldyBJfXJldHVyblthLHRoaXMuYmIuYmluZCh0aGlzKV19LmJpbmQoYSkpO2Eubz0wO3JldHVybiB6YihhKX0KZnVuY3Rpb24gQ2IoYSxiKXtpZihhLmYpe3ZhciBjPUVycm9yKCJDYW5ub3QgY2xlYXJBZnRlciAoIithLmcrIik6IHByZXZpb3VzIG9wZXJhdGlvbiBub3QgY29tcGxldGUuIik7Yy50eXBlPSJzdHJlYW0iO3JldHVybiBQcm9taXNlLnJlamVjdChjKX1hLmY9bmV3IGpiO2tiKGEuZixmdW5jdGlvbigpe3JldHVybltEYih0aGlzLGIpLHRoaXMuYmIuYmluZCh0aGlzKV19LmJpbmQoYSkpO3JldHVybiB6YihhKX1mdW5jdGlvbiBFYihhLGIpe2EuYz1uZXcgSTt2YXIgYz1iLTU7aWYoMDxjKXt0cnl7YS5hLnJlbW92ZSgwLGMpfWNhdGNoKGQpe3JldHVybiBkPUFiKGQsImNsZWFyX2J1ZmZlciIsIkFuIGVycm9yIG9jY3VyZWQgd2hlbiBjbGVhcmluZyB0aGUgYnVmZmVyLiIpLFByb21pc2UucmVqZWN0KGQpfWM9RmIoYSxjKTswPGMmJihhLmI9YS5iLnNsaWNlKGMsYS5iLmxlbmd0aCkpfWVsc2UgYS5jLnJlc29sdmUoKTtyZXR1cm4gYS5jfQpuLmFib3J0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZj90aGlzLmYuYWJvcnQoKTpQcm9taXNlLnJlc29sdmUoKX07ZnVuY3Rpb24gR2IoYSl7Zm9yKHZhciBiPWEuY3VycmVudFRpbWUsYz1iLGQ9MDtkPGEuYnVmZmVyZWQubGVuZ3RoO2QrKylpZihiPD1hLmJ1ZmZlcmVkLnN0YXJ0KGQpKXtjPWEuYnVmZmVyZWQuc3RhcnQoZCk7YnJlYWt9cmV0dXJuIGN9ZnVuY3Rpb24gSGIoYSxiKXtmb3IodmFyIGM9Yi5jdXJyZW50VGltZSxkPTA7ZDxiLmJ1ZmZlcmVkLmxlbmd0aDtkKyspaWYoYz49Yi5idWZmZXJlZC5zdGFydChkKSYmYzw9Yi5idWZmZXJlZC5lbmQoZCktYS5QKXJldHVybiExO3JldHVybiEwfQpmdW5jdGlvbiB6YihhKXthLmYuc3RhcnQoKTtyZXR1cm4gYS5mLmxiLnRoZW4oSihhLGZ1bmN0aW9uKCl7dGhpcy5mPW51bGx9KSkuY2F0Y2goSihhLGZ1bmN0aW9uKGEpe3RoaXMuZj1udWxsO2E9QWIoYSwidGFzayIsIkFuIHVua25vd24gdGFzayBlcnJvciBvY2N1cnJlZC4iKTtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYSl9KSl9CmZ1bmN0aW9uIHdiKGEsYixjLGQpe3ZhciBlO2lmKGEubCl7dmFyIGY9Yz91YihjLnVybCk6ImluaXQiO2U9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigiYXBwZW5kIikuc2V0UmVhc29uKGQpLnNldFJlc291cmNlKGYpLnNldFR5cGUodmIoYSkpLnNldExlbmd0aChiLmJ5dGVMZW5ndGgpLnN0YXJ0KCk7bnVsbCE9PWMmJihlPWUuc2V0U2VnbWVudFN0YXJ0VGltZSgxRTMqYy5zdGFydFRpbWUpLnNldFNlZ21lbnRFbmRUaW1lKDFFMypjLmVuZFRpbWUpKTthLmomJihlPWUuc2V0UGFyZW50TG9nZ2VyKGEuaikpfXRyeXthLmEuYXBwZW5kQnVmZmVyKGIpfWNhdGNoKGcpe3JldHVybiBhLmguZ2V0Qm9vbCgibnVrZV9zb3VyY2VfYnVmZmVyX29uX3F1b3RhX2V4Y2VlZGVkX2VyciIsITApJiZnIGluc3RhbmNlb2YgRE9NRXhjZXB0aW9uJiZnLmNvZGU9PT1ET01FeGNlcHRpb24uUVVPVEFfRVhDRUVERURfRVJSJiZnLm1lc3NhZ2UubWF0Y2goL14uKlNvdXJjZUJ1ZmZlci4qZnVsbC4qZnJlZVxzc3BhY2UuKiQvKSYmCihnLnR5cGU9InNvdXJjZWJ1ZmZlcl9mdWxsIiksZSYmZS5zZXRFcnJvcihnKS5sb2coKSxQcm9taXNlLnJlamVjdChnKX1hLmM9bmV3IEk7YS5tPWM7cmV0dXJuIGEuYy50aGVuKGZ1bmN0aW9uKCl7ZSYmZS5sb2coKX0sZnVuY3Rpb24oYSl7ZSYmZS5zZXRFcnJvcihhKS5sb2coKTtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYSl9KX1uLmFkPWZ1bmN0aW9uKGEpe2E9YS5lcnJvcnx8RXJyb3IoIkNhbGwgdG8gYXBwZW5kQnVmZmVyIGZhaWxlZCB0byBhcHBlbmQgdGhlIHNlZ21lbnQuIik7YT1BYihhLCJzdHJlYW0iLCJDYWxsIHRvIGFwcGVuZEJ1ZmZlciBmYWlsZWQgdG8gYXBwZW5kIHRoZSBzZWdtZW50LiIpO3RoaXMuYyYmdGhpcy5jLnJlamVjdChhKX07CmZ1bmN0aW9uIERiKGEsYil7aWYoMD09YS5hLmJ1ZmZlcmVkLmxlbmd0aClyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7dmFyIGM9RmIoYSxiKTtpZigtMT09Y3x8Yz09YS5iLmxlbmd0aC0xKXJldHVybiBQcm9taXNlLnJlc29sdmUoKTt0cnl7YS5hLnJlbW92ZShhLmJbYysxXS5zdGFydFRpbWUsYS5BLmR1cmF0aW9uKX1jYXRjaChkKXtyZXR1cm4gUHJvbWlzZS5yZWplY3QoZCl9YS5iPWEuYi5zbGljZSgwLGMrMSk7YS5jPW5ldyBJO3JldHVybiBhLmN9bi5iYj1mdW5jdGlvbigpe2lmKHRoaXMuYyl7aWYoIm9wZW4iPT10aGlzLkEucmVhZHlTdGF0ZSl7dmFyIGE9RXJyb3IoIlByZXZpb3VzIG9wZXJhdGlvbiBhYm9ydGVkLiIpO2EudHlwZT0iYWJvcnRlZCI7dGhpcy5jLnJlamVjdChhKTt0aGlzLmEuYWJvcnQoKTt0aGlzLlImJih0aGlzLkY9ITApO3RoaXMuYz1uZXcgSX1yZXR1cm4gdGhpcy5jfXJldHVybiBQcm9taXNlLnJlc29sdmUoKX07Cm4ubmQ9ZnVuY3Rpb24oKXt0aGlzLmMmJih0aGlzLm0mJihvYih0aGlzLCJTZWdtZW50QXBwZW5kZWQiLHRoaXMubSksdGhpcy5tPW51bGwpLHRoaXMuYy5yZXNvbHZlKCksdGhpcy5jPW51bGwpfTtuLkRkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaX07bmIucHJvdG90eXBlLmdldFN0cmVhbVByb2dyZXNzVHJhY2tlcj1uYi5wcm90b3R5cGUuRGQ7ZnVuY3Rpb24gdmIoYSl7cmV0dXJuInYiPT09YS5nLmNoYXJBdCgwKT8idmlkZW8iOiJhIj09PWEuZy5jaGFyQXQoMCk/ImF1ZGlvIjpudWxsfWZ1bmN0aW9uIEFiKGEsYixjKXthfHwoYT1FcnJvcihjKSk7YS50eXBlfHwoYS50eXBlPWIpO2EubWVzc2FnZXx8KGEubWVzc2FnZT1jKTtyZXR1cm4gYX0KZnVuY3Rpb24gRmIoYSxiKXtpZihhLmguZ2V0Qm9vbCgic2JtX3VzZV9zZWdtZW50X2luZGV4X3RvX2ZpbmRfdGltZXN0YW1wcyIsITEpJiZhLkQpe3ZhciBjPWEuRC5maW5kKGIpO2lmKGMpcmV0dXJuIHliKGEuYixjLnN0YXJ0VGltZSl9ZWxzZSByZXR1cm4geWIoYS5iLGIpO3JldHVybi0xfTtmdW5jdGlvbiBJYihhKXtyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLGEpfXEoInNoYWthLnV0aWwuVWludDhBcnJheVV0aWxzLnRvU3RyaW5nIixJYik7ZnVuY3Rpb24gSmIoYSl7Zm9yKHZhciBiPW5ldyBVaW50OEFycmF5KGEubGVuZ3RoKSxjPTA7YzxhLmxlbmd0aDsrK2MpYltjXT1hLmNoYXJDb2RlQXQoYyk7cmV0dXJuIGJ9cSgic2hha2EudXRpbC5VaW50OEFycmF5VXRpbHMuZnJvbVN0cmluZyIsSmIpO3EoInNoYWthLnV0aWwuVWludDhBcnJheVV0aWxzLnRvQmFzZTY0IixmdW5jdGlvbihhLGIpe3ZhciBjPXZvaWQgMD09Yj8hMDpiLGQ9d2luZG93LmJ0b2EoSWIoYSkpLnJlcGxhY2UoL1wrL2csIi0iKS5yZXBsYWNlKC9cLy9nLCJfIik7cmV0dXJuIGM/ZDpkLnJlcGxhY2UoLz0qJC8sIiIpfSk7ZnVuY3Rpb24gS2IoYSl7cmV0dXJuIEpiKHdpbmRvdy5hdG9iKGEucmVwbGFjZSgvLS9nLCIrIikucmVwbGFjZSgvXy9nLCIvIikpKX0KcSgic2hha2EudXRpbC5VaW50OEFycmF5VXRpbHMuZnJvbUJhc2U2NCIsS2IpO3EoInNoYWthLnV0aWwuVWludDhBcnJheVV0aWxzLmZyb21IZXgiLGZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1uZXcgVWludDhBcnJheShhLmxlbmd0aC8yKSxjPTA7YzxhLmxlbmd0aDtjKz0yKWJbYy8yXT13aW5kb3cucGFyc2VJbnQoYS5zdWJzdHIoYywyKSwxNik7cmV0dXJuIGJ9KTtmdW5jdGlvbiBMYihhKXtmb3IodmFyIGI9IiIsYz0wO2M8YS5sZW5ndGg7KytjKXt2YXIgZD1hW2NdLnRvU3RyaW5nKDE2KTsxPT1kLmxlbmd0aCYmKGQ9IjAiK2QpO2IrPWR9cmV0dXJuIGJ9cSgic2hha2EudXRpbC5VaW50OEFycmF5VXRpbHMudG9IZXgiLExiKTtmdW5jdGlvbiBNYShhLGIpe2lmKCFhJiYhYilyZXR1cm4hMDtpZighYXx8IWJ8fGEubGVuZ3RoIT1iLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIGM9MDtjPGEubGVuZ3RoOysrYylpZihhW2NdIT1iW2NdKXJldHVybiExO3JldHVybiEwfTtmdW5jdGlvbiBNYigpe3RoaXMuaT10aGlzLmE9IiI7dGhpcy53aXRoQ3JlZGVudGlhbHM9ITE7dGhpcy5vPXRoaXMuZj1udWxsO3RoaXMuaj10aGlzLmg9ITE7dGhpcy5tPXRoaXMuZz0iIjt0aGlzLmM9bnVsbDt0aGlzLmI9W119ZnVuY3Rpb24gTmIoYSxiKXt2YXIgYz1uZXcgTWI7Yy5hPWEuYTtjLmk9YS5pO2Mud2l0aENyZWRlbnRpYWxzPWEud2l0aENyZWRlbnRpYWxzO2MuZj1hLmY7Yy5vPWEubztjLmg9YS5oO2Muaj1hLmo7Yy5nPWEuZztjLm09YS5tO2MuYz1hLmM/bmV3IFVpbnQ4QXJyYXkoYS5jLmJ1ZmZlcik6bnVsbDtPYihjLGEuYik7T2IoYyxiLmIpO3JldHVybiBjfWZ1bmN0aW9uIE9iKGEsYil7dmFyIGM9YS5iLmNvbmNhdChiLm1hcChmdW5jdGlvbihhKXtyZXR1cm57aW5pdERhdGE6bmV3IFVpbnQ4QXJyYXkoYS5pbml0RGF0YS5idWZmZXIpLGluaXREYXRhVHlwZTphLmluaXREYXRhVHlwZX19KSk7YS5iPXdhKGMpfQpmdW5jdGlvbiB4YShhLGIpe3JldHVybiBhLmluaXREYXRhVHlwZT09Yi5pbml0RGF0YVR5cGUmJk1hKGEuaW5pdERhdGEsYi5pbml0RGF0YSl9O2Z1bmN0aW9uIFBiKGEsYixjLGQpe3RoaXMud2l0aENyZWRlbnRpYWxzPWM7dGhpcy5hPVtdO2QmJnRoaXMuYS5wdXNoKGQpfXEoInNoYWthLnBsYXllci5Ecm1TY2hlbWVJbmZvIixQYik7UGIuRGlzdGluY3RpdmVJZGVudGlmaWVyPXtPUFRJT05BTDowLFJFUVVJUkVEOjF9O1BiLlBlcnNpc3RlbnRTdGF0ZT17T1BUSU9OQUw6MCxSRVFVSVJFRDoxfTtQYi5jcmVhdGVVbmVuY3J5cHRlZD1mdW5jdGlvbigpe3JldHVybiBuZXcgUGIoMCwwLCExLG51bGwpfTtmdW5jdGlvbiBRYihhKXt0aGlzLnN5c3RlbUlkcz1bXTt0aGlzLmNlbmNLZXlJZHM9W107dGhpcy5hPVtdO2E9bmV3IEJhKG5ldyBEYXRhVmlldyhhLmJ1ZmZlcikpO3RyeXtmb3IoO0RhKGEpOyl7dmFyIGI9YS5hLGM9dihhKSxkPXYoYSk7MT09Yz9jPUZhKGEpOjA9PWMmJihjPWEuYi5ieXRlTGVuZ3RoLWIpO2lmKDE4ODY2MTQzNzYhPWQpSGEoYSxjLShhLmEtYikpO2Vsc2V7dmFyIGU9RWEoYSk7aWYoMTxlKUhhKGEsYy0oYS5hLWIpKTtlbHNle0hhKGEsMyk7dmFyIGY9TGIoR2EoYSkpLGc9W107aWYoMDxlKWZvcih2YXIgaD12KGEpLGs9MDtrPGg7KytrKXt2YXIgbD1MYihHYShhKSk7Zy5wdXNoKGwpfXZhciBtPXYoYSk7SGEoYSxtKTt0aGlzLmNlbmNLZXlJZHMucHVzaC5hcHBseSh0aGlzLmNlbmNLZXlJZHMsZyk7dGhpcy5zeXN0ZW1JZHMucHVzaChmKTt0aGlzLmEucHVzaCh7c3RhcnQ6YixlbmQ6YS5hLTF9KTthLmEhPWIrYyYmSGEoYSxjLShhLmEtYikpfX19fWNhdGNoKHApe319Cjt2YXIgUmI9L14oPzooW146Lz8jLl0rKTopPyg/OlwvXC8oPzooW14vPyNdKilAKT8oW14vIz9dKj8pKD86OihbMC05XSspKT8oPz1bLyM/XXwkKSk/KFtePyNdKyk/KD86XD8oW14jXSopKT8oPzojKC4qKSk/JC87ZnVuY3Rpb24gTChhKXt2YXIgYjthIGluc3RhbmNlb2YgTD8oU2IodGhpcyxhLnphKSx0aGlzLlVhPWEuVWEsdGhpcy5oYT1hLmhhLFRiKHRoaXMsYS5YYSksdGhpcy51YT1hLnVhLFViKHRoaXMsYS5hLmNsb25lKCkpLHRoaXMuTWE9YS5NYSk6YSYmKGI9U3RyaW5nKGEpLm1hdGNoKFJiKSk/KFNiKHRoaXMsYlsxXXx8IiIsITApLHRoaXMuVWE9VmIoYlsyXXx8IiIpLHRoaXMuaGE9VmIoYlszXXx8IiIsITApLFRiKHRoaXMsYls0XSksdGhpcy51YT1WYihiWzVdfHwiIiwhMCksVWIodGhpcyxiWzZdfHwiIiwhMCksdGhpcy5NYT1WYihiWzddfHwiIikpOnRoaXMuYT1uZXcgV2IobnVsbCl9bj1MLnByb3RvdHlwZTtuLnphPSIiO24uVWE9IiI7bi5oYT0iIjtuLlhhPW51bGw7bi51YT0iIjtuLk1hPSIiOwpuLnRvU3RyaW5nPWZ1bmN0aW9uKCl7dmFyIGE9W10sYj10aGlzLnphO2ImJmEucHVzaChYYihiLFliLCEwKSwiOiIpO2lmKGI9dGhpcy5oYSl7YS5wdXNoKCIvLyIpO3ZhciBjPXRoaXMuVWE7YyYmYS5wdXNoKFhiKGMsWWIsITApLCJAIik7YS5wdXNoKGVuY29kZVVSSUNvbXBvbmVudChiKS5yZXBsYWNlKC8lMjUoWzAtOWEtZkEtRl17Mn0pL2csIiUkMSIpKTtiPXRoaXMuWGE7bnVsbCE9YiYmYS5wdXNoKCI6IixTdHJpbmcoYikpfWlmKGI9dGhpcy51YSl0aGlzLmhhJiYiLyIhPWIuY2hhckF0KDApJiZhLnB1c2goIi8iKSxhLnB1c2goWGIoYiwiLyI9PWIuY2hhckF0KDApP1piOiRiLCEwKSk7KGI9dGhpcy5hLnRvU3RyaW5nKCkpJiZhLnB1c2goIj8iLGIpOyhiPXRoaXMuTWEpJiZhLnB1c2goIiMiLFhiKGIsYWMpKTtyZXR1cm4gYS5qb2luKCIiKX07Cm4ucmVzb2x2ZT1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmNsb25lKCk7ImRhdGEiPT09Yi56YSYmKGI9bmV3IEwpO3ZhciBjPSEhYS56YTtjP1NiKGIsYS56YSk6Yz0hIWEuVWE7Yz9iLlVhPWEuVWE6Yz0hIWEuaGE7Yz9iLmhhPWEuaGE6Yz1udWxsIT1hLlhhO3ZhciBkPWEudWE7aWYoYylUYihiLGEuWGEpO2Vsc2UgaWYoYz0hIWEudWEpe2lmKCIvIiE9ZC5jaGFyQXQoMCkpaWYodGhpcy5oYSYmIXRoaXMudWEpZD0iLyIrZDtlbHNle3ZhciBlPWIudWEubGFzdEluZGV4T2YoIi8iKTstMSE9ZSYmKGQ9Yi51YS5zdWJzdHIoMCxlKzEpK2QpfWlmKCIuLiI9PWR8fCIuIj09ZClkPSIiO2Vsc2UgaWYoLTEhPWQuaW5kZXhPZigiLi8iKXx8LTEhPWQuaW5kZXhPZigiLy4iKSl7Zm9yKHZhciBlPTA9PWQubGFzdEluZGV4T2YoIi8iLDApLGQ9ZC5zcGxpdCgiLyIpLGY9W10sZz0wO2c8ZC5sZW5ndGg7KXt2YXIgaD1kW2crK107Ii4iPT1oP2UmJmc9PWQubGVuZ3RoJiZmLnB1c2goIiIpOiIuLiI9PQpoPygoMTxmLmxlbmd0aHx8MT09Zi5sZW5ndGgmJiIiIT1mWzBdKSYmZi5wb3AoKSxlJiZnPT1kLmxlbmd0aCYmZi5wdXNoKCIiKSk6KGYucHVzaChoKSxlPSEwKX1kPWYuam9pbigiLyIpfX1jP2IudWE9ZDpjPSIiIT09YS5hLnRvU3RyaW5nKCk7Yz9VYihiLGEuYS5jbG9uZSgpKTpjPSEhYS5NYTtjJiYoYi5NYT1hLk1hKTtyZXR1cm4gYn07bi5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgTCh0aGlzKX07ZnVuY3Rpb24gU2IoYSxiLGMpe2EuemE9Yz9WYihiLCEwKTpiO2EuemEmJihhLnphPWEuemEucmVwbGFjZSgvOiQvLCIiKSl9ZnVuY3Rpb24gVGIoYSxiKXtpZihiKXtiPU51bWJlcihiKTtpZihpc05hTihiKXx8MD5iKXRocm93IEVycm9yKCJCYWQgcG9ydCBudW1iZXIgIitiKTthLlhhPWJ9ZWxzZSBhLlhhPW51bGx9ZnVuY3Rpb24gVWIoYSxiLGMpe2IgaW5zdGFuY2VvZiBXYj9hLmE9YjooY3x8KGI9WGIoYixiYykpLGEuYT1uZXcgV2IoYikpfQpmdW5jdGlvbiBWYihhLGIpe3JldHVybiBhP2I/ZGVjb2RlVVJJKGEpOmRlY29kZVVSSUNvbXBvbmVudChhKToiIn1mdW5jdGlvbiBYYihhLGIsYyl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBhPyhhPWVuY29kZVVSSShhKS5yZXBsYWNlKGIsY2MpLGMmJihhPWEucmVwbGFjZSgvJTI1KFswLTlhLWZBLUZdezJ9KS9nLCIlJDEiKSksYSk6bnVsbH1mdW5jdGlvbiBjYyhhKXthPWEuY2hhckNvZGVBdCgwKTtyZXR1cm4iJSIrKGE+PjQmMTUpLnRvU3RyaW5nKDE2KSsoYSYxNSkudG9TdHJpbmcoMTYpfXZhciBZYj0vWyNcL1w/QF0vZywkYj0vW1wjXD86XS9nLFpiPS9bXCNcP10vZyxiYz0vW1wjXD9AXS9nLGFjPS8jL2c7ZnVuY3Rpb24gV2IoYSl7dGhpcy5iPWF8fG51bGx9V2IucHJvdG90eXBlLmE9bnVsbDtXYi5wcm90b3R5cGUuYz1udWxsOwpmdW5jdGlvbiBkYyhhLGIsYyl7aWYoIWEuYSYmKGEuYT17fSxhLmM9MCxhLmIpKWZvcih2YXIgZD1hLmIuc3BsaXQoIiYiKSxlPTA7ZTxkLmxlbmd0aDtlKyspe3ZhciBmPWRbZV0uaW5kZXhPZigiPSIpLGc9bnVsbCxoPW51bGw7MDw9Zj8oZz1kW2VdLnN1YnN0cmluZygwLGYpLGg9ZFtlXS5zdWJzdHJpbmcoZisxKSk6Zz1kW2VdO2c9ZGVjb2RlVVJJQ29tcG9uZW50KGcucmVwbGFjZSgvXCsvZywiICIpKTtoPWh8fCIiO2RjKGEsZyxkZWNvZGVVUklDb21wb25lbnQoaC5yZXBsYWNlKC9cKy9nLCIgIikpKX1hLmI9bnVsbDsoZD1hLmEuaGFzT3duUHJvcGVydHkoYikmJmEuYVtiXSl8fChhLmFbYl09ZD1bXSk7ZC5wdXNoKGMpO2EuYysrfQpXYi5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtpZih0aGlzLmIpcmV0dXJuIHRoaXMuYjtpZighdGhpcy5hKXJldHVybiIiO3ZhciBhPVtdLGI7Zm9yKGIgaW4gdGhpcy5hKWZvcih2YXIgYz1lbmNvZGVVUklDb21wb25lbnQoYiksZD10aGlzLmFbYl0sZT0wO2U8ZC5sZW5ndGg7ZSsrKXt2YXIgZj1jOyIiIT09ZFtlXSYmKGYrPSI9IitlbmNvZGVVUklDb21wb25lbnQoZFtlXSkpO2EucHVzaChmKX1yZXR1cm4gdGhpcy5iPWEuam9pbigiJiIpfTtXYi5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgV2I7YS5iPXRoaXMuYjtpZih0aGlzLmEpe3ZhciBiPXt9LGM7Zm9yKGMgaW4gdGhpcy5hKWJbY109dGhpcy5hW2NdLmNvbmNhdCgpO2EuYT1iO2EuYz10aGlzLmN9cmV0dXJuIGF9O2Z1bmN0aW9uIGVjKGEsYixjKXt2YXIgZD1hLmluZGV4T2YoIjw/eG1sIik7MDw9ZCYmKGE9YS5zdWJzdHIoZCkpO2E9KG5ldyBET01QYXJzZXIpLnBhcnNlRnJvbVN0cmluZyhhLCJ0ZXh0L3htbCIpO2lmKCFhKXJldHVybiBudWxsOyJzdHJpbmciPT09dHlwZW9mIGImJihiPVtuZXcgTChiKV0pO2I9Ynx8W25ldyBMKCIiKV07Yz1jfHxbbmV3IEwoIiIpXTtyZXR1cm4gTSh7QWM6YixiYXNlVXJsOmN9LGEsZmMpfXEoInNoYWthLmRhc2gubXBkLnBhcnNlTXBkIixlYyk7CmZ1bmN0aW9uIGZjKCl7dGhpcy5pZD10aGlzLnVybD1udWxsO3RoaXMudHlwZT0ic3RhdGljIjt0aGlzLkZCSXNMaXZlVGVtcGxhdGVkPXRoaXMuRkJXYXNMaXZlPXRoaXMubWFuaWZlc3RJc0xpdmVTdHJlYW1pbmc9ITE7dGhpcy5GQk1hbmlmZXN0SWRlbnRpZmllcj0iIjt0aGlzLkZCTVM9ITE7dGhpcy51PXRoaXMuYmFzZVVybD10aGlzLkFjPW51bGw7dGhpcy5qPXRoaXMuaT10aGlzLmg9MDt0aGlzLmI9bnVsbDt0aGlzLm09NTt0aGlzLmY9dGhpcy5jPXRoaXMuZz1udWxsO3RoaXMubz0xO3RoaXMubGFzdFZpZGVvRnJhbWVUcz10aGlzLmN1cnJlbnRTZXJ2ZXJUaW1lTXM9MDt0aGlzLmE9W119ZnVuY3Rpb24gZ2MoKXt0aGlzLmY9dGhpcy5jPXRoaXMuYj10aGlzLmJhc2VVcmw9dGhpcy5kdXJhdGlvbj10aGlzLnN0YXJ0PXRoaXMuaWQ9bnVsbDt0aGlzLmE9W119CmZ1bmN0aW9uIGhjKCl7dGhpcy5jPXRoaXMuY29kZWNzPXRoaXMubWltZVR5cGU9dGhpcy5oZWlnaHQ9dGhpcy53aWR0aD10aGlzLmNvbnRlbnRUeXBlPXRoaXMubGFuZz10aGlzLmdyb3VwPXRoaXMuaWQ9bnVsbDt0aGlzLmY9ITE7dGhpcy5pPXRoaXMuaD10aGlzLmc9dGhpcy5iYXNlVXJsPW51bGw7dGhpcy5qPVtdO3RoaXMuYT1bXTt0aGlzLmI9bnVsbH1mdW5jdGlvbiBpYygpe3RoaXMudmFsdWU9bnVsbH1mdW5jdGlvbiBqYygpe3RoaXMubGFuZz10aGlzLmE9bnVsbH1mdW5jdGlvbiBrYygpe3RoaXMuY29udGVudFR5cGU9dGhpcy5sYW5nPXRoaXMuaWQ9bnVsbH1mdW5jdGlvbiBsYygpe3RoaXMuZGF0YT1udWxsfWZ1bmN0aW9uIG1jKCl7dGhpcy5kYXRhPW51bGx9CmZ1bmN0aW9uIG5jKCl7dGhpcy5hPXRoaXMuYj10aGlzLmY9dGhpcy5pPXRoaXMuYmFzZVVybD10aGlzLmo9dGhpcy5mcmFtZVJhdGU9dGhpcy51PXRoaXMubz10aGlzLm09dGhpcy5mYlF1YWxpdHlDbGFzcz10aGlzLmZiUXVhbGl0eUxhYmVsPXRoaXMuaD10aGlzLmc9dGhpcy5jb2RlY3M9dGhpcy5taW1lVHlwZT10aGlzLmhlaWdodD10aGlzLndpZHRoPXRoaXMuYmFuZHdpZHRoPXRoaXMubGFuZz10aGlzLmlkPW51bGw7dGhpcy5jPVtdfWZ1bmN0aW9uIG9jKCl7dGhpcy52YWx1ZT10aGlzLmE9bnVsbH1vYy5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgb2M7YS5hPXRoaXMuYTthLnZhbHVlPXRoaXMudmFsdWU7cmV0dXJuIGF9O29jLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMuYT1OKGIsInNjaGVtZUlkVXJpIixPLHRoaXMuYSk7dGhpcy52YWx1ZT1OKGIsInZhbHVlIixPLHRoaXMudmFsdWUpfTsKZnVuY3Rpb24gcGMoKXt0aGlzLmI9dGhpcy5hPXRoaXMuZj10aGlzLmM9bnVsbH1mdW5jdGlvbiBxYygpe3RoaXMucGFyc2VkUHNzaD10aGlzLnBzc2hCb3g9bnVsbH1mdW5jdGlvbiByYygpe3RoaXMudXJsPW51bGx9ZnVuY3Rpb24gc2MoKXt0aGlzLnVybD1udWxsfWZ1bmN0aW9uIHRjKCl7dGhpcy5iYXNlVXJsPW51bGw7dGhpcy5zPTE7dGhpcy5jPXRoaXMuYj10aGlzLmY9dGhpcy5hPXRoaXMuTD1udWxsfXRjLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyB0YzthLmJhc2VVcmw9dWModGhpcy5iYXNlVXJsKTthLnM9dGhpcy5zO2EuTD10aGlzLkw7YS5hPXZjKHRoaXMuYSk7YS5mPXZjKHRoaXMuZik7YS5iPXZjKHRoaXMuYik7YS5jPXZjKHRoaXMuYyk7cmV0dXJuIGF9O2Z1bmN0aW9uIHdjKCl7dGhpcy5hPXRoaXMudXJsPW51bGx9CndjLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyB3YzthLnVybD11Yyh0aGlzLnVybCk7YS5hPXZjKHRoaXMuYSk7cmV0dXJuIGF9O2Z1bmN0aW9uIHhjKCl7dGhpcy5hPXRoaXMudXJsPW51bGx9eGMucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IHhjO2EudXJsPXVjKHRoaXMudXJsKTthLmE9dmModGhpcy5hKTtyZXR1cm4gYX07ZnVuY3Rpb24geWMoKXt0aGlzLmJhc2VVcmw9bnVsbDt0aGlzLnM9MTt0aGlzLkg9dGhpcy5MPW51bGw7dGhpcy5jPTA7dGhpcy5iPW51bGw7dGhpcy5hPVtdO3RoaXMuQz1udWxsfXljLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyB5YzthLmJhc2VVcmw9dWModGhpcy5iYXNlVXJsKTthLnM9dGhpcy5zO2EuTD10aGlzLkw7YS5IPXRoaXMuSDthLmM9dGhpcy5jO2EuYj12Yyh0aGlzLmIpO2EuYT11Yyh0aGlzLmEpfHxbXTthLkM9dmModGhpcy5DKTtyZXR1cm4gYX07CmZ1bmN0aW9uIHpjKCl7dGhpcy5hPXRoaXMuYj1udWxsfXpjLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyB6YzthLmI9dWModGhpcy5iKTthLmE9dmModGhpcy5hKTtyZXR1cm4gYX07ZnVuY3Rpb24gQWMoKXt0aGlzLnM9MTt0aGlzLkg9dGhpcy5MPW51bGw7dGhpcy5iPTA7dGhpcy5DPXRoaXMuYz10aGlzLmE9dGhpcy5mPW51bGx9QWMucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IEFjO2Eucz10aGlzLnM7YS5MPXRoaXMuTDthLkg9dGhpcy5IO2EuYj10aGlzLmI7YS5mPXRoaXMuZjthLmE9dGhpcy5hO2EuYz10aGlzLmM7YS5DPXZjKHRoaXMuQyk7cmV0dXJuIGF9O2Z1bmN0aW9uIEJjKCl7dGhpcy5iPXRoaXMuYT1udWxsO3RoaXMuTj1bXX1CYy5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgQmM7YS5hPXRoaXMuYTthLmI9dGhpcy5iO2EuTj11Yyh0aGlzLk4pfHxbXTtyZXR1cm4gYX07CmZ1bmN0aW9uIENjKCl7dGhpcy5zdGFydFNlZ21lbnRJbmRleD10aGlzLnJlcGVhdD10aGlzLmR1cmF0aW9uPXRoaXMuc3RhcnRUaW1lPW51bGx9Q2MucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IENjO2Euc3RhcnRUaW1lPXRoaXMuc3RhcnRUaW1lO2EuZHVyYXRpb249dGhpcy5kdXJhdGlvbjthLnJlcGVhdD10aGlzLnJlcGVhdDtyZXR1cm4gYX07ZnVuY3Rpb24gRGMoYSxiKXt0aGlzLnFhPWE7dGhpcy5lbmQ9Yn1EYy5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IERjKHRoaXMucWEsdGhpcy5lbmQpfTtmYy5UQUdfTkFNRT0iTVBEIjtnYy5UQUdfTkFNRT0iUGVyaW9kIjtoYy5UQUdfTkFNRT0iQWRhcHRhdGlvblNldCI7aWMuVEFHX05BTUU9IlJvbGUiO2pjLlRBR19OQU1FPSJBY2Nlc3NpYmlsaXR5IjtrYy5UQUdfTkFNRT0iQ29udGVudENvbXBvbmVudCI7bmMuVEFHX05BTUU9IlJlcHJlc2VudGF0aW9uIjtwYy5UQUdfTkFNRT0iQ29udGVudFByb3RlY3Rpb24iOwpxYy5UQUdfTkFNRT0iY2VuYzpwc3NoIjtyYy5UQUdfTkFNRT0iQmFzZVVSTCI7b2MuVEFHX05BTUU9IkF1ZGlvQ2hhbm5lbENvbmZpZ3VyYXRpb24iO3NjLlRBR19OQU1FPSJMb2NhdGlvbiI7dGMuVEFHX05BTUU9IlNlZ21lbnRCYXNlIjt3Yy5UQUdfTkFNRT0iUmVwcmVzZW50YXRpb25JbmRleCI7bGMuVEFHX05BTUU9IkZCSW5pdGlhbGl6YXRpb25CaW5hcnkiO21jLlRBR19OQU1FPSJGQlNlZ21lbnRJbmRleEJpbmFyeSI7eGMuVEFHX05BTUU9IkluaXRpYWxpemF0aW9uIjt5Yy5UQUdfTkFNRT0iU2VnbWVudExpc3QiO3pjLlRBR19OQU1FPSJTZWdtZW50VVJMIjtBYy5UQUdfTkFNRT0iU2VnbWVudFRlbXBsYXRlIjtCYy5UQUdfTkFNRT0iU2VnbWVudFRpbWVsaW5lIjtDYy5UQUdfTkFNRT0iUyI7CmZjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMudXJsPWEuQWM7dGhpcy5pZD1OKGIsImlkIixPKTt0aGlzLnR5cGU9TihiLCJ0eXBlIixPKXx8InN0YXRpYyI7dGhpcy5tYW5pZmVzdElzTGl2ZVN0cmVhbWluZz0iZHluYW1pYyI9PT10aGlzLnR5cGU7dGhpcy5GQldhc0xpdmU9TihiLCJGQldhc0xpdmUiLEVjKXx8ITE7dGhpcy5GQklzTGl2ZVRlbXBsYXRlZD1OKGIsIkZCSXNMaXZlVGVtcGxhdGVkIixFYyl8fCExO3RoaXMuRkJNYW5pZmVzdElkZW50aWZpZXI9TihiLCJGQk1hbmlmZXN0SWRlbnRpZmllciIsTyl8fCIiO3RoaXMuRkJNUz1OKGIsIkZCTVMiLEVjKXx8ITE7VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJvdmVycmlkZV9mYl9pc19saXZlX3RlbXBsYXRlZCIsITEpJiYodGhpcy5GQklzTGl2ZVRlbXBsYXRlZD0hMSk7dGhpcy5iPU4oYiwibWVkaWFQcmVzZW50YXRpb25EdXJhdGlvbiIsRmMpO3RoaXMubT1OKGIsIm1pbkJ1ZmZlclRpbWUiLApGYyx0aGlzLm0pO3RoaXMuZz1OKGIsIm1pbmltdW1VcGRhdGVQZXJpb2QiLEZjLHRoaXMuZyk7dGhpcy5jPU4oYiwiYXZhaWxhYmlsaXR5U3RhcnRUaW1lIixHYyx0aGlzLmMpO3RoaXMuZj1OKGIsInRpbWVTaGlmdEJ1ZmZlckRlcHRoIixGYyx0aGlzLmYpO3RoaXMuY3VycmVudFNlcnZlclRpbWVNcz1OKGIsImN1cnJlbnRTZXJ2ZXJUaW1lTXMiLFApO04oYiwiZmlyc3RBdlRpbWVNcyIsUCk7dGhpcy5sYXN0VmlkZW9GcmFtZVRzPU4oYiwibGFzdFZpZGVvRnJhbWVUcyIsUCk7dGhpcy5mPW51bGw7dGhpcy5vPU4oYiwic3VnZ2VzdGVkUHJlc2VudGF0aW9uRGVsYXkiLEZjLHRoaXMubyk7dGhpcy5oPU4oYiwibG9hcFN0cmVhbVR5cGUiLEhjLHRoaXMuaCk7dGhpcy5pPU4oYiwidXNpbmdBU1JDYXB0aW9ucyIsSGMsdGhpcy5pKTt0aGlzLmo9TihiLCJpc1VzaW5nQXNyQ2FwdGlvbnNFbXBsb3llZURvZ2Zvb2RpbmciLEhjLHRoaXMuaik7dmFyIGM9YS5iYXNlVXJsLGQ9SWModGhpcywKYixyYyk7dGhpcy5iYXNlVXJsPUpjKGMsZCk7aWYoZD1NKHRoaXMsYixzYykpdGhpcy51PUtjKGMsZC51cmwpO3RoaXMuYT1JYyh0aGlzLGIsZ2MpfTtmdW5jdGlvbiBMYyhhLGIsYyxkKXtpZigwIT09YS5hLmxlbmd0aCl7dmFyIGU9bmV3IGhjO2UuY29udGVudFR5cGU9InRleHQiO2UubGFuZz1jfHwiZW4iO2UuZj0hMDtjPW5ldyBuYztjLmJhbmR3aWR0aD0wO2MubWltZVR5cGU9ZHx8InRleHQvdnR0IjtjLmJhc2VVcmw9W25ldyBMKGIpXTtlLmEucHVzaChjKTthLmFbMF0uYS5wdXNoKGUpO01jKGEuYVswXSl9fQpnYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt0aGlzLmlkPU4oYiwiaWQiLE8pO3RoaXMuc3RhcnQ9TihiLCJzdGFydCIsRmMpO3RoaXMuZHVyYXRpb249TihiLCJkdXJhdGlvbiIsRmMpO3ZhciBjPUljKHRoaXMsYixyYyk7dGhpcy5iYXNlVXJsPUpjKGEuYmFzZVVybCxjKTt0aGlzLmI9TSh0aGlzLGIsdGMpO3RoaXMuYz1NKHRoaXMsYix5Yyk7dGhpcy5mPU0odGhpcyxiLEFjKTt0aGlzLmE9SWModGhpcyxiLGhjKTtNYyh0aGlzKX07ZnVuY3Rpb24gTWMoYSl7Zm9yKHZhciBiPVtdLGM9MDtjPGEuYS5sZW5ndGg7KytjKXt2YXIgZD1hLmFbY107bnVsbCE9ZC5ncm91cCYmKGJbZC5ncm91cF09ITApfWZvcihjPTA7YzxhLmEubGVuZ3RoOysrYylpZihkPWEuYVtjXSxudWxsPT1kLmdyb3VwKXtmb3IodmFyIGU9MTsxPT1iW2VdOykrK2U7YltlXT0hMDtkLmdyb3VwPWV9fQpoYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt2YXIgYz1NKHRoaXMsYixrYyl8fHt9LGQ9TSh0aGlzLGIsaWMpO3RoaXMuaWQ9TihiLCJpZCIsTyk7dGhpcy5ncm91cD1OKGIsImdyb3VwIixQKTt0aGlzLmxhbmc9TihiLCJsYW5nIixPLGMubGFuZyk7dGhpcy5jb250ZW50VHlwZT1OKGIsImNvbnRlbnRUeXBlIixPLGMuY29udGVudFR5cGUpO3RoaXMud2lkdGg9TihiLCJ3aWR0aCIsUSk7dGhpcy5oZWlnaHQ9TihiLCJoZWlnaHQiLFEpO3RoaXMubWltZVR5cGU9TihiLCJtaW1lVHlwZSIsTyk7dGhpcy5jb2RlY3M9TihiLCJjb2RlY3MiLE8pO3RoaXMuYz1OKGIsIkZCUHJvamVjdGlvbiIsTyk7dGhpcy5mPWQmJiJtYWluIj09ZC52YWx1ZTt0aGlzLmxhbmcmJih0aGlzLmxhbmc9U2EodGhpcy5sYW5nKSk7Yz1JYyh0aGlzLGIscmMpO3RoaXMuYmFzZVVybD1KYyhhLmJhc2VVcmwsYyk7dGhpcy5qPUljKHRoaXMsYixwYyk7IXRoaXMuY29udGVudFR5cGUmJnRoaXMubWltZVR5cGUmJgoodGhpcy5jb250ZW50VHlwZT10aGlzLm1pbWVUeXBlLnNwbGl0KCIvIilbMF0pO3RoaXMuZz1hLmI/T2ModGhpcyxiLGEuYik6TSh0aGlzLGIsdGMpO3RoaXMuaD1hLmM/T2ModGhpcyxiLGEuYyk6TSh0aGlzLGIseWMpO3RoaXMuaT1hLmY/T2ModGhpcyxiLGEuZik6TSh0aGlzLGIsQWMpO3RoaXMuYT1JYyh0aGlzLGIsbmMpO3RoaXMuYj1NKHRoaXMsYixqYyk7IXRoaXMubWltZVR5cGUmJnRoaXMuYS5sZW5ndGgmJih0aGlzLm1pbWVUeXBlPXRoaXMuYVswXS5taW1lVHlwZSwhdGhpcy5jb250ZW50VHlwZSYmdGhpcy5taW1lVHlwZSYmKHRoaXMuY29udGVudFR5cGU9dGhpcy5taW1lVHlwZS5zcGxpdCgiLyIpWzBdKSl9O2ljLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMudmFsdWU9TihiLCJ2YWx1ZSIsTyl9O2pjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMuYT1OKGIsInNjaGVtZUlkVXJpIixPKTt0aGlzLmxhbmc9TihiLCJsYW5nIixPKX07CmtjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMuaWQ9TihiLCJpZCIsTyk7dGhpcy5sYW5nPU4oYiwibGFuZyIsTyk7dGhpcy5jb250ZW50VHlwZT1OKGIsImNvbnRlbnRUeXBlIixPKTt0aGlzLmxhbmcmJih0aGlzLmxhbmc9U2EodGhpcy5sYW5nKSl9OwpuYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt0aGlzLmlkPU4oYiwiaWQiLE8pO3RoaXMuYmFuZHdpZHRoPU4oYiwiYmFuZHdpZHRoIixRKTt0aGlzLndpZHRoPU4oYiwid2lkdGgiLFEsYS53aWR0aCk7dGhpcy5oZWlnaHQ9TihiLCJoZWlnaHQiLFEsYS5oZWlnaHQpO3RoaXMubWltZVR5cGU9TihiLCJtaW1lVHlwZSIsTyxhLm1pbWVUeXBlKTt0aGlzLmNvZGVjcz1OKGIsImNvZGVjcyIsTyxhLmNvZGVjcyk7dGhpcy5mYlF1YWxpdHlMYWJlbD1OKGIsIkZCUXVhbGl0eUxhYmVsIixPKTt0aGlzLmZiUXVhbGl0eUNsYXNzPU4oYiwiRkJRdWFsaXR5Q2xhc3MiLE8pO3RoaXMubT1OKGIsIkZCQWJyUG9saWN5VGFncyIsTyk7VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJtcGRfcGFyc2VfbW9zX2F0dHJpYnV0ZXMiLCExKSYmKHRoaXMubz1OKGIsIkZCUGxheWJhY2tSZXNvbHV0aW9uTW9zIixNb3NVdGlscy5wYXJzZVBsYXliYWNrTW9zKSx0aGlzLnU9TihiLAoiRkJQbGF5YmFja1Jlc29sdXRpb25Nb3NDb25maWRlbmNlTGV2ZWwiLE8pKTtWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woIm1wZF9wYXJzZV9mcmFtZV9hbmRfYXVkaW9fc2FtcGxpbmdfcmF0ZSIsITEpJiYodGhpcy5mcmFtZVJhdGU9TihiLCJmcmFtZVJhdGUiLE8pLHRoaXMuaj1OKGIsImF1ZGlvU2FtcGxpbmdSYXRlIixRKSk7dGhpcy5sYW5nPWEubGFuZzt2YXIgYz1JYyh0aGlzLGIscmMpO3RoaXMuYmFzZVVybD1KYyhhLmJhc2VVcmwsYyk7VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJhZGRfaW5saW5lX2luaXRpYWxpemF0aW9uX3Jlc291cmNlcyIsITEpJiYodGhpcy5nPU0odGhpcyxiLGxjKSx0aGlzLmg9TSh0aGlzLGIsbWMpKTt0aGlzLmM9SWModGhpcyxiLHBjKTt0aGlzLmk9TSh0aGlzLGIsb2MpO3RoaXMuZj1hLmc/T2ModGhpcyxiLGEuZyk6TSh0aGlzLGIsdGMpO3RoaXMuYj1hLmg/T2ModGhpcyxiLGEuaCk6TSh0aGlzLGIsCnljKTt0aGlzLmE9YS5pP09jKHRoaXMsYixhLmkpOk0odGhpcyxiLEFjKTt0aGlzLmM9dGhpcy5jLmNvbmNhdChhLmopfTtsYy5wcm90b3R5cGUucGFyc2U9bWMucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7aWYoYiYmYi5maXJzdENoaWxkKXt2YXIgYz1QYyhiKTtudWxsIT1jJiYodGhpcy5kYXRhPUtiKGMpLmJ1ZmZlcil9fTtwYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt0aGlzLmM9Yjt0aGlzLmY9TihiLCJzY2hlbWVJZFVyaSIsTyk7dmFyIGM9TihiLCJjZW5jOmRlZmF1bHRfS0lEIixPKTtjJiYodGhpcy5iPWMucmVwbGFjZSgvWy1dL2csIiIpKTt0aGlzLmE9TSh0aGlzLGIscWMpfTsKcWMucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dmFyIGM9UGMoYik7aWYoYyl7dGhpcy5wc3NoQm94PUtiKGMpO3RyeXt0aGlzLnBhcnNlZFBzc2g9bmV3IFFiKHRoaXMucHNzaEJveCl9Y2F0Y2goZCl7aWYoIShkIGluc3RhbmNlb2YgUmFuZ2VFcnJvcikpdGhyb3cgZDt9fX07cmMucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dmFyIGM9Yi5jaGlsZE5vZGVzLGQ9IiI7aWYoMT09Yy5sZW5ndGgpZD1QYyhiKTtlbHNlIGZvcih2YXIgZT0wO2U8Yy5sZW5ndGg7ZSsrKWNbZV0ubm9kZVR5cGU9PU5vZGUuVEVYVF9OT0RFJiYoZCs9Y1tlXS5ub2RlVmFsdWUpO3RoaXMudXJsPWR9O3NjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMudXJsPVBjKGIpfTsKdGMucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dGhpcy5iYXNlVXJsPWEuYmFzZVVybHx8dGhpcy5iYXNlVXJsO3RoaXMucz1OKGIsInRpbWVzY2FsZSIsUSx0aGlzLnMpO3RoaXMuTD1OKGIsInByZXNlbnRhdGlvblRpbWVPZmZzZXQiLFAsdGhpcy5MKTt0aGlzLmE9TihiLCJpbmRleFJhbmdlIixRYyx0aGlzLmEpO3RoaXMuZj1OKGIsIkZCRmlyc3RTZWdtZW50UmFuZ2UiLFFjLHRoaXMuZik7dGhpcy5iPU0odGhpcyxiLHdjKXx8dGhpcy5iO3RoaXMuYz1NKHRoaXMsYix4Yyl8fHRoaXMuY307d2MucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dmFyIGM9TihiLCJzb3VyY2VVUkwiLE8pO3RoaXMudXJsPUtjKGEuYmFzZVVybCxjKTt0aGlzLmE9TihiLCJyYW5nZSIsUWMsdmMoYS5hKSl9Owp4Yy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt2YXIgYz1OKGIsInNvdXJjZVVSTCIsTyk7dGhpcy51cmw9S2MoYS5iYXNlVXJsLGMpO3RoaXMuYT1OKGIsInJhbmdlIixRYyl9Owp5Yy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt0aGlzLmJhc2VVcmw9YS5iYXNlVXJsfHx0aGlzLmJhc2VVcmw7dGhpcy5zPU4oYiwidGltZXNjYWxlIixRLHRoaXMucyk7dGhpcy5MPU4oYiwicHJlc2VudGF0aW9uVGltZU9mZnNldCIsUCx0aGlzLkwpO3RoaXMuSD1OKGIsImR1cmF0aW9uIixRLHRoaXMuSCk7dmFyIGM9TihiLCJzdGFydE51bWJlciIsUSk7bnVsbCE9YyYmKHRoaXMuYz1jKTt0aGlzLmI9TSh0aGlzLGIseGMpfHx0aGlzLmI7dGhpcy5hPShjPUljKHRoaXMsYix6YykpJiYwPGMubGVuZ3RoP2M6dGhpcy5hO3RoaXMuQz1NKHRoaXMsYixCYyl8fHRoaXMuQztWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImNhbGN1bGF0ZV9xdWlja19kYXNoX3ByZXNlbnRhdGlvbl90aW1lX29mZnNldF9mcm9tX3RpbWVsaW5lIiwhMSkmJihjPVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJjYWxjdWxhdGVfcXVpY2tfZGFzaF9wcmVzZW50YXRpb25fdGltZV9vZmZzZXRfZXBzaWxvbl9tcyIsCjI1MCksdGhpcy5DJiZ0aGlzLkMuTlswXSYmKHRoaXMuTD0xRTM8dGhpcy5DLk5bMF0uc3RhcnRUaW1lP3RoaXMuQy5OWzBdLnN0YXJ0VGltZS1jOnRoaXMuTCkpfTt6Yy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt2YXIgYz1OKGIsIm1lZGlhIixPKTt0aGlzLmI9S2MoYS5iYXNlVXJsLGMpO3RoaXMuYT1OKGIsIm1lZGlhUmFuZ2UiLFFjKX07CkFjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMucz1OKGIsInRpbWVzY2FsZSIsUSx0aGlzLnMpO3RoaXMuTD1OKGIsInByZXNlbnRhdGlvblRpbWVPZmZzZXQiLFAsdGhpcy5MKTt0aGlzLkg9TihiLCJkdXJhdGlvbiIsUSx0aGlzLkgpO3ZhciBjPU4oYiwic3RhcnROdW1iZXIiLFApO251bGwhPWMmJih0aGlzLmI9Yyk7dGhpcy5mPU4oYiwibWVkaWEiLE8sdGhpcy5mKTt0aGlzLmE9TihiLCJpbmRleCIsTyx0aGlzLmEpO3RoaXMuYz1OKGIsImluaXRpYWxpemF0aW9uIixPLHRoaXMuYyk7dGhpcy5DPU0odGhpcyxiLEJjKXx8dGhpcy5DfTtCYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt0aGlzLmE9TihiLCJGQlByZWRpY3RlZE1lZGlhIixPLHRoaXMuYSk7dGhpcy5iPU4oYiwiRkJQcmVkaWN0ZWRNZWRpYUVuZE51bWJlciIsUSk7dGhpcy5OPUljKHRoaXMsYixDYyl9OwpDYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt0aGlzLnN0YXJ0VGltZT1OKGIsInQiLFApO3RoaXMuZHVyYXRpb249TihiLCJkIixQKTt0aGlzLnJlcGVhdD1OKGIsInIiLEhjKX07ZnVuY3Rpb24gSmMoYSxiKXtpZighYnx8MD09PWIubGVuZ3RoKXJldHVybiBhO2Zvcih2YXIgYz1bXSxkPTA7ZDxiLmxlbmd0aDtkKyspe3ZhciBlPWJbZF0udXJsO251bGw9PWF8fDA9PT1hLmxlbmd0aD9jLnB1c2gobmV3IEwoZSkpOihlPUtjKGEuc2xpY2UoMCwxKSxlKSxjLnB1c2goZVswXSkpfXJldHVybiBjfWZ1bmN0aW9uIEtjKGEsYil7aWYoIWIpcmV0dXJuIGE7dmFyIGM9bmV3IEwoYik7cmV0dXJuIGE/YS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVzb2x2ZShjKX0pOltjXX1mdW5jdGlvbiBPYyhhLGIsYyl7dmFyIGQ9dmMoYyk7KGI9UmMoYixjLmNvbnN0cnVjdG9yLlRBR19OQU1FKSkmJmQucGFyc2UoYSxiKTtyZXR1cm4gZH0KZnVuY3Rpb24gTShhLGIsYyl7dmFyIGQ9bnVsbDtpZihiPVJjKGIsYy5UQUdfTkFNRSkpZD1uZXcgYyxkLnBhcnNlKGEsYik7cmV0dXJuIGR9ZnVuY3Rpb24gUmMoYSxiKXtmb3IodmFyIGM9bnVsbCxkPTA7ZDxhLmNoaWxkTm9kZXMubGVuZ3RoO2QrKylpZihhLmNoaWxkTm9kZXNbZF0udGFnTmFtZT09Yil7aWYoYylyZXR1cm4gbnVsbDtjPWEuY2hpbGROb2Rlc1tkXX1yZXR1cm4gY31mdW5jdGlvbiBJYyhhLGIsYyl7Zm9yKHZhciBkPVtdLGU9MDtlPGIuY2hpbGROb2Rlcy5sZW5ndGg7ZSsrKWlmKGIuY2hpbGROb2Rlc1tlXS50YWdOYW1lPT1jLlRBR19OQU1FKXt2YXIgZj1uZXcgYztmLnBhcnNlLmNhbGwoZixhLGIuY2hpbGROb2Rlc1tlXSk7ZC5wdXNoKGYpfXJldHVybiBkfWZ1bmN0aW9uIFBjKGEpe2E9YS5maXJzdENoaWxkO3JldHVybiBhLm5vZGVUeXBlIT1Ob2RlLlRFWFRfTk9ERT9udWxsOmEubm9kZVZhbHVlfQpmdW5jdGlvbiB1YyhhKXtyZXR1cm4gYT9hLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS5jbG9uZSgpfSk6bnVsbH1mdW5jdGlvbiB2YyhhKXtyZXR1cm4gYT9hLmNsb25lKCk6bnVsbH1mdW5jdGlvbiBOKGEsYixjLGQpe2E9YS5oYXNBdHRyaWJ1dGUoYik/YyhhLmdldEF0dHJpYnV0ZShiKSk6bnVsbDtyZXR1cm4gbnVsbCE9YT9hOnZvaWQgMCE9PWQ/ZDpudWxsfWZ1bmN0aW9uIEdjKGEpe2lmKCFhKXJldHVybiBudWxsO2E9RGF0ZS5wYXJzZShhKTtyZXR1cm4gaXNOYU4oYSk/bnVsbDpNYXRoLmZsb29yKGEvMUUzKX0KZnVuY3Rpb24gRmMoYSl7aWYoIWEpcmV0dXJuIG51bGw7dmFyIGI9L15QKD86KFswLTldKilZKT8oPzooWzAtOV0qKU0pPyg/OihbMC05XSopRCk/KD86VCg/OihbMC05XSopSCk/KD86KFswLTldKilNKT8oPzooWzAtOS5dKilTKT8pPyQvLmV4ZWMoYSk7aWYoIWIpcmV0dXJuIG51bGw7YT0wO3ZhciBjPVAoYlsxXSk7YyYmKGErPTMxNTM2RTMqYyk7KGM9UChiWzJdKSkmJihhKz0yNTkyRTMqYyk7KGM9UChiWzNdKSkmJihhKz04NjQwMCpjKTsoYz1QKGJbNF0pKSYmKGErPTM2MDAqYyk7KGM9UChiWzVdKSkmJihhKz02MCpjKTtiPXdpbmRvdy5wYXJzZUZsb2F0KGJbNl0pOyhiPWlzTmFOKGIpP251bGw6YikmJihhKz1iKTtyZXR1cm4gYX0KZnVuY3Rpb24gUWMoYSl7dmFyIGI9LyhbMC05XSspLShbMC05XSspLy5leGVjKGEpO2lmKCFiKXJldHVybiBudWxsO2E9UChiWzFdKTtpZihudWxsPT1hKXJldHVybiBudWxsO2I9UChiWzJdKTtyZXR1cm4gbnVsbD09Yj9udWxsOm5ldyBEYyhhLGIpfWZ1bmN0aW9uIEhjKGEpe2E9d2luZG93LnBhcnNlSW50KGEsMTApO3JldHVybiBpc05hTihhKT9udWxsOmF9ZnVuY3Rpb24gUShhKXthPXdpbmRvdy5wYXJzZUludChhLDEwKTtyZXR1cm4gMDxhP2E6bnVsbH1mdW5jdGlvbiBQKGEpe2E9d2luZG93LnBhcnNlSW50KGEsMTApO3JldHVybiAwPD1hP2E6bnVsbH1mdW5jdGlvbiBFYyhhKXtzd2l0Y2goYS50b0xvd2VyQ2FzZSgpKXtjYXNlICJ0cnVlIjpyZXR1cm4hMDtjYXNlICJmYWxzZSI6cmV0dXJuITE7ZGVmYXVsdDpyZXR1cm4gbnVsbH19ZnVuY3Rpb24gTyhhKXtyZXR1cm4gYX07ZnVuY3Rpb24gU2MoYSxiKXt0aGlzLnVybD1hO3RoaXMuYj1ifHxuZXcgdGI7dGhpcy5qPTA7dGhpcy5nPS0xO3RoaXMuaD10aGlzLmk9MDt0aGlzLmE9bnVsbDt0aGlzLmM9bmV3IEk7dGhpcy5mPW51bGw7dGhpcy5vPXRoaXMuYi5pO3RoaXMubD10aGlzLmIubX1xKCJzaGFrYS51dGlsLkFqYXhSZXF1ZXN0IixTYyk7CmZ1bmN0aW9uIHRiKCl7dGhpcy5ib2R5PW51bGw7dGhpcy5OYT0xO3RoaXMuYz0xRTM7dGhpcy5iPTA7dGhpcy5tZXRob2Q9IkdFVCI7dGhpcy5yZXNwb25zZVR5cGU9ImFycmF5YnVmZmVyIjt0aGlzLlFhPXt9O3RoaXMuZz10aGlzLndpdGhDcmVkZW50aWFscz0hMTt0aGlzLmRhPXRoaXMuYT10aGlzLnU9bnVsbDt0aGlzLmo9ITE7dGhpcy5oPXRoaXMubT10aGlzLmk9dGhpcy5taW1lVHlwZT1udWxsO3RoaXMubz0hMTt0aGlzLnc9LyguKilcLih4eHxmbmEpXC5mYmNkblwubmV0Lzt0aGlzLmY9L2xpdmVzdHJlYW0tbG9va2FzaWRlXC4oZmFjZWJvb2t8d29ya3BsYWNlKVwuY29tJC99dmFyIFRjPSEwO2Z1bmN0aW9uIFVjKGEpe1ZjKGEpO1djKGEpO2EuYi5ib2R5PW51bGw7YS5jLmRlc3Ryb3koKTthLmM9bnVsbDthLmY9bnVsbH0KZnVuY3Rpb24gV2MoYSl7YS5hJiYoYS5hLm9ubG9hZD1udWxsLGEuYS5vbnJlYWR5c3RhdGVjaGFuZ2U9bnVsbCxhLmEub25lcnJvcj1udWxsLGEuYS5vbnRpbWVvdXQ9bnVsbCk7YS5hPW51bGx9ZnVuY3Rpb24gVmMoYSl7LTEhPT1hLmcmJihjbGVhclRpbWVvdXQoYS5nKSxhLmc9LTEpfQpTYy5wcm90b3R5cGUubT1mdW5jdGlvbigpe2lmKHRoaXMuYSlyZXR1cm4gdGhpcy5jO2lmKDA9PXRoaXMudXJsLmxhc3RJbmRleE9mKCJkYXRhOiIsMCkpe3ZhciBhPXRoaXMudXJsLnNwbGl0KCI6IilbMV0uc3BsaXQoIjsiKS5wb3AoKS5zcGxpdCgiLCIpLGI9YS5wb3AoKSxiPSJiYXNlNjQiPT1hLnBvcCgpP3dpbmRvdy5hdG9iKGIucmVwbGFjZSgvLS9nLCIrIikucmVwbGFjZSgvXy9nLCIvIikpOndpbmRvdy5kZWNvZGVVUklDb21wb25lbnQoYik7ImFycmF5YnVmZmVyIj09dGhpcy5iLnJlc3BvbnNlVHlwZSYmKGI9SmIoYikuYnVmZmVyKTthPUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkobmV3IFhNTEh0dHBSZXF1ZXN0KSk7YS5yZXNwb25zZT1iO2EucmVzcG9uc2VUZXh0PWIudG9TdHJpbmcoKTtiPXRoaXMuYztiLnJlc29sdmUoYSk7VWModGhpcyk7cmV0dXJuIGJ9aWYoMD09dGhpcy51cmwubGFzdEluZGV4T2YoImlkYjoiLDApKXJldHVybiB0aGlzLnUoKTt0aGlzLmorKzsKdGhpcy5pPXBlcmZvcm1hbmNlTm93KCk7dGhpcy5ofHwodGhpcy5oPXRoaXMuYi5jKTt0aGlzLmE9bmV3IFhNTEh0dHBSZXF1ZXN0O3ZhciBjPXRoaXMudXJsLGE9bmV3IEwoYyk7VGMmJih0aGlzLmYmJiF0aGlzLmYuc3VwcG9ydHNDYWNoaW5nKCl8fHRoaXMuYi5nKSYmZGMoYS5hLCJfIixEYXRlLm5vdygpKTtjPXRoaXMuYi53LnRlc3QoYyk7aWYobnVsbCE9dGhpcy5iLmEmJmMpe3ZhciBkPXRoaXMuYi5hLGU9YS5hO251bGwhPWQuYSYmKGQuaD1kLmEuZ2V0U2VnbWVudHNUb1B1c2goKSxkLmY9ZC5hLmdldFNlZ21lbnRTdGFydFRpbWUoKSxkLmc9ZC5hLmdldFNlZ21lbnRPZmZzZXQoKSxkLmM9ZC5hLmdldFB1c2hWaWRlb1JlcHJlc2VudGF0aW9uSUQoKSxkLmI9ZC5hLmdldFB1c2hBdWRpb1JlcHJlc2VudGF0aW9uSUQoKSxkLmo9ZC5hLmdldFVzZUxvbmdDYWNoZUZvck1hbmlmZXN0KCkpO251bGwhPWQuaCYmZGMoZSwiX25jX3BfbiIsZC5oKTtudWxsIT1kLmY/ZGMoZSwiX25jX3BfdHMiLApkLmYpOm51bGwhPWQuZyYmZGMoZSwiX25jX3BfbyIsZC5nKTtudWxsIT1kLmMmJm51bGwhPWQuYiYmKGRjKGUsIl9uY19wX3JpZCIsZC5jKSxkYyhlLCJfbmNfcF9hcmlkIixkLmIpKTtkLmkmJmRjKGUsIl9uY19wX2RiZyIsIjEiKTtkLmomJmRjKGUsIl9uY19uYyIsIjEiKX0xPT10aGlzLmIuaiYmYyYmZGMoYS5hLCJfbmNfcGxheWluZyIsMSk7dGhpcy5iLm8mJmRjKGEuYSwiX25jX3NjIiwxKTtjPWEudG9TdHJpbmcoKTthPXRoaXMuYi5mLnRlc3QoYS5oYSk7dGhpcy5hLm9wZW4odGhpcy5iLm1ldGhvZCxjLCEwKTt0aGlzLmEucmVzcG9uc2VUeXBlPXRoaXMuYi5yZXNwb25zZVR5cGU7dGhpcy5hLnRpbWVvdXQ9dGhpcy5iLmI7dGhpcy5hLndpdGhDcmVkZW50aWFscz10aGlzLmIud2l0aENyZWRlbnRpYWxzfHxhO3NldEV2ZW50UHJvcGVydHkodGhpcy5hLCJvbmxvYWQiLHRoaXMuZmQuYmluZCh0aGlzKSk7c2V0RXZlbnRQcm9wZXJ0eSh0aGlzLmEsIm9ucmVhZHlzdGF0ZWNoYW5nZSIsCnRoaXMubGQuYmluZCh0aGlzKSk7c2V0RXZlbnRQcm9wZXJ0eSh0aGlzLmEsIm9uZXJyb3IiLHRoaXMuZGQuYmluZCh0aGlzKSk7c2V0RXZlbnRQcm9wZXJ0eSh0aGlzLmEsIm9udGltZW91dCIsdGhpcy5xZC5iaW5kKHRoaXMpKTtzZXRFdmVudFByb3BlcnR5KHRoaXMuYSwib25hYm9ydCIsdGhpcy4kYy5iaW5kKHRoaXMpKTtmb3IoYiBpbiB0aGlzLmIuUWEpdGhpcy5hLnNldFJlcXVlc3RIZWFkZXIoYix0aGlzLmIuUWFbYl0pO3RoaXMuYS5zZW5kKHRoaXMuYi5ib2R5KTtyZXR1cm4gdGhpcy5jfTtTYy5wcm90b3R5cGUuc2VuZD1TYy5wcm90b3R5cGUubTsKZnVuY3Rpb24gWGMoYSxiLGMpe2I9RXJyb3IoYik7Yi50eXBlPWM7Yi5zdGF0dXM9YS5hLnN0YXR1cztiLnVybD1hLnVybDtWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImVuYWJsZV9kb3VibGVfaW5nZXN0IiwhMSkmJihiLnJlc3BvbnNlSGVhZGVycz1wYXJzZUhlYWRlcnMoYS5hLmdldEFsbFJlc3BvbnNlSGVhZGVycygpKSk7Yi5tZXRob2Q9YS5iLm1ldGhvZDtiLmJvZHk9YS5iLmJvZHk7cmV0dXJuIGJ9bj1TYy5wcm90b3R5cGU7bi5hYm9ydD1mdW5jdGlvbigpe1ZjKHRoaXMpO2lmKHRoaXMuYSYmdGhpcy5hLnJlYWR5U3RhdGUhPVhNTEh0dHBSZXF1ZXN0LkRPTkUmJih0aGlzLmEuYWJvcnQoKSwhVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJmaXhfc2hha2FfdXRpbF9hamF4X3JlcXVlc3RfYWJvcnQiLCEwKSkpe3ZhciBhPVhjKHRoaXMsIlJlcXVlc3QgYWJvcnRlZC4iLCJhYm9ydGVkIik7dGhpcy5jLnJlamVjdChhKTtVYyh0aGlzKX19OwpuLiRjPWZ1bmN0aW9uKCl7aWYoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJmaXhfc2hha2FfdXRpbF9hamF4X3JlcXVlc3RfYWJvcnQiLCEwKSl7dmFyIGE9WGModGhpcywiUmVxdWVzdCBhYm9ydGVkLiIsImFib3J0ZWQiKTt0aGlzLmMucmVqZWN0KGEpO1VjKHRoaXMpfX07Cm4uZmQ9ZnVuY3Rpb24oYSl7aWYodGhpcy5mKXt2YXIgYj1WaWRlb1BsYXllclJlc291cmNlVGltZXIuZ2V0UmVzb3VyY2VUaW1pbmdFbnRyeSh0aGlzLnVybCx0aGlzLmkscGVyZm9ybWFuY2VOb3coKSk7dGhpcy5mLnNhbXBsZShwZXJmb3JtYW5jZU5vdygpLXRoaXMuaSxhLmxvYWRlZHx8dGhpcy5hLnJlc3BvbnNlJiZ0aGlzLmEucmVzcG9uc2UuYnl0ZUxlbmd0aHx8MCx0aGlzLmIubWltZVR5cGU/InYiPT09dGhpcy5iLm1pbWVUeXBlLmNoYXJBdCgwKTohMSxiLHRoaXMubyx0aGlzLmwsVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJldmFsdWF0ZV9hYnJfb25fZmV0Y2hfZW5kIiwhMSkpfWE9WzQwM107MjAwPD10aGlzLmEuc3RhdHVzJiYyOTk+PXRoaXMuYS5zdGF0dXM/KFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgiZW5hYmxlX2RvdWJsZV9pbmdlc3QiLCExKSYmbnVsbCE9cGFyc2VIZWFkZXJzKHRoaXMuYS5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSlbIngtZmItdmlkZW8tcmVwbGljYSJdPwooYT1YYyh0aGlzLCJIVFRQIGVycm9yLiIsIm5ldCIpLHRoaXMuYy5yZWplY3QoYSkpOnRoaXMuYy5yZXNvbHZlKHRoaXMuYSksVWModGhpcykpOiFWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInJlbW92ZV9hamF4X3Jlc2VuZF9pbnRlcm5hbCIsITApJiZ0aGlzLmo8dGhpcy5iLk5hJiYtMT09PWEuaW5kZXhPZih0aGlzLmEuc3RhdHVzKT9ZYyh0aGlzKTooYT1YYyh0aGlzLCJIVFRQIGVycm9yLiIsIm5ldCIpLHRoaXMuYy5yZWplY3QoYSksVWModGhpcykpfTsKbi5sZD1mdW5jdGlvbigpe2lmKHRoaXMuYS5yZWFkeVN0YXRlPT1YTUxIdHRwUmVxdWVzdC5IRUFERVJTX1JFQ0VJVkVEJiYodGhpcy5hLllhPURhdGUubm93KCktdGhpcy5pLHRoaXMuYi5hJiZ0aGlzLmIuZGEmJnRoaXMuYi5kYS5hZGRQdXNoRGF0YUZyb21YSFIodGhpcy5hKSx0aGlzLmIuaCYmdGhpcy5iLmguaGFuZGxlWEhSKHRoaXMuYSksVmlkZW9DbGllbnRFZGdlQ29vcGVyYXRpb24udXBkYXRlRnJvbVhIUih0aGlzLmEpLHRoaXMuYi5nKSl7dmFyIGE9RGF0ZS5wYXJzZSh0aGlzLmEuZ2V0UmVzcG9uc2VIZWFkZXIoIkRhdGUiKSk7YSYmKHphPWEtRGF0ZS5ub3coKSl9fTtuLmRkPWZ1bmN0aW9uKCl7dmFyIGE9WGModGhpcywiTmV0d29yayBmYWlsdXJlLiIsIm5ldCIpO3RoaXMuYy5yZWplY3QoYSk7VWModGhpcyl9OwpuLnFkPWZ1bmN0aW9uKCl7aWYoIVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgicmVtb3ZlX2FqYXhfcmVzZW5kX2ludGVybmFsIiwhMCkmJnRoaXMuajx0aGlzLmIuTmEpWWModGhpcyk7ZWxzZXt2YXIgYT1YYyh0aGlzLCJSZXF1ZXN0IHRpbWVkIG91dC4iLCJuZXQiKTt0aGlzLmMucmVqZWN0KGEpO1VjKHRoaXMpfX07ZnVuY3Rpb24gWWMoYSl7V2MoYSk7YS5nPXNldFRpbWVvdXQoZnVuY3Rpb24oKXt0aGlzLmc9LTE7dGhpcy5tKCl9LmJpbmQoYSksYS5oKigxKy41KigyKk1hdGgucmFuZG9tKCktMSkpKTthLmgqPTJ9O2Z1bmN0aW9uIEsoYSxiLGMsZCxlLGYpe3RoaXMuYz1iO3RoaXMuc3RhcnRCeXRlPWN8fDA7dGhpcy5iYXNlVXJsPXRoaXMudG9TdHJpbmcoKTt0aGlzLmVuZEJ5dGU9bnVsbCE9ZD9kOm51bGw7dGhpcy5pc1ByZWRpY3RpdmU9ZXx8ITE7dGhpcy5mPW51bGw7dGhpcy5tPTA7dGhpcy5BPSExO3RoaXMuTmM9dGhpcy5nPW51bGw7dGhpcy5vPWE7dGhpcy5pPW51bGw7dGhpcy5qPXRoaXMudT0hMTt0aGlzLmI9dGhpcy5hPW51bGw7dGhpcy5oPWZ8fG51bGx9cSgic2hha2EudXRpbC5GYWlsb3ZlclVyaSIsSyk7Sy5wcm90b3R5cGUudz1mdW5jdGlvbihhKXt0aGlzLkE9YX07Sy5wcm90b3R5cGUuc2V0U2hvdWxkUmVhZFhGYlZpZGVvQnJvYWRjYXN0RW5kZWRIZWFkZXI9Sy5wcm90b3R5cGUudztLLnByb3RvdHlwZS5EPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubX07Sy5wcm90b3R5cGUuZ2V0RmJWaWRlb0Jyb2FkY2FzdEVuZGVkUmVzcG9uc2VIZWFkZXI9Sy5wcm90b3R5cGUuRDsKSy5wcm90b3R5cGUuRj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YXJ0Qnl0ZX07Sy5wcm90b3R5cGUuZ2V0U3RhcnRCeXRlPUsucHJvdG90eXBlLkY7Sy5wcm90b3R5cGUuQj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVuZEJ5dGV9O0sucHJvdG90eXBlLmdldEVuZEJ5dGU9Sy5wcm90b3R5cGUuQjtmdW5jdGlvbiBaYyhhLGIpe3JldHVybiBhJiYwIT09YS5sZW5ndGg/YS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVzb2x2ZShiKX0pOltiXX1uPUsucHJvdG90eXBlO24uZmV0Y2g9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxoKXtyZXR1cm4gdGhpcy5mP3RoaXMuZjp0aGlzLmY9JGModGhpcywwLGF8fG5ldyB0YixiLGMsZCxlLGYsZyxoKX07bi5zdHJlYW09ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxoLGspe3JldHVybiBhZCh0aGlzLDAsYXx8bmV3IHRiLGIsYyxkLGUsZixnLGgsayl9OwpmdW5jdGlvbiAkYyhhLGIsYyxkLGUsZixnLGgsayxsKXtyZXR1cm4gYWQoYSxiLGMsZCxlLGYsZyxoLGssbCkudGhlbihmdW5jdGlvbihhKXt2YXIgYixjPWZ1bmN0aW9uKCl7cmV0dXJuIGEucmVhZCgpLnRoZW4oZnVuY3Rpb24oYSl7dmFyIGQ9YS52YWx1ZTtpZihhLmRvbmUpcmV0dXJuIGJ8fG5ldyBBcnJheUJ1ZmZlcigwKTtkJiYoInN0cmluZyI9PT10eXBlb2YgZD9iPShifHwiIikrZDpiPWNvbmNhdEFycmF5QnVmZmVyKGJ8fG5ldyBBcnJheUJ1ZmZlcigwKSxkKSk7cmV0dXJuIGMoKX0uYmluZCh0aGlzKSl9LmJpbmQodGhpcyk7cmV0dXJuIGMoKX0pfQpuLkthPWZ1bmN0aW9uKCl7dGhpcy5nJiYodGhpcy5hPXRoaXMuZj1udWxsLHRoaXMuZy5hYm9ydCgpLHRoaXMuaT10aGlzLmc9bnVsbCk7dGhpcy5OYyYmVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJlbmFibGVfcDJwX3N1cHBvcnQiLCExKSYmKHRoaXMuRy5hYm9ydCgpLHRoaXMuRz1udWxsKTt0aGlzLmImJih0aGlzLmIuYWJvcnRSZXF1ZXN0KGJkKHRoaXMpKSxWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImZpeGluZ19zY2hlZHVsZXJfZGlzYWJsZV9sZWFrcyIsITApJiYodGhpcy5iPW51bGwpKX07CmZ1bmN0aW9uIGFkKGEsYixjLGQsZSxmLGcsaCxrLGwsbSl7YS5iPWx8fG51bGw7dmFyIHA7ZSYmKGMuYSYmKGMuYS5pPSEwKSxsPTAsYy5kYSYmKGw9Yy5kYS5nZXRQdXNoQ291bnRGb3JVcmwoYS5jW2JdLnRvU3RyaW5nKCkpKSwocD1lLmdldE9wZXJhdGlvbkxvZ2dlcigicmVxdWVzdCIpKSYmcC5zZXRSZWFzb24oa3x8bnVsbCkuc2V0UHVzaGVkKGwpLnNldFR5cGUoaHx8bnVsbCkuc2V0SW5pdGlhdG9yKCJzaGFrYSIpLnN0YXJ0KCksZiYmKHA9cC5zZXRQYXJlbnRMb2dnZXIoZikpKTt2YXIgdD1wZXJmb3JtYW5jZU5vdygpO2EuYT1udWxsO2cmJihjLmk9Zyk7ZSYmKGMubT1lKTt2YXIgdz1jZChhLGEuY1tiXSxjKTtrPW51bGw7YS5qPSExO3ZhciB6PVZpZGVvRGFzaFByZWZldGNoQ2FjaGUuZ2V0Q2FjaGVWYWx1ZSh3KTt6JiYoaz16LGEuaj0hMCxwJiYocC5zZXRDb25uZWN0aW9uUXVhbGl0eUxldmVsKFZpZGVvRGFzaFByZWZldGNoQ2FjaGUuZ2V0Q29ubmVjdGlvblF1YWxpdHlMZXZlbCh3KSksCnAuc2V0SW5pdGlhdG9yKCJwcmVmZXRjaCIpKSk7aWYoIXomJm0pcmV0dXJuIG0uZ2V0U3RyZWFtKGJkKGEpKS50aGVuKGZ1bmN0aW9uKGEpe3JldHVybiBhLmdldFJlYWRlcigpfS5iaW5kKGEpKTttPW51bGw7aWYoYS5iJiYhYS5iLmlzRGlzYWJsZWQoKSYmIWspdHJ5eyhrPW09YS5iLmdldFByb21pc2UoYmQoYSkpKT9wPW51bGw6YS5iLmRpc2FibGUoKX1jYXRjaChIKXtlJiZlLmdldEV2ZW50TG9nZ2VyKCJyZXF1ZXN0X2luZm9fbm90X2ZvdW5kIikuc2V0UmVzb3VyY2UodykubG9nKCl9IWsmJmEuaCYmYS5oLmNyZWF0ZVByb21pc2UmJihtPW5ldyBMKHcpLG09Yy5mLnRlc3QobS5oYSksaz1hLmguY3JlYXRlUHJvbWlzZSh7dXJsOncscmVzcG9uc2VUeXBlOmMucmVzcG9uc2VUeXBlLE9kOmMuYyxLZDoyLE5hOmMuTmEsd2l0aENyZWRlbnRpYWxzOmMud2l0aENyZWRlbnRpYWxzfHxtLFFhOmMuUWF9LGZ1bmN0aW9uKGEpe3RoaXMuTmM9YTt2YXIgYj1wZXJmb3JtYW5jZU5vdygpOwphLm9ubG9hZD1mdW5jdGlvbihmKXtpZihkKXt2YXIgaD1WaWRlb1BsYXllclJlc291cmNlVGltZXIuZ2V0UmVzb3VyY2VUaW1pbmdFbnRyeSh3LGIscGVyZm9ybWFuY2VOb3coKSk7ZC5zYW1wbGUocGVyZm9ybWFuY2VOb3coKS1iLGYubG9hZGVkfHxhLnJlc3BvbnNlJiZhLnJlc3BvbnNlLmJ5dGVMZW5ndGh8fDAsYy5taW1lVHlwZT8idiI9PT1jLm1pbWVUeXBlLmNoYXJBdCgwKTohMSxoLGcsZSxWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImV2YWx1YXRlX2Ficl9vbl9mZXRjaF9lbmQiLCExKSl9fX0pKTtrfHwoYS5nPW5ldyBTYyh3LGMpLGEubT0wLGQmJihhLmcuZj1kKSxrPWEuZy5tKCkpO3AmJnAuc2V0UmVzb3VyY2Uodyk7ZiYmZi5zZXRSZXNvdXJjZSh3KTt2YXIgZGE9ITEsZWE9ay50aGVuKEooYSxmdW5jdGlvbihhKXt2YXIgYz10aGlzLmg/dGhpcy5oLm9uUmVxdWVzdFNlbmQ6bnVsbDshY3x8InZpZGVvIiE9aCYmImF1ZGlvIiE9aCYmIm1hbmlmZXN0IiE9Cmh8fGMoITAsaCxhLnJlc3BvbnNlLmJ5dGVMZW5ndGgpOyF0aGlzLmJ8fHRoaXMuYi5pc0Rpc2FibGVkKCl8fHRoaXMuYT90aGlzLmF8fCh0aGlzLmE9VmlkZW9QbGF5ZXJSZXNvdXJjZVRpbWVyLmdldFJlc291cmNlVGltaW5nRW50cnkodyx0aGlzLmo/MDp0LHBlcmZvcm1hbmNlTm93KCkpKTp0aGlzLmE9dGhpcy5iLmdldFJlc291cmNlVGltaW5nRW50cnkodyk7VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJzYW1wbGVfcHJlZmV0Y2hfYmFuZHdpZHRoIiwhMSkmJnomJnRoaXMuYSYmMDx0aGlzLmEudGltZVRvTGFzdEJ5dGUmJmQmJmQuc2FtcGxlKHRoaXMuYS50aW1lVG9MYXN0Qnl0ZSxhLnJlc3BvbnNlLmJ5dGVMZW5ndGgsInYiPT09aC5jaGFyQXQoMCksdGhpcy5hLGcsZSwhMCk7aWYodGhpcy5BKXRyeXt0aGlzLm09cGFyc2VJbnQoYS5nZXRSZXNwb25zZUhlYWRlcigieC1mYi12aWRlby1icm9hZGNhc3QtZW5kZWQiKSwxMCl9Y2F0Y2goZil7fXRoaXMuYj0KdGhpcy5pPXRoaXMuZz10aGlzLmY9bnVsbDthLmE/KHRoaXMuaT1uZXcgTChhLmEpLHRoaXMudT0hMCk6dGhpcy5pPXRoaXMuY1tiXTthLnJlc3BvbnNlLllhPWEuWWE7cCYmKHA9cC5zZXRMZW5ndGgoYS5yZXNwb25zZS5ieXRlTGVuZ3RofHxhLnJlc3BvbnNlLmxlbmd0aCkuc2V0V2FzUHJlZmV0Y2hDYWNoZUhpdCh0aGlzLmopLG51bGwhPXRoaXMuYSYmKHA9cC5zZXRUaW1lVG9MYXN0Qnl0ZShNYXRoLnJvdW5kKHRoaXMuYS50aW1lVG9MYXN0Qnl0ZSkpLnNldFRpbWVUb0ZpcnN0Qnl0ZShNYXRoLnJvdW5kKHRoaXMuYS50aW1lVG9GaXJzdEJ5dGUpKS5zZXRUaW1lVG9SZXF1ZXN0U3RhcnQoTWF0aC5yb3VuZCh0aGlzLmEudGltZVRvUmVxdWVzdFN0YXJ0KSksMkUzPD10aGlzLmEudGltZVRvRmlyc3RCeXRlJiYtMTx3LmluZGV4T2YoImFrYW1haWhkIikmJmxvZ0xvbmdBa2FtYWlSZXF1ZXN0KGEuZ2V0UmVzcG9uc2VIZWFkZXIoIkRlYnVnLUluZm8iKSsiLCBUVEZCLT4gIit0aGlzLmEudGltZVRvRmlyc3RCeXRlKwoiLCBUVFJTLT4gIit0aGlzLmEudGltZVRvUmVxdWVzdFN0YXJ0KSkscC5sb2coKSk7cmV0dXJuIFByb21pc2UucmVzb2x2ZSh7dmFsdWU6YS5yZXNwb25zZSxkb25lOiExfSl9KSksZWE9ZWEuY2F0Y2goSihhLGZ1bmN0aW9uKGEpe3ZhciBlPXRoaXMuaD90aGlzLmgub25SZXF1ZXN0U2VuZDpudWxsO2UmJmUoITEsaCwwKTtpZih0aGlzLmYmJmIrMTx0aGlzLmMubGVuZ3RoKXJldHVybiB0aGlzLmY9JGModGhpcyxiKzEsYyxkKTt0aGlzLmI9dGhpcy5hPXRoaXMuZj10aGlzLmc9bnVsbDtwJiZwLnNldEVycm9yKGEpLmxvZygpO3JldHVybiBQcm9taXNlLnJlamVjdChhKX0pKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtjYW5jZWw6ZnVuY3Rpb24oKXt9LHJlYWQ6ZnVuY3Rpb24oKXtyZXR1cm4gZGE/UHJvbWlzZS5yZXNvbHZlKHt2YWx1ZTpudWxsLGRvbmU6ITB9KTplYS50aGVuKGZ1bmN0aW9uKGEpe2RhPSEwO3JldHVybiBhfSl9LmJpbmQoYSl9KX0KZnVuY3Rpb24gYmQoYSl7cmV0dXJue2Jhc2VVcmw6YS50b1N0cmluZygpLGlzUHJlZGljdGl2ZTphLmlzUHJlZGljdGl2ZSxzdGFydEJ5dGU6YS5zdGFydEJ5dGUsZW5kQnl0ZTphLmVuZEJ5dGV9fW4uY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEsodGhpcy5vLHRoaXMuYy5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuY2xvbmUoKX0pLHRoaXMuc3RhcnRCeXRlLHRoaXMuZW5kQnl0ZSx0aGlzLmlzUHJlZGljdGl2ZSx0aGlzLmgpfTtuLmdldFJlc291cmNlVGltaW5nRW50cnk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hfTsKZnVuY3Rpb24gY2QoYSxiLGMpe3ZhciBkPWIudG9TdHJpbmcoKTtpZihhLnN0YXJ0Qnl0ZXx8YS5lbmRCeXRlKWI9Yi5oYSwhYi5lbmRzV2l0aCgiZmJjZG4ubmV0Iil8fGIuc3RhcnRzV2l0aCgiaW50ZXJuY2FjaGUiKXx8Yi5lbmRzV2l0aCgiYWsuZmJjZG4ubmV0Iik/YyYmKGMuUWEuUmFuZ2U9ImJ5dGVzPSIrKGEuc3RhcnRCeXRlKyItIisobnVsbCE9YS5lbmRCeXRlP2EuZW5kQnl0ZToiIikpKTooZCs9IiZieXRlc3RhcnQ9IithLnN0YXJ0Qnl0ZSxkKz1udWxsIT09YS5lbmRCeXRlPyImYnl0ZWVuZD0iK2EuZW5kQnl0ZToiIik7YS5vJiZjJiYoZD1hLm8oZCxjLlFhKXx8ZCk7cmV0dXJuIGR9ZnVuY3Rpb24gdWIoYSl7cmV0dXJuIGNkKGEsYS5jWzBdKX1uLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY1swXS50b1N0cmluZygpfTtmdW5jdGlvbiBkZChhLGIsYyxkKXt0aGlzLmE9bmV3IHRiO2I9bnVsbCE9Yj9iOmlhO3RoaXMuYS5yZXNwb25zZVR5cGU9InRleHQiO3RoaXMuYS5OYT0zO3RoaXMuYS5iPTFFMypiO2MmJih0aGlzLmEuYT1jKTtkJiYodGhpcy5hLmRhPWQpO3RoaXMuYS5nPSEwO3RoaXMuYS53aXRoQ3JlZGVudGlhbHM9dGhpcy5hLmYudGVzdChhKTt0aGlzLmI9YX0KZnVuY3Rpb24gZWQoYSxiKXt2YXIgYz1hLmIsZD1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImRldGVjdF9saXZlX3N0cmVhbV9lbmRlZF9mcm9tX3Jlc3BvbnNlX2hlYWRlcnMiLCExKTtjLncoZCk7cmV0dXJuIGMuZmV0Y2goYS5hLG51bGwsYixudWxsLG51bGwsIm1hbmlmZXN0IikudGhlbihmdW5jdGlvbihhKXthIGluc3RhbmNlb2YgQXJyYXlCdWZmZXImJihhPVN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCxuZXcgVWludDhBcnJheShhKSkpO3ZhciBmPWQmJiEhYy5tLGc7YiYmKGc9Yi5nZXRPcGVyYXRpb25Mb2dnZXIoInBhcnNlX21hbmlmZXN0Iikuc3RhcnQoKSk7YT1lYyhhLGMuYyxbYy5pXSk7ZyYmZy5sb2coKTthJiYiZHluYW1pYyI9PT1hLnR5cGUmJmYmJihhLnR5cGU9InN0YXRpYyIsYiYmQmFuemFpT0RTLmJ1bXBFbnRpdHlLZXkoMjk2NiwidmlkZW9zLnd3dy5zaGFrYSIsImNoYW5nZWRfbWFuaWZlc3RfdG9fZHluYW1pY19vZmZfaGVhZGVycyIpKTsKaWYoYSlyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGEpO2Y9RXJyb3IoIk1QRCBwYXJzZSBmYWlsdXJlLiIpO2YudHlwZT0iZGFzaCI7cmV0dXJuIFByb21pc2UucmVqZWN0KGYpfSl9ZnVuY3Rpb24gZmQoYSl7dGhpcy5hPW51bGw7dGhpcy5oPWE7dGhpcy5jPXRoaXMuZz10aGlzLmY9bnVsbDt0aGlzLmk9ITE7dGhpcy5qPXRoaXMuYj1udWxsfTtmdW5jdGlvbiBnZChhLGIpe3RoaXMuYT1hO3RoaXMuYj1ifHxudWxsfWdkLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5hJiYodGhpcy5hLkthKCksdGhpcy5hPW51bGwpO3RoaXMuYj1udWxsfTtnZC5wcm90b3R5cGUuY3JlYXRlPWZ1bmN0aW9uKGEsYil7dmFyIGM9bnVsbDtiJiYoYz1uZXcgdGIsYy5kYT1iKTtyZXR1cm4hdGhpcy5iJiZ0aGlzLmE/dGhpcy5hLmZldGNoKGMsbnVsbCxhLG51bGwsbnVsbCwiaW5pdCIpOlByb21pc2UucmVzb2x2ZSh0aGlzLmIpfTtnZC5wcm90b3R5cGUuYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmF9O2dkLnByb3RvdHlwZS5nZXRGYWlsb3ZlclVyaT1nZC5wcm90b3R5cGUuYztmdW5jdGlvbiBoZChhLGIpe3RoaXMuc2VnbWVudE9yaWdpbmFsRW5kVGltZT1hO3RoaXMuZ2FwRGlzdGFuY2U9Yn1mdW5jdGlvbiBpZChhLGIsYyxkLGUsZixnKXt0aGlzLnN0YXJ0VGltZT1hO3RoaXMuZW5kVGltZT1iO3RoaXMudXJsPWM7dGhpcy51bnNjYWxlZFN0YXJ0VGltZT1kO3RoaXMudW5zY2FsZWREdXJhdGlvbj1lO3RoaXMudGltZXNjYWxlZEdhcEluZm89Znx8bnVsbDt0aGlzLmlzUHJlZGljdGl2ZT1nfHwhMTt0aGlzLmRlYnVnSW5mbz10aGlzLnRpbWVzY2FsZWRHYXBJbmZvP3tlbmRUaW1lOnRoaXMudGltZXNjYWxlZEdhcEluZm8uc2VnbWVudE9yaWdpbmFsRW5kVGltZSxkZWx0YTp0aGlzLnRpbWVzY2FsZWRHYXBJbmZvLmdhcERpc3RhbmNlfTpudWxsfWZ1bmN0aW9uIGpkKGEsYixjKXtyZXR1cm4gbmV3IGlkKGIsYyxhLnVybCxhLnVuc2NhbGVkU3RhcnRUaW1lLGEudW5zY2FsZWREdXJhdGlvbixhLnRpbWVzY2FsZWRHYXBJbmZvLGEuaXNQcmVkaWN0aXZlKX0KZnVuY3Rpb24geWIoYSxiKXtpZihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInVzZV9iaW5hcnlfc2VhcmNoX3doZW5fZmluZGluZ19zZWdtZW50X3JlZmVyZW5jZXMiLCExKSlyZXR1cm4gQmluYXJ5U2VhcmNoLmZpbmRJbmRleEluQXJyYXkoYSxiLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGI+PWEuc3RhcnRUaW1lJiYobnVsbD09YS5lbmRUaW1lfHxiPGEuZW5kVGltZSk/MDphLnN0YXJ0VGltZS1ifSk7Zm9yKHZhciBjPWEubGVuZ3RoLTE7MDw9YzstLWMpe3ZhciBkPWFbY107aWYoYj49ZC5zdGFydFRpbWUmJihudWxsPT1kLmVuZFRpbWV8fGI8ZC5lbmRUaW1lKSlyZXR1cm4gY31yZXR1cm4tMX1mdW5jdGlvbiBrZChhLGIpe3JldHVybiBhLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gamQoYSxhLnN0YXJ0VGltZStiLG51bGwhPWEuZW5kVGltZT9hLmVuZFRpbWUrYjpudWxsKX0pfTtmdW5jdGlvbiBsZChhLGIsYyxkKXtmb3IodmFyIGU9Yi5hLGY9W10sZz0wO2c8ZDsrK2cpe3ZhciBoPWcrYyxrPShoLTEpKmUuSCxsPWsvZS5zLG09KGsrZS5IKS9lLnMsaD1tZChhLGIsZS5iK2gtMSxrKTtpZighaClyZXR1cm4gbnVsbDtmLnB1c2gobmV3IGlkKGwsbSxoLGssZS5IfHwwKSl9cmV0dXJuIGZ9ZnVuY3Rpb24gbWQoYSxiLGMsZCxlLGYpe2lmKCFiLmEpcmV0dXJuIG51bGw7ZT1lfHwhMTt2YXIgZz1iLmEuZixoPWIuYS5DLmE7aWYoIWcpcmV0dXJuIGIuYmFzZVVybD9uZXcgSyhhLGIuYmFzZVVybCwwLG51bGwsdm9pZCAwLGYpOm51bGw7Yz1uZChlJiZoP2g6ZyxiLmlkLGMsYi5iYW5kd2lkdGgsZCk7aWYoIWMpcmV0dXJuIG51bGw7Yj1aYyhiLmJhc2VVcmwsYyk7cmV0dXJuIG5ldyBLKGEsYiwwLG51bGwsZSxmKX0KZnVuY3Rpb24gbmQoYSxiLGMsZCxlKXt2YXIgZj17UmVwcmVzZW50YXRpb25JRDpiLE51bWJlcjpjLEJhbmR3aWR0aDpkLFRpbWU6ZX07YT1hLnJlcGxhY2UoL1wkKFJlcHJlc2VudGF0aW9uSUR8TnVtYmVyfEJhbmR3aWR0aHxUaW1lKT8oPzolMChbMC05XSspZCk/XCQvZyxmdW5jdGlvbihhLGIsYyl7aWYoIiQkIj09YSlyZXR1cm4iJCI7dmFyIGQ9ZltiXTtpZihudWxsPT1kKXJldHVybiBhOyJSZXByZXNlbnRhdGlvbklEIj09YiYmYyYmKGM9dm9pZCAwKTthPWQudG9TdHJpbmcoKTtjPXdpbmRvdy5wYXJzZUludChjLDEwKXx8MTtjPU1hdGgubWF4KDAsYy1hLmxlbmd0aCk7cmV0dXJuIEFycmF5KGMrMSkuam9pbigiMCIpK2F9KTt0cnl7cmV0dXJuIG5ldyBMKGEpfWNhdGNoKGcpe2lmKGcgaW5zdGFuY2VvZiBVUklFcnJvcilyZXR1cm4gbnVsbDt0aHJvdyBnO319CmZ1bmN0aW9uIG9kKGEsYixjLGQsZSxmKXt2YXIgZz0wLGg9YypiO2M9YS5OO3ZhciBrPWR8fDA7ZD1bXTt2YXIgbD1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigibGl2ZV9yZXdpbmRfdGVtcGxhdGVkX2xhc3RfeF9zZWdtZW50c19vbmx5IiwwKSxtPVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgidGVtcGxhdGVkX2xhc3RfeF90aW1lbGluZSIsITEpJiZlJiZudWxsIT1mLHA9ZSYmbT9WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigidGVtcGxhdGVkX2luZ2VzdF90aHJvdHRsZSIsMCk6MDtpZihsfHxtKXtmb3IoZT0wO2U8Yy5sZW5ndGg7KytlKXtpZighY1tlXS5kdXJhdGlvbilyZXR1cm4gZDt2YXIgdD1jW2VdLnN0YXJ0VGltZSx0PW51bGwhPXQ/dDpnLHc9Y1tlXS5yZXBlYXR8fDA7aWYoMD53KWlmKHc9Y1tlXS5kdXJhdGlvbixlKzE9PT1jLmxlbmd0aCl2YXIgej1jWzBdLnN0YXJ0VGltZStoLXQsdz1NYXRoLmNlaWwoei8KdyktMTtlbHNlIHo9Y1tlKzFdLnN0YXJ0VGltZSx3PU1hdGguY2VpbCgoei10KS93KS0xO2NbZV0uc3RhcnRUaW1lPXQ7Y1tlXS5yZXBlYXQ9dztnPWNbZV0uc3RhcnRUaW1lK2NbZV0uZHVyYXRpb24qKGNbZV0ucmVwZWF0KzEpfWZvcihlPWMubGVuZ3RoLTE7LTE8ZTstLWUpZm9yKHZhciBIPTA7SDw9Y1tlXS5yZXBlYXQ7KytIKWlmKHQ9Y1tlXS5zdGFydFRpbWUrY1tlXS5kdXJhdGlvbiooY1tlXS5yZXBlYXQtSCksZz10K2NbZV0uZHVyYXRpb24sYT1udWxsLGQubGVuZ3RoJiZnIT1kW2QubGVuZ3RoLTFdLnN0YXJ0JiYoej1kW2QubGVuZ3RoLTFdLnN0YXJ0LWcsYT1uZXcgaGQoZy9iLHovYiksZz1kW2QubGVuZ3RoLTFdLnN0YXJ0KSxkLnB1c2goe3N0YXJ0OnQsZW5kOmd9KSxhJiYoZFtkLmxlbmd0aC0xXS50aW1lc2NhbGVkR2FwSW5mbz1hKSxsKXtpZihkLmxlbmd0aD09PWwpcmV0dXJuIGQ9ZC5yZXZlcnNlKCl9ZWxzZSBpZihtJiZkW2QubGVuZ3RoLTFdLnN0YXJ0PD1mKXJldHVybiBkLnBvcCgpLApkPWQucmV2ZXJzZSgpLDA8cCYmKGQ9ZC5zbGljZSgwLHApKSxkO3JldHVybiBkLnJldmVyc2UoKX1mb3IoZT0wO2U8Yy5sZW5ndGg7KytlKXtpZighY1tlXS5kdXJhdGlvbilyZXR1cm4gZDt0PWNbZV0uc3RhcnRUaW1lO3Q9bnVsbCE9dD90Omc7dz1jW2VdLnJlcGVhdHx8MDswPncmJih3PWNbZV0uZHVyYXRpb24sZSsxPT09Yy5sZW5ndGg/KHo9Y1swXS5zdGFydFRpbWUraC10LHc9TWF0aC5jZWlsKHovdyktMSk6KHo9Y1tlKzFdLnN0YXJ0VGltZSx3PU1hdGguY2VpbCgoei10KS93KS0xKSk7MDxkLmxlbmd0aCYmdCE9ZyYmKHo9dC1nLGY9ZFtkLmxlbmd0aC0xXSxmLnRpbWVzY2FsZWRHYXBJbmZvPW5ldyBoZChnL2Isei9iKSxmLmVuZD10KTtmb3IoSD0wO0g8PXc7KytIKWc9dCtjW2VdLmR1cmF0aW9uLGQucHVzaCh7c3RhcnQ6dCxlbmQ6Z30pLHQ9Z31pZihhLmEmJjA8Yy5sZW5ndGgpZm9yKGI9Y1swXS5kdXJhdGlvbixmPTA7ZjxrO2YrKylkLnB1c2goe3N0YXJ0OnQrZipiLGVuZDp0KwooZisxKSpiLHVkOmEuYitmfSk7cmV0dXJuIGR9O2Z1bmN0aW9uIHBkKGEsYixjLGQsZSl7dGhpcy53PWE7dGhpcy5tPWI7dGhpcy5jPWM7dGhpcy5XPTA7dGhpcy5CPSEwO3RoaXMucz1jLnN8fDA7dGhpcy5BPSExO3RoaXMuZz1udWxsO3RoaXMudT1kO3RoaXMuaj1jLkx8fDA7dGhpcy5iPTA7dGhpcy5pPXRoaXMuaD1udWxsO2E6e2I9Yy5DO3ZhciBmPTA7YT0oYS5kdXJhdGlvbnx8MCkqdGhpcy5zO2M9Yi5OO2ZvcihkPTA7ZDxjLmxlbmd0aDsrK2Qpe2lmKCFjW2RdLmR1cmF0aW9uKXtiLk49Yy5zbGljZSgwLGQpO2JyZWFrIGF9dmFyIGc9Y1tkXS5zdGFydFRpbWUsZj1udWxsIT1nP2c6ZixnPWNbZF0ucmVwZWF0fHwwOzA+ZyYmKGc9Y1tkXS5kdXJhdGlvbixnPWQrMT09PWMubGVuZ3RoP01hdGguY2VpbCgoY1swXS5zdGFydFRpbWUrYS1mKS9nKS0xOk1hdGguY2VpbCgoY1tkKzFdLnN0YXJ0VGltZS1mKS9nKS0xKTtjW2RdLnN0YXJ0VGltZT1mO2NbZF0ucmVwZWF0PWc7Zj1jW2RdLnN0YXJ0VGltZStjW2RdLmR1cmF0aW9uKihjW2RdLnJlcGVhdCsKMSl9fXRoaXMuZj1bXTt0aGlzLm89VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoInRpbWVsaW5lX3NlZ21lbnRfaW5kZXhfbWF4X2luZGV4X2NhY2hlX2xlbmd0aCIsMCk7dGhpcy5iPVNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscy5sZW5ndGgodGhpcy5jLkMuTik7dGhpcy5EPWV8fG51bGx9cGQucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmI9dGhpcy5jPXRoaXMubT10aGlzLnc9bnVsbDt0aGlzLmc9ZnVuY3Rpb24oKXt9O3RoaXMuZj10aGlzLnU9bnVsbH07cGQucHJvdG90eXBlLmxlbmd0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmJ9O2Z1bmN0aW9uIHFkKGEsYil7Zm9yKHZhciBjPWEuZi5sZW5ndGgtMTstMTxjO2MtLSlpZihhLmZbY10uaW5kZXg9PT1iKXt2YXIgZD1hLmZbY107YS5mLnNwbGljZShjLDEpO2EuZi5wdXNoKGQpO3JldHVybiBkLnhkfXJldHVybiBudWxsfQpmdW5jdGlvbiByZChhLGIsYyl7dmFyIGQ9W107aWYoYS5vJiYxPT09Yy1iKXt2YXIgZT1xZChhLGIpO2lmKGUpcmV0dXJuW2VdfXZhciBmPS1hLmovYS5zK2EuVztTaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMuZ2V0U2VnbWVudHMoYixjLGEuYy5DLk4sZnVuY3Rpb24oYSxlLGssbCxtKXtpZihsKXt2YXIgcD1kW2QubGVuZ3RoLTFdO3AmJihwLnRpbWVzY2FsZWRHYXBJbmZvPW5ldyBoZChtL3RoaXMucyxsL3RoaXMucykscC5kZWJ1Z0luZm89e2VuZFRpbWU6cC50aW1lc2NhbGVkR2FwSW5mby5zZWdtZW50T3JpZ2luYWxFbmRUaW1lLGRlbHRhOnAudGltZXNjYWxlZEdhcEluZm8uZ2FwRGlzdGFuY2V9LGRbZC5sZW5ndGgtMV09amQocCxwLnN0YXJ0VGltZSxhL3RoaXMucytmKSl9az1tZCh0aGlzLnUsdGhpcy5tLGsrdGhpcy5jLmIsYSx2b2lkIDAsdGhpcy5EKTtpZighayl0aHJvdyBhPUVycm9yKCJGYWlsZWQgdG8gZ2VuZXJhdGUgbWVkaWEgVVJMLiIpLGEudHlwZT0iZGFzaCIsCmE7YT1uZXcgaWQoYS90aGlzLnMrZixlL3RoaXMucytmLGssYSxlLWEsbnVsbCk7ZT1iK2QubGVuZ3RoO2QucHVzaChhKTshdGhpcy5vfHwwIT09ZSYmZSE9PXRoaXMuYi0xJiYxIT09Yy1ifHxxZCh0aGlzLGUpfHwodGhpcy5mLmxlbmd0aCsxPnRoaXMubyYmdGhpcy5mLnNoaWZ0KCksdGhpcy5mLnB1c2goe2luZGV4OmUseGQ6YX0pKX0uYmluZChhKSk7cmV0dXJuIGR9CmZ1bmN0aW9uIHNkKGEsYil7dmFyIGM9Yi51bnNjYWxlZFN0YXJ0VGltZSxkPWIudW5zY2FsZWRFbmRUaW1lLGU9Yi5kZWx0YSxmPWIucHJldmlvdXNFbmRUaW1lO2lmKGUpdmFyIGc9bmV3IGhkKGYvYS5zLGUvYS5zKTtlPW1kKGEudSxhLm0sYi5zZWdtZW50UmVwbGFjZW1lbnQrYS5jLmIsYyx2b2lkIDAsYS5EKTtpZighZSl0aHJvdyBjPUVycm9yKCJGYWlsZWQgdG8gZ2VuZXJhdGUgbWVkaWEgVVJMLiIpLGMudHlwZT0iZGFzaCIsYztmPS1hLmovYS5zK2EuVztyZXR1cm4gbmV3IGlkKGMvYS5zK2YsZC9hLnMrZixlLGMsZC1jLGd8fG51bGwpfXBkLnByb3RvdHlwZS5nZXRTZWdtZW50cz1mdW5jdGlvbigpe3JldHVybiByZCh0aGlzLDAsdGhpcy5iKXx8W119OwpwZC5wcm90b3R5cGUuZmlyc3Q9ZnVuY3Rpb24oKXtpZighdGhpcy5iKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbmRleCBvdXQgb2YgcmFuZ2UuIik7aWYoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJvcHRpbWl6ZV9jb21tb25fc2VnbWVudF9nZW5lcmF0aW9ucyIsITEpKXtpZih0aGlzLmgpcmV0dXJuIHRoaXMuaDt2YXIgYT1TaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMuZmlyc3QodGhpcy5jLkMuTix0aGlzLmIpO3JldHVybiB0aGlzLmg9c2QodGhpcyxhKX1yZXR1cm4gcmQodGhpcywwLDEpWzBdfTsKcGQucHJvdG90eXBlLmxhc3Q9ZnVuY3Rpb24oKXtpZighdGhpcy5iKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbmRleCBvdXQgb2YgcmFuZ2UuIik7aWYoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJvcHRpbWl6ZV9jb21tb25fc2VnbWVudF9nZW5lcmF0aW9ucyIsITEpKXtpZih0aGlzLmkpcmV0dXJuIHRoaXMuaTt2YXIgYT1TaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMubGFzdCh0aGlzLmMuQy5OLHRoaXMuYik7cmV0dXJuIHRoaXMuaT1zZCh0aGlzLGEpfXJldHVybiByZCh0aGlzLHRoaXMuYi0xLHRoaXMuYilbMF19OwpwZC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGEpe2lmKCF0aGlzLmJ8fDA+YXx8YT49dGhpcy5iKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbmRleCBvdXQgb2YgcmFuZ2UuIik7cmV0dXJuIFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgib3B0aW1pemVfY29tbW9uX3NlZ21lbnRfZ2VuZXJhdGlvbnMiLCExKT8oYT1TaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMuZ2V0KHRoaXMuYy5DLk4sYSx0aGlzLmIpLHNkKHRoaXMsYSkpOnJkKHRoaXMsYSxhKzEpWzBdfTsKcGQucHJvdG90eXBlLmZpbmQ9ZnVuY3Rpb24oYSl7aWYoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJmaXhfY29tcG9zaXRlZF90aW1lX2luZGV4X2NhbGxzIiwhMSkpcmV0dXJuKGE9U2hha2FUaW1lbGluZVNlZ21lbnRJbmRleFV0aWxzLmZpbmQoYSx0aGlzLmMuQy5OLHRoaXMucywtdGhpcy5qL3RoaXMucyt0aGlzLlcpKT9zZCh0aGlzLGEpOm51bGw7YT10aGlzLmZpbmRJbmRleChhKTtyZXR1cm4gVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJvcHRpbWl6ZV9jb21tb25fc2VnbWVudF9nZW5lcmF0aW9ucyIsITEpPzA8PWE/dGhpcy5nZXQoYSk6bnVsbDowPD1hP3JkKHRoaXMsYSxhKzEpWzBdOm51bGx9O3BkLnByb3RvdHlwZS5maW5kSW5kZXg9ZnVuY3Rpb24oYSl7cmV0dXJuIFNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscy5maW5kSW5kZXgoYSx0aGlzLmMuQy5OLHRoaXMucywtdGhpcy5qL3RoaXMucyt0aGlzLlcpfTtuPXBkLnByb3RvdHlwZTsKbi5TYT1mdW5jdGlvbihhKXt2YXIgYj1hLmxlbmd0aCgpLGM9Yi10aGlzLmI7aWYoMCE9PWImJihiIT09dGhpcy5ifHwwIT09dGhpcy5iJiZhLmxhc3QoKS5lbmRUaW1lIT09dGhpcy5sYXN0KCkuZW5kVGltZSkmJiEoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJmaXhfaW50ZWdyYXRpb25fb25fZWFybGllcl9lbmR0aW1lIiwhMSkmJmEubGFzdCgpLmVuZFRpbWU8PXRoaXMubGFzdCgpLmVuZFRpbWUpKWlmKHRoaXMuQT0hMSxiPWEubGFzdCgpLG51bGwhPWIuZW5kVGltZSYmYi5lbmRUaW1lPHRoaXMubGFzdCgpLmVuZFRpbWUmJmIuZW5kVGltZTx0aGlzLmZpcnN0KCkuc3RhcnRUaW1lJiYodGhpcy5BPSEwKSxWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImludGVncmF0ZV9zZWdtZW50X3RpbWVsaW5lX3RpbWVfcG9pbnRzIiwhMSk/dGhpcy5jLkMuTj1TaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMuaW50ZWdyYXRlVGltZVBvaW50cyh0aGlzLmMuQy5OLAphLmMuQy5OKToodGhpcy53PWEudyx0aGlzLm09YS5tLHRoaXMuYz1hLmMsdGhpcy5qPXRoaXMuYy5MfHwwLHRoaXMucz10aGlzLmMuc3x8MCksdGhpcy5mPVtdLHRoaXMuaT10aGlzLmg9bnVsbCx0aGlzLmI9U2hha2FUaW1lbGluZVNlZ21lbnRJbmRleFV0aWxzLmxlbmd0aCh0aGlzLmMuQy5OKSx0aGlzLmZpcnN0KCksdGhpcy5sYXN0KCksVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJ0ZW1wbGF0ZWRfY2FsbF9vbl9zZWdtZW50c191cGRhdGVkX3dpdGhfZGVsdGFfc2VnbWVudHMiLCExKSl7dmFyIGQ9W10sYz10aGlzLmItYztmb3IoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJ0ZW1wbGF0ZWRfZHluYW1pY19pbmNsdWRlX3ByZXZpb3VzX2xhc3Rfc2VnbWVudF9pbl91cGRhdGVzIiwhMSkmJjA8YyYmYy0tO2M8dGhpcy5iOysrYylkLnB1c2godGhpcy5nZXQoYykpO3RoaXMuZyYmdGhpcy5nKGQpfWVsc2UgYz0hVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJub19wcm92aWRlX3NlZ21lbnRzX3RvX29uX3NlZ21lbnRzX3VwZGF0ZWRfbGlzdGVuZXJzIiwKITEpLHRoaXMuZyYmKGMmJihkPXRoaXMuZ2V0U2VnbWVudHMoKSksdGhpcy5nKGQpKX07bi5oYj1mdW5jdGlvbihhKXt2YXIgYj1hLXRoaXMuVztpZigwPT1iKXJldHVybiAwO3RoaXMuVz1hO3RoaXMuaT10aGlzLmg9bnVsbDt0aGlzLmY9W107cmV0dXJuIGJ9O24uaWI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iP3tzdGFydDp0aGlzLmZpcnN0KCkuc3RhcnRUaW1lLGVuZDp0aGlzLmxhc3QoKS5lbmRUaW1lfTp7c3RhcnQ6MCxlbmQ6MH19O24uZ2V0U2Vla1JhbmdlR2Fwcz1mdW5jdGlvbigpe3JldHVybiBTaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMuZ2V0U2Vla1JhbmdlR2Fwcyh0aGlzLmMuQy5OLHRoaXMucywtdGhpcy5qL3RoaXMucyt0aGlzLlcpfTtuLnJiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuQX07bi5HYz1mdW5jdGlvbihhKXt0aGlzLmc9YX07bi5GYz1mdW5jdGlvbigpe3RoaXMuZz1udWxsfTtuLklhPWZ1bmN0aW9uKCl7fTtmdW5jdGlvbiB0ZCgpe30KdGQucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9bnVsbDt0cnl7YTp7dmFyIGc9W10saD1uZXcgQmEoYSksaz12KGgpO2lmKDE5MzYyODY4NDAhPXYoaCkpZj1udWxsO2Vsc2V7MT09ayYmKGs9RmEoaCkpO3ZhciBsPUVhKGgpO0hhKGgsMyk7SGEoaCw0KTt2YXIgbT12KGgpO2lmKDA9PW0pZj1udWxsO2Vsc2V7dmFyIHAsdDswPT1sPyhwPXYoaCksdD12KGgpKToocD1GYShoKSx0PUZhKGgpKTtIYShoLDIpO3ZhciB3PWguYi5nZXRVaW50MTYoaC5hLGguYyk7aC5hKz0yO2E9cDtiPWIrayt0O2Zvcih0PWs9MDt0PHc7dCsrKXt2YXIgej12KGgpO3A9KHomMjE0NzQ4MzY0OCk+Pj4zMTt2YXIgbD16JjIxNDc0ODM2NDcsSD12KGgpO3YoaCk7aWYoMT09cCl7Zj1udWxsO2JyZWFrIGF9dmFyIGRhO2RhPTA9PXQmJmU/ZTpuZXcgSyhkLGMsYixiK2wtMSk7cD1hL207dmFyIGVhPShhK0gpL207MD09PXQmJihrPXApO2cucHVzaChuZXcgaWQocC1rLGVhLWssZGEsCmEsSCkpO2ErPUg7Yis9bH1nLnM9bTtmPWd9fX19Y2F0Y2goQWEpe2lmKCEoQWEgaW5zdGFuY2VvZiBSYW5nZUVycm9yKSl0aHJvdyBBYTt9cmV0dXJuIGZ9O2Z1bmN0aW9uIFIoYSl7dGhpcy5hPWE7dGhpcy5zPXRoaXMuYS5zO3RoaXMuSz10aGlzLmEuQjt0aGlzLmc9W119Ui5wcm90b3R5cGUuSj1mdW5jdGlvbigpe3JldHVybiEhdGhpcy5nW3RoaXMuZy5sZW5ndGgtMV19O1IucHJvdG90eXBlLmxhc3RQb2xsSGFkQ2hhbmdlcz1SLnByb3RvdHlwZS5KO1IucHJvdG90eXBlLkk9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmcsYj1hLmxhc3RJbmRleE9mKCEwKTtpZigxPmIpcmV0dXJuIDA7YT1hLmxhc3RJbmRleE9mKCEwLGItMSk7cmV0dXJuIDA+YT8wOmItYS0xfTtSLnByb3RvdHlwZS5nZXRGZXRjaGVzQmV0d2VlblJlY2VudENoYW5nZXM9Ui5wcm90b3R5cGUuSTtSLnByb3RvdHlwZS51PWZ1bmN0aW9uKCl7cmV0dXJuIE1hdGguZmxvb3IoKHRoaXMuZy5sZW5ndGgtMS10aGlzLmcubGFzdEluZGV4T2YoITApKS8yKX07Ui5wcm90b3R5cGUuZ2V0Q29uc2VjdXRpdmVVcGRhdGVzV2l0aG91dENoYW5nZXM9Ui5wcm90b3R5cGUudTsKUi5wcm90b3R5cGUuRz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmcubGVuZ3RoLTEtdGhpcy5nLmxhc3RJbmRleE9mKCExKX07Ui5wcm90b3R5cGUuZ2V0Q29uc2VjdXRpdmVVcGRhdGVzV2l0aENoYW5nZXM9Ui5wcm90b3R5cGUuRztSLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5hLmRlc3Ryb3koKTt0aGlzLmE9bnVsbH07Ui5wcm90b3R5cGUubGVuZ3RoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS5sZW5ndGgoKX07Ui5wcm90b3R5cGUuZ2V0U2VnbWVudHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLmdldFNlZ21lbnRzKCl9O1IucHJvdG90eXBlLmdldFNlZ21lbnRzPVIucHJvdG90eXBlLmdldFNlZ21lbnRzO1IucHJvdG90eXBlLmZpcnN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS5maXJzdCgpfTtSLnByb3RvdHlwZS5sYXN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS5sYXN0KCl9O1IucHJvdG90eXBlLmxhc3Q9Ui5wcm90b3R5cGUubGFzdDsKUi5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmEuZ2V0KGEpfTtSLnByb3RvdHlwZS5maW5kPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmEuZmluZChhKX07Ui5wcm90b3R5cGUuZmluZEluZGV4PWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmEuZmluZEluZGV4KGEpfTtSLnByb3RvdHlwZS5CPWZ1bmN0aW9uKGEpe3RoaXMuYS5TYShhLmEpO3JldHVybiEwfTtSLnByb3RvdHlwZS5UYT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5hLmhiKGEpfTtSLnByb3RvdHlwZS5BPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS5pYigpfTtSLnByb3RvdHlwZS5nZXRTZWVrUmFuZ2VHYXBzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS5nZXRTZWVrUmFuZ2VHYXBzKCl9O1IucHJvdG90eXBlLmdldFNlZWtSYW5nZUdhcHM9Ui5wcm90b3R5cGUuZ2V0U2Vla1JhbmdlR2FwcztSLnByb3RvdHlwZS5yYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmEucmIoKX07CmZ1bmN0aW9uIHVkKGEsYil7YS5hLkdjKGIpfTtmdW5jdGlvbiBTKGEsYixjLGQpe1IuY2FsbCh0aGlzLGEpO3RoaXMuaT1iO3RoaXMuRj1jO3RoaXMuaD1kO3RoaXMuZHVyYXRpb249dGhpcy5pLmJ8fHRoaXMuaS5hLnJlZHVjZShmdW5jdGlvbihhLGIpe3JldHVybiBudWxsPT1iLmR1cmF0aW9uP05hTjphK2IuZHVyYXRpb259LDApfHwwO3RoaXMuYj10aGlzLm89dGhpcy5mPW51bGw7eWQodGhpcyl9cihTLFIpO1MucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLkY9dGhpcy5pPW51bGw7Ui5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpfTtTLnByb3RvdHlwZS5maW5kPWZ1bmN0aW9uKGEpe3pkKHRoaXMseWEoKS8xRTMpO3JldHVybiBSLnByb3RvdHlwZS5maW5kLmNhbGwodGhpcyxhKX07ClMucHJvdG90eXBlLkI9ZnVuY3Rpb24oYSl7aWYoIShhIGluc3RhbmNlb2YgUykpcmV0dXJuITE7dGhpcy5hLlNhKGEuYSk7dGhpcy5kdXJhdGlvbj1NYXRoLm1heCh0aGlzLmR1cmF0aW9uLGEuZHVyYXRpb24pO251bGw9PXRoaXMuZj8odGhpcy5oPWEuaCx5ZCh0aGlzKSk6QWQodGhpcyk7cmV0dXJuITB9O2Z1bmN0aW9uIHlkKGEpe0FkKGEpO2lmKDAhPWEubGVuZ3RoKCkpe2EubGVuZ3RoKCk7dmFyIGI9bnVsbCE9YS5sYXN0KCkuZW5kVGltZT9hLmxhc3QoKS5lbmRUaW1lOmEubGFzdCgpLnN0YXJ0VGltZTtpZihhLmkuYz5hLmgpYS5mPWI7ZWxzZXt2YXIgYz1hLmgtKGEuaS5jK2EuRi5zdGFydCk7MD5jP2EuZj1iOmM8TWF0aC5tYXgoYS5sYXN0KCkuc3RhcnRUaW1lLGEubGFzdCgpLmVuZFRpbWV8fDApPyhhLmxhc3QoKSxhLmY9Yik6YS5mPWN9YS5vPWEubGFzdCgpLnN0YXJ0VGltZTthLmI9YS5maXJzdCgpLnN0YXJ0VGltZX19ClMucHJvdG90eXBlLlRhPWZ1bmN0aW9uKGEpe2E9Ui5wcm90b3R5cGUuVGEuY2FsbCh0aGlzLGEpO1ZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgibm9fY29ycmVjdF9kZWx0YV93YXJuaW5nIiwhMSl8fE1hdGgubWluLmFwcGx5KG51bGwsdGhpcy5nZXRTZWdtZW50cygpLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YS5lbmRUaW1lfSkubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLmVuZFRpbWUtYS5zdGFydFRpbWV9KSk7bnVsbCE9dGhpcy5mJiYodGhpcy5vKz1hLHRoaXMuYis9YSx0aGlzLmYrPWEpO3JldHVybiBhfTtTLnByb3RvdHlwZS5BPWZ1bmN0aW9uKCl7cmV0dXJuIEJkKHRoaXMseWEoKS8xRTMpfTsKZnVuY3Rpb24gQmQoYSxiKXt6ZChhLGIpO2lmKG51bGw9PWEuZnx8bnVsbD09YS5vfHxudWxsPT1hLmIpcmV0dXJue3N0YXJ0OjAsZW5kOjB9O3ZhciBjPU51bWJlci5QT1NJVElWRV9JTkZJTklUWTthLmR1cmF0aW9uJiYoYz1hLmR1cmF0aW9uKTt2YXIgZD1iLWEuaCxlPWEuZitkO251bGwhPWEuaS5mJiYoZT1lLWEuYi1hLmkuZiwwPGUmJihhLmIrPWUpKTthLmI9TWF0aC5taW4oYS5iLGMpO2Q9YS5vK2Q7aWYoZDxhLmIpcmV0dXJue3N0YXJ0OmEuYixlbmQ6YS5ifTtkPTA8YS5sZW5ndGgoKT9udWxsIT1hLmxhc3QoKS5lbmRUaW1lP01hdGgubWluKGQsYS5sYXN0KCkuZW5kVGltZSk6ZDphLmI7ZD1NYXRoLm1heChkLGEuYik7ZD1NYXRoLm1pbihkLGMpO3JldHVybntzdGFydDphLmIsZW5kOmR9fQpmdW5jdGlvbiB6ZChhLGIpe2lmKGEuYS5hJiYoQWQoYSksbnVsbCE9YS5pLmYpKWlmKG51bGw9PWEuZilhLmxlbmd0aCgpO2Vsc2V7Zm9yKHZhciBjPWEuZisoYi1hLmgpLGQ9MCxlPTA7ZTxhLmEuYS5sZW5ndGg7KytlKXt2YXIgZj1udWxsO2U8YS5hLmEubGVuZ3RoLTE/Zj1hLmEuYVtlKzFdLmVuZFRpbWU6KGY9YS5hLmFbZV0sZj1udWxsIT1mLmVuZFRpbWU/Zi5lbmRUaW1lKyhmLmVuZFRpbWUtZi5zdGFydFRpbWUpOm51bGwpO2lmKG51bGwhPWYmJmY8Yy1hLmkuZikrK2Q7ZWxzZSBicmVha30wPGQmJmEuYS5hLnNwbGljZSgwLGQpfX1mdW5jdGlvbiBBZChhKXtpZihhLmR1cmF0aW9uJiZhLmEuYSl7Zm9yKHZhciBiPTAsYz1hLmEuYS5sZW5ndGgtMTswPD1jOy0tYylpZihhLmEuYVtjXS5zdGFydFRpbWU+YS5kdXJhdGlvbikrK2I7ZWxzZSBicmVhazswPGImJmEuYS5hLnNwbGljZSgtYil9fTtmdW5jdGlvbiBUKGEsYixjKXt2YXIgZD1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigidGVtcGxhdGVkX3F1YXJhbnRpbmVfaWRsZV9yZWZlcmVuY2VzX3RocmVzaG9sZCIsMCk7dGhpcy5pPVtdO2lmKDA8ZCl7dmFyIGU9YTthPWUuc3BsaWNlKC1kKTt0aGlzLmk9ZX10aGlzLmE9YTt0aGlzLlc9MDt0aGlzLnM9Yjt0aGlzLmY9ITE7dGhpcy5oPWZ1bmN0aW9uKCl7fTt0aGlzLkI9Y3x8ITF9VC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuYT1udWxsfTtULnByb3RvdHlwZS5sZW5ndGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLmxlbmd0aH07VC5wcm90b3R5cGUuZ2V0U2VnbWVudHM9ZnVuY3Rpb24oKXtyZXR1cm4odGhpcy5hfHxbXSkuc2xpY2UoKX07VC5wcm90b3R5cGUuZ2V0U2VnbWVudHM9VC5wcm90b3R5cGUuZ2V0U2VnbWVudHM7ClQucHJvdG90eXBlLmZpcnN0PWZ1bmN0aW9uKCl7aWYoMD09dGhpcy5hLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiU2VnbWVudEluZGV4QmFzZTogVGhlcmUgaXMgbm8gZmlyc3QgU2VnbWVudFJlZmVyZW5jZS4iKTtyZXR1cm4gdGhpcy5hWzBdfTtULnByb3RvdHlwZS5sYXN0PWZ1bmN0aW9uKCl7aWYoMD09dGhpcy5hLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiU2VnbWVudEluZGV4QmFzZTogVGhlcmUgaXMgbm8gbGFzdCBTZWdtZW50UmVmZXJlbmNlLiIpO3JldHVybiB0aGlzLmFbdGhpcy5hLmxlbmd0aC0xXX07VC5wcm90b3R5cGUubGFzdD1ULnByb3RvdHlwZS5sYXN0O1QucHJvdG90eXBlLmdldD1mdW5jdGlvbihhKXtpZigwPmF8fGE+PXRoaXMuYS5sZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIlNlZ21lbnRJbmRleEJhc2U6IFRoZSBzcGVjaWZpZWQgaW5kZXggaXMgb3V0IG9mIHJhbmdlLiIpO3JldHVybiB0aGlzLmFbYV19OwpULnByb3RvdHlwZS5maW5kPWZ1bmN0aW9uKGEpe2E9dGhpcy5maW5kSW5kZXgoYSk7cmV0dXJuIDA8PWE/dGhpcy5hW2FdOm51bGx9O1QucHJvdG90eXBlLmZpbmRJbmRleD1mdW5jdGlvbihhKXtyZXR1cm4geWIodGhpcy5hLGEpfTsKVC5wcm90b3R5cGUuU2E9ZnVuY3Rpb24oYSl7dGhpcy5XIT1hLlcmJihhPW5ldyBUKGtkKGEuYSx0aGlzLlctYS5XKSxhLnMpKTtpZigwPT10aGlzLmxlbmd0aCgpKXRoaXMuYT1hLmEuc2xpY2UoMCksdGhpcy5JYSgpO2Vsc2UgaWYoMCE9YS5sZW5ndGgoKSYmbnVsbCE9dGhpcy5sYXN0KCkuZW5kVGltZSlpZihudWxsIT1hLmxhc3QoKS5lbmRUaW1lJiZhLmxhc3QoKS5lbmRUaW1lPHRoaXMubGFzdCgpLmVuZFRpbWUpVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJmaXhfbWFuaWZlc3Rfd3JhcHBlZCIsITApP2EubGFzdCgpLmVuZFRpbWU8dGhpcy5maXJzdCgpLnN0YXJ0VGltZSYmKHRoaXMuZj0hMCk6dGhpcy5mPSEwO2Vsc2V7dGhpcy5mPSExO2lmKHRoaXMubGFzdCgpLmVuZFRpbWU8PWEuZmlyc3QoKS5zdGFydFRpbWUpe3ZhciBiPWpkKHRoaXMubGFzdCgpLHRoaXMubGFzdCgpLnN0YXJ0VGltZSxhLmZpcnN0KCkuc3RhcnRUaW1lKSxjPXRoaXMubGFzdCgpLnVuc2NhbGVkU3RhcnRUaW1lKwp0aGlzLmxhc3QoKS51bnNjYWxlZER1cmF0aW9uO1ZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgiY2FsY3VsYXRlX21pc3NlZF9zZWdtZW50X2dhcF9pbmZvX29uX21lcmdlIiwhMSkmJmM8YS5maXJzdCgpLnVuc2NhbGVkU3RhcnRUaW1lJiZudWxsPT09dGhpcy5sYXN0KCkudGltZXNjYWxlZEdhcEluZm8mJihiLnRpbWVzY2FsZWRHYXBJbmZvPW5ldyBoZChjL3RoaXMucywoYS5maXJzdCgpLnVuc2NhbGVkU3RhcnRUaW1lLWMpL3RoaXMucykpO2lmKFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgidGVtcGxhdGVkX29wdGltaXplX21lcmdlX3RhcmdldF9hbGdvcyIsITEpKWZvcih0aGlzLmEucG9wKCksdGhpcy5hLnB1c2goYiksYz0wO2M8YS5hLmxlbmd0aDsrK2MpdGhpcy5hLnB1c2goYS5hW2NdKTtlbHNlIGI9dGhpcy5hLnNsaWNlKDAsLTEpLmNvbmNhdChbYl0pLHRoaXMuYT1iLmNvbmNhdChhLmEpfWVsc2V7Zm9yKGM9MDtjPHRoaXMuYS5sZW5ndGgmJgohKHRoaXMuYVtjXS5lbmRUaW1lPj1hLmZpcnN0KCkuc3RhcnRUaW1lKTsrK2MpO3RoaXMuYVtjXS5zdGFydFRpbWU8YS5maXJzdCgpLnN0YXJ0VGltZT8oYj1qZCh0aGlzLmFbY10sdGhpcy5hW2NdLnN0YXJ0VGltZSxhLmZpcnN0KCkuc3RhcnRUaW1lKSxiPXRoaXMuYS5zbGljZSgwLGMpLmNvbmNhdChbYl0pKToodGhpcy5maXJzdCgpLnN0YXJ0VGltZT5hLmZpcnN0KCkuc3RhcnRUaW1lfHxhLmZpcnN0KCksYj10aGlzLmEuc2xpY2UoMCxjKSk7dGhpcy5hPWIuY29uY2F0KGEuYSl9dGhpcy5oKGEuYSk7dGhpcy5JYSgpfX07VC5wcm90b3R5cGUuaGI9ZnVuY3Rpb24oYSl7dmFyIGI9YS10aGlzLlc7aWYoMD09YilyZXR1cm4gMDt0aGlzLmE9a2QodGhpcy5hLGIpO3RoaXMuSWEoKTt0aGlzLlc9YTtyZXR1cm4gYn07ClQucHJvdG90eXBlLmliPWZ1bmN0aW9uKCl7cmV0dXJuIDA8dGhpcy5sZW5ndGgoKT97c3RhcnQ6dGhpcy5maXJzdCgpLnN0YXJ0VGltZSxlbmQ6dGhpcy5sYXN0KCkuZW5kVGltZX06e3N0YXJ0OjAsZW5kOjB9fTtULnByb3RvdHlwZS5nZXRTZWVrUmFuZ2VHYXBzPWZ1bmN0aW9uKCl7cmV0dXJuIGdldFNlZWtSYW5nZUdhcHNGcm9tU2hha2FSZWZlcmVuY2VzKHRoaXMuYSx0aGlzLnMpfTtULnByb3RvdHlwZS5nZXRTZWVrUmFuZ2VHYXBzPVQucHJvdG90eXBlLmdldFNlZWtSYW5nZUdhcHM7VC5wcm90b3R5cGUucmI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mfTtULnByb3RvdHlwZS5HYz1mdW5jdGlvbihhKXt0aGlzLmg9YX07VC5wcm90b3R5cGUuRmM9ZnVuY3Rpb24oKXt0aGlzLmg9ZnVuY3Rpb24oKXt9fTtULnByb3RvdHlwZS5JYT1mdW5jdGlvbigpe307VC5wcm90b3R5cGUuZ2V0SWRsZVJlZmVyZW5jZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pfTtmdW5jdGlvbiBDZChhLGIsYyxkLGUpe3ZhciBmPTEsZz0wLGg7aWYoYS5jPmQpaD1udWxsO2Vsc2V7dmFyIGs9YS5vfHwwLGw9YS5mfHwwO2g9Yy5hO2g9aC5IL2guczt2YXIgbT1kLShhLmMrYi5zdGFydCk7MD5tP2g9bnVsbDoobD1tLTIqaC1sLDA+bCYmKGw9MCksbD1NYXRoLmNlaWwobC9oKSpoLG0tPWgsMD5tP2g9bnVsbDooaz1NYXRoLmZsb29yKG0vaCkqaC1rLDA+ayYmKGs9MCksaz1NYXRoLmZsb29yKGsvaCkqaCxoPXt0YzpsL2grMSxjdXJyZW50OihrPj1sP2s6bCkvaCsxfSkpfWgmJihmPWgudGMsZz1oLmN1cnJlbnQtaC50YysxKTtmPWxkKGUsYyxmLGcpO2lmKG51bGw9PWYpdGhyb3cgYT1FcnJvcigiRmFpbGVkIHRvIGdlbmVyYXRlIFNlZ21lbnRSZWZlcmVuY2VzLiIpLGEudHlwZT0ic3RyZWFtIixhO2Y9bmV3IFQoZixjLmEuc3x8MSk7Uy5jYWxsKHRoaXMsZixhLGIsZCk7dGhpcy53PWM7dGhpcy5tPXRoaXMuYz0wPHRoaXMubGVuZ3RoKCk/YS5jK2Iuc3RhcnQrdGhpcy5sYXN0KCkuZW5kVGltZToKbnVsbDt0aGlzLmo9aD9oLmN1cnJlbnQrMTpudWxsO3RoaXMuRD1lfXIoQ2QsUyk7Q2QucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLkQ9dGhpcy53PW51bGw7Uy5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpfTtDZC5wcm90b3R5cGUuZmluZD1mdW5jdGlvbihhKXt2YXIgYj15YSgpLzFFMztEZCh0aGlzLGIpO3pkKHRoaXMsYik7cmV0dXJuIFIucHJvdG90eXBlLmZpbmQuY2FsbCh0aGlzLGEpfTtDZC5wcm90b3R5cGUuQj1mdW5jdGlvbihhKXtpZihudWxsIT10aGlzLmN8fCEoYSBpbnN0YW5jZW9mIENkKXx8bnVsbD09YS5jKXJldHVybiExO3RoaXMuYz1hLmM7dGhpcy5tPWEubTt0aGlzLmo9YS5qO3RoaXMuaD1hLmg7dGhpcy5kdXJhdGlvbj1hLmR1cmF0aW9uO3RoaXMuYS5TYShhLmEpO0RkKHRoaXMseWEoKS8xRTMpO3lkKHRoaXMpO3JldHVybiEwfTsKQ2QucHJvdG90eXBlLlRhPWZ1bmN0aW9uKGEpe2E9Uy5wcm90b3R5cGUuVGEuY2FsbCh0aGlzLGEpO251bGwhPXRoaXMuYyYmKHRoaXMuYys9YSx0aGlzLm0rPWEpO3JldHVybiBhfTtDZC5wcm90b3R5cGUuQT1mdW5jdGlvbigpe3ZhciBhPXlhKCkvMUUzO0RkKHRoaXMsYSk7cmV0dXJuIEJkKHRoaXMsYSl9O2Z1bmN0aW9uIERkKGEsYil7aWYobnVsbCE9YS5jJiZudWxsIT1hLm0mJm51bGwhPWEuail7dmFyIGM9YS53LmEsYz1jLkgvYy5zLGQ9TWF0aC5mbG9vcigoYS5tKyhiLWEuaCktYS5jKS9jKTtpZigwIT1kKXt2YXIgZT1sZChhLkQsYS53LGEuaixkKTtBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShhLmEuYSxrZChlLGEuYS5XKSk7YS5hLklhKCk7YS5jKz1kKmM7YS5qKz1kfX19O2Z1bmN0aW9uIEVkKGEsYixjLGQsZSl7dGhpcy5nPWE7dGhpcy5mPWI7dGhpcy5iPWM7dGhpcy5pPWQ7dGhpcy5hPW51bGw7dGhpcy5oPWV9RWQucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmg9dGhpcy5iPXRoaXMuZj10aGlzLmc9bnVsbDt0aGlzLmEmJih0aGlzLmEuZGVzdHJveSgpLHRoaXMuYT1udWxsKX07CkVkLnByb3RvdHlwZS5jcmVhdGU9ZnVuY3Rpb24oKXtpZih0aGlzLmEpcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLmEpO2lmKCJkeW5hbWljIj09dGhpcy5nLnR5cGUpdHJ5e3RoaXMuYT1uZXcgQ2QodGhpcy5nLHRoaXMuZix0aGlzLmIsdGhpcy5pLHRoaXMuaCl9Y2F0Y2goYSl7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfWVsc2V7dmFyIGI7Yj10aGlzLmIuYTtpZihiPWxkKHRoaXMuaCx0aGlzLmIsMSxNYXRoLmNlaWwodGhpcy5mLmR1cmF0aW9uLyhiLkgvYi5zKSkpKXtpZigwPGIubGVuZ3RoKXt2YXIgYz1iW2IubGVuZ3RoLTFdO2JbYi5sZW5ndGgtMV09amQoYyxjLnN0YXJ0VGltZSx0aGlzLmYuZHVyYXRpb24pfWI9bmV3IFQoYix0aGlzLmIuYS5zfHwxKTtiPW5ldyBSKGIpfWVsc2UgYj1udWxsO3RoaXMuYT1iO2lmKCF0aGlzLmEpcmV0dXJuIGI9RXJyb3IoIkZhaWxlZCB0byBnZW5lcmF0ZSBTZWdtZW50UmVmZXJlbmNlcyIpLGIudHlwZT0ic3RyZWFtIixQcm9taXNlLnJlamVjdChiKX1yZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuYSl9OwpFZC5wcm90b3R5cGUuYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmF9O2Z1bmN0aW9uIEZkKGEsYixjLGQsZSxmKXt0aGlzLmY9YTt0aGlzLmI9Yjt0aGlzLmg9Yzt0aGlzLmE9bnVsbDt0aGlzLmk9ZDt0aGlzLmc9ZTt0aGlzLmo9Znx8bnVsbH1GZC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuZz10aGlzLmg9dGhpcy5iPXRoaXMuZj1udWxsO3RoaXMuYSYmKHRoaXMuYS5kZXN0cm95KCksdGhpcy5hPW51bGwpfTsKRmQucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbigpe2lmKHRoaXMuYSlyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuYSk7dmFyIGE9dGhpcy5oLmIsYj1bXTthLkMmJihiPW9kKGEuQyxhLnN8fDEsdGhpcy5iLmR1cmF0aW9ufHwwKSk7dmFyIGM9MDthLkgmJmEuYz9jPShhLmMtMSkqYS5IOjA8Yi5sZW5ndGgmJihjPWJbMF0uc3RhcnQtKGEuTHx8MCkpO3ZhciBkPWMsZT1hLmEubGVuZ3RoOzA8Yi5sZW5ndGgmJmIubGVuZ3RoIT1hLmEubGVuZ3RoJiYoZT1NYXRoLm1pbihiLmxlbmd0aCxhLmEubGVuZ3RoKSk7Zm9yKHZhciBmPVtdLGc9MDtnPGU7KytnKXt2YXIgaD1hLmFbZ10saz1jLGw9ay9hLnMsbT1jPW51bGwscDthLkg/KGM9aythLkgsbT1jL2Eucyk6MDxiLmxlbmd0aD8ocD1iW2ddLnRpbWVzY2FsZWRHYXBJbmZvLGM9YltnXS5lbmQtKGEuTHx8MCksbT1jL2Eucyk6KG09bCt0aGlzLmIuZHVyYXRpb24sYz1tKmEucyk7dmFyIHQ9MCx3PW51bGw7aC5hJiYodD1oLmEucWEsCnc9aC5hLmVuZCk7bT1NYXRoLm1pbih0aGlzLmIuZHVyYXRpb24rZC9hLnMsbSk7Zi5wdXNoKG5ldyBpZChsLG0sbmV3IEsodGhpcy5nLGguYix0LHcsdm9pZCAwLHRoaXMuaiksayxwfHxudWxsKSl9YT1uZXcgVChmLGEuc3x8MSk7ImR5bmFtaWMiPT10aGlzLmYudHlwZT90aGlzLmE9bmV3IFMoYSx0aGlzLmYsdGhpcy5iLHRoaXMuaSk6dGhpcy5hPW5ldyBSKGEpO3JldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5hKX07RmQucHJvdG90eXBlLmM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hfTtmdW5jdGlvbiBHZChhLGIsYyl7VC5jYWxsKHRoaXMsYSxjKTt0aGlzLmc9Yjt0aGlzLmI9ITE7dGhpcy5qPVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0U3RyaW5nKCJ0ZW1wbGF0ZWRfcGVyZl90ZXN0X21ldGhvZHNfdW5kZXJfdGVzdF9jc3Zfc3RyaW5nIiwiYWxsIikuc3BsaXQoIiwiKX1yKEdkLFQpO2Z1bmN0aW9uIEhkKGEsYil7aWYoISgtMTxhLmouaW5kZXhPZigiYWxsIil8fC0xPGEuai5pbmRleE9mKGIpKXx8YS5iKXJldHVybiBudWxsO3ZhciBjPWEuYTthLmE9YS5nO2EuYj0hMDtyZXR1cm4gY31mdW5jdGlvbiBJZChhLGIpe2EuYiYmKGEuZz1hLmEsYS5hPWIpfUdkLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7VC5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpO3RoaXMuZz1udWxsfTsKR2QucHJvdG90eXBlLmxlbmd0aD1mdW5jdGlvbigpe3ZhciBhPUhkKHRoaXMsImxlbmd0aCIpLGI9VC5wcm90b3R5cGUubGVuZ3RoLmNhbGwodGhpcyk7YSYmKElkKHRoaXMsYSksYj1ULnByb3RvdHlwZS5sZW5ndGguY2FsbCh0aGlzKSx0aGlzLmI9ITEpO3JldHVybiBifTtHZC5wcm90b3R5cGUuZ2V0U2VnbWVudHM9ZnVuY3Rpb24oKXt2YXIgYT1IZCh0aGlzLCJnZXRTZWdtZW50cyIpLGI9VC5wcm90b3R5cGUuZ2V0U2VnbWVudHMuY2FsbCh0aGlzKTthJiYoSWQodGhpcyxhKSxiPVQucHJvdG90eXBlLmdldFNlZ21lbnRzLmNhbGwodGhpcyksdGhpcy5iPSExKTtyZXR1cm4gYn07R2QucHJvdG90eXBlLmZpcnN0PWZ1bmN0aW9uKCl7dmFyIGE9SGQodGhpcywiZmlyc3QiKSxiPVQucHJvdG90eXBlLmZpcnN0LmNhbGwodGhpcyk7YSYmKElkKHRoaXMsYSksYj1ULnByb3RvdHlwZS5maXJzdC5jYWxsKHRoaXMpLHRoaXMuYj0hMSk7cmV0dXJuIGJ9OwpHZC5wcm90b3R5cGUubGFzdD1mdW5jdGlvbigpe3ZhciBhPUhkKHRoaXMsImxhc3QiKSxiPVQucHJvdG90eXBlLmxhc3QuY2FsbCh0aGlzKTthJiYoSWQodGhpcyxhKSxiPVQucHJvdG90eXBlLmxhc3QuY2FsbCh0aGlzKSx0aGlzLmI9ITEpO3JldHVybiBifTtHZC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGEpe3ZhciBiPUhkKHRoaXMsImdldCIpLGM7Yz1iP1QucHJvdG90eXBlLmdldC5jYWxsKHRoaXMsYSsodGhpcy5hLmxlbmd0aC1iLmxlbmd0aCkpOlQucHJvdG90eXBlLmdldC5jYWxsKHRoaXMsYSk7YiYmKElkKHRoaXMsYiksYz1ULnByb3RvdHlwZS5nZXQuY2FsbCh0aGlzLGEpLHRoaXMuYj0hMSk7cmV0dXJuIGN9O0dkLnByb3RvdHlwZS5maW5kPWZ1bmN0aW9uKGEpe3ZhciBiPUhkKHRoaXMsImZpbmQiKSxjPVQucHJvdG90eXBlLmZpbmQuY2FsbCh0aGlzLGEpO2ImJihJZCh0aGlzLGIpLGM9VC5wcm90b3R5cGUuZmluZC5jYWxsKHRoaXMsYSksdGhpcy5iPSExKTtyZXR1cm4gY307CkdkLnByb3RvdHlwZS5maW5kSW5kZXg9ZnVuY3Rpb24oYSl7dmFyIGI9SGQodGhpcywiZmluZEluZGV4IiksYz1ULnByb3RvdHlwZS5maW5kSW5kZXguY2FsbCh0aGlzLGEpO2ImJihJZCh0aGlzLGIpLGM9VC5wcm90b3R5cGUuZmluZEluZGV4LmNhbGwodGhpcyxhKSx0aGlzLmI9ITEpO3JldHVybiBjfTtuPUdkLnByb3RvdHlwZTtuLlNhPWZ1bmN0aW9uKGEpe3ZhciBiPUhkKHRoaXMsIm1lcmdlIiksYz1ULnByb3RvdHlwZS5TYS5jYWxsKHRoaXMsYSk7YiYmKElkKHRoaXMsYiksYz1ULnByb3RvdHlwZS5TYS5jYWxsKHRoaXMsYSksdGhpcy5iPSExKTtyZXR1cm4gY307bi5oYj1mdW5jdGlvbihhKXt2YXIgYj1IZCh0aGlzLCJjb3JyZWN0IiksYz1ULnByb3RvdHlwZS5oYi5jYWxsKHRoaXMsYSk7YiYmKElkKHRoaXMsYiksYz1ULnByb3RvdHlwZS5oYi5jYWxsKHRoaXMsYSksdGhpcy5iPSExKTtyZXR1cm4gY307Cm4uaWI9ZnVuY3Rpb24oKXt2YXIgYT1IZCh0aGlzLCJnZXRTZWVrUmFuZ2UiKSxiPVQucHJvdG90eXBlLmliLmNhbGwodGhpcyk7YSYmKElkKHRoaXMsYSksYj1ULnByb3RvdHlwZS5pYi5jYWxsKHRoaXMpLHRoaXMuYj0hMSk7cmV0dXJuIGJ9O24uZ2V0U2Vla1JhbmdlR2Fwcz1mdW5jdGlvbigpe3ZhciBhPUhkKHRoaXMsImdldFNlZWtSYW5nZUdhcHMiKSxiPVQucHJvdG90eXBlLmdldFNlZWtSYW5nZUdhcHMuY2FsbCh0aGlzKTthJiYoSWQodGhpcyxhKSxiPVQucHJvdG90eXBlLmdldFNlZWtSYW5nZUdhcHMuY2FsbCh0aGlzKSx0aGlzLmI9ITEpO3JldHVybiBifTtuLklhPWZ1bmN0aW9uKCl7dmFyIGE9SGQodGhpcywiYXNzZXJ0Q29ycmVjdFJlZmVyZW5jZXMiKTtULnByb3RvdHlwZS5JYS5jYWxsKHRoaXMpO2EmJihJZCh0aGlzLGEpLFQucHJvdG90eXBlLklhLmNhbGwodGhpcyksdGhpcy5iPSExKX07ZnVuY3Rpb24gSmQoYSxiLGMsZCxlLGYsZyxoKXt0aGlzLm09YTt0aGlzLmE9Yjt0aGlzLmc9Yzt0aGlzLmY9ZDt0aGlzLm89ZTt0aGlzLmI9bnVsbDt0aGlzLmk9Zjt0aGlzLmg9bnVsbDt0aGlzLmo9aHx8bnVsbH1KZC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuaT10aGlzLmY9dGhpcy5nPXRoaXMuYT1udWxsO3RoaXMuYiYmKHRoaXMuYi5kZXN0cm95KCksdGhpcy5iPW51bGwpfTsKSmQucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbigpe2lmKHRoaXMuYilyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuYik7dmFyIGE9VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJmYmxzX3VzZV90aW1lbGluZV9zZWdtZW50X2luZGV4IiwhMSk7aWYoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJ1c2VfdGltZWxpbmVfc2VnbWVudF9pbmRleCIsITEpJiYodGhpcy5hLkZCSXNMaXZlVGVtcGxhdGVkfHx0aGlzLmEuRkJXYXNMaXZlfHxhKSlhPW5ldyBwZCh0aGlzLmcsdGhpcy5mLHRoaXMuZi5hLHRoaXMuaSx0aGlzLmopO2Vsc2V7Zm9yKHZhciBhPXRoaXMuZi5hLGI9b2QoYS5DLGEuc3x8MSx0aGlzLmcuZHVyYXRpb258fDAsdGhpcy5tLmdldE51bWJlcigibnVtX3ByZWRpY3RpdmVfc2VnbWVudHMiLDApLHRoaXMuYS5GQklzTGl2ZVRlbXBsYXRlZHx8dGhpcy5hLkZCV2FzTGl2ZSx0aGlzLmgpLGM9W10sZD0wO2Q8Yi5sZW5ndGg7KytkKXt2YXIgZT0KYltkXS5zdGFydCxmPWJbZF0uZW5kLGc9YltkXS51ZHx8MCxoPWJbZF0udGltZXNjYWxlZEdhcEluZm8saz1lL2EucyxsPWYvYS5zLG09ZCthLmIscD1lLG09bWQodGhpcy5pLHRoaXMuZiwwPGc/ZzptLHAsMDxnPyEwOiExLHRoaXMuaik7aWYoIW0pcmV0dXJuIGE9RXJyb3IoIkZhaWxlZCB0byBnZW5lcmF0ZSBtZWRpYSBVUkwuIiksYS50eXBlPSJkYXNoIixQcm9taXNlLnJlamVjdChhKTt2YXIgdD0oYS5MfHwwKS9hLnM7Yy5wdXNoKG5ldyBpZChrLXQsbC10LG0scCxmLWUsaHx8bnVsbCwwPGcpKX1iPXRoaXMuYS5GQklzTGl2ZVRlbXBsYXRlZHx8dGhpcy5hLkZCV2FzTGl2ZTtWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigidGVtcGxhdGVkX3VzZV9wZXJmX3Rlc3Rfc2VnbWVudF9pbmRleF9iYXNlX2ludCIsMCkmJm51bGw9PXRoaXMuaCYmdGhpcy5hLkZCSXNMaXZlVGVtcGxhdGVkPyhiPWMsYz1iLnNsaWNlKC1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigidGVtcGxhdGVkX3VzZV9wZXJmX3Rlc3Rfc2VnbWVudF9pbmRleF9iYXNlX2ludCIsCjApKSxhPW5ldyBHZChjLGIsYS5zfHwxKSk6YT1uZXcgVChjLGEuc3x8MSxiKX10aGlzLmEubWFuaWZlc3RJc0xpdmVTdHJlYW1pbmc/dGhpcy5iPW5ldyBTKGEsdGhpcy5hLHRoaXMuZyx0aGlzLm8pOnRoaXMuYj1uZXcgUihhKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuYil9O0pkLnByb3RvdHlwZS5jPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYn07SmQucHJvdG90eXBlLkVjPWZ1bmN0aW9uKGEpe3RoaXMuaD1hfTtmdW5jdGlvbiBLZCgpe3RoaXMuWD1MZCsrO3RoaXMuaWQ9dGhpcy5hYT10aGlzLk09bnVsbDt0aGlzLmE9MDt0aGlzLmhlaWdodD10aGlzLndpZHRoPXRoaXMuYmFuZHdpZHRoPW51bGw7dGhpcy5jb2RlY3M9dGhpcy5taW1lVHlwZT0iIjt0aGlzLmY9dGhpcy5mYlF1YWxpdHlDbGFzcz10aGlzLmZiUXVhbGl0eUxhYmVsPW51bGw7dGhpcy5mcmFtZVJhdGU9IiI7dGhpcy5zd2l0Y2hSZWFzb249dGhpcy5oPXRoaXMuZz10aGlzLmM9bnVsbDt0aGlzLmI9W107dGhpcy5vYT0hMTt0aGlzLmZhPSEwfXZhciBMZD0wO0tkLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5NJiYodGhpcy5NLmRlc3Ryb3koKSx0aGlzLk09bnVsbCk7dGhpcy5hYSYmKHRoaXMuYWEuZGVzdHJveSgpLHRoaXMuYWE9bnVsbCl9O2Z1bmN0aW9uIE1kKGEpe3JldHVybiBhLm1pbWVUeXBlLnNwbGl0KCIvIilbMF19CmZ1bmN0aW9uIE5kKGEpe3ZhciBiPWEubWltZVR5cGV8fCIiO2EuY29kZWNzJiYoYis9JzsgY29kZWNzPSInK2EuY29kZWNzKyciJyk7cmV0dXJuIGJ9ZnVuY3Rpb24gT2QoKXt0aGlzLlg9UGQrKzt0aGlzLmlkPW51bGw7dGhpcy5jb250ZW50VHlwZT10aGlzLmxhbmc9IiI7dGhpcy5mPXRoaXMuYj0hMTt0aGlzLmM9bnVsbDt0aGlzLnY9W107dGhpcy5hPVtdfXZhciBQZD0wO09kLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7Zm9yKHZhciBhPTA7YTx0aGlzLnYubGVuZ3RoOysrYSl0aGlzLnZbYV0uZGVzdHJveSgpO3RoaXMuYT10aGlzLnY9bnVsbH07ZnVuY3Rpb24gUWQoYSl7Zm9yKHZhciBiPVtdLGM9MDtjPGEuYS5sZW5ndGg7KytjKXt2YXIgZD1uZXcgUmQ7ZC5pZD1hLlg7ZC5hPWEuYVtjXTtkLmNvbnRlbnRUeXBlPWEuY29udGVudFR5cGU7ZC5iPWEudi5sZW5ndGg/TmQoYS52WzBdKToiIjtiLnB1c2goZCl9cmV0dXJuIGJ9CmZ1bmN0aW9uIFNkKCl7dGhpcy5pZD1udWxsO3RoaXMuc3RhcnQ9MDt0aGlzLmR1cmF0aW9uPW51bGw7dGhpcy5hPVtdfVNkLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7Zm9yKHZhciBhPTA7YTx0aGlzLmEubGVuZ3RoOysrYSl0aGlzLmFbYV0uZGVzdHJveSgpO3RoaXMuYT1udWxsfTtmdW5jdGlvbiBUZCgpe3RoaXMuQT10aGlzLmY9dGhpcy5iPSExO3RoaXMubz10aGlzLm09dGhpcy5CPTA7dGhpcy5qPXRoaXMuaT10aGlzLmM9bnVsbDt0aGlzLmc9MDt0aGlzLmE9W107dGhpcy5oPSExO3RoaXMudz0ibm9uZSI7dGhpcy51PW51bGx9VGQucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXtmb3IodmFyIGE9MDthPHRoaXMuYS5sZW5ndGg7KythKXRoaXMuYVthXS5kZXN0cm95KCk7dGhpcy5hPW51bGx9O2Z1bmN0aW9uIFJkKCl7dGhpcy5pZD0wO3RoaXMuYT1udWxsO3RoaXMuYj10aGlzLmNvbnRlbnRUeXBlPSIifTtmdW5jdGlvbiBVKGEsYixjLGQsZSxmLGcsaCxrLGwsbSxwLHQsdyl7Ri5jYWxsKHRoaXMsYSk7dGhpcy5iPWI7dGhpcy5hPWM7dGhpcy5jPW5ldyBuYihjLGQsZSxmLHRoaXMsaCx3KTt0aGlzLlBhPWg7dGhpcy5vPXt9O3RoaXMucmE9Zjt0aGlzLnlhPTA7dGhpcy5tYT10aGlzLmY9dGhpcy5nPW51bGw7dGhpcy50YT0hMTt0aGlzLnc9dGhpcy5jYT1udWxsO3RoaXMuUz0hMTt0aGlzLmphPTA7dGhpcy5rYT0hMTt0aGlzLkQ9bnVsbDt0aGlzLlo9dGhpcy5lYT10aGlzLmg9ITE7dGhpcy5PPW5ldyBJO3RoaXMuRz10aGlzLlQ9dGhpcy5CPSExO3RoaXMuUj0wO3RoaXMuZ2E9MTU7dGhpcy5HYT10aGlzLnZhPXRoaXMuVT0hMTt0aGlzLm5hPTE7dGhpcy4kPWc7dGhpcy54YT0hMTt0aGlzLmw9bnVsbDt0aGlzLkhhPSExO3RoaXMuST10aGlzLko9dGhpcy5LPW51bGw7dGhpcy5WPSExO3RoaXMudT1tfHxudWxsO3RoaXMuRj1wfHxudWxsO3RoaXMuaj10fHxudWxsO3RoaXMuWT1udWxsO3RoaXMuYmE9CiExO3RoaXMuRGE9e307dGhpcy5GYT1rO3RoaXMuaT1udWxsO3RoaXMuaWE9ITE7dGhpcy5FYT0wO3RoaXMuQ2E9ZT9lLnNwbGl0KCI7IilbMF06IiI7dGhpcy5QPSExO3RoaXMud2E9MDt0aGlzLnNhPWw7dGhpcy5BPXRoaXMubT1udWxsfXIoVSxGKTtVLnByb3RvdHlwZS5CYT1mdW5jdGlvbigpe3JldHVybntTb3VyY2VCdWZmZXJNYW5hZ2VyOnRoaXMuY319O1UucHJvdG90eXBlLmdldERlYnVnPVUucHJvdG90eXBlLkJhO2Z1bmN0aW9uIFVkKGEsYil7cmV0dXJuIG5ldyBWaWRlb1BsYXllckJpdHJhdGVFc3RpbWF0b3IobmV3IHgoYS5hLmdldE51bWJlcigibGl2ZV9iaXRyYXRlX2VzdGltYXRlc19oYWxmX2xpZmUiLDIpKSxiLGEuYS5nZXROdW1iZXIoImxpdmVfYml0cmF0ZV9lc3RpbWF0ZXNfbWluaW11bV9zYW1wbGVfY291bnQiLDEpLGEuYS5nZXROdW1iZXIoImxpdmVfYml0cmF0ZV9lc3RpbWF0ZXNfbGFyZ2Vfc2FtcGxlX3dlaWdodF9mYWN0b3IiLDEwKSl9ClUucHJvdG90eXBlLnBhPWZ1bmN0aW9uKGEpe251bGwhPWEuaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemUmJih0aGlzLlI9TnVtYmVyKGEuaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemUpKTt2YXIgYj10aGlzLmEuZ2V0TnVtYmVyKCJpbml0aWFsX3N0cmVhbV9idWZmZXJfc2l6ZV9mb3JfdmlkZW9fc3RyZWFtIiwwKTswPGImJi0xIT09dGhpcy5DYS5pbmRleE9mKCJ2IikmJih0aGlzLlI9Yik7bnVsbCE9YS5keW5hbWljU3RyZWFtQnVmZmVyU2l6ZSYmKHRoaXMuamE9TnVtYmVyKGEuZHluYW1pY1N0cmVhbUJ1ZmZlclNpemUpKTtudWxsIT1hLnNtYXJ0QnVmZmVyQWRqdXN0bWVudFBhcmFtcyYmKHRoaXMuRGE9YS5zbWFydEJ1ZmZlckFkanVzdG1lbnRQYXJhbXMpO251bGwhPWEuc21hcnRCdWZmZXJBZGp1c3RtZW50RW5hYmxlZCYmKHRoaXMuYmE9Qm9vbGVhbihhLnNtYXJ0QnVmZmVyQWRqdXN0bWVudEVuYWJsZWQpKTtudWxsIT1hLnN0cmVhbUJ1ZmZlclNpemUmJih0aGlzLmdhPU51bWJlcihhLnN0cmVhbUJ1ZmZlclNpemUpKTsKbnVsbCE9YS5maXhCdWZmZXJpbmdHb2FsRGV0ZXJtaW5hdGlvbiYmKHRoaXMuVT1Cb29sZWFuKGEuZml4QnVmZmVyaW5nR29hbERldGVybWluYXRpb24pKTtudWxsIT1hLmFkZENkbkRlYnVnUXVlcnlQYXJhbWV0ZXJzJiYodGhpcy52YT1Cb29sZWFuKGEuYWRkQ2RuRGVidWdRdWVyeVBhcmFtZXRlcnMpKTtudWxsIT1hLnVzZUluaXRpYWxCdWZmZXJTaXplV2hlblBhdXNlZCYmKHRoaXMuR2E9Qm9vbGVhbihhLnVzZUluaXRpYWxCdWZmZXJTaXplV2hlblBhdXNlZCkpO251bGwhPWEuc2VnbWVudFJlcXVlc3RUaW1lb3V0JiYodGhpcy5jLlQ9TnVtYmVyKGEuc2VnbWVudFJlcXVlc3RUaW1lb3V0KSk7bnVsbCE9YS5yZXNvbHZlVmlkZW9UaW1lVXBkYXRlT25GcmFnbWVudGVkVGltZVJhbmdlcyYmKHRoaXMueGE9Qm9vbGVhbihhLnJlc29sdmVWaWRlb1RpbWVVcGRhdGVPbkZyYWdtZW50ZWRUaW1lUmFuZ2VzKSk7bnVsbCE9YS5wZXJmb3JtYW5jZUxvZ2dlciYmKHRoaXMubD10aGlzLm8ucGVyZm9ybWFuY2VMb2dnZXI9CmEucGVyZm9ybWFuY2VMb2dnZXIpO251bGwhPWEuYWJyTG9nZ2VyJiYodGhpcy5vLmFickxvZ2dlcj1hLmFickxvZ2dlcik7bnVsbCE9YS5yZWFwcGVuZEluaXRTZWdtZW50QWZ0ZXJBYm9ydCYmKHRoaXMuby5yZWFwcGVuZEluaXRTZWdtZW50QWZ0ZXJBYm9ydD1Cb29sZWFuKGEucmVhcHBlbmRJbml0U2VnbWVudEFmdGVyQWJvcnQpKTtudWxsIT1hLmxpdmVEYXRhRmV0Y2hNYXhSZXRyaWVzJiYodGhpcy5vLmxpdmVEYXRhRmV0Y2hNYXhSZXRyaWVzPU51bWJlcihhLmxpdmVEYXRhRmV0Y2hNYXhSZXRyaWVzKSk7bnVsbCE9YS5saXZlU291cmNlQnVmZmVyQ2xlYXJNYXhSZXRyaWVzJiYodGhpcy5vLmxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXM9TnVtYmVyKGEubGl2ZVNvdXJjZUJ1ZmZlckNsZWFyTWF4UmV0cmllcykpO251bGwhPWEuc2tpcEVtcHR5U2VnbWVudHMmJih0aGlzLm8uc2tpcEVtcHR5U2VnbWVudHM9Qm9vbGVhbihhLnNraXBFbXB0eVNlZ21lbnRzKSk7bnVsbCE9CmEucGxheWhlYWRGcmFnbWVudGVkR2FwRGlmZkFsbG93YW5jZSYmKHRoaXMuby5wbGF5aGVhZEZyYWdtZW50ZWRHYXBEaWZmQWxsb3dhbmNlPU51bWJlcihhLnBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2UpKTtudWxsIT1hLnVzZU1pY3JvVGFza1RpbWVvdXRzJiYodGhpcy5IYT1Cb29sZWFuKGEudXNlTWljcm9UYXNrVGltZW91dHMpKTthPXRoaXMuYztiPXRoaXMubztudWxsIT1iLnJlYXBwZW5kSW5pdFNlZ21lbnRBZnRlckFib3J0JiYoYS5SPUJvb2xlYW4oYi5yZWFwcGVuZEluaXRTZWdtZW50QWZ0ZXJBYm9ydCkpO251bGwhPWIucGVyZm9ybWFuY2VMb2dnZXImJihhLmw9Yi5wZXJmb3JtYW5jZUxvZ2dlcik7bnVsbCE9Yi5hYnJMb2dnZXImJihhLkk9Yi5hYnJMb2dnZXIpO251bGwhPWIubGl2ZURhdGFGZXRjaE1heFJldHJpZXMmJihhLk89Yi5saXZlRGF0YUZldGNoTWF4UmV0cmllcyk7bnVsbCE9Yi5saXZlU291cmNlQnVmZmVyQ2xlYXJNYXhSZXRyaWVzJiYoYS5LPQpiLmxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXMpO251bGwhPWIucGxheWhlYWRGcmFnbWVudGVkR2FwRGlmZkFsbG93YW5jZSYmKGEuUD1iLnBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2UpO251bGwhPWIuc2tpcEVtcHR5U2VnbWVudHMmJihhLlY9Yi5za2lwRW1wdHlTZWdtZW50cyl9O1UucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXtWZCh0aGlzKTt0aGlzLk8uZGVzdHJveSgpO3RoaXMucmE9dGhpcy5nPXRoaXMuTz1udWxsO3RoaXMuYy5kZXN0cm95KCk7dGhpcy5iPXRoaXMuYz1udWxsO3RoaXMuYS5nZXRCb29sKCJmaXhpbmdfc2NoZWR1bGVyX2Rpc2FibGVfbGVha3MiLCEwKSYmKHRoaXMudT1udWxsKTt0aGlzLkphPW51bGx9O249VS5wcm90b3R5cGU7bi5XYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmd9O24uRmI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mfTsKbi5LYz1mdW5jdGlvbihhKXt0aGlzLkJ8fGEudGhlbihmdW5jdGlvbigpe3RoaXMuQj0hMDt0aGlzLnd8fFYodGhpcywwKX0uYmluZCh0aGlzKSkuY2F0Y2goZnVuY3Rpb24oKXt9KTtyZXR1cm4gdGhpcy5PfTtuLkNiPWZ1bmN0aW9uKCl7dGhpcy5HPSEwO1dkKHRoaXMpfTtuLmZiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuR307Cm4uamI9ZnVuY3Rpb24oYSxiLGMsZCxlKXtpZihhIT10aGlzLmcpe3ZhciBmPTE7dGhpcy5hLmdldEJvb2woInVzZV9saXZlX2JpdHJhdGVfZXN0aW1hdGVzIiwhMSkmJm51bGwhPT10aGlzLm0mJjA8dGhpcy5nLmJhbmR3aWR0aCYmKGY9dGhpcy5tLmdldEVzdGltYXRlKCkvdGhpcy5nLmJhbmR3aWR0aCk7dmFyIGc9YS5hYTtnJiYodGhpcy5tYT1nLmNyZWF0ZSh0aGlzLmwsdGhpcy5QYSkpO3RoaXMuWj0hMDthLk0uY3JlYXRlKCkudGhlbihKKHRoaXMsZnVuY3Rpb24oZyl7aWYodGhpcy5iKXt0aGlzLlo9ITE7dmFyIGs9dGhpcy5nO3RoaXMuZz1hO3RoaXMuYS5nZXRCb29sKCJ1c2VfbGl2ZV9iaXRyYXRlX2VzdGltYXRlcyIsITEpJiYodGhpcy5tPVVkKHRoaXMsKGEuYmFuZHdpZHRofHwwKSpmKSk7dmFyIGw9dGhpcy5mO3RoaXMuZj1nO3RoaXMuYy5EPXRoaXMuZjtsJiZsLmEuRmMoKTt1ZCh0aGlzLmYsZnVuY3Rpb24oYSl7dmFyIGI9YTt0aGlzLmomJnRoaXMuai5zZXRTZWdtZW50cyh0aGlzLmYuZ2V0U2VnbWVudHMoKSk7CnRoaXMudSYmKGE9YSYmdGhpcy5hLmdldEJvb2woIm9wdGltaXplX3N0cmVhbV9nZXRfc2VnbWVudHNfY2FsbHMiLCExKT9hOnRoaXMuZi5nZXRTZWdtZW50cygpLHRoaXMuYS5nZXRCb29sKCJ0ZW1wbGF0ZWRfdXBkYXRlX3NybV9ieV9kZWx0YV9vZl9jaGFuZ2VkX3JlZmVyZW5jZXNfYm9vbCIsITEpJiZ0aGlzLmYuSyYmYi5sZW5ndGg8dGhpcy5mLmdldFNlZ21lbnRzKCkubGVuZ3RoJiYoYT10aGlzLmYuZ2V0U2VnbWVudHMoKS5zbGljZSgtKGIubGVuZ3RoKzEpKSksWGQodGhpcyx0aGlzLmcuaWR8fCIiLGEpKX0uYmluZCh0aGlzKSk7dGhpcy5qJiZ0aGlzLmouc2V0U2VnbWVudHModGhpcy5mLmdldFNlZ21lbnRzKCkpO2lmKHRoaXMudSl7dmFyIGw9W10sbT10aGlzLmEuZ2V0TnVtYmVyKCJ0ZW1wbGF0ZWRfY2h1bmtlZF9zZWdtZW50X3VwZGF0ZV9saW1pdF9pbnQiLDApO2lmKG0pe2c9dGhpcy5mLmxlbmd0aCgpO2Zvcih2YXIgbT1NYXRoLm1pbihnLG0pLHA9MTtwPD1tOysrcClsLnB1c2godGhpcy5mLmdldChnLQpwKSl9ZWxzZSBsPWcuZ2V0U2VnbWVudHMoKTtYZCh0aGlzLGEuaWR8fCIiLGwpfXRoaXMudGE9ITA7dGhpcy5jYT1kP2Q6bnVsbDt0aGlzLlN8fCh0aGlzLmEuZ2V0Qm9vbCgibWFrZV9lYXJseV90cmFja19zZWxlY3Rpb24iLCExKSYmdGhpcy5oJiYhdGhpcy5QJiYhdGhpcy53P1YodGhpcywwKTprP2I/WWQodGhpcywhMCxjKTplJiZZZCh0aGlzLCExKTpWKHRoaXMsMCkpfX0pKS5jYXRjaChKKHRoaXMsZnVuY3Rpb24oYSl7dGhpcy5aPSExOyJhYm9ydGVkIiE9YS50eXBlJiYodGhpcy5CPyhhPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGEpKTp0aGlzLk8ucmVqZWN0KGEpKX0pKX19O24uQ2M9ZnVuY3Rpb24oYSl7cmV0dXJuIFlkKHRoaXMsISFhKX07bi5IYz1mdW5jdGlvbigpe3RoaXMua2E9ITB9O24uSmM9ZnVuY3Rpb24oYSl7dGhpcy5FYT1hfTsKZnVuY3Rpb24gWGQoYSxiLGMpe2EuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9jaHVua2VkX3NlZ21lbnRfdXBkYXRlX2xpbWl0X2ludCIsMCkmJmEudS51cGRhdGVTZWdtZW50SW5kZXgoYixhLmYpO2EuYS5nZXRCb29sKCJ1c2VfdXBkYXRlX3NlZ21lbnRzX2J5X3NoYWthX3JlZmVyZW5jZSIsITApJiZhLnUudXBkYXRlU2VnbWVudHNCeVNoYWthUmVmZXJlbmNlcyhiLGMpfQpmdW5jdGlvbiBZZChhLGIsYyl7YS5nJiYhYS5TJiYoYS5TPSEwLFZkKGEpLGEuVD0hMSxudWxsIT09YS5BJiZhLkEucmVzZXQoKSxhLmMuYWJvcnQoKS50aGVuKEooYSxmdW5jdGlvbigpe3ZhciBhPXRoaXMuYi5jdXJyZW50VGltZTt0aGlzLmEuZ2V0Qm9vbCgic2V0X2N1cnJlbnRfdGltZV9pbl9yZXN5bmMiLCExKSYmMD09YT8odGhpcy5sJiZCYW56YWlPRFMuYnVtcEVudGl0eUtleSgyOTY2LCJ2aWRlb3Mud3d3LnNoYWthIiwic2V0X2N1cnJlbnRfdGltZV9pbl9yZXN5bmMiKSxhPXRoaXMuZi5maXJzdCgpLnN0YXJ0VGltZSk6dGhpcy5hLmdldEJvb2woImJldHRlcl9zZXRfY3VycmVudF90aW1lX2luX3Jlc3luYyIsITEpJiZhPHRoaXMuZi5maXJzdCgpLnN0YXJ0VGltZSYmKEJhbnphaU9EUy5idW1wRW50aXR5S2V5KDI5NjYsInZpZGVvcy53d3cuc2hha2EiLCJzZXRfY3VycmVudF90aW1lX2luX3Jlc3luYyIpLGE9dGhpcy5mLmZpcnN0KCkuc3RhcnRUaW1lK3RoaXMuYS5nZXROdW1iZXIoInJlc3luY19zZXRfY3VycmVudF90aW1lX2Z1ZGdlX2ZhY3RvciIsCjApKTtpZighYiYmMDxyYih0aGlzLmMsYSkmJjA8PUZiKHRoaXMuYyxhKSlyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7aWYoYylyZXR1cm4gQ2IodGhpcy5jLHRoaXMuYi5jdXJyZW50VGltZStjKTt0aGlzLmlhPSEwO3JldHVybiBCYih0aGlzLmMpfSkpLnRoZW4oSihhLGZ1bmN0aW9uKCl7dGhpcy5TPSExO1YodGhpcywwKX0pKS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7dGhpcy5TPSExOyJhYm9ydGVkIiE9YS50eXBlJiYodGhpcy5CPyhhPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGEpKTp0aGlzLk8ucmVqZWN0KGEpKX0pKSl9bi5JYz1mdW5jdGlvbihhKXtyZXR1cm4gMDxyYih0aGlzLmMsYSkmJjA8PUZiKHRoaXMuYyxhKX07bi52Yj1mdW5jdGlvbigpe307bi5EYj1mdW5jdGlvbigpe3JldHVybiEwfTsKZnVuY3Rpb24gWmQoYSl7YS5lYT1hLmVhfHwhYS5iLnBhdXNlZDthLmIucGF1c2VkfHxhLmJhfHwoYS5ZPURhdGUubm93KCksYS5iYT0hMCk7dmFyIGI9YS5EYSxjPW51bGw7aWYoYi5pbkV4cGVyaW1lbnQpaWYoYi51c2VTbWFydEJ1ZmZlcmluZyl7aWYoYS5iYSYmYS5ZKXt2YXIgYz0oRGF0ZS5ub3coKS1hLlkpLzFFMyxkPW51bGw7MT5jP2M9bnVsbDooZD0zPmM/Yi5idWZmZXJTaXplXzAwX3RvXzAzOjEwPmM/Yi5idWZmZXJTaXplXzAzX3RvXzEwOjMwPmM/Yi5idWZmZXJTaXplXzEwX3RvXzMwOjYwPmM/Yi5idWZmZXJTaXplXzMwX3RvXzYwOmIuYnVmZmVyU2l6ZV9hYm92ZV82MCxjPU1hdGgubWluKGQsYS5iLmR1cmF0aW9uKSl9fWVsc2UgYS5ZJiYoYz1iLm5vblNtYXJ0QnVmZmVyU2l6ZSk7Y3x8KGM9YS5HYSYmYS5iLnBhdXNlZD9hLlI6YS5nYSxhLmIucGF1c2VkJiYxPGEubmEmJihjKj1hLm5hKSxhLmphJiYhYS5iLnBhdXNlZCYmKGM9TWF0aC5tYXgoTWF0aC5taW4oYS5mLmxhc3QoKS5lbmRUaW1lLQphLmIuY3VycmVudFRpbWUsYS5qYSksYS5nYSkpKTtjPShhLlU/YS5oJiZhLmVhOmEuaCk/TWF0aC5tYXgoYS5SLGMpOmEuUjswPGEuYS5nZXROdW1iZXIoImF1ZGlvX3ZpZGVvX2J1ZmZlcl9kaWZmX3RocmVzaG9sZCIsMTQ0MDApJiYoYj1hLmIuYnVmZmVyZWQubGVuZ3RoP2EuYi5idWZmZXJlZC5lbmQoYS5iLmJ1ZmZlcmVkLmxlbmd0aC0xKTowLGI9TWF0aC5tYXgoMCxiLWEuYi5jdXJyZW50VGltZSksYz1NYXRoLm1pbihjLGIrYS5hLmdldE51bWJlcigiYXVkaW9fdmlkZW9fYnVmZmVyX2RpZmZfdGhyZXNob2xkIiwxNDQwMCkpKTtyZXR1cm4gY30KZnVuY3Rpb24gJGQoYSl7dmFyIGI9YS5hLmdldE51bWJlcigic3RhcnRfc3RyZWFtX2J1ZmZlcl9zaXplIiwxKSxjPWEuYS5nZXROdW1iZXIoImxvd19zdGFydF9zdHJlYW1fYnVmZmVyX3NpemUiLDEpO2lmKGIhPT1jKXt2YXIgZD1hLmEuZ2V0TnVtYmVyKCJsb3dfYmFuZHdpZHRoX3N0YXJ0X3N0cmVhbV9idWZmZXJfc2l6ZV90aHJlc2hvbGQiLDApLGU9YS5hLmdldE51bWJlcigic2NoZWR1bGVkX3ZpZGVvc19zdGFydF9zdHJlYW1fYnVmZmVyX3NpemVfdGhyZXNob2xkIiwwKTtpZigwPGQmJmEucmEuZ2V0QmFuZHdpZHRoKCk8ZCYmVmlkZW9TdHJlYW1pbmdUYXNrUXVldWVQcm92aWRlci5nZXRRdWV1ZVNpemUoInZpZGVvIik+PWUpcmV0dXJuIGN9cmV0dXJuIGJ9ZnVuY3Rpb24gYWUoYSxiKXtyZXR1cm4gcmIoYS5jLGEuaD9iOmIrKGEuRHx8MCkpfQpmdW5jdGlvbiBiZShhKXtpZihhLmgmJiFhLkJ8fGEuYS5nZXRCb29sKCJtYWtlX2Vhcmx5X3RyYWNrX3NlbGVjdGlvbiIsITEpJiZhLlp8fGEuYS5nZXRCb29sKCJwcmV2ZW50X2ZldGNoX3doaWxlX2ZldGNoaW5nX2luX3N0cmVhbSIsITEpJiZhLlApcmV0dXJuIGEudz1udWxsLFByb21pc2UucmVzb2x2ZSgpO3ZhciBiO2lmKGI9YS5CJiYhYS5HKWI9MTxhLmMuYS5idWZmZXJlZC5sZW5ndGg/ITA6ITE7aWYoYiYmKGEua2F8fEhiKGEuYyxhLmIpKSlyZXR1cm4gYS54YSYmKGEuYi5jdXJyZW50VGltZT1HYihhLmIpKSxudWxsPT09YS5LJiYoYS5rYT0hMSxZZChhLCEwKSksUHJvbWlzZS5yZXNvbHZlKCk7YS5hLmdldE51bWJlcigiZGVjb3VwbGVfc3RyZWFtX29uX3VwZGF0ZV9sb29wX2Zyb21fcmVxdWVzdF9sb29wX2ludCIsMCl8fChhLnc9bnVsbCk7Yj1hLmc7dmFyIGM9YS5mLGQ9YS5iLmN1cnJlbnRUaW1lO2EuYS5nZXRCb29sKCJ1c2VfcGVuZGluZ19zZWVrX3Bvc2l0aW9uX2Zvcl9yZWZlcmVuY2UiLAohMSkmJjA9PT1hLmIucmVhZHlTdGF0ZSYmIWQmJmEuSiYmKGQ9YS5KKTtpZihhLlUmJiFhLmgmJmFlKGEsZCk+PSRkKGEpKXJldHVybiBhLmEuZ2V0Qm9vbCgiZml4X2Nocm9tZV9tc2VfcmVncmVzc2lvbiIsITEpJiYxPT09YS5iLnJlYWR5U3RhdGUmJjA8YS5iLmJ1ZmZlcmVkLmxlbmd0aCYmKGEuYi5jdXJyZW50VGltZT1hLmIuY3VycmVudFRpbWUpLGNlKGEpLFYoYSwwKSxQcm9taXNlLnJlc29sdmUoKTt2YXIgZT1udWxsLGY9W107bnVsbCE9PWEuSyYmKGQ9YS5LKTtpZihhZShhLGQpPj1aZChhKSlpZihhLlQ9ITAsbnVsbCE9PWEuSSYmYS5JLnJlc29sdmUoKSxhLlV8fGNlKGEpLGY9ZGUoYSk/amUoYSxkKTpbXSwwPGYubGVuZ3RoKWU9ZlswXTtlbHNlIHJldHVybiBWKGEsMUUzLyg1KihNYXRoLmFicyhhLmIucGxheWJhY2tSYXRlKXx8MSkpKSxQcm9taXNlLnJlc29sdmUoKTtlbHNle3ZhciBnPTE7YS5qJiYoZz1hLmouZ2V0TnVtYmVyT2ZTZWdtZW50cygpKTt2YXIgaD1xYihhLmMpOwphLlYmJihoPW51bGwsbnVsbCE9PWEuSyYmKGEuVj0hMSkpO2EuYS5nZXRCb29sKCJmaW5kX2xhc3RfaW5zZXJ0ZWRfc2VnbWVudF9pbl9zZWdtZW50X2luZGV4IiwhMSkmJmgmJiFjLmEuYSYmKGg9Yy5maW5kKGguc3RhcnRUaW1lKSk7YS5hLmdldEJvb2woInNldF9wZW5kaW5nX3NlZWtfb25fc2V0X2N1cnJlbnRfdGltZV9mYWlsdXJlIiwhMSkmJm51bGwhPWEuSiYmKGQ9YS5KLGEuSj1udWxsKTtnPWtlKGEsZCxjLGcsaCk7ZT1nWzBdO2EuaiYmKGEuai5zZXRGdXR1cmVTZWdtZW50cyhnKSxhLmouc2V0QnVmZmVyaW5nR29hbChaZChhKS1hZShhLGQpKSk7IWUmJmRlKGEpJiYoZj1qZShhLGQpLDA8Zi5sZW5ndGgmJihlPWZbMF0pKX1pZighZSlyZXR1cm4gY2UoYSksYS5CJiYhYS5HJiYoYS5HPSEwLFdkKGEpKSxWKGEsMjAwKSxQcm9taXNlLnJlc29sdmUoKTthLmEuZ2V0Qm9vbCgiY3JlYXRlX293bl9zZWdtZW50X3JlZmVyZW5jZV9mb3Jfc2JtIiwhMSkmJihlPWpkKGUsZS5zdGFydFRpbWUsCmUuZW5kVGltZSkpO2xlKGEsbWUoYSxkLGYpLGIuaWR8fCIiKTtuZShhLG1lKGEsZCxmKSk7YS5hLmdldEJvb2woInJlZnJlc2hfc2VnbWVudF9yZWZlcmVuY2VfZmFpbG92ZXJfdXJpIiwhMCkmJihlLnVybD1lLnVybC5jbG9uZSgpKTthLlA9ITA7YS53YT1EYXRlLm5vdygpOyJ2aWRlbyI9PT1iLm1pbWVUeXBlLnNwbGl0KCIvIilbMF0mJmEucmEuc2V0UmVwcmVzZW50YXRpb25JRChiLmlkKTtjPWEuYy5mZXRjaChlLGMucyxiLmErYS5FYSxhLm1hLGEudmEmJiFhLmIucGF1c2VkLDA8Zi5sZW5ndGgsYS51LGEuRik7Yz1jLnRoZW4oSihhLGZ1bmN0aW9uKGEpe3RoaXMuYS5nZXRCb29sKCJ1cGRhdGVzX3ByaW9yaXR5X29uX2ZldGNoX2NvbXBsZXRlIiwhMSkmJm5lKHRoaXMsbWUodGhpcyxkLFtdKSk7dGhpcy5zYS5pbmZvcm1OZXR3b3JrUmVzdW1lZCgpO3JldHVybiBhfSkpO2EuJCYmInZpZGVvIj09PWIubWltZVR5cGUuc3BsaXQoIi8iKVswXSYmYS4kLmFkZChlLnN0YXJ0VGltZXx8CjAsZS5lbmRUaW1lfHwwLHtpZDpiLmlkLHJlYXNvbjphLmNhLHBlcmZvcm1hbmNlTG9nZ2VyOmEubD9hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJzdHJlYW1fc3dpdGNoIik6bnVsbH0pO2EubWE9bnVsbDthLnRhJiYoYS50YT0hMSxmPWEuY2EsYS5jYT1udWxsLG9lKGEsYixmLGEubGEoKSkpO2EuRz0hMTtyZXR1cm4gYy50aGVuKEooYSxmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5hLmdldEJvb2woImNsZWFyX29sZF9idWZmZXIiLCExKT9FYih0aGlzLmMsdGhpcy5iLmN1cnJlbnRUaW1lKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGF9KTphfSkpLnRoZW4oSihhLGZ1bmN0aW9uKGEpe3ZhciBiPWEuVyxjPWEuV2M7dGhpcy5ofHwodGhpcy55YT1jKTt0aGlzLmEuZ2V0Qm9vbCgidXNlX2xpdmVfYml0cmF0ZV9lc3RpbWF0ZXMiLCExKSYmbnVsbCE9YSYmMDxhLkRjJiYwPGEuSCYmKG51bGw9PT10aGlzLm0mJih0aGlzLm09VWQodGhpcyx0aGlzLmcuYmFuZHdpZHRofHwwKSksdGhpcy5tLnNhbXBsZSg4KgphLkRjLGEuSCkpO2E9dGhpcy5hLmdldE51bWJlcigiYnVmZmVyX3ZlbG9jaXR5X3RpbWVfaW5fcGFzdF90b19jb25zaWRlciIsMCk7MDxhJiZudWxsIT09dGhpcy5nJiYidmlkZW8iPT09TWQodGhpcy5nKSYmKG51bGw9PT10aGlzLkEmJih0aGlzLkE9bmV3IEJ1ZmZlclZlbG9jaXR5KGEpKSx0aGlzLkEucmVjb3JkQnVmZmVyQWhlYWQocmIodGhpcy5jLHRoaXMuYi5jdXJyZW50VGltZSkpKTt0aGlzLlA9ITE7InZpZGVvIj09PSh0aGlzLmc/dGhpcy5nLm1pbWVUeXBlLnNwbGl0KCIvIilbMF06bnVsbCkmJnRoaXMuZGlzcGF0Y2hFdmVudCh5KHt0eXBlOiJmZXRjaF9lbmQiLGJ1YmJsZXM6ITAsZGV0YWlsOntzdHJlYW1fZmV0Y2hfdGltZV9tczpEYXRlLm5vdygpLXRoaXMud2Esc2VnbWVudF9sZW5ndGhfbXM6MUUzKihlLmVuZFRpbWUtZS5zdGFydFRpbWUpfX0pKTtudWxsPT10aGlzLkQmJih0aGlzLkQ9Yik7dGhpcy5pYSYmMDxyYih0aGlzLmMsZCkmJih0aGlzLmlhPSExLHRoaXMuYS5nZXRCb29sKCJkaXNhYmxlX251ZGdlIiwKITEpfHwoYj15KHt0eXBlOiJzaG91bGRfbnVkZ2UifSksdGhpcy5kaXNwYXRjaEV2ZW50KGIpKSk7Vih0aGlzLDApfSkpLmNhdGNoKEooYSxmdW5jdGlvbihhKXt0aGlzLlA9ITE7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfSkpfWZ1bmN0aW9uIG1lKGEsYixjKXt2YXIgZD1hLmg/YjpiKyhhLkR8fDApO3JldHVybnthZGRpdGlvbmFsU2VnbWVudHNSZXF1aXJlZDpjLHBsYXloZWFkOmIsYnVmZmVyU3RhcnQ6ZCxidWZmZXJFbmQ6YWUoYSxiKStkLGJ1ZmZlcmluZ0dvYWw6WmQoYSksaXNQbGF5aW5nOiFhLmIucGF1c2VkfX1mdW5jdGlvbiBsZShhLGIsYyl7YS51JiZhLnUudXBkYXRlUGxheWVyU3RhdGUoYyxiKX1mdW5jdGlvbiBuZShhLGIpe2EuRiYmYS5GLnVwZGF0ZVBsYXllclN0YXRlKGIpfQpmdW5jdGlvbiBwZShhLGIsYyl7dmFyIGQ9bnVsbCE9PWEuaSYmLTE8YS5pJiZhLmk8Yy5sZW5ndGgoKS0xP2MuZ2V0KGEuaSk6bnVsbCxlPW51bGw7aWYobnVsbD09PWEuaXx8IWR8fGQuc3RhcnRUaW1lPmIpcmV0dXJuIGU9Yy5maW5kSW5kZXgoYiksYS5pPWU7Zm9yKGQ9YS5pO2Q8PWEuaSsxO2QrKylpZihlPWMuZ2V0KGQpLGUuc3RhcnRUaW1lPD1iJiZlLmVuZFRpbWU+YilyZXR1cm4gYS5pPWQ7ZT1jLmZpbmRJbmRleChiKTtyZXR1cm4oYS5pPWUpfHwtMX1mdW5jdGlvbiBkZShhKXtyZXR1cm4gYS5hLmdldEJvb2woInJlcGxhY2VfbG93ZXJfcXVhbGl0eV9idWZmZXIiLCExKSYmbnVsbD09PWEuRiYmYS5lYSYmbnVsbCE9PWEuJCYmInZpZGVvIj09PU1kKGEuZykmJm51bGwhPT1hLmZ9CmZ1bmN0aW9uIGplKGEsYil7aWYoIWEuRmF8fCFhLmcuaWR8fCFhLmYpcmV0dXJuW107dmFyIGM9cGUoYSxiLGEuZik7cmV0dXJuLTE9PT1jP1tdOkJ1ZmZlclJlcGxhY2VtZW50SGVscGVyLmdldFNlZ21lbnRzVG9SZXBsYWNlTG93ZXJRdWFsaXR5KGEuZi5nZXRTZWdtZW50cygpLGIsYyxhLmcuaWQsYS5GYSxhLiQse3RocmVzaG9sZEJlZm9yZTphLmEuZ2V0TnVtYmVyKCJidWZmZXJfcmVwbGFjZW1lbnRfYmVoaW5kX3RocmVzaG9sZCIsNSksdGhyZXNob2xkQWZ0ZXI6YS5hLmdldE51bWJlcigiYnVmZmVyX3JlcGxhY2VtZW50X2FoZWFkX3RocmVzaG9sZCIsMTUpLHdyYXBSZXBsYWNlbWVudFBhc3RFbmQ6YS5hLmdldEJvb2woIndyYXBfcmVwbGFjZW1lbnRfcGFzdF9lbmQiLCExKX0pfQpuLnpjPWZ1bmN0aW9uKCl7dmFyIGE7aWYodGhpcy5sKXt2YXIgYj10aGlzLmEuZ2V0TnVtYmVyKCJzdHJlYW1fb251cGRhdGVfc2FtcGxpbmciLDApO2ImJjA9PT1NYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqYikmJihhPXRoaXMubC5nZXRPcGVyYXRpb25Mb2dnZXIoInN0cmVhbV9vbnVwZGF0ZSIpLnN0YXJ0KCkpfXZhciBjO3RoaXMuYS5nZXROdW1iZXIoImRlY291cGxlX3N0cmVhbV9vbl91cGRhdGVfbG9vcF9mcm9tX3JlcXVlc3RfbG9vcF9pbnQiLDApJiZWKHRoaXMsdGhpcy5hLmdldE51bWJlcigiZGVjb3VwbGVfc3RyZWFtX29uX3VwZGF0ZV9sb29wX2Zyb21fcmVxdWVzdF9sb29wX2ludCIsMCkpO2lmKHRoaXMuYS5nZXRCb29sKCJjYXRjaF9zdHJlYW1fdXBkYXRlX3N5bmNfY29kZV9lcnJvciIsITEpKXRyeXtjPWJlKHRoaXMpfWNhdGNoKGQpe2QudHlwZT0idW5jYXVnaHQiLGEmJmEuc2V0RXJyb3IoZCksYz1Qcm9taXNlLnJlamVjdChkKX1lbHNlIGM9YmUodGhpcyk7Yy5jYXRjaChKKHRoaXMsCmZ1bmN0aW9uKGEpe2lmKCJhYm9ydGVkIiE9YS50eXBlKXtpZigic291cmNlYnVmZmVyX2Z1bGwiPT09YS50eXBlKXJldHVybiBCYih0aGlzLmMpLnRoZW4oSih0aGlzLGZ1bmN0aW9uKCl7Vih0aGlzLDApfSkpO3ZhciBiPVswLDQwNCw0MTAsNTAyLDUwMyw1MDRdO3RoaXMuYS5nZXRCb29sKCJlbmFibGVfZG91YmxlX2luZ2VzdCIsITEpJiZiLnB1c2goNDE3LDIwMCk7Yj0tMT09PWIuaW5kZXhPZihhLnN0YXR1cyk7aWYoIm5ldCI9PT1hLnR5cGUmJiFiJiZ0aGlzLmcpaWYodGhpcy5hLmdldEJvb2woImFsbG93X2luZmluaXRlX3JldHJ5X29uX25ldF9lcnIiLCEwKSlzd2l0Y2goYS5zdGF0dXMpe2Nhc2UgNDA0OlYodGhpcywyRTMpO2JyZWFrO2Nhc2UgNDEwOnRoaXMuYS5nZXRCb29sKCJlbmRfYWxsX3N0cmVhbXNfb25fNDEwIiwhMSk/cWUodGhpcyk6dGhpcy5DYigpO2JyZWFrO2Nhc2UgNDE3OmNhc2UgMjAwOmEucmVzcG9uc2VIZWFkZXJzJiZudWxsIT1hLnJlc3BvbnNlSGVhZGVyc1sieC1mYi12aWRlby1yZXBsaWNhIl0/CnRoaXMuZGlzcGF0Y2hFdmVudCh5KHt0eXBlOiJyZXBsaWNhc3dpdGNoIixidWJibGVzOiEwLHJlcGxpY2E6YS5yZXNwb25zZUhlYWRlcnNbIngtZmItdmlkZW8tcmVwbGljYSJdLHVybDphLnVybCxzdGF0dXM6YS5zdGF0dXN9KSk6Yj0hMDticmVhaztkZWZhdWx0OlYodGhpcywxRTMpfWVsc2UgVih0aGlzLDFFMyksYj0hMDswPT09YS5zdGF0dXM/dGhpcy5zYS5pbmZvcm1OZXR3b3JrSW50ZXJydXB0ZWQoKTp0aGlzLnNhLmluZm9ybU5ldHdvcmtSZXN1bWVkKCk7aWYoIXRoaXMuYS5nZXRCb29sKCJhbGxvd19pbmZpbml0ZV9yZXRyeV9vbl9uZXRfZXJyIiwhMCl8fGIpYj1BKGEpLHRoaXMuZGlzcGF0Y2hFdmVudChiKSx0aGlzLmwmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgYj10aGlzLmwuZ2V0RXZlbnRMb2dnZXIoInN0cmVhbV9lcnJvcl9mYWxsYmFjayIpLnNldEVycm9yKGEpLnNldFR5cGUodGhpcy5DYS5zcGxpdCgiLyIpWzBdKTt0aGlzLmI/Yi5zZXRSZXN1bHQoImZhaWxlZCIpOgpiLnNldFJlc3VsdCgic3VjY2VzcyIpO2IubG9nKCl9LmJpbmQodGhpcyksMCl9fSkpO2EmJmEubG9nKCl9O2Z1bmN0aW9uIGtlKGEsYixjLGQsZSl7dmFyIGY9LTE7aWYoYS5hLmdldEJvb2woInRlbXBsYXRlZF9mYXN0ZXJfc3RyZWFtX2dldF9uZXh0X24iLCExKSYmMT09PWQmJm51bGwhPWUmJm51bGwhPWUuZW5kVGltZSlyZXR1cm4oYz1jLmZpbmQoZS5lbmRUaW1lKSk/W2NdOltdO251bGwhPWU/Zj1udWxsIT1lLmVuZFRpbWU/Yy5maW5kSW5kZXgoZS5lbmRUaW1lKTotMTooZj1wZShhLGIsYyksMD5mJiYoZj1jLmxlbmd0aCgpP2MubGVuZ3RoKCktMTotMSkpO2E9W107aWYoMDw9Zilmb3IoYj1mO2I8ZitkJiZiPGMubGVuZ3RoKCk7YisrKWEucHVzaChjLmdldChiKSk7cmV0dXJuIGF9CmZ1bmN0aW9uIGNlKGEpe2lmKCFhLmgmJm51bGwhPWEuRCl7YS5oPSEwO3ZhciBiPWEuYyxjPWEuRCxkPWMtYi5VOzAhPWQmJihiLmI9a2QoYi5iLGQpLGIuVT1jKTthLk8ucmVzb2x2ZShhLkQpfX1uLkVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaH07VS5wcm90b3R5cGUuaGFzU3RhcnRlZD1VLnByb3RvdHlwZS5FZDtVLnByb3RvdHlwZS5rYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLlR9O1UucHJvdG90eXBlLmhhc0hpdEJ1ZmZlcmluZ0dvYWw9VS5wcm90b3R5cGUua2I7VS5wcm90b3R5cGUubGE9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09PXRoaXMubT9udWxsOnRoaXMubS5nZXRFc3RpbWF0ZSgpfTtVLnByb3RvdHlwZS5nZXRCaXRyYXRlRXN0aW1hdGU9VS5wcm90b3R5cGUubGE7VS5wcm90b3R5cGUucWI9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09PXRoaXMuQT9udWxsOnRoaXMuQS5nZXRWZWxvY2l0eSgpfTtVLnByb3RvdHlwZS5nZXRCdWZmZXJWZWxvY2l0eT1VLnByb3RvdHlwZS5xYjsKZnVuY3Rpb24gb2UoYSxiLGMsZCl7dmFyIGU9Yi5taW1lVHlwZS5zcGxpdCgiLyIpWzBdO2I9eSh7dHlwZToiYWRhcHRhdGlvbiIsaWQ6Yi5pZCxidWJibGVzOiEwLGNvbnRlbnRUeXBlOmUsc2l6ZToidmlkZW8iIT1lP251bGw6e3dpZHRoOmIud2lkdGgsaGVpZ2h0OmIuaGVpZ2h0fSxiYW5kd2lkdGg6ZHx8Yi5iYW5kd2lkdGgscmVhc29uOmN9KTthLmRpc3BhdGNoRXZlbnQoYil9ZnVuY3Rpb24gcWUoYSl7dmFyIGI9eSh7dHlwZToic2hvdWxkX2VuZF9hbGxfc3RyZWFtcyJ9KTthLmRpc3BhdGNoRXZlbnQoYil9ZnVuY3Rpb24gV2QoYSl7dmFyIGI9eSh7dHlwZToiZW5kZWQifSk7YS5kaXNwYXRjaEV2ZW50KGIpfVUucHJvdG90eXBlLk9hPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuRn07VS5wcm90b3R5cGUuZ2V0VmlkZW9TdHJlYW1pbmdNYW5hZ2VyPVUucHJvdG90eXBlLk9hOwpmdW5jdGlvbiBWKGEsYil7VmQoYSk7IWImJmEuSGE/UHJvbWlzZS5yZXNvbHZlKCkudGhlbihhLnpjLmJpbmQoYSkpOmEudz1zZXRUaW1lb3V0KGEuemMuYmluZChhKSxiKX1mdW5jdGlvbiBWZChhKXtudWxsIT1hLncmJihjbGVhclRpbWVvdXQoYS53KSxhLnc9bnVsbCl9VS5wcm90b3R5cGUuc2I9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy55YX07VS5wcm90b3R5cGUuZ2I9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jLml9O1UucHJvdG90eXBlLmdldFN0cmVhbVByb2dyZXNzVHJhY2tlcj1VLnByb3RvdHlwZS5nYjtmdW5jdGlvbiByZShhLGIpe2EuSz1iO2EuVj0hMDthLkl8fChhLkk9bmV3IEkpO3JldHVybiBhLkl9O2Z1bmN0aW9uIHNlKGEpe3RoaXMuYj1hO3RoaXMuYT1udWxsfXNlLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5hJiYodGhpcy5hLmRlc3Ryb3koKSx0aGlzLmE9bnVsbCl9O3NlLnByb3RvdHlwZS5jcmVhdGU9ZnVuY3Rpb24oKXtpZih0aGlzLmEpcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLmEpO3ZhciBhPW5ldyBpZCgwLG51bGwsdGhpcy5iLDAsMCksYT1uZXcgVChbYV0sMSk7dGhpcy5hPW5ldyBSKGEpO3JldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5hKX07c2UucHJvdG90eXBlLmM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hfTtmdW5jdGlvbiB0ZShhLGIpe0YuY2FsbCh0aGlzLGEpO3RoaXMuYj1iO3RoaXMuaj0hMDt0aGlzLm09dGhpcy5nPW51bGw7dGhpcy5mPW5ldyBJO3RoaXMuYT1udWxsfXIodGUsRik7dGUucHJvdG90eXBlLnBhPWZ1bmN0aW9uKCl7fTt0ZS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuYSYmdGhpcy5iLnJlbW92ZUNoaWxkKHRoaXMuYSk7dGhpcy5mLmRlc3Ryb3koKTt0aGlzLkphPXRoaXMuYj10aGlzLmc9dGhpcy5tPXRoaXMuYT10aGlzLmY9bnVsbH07bj10ZS5wcm90b3R5cGU7bi5XYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmd9O24uRmI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tfTtuLktjPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZn07bi5mYj1mdW5jdGlvbigpe3JldHVybiEwfTtuLkNiPWZ1bmN0aW9uKCl7fTsKbi5qYj1mdW5jdGlvbihhKXthLk0uY3JlYXRlKCkudGhlbihKKHRoaXMsZnVuY3Rpb24oYil7aWYodGhpcy5iKXtpZigwPT1iLmxlbmd0aCgpKXJldHVybiBQcm9taXNlLnJlamVjdChFcnJvcigiTm8gc3VidGl0bGVzIFVSTCBhdmFpbGFibGUuIikpO3ZhciBjPXRoaXMuZzt0aGlzLmc9YTt0aGlzLm09YjtiPWIuZmlyc3QoKS51cmwuY1swXS50b1N0cmluZygpO3ZhciBkPXRoaXMuRGIoKTt0aGlzLmEmJih0aGlzLnZiKCExKSx0aGlzLmIucmVtb3ZlQ2hpbGQodGhpcy5hKSk7dGhpcy5hPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRyYWNrIik7dGhpcy5iLmFwcGVuZENoaWxkKHRoaXMuYSk7dGhpcy5hLnNyYz1iO3RoaXMudmIoZCk7Yj15KHt0eXBlOiJhZGFwdGF0aW9uIixidWJibGVzOiEwLGNvbnRlbnRUeXBlOiJ0ZXh0IixzaXplOm51bGwsYmFuZHdpZHRoOmEuYmFuZHdpZHRofSk7dGhpcy5kaXNwYXRjaEV2ZW50KGIpO2N8fHRoaXMuZi5yZXNvbHZlKDApfX0pKX07bi5DYz1mdW5jdGlvbigpe307Cm4uSGM9ZnVuY3Rpb24oKXt9O24uSWM9ZnVuY3Rpb24oKXtyZXR1cm4hMH07bi52Yj1mdW5jdGlvbihhKXt0aGlzLmo9YTt0aGlzLmEmJih0aGlzLmEudHJhY2subW9kZT1hPyJzaG93aW5nIjoiZGlzYWJsZWQiKX07bi5EYj1mdW5jdGlvbigpe3RoaXMuYSYmKHRoaXMuaj0ic2hvd2luZyI9PXRoaXMuYS50cmFjay5tb2RlKTtyZXR1cm4gdGhpcy5qfTtuLnNiPWZ1bmN0aW9uKCl7cmV0dXJuIDB9O24uSmM9ZnVuY3Rpb24oKXt9O2Z1bmN0aW9uIHVlKCl7fQp1ZS5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9bnVsbDt0cnl7dmFyIGY7dmFyIGc9bmV3IElhKGIpO2lmKDQ0MDc4Njg1MSE9S2EoZykuaWQpZj1udWxsO2Vsc2V7dmFyIGg9S2EoZyk7aWYoNDA4MTI1NTQzIT1oLmlkKWY9bnVsbDtlbHNle3ZhciBrPWguYS5ieXRlT2Zmc2V0LGw7dmFyIG09bmV3IElhKGguYSk7Zm9yKGI9bnVsbDtEYShtLmEpOyl7dmFyIHA9S2EobSk7aWYoMzU3MTQ5MDMwPT1wLmlkKXtiPXA7YnJlYWt9fWlmKGIpe2Zvcih2YXIgdD1uZXcgSWEoYi5hKSxwPTFFNixtPW51bGw7RGEodC5hKTspe3ZhciB3PUthKHQpO2lmKDI4MDc3Mjk9PXcuaWQpcD1PYSh3KTtlbHNlIGlmKDE3NTQ1PT13LmlkKWlmKGI9dyw0PT1iLmEuYnl0ZUxlbmd0aCltPWIuYS5nZXRGbG9hdDMyKDApO2Vsc2UgaWYoOD09Yi5hLmJ5dGVMZW5ndGgpbT1iLmEuZ2V0RmxvYXQ2NCgwKTtlbHNlIHRocm93IG5ldyBSYW5nZUVycm9yKCJFYm1sRWxlbWVudDogZmxvYXRpbmcgcG9pbnQgbnVtYmVycyBtdXN0IGJlIDQgb3IgOCBieXRlcy4iKTt9bnVsbD09Cm0/bD1udWxsOih0PXAvMUU5LGw9e0diOnQsZHVyYXRpb246bSp0fSl9ZWxzZSBsPW51bGw7Zj1sP3tBZDprLEdiOmwuR2IsZHVyYXRpb246bC5kdXJhdGlvbn06bnVsbH19aWYoZil7dmFyIHo9S2EobmV3IElhKGEpKTtpZig0NzUyNDk1MTUhPXouaWQpZT1udWxsO2Vsc2V7dmFyIEg9Zi5BZCxkYT1mLkdiLGVhPWYuZHVyYXRpb247YT1bXTtmb3IodmFyIEFhPW5ldyBJYSh6LmEpLGs9Zj16PS0xO0RhKEFhLmEpOyl7dmFyIGNiPUthKEFhKTtpZigxODc9PWNiLmlkKXt2YXIgbmE7dmFyIHZkPW5ldyBJYShjYi5hKSx3ZD1LYSh2ZCk7aWYoMTc5IT13ZC5pZCluYT1udWxsO2Vsc2V7dmFyIFllPU9hKHdkKSx4ZD1LYSh2ZCk7aWYoMTgzIT14ZC5pZCluYT1udWxsO2Vsc2V7dmFyIGVlPW5ldyBJYSh4ZC5hKTtmb3IobD0wO0RhKGVlLmEpOyl7dmFyIGZlPUthKGVlKTtpZigyNDE9PWZlLmlkKXtsPU9hKGZlKTticmVha319bmE9e3piOlllLHlkOmx9fX1pZihuYSl7dmFyIGdlPWRhKm5hLnpiLApoZT1IK25hLnlkO2lmKDA8PXope3ZhciBOYz1uZXcgSyhkLGMsayxoZS0xKSxBZj1uYS56Yi1mO2EucHVzaChuZXcgaWQoeixnZSxOYyxuYS56YixBZikpfXo9Z2U7Zj1uYS56YjtrPWhlfX19MDw9eiYmKE5jPW5ldyBLKGQsYyxrLG51bGwpLGEucHVzaChuZXcgaWQoeixlYSxOYyxmLGVhL2RhLWYpKSk7ZT1hfX1lbHNlIGU9bnVsbH1jYXRjaChpZSl7aWYoIShpZSBpbnN0YW5jZW9mIFJhbmdlRXJyb3IpKXRocm93IGllO31yZXR1cm4gZX07ZnVuY3Rpb24gdmUoYSxiLGMsZCxlLGYsZyxoLGssbCxtKXt0aGlzLmg9YTt0aGlzLm89Yjt0aGlzLmI9Yzt0aGlzLm09bHx8bnVsbDt0aGlzLmo9bXx8bnVsbDt0aGlzLmE9ZDt0aGlzLmc9ZTt0aGlzLmY9Zjt0aGlzLnc9Zzt0aGlzLlJhPW51bGw7dGhpcy5pPWg7dGhpcy5sPWt8fG51bGw7dGhpcy51PW51bGx9dmUucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmk9dGhpcy5vPXRoaXMuaD1udWxsO3RoaXMuYS5LYSgpO3RoaXMuYT1udWxsO3RoaXMuZiYmKHRoaXMuZi5LYSgpLHRoaXMuZj1udWxsKTt0aGlzLmcmJih0aGlzLmcuS2EoKSx0aGlzLmc9bnVsbCk7dGhpcy5SYT1udWxsfTt2ZS5wcm90b3R5cGUuUWM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5SYX07dmUucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbigpe3JldHVybiB3ZSh0aGlzKX07dmUucHJvdG90eXBlLnBiPWZ1bmN0aW9uKCl7cmV0dXJuIHdlKHRoaXMpfTsKZnVuY3Rpb24gd2UoYSl7aWYoYS5SYSlyZXR1cm4gYS5SYTt2YXIgYj1udWxsO2EubCYmKGI9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigiY3JlYXRlX2NvbnRhaW5lcl9zZWdtZW50X2luZGV4X3NvdXJjZSIpLnN0YXJ0KCkpO2lmKG51bGwhPT1hLm0mJihudWxsIT09YS5qfHwid2VibSIhPT1hLmIpKXJldHVybiB4ZShhLGEubSxhLmosYik7dmFyIGM9W2EuYS5mZXRjaChudWxsLG51bGwsYS5sLGIpXTsid2VibSI9PWEuYiYmYy5wdXNoKGEuZy5mZXRjaChudWxsLG51bGwsYS5sLGIpKTthLlJhPVByb21pc2UuYWxsKGMpLnRoZW4oSihhLGZ1bmN0aW9uKGEpe3JldHVybiB4ZSh0aGlzLGFbMF0sYVsxXXx8bnVsbCxiKX0pKTtyZXR1cm4gYS5SYX0KZnVuY3Rpb24geGUoYSxiLGMsZCl7dmFyIGU9bnVsbDsibXA0Ij09YS5iPyhlPW5ldyB0ZCxlPWUucGFyc2UobmV3IERhdGFWaWV3KGIpLGEuYS5zdGFydEJ5dGUsYS5hLmMsYS5pLGEuZikpOiJ3ZWJtIj09YS5iJiYoZT1uZXcgdWUsZT1lLnBhcnNlKG5ldyBEYXRhVmlldyhiKSxuZXcgRGF0YVZpZXcoYyksYS5hLmMsYS5pKSk7aWYoIWUpcmV0dXJuIGE9RXJyb3IoIkZhaWxlZCB0byBwYXJzZSBTZWdtZW50UmVmZXJlbmNlcyBmcm9tICIrYS5hLnRvU3RyaW5nKCkrIiAob3Igb25lIG9mIGl0cyBmYWxsYmFja3MpLiIpLGEudHlwZT0ic3RyZWFtIixQcm9taXNlLnJlamVjdChhKTtiPW5ldyBUKGUsZS5zKTt2YXIgZjsiZHluYW1pYyI9PWEuaC50eXBlP2Y9bmV3IFMoYixhLmgsYS5vLGEudyk6Zj1uZXcgUihiKTtkJiZkLmxvZygpO2EudT1mO3JldHVybiBQcm9taXNlLnJlc29sdmUoZil9dmUucHJvdG90eXBlLmM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51fTtmdW5jdGlvbiB5ZShhLGIsYyxkKXt0aGlzLmM9YTt0aGlzLmI9Yjt0aGlzLmw9Y3x8bnVsbDt0aGlzLmE9ZHx8bnVsbH0KZnVuY3Rpb24gemUoYSxiLGMpe2Zvcih2YXIgZD15YSgpLzFFMyxlPTA7ZTxiLmEubGVuZ3RoOysrZSlmb3IodmFyIGY9Yi5hW2VdLGc9MDtnPGYuYS5sZW5ndGg7KytnKXt2YXIgaD1mLmFbZ107aWYoInRleHQiIT1oLmNvbnRlbnRUeXBlKWZvcih2YXIgaz0wO2s8aC5hLmxlbmd0aDsrK2spe3ZhciBsPWguYVtrXSxtPTAsbT1tKyhsLmY/MTowKSxtPW0rKGwuYj8xOjApLG09bSsobC5hPzE6MCk7MD09bT8oaC5hLnNwbGljZShrLDEpLC0tayk6MSE9bSYmKGwuZj8obC5iPW51bGwsbC5hPW51bGwpOmwuYiYmKGwuYT1udWxsKSl9fUFlKGIpO2ZvcihlPTA7ZTxiLmEubGVuZ3RoOysrZSlmb3IoZj1iLmFbZV0sZz0wO2c8Zi5hLmxlbmd0aDsrK2cpe2s9aD1mLmFbZ107bD1udWxsO2ZvcihtPTA7bTxrLmEubGVuZ3RoOysrbSl7dmFyIHA9ay5hW21dLm1pbWVUeXBlfHwiIjtsP3AhPWwmJihrLmEuc3BsaWNlKG0sMSksLS1tKTpsPXB9MD09aC5hLmxlbmd0aCYmKGYuYS5zcGxpY2UoZywxKSwKLS1nKX1iLm1hbmlmZXN0SXNMaXZlU3RyZWFtaW5nJiZudWxsPT1iLmMmJihiLmM9ZCk7ZT1uZXcgVGQ7ImR5bmFtaWMiPT1iLnR5cGUmJihlLmI9ITAsZS5jPWIuZyxlLmk9bmV3IEsoYyxiLnV8fGIudXJsLHZvaWQgMCx2b2lkIDAsdm9pZCAwLGEuYSksZS5qPWIuYyk7ZS5CPWIuaHx8MDtlLm09Yi5pfHwwO2Uubz1iLmp8fDA7ZS5nPWIubXx8NTtmb3IoZj0wO2Y8Yi5hLmxlbmd0aDsrK2Ype2c9Yi5hW2ZdO2lmKG51bGw9PWcuc3RhcnQpYnJlYWs7Zz1CZShhLGIsZyxkLGMpO2UuYS5wdXNoKGcpfWUuZj1iLkZCSXNMaXZlVGVtcGxhdGVkO2EubCYmYS5sLnNldElzVGVtcGxhdGVkTWFuaWZlc3QoYi5GQklzTGl2ZVRlbXBsYXRlZCk7ZS5BPWIuRkJXYXNMaXZlO2E9bnVsbDtjPSJub25lIjtmb3IoZj0wO2Y8Yi5hLmxlbmd0aDtmKyspZm9yKGc9Yi5hW2ZdLGQ9MDtkPGcuYS5sZW5ndGg7ZCsrKWZvcihoPWcuYVtkXSxrPTA7azxoLmEubGVuZ3RoO2srKylsPWguYVtrXS5pLG51bGwhPQpsJiZudWxsIT1sLnZhbHVlJiYoYT1jPWwudmFsdWUsInVybjptcGVnOmRhc2g6MjMwMDM6MzphdWRpb19jaGFubmVsX2NvbmZpZ3VyYXRpb246MjAxMSI9PT1sLmEmJigiMSI9PT1hP2M9Im1vbm8iOiIyIj09PWEmJihjPSJzdGVyZW8iKSkpO2Uudz1jO2E9cGFyc2VJbnQoYSwxMCk7ZS51PTA8YT9hOm51bGw7cmV0dXJuIGV9CmZ1bmN0aW9uIEFlKGEpe2lmKGEuYS5sZW5ndGgpe251bGw9PWEuYVswXS5zdGFydCYmKGEuYVswXS5zdGFydD0wKTt2YXIgYj1mdW5jdGlvbihhKXtyZXR1cm4gMD09YXx8ISFhfTthLm1hbmlmZXN0SXNMaXZlU3RyZWFtaW5nJiYoYS5iPW51bGwpO2IoYS5iKSYmMT09YS5hLmxlbmd0aCYmIWIoYS5hWzBdLmR1cmF0aW9uKSYmKGEuYVswXS5kdXJhdGlvbj1hLmIpO2Zvcih2YXIgYz0wLGQ9ITAsZT0wO2U8YS5hLmxlbmd0aDsrK2Upe3ZhciBmPWEuYVtlLTFdLGc9YS5hW2VdLGg9YS5hW2UrMV18fHtzdGFydDphLmJ9OyFiKGcuc3RhcnQpJiZmJiZiKGYuc3RhcnQpJiZiKGYuZHVyYXRpb24pJiYoZy5zdGFydD1mLnN0YXJ0K2YuZHVyYXRpb24pOyFiKGcuZHVyYXRpb24pJiZiKGguc3RhcnQpJiYoZy5kdXJhdGlvbj1oLnN0YXJ0LWcuc3RhcnQpO251bGwhPWcuc3RhcnQmJm51bGwhPWcuZHVyYXRpb24/Yys9Zy5kdXJhdGlvbjpkPSExfWIoYS5iKXx8KGU9YS5hW2EuYS5sZW5ndGgtMV0sCmQ/YS5iPWM6YihlLnN0YXJ0KSYmYihlLmR1cmF0aW9uKT9hLmI9ZS5zdGFydCtlLmR1cmF0aW9uOmEubWFuaWZlc3RJc0xpdmVTdHJlYW1pbmd8fChhLmI9YykpfX0KZnVuY3Rpb24gQmUoYSxiLGMsZCxlKXt2YXIgZj1uZXcgU2Q7Zi5pZD1jLmlkO2Yuc3RhcnQ9Yy5zdGFydDtmLmR1cmF0aW9uPWMuZHVyYXRpb247dmFyIGc9bmV3IEQ7Yy5hLmZvckVhY2goZnVuY3Rpb24oYSl7Zy5wdXNoKGEuY29udGVudFR5cGV8fCIiLGEpfSk7Zm9yKHZhciBoPWFiKGcpLGs9MDtrPGgubGVuZ3RoOysrayl7dmFyIGw9bmV3IEQ7Zy5nZXQoaFtrXSkuZm9yRWFjaChmdW5jdGlvbihhKXtsLnB1c2goYS5ncm91cCxhKX0pO2Zvcih2YXIgbT1hYihsKSxwPTA7cDxtLmxlbmd0aDsrK3Ape3ZhciB0PW5ldyBEO2wuZ2V0KG1bcF0pLmZvckVhY2goZnVuY3Rpb24oYSl7dC5wdXNoKGEubGFuZyxhKX0pO2Zvcih2YXIgdz1hYih0KSx6PTA7ejx3Lmxlbmd0aDsrK3ope3ZhciBIPXQuZ2V0KHdbel0pLEg9Q2UoYSxiLGMsSCxkLGUpO2YuYS5wdXNoKEgpfX19cmV0dXJuIGZ9CmZ1bmN0aW9uIENlKGEsYixjLGQsZSxmKXtiYShkLmV2ZXJ5KGZ1bmN0aW9uKGEpe3JldHVybiBhLmdyb3VwPT1kWzBdLmdyb3VwJiYoYS5sYW5nfHwiIik9PShkWzBdLmxhbmd8fCIiKSYmKGEuY29udGVudFR5cGV8fCIiKT09KGRbMF0uY29udGVudFR5cGV8fCIiKX0pKTt2YXIgZz1uZXcgT2QsaD1kLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YS5pZH0pO2gubGVuZ3RoPT1kLmxlbmd0aCYmKGcuaWQ9aC5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuaWR9KS5zb3J0KCkucmVkdWNlKGZ1bmN0aW9uKGEsYil7cmV0dXJuIGErIiwiK2J9KSk7Zy5iPSEoIWRbMF0uYnx8InVybjpzY3RlOmRhc2g6Y2M6Y2VhLTYwODoyMDE1IiE9PWRbMF0uYi5hKTtnLmxhbmc9ZFswXS5sYW5nfHwiIjtnLmNvbnRlbnRUeXBlPWRbMF0uY29udGVudFR5cGV8fCIiO2cuZj1kLnNvbWUoZnVuY3Rpb24oYSl7cmV0dXJuIGEuZn0pO2Zvcih2YXIgaD17fSxrPTA7azxkLmxlbmd0aDsrK2spe3ZhciBsPQpkW2tdO2wuYyYmKGcuYz1sLmMpO2Zvcih2YXIgbT0wO208bC5hLmxlbmd0aDsrK20pe3ZhciBwPWwuYVttXSx0PURlKGEscCksdz1nLmEuc2xpY2UoMCk7RWUodCx3KTswPT13Lmxlbmd0aCYmMDxnLmEubGVuZ3RofHwhKHA9RmUoYSxiLGMscCxlLGYpKXx8KGcudi5wdXNoKHApLGcuYT13LGhbcC5YXT1sKX19aWYoZy5hLnNvbWUoZnVuY3Rpb24oYSl7cmV0dXJuIiI9PWEuYX0pKXJldHVybiBnLnYuZm9yRWFjaChmdW5jdGlvbihhKXthLm9hPSEwfSksZzthPUdlKGQpO2ZvcihrPTA7azxnLnYubGVuZ3RoOysraylwPWcudltrXSxsPWhbcC5YXSxsPT1hJiYocC5vYT0hMCk7cmV0dXJuIGd9CmZ1bmN0aW9uIEdlKGEpe2Zvcih2YXIgYj1udWxsLGM9bnVsbCxkPTA7ZDxhLmxlbmd0aDsrK2QpZm9yKHZhciBlPWFbZF0sZj0wO2Y8ZS5hLmxlbmd0aDsrK2Ype3ZhciBnPWUuYVtmXSxnPShnLndpZHRofHwxKSooZy5oZWlnaHR8fDEpKihnLmJhbmR3aWR0aHx8MSk7aWYobnVsbD09Ynx8ZzxiKWI9ZyxjPWV9cmV0dXJuIGN9ZnVuY3Rpb24gRWUoYSxiKXtpZigwPT1iLmxlbmd0aClBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShiLGEpO2Vsc2UgZm9yKHZhciBjPTA7YzxiLmxlbmd0aDsrK2Mpe2Zvcih2YXIgZD0hMSxlPTA7ZTxhLmxlbmd0aDsrK2Upe3ZhciBmPWJbY10sZz1hW2VdO2lmKGYuYT09Zy5hJiZmLmk9PWcuaSYmZi53aXRoQ3JlZGVudGlhbHM9PWcud2l0aENyZWRlbnRpYWxzJiZmLmg9PWcuaCYmZi5qPT1nLmomJmYuZz09Zy5nJiZmLm09PWcubSYmTWEoZi5jLGcuYykpe2Q9ITA7T2IoYltjXSxhW2VdLmIpO2JyZWFrfX1kfHwoYi5zcGxpY2UoYywxKSwtLWMpfX0KZnVuY3Rpb24gRGUoYSxiKXt2YXIgYz1bXTtpZigwPT1iLmMubGVuZ3RoKWMucHVzaChuZXcgTWIpO2Vsc2UgaWYoYS5iKWZvcih2YXIgZD0wO2Q8Yi5jLmxlbmd0aDsrK2QpYy5wdXNoLmFwcGx5KGMsSGUoYSxiLmNbZF0pKTtyZXR1cm4gY30KZnVuY3Rpb24gSGUoYSxiKXt2YXIgYz1bXTtpZigyIT1hLmIubGVuZ3RoKXJldHVybltdO3ZhciBkPWEuYihiLmZ8fCIiLGIuYyk7aWYoIShkJiZkIGluc3RhbmNlb2YgQXJyYXkpKXJldHVybltdO2Zvcih2YXIgZT0wO2U8ZC5sZW5ndGg7KytlKXt2YXIgZjt2YXIgZz1kW2VdO2Y9bmV3IE1iO2lmKGcpe3ZhciBoPVlhKGcsImtleVN5c3RlbSIpO2lmKG51bGwhPWgpZi5hPWg7ZWxzZSB0aHJvdyBFcnJvcigiJ2tleVN5c3RlbScgY2Fubm90IGJlIG51bGwuIik7dmFyIGs9WWEoZywibGljZW5zZVNlcnZlclVybCIpO2lmKG51bGwhPWspZi5pPWs7ZWxzZSBpZihoKXRocm93IEVycm9yKCJGb3IgZW5jcnlwdGVkIHN0cmVhbWluZyBjb250ZW50LCAnbGljZW5zZVNlcnZlclVybCcgY2Fubm90IGJlIG51bGwgb3IgZW1wdHkuIik7aD1CKGcsIndpdGhDcmVkZW50aWFscyIpO251bGwhPWgmJihmLndpdGhDcmVkZW50aWFscz1oKTtoPVphKGcsImxpY2Vuc2VQb3N0UHJvY2Vzc29yIixGdW5jdGlvbik7Cm51bGwhPWgmJihmLmY9aCk7aD1aYShnLCJsaWNlbnNlUHJlUHJvY2Vzc29yIixGdW5jdGlvbik7bnVsbCE9aCYmKGYubz1oKTtoPUIoZywiZGlzdGluY3RpdmVJZGVudGlmaWVyUmVxdWlyZWQiKTtudWxsIT1oJiYoZi5oPWgpO2g9QihnLCJwZXJzaXN0ZW50U3RhdGVSZXF1aXJlZCIpO251bGwhPWgmJihmLmo9aCk7aD1ZYShnLCJhdWRpb1JvYnVzdG5lc3MiKTtudWxsIT1oJiYoZi5nPWgpO2g9WWEoZywidmlkZW9Sb2J1c3RuZXNzIik7bnVsbCE9aCYmKGYubT1oKTtoPVphKGcsInNlcnZlckNlcnRpZmljYXRlIixVaW50OEFycmF5KTtudWxsIT1oJiYoZi5jPWgpO2lmKGg9WmEoZywiaW5pdERhdGEiLE9iamVjdCkpe2c9WmEoaCwiaW5pdERhdGEiLFVpbnQ4QXJyYXkpO2lmKG51bGw9PWcpdGhyb3cgRXJyb3IoIidpbml0RGF0YS5pbml0RGF0YScgY2Fubm90IGJlIG51bGwuIik7aD1ZYShoLCJpbml0RGF0YVR5cGUiKTtpZihudWxsPT1oKXRocm93IEVycm9yKCInaW5pdERhdGEuaW5pdERhdGFUeXBlJyBjYW5ub3QgYmUgbnVsbC4iKTsKZi5iLnB1c2goe2luaXREYXRhOm5ldyBVaW50OEFycmF5KGcuYnVmZmVyKSxpbml0RGF0YVR5cGU6aH0pfX0wPT1mLmIubGVuZ3RoJiZiLmEmJmIuYS5wc3NoQm94JiZPYihmLFt7aW5pdERhdGE6Yi5hLnBzc2hCb3gsaW5pdERhdGFUeXBlOiJjZW5jIn1dKTtjLnB1c2goZil9cmV0dXJuIGN9CmZ1bmN0aW9uIEZlKGEsYixjLGQsZSxmKXtpZighZC5iYXNlVXJsfHwwPT09ZC5iYXNlVXJsLmxlbmd0aClyZXR1cm4gbnVsbDt2YXIgZz1udWxsLGg9MSxrPTA7aWYoZC5mKXtnPWQubWltZVR5cGUuc3BsaXQoIi8iKVsxXTtpZigibXA0IiE9ZyYmIndlYm0iIT1nKWc9bnVsbDtlbHNle3ZhciBsPWQuZjtpZigid2VibSIhPWd8fGwuYylpZihsLmF8fGwuYiYmbC5iLmEpe2g9bC5iO2h8fChoPW5ldyB3YyxoLnVybD1kLmJhc2VVcmwsaC5hPWwuYT9sLmEuY2xvbmUoKTpudWxsKTtrPUllKGEsaCxmKTtoPWwuYz9JZShhLGwuYyxmKTpudWxsO2wuZj8obD1sLmYsbD1uZXcgSyhmLGQuYmFzZVVybCxsLnFhLGwuZW5kLHZvaWQgMCxhLmEpKTpsPW51bGw7dmFyIG09bCxwPVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgiYWRkX2lubGluZV9pbml0aWFsaXphdGlvbl9yZXNvdXJjZXMiLCExKSYmZC5oJiZkLmguZGF0YT9kLmguZGF0YTpudWxsLGw9VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJhZGRfaW5saW5lX2luaXRpYWxpemF0aW9uX3Jlc291cmNlcyIsCiExKSYmZC5nJiZkLmcuZGF0YT9kLmcuZGF0YTpudWxsO2E9bmV3IHZlKGIsYyxnLGssaCxtLGUsZixhLmwscCxsKTtiPW5ldyBnZChoLGwpO2M9bmV3IEtkO2MuTT1hO2MuYWE9YjtnPWN9ZWxzZSBnPW51bGw7ZWxzZSBnPW51bGx9aD1kLmYucztrPWQuZi5MfWVsc2UgaWYoZC5iKWc9ZC5iLCFnLkgmJiFnLkMmJjE8Zy5hLmxlbmd0aD9nPW51bGw6Zy5IfHxjLmR1cmF0aW9ufHxnLkN8fDEhPWcuYS5sZW5ndGg/Zy5DJiYwPT09Zy5DLk4ubGVuZ3RoP2c9bnVsbDooZz1nLmI/SWUoYSxnLmIsZik6bnVsbCxhPW5ldyBGZChiLGMsZCxlLGYsYS5hKSxiPW5ldyBnZChnKSxjPW5ldyBLZCxjLk09YSxjLmFhPWIsZz1jKTpnPW51bGwsaD1kLmIucyxrPWQuYi5MO2Vsc2UgaWYoZC5hKXthOmlmKGc9ZC5hLGg9MCsoZy5hPzE6MCksaCs9Zy5DPzE6MCxoKz1nLkg/MTowLDA9PWg/aD0hMTooMSE9aCYmKGcuYT8oZy5DPW51bGwsZy5IPW51bGwpOmcuQyYmKGcuSD1udWxsKSksaD0hMCksaCl7aD0KbnVsbDtpZihnLmMmJihoPShnPWQuYS5jKT9KZShkLGcseGMpOm51bGwsIWgpKXtnPW51bGw7YnJlYWsgYX1nPWg/SWUoYSxoLGYpOm51bGw7aD1kLmE7aC5hPyhoPWQubWltZVR5cGUuc3BsaXQoIi8iKVsxXSwibXA0IiE9aCYmIndlYm0iIT1oP2E9bnVsbDoid2VibSIhPWh8fGc/bWQoZixkLDEsMCx2b2lkIDAsYS5hKT8oaz0oaz1kLmEuYSk/SmUoZCxrLHdjKTpudWxsKT8oaz1JZShhLGssZiksYT1uZXcgdmUoYixjLGgsayxnLG51bGwsZSxmLGEubCkpOmE9bnVsbDphPW51bGw6YT1udWxsKTphPWguZj9oLkM/bmV3IEpkKGEuYyxiLGMsZCxlLGYsMCxhLmEpOmguSD9iLm1hbmlmZXN0SXNMaXZlU3RyZWFtaW5nfHxudWxsIT1jLmR1cmF0aW9uP25ldyBFZChiLGMsZCxlLGYpOm51bGw6bnVsbDpudWxsO2E/KGI9bmV3IGdkKGcpLGM9bmV3IEtkLGMuTT1hLGMuYWE9YixnPWMpOmc9bnVsbH1lbHNlIGc9bnVsbDtoPWQuYS5zO2s9ZC5hLkx9ZWxzZSJ0ZXh0Ij09ZC5taW1lVHlwZS5zcGxpdCgiLyIpWzBdJiYKKGc9bmV3IEtkLGcuTT1uZXcgc2UobmV3IEsoZixkLmJhc2VVcmwpKSk7aWYoIWcpcmV0dXJuIG51bGw7Zy5pZD1kLmlkO2smJihnLmE9LTEqay9oKTtnLmJhbmR3aWR0aD1kLmJhbmR3aWR0aDtnLndpZHRoPWQud2lkdGg7Zy5oZWlnaHQ9ZC5oZWlnaHQ7Zy5taW1lVHlwZT1kLm1pbWVUeXBlfHwiIjtnLmNvZGVjcz1kLmNvZGVjc3x8IiI7Zy5nPWQub3x8bnVsbDtnLmg9ZC51fHxudWxsO2cuZmJRdWFsaXR5TGFiZWw9ZC5mYlF1YWxpdHlMYWJlbHx8bnVsbDtnLmZiUXVhbGl0eUNsYXNzPWQuZmJRdWFsaXR5Q2xhc3N8fG51bGw7Zy5mPWQubXx8bnVsbDtnLmZyYW1lUmF0ZT1kLmZyYW1lUmF0ZXx8IiI7Zy5jPWQuanx8bnVsbDtmb3IoYT0wO2E8ZC5jLmxlbmd0aDsrK2EpYj1kLmNbYV0sYi5iJiZnLmIucHVzaChiLmIpO3JldHVybiBnfQpmdW5jdGlvbiBKZShhLGIsYyl7Yj1uZChiLGEuaWQsbnVsbCxhLmJhbmR3aWR0aCxudWxsKTtpZighYilyZXR1cm4gbnVsbDtjPW5ldyBjO2MudXJsPVpjKGEuYmFzZVVybCxiKTtyZXR1cm4gY31mdW5jdGlvbiBJZShhLGIsYyl7dmFyIGQ9Yi51cmwsZT0wLGY9bnVsbDtiLmEmJihlPWIuYS5xYSxmPWIuYS5lbmQpO3JldHVybiBuZXcgSyhjLGQsZSxmLHZvaWQgMCxhLmEpfTtmdW5jdGlvbiBLZShhLGIsYyxkLGUsZixnKXt0aGlzLmI9bmV3IEsobnVsbCxbbmV3IEwoYSldKTt0aGlzLmw9ZTt0aGlzLmY9Yjt0aGlzLmM9MTt0aGlzLmc9YTt0aGlzLmE9bmV3IHRiO3RoaXMuYS5ib2R5PWI7dGhpcy5hLm1ldGhvZD1jO3RoaXMuYS5OYT0zO3RoaXMuYS53aXRoQ3JlZGVudGlhbHM9ZDt0aGlzLmEuYj0xRTMqKG51bGwhPWc/ZzpoYSk7YT1mfHx7fTtmb3IodmFyIGggaW4gYSl0aGlzLmEuUWFbaF09YVtoXX0KZnVuY3Rpb24gTGUoYSl7cmV0dXJuIGEuYi5mZXRjaChhLmEpLnRoZW4oZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYi51JiYwPHRoaXMuYz8odGhpcy5jLS0sbnVsbCE9PXRoaXMubCYmbnVsbCE9PXRoaXMuYi5pJiZ0aGlzLmwuc2V0UmVhc29uKCJSZWRpcmVjdGVkIHRvIFVSTDogIit0aGlzLmIuaS50b1N0cmluZygpKSx0aGlzLmI9bmV3IEsobnVsbCxbbmV3IEwodGhpcy5nKV0pLHRoaXMuYS5ib2R5PXRoaXMuZixMZSh0aGlzKSk6UHJvbWlzZS5yZXNvbHZlKG5ldyBVaW50OEFycmF5KGEpKX0uYmluZChhKSl9O2Z1bmN0aW9uIE1lKGEsYixjLGQpe0YuY2FsbCh0aGlzLGEpO3RoaXMuYz1iO3RoaXMuaj1jO3RoaXMuYT10aGlzLmg9bnVsbDt0aGlzLmk9bmV3IGJiO3RoaXMuYj1bXTt0aGlzLmY9W107dGhpcy5tPTA7dGhpcy5nPW5ldyBJO3RoaXMubz1udWxsO3RoaXMuQT1oYTt0aGlzLmw9ZH1yKE1lLEYpO01lLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5KYT1udWxsO2Zvcih2YXIgYT0wO2E8dGhpcy5mLmxlbmd0aDsrK2EpdGhpcy5mW2FdLmNsb3NlKCkuY2F0Y2goZnVuY3Rpb24oKXt9KTt0aGlzLmY9W107dGhpcy5iPXRoaXMuYT10aGlzLmg9bnVsbDt0aGlzLmcuZGVzdHJveSgpO3RoaXMuZz1udWxsO3RoaXMuaS5kZXN0cm95KCk7dGhpcy5pPW51bGw7dGhpcy5vJiYoY2xlYXJUaW1lb3V0KHRoaXMubyksdGhpcy5vPW51bGwpO3RoaXMuYz10aGlzLmo9bnVsbH07Ck1lLnByb3RvdHlwZS5pbml0aWFsaXplPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPW5ldyBELGI9TmUodGhpcy5qKSxjPTA7YzxiLmxlbmd0aDsrK2Mpe3ZhciBkPWJbY107ZC5hLmF8fGQuYiYmIU9lKGQuYil8fGEucHVzaChkLmNvbnRlbnRUeXBlLGQpfWZvcih2YXIgYz17fSxkPSExLGU9MDtlPGIubGVuZ3RoOysrZSl7dmFyIGY9YltlXTtpZihmLmEuYSYmIWEuYS5oYXNPd25Qcm9wZXJ0eShmLmNvbnRlbnRUeXBlKSl7dmFyIGc9Zi5hLmEsaD1jW2ddO2h8fChoPWYuYSxoPXthdWRpb0NhcGFiaWxpdGllczp2b2lkIDAsdmlkZW9DYXBhYmlsaXRpZXM6dm9pZCAwLGluaXREYXRhVHlwZXM6dm9pZCAwLGRpc3RpbmN0aXZlSWRlbnRpZmllcjpoLmg/InJlcXVpcmVkIjoib3B0aW9uYWwiLHBlcnNpc3RlbnRTdGF0ZTpoLmo/InJlcXVpcmVkIjoib3B0aW9uYWwiLHNlc3Npb25UeXBlczpbInRlbXBvcmFyeSJdfSxjW2ddPWgpO2lmKGYuYiYmKGc9Zi5jb250ZW50VHlwZSsiQ2FwYWJpbGl0aWVzIiwKZyBpbiBoKSl7ZD0hMDtoW2ddfHwoaFtnXT1bXSk7dmFyIGs7ImF1ZGlvIj09Zi5jb250ZW50VHlwZT9rPWYuYS5nOiJ2aWRlbyI9PWYuY29udGVudFR5cGUmJihrPWYuYS5tKTtoW2ddLnB1c2goe2NvbnRlbnRUeXBlOmYuYixyb2J1c3RuZXNzOmt9KX19fWlmKCFkKWlmKGIubGVuZ3RoKXRoaXMuYT1iWzBdLmE7ZWxzZSB0aHJvdyBhPUVycm9yKCJObyBEcm1JbmZvIGV4aXN0cyEiKSxhLnR5cGU9ImRybSIsYTtpZigwPT1PYmplY3Qua2V5cyhjKS5sZW5ndGgpcmV0dXJuIFBlKHRoaXMuaixhKSx0aGlzLmcucmVzb2x2ZSgpLFByb21pc2UucmVzb2x2ZSgpO2s9bmV3IEk7Yz1RZShjLGspO2M9Yy50aGVuKHRoaXMudy5iaW5kKHRoaXMsYixhKSk7ay5yZWplY3QobnVsbCk7dGhpcy5sJiZ0aGlzLmwuZ2V0RXZlbnRMb2dnZXIoImVtZV9pbml0IikubG9nKCk7cmV0dXJuIGN9OwpmdW5jdGlvbiBRZShhLGIpe2Zvcih2YXIgYyBpbiBhKWI9Yi5jYXRjaChmdW5jdGlvbihhLGIpe3JldHVybiBuYXZpZ2F0b3IucmVxdWVzdE1lZGlhS2V5U3lzdGVtQWNjZXNzKGEsW2JdKX0uYmluZChudWxsLGMsYVtjXSkpO3JldHVybiBifQpNZS5wcm90b3R5cGUudz1mdW5jdGlvbihhLGIsYyl7aWYoIXRoaXMuYylyZXR1cm4gUmUoKTtmb3IodmFyIGQ9Yy5rZXlTeXN0ZW0sZT1jLmdldENvbmZpZ3VyYXRpb24oKSxmPVsiYXVkaW8iLCJ2aWRlbyJdLGc9MDtnPGYubGVuZ3RoOysrZyl7dmFyIGg9ZltnXTtpZighYi5hLmhhc093blByb3BlcnR5KGgpKXt2YXIgaz1lW2grIkNhcGFiaWxpdGllcyJdO2lmKGspe2Zvcih2YXIgaz1rWzBdLGw9W10sbT17fSxwPTA7cDxhLmxlbmd0aDsrK3Ape3ZhciB0PWFbcF0sdz1rP3QuYj09ay5jb250ZW50VHlwZTp0LmNvbnRlbnRUeXBlPT1oO3QuYS5hIT1kfHwhd3x8dC5pZCBpbiBtfHwobC5wdXNoKHQpLG1bdC5pZF09ITAsdGhpcy5hPXRoaXMuYT9OYih0aGlzLmEsdC5hKTp0LmEpfWIuc2V0KGgsbCl9fX1QZSh0aGlzLmosYik7aWYodGhpcy5jLm1lZGlhS2V5cyl0aGlzLmg9dGhpcy5jLm1lZGlhS2V5cztlbHNlIHJldHVybiBjLmNyZWF0ZU1lZGlhS2V5cygpLnRoZW4oZnVuY3Rpb24oYSl7dGhpcy5oPQphfS5iaW5kKHRoaXMpKX07ZnVuY3Rpb24gU2UoYSl7cmV0dXJuIGEuYz9hLmg/YS5jLnNldE1lZGlhS2V5cyhhLmgpLnRoZW4oSihhLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYz90aGlzLmEuYz90aGlzLmguc2V0U2VydmVyQ2VydGlmaWNhdGUodGhpcy5hLmMpOlByb21pc2UucmVzb2x2ZSgpOlJlKCl9KSkudGhlbihKKGEsZnVuY3Rpb24oKXtpZighdGhpcy5jKXJldHVybiBSZSgpO2Zvcih2YXIgYT0wO2E8dGhpcy5hLmIubGVuZ3RoOysrYSl7dmFyIGM9dGhpcy5hLmJbYV07dGhpcy51KHt0eXBlOiJlbmNyeXB0ZWQiLGluaXREYXRhVHlwZTpjLmluaXREYXRhVHlwZSxpbml0RGF0YTpjLmluaXREYXRhfSl9MD09dGhpcy5hLmIubGVuZ3RoJiZFKHRoaXMuaSx0aGlzLmMsImVuY3J5cHRlZCIsdGhpcy51LmJpbmQodGhpcykpfSkpOlByb21pc2UucmVzb2x2ZSgpOlJlKCl9CmZ1bmN0aW9uIFJlKCl7dmFyIGE9RXJyb3IoIkVtZU1hbmFnZXIgZGVzdHJveWVkIik7YS50eXBlPSJkZXN0cm95IjtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYSl9Ck1lLnByb3RvdHlwZS51PWZ1bmN0aW9uKGEpe3ZhciBiPW5ldyBVaW50OEFycmF5KGEuaW5pdERhdGEpO3RoaXMubCYmdGhpcy5sLmdldEV2ZW50TG9nZ2VyKCJlbmNyeXB0ZWRfc2FtcGxlIikubG9nKCk7Zm9yKHZhciBjPTA7Yzx0aGlzLmIubGVuZ3RoOysrYylpZihNYShiLHRoaXMuYltjXS5kYXRhKSlyZXR1cm47dHJ5e3ZhciBkPVRlKHRoaXMpfWNhdGNoKGUpe2I9QShlKTt0aGlzLmRpc3BhdGNoRXZlbnQoYik7dGhpcy5sJiZ0aGlzLmwuZ2V0RXZlbnRMb2dnZXIoImVtZV9lcnJvciIpLnNldEVycm9yKGUpLmxvZygpO3RoaXMuZy5yZWplY3QoZSk7cmV0dXJufWE9ZC5nZW5lcmF0ZVJlcXVlc3QoYS5pbml0RGF0YVR5cGUsYS5pbml0RGF0YSk7dGhpcy5iLnB1c2goe2RhdGE6Yix1YjpkfSk7YS5jYXRjaChKKHRoaXMsZnVuY3Rpb24oYSl7aWYodGhpcy5jKXtmb3IodmFyIGI9MDtiPHRoaXMuYi5sZW5ndGg7KytiKWlmKHRoaXMuYltiXS51Yj09ZCl7dGhpcy5iLnNwbGljZShiLAoxKTticmVha31iPUEoYSk7dGhpcy5kaXNwYXRjaEV2ZW50KGIpO3RoaXMubCYmdGhpcy5sLmdldEV2ZW50TG9nZ2VyKCJlbWVfZXJyb3IiKS5zZXRFcnJvcihhKS5sb2coKTt0aGlzLmcucmVqZWN0KGEpfX0pKTt0aGlzLmYucHVzaChkKX07ZnVuY3Rpb24gVWUoYSl7Zm9yKHZhciBiPVtdLGM9MDtjPGIubGVuZ3RoOysrYyl7dmFyIGQ9VGUoYSksZT1kLmxvYWQoYltjXSk7YS5mLnB1c2goZCk7ZS50aGVuKEooYSxmdW5jdGlvbigpe3RoaXMubSsrO3RoaXMubT49dGhpcy5mLmxlbmd0aCYmdGhpcy5nLnJlc29sdmUoKX0pKS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7dmFyIGI9QShhKTt0aGlzLmRpc3BhdGNoRXZlbnQoYik7dGhpcy5sJiZ0aGlzLmwuZ2V0RXZlbnRMb2dnZXIoImVtZV9lcnJvciIpLnNldEVycm9yKGEpLmxvZygpfSkpfX0KZnVuY3Rpb24gVGUoYSl7dmFyIGI9bnVsbCxiPWEuaC5jcmVhdGVTZXNzaW9uKCk7RShhLmksYiwibWVzc2FnZSIsYS5ELmJpbmQoYSkpO0UoYS5pLGIsImtleXN0YXR1c2VzY2hhbmdlIixhLkIuYmluZChhKSk7cmV0dXJuIGJ9TWUucHJvdG90eXBlLkQ9ZnVuY3Rpb24oYSl7VmUodGhpcyxhLnRhcmdldCx0aGlzLmEsYS5tZXNzYWdlKX07Ck1lLnByb3RvdHlwZS5CPWZ1bmN0aW9uKGEpe2E9YS50YXJnZXQ7dmFyIGI9e307YS5rZXlTdGF0dXNlcy5mb3JFYWNoKGZ1bmN0aW9uKGEsYyl7aWYoInN0cmluZyI9PT10eXBlb2YgYSl7dmFyIGY9YTthPWM7Yz1mfWlmKCJjb20ubWljcm9zb2Z0LnBsYXlyZWFkeSI9PXRoaXMuYS5hJiYxNj09YS5ieXRlTGVuZ3RoKXt2YXIgZj1uZXcgRGF0YVZpZXcoYSksZz1mLmdldFVpbnQzMigwLCEwKSxoPWYuZ2V0VWludDE2KDQsITApLGs9Zi5nZXRVaW50MTYoNiwhMCk7Zi5zZXRVaW50MzIoMCxnLCExKTtmLnNldFVpbnQxNig0LGgsITEpO2Yuc2V0VWludDE2KDYsaywhMSl9Zj1MYihuZXcgVWludDhBcnJheShhKSk7YltmXT1jfS5iaW5kKHRoaXMpKTtpZihhLmV4cGlyYXRpb248RGF0ZS5ub3coKSl7Zm9yKHZhciBjPTA7Yzx0aGlzLmIubGVuZ3RoOysrYylpZih0aGlzLmJbY10udWI9PWEpe3RoaXMuYi5zcGxpY2UoYywxKTticmVha31hLmNsb3NlKCk7dGhpcy5mLnNwbGljZSh0aGlzLmYuaW5kZXhPZihhKSwKMSl9dGhpcy5sJiZ0aGlzLmwuZ2V0RXZlbnRMb2dnZXIoImVtZV9rZXlfc3RhdHVzX2NoYW5nZSIpLmxvZygpO1dlKHRoaXMuaixiKX07CmZ1bmN0aW9uIFZlKGEsYixjLGQpe2Q9WGUoYyxkKTt2YXIgZT1udWxsO2EubCYmKGU9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigibGljZW5zZV9yZXF1ZXN0Iikuc3RhcnQoKSk7TGUobmV3IEtlKGQudXJsLGQuYm9keSxkLm1ldGhvZCxjLndpdGhDcmVkZW50aWFscyxlLGQuaGVhZGVycyxhLkEpKS50aGVuKEooYSxmdW5jdGlvbihhKXtlJiYoZS5zZXRSZXN1bHQoInN1Y2Nlc3MiKSxlLmxvZygpKTtjLmYmJihhPWMuZihhKSk7ZT1udWxsO3RoaXMubCYmKGU9dGhpcy5sLmdldE9wZXJhdGlvbkxvZ2dlcigiZW1lX3Bvc3RfbGljZW5zZV9zZXNzaW9uX3VwZGF0ZSIpLnN0YXJ0KCkpO251bGw9PT1hfHx2b2lkIDA9PT1hfHwwPT09YS5ieXRlTGVuZ3RoP251bGwhPT1lJiYoZS5zZXRFcnJvcigiZW1wdHkgbGljZW5zZSIpLGUuc2V0UmVzdWx0KCJmYWlsZWQiKS5sb2coKSk6Yi51cGRhdGUoYSkudGhlbihKKHRoaXMsZnVuY3Rpb24oKXtlJiYoZS5zZXRSZXN1bHQoInN1Y2Nlc3MiKSxlLmxvZygpKTsKdmFyIGE9eSh7dHlwZToic2Vzc2lvblJlYWR5IixkZXRhaWw6Yn0pO3RoaXMuZGlzcGF0Y2hFdmVudChhKTt0aGlzLm0rKzt0aGlzLm0+PXRoaXMuZi5sZW5ndGgmJnRoaXMuZy5yZXNvbHZlKCl9KSkuY2F0Y2goSih0aGlzLGZ1bmN0aW9uKGEpe2EudWI9Yjt2YXIgYz1BKGEpO2UmJihlLnNldFJlc3VsdCgiZmFpbGVkIiksZS5zZXRFcnJvcihhKS5sb2coKSk7dGhpcy5kaXNwYXRjaEV2ZW50KGMpfSkpfSkpLmNhdGNoKEooYSxmdW5jdGlvbihhKXtpZihjLmYpe3ZhciBkPUpTT04uc3RyaW5naWZ5KHtkYXRhOlt7ZXJyb3I6YX1dfSksZD1uZXcgVWludDhBcnJheShkLnNwbGl0KCIiKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuY2hhckNvZGVBdCgwKX0pKTtjLmYoZCl9YS51Yj1iO2Q9QShhKTtlJiZlLnNldEVycm9yKGEpLmxvZygpO3RoaXMuZGlzcGF0Y2hFdmVudChkKX0pKX0KZnVuY3Rpb24gWGUoYSxiKXt2YXIgYz17dXJsOmEuaSxib2R5OmIuc2xpY2UoMCksbWV0aG9kOiJQT1NUIixoZWFkZXJzOnt9LGtleV9zeXN0ZW06YS5hfTtpZigiY29tLm1pY3Jvc29mdC5wbGF5cmVhZHkiPT09YS5hKXtmb3IodmFyIGQ9U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLG5ldyBVaW50MTZBcnJheShjLmJvZHkpKSxkPShuZXcgRE9NUGFyc2VyKS5wYXJzZUZyb21TdHJpbmcoZCwiYXBwbGljYXRpb24veG1sIiksZT1kLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJuYW1lIiksZj1kLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJ2YWx1ZSIpLGc9MDtnPGUubGVuZ3RoO2crKyljLmhlYWRlcnNbZVtnXS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZV09ZltnXS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZTtjLmJvZHk9d2luZG93LmF0b2IoZC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiQ2hhbGxlbmdlIilbMF0uY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUpfWlmKCFhLm8pcmV0dXJuIGM7CmEubyhjKTtjLnVybD1ZYShjLCJ1cmwiKTtpZihudWxsPT1jLnVybCl0aHJvdyBFcnJvcigiJ3VybCcgY2Fubm90IGJlIG51bGwuIik7aWYoIShjLmJvZHkgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcnx8InN0cmluZyI9PT10eXBlb2YgYy5ib2R5fHxudWxsPT1jLmJvZHkpKXRocm93IG5ldyBUeXBlRXJyb3IoIidib2R5JyBtdXN0IGJlIGFuIEFycmF5QnVmZmVyLCBhIHN0cmluZywgb3IgbnVsbC4iKTtjLm1ldGhvZD1ZYShjLCJtZXRob2QiKTtpZigiR0VUIiE9Yy5tZXRob2QmJiJQT1NUIiE9Yy5tZXRob2QpdGhyb3cgRXJyb3IoIidtZXRob2QnIG11c3QgYmUgZWl0aGVyICdHRVQnIG9yICdQT1NUJy4iKTtjLmhlYWRlcnM9WmEoYywiaGVhZGVycyIsT2JqZWN0KTtpZihudWxsPT1jLmhlYWRlcnMpdGhyb3cgRXJyb3IoIidoZWFkZXJzJyBjYW5ub3QgYmUgbnVsbC4iKTtyZXR1cm4gY307ZnVuY3Rpb24gVyhhLGIsYyxkLGUsZixnKXtGLmNhbGwodGhpcyxudWxsKTt0aGlzLmI9YTt0aGlzLmY9Yjt0aGlzLmE9bnVsbDt0aGlzLmc9bmV3IGJiO3RoaXMubT10aGlzLmk9bnVsbDt0aGlzLkY9MDt0aGlzLlM9dGhpcy5aPXRoaXMuJD1udWxsO3RoaXMuYmE9Zzt0aGlzLko9bnVsbDt0aGlzLk89dGhpcy5oPSExO3RoaXMuVj10aGlzLlk9ITA7dGhpcy5LPSExO3RoaXMuYz17ZW5hYmxlQWRhcHRhdGlvbjohMCxzdHJlYW1CdWZmZXJTaXplOjE1LGxpdmVTdHJlYW1FbmRUaW1lb3V0OjE1LGxpY2Vuc2VSZXF1ZXN0VGltZW91dDpoYSxtcGRSZXF1ZXN0VGltZW91dDppYSxzZWdtZW50UmVxdWVzdFRpbWVvdXQ6amEscHJlZmVycmVkTGFuZ3VhZ2U6ImVuIixyZXN0cmljdGlvbnM6bmV3IGthfTt0aGlzLmw9Yzt0aGlzLkc9ZDt0aGlzLmNhPWU7dGhpcy5nYT1mO3RoaXMubz1udWxsO3RoaXMuaj0xO3RoaXMuVD1udWxsO3RoaXMudT10aGlzLkE9dGhpcy53PSExO3RoaXMuUj10aGlzLkI9Cm51bGx9cihXLEYpO3EoInNoYWthLnBsYXllci5QbGF5ZXIiLFcpO1cudmVyc2lvbj0idjEuNi40LWZiIjtXLmlzQnJvd3NlclN1cHBvcnRlZD1mdW5jdGlvbigpe3JldHVybiEhd2luZG93Lk1lZGlhU291cmNlJiYhIXdpbmRvdy5VaW50OEFycmF5fTsKVy5wcm90b3R5cGUuQmE9ZnVuY3Rpb24oKXt2YXIgYT17fSxiPXRoaXMuYTtpZihiKXt2YXIgYz1iLlhiKCk7YS5CYW5kd2lkdGhFc3RpbWF0b3I9Yy5CYW5kd2lkdGhFc3RpbWF0b3I7dmFyIGQ9Yy5WaWRlb1NvdXJjZVN0cmVhbTtkJiYoYS5WaWRlb1NvdXJjZVN0cmVhbT1kLChkPWEuVmlkZW9CdWZmZXJNYW5hZ2VyPWQuQmEoKS5Tb3VyY2VCdWZmZXJNYW5hZ2VyKSYmKGEuVmlkZW9Tb3VyY2VCdWZmZXI9ZC5CYSgpLlNvdXJjZUJ1ZmZlcikpOyhkPWEuQXVkaW9Tb3VyY2VTdHJlYW09Yy5BdWRpb1NvdXJjZVN0cmVhbSkmJihkPWEuQXVkaW9CdWZmZXJNYW5hZ2VyPWQuQmEoKS5Tb3VyY2VCdWZmZXJNYW5hZ2VyKSYmKGEuQXVkaW9Tb3VyY2VCdWZmZXI9ZC5CYSgpLlNvdXJjZUJ1ZmZlcik7YS5UZXh0U291cmNlU3RyZWFtPWMuVGV4dFNvdXJjZVN0cmVhbTthLmdldE1hbmlmZXN0PWIuVGIuYmluZChiKX1lbHNlIGEuZ2V0TWFuaWZlc3Q9ZnVuY3Rpb24oKXt9O2EuTmQ9ITA7cmV0dXJuIGF9OwpXLnByb3RvdHlwZS5nZXREZWJ1Zz1XLnByb3RvdHlwZS5CYTtXLnByb3RvdHlwZS5zYT1mdW5jdGlvbihhKXt0aGlzLlk9YX07Vy5wcm90b3R5cGUuc2V0UmVzdW1lQWZ0ZXJCdWZmZXJpbmc9Vy5wcm90b3R5cGUuc2E7ZnVuY3Rpb24gT2UoYSl7cmV0dXJuInRleHQvdnR0Ij09YT8hIXdpbmRvdy5WVFRDdWU6TWVkaWFTb3VyY2UuaXNUeXBlU3VwcG9ydGVkKGEpfVcuaXNUeXBlU3VwcG9ydGVkPU9lO1cuc2V0VGV4dFN0eWxlPWZ1bmN0aW9uKGEpe3ZhciBiPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJTaGFrYVBsYXllclRleHRTdHlsZSIpO2J8fChiPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInN0eWxlIiksYi5pZD0iU2hha2FQbGF5ZXJUZXh0U3R5bGUiLGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoYikpO2ZvcihiPWIuc2hlZXQ7Yi5jc3NSdWxlcy5sZW5ndGg7KWIuZGVsZXRlUnVsZSgwKTtiLmluc2VydFJ1bGUoIjo6Y3VlIHsgIityYShhKSsiIH0iLDApfTsKVy5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3JldHVybiB0aGlzLlUoKS50aGVuKEoodGhpcyxmdW5jdGlvbigpe3RoaXMuZy5kZXN0cm95KCk7dGhpcy5iPXRoaXMuZz1udWxsO3RoaXMuUiYmdGhpcy5SLnJlbW92ZSgpfSkpLmNhdGNoKGZ1bmN0aW9uKCl7fSl9O1cucHJvdG90eXBlLmRlc3Ryb3k9Vy5wcm90b3R5cGUuZGVzdHJveTtXLnByb3RvdHlwZS5VPWZ1bmN0aW9uKCl7dGhpcy5LPSEwO3JldHVybiBaZSh0aGlzKX07Vy5wcm90b3R5cGUudW5sb2FkPVcucHJvdG90eXBlLlU7CmZ1bmN0aW9uIFplKGEpe3ZhciBiO2EubCYmKGI9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigidW5sb2FkIikuc3RhcnQoKSk7aWYoIWEuYSlyZXR1cm4gYiYmYi5sb2coKSxQcm9taXNlLnJlc29sdmUoKTthLmgmJiRlKGEsInVubG9hZGluZyIpO2EuYi5wYXVzZSgpO2RiKGEuZyk7YWYoYSk7YmYoYSk7YS5pJiYoYS5pLmRlc3Ryb3koKSxhLmk9bnVsbCk7YS5hJiYoYS5hLmRlc3Ryb3koKSxhLmE9bnVsbCk7YS5mLmdldEJvb2woInd3d192aWRlb3NfcGxheWJhY2tfcmVtb3ZlX3NyY19hdHRyX29uX3VubG9hZCIsITEpP2EuYi5yZW1vdmVBdHRyaWJ1dGUoInNyYyIpOmEuYi5zcmM9IiI7dmFyIGM9YS5mLmdldEJvb2woInd3d19zaGFrYV9jbGVhcl9tZWRpYV9rZXlzX29uX3VubG9hZCIsITEpJiZhLmIuc2V0TWVkaWFLZXlzJiYiZnVuY3Rpb24iPT09dHlwZW9mIGEuYi5zZXRNZWRpYUtleXM/YS5iLnNldE1lZGlhS2V5cyhudWxsKTpQcm9taXNlLnJlc29sdmUoKSxjPWMudGhlbihmdW5jdGlvbigpe2ImJgpiLmxvZygpO2lmKGEuZi5nZXRCb29sKCJlbmFibGVfcDJwX3N1cHBvcnQiLCExKSl7dmFyIGM9eSh7dHlwZToidW5sb2FkIn0pO2EuZGlzcGF0Y2hFdmVudChjKX19KTthLmg9ITE7YS5PPSExO2EuQT0hMTthLnU9ITE7cmV0dXJuIGN9ZnVuY3Rpb24gY2YoYSxiKXtmb3IodmFyIGM9MDtjPGEubGVuZ3RoO2MrKyliLnB1c2goYVtjXS5jb250ZW50VHlwZSxhW2NdKX1XLnByb3RvdHlwZS5GYT1mdW5jdGlvbihhKXtyZXR1cm4gZGYodGhpcyxhKX07Vy5wcm90b3R5cGUubG9hZD1XLnByb3RvdHlwZS5GYTsKZnVuY3Rpb24gZGYoYSxiKXt2YXIgYzthLmwmJihjPWEubC5nZXRPcGVyYXRpb25Mb2dnZXIoImxvYWQiKS5zZXRTdGF0ZSgibG9hZGluZyIpLnN0YXJ0KCksYi5sPWIuZy5wZXJmb3JtYW5jZUxvZ2dlcj1hLmwpO2EuRyYmKGIuQWI9Yi5nLmFickxvZ2dlcj1hLkcpO2EuYmEmJihiLmlhPWEuYmEpO2EuY2EmJihiLkk9YS5jYSk7YS5nYSYmYi5VLnB1c2goYS5nYSk7ZWYoYixhLmIpO3ZhciBkPW51bGw7YS5LPSExO0UoYS5nLGIsInJlcGxpY2Fzd2l0Y2giLGEubmEuYmluZChhKSk7YS5hJiYoZD1aZShhKS50aGVuKEooYSxmdW5jdGlvbigpe3JldHVybiBiLndiKCl9KSkpO2EuYi5hdXRvcGxheSYmKHUucWEoImxvYWQiKSxFKGEuZyxhLmIsInRpbWV1cGRhdGUiLGEuZWQuYmluZChhKSkpO2IubGMoYS5jKTtiLmxhPWEuVDthLlQ9bnVsbDtkfHwoZD1iLndiKCkpO2EuZi5nZXRCb29sKCJmaXhfc2hha2FfcGxheWVyX2xvYWRfcmFjZV9jb25kaXRpb24iLCExKSYmKGEuYT1iKTtkLmNhdGNoKEooYSwKZnVuY3Rpb24oYSl7Yi5kZXN0cm95KCk7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfSkpO3JldHVybiBkLnRoZW4oSihhLGZ1bmN0aW9uKCl7aWYoZmYodGhpcyxiKSlyZXR1cm4gZ2YoKTt0aGlzLmE9Yjt0aGlzLmcuYWIodGhpcy5hLCJyZXBsaWNhc3dpdGNoIik7RSh0aGlzLmcsdGhpcy5hLCJzZWVrcmFuZ2VjaGFuZ2VkIix0aGlzLnBhLmJpbmQodGhpcykpO0UodGhpcy5nLHRoaXMuYSwiYWxsU3RyZWFtc1N0YXJ0ZWQiLHRoaXMuRmQuYmluZCh0aGlzKSk7dmFyIGE9bmV3IEQ7Y2YoTmUodGhpcy5hKSxhKTtQZSh0aGlzLmEsYSk7YT10aGlzLmVhKCk7YyYmMDxhLmxlbmd0aCYmKGE9YS5yZWR1Y2UoZnVuY3Rpb24oYSxiKXtpZihudWxsPT09YXx8Yi5iYW5kd2lkdGg8YS5iYW5kd2lkdGgpYT1iO3JldHVybiBhfSxudWxsKSxjLnNldExvd2VzdFF1YWxpdHlSZXByZXNlbnRhdGlvbklEKGEuc3RyZWFtSW5mb0lEKSk7aWYoIXRoaXMuYy5lbmFibGVDb250ZW50UHJvdGVjdGlvbilyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7CnRoaXMuaT1uZXcgTWUodGhpcyx0aGlzLmIsdGhpcy5hLHRoaXMubCk7cmV0dXJuIHRoaXMuaS5pbml0aWFsaXplKCl9KSkudGhlbihKKGEsZnVuY3Rpb24oKXtpZihmZih0aGlzLGIpKXJldHVybiBnZigpO2hmKHRoaXMpO0UodGhpcy5nLHRoaXMuYiwicGxheWluZyIsdGhpcy5rZC5iaW5kKHRoaXMpKTtFKHRoaXMuZyx0aGlzLmIsInBhdXNlIix0aGlzLm1hLmJpbmQodGhpcykpO0UodGhpcy5nLHRoaXMuYiwid2FpdGluZyIsdGhpcy5zZC5iaW5kKHRoaXMpKTtFKHRoaXMuZyx0aGlzLmIsInBsYXkiLHRoaXMuaWEuYmluZCh0aGlzKSk7cmV0dXJuIGpmKHRoaXMuYSx0aGlzLHRoaXMuYil9KSkudGhlbihKKGEsZnVuY3Rpb24oKXtpZihmZih0aGlzLGIpKXJldHVybiBnZigpO2lmKHRoaXMuYy5lbmFibGVDb250ZW50UHJvdGVjdGlvbil7dmFyIGE7dGhpcy5sJiYoYT10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJlbWVfYXR0YWNoIikpO3JldHVybiBTZSh0aGlzLmkpLnRoZW4oZnVuY3Rpb24oKXthJiYKYS5sb2coKX0pfXJldHVybiBQcm9taXNlLnJlc29sdmUoKX0pKS50aGVuKEooYSxmdW5jdGlvbigpe2lmKGZmKHRoaXMsYikpcmV0dXJuIGdmKCk7a2YodGhpcyk7YyYmYy51cGRhdGVTdGF0ZSgicmVhZHkiKS5sb2coKX0pKS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7YyYmYy5zZXRFcnJvcihKU09OLnN0cmluZ2lmeShhKSkubG9nKCk7aWYoZmYodGhpcyxiKSlyZXR1cm4gZ2YoKTtpZigiZGVzdHJveSIhPWEudHlwZSl7dmFyIGQ9QShhKTt0aGlzLmRpc3BhdGNoRXZlbnQoZCl9cmV0dXJuIHRoaXMuVSgpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYSl9KX0pKX1mdW5jdGlvbiBmZihhLGIpe3JldHVybiFhLmJ8fGEuS3x8YS5mLmdldEJvb2woImZpeF9zaGFrYV9wbGF5ZXJfbG9hZF9yYWNlX2NvbmRpdGlvbiIsITEpJiZiIT09YS5hfW49Vy5wcm90b3R5cGU7Cm4uRmQ9ZnVuY3Rpb24oKXt2YXIgYSxiO3RoaXMuZi5nZXRCb29sKCJ3d3dfdmlkZW9zX2V4dGVuZGVkX3NwbF9sb2dnaW5nX2Zvcl9jb25uZWN0ZWRfdHYiLCExKSYmdGhpcy5sJiYoYT10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJvbl9hbGxfc3RyZWFtc19zdGFydGVkIiksYj10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJyZXN0b3JlX3ZpZGVvX3BsYXliYWNrX3JhdGUiKSk7dGhpcy5PPSEwO3RoaXMuaD90aGlzLkQoKToodGhpcy5iLnBsYXliYWNrUmF0ZT10aGlzLmosYiYmYi5sb2coKSk7YSYmYS5sb2coKX07ZnVuY3Rpb24gZ2YoKXt2YXIgYT1FcnJvcigiUGxheWVyIGRlc3Ryb3llZCIpO2EudHlwZT0iZGVzdHJveSI7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfQpmdW5jdGlvbiBoZihhKXt2YXIgYj1hLmIucGFyZW50Tm9kZTtiJiZhLmYuZ2V0Qm9vbCgicHJldmVudF9wbGF5aW5nX29uX2luc3VmZmljaWVudF9idWZmZXIiLCExKSYmKGEuUj1ldmVudExpc3RlbmVyQ2FwdHVyZShiLCJwbGF5aW5nIixmdW5jdGlvbihhKXthLnRhcmdldD09PXRoaXMuYiYmdGhpcy5EKGEpfS5iaW5kKGEpKSl9bi5lZD1mdW5jdGlvbigpe3UuZW5kKCJsb2FkIik7dGhpcy5nLmFiKHRoaXMuYiwidGltZXVwZGF0ZSIpfTtuLnNkPWZ1bmN0aW9uKGEpe2xmKHRoaXMpO3RoaXMuZi5nZXRCb29sKCJ1bmlmeV9zdHJlYW1fc3RhcnRfd2l0aF9idWZmZXJfZGV0ZWN0b3IiLCExKSYmIXRoaXMuaCYmdGhpcy5EKGEpfTsKbi5rZD1mdW5jdGlvbigpe3UucWEoInBsYXlpbmciKTt0aGlzLmwmJnRoaXMubC5nZXRFdmVudExvZ2dlcigicGxheWluZyIpLnNldFN0YXRlKCJwbGF5aW5nIikubG9nKCk7IXRoaXMubSYmMD50aGlzLmomJih0aGlzLmIucGxheWJhY2tSYXRlPTAsdGhpcy5QKHRoaXMuYi5jdXJyZW50VGltZSxEYXRlLm5vdygpLHRoaXMuaikpO3RoaXMuaCYmIXRoaXMuViYmJGUodGhpcywicGxheWluZyIpfTtuLkJkPWZ1bmN0aW9uKGEpe3RoaXMudT1hfTtXLnByb3RvdHlwZS5zZXRQZW5kaW5nUGxheVJlcXVlc3Q9Vy5wcm90b3R5cGUuQmQ7Vy5wcm90b3R5cGUuaWE9ZnVuY3Rpb24oKXt0aGlzLnU9ITB9O1cucHJvdG90eXBlLm1hPWZ1bmN0aW9uKCl7dGhpcy5sJiZ0aGlzLmwuZ2V0RXZlbnRMb2dnZXIoInBhdXNlIikuc2V0U3RhdGUoInBhdXNlZCIpLmxvZygpO3UuZW5kKCJwbGF5aW5nIik7dS5nZXQoInBsYXlpbmciKTtiZih0aGlzKX07ClcucHJvdG90eXBlLnBhPWZ1bmN0aW9uKGEpe3RoaXMuRj1hLnN0YXJ0O3RoaXMuJD1hLmxhc3Q7dGhpcy5aPWEuZW5kO3RoaXMuUz1hLnNlZWtSYW5nZUdhcHM7dGhpcy5mLmdldEJvb2woIm5vX3NraXBfZ2Fwc19vbl9zZWVrX3JhbmdlX2NoYW5nZWQiLCExKXx8bGYodGhpcyl9O1cucHJvdG90eXBlLmVhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYT90aGlzLmEuWigpOltdfTtXLnByb3RvdHlwZS5nZXRWaWRlb1RyYWNrcz1XLnByb3RvdHlwZS5lYTtXLnByb3RvdHlwZS54YT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmE/dGhpcy5hLnZhKCk6W119O1cucHJvdG90eXBlLmdldEF1ZGlvVHJhY2tzPVcucHJvdG90eXBlLnhhO1cucHJvdG90eXBlLkRhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYT90aGlzLmEubWMoKTpbXX07Vy5wcm90b3R5cGUuZ2V0VGV4dFRyYWNrcz1XLnByb3RvdHlwZS5EYTsKVy5wcm90b3R5cGUuc2VsZWN0VmlkZW9UcmFjaz1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmE/dGhpcy5hLnNlbGVjdFZpZGVvVHJhY2soYSx2b2lkIDA9PWI/ITA6Yik6ITF9O1cucHJvdG90eXBlLnNlbGVjdFZpZGVvVHJhY2s9Vy5wcm90b3R5cGUuc2VsZWN0VmlkZW9UcmFjaztXLnByb3RvdHlwZS5HYT1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIHRoaXMuYT9tZih0aGlzLmEsImF1ZGlvIixhLHZvaWQgMD09Yj8hMDpiLGMpOiExfTtXLnByb3RvdHlwZS5zZWxlY3RBdWRpb1RyYWNrPVcucHJvdG90eXBlLkdhO1cucHJvdG90eXBlLkhhPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmE/bWYodGhpcy5hLCJ0ZXh0IixhLCExKTohMX07Vy5wcm90b3R5cGUuc2VsZWN0VGV4dFRyYWNrPVcucHJvdG90eXBlLkhhO1cucHJvdG90eXBlLndhPWZ1bmN0aW9uKGEpe3RoaXMuYSYmbmYodGhpcy5hLGEpfTtXLnByb3RvdHlwZS5lbmFibGVUZXh0VHJhY2s9Vy5wcm90b3R5cGUud2E7ClcucHJvdG90eXBlLnJhPWZ1bmN0aW9uKGEpe2JmKHRoaXMpO3RoaXMudyYmdGhpcy5ofHwhKDA8PWEpP3RoaXMuYi5wYXVzZWR8fCh0aGlzLmIucGxheWJhY2tSYXRlPTAsdGhpcy5QKHRoaXMuYi5jdXJyZW50VGltZSxEYXRlLm5vdygpLGEpKTp0aGlzLmIucGxheWJhY2tSYXRlPWE7dGhpcy5qPWF9O1cucHJvdG90eXBlLnNldFBsYXliYWNrUmF0ZT1XLnByb3RvdHlwZS5yYTtXLnByb3RvdHlwZS5rYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmp9O1cucHJvdG90eXBlLmdldFBsYXliYWNrUmF0ZT1XLnByb3RvdHlwZS5rYTtXLnByb3RvdHlwZS5DYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmE/dGhpcy5hLk9iKCk6bnVsbH07Vy5wcm90b3R5cGUuZ2V0TWFuaWZlc3Q9Vy5wcm90b3R5cGUuQ2E7Vy5wcm90b3R5cGUuUGE9ZnVuY3Rpb24oYSl7dGhpcy5UPWF9O1cucHJvdG90eXBlLnNldFBsYXliYWNrU3RhcnRUaW1lPVcucHJvdG90eXBlLlBhOwpXLnByb3RvdHlwZS5JPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYT8hIXRoaXMuYS5QKCk6ITF9O1cucHJvdG90eXBlLmlzTGl2ZT1XLnByb3RvdHlwZS5JOwpXLnByb3RvdHlwZS52YT1mdW5jdGlvbihhKXtpZihhKXt2YXIgYj1CKGEsImVuYWJsZUFkYXB0YXRpb24iKTtudWxsIT1iJiYodGhpcy5jLmVuYWJsZUFkYXB0YXRpb249Yik7Yj1CKGEsImVuZEJ1ZmZlcmluZ09uUGxheWluZyIpO251bGwhPWImJih0aGlzLlY9Yik7Yj1CKGEsInVzZVBsYXliYWNrUmF0ZUZvckJ1ZmZlcmluZyIpO251bGwhPWImJih0aGlzLnc9Yik7Yj1DKGEsInN0cmVhbUJ1ZmZlclNpemUiLDApO251bGwhPWImJih0aGlzLmMuc3RyZWFtQnVmZmVyU2l6ZT1iKTtiPUMoYSwiZHluYW1pY1N0cmVhbUJ1ZmZlclNpemUiLDApO251bGwhPWImJih0aGlzLmMuZHluYW1pY1N0cmVhbUJ1ZmZlclNpemU9Yik7bnVsbCE9YS5zbWFydEJ1ZmZlckFkanVzdG1lbnRQYXJhbXMmJih0aGlzLmMuc21hcnRCdWZmZXJBZGp1c3RtZW50UGFyYW1zPWEuc21hcnRCdWZmZXJBZGp1c3RtZW50UGFyYW1zKTtiPUIoYSwiYWRkQ2RuRGVidWdRdWVyeVBhcmFtZXRlcnMiKTtudWxsIT1iJiYKKHRoaXMuYy5hZGRDZG5EZWJ1Z1F1ZXJ5UGFyYW1ldGVycz1iKTtiPUMoYSwiaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemUiLDApO251bGwhPWImJih0aGlzLmMuaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemU9Yik7Yj1CKGEsImluY2x1ZGVTdHJlYW1CdWZmZXJTaXplSW5TdGFydE9mZnNldCIpO251bGwhPWImJih0aGlzLmMuaW5jbHVkZVN0cmVhbUJ1ZmZlclNpemVJblN0YXJ0T2Zmc2V0PWIpO2I9QyhhLCJqdW1wVG9MaXZlVGhyZXNob2xkIik7bnVsbCE9YiYmKHRoaXMuYy5qdW1wVG9MaXZlVGhyZXNob2xkPWIpO2I9QyhhLCJsaXZlU3RyZWFtRW5kVGltZW91dCIsMCk7bnVsbCE9YiYmKHRoaXMuYy5saXZlU3RyZWFtRW5kVGltZW91dD1iKTtiPUMoYSwibGljZW5zZVJlcXVlc3RUaW1lb3V0IiwwKTtudWxsIT1iJiYodGhpcy5jLmxpY2Vuc2VSZXF1ZXN0VGltZW91dD1iKTtiPUMoYSwibXBkUmVxdWVzdFRpbWVvdXQiLDApO251bGwhPWImJih0aGlzLmMubXBkUmVxdWVzdFRpbWVvdXQ9CmIpO2I9QyhhLCJtaW5NcGRSZWZyZXNoSW50ZXJ2YWwiLDApO251bGwhPWImJih0aGlzLmMubWluTXBkUmVmcmVzaEludGVydmFsPWIpO2I9QihhLCJlbmFibGVMaXZlSW50ZXJydXB0aW9uRGV0ZWN0aW9uIik7bnVsbCE9YiYmKHRoaXMuYy5lbmFibGVMaXZlSW50ZXJydXB0aW9uRGV0ZWN0aW9uPWIpO2I9QihhLCJlbmFibGVNYW5pZmVzdERlYnVnIik7bnVsbCE9YiYmKHRoaXMuYy5lbmFibGVNYW5pZmVzdERlYnVnPWIsRi5wcm90b3R5cGUub2M9YixifHwoRi5wcm90b3R5cGUuTGE9ZnVuY3Rpb24oKXt9KSk7Yj1CKGEsInJlc29sdmVWaWRlb1RpbWVVcGRhdGVPbkZyYWdtZW50ZWRUaW1lUmFuZ2VzIik7bnVsbCE9YiYmKHRoaXMuYy5yZXNvbHZlVmlkZW9UaW1lVXBkYXRlT25GcmFnbWVudGVkVGltZVJhbmdlcz1iKTtiPUMoYSwibGl2ZUludGVycnVwdGlvbkNvbnNlY3V0aXZlVXBkYXRlc1dpdGhvdXRDaGFuZ2UiKTtudWxsIT1iJiYodGhpcy5jLmxpdmVJbnRlcnJ1cHRpb25Db25zZWN1dGl2ZVVwZGF0ZXNXaXRob3V0Q2hhbmdlPQpiKTtiPUMoYSwibGl2ZUludGVycnVwdGlvbkNvbnNlY3V0aXZlVXBkYXRlc1dpdGhDaGFuZ2UiKTtudWxsIT1iJiYodGhpcy5jLmxpdmVJbnRlcnJ1cHRpb25Db25zZWN1dGl2ZVVwZGF0ZXNXaXRoQ2hhbmdlPWIpO2I9QihhLCJyZWFwcGVuZEluaXRTZWdtZW50QWZ0ZXJBYm9ydCIpO251bGwhPWImJih0aGlzLmMucmVhcHBlbmRJbml0U2VnbWVudEFmdGVyQWJvcnQ9Yik7Yj1CKGEsImxpdmVTZW5kUHVzaEhlYWRlcnMiKTtudWxsIT1iJiYodGhpcy5jLmxpdmVTZW5kUHVzaEhlYWRlcnM9Yik7Yj1DKGEsImxpdmVNYXhNYW5pZmVzdEZldGNoZXNXaXRoUHVzaCIpO251bGwhPWImJih0aGlzLmMubGl2ZU1heE1hbmlmZXN0RmV0Y2hlc1dpdGhQdXNoPWIpO2I9QyhhLCJsaXZlTWF4U2VnbWVudHNUb1B1c2giKTtudWxsIT1iJiYodGhpcy5jLmxpdmVNYXhTZWdtZW50c1RvUHVzaD1iKTtiPUMoYSwic2VnbWVudFJlcXVlc3RUaW1lb3V0IiwwKTtudWxsIT1iJiYodGhpcy5jLnNlZ21lbnRSZXF1ZXN0VGltZW91dD0KYik7Yj1ZYShhLCJwcmVmZXJyZWRMYW5ndWFnZSIpO251bGwhPWImJih0aGlzLmMucHJlZmVycmVkTGFuZ3VhZ2U9Yik7Yj1aYShhLCJyZXN0cmljdGlvbnMiLGthKTtudWxsIT1iJiYodGhpcy5jLnJlc3RyaWN0aW9ucz1iLmNsb25lKCkpO2I9YS5saXZlSW5pdGlhbFB1c2hSZXByZXNlbnRhdGlvbjtudWxsIT1iJiYodGhpcy5jLmxpdmVJbml0aWFsUHVzaFJlcHJlc2VudGF0aW9uPWIpO2I9YS5saXZlQXVkaW9QdXNoUmVwcmVzZW50YXRpb247bnVsbCE9YiYmKHRoaXMuYy5saXZlQXVkaW9QdXNoUmVwcmVzZW50YXRpb249Yik7Yj1hLnVzZUlubGluZUluaXRTZWdtZW50O251bGwhPWImJih0aGlzLmMudXNlSW5saW5lSW5pdFNlZ21lbnQ9Yik7Yj1CKGEsImRpc2FibGVDYWNoZUJ1c3RpbmdFdmVuVGhvdWdoSXRNYXlBZmZlY3RCYW5kd2lkdGhFc3RpbWF0aW9uIik7bnVsbCE9YiYmKFRjPSFiKTtiPUIoYSwiY3VycmVudFRpbWVEdXJpbmdSZWFkeVN0YXRlWmVyb1Rocm93cyIpO251bGwhPQpiJiYodGhpcy5jLmN1cnJlbnRUaW1lRHVyaW5nUmVhZHlTdGF0ZVplcm9UaHJvd3M9Yik7Yj1DKGEsImxpdmVEYXRhRmV0Y2hNYXhSZXRyaWVzIik7bnVsbCE9YiYmKHRoaXMuYy5saXZlRGF0YUZldGNoTWF4UmV0cmllcz1iKTtiPUMoYSwibGl2ZVNvdXJjZUJ1ZmZlckNsZWFyTWF4UmV0cmllcyIpO251bGwhPWImJih0aGlzLmMubGl2ZVNvdXJjZUJ1ZmZlckNsZWFyTWF4UmV0cmllcz1iKTtiPUIoYSwidXNlTG9uZ0NhY2hlRm9yTWFuaWZlc3QiKTtudWxsIT1iJiYodGhpcy5jLnVzZUxvbmdDYWNoZUZvck1hbmlmZXN0PWIpO2I9QihhLCJqdW1wVG9FYXJsaWVzdFBvc2l0aW9uSW5DdXJyZW50QmxvY2siKTtudWxsIT1iJiYodGhpcy5jLmp1bXBUb0VhcmxpZXN0UG9zaXRpb25JbkN1cnJlbnRCbG9jaz1iKTtiPUIoYSwiaWdub3JlTWluQnVmZmVyVGltZSIpO251bGwhPWImJih0aGlzLmMuaWdub3JlTWluQnVmZmVyVGltZT1iKTtiPUMoYSwicGxheWhlYWRGcmFnbWVudGVkR2FwRGlmZkFsbG93YW5jZSIpOwpudWxsIT1iJiYodGhpcy5jLnBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2U9Yik7Yj1CKGEsImZpeEJ1ZmZlcmluZ0dvYWxEZXRlcm1pbmF0aW9uIik7bnVsbCE9YiYmKHRoaXMuYy5maXhCdWZmZXJpbmdHb2FsRGV0ZXJtaW5hdGlvbj1iKTtiPUIoYSwic2tpcEVtcHR5U2VnbWVudHMiKTtudWxsIT1iJiYodGhpcy5jLnNraXBFbXB0eVNlZ21lbnRzPWIpOyhiPUIoYSwidXNlTWljcm9UYXNrVGltZW91dHMiKSkmJih0aGlzLmMudXNlTWljcm9UYXNrVGltZW91dHM9Yik7KGI9QihhLCJlbmFibGVSZXF1ZXN0UGlwZWxpbmluZyIpKSYmKHRoaXMuYy5lbmFibGVSZXF1ZXN0UGlwZWxpbmluZz1iKTsoYj1CKGEsImVuYWJsZVN0cmVhbWluZyIpKSYmKHRoaXMuYy5lbmFibGVTdHJlYW1pbmc9Yik7KGE9QihhLCJlbmFibGVDb250ZW50UHJvdGVjdGlvbiIpKSYmKHRoaXMuYy5lbmFibGVDb250ZW50UHJvdGVjdGlvbj1hKTt0aGlzLmEmJnRoaXMuYS5sYyh0aGlzLmMpfX07ClcucHJvdG90eXBlLmNvbmZpZ3VyZT1XLnByb3RvdHlwZS52YTtXLnByb3RvdHlwZS5PYT1mdW5jdGlvbihhKXt0aGlzLmEmJnRoaXMuYS5xYyhhKX07Vy5wcm90b3R5cGUuc2V0RW5hYmxlTGl2ZWhlYWRDYXRjaHVwPVcucHJvdG90eXBlLk9hO1cucHJvdG90eXBlLkVhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYT90aGlzLmEubmE6ITF9O1cucHJvdG90eXBlLmlzTGl2ZWhlYWRDYXRjaHVwRW5hYmxlZD1XLnByb3RvdHlwZS5FYTsKZnVuY3Rpb24gbGYoYSl7aWYoYS5mLmdldEJvb2woInNraXBfbWFuaWZlc3RfZ2FwX2Jhc2VkX29uX3N0cmVhbV9saW1pdHMiLCExKSYmKCFhLkkoKXx8IWEuZi5nZXRCb29sKCJub19za2lwX21hbmlmZXN0X2dhcHNfaWZfbGl2ZSIsITEpKSl7dmFyIGI7YS5mLmdldEJvb2woInNraXBfbWFuaWZlc3RfZ2Fwc191c2VfY2FjaGVkX3N0cmVhbV9saW1pdHMiLCExKT9hLmEmJm51bGwhPT1hLlM/Yj17c3RhcnQ6YS5GLGVuZDphLlosbGFzdDphLiQsWmE6YS5TfTpiPWEuYT9hLmEubmIoKTpudWxsOmI9YS5hP2EuYS5uYigpOm51bGw7aWYoYilmb3IodmFyIGM9YS5mLmdldE51bWJlcigic2tpcF9tYW5pZmVzdF9nYXBfYm91bmRhcnlfcHJlY2lzaW9uX21zIiwxRTMpLzFFMyxkPWIuWmEsZT1hLmIucGxheWJhY2tSYXRlLGY9YS5iLmN1cnJlbnRUaW1lLGc9MDtnPGQubGVuZ3RoOysrZyl7dmFyIGg9ZFtnXS5zdGFydFRpbWUtYyxrPWRbZ10uZW5kVGltZStjO2Y8PWsmJmY+PWgmJihhLmYuZ2V0Qm9vbCgiZml4X3NlZWtfcmFuZ2VfZ2FwX2JvdW5kYXJ5IiwKITEpfHwoaD1kW2ddLnN0YXJ0VGltZSxrPWRbZ10uZW5kVGltZSksMDw9ZT9iLmVuZD5rJiYoYS5iLmN1cnJlbnRUaW1lPWspOmIuc3RhcnQ8aCYmKGEuYi5jdXJyZW50VGltZT1oKSl9fX1XLnByb3RvdHlwZS5sYT1mdW5jdGlvbigpe3ZhciBhPXRoaXMuYSYmdGhpcy5hLm5iKCk7cmV0dXJuKGE9YSYme3N0YXJ0OmEuc3RhcnQsZW5kOmEuZW5kLGxhc3Q6YS5sYXN0LHNlZWtSYW5nZUdhcHM6YS5aYX0pfHxudWxsfTtXLnByb3RvdHlwZS5nZXRWaWRlb1NvdXJjZVN0cmVhbUxpbWl0cz1XLnByb3RvdHlwZS5sYTtXLnByb3RvdHlwZS55YT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmN9O1cucHJvdG90eXBlLmdldENvbmZpZ3VyYXRpb249Vy5wcm90b3R5cGUueWE7ZnVuY3Rpb24gYmYoYSl7YS5tJiYoY2xlYXJUaW1lb3V0KGEubSksYS5tPW51bGwpfQpmdW5jdGlvbiBrZihhKXt2YXIgYjthLmYuZ2V0Qm9vbCgid3d3X3ZpZGVvc19leHRlbmRlZF9zcGxfbG9nZ2luZ19mb3JfY29ubmVjdGVkX3R2IiwhMSkmJmEubCYmKGI9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigic3RhcnRfd2F0Y2hkb2ciKSk7YWYoYSk7YS5KPXNldFRpbWVvdXQoYS5ELmJpbmQoYSksMTAwKTtiJiZiLmxvZygpfWZ1bmN0aW9uIGFmKGEpe3ZhciBiO2EuZi5nZXRCb29sKCJ3d3dfdmlkZW9zX2V4dGVuZGVkX3NwbF9sb2dnaW5nX2Zvcl9jb25uZWN0ZWRfdHYiLCExKSYmYS5sJiYoYj1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJjYW5jZWxfd2F0Y2hkb2ciKSk7YS5KJiYoY2xlYXJUaW1lb3V0KGEuSiksYS5KPW51bGwpO2ImJmIubG9nKCl9ClcucHJvdG90eXBlLlA9ZnVuY3Rpb24oYSxiLGMpe3RoaXMubT1udWxsO3ZhciBkPShEYXRlLm5vdygpLWIpLzFFMypjO3RoaXMuYi5jdXJyZW50VGltZTx0aGlzLkYrKHRoaXMuSSgpPzE6LjA1KT90aGlzLmIucGF1c2UoKTooZD1NYXRoLm1heCh0aGlzLkYsYStkKSx0aGlzLmIuY3VycmVudFRpbWU9ZCx0aGlzLm09c2V0VGltZW91dCh0aGlzLlAuYmluZCh0aGlzLGEsYixjKSwyNTApKX07ZnVuY3Rpb24gb2YoYSl7cmV0dXJuIGEuZi5nZXRCb29sKCJ1bmlmeV9zdHJlYW1fc3RhcnRfd2l0aF9idWZmZXJfZGV0ZWN0b3IiLCExKSYmIWEuT30KZnVuY3Rpb24gJGUoYSxiKXtpZighb2YoYSkpe3UuZW5kKCJidWZmZXJpbmciKTtudWxsIT09YS5CJiYoYS5CPW51bGwpO2EubyYmKGEuby5zZXRDb25jbHVkZXIoYikubG9nKCksYS5vPW51bGwpO2lmKGEuRyl7dmFyIGM9RGF0ZS5ub3coKTthLkcuc2V0RXZlbnQoImJ1ZmZlcmluZyIpLnNldENsaWVudFRpbWVCZWdpbihNYXRoLnJvdW5kKGMtdS5nZXQoImJ1ZmZlcmluZyIpKSkuc2V0Q2xpZW50VGltZUVuZChNYXRoLnJvdW5kKGMpKS5sb2coKX1hLncmJihhLmIucGxheWJhY2tSYXRlPWEuaik7YS5oPSExO2EuZGlzcGF0Y2hFdmVudCh5KHt0eXBlOiJidWZmZXJpbmdFbmQifSkpO2EuQSYmKGEuQT0hMSxkaXNwYXRjaERvbUV2ZW50KGEuYiwicGxheWluZyIpKTthLnU9ITF9fVcucHJvdG90eXBlLmphPWZ1bmN0aW9uKGEpe3RoaXMuZGlzcGF0Y2hFdmVudCh5KGEpKX07Vy5wcm90b3R5cGUuZGlzcGF0Y2hFdmVudEV4dGVybj1XLnByb3RvdHlwZS5qYTsKZnVuY3Rpb24gcGYoYSl7dmFyIGI9YS5iLmJ1ZmZlcmVkO2lmKDE9PT1iLmxlbmd0aCliPWIuZW5kKDApO2Vsc2UgaWYoMD09PWIubGVuZ3RoKWI9MDtlbHNle2Zvcih2YXIgYz0wLGQ9MDtkPGIubGVuZ3RoOysrZCliLmVuZChkKT49YS5iLmN1cnJlbnRUaW1lJiYoYz1iLnN0YXJ0KGQpPD1hLmIuY3VycmVudFRpbWU/YysoYi5lbmQoZCktYS5iLmN1cnJlbnRUaW1lKTpjKyhiLmVuZChkKS1iLnN0YXJ0KGQpKSk7cmV0dXJuIGN9cmV0dXJuIE1hdGgubWF4KGItYS5iLmN1cnJlbnRUaW1lLDApfQpXLnByb3RvdHlwZS5EPWZ1bmN0aW9uKGEpe2lmKCF0aGlzLmYuZ2V0Qm9vbCgicHJldmVudF9wbGF5aW5nX29uX2luc3VmZmljaWVudF9idWZmZXIiLCExKXx8IXRoaXMuSyl7a2YodGhpcyk7dmFyIGI9YT9hLnR5cGU6IiIsYz0id2FpdGluZyI9PT1iO2lmKCF0aGlzLmIuZW5kZWQmJiF0aGlzLmIuc2Vla2luZ3x8Yyl7dmFyIGQ7dGhpcy5mLmdldEJvb2woInd3d192aWRlb3NfZXh0ZW5kZWRfc3BsX2xvZ2dpbmdfZm9yX2Nvbm5lY3RlZF90diIsITEpJiZ0aGlzLmwmJihkPXRoaXMubC5nZXRPcGVyYXRpb25Mb2dnZXIoIndhdGNoZG9nIikpO3ZhciBlPXRoaXMuYi5idWZmZXJlZCxmPWUubGVuZ3RoP2UuZW5kKGUubGVuZ3RoLTEpOjAsZzt0aGlzLmYuZ2V0Qm9vbCgiZml4X3Vuc3RhbGxfYnVmZmVyX2NhbGN1bGF0aW9uIiwhMSk/Zz1wZih0aGlzKTpnPU1hdGgubWF4KGYtdGhpcy5iLmN1cnJlbnRUaW1lLDApO3ZhciBoPXRoaXMuYi5jdXJyZW50VGltZSxlPXRoaXMuSSgpP3RoaXMuZi5nZXROdW1iZXIoImxpdmVfYnVmZmVyaW5nX3VuZGVyZmxvd190aHJlc2hvbGQiLAouNSk6dGhpcy5mLmdldE51bWJlcigiYnVmZmVyaW5nX3VuZGVyZmxvd190aHJlc2hvbGQiLDApLGs9dGhpcy5iLmR1cmF0aW9uLGs9aXNOYU4oayk/MDpNYXRoLm1heChrLS4wNSwwKSxmPWY+PWt8fGg+PWssYj1ifHwid2F0Y2hkb2dfdGltZXIiO2lmKHRoaXMuaCl7cWYodGhpcyxhKTthPXJmKHRoaXMuYSk7dmFyIGw9MDxhP2cvYTowO2c+YXx8c2YodGhpcy5hKXx8dGhpcy5mLmdldEJvb2woImZpeF9idWZmZXJpbmdfYXRfdGhlX2VuZF9vZl9wbGF5YmFjayIsITApJiZmPygkZSh0aGlzLGIpLHRoaXMuWSYmIXRoaXMudyYmdGhpcy5iLnBsYXkoKSk6dGhpcy5CIT09bCYmKHRoaXMuQj1sLHRoaXMuZGlzcGF0Y2hFdmVudCh5KHt0eXBlOiJidWZmZXJpbmdQcm9ncmVzcyIscHJvZ3Jlc3M6bH0pKSl9ZWxzZSB0aGlzLmIucGF1c2VkJiYhY3x8ISghZiYmZzxlfHxvZih0aGlzKSl8fCh0aGlzLmg9ITAsdGhpcy53P3RoaXMuYi5wbGF5YmFja1JhdGU9MDp0aGlzLmIucGF1c2UoKSx0aGlzLmwmJgohdGhpcy5vJiYoZz10aGlzLmIuYnVmZmVyZWQsZz1nLmxlbmd0aD9nLmVuZChnLmxlbmd0aC0xKTowLHRoaXMuZi5nZXRCb29sKCJmaXhfdW5zdGFsbF9idWZmZXJfY2FsY3VsYXRpb24iLCExKT9sPXBmKHRoaXMpOmw9TWF0aC5tYXgoZy10aGlzLmIuY3VycmVudFRpbWUsMCksZz0xRTMqKHJmKHRoaXMuYSktbCksdGhpcy5vPXRoaXMubC5nZXRPcGVyYXRpb25Mb2dnZXIoImJ1ZmZlcmluZyIpLnNldExlbmd0aChNYXRoLnJvdW5kKGcpKS5zZXRUeXBlKHRoaXMudT8ic3RhcnQvdW5wYXVzZSI6ImluX3BsYXkiKS5zZXRJbml0aWF0b3IoYikuc3RhcnQoKSksdS5xYSgiYnVmZmVyaW5nIiksdGhpcy5kaXNwYXRjaEV2ZW50KHkoe3R5cGU6ImJ1ZmZlcmluZ1N0YXJ0In0pKSx0aGlzLmYuZ2V0Qm9vbCgibm9fc2tpcF9nYXBzX29uX2J1ZmZlcmluZyIsITEpfHxsZih0aGlzKSxxZih0aGlzLGEpKSxzZih0aGlzLmEpJiYkZSh0aGlzLGIpO2QmJmQubG9nKCl9ZWxzZSB0aGlzLmYuZ2V0Qm9vbCgiZml4X2ZmX2luX3BsYXlfc3RhbGxfdXBvbl9zZWVrIiwKITEpJiZxZih0aGlzLGEpfX07Vy5wcm90b3R5cGUubmE9ZnVuY3Rpb24oYSl7dGhpcy5kaXNwYXRjaEV2ZW50KGEpfTtmdW5jdGlvbiBxZihhLGIpe2ImJiJwbGF5aW5nIj09PWIudHlwZSYmKGEuQT0hMCxldmVudEtpbGwoYikpfVcucHJvdG90eXBlLnRhPWZ1bmN0aW9uKGEpe2lmKHRoaXMuYSl7dmFyIGI9dGhpcy5hO2IuYy52aWRlbyYmYi5jLnZpZGVvLkpjKGEpfX07Vy5wcm90b3R5cGUuc2V0VmlkZW9TdHJlYW1PZmZzZXQ9Vy5wcm90b3R5cGUudGE7ZnVuY3Rpb24gdGYoYSl7Zm9yKHZhciBiPTA7YjxhLmxlbmd0aDsrK2IpZm9yKHZhciBjPWFbYl0sZD0wO2Q8Yy5hLmxlbmd0aDsrK2Qpe2Zvcih2YXIgZT1jLmFbZF0sZj1lLGc9L3ZpZGVvXC93ZWJtOyBjb2RlY3M9ImF2MDEuKiIvLGg9ITEsaz0wO2s8Zi52Lmxlbmd0aDsrK2spe3ZhciBsPWYudltrXTtPZShOZChsKSk/Zy50ZXN0KE5kKGwpKSYmKGg9ITApOihmLnYuc3BsaWNlKGssMSksLS1rKX1pZihoKWZvcihrPTA7azxmLnYubGVuZ3RoOysraylsPWYudltrXSxnLnRlc3QoTmQobCkpfHwoZi52LnNwbGljZShrLDEpLC0tayk7MD09ZS52Lmxlbmd0aCYmKGMuYS5zcGxpY2UoZCwxKSwtLWQpfWZvcihiPTA7YjxhLmxlbmd0aDsrK2IpZm9yKGM9YVtiXSxkPTA7ZDxjLmEubGVuZ3RoOysrZCljLmFbZF0udi5zb3J0KHVmKX0KZnVuY3Rpb24gdWYoYSxiKXt2YXIgYz1hLmJhbmR3aWR0aHx8TnVtYmVyLk1BWF9WQUxVRSxkPWIuYmFuZHdpZHRofHxOdW1iZXIuTUFYX1ZBTFVFO3JldHVybiBjPGQ/LTE6Yz5kPzE6MH07ZnVuY3Rpb24gdmYoYSl7dGhpcy5hPWF9dmYucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmEuZGVzdHJveSgpO3RoaXMuYT1udWxsfTt2Zi5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKGEpe3ZhciBiPXdmKGEsbnVsbCksYz13Zih0aGlzLmEsYSk7cmV0dXJuIFByb21pc2UuYWxsKFtiLGNdKS50aGVuKEoodGhpcyxmdW5jdGlvbihiKXt2YXIgYz1iWzBdO2I9YlsxXTt0Zih0aGlzLmEuYSk7YS5iJiYhdGhpcy5hLmImJihhLmg9ITApO2EuYz10aGlzLmEuYzthLmk9dGhpcy5hLmk/dGhpcy5hLmkuY2xvbmUoKTpudWxsO2EuZz10aGlzLmEuZzt2YXIgZj1bXTt4ZihhLHRoaXMuYSxjLGIsZik7dGYoYS5hKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGYpfSkpfTsKZnVuY3Rpb24gd2YoYSxiKXtmdW5jdGlvbiBjKGEsYil7cmV0dXJuIGEuY29uY2F0KGIpfXZhciBkPWEuYS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuYX0pLnJlZHVjZShjLFtdKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEudn0pLnJlZHVjZShjLFtdKTtpZihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInRlbXBsYXRlZF9sYXN0X3hfdGltZWxpbmUiLCExKSYmYil2YXIgZT1iLmEubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLmF9KS5yZWR1Y2UoYyxbXSkubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLnZ9KS5yZWR1Y2UoYyxbXSkubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLk0uY3JlYXRlKCl9KSxlPVByb21pc2UuYWxsKGUpLnRoZW4oZnVuY3Rpb24oYSl7Zm9yKHZhciBiPU51bWJlci5QT1NJVElWRV9JTkZJTklUWSxjPTA7YzxhLmxlbmd0aDsrK2Mpe3ZhciBlPWFbY107ZS5sZW5ndGgoKSYmZS5sYXN0KCkudW5zY2FsZWRTdGFydFRpbWU8YiYmKGI9ZS5sYXN0KCkudW5zY2FsZWRTdGFydFRpbWUpfWI9CmEubGVuZ3RoP2I6bnVsbDthPWQubWFwKGZ1bmN0aW9uKGEpe2EuTS5FYyYmYS5NLkVjKGIpO3JldHVybiBhLk0uY3JlYXRlKCl9KTtyZXR1cm4gUHJvbWlzZS5hbGwoYSl9KTtlbHNlIGU9ZC5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuTS5jcmVhdGUoKX0pLGU9UHJvbWlzZS5hbGwoZSk7cmV0dXJuIGUudGhlbihmdW5jdGlvbihhKXtmb3IodmFyIGI9e30sYz0wO2M8ZC5sZW5ndGg7KytjKWJbZFtjXS5YXT1hW2NdO3JldHVybiBQcm9taXNlLnJlc29sdmUoYil9KX0KZnVuY3Rpb24geGYoYSxiLGMsZCxlKXt2YXIgZj1uZXcgRDthLmEuZm9yRWFjaChmdW5jdGlvbihhLGIpe2YucHVzaChhLmlkfHwiIitiLGEpfSk7dmFyIGc9bmV3IEQ7Yi5hLmZvckVhY2goZnVuY3Rpb24oYSxiKXtnLnB1c2goYS5pZHx8IiIrYixhKX0pO2E9YWIoZik7Zm9yKGI9MDtiPGEubGVuZ3RoOysrYil7dmFyIGg9YVtiXSxrPWYuZ2V0KGgpOzE8ay5sZW5ndGh8fChoPWcuZ2V0KGgpKSYmMCE9aC5sZW5ndGgmJjE9PWgubGVuZ3RoJiYoeWYoa1swXSxoWzBdLGMsZCxlKSxrWzBdLmR1cmF0aW9uPWhbMF0uZHVyYXRpb24pfX0KZnVuY3Rpb24geWYoYSxiLGMsZCxlKXt2YXIgZj1uZXcgRDthLmEuZm9yRWFjaChmdW5jdGlvbihhLGIpe2YucHVzaChhLmlkfHwiIitiLGEpfSk7dmFyIGc9bmV3IEQ7Yi5hLmZvckVhY2goZnVuY3Rpb24oYSxiKXtnLnB1c2goYS5pZHx8IiIrYixhKX0pO2E9YWIoZik7Zm9yKGI9MDtiPGEubGVuZ3RoOysrYil7dmFyIGg9YVtiXSxrPWYuZ2V0KGgpOzE8ay5sZW5ndGh8fChoPWcuZ2V0KGgpKSYmMCE9aC5sZW5ndGgmJjE9PWgubGVuZ3RoJiZ6ZihrWzBdLGhbMF0sYyxkLGUpfX0KZnVuY3Rpb24gemYoYSxiLGMsZCxlKXt2YXIgZj1uZXcgRDthLnYuZm9yRWFjaChmdW5jdGlvbihhLGIpe2YucHVzaChhLmlkfHwiIitiLGEpfSk7dmFyIGc9bmV3IEQ7Yi52LmZvckVhY2goZnVuY3Rpb24oYSxiKXtnLnB1c2goYS5pZHx8IiIrYixhKX0pO2I9e307Zm9yKHZhciBoPWFiKGYpLGs9MDtrPGgubGVuZ3RoOysrayl7dmFyIGw9aFtrXTtiW2xdPWw7dmFyIG09Zi5nZXQobCk7MTxtLmxlbmd0aHx8KChsPWcuZ2V0KGwpKSYmMCE9bC5sZW5ndGg/MT09bC5sZW5ndGgmJihCZihtWzBdLGxbMF0sYyxkKSxtWzBdLmFhPWxbMF0uYWEsbFswXS5hYT1udWxsLG1bMF0uYT1sWzBdLmEsVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJyZWZyZXNoX2JhbmR3aWR0aF9mcm9tX2xpdmVfbWFuaWZlc3QiLCExKSYmKG1bMF0uYmFuZHdpZHRoPWxbMF0uYmFuZHdpZHRoKSk6KGUucHVzaChtWzBdKSxhLnYuc3BsaWNlKGEudi5pbmRleE9mKG1bMF0pLDEpKSl9aD1hYihnKTsKZm9yKGs9MDtrPGgubGVuZ3RoOysraylsPWhba10sYltsXXx8KGJbbF09bCxsPWcuZ2V0KGwpLGEudi5wdXNoKGxbMF0pKX1mdW5jdGlvbiBCZihhLGIsYyxkKXthPWNbYS5YXTtjPWRbYi5YXTtkPShiPWEubGVuZ3RoKCkpP2EubGFzdCgpLmVuZFRpbWU6MDtpZihhLkIoYykpe2M9YS5sZW5ndGgoKTt2YXIgZT0hMTtWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInJvYnVzdF9jb3VudF9jaGFuZ2VzIiwhMSkmJihlPSEhYyYmYS5sYXN0KCkuZW5kVGltZT5kKTthLmcucHVzaChiIT09Y3x8ZSk7NTA8YS5nLmxlbmd0aCYmYS5nLnNoaWZ0KCl9fTtmdW5jdGlvbiBYKCl7dGhpcy5hPXRoaXMuYj1udWxsO3RoaXMuZj1uZXcgYmI7dGhpcy5jPU51bWJlci5QT1NJVElWRV9JTkZJTklUWTt0aGlzLmk9ITA7dGhpcy5nPSExfXEoInNoYWthLm1lZGlhLlNpbXBsZUFick1hbmFnZXIiLFgpO1gucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmYuZGVzdHJveSgpO3RoaXMuYT10aGlzLmI9dGhpcy5mPW51bGx9O1gucHJvdG90eXBlLmluaXRpYWxpemU9ZnVuY3Rpb24oYSxiKXt0aGlzLmJ8fHRoaXMuYXx8KHRoaXMuYj1hLHRoaXMuYT1iKX07ClgucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKCl7dGhpcy5iJiZ0aGlzLmEmJiF0aGlzLmcmJih0aGlzLmM9RGF0ZS5ub3coKSs0RTMsRSh0aGlzLmYsdGhpcy5iLmdldEVzdGltYXRvcigpLCJiYW5kd2lkdGgiLHRoaXMubS5iaW5kKHRoaXMpKSxFKHRoaXMuZix0aGlzLmEsImFkYXB0YXRpb24iLHRoaXMuai5iaW5kKHRoaXMpKSxFKHRoaXMuZix0aGlzLmEsInRyYWNrc2NoYW5nZWQiLHRoaXMuaC5iaW5kKHRoaXMpKSx0aGlzLmc9ITApfTtYLnByb3RvdHlwZS5lbmFibGU9ZnVuY3Rpb24oYSl7dGhpcy5pPWF9O1gucHJvdG90eXBlLmdldEluaXRpYWxWaWRlb1RyYWNrSWQ9ZnVuY3Rpb24oKXtpZighdGhpcy5ifHwhdGhpcy5hKXJldHVybiBudWxsO3ZhciBhPUNmKHRoaXMpO3JldHVybiBhP2EuaWQ6bnVsbH07WC5wcm90b3R5cGUuZ2V0SW5pdGlhbFN3aXRjaFJlYXNvbj1mdW5jdGlvbigpe3JldHVybiBudWxsfTtYLnByb3RvdHlwZS5nZXRJbml0aWFsQXVkaW9UcmFja0lkPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9OwpYLnByb3RvdHlwZS5zZWxlY3RWaWRlb1RyYWNrPWZ1bmN0aW9uKGEsYixjKXt0aGlzLmcmJnRoaXMuYS5zZWxlY3RWaWRlb1RyYWNrKGEuaWQsYixjKX07WC5wcm90b3R5cGUubT1mdW5jdGlvbigpe0RhdGUubm93KCk8dGhpcy5jfHx0aGlzLmgoKX07WC5wcm90b3R5cGUuaD1mdW5jdGlvbigpe2lmKHRoaXMuaSl7dmFyIGE9Q2YodGhpcyk7aWYoYSl7aWYoYS5hY3RpdmUpe3RoaXMuYz1EYXRlLm5vdygpKzNFMztyZXR1cm59dGhpcy5zZWxlY3RWaWRlb1RyYWNrKGEsITEpfXRoaXMuYz1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFl9fTtYLnByb3RvdHlwZS5qPWZ1bmN0aW9uKCl7dGhpcy5jPT1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkmJih0aGlzLmM9RGF0ZS5ub3coKSszRTQpfTsKZnVuY3Rpb24gQ2YoYSl7dmFyIGI9YS5hLlooKTtpZigwPT1iLmxlbmd0aClyZXR1cm4gbnVsbDtiLnNvcnQodmEpO3ZhciBjO2E6e2M9YS5hLnZhKCk7Zm9yKHZhciBkPTA7ZDxjLmxlbmd0aDsrK2QpaWYoY1tkXS5hY3RpdmUpe2M9Y1tkXTticmVhayBhfWM9bnVsbH1jPWM/Yy5iYW5kd2lkdGg6MDthPWEuYi5nZXRCYW5kd2lkdGgoKTtmb3IodmFyIGQ9YlswXSxlPTA7ZTxiLmxlbmd0aDsrK2Upe3ZhciBmPWJbZV0sZz1lKzE8Yi5sZW5ndGg/YltlKzFdOntiYW5kd2lkdGg6TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZfTtpZihmLmJhbmR3aWR0aCYmKGc9KGcuYmFuZHdpZHRoK2MpLy44NSxhPj0oZi5iYW5kd2lkdGgrYykvLjk1JiZhPD1nJiYoZD1mLGQuYWN0aXZlKSkpYnJlYWt9cmV0dXJuIGR9O2Z1bmN0aW9uIFkoYSxiLGMsZCl7Ri5jYWxsKHRoaXMsbnVsbCk7dGhpcy5iPWE7dGhpcy5hPWI7dGhpcy53YT1jO3RoaXMua2I9bmV3IFZpZGVvUGxheWVyTG9jYWxCYW5kd2lkdGhFc3RpbWF0b3IodGhpcyxjLGIpO3RoaXMuaD1uZXcgYmI7dGhpcy5pPW5ldyBNZWRpYVNvdXJjZTt0aGlzLmJhPXRoaXMudmlkZW89bnVsbDt0aGlzLkJiPTA7dGhpcy5uYz10aGlzLlpiPSExO3RoaXMuTGI9aWE7dGhpcy5BYj10aGlzLlY9dGhpcy5pYT10aGlzLmw9bnVsbDt0aGlzLktiPTM7dGhpcy5yYT10aGlzLiRiPXRoaXMuRmE9dGhpcy5FYT0hMTt0aGlzLlBhPTA7dGhpcy5kYT1uZXcgVmlkZW9QdXNoVHJhY2tlcjt0aGlzLmdhPW51bGw7dGhpcy5pYz0xO3RoaXMuZ2M9SW5maW5pdHk7dGhpcy5VYj10aGlzLlNiPSExO3RoaXMucGE9dGhpcy5PYT1udWxsO3RoaXMuV2I9dGhpcy5WYj10aGlzLkdhPXRoaXMuY2M9dGhpcy5tYT0hMTt0aGlzLmY9bmV3IEQ7dGhpcy5BPWQ7dGhpcy5BLmluaXRpYWxpemUodGhpcy5rYiwKdGhpcyk7dGhpcy5PPSExO3RoaXMuUz0iZW4iO3RoaXMueWE9ITE7dGhpcy5KPW5ldyBJO3RoaXMuSWI9bmV3IEk7dGhpcy5tPW5ldyBrYTt0aGlzLkQ9bnVsbDt0aGlzLmtjPTE7dGhpcy5jPXt9O3RoaXMuc2E9bmV3IEk7dGhpcy5qYT0wO3RoaXMuZ2I9MTVFMzt0aGlzLmo9bnVsbDt0aGlzLmVjPSExO3RoaXMuZGM9MDt0aGlzLkNhPSExO3RoaXMuQj17fTt0aGlzLmxhPXRoaXMua2E9dGhpcy51PW51bGw7dGhpcy5nPXt9O3RoaXMuJD0hMTt0aGlzLmZjPTA7dGhpcy5LPXRoaXMuYS5nZXROdW1iZXIoImJ1ZmZlcmluZ19vdmVyZmxvd190aHJlc2hvbGQiLDApO3RoaXMucGM9bnVsbDt0aGlzLm89e307dGhpcy53PXt9O3RoaXMuUj1udWxsO3RoaXMuVT1bXTt0aGlzLlQ9dGhpcy5JPW51bGw7dGhpcy5HPW5ldyBOZXR3b3JrU3RhdHVzRGV0ZWN0b3I7dGhpcy5oYz0hMTt0aGlzLm5hPSEwO3RoaXMuZWE9ITE7dGhpcy51Yz1uZXcgU3Vic2NyaXB0aW9uc0hhbmRsZXI7dGhpcy5ZYj0hMTsKdGhpcy54YT0xO3RoaXMuSWQ9dGhpcy5hLmdldE51bWJlcigic3RyZWFtX21heGltdW1fb25wYXVzZV9idWZmZXJfc2l6ZV9tdWx0aXBsaWVyIiwwKTt0aGlzLmNhPW51bGw7dGhpcy5hLmdldEJvb2woImFsbG93X2luZmluaXRlX3JldHJ5X29uX25ldF9lcnIiLCEwKSYmdGhpcy51Yy5hZGRTdWJzY3JpcHRpb25zKHRoaXMuRy5hZGRMaXN0ZW5lcigibmV0d29ya0ludGVycnVwdGVkIix0aGlzLlRjLHRoaXMpLHRoaXMuRy5hZGRMaXN0ZW5lcigibmV0d29ya1Jlc3VtZWQiLHRoaXMuVWMsdGhpcyksdGhpcy5HLmFkZExpc3RlbmVyKCJzeXN0ZW1XYWtlIix0aGlzLlZjLHRoaXMpKX1yKFksRik7cSgic2hha2EucGxheWVyLlN0cmVhbVZpZGVvU291cmNlIixZKTtZLnByb3RvdHlwZS5YYj1mdW5jdGlvbigpe3JldHVybntWaWRlb1NvdXJjZVN0cmVhbTp0aGlzLmMudmlkZW8sQXVkaW9Tb3VyY2VTdHJlYW06dGhpcy5jLmF1ZGlvLFRleHRTb3VyY2VTdHJlYW06dGhpcy5jLnRleHQsQmFuZHdpZHRoRXN0aW1hdG9yOnRoaXMud2F9fTsKWS5wcm90b3R5cGUuZ2V0U3RyZWFtRGVidWc9WS5wcm90b3R5cGUuWGI7WS5wcm90b3R5cGUuUGM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iP3RoaXMuYi53OiJub25lIn07WS5wcm90b3R5cGUuZ2V0TXBkQXVkaW9Db25maWc9WS5wcm90b3R5cGUuUGM7ClkucHJvdG90eXBlLmxjPWZ1bmN0aW9uKGEpe251bGwhPWEuc3RyZWFtQnVmZmVyU2l6ZSYmKHRoaXMuZy5zdHJlYW1CdWZmZXJTaXplPWEuc3RyZWFtQnVmZmVyU2l6ZSk7bnVsbCE9YS5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZSYmKHRoaXMuZy5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZT1hLmluaXRpYWxTdHJlYW1CdWZmZXJTaXplKTtudWxsIT1hLmR5bmFtaWNTdHJlYW1CdWZmZXJTaXplJiYodGhpcy5nLmR5bmFtaWNTdHJlYW1CdWZmZXJTaXplPWEuZHluYW1pY1N0cmVhbUJ1ZmZlclNpemUpO251bGwhPWEuc21hcnRCdWZmZXJBZGp1c3RtZW50UGFyYW1zJiYodGhpcy5nLnNtYXJ0QnVmZmVyQWRqdXN0bWVudFBhcmFtcz1hLnNtYXJ0QnVmZmVyQWRqdXN0bWVudFBhcmFtcyk7bnVsbCE9YS5hZGRDZG5EZWJ1Z1F1ZXJ5UGFyYW1ldGVycyYmKHRoaXMuZy5hZGRDZG5EZWJ1Z1F1ZXJ5UGFyYW1ldGVycz1hLmFkZENkbkRlYnVnUXVlcnlQYXJhbWV0ZXJzKTtudWxsIT1hLnNlZ21lbnRSZXF1ZXN0VGltZW91dCYmCih0aGlzLmcuc2VnbWVudFJlcXVlc3RUaW1lb3V0PWEuc2VnbWVudFJlcXVlc3RUaW1lb3V0KTtudWxsIT1hLnJlc29sdmVWaWRlb1RpbWVVcGRhdGVPbkZyYWdtZW50ZWRUaW1lUmFuZ2VzJiYodGhpcy5nLnJlc29sdmVWaWRlb1RpbWVVcGRhdGVPbkZyYWdtZW50ZWRUaW1lUmFuZ2VzPWEucmVzb2x2ZVZpZGVvVGltZVVwZGF0ZU9uRnJhZ21lbnRlZFRpbWVSYW5nZXMpO251bGwhPWEucmVhcHBlbmRJbml0U2VnbWVudEFmdGVyQWJvcnQmJih0aGlzLmcucmVhcHBlbmRJbml0U2VnbWVudEFmdGVyQWJvcnQ9YS5yZWFwcGVuZEluaXRTZWdtZW50QWZ0ZXJBYm9ydCk7bnVsbCE9YS5saXZlRGF0YUZldGNoTWF4UmV0cmllcyYmKHRoaXMuZy5saXZlRGF0YUZldGNoTWF4UmV0cmllcz1hLmxpdmVEYXRhRmV0Y2hNYXhSZXRyaWVzKTtudWxsIT1hLmxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXMmJih0aGlzLmcubGl2ZVNvdXJjZUJ1ZmZlckNsZWFyTWF4UmV0cmllcz1hLmxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXMpOwpudWxsIT1hLnBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2UmJih0aGlzLmcucGxheWhlYWRGcmFnbWVudGVkR2FwRGlmZkFsbG93YW5jZT1hLnBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2UpO251bGwhPWEuZml4QnVmZmVyaW5nR29hbERldGVybWluYXRpb24mJih0aGlzLmcuZml4QnVmZmVyaW5nR29hbERldGVybWluYXRpb249YS5maXhCdWZmZXJpbmdHb2FsRGV0ZXJtaW5hdGlvbik7bnVsbCE9YS5za2lwRW1wdHlTZWdtZW50cyYmKHRoaXMuZy5za2lwRW1wdHlTZWdtZW50cz1hLnNraXBFbXB0eVNlZ21lbnRzKTtudWxsIT1hLnVzZU1pY3JvVGFza1RpbWVvdXRzJiYodGhpcy5nLnVzZU1pY3JvVGFza1RpbWVvdXRzPWEudXNlTWljcm9UYXNrVGltZW91dHMpO0RmKHRoaXMpO251bGwhPWEuaW5jbHVkZVN0cmVhbUJ1ZmZlclNpemVJblN0YXJ0T2Zmc2V0JiYodGhpcy5aYj1Cb29sZWFuKGEuaW5jbHVkZVN0cmVhbUJ1ZmZlclNpemVJblN0YXJ0T2Zmc2V0KSk7Cm51bGwhPWEubGl2ZUF1ZGlvUHVzaFJlcHJlc2VudGF0aW9uJiYodGhpcy5wYT1TdHJpbmcoYS5saXZlQXVkaW9QdXNoUmVwcmVzZW50YXRpb24pKTtudWxsIT1hLmxpdmVJbml0aWFsUHVzaFJlcHJlc2VudGF0aW9uJiYodGhpcy5PYT1TdHJpbmcoYS5saXZlSW5pdGlhbFB1c2hSZXByZXNlbnRhdGlvbikpO251bGwhPWEuZW5hYmxlQWRhcHRhdGlvbiYmdGhpcy5BLmVuYWJsZShCb29sZWFuKGEuZW5hYmxlQWRhcHRhdGlvbikpO251bGwhPWEubXBkUmVxdWVzdFRpbWVvdXQmJih0aGlzLkxiPU51bWJlcihhLm1wZFJlcXVlc3RUaW1lb3V0KSk7bnVsbCE9YS5taW5NcGRSZWZyZXNoSW50ZXJ2YWwmJih0aGlzLktiPU51bWJlcihhLm1pbk1wZFJlZnJlc2hJbnRlcnZhbCkvMUUzKTtudWxsIT1hLmVuYWJsZU1hbmlmZXN0RGVidWcmJih0aGlzLlViPSEhYS5lbmFibGVNYW5pZmVzdERlYnVnKTtudWxsIT1hLmxpdmVTdHJlYW1FbmRUaW1lb3V0JiYodGhpcy5nYj1OdW1iZXIoYS5saXZlU3RyZWFtRW5kVGltZW91dCkpOwpudWxsIT1hLnByZWZlcnJlZExhbmd1YWdlJiYodGhpcy5TPVNhKFN0cmluZyhhLnByZWZlcnJlZExhbmd1YWdlKSkpO251bGwhPWEubGl2ZVNlbmRQdXNoSGVhZGVycyYmKHRoaXMucmE9Qm9vbGVhbihhLmxpdmVTZW5kUHVzaEhlYWRlcnMpKTtudWxsIT1hLmxpdmVNYXhNYW5pZmVzdEZldGNoZXNXaXRoUHVzaCYmKHRoaXMuUGE9TnVtYmVyKGEubGl2ZU1heE1hbmlmZXN0RmV0Y2hlc1dpdGhQdXNoKSk7bnVsbCE9YS5jdXJyZW50VGltZUR1cmluZ1JlYWR5U3RhdGVaZXJvVGhyb3dzJiYodGhpcy5TYj1Cb29sZWFuKGEuY3VycmVudFRpbWVEdXJpbmdSZWFkeVN0YXRlWmVyb1Rocm93cykpO251bGwhPWEubGl2ZU1heFNlZ21lbnRzVG9QdXNoJiYodGhpcy5nYz1OdW1iZXIoYS5saXZlTWF4U2VnbWVudHNUb1B1c2gpKTtudWxsIT1hLmp1bXBUb0xpdmVUaHJlc2hvbGQmJih0aGlzLmRjPU51bWJlcihhLmp1bXBUb0xpdmVUaHJlc2hvbGQpKTtudWxsIT1hLnJlc3RyaWN0aW9ucyYmKHRoaXMubT0KYS5yZXN0cmljdGlvbnMsdGhpcy5PJiZFZih0aGlzKSk7bnVsbCE9YS51c2VMb25nQ2FjaGVGb3JNYW5pZmVzdCYmKHRoaXMubWE9Qm9vbGVhbihhLnVzZUxvbmdDYWNoZUZvck1hbmlmZXN0KSk7bnVsbCE9YS5qdW1wVG9FYXJsaWVzdFBvc2l0aW9uSW5DdXJyZW50QmxvY2smJih0aGlzLmNjPUJvb2xlYW4oYS5qdW1wVG9FYXJsaWVzdFBvc2l0aW9uSW5DdXJyZW50QmxvY2spKTtudWxsIT1hLmlnbm9yZU1pbkJ1ZmZlclRpbWUmJih0aGlzLkdhPUJvb2xlYW4oYS5pZ25vcmVNaW5CdWZmZXJUaW1lKSk7bnVsbCE9PWEuZW5hYmxlUmVxdWVzdFBpcGVsaW5pbmcmJih0aGlzLlZiPUJvb2xlYW4oYS5lbmFibGVSZXF1ZXN0UGlwZWxpbmluZykpO251bGwhPT1hLmVuYWJsZVN0cmVhbWluZyYmKHRoaXMuV2I9Qm9vbGVhbihhLmVuYWJsZVN0cmVhbWluZykpfTsKWS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuSi5kZXN0cm95KCk7dGhpcy5zYS5kZXN0cm95KCk7dGhpcy5zYT10aGlzLko9bnVsbDt0aGlzLmthJiYoY2xlYXJUaW1lb3V0KHRoaXMua2EpLHRoaXMua2E9bnVsbCk7dGhpcy51JiYoY2xlYXJUaW1lb3V0KHRoaXMudSksdGhpcy51PW51bGwpO3RoaXMuQj1udWxsO3RoaXMuaC5kZXN0cm95KCk7dGhpcy5oPW51bGw7V2EodGhpcy5jKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2EuZGVzdHJveSgpfSk7dGhpcy5mPXRoaXMuYz1udWxsO3RoaXMuYiYmKHRoaXMuYi5kZXN0cm95KCksdGhpcy5iPW51bGwpO3RoaXMuQS5kZXN0cm95KCk7dGhpcy5KYT10aGlzLm09dGhpcy52aWRlbz10aGlzLmk9dGhpcy53YT10aGlzLkE9bnVsbDt0aGlzLmEuZ2V0Qm9vbCgiZml4aW5nX3NjaGVkdWxlcl9kaXNhYmxlX2xlYWtzIiwhMCkmJihPYmplY3Qua2V5cyh0aGlzLm8pLmZvckVhY2goZnVuY3Rpb24oYSl7KGE9dGhpcy5vW2FdKSYmYS5kaXNhYmxlKCl9LmJpbmQodGhpcykpLAp0aGlzLm89e30pO09iamVjdC5rZXlzKHRoaXMudykuZm9yRWFjaChmdW5jdGlvbihhKXsoYT10aGlzLndbYV0pJiZhLmRlc3Ryb3koKX0uYmluZCh0aGlzKSk7dGhpcy53PXt9O3RoaXMuSSYmKHRoaXMuSS5kaXNhYmxlKCksdGhpcy5JPW51bGwpO3RoaXMuUiYmKHRoaXMuUi5jbGVhbnVwKCksdGhpcy5SPW51bGwpO2Zvcih2YXIgYT0wO2E8dGhpcy5VLmxlbmd0aDthKyspdGhpcy5VW2FdLmNsZWFudXAoKTt0aGlzLlU9W107dGhpcy51Yy5yZWxlYXNlKCl9O2Z1bmN0aW9uIGVmKGEsYil7aWYoYS5sKXt2YXIgYz1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJtZWRpYV9zb3VyY2Vfb3BlbiIpLnN0YXJ0KCk7YS5JYi50aGVuKGZ1bmN0aW9uKCl7Yy5sb2coKX0pfUUoYS5oLGEuaSwic291cmNlb3BlbiIsYS5oZC5iaW5kKGEpKTtiLnNyYz13aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChhLmkpfW49WS5wcm90b3R5cGU7bi52Yz1mdW5jdGlvbigpe307CmZ1bmN0aW9uIGpmKGEsYixjKXt2YXIgZDthLmwmJihkPWEubC5nZXRPcGVyYXRpb25Mb2dnZXIoInNvdXJjZV9hdHRhY2giKS5zdGFydCgpKTtpZighYS5PKXJldHVybiBhPUVycm9yKCJDYW5ub3QgY2FsbCBhdHRhY2goKSByaWdodCBub3cuIiksYS50eXBlPSJhcHAiLGQmJmQuc2V0RXJyb3IoYSkubG9nKCksUHJvbWlzZS5yZWplY3QoYSk7YS5KYT1iO2EudmlkZW89YzthLmJhPW51bGw7YS5hLmdldEJvb2woImVuYWJsZV92aWV3cG9ydF9wcmlvcml0eV9hZGp1c3RtZW50IiwhMSkmJihhLlI9bmV3IFZpZXdwb3J0UHJpb3JpdHlBZGp1c3RlcihhLnZpZGVvKSxhLlIuc2V0T25Qcmlvcml0eUNoYW5nZWQoZnVuY3Rpb24oYSl7T2JqZWN0LmtleXModGhpcy5vKS5mb3JFYWNoKGZ1bmN0aW9uKGIpe3RoaXMub1tiXS51cGRhdGVQcmlvcml0eVdpdGhOZXdBZGp1c3RtZW50KGEpfS5iaW5kKHRoaXMpKX0uYmluZChhKSkpO2EuYS5nZXRCb29sKCJlbmFibGVfZmlyc3RfdmlkZW9fcHJpb3JpdHlfYWRqdXN0bWVudCIsCiExKSYmYS5VLnB1c2gobmV3IEZpcnN0TG9hZGVkVmlkZW9Qcmlvcml0eUFkanVzdGVyKGEudmlkZW8pKTtFKGEuaCxhLnZpZGVvLCJsb2FkZWRtZXRhZGF0YSIsYS5nZC5iaW5kKGEpKTtFKGEuaCxhLndhLCJiYW5kd2lkdGgiLGEuR2QuYmluZChhKSk7aWYoYS5iLmJ8fGEuYS5nZXRCb29sKCJiYWNrX29mZl9idWZmZXJpbmdfb3ZlcmZsb3ciLCExKSlFKGEuaCxiLCJidWZmZXJpbmdTdGFydCIsYS5jZC5iaW5kKGEpKSxFKGEuaCxiLCJidWZmZXJpbmdFbmQiLGEuYmQuYmluZChhKSk7Yj1hLmEuZ2V0Qm9vbCgiZW5hYmxlX2NvbnRlbnRfcHJvdGVjdGlvbiIsITEpPyhiPWEudmlkZW8ubWVkaWFLZXlzKSYmYS52aWRlby5zZXRNZWRpYUtleXM/YS52aWRlby5zZXRNZWRpYUtleXMoYik6UHJvbWlzZS5yZXNvbHZlKCk6UHJvbWlzZS5yZXNvbHZlKCk7RmYoYSkudGhlbihKKGEsZnVuY3Rpb24oKXtkJiZ0aGlzLlAoKSYmZC5zZXRMaXZlaGVhZFBvc2l0aW9uKEdmKEhmKHRoaXMpKSk7dGhpcy5KJiYKdGhpcy5KLnJlc29sdmUoKTt0aGlzLnZjKCl9KSkuY2F0Y2goSihhLGZ1bmN0aW9uKGEpe3RoaXMuSiYmdGhpcy5KLnJlamVjdChhKX0pKTtyZXR1cm4gUHJvbWlzZS5hbGwoW2EuSixiXSkudGhlbihmdW5jdGlvbigpe2QmJmQubG9nKCl9KX0Kbi53Yj1mdW5jdGlvbigpe2lmKHRoaXMuTyl7dmFyIGE9RXJyb3IoIkNhbm5vdCBjYWxsIGxvYWQoKSByaWdodCBub3cuIik7YS50eXBlPSJhcHAiO3JldHVybiBQcm9taXNlLnJlamVjdChhKX1pZighdGhpcy5ifHwwPT10aGlzLmIuYS5sZW5ndGgpcmV0dXJuIGE9RXJyb3IoIlRoZSBtYW5pZmVzdCBkb2VzIG5vdCBzcGVjaWZ5IGFueSBjb250ZW50LiIpLGEudHlwZT0ic3RyZWFtIixQcm9taXNlLnJlamVjdChhKTt0Zih0aGlzLmIuYSk7aWYoMD09dGhpcy5iLmEubGVuZ3RofHwwPT10aGlzLmIuYVswXS5hLmxlbmd0aHx8IXRoaXMuYi5hWzBdLmEuc29tZShmdW5jdGlvbihhKXtyZXR1cm4idmlkZW8iPT09YS5jb250ZW50VHlwZX0pKXJldHVybiBhPUVycm9yKCJUaGUgbWFuaWZlc3Qgc3BlY2lmaWVzIGNvbnRlbnQgdGhhdCBjYW5ub3QgYmUgZGlzcGxheWVkIG9uIHRoaXMgYnJvd3Nlci9wbGF0Zm9ybS4iKSxhLnR5cGU9InN0cmVhbSIsUHJvbWlzZS5yZWplY3QoYSk7dGhpcy5PPQohMDt0aGlzLkdhfHwodGhpcy5nLmluaXRpYWxTdHJlYW1CdWZmZXJTaXplPU1hdGgubWF4KHRoaXMuZy5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZXx8MCx0aGlzLmIuZykpO3RoaXMuaWEmJnRoaXMuaWEuc2V0U3RyZWFtVHlwZSh0aGlzLmIuQik7RGYodGhpcyk7RWYodGhpcyk7cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpfTtmdW5jdGlvbiBJZihhKXt2YXIgYj15KHt0eXBlOiJtYW5pZmVzdHdyYXBwZWQiLGJ1YmJsZXM6ITB9KTthLmRpc3BhdGNoRXZlbnQoYil9ZnVuY3Rpb24gSmYoYSxiKXt2YXIgYz15KHt0eXBlOiJsaXZlaGVhZElkbGVBdCIsc2Vjb25kczpiLGJ1YmJsZXM6ITB9KTthLmRpc3BhdGNoRXZlbnQoYyl9ZnVuY3Rpb24gR2YoYSl7cmV0dXJuIE1hdGgubWluLmFwcGx5KE1hdGgsYS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEubGVuZ3RoKCk/YS5sYXN0KCkuZW5kVGltZTpudWxsfSkuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiEhYX0pKX0Kbi5KYj1mdW5jdGlvbihhLGIpe3ZhciBjO3RoaXMuYS5nZXRCb29sKCJkZWNvdXBsZV9tcGRfdXBkYXRlX2xvb3BfZnJvbV9yZXF1ZXN0X2xvb3AiLCExKSYmS2YodGhpcywwKTt0aGlzLlYmJih0aGlzLlYubG9nKCksdGhpcy5WPW51bGwpO3RoaXMubCYmKGM9dGhpcy5sLmdldE9wZXJhdGlvbkxvZ2dlcigidXBkYXRlX21hbmlmZXN0Iikuc3RhcnQoKSk7aWYoIWJ8fHRoaXMuTyl7dmFyIGQ9RGF0ZS5ub3coKTt0aGlzLmEuZ2V0Qm9vbCgiZGVjb3VwbGVfbXBkX3VwZGF0ZV9sb29wX2Zyb21fcmVxdWVzdF9sb29wIiwhMSl8fCh0aGlzLnU9bnVsbCk7dmFyIGU9bnVsbCxmLGc7aWYodGhpcy5yYSYmKCF0aGlzLlBhfHx0aGlzLlBhPnRoaXMuaWMpKXtmPU1hdGguZmxvb3IoTGYodGhpcykpKzE7Zj1NYXRoLm1pbihmLHRoaXMuZ2MpO3ZhciBoPXRoaXMuYy52aWRlbztpZihoPWg/aC5GYigpOm51bGwpaD1oLmxhc3QoKSxudWxsIT1oLnVuc2NhbGVkU3RhcnRUaW1lJiYoZz1oLnVuc2NhbGVkU3RhcnRUaW1lKTsKaWYodGhpcy52aWRlby5wYXVzZWR8fHRoaXMuJClmPTB9ZiYmdGhpcy5pYysrO2g9dGhpcy5iLmk7aD10aGlzLmEuZ2V0Qm9vbCgiZW5hYmxlX2NsZWFuX2ZhaWxvdmVyX3VyaV9vbl9tcGRfcmVxdWVzdHMiLCEwKT9oLmNsb25lKCk6aDtjJiYhYSYmYy5zZXRSZXNvdXJjZShoLnRvU3RyaW5nKCkpOyhhP3RoaXMueGMoKTp0aGlzLnljKGgsZixnKSkudGhlbihKKHRoaXMsZnVuY3Rpb24oYil7YXx8dGhpcy5HLmluZm9ybU5ldHdvcmtSZXN1bWVkKCk7ZT1uZXcgdmYoYik7dmFyIGM7dGhpcy5sJiYoYz10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJ1cGRhdGVfbWFuaWZlc3RfaW5mbyIpLnN0YXJ0KCkpO2I9ZS51cGRhdGUodGhpcy5iKTtiLnRoZW4oZnVuY3Rpb24oKXtjJiZjLmxvZygpfSxmdW5jdGlvbihhKXtjJiZjLnNldEVycm9yKGEpLmxvZygpfSkuY2F0Y2goZnVuY3Rpb24oKXt9KTtyZXR1cm4gYn0pKS50aGVuKEoodGhpcyxmdW5jdGlvbihhKXtlLmRlc3Ryb3koKTtlPW51bGw7CnZhciBmPUhmKHRoaXMpO3RoaXMuTGEoIlNlZ21lbnRJbmRleGVzVXBkYXRlZCIsZik7aWYodGhpcy5hLmdldEJvb2woImVtaXRfbGl2ZV9wbGF5aGVhZF9pZGxlX2Zyb21fY2xpZW50IiwhMCkpe3ZhciBnPXRoaXMuYS5nZXROdW1iZXIoImxpdmVfcGxheWhlYWRfaWRsZV9hbGxfc3RyZWFtX3RocmVzaG9sZCIsNCksaD10aGlzLmEuZ2V0TnVtYmVyKCJsaXZlX3BsYXloZWFkX2lkbGVfc2luZ2xlX3N0cmVhbV90aHJlc2hvbGQiLDUpO2lmKEhmKHRoaXMpLmV2ZXJ5KGZ1bmN0aW9uKGEpe3JldHVybiBhLnUoKT49Z30pfHxIZih0aGlzKS5zb21lKGZ1bmN0aW9uKGEpe3JldHVybiBhLnUoKT49aH0pKXt2YXIgdD1HZihmKTtKZih0aGlzLHQpfX1mLnNvbWUoZnVuY3Rpb24oYSl7cmV0dXJuIGEucmIoKX0pJiZJZih0aGlzKTt0PU1mKHRoaXMsZik7YyYmdGhpcy5QKCkmJmMuc2V0TGl2ZWhlYWRQb3NpdGlvbihHZihmKSk7YyYmYy5zZXRNYW5pZmVzdFR5cGUodGhpcy5iLmI/ImR5bmFtaWMiOgoic3RhdGljIikuc2V0VXBkYXRlUGVyaW9kKG51bGw9PT10aGlzLmIuYz9udWxsOk1hdGguY2VpbCgxRTMqdGhpcy5iLmMpKTt0aGlzLm5hJiZOZih0aGlzLHQpO3RoaXMuYS5nZXRCb29sKCJza2lwX3JlbWFpbmluZ19idWZmZXJlZF9vbl9zdHJlYW1fZW5kIiwhMSkmJnQmJnRoaXMuYi5iJiZ0aGlzLmIuaCYmdGhpcy52aWRlby5wYXVzZWQmJih0aGlzLnZpZGVvLmN1cnJlbnRUaW1lPXRoaXMuamEtLjEpO2lmKHNmKHRoaXMpKXJldHVybiBjJiZjLmxvZygpLHRoaXMuZWIoKTtmb3IoZj0wO2Y8YS5sZW5ndGg7KytmKU9mKHRoaXMsYVtmXSk7dGhpcy5HYXx8KHRoaXMuZy5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZT1NYXRoLm1heCh0aGlzLmcuaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemV8fDAsdGhpcy5iLmcpKTt0aGlzLmcudXNlSW5pdGlhbEJ1ZmZlclNpemVXaGVuUGF1c2VkPXRoaXMuYi5iO0RmKHRoaXMpO0VmKHRoaXMpOzA9PU9iamVjdC5rZXlzKHRoaXMuYykubGVuZ3RoP0ZmKHRoaXMpOgooYT1EYXRlLm5vdygpLGJ8fEtmKHRoaXMsKGEtZCkvMUUzKSk7YyYmYy5sb2coKTt0aGlzLnRiKCkmJmV4dHJhY3RDRUE2MDgucHJlcGFyZSgpO3RoaXMuYS5nZXRCb29sKCJ1cGRhdGVfY2VhNjA4X2F2YWlsYWJpbGl0eV9vbl9tcGRfcGFyc2luZyIsITEpJiYoYT10aGlzLnRiKCksdGhpcy5ZYiE9PWEmJihmPXkoe3R5cGU6ImNlYTYwOEF2YWlsYWJpbGl0eUNoYW5nZWQiLGJ1YmJsZXM6ITB9KSx0aGlzLmRpc3BhdGNoRXZlbnQoZiksdGhpcy5ZYj1hKSl9KSkuY2F0Y2goSih0aGlzLGZ1bmN0aW9uKGEpe2MmJmMuc2V0RXJyb3IoYSkubG9nKCk7ZSYmKGUuZGVzdHJveSgpLGU9bnVsbCk7aWYoIWIpe3ZhciBkPXRoaXMuYi5mfHx0aGlzLmEuZ2V0Qm9vbCgicmV0cnlfZWdyZXNzXzUwMHMiLCExKSxmPVswLDQxMF07dGhpcy5hLmdldEJvb2woImVuYWJsZV9kb3VibGVfaW5nZXN0IiwhMSkmJmYucHVzaCg0MTcsMjAwKTshdGhpcy5hLmdldEJvb2woIm5vX3JldHJ5X29uXzUwMl81MDMiLAohMSkmJmQmJihmPWYuY29uY2F0KFs1MDIsNTAzXSkpO2Q9dGhpcy5hLmdldEJvb2woImZpeF9saXZlX3N0cmVhbV9nb25lX29uX21hbmlmZXN0X3VwZGF0ZSIsITApPy0xPT09Zi5pbmRleE9mKGEuc3RhdHVzKTowIT09YS5zdGF0dXM7aWYodGhpcy5hLmdldEJvb2woImFsbG93X2luZmluaXRlX3JldHJ5X29uX25ldF9lcnIiLCEwKSYmIm5ldCI9PT1hLnR5cGUmJiFkKXN3aXRjaChhLnN0YXR1cyl7Y2FzZSA0MTA6dGhpcy5oYz0hMDt0aGlzLmomJihjbGVhclRpbWVvdXQodGhpcy5qKSx0aGlzLmo9bnVsbCk7dGhpcy5lYigpO2JyZWFrO2Nhc2UgMjAwOmNhc2UgNDE3OmEucmVzcG9uc2VIZWFkZXJzJiZudWxsIT1hLnJlc3BvbnNlSGVhZGVyc1sieC1mYi12aWRlby1yZXBsaWNhIl0/dGhpcy5kaXNwYXRjaEV2ZW50KHkoe3R5cGU6InJlcGxpY2Fzd2l0Y2giLGJ1YmJsZXM6ITAscmVwbGljYTphLnJlc3BvbnNlSGVhZGVyc1sieC1mYi12aWRlby1yZXBsaWNhIl0sdXJsOmEudXJsLHN0YXR1czphLnN0YXR1c30pKToKZD0hMDticmVhaztkZWZhdWx0OlBmKHRoaXMpfTA9PT1hLnN0YXR1cz90aGlzLkcuaW5mb3JtTmV0d29ya0ludGVycnVwdGVkKCk6dGhpcy5HLmluZm9ybU5ldHdvcmtSZXN1bWVkKCk7aWYoImRlbGF5Ij09YS50eXBlKXJldHVybiBQZih0aGlzKTt0aGlzLmEuZ2V0Qm9vbCgiYWxsb3dfaW5maW5pdGVfcmV0cnlfb25fbmV0X2VyciIsITApJiYhZHx8ImFib3J0ZWQiPT1hLnR5cGV8fChhPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGEpLHRoaXMuYiYmUGYodGhpcykpfX0pKX19O24ueWM9ZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZWplY3QoIkNhbm5vdCB1cGRhdGUgbWFuaWZlc3Qgd2l0aCB0aGlzIFZpZGVvU291cmNlIGltcGxlbWVudGF0aW9uLiIpfTtuLnhjPWZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVqZWN0KCJDYW5ub3QgdXBkYXRlIG1hbmlmZXN0IHdpdGggdGhpcyBWaWRlb1NvdXJjZSBpbXBsZW1lbnRhdGlvbi4iKX07CmZ1bmN0aW9uIE5mKGEsYil7aWYoYiYmYS5iJiZhLmIuYilpZihhLmEuZ2V0Qm9vbCgic2Vla19vdmVyX3VuYXZhaWxhYmxlX3NlZ21lbnRzX29uX21hbmlmZXN0X3VwZGF0ZSIsITEpJiZhLmVhKWIuZW5kPmEudmlkZW8uY3VycmVudFRpbWUrMTAmJihhLmVhPSExLGEudmlkZW8uY3VycmVudFRpbWU9Yi5lbmQsUWYoYSkpO2Vsc2UgaWYoYS52aWRlby5wYXVzZWQmJmIuZW5kPmEudmlkZW8uY3VycmVudFRpbWUrMTApaWYoYS5hLmdldEJvb2woImVuYWJsZV9sYXp5X2xpdmVoZWFkX2NhdGNodXAiLCExKSl7dmFyIGM9YS54YTtjPGEuSWQmJihhLnhhPSsrYyk7UmYoYSxjKTthLmNhPWIuZW5kfWVsc2UgYS5lYT0hMSxhLnZpZGVvLmN1cnJlbnRUaW1lPWIuZW5kLFFmKGEpfQpmdW5jdGlvbiBLZihhLGIpe2lmKG51bGw9PWEuYi5jKUJhbnphaU9EUy5idW1wRW50aXR5S2V5KDI5NjYsInZpZGVvcy53d3cubGl2ZSIsInVwZGF0ZV9wZXJpb2RfaXNfbnVsbCIpO2Vsc2UgaWYoIWEuRmEpe2lmKGEuYS5nZXRCb29sKCJkZWNvdXBsZV9tcGRfdXBkYXRlX2xvb3BfZnJvbV9yZXF1ZXN0X2xvb3AiLCExKSYmKGEudSYmKGNsZWFyVGltZW91dChhLnUpLGEudT1udWxsKSxzZihhKSkpcmV0dXJuO3ZhciBjPU1hdGgubWF4KGEuYi5jLGEuS2IpLGM9TWF0aC5tYXgoYy1iLDApLGQ9YS5KYi5iaW5kKGEsITEpOyFjJiZhLmcudXNlTWljcm9UYXNrVGltZW91dHM/UHJvbWlzZS5yZXNvbHZlKCkudGhlbihkKTooYS5WJiZhLlYuc2V0UmVzdWx0KCJmYWlsZWQiKS5sb2coKSxhLmwmJihhLlY9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigic2NoZWR1bGVfbWFuaWZlc3RfdXBkYXRlIikuc3RhcnQoKS5zZXRVcGRhdGVQZXJpb2QoTWF0aC5jZWlsKDFFMypjKSkpLGEudT1zZXRUaW1lb3V0KGQsCjFFMypjKSl9fWZ1bmN0aW9uIE9mKGEsYil7dmFyIGM9TWQoYiksZD1hLmNbY107aWYoZCYmZC5XYSgpPT1iKXt2YXIgZT1hLmYuZ2V0KE1kKGIpKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEudn0pLnJlZHVjZShmdW5jdGlvbihhLGIpe3JldHVybiBhLmNvbmNhdChiKX0sW10pLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gYS5vYSYmYS5mYX0pO2lmKDA9PWUubGVuZ3RoKXtjPUVycm9yKCJBbGwgdXNhYmxlIHN0cmVhbXMgaGF2ZSBiZWVuIHJlbW92ZWQgZnJvbSB0aGUgbWFuaWZlc3QuIik7Yy50eXBlPSJhcHAiO2M9QShjKTthLmRpc3BhdGNoRXZlbnQoYyk7cmV0dXJufWEuQltjXS5MYz09YiYmZGVsZXRlIGEuQltjXTtkLmpiKGVbMF0sITApO2IuZGVzdHJveSgpfWIuZGVzdHJveSgpfW4uQ2Q9ZnVuY3Rpb24oYSl7dGhpcy5wYz1hfTtZLnByb3RvdHlwZS5zZXRUYWdnZWRUaW1lUmFuZ2VzPVkucHJvdG90eXBlLkNkOwpZLnByb3RvdHlwZS53ZD1mdW5jdGlvbigpe3JldHVybiAwPT09T2JqZWN0LmtleXModGhpcy5jKS5sZW5ndGg/ITE6WyJhdWRpbyIsInZpZGVvIl0uZXZlcnkoSih0aGlzLGZ1bmN0aW9uKGEpe3JldHVybiF0aGlzLmNbYV18fHRoaXMuY1thXS5UfSkpfTtZLnByb3RvdHlwZS5oYXNIaXRCdWZmZXJpbmdHb2FsPVkucHJvdG90eXBlLndkOwpZLnByb3RvdHlwZS5aPWZ1bmN0aW9uKGEpe2lmKCF0aGlzLmZ8fCF0aGlzLmYuYS5oYXNPd25Qcm9wZXJ0eSgidmlkZW8iKSlyZXR1cm5bXTthPWEmJmEudXNlTG9jYWxCaXRyYXRlfHwhMTt2YXIgYj10aGlzLmMudmlkZW8sYz1iP2IuV2EoKTpudWxsLGQ9Yz9jLlg6MCxlPTEsZj1udWxsO3RoaXMuYS5nZXRCb29sKCJ1c2VfbGl2ZV9iaXRyYXRlX2VzdGltYXRlcyIsITEpJiZ0aGlzLlAoKSYmbnVsbCE9YiYmKGY9Yi5sYSgpLG51bGwhPWMmJjA8Yy5iYW5kd2lkdGgmJihlPWYvYy5iYW5kd2lkdGgpKTtmb3IodmFyIGM9W10sZz10aGlzLmYuZ2V0KCJ2aWRlbyIpLGg9MDtoPGcubGVuZ3RoOysraClmb3IodmFyIGs9Z1toXSxsPTA7bDxrLnYubGVuZ3RoOysrbCl7dmFyIG09ay52W2xdO2lmKG0ub2EmJm0uZmEpe3ZhciBwPW51bGw7aWYoYSYmbnVsbCE9PW0uTSl7dmFyIHQ9bS5NLmMoKSx3PWI7aWYodGhpcy5QKCl8fG51bGw9PT10fHxudWxsPT09dylwPW51bGw7ZWxzZXt2YXIgcD0KcGUodyx0aGlzLnZpZGVvLmN1cnJlbnRUaW1lLHQpLHo9dC5nZXRTZWdtZW50cygpO3RoaXMuYS5nZXRCb29sKCJzdGFydF9sb2NhbF9iaXRyYXRlX2F0X2J1ZmZlcl9lbmQiLCExKSYmKHc9TG9jYWxCaXRyYXRlSGVscGVyLmdldEJ1ZmZlckVuZFNlZ21lbnRJbmRleCh6LHAsdGhpcy52aWRlby5jdXJyZW50VGltZSthZSh3LHRoaXMudmlkZW8uY3VycmVudFRpbWUpKSxudWxsIT09dyYmKHA9dykpO3A9TG9jYWxCaXRyYXRlSGVscGVyLmdldExvY2FsQml0cmF0ZSh0LmdldFNlZ21lbnRzKCkscCx0aGlzLmEuZ2V0TnVtYmVyKCJsb2NhbF9iaXRyYXRlX3NlZ21lbnRzX2FoZWFkIiwxMCkpfXRoaXMuYS5nZXRCb29sKCJ1c2VfbWF4X2xvY2FsX2JpdHJhdGUiLCExKSYmKHA9TWF0aC5tYXgocCxtLmJhbmR3aWR0aCkpfXQ9bS5YO3A9cHx8bS5iYW5kd2lkdGg7dGhpcy5hLmdldEJvb2woInVzZV9saXZlX2JpdHJhdGVfZXN0aW1hdGVzIiwhMSkmJm51bGwhPWYmJih0PT09ZD9wPU1hdGgubWF4KHAsCmYpOjE8ZSYmKHA9cCplKSxwPU1hdGgucm91bmQocCkpO209bmV3IHVhKHQscCxtLndpZHRoLG0uaGVpZ2h0LG0uaWQsbS5mYlF1YWxpdHlMYWJlbCxtLmZiUXVhbGl0eUNsYXNzLG0uZixtLmZyYW1lUmF0ZSxtLm1pbWVUeXBlLG0uY29kZWNzLG0uZyxtLmgpO3Q9PWQmJihtLmFjdGl2ZT0hMCk7Yy5wdXNoKG0pfX1yZXR1cm4gY307WS5wcm90b3R5cGUuZ2V0VmlkZW9UcmFja3M9WS5wcm90b3R5cGUuWjtZLnByb3RvdHlwZS5SYz1mdW5jdGlvbigpe2lmKHRoaXMuZ2EpcmV0dXJuIHRoaXMuZ2E7aWYoIXRoaXMuYilyZXR1cm4gbnVsbDtmb3IodmFyIGE9MDthPHRoaXMuYi5hLmxlbmd0aDsrK2EpZm9yKHZhciBiPXRoaXMuYi5hW2FdLGM9MDtjPGIuYS5sZW5ndGg7KytjKWlmKHRoaXMuZ2E9Yi5hW2NdLmMpcmV0dXJuIHRoaXMuZ2E7cmV0dXJuIG51bGx9O1kucHJvdG90eXBlLmdldFZpZGVvUHJvamVjdGlvbj1ZLnByb3RvdHlwZS5SYztZLnByb3RvdHlwZS5PYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmtifTsKWS5wcm90b3R5cGUuZ2V0TG9jYWxFc3RpbWF0b3I9WS5wcm90b3R5cGUuT2M7ZnVuY3Rpb24gU2YoYSl7YT1hLlooKTtmb3IodmFyIGI9MDtiPGEubGVuZ3RoO2IrKylpZihhW2JdLmFjdGl2ZSlyZXR1cm4gYVtiXX1ZLnByb3RvdHlwZS52YT1mdW5jdGlvbigpe2lmKCF0aGlzLmZ8fCF0aGlzLmYuYS5oYXNPd25Qcm9wZXJ0eSgiYXVkaW8iKSlyZXR1cm5bXTtmb3IodmFyIGE9dGhpcy5jLmF1ZGlvLGE9KGE9YT9hLldhKCk6bnVsbCk/YS5YOjAsYj1bXSxjPXRoaXMuZi5nZXQoImF1ZGlvIiksZD0wO2Q8Yy5sZW5ndGg7KytkKWZvcih2YXIgZT1jW2RdLGY9ZS5sYW5nLGc9MDtnPGUudi5sZW5ndGg7KytnKXt2YXIgaD1lLnZbZ107aWYoaC5vYSYmaC5mYSl7dmFyIGs9aC5YLGg9bmV3IGZhKGssaC5iYW5kd2lkdGgsZixoLmlkLGgubWltZVR5cGUsaC5jb2RlY3MsdGhpcy5iLnUsaC5jKTtrPT1hJiYoaC5hY3RpdmU9ITApO2IucHVzaChoKX19cmV0dXJuIGJ9OwpZLnByb3RvdHlwZS5nZXRBdWRpb1RyYWNrcz1ZLnByb3RvdHlwZS52YTtZLnByb3RvdHlwZS5tYz1mdW5jdGlvbigpe2lmKCF0aGlzLmZ8fCF0aGlzLmYuYS5oYXNPd25Qcm9wZXJ0eSgidGV4dCIpKXJldHVybltdO2Zvcih2YXIgYT10aGlzLmMudGV4dCxiPWE/YS5XYSgpOm51bGwsYj1iP2IuWDowLGM9W10sZD10aGlzLmYuZ2V0KCJ0ZXh0IiksZT0wO2U8ZC5sZW5ndGg7KytlKWZvcih2YXIgZj1kW2VdLGc9Zi5sYW5nLGg9MDtoPGYudi5sZW5ndGg7KytoKXt2YXIgaz1mLnZbaF0uWCxsPW5ldyB0YShrLGcpO2s9PWImJihsLmFjdGl2ZT0hMCxsLmVuYWJsZWQ9YS5EYigpKTtjLnB1c2gobCl9cmV0dXJuIGN9O1kucHJvdG90eXBlLmdldFRleHRUcmFja3M9WS5wcm90b3R5cGUubWM7WS5wcm90b3R5cGUuYWM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iJiZ0aGlzLmIubSYmMDx0aGlzLmIubT8hMDohMX07WS5wcm90b3R5cGUuaXNVc2luZ0FTUkNhcHRpb25zPVkucHJvdG90eXBlLmFjOwpZLnByb3RvdHlwZS5iYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmImJnRoaXMuYi5vJiYwPHRoaXMuYi5vJiZna3goIjExNzYyNTEiKT8hMDohMX07WS5wcm90b3R5cGUuaXNVc2luZ0FTUkNhcHRpb25zRW1wbG95ZWVEb2dmb29kaW5nPVkucHJvdG90eXBlLmJjO2Z1bmN0aW9uIHJmKGEpe3ZhciBiPU51bWJlcihhLmcuaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemUpO2EuZy5maXhCdWZmZXJpbmdHb2FsRGV0ZXJtaW5hdGlvbiYmKGI9MSk7aWYoYS5hLmdldEJvb2woImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvdyIsITEpKWI9YS5LO2Vsc2V7dmFyIGM9YS5hLmdldE51bWJlcigiYnVmZmVyaW5nX292ZXJmbG93X3RocmVzaG9sZCIsMCk7MDxjJiYoYj1jKX1yZXR1cm4gYS4kYj9OdW1iZXIoYS5nLnN0cmVhbUJ1ZmZlclNpemUpOmJ9CmZ1bmN0aW9uIE5lKGEpe2lmKGEuTyl7YT1hLmIuYVswXTtmb3IodmFyIGI9W10sYz0wO2M8YS5hLmxlbmd0aDsrK2MpYi5wdXNoLmFwcGx5KGIsUWQoYS5hW2NdKSk7YT1ifWVsc2UgYT1bXTtyZXR1cm4gYX0KZnVuY3Rpb24gUGUoYSxiKXtpZihhLk8pe2Zvcih2YXIgYz17fSxkPWEuYi5hWzBdLGU9MDtlPGQuYS5sZW5ndGg7KytlKXt2YXIgZj1kLmFbZV07Y1tmLlhdPWZ9YS5mLmE9e307ZD1hYihiKTtmb3IoZT0wO2U8ZC5sZW5ndGg7KytlKXt2YXIgZj1kW2VdLGc9Yi5nZXQoZik7aWYoInZpZGVvIj09Zil7dmFyIGg9Z1swXS5pZDthLmYucHVzaChmLGNbaF0pfWVsc2UgaWYoImF1ZGlvIj09Zil7aWYoMDxnLmxlbmd0aClmb3IodmFyIGg9Z1swXS5iLnNwbGl0KCI7IilbMF0saz0wO2s8Zy5sZW5ndGg7KytrKXt2YXIgbD1nW2tdO2wuYi5zcGxpdCgiOyIpWzBdPT1oJiZhLmYucHVzaChmLGNbbC5pZF0pfX1lbHNlIGZvcihrPTA7azxnLmxlbmd0aDsrK2spaD1nW2tdLmlkLGEuZi5wdXNoKGYsY1toXSl9YS55YT0hMDtpZihjPWEuZi5nZXQoImF1ZGlvIikpVGYoYSxjKSxhLmYuc2V0KCJhdWRpbyIsYyksYz1jWzBdLmxhbmd8fGEuUyxSYSgyLGEuUyxjKSYmKGEueWE9ITEpO2lmKGM9YS5mLmdldCgidGV4dCIpKVRmKGEsCmMpLGEuZi5zZXQoInRleHQiLGMpLGM9Y1swXS5sYW5nfHxhLlMsUmEoMixhLlMsYyl8fChhLnlhPSExKX19WS5wcm90b3R5cGUuWGM9ZnVuY3Rpb24oKXt0aGlzLkVhPSEwfTtZLnByb3RvdHlwZS5zZXRDbGVhckJ1ZmZlckFmdGVyU2Vla2luZz1ZLnByb3RvdHlwZS5YYztZLnByb3RvdHlwZS5zZWxlY3RWaWRlb1RyYWNrPWZ1bmN0aW9uKGEsYixjLGQsZSl7cmV0dXJuIG1mKHRoaXMsInZpZGVvIixhLGIsYyxkLGUpfTtZLnByb3RvdHlwZS5yZXN1bWVWaWRlb0ZldGNoaW5nPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5jLnZpZGVvP3RoaXMuYy52aWRlby5GOm51bGw7YSYmYS5yZXN1bWVWaWRlb0ZldGNoaW5nKCl9O1kucHJvdG90eXBlLnJlc3VtZVZpZGVvRmV0Y2hpbmc9WS5wcm90b3R5cGUucmVzdW1lVmlkZW9GZXRjaGluZztZLnByb3RvdHlwZS5IZD1mdW5jdGlvbigpe3ZhciBhPXRoaXMuYy52aWRlbz90aGlzLmMudmlkZW8uRjpudWxsO2EmJmEuc3RvcFVudGlsU2VnbWVudHNVcGRhdGUoKX07ClkucHJvdG90eXBlLnN0b3BVbnRpbFZpZGVvU3RyZWFtU3dpdGNoPVkucHJvdG90eXBlLkhkO2Z1bmN0aW9uIG5mKGEsYil7dmFyIGM9YS5jLnRleHQ7YyYmYy52YihiKX0KZnVuY3Rpb24gRWYoYSl7aWYoYS5tKXtmb3IodmFyIGI9ITEsYz0wO2M8YS5iLmEubGVuZ3RoOysrYylmb3IodmFyIGQ9YS5iLmFbY10sZT0wO2U8ZC5hLmxlbmd0aDsrK2Upe3ZhciBmPWQuYVtlXTtpZigidmlkZW8iPT1mLmNvbnRlbnRUeXBlKWZvcih2YXIgZz0wO2c8Zi52Lmxlbmd0aDsrK2cpe3ZhciBoPWYudltnXSxrPWguZmE7aC5mYT0hMDthLm0ubWF4V2lkdGgmJmgud2lkdGg+YS5tLm1heFdpZHRoJiYoaC5mYT0hMSk7YS5tLm1heEhlaWdodCYmaC5oZWlnaHQ+YS5tLm1heEhlaWdodCYmKGguZmE9ITEpO2EubS5taW5IZWlnaHQmJmguaGVpZ2h0PGEubS5taW5IZWlnaHQmJihoLmZhPSExKTthLm0ubWF4QmFuZHdpZHRoJiZoLmJhbmR3aWR0aD5hLm0ubWF4QmFuZHdpZHRoJiYoaC5mYT0hMSk7YS5tLm1pbkJhbmR3aWR0aCYmaC5iYW5kd2lkdGg8YS5tLm1pbkJhbmR3aWR0aCYmKGguZmE9ITEpO2shPWguZmEmJihiPSEwKX19MCE9JGEoYS5mKS5sZW5ndGgmJmImJihVZihhKSwKMDxhLlooKS5sZW5ndGh8fChiPUVycm9yKCJUaGUgYXBwbGljYXRpb24gaGFzIHJlc3RyaWN0ZWQgYWxsIHZpZGVvIHRyYWNrcyEiKSxiLnR5cGU9ImFwcCIsYj1BKGIpLGEuZGlzcGF0Y2hFdmVudChiKSkpfX1ZLnByb3RvdHlwZS5QPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYj90aGlzLmIuYjpudWxsfTtZLnByb3RvdHlwZS5pc0xpdmU9WS5wcm90b3R5cGUuUDtZLnByb3RvdHlwZS5ZYz1mdW5jdGlvbihhKXt0aGlzLiRiPWF9O1kucHJvdG90eXBlLnNldElzTGl2ZUludGVycnVwdGVkPVkucHJvdG90eXBlLlljO1kucHJvdG90eXBlLnZkPWZ1bmN0aW9uKCl7Zm9yKHZhciBhIGluIHRoaXMuYyl0aGlzLmNbYV0uSGMoKX07WS5wcm90b3R5cGUuZm9yY2VSZXN5bmNWaWRlb0J1ZmZlcj1ZLnByb3RvdHlwZS52ZDsKZnVuY3Rpb24gV2UoYSxiKXtmb3IodmFyIGMsZD0hMSxlPW5ldyBELGY9JGEoYS5mKSxnPTA7ZzxmLmxlbmd0aDsrK2cpZm9yKHZhciBoPWZbZ10saz0wO2s8aC52Lmxlbmd0aDsrK2spe3ZhciBsPWgudltrXTtsLmIuZm9yRWFjaChmdW5jdGlvbihhKXtlLnB1c2goYSxsKX0pfWZvcihjIGluIGIpaWYoZj1QYVtiW2NdXXx8bnVsbCxoPWUuZ2V0KGMpKWZvcihnPTA7ZzxoLmxlbmd0aDsrK2cpbD1oW2ddLGs9bC5vYSxsLm9hPSFmLGshPWwub2EmJihkPSEwKTtlbHNlIGliKGMpO2QmJihVZihhKSxkPWEudmEoKSxjPWEuWigpLGQ9YS5mLmEuaGFzT3duUHJvcGVydHkoImF1ZGlvIikmJjA9PWQubGVuZ3RoLGM9YS5mLmEuaGFzT3duUHJvcGVydHkoInZpZGVvIikmJjA9PWMubGVuZ3RoLGR8fGMpJiYoYz1FcnJvcigiVGhlIGtleSBzeXN0ZW0gaGFzIHJlc3RyaWN0ZWQgYWxsICIrKGQmJmM/ImF1ZGlvIGFuZCB2aWRlbyB0cmFja3MuIjpkPyJhdWRpbyB0cmFja3MuIjoidmlkZW8gdHJhY2tzLiIpKSwKYy50eXBlPSJkcm0iLGM9QShjKSxhLmRpc3BhdGNoRXZlbnQoYykpfWZ1bmN0aW9uIFVmKGEpe3ZhciBiPXkoe3R5cGU6InRyYWNrc2NoYW5nZWQiLGJ1YmJsZXM6ITB9KTthLmRpc3BhdGNoRXZlbnQoYil9ZnVuY3Rpb24gbWYoYSxiLGMsZCxlLGYsZyl7Zz0hIWc7aWYoIWEuZi5hLmhhc093blByb3BlcnR5KGIpfHwhYS5jW2JdKXJldHVybiExO2Zvcih2YXIgaD1hLmYuZ2V0KGIpLGs9MDtrPGgubGVuZ3RoOysraylmb3IodmFyIGw9aFtrXSxtPTA7bTxsLnYubGVuZ3RoOysrbSl7dmFyIHA9bC52W21dO2lmKHAuWD09Yyl7aWYoIXAub2F8fCFwLmZhKXJldHVybiExO2lmKCJ0ZXh0IiE9YiYmIWEuQ2EpcmV0dXJuIGM9YS5CW2JdLGEuQltiXT17TGM6cCxyYzpudWxsIT1jJiZjLnJjfHxkLHNjOm51bGwhPWMmJmMuc2N8fGUsc3dpdGNoUmVhc29uOmYsS2E6Z30sITA7YS5jW2JdLmpiKHAsZCxlLGYsZyk7cmV0dXJuITB9fXJldHVybiExfQpmdW5jdGlvbiBUZihhLGIpe2Zvcih2YXIgYz0wOzI+PWM7KytjKWZvcih2YXIgZD0wO2Q8Yi5sZW5ndGg7KytkKXt2YXIgZT1iW2RdO2lmKFJhKGMsYS5TLGUubGFuZykpe2Iuc3BsaWNlKGQsMSk7Yi5zcGxpY2UoMCwwLGUpO3JldHVybn19Zm9yKGQ9MDtkPGIubGVuZ3RoOysrZClpZihlPWJbZF0sZS5mKXtiLnNwbGljZShkLDEpO2Iuc3BsaWNlKDAsMCxlKTticmVha319bj1ZLnByb3RvdHlwZTtuLmhkPWZ1bmN0aW9uKCl7dGhpcy5oLmFiKHRoaXMuaSwic291cmNlb3BlbiIpO3RoaXMuSWIucmVzb2x2ZSgpfTsKZnVuY3Rpb24gRmYoYSl7dmFyIGI7YS5sJiYoYj1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJzdGFydF9zdHJlYW1zIikuc3RhcnQoKSk7Zm9yKHZhciBjPVtdLGQ9WyJhdWRpbyIsInZpZGVvIiwidGV4dCJdLGU9MDtlPGQubGVuZ3RoOysrZSl7dmFyIGY9ZFtlXTthLmYuYS5oYXNPd25Qcm9wZXJ0eShmKSYmYy5wdXNoKGEuZi5nZXQoZilbMF0pfWZvcih2YXIgZz1WZihhLGMpLGU9MDtlPGQubGVuZ3RoOysrZSlpZihmPWRbZV0sYS5mLmEuaGFzT3duUHJvcGVydHkoZikmJiFnW2ZdKXJldHVybiBhPUVycm9yKCJVbmFibGUgdG8gc2VsZWN0IGFuIGluaXRpYWwgIitmKyIgc3RyZWFtOiBhbGwgIitmKyIgc3RyZWFtcyBoYXZlIGJlZW4gcmVzdHJpY3RlZCAoYnkgdGhlIGFwcGxpY2F0aW9uIG9yIGJ5IHRoZSBrZXkgc3lzdGVtKS4iKSxhLnR5cGU9InN0cmVhbSIsYiYmYi5zZXRFcnJvcihhKS5sb2coKSxQcm9taXNlLnJlamVjdChhKTtjPVdhKGcpLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS5NLmNyZWF0ZSgpfSk7CmMucHVzaChhLkliKTtyZXR1cm4gUHJvbWlzZS5hbGwoYykudGhlbihKKGEsZnVuY3Rpb24oYSl7YS5wb3AoKTtpZighYS5ldmVyeShmdW5jdGlvbihhKXtyZXR1cm4gYS5sZW5ndGgoKX0pKXJldHVybiBhPUVycm9yKCJTb21lIHN0cmVhbXMgYXJlIG5vdCBhdmFpbGFibGUuIiksYS50eXBlPSJzdHJlYW0iLFByb21pc2UucmVqZWN0KGEpO2E9TWYodGhpcyxhKTtpZighYSlyZXR1cm4gYT1FcnJvcigiU29tZSBzdHJlYW1zIGFyZSBub3QgYXZhaWxhYmxlLiIpLGEudHlwZT0ic3RyZWFtIixQcm9taXNlLnJlamVjdChhKTtpZighV2YodGhpcyxnKSlyZXR1cm4gYT1FcnJvcigiRmFpbGVkIHRvIGNyZWF0ZSBTdHJlYW0gb2JqZWN0cy4iKSxhLnR5cGU9InN0cmVhbSIsUHJvbWlzZS5yZWplY3QoYSk7dGhpcy5BLnN0YXJ0KCk7WGYodGhpcyxnLGEpO3JldHVybiBQcm9taXNlLnJlc29sdmUoKX0pKS50aGVuKGZ1bmN0aW9uKCl7YiYmYi5sb2coKX0pLmNhdGNoKEooYSxmdW5jdGlvbihhKXtpZigiYWJvcnRlZCI9PQphLnR5cGUpYiYmYi5zZXRFcnJvcihhKS5sb2coKTtlbHNle09iamVjdC5rZXlzKHRoaXMuYyk7aWYodGhpcy5iLmIpcmV0dXJuIHlhKCk8dGhpcy5iLmo/KGE9TWF0aC5tYXgodGhpcy5iLmotRGF0ZS5ub3coKS8xRTMsdGhpcy5LYiksdGhpcy51PXNldFRpbWVvdXQodGhpcy5KYi5iaW5kKHRoaXMsITApLDFFMyphKSk6S2YodGhpcywwKSxiJiZiLmxvZygpLFByb21pc2UucmVzb2x2ZSgpO2ImJmIuc2V0RXJyb3IoYSkubG9nKCk7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfX0pKX0KZnVuY3Rpb24gVmYoYSxiKXtmb3IodmFyIGM9e30sZD0wO2Q8Yi5sZW5ndGg7KytkKXt2YXIgZT1iW2RdLGY9bnVsbDtpZigidmlkZW8iPT1lLmNvbnRlbnRUeXBlKXt2YXIgZz1hLkEuZ2V0SW5pdGlhbFZpZGVvVHJhY2tJZCgpO2lmKG51bGw9PWcpY29udGludWU7Zj1lLnYuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiBhLlg9PWd9KTtpZigwPT1mLmxlbmd0aCljb250aW51ZTtmPWZbMF19ZWxzZSBpZigiYXVkaW8iPT1lLmNvbnRlbnRUeXBlKWlmKGc9YS5BLmdldEluaXRpYWxBdWRpb1RyYWNrSWQoKSxmPWUudi5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIGEuWD09Z30pLDA9PWYubGVuZ3RoKXtmPWUudi5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIGEub2EmJmEuZmF9KTtpZigwPT1mLmxlbmd0aCljb250aW51ZTtmPWUudltNYXRoLmZsb29yKGYubGVuZ3RoLzIpXX1lbHNlIGY9ZlswXTtlbHNlIDA8ZS52Lmxlbmd0aCYmKGY9ZS52WzBdKTtjW2UuY29udGVudFR5cGVdPWZ9cmV0dXJuIGN9CmZ1bmN0aW9uIFdmKGEsYil7dmFyIGM9e30sZDtmb3IoZCBpbiBiKXt2YXIgZT1iW2RdLGU9InRleHQiPT1kP25ldyB0ZShhLGEudmlkZW8pOllmKGEsZSk7aWYoIWUpcmV0dXJuIFdhKGMpLmZvckVhY2goZnVuY3Rpb24oYSl7YS5kZXN0cm95KCl9KSwhMTtjW2RdPWV9YS5QYihhLm5jKTthLmM9YztyZXR1cm4hMH0KZnVuY3Rpb24gWWYoYSxiKXt2YXIgYz1OZChiKSxkPVpmKGMuc3BsaXQoIjsiKVswXSksZT1udWxsLGY9YS5hLmdldEJvb2woInVzZV9sb2NhbF9lc3RpbWF0b3JfZm9yX2Ficl9zYW1wbGluZyIsITApP2Eua2I6YS53YSxnPW51bGwsaD1udWxsLGs9YS5iLmZ8fGEuYi5BLGs9YS5hLmdldEJvb2woInNraXBfc2VnbWVudF9yZXF1ZXN0X21hbmFnZXIiLCExKSYmazthLldiJiZjYW5Vc2VGZXRjaFN0cmVhbSgpPyhoPW5ldyBNdWx0aXBsZVNlZ21lbnRzUHJvdmlkZXIoYS5hLmdldE51bWJlcigic3RyZWFtaW5nX3NlZ21lbnRfc2l6ZSIsNCkpLGc9JGYoYSxoLGQsZikpOmEuVmImJiFrJiYoZT1hZyhhLGQsZikpO3ZhciBrPW51bGwsbD1hLmYuZ2V0KGQpOyJ2aWRlbyI9PT1kJiYwPGwubGVuZ3RoJiYoaz1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz1udWxsLGQ9bnVsbCxlPTA7ZTxsWzBdLnYubGVuZ3RoO2UrKylsWzBdLnZbZV0uaWQ9PT1hP2M9bFswXS52W2VdOmxbMF0udltlXS5pZD09PQpiJiYoZD1sWzBdLnZbZV0pO3JldHVybiBudWxsPT09Y3x8bnVsbD09PWQ/MDpjLmJhbmR3aWR0aD5kLmJhbmR3aWR0aD8xOi0xfSk7Yz1uZXcgVShhLGEudmlkZW8sYS5hLGEuaSxjLGYsYS5wYyxhLmRhLGssYS5HLGUsZyxoLGEuaWEpO2MucGEoYS5nKTtyZXR1cm4gY30KZnVuY3Rpb24gJGYoYSxiLGMsZCl7dmFyIGU9YS53W2NdLGY9ImF1ZGlvIiE9PWN8fGEuYS5nZXRCb29sKCJlbmFibGVfYXVkaW9fc3RyZWFtaW5nIiwhMSk7aWYoIWUmJmYpe3ZhciBlPW5ldyBWaWRlb1N0cmVhbWluZ01hbmFnZXIoYS5hLGIsYyxhLmwsYS5VKSxnPSJ2aWRlbyI9PT1jO2cmJmUuYWRkTGlzdGVuZXIoImJhbmR3aWR0aFVwZGF0ZSIsZnVuY3Rpb24oYSl7ZC5zYW1wbGUoYS50aW1lVGFrZW4sYS5ieXRlc1JlYWQsZyx7dGltZVRvTGFzdEJ5dGU6YS50aW1lVGFrZW59LHRoaXMuQWIsdGhpcy5sLCF0aGlzLmEuZ2V0Qm9vbCgiZXZhbHVhdGVfYWJyX29uX3N0cmVhbV9iYW5kd2lkdGhfc2FtcGxlIiwhMCkpfS5iaW5kKGEpKX1lJiYoYS53W2NdPWUpO3JldHVybiBlfHxudWxsfQpmdW5jdGlvbiBhZyhhLGIsYyl7aWYoInZpZGVvIj09PWJ8fCJhdWRpbyI9PT1iJiZhLmEuZ2V0Qm9vbCgiZW5hYmxlX3JlcXVlc3RfcGlwZWxpbmluZ19mb3Jfdm9kX2F1ZGlvcyIsITEpKXt2YXIgZD1hLm9bYl07ZHx8KGQ9bmV3IFNlZ21lbnRSZXF1ZXN0TWFuYWdlcihhLmEsYixhLlAoKT9WaWRlb1ByaW9yaXR5Q2FsY3VsYXRvci5jYWxjdWxhdGVMaXZlOlZpZGVvUHJpb3JpdHlDYWxjdWxhdG9yLmNhbGN1bGF0ZSxhLmwsYyxhLkFiLGEuZGEsYS5pYSksYS5SJiZkLnVwZGF0ZVByaW9yaXR5V2l0aE5ld0FkanVzdG1lbnQoYS5SLmdldFByaW9yaXR5QWRqdXN0bWVudCgpKSxhLm9bYl09ZCk7cmV0dXJuIGR9cmV0dXJuIG51bGx9ZnVuY3Rpb24gYmcoYSxiKXthLnZpZGVvLmN1cnJlbnRUaW1lPWI7YS5hLmdldEJvb2woInNldF9wZW5kaW5nX3NlZWtfb25fc2V0X2N1cnJlbnRfdGltZV9mYWlsdXJlIiwhMSkmJmEudmlkZW8uY3VycmVudFRpbWUrMTxiJiZjZyhhLGIpO2EuRD1ifQpmdW5jdGlvbiBYZihhLGIsYyl7YS5rYz1hLnZpZGVvLnBsYXliYWNrUmF0ZTthLnZpZGVvLnBsYXliYWNrUmF0ZT0wO2RnKGEsYyk7dmFyIGQ7ZD1hLmIuZjsoIWEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9hZGp1c3Rfc3RyZWFtX2xpbWl0c19zdGFydF9vZmZzZXRfaW50IiwwKSYmIWEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9qdW1wX3RvX2xpdmVfc2lkeF9lbmRfb2Zmc2V0IiwwKXx8IWQpJiZhLmxhJiZhLmxhPD1jLmVuZCYmYS5sYT49Yy5zdGFydD9kPWEubGE6YS5iLmI/KGQ9ZWcoYSxjKSxhLmVjPSEwKTpkPWMuc3RhcnQ7RShhLmgsYS52aWRlbywic2Vla2luZyIsYS5tZC5iaW5kKGEpKTthLkk/KGEuSS5zZXRPblBsYXlpbmcoYS5tYi5iaW5kKGEsITApKSxhLkkuc2V0T25QYXVzZWQoYS5tYi5iaW5kKGEsITEpKSxhLkkuZW5hYmxlKCkpOihFKGEuaCxhLnZpZGVvLCJwbGF5aW5nIixhLm1iLmJpbmQoYSwhMCkpLGEuYS5nZXRCb29sKCJ1cGRhdGVfcHJpb3JpdHlfb25fcGxheV9ldmVudCIsCiEwKSYmRShhLmgsYS52aWRlbywicGxheSIsYS5tYi5iaW5kKGEsITApKSxFKGEuaCxhLnZpZGVvLCJwYXVzZSIsYS5tYi5iaW5kKGEsITEpKSk7RShhLmgsYS52aWRlbywic2Vla2luZyIsYS5NYy5iaW5kKGEpKTtFKGEuaCxhLnZpZGVvLCJ0aW1ldXBkYXRlIix0aHJvdHRsZShhLk1jLmJpbmQoYSksYS5hLmdldE51bWJlcigic2NoZWR1bGVyX3ByaW9yaXR5X3VwZGF0ZV9pbnRlcnZhbCIsMUUzKSkpO2lmKGEudmlkZW8uY3VycmVudFRpbWUhPWQpaWYoYS5TYikwIT09YS52aWRlby5yZWFkeVN0YXRlP2JnKGEsZCk6Y2coYSxkKTtlbHNlIHRyeXtiZyhhLGQpfWNhdGNoKGUpe2NnKGEsZCl9ZmcoYSxjLnN0YXJ0LGMuZW5kLGMubGFzdCxjLlphKTt2YXIgZj1bXSxnO2ZvcihnIGluIGEuYyl7Yz1hLmNbZ107SihhLGZ1bmN0aW9uKGEpe2YucHVzaChhLktjKHRoaXMuc2EpLnRoZW4oSih0aGlzLGZ1bmN0aW9uKGIpe3ZhciBjPWEuc2IoKTtjPnRoaXMuQmImJih0aGlzLkJiPWMpO3JldHVybiBifSkpKX0pKGMpOwpFKGEuaCxjLCJlbmRlZCIsYS5vZC5iaW5kKGEpKTtFKGEuaCxjLCJzaG91bGRfZW5kX2FsbF9zdHJlYW1zIixhLnBkLmJpbmQoYSkpO0UoYS5oLGMsInNob3VsZF9udWRnZSIsYS5qZC5iaW5kKGEpKTtkPWJbZ107dmFyIGg9YS5BLmdldEluaXRpYWxTd2l0Y2hSZWFzb24oKXx8dm9pZCAwO2MuamIoZCwhMSx2b2lkIDAsaCl9UHJvbWlzZS5hbGwoZikudGhlbihKKGEsZnVuY3Rpb24oYSl7dGhpcy5hLmdldEJvb2woInByZXZlbnRfc3RyZWFtX3N0YXJ0X2lmX3N0cmVhbXNfY2hhbmdlIiwhMSkmJiFnZyh0aGlzKXx8aGcodGhpcyxhKX0pKS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7ImRlc3Ryb3kiIT1hLnR5cGUmJihhPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGEpKX0pKTtuZihhLGEueWEpfQpuLm1iPWZ1bmN0aW9uKGEpe09iamVjdC5rZXlzKHRoaXMubykuZm9yRWFjaChmdW5jdGlvbihiKXt0aGlzLm9bYl0udXBkYXRlUHJpb3JpdHlXaXRoTmV3UGxheWluZ1N0YXRlKGEpfS5iaW5kKHRoaXMpKTtPYmplY3Qua2V5cyh0aGlzLncpLmZvckVhY2goZnVuY3Rpb24oYil7dGhpcy53W2JdLmdldFByaW9yaXR5VXBkYXRlcigpLnVwZGF0ZVByaW9yaXR5V2l0aE5ld1BsYXlpbmdTdGF0ZShhKX0uYmluZCh0aGlzKSk7aWYodGhpcy5sKXt2YXIgYj1NZih0aGlzLEhmKHRoaXMpKTtiJiZ0aGlzLnZpZGVvLmN1cnJlbnRUaW1lPGIuc3RhcnQmJkJhbnphaU9EUy5idW1wRW50aXR5S2V5KDI5NjYsInZpZGVvcy53d3cuc2hha2EiLCJjdXJyZW50X3RpbWVfYXRfcGxheWluZ19sZXNzX3RoYW5fc3RyZWFtX2xpbWl0c19zdGFydCIpfWEmJm51bGwhPT10aGlzLmNhJiYodGhpcy54YT0xLFJmKHRoaXMsdGhpcy54YSksaWcodGhpcykpfTsKbi5NYz1mdW5jdGlvbigpe3RoaXMudmlkZW8mJihPYmplY3Qua2V5cyh0aGlzLm8pLmZvckVhY2goZnVuY3Rpb24oYSl7dGhpcy5vW2FdLnVwZGF0ZVByaW9yaXR5V2l0aE5ld1BsYXloZWFkKHRoaXMudmlkZW8uY3VycmVudFRpbWUpfS5iaW5kKHRoaXMpKSxPYmplY3Qua2V5cyh0aGlzLncpLmZvckVhY2goZnVuY3Rpb24oYSl7dGhpcy53W2FdLmdldFByaW9yaXR5VXBkYXRlcigpLnVwZGF0ZVByaW9yaXR5V2l0aE5ld1BsYXloZWFkKHRoaXMudmlkZW8uY3VycmVudFRpbWUpfS5iaW5kKHRoaXMpKSl9O2Z1bmN0aW9uIFFmKGEpe2lmKGEuYS5nZXRCb29sKCJjbGVhcl9jdXJyZW50X3NlZ21lbnRfaW5kZXhlc19kdXJpbmdfbGl2ZWhlYWRfY2F0Y2h1cCIsITEpKWZvcih2YXIgYiBpbiBhLmMpYS5jW2JdLmk9bnVsbH1mdW5jdGlvbiBjZyhhLGIpe2EuYmE9Yjtmb3IodmFyIGMgaW4gYS5jKXt2YXIgZD1hLmNbY107YS5iYSYmKGQuSj1hLmJhKX19CmZ1bmN0aW9uIGdnKGEpe3JldHVybiFPYmplY3Qua2V5cyhhLmMpLnNvbWUoSihhLGZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNbYV0mJiF0aGlzLmNbYV0uaH0pKX0KZnVuY3Rpb24gaGcoYSxiKXtiYShiJiZiLmxlbmd0aD09T2JqZWN0LmtleXMoYS5jKS5sZW5ndGgpO2Zvcih2YXIgYz1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksZD1OdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFksZT0wO2U8Yi5sZW5ndGg7KytlKXZhciBmPWJbZV0sYz1NYXRoLm1pbihjLGYpLGQ9TWF0aC5tYXgoZCxmKTtjPUhmKGEpO2ZvcihlPTA7ZTxjLmxlbmd0aDsrK2UpY1tlXS5UYShkKTthLmEuZ2V0Qm9vbCgicHJvY2Vzc19kZWZlcnJlZF9zd2l0Y2hlc19lYXJseSIsITEpJiZqZyhhKTtrZyhhLGMsZCk7dmFyIGc9V2EoYS5jKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuV2EoKS5pZH0pO2EuYS5nZXRCb29sKCJzZXF1ZW50aWFsbHlfbG9hZF9zdHJlYW1zIiwhMSk/bGcoYSxnLGQpOihlPSRhKGEuZikubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLnZ9KS5yZWR1Y2UoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5jb25jYXQoYil9LFtdKS5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIX5nLmluZGV4T2YoYS5pZCl9KS5tYXAoSihhLApmdW5jdGlvbihhKXt2YXIgYj1bYS5NLnBiP2EuTS5wYigpOmEuTS5jcmVhdGUoKV07YS5hYSYmYi5wdXNoKGEuYWEuY3JlYXRlKHRoaXMubCx0aGlzLmRhKSk7cmV0dXJuIFByb21pc2UuYWxsKGIpfSkpLFByb21pc2UuYWxsKGUpLnRoZW4oSihhLGZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7KytiKWFbYl1bMF0uVGEoZCk7dGhpcy5DYT0hMDtqZyh0aGlzKX0pKS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7ImFib3J0ZWQiIT1hLnR5cGUmJihhPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGEpKX0pKSl9CmZ1bmN0aW9uIGxnKGEsYixjKXt2YXIgZD1Qcm9taXNlLnJlc29sdmUoKTskYShhLmYpLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS52fSkucmVkdWNlKGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuY29uY2F0KGIpfSxbXSkuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiF+Yi5pbmRleE9mKGEuaWQpfSkuZm9yRWFjaChmdW5jdGlvbihhKXtkPWQudGhlbihKKHRoaXMsZnVuY3Rpb24oYil7YiYmYlswXS5UYShjKTtiPVthLk0ucGI/YS5NLnBiKCk6YS5NLmNyZWF0ZSgpXTthLmFhJiZiLnB1c2goYS5hYS5jcmVhdGUodGhpcy5sLHRoaXMuZGEpKTtyZXR1cm4gUHJvbWlzZS5hbGwoYil9KSkuY2F0Y2goZnVuY3Rpb24oYSl7dGhyb3cgYTt9KX0pO2QudGhlbihKKGEsZnVuY3Rpb24oKXt0aGlzLkNhPSEwO2pnKHRoaXMpfSkpLmNhdGNoKEooYSxmdW5jdGlvbihhKXsiYWJvcnRlZCIhPWEudHlwZSYmKGE9QShhKSx0aGlzLmRpc3BhdGNoRXZlbnQoYSkpfSkpfQpmdW5jdGlvbiBqZyhhKXtmb3IodmFyIGIgaW4gYS5CKXt2YXIgYz1hLkJbYl07YS5jW2JdLmpiKGMuTGMsYy5yYyxjLnNjLGMuc3dpdGNoUmVhc29uLGMuS2EpfWEuQj17fX0KZnVuY3Rpb24ga2coYSxiLGMpe3ZhciBkO2EuYS5nZXRCb29sKCJ3d3dfdmlkZW9zX2V4dGVuZGVkX3NwbF9sb2dnaW5nX2Zvcl9jb25uZWN0ZWRfdHYiLCExKSYmYS5sJiYoZD1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJzdHJlYW1fdmlkZW9fc291cmNlX2JlZ2luX3BsYXliYWNrIikpO2lmKGI9TWYoYSxiKSlkZyhhLGIpLGZnKGEsYi5zdGFydCxiLmVuZCxiLmxhc3QsYi5aYSk7MCE9Yz8oYz1hLnZpZGVvLmN1cnJlbnRUaW1lK2MsYS5hLmdldE51bWJlcigid3d3X3ZpZGVvc19udWRnZV90aW1lc3RhbXBfY29ycmVjdGlvbl9zIiwwKSYmKGMrPWEuYS5nZXROdW1iZXIoInd3d192aWRlb3NfbnVkZ2VfdGltZXN0YW1wX2NvcnJlY3Rpb25fcyIsMCkpLGEudmlkZW8uY3VycmVudFRpbWU9YyxhLkQ9Yyk6YS5lYyYmYiYmKGM9ZWcoYSxiKSxNYXRoLmFicyhjLWEudmlkZW8uY3VycmVudFRpbWUpPj1hLmRjJiYoYS52aWRlby5jdXJyZW50VGltZT1jKSk7YS5hLmdldEJvb2woInVuaWZ5X3N0cmVhbV9zdGFydF93aXRoX2J1ZmZlcl9kZXRlY3RvciIsCiExKT8oYz15KHt0eXBlOiJhbGxTdHJlYW1zU3RhcnRlZCIsYnViYmxlczohMH0pLGEuZGlzcGF0Y2hFdmVudChjKSk6YS52aWRlby5wbGF5YmFja1JhdGU9YS5rYzthLmIuYiYmbnVsbCE9YS5iLmMmJktmKGEsMCk7bWcoYSk7YS5zYS5yZXNvbHZlKCk7ZCYmZC5sb2coKX0KZnVuY3Rpb24gZWcoYSxiKXt2YXIgYz1iLmVuZDt2b2lkIDAhPT1iLkJjJiYoYz1iLkJjKTtpZihhLmEuZ2V0Qm9vbCgidGVtcGxhdGVkX2Fsd2F5c19qdW1wX3RvX3N0cmVhbV9saW1pdHNfZW5kIiwhMSkmJmEuYiYmYS5iLmYpcmV0dXJuIGIuZW5kO2lmKGEuY2Mpe3ZhciBkPWEudmlkZW8uY3VycmVudFRpbWUsZT1iLnN0YXJ0O2lmKGEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9hZGp1c3Rfc3RyZWFtX2xpbWl0c19zdGFydF9vZmZzZXRfaW50IiwwKSYmYS5iJiZhLmIuZil7Zm9yKHZhciBmPUhmKGEpLGc9MCxoPTA7aDxmLmxlbmd0aDsrK2gpe3ZhciBrPWZbaF0sbD1NYXRoLm1pbihhLmEuZ2V0TnVtYmVyKCJ0ZW1wbGF0ZWRfYWRqdXN0X3N0cmVhbV9saW1pdHNfc3RhcnRfb2Zmc2V0X2ludCIsMCksay5sZW5ndGgoKSk7ay5sZW5ndGgoKSYmMDxsJiZsPD1rLmxlbmd0aCgpJiYoZz1NYXRoLm1heChrLmdldChrLmxlbmd0aCgpLWwpLnN0YXJ0VGltZSxnKSl9ZT1NYXRoLm1heChlLApnKX1pZihkPj1lJiZkPD1iLmVuZCYmZDxjKWlmKGEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9qdW1wX3RvX2xpdmVfc2lkeF9lbmRfb2Zmc2V0IiwwKSYmYS5iJiZhLmIuZil7Zj1IZihhKTtrPW51bGw7ZT1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7Zm9yKGg9MDtoPGYubGVuZ3RoOysraClmW2hdLmxlbmd0aCgpPGUmJihlPWZbaF0ubGVuZ3RoKCksaz1mW2hdKTtrJiZlPmEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9qdW1wX3RvX2xpdmVfc2lkeF9lbmRfb2Zmc2V0IiwwKSYmKGY9ay5nZXQoay5sZW5ndGgoKS1hLmEuZ2V0TnVtYmVyKCJ0ZW1wbGF0ZWRfanVtcF90b19saXZlX3NpZHhfZW5kX29mZnNldCIsMCkpLnN0YXJ0VGltZSxkPj1mJiYoYz1kKSl9ZWxzZSBjPWR9cmV0dXJuIGN9CmZ1bmN0aW9uIGRnKGEsYil7aWYoYS5iLmIpaXNOYU4oYS5pLmR1cmF0aW9uKSYmKGEuaS5kdXJhdGlvbj1iLmVuZCsyNTkyRTMpO2Vsc2UgaWYoaXNOYU4oYS5pLmR1cmF0aW9uKXx8Yi5lbmQ+YS5pLmR1cmF0aW9uKWlmKGEuaS5kdXJhdGlvbj1iLmVuZCwhYS5hLmdldEJvb2woImRpc2FibGVfYXBwZW5kX3dpbmRvd19lbmQiLCExKSlmb3IodmFyIGM9YS5hLmdldE51bWJlcigiYXBwZW5kX3dpbmRvd19lbmRfZnVkZ2VfZmFjdG9yIiwwKSxkPTA7ZDxhLmkuc291cmNlQnVmZmVycy5sZW5ndGg7KytkKWEuaS5zb3VyY2VCdWZmZXJzW2RdLmFwcGVuZFdpbmRvd0VuZD1iLmVuZCtjfQpuLnJkPWZ1bmN0aW9uKCl7dGhpcy5rYT1udWxsO21nKHRoaXMpO3ZhciBhPU1mKHRoaXMsSGYodGhpcykpO2lmKGEpe3ZhciBiPXRoaXMuYi5iO3RoaXMuYS5nZXRCb29sKCJ0cmVhdF9saXZlX3N0YXRpY19tYW5pZmVzdF9hc19keW5hbWljIiwhMSkmJihiPWJ8fHRoaXMuYi5oKTtiJiZ0aGlzLmphIT1hLmxhc3QmJih0aGlzLmphPWEubGFzdCxudWxsIT10aGlzLmomJihjbGVhclRpbWVvdXQodGhpcy5qKSx0aGlzLmo9bnVsbCkpO2ZnKHRoaXMsYS5zdGFydCxhLmVuZCxhLmxhc3QsYS5aYSk7dGhpcy52aWRlby5wYXVzZWR8fG5nKHRoaXMsdGhpcy52aWRlby5jdXJyZW50VGltZSxhLnN0YXJ0LGEuZW5kKX19O2Z1bmN0aW9uIGZnKGEsYixjLGQsZSl7Yj15KHt0eXBlOiJzZWVrcmFuZ2VjaGFuZ2VkIixidWJibGVzOiEwLHN0YXJ0OmIsZW5kOmMsbGFzdDpkLHNlZWtSYW5nZUdhcHM6ZX0pO2EuZGlzcGF0Y2hFdmVudChiKX0Kbi5tZD1mdW5jdGlvbigpe3ZhciBhPXRoaXMudmlkZW8uY3VycmVudFRpbWUsYj1NZih0aGlzLEhmKHRoaXMpKTt0aGlzLmwmJmImJmE8Yi5zdGFydCYmQmFuemFpT0RTLmJ1bXBFbnRpdHlLZXkoMjk2NiwidmlkZW9zLnd3dy5zaGFrYSIsImN1cnJlbnRfdGltZV9hdF9zZWVrX2xlc3NfdGhhbl9zdHJlYW1fbGltaXRzX3N0YXJ0Iik7aWYobnVsbCE9dGhpcy5EKXtpZihhPj10aGlzLkQtLjAxJiZhPD10aGlzLkQrLjAxKXt0aGlzLkQ9bnVsbDt0aGlzLmwmJmImJmE8Yi5zdGFydCYmQmFuemFpT0RTLmJ1bXBFbnRpdHlLZXkoMjk2NiwidmlkZW9zLnd3dy5zaGFrYSIsImlnbm9yZWRfc2Vla193aGVuX2N1cnJlbnRfdGltZV9hdF9zZWVrX2xlc3NfdGhhbl9zdHJlYW1fbGltaXRzX3N0YXJ0Iik7cmV0dXJufXRoaXMuRD1udWxsfWlmKGIpe3ZhciBjPWIuc3RhcnQsZD1iLmVuZDt0aGlzLmEuZ2V0Qm9vbCgic2tpcF9yZW1haW5pbmdfYnVmZmVyZWRfb25fc3RyZWFtX2VuZCIsITEpJiZ0aGlzLmIuYiYmCnRoaXMuYi5oJiZ0aGlzLnZpZGVvLnBhdXNlZCYmKGQ9dGhpcy5qYSk7KGM9bmcodGhpcyxhLGMsZCkpfHwoYTw9ZCsuMDF8fHRoaXMuYi5iJiYhb2codGhpcyxkKT9jPSExOih0aGlzLnZpZGVvLmN1cnJlbnRUaW1lPWQsYz0hMCkpO2lmKGMpdGhpcy5sJiZhPGIuc3RhcnQmJkJhbnphaU9EUy5idW1wRW50aXR5S2V5KDI5NjYsInZpZGVvcy53d3cuc2hha2EiLCJjbGFtcF9wbGF5aGVhZF93aGVuX2N1cnJlbnRfdGltZV9hdF9zZWVrX2xlc3NfdGhhbl9zdHJlYW1fbGltaXRzX3N0YXJ0Iik7ZWxzZXtmb3IodmFyIGUgaW4gdGhpcy5jKXRoaXMuY1tlXS5DYyh0aGlzLkVhKTt0aGlzLkVhPSExfX19O2Z1bmN0aW9uIG5nKGEsYixjLGQpe2lmKGI+PWMtLjAxKXJldHVybiExO2I9MDthLmIuYiYmKGI9LjUsb2coYSxjK2IpfHwoYj1hLmIuZykpO2EudmlkZW8uY3VycmVudFRpbWU9TWF0aC5taW4oYytiLGQpO3JldHVybiEwfQpmdW5jdGlvbiBvZyhhLGIpe2Zvcih2YXIgYyBpbiBhLmMpaWYoIWEuY1tjXS5JYyhiKSlyZXR1cm4hMTtyZXR1cm4hMH1uLm9kPWZ1bmN0aW9uKCl7aWYoIXRoaXMuYi5ifHx0aGlzLkZhKXtmb3IodmFyIGEgaW4gdGhpcy5jKWlmKCF0aGlzLmNbYV0uZmIoKSlyZXR1cm47dGhpcy5lYigpfX07bi5wZD1mdW5jdGlvbigpe2NsZWFyVGltZW91dCh0aGlzLnUpO3RoaXMuRmE9ITA7Zm9yKHZhciBhIGluIHRoaXMuYyl0aGlzLmNbYV0uZmIoKXx8dGhpcy5jW2FdLkNiKCl9O24uamQ9ZnVuY3Rpb24oKXt0aGlzLmEuZ2V0Qm9vbCgiaWdub3JlX3NlZWtfd2hlbl9udWRnaW5nIiwhMCkmJih0aGlzLkQ9dGhpcy52aWRlby5jdXJyZW50VGltZSk7dGhpcy52aWRlby5jdXJyZW50VGltZSs9LjAwMX07Cm4udGI9ZnVuY3Rpb24oKXtpZih0aGlzLmFjKCl8fHRoaXMuYmMoKSlyZXR1cm4hMDt2YXIgYT10aGlzLmIsYj1udWxsLGM9bnVsbDthJiZhLmEmJmEuYVswXSYmKGI9YS5hWzBdKTtiJiZiLmEmJmIuYVswXSYmKGM9Yi5hWzBdKTtyZXR1cm4hIWMmJmMuYn07WS5wcm90b3R5cGUuaGFzSW5saW5lZENlYTYwOFN1YnRpdGxlcz1ZLnByb3RvdHlwZS50YjtZLnByb3RvdHlwZS5QYj1mdW5jdGlvbihhKXt0aGlzLm5jPWE7dmFyIGI9dGhpcy5jOyJ2aWRlbyJpbiBiJiYoYT1hJiZ0aGlzLnRiKCksYi52aWRlby5jLlM9YSl9O1kucHJvdG90eXBlLnNldEVuYWJsZUNlYTYwOFBhcnNpbmc9WS5wcm90b3R5cGUuUGI7CmZ1bmN0aW9uIHNmKGEpe3ZhciBiPWEuYS5nZXROdW1iZXIoImxpdmVfYnVmZmVyaW5nX3VuZGVyZmxvd190aHJlc2hvbGQiLC41KSxjPWEuYS5nZXRCb29sKCJmaXhfbGl2ZV9zdHJlYW1fZ29uZV9vbl9tYW5pZmVzdF91cGRhdGUiLCEwKSYmYS5oYyxkPSExO2lmKGEuYi5oKXt2YXIgZD1hLmEuZ2V0TnVtYmVyKCJsaXZlX3N0cmVhbV9lbmRfc2xhY2siLDApLGU7Zm9yKGUgaW4gYS5jKWEuY1tlXS5mYigpfHwoZD0wKTtkPWEudmlkZW8uY3VycmVudFRpbWUrYitkPmEuamF9cmV0dXJuIGN8fGR9bj1ZLnByb3RvdHlwZTsKbi5jZD1mdW5jdGlvbigpe3RoaXMuJD0hMDtpZih0aGlzLmImJnRoaXMuYi5iKXtpZihzZih0aGlzKSlyZXR1cm4gdGhpcy5lYigpO3RoaXMuYS5nZXRCb29sKCJhbGxvd19pbmZpbml0ZV9yZXRyeV9vbl9uZXRfZXJyIiwhMCkmJnRoaXMuRy5pc05ldHdvcmtJbnRlcnJ1cHRlZCgpfHwhV2EodGhpcy5jKS5ldmVyeShmdW5jdGlvbihhKXtyZXR1cm4gYS5mYigpfSl8fHBnKHRoaXMsdGhpcy5nYil9dGhpcy5hLmdldEJvb2woImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvdyIsITEpJiYobnVsbD09PXRoaXMuS3x8RGF0ZS5ub3coKS10aGlzLmZjPnRoaXMuYS5nZXROdW1iZXIoImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvd190aW1lX3dpbmRvdyIsMkUzKT90aGlzLks9dGhpcy5hLmdldE51bWJlcigiYnVmZmVyaW5nX292ZXJmbG93X3RocmVzaG9sZCIsMCk6dGhpcy5LKj10aGlzLmEuZ2V0TnVtYmVyKCJiYWNrX29mZl9idWZmZXJpbmdfb3ZlcmZsb3dfdGltZV9mYWN0b3IiLDIpLAp0aGlzLks9TWF0aC5taW4odGhpcy5LLHRoaXMuYS5nZXROdW1iZXIoImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvd19tYXgiLDUpKSl9O2Z1bmN0aW9uIHBnKGEsYil7YS5qPXNldFRpbWVvdXQoYS5lYi5iaW5kKGEpLGIpfW4uYmQ9ZnVuY3Rpb24oKXt0aGlzLiQ9ITE7dGhpcy5hLmdldEJvb2woImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvdyIsITEpJiYodGhpcy5mYz1EYXRlLm5vdygpKTtudWxsIT10aGlzLmomJihjbGVhclRpbWVvdXQodGhpcy5qKSx0aGlzLmo9bnVsbCl9O24uZ2Q9ZnVuY3Rpb24oKXtudWxsIT09dGhpcy5iYSYmKGJnKHRoaXMsdGhpcy5iYSksY2codGhpcyxudWxsKSl9O24uR2Q9ZnVuY3Rpb24oKXt9OwpuLmViPWZ1bmN0aW9uKCl7dGhpcy4kPSExO3RoaXMuaj1udWxsO3ZhciBhO2lmKGE9dGhpcy5hLmdldEJvb2woInRlc3Rfc291cmNlX2J1ZmZlcnNfbm90X3VwZGF0aW5nX2VuZF9vZl9zdHJlYW0iLCExKSlhOntmb3IoYT0wO2E8dGhpcy5pLnNvdXJjZUJ1ZmZlcnMubGVuZ3RoOysrYSlpZih0aGlzLmkuc291cmNlQnVmZmVyc1thXS51cGRhdGluZyl7YT0hMDticmVhayBhfWE9ITF9aWYoYSlyZXR1cm4gcGcodGhpcywxRTMpOyJvcGVuIj09dGhpcy5pLnJlYWR5U3RhdGUmJnRoaXMuaS5lbmRPZlN0cmVhbSgpfTtmdW5jdGlvbiBIZihhKXtyZXR1cm4gV2EoYS5jKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuRmIoKX0pLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YX0pfWZ1bmN0aW9uIExmKGEpe3JldHVybiBNYXRoLm1heChhLmI/YS5iLmc6MSxhLlpiP2EuZy5zdHJlYW1CdWZmZXJTaXplfHwwOjApfQpmdW5jdGlvbiBNZihhLGIpe2Zvcih2YXIgYz0wLGQ9TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLGU9TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLGY9W10sZz0hVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJub19zZWVrX3JhbmdlX2dhcHNfZHVyaW5nX2NvbXB1dGVfc3RyZWFtX2xpbWl0cyIsITEpLGg9MDtoPGIubGVuZ3RoOysraCl7dmFyIGs9YltoXS5BKCk7ZyYmKGY9Zi5jb25jYXQoYltoXS5nZXRTZWVrUmFuZ2VHYXBzKCkpKTtjPU1hdGgubWF4KGMsay5zdGFydCk7bnVsbCE9ay5lbmQmJihkPU1hdGgubWluKGQsay5lbmQpKTtiW2hdLmxlbmd0aCgpJiYoZT1NYXRoLm1pbihlLGJbaF0ubGFzdCgpLmVuZFRpbWUpKX1nJiYoZj1tZXJnZVNlZWtSYW5nZUdhcHMoZikpO2lmKGQ9PU51bWJlci5QT1NJVElWRV9JTkZJTklUWSlpZihkPWEuYi5hWzBdLGQuZHVyYXRpb24pZD0oZC5zdGFydHx8MCkrZC5kdXJhdGlvbjtlbHNlIHJldHVybiBudWxsO2lmKGEuYi5iKXt2YXIgZz0KTGYoYSksZD1NYXRoLm1heChkLWcsYyksbDthLnJhJiZhLmEuZ2V0Qm9vbCgibGl2ZV9qdW1wX3RvX3B1c2hlZF9zZWdtZW50IiwhMSkmJmIubGVuZ3RoJiYoaD1NYXRoLmZsb29yKExmKGEpLzEpKzEsZz1iWzBdLGg9Zy5sZW5ndGgoKS1oLChnPWcuZ2V0KGgpKSYmKGw9Zy5zdGFydFRpbWUpKX1pZihjPmQpcmV0dXJuIG51bGw7ZD1NYXRoLmZsb29yKDFFNSpkKS8xRTU7cmV0dXJue3N0YXJ0OmMsZW5kOmQsbGFzdDplLFphOmYsQmM6bH19bi5uYj1mdW5jdGlvbigpe3JldHVybiBNZih0aGlzLEhmKHRoaXMpKX07WS5wcm90b3R5cGUuY29tcHV0ZVN0cmVhbUxpbWl0cz1ZLnByb3RvdHlwZS5uYjtmdW5jdGlvbiBtZyhhKXthLmIuYiYmKGEua2E9c2V0VGltZW91dChhLnJkLmJpbmQoYSksMUUzKSl9ZnVuY3Rpb24gRGYoYSl7Zm9yKHZhciBiIGluIGEuYylhLmNbYl0ucGEoYS5nKX1ZLnByb3RvdHlwZS5zYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLkJifTsKWS5wcm90b3R5cGUuZ2V0TG9uZ2VzdEluaXRSZXNwb25zZVRpbWU9WS5wcm90b3R5cGUuc2I7ZnVuY3Rpb24gWmYoYSl7cmV0dXJuInYiPT09YS5jaGFyQXQoMCk/InZpZGVvIjoiYSI9PT1hLmNoYXJBdCgwKT8iYXVkaW8iOm51bGx9WS5wcm90b3R5cGUuVGM9ZnVuY3Rpb24oKXt2YXIgYT15KHt0eXBlOiJuZXR3b3JraW50ZXJydXB0ZWQiLGJ1YmJsZXM6ITB9KTt0aGlzLmRpc3BhdGNoRXZlbnQoYSk7dGhpcy5UPXRoaXMuVHx8RGF0ZS5ub3coKTt0aGlzLiQmJnRoaXMuaiYmY2xlYXJUaW1lb3V0KHRoaXMuail9OwpZLnByb3RvdHlwZS5VYz1mdW5jdGlvbigpe3ZhciBhPXkoe3R5cGU6Im5ldHdvcmtyZXN1bWVkIixidWJibGVzOiEwfSk7dGhpcy5kaXNwYXRjaEV2ZW50KGEpO2E9dGhpcy5hLmdldE51bWJlcigibWF4X25ldHdvcmtfaW50ZXJydXB0ZWRfdGltZV9iZWZvcmVfc2VlayIsMUU0KTtudWxsIT09dGhpcy5UJiZEYXRlLm5vdygpLXRoaXMuVD49YSYmKHRoaXMuVD1udWxsLHRoaXMuZWE9ITApO3RoaXMuYS5nZXRCb29sKCJmaXhfbmV0d29ya19pbnRlcnJ1cHRlZF9zdGFydF9ub3RfbnVsbGVkIiwhMSkmJih0aGlzLlQ9bnVsbCk7dGhpcy4kJiZwZyh0aGlzLHRoaXMuZ2IpfTtZLnByb3RvdHlwZS5WYz1mdW5jdGlvbigpe3RoaXMuZWE9ITB9O2Z1bmN0aW9uIFBmKGEpe2EuYS5nZXRCb29sKCJkZWNvdXBsZV9tcGRfdXBkYXRlX2xvb3BfZnJvbV9yZXF1ZXN0X2xvb3AiLCExKXx8S2YoYSwwKX1ZLnByb3RvdHlwZS5xYz1mdW5jdGlvbihhKXt0aGlzLm5hPWF9OwpZLnByb3RvdHlwZS5zZXRFbmFibGVMaXZlaGVhZENhdGNodXA9WS5wcm90b3R5cGUucWM7WS5wcm90b3R5cGUuemQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uYX07WS5wcm90b3R5cGUuaXNMaXZlaGVhZENhdGNodXBFbmFibGVkPVkucHJvdG90eXBlLnpkO1kucHJvdG90eXBlLlNjPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYy52aWRlbz90aGlzLmMudmlkZW8uYy5pOm51bGx9O1kucHJvdG90eXBlLmdldFZpZGVvU3RyZWFtUHJvZ3Jlc3NUcmFja2VyPVkucHJvdG90eXBlLlNjO1kucHJvdG90eXBlLnFiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYy52aWRlbz90aGlzLmMudmlkZW8ucWIoKTpudWxsfTtZLnByb3RvdHlwZS5nZXRCdWZmZXJWZWxvY2l0eT1ZLnByb3RvdHlwZS5xYjtmdW5jdGlvbiBSZihhLGIpe2Zvcih2YXIgYyBpbiBhLmMpYS5jW2NdLm5hPWJ9CmZ1bmN0aW9uIGlnKGEpe3ZhciBiPVtdO2lmKG51bGwhPT1hLmNhKXt2YXIgYz1hLmNhLGQ7Zm9yKGQgaW4gYS5jKWIucHVzaChyZShhLmNbZF0sYS5jYSkpO1Byb21pc2UuYWxsKGIpLnRoZW4oSihhLGZ1bmN0aW9uKCl7aWYoYyl7Zm9yKHZhciBhIGluIHRoaXMuYyl7dmFyIGI9dGhpcy5jW2FdO2IuSz1udWxsO2IuVj0hMTtiLkk9bnVsbH1jPnRoaXMudmlkZW8uY3VycmVudFRpbWUmJih0aGlzLnZpZGVvLmN1cnJlbnRUaW1lPWMpfX0pKX1hLmNhPW51bGx9O2Z1bmN0aW9uIFooYSxiLGMsZCxlLGYsZyl7ZHx8KGQ9bmV3IEcpO2V8fChlPW5ldyBYKTtZLmNhbGwodGhpcyxudWxsLGIsZCxlKTsic3RyaW5nIj09PXR5cGVvZiBhP3RoaXMuamM9YTp0aGlzLk5iPWE7dGhpcy5hPWI7dGhpcy5GPW51bGw7dGhpcy50YT1jO3RoaXMuRGE9W107dGhpcy5RYj1bXTt0aGlzLlJiPVtdO3RoaXMuSGE9MDt0aGlzLlk9bnVsbDt0aGlzLk1iPWd8fG51bGx9cihaLFkpO3EoInNoYWthLnBsYXllci5EYXNoVmlkZW9Tb3VyY2UiLFopO1oucHJvdG90eXBlLkpkPWZ1bmN0aW9uKGEpe3RoaXMuRj1hO3RoaXMuSmIoITAsITApfTtaLnByb3RvdHlwZS51cGRhdGVNYW5pZmVzdD1aLnByb3RvdHlwZS5KZDtaLnByb3RvdHlwZS5PYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLk5ifHx0aGlzLkZ9O1oucHJvdG90eXBlLmdldE1hbmlmZXN0PVoucHJvdG90eXBlLk9iO1oucHJvdG90eXBlLlRiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuT2IoKX07CloucHJvdG90eXBlLmRlYnVnR2V0TWFuaWZlc3Q9Wi5wcm90b3R5cGUuVGI7Wi5wcm90b3R5cGUuWmM9ZnVuY3Rpb24oYSxiLGMpe3RoaXMuRGEucHVzaChhKTt0aGlzLlFiLnB1c2goYnx8IiIpO3RoaXMuUmIucHVzaChjfHwiIil9O1oucHJvdG90eXBlLmFkZEV4dGVybmFsQ2FwdGlvbnM9Wi5wcm90b3R5cGUuWmM7Wi5wcm90b3R5cGUudGQ9ZnVuY3Rpb24oYSl7dGhpcy5ZPWF9O1oucHJvdG90eXBlLnNldE5ldHdvcmtDYWxsYmFjaz1aLnByb3RvdHlwZS50ZDtaLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5GPXRoaXMuWT10aGlzLnRhPW51bGw7WS5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpfTsKWi5wcm90b3R5cGUud2I9ZnVuY3Rpb24oKXt2YXIgYTt0aGlzLmwmJihhPXRoaXMubC5nZXRPcGVyYXRpb25Mb2dnZXIoInNvdXJjZV9sb2FkIikuc3RhcnQoKSk7dmFyIGIsYz1KKHRoaXMsZnVuY3Rpb24oYSl7aWYodGhpcy5hLmdldEJvb2woImVuYWJsZV9kb3VibGVfaW5nZXN0X29uX2luaXRpYWxfbXBkIiwhMSkpc3dpdGNoKGEuc3RhdHVzKXtjYXNlIDIwMDpjYXNlIDQxNzppZihhLnJlc3BvbnNlSGVhZGVycyYmbnVsbCE9YS5yZXNwb25zZUhlYWRlcnNbIngtZmItdmlkZW8tcmVwbGljYSJdKXJldHVybiB0aGlzLmRpc3BhdGNoRXZlbnQoeSh7dHlwZToicmVwbGljYXN3aXRjaCIsYnViYmxlczohMCxyZXBsaWNhOmEucmVzcG9uc2VIZWFkZXJzWyJ4LWZiLXZpZGVvLXJlcGxpY2EiXX0pKSxuZXcgUHJvbWlzZShmdW5jdGlvbigpe30pfXRocm93IGE7fSksZD1KKHRoaXMsZnVuY3Rpb24oYyl7dGhpcy5MYSgiTVBERmV0Y2hEdXJhdGlvbiIsKERhdGUubm93KCktYikvMUUzKTt0aGlzLkY9CmM7Zm9yKHZhciBkPTA7ZDx0aGlzLkRhLmxlbmd0aDtkKyspTGMoYyx0aGlzLkRhW2RdLHRoaXMuUWJbZF0sdGhpcy5SYltkXSk7dmFyIGQ9bmV3IHllKHRoaXMuYSx0aGlzLnRhLHRoaXMubCx0aGlzLk1iKSxlO3RoaXMubCYmKGU9dGhpcy5sLmdldE9wZXJhdGlvbkxvZ2dlcigicHJvY2Vzc19tYW5pZmVzdCIpLnN0YXJ0KCkpO3RoaXMuYj16ZShkLGMsdGhpcy5ZKTtlJiZlLmxvZygpO2EmJmEuc2V0TWFuaWZlc3RUeXBlKHRoaXMuYi5iPyJkeW5hbWljIjoic3RhdGljIik7cmV0dXJuIFkucHJvdG90eXBlLndiLmNhbGwodGhpcykudGhlbihmdW5jdGlvbigpe2EmJmEubG9nKCl9KX0pO2lmKHRoaXMuTmIpcmV0dXJuIGI9RGF0ZS5ub3coKSxkKHRoaXMuTmIpO3ZhciBlPVtuZXcgTCh0aGlzLmpjKV0sZjtpZih0aGlzLnJhKXt2YXIgZz1uZXcgVmlkZW9QdXNoUGFyYW1ldGVyc0hlbHBlcih0aGlzLmpjKTtnLnNldFN0cmVhbUVuZE9mZnNldChNYXRoLmZsb29yKExmKHRoaXMpLzEpKTsKdGhpcy5PYSYmZy5zZXRQdXNoVmlkZW9SZXByZXNlbnRhdGlvbklEKHRoaXMuT2EpO3RoaXMucGEmJmcuc2V0UHVzaEF1ZGlvUmVwcmVzZW50YXRpb25JRCh0aGlzLnBhKTt0aGlzLm1hJiZnLnNldFVzZUxvbmdDYWNoZUZvck1hbmlmZXN0KHRoaXMubWEpO2Y9bmV3IGZkKG51bGwpO2YuYT1nfWU9bmV3IEsodGhpcy5ZLGUsdm9pZCAwLHZvaWQgMCx2b2lkIDAsdGhpcy5NYik7Zj1uZXcgZGQoZSx0aGlzLkxiLGYsdGhpcy5kYSk7Yj1EYXRlLm5vdygpO3JldHVybiBlZChmLHRoaXMubCkudGhlbihkLGMpfTsKWi5wcm90b3R5cGUudmM9ZnVuY3Rpb24oKXtpZih0aGlzLlViKXt2YXIgYT10aGlzLmI7aWYoYT0oYT1hJiZhLmEpJiZhWzBdKXt2YXIgYT1hLmEucmVkdWNlKGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuY29uY2F0KGIudil9LFtdKSxiPWZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hfTtQcm9taXNlLmFsbChhLm1hcChmdW5jdGlvbihhKXthPWEuTTtyZXR1cm4gYS5RYz9hLlJhOmEuY3JlYXRlKCl9KSkudGhlbihmdW5jdGlvbihhKXthPWEuZmlsdGVyKGIpO3RoaXMuTGEoIkluaXRpYWxTZWdtZW50SW5kZXhlcyIsYSl9LmJpbmQodGhpcykpO1Byb21pc2UuYWxsKGEubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLmFhfSkpLnRoZW4oZnVuY3Rpb24oYSl7YT1hLmZpbHRlcihiKTt0aGlzLkxhKCJTZWdtZW50SW5pdFNvdXJjZXMiLGEpfS5iaW5kKHRoaXMpKX19fTsKWi5wcm90b3R5cGUueWM9ZnVuY3Rpb24oYSxiLGMpe2lmKHRoaXMudmlkZW8ucGF1c2VkJiZ0aGlzLkhhKzFFND5EYXRlLm5vdygpJiZ0aGlzLmIpcmV0dXJuIFByb21pc2UucmVqZWN0KHt0eXBlOiJkZWxheSJ9KTt2YXIgZDtpZihiJiZ2b2lkIDAhPWMpZD1uZXcgZmQoYiksZC5mPWMsYj1TZih0aGlzKSxudWxsIT1iJiYoZC5jPWIuc3RyZWFtSW5mb0lELGQuYj10aGlzLnBhKTtlbHNlIGZvcihiPWEuYyxjPTA7YzxiLmxlbmd0aDtjKyspe3ZhciBlPW5ldyBWaWRlb1B1c2hQYXJhbWV0ZXJzSGVscGVyKGJbY10udG9TdHJpbmcoKSk7dGhpcy5tYSYmZS5zZXRVc2VMb25nQ2FjaGVGb3JNYW5pZmVzdCh0aGlzLm1hKTtiW2NdPW5ldyBMKGUuZ2V0VVJMKCkpfWE9bmV3IGRkKGEsdGhpcy5MYixkLHRoaXMuZGEpO3ZhciBmPURhdGUubm93KCk7cmV0dXJuIGVkKGEsdGhpcy5sKS50aGVuKEoodGhpcyxmdW5jdGlvbihhKXt0aGlzLkhhPURhdGUubm93KCk7dGhpcy5MYSgiTVBERmV0Y2hEdXJhdGlvbiIsCih0aGlzLkhhLWYpLzFFMyk7dGhpcy5hLmdldEJvb2woInRyZWF0X2xpdmVfc3RhdGljX21hbmlmZXN0X2FzX2R5bmFtaWMiLCExKSYmKGEubWFuaWZlc3RJc0xpdmVTdHJlYW1pbmc9ImR5bmFtaWMiPT09KHRoaXMuRj90aGlzLkYudHlwZTphLnR5cGUpKTt0aGlzLkY9YTt2YXIgYj1uZXcgeWUodGhpcy5hLHRoaXMudGEsdGhpcy5sLHRoaXMuTWIpO2lmKHRoaXMubCl2YXIgYz10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJwcm9jZXNzX21hbmlmZXN0Iikuc3RhcnQoKTthPXplKGIsYSx0aGlzLlkpO2MmJmMubG9nKCk7cmV0dXJuIFByb21pc2UucmVzb2x2ZShhKX0pKX07Wi5wcm90b3R5cGUueGM9ZnVuY3Rpb24oKXt2YXIgYT16ZShuZXcgeWUodGhpcy5hLHRoaXMudGEpLHRoaXMuRix0aGlzLlkpO3JldHVybiBQcm9taXNlLnJlc29sdmUoYSl9O30uYmluZChnLCBnbG9iYWwpKSgpOwoKbW9kdWxlLmV4cG9ydHMgPSBnLnNoYWthOwoKCi8qICAqL30pLG51bGwpOwovLyMgc291cmNlVVJMPWZiOGIxNmM4YjU3NjdkNTE4ODYwZGFiMjgzMGM1MGYyLmpzCg==, line 416: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript error: data:application/x-javascript;charset=utf-8;base64,aWYgKHNlbGYuQ2F2YWxyeUxvZ2dlcikgeyBDYXZhbHJ5TG9nZ2VyLnN0YXJ0X2pzKFsiKzRzV3kiXSk7IH0KLyoqCiAqIEBwcm92aWRlc01vZHVsZSBTaGFrYQogKiBAcHJlc2VydmUtd2hpdGVzcGFjZQogKiBAbm9wYWNrYWdlCiAqIEBnZW5lcmF0ZWQKICovCl9fZCgiU2hha2EiLFsiUHJvbWlzZSIsIkV2ZW50TGlzdGVuZXIiLCJWaWRlb1BsYXllclNoYWthUGVyZm9ybWFuY2VMb2dnZXIiLCJWaWRlb1B1c2hQYXJhbWV0ZXJzSGVscGVyIiwiVGltZVNsaWNlIiwiVmlkZW9QbGF5ZXJMb2NhbEJhbmR3aWR0aEVzdGltYXRvciIsIlZpZGVvUGxheWVyUmVzb3VyY2VUaW1lciIsIlNoYWthU2VnbWVudFJlZmVyZW5jZUhlbHBlciIsIlNlZ21lbnRSZXF1ZXN0TWFuYWdlciIsImNvbmNhdEFycmF5QnVmZmVyIiwiQnVmZmVyUmVwbGFjZW1lbnRIZWxwZXIiLCJsb2dMb25nQWthbWFpUmVxdWVzdCIsInRocm90dGxlIiwiVmlld3BvcnRQcmlvcml0eUFkanVzdGVyIiwiRmlyc3RMb2FkZWRWaWRlb1ByaW9yaXR5QWRqdXN0ZXIiLCJWaWRlb1ByaW9yaXR5Q2FsY3VsYXRvciIsIlZpZGVvU3RyZWFtaW5nTWFuYWdlciIsIk11bHRpcGxlU2VnbWVudHNQcm92aWRlciIsIkxvY2FsQml0cmF0ZUhlbHBlciIsIlVuaXRDb25zdGFudHMiLCJCdWZmZXJWZWxvY2l0eSIsIlZpZGVvUGxheWVyQml0cmF0ZUVzdGltYXRvciIsIlZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWciLCJnZXRTZWVrUmFuZ2VHYXBzRnJvbVNoYWthUmVmZXJlbmNlcyIsIm1lcmdlU2Vla1JhbmdlR2FwcyIsIk5ldHdvcmtTdGF0dXNEZXRlY3RvciIsIk1vc1V0aWxzIiwiQmFuemFpT0RTIiwiVmlkZW9EYXNoUHJlZmV0Y2hDYWNoZSIsIlZpZGVvQ2xpZW50RWRnZUNvb3BlcmF0aW9uIiwiVmlkZW9TdHJlYW1pbmdUYXNrUXVldWVQcm92aWRlciIsIkJpbmFyeVNlYXJjaCIsIlNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscyIsImdreCIsInNldFRpbWVvdXRBY3Jvc3NUcmFuc2l0aW9ucyIsInNldFRpbWVvdXQiLCJzZXRJbnRlcnZhbEFjcm9zc1RyYW5zaXRpb25zIiwic2V0SW50ZXJ2YWwiLCJzZXRJbW1lZGlhdGVBY3Jvc3NUcmFuc2l0aW9ucyIsInNldEltbWVkaWF0ZSIsImNsZWFyVGltZW91dCIsImNsZWFySW50ZXJ2YWwiLCJjbGVhckltbWVkaWF0ZSIsImRpc3BhdGNoRXZlbnQiLCJFdmVudExpc3RlbmVyIiwiRXZlbnQiLCJleHRyYWN0Q0VBNjA4IiwicGVyZm9ybWFuY2VOb3ciLCJwYXJzZUhlYWRlcnMiLCJjYW5Vc2VGZXRjaFN0cmVhbSIsIlN1YnNjcmlwdGlvbnNIYW5kbGVyIiwiVmlkZW9QdXNoVHJhY2tlciJdLChmdW5jdGlvbiAkbW9kdWxlX1NoYWthKGdsb2JhbCxyZXF1aXJlLHJlcXVpcmVEeW5hbWljLHJlcXVpcmVMYXp5LG1vZHVsZSxleHBvcnRzKXsKCi8vIHJ1biBgYXJjIHJlYnVpbGQgc2hha2EtcGxheWVyYCB0byByZWdlbmVyYXRlIFNoYWthLmpzIGFmdGVyIG1vZGlmeWluZyB0aGlzCi8vIGZpbGUKCnZhciBQcm9taXNlID0gcmVxdWlyZSgnUHJvbWlzZScpOwp2YXIgRXZlbnRMaXN0ZW5lciA9IHJlcXVpcmUoJ0V2ZW50TGlzdGVuZXInKTsKdmFyIFZpZGVvUGxheWVyU2hha2FQZXJmb3JtYW5jZUxvZ2dlciA9IHJlcXVpcmUoJ1ZpZGVvUGxheWVyU2hha2FQZXJmb3JtYW5jZUxvZ2dlcicpOwp2YXIgVmlkZW9QdXNoUGFyYW1ldGVyc0hlbHBlciA9IHJlcXVpcmUoJ1ZpZGVvUHVzaFBhcmFtZXRlcnNIZWxwZXInKTsKdmFyIFRpbWVTbGljZSA9IHJlcXVpcmUoJ1RpbWVTbGljZScpOwp2YXIgVmlkZW9QbGF5ZXJMb2NhbEJhbmR3aWR0aEVzdGltYXRvciA9IHJlcXVpcmUoJ1ZpZGVvUGxheWVyTG9jYWxCYW5kd2lkdGhFc3RpbWF0b3InKTsKdmFyIFZpZGVvUGxheWVyUmVzb3VyY2VUaW1lciA9IHJlcXVpcmUoJ1ZpZGVvUGxheWVyUmVzb3VyY2VUaW1lcicpOwp2YXIgU2hha2FTZWdtZW50UmVmZXJlbmNlSGVscGVyID0gcmVxdWlyZSgnU2hha2FTZWdtZW50UmVmZXJlbmNlSGVscGVyJyk7CnZhciBTZWdtZW50UmVxdWVzdE1hbmFnZXIgPSByZXF1aXJlKCdTZWdtZW50UmVxdWVzdE1hbmFnZXInKTsKdmFyIGNvbmNhdEFycmF5QnVmZmVyID0gcmVxdWlyZSgnY29uY2F0QXJyYXlCdWZmZXInKTsKdmFyIEJ1ZmZlclJlcGxhY2VtZW50SGVscGVyID0gcmVxdWlyZSgnQnVmZmVyUmVwbGFjZW1lbnRIZWxwZXInKTsKdmFyIGxvZ0xvbmdBa2FtYWlSZXF1ZXN0ID0gcmVxdWlyZSgnbG9nTG9uZ0FrYW1haVJlcXVlc3QnKTsKdmFyIHRocm90dGxlID0gcmVxdWlyZSgndGhyb3R0bGUnKTsKdmFyIFZpZXdwb3J0UHJpb3JpdHlBZGp1c3RlciA9IHJlcXVpcmUoJ1ZpZXdwb3J0UHJpb3JpdHlBZGp1c3RlcicpOwp2YXIgRmlyc3RMb2FkZWRWaWRlb1ByaW9yaXR5QWRqdXN0ZXIgPSByZXF1aXJlKCdGaXJzdExvYWRlZFZpZGVvUHJpb3JpdHlBZGp1c3RlcicpOwp2YXIgVmlkZW9Qcmlvcml0eUNhbGN1bGF0b3IgPSByZXF1aXJlKCdWaWRlb1ByaW9yaXR5Q2FsY3VsYXRvcicpOwp2YXIgVmlkZW9TdHJlYW1pbmdNYW5hZ2VyID0gcmVxdWlyZSgnVmlkZW9TdHJlYW1pbmdNYW5hZ2VyJyk7CnZhciBNdWx0aXBsZVNlZ21lbnRzUHJvdmlkZXIgPSByZXF1aXJlKCdNdWx0aXBsZVNlZ21lbnRzUHJvdmlkZXInKTsKdmFyIExvY2FsQml0cmF0ZUhlbHBlciA9IHJlcXVpcmUoJ0xvY2FsQml0cmF0ZUhlbHBlcicpOwp2YXIgVW5pdENvbnN0YW50cyA9IHJlcXVpcmUoJ1VuaXRDb25zdGFudHMnKTsKdmFyIEJ1ZmZlclZlbG9jaXR5ID0gcmVxdWlyZSgnQnVmZmVyVmVsb2NpdHknKTsKdmFyIFZpZGVvUGxheWVyQml0cmF0ZUVzdGltYXRvciA9IHJlcXVpcmUoJ1ZpZGVvUGxheWVyQml0cmF0ZUVzdGltYXRvcicpOwp2YXIgVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZyA9IHJlcXVpcmUoJ1ZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcnKTsKdmFyIGdldFNlZWtSYW5nZUdhcHNGcm9tU2hha2FSZWZlcmVuY2VzID0gcmVxdWlyZSgnZ2V0U2Vla1JhbmdlR2Fwc0Zyb21TaGFrYVJlZmVyZW5jZXMnKTsKdmFyIG1lcmdlU2Vla1JhbmdlR2FwcyA9IHJlcXVpcmUoJ21lcmdlU2Vla1JhbmdlR2FwcycpOwp2YXIgTmV0d29ya1N0YXR1c0RldGVjdG9yID0gcmVxdWlyZSgnTmV0d29ya1N0YXR1c0RldGVjdG9yJyk7CnZhciBNb3NVdGlscyA9IHJlcXVpcmUoJ01vc1V0aWxzJyk7CnZhciBCYW56YWlPRFMgPSByZXF1aXJlKCdCYW56YWlPRFMnKTsKdmFyIFZpZGVvRGFzaFByZWZldGNoQ2FjaGUgPSByZXF1aXJlKCdWaWRlb0Rhc2hQcmVmZXRjaENhY2hlJyk7CnZhciBWaWRlb0NsaWVudEVkZ2VDb29wZXJhdGlvbiA9IHJlcXVpcmUoJ1ZpZGVvQ2xpZW50RWRnZUNvb3BlcmF0aW9uJyk7CnZhciBWaWRlb1N0cmVhbWluZ1Rhc2tRdWV1ZVByb3ZpZGVyID0gcmVxdWlyZSgnVmlkZW9TdHJlYW1pbmdUYXNrUXVldWVQcm92aWRlcicpOwp2YXIgQmluYXJ5U2VhcmNoID0gcmVxdWlyZSgnQmluYXJ5U2VhcmNoJyk7CnZhciBTaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMgPSByZXF1aXJlKCdTaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMnKTsKdmFyIGdreCA9IHJlcXVpcmUoJ2dreCcpOwoKdmFyIHNldFRpbWVvdXQgPSBWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woCiAgICAndGltZW91dHNfcGVyc2lzdF9vbl9wYWdlX3RyYW5zaXRpb24nLAogICAgdHJ1ZQogICkgPwogIHJlcXVpcmUoJ3NldFRpbWVvdXRBY3Jvc3NUcmFuc2l0aW9ucycpIDoKICByZXF1aXJlKCdzZXRUaW1lb3V0Jyk7CnZhciBzZXRJbnRlcnZhbCA9IFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgKICAgICd0aW1lb3V0c19wZXJzaXN0X29uX3BhZ2VfdHJhbnNpdGlvbicsCiAgICB0cnVlCiAgKSA/CiAgcmVxdWlyZSgnc2V0SW50ZXJ2YWxBY3Jvc3NUcmFuc2l0aW9ucycpIDoKICByZXF1aXJlKCdzZXRJbnRlcnZhbCcpOwp2YXIgc2V0SW1tZWRpYXRlID0gVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKAogICAgJ3RpbWVvdXRzX3BlcnNpc3Rfb25fcGFnZV90cmFuc2l0aW9uJywKICAgIHRydWUKICApID8KICByZXF1aXJlKCdzZXRJbW1lZGlhdGVBY3Jvc3NUcmFuc2l0aW9ucycpIDoKICByZXF1aXJlKCdzZXRJbW1lZGlhdGUnKTsKdmFyIGNsZWFyVGltZW91dCA9IHJlcXVpcmUoJ2NsZWFyVGltZW91dCcpOwp2YXIgY2xlYXJJbnRlcnZhbCA9IHJlcXVpcmUoJ2NsZWFySW50ZXJ2YWwnKTsKdmFyIGNsZWFySW1tZWRpYXRlID0gcmVxdWlyZSgnY2xlYXJJbW1lZGlhdGUnKTsKdmFyIGRpc3BhdGNoRG9tRXZlbnQgPSByZXF1aXJlKCdkaXNwYXRjaEV2ZW50Jyk7CnZhciBldmVudExpc3RlbmVyQ2FwdHVyZSA9IHJlcXVpcmUoJ0V2ZW50TGlzdGVuZXInKS5jYXB0dXJlOwp2YXIgZXZlbnRLaWxsID0gcmVxdWlyZSgnRXZlbnQnKS5raWxsOwp2YXIgZXh0cmFjdENFQTYwOCA9IHJlcXVpcmUoJ2V4dHJhY3RDRUE2MDgnKTsKdmFyIHBlcmZvcm1hbmNlTm93ID0gcmVxdWlyZSgncGVyZm9ybWFuY2VOb3cnKTsKdmFyIHBhcnNlSGVhZGVycyA9IHJlcXVpcmUoJ3BhcnNlSGVhZGVycycpOwp2YXIgY2FuVXNlRmV0Y2hTdHJlYW0gPSByZXF1aXJlKCdjYW5Vc2VGZXRjaFN0cmVhbScpOwp2YXIgU3Vic2NyaXB0aW9uc0hhbmRsZXIgPSByZXF1aXJlKCdTdWJzY3JpcHRpb25zSGFuZGxlcicpOwp2YXIgVmlkZW9QdXNoVHJhY2tlciA9IHJlcXVpcmUoJ1ZpZGVvUHVzaFRyYWNrZXInKTsKCmZ1bmN0aW9uIHNldEV2ZW50UHJvcGVydHkob2JqLCBuYW1lLCBoYW5kbGVyKSB7CiAgb2JqW25hbWVdID0gVGltZVNsaWNlLmd1YXJkKGhhbmRsZXIsICdzaGFrYSAnICsgbmFtZSk7Cn07CgppZiAoCiAgVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCdzaGFrYV9uYXRpdmVfcHJvbWlzZScsIGZhbHNlKSAmJgogIFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgndXNlX25hdGl2ZV9wcm9taXNlJywgdHJ1ZSkKKSB7CiAgUHJvbWlzZSA9IHdpbmRvdy5Qcm9taXNlOwp9Cgp2YXIgZyA9IHt9OwoKKGZ1bmN0aW9uKHdpbmRvdyl7dmFyIG4sYWE9dGhpcztmdW5jdGlvbiBxKGEsYil7dmFyIGM9YS5zcGxpdCgiLiIpLGQ9YWE7Y1swXWluIGR8fCFkLmV4ZWNTY3JpcHR8fGQuZXhlY1NjcmlwdCgidmFyICIrY1swXSk7Zm9yKHZhciBlO2MubGVuZ3RoJiYoZT1jLnNoaWZ0KCkpOyljLmxlbmd0aHx8dm9pZCAwPT09Yj9kW2VdP2Q9ZFtlXTpkPWRbZV09e306ZFtlXT1ifWZ1bmN0aW9uIHIoYSxiKXtmdW5jdGlvbiBjKCl7fWMucHJvdG90eXBlPWIucHJvdG90eXBlO2EuUGQ9Yi5wcm90b3R5cGU7YS5wcm90b3R5cGU9bmV3IGM7YS5wcm90b3R5cGUuY29uc3RydWN0b3I9YTthLkxkPWZ1bmN0aW9uKGEsYyxmKXtyZXR1cm4gYi5wcm90b3R5cGVbY10uYXBwbHkoYSxBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMikpfX07LyoKCiBDb3B5cmlnaHQgMjAxNSBHb29nbGUgSW5jLgoKIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoKIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoqLwpmdW5jdGlvbiBiYSgpe307ZnVuY3Rpb24gY2EoYSl7dmFyIGI9Y29uc29sZVthXTtiP2IuYmluZHx8KGNvbnNvbGVbYV09ZnVuY3Rpb24oKXtiLmFwcGx5KGNvbnNvbGUsYXJndW1lbnRzKX0pOmNvbnNvbGVbYV09ZnVuY3Rpb24oKXt9fWNhKCJlcnJvciIpO2NhKCJ3YXJuIik7Y2EoImluZm8iKTtjYSgibG9nIik7Y2EoImRlYnVnIik7dmFyIHU9e3FhOmZ1bmN0aW9uKGEpe3UuSGJbYV09e3FhOnUud2MoKSxlbmQ6TmFOfX0sZW5kOmZ1bmN0aW9uKGEpe2lmKGE9dS5IYlthXSlhLmVuZD11LndjKCl9LE1kOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD11LmdldChhKSxlPXUuZ2V0KGIpO2lmKCFkfHwhZSlyZXR1cm4gTmFOO2QtPWU7Zm9yKGU9MjtlPGFyZ3VtZW50cy5sZW5ndGg7KytlKXt2YXIgZj11LmdldChhcmd1bWVudHNbZV0pO2lmKCFmKXJldHVybiBOYU47ZC09Zn1yZXR1cm4gZH0sZ2V0OmZ1bmN0aW9uKGEpe3JldHVybihhPXUuSGJbYV0pJiZhLmVuZD9hLmVuZC1hLnFhOk5hTn19O3Uud2M9d2luZG93LnBlcmZvcm1hbmNlJiZ3aW5kb3cucGVyZm9ybWFuY2Uubm93P3dpbmRvdy5wZXJmb3JtYW5jZS5ub3cuYmluZCh3aW5kb3cucGVyZm9ybWFuY2UpOkRhdGUubm93O3UuSGI9e307LyoKCiBDb3B5cmlnaHQgMjAwNC1wcmVzZW50IEZhY2Vib29rLiBBbGwgUmlnaHRzIFJlc2VydmVkLgoKKi8KZnVuY3Rpb24gZmEoYSxiLGMsZCxlLGYsZyxoKXt0aGlzLmlkPWE7dGhpcy5iYW5kd2lkdGg9Ynx8MDt0aGlzLmxhbmc9Y3x8InVua25vd24iO3RoaXMuc3RyZWFtSW5mb0lEPWQ7dGhpcy5taW1lVHlwZT1lfHwiIjt0aGlzLmNvZGVjcz1mfHwiIjt0aGlzLmNoYW5uZWxzPWd8fG51bGw7dGhpcy5zYW1wbGluZ1JhdGU9aHx8bnVsbDt0aGlzLmFjdGl2ZT0hMX1xKCJzaGFrYS5wbGF5ZXIuQXVkaW9UcmFjay5jb21wYXJlIixmdW5jdGlvbihhLGIpe3JldHVybiBhLmxhbmc8Yi5sYW5nPy0xOmEubGFuZz5iLmxhbmc/MTphLmJhbmR3aWR0aDxiLmJhbmR3aWR0aD8tMTphLmJhbmR3aWR0aD5iLmJhbmR3aWR0aD8xOjB9KTt2YXIgZ2E9VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoInNoYWthX2RlZmF1bHRfcmVxdWVzdF90aW1lb3V0X3RpbWVzY2FsZSIsMUUzKSxoYT1NYXRoLmZsb29yKFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJzaGFrYV9kZWZhdWx0X2FqYXhfcmVxdWVzdF90aW1lb3V0X21zIiwwKS9nYSksaWE9TWF0aC5mbG9vcihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigic2hha2FfZGVmYXVsdF9hamF4X3JlcXVlc3RfdGltZW91dF9tcyIsMCkvZ2EpLGphPU1hdGguZmxvb3IoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoInNoYWthX2RlZmF1bHRfYWpheF9yZXF1ZXN0X3RpbWVvdXRfbXMiLDApL2dhKTtmdW5jdGlvbiBrYSgpe3RoaXMubWluQmFuZHdpZHRoPXRoaXMubWF4QmFuZHdpZHRoPXRoaXMubWF4V2lkdGg9dGhpcy5taW5IZWlnaHQ9dGhpcy5tYXhIZWlnaHQ9bnVsbH1rYS5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYT1uZXcga2E7YS5tYXhIZWlnaHQ9dGhpcy5tYXhIZWlnaHQ7YS5taW5IZWlnaHQ9dGhpcy5taW5IZWlnaHQ7YS5tYXhXaWR0aD10aGlzLm1heFdpZHRoO2EubWF4QmFuZHdpZHRoPXRoaXMubWF4QmFuZHdpZHRoO2EubWluQmFuZHdpZHRoPXRoaXMubWluQmFuZHdpZHRoO3JldHVybiBhfTtmdW5jdGlvbiBsYSgpe3RoaXMuZm9udFNpemU9IjEwMCUiO3RoaXMuZm9udENvbG9yPW1hO3RoaXMuZm9udE9wYWNpdHk9b2E7dGhpcy5iYWNrZ3JvdW5kQ29sb3I9cGE7dGhpcy5iYWNrZ3JvdW5kT3BhY2l0eT1vYTt0aGlzLmZvbnRFZGdlPXFhfXEoInNoYWthLnBsYXllci5UZXh0U3R5bGUiLGxhKTsKZnVuY3Rpb24gcmEoYSl7dmFyIGI9W107Yi5wdXNoKCJmb250LXNpemU6ICIrYS5mb250U2l6ZSk7Yi5wdXNoKCJjb2xvcjogIitzYShhLmZvbnRDb2xvcixhLmZvbnRPcGFjaXR5KSk7Yi5wdXNoKCJiYWNrZ3JvdW5kLWNvbG9yOiAiK3NhKGEuYmFja2dyb3VuZENvbG9yLGEuYmFja2dyb3VuZE9wYWNpdHkpKTtmb3IodmFyIGM9W10sZD0wO2Q8YS5mb250RWRnZS5sZW5ndGg7KytkKXt2YXIgZT1hLmZvbnRFZGdlW2RdLnNsaWNlKDMsNik7Yy5wdXNoKHNhKGEuZm9udEVkZ2VbZF0uc2xpY2UoMCwzKSxhLmZvbnRPcGFjaXR5KSsiICIrZS5qb2luKCJweCAiKSsicHgiKX1iLnB1c2goInRleHQtc2hhZG93OiAiK2Muam9pbigiLCIpKTtyZXR1cm4gYi5qb2luKCI7ICIpfWZ1bmN0aW9uIHNhKGEsYil7cmV0dXJuInJnYmEoIithLmNvbmNhdChiKS5qb2luKCIsIikrIikifXZhciBtYT1bMjU1LDI1NSwyNTVdLHBhPVswLDAsMF07CmxhLlN0YW5kYXJkQ29sb3JzPXtXSElURTptYSxCTEFDSzpwYSxSRUQ6WzI1NSwwLDBdLEdSRUVOOlswLDI1NSwwXSxCTFVFOlswLDAsMjU1XSxZRUxMT1c6WzI1NSwyNTUsMF0sTUFHRU5UQTpbMjU1LDAsMjU1XSxDWUFOOlswLDI1NSwyNTVdfTt2YXIgb2E9MTtsYS5TdGFuZGFyZE9wYWNpdGllcz17T1BBUVVFOm9hLFNFTUlfSElHSDouNzUsU0VNSV9MT1c6LjI1LFRSQU5TUEFSRU5UOjB9O3ZhciBxYT1bXTsKbGEuRWRnZVN0eWxlcz17Tk9ORTpxYSxSQUlTRUQ6W1szNCwzNCwzNCwxLDEsMF0sWzM0LDM0LDM0LDIsMiwwXSxbMzQsMzQsMzQsMywzLDBdXSxERVBSRVNTRUQ6W1syMDQsMjA0LDIwNCwxLDEsMF0sWzIwNCwyMDQsMjA0LDAsMSwwXSxbMzQsMzQsMzQsLTEsLTEsMF0sWzM0LDM0LDM0LDAsLTEsMF1dLFVOSUZPUk06W1szNCwzNCwzNCwwLDAsNF0sWzM0LDM0LDM0LDAsMCw0XSxbMzQsMzQsMzQsMCwwLDRdLFszNCwzNCwzNCwwLDAsNF1dLERST1A6W1szNCwzNCwzNCwyLDIsM10sWzM0LDM0LDM0LDIsMiw0XSxbMzQsMzQsMzQsMiwyLDVdXX07ZnVuY3Rpb24gdGEoYSxiKXt0aGlzLmlkPWE7dGhpcy5sYW5nPWJ8fCJ1bmtub3duIjt0aGlzLmVuYWJsZWQ9dGhpcy5hY3RpdmU9ITF9cSgic2hha2EucGxheWVyLlRleHRUcmFjay5jb21wYXJlIixmdW5jdGlvbihhLGIpe3JldHVybiBhLmxhbmc8Yi5sYW5nPy0xOmEubGFuZz5iLmxhbmc/MTowfSk7ZnVuY3Rpb24gdWEoYSxiLGMsZCxlLGYsZyxoLGssbCxtLHAsdCl7dGhpcy5pZD1hO3RoaXMuYmFuZHdpZHRoPWJ8fDA7dGhpcy53aWR0aD1jfHwwO3RoaXMuaGVpZ2h0PWR8fDA7dGhpcy5zdHJlYW1JbmZvSUQ9ZTt0aGlzLmZiUXVhbGl0eUxhYmVsPWY7dGhpcy5mYlF1YWxpdHlDbGFzcz1nO2E9W107aCYmKGE9aC5zcGxpdCgiLCIpKTt0aGlzLmZyYW1lUmF0ZT1rfHwiIjt0aGlzLm1pbWVUeXBlPWx8fCIiO3RoaXMuY29kZWNzPW18fCIiO3RoaXMuaXNIVlE9LTE8YS5pbmRleE9mKCJodnEiKTt0aGlzLmlzSW5saW5lSFZRPS0xPGEuaW5kZXhPZigiaHZxX3d3d19pbmxpbmUiKTt0aGlzLmF2b2lkT25Qb29yQ29ubmVjdGlvbj0tMTxhLmluZGV4T2YoImF2b2lkX29uX3Bvb3JfY29ubmVjdGlvbiIpO3RoaXMuYWN0aXZlPSExO3RoaXMucGxheWJhY2tSZXNvbHV0aW9uTW9zPXB8fG51bGw7dGhpcy5wbGF5YmFja1Jlc29sdXRpb25Nb3NDb25maWRlbmNlTGV2ZWw9dHx8bnVsbH0KZnVuY3Rpb24gdmEoYSxiKXt2YXIgYz1hLndpZHRoKmEuaGVpZ2h0LGQ9Yi53aWR0aCpiLmhlaWdodDtyZXR1cm4gYzxkPy0xOmM+ZD8xOmEuYmFuZHdpZHRoPGIuYmFuZHdpZHRoPy0xOmEuYmFuZHdpZHRoPmIuYmFuZHdpZHRoPzE6MH1xKCJzaGFrYS5wbGF5ZXIuVmlkZW9UcmFjay5jb21wYXJlIix2YSk7ZnVuY3Rpb24gd2EoYSl7Zm9yKHZhciBiPXhhLGM9W10sZD0wO2Q8YS5sZW5ndGg7KytkKXtmb3IodmFyIGU9ITEsZj0wO2Y8Yy5sZW5ndGgmJiEoZT1iP2IoYVtkXSxjW2ZdKTphW2RdPT09Y1tmXSk7KytmKTtlfHxjLnB1c2goYVtkXSl9cmV0dXJuIGN9O2Z1bmN0aW9uIHlhKCl7cmV0dXJuIERhdGUubm93KCkremF9dmFyIHphPTA7ZnVuY3Rpb24gQmEoYSl7dGhpcy5iPWE7dGhpcy5jPTA9PUNhO3RoaXMuYT0wfXZhciBDYT0xO2Z1bmN0aW9uIERhKGEpe3JldHVybiBhLmE8YS5iLmJ5dGVMZW5ndGh9ZnVuY3Rpb24gRWEoYSl7dmFyIGI9YS5iLmdldFVpbnQ4KGEuYSk7YS5hKz0xO3JldHVybiBifWZ1bmN0aW9uIHYoYSl7dmFyIGI9YS5iLmdldFVpbnQzMihhLmEsYS5jKTthLmErPTQ7cmV0dXJuIGJ9ZnVuY3Rpb24gRmEoYSl7dmFyIGIsYzthLmM/KGI9YS5iLmdldFVpbnQzMihhLmEsITApLGM9YS5iLmdldFVpbnQzMihhLmErNCwhMCkpOihjPWEuYi5nZXRVaW50MzIoYS5hLCExKSxiPWEuYi5nZXRVaW50MzIoYS5hKzQsITEpKTtpZigyMDk3MTUxPGMpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkRhdGFWaWV3UmVhZGVyOiBPdmVyZmxvdyByZWFkaW5nIDY0LWJpdCB2YWx1ZS4iKTthLmErPTg7cmV0dXJuIGMqTWF0aC5wb3coMiwzMikrYn0KZnVuY3Rpb24gR2EoYSl7aWYoYS5hKzE2PmEuYi5ieXRlTGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKCJEYXRhVmlld1JlYWRlcjogUmVhZCBwYXN0IGVuZCBvZiBEYXRhVmlldy4iKTt2YXIgYj1uZXcgVWludDhBcnJheShhLmIuYnVmZmVyLGEuYSwxNik7YS5hKz0xNjtyZXR1cm4gYn1mdW5jdGlvbiBIYShhLGIpe2lmKGEuYStiPmEuYi5ieXRlTGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKCJEYXRhVmlld1JlYWRlcjogU2tpcCBwYXN0IGVuZCBvZiBEYXRhVmlldy4iKTthLmErPWJ9O2Z1bmN0aW9uIElhKGEpe3RoaXMuYj1hO3RoaXMuYT1uZXcgQmEoYSk7SmF8fChKYT1bbmV3IFVpbnQ4QXJyYXkoWzI1NV0pLG5ldyBVaW50OEFycmF5KFsxMjcsMjU1XSksbmV3IFVpbnQ4QXJyYXkoWzYzLDI1NSwyNTVdKSxuZXcgVWludDhBcnJheShbMzEsMjU1LDI1NSwyNTVdKSxuZXcgVWludDhBcnJheShbMTUsMjU1LDI1NSwyNTUsMjU1XSksbmV3IFVpbnQ4QXJyYXkoWzcsMjU1LDI1NSwyNTUsMjU1LDI1NV0pLG5ldyBVaW50OEFycmF5KFszLDI1NSwyNTUsMjU1LDI1NSwyNTUsMjU1XSksbmV3IFVpbnQ4QXJyYXkoWzEsMjU1LDI1NSwyNTUsMjU1LDI1NSwyNTUsMjU1XSldKX12YXIgSmE7CmZ1bmN0aW9uIEthKGEpe3ZhciBiO2I9TGEoYSk7aWYoNzxiLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiRWJtbFBhcnNlcjogRUJNTCBJRCBtdXN0IGJlIGF0IG1vc3QgNyBieXRlcy4iKTtmb3IodmFyIGM9MCxkPTA7ZDxiLmxlbmd0aDtkKyspYz0yNTYqYytiW2RdO2I9YztjPUxhKGEpO2E6e2ZvcihkPTA7ZDxKYS5sZW5ndGg7ZCsrKWlmKE1hKGMsSmFbZF0pKXtkPSEwO2JyZWFrIGF9ZD0hMX1pZihkKWM9YS5iLmJ5dGVMZW5ndGgtYS5hLmE7ZWxzZXtpZig4PT1jLmxlbmd0aCYmY1sxXSYyMjQpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkVibWxQYXJzZXI6IFZhcmlhYmxlIHNpemVkIGludGVnZXIgdmFsdWUgbXVzdCBiZSBhdCBtb3N0IDUzIGJpdHMuIik7Zm9yKHZhciBkPWNbMF0mKDE8PDgtYy5sZW5ndGgpLTEsZT0xO2U8Yy5sZW5ndGg7ZSsrKWQ9MjU2KmQrY1tlXTtjPWR9Yz1hLmEuYStjPD1hLmIuYnl0ZUxlbmd0aD9jOmEuYi5ieXRlTGVuZ3RoLWEuYS5hO2Q9bmV3IERhdGFWaWV3KGEuYi5idWZmZXIsCmEuYi5ieXRlT2Zmc2V0K2EuYS5hLGMpO0hhKGEuYSxjKTtyZXR1cm4gbmV3IE5hKGIsZCl9ZnVuY3Rpb24gTGEoYSl7dmFyIGI9RWEoYS5hKSxjO2ZvcihjPTE7OD49YyYmIShiJjE8PDgtYyk7YysrKTtpZig4PGMpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkVibWxQYXJzZXI6IFZhcmlhYmxlIHNpemVkIGludGVnZXIgbXVzdCBmaXQgd2l0aGluIDggYnl0ZXMuIik7dmFyIGQ9bmV3IFVpbnQ4QXJyYXkoYyk7ZFswXT1iO2ZvcihiPTE7YjxjO2IrKylkW2JdPUVhKGEuYSk7cmV0dXJuIGR9ZnVuY3Rpb24gTmEoYSxiKXt0aGlzLmlkPWE7dGhpcy5hPWJ9CmZ1bmN0aW9uIE9hKGEpe2lmKDg8YS5hLmJ5dGVMZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkVibWxFbGVtZW50OiBVbnNpZ25lZCBpbnRlZ2VyIGhhcyB0b28gbWFueSBieXRlcy4iKTtpZig4PT1hLmEuYnl0ZUxlbmd0aCYmYS5hLmdldFVpbnQ4KDApJjIyNCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiRWJtbFBhcnNlcjogVW5zaWduZWQgaW50ZWdlciBtdXN0IGJlIGF0IG1vc3QgNTMgYml0cy4iKTtmb3IodmFyIGI9MCxjPTA7YzxhLmEuYnl0ZUxlbmd0aDtjKyspdmFyIGQ9YS5hLmdldFVpbnQ4KGMpLGI9MjU2KmIrZDtyZXR1cm4gYn07dmFyIFBhPXsib3V0cHV0LXJlc3RyaWN0ZWQiOiJUaGUgcmVxdWlyZWQgb3V0cHV0IHByb3RlY3Rpb24gaXMgbm90IGF2YWlsYWJsZS4iLCJvdXRwdXQtbm90LWFsbG93ZWQiOiJUaGUgcmVxdWlyZWQgb3V0cHV0IHByb3RlY3Rpb24gaXMgbm90IGF2YWlsYWJsZS4iLGV4cGlyZWQ6IlRoZSBkZWNyeXB0aW9uIGtleSBoYXMgZXhwaXJlZC4iLCJpbnRlcm5hbC1lcnJvciI6IlRoZSBrZXkgc3lzdGVtIGhhcyBlbmNvdW50ZXJlZCBhbiB1bnNwZWNpZmllZCBlcnJvci4ifTtmdW5jdGlvbiB4KGEpe3RoaXMuYj1NYXRoLmV4cChNYXRoLmxvZyguNSkvYSk7dGhpcy55Yj10aGlzLiRhPXRoaXMuYT0wfXEoInNoYWthLnV0aWwuRVdNQSIseCk7eC5wcm90b3R5cGUuc2FtcGxlPWZ1bmN0aW9uKGEsYil7dmFyIGM9TWF0aC5wb3codGhpcy5iLGEpO3RoaXMuYT1iKigxLWMpK2MqdGhpcy5hO3RoaXMuJGErPWE7dGhpcy55Yis9MX07eC5wcm90b3R5cGUuc2FtcGxlPXgucHJvdG90eXBlLnNhbXBsZTt4LnByb3RvdHlwZS5jPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGF9O3gucHJvdG90eXBlLmdldFRvdGFsV2VpZ2h0PXgucHJvdG90eXBlLmM7eC5wcm90b3R5cGUuZ2V0RXN0aW1hdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLygxLU1hdGgucG93KHRoaXMuYix0aGlzLiRhKSl9O3gucHJvdG90eXBlLmdldEVzdGltYXRlPXgucHJvdG90eXBlLmdldEVzdGltYXRlO3gucHJvdG90eXBlLmY9ZnVuY3Rpb24oKXt0aGlzLnliPXRoaXMuJGE9dGhpcy5hPTB9Owp4LnByb3RvdHlwZS5yZXNldD14LnByb3RvdHlwZS5mO3ZhciBRYT13aW5kb3cuQ3VzdG9tRXZlbnQ7ImZ1bmN0aW9uIiE9PXR5cGVvZiBRYSYmKFFhPWZ1bmN0aW9uKGEsYil7Yj1ifHx7YnViYmxlczohMSxjYW5jZWxhYmxlOiExLGRldGFpbDp2b2lkIDB9O3ZhciBjPWRvY3VtZW50LmNyZWF0ZUV2ZW50KCJDdXN0b21FdmVudCIpO2MuaW5pdEN1c3RvbUV2ZW50KGEsYi5idWJibGVzLGIuY2FuY2VsYWJsZSxiLmRldGFpbCk7cmV0dXJuIGN9LFFhLnByb3RvdHlwZT13aW5kb3cuRXZlbnQucHJvdG90eXBlKTtmdW5jdGlvbiB5KGEpe3ZhciBiPW5ldyBRYShhLnR5cGUse2RldGFpbDphLmRldGFpbCxidWJibGVzOiEhYS5idWJibGVzfSksYztmb3IoYyBpbiBhKWMgaW4gYnx8KGJbY109YVtjXSk7cmV0dXJuIGJ9ZnVuY3Rpb24gQShhKXtyZXR1cm4gbmV3IFFhKCJlcnJvciIse2RldGFpbDphLGJ1YmJsZXM6ITB9KX07ZnVuY3Rpb24gUmEoYSxiLGMpe1NhKGIpO1NhKGMpO3JldHVybiBjPT1ifHxhPj1UYSYmYz09Yi5zcGxpdCgiLSIpWzBdfHxhPj1VYSYmYy5zcGxpdCgiLSIpWzBdPT1iLnNwbGl0KCItIilbMF0/ITA6ITF9dmFyIFRhPTEsVWE9MjtmdW5jdGlvbiBTYShhKXthPWEudG9Mb3dlckNhc2UoKS5zcGxpdCgiLSIpO3ZhciBiPVZhW2FbMF1dO2ImJihhWzBdPWIpO3JldHVybiBhLmpvaW4oIi0iKX0KdmFyIFZhPXthYXI6ImFhIixhYms6ImFiIixhZnI6ImFmIixha2E6ImFrIixhbGI6InNxIixhbWg6ImFtIixhcmE6ImFyIixhcmc6ImFuIixhcm06Imh5Iixhc206ImFzIixhdmE6ImF2IixhdmU6ImFlIixheW06ImF5IixhemU6ImF6IixiYWs6ImJhIixiYW06ImJtIixiYXE6ImV1IixiZWw6ImJlIixiZW46ImJuIixiaWg6ImJoIixiaXM6ImJpIixib2Q6ImJvIixib3M6ImJzIixicmU6ImJyIixidWw6ImJnIixidXI6Im15IixjYXQ6ImNhIixjZXM6ImNzIixjaGE6ImNoIixjaGU6ImNlIixjaGk6InpoIixjaHU6ImN1IixjaHY6ImN2Iixjb3I6Imt3Iixjb3M6ImNvIixjcmU6ImNyIixjeW06ImN5IixjemU6ImNzIixkYW46ImRhIixkZXU6ImRlIixkaXY6ImR2IixkdXQ6Im5sIixkem86ImR6IixlbGw6ImVsIixlbmc6ImVuIixlcG86ImVvIixlc3Q6ImV0IixldXM6ImV1Iixld2U6ImVlIixmYW86ImZvIixmYXM6ImZhIixmaWo6ImZqIixmaW46ImZpIixmcmE6ImZyIixmcmU6ImZyIiwKZnJ5OiJmeSIsZnVsOiJmZiIsZ2VvOiJrYSIsZ2VyOiJkZSIsZ2xhOiJnZCIsZ2xlOiJnYSIsZ2xnOiJnbCIsZ2x2OiJndiIsZ3JlOiJlbCIsZ3JuOiJnbiIsZ3VqOiJndSIsaGF0OiJodCIsaGF1OiJoYSIsaGViOiJoZSIsaGVyOiJoeiIsaGluOiJoaSIsaG1vOiJobyIsaHJ2OiJociIsaHVuOiJodSIsaHllOiJoeSIsaWJvOiJpZyIsaWNlOiJpcyIsaWRvOiJpbyIsaWlpOiJpaSIsaWt1OiJpdSIsaWxlOiJpZSIsaW5hOiJpYSIsaW5kOiJpZCIsaXBrOiJpayIsaXNsOiJpcyIsaXRhOiJpdCIsamF2OiJqdiIsanBuOiJqYSIsa2FsOiJrbCIsa2FuOiJrbiIsa2FzOiJrcyIsa2F0OiJrYSIsa2F1OiJrciIsa2F6OiJrayIsa2htOiJrbSIsa2lrOiJraSIsa2luOiJydyIsa2lyOiJreSIsa29tOiJrdiIsa29uOiJrZyIsa29yOiJrbyIsa3VhOiJraiIsa3VyOiJrdSIsbGFvOiJsbyIsbGF0OiJsYSIsbGF2OiJsdiIsbGltOiJsaSIsbGluOiJsbiIsbGl0OiJsdCIsbHR6OiJsYiIsbHViOiJsdSIsCmx1ZzoibGciLG1hYzoibWsiLG1haDoibWgiLG1hbDoibWwiLG1hbzoibWkiLG1hcjoibXIiLG1heToibXMiLG1rZDoibWsiLG1sZzoibWciLG1sdDoibXQiLG1vbjoibW4iLG1yaToibWkiLG1zYToibXMiLG15YToibXkiLG5hdToibmEiLG5hdjoibnYiLG5ibDoibnIiLG5kZToibmQiLG5kbzoibmciLG5lcDoibmUiLG5sZDoibmwiLG5ubzoibm4iLG5vYjoibmIiLG5vcjoibm8iLG55YToibnkiLG9jaToib2MiLG9qaToib2oiLG9yaToib3IiLG9ybToib20iLG9zczoib3MiLHBhbjoicGEiLHBlcjoiZmEiLHBsaToicGkiLHBvbDoicGwiLHBvcjoicHQiLHB1czoicHMiLHF1ZToicXUiLHJvaDoicm0iLHJvbjoicm8iLHJ1bToicm8iLHJ1bjoicm4iLHJ1czoicnUiLHNhZzoic2ciLHNhbjoic2EiLHNpbjoic2kiLHNsazoic2siLHNsbzoic2siLHNsdjoic2wiLHNtZToic2UiLHNtbzoic20iLHNuYToic24iLHNuZDoic2QiLHNvbToic28iLHNvdDoic3QiLHNwYToiZXMiLHNxaToic3EiLApzcmQ6InNjIixzcnA6InNyIixzc3c6InNzIixzdW46InN1Iixzd2E6InN3Iixzd2U6InN2Iix0YWg6InR5Iix0YW06InRhIix0YXQ6InR0Iix0ZWw6InRlIix0Z2s6InRnIix0Z2w6InRsIix0aGE6InRoIix0aWI6ImJvIix0aXI6InRpIix0b246InRvIix0c246InRuIix0c286InRzIix0dWs6InRrIix0dXI6InRyIix0d2k6InR3Iix1aWc6InVnIix1a3I6InVrIix1cmQ6InVyIix1emI6InV6Iix2ZW46InZlIix2aWU6InZpIix2b2w6InZvIix3ZWw6ImN5Iix3bG46IndhIix3b2w6IndvIix4aG86InhoIix5aWQ6InlpIix5b3I6InlvIix6aGE6InphIix6aG86InpoIix6dWw6Inp1In07ZnVuY3Rpb24gV2EoYSl7cmV0dXJuIE9iamVjdC5rZXlzKGEpLm1hcChmdW5jdGlvbihiKXtyZXR1cm4gYVtiXX0pfWZ1bmN0aW9uIEIoYSxiKXtyZXR1cm4gWGEoYSxiLCJib29sZWFuIil9ZnVuY3Rpb24gQyhhLGIsYyl7YT1YYShhLGIsIm51bWJlciIpO2lmKG51bGw9PWEpcmV0dXJuIG51bGw7aWYoaXNOYU4oYSl8fGE9PU51bWJlci5ORUdBVElWRV9JTkZJTklUWXx8YT09TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZKXRocm93IG5ldyBSYW5nZUVycm9yKCInIitiKyInIG11c3QgYmUgZmluaXRlLiIpO2lmKG51bGwhPWMmJmE8Yyl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiJyIrYisiJyBtdXN0IGJlID49ICIrYyk7cmV0dXJuIGF9ZnVuY3Rpb24gWWEoYSxiKXtyZXR1cm4gWGEoYSxiLCJzdHJpbmciKX0KZnVuY3Rpb24gWGEoYSxiLGMpe2E9YVtiXTtpZihudWxsPT1hKXJldHVybiBudWxsO2lmKHR5cGVvZiBhIT09Yyl0aHJvdyBuZXcgVHlwZUVycm9yKCInIitiKyInIG11c3QgYmUgYSAiK2MrIi4iKTtyZXR1cm4gYX1mdW5jdGlvbiBaYShhLGIsYyl7YT1hW2JdO2lmKG51bGw9PWEpcmV0dXJuIG51bGw7aWYoIShhIGluc3RhbmNlb2YgYykpdGhyb3cgbmV3IFR5cGVFcnJvcigiJyIrYisiJyBtdXN0IGJlIGFuIGluc3RhbmNlIG9mICIrYy5uYW1lKyIuIik7cmV0dXJuIGF9O2Z1bmN0aW9uIEQoKXt0aGlzLmE9e319RC5wcm90b3R5cGUucHVzaD1mdW5jdGlvbihhLGIpe3RoaXMuYS5oYXNPd25Qcm9wZXJ0eShhKT90aGlzLmFbYV0ucHVzaChiKTp0aGlzLmFbYV09W2JdfTtELnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24oYSxiKXt0aGlzLmFbYV09Yn07RC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGEpe3JldHVybihhPXRoaXMuYVthXSk/YS5zbGljZSgpOm51bGx9O2Z1bmN0aW9uICRhKGEpe3ZhciBiPVtdLGM7Zm9yKGMgaW4gYS5hKWIucHVzaC5hcHBseShiLGEuYVtjXSk7cmV0dXJuIGJ9RC5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5hW2FdO2lmKGMpZm9yKHZhciBkPTA7ZDxjLmxlbmd0aDsrK2QpY1tkXT09YiYmKGMuc3BsaWNlKGQsMSksLS1kKX07ZnVuY3Rpb24gYWIoYSl7dmFyIGI9W10sYztmb3IoYyBpbiBhLmEpYi5wdXNoKGMpO3JldHVybiBifTtmdW5jdGlvbiBiYigpe3RoaXMuYT1uZXcgRH1iYi5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe2RiKHRoaXMpO3RoaXMuYT1udWxsfTtmdW5jdGlvbiBFKGEsYixjLGQpe2I9bmV3IGViKGIsYyxkKTthLmEucHVzaChjLGIpfWJiLnByb3RvdHlwZS5hYj1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz10aGlzLmEuZ2V0KGIpfHxbXSxkPTA7ZDxjLmxlbmd0aDsrK2Qpe3ZhciBlPWNbZF07ZS50YXJnZXQ9PWEmJihlLmFiKCksdGhpcy5hLnJlbW92ZShiLGUpKX19O2Z1bmN0aW9uIGRiKGEpe2Zvcih2YXIgYj0kYShhLmEpLGM9MDtjPGIubGVuZ3RoOysrYyliW2NdLmFiKCk7YS5hLmE9e319ZnVuY3Rpb24gZWIoYSxiLGMpe3RoaXMudGFyZ2V0PWE7dGhpcy50eXBlPWI7dGhpcy5hPWM7dGhpcy50YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihiLGMsITEpfQplYi5wcm90b3R5cGUuYWI9ZnVuY3Rpb24oKXt0aGlzLnRhcmdldCYmKHRoaXMudGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIodGhpcy50eXBlLHRoaXMuYSwhMSksdGhpcy5hPXRoaXMudGFyZ2V0PW51bGwpfTtmdW5jdGlvbiBGKGEpe3RoaXMuRWI9bmV3IEQ7dGhpcy5KYT1hfXEoInNoYWthLnV0aWwuRmFrZUV2ZW50VGFyZ2V0IixGKTtuPUYucHJvdG90eXBlO24uYWRkRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbihhLGIpe3RoaXMuRWIucHVzaChhLGIpfTtuLnJlbW92ZUV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24oYSxiKXt0aGlzLkViLnJlbW92ZShhLGIpfTsKbi5kaXNwYXRjaEV2ZW50PWZ1bmN0aW9uKGEpe2EuaGFzT3duUHJvcGVydHkoInNyY0VsZW1lbnQiKXx8KGRlbGV0ZSBhLnNyY0VsZW1lbnQsT2JqZWN0LmRlZmluZVByb3BlcnR5KGEsInNyY0VsZW1lbnQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH19KSk7aWYoYS5oYXNPd25Qcm9wZXJ0eSgidGFyZ2V0IikpYS50YXJnZXQ9dGhpcztlbHNle2RlbGV0ZSBhLnRhcmdldDt2YXIgYj10aGlzO09iamVjdC5kZWZpbmVQcm9wZXJ0eShhLCJ0YXJnZXQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYn0sc2V0OmZ1bmN0aW9uKGEpe2I9YX19KX1pZihhLmhhc093blByb3BlcnR5KCJjdXJyZW50VGFyZ2V0IikpYS5jdXJyZW50VGFyZ2V0PW51bGw7ZWxzZXtkZWxldGUgYS5jdXJyZW50VGFyZ2V0O3ZhciBjPW51bGw7T2JqZWN0LmRlZmluZVByb3BlcnR5KGEsImN1cnJlbnRUYXJnZXQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY30sc2V0OmZ1bmN0aW9uKGEpe2M9YX19KX1yZXR1cm4gZmIodGhpcywKYSl9O24ub2M9ITE7bi5MYT1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmRpc3BhdGNoRXZlbnQoeSh7dHlwZToiZGVidWcvZGFzaFBsYXllckV2ZW50IixidWJibGVzOiEwLGRldGFpbDp7dHlwZTphLGV2ZW50OmJ9fSkpfTtmdW5jdGlvbiBmYihhLGIpe2IuY3VycmVudFRhcmdldD1hO2Zvcih2YXIgYz1hLkViLmdldChiLnR5cGUpfHxbXSxkPTA7ZDxjLmxlbmd0aDsrK2Qpe3ZhciBlPWNbZF07dHJ5e2UuaGFuZGxlRXZlbnQ/ZS5oYW5kbGVFdmVudChiKTplLmNhbGwoYSxiKX1jYXRjaChmKXt9fWEuSmEmJmIuYnViYmxlcyYmZmIoYS5KYSxiKTtyZXR1cm4gYi5kZWZhdWx0UHJldmVudGVkfTtmdW5jdGlvbiBHKGEpe0YuY2FsbCh0aGlzLG51bGwpO3RoaXMuYT17b2I6e1ZhOm5ldyB4KFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJmYXN0X21vdmluZ19hdmVyYWdlX2hhbGZfbGlmZSIsMykpLHhiOm5ldyB4KFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJzbG93X21vdmluZ19hdmVyYWdlX2hhbGZfbGlmZSIsMTApKX0sY2I6e1ZhOm5ldyB4KFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJhZ2dyZXNzaXZlX2Zhc3RfbW92aW5nX2F2ZXJhZ2VfaGFsZl9saWZlIiwxRS00KSkseGI6bmV3IHgoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoImFnZ3Jlc3NpdmVfc2xvd19tb3ZpbmdfYXZlcmFnZV9oYWxmX2xpZmUiLDkuMjMzNTA4NzkxNzc0NSkpfX07dGhpcy5oPWF8fDVFNTt0aGlzLmo9VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoIm1pbl9zYW1wbGVfY291bnQiLAoxRTQpO3RoaXMuYj0wO3RoaXMuYz1bXTt0aGlzLmk9VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoIm1heF9yZWNlbnRfYmFuZHdpZHRoX3NhbXBsZXMiLDApfXIoRyxGKTtxKCJzaGFrYS51dGlsLkVXTUFCYW5kd2lkdGhFc3RpbWF0b3IiLEcpO0cucHJvdG90eXBlLnNob3VsZEV4Y2x1ZGVTYW1wbGU9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJjaGFuZ2VfYWJyX2F1ZGlvX2V4Y2x1c2lvbl9sb2dpYyIsITApPyFiOjY1NTM2PmF9OwpHLnByb3RvdHlwZS5zYW1wbGU9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyl7aWYodGhpcy5zaG91bGRFeGNsdWRlU2FtcGxlKGIsYykpZSYmZS5zZXRFdmVudCgidW5zYW1wbGVkIikuc2V0UmVhc29uKCJhdWRpbyIpLmxvZygpO2Vsc2V7aWYoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJ1c2VfcmVzb3VyY2VfdGltaW5nX2VudHJ5X2Zvcl9iYW5kd2lkdGgiLCEwKSl7aWYoIWQpe2UmJmUuc2V0RXZlbnQoInVuc2FtcGxlZCIpLnNldFJlYXNvbigicmVzb3VyY2VfdGltaW5nX2VudHJ5X21pc3NpbmciKS5sb2coKTtyZXR1cm59YT1kLnRpbWVUb0xhc3RCeXRlO2lmKDA+YSl7ZSYmZS5zZXRFdmVudCgidW5zYW1wbGVkIikuc2V0UmVhc29uKCJyZXNvdXJjZV90aW1pbmdfZW50cnlfaW52YWxpZCIpLmxvZygpO3JldHVybn19YT1NYXRoLm1heChhLDUwKTtjPTFFMypVbml0Q29uc3RhbnRzLkJJVFNfSU5fQllURSpiL2E7dmFyIGg9YS8xRTM7dGhpcy5hLmNiLlZhLnNhbXBsZShoLApjLGQpO3RoaXMuYS5jYi54Yi5zYW1wbGUoaCxjLGQpO3RoaXMuYS5vYi5WYS5zYW1wbGUoaCxjLGQpO3RoaXMuYS5vYi54Yi5zYW1wbGUoaCxjLGQpO2d8fHRoaXMuZGlzcGF0Y2hFdmVudCh5KHt0eXBlOiJiYW5kd2lkdGgifSkpO3RoaXMuYj1EYXRlLm5vdygpO2Q9cGFyc2VJbnQoYSwxMCk7aWYoMDx0aGlzLmkpZm9yKHRoaXMuYy5wdXNoKFtiLGRdKTt0aGlzLmMubGVuZ3RoPnRoaXMuaTspdGhpcy5jLnNoaWZ0KCk7ZSYmZS5zZXRFdmVudCgic2FtcGxlZCIpLnNldEJ5dGVzKGIpLnNldERlbGF5TXMoZCkubG9nKCk7ZiYmZi5nZXRFdmVudExvZ2dlcigiYmFuZHdpZHRoX3NhbXBsZWQiKS5zZXRMZW5ndGgoYikuc2V0Q2xpZW50VGltZUJlZ2luKHRoaXMuYi1kKS5zZXRDbGllbnRUaW1lRW5kKHRoaXMuYikubG9nKCl9fTsKRy5wcm90b3R5cGUuZ2V0QmFuZHdpZHRoPWZ1bmN0aW9uKGEpe2E9ImFnZ3Jlc3NpdmUiPT09YT90aGlzLmEuY2I6dGhpcy5hLm9iO3JldHVybiB0aGlzLmNhblRydXN0RXN0aW1hdGUoKT9NYXRoLm1pbihhLlZhLmdldEVzdGltYXRlKCksYS54Yi5nZXRFc3RpbWF0ZSgpKTp0aGlzLmh9O0cucHJvdG90eXBlLmdldEZhc3RNb3ZpbmdCYW5kd2lkdGg9ZnVuY3Rpb24oYSl7YT0iYWdncmVzc2l2ZSI9PT1hP3RoaXMuYS5jYjp0aGlzLmEub2I7cmV0dXJuIHRoaXMuY2FuVHJ1c3RFc3RpbWF0ZSgpP2EuVmEuZ2V0RXN0aW1hdGUoKTp0aGlzLmh9O0cucHJvdG90eXBlLmdldERhdGFBZ2U9ZnVuY3Rpb24oKXtyZXR1cm4oRGF0ZS5ub3coKS10aGlzLmIpLzFFM307Ry5wcm90b3R5cGUuY2FuVHJ1c3RFc3RpbWF0ZT1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmEuY2IuVmE7cmV0dXJuIGIuJGE+PSh2b2lkIDA9PT1hPy41OmEpfHxiLnliPj10aGlzLmp9OwpHLnByb3RvdHlwZS5zdXBwb3J0c0NhY2hpbmc9ZnVuY3Rpb24oKXtyZXR1cm4hMX07Ry5wcm90b3R5cGUuc2V0UmVwcmVzZW50YXRpb25JRD1mdW5jdGlvbigpe307Ry5wcm90b3R5cGUuZmx1c2hBQlJFdmFsdWF0aW9uU2V0PWZ1bmN0aW9uKCl7cmV0dXJuW119O0cucHJvdG90eXBlLmdldFJlY2VudFNhbXBsZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jfTsvKgoKIENvcHlyaWdodCAyMDE1IEZhY2Vib29rIEluYy4KCiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoKICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KKi8KZnVuY3Rpb24gZ2IoYSxiLGMsZCl7Ry5jYWxsKHRoaXMsZCk7dGhpcy5nPWF8fDA7dGhpcy5mPXZvaWQgMD09PWI/SW5maW5pdHk6Yjt0aGlzLm09Y31yKGdiLEcpO3EoInNoYWthLnV0aWwuRVdNQUNhY2hlQmFuZHdpZHRoRXN0aW1hdG9yIixnYik7CmdiLnByb3RvdHlwZS5zYW1wbGU9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxoKXt2YXIgaz04RTMqYi9hO2UmJmUuc2V0Qnl0ZXMoYikuc2V0RGVsYXlNcyhwYXJzZUludChhLDEwKSk7YTw9dGhpcy5nJiZrPnRoaXMuZiYmIWg/KGUmJmUuc2V0RXZlbnQoInVuc2FtcGxlZCIpLnNldFJlYXNvbigiY2FjaGVkIikubG9nKCksZiYmIXRoaXMuc2hvdWxkRXhjbHVkZVNhbXBsZShiLGMpJiZmLmdldEV2ZW50TG9nZ2VyKCJiYW5kd2lkdGhfc2FtcGxlZCIpLnNldFJlc3VsdCgiYWJvcnRlZCIpLnNldExlbmd0aChiKS5zZXRDbGllbnRUaW1lQmVnaW4oRGF0ZS5ub3coKS1wYXJzZUludChhLDEwKSkuc2V0Q2xpZW50VGltZUVuZChEYXRlLm5vdygpKS5sb2coKSx0aGlzLm0oKSk6Ry5wcm90b3R5cGUuc2FtcGxlLmNhbGwodGhpcyxhLGIsYyxkLGUsZixnKX07Z2IucHJvdG90eXBlLnN1cHBvcnRzQ2FjaGluZz1mdW5jdGlvbigpe3JldHVybiBJbmZpbml0eSE9PXRoaXMuZiYmISF0aGlzLmd9OwpnYi5wcm90b3R5cGUuc2V0UmVwcmVzZW50YXRpb25JRD1mdW5jdGlvbigpe307Z2IucHJvdG90eXBlLmZsdXNoQUJSRXZhbHVhdGlvblNldD1mdW5jdGlvbigpe3JldHVybltdfTtmdW5jdGlvbiBoYigpe0cuY2FsbCh0aGlzKX1yKGhiLEcpO3EoInNoYWthLnV0aWwuRVdNQVNpZ25lZFVSTEJhbmR3aWR0aEVzdGltYXRvciIsaGIpO2hiLnByb3RvdHlwZS5zdXBwb3J0c0NhY2hpbmc9ZnVuY3Rpb24oKXtyZXR1cm4hMH07ZnVuY3Rpb24gSSgpe3ZhciBhLGIsYz1uZXcgUHJvbWlzZShmdW5jdGlvbihjLGUpe2E9YztiPWV9KTtjLnJlc29sdmU9YTtjLnJlamVjdD1iO2MuZGVzdHJveT1JLnByb3RvdHlwZS5kZXN0cm95O3JldHVybiBjfUkucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmNhdGNoKGZ1bmN0aW9uKCl7fSk7dmFyIGE9RXJyb3IoIkRlc3Ryb3llZCEiKTthLnR5cGU9ImRlc3Ryb3kiO3RoaXMucmVqZWN0KGEpfTtmdW5jdGlvbiBpYihhKXthLnNwbGl0KCIiKS5yZWR1Y2UoZnVuY3Rpb24oYSxjLGQpe3JldHVybiBhKyhkJiYwPT1kJTQ/IiAiK2M6Yyl9KX07ZnVuY3Rpb24gamIoKXt0aGlzLmxiPW5ldyBJO3RoaXMuYz0hMTt0aGlzLkFhPW51bGw7dGhpcy5hPVtdO3RoaXMuYj1udWxsfWZ1bmN0aW9uIGtiKGEsYil7aWYoYS5jKXRocm93IEVycm9yKCJDYW5ub3QgYXBwZW5kIHRvIGEgcnVubmluZyB0YXNrISIpO2EuYS5wdXNoKGIpfWpiLnByb3RvdHlwZS5zdGFydD1mdW5jdGlvbigpe2lmKHRoaXMuYyl0aHJvdyBFcnJvcigiVGFzayBhbHJlYWR5IHN0YXJ0ZWQhIik7dGhpcy5jPSEwO3RoaXMuYS51bnNoaWZ0KGZ1bmN0aW9uKCl7fSk7bGIodGhpcyx2b2lkIDApfTtqYi5wcm90b3R5cGUuYWJvcnQ9ZnVuY3Rpb24oKXtpZih0aGlzLkFhKXJldHVybiB0aGlzLkFhO2lmKCF0aGlzLmMpcmV0dXJuIHRoaXMuYz0hMCxQcm9taXNlLnJlc29sdmUoKTt0aGlzLmImJih0aGlzLmY9dGhpcy5iKCkpO3JldHVybiB0aGlzLkFhPW5ldyBJfTtqYi5wcm90b3R5cGUuZW5kPWZ1bmN0aW9uKCl7dGhpcy5hLnNwbGljZSgxKX07CmZ1bmN0aW9uIGxiKGEsYil7dmFyIGM9YS5hWzBdKGIpLGQ7Yz8oZD1jWzBdLGEuYj1jWzFdKTooZD1Qcm9taXNlLnJlc29sdmUoKSxhLmI9bnVsbCk7ZC50aGVuKEooYSxmdW5jdGlvbihhKXt0aGlzLkFhPyh0aGlzLmE9W10sdGhpcy5iPW51bGwsbWIodGhpcykpOih0aGlzLmEuc2hpZnQoKSx0aGlzLmEubGVuZ3RoP2xiKHRoaXMsYSk6KHRoaXMubGIucmVzb2x2ZShhKSx0aGlzLmI9bnVsbCkpfSkpLmNhdGNoKEooYSxmdW5jdGlvbihhKXt0aGlzLmE9W107dGhpcy5iPW51bGw7dGhpcy5BYT9tYih0aGlzKTp0aGlzLmxiLnJlamVjdChhKX0pKX0KZnVuY3Rpb24gbWIoYSl7ZnVuY3Rpb24gYigpe3ZhciBhPUVycm9yKCJUYXNrIGFib3J0ZWQuIik7YS50eXBlPSJhYm9ydGVkIjt0aGlzLmxiLnJlamVjdChhKTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhpcy5BYS5yZXNvbHZlKCk7dGhpcy5BYT1udWxsfS5iaW5kKHRoaXMpLDUpfWEuZj9hLmYudGhlbihmdW5jdGlvbigpe3RoaXMuZj1udWxsO2IuY2FsbCh0aGlzKX0uYmluZChhKSk6Yi5jYWxsKGEpfTtmdW5jdGlvbiBKKGEsYil7cmV0dXJuIGIuYmluZChhKX07ZnVuY3Rpb24gbmIoYSxiLGMsZCxlLGYsZyl7TWVkaWFTb3VyY2UuaXNUeXBlU3VwcG9ydGVkKGMpO0YuY2FsbCh0aGlzLGUpO2U9Yi5hZGRTb3VyY2VCdWZmZXIoYyk7dGhpcy5oPWE7dGhpcy5BPWI7dGhpcy5hPWU7dGhpcy5KPWQ7dGhpcy5CPW5ldyBiYjt0aGlzLkk9dGhpcy5sPXRoaXMuWT10aGlzLmk9bnVsbDt0aGlzLlI9ITE7dGhpcy5QPXRoaXMuSz10aGlzLk89MDt0aGlzLkc9bnVsbDt0aGlzLlY9dGhpcy5GPSExO3RoaXMuWj1mO3RoaXMuRD1udWxsO3RoaXMuJD1nP2c6bnVsbDt0aGlzLmI9W107dGhpcy5VPTA7dGhpcy5tPXRoaXMuYz10aGlzLmY9bnVsbDt0aGlzLlQ9amE7dGhpcy5vPXRoaXMudT0wO3RoaXMudz10aGlzLlM9ITE7dGhpcy5nPWMmJmMuY2hhckF0KDApO0UodGhpcy5CLHRoaXMuYSwidXBkYXRlZW5kIix0aGlzLm5kLmJpbmQodGhpcykpO3RoaXMuaC5nZXRCb29sKCJsaXN0ZW5fZm9yX2FzeW5jX2FwcGVuZF9idWZmZXJfZXJyb3JzIiwhMCkmJkUodGhpcy5CLAp0aGlzLmEsImVycm9yIix0aGlzLmFkLmJpbmQodGhpcykpO3RoaXMuaj1udWxsfXIobmIsRik7bmIucHJvdG90eXBlLkJhPWZ1bmN0aW9uKCl7cmV0dXJue1NvdXJjZUJ1ZmZlcjp0aGlzLmF9fTtmdW5jdGlvbiBvYihhLGIsYyl7YS5vYyYmYS5MYShiLHt0eXBlOmEuZy5jaGFyQXQoMCksc2VnbWVudDpjLHNvdXJjZUJ1ZmZlcjphLmF9KX12YXIgcGI9MS82MDtuYi5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuYWJvcnQoKS5jYXRjaChmdW5jdGlvbigpe30pO3RoaXMuYyYmdGhpcy5jLmRlc3Ryb3koKTt0aGlzLmI9dGhpcy5mPXRoaXMuYz1udWxsO3RoaXMuQi5kZXN0cm95KCk7dGhpcy5BPXRoaXMuYT10aGlzLkQ9dGhpcy5CPW51bGx9O2Z1bmN0aW9uIHFiKGEpe3ZhciBiPWEuYi5sZW5ndGg7cmV0dXJuIDA8Yj9hLmJbYi0xXTpudWxsfQpmdW5jdGlvbiByYihhLGIpe2Zvcih2YXIgYz1hLmEuYnVmZmVyZWQsZD0wO2Q8Yy5sZW5ndGg7KytkKXt2YXIgZT1jLnN0YXJ0KGQpLXBiLGY9Yy5lbmQoZCkrcGI7aWYoYj49ZSYmYjw9ZilyZXR1cm4gYy5lbmQoZCktYn1yZXR1cm4gMH1mdW5jdGlvbiBzYihhLGIsYyl7dmFyIGQ9Yi5lbmRUaW1lP2IuZW5kVGltZS1iLnN0YXJ0VGltZToxLGU9bmV3IHRiO2UuTmE9MztlLmM9MUUzKmQ7ZS5iPTFFMyphLlQ7ZS51PWEuWTtlLmo9YztlLmRhPWEuWjtlLm1pbWVUeXBlPWEuZztlLmg9YS4kO2Uubz1iLmlzUHJlZGljdGl2ZTtyZXR1cm4gZX1uPW5iLnByb3RvdHlwZTsKbi5mZXRjaD1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGgpe3ZhciBrLGw9Zj8icmVwbGFjaW5nX2xvd2VyX3F1YWxpdHlfYnVmZmVyIjpudWxsO2lmKHRoaXMubCl7dmFyIG09dGhpcy5iW3RoaXMuYi5sZW5ndGgtMV0scD1udWxsO20mJihwPTFFMyooYS5zdGFydFRpbWUtbS5lbmRUaW1lKSk7az10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJmZXRjaCIpLnNldFJlYXNvbihsKS5zZXRSZXNvdXJjZSh1YihhLnVybCkpLnNldFR5cGUodmIodGhpcykpLnNldExlbmd0aChNYXRoLnJvdW5kKDFFMyooYS5lbmRUaW1lLWEuc3RhcnRUaW1lKSkpLnNldFNlZ21lbnRTdGFydFRpbWUoMUUzKmEuc3RhcnRUaW1lKS5zZXRTZWdtZW50RW5kVGltZSgxRTMqYS5lbmRUaW1lKS5zZXRTZWdtZW50VGltZUdhcChwKS5zdGFydCgpfXRoaXMuaj1rO2lmKHRoaXMuZil7aWYodGhpcy5oLmdldEJvb2woInNibV9lbmFibGVfY29uY3VycmVudF9mZXRjaF9yZXF1ZXN0cyIsITEpKXt2YXIgdD1bXS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7CnJldHVybiB0aGlzLmYubGIudGhlbihKKHRoaXMsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mZXRjaC5hcHBseSh0aGlzLHQpfSksZnVuY3Rpb24oYSl7dGhyb3cgYTt9KX1tPUVycm9yKCJDYW5ub3QgZmV0Y2ggKCIrdGhpcy5nKyIpOiBwcmV2aW91cyBvcGVyYXRpb24gbm90IGNvbXBsZXRlLiIpO3RoaXMudT49dGhpcy5PPyhtLnR5cGU9InN0cmVhbSIsayYmay5zZXRFcnJvcihtKS5sb2coKSx0aGlzLnU9MCk6KHRoaXMudSsrLG0udHlwZT0iYWJvcnRlZCIpO3JldHVybiBQcm9taXNlLnJlamVjdChtKX10aGlzLmY9bmV3IGpiO2MhPXRoaXMuYS50aW1lc3RhbXBPZmZzZXQmJih0aGlzLmEudGltZXN0YW1wT2Zmc2V0PWMpO3ZhciBtPXNiKHRoaXMsYSxlKSxwPXRoaXMuaC5nZXRCb29sKCJlbmFibGVfc3RyZWFtaW5nX2NvZGVfcGF0aCIsITApLHc7dz1wP2EudXJsLnN0cmVhbShtLHRoaXMuSix0aGlzLmwsdGhpcy5qLHRoaXMuSSx2Yih0aGlzKSxsLGcsaCk6YS51cmwuZmV0Y2gobSwKdGhpcy5KLHRoaXMubCx0aGlzLmosdGhpcy5JLHZiKHRoaXMpLGwsZyk7b2IodGhpcywiU2VnbWVudEZldGNoaW5nIixhKTt2YXIgej1LLnByb3RvdHlwZS5LYS5iaW5kKGEudXJsKTt0aGlzLkcmJnRoaXMuRiYmKGQ9dGhpcy5HKTt2YXIgSD0wLGRhPW51bGw7ZCYmKHRoaXMuRz1kLHRoaXMuRj0hMSxrYih0aGlzLmYsZnVuY3Rpb24oKXtyZXR1cm5bZC50aGVuKGZ1bmN0aW9uKGEpe2EuWWE+SCYmKEg9YS5ZYSk7cmV0dXJuIHdiKHRoaXMsYSxudWxsKX0uYmluZCh0aGlzKSksdGhpcy5iYi5iaW5kKHRoaXMpXX0uYmluZCh0aGlzKSkpO3ZhciBlYT1mdW5jdGlvbihhKXthLllhPkgmJihIPWEuWWEpO2RhPWEuYnl0ZUxlbmd0aDt0aGlzLkouZ2V0QmFuZHdpZHRoKCk7dGhpcy5TJiZ0aGlzLmRpc3BhdGNoRXZlbnQoeSh7dHlwZToiY2VhNjA4Q2FwdGlvbnNCeXRlc1JlY2VpdmVkIixidWJibGVzOiEwLGRldGFpbDp7dGltZXNjYWxlOmIsdmlkZW9CeXRlczphfX0pKX0uYmluZCh0aGlzKTsKcD8oaCYmKG09aC5nZXRQcm9ncmVzc1RyYWNrZXIoKSx0aGlzLmkhPT1tJiYodGhpcy5pPW0pKSxrYih0aGlzLmYsSih0aGlzLGZ1bmN0aW9uKCl7dmFyIGI9bnVsbCxjPU1hdGgubWF4KDAsKGEudXJsLmVuZEJ5dGV8fDApLWEudXJsLnN0YXJ0Qnl0ZSksZD10aGlzLmguZ2V0TnVtYmVyKCJzdHJlYW1pbmdfYXBwZW5kX3Blcl9zZWdtZW50IiwzKSxlPTA9PT1kPzA6Yy9kO3JldHVyblt3LnRoZW4oZnVuY3Rpb24oYyl7Yj1jO3RoaXMudz0hMTtyZXR1cm4geGIodGhpcyxjLGEsZSl9LmJpbmQodGhpcykpLnRoZW4oZnVuY3Rpb24oYSl7Yj1udWxsO3JldHVybiBhfSkudGhlbihlYSkuY2F0Y2goZnVuY3Rpb24oYSl7dGhpcy5oLmdldEJvb2woImFib3J0X2ZldGNoX29uX25ldF9lcnJvciIsITEpJiZoJiYodGhpcy5hLmFib3J0KCksdGhpcy53PSEwKTtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYSl9LmJpbmQodGhpcykpLGZ1bmN0aW9uKCl7b2IodGhpcywiU2VnbWVudEZhaWxlZCIsYSk7CmImJihiLmNhbmNlbCgiYWJvcnQiKSxiPW51bGwsaCYmKHRoaXMuYS5hYm9ydCgpLHRoaXMudz0hMCkpO3ooKTtyZXR1cm4gdGhpcy5iYigpfS5iaW5kKHRoaXMpXX0pKSk6a2IodGhpcy5mLEoodGhpcyxmdW5jdGlvbigpe3JldHVyblt3LnRoZW4oZnVuY3Rpb24oYil7b2IodGhpcywiU2VnbWVudEZldGNoZWQiLGEpO2VhKGIpO3JldHVybiB3Yih0aGlzLGIsYSxsKX0uYmluZCh0aGlzKSksZnVuY3Rpb24oKXtvYih0aGlzLCJTZWdtZW50RmFpbGVkIixhKTt6KCk7cmV0dXJuIHRoaXMuYmIoKX0uYmluZCh0aGlzKV19KSk7dmFyIEFhPTA9PXRoaXMuYS5idWZmZXJlZC5sZW5ndGgmJjA9PXRoaXMuYi5sZW5ndGgsY2I9bnVsbDtrYih0aGlzLmYsZnVuY3Rpb24oKXtpZigwPT10aGlzLmEuYnVmZmVyZWQubGVuZ3RoJiYhdGhpcy5WKXt2YXIgYj1FcnJvcigiRmFpbGVkIHRvIGJ1ZmZlciBzZWdtZW50ICgiK3RoaXMuZysiKS4iKTtiLnR5cGU9InN0cmVhbSI7cmV0dXJuW1Byb21pc2UucmVqZWN0KGIpXX10aGlzLmEuYnVmZmVyZWQubGVuZ3RoJiYKQWEmJihiPWEuc3RhcnRUaW1lLGNiPXRoaXMuYS5idWZmZXJlZC5zdGFydCgwKS1iKTtiPXliKHRoaXMuYixhLnN0YXJ0VGltZSk7MDw9Yj90aGlzLmIuc3BsaWNlKGIrMSwwLGEpOnRoaXMuYi5wdXNoKGEpfS5iaW5kKHRoaXMpKTt0aGlzLnU9MDtyZXR1cm4gemIodGhpcykudGhlbihmdW5jdGlvbigpe2smJmsubG9nKCk7cmV0dXJuIFByb21pc2UucmVzb2x2ZSh7VzpjYixXYzpILEg6YS5lbmRUaW1lLWEuc3RhcnRUaW1lLERjOmRhfSl9LmJpbmQodGhpcyksZnVuY3Rpb24oYSl7ayYmay5zZXRFcnJvcihhKS5sb2coKTthPUFiKGEsInRhc2siLCJBbiB1bmtub3duIHRhc2sgZXJyb3Igb2NjdXJyZWQuIik7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfS5iaW5kKHRoaXMpKX07CmZ1bmN0aW9uIHhiKGEsYixjLGQpe3ZhciBlPW5ldyBBcnJheUJ1ZmZlcigwKSxmPW5ldyBBcnJheUJ1ZmZlcigwKSxnPWZ1bmN0aW9uKCl7cmV0dXJuIGIucmVhZCgpLnRoZW4oZnVuY3Rpb24oYSl7dmFyIGI9YS52YWx1ZTthPWEuZG9uZTtpZih0aGlzLnd8fGEmJjA9PT1mLmJ5dGVMZW5ndGgpcmV0dXJuIGU7aWYoIWEmJiFiKXJldHVybiBnKCk7YiYmKGIgaW5zdGFuY2VvZiBVaW50OEFycmF5JiYoYj1iLmJ1ZmZlciksZj1jb25jYXRBcnJheUJ1ZmZlcihmLGIpKTtyZXR1cm4gZi5ieXRlTGVuZ3RoPj1kfHxhPyh0aGlzLmkmJnRoaXMuaS5ub3RpZnlCeXRlc0NvbnN1bWVkKGYuYnl0ZUxlbmd0aCksb2IodGhpcywiU2VnbWVudEZldGNoZWQiLGMpLGU9Y29uY2F0QXJyYXlCdWZmZXIoZSxmKSxiPWYsZj1uZXcgQXJyYXlCdWZmZXIoMCksd2IodGhpcyxiLGMpLnRoZW4oZykpOmcoKX0uYmluZCh0aGlzKSl9LmJpbmQoYSk7cmV0dXJuIGcoKX0KZnVuY3Rpb24gQmIoYSl7aWYoYS5mKXt2YXIgYj1FcnJvcigiQ2Fubm90IGNsZWFyICgiK2EuZysiKTogcHJldmlvdXMgb3BlcmF0aW9uIG5vdCBjb21wbGV0ZS4iKTthLm8+PWEuSz8oYi50eXBlPSJzdHJlYW0iLGEubz0wKTooYS5vKyssYi50eXBlPSJhYm9ydGVkIik7cmV0dXJuIFByb21pc2UucmVqZWN0KGIpfWEuZj1uZXcgamI7a2IoYS5mLGZ1bmN0aW9uKCl7dmFyIGE7YTppZigwPT10aGlzLmEuYnVmZmVyZWQubGVuZ3RoKWE9UHJvbWlzZS5yZXNvbHZlKCk7ZWxzZXt0cnl7dGhpcy5hLnJlbW92ZSgwLHRoaXMuQS5kdXJhdGlvbil9Y2F0Y2goYil7Yj1BYihiLCJjbGVhcl9idWZmZXIiLCJBbiBlcnJvciBvY2N1cmVkIHdoZW4gY2xlYXJpbmcgdGhlIGJ1ZmZlci4iKTthPVByb21pc2UucmVqZWN0KGIpO2JyZWFrIGF9dGhpcy5iPVtdO2E9dGhpcy5jPW5ldyBJfXJldHVyblthLHRoaXMuYmIuYmluZCh0aGlzKV19LmJpbmQoYSkpO2Eubz0wO3JldHVybiB6YihhKX0KZnVuY3Rpb24gQ2IoYSxiKXtpZihhLmYpe3ZhciBjPUVycm9yKCJDYW5ub3QgY2xlYXJBZnRlciAoIithLmcrIik6IHByZXZpb3VzIG9wZXJhdGlvbiBub3QgY29tcGxldGUuIik7Yy50eXBlPSJzdHJlYW0iO3JldHVybiBQcm9taXNlLnJlamVjdChjKX1hLmY9bmV3IGpiO2tiKGEuZixmdW5jdGlvbigpe3JldHVybltEYih0aGlzLGIpLHRoaXMuYmIuYmluZCh0aGlzKV19LmJpbmQoYSkpO3JldHVybiB6YihhKX1mdW5jdGlvbiBFYihhLGIpe2EuYz1uZXcgSTt2YXIgYz1iLTU7aWYoMDxjKXt0cnl7YS5hLnJlbW92ZSgwLGMpfWNhdGNoKGQpe3JldHVybiBkPUFiKGQsImNsZWFyX2J1ZmZlciIsIkFuIGVycm9yIG9jY3VyZWQgd2hlbiBjbGVhcmluZyB0aGUgYnVmZmVyLiIpLFByb21pc2UucmVqZWN0KGQpfWM9RmIoYSxjKTswPGMmJihhLmI9YS5iLnNsaWNlKGMsYS5iLmxlbmd0aCkpfWVsc2UgYS5jLnJlc29sdmUoKTtyZXR1cm4gYS5jfQpuLmFib3J0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZj90aGlzLmYuYWJvcnQoKTpQcm9taXNlLnJlc29sdmUoKX07ZnVuY3Rpb24gR2IoYSl7Zm9yKHZhciBiPWEuY3VycmVudFRpbWUsYz1iLGQ9MDtkPGEuYnVmZmVyZWQubGVuZ3RoO2QrKylpZihiPD1hLmJ1ZmZlcmVkLnN0YXJ0KGQpKXtjPWEuYnVmZmVyZWQuc3RhcnQoZCk7YnJlYWt9cmV0dXJuIGN9ZnVuY3Rpb24gSGIoYSxiKXtmb3IodmFyIGM9Yi5jdXJyZW50VGltZSxkPTA7ZDxiLmJ1ZmZlcmVkLmxlbmd0aDtkKyspaWYoYz49Yi5idWZmZXJlZC5zdGFydChkKSYmYzw9Yi5idWZmZXJlZC5lbmQoZCktYS5QKXJldHVybiExO3JldHVybiEwfQpmdW5jdGlvbiB6YihhKXthLmYuc3RhcnQoKTtyZXR1cm4gYS5mLmxiLnRoZW4oSihhLGZ1bmN0aW9uKCl7dGhpcy5mPW51bGx9KSkuY2F0Y2goSihhLGZ1bmN0aW9uKGEpe3RoaXMuZj1udWxsO2E9QWIoYSwidGFzayIsIkFuIHVua25vd24gdGFzayBlcnJvciBvY2N1cnJlZC4iKTtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYSl9KSl9CmZ1bmN0aW9uIHdiKGEsYixjLGQpe3ZhciBlO2lmKGEubCl7dmFyIGY9Yz91YihjLnVybCk6ImluaXQiO2U9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigiYXBwZW5kIikuc2V0UmVhc29uKGQpLnNldFJlc291cmNlKGYpLnNldFR5cGUodmIoYSkpLnNldExlbmd0aChiLmJ5dGVMZW5ndGgpLnN0YXJ0KCk7bnVsbCE9PWMmJihlPWUuc2V0U2VnbWVudFN0YXJ0VGltZSgxRTMqYy5zdGFydFRpbWUpLnNldFNlZ21lbnRFbmRUaW1lKDFFMypjLmVuZFRpbWUpKTthLmomJihlPWUuc2V0UGFyZW50TG9nZ2VyKGEuaikpfXRyeXthLmEuYXBwZW5kQnVmZmVyKGIpfWNhdGNoKGcpe3JldHVybiBhLmguZ2V0Qm9vbCgibnVrZV9zb3VyY2VfYnVmZmVyX29uX3F1b3RhX2V4Y2VlZGVkX2VyciIsITApJiZnIGluc3RhbmNlb2YgRE9NRXhjZXB0aW9uJiZnLmNvZGU9PT1ET01FeGNlcHRpb24uUVVPVEFfRVhDRUVERURfRVJSJiZnLm1lc3NhZ2UubWF0Y2goL14uKlNvdXJjZUJ1ZmZlci4qZnVsbC4qZnJlZVxzc3BhY2UuKiQvKSYmCihnLnR5cGU9InNvdXJjZWJ1ZmZlcl9mdWxsIiksZSYmZS5zZXRFcnJvcihnKS5sb2coKSxQcm9taXNlLnJlamVjdChnKX1hLmM9bmV3IEk7YS5tPWM7cmV0dXJuIGEuYy50aGVuKGZ1bmN0aW9uKCl7ZSYmZS5sb2coKX0sZnVuY3Rpb24oYSl7ZSYmZS5zZXRFcnJvcihhKS5sb2coKTtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYSl9KX1uLmFkPWZ1bmN0aW9uKGEpe2E9YS5lcnJvcnx8RXJyb3IoIkNhbGwgdG8gYXBwZW5kQnVmZmVyIGZhaWxlZCB0byBhcHBlbmQgdGhlIHNlZ21lbnQuIik7YT1BYihhLCJzdHJlYW0iLCJDYWxsIHRvIGFwcGVuZEJ1ZmZlciBmYWlsZWQgdG8gYXBwZW5kIHRoZSBzZWdtZW50LiIpO3RoaXMuYyYmdGhpcy5jLnJlamVjdChhKX07CmZ1bmN0aW9uIERiKGEsYil7aWYoMD09YS5hLmJ1ZmZlcmVkLmxlbmd0aClyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7dmFyIGM9RmIoYSxiKTtpZigtMT09Y3x8Yz09YS5iLmxlbmd0aC0xKXJldHVybiBQcm9taXNlLnJlc29sdmUoKTt0cnl7YS5hLnJlbW92ZShhLmJbYysxXS5zdGFydFRpbWUsYS5BLmR1cmF0aW9uKX1jYXRjaChkKXtyZXR1cm4gUHJvbWlzZS5yZWplY3QoZCl9YS5iPWEuYi5zbGljZSgwLGMrMSk7YS5jPW5ldyBJO3JldHVybiBhLmN9bi5iYj1mdW5jdGlvbigpe2lmKHRoaXMuYyl7aWYoIm9wZW4iPT10aGlzLkEucmVhZHlTdGF0ZSl7dmFyIGE9RXJyb3IoIlByZXZpb3VzIG9wZXJhdGlvbiBhYm9ydGVkLiIpO2EudHlwZT0iYWJvcnRlZCI7dGhpcy5jLnJlamVjdChhKTt0aGlzLmEuYWJvcnQoKTt0aGlzLlImJih0aGlzLkY9ITApO3RoaXMuYz1uZXcgSX1yZXR1cm4gdGhpcy5jfXJldHVybiBQcm9taXNlLnJlc29sdmUoKX07Cm4ubmQ9ZnVuY3Rpb24oKXt0aGlzLmMmJih0aGlzLm0mJihvYih0aGlzLCJTZWdtZW50QXBwZW5kZWQiLHRoaXMubSksdGhpcy5tPW51bGwpLHRoaXMuYy5yZXNvbHZlKCksdGhpcy5jPW51bGwpfTtuLkRkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaX07bmIucHJvdG90eXBlLmdldFN0cmVhbVByb2dyZXNzVHJhY2tlcj1uYi5wcm90b3R5cGUuRGQ7ZnVuY3Rpb24gdmIoYSl7cmV0dXJuInYiPT09YS5nLmNoYXJBdCgwKT8idmlkZW8iOiJhIj09PWEuZy5jaGFyQXQoMCk/ImF1ZGlvIjpudWxsfWZ1bmN0aW9uIEFiKGEsYixjKXthfHwoYT1FcnJvcihjKSk7YS50eXBlfHwoYS50eXBlPWIpO2EubWVzc2FnZXx8KGEubWVzc2FnZT1jKTtyZXR1cm4gYX0KZnVuY3Rpb24gRmIoYSxiKXtpZihhLmguZ2V0Qm9vbCgic2JtX3VzZV9zZWdtZW50X2luZGV4X3RvX2ZpbmRfdGltZXN0YW1wcyIsITEpJiZhLkQpe3ZhciBjPWEuRC5maW5kKGIpO2lmKGMpcmV0dXJuIHliKGEuYixjLnN0YXJ0VGltZSl9ZWxzZSByZXR1cm4geWIoYS5iLGIpO3JldHVybi0xfTtmdW5jdGlvbiBJYihhKXtyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLGEpfXEoInNoYWthLnV0aWwuVWludDhBcnJheVV0aWxzLnRvU3RyaW5nIixJYik7ZnVuY3Rpb24gSmIoYSl7Zm9yKHZhciBiPW5ldyBVaW50OEFycmF5KGEubGVuZ3RoKSxjPTA7YzxhLmxlbmd0aDsrK2MpYltjXT1hLmNoYXJDb2RlQXQoYyk7cmV0dXJuIGJ9cSgic2hha2EudXRpbC5VaW50OEFycmF5VXRpbHMuZnJvbVN0cmluZyIsSmIpO3EoInNoYWthLnV0aWwuVWludDhBcnJheVV0aWxzLnRvQmFzZTY0IixmdW5jdGlvbihhLGIpe3ZhciBjPXZvaWQgMD09Yj8hMDpiLGQ9d2luZG93LmJ0b2EoSWIoYSkpLnJlcGxhY2UoL1wrL2csIi0iKS5yZXBsYWNlKC9cLy9nLCJfIik7cmV0dXJuIGM/ZDpkLnJlcGxhY2UoLz0qJC8sIiIpfSk7ZnVuY3Rpb24gS2IoYSl7cmV0dXJuIEpiKHdpbmRvdy5hdG9iKGEucmVwbGFjZSgvLS9nLCIrIikucmVwbGFjZSgvXy9nLCIvIikpKX0KcSgic2hha2EudXRpbC5VaW50OEFycmF5VXRpbHMuZnJvbUJhc2U2NCIsS2IpO3EoInNoYWthLnV0aWwuVWludDhBcnJheVV0aWxzLmZyb21IZXgiLGZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1uZXcgVWludDhBcnJheShhLmxlbmd0aC8yKSxjPTA7YzxhLmxlbmd0aDtjKz0yKWJbYy8yXT13aW5kb3cucGFyc2VJbnQoYS5zdWJzdHIoYywyKSwxNik7cmV0dXJuIGJ9KTtmdW5jdGlvbiBMYihhKXtmb3IodmFyIGI9IiIsYz0wO2M8YS5sZW5ndGg7KytjKXt2YXIgZD1hW2NdLnRvU3RyaW5nKDE2KTsxPT1kLmxlbmd0aCYmKGQ9IjAiK2QpO2IrPWR9cmV0dXJuIGJ9cSgic2hha2EudXRpbC5VaW50OEFycmF5VXRpbHMudG9IZXgiLExiKTtmdW5jdGlvbiBNYShhLGIpe2lmKCFhJiYhYilyZXR1cm4hMDtpZighYXx8IWJ8fGEubGVuZ3RoIT1iLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIGM9MDtjPGEubGVuZ3RoOysrYylpZihhW2NdIT1iW2NdKXJldHVybiExO3JldHVybiEwfTtmdW5jdGlvbiBNYigpe3RoaXMuaT10aGlzLmE9IiI7dGhpcy53aXRoQ3JlZGVudGlhbHM9ITE7dGhpcy5vPXRoaXMuZj1udWxsO3RoaXMuaj10aGlzLmg9ITE7dGhpcy5tPXRoaXMuZz0iIjt0aGlzLmM9bnVsbDt0aGlzLmI9W119ZnVuY3Rpb24gTmIoYSxiKXt2YXIgYz1uZXcgTWI7Yy5hPWEuYTtjLmk9YS5pO2Mud2l0aENyZWRlbnRpYWxzPWEud2l0aENyZWRlbnRpYWxzO2MuZj1hLmY7Yy5vPWEubztjLmg9YS5oO2Muaj1hLmo7Yy5nPWEuZztjLm09YS5tO2MuYz1hLmM/bmV3IFVpbnQ4QXJyYXkoYS5jLmJ1ZmZlcik6bnVsbDtPYihjLGEuYik7T2IoYyxiLmIpO3JldHVybiBjfWZ1bmN0aW9uIE9iKGEsYil7dmFyIGM9YS5iLmNvbmNhdChiLm1hcChmdW5jdGlvbihhKXtyZXR1cm57aW5pdERhdGE6bmV3IFVpbnQ4QXJyYXkoYS5pbml0RGF0YS5idWZmZXIpLGluaXREYXRhVHlwZTphLmluaXREYXRhVHlwZX19KSk7YS5iPXdhKGMpfQpmdW5jdGlvbiB4YShhLGIpe3JldHVybiBhLmluaXREYXRhVHlwZT09Yi5pbml0RGF0YVR5cGUmJk1hKGEuaW5pdERhdGEsYi5pbml0RGF0YSl9O2Z1bmN0aW9uIFBiKGEsYixjLGQpe3RoaXMud2l0aENyZWRlbnRpYWxzPWM7dGhpcy5hPVtdO2QmJnRoaXMuYS5wdXNoKGQpfXEoInNoYWthLnBsYXllci5Ecm1TY2hlbWVJbmZvIixQYik7UGIuRGlzdGluY3RpdmVJZGVudGlmaWVyPXtPUFRJT05BTDowLFJFUVVJUkVEOjF9O1BiLlBlcnNpc3RlbnRTdGF0ZT17T1BUSU9OQUw6MCxSRVFVSVJFRDoxfTtQYi5jcmVhdGVVbmVuY3J5cHRlZD1mdW5jdGlvbigpe3JldHVybiBuZXcgUGIoMCwwLCExLG51bGwpfTtmdW5jdGlvbiBRYihhKXt0aGlzLnN5c3RlbUlkcz1bXTt0aGlzLmNlbmNLZXlJZHM9W107dGhpcy5hPVtdO2E9bmV3IEJhKG5ldyBEYXRhVmlldyhhLmJ1ZmZlcikpO3RyeXtmb3IoO0RhKGEpOyl7dmFyIGI9YS5hLGM9dihhKSxkPXYoYSk7MT09Yz9jPUZhKGEpOjA9PWMmJihjPWEuYi5ieXRlTGVuZ3RoLWIpO2lmKDE4ODY2MTQzNzYhPWQpSGEoYSxjLShhLmEtYikpO2Vsc2V7dmFyIGU9RWEoYSk7aWYoMTxlKUhhKGEsYy0oYS5hLWIpKTtlbHNle0hhKGEsMyk7dmFyIGY9TGIoR2EoYSkpLGc9W107aWYoMDxlKWZvcih2YXIgaD12KGEpLGs9MDtrPGg7KytrKXt2YXIgbD1MYihHYShhKSk7Zy5wdXNoKGwpfXZhciBtPXYoYSk7SGEoYSxtKTt0aGlzLmNlbmNLZXlJZHMucHVzaC5hcHBseSh0aGlzLmNlbmNLZXlJZHMsZyk7dGhpcy5zeXN0ZW1JZHMucHVzaChmKTt0aGlzLmEucHVzaCh7c3RhcnQ6YixlbmQ6YS5hLTF9KTthLmEhPWIrYyYmSGEoYSxjLShhLmEtYikpfX19fWNhdGNoKHApe319Cjt2YXIgUmI9L14oPzooW146Lz8jLl0rKTopPyg/OlwvXC8oPzooW14vPyNdKilAKT8oW14vIz9dKj8pKD86OihbMC05XSspKT8oPz1bLyM/XXwkKSk/KFtePyNdKyk/KD86XD8oW14jXSopKT8oPzojKC4qKSk/JC87ZnVuY3Rpb24gTChhKXt2YXIgYjthIGluc3RhbmNlb2YgTD8oU2IodGhpcyxhLnphKSx0aGlzLlVhPWEuVWEsdGhpcy5oYT1hLmhhLFRiKHRoaXMsYS5YYSksdGhpcy51YT1hLnVhLFViKHRoaXMsYS5hLmNsb25lKCkpLHRoaXMuTWE9YS5NYSk6YSYmKGI9U3RyaW5nKGEpLm1hdGNoKFJiKSk/KFNiKHRoaXMsYlsxXXx8IiIsITApLHRoaXMuVWE9VmIoYlsyXXx8IiIpLHRoaXMuaGE9VmIoYlszXXx8IiIsITApLFRiKHRoaXMsYls0XSksdGhpcy51YT1WYihiWzVdfHwiIiwhMCksVWIodGhpcyxiWzZdfHwiIiwhMCksdGhpcy5NYT1WYihiWzddfHwiIikpOnRoaXMuYT1uZXcgV2IobnVsbCl9bj1MLnByb3RvdHlwZTtuLnphPSIiO24uVWE9IiI7bi5oYT0iIjtuLlhhPW51bGw7bi51YT0iIjtuLk1hPSIiOwpuLnRvU3RyaW5nPWZ1bmN0aW9uKCl7dmFyIGE9W10sYj10aGlzLnphO2ImJmEucHVzaChYYihiLFliLCEwKSwiOiIpO2lmKGI9dGhpcy5oYSl7YS5wdXNoKCIvLyIpO3ZhciBjPXRoaXMuVWE7YyYmYS5wdXNoKFhiKGMsWWIsITApLCJAIik7YS5wdXNoKGVuY29kZVVSSUNvbXBvbmVudChiKS5yZXBsYWNlKC8lMjUoWzAtOWEtZkEtRl17Mn0pL2csIiUkMSIpKTtiPXRoaXMuWGE7bnVsbCE9YiYmYS5wdXNoKCI6IixTdHJpbmcoYikpfWlmKGI9dGhpcy51YSl0aGlzLmhhJiYiLyIhPWIuY2hhckF0KDApJiZhLnB1c2goIi8iKSxhLnB1c2goWGIoYiwiLyI9PWIuY2hhckF0KDApP1piOiRiLCEwKSk7KGI9dGhpcy5hLnRvU3RyaW5nKCkpJiZhLnB1c2goIj8iLGIpOyhiPXRoaXMuTWEpJiZhLnB1c2goIiMiLFhiKGIsYWMpKTtyZXR1cm4gYS5qb2luKCIiKX07Cm4ucmVzb2x2ZT1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmNsb25lKCk7ImRhdGEiPT09Yi56YSYmKGI9bmV3IEwpO3ZhciBjPSEhYS56YTtjP1NiKGIsYS56YSk6Yz0hIWEuVWE7Yz9iLlVhPWEuVWE6Yz0hIWEuaGE7Yz9iLmhhPWEuaGE6Yz1udWxsIT1hLlhhO3ZhciBkPWEudWE7aWYoYylUYihiLGEuWGEpO2Vsc2UgaWYoYz0hIWEudWEpe2lmKCIvIiE9ZC5jaGFyQXQoMCkpaWYodGhpcy5oYSYmIXRoaXMudWEpZD0iLyIrZDtlbHNle3ZhciBlPWIudWEubGFzdEluZGV4T2YoIi8iKTstMSE9ZSYmKGQ9Yi51YS5zdWJzdHIoMCxlKzEpK2QpfWlmKCIuLiI9PWR8fCIuIj09ZClkPSIiO2Vsc2UgaWYoLTEhPWQuaW5kZXhPZigiLi8iKXx8LTEhPWQuaW5kZXhPZigiLy4iKSl7Zm9yKHZhciBlPTA9PWQubGFzdEluZGV4T2YoIi8iLDApLGQ9ZC5zcGxpdCgiLyIpLGY9W10sZz0wO2c8ZC5sZW5ndGg7KXt2YXIgaD1kW2crK107Ii4iPT1oP2UmJmc9PWQubGVuZ3RoJiZmLnB1c2goIiIpOiIuLiI9PQpoPygoMTxmLmxlbmd0aHx8MT09Zi5sZW5ndGgmJiIiIT1mWzBdKSYmZi5wb3AoKSxlJiZnPT1kLmxlbmd0aCYmZi5wdXNoKCIiKSk6KGYucHVzaChoKSxlPSEwKX1kPWYuam9pbigiLyIpfX1jP2IudWE9ZDpjPSIiIT09YS5hLnRvU3RyaW5nKCk7Yz9VYihiLGEuYS5jbG9uZSgpKTpjPSEhYS5NYTtjJiYoYi5NYT1hLk1hKTtyZXR1cm4gYn07bi5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgTCh0aGlzKX07ZnVuY3Rpb24gU2IoYSxiLGMpe2EuemE9Yz9WYihiLCEwKTpiO2EuemEmJihhLnphPWEuemEucmVwbGFjZSgvOiQvLCIiKSl9ZnVuY3Rpb24gVGIoYSxiKXtpZihiKXtiPU51bWJlcihiKTtpZihpc05hTihiKXx8MD5iKXRocm93IEVycm9yKCJCYWQgcG9ydCBudW1iZXIgIitiKTthLlhhPWJ9ZWxzZSBhLlhhPW51bGx9ZnVuY3Rpb24gVWIoYSxiLGMpe2IgaW5zdGFuY2VvZiBXYj9hLmE9YjooY3x8KGI9WGIoYixiYykpLGEuYT1uZXcgV2IoYikpfQpmdW5jdGlvbiBWYihhLGIpe3JldHVybiBhP2I/ZGVjb2RlVVJJKGEpOmRlY29kZVVSSUNvbXBvbmVudChhKToiIn1mdW5jdGlvbiBYYihhLGIsYyl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBhPyhhPWVuY29kZVVSSShhKS5yZXBsYWNlKGIsY2MpLGMmJihhPWEucmVwbGFjZSgvJTI1KFswLTlhLWZBLUZdezJ9KS9nLCIlJDEiKSksYSk6bnVsbH1mdW5jdGlvbiBjYyhhKXthPWEuY2hhckNvZGVBdCgwKTtyZXR1cm4iJSIrKGE+PjQmMTUpLnRvU3RyaW5nKDE2KSsoYSYxNSkudG9TdHJpbmcoMTYpfXZhciBZYj0vWyNcL1w/QF0vZywkYj0vW1wjXD86XS9nLFpiPS9bXCNcP10vZyxiYz0vW1wjXD9AXS9nLGFjPS8jL2c7ZnVuY3Rpb24gV2IoYSl7dGhpcy5iPWF8fG51bGx9V2IucHJvdG90eXBlLmE9bnVsbDtXYi5wcm90b3R5cGUuYz1udWxsOwpmdW5jdGlvbiBkYyhhLGIsYyl7aWYoIWEuYSYmKGEuYT17fSxhLmM9MCxhLmIpKWZvcih2YXIgZD1hLmIuc3BsaXQoIiYiKSxlPTA7ZTxkLmxlbmd0aDtlKyspe3ZhciBmPWRbZV0uaW5kZXhPZigiPSIpLGc9bnVsbCxoPW51bGw7MDw9Zj8oZz1kW2VdLnN1YnN0cmluZygwLGYpLGg9ZFtlXS5zdWJzdHJpbmcoZisxKSk6Zz1kW2VdO2c9ZGVjb2RlVVJJQ29tcG9uZW50KGcucmVwbGFjZSgvXCsvZywiICIpKTtoPWh8fCIiO2RjKGEsZyxkZWNvZGVVUklDb21wb25lbnQoaC5yZXBsYWNlKC9cKy9nLCIgIikpKX1hLmI9bnVsbDsoZD1hLmEuaGFzT3duUHJvcGVydHkoYikmJmEuYVtiXSl8fChhLmFbYl09ZD1bXSk7ZC5wdXNoKGMpO2EuYysrfQpXYi5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtpZih0aGlzLmIpcmV0dXJuIHRoaXMuYjtpZighdGhpcy5hKXJldHVybiIiO3ZhciBhPVtdLGI7Zm9yKGIgaW4gdGhpcy5hKWZvcih2YXIgYz1lbmNvZGVVUklDb21wb25lbnQoYiksZD10aGlzLmFbYl0sZT0wO2U8ZC5sZW5ndGg7ZSsrKXt2YXIgZj1jOyIiIT09ZFtlXSYmKGYrPSI9IitlbmNvZGVVUklDb21wb25lbnQoZFtlXSkpO2EucHVzaChmKX1yZXR1cm4gdGhpcy5iPWEuam9pbigiJiIpfTtXYi5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgV2I7YS5iPXRoaXMuYjtpZih0aGlzLmEpe3ZhciBiPXt9LGM7Zm9yKGMgaW4gdGhpcy5hKWJbY109dGhpcy5hW2NdLmNvbmNhdCgpO2EuYT1iO2EuYz10aGlzLmN9cmV0dXJuIGF9O2Z1bmN0aW9uIGVjKGEsYixjKXt2YXIgZD1hLmluZGV4T2YoIjw/eG1sIik7MDw9ZCYmKGE9YS5zdWJzdHIoZCkpO2E9KG5ldyBET01QYXJzZXIpLnBhcnNlRnJvbVN0cmluZyhhLCJ0ZXh0L3htbCIpO2lmKCFhKXJldHVybiBudWxsOyJzdHJpbmciPT09dHlwZW9mIGImJihiPVtuZXcgTChiKV0pO2I9Ynx8W25ldyBMKCIiKV07Yz1jfHxbbmV3IEwoIiIpXTtyZXR1cm4gTSh7QWM6YixiYXNlVXJsOmN9LGEsZmMpfXEoInNoYWthLmRhc2gubXBkLnBhcnNlTXBkIixlYyk7CmZ1bmN0aW9uIGZjKCl7dGhpcy5pZD10aGlzLnVybD1udWxsO3RoaXMudHlwZT0ic3RhdGljIjt0aGlzLkZCSXNMaXZlVGVtcGxhdGVkPXRoaXMuRkJXYXNMaXZlPXRoaXMubWFuaWZlc3RJc0xpdmVTdHJlYW1pbmc9ITE7dGhpcy5GQk1hbmlmZXN0SWRlbnRpZmllcj0iIjt0aGlzLkZCTVM9ITE7dGhpcy51PXRoaXMuYmFzZVVybD10aGlzLkFjPW51bGw7dGhpcy5qPXRoaXMuaT10aGlzLmg9MDt0aGlzLmI9bnVsbDt0aGlzLm09NTt0aGlzLmY9dGhpcy5jPXRoaXMuZz1udWxsO3RoaXMubz0xO3RoaXMubGFzdFZpZGVvRnJhbWVUcz10aGlzLmN1cnJlbnRTZXJ2ZXJUaW1lTXM9MDt0aGlzLmE9W119ZnVuY3Rpb24gZ2MoKXt0aGlzLmY9dGhpcy5jPXRoaXMuYj10aGlzLmJhc2VVcmw9dGhpcy5kdXJhdGlvbj10aGlzLnN0YXJ0PXRoaXMuaWQ9bnVsbDt0aGlzLmE9W119CmZ1bmN0aW9uIGhjKCl7dGhpcy5jPXRoaXMuY29kZWNzPXRoaXMubWltZVR5cGU9dGhpcy5oZWlnaHQ9dGhpcy53aWR0aD10aGlzLmNvbnRlbnRUeXBlPXRoaXMubGFuZz10aGlzLmdyb3VwPXRoaXMuaWQ9bnVsbDt0aGlzLmY9ITE7dGhpcy5pPXRoaXMuaD10aGlzLmc9dGhpcy5iYXNlVXJsPW51bGw7dGhpcy5qPVtdO3RoaXMuYT1bXTt0aGlzLmI9bnVsbH1mdW5jdGlvbiBpYygpe3RoaXMudmFsdWU9bnVsbH1mdW5jdGlvbiBqYygpe3RoaXMubGFuZz10aGlzLmE9bnVsbH1mdW5jdGlvbiBrYygpe3RoaXMuY29udGVudFR5cGU9dGhpcy5sYW5nPXRoaXMuaWQ9bnVsbH1mdW5jdGlvbiBsYygpe3RoaXMuZGF0YT1udWxsfWZ1bmN0aW9uIG1jKCl7dGhpcy5kYXRhPW51bGx9CmZ1bmN0aW9uIG5jKCl7dGhpcy5hPXRoaXMuYj10aGlzLmY9dGhpcy5pPXRoaXMuYmFzZVVybD10aGlzLmo9dGhpcy5mcmFtZVJhdGU9dGhpcy51PXRoaXMubz10aGlzLm09dGhpcy5mYlF1YWxpdHlDbGFzcz10aGlzLmZiUXVhbGl0eUxhYmVsPXRoaXMuaD10aGlzLmc9dGhpcy5jb2RlY3M9dGhpcy5taW1lVHlwZT10aGlzLmhlaWdodD10aGlzLndpZHRoPXRoaXMuYmFuZHdpZHRoPXRoaXMubGFuZz10aGlzLmlkPW51bGw7dGhpcy5jPVtdfWZ1bmN0aW9uIG9jKCl7dGhpcy52YWx1ZT10aGlzLmE9bnVsbH1vYy5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgb2M7YS5hPXRoaXMuYTthLnZhbHVlPXRoaXMudmFsdWU7cmV0dXJuIGF9O29jLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMuYT1OKGIsInNjaGVtZUlkVXJpIixPLHRoaXMuYSk7dGhpcy52YWx1ZT1OKGIsInZhbHVlIixPLHRoaXMudmFsdWUpfTsKZnVuY3Rpb24gcGMoKXt0aGlzLmI9dGhpcy5hPXRoaXMuZj10aGlzLmM9bnVsbH1mdW5jdGlvbiBxYygpe3RoaXMucGFyc2VkUHNzaD10aGlzLnBzc2hCb3g9bnVsbH1mdW5jdGlvbiByYygpe3RoaXMudXJsPW51bGx9ZnVuY3Rpb24gc2MoKXt0aGlzLnVybD1udWxsfWZ1bmN0aW9uIHRjKCl7dGhpcy5iYXNlVXJsPW51bGw7dGhpcy5zPTE7dGhpcy5jPXRoaXMuYj10aGlzLmY9dGhpcy5hPXRoaXMuTD1udWxsfXRjLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyB0YzthLmJhc2VVcmw9dWModGhpcy5iYXNlVXJsKTthLnM9dGhpcy5zO2EuTD10aGlzLkw7YS5hPXZjKHRoaXMuYSk7YS5mPXZjKHRoaXMuZik7YS5iPXZjKHRoaXMuYik7YS5jPXZjKHRoaXMuYyk7cmV0dXJuIGF9O2Z1bmN0aW9uIHdjKCl7dGhpcy5hPXRoaXMudXJsPW51bGx9CndjLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyB3YzthLnVybD11Yyh0aGlzLnVybCk7YS5hPXZjKHRoaXMuYSk7cmV0dXJuIGF9O2Z1bmN0aW9uIHhjKCl7dGhpcy5hPXRoaXMudXJsPW51bGx9eGMucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IHhjO2EudXJsPXVjKHRoaXMudXJsKTthLmE9dmModGhpcy5hKTtyZXR1cm4gYX07ZnVuY3Rpb24geWMoKXt0aGlzLmJhc2VVcmw9bnVsbDt0aGlzLnM9MTt0aGlzLkg9dGhpcy5MPW51bGw7dGhpcy5jPTA7dGhpcy5iPW51bGw7dGhpcy5hPVtdO3RoaXMuQz1udWxsfXljLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyB5YzthLmJhc2VVcmw9dWModGhpcy5iYXNlVXJsKTthLnM9dGhpcy5zO2EuTD10aGlzLkw7YS5IPXRoaXMuSDthLmM9dGhpcy5jO2EuYj12Yyh0aGlzLmIpO2EuYT11Yyh0aGlzLmEpfHxbXTthLkM9dmModGhpcy5DKTtyZXR1cm4gYX07CmZ1bmN0aW9uIHpjKCl7dGhpcy5hPXRoaXMuYj1udWxsfXpjLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyB6YzthLmI9dWModGhpcy5iKTthLmE9dmModGhpcy5hKTtyZXR1cm4gYX07ZnVuY3Rpb24gQWMoKXt0aGlzLnM9MTt0aGlzLkg9dGhpcy5MPW51bGw7dGhpcy5iPTA7dGhpcy5DPXRoaXMuYz10aGlzLmE9dGhpcy5mPW51bGx9QWMucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IEFjO2Eucz10aGlzLnM7YS5MPXRoaXMuTDthLkg9dGhpcy5IO2EuYj10aGlzLmI7YS5mPXRoaXMuZjthLmE9dGhpcy5hO2EuYz10aGlzLmM7YS5DPXZjKHRoaXMuQyk7cmV0dXJuIGF9O2Z1bmN0aW9uIEJjKCl7dGhpcy5iPXRoaXMuYT1udWxsO3RoaXMuTj1bXX1CYy5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgQmM7YS5hPXRoaXMuYTthLmI9dGhpcy5iO2EuTj11Yyh0aGlzLk4pfHxbXTtyZXR1cm4gYX07CmZ1bmN0aW9uIENjKCl7dGhpcy5zdGFydFNlZ21lbnRJbmRleD10aGlzLnJlcGVhdD10aGlzLmR1cmF0aW9uPXRoaXMuc3RhcnRUaW1lPW51bGx9Q2MucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IENjO2Euc3RhcnRUaW1lPXRoaXMuc3RhcnRUaW1lO2EuZHVyYXRpb249dGhpcy5kdXJhdGlvbjthLnJlcGVhdD10aGlzLnJlcGVhdDtyZXR1cm4gYX07ZnVuY3Rpb24gRGMoYSxiKXt0aGlzLnFhPWE7dGhpcy5lbmQ9Yn1EYy5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IERjKHRoaXMucWEsdGhpcy5lbmQpfTtmYy5UQUdfTkFNRT0iTVBEIjtnYy5UQUdfTkFNRT0iUGVyaW9kIjtoYy5UQUdfTkFNRT0iQWRhcHRhdGlvblNldCI7aWMuVEFHX05BTUU9IlJvbGUiO2pjLlRBR19OQU1FPSJBY2Nlc3NpYmlsaXR5IjtrYy5UQUdfTkFNRT0iQ29udGVudENvbXBvbmVudCI7bmMuVEFHX05BTUU9IlJlcHJlc2VudGF0aW9uIjtwYy5UQUdfTkFNRT0iQ29udGVudFByb3RlY3Rpb24iOwpxYy5UQUdfTkFNRT0iY2VuYzpwc3NoIjtyYy5UQUdfTkFNRT0iQmFzZVVSTCI7b2MuVEFHX05BTUU9IkF1ZGlvQ2hhbm5lbENvbmZpZ3VyYXRpb24iO3NjLlRBR19OQU1FPSJMb2NhdGlvbiI7dGMuVEFHX05BTUU9IlNlZ21lbnRCYXNlIjt3Yy5UQUdfTkFNRT0iUmVwcmVzZW50YXRpb25JbmRleCI7bGMuVEFHX05BTUU9IkZCSW5pdGlhbGl6YXRpb25CaW5hcnkiO21jLlRBR19OQU1FPSJGQlNlZ21lbnRJbmRleEJpbmFyeSI7eGMuVEFHX05BTUU9IkluaXRpYWxpemF0aW9uIjt5Yy5UQUdfTkFNRT0iU2VnbWVudExpc3QiO3pjLlRBR19OQU1FPSJTZWdtZW50VVJMIjtBYy5UQUdfTkFNRT0iU2VnbWVudFRlbXBsYXRlIjtCYy5UQUdfTkFNRT0iU2VnbWVudFRpbWVsaW5lIjtDYy5UQUdfTkFNRT0iUyI7CmZjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMudXJsPWEuQWM7dGhpcy5pZD1OKGIsImlkIixPKTt0aGlzLnR5cGU9TihiLCJ0eXBlIixPKXx8InN0YXRpYyI7dGhpcy5tYW5pZmVzdElzTGl2ZVN0cmVhbWluZz0iZHluYW1pYyI9PT10aGlzLnR5cGU7dGhpcy5GQldhc0xpdmU9TihiLCJGQldhc0xpdmUiLEVjKXx8ITE7dGhpcy5GQklzTGl2ZVRlbXBsYXRlZD1OKGIsIkZCSXNMaXZlVGVtcGxhdGVkIixFYyl8fCExO3RoaXMuRkJNYW5pZmVzdElkZW50aWZpZXI9TihiLCJGQk1hbmlmZXN0SWRlbnRpZmllciIsTyl8fCIiO3RoaXMuRkJNUz1OKGIsIkZCTVMiLEVjKXx8ITE7VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJvdmVycmlkZV9mYl9pc19saXZlX3RlbXBsYXRlZCIsITEpJiYodGhpcy5GQklzTGl2ZVRlbXBsYXRlZD0hMSk7dGhpcy5iPU4oYiwibWVkaWFQcmVzZW50YXRpb25EdXJhdGlvbiIsRmMpO3RoaXMubT1OKGIsIm1pbkJ1ZmZlclRpbWUiLApGYyx0aGlzLm0pO3RoaXMuZz1OKGIsIm1pbmltdW1VcGRhdGVQZXJpb2QiLEZjLHRoaXMuZyk7dGhpcy5jPU4oYiwiYXZhaWxhYmlsaXR5U3RhcnRUaW1lIixHYyx0aGlzLmMpO3RoaXMuZj1OKGIsInRpbWVTaGlmdEJ1ZmZlckRlcHRoIixGYyx0aGlzLmYpO3RoaXMuY3VycmVudFNlcnZlclRpbWVNcz1OKGIsImN1cnJlbnRTZXJ2ZXJUaW1lTXMiLFApO04oYiwiZmlyc3RBdlRpbWVNcyIsUCk7dGhpcy5sYXN0VmlkZW9GcmFtZVRzPU4oYiwibGFzdFZpZGVvRnJhbWVUcyIsUCk7dGhpcy5mPW51bGw7dGhpcy5vPU4oYiwic3VnZ2VzdGVkUHJlc2VudGF0aW9uRGVsYXkiLEZjLHRoaXMubyk7dGhpcy5oPU4oYiwibG9hcFN0cmVhbVR5cGUiLEhjLHRoaXMuaCk7dGhpcy5pPU4oYiwidXNpbmdBU1JDYXB0aW9ucyIsSGMsdGhpcy5pKTt0aGlzLmo9TihiLCJpc1VzaW5nQXNyQ2FwdGlvbnNFbXBsb3llZURvZ2Zvb2RpbmciLEhjLHRoaXMuaik7dmFyIGM9YS5iYXNlVXJsLGQ9SWModGhpcywKYixyYyk7dGhpcy5iYXNlVXJsPUpjKGMsZCk7aWYoZD1NKHRoaXMsYixzYykpdGhpcy51PUtjKGMsZC51cmwpO3RoaXMuYT1JYyh0aGlzLGIsZ2MpfTtmdW5jdGlvbiBMYyhhLGIsYyxkKXtpZigwIT09YS5hLmxlbmd0aCl7dmFyIGU9bmV3IGhjO2UuY29udGVudFR5cGU9InRleHQiO2UubGFuZz1jfHwiZW4iO2UuZj0hMDtjPW5ldyBuYztjLmJhbmR3aWR0aD0wO2MubWltZVR5cGU9ZHx8InRleHQvdnR0IjtjLmJhc2VVcmw9W25ldyBMKGIpXTtlLmEucHVzaChjKTthLmFbMF0uYS5wdXNoKGUpO01jKGEuYVswXSl9fQpnYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt0aGlzLmlkPU4oYiwiaWQiLE8pO3RoaXMuc3RhcnQ9TihiLCJzdGFydCIsRmMpO3RoaXMuZHVyYXRpb249TihiLCJkdXJhdGlvbiIsRmMpO3ZhciBjPUljKHRoaXMsYixyYyk7dGhpcy5iYXNlVXJsPUpjKGEuYmFzZVVybCxjKTt0aGlzLmI9TSh0aGlzLGIsdGMpO3RoaXMuYz1NKHRoaXMsYix5Yyk7dGhpcy5mPU0odGhpcyxiLEFjKTt0aGlzLmE9SWModGhpcyxiLGhjKTtNYyh0aGlzKX07ZnVuY3Rpb24gTWMoYSl7Zm9yKHZhciBiPVtdLGM9MDtjPGEuYS5sZW5ndGg7KytjKXt2YXIgZD1hLmFbY107bnVsbCE9ZC5ncm91cCYmKGJbZC5ncm91cF09ITApfWZvcihjPTA7YzxhLmEubGVuZ3RoOysrYylpZihkPWEuYVtjXSxudWxsPT1kLmdyb3VwKXtmb3IodmFyIGU9MTsxPT1iW2VdOykrK2U7YltlXT0hMDtkLmdyb3VwPWV9fQpoYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt2YXIgYz1NKHRoaXMsYixrYyl8fHt9LGQ9TSh0aGlzLGIsaWMpO3RoaXMuaWQ9TihiLCJpZCIsTyk7dGhpcy5ncm91cD1OKGIsImdyb3VwIixQKTt0aGlzLmxhbmc9TihiLCJsYW5nIixPLGMubGFuZyk7dGhpcy5jb250ZW50VHlwZT1OKGIsImNvbnRlbnRUeXBlIixPLGMuY29udGVudFR5cGUpO3RoaXMud2lkdGg9TihiLCJ3aWR0aCIsUSk7dGhpcy5oZWlnaHQ9TihiLCJoZWlnaHQiLFEpO3RoaXMubWltZVR5cGU9TihiLCJtaW1lVHlwZSIsTyk7dGhpcy5jb2RlY3M9TihiLCJjb2RlY3MiLE8pO3RoaXMuYz1OKGIsIkZCUHJvamVjdGlvbiIsTyk7dGhpcy5mPWQmJiJtYWluIj09ZC52YWx1ZTt0aGlzLmxhbmcmJih0aGlzLmxhbmc9U2EodGhpcy5sYW5nKSk7Yz1JYyh0aGlzLGIscmMpO3RoaXMuYmFzZVVybD1KYyhhLmJhc2VVcmwsYyk7dGhpcy5qPUljKHRoaXMsYixwYyk7IXRoaXMuY29udGVudFR5cGUmJnRoaXMubWltZVR5cGUmJgoodGhpcy5jb250ZW50VHlwZT10aGlzLm1pbWVUeXBlLnNwbGl0KCIvIilbMF0pO3RoaXMuZz1hLmI/T2ModGhpcyxiLGEuYik6TSh0aGlzLGIsdGMpO3RoaXMuaD1hLmM/T2ModGhpcyxiLGEuYyk6TSh0aGlzLGIseWMpO3RoaXMuaT1hLmY/T2ModGhpcyxiLGEuZik6TSh0aGlzLGIsQWMpO3RoaXMuYT1JYyh0aGlzLGIsbmMpO3RoaXMuYj1NKHRoaXMsYixqYyk7IXRoaXMubWltZVR5cGUmJnRoaXMuYS5sZW5ndGgmJih0aGlzLm1pbWVUeXBlPXRoaXMuYVswXS5taW1lVHlwZSwhdGhpcy5jb250ZW50VHlwZSYmdGhpcy5taW1lVHlwZSYmKHRoaXMuY29udGVudFR5cGU9dGhpcy5taW1lVHlwZS5zcGxpdCgiLyIpWzBdKSl9O2ljLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMudmFsdWU9TihiLCJ2YWx1ZSIsTyl9O2pjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMuYT1OKGIsInNjaGVtZUlkVXJpIixPKTt0aGlzLmxhbmc9TihiLCJsYW5nIixPKX07CmtjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMuaWQ9TihiLCJpZCIsTyk7dGhpcy5sYW5nPU4oYiwibGFuZyIsTyk7dGhpcy5jb250ZW50VHlwZT1OKGIsImNvbnRlbnRUeXBlIixPKTt0aGlzLmxhbmcmJih0aGlzLmxhbmc9U2EodGhpcy5sYW5nKSl9OwpuYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt0aGlzLmlkPU4oYiwiaWQiLE8pO3RoaXMuYmFuZHdpZHRoPU4oYiwiYmFuZHdpZHRoIixRKTt0aGlzLndpZHRoPU4oYiwid2lkdGgiLFEsYS53aWR0aCk7dGhpcy5oZWlnaHQ9TihiLCJoZWlnaHQiLFEsYS5oZWlnaHQpO3RoaXMubWltZVR5cGU9TihiLCJtaW1lVHlwZSIsTyxhLm1pbWVUeXBlKTt0aGlzLmNvZGVjcz1OKGIsImNvZGVjcyIsTyxhLmNvZGVjcyk7dGhpcy5mYlF1YWxpdHlMYWJlbD1OKGIsIkZCUXVhbGl0eUxhYmVsIixPKTt0aGlzLmZiUXVhbGl0eUNsYXNzPU4oYiwiRkJRdWFsaXR5Q2xhc3MiLE8pO3RoaXMubT1OKGIsIkZCQWJyUG9saWN5VGFncyIsTyk7VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJtcGRfcGFyc2VfbW9zX2F0dHJpYnV0ZXMiLCExKSYmKHRoaXMubz1OKGIsIkZCUGxheWJhY2tSZXNvbHV0aW9uTW9zIixNb3NVdGlscy5wYXJzZVBsYXliYWNrTW9zKSx0aGlzLnU9TihiLAoiRkJQbGF5YmFja1Jlc29sdXRpb25Nb3NDb25maWRlbmNlTGV2ZWwiLE8pKTtWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woIm1wZF9wYXJzZV9mcmFtZV9hbmRfYXVkaW9fc2FtcGxpbmdfcmF0ZSIsITEpJiYodGhpcy5mcmFtZVJhdGU9TihiLCJmcmFtZVJhdGUiLE8pLHRoaXMuaj1OKGIsImF1ZGlvU2FtcGxpbmdSYXRlIixRKSk7dGhpcy5sYW5nPWEubGFuZzt2YXIgYz1JYyh0aGlzLGIscmMpO3RoaXMuYmFzZVVybD1KYyhhLmJhc2VVcmwsYyk7VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJhZGRfaW5saW5lX2luaXRpYWxpemF0aW9uX3Jlc291cmNlcyIsITEpJiYodGhpcy5nPU0odGhpcyxiLGxjKSx0aGlzLmg9TSh0aGlzLGIsbWMpKTt0aGlzLmM9SWModGhpcyxiLHBjKTt0aGlzLmk9TSh0aGlzLGIsb2MpO3RoaXMuZj1hLmc/T2ModGhpcyxiLGEuZyk6TSh0aGlzLGIsdGMpO3RoaXMuYj1hLmg/T2ModGhpcyxiLGEuaCk6TSh0aGlzLGIsCnljKTt0aGlzLmE9YS5pP09jKHRoaXMsYixhLmkpOk0odGhpcyxiLEFjKTt0aGlzLmM9dGhpcy5jLmNvbmNhdChhLmopfTtsYy5wcm90b3R5cGUucGFyc2U9bWMucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7aWYoYiYmYi5maXJzdENoaWxkKXt2YXIgYz1QYyhiKTtudWxsIT1jJiYodGhpcy5kYXRhPUtiKGMpLmJ1ZmZlcil9fTtwYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt0aGlzLmM9Yjt0aGlzLmY9TihiLCJzY2hlbWVJZFVyaSIsTyk7dmFyIGM9TihiLCJjZW5jOmRlZmF1bHRfS0lEIixPKTtjJiYodGhpcy5iPWMucmVwbGFjZSgvWy1dL2csIiIpKTt0aGlzLmE9TSh0aGlzLGIscWMpfTsKcWMucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dmFyIGM9UGMoYik7aWYoYyl7dGhpcy5wc3NoQm94PUtiKGMpO3RyeXt0aGlzLnBhcnNlZFBzc2g9bmV3IFFiKHRoaXMucHNzaEJveCl9Y2F0Y2goZCl7aWYoIShkIGluc3RhbmNlb2YgUmFuZ2VFcnJvcikpdGhyb3cgZDt9fX07cmMucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dmFyIGM9Yi5jaGlsZE5vZGVzLGQ9IiI7aWYoMT09Yy5sZW5ndGgpZD1QYyhiKTtlbHNlIGZvcih2YXIgZT0wO2U8Yy5sZW5ndGg7ZSsrKWNbZV0ubm9kZVR5cGU9PU5vZGUuVEVYVF9OT0RFJiYoZCs9Y1tlXS5ub2RlVmFsdWUpO3RoaXMudXJsPWR9O3NjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMudXJsPVBjKGIpfTsKdGMucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dGhpcy5iYXNlVXJsPWEuYmFzZVVybHx8dGhpcy5iYXNlVXJsO3RoaXMucz1OKGIsInRpbWVzY2FsZSIsUSx0aGlzLnMpO3RoaXMuTD1OKGIsInByZXNlbnRhdGlvblRpbWVPZmZzZXQiLFAsdGhpcy5MKTt0aGlzLmE9TihiLCJpbmRleFJhbmdlIixRYyx0aGlzLmEpO3RoaXMuZj1OKGIsIkZCRmlyc3RTZWdtZW50UmFuZ2UiLFFjLHRoaXMuZik7dGhpcy5iPU0odGhpcyxiLHdjKXx8dGhpcy5iO3RoaXMuYz1NKHRoaXMsYix4Yyl8fHRoaXMuY307d2MucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dmFyIGM9TihiLCJzb3VyY2VVUkwiLE8pO3RoaXMudXJsPUtjKGEuYmFzZVVybCxjKTt0aGlzLmE9TihiLCJyYW5nZSIsUWMsdmMoYS5hKSl9Owp4Yy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt2YXIgYz1OKGIsInNvdXJjZVVSTCIsTyk7dGhpcy51cmw9S2MoYS5iYXNlVXJsLGMpO3RoaXMuYT1OKGIsInJhbmdlIixRYyl9Owp5Yy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt0aGlzLmJhc2VVcmw9YS5iYXNlVXJsfHx0aGlzLmJhc2VVcmw7dGhpcy5zPU4oYiwidGltZXNjYWxlIixRLHRoaXMucyk7dGhpcy5MPU4oYiwicHJlc2VudGF0aW9uVGltZU9mZnNldCIsUCx0aGlzLkwpO3RoaXMuSD1OKGIsImR1cmF0aW9uIixRLHRoaXMuSCk7dmFyIGM9TihiLCJzdGFydE51bWJlciIsUSk7bnVsbCE9YyYmKHRoaXMuYz1jKTt0aGlzLmI9TSh0aGlzLGIseGMpfHx0aGlzLmI7dGhpcy5hPShjPUljKHRoaXMsYix6YykpJiYwPGMubGVuZ3RoP2M6dGhpcy5hO3RoaXMuQz1NKHRoaXMsYixCYyl8fHRoaXMuQztWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImNhbGN1bGF0ZV9xdWlja19kYXNoX3ByZXNlbnRhdGlvbl90aW1lX29mZnNldF9mcm9tX3RpbWVsaW5lIiwhMSkmJihjPVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJjYWxjdWxhdGVfcXVpY2tfZGFzaF9wcmVzZW50YXRpb25fdGltZV9vZmZzZXRfZXBzaWxvbl9tcyIsCjI1MCksdGhpcy5DJiZ0aGlzLkMuTlswXSYmKHRoaXMuTD0xRTM8dGhpcy5DLk5bMF0uc3RhcnRUaW1lP3RoaXMuQy5OWzBdLnN0YXJ0VGltZS1jOnRoaXMuTCkpfTt6Yy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt2YXIgYz1OKGIsIm1lZGlhIixPKTt0aGlzLmI9S2MoYS5iYXNlVXJsLGMpO3RoaXMuYT1OKGIsIm1lZGlhUmFuZ2UiLFFjKX07CkFjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMucz1OKGIsInRpbWVzY2FsZSIsUSx0aGlzLnMpO3RoaXMuTD1OKGIsInByZXNlbnRhdGlvblRpbWVPZmZzZXQiLFAsdGhpcy5MKTt0aGlzLkg9TihiLCJkdXJhdGlvbiIsUSx0aGlzLkgpO3ZhciBjPU4oYiwic3RhcnROdW1iZXIiLFApO251bGwhPWMmJih0aGlzLmI9Yyk7dGhpcy5mPU4oYiwibWVkaWEiLE8sdGhpcy5mKTt0aGlzLmE9TihiLCJpbmRleCIsTyx0aGlzLmEpO3RoaXMuYz1OKGIsImluaXRpYWxpemF0aW9uIixPLHRoaXMuYyk7dGhpcy5DPU0odGhpcyxiLEJjKXx8dGhpcy5DfTtCYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt0aGlzLmE9TihiLCJGQlByZWRpY3RlZE1lZGlhIixPLHRoaXMuYSk7dGhpcy5iPU4oYiwiRkJQcmVkaWN0ZWRNZWRpYUVuZE51bWJlciIsUSk7dGhpcy5OPUljKHRoaXMsYixDYyl9OwpDYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt0aGlzLnN0YXJ0VGltZT1OKGIsInQiLFApO3RoaXMuZHVyYXRpb249TihiLCJkIixQKTt0aGlzLnJlcGVhdD1OKGIsInIiLEhjKX07ZnVuY3Rpb24gSmMoYSxiKXtpZighYnx8MD09PWIubGVuZ3RoKXJldHVybiBhO2Zvcih2YXIgYz1bXSxkPTA7ZDxiLmxlbmd0aDtkKyspe3ZhciBlPWJbZF0udXJsO251bGw9PWF8fDA9PT1hLmxlbmd0aD9jLnB1c2gobmV3IEwoZSkpOihlPUtjKGEuc2xpY2UoMCwxKSxlKSxjLnB1c2goZVswXSkpfXJldHVybiBjfWZ1bmN0aW9uIEtjKGEsYil7aWYoIWIpcmV0dXJuIGE7dmFyIGM9bmV3IEwoYik7cmV0dXJuIGE/YS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVzb2x2ZShjKX0pOltjXX1mdW5jdGlvbiBPYyhhLGIsYyl7dmFyIGQ9dmMoYyk7KGI9UmMoYixjLmNvbnN0cnVjdG9yLlRBR19OQU1FKSkmJmQucGFyc2UoYSxiKTtyZXR1cm4gZH0KZnVuY3Rpb24gTShhLGIsYyl7dmFyIGQ9bnVsbDtpZihiPVJjKGIsYy5UQUdfTkFNRSkpZD1uZXcgYyxkLnBhcnNlKGEsYik7cmV0dXJuIGR9ZnVuY3Rpb24gUmMoYSxiKXtmb3IodmFyIGM9bnVsbCxkPTA7ZDxhLmNoaWxkTm9kZXMubGVuZ3RoO2QrKylpZihhLmNoaWxkTm9kZXNbZF0udGFnTmFtZT09Yil7aWYoYylyZXR1cm4gbnVsbDtjPWEuY2hpbGROb2Rlc1tkXX1yZXR1cm4gY31mdW5jdGlvbiBJYyhhLGIsYyl7Zm9yKHZhciBkPVtdLGU9MDtlPGIuY2hpbGROb2Rlcy5sZW5ndGg7ZSsrKWlmKGIuY2hpbGROb2Rlc1tlXS50YWdOYW1lPT1jLlRBR19OQU1FKXt2YXIgZj1uZXcgYztmLnBhcnNlLmNhbGwoZixhLGIuY2hpbGROb2Rlc1tlXSk7ZC5wdXNoKGYpfXJldHVybiBkfWZ1bmN0aW9uIFBjKGEpe2E9YS5maXJzdENoaWxkO3JldHVybiBhLm5vZGVUeXBlIT1Ob2RlLlRFWFRfTk9ERT9udWxsOmEubm9kZVZhbHVlfQpmdW5jdGlvbiB1YyhhKXtyZXR1cm4gYT9hLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS5jbG9uZSgpfSk6bnVsbH1mdW5jdGlvbiB2YyhhKXtyZXR1cm4gYT9hLmNsb25lKCk6bnVsbH1mdW5jdGlvbiBOKGEsYixjLGQpe2E9YS5oYXNBdHRyaWJ1dGUoYik/YyhhLmdldEF0dHJpYnV0ZShiKSk6bnVsbDtyZXR1cm4gbnVsbCE9YT9hOnZvaWQgMCE9PWQ/ZDpudWxsfWZ1bmN0aW9uIEdjKGEpe2lmKCFhKXJldHVybiBudWxsO2E9RGF0ZS5wYXJzZShhKTtyZXR1cm4gaXNOYU4oYSk/bnVsbDpNYXRoLmZsb29yKGEvMUUzKX0KZnVuY3Rpb24gRmMoYSl7aWYoIWEpcmV0dXJuIG51bGw7dmFyIGI9L15QKD86KFswLTldKilZKT8oPzooWzAtOV0qKU0pPyg/OihbMC05XSopRCk/KD86VCg/OihbMC05XSopSCk/KD86KFswLTldKilNKT8oPzooWzAtOS5dKilTKT8pPyQvLmV4ZWMoYSk7aWYoIWIpcmV0dXJuIG51bGw7YT0wO3ZhciBjPVAoYlsxXSk7YyYmKGErPTMxNTM2RTMqYyk7KGM9UChiWzJdKSkmJihhKz0yNTkyRTMqYyk7KGM9UChiWzNdKSkmJihhKz04NjQwMCpjKTsoYz1QKGJbNF0pKSYmKGErPTM2MDAqYyk7KGM9UChiWzVdKSkmJihhKz02MCpjKTtiPXdpbmRvdy5wYXJzZUZsb2F0KGJbNl0pOyhiPWlzTmFOKGIpP251bGw6YikmJihhKz1iKTtyZXR1cm4gYX0KZnVuY3Rpb24gUWMoYSl7dmFyIGI9LyhbMC05XSspLShbMC05XSspLy5leGVjKGEpO2lmKCFiKXJldHVybiBudWxsO2E9UChiWzFdKTtpZihudWxsPT1hKXJldHVybiBudWxsO2I9UChiWzJdKTtyZXR1cm4gbnVsbD09Yj9udWxsOm5ldyBEYyhhLGIpfWZ1bmN0aW9uIEhjKGEpe2E9d2luZG93LnBhcnNlSW50KGEsMTApO3JldHVybiBpc05hTihhKT9udWxsOmF9ZnVuY3Rpb24gUShhKXthPXdpbmRvdy5wYXJzZUludChhLDEwKTtyZXR1cm4gMDxhP2E6bnVsbH1mdW5jdGlvbiBQKGEpe2E9d2luZG93LnBhcnNlSW50KGEsMTApO3JldHVybiAwPD1hP2E6bnVsbH1mdW5jdGlvbiBFYyhhKXtzd2l0Y2goYS50b0xvd2VyQ2FzZSgpKXtjYXNlICJ0cnVlIjpyZXR1cm4hMDtjYXNlICJmYWxzZSI6cmV0dXJuITE7ZGVmYXVsdDpyZXR1cm4gbnVsbH19ZnVuY3Rpb24gTyhhKXtyZXR1cm4gYX07ZnVuY3Rpb24gU2MoYSxiKXt0aGlzLnVybD1hO3RoaXMuYj1ifHxuZXcgdGI7dGhpcy5qPTA7dGhpcy5nPS0xO3RoaXMuaD10aGlzLmk9MDt0aGlzLmE9bnVsbDt0aGlzLmM9bmV3IEk7dGhpcy5mPW51bGw7dGhpcy5vPXRoaXMuYi5pO3RoaXMubD10aGlzLmIubX1xKCJzaGFrYS51dGlsLkFqYXhSZXF1ZXN0IixTYyk7CmZ1bmN0aW9uIHRiKCl7dGhpcy5ib2R5PW51bGw7dGhpcy5OYT0xO3RoaXMuYz0xRTM7dGhpcy5iPTA7dGhpcy5tZXRob2Q9IkdFVCI7dGhpcy5yZXNwb25zZVR5cGU9ImFycmF5YnVmZmVyIjt0aGlzLlFhPXt9O3RoaXMuZz10aGlzLndpdGhDcmVkZW50aWFscz0hMTt0aGlzLmRhPXRoaXMuYT10aGlzLnU9bnVsbDt0aGlzLmo9ITE7dGhpcy5oPXRoaXMubT10aGlzLmk9dGhpcy5taW1lVHlwZT1udWxsO3RoaXMubz0hMTt0aGlzLnc9LyguKilcLih4eHxmbmEpXC5mYmNkblwubmV0Lzt0aGlzLmY9L2xpdmVzdHJlYW0tbG9va2FzaWRlXC4oZmFjZWJvb2t8d29ya3BsYWNlKVwuY29tJC99dmFyIFRjPSEwO2Z1bmN0aW9uIFVjKGEpe1ZjKGEpO1djKGEpO2EuYi5ib2R5PW51bGw7YS5jLmRlc3Ryb3koKTthLmM9bnVsbDthLmY9bnVsbH0KZnVuY3Rpb24gV2MoYSl7YS5hJiYoYS5hLm9ubG9hZD1udWxsLGEuYS5vbnJlYWR5c3RhdGVjaGFuZ2U9bnVsbCxhLmEub25lcnJvcj1udWxsLGEuYS5vbnRpbWVvdXQ9bnVsbCk7YS5hPW51bGx9ZnVuY3Rpb24gVmMoYSl7LTEhPT1hLmcmJihjbGVhclRpbWVvdXQoYS5nKSxhLmc9LTEpfQpTYy5wcm90b3R5cGUubT1mdW5jdGlvbigpe2lmKHRoaXMuYSlyZXR1cm4gdGhpcy5jO2lmKDA9PXRoaXMudXJsLmxhc3RJbmRleE9mKCJkYXRhOiIsMCkpe3ZhciBhPXRoaXMudXJsLnNwbGl0KCI6IilbMV0uc3BsaXQoIjsiKS5wb3AoKS5zcGxpdCgiLCIpLGI9YS5wb3AoKSxiPSJiYXNlNjQiPT1hLnBvcCgpP3dpbmRvdy5hdG9iKGIucmVwbGFjZSgvLS9nLCIrIikucmVwbGFjZSgvXy9nLCIvIikpOndpbmRvdy5kZWNvZGVVUklDb21wb25lbnQoYik7ImFycmF5YnVmZmVyIj09dGhpcy5iLnJlc3BvbnNlVHlwZSYmKGI9SmIoYikuYnVmZmVyKTthPUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkobmV3IFhNTEh0dHBSZXF1ZXN0KSk7YS5yZXNwb25zZT1iO2EucmVzcG9uc2VUZXh0PWIudG9TdHJpbmcoKTtiPXRoaXMuYztiLnJlc29sdmUoYSk7VWModGhpcyk7cmV0dXJuIGJ9aWYoMD09dGhpcy51cmwubGFzdEluZGV4T2YoImlkYjoiLDApKXJldHVybiB0aGlzLnUoKTt0aGlzLmorKzsKdGhpcy5pPXBlcmZvcm1hbmNlTm93KCk7dGhpcy5ofHwodGhpcy5oPXRoaXMuYi5jKTt0aGlzLmE9bmV3IFhNTEh0dHBSZXF1ZXN0O3ZhciBjPXRoaXMudXJsLGE9bmV3IEwoYyk7VGMmJih0aGlzLmYmJiF0aGlzLmYuc3VwcG9ydHNDYWNoaW5nKCl8fHRoaXMuYi5nKSYmZGMoYS5hLCJfIixEYXRlLm5vdygpKTtjPXRoaXMuYi53LnRlc3QoYyk7aWYobnVsbCE9dGhpcy5iLmEmJmMpe3ZhciBkPXRoaXMuYi5hLGU9YS5hO251bGwhPWQuYSYmKGQuaD1kLmEuZ2V0U2VnbWVudHNUb1B1c2goKSxkLmY9ZC5hLmdldFNlZ21lbnRTdGFydFRpbWUoKSxkLmc9ZC5hLmdldFNlZ21lbnRPZmZzZXQoKSxkLmM9ZC5hLmdldFB1c2hWaWRlb1JlcHJlc2VudGF0aW9uSUQoKSxkLmI9ZC5hLmdldFB1c2hBdWRpb1JlcHJlc2VudGF0aW9uSUQoKSxkLmo9ZC5hLmdldFVzZUxvbmdDYWNoZUZvck1hbmlmZXN0KCkpO251bGwhPWQuaCYmZGMoZSwiX25jX3BfbiIsZC5oKTtudWxsIT1kLmY/ZGMoZSwiX25jX3BfdHMiLApkLmYpOm51bGwhPWQuZyYmZGMoZSwiX25jX3BfbyIsZC5nKTtudWxsIT1kLmMmJm51bGwhPWQuYiYmKGRjKGUsIl9uY19wX3JpZCIsZC5jKSxkYyhlLCJfbmNfcF9hcmlkIixkLmIpKTtkLmkmJmRjKGUsIl9uY19wX2RiZyIsIjEiKTtkLmomJmRjKGUsIl9uY19uYyIsIjEiKX0xPT10aGlzLmIuaiYmYyYmZGMoYS5hLCJfbmNfcGxheWluZyIsMSk7dGhpcy5iLm8mJmRjKGEuYSwiX25jX3NjIiwxKTtjPWEudG9TdHJpbmcoKTthPXRoaXMuYi5mLnRlc3QoYS5oYSk7dGhpcy5hLm9wZW4odGhpcy5iLm1ldGhvZCxjLCEwKTt0aGlzLmEucmVzcG9uc2VUeXBlPXRoaXMuYi5yZXNwb25zZVR5cGU7dGhpcy5hLnRpbWVvdXQ9dGhpcy5iLmI7dGhpcy5hLndpdGhDcmVkZW50aWFscz10aGlzLmIud2l0aENyZWRlbnRpYWxzfHxhO3NldEV2ZW50UHJvcGVydHkodGhpcy5hLCJvbmxvYWQiLHRoaXMuZmQuYmluZCh0aGlzKSk7c2V0RXZlbnRQcm9wZXJ0eSh0aGlzLmEsIm9ucmVhZHlzdGF0ZWNoYW5nZSIsCnRoaXMubGQuYmluZCh0aGlzKSk7c2V0RXZlbnRQcm9wZXJ0eSh0aGlzLmEsIm9uZXJyb3IiLHRoaXMuZGQuYmluZCh0aGlzKSk7c2V0RXZlbnRQcm9wZXJ0eSh0aGlzLmEsIm9udGltZW91dCIsdGhpcy5xZC5iaW5kKHRoaXMpKTtzZXRFdmVudFByb3BlcnR5KHRoaXMuYSwib25hYm9ydCIsdGhpcy4kYy5iaW5kKHRoaXMpKTtmb3IoYiBpbiB0aGlzLmIuUWEpdGhpcy5hLnNldFJlcXVlc3RIZWFkZXIoYix0aGlzLmIuUWFbYl0pO3RoaXMuYS5zZW5kKHRoaXMuYi5ib2R5KTtyZXR1cm4gdGhpcy5jfTtTYy5wcm90b3R5cGUuc2VuZD1TYy5wcm90b3R5cGUubTsKZnVuY3Rpb24gWGMoYSxiLGMpe2I9RXJyb3IoYik7Yi50eXBlPWM7Yi5zdGF0dXM9YS5hLnN0YXR1cztiLnVybD1hLnVybDtWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImVuYWJsZV9kb3VibGVfaW5nZXN0IiwhMSkmJihiLnJlc3BvbnNlSGVhZGVycz1wYXJzZUhlYWRlcnMoYS5hLmdldEFsbFJlc3BvbnNlSGVhZGVycygpKSk7Yi5tZXRob2Q9YS5iLm1ldGhvZDtiLmJvZHk9YS5iLmJvZHk7cmV0dXJuIGJ9bj1TYy5wcm90b3R5cGU7bi5hYm9ydD1mdW5jdGlvbigpe1ZjKHRoaXMpO2lmKHRoaXMuYSYmdGhpcy5hLnJlYWR5U3RhdGUhPVhNTEh0dHBSZXF1ZXN0LkRPTkUmJih0aGlzLmEuYWJvcnQoKSwhVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJmaXhfc2hha2FfdXRpbF9hamF4X3JlcXVlc3RfYWJvcnQiLCEwKSkpe3ZhciBhPVhjKHRoaXMsIlJlcXVlc3QgYWJvcnRlZC4iLCJhYm9ydGVkIik7dGhpcy5jLnJlamVjdChhKTtVYyh0aGlzKX19OwpuLiRjPWZ1bmN0aW9uKCl7aWYoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJmaXhfc2hha2FfdXRpbF9hamF4X3JlcXVlc3RfYWJvcnQiLCEwKSl7dmFyIGE9WGModGhpcywiUmVxdWVzdCBhYm9ydGVkLiIsImFib3J0ZWQiKTt0aGlzLmMucmVqZWN0KGEpO1VjKHRoaXMpfX07Cm4uZmQ9ZnVuY3Rpb24oYSl7aWYodGhpcy5mKXt2YXIgYj1WaWRlb1BsYXllclJlc291cmNlVGltZXIuZ2V0UmVzb3VyY2VUaW1pbmdFbnRyeSh0aGlzLnVybCx0aGlzLmkscGVyZm9ybWFuY2VOb3coKSk7dGhpcy5mLnNhbXBsZShwZXJmb3JtYW5jZU5vdygpLXRoaXMuaSxhLmxvYWRlZHx8dGhpcy5hLnJlc3BvbnNlJiZ0aGlzLmEucmVzcG9uc2UuYnl0ZUxlbmd0aHx8MCx0aGlzLmIubWltZVR5cGU/InYiPT09dGhpcy5iLm1pbWVUeXBlLmNoYXJBdCgwKTohMSxiLHRoaXMubyx0aGlzLmwsVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJldmFsdWF0ZV9hYnJfb25fZmV0Y2hfZW5kIiwhMSkpfWE9WzQwM107MjAwPD10aGlzLmEuc3RhdHVzJiYyOTk+PXRoaXMuYS5zdGF0dXM/KFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgiZW5hYmxlX2RvdWJsZV9pbmdlc3QiLCExKSYmbnVsbCE9cGFyc2VIZWFkZXJzKHRoaXMuYS5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSlbIngtZmItdmlkZW8tcmVwbGljYSJdPwooYT1YYyh0aGlzLCJIVFRQIGVycm9yLiIsIm5ldCIpLHRoaXMuYy5yZWplY3QoYSkpOnRoaXMuYy5yZXNvbHZlKHRoaXMuYSksVWModGhpcykpOiFWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInJlbW92ZV9hamF4X3Jlc2VuZF9pbnRlcm5hbCIsITApJiZ0aGlzLmo8dGhpcy5iLk5hJiYtMT09PWEuaW5kZXhPZih0aGlzLmEuc3RhdHVzKT9ZYyh0aGlzKTooYT1YYyh0aGlzLCJIVFRQIGVycm9yLiIsIm5ldCIpLHRoaXMuYy5yZWplY3QoYSksVWModGhpcykpfTsKbi5sZD1mdW5jdGlvbigpe2lmKHRoaXMuYS5yZWFkeVN0YXRlPT1YTUxIdHRwUmVxdWVzdC5IRUFERVJTX1JFQ0VJVkVEJiYodGhpcy5hLllhPURhdGUubm93KCktdGhpcy5pLHRoaXMuYi5hJiZ0aGlzLmIuZGEmJnRoaXMuYi5kYS5hZGRQdXNoRGF0YUZyb21YSFIodGhpcy5hKSx0aGlzLmIuaCYmdGhpcy5iLmguaGFuZGxlWEhSKHRoaXMuYSksVmlkZW9DbGllbnRFZGdlQ29vcGVyYXRpb24udXBkYXRlRnJvbVhIUih0aGlzLmEpLHRoaXMuYi5nKSl7dmFyIGE9RGF0ZS5wYXJzZSh0aGlzLmEuZ2V0UmVzcG9uc2VIZWFkZXIoIkRhdGUiKSk7YSYmKHphPWEtRGF0ZS5ub3coKSl9fTtuLmRkPWZ1bmN0aW9uKCl7dmFyIGE9WGModGhpcywiTmV0d29yayBmYWlsdXJlLiIsIm5ldCIpO3RoaXMuYy5yZWplY3QoYSk7VWModGhpcyl9OwpuLnFkPWZ1bmN0aW9uKCl7aWYoIVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgicmVtb3ZlX2FqYXhfcmVzZW5kX2ludGVybmFsIiwhMCkmJnRoaXMuajx0aGlzLmIuTmEpWWModGhpcyk7ZWxzZXt2YXIgYT1YYyh0aGlzLCJSZXF1ZXN0IHRpbWVkIG91dC4iLCJuZXQiKTt0aGlzLmMucmVqZWN0KGEpO1VjKHRoaXMpfX07ZnVuY3Rpb24gWWMoYSl7V2MoYSk7YS5nPXNldFRpbWVvdXQoZnVuY3Rpb24oKXt0aGlzLmc9LTE7dGhpcy5tKCl9LmJpbmQoYSksYS5oKigxKy41KigyKk1hdGgucmFuZG9tKCktMSkpKTthLmgqPTJ9O2Z1bmN0aW9uIEsoYSxiLGMsZCxlLGYpe3RoaXMuYz1iO3RoaXMuc3RhcnRCeXRlPWN8fDA7dGhpcy5iYXNlVXJsPXRoaXMudG9TdHJpbmcoKTt0aGlzLmVuZEJ5dGU9bnVsbCE9ZD9kOm51bGw7dGhpcy5pc1ByZWRpY3RpdmU9ZXx8ITE7dGhpcy5mPW51bGw7dGhpcy5tPTA7dGhpcy5BPSExO3RoaXMuTmM9dGhpcy5nPW51bGw7dGhpcy5vPWE7dGhpcy5pPW51bGw7dGhpcy5qPXRoaXMudT0hMTt0aGlzLmI9dGhpcy5hPW51bGw7dGhpcy5oPWZ8fG51bGx9cSgic2hha2EudXRpbC5GYWlsb3ZlclVyaSIsSyk7Sy5wcm90b3R5cGUudz1mdW5jdGlvbihhKXt0aGlzLkE9YX07Sy5wcm90b3R5cGUuc2V0U2hvdWxkUmVhZFhGYlZpZGVvQnJvYWRjYXN0RW5kZWRIZWFkZXI9Sy5wcm90b3R5cGUudztLLnByb3RvdHlwZS5EPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubX07Sy5wcm90b3R5cGUuZ2V0RmJWaWRlb0Jyb2FkY2FzdEVuZGVkUmVzcG9uc2VIZWFkZXI9Sy5wcm90b3R5cGUuRDsKSy5wcm90b3R5cGUuRj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YXJ0Qnl0ZX07Sy5wcm90b3R5cGUuZ2V0U3RhcnRCeXRlPUsucHJvdG90eXBlLkY7Sy5wcm90b3R5cGUuQj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVuZEJ5dGV9O0sucHJvdG90eXBlLmdldEVuZEJ5dGU9Sy5wcm90b3R5cGUuQjtmdW5jdGlvbiBaYyhhLGIpe3JldHVybiBhJiYwIT09YS5sZW5ndGg/YS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVzb2x2ZShiKX0pOltiXX1uPUsucHJvdG90eXBlO24uZmV0Y2g9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxoKXtyZXR1cm4gdGhpcy5mP3RoaXMuZjp0aGlzLmY9JGModGhpcywwLGF8fG5ldyB0YixiLGMsZCxlLGYsZyxoKX07bi5zdHJlYW09ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxoLGspe3JldHVybiBhZCh0aGlzLDAsYXx8bmV3IHRiLGIsYyxkLGUsZixnLGgsayl9OwpmdW5jdGlvbiAkYyhhLGIsYyxkLGUsZixnLGgsayxsKXtyZXR1cm4gYWQoYSxiLGMsZCxlLGYsZyxoLGssbCkudGhlbihmdW5jdGlvbihhKXt2YXIgYixjPWZ1bmN0aW9uKCl7cmV0dXJuIGEucmVhZCgpLnRoZW4oZnVuY3Rpb24oYSl7dmFyIGQ9YS52YWx1ZTtpZihhLmRvbmUpcmV0dXJuIGJ8fG5ldyBBcnJheUJ1ZmZlcigwKTtkJiYoInN0cmluZyI9PT10eXBlb2YgZD9iPShifHwiIikrZDpiPWNvbmNhdEFycmF5QnVmZmVyKGJ8fG5ldyBBcnJheUJ1ZmZlcigwKSxkKSk7cmV0dXJuIGMoKX0uYmluZCh0aGlzKSl9LmJpbmQodGhpcyk7cmV0dXJuIGMoKX0pfQpuLkthPWZ1bmN0aW9uKCl7dGhpcy5nJiYodGhpcy5hPXRoaXMuZj1udWxsLHRoaXMuZy5hYm9ydCgpLHRoaXMuaT10aGlzLmc9bnVsbCk7dGhpcy5OYyYmVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJlbmFibGVfcDJwX3N1cHBvcnQiLCExKSYmKHRoaXMuRy5hYm9ydCgpLHRoaXMuRz1udWxsKTt0aGlzLmImJih0aGlzLmIuYWJvcnRSZXF1ZXN0KGJkKHRoaXMpKSxWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImZpeGluZ19zY2hlZHVsZXJfZGlzYWJsZV9sZWFrcyIsITApJiYodGhpcy5iPW51bGwpKX07CmZ1bmN0aW9uIGFkKGEsYixjLGQsZSxmLGcsaCxrLGwsbSl7YS5iPWx8fG51bGw7dmFyIHA7ZSYmKGMuYSYmKGMuYS5pPSEwKSxsPTAsYy5kYSYmKGw9Yy5kYS5nZXRQdXNoQ291bnRGb3JVcmwoYS5jW2JdLnRvU3RyaW5nKCkpKSwocD1lLmdldE9wZXJhdGlvbkxvZ2dlcigicmVxdWVzdCIpKSYmcC5zZXRSZWFzb24oa3x8bnVsbCkuc2V0UHVzaGVkKGwpLnNldFR5cGUoaHx8bnVsbCkuc2V0SW5pdGlhdG9yKCJzaGFrYSIpLnN0YXJ0KCksZiYmKHA9cC5zZXRQYXJlbnRMb2dnZXIoZikpKTt2YXIgdD1wZXJmb3JtYW5jZU5vdygpO2EuYT1udWxsO2cmJihjLmk9Zyk7ZSYmKGMubT1lKTt2YXIgdz1jZChhLGEuY1tiXSxjKTtrPW51bGw7YS5qPSExO3ZhciB6PVZpZGVvRGFzaFByZWZldGNoQ2FjaGUuZ2V0Q2FjaGVWYWx1ZSh3KTt6JiYoaz16LGEuaj0hMCxwJiYocC5zZXRDb25uZWN0aW9uUXVhbGl0eUxldmVsKFZpZGVvRGFzaFByZWZldGNoQ2FjaGUuZ2V0Q29ubmVjdGlvblF1YWxpdHlMZXZlbCh3KSksCnAuc2V0SW5pdGlhdG9yKCJwcmVmZXRjaCIpKSk7aWYoIXomJm0pcmV0dXJuIG0uZ2V0U3RyZWFtKGJkKGEpKS50aGVuKGZ1bmN0aW9uKGEpe3JldHVybiBhLmdldFJlYWRlcigpfS5iaW5kKGEpKTttPW51bGw7aWYoYS5iJiYhYS5iLmlzRGlzYWJsZWQoKSYmIWspdHJ5eyhrPW09YS5iLmdldFByb21pc2UoYmQoYSkpKT9wPW51bGw6YS5iLmRpc2FibGUoKX1jYXRjaChIKXtlJiZlLmdldEV2ZW50TG9nZ2VyKCJyZXF1ZXN0X2luZm9fbm90X2ZvdW5kIikuc2V0UmVzb3VyY2UodykubG9nKCl9IWsmJmEuaCYmYS5oLmNyZWF0ZVByb21pc2UmJihtPW5ldyBMKHcpLG09Yy5mLnRlc3QobS5oYSksaz1hLmguY3JlYXRlUHJvbWlzZSh7dXJsOncscmVzcG9uc2VUeXBlOmMucmVzcG9uc2VUeXBlLE9kOmMuYyxLZDoyLE5hOmMuTmEsd2l0aENyZWRlbnRpYWxzOmMud2l0aENyZWRlbnRpYWxzfHxtLFFhOmMuUWF9LGZ1bmN0aW9uKGEpe3RoaXMuTmM9YTt2YXIgYj1wZXJmb3JtYW5jZU5vdygpOwphLm9ubG9hZD1mdW5jdGlvbihmKXtpZihkKXt2YXIgaD1WaWRlb1BsYXllclJlc291cmNlVGltZXIuZ2V0UmVzb3VyY2VUaW1pbmdFbnRyeSh3LGIscGVyZm9ybWFuY2VOb3coKSk7ZC5zYW1wbGUocGVyZm9ybWFuY2VOb3coKS1iLGYubG9hZGVkfHxhLnJlc3BvbnNlJiZhLnJlc3BvbnNlLmJ5dGVMZW5ndGh8fDAsYy5taW1lVHlwZT8idiI9PT1jLm1pbWVUeXBlLmNoYXJBdCgwKTohMSxoLGcsZSxWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImV2YWx1YXRlX2Ficl9vbl9mZXRjaF9lbmQiLCExKSl9fX0pKTtrfHwoYS5nPW5ldyBTYyh3LGMpLGEubT0wLGQmJihhLmcuZj1kKSxrPWEuZy5tKCkpO3AmJnAuc2V0UmVzb3VyY2Uodyk7ZiYmZi5zZXRSZXNvdXJjZSh3KTt2YXIgZGE9ITEsZWE9ay50aGVuKEooYSxmdW5jdGlvbihhKXt2YXIgYz10aGlzLmg/dGhpcy5oLm9uUmVxdWVzdFNlbmQ6bnVsbDshY3x8InZpZGVvIiE9aCYmImF1ZGlvIiE9aCYmIm1hbmlmZXN0IiE9Cmh8fGMoITAsaCxhLnJlc3BvbnNlLmJ5dGVMZW5ndGgpOyF0aGlzLmJ8fHRoaXMuYi5pc0Rpc2FibGVkKCl8fHRoaXMuYT90aGlzLmF8fCh0aGlzLmE9VmlkZW9QbGF5ZXJSZXNvdXJjZVRpbWVyLmdldFJlc291cmNlVGltaW5nRW50cnkodyx0aGlzLmo/MDp0LHBlcmZvcm1hbmNlTm93KCkpKTp0aGlzLmE9dGhpcy5iLmdldFJlc291cmNlVGltaW5nRW50cnkodyk7VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJzYW1wbGVfcHJlZmV0Y2hfYmFuZHdpZHRoIiwhMSkmJnomJnRoaXMuYSYmMDx0aGlzLmEudGltZVRvTGFzdEJ5dGUmJmQmJmQuc2FtcGxlKHRoaXMuYS50aW1lVG9MYXN0Qnl0ZSxhLnJlc3BvbnNlLmJ5dGVMZW5ndGgsInYiPT09aC5jaGFyQXQoMCksdGhpcy5hLGcsZSwhMCk7aWYodGhpcy5BKXRyeXt0aGlzLm09cGFyc2VJbnQoYS5nZXRSZXNwb25zZUhlYWRlcigieC1mYi12aWRlby1icm9hZGNhc3QtZW5kZWQiKSwxMCl9Y2F0Y2goZil7fXRoaXMuYj0KdGhpcy5pPXRoaXMuZz10aGlzLmY9bnVsbDthLmE/KHRoaXMuaT1uZXcgTChhLmEpLHRoaXMudT0hMCk6dGhpcy5pPXRoaXMuY1tiXTthLnJlc3BvbnNlLllhPWEuWWE7cCYmKHA9cC5zZXRMZW5ndGgoYS5yZXNwb25zZS5ieXRlTGVuZ3RofHxhLnJlc3BvbnNlLmxlbmd0aCkuc2V0V2FzUHJlZmV0Y2hDYWNoZUhpdCh0aGlzLmopLG51bGwhPXRoaXMuYSYmKHA9cC5zZXRUaW1lVG9MYXN0Qnl0ZShNYXRoLnJvdW5kKHRoaXMuYS50aW1lVG9MYXN0Qnl0ZSkpLnNldFRpbWVUb0ZpcnN0Qnl0ZShNYXRoLnJvdW5kKHRoaXMuYS50aW1lVG9GaXJzdEJ5dGUpKS5zZXRUaW1lVG9SZXF1ZXN0U3RhcnQoTWF0aC5yb3VuZCh0aGlzLmEudGltZVRvUmVxdWVzdFN0YXJ0KSksMkUzPD10aGlzLmEudGltZVRvRmlyc3RCeXRlJiYtMTx3LmluZGV4T2YoImFrYW1haWhkIikmJmxvZ0xvbmdBa2FtYWlSZXF1ZXN0KGEuZ2V0UmVzcG9uc2VIZWFkZXIoIkRlYnVnLUluZm8iKSsiLCBUVEZCLT4gIit0aGlzLmEudGltZVRvRmlyc3RCeXRlKwoiLCBUVFJTLT4gIit0aGlzLmEudGltZVRvUmVxdWVzdFN0YXJ0KSkscC5sb2coKSk7cmV0dXJuIFByb21pc2UucmVzb2x2ZSh7dmFsdWU6YS5yZXNwb25zZSxkb25lOiExfSl9KSksZWE9ZWEuY2F0Y2goSihhLGZ1bmN0aW9uKGEpe3ZhciBlPXRoaXMuaD90aGlzLmgub25SZXF1ZXN0U2VuZDpudWxsO2UmJmUoITEsaCwwKTtpZih0aGlzLmYmJmIrMTx0aGlzLmMubGVuZ3RoKXJldHVybiB0aGlzLmY9JGModGhpcyxiKzEsYyxkKTt0aGlzLmI9dGhpcy5hPXRoaXMuZj10aGlzLmc9bnVsbDtwJiZwLnNldEVycm9yKGEpLmxvZygpO3JldHVybiBQcm9taXNlLnJlamVjdChhKX0pKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtjYW5jZWw6ZnVuY3Rpb24oKXt9LHJlYWQ6ZnVuY3Rpb24oKXtyZXR1cm4gZGE/UHJvbWlzZS5yZXNvbHZlKHt2YWx1ZTpudWxsLGRvbmU6ITB9KTplYS50aGVuKGZ1bmN0aW9uKGEpe2RhPSEwO3JldHVybiBhfSl9LmJpbmQoYSl9KX0KZnVuY3Rpb24gYmQoYSl7cmV0dXJue2Jhc2VVcmw6YS50b1N0cmluZygpLGlzUHJlZGljdGl2ZTphLmlzUHJlZGljdGl2ZSxzdGFydEJ5dGU6YS5zdGFydEJ5dGUsZW5kQnl0ZTphLmVuZEJ5dGV9fW4uY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEsodGhpcy5vLHRoaXMuYy5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuY2xvbmUoKX0pLHRoaXMuc3RhcnRCeXRlLHRoaXMuZW5kQnl0ZSx0aGlzLmlzUHJlZGljdGl2ZSx0aGlzLmgpfTtuLmdldFJlc291cmNlVGltaW5nRW50cnk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hfTsKZnVuY3Rpb24gY2QoYSxiLGMpe3ZhciBkPWIudG9TdHJpbmcoKTtpZihhLnN0YXJ0Qnl0ZXx8YS5lbmRCeXRlKWI9Yi5oYSwhYi5lbmRzV2l0aCgiZmJjZG4ubmV0Iil8fGIuc3RhcnRzV2l0aCgiaW50ZXJuY2FjaGUiKXx8Yi5lbmRzV2l0aCgiYWsuZmJjZG4ubmV0Iik/YyYmKGMuUWEuUmFuZ2U9ImJ5dGVzPSIrKGEuc3RhcnRCeXRlKyItIisobnVsbCE9YS5lbmRCeXRlP2EuZW5kQnl0ZToiIikpKTooZCs9IiZieXRlc3RhcnQ9IithLnN0YXJ0Qnl0ZSxkKz1udWxsIT09YS5lbmRCeXRlPyImYnl0ZWVuZD0iK2EuZW5kQnl0ZToiIik7YS5vJiZjJiYoZD1hLm8oZCxjLlFhKXx8ZCk7cmV0dXJuIGR9ZnVuY3Rpb24gdWIoYSl7cmV0dXJuIGNkKGEsYS5jWzBdKX1uLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY1swXS50b1N0cmluZygpfTtmdW5jdGlvbiBkZChhLGIsYyxkKXt0aGlzLmE9bmV3IHRiO2I9bnVsbCE9Yj9iOmlhO3RoaXMuYS5yZXNwb25zZVR5cGU9InRleHQiO3RoaXMuYS5OYT0zO3RoaXMuYS5iPTFFMypiO2MmJih0aGlzLmEuYT1jKTtkJiYodGhpcy5hLmRhPWQpO3RoaXMuYS5nPSEwO3RoaXMuYS53aXRoQ3JlZGVudGlhbHM9dGhpcy5hLmYudGVzdChhKTt0aGlzLmI9YX0KZnVuY3Rpb24gZWQoYSxiKXt2YXIgYz1hLmIsZD1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImRldGVjdF9saXZlX3N0cmVhbV9lbmRlZF9mcm9tX3Jlc3BvbnNlX2hlYWRlcnMiLCExKTtjLncoZCk7cmV0dXJuIGMuZmV0Y2goYS5hLG51bGwsYixudWxsLG51bGwsIm1hbmlmZXN0IikudGhlbihmdW5jdGlvbihhKXthIGluc3RhbmNlb2YgQXJyYXlCdWZmZXImJihhPVN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCxuZXcgVWludDhBcnJheShhKSkpO3ZhciBmPWQmJiEhYy5tLGc7YiYmKGc9Yi5nZXRPcGVyYXRpb25Mb2dnZXIoInBhcnNlX21hbmlmZXN0Iikuc3RhcnQoKSk7YT1lYyhhLGMuYyxbYy5pXSk7ZyYmZy5sb2coKTthJiYiZHluYW1pYyI9PT1hLnR5cGUmJmYmJihhLnR5cGU9InN0YXRpYyIsYiYmQmFuemFpT0RTLmJ1bXBFbnRpdHlLZXkoMjk2NiwidmlkZW9zLnd3dy5zaGFrYSIsImNoYW5nZWRfbWFuaWZlc3RfdG9fZHluYW1pY19vZmZfaGVhZGVycyIpKTsKaWYoYSlyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGEpO2Y9RXJyb3IoIk1QRCBwYXJzZSBmYWlsdXJlLiIpO2YudHlwZT0iZGFzaCI7cmV0dXJuIFByb21pc2UucmVqZWN0KGYpfSl9ZnVuY3Rpb24gZmQoYSl7dGhpcy5hPW51bGw7dGhpcy5oPWE7dGhpcy5jPXRoaXMuZz10aGlzLmY9bnVsbDt0aGlzLmk9ITE7dGhpcy5qPXRoaXMuYj1udWxsfTtmdW5jdGlvbiBnZChhLGIpe3RoaXMuYT1hO3RoaXMuYj1ifHxudWxsfWdkLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5hJiYodGhpcy5hLkthKCksdGhpcy5hPW51bGwpO3RoaXMuYj1udWxsfTtnZC5wcm90b3R5cGUuY3JlYXRlPWZ1bmN0aW9uKGEsYil7dmFyIGM9bnVsbDtiJiYoYz1uZXcgdGIsYy5kYT1iKTtyZXR1cm4hdGhpcy5iJiZ0aGlzLmE/dGhpcy5hLmZldGNoKGMsbnVsbCxhLG51bGwsbnVsbCwiaW5pdCIpOlByb21pc2UucmVzb2x2ZSh0aGlzLmIpfTtnZC5wcm90b3R5cGUuYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmF9O2dkLnByb3RvdHlwZS5nZXRGYWlsb3ZlclVyaT1nZC5wcm90b3R5cGUuYztmdW5jdGlvbiBoZChhLGIpe3RoaXMuc2VnbWVudE9yaWdpbmFsRW5kVGltZT1hO3RoaXMuZ2FwRGlzdGFuY2U9Yn1mdW5jdGlvbiBpZChhLGIsYyxkLGUsZixnKXt0aGlzLnN0YXJ0VGltZT1hO3RoaXMuZW5kVGltZT1iO3RoaXMudXJsPWM7dGhpcy51bnNjYWxlZFN0YXJ0VGltZT1kO3RoaXMudW5zY2FsZWREdXJhdGlvbj1lO3RoaXMudGltZXNjYWxlZEdhcEluZm89Znx8bnVsbDt0aGlzLmlzUHJlZGljdGl2ZT1nfHwhMTt0aGlzLmRlYnVnSW5mbz10aGlzLnRpbWVzY2FsZWRHYXBJbmZvP3tlbmRUaW1lOnRoaXMudGltZXNjYWxlZEdhcEluZm8uc2VnbWVudE9yaWdpbmFsRW5kVGltZSxkZWx0YTp0aGlzLnRpbWVzY2FsZWRHYXBJbmZvLmdhcERpc3RhbmNlfTpudWxsfWZ1bmN0aW9uIGpkKGEsYixjKXtyZXR1cm4gbmV3IGlkKGIsYyxhLnVybCxhLnVuc2NhbGVkU3RhcnRUaW1lLGEudW5zY2FsZWREdXJhdGlvbixhLnRpbWVzY2FsZWRHYXBJbmZvLGEuaXNQcmVkaWN0aXZlKX0KZnVuY3Rpb24geWIoYSxiKXtpZihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInVzZV9iaW5hcnlfc2VhcmNoX3doZW5fZmluZGluZ19zZWdtZW50X3JlZmVyZW5jZXMiLCExKSlyZXR1cm4gQmluYXJ5U2VhcmNoLmZpbmRJbmRleEluQXJyYXkoYSxiLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGI+PWEuc3RhcnRUaW1lJiYobnVsbD09YS5lbmRUaW1lfHxiPGEuZW5kVGltZSk/MDphLnN0YXJ0VGltZS1ifSk7Zm9yKHZhciBjPWEubGVuZ3RoLTE7MDw9YzstLWMpe3ZhciBkPWFbY107aWYoYj49ZC5zdGFydFRpbWUmJihudWxsPT1kLmVuZFRpbWV8fGI8ZC5lbmRUaW1lKSlyZXR1cm4gY31yZXR1cm4tMX1mdW5jdGlvbiBrZChhLGIpe3JldHVybiBhLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gamQoYSxhLnN0YXJ0VGltZStiLG51bGwhPWEuZW5kVGltZT9hLmVuZFRpbWUrYjpudWxsKX0pfTtmdW5jdGlvbiBsZChhLGIsYyxkKXtmb3IodmFyIGU9Yi5hLGY9W10sZz0wO2c8ZDsrK2cpe3ZhciBoPWcrYyxrPShoLTEpKmUuSCxsPWsvZS5zLG09KGsrZS5IKS9lLnMsaD1tZChhLGIsZS5iK2gtMSxrKTtpZighaClyZXR1cm4gbnVsbDtmLnB1c2gobmV3IGlkKGwsbSxoLGssZS5IfHwwKSl9cmV0dXJuIGZ9ZnVuY3Rpb24gbWQoYSxiLGMsZCxlLGYpe2lmKCFiLmEpcmV0dXJuIG51bGw7ZT1lfHwhMTt2YXIgZz1iLmEuZixoPWIuYS5DLmE7aWYoIWcpcmV0dXJuIGIuYmFzZVVybD9uZXcgSyhhLGIuYmFzZVVybCwwLG51bGwsdm9pZCAwLGYpOm51bGw7Yz1uZChlJiZoP2g6ZyxiLmlkLGMsYi5iYW5kd2lkdGgsZCk7aWYoIWMpcmV0dXJuIG51bGw7Yj1aYyhiLmJhc2VVcmwsYyk7cmV0dXJuIG5ldyBLKGEsYiwwLG51bGwsZSxmKX0KZnVuY3Rpb24gbmQoYSxiLGMsZCxlKXt2YXIgZj17UmVwcmVzZW50YXRpb25JRDpiLE51bWJlcjpjLEJhbmR3aWR0aDpkLFRpbWU6ZX07YT1hLnJlcGxhY2UoL1wkKFJlcHJlc2VudGF0aW9uSUR8TnVtYmVyfEJhbmR3aWR0aHxUaW1lKT8oPzolMChbMC05XSspZCk/XCQvZyxmdW5jdGlvbihhLGIsYyl7aWYoIiQkIj09YSlyZXR1cm4iJCI7dmFyIGQ9ZltiXTtpZihudWxsPT1kKXJldHVybiBhOyJSZXByZXNlbnRhdGlvbklEIj09YiYmYyYmKGM9dm9pZCAwKTthPWQudG9TdHJpbmcoKTtjPXdpbmRvdy5wYXJzZUludChjLDEwKXx8MTtjPU1hdGgubWF4KDAsYy1hLmxlbmd0aCk7cmV0dXJuIEFycmF5KGMrMSkuam9pbigiMCIpK2F9KTt0cnl7cmV0dXJuIG5ldyBMKGEpfWNhdGNoKGcpe2lmKGcgaW5zdGFuY2VvZiBVUklFcnJvcilyZXR1cm4gbnVsbDt0aHJvdyBnO319CmZ1bmN0aW9uIG9kKGEsYixjLGQsZSxmKXt2YXIgZz0wLGg9YypiO2M9YS5OO3ZhciBrPWR8fDA7ZD1bXTt2YXIgbD1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigibGl2ZV9yZXdpbmRfdGVtcGxhdGVkX2xhc3RfeF9zZWdtZW50c19vbmx5IiwwKSxtPVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgidGVtcGxhdGVkX2xhc3RfeF90aW1lbGluZSIsITEpJiZlJiZudWxsIT1mLHA9ZSYmbT9WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigidGVtcGxhdGVkX2luZ2VzdF90aHJvdHRsZSIsMCk6MDtpZihsfHxtKXtmb3IoZT0wO2U8Yy5sZW5ndGg7KytlKXtpZighY1tlXS5kdXJhdGlvbilyZXR1cm4gZDt2YXIgdD1jW2VdLnN0YXJ0VGltZSx0PW51bGwhPXQ/dDpnLHc9Y1tlXS5yZXBlYXR8fDA7aWYoMD53KWlmKHc9Y1tlXS5kdXJhdGlvbixlKzE9PT1jLmxlbmd0aCl2YXIgej1jWzBdLnN0YXJ0VGltZStoLXQsdz1NYXRoLmNlaWwoei8KdyktMTtlbHNlIHo9Y1tlKzFdLnN0YXJ0VGltZSx3PU1hdGguY2VpbCgoei10KS93KS0xO2NbZV0uc3RhcnRUaW1lPXQ7Y1tlXS5yZXBlYXQ9dztnPWNbZV0uc3RhcnRUaW1lK2NbZV0uZHVyYXRpb24qKGNbZV0ucmVwZWF0KzEpfWZvcihlPWMubGVuZ3RoLTE7LTE8ZTstLWUpZm9yKHZhciBIPTA7SDw9Y1tlXS5yZXBlYXQ7KytIKWlmKHQ9Y1tlXS5zdGFydFRpbWUrY1tlXS5kdXJhdGlvbiooY1tlXS5yZXBlYXQtSCksZz10K2NbZV0uZHVyYXRpb24sYT1udWxsLGQubGVuZ3RoJiZnIT1kW2QubGVuZ3RoLTFdLnN0YXJ0JiYoej1kW2QubGVuZ3RoLTFdLnN0YXJ0LWcsYT1uZXcgaGQoZy9iLHovYiksZz1kW2QubGVuZ3RoLTFdLnN0YXJ0KSxkLnB1c2goe3N0YXJ0OnQsZW5kOmd9KSxhJiYoZFtkLmxlbmd0aC0xXS50aW1lc2NhbGVkR2FwSW5mbz1hKSxsKXtpZihkLmxlbmd0aD09PWwpcmV0dXJuIGQ9ZC5yZXZlcnNlKCl9ZWxzZSBpZihtJiZkW2QubGVuZ3RoLTFdLnN0YXJ0PD1mKXJldHVybiBkLnBvcCgpLApkPWQucmV2ZXJzZSgpLDA8cCYmKGQ9ZC5zbGljZSgwLHApKSxkO3JldHVybiBkLnJldmVyc2UoKX1mb3IoZT0wO2U8Yy5sZW5ndGg7KytlKXtpZighY1tlXS5kdXJhdGlvbilyZXR1cm4gZDt0PWNbZV0uc3RhcnRUaW1lO3Q9bnVsbCE9dD90Omc7dz1jW2VdLnJlcGVhdHx8MDswPncmJih3PWNbZV0uZHVyYXRpb24sZSsxPT09Yy5sZW5ndGg/KHo9Y1swXS5zdGFydFRpbWUraC10LHc9TWF0aC5jZWlsKHovdyktMSk6KHo9Y1tlKzFdLnN0YXJ0VGltZSx3PU1hdGguY2VpbCgoei10KS93KS0xKSk7MDxkLmxlbmd0aCYmdCE9ZyYmKHo9dC1nLGY9ZFtkLmxlbmd0aC0xXSxmLnRpbWVzY2FsZWRHYXBJbmZvPW5ldyBoZChnL2Isei9iKSxmLmVuZD10KTtmb3IoSD0wO0g8PXc7KytIKWc9dCtjW2VdLmR1cmF0aW9uLGQucHVzaCh7c3RhcnQ6dCxlbmQ6Z30pLHQ9Z31pZihhLmEmJjA8Yy5sZW5ndGgpZm9yKGI9Y1swXS5kdXJhdGlvbixmPTA7ZjxrO2YrKylkLnB1c2goe3N0YXJ0OnQrZipiLGVuZDp0KwooZisxKSpiLHVkOmEuYitmfSk7cmV0dXJuIGR9O2Z1bmN0aW9uIHBkKGEsYixjLGQsZSl7dGhpcy53PWE7dGhpcy5tPWI7dGhpcy5jPWM7dGhpcy5XPTA7dGhpcy5CPSEwO3RoaXMucz1jLnN8fDA7dGhpcy5BPSExO3RoaXMuZz1udWxsO3RoaXMudT1kO3RoaXMuaj1jLkx8fDA7dGhpcy5iPTA7dGhpcy5pPXRoaXMuaD1udWxsO2E6e2I9Yy5DO3ZhciBmPTA7YT0oYS5kdXJhdGlvbnx8MCkqdGhpcy5zO2M9Yi5OO2ZvcihkPTA7ZDxjLmxlbmd0aDsrK2Qpe2lmKCFjW2RdLmR1cmF0aW9uKXtiLk49Yy5zbGljZSgwLGQpO2JyZWFrIGF9dmFyIGc9Y1tkXS5zdGFydFRpbWUsZj1udWxsIT1nP2c6ZixnPWNbZF0ucmVwZWF0fHwwOzA+ZyYmKGc9Y1tkXS5kdXJhdGlvbixnPWQrMT09PWMubGVuZ3RoP01hdGguY2VpbCgoY1swXS5zdGFydFRpbWUrYS1mKS9nKS0xOk1hdGguY2VpbCgoY1tkKzFdLnN0YXJ0VGltZS1mKS9nKS0xKTtjW2RdLnN0YXJ0VGltZT1mO2NbZF0ucmVwZWF0PWc7Zj1jW2RdLnN0YXJ0VGltZStjW2RdLmR1cmF0aW9uKihjW2RdLnJlcGVhdCsKMSl9fXRoaXMuZj1bXTt0aGlzLm89VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoInRpbWVsaW5lX3NlZ21lbnRfaW5kZXhfbWF4X2luZGV4X2NhY2hlX2xlbmd0aCIsMCk7dGhpcy5iPVNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscy5sZW5ndGgodGhpcy5jLkMuTik7dGhpcy5EPWV8fG51bGx9cGQucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmI9dGhpcy5jPXRoaXMubT10aGlzLnc9bnVsbDt0aGlzLmc9ZnVuY3Rpb24oKXt9O3RoaXMuZj10aGlzLnU9bnVsbH07cGQucHJvdG90eXBlLmxlbmd0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmJ9O2Z1bmN0aW9uIHFkKGEsYil7Zm9yKHZhciBjPWEuZi5sZW5ndGgtMTstMTxjO2MtLSlpZihhLmZbY10uaW5kZXg9PT1iKXt2YXIgZD1hLmZbY107YS5mLnNwbGljZShjLDEpO2EuZi5wdXNoKGQpO3JldHVybiBkLnhkfXJldHVybiBudWxsfQpmdW5jdGlvbiByZChhLGIsYyl7dmFyIGQ9W107aWYoYS5vJiYxPT09Yy1iKXt2YXIgZT1xZChhLGIpO2lmKGUpcmV0dXJuW2VdfXZhciBmPS1hLmovYS5zK2EuVztTaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMuZ2V0U2VnbWVudHMoYixjLGEuYy5DLk4sZnVuY3Rpb24oYSxlLGssbCxtKXtpZihsKXt2YXIgcD1kW2QubGVuZ3RoLTFdO3AmJihwLnRpbWVzY2FsZWRHYXBJbmZvPW5ldyBoZChtL3RoaXMucyxsL3RoaXMucykscC5kZWJ1Z0luZm89e2VuZFRpbWU6cC50aW1lc2NhbGVkR2FwSW5mby5zZWdtZW50T3JpZ2luYWxFbmRUaW1lLGRlbHRhOnAudGltZXNjYWxlZEdhcEluZm8uZ2FwRGlzdGFuY2V9LGRbZC5sZW5ndGgtMV09amQocCxwLnN0YXJ0VGltZSxhL3RoaXMucytmKSl9az1tZCh0aGlzLnUsdGhpcy5tLGsrdGhpcy5jLmIsYSx2b2lkIDAsdGhpcy5EKTtpZighayl0aHJvdyBhPUVycm9yKCJGYWlsZWQgdG8gZ2VuZXJhdGUgbWVkaWEgVVJMLiIpLGEudHlwZT0iZGFzaCIsCmE7YT1uZXcgaWQoYS90aGlzLnMrZixlL3RoaXMucytmLGssYSxlLWEsbnVsbCk7ZT1iK2QubGVuZ3RoO2QucHVzaChhKTshdGhpcy5vfHwwIT09ZSYmZSE9PXRoaXMuYi0xJiYxIT09Yy1ifHxxZCh0aGlzLGUpfHwodGhpcy5mLmxlbmd0aCsxPnRoaXMubyYmdGhpcy5mLnNoaWZ0KCksdGhpcy5mLnB1c2goe2luZGV4OmUseGQ6YX0pKX0uYmluZChhKSk7cmV0dXJuIGR9CmZ1bmN0aW9uIHNkKGEsYil7dmFyIGM9Yi51bnNjYWxlZFN0YXJ0VGltZSxkPWIudW5zY2FsZWRFbmRUaW1lLGU9Yi5kZWx0YSxmPWIucHJldmlvdXNFbmRUaW1lO2lmKGUpdmFyIGc9bmV3IGhkKGYvYS5zLGUvYS5zKTtlPW1kKGEudSxhLm0sYi5zZWdtZW50UmVwbGFjZW1lbnQrYS5jLmIsYyx2b2lkIDAsYS5EKTtpZighZSl0aHJvdyBjPUVycm9yKCJGYWlsZWQgdG8gZ2VuZXJhdGUgbWVkaWEgVVJMLiIpLGMudHlwZT0iZGFzaCIsYztmPS1hLmovYS5zK2EuVztyZXR1cm4gbmV3IGlkKGMvYS5zK2YsZC9hLnMrZixlLGMsZC1jLGd8fG51bGwpfXBkLnByb3RvdHlwZS5nZXRTZWdtZW50cz1mdW5jdGlvbigpe3JldHVybiByZCh0aGlzLDAsdGhpcy5iKXx8W119OwpwZC5wcm90b3R5cGUuZmlyc3Q9ZnVuY3Rpb24oKXtpZighdGhpcy5iKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbmRleCBvdXQgb2YgcmFuZ2UuIik7aWYoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJvcHRpbWl6ZV9jb21tb25fc2VnbWVudF9nZW5lcmF0aW9ucyIsITEpKXtpZih0aGlzLmgpcmV0dXJuIHRoaXMuaDt2YXIgYT1TaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMuZmlyc3QodGhpcy5jLkMuTix0aGlzLmIpO3JldHVybiB0aGlzLmg9c2QodGhpcyxhKX1yZXR1cm4gcmQodGhpcywwLDEpWzBdfTsKcGQucHJvdG90eXBlLmxhc3Q9ZnVuY3Rpb24oKXtpZighdGhpcy5iKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbmRleCBvdXQgb2YgcmFuZ2UuIik7aWYoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJvcHRpbWl6ZV9jb21tb25fc2VnbWVudF9nZW5lcmF0aW9ucyIsITEpKXtpZih0aGlzLmkpcmV0dXJuIHRoaXMuaTt2YXIgYT1TaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMubGFzdCh0aGlzLmMuQy5OLHRoaXMuYik7cmV0dXJuIHRoaXMuaT1zZCh0aGlzLGEpfXJldHVybiByZCh0aGlzLHRoaXMuYi0xLHRoaXMuYilbMF19OwpwZC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGEpe2lmKCF0aGlzLmJ8fDA+YXx8YT49dGhpcy5iKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbmRleCBvdXQgb2YgcmFuZ2UuIik7cmV0dXJuIFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgib3B0aW1pemVfY29tbW9uX3NlZ21lbnRfZ2VuZXJhdGlvbnMiLCExKT8oYT1TaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMuZ2V0KHRoaXMuYy5DLk4sYSx0aGlzLmIpLHNkKHRoaXMsYSkpOnJkKHRoaXMsYSxhKzEpWzBdfTsKcGQucHJvdG90eXBlLmZpbmQ9ZnVuY3Rpb24oYSl7aWYoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJmaXhfY29tcG9zaXRlZF90aW1lX2luZGV4X2NhbGxzIiwhMSkpcmV0dXJuKGE9U2hha2FUaW1lbGluZVNlZ21lbnRJbmRleFV0aWxzLmZpbmQoYSx0aGlzLmMuQy5OLHRoaXMucywtdGhpcy5qL3RoaXMucyt0aGlzLlcpKT9zZCh0aGlzLGEpOm51bGw7YT10aGlzLmZpbmRJbmRleChhKTtyZXR1cm4gVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJvcHRpbWl6ZV9jb21tb25fc2VnbWVudF9nZW5lcmF0aW9ucyIsITEpPzA8PWE/dGhpcy5nZXQoYSk6bnVsbDowPD1hP3JkKHRoaXMsYSxhKzEpWzBdOm51bGx9O3BkLnByb3RvdHlwZS5maW5kSW5kZXg9ZnVuY3Rpb24oYSl7cmV0dXJuIFNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscy5maW5kSW5kZXgoYSx0aGlzLmMuQy5OLHRoaXMucywtdGhpcy5qL3RoaXMucyt0aGlzLlcpfTtuPXBkLnByb3RvdHlwZTsKbi5TYT1mdW5jdGlvbihhKXt2YXIgYj1hLmxlbmd0aCgpLGM9Yi10aGlzLmI7aWYoMCE9PWImJihiIT09dGhpcy5ifHwwIT09dGhpcy5iJiZhLmxhc3QoKS5lbmRUaW1lIT09dGhpcy5sYXN0KCkuZW5kVGltZSkmJiEoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJmaXhfaW50ZWdyYXRpb25fb25fZWFybGllcl9lbmR0aW1lIiwhMSkmJmEubGFzdCgpLmVuZFRpbWU8PXRoaXMubGFzdCgpLmVuZFRpbWUpKWlmKHRoaXMuQT0hMSxiPWEubGFzdCgpLG51bGwhPWIuZW5kVGltZSYmYi5lbmRUaW1lPHRoaXMubGFzdCgpLmVuZFRpbWUmJmIuZW5kVGltZTx0aGlzLmZpcnN0KCkuc3RhcnRUaW1lJiYodGhpcy5BPSEwKSxWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImludGVncmF0ZV9zZWdtZW50X3RpbWVsaW5lX3RpbWVfcG9pbnRzIiwhMSk/dGhpcy5jLkMuTj1TaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMuaW50ZWdyYXRlVGltZVBvaW50cyh0aGlzLmMuQy5OLAphLmMuQy5OKToodGhpcy53PWEudyx0aGlzLm09YS5tLHRoaXMuYz1hLmMsdGhpcy5qPXRoaXMuYy5MfHwwLHRoaXMucz10aGlzLmMuc3x8MCksdGhpcy5mPVtdLHRoaXMuaT10aGlzLmg9bnVsbCx0aGlzLmI9U2hha2FUaW1lbGluZVNlZ21lbnRJbmRleFV0aWxzLmxlbmd0aCh0aGlzLmMuQy5OKSx0aGlzLmZpcnN0KCksdGhpcy5sYXN0KCksVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJ0ZW1wbGF0ZWRfY2FsbF9vbl9zZWdtZW50c191cGRhdGVkX3dpdGhfZGVsdGFfc2VnbWVudHMiLCExKSl7dmFyIGQ9W10sYz10aGlzLmItYztmb3IoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJ0ZW1wbGF0ZWRfZHluYW1pY19pbmNsdWRlX3ByZXZpb3VzX2xhc3Rfc2VnbWVudF9pbl91cGRhdGVzIiwhMSkmJjA8YyYmYy0tO2M8dGhpcy5iOysrYylkLnB1c2godGhpcy5nZXQoYykpO3RoaXMuZyYmdGhpcy5nKGQpfWVsc2UgYz0hVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJub19wcm92aWRlX3NlZ21lbnRzX3RvX29uX3NlZ21lbnRzX3VwZGF0ZWRfbGlzdGVuZXJzIiwKITEpLHRoaXMuZyYmKGMmJihkPXRoaXMuZ2V0U2VnbWVudHMoKSksdGhpcy5nKGQpKX07bi5oYj1mdW5jdGlvbihhKXt2YXIgYj1hLXRoaXMuVztpZigwPT1iKXJldHVybiAwO3RoaXMuVz1hO3RoaXMuaT10aGlzLmg9bnVsbDt0aGlzLmY9W107cmV0dXJuIGJ9O24uaWI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iP3tzdGFydDp0aGlzLmZpcnN0KCkuc3RhcnRUaW1lLGVuZDp0aGlzLmxhc3QoKS5lbmRUaW1lfTp7c3RhcnQ6MCxlbmQ6MH19O24uZ2V0U2Vla1JhbmdlR2Fwcz1mdW5jdGlvbigpe3JldHVybiBTaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMuZ2V0U2Vla1JhbmdlR2Fwcyh0aGlzLmMuQy5OLHRoaXMucywtdGhpcy5qL3RoaXMucyt0aGlzLlcpfTtuLnJiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuQX07bi5HYz1mdW5jdGlvbihhKXt0aGlzLmc9YX07bi5GYz1mdW5jdGlvbigpe3RoaXMuZz1udWxsfTtuLklhPWZ1bmN0aW9uKCl7fTtmdW5jdGlvbiB0ZCgpe30KdGQucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9bnVsbDt0cnl7YTp7dmFyIGc9W10saD1uZXcgQmEoYSksaz12KGgpO2lmKDE5MzYyODY4NDAhPXYoaCkpZj1udWxsO2Vsc2V7MT09ayYmKGs9RmEoaCkpO3ZhciBsPUVhKGgpO0hhKGgsMyk7SGEoaCw0KTt2YXIgbT12KGgpO2lmKDA9PW0pZj1udWxsO2Vsc2V7dmFyIHAsdDswPT1sPyhwPXYoaCksdD12KGgpKToocD1GYShoKSx0PUZhKGgpKTtIYShoLDIpO3ZhciB3PWguYi5nZXRVaW50MTYoaC5hLGguYyk7aC5hKz0yO2E9cDtiPWIrayt0O2Zvcih0PWs9MDt0PHc7dCsrKXt2YXIgej12KGgpO3A9KHomMjE0NzQ4MzY0OCk+Pj4zMTt2YXIgbD16JjIxNDc0ODM2NDcsSD12KGgpO3YoaCk7aWYoMT09cCl7Zj1udWxsO2JyZWFrIGF9dmFyIGRhO2RhPTA9PXQmJmU/ZTpuZXcgSyhkLGMsYixiK2wtMSk7cD1hL207dmFyIGVhPShhK0gpL207MD09PXQmJihrPXApO2cucHVzaChuZXcgaWQocC1rLGVhLWssZGEsCmEsSCkpO2ErPUg7Yis9bH1nLnM9bTtmPWd9fX19Y2F0Y2goQWEpe2lmKCEoQWEgaW5zdGFuY2VvZiBSYW5nZUVycm9yKSl0aHJvdyBBYTt9cmV0dXJuIGZ9O2Z1bmN0aW9uIFIoYSl7dGhpcy5hPWE7dGhpcy5zPXRoaXMuYS5zO3RoaXMuSz10aGlzLmEuQjt0aGlzLmc9W119Ui5wcm90b3R5cGUuSj1mdW5jdGlvbigpe3JldHVybiEhdGhpcy5nW3RoaXMuZy5sZW5ndGgtMV19O1IucHJvdG90eXBlLmxhc3RQb2xsSGFkQ2hhbmdlcz1SLnByb3RvdHlwZS5KO1IucHJvdG90eXBlLkk9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmcsYj1hLmxhc3RJbmRleE9mKCEwKTtpZigxPmIpcmV0dXJuIDA7YT1hLmxhc3RJbmRleE9mKCEwLGItMSk7cmV0dXJuIDA+YT8wOmItYS0xfTtSLnByb3RvdHlwZS5nZXRGZXRjaGVzQmV0d2VlblJlY2VudENoYW5nZXM9Ui5wcm90b3R5cGUuSTtSLnByb3RvdHlwZS51PWZ1bmN0aW9uKCl7cmV0dXJuIE1hdGguZmxvb3IoKHRoaXMuZy5sZW5ndGgtMS10aGlzLmcubGFzdEluZGV4T2YoITApKS8yKX07Ui5wcm90b3R5cGUuZ2V0Q29uc2VjdXRpdmVVcGRhdGVzV2l0aG91dENoYW5nZXM9Ui5wcm90b3R5cGUudTsKUi5wcm90b3R5cGUuRz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmcubGVuZ3RoLTEtdGhpcy5nLmxhc3RJbmRleE9mKCExKX07Ui5wcm90b3R5cGUuZ2V0Q29uc2VjdXRpdmVVcGRhdGVzV2l0aENoYW5nZXM9Ui5wcm90b3R5cGUuRztSLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5hLmRlc3Ryb3koKTt0aGlzLmE9bnVsbH07Ui5wcm90b3R5cGUubGVuZ3RoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS5sZW5ndGgoKX07Ui5wcm90b3R5cGUuZ2V0U2VnbWVudHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLmdldFNlZ21lbnRzKCl9O1IucHJvdG90eXBlLmdldFNlZ21lbnRzPVIucHJvdG90eXBlLmdldFNlZ21lbnRzO1IucHJvdG90eXBlLmZpcnN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS5maXJzdCgpfTtSLnByb3RvdHlwZS5sYXN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS5sYXN0KCl9O1IucHJvdG90eXBlLmxhc3Q9Ui5wcm90b3R5cGUubGFzdDsKUi5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmEuZ2V0KGEpfTtSLnByb3RvdHlwZS5maW5kPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmEuZmluZChhKX07Ui5wcm90b3R5cGUuZmluZEluZGV4PWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmEuZmluZEluZGV4KGEpfTtSLnByb3RvdHlwZS5CPWZ1bmN0aW9uKGEpe3RoaXMuYS5TYShhLmEpO3JldHVybiEwfTtSLnByb3RvdHlwZS5UYT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5hLmhiKGEpfTtSLnByb3RvdHlwZS5BPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS5pYigpfTtSLnByb3RvdHlwZS5nZXRTZWVrUmFuZ2VHYXBzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS5nZXRTZWVrUmFuZ2VHYXBzKCl9O1IucHJvdG90eXBlLmdldFNlZWtSYW5nZUdhcHM9Ui5wcm90b3R5cGUuZ2V0U2Vla1JhbmdlR2FwcztSLnByb3RvdHlwZS5yYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmEucmIoKX07CmZ1bmN0aW9uIHVkKGEsYil7YS5hLkdjKGIpfTtmdW5jdGlvbiBTKGEsYixjLGQpe1IuY2FsbCh0aGlzLGEpO3RoaXMuaT1iO3RoaXMuRj1jO3RoaXMuaD1kO3RoaXMuZHVyYXRpb249dGhpcy5pLmJ8fHRoaXMuaS5hLnJlZHVjZShmdW5jdGlvbihhLGIpe3JldHVybiBudWxsPT1iLmR1cmF0aW9uP05hTjphK2IuZHVyYXRpb259LDApfHwwO3RoaXMuYj10aGlzLm89dGhpcy5mPW51bGw7eWQodGhpcyl9cihTLFIpO1MucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLkY9dGhpcy5pPW51bGw7Ui5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpfTtTLnByb3RvdHlwZS5maW5kPWZ1bmN0aW9uKGEpe3pkKHRoaXMseWEoKS8xRTMpO3JldHVybiBSLnByb3RvdHlwZS5maW5kLmNhbGwodGhpcyxhKX07ClMucHJvdG90eXBlLkI9ZnVuY3Rpb24oYSl7aWYoIShhIGluc3RhbmNlb2YgUykpcmV0dXJuITE7dGhpcy5hLlNhKGEuYSk7dGhpcy5kdXJhdGlvbj1NYXRoLm1heCh0aGlzLmR1cmF0aW9uLGEuZHVyYXRpb24pO251bGw9PXRoaXMuZj8odGhpcy5oPWEuaCx5ZCh0aGlzKSk6QWQodGhpcyk7cmV0dXJuITB9O2Z1bmN0aW9uIHlkKGEpe0FkKGEpO2lmKDAhPWEubGVuZ3RoKCkpe2EubGVuZ3RoKCk7dmFyIGI9bnVsbCE9YS5sYXN0KCkuZW5kVGltZT9hLmxhc3QoKS5lbmRUaW1lOmEubGFzdCgpLnN0YXJ0VGltZTtpZihhLmkuYz5hLmgpYS5mPWI7ZWxzZXt2YXIgYz1hLmgtKGEuaS5jK2EuRi5zdGFydCk7MD5jP2EuZj1iOmM8TWF0aC5tYXgoYS5sYXN0KCkuc3RhcnRUaW1lLGEubGFzdCgpLmVuZFRpbWV8fDApPyhhLmxhc3QoKSxhLmY9Yik6YS5mPWN9YS5vPWEubGFzdCgpLnN0YXJ0VGltZTthLmI9YS5maXJzdCgpLnN0YXJ0VGltZX19ClMucHJvdG90eXBlLlRhPWZ1bmN0aW9uKGEpe2E9Ui5wcm90b3R5cGUuVGEuY2FsbCh0aGlzLGEpO1ZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgibm9fY29ycmVjdF9kZWx0YV93YXJuaW5nIiwhMSl8fE1hdGgubWluLmFwcGx5KG51bGwsdGhpcy5nZXRTZWdtZW50cygpLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YS5lbmRUaW1lfSkubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLmVuZFRpbWUtYS5zdGFydFRpbWV9KSk7bnVsbCE9dGhpcy5mJiYodGhpcy5vKz1hLHRoaXMuYis9YSx0aGlzLmYrPWEpO3JldHVybiBhfTtTLnByb3RvdHlwZS5BPWZ1bmN0aW9uKCl7cmV0dXJuIEJkKHRoaXMseWEoKS8xRTMpfTsKZnVuY3Rpb24gQmQoYSxiKXt6ZChhLGIpO2lmKG51bGw9PWEuZnx8bnVsbD09YS5vfHxudWxsPT1hLmIpcmV0dXJue3N0YXJ0OjAsZW5kOjB9O3ZhciBjPU51bWJlci5QT1NJVElWRV9JTkZJTklUWTthLmR1cmF0aW9uJiYoYz1hLmR1cmF0aW9uKTt2YXIgZD1iLWEuaCxlPWEuZitkO251bGwhPWEuaS5mJiYoZT1lLWEuYi1hLmkuZiwwPGUmJihhLmIrPWUpKTthLmI9TWF0aC5taW4oYS5iLGMpO2Q9YS5vK2Q7aWYoZDxhLmIpcmV0dXJue3N0YXJ0OmEuYixlbmQ6YS5ifTtkPTA8YS5sZW5ndGgoKT9udWxsIT1hLmxhc3QoKS5lbmRUaW1lP01hdGgubWluKGQsYS5sYXN0KCkuZW5kVGltZSk6ZDphLmI7ZD1NYXRoLm1heChkLGEuYik7ZD1NYXRoLm1pbihkLGMpO3JldHVybntzdGFydDphLmIsZW5kOmR9fQpmdW5jdGlvbiB6ZChhLGIpe2lmKGEuYS5hJiYoQWQoYSksbnVsbCE9YS5pLmYpKWlmKG51bGw9PWEuZilhLmxlbmd0aCgpO2Vsc2V7Zm9yKHZhciBjPWEuZisoYi1hLmgpLGQ9MCxlPTA7ZTxhLmEuYS5sZW5ndGg7KytlKXt2YXIgZj1udWxsO2U8YS5hLmEubGVuZ3RoLTE/Zj1hLmEuYVtlKzFdLmVuZFRpbWU6KGY9YS5hLmFbZV0sZj1udWxsIT1mLmVuZFRpbWU/Zi5lbmRUaW1lKyhmLmVuZFRpbWUtZi5zdGFydFRpbWUpOm51bGwpO2lmKG51bGwhPWYmJmY8Yy1hLmkuZikrK2Q7ZWxzZSBicmVha30wPGQmJmEuYS5hLnNwbGljZSgwLGQpfX1mdW5jdGlvbiBBZChhKXtpZihhLmR1cmF0aW9uJiZhLmEuYSl7Zm9yKHZhciBiPTAsYz1hLmEuYS5sZW5ndGgtMTswPD1jOy0tYylpZihhLmEuYVtjXS5zdGFydFRpbWU+YS5kdXJhdGlvbikrK2I7ZWxzZSBicmVhazswPGImJmEuYS5hLnNwbGljZSgtYil9fTtmdW5jdGlvbiBUKGEsYixjKXt2YXIgZD1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigidGVtcGxhdGVkX3F1YXJhbnRpbmVfaWRsZV9yZWZlcmVuY2VzX3RocmVzaG9sZCIsMCk7dGhpcy5pPVtdO2lmKDA8ZCl7dmFyIGU9YTthPWUuc3BsaWNlKC1kKTt0aGlzLmk9ZX10aGlzLmE9YTt0aGlzLlc9MDt0aGlzLnM9Yjt0aGlzLmY9ITE7dGhpcy5oPWZ1bmN0aW9uKCl7fTt0aGlzLkI9Y3x8ITF9VC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuYT1udWxsfTtULnByb3RvdHlwZS5sZW5ndGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLmxlbmd0aH07VC5wcm90b3R5cGUuZ2V0U2VnbWVudHM9ZnVuY3Rpb24oKXtyZXR1cm4odGhpcy5hfHxbXSkuc2xpY2UoKX07VC5wcm90b3R5cGUuZ2V0U2VnbWVudHM9VC5wcm90b3R5cGUuZ2V0U2VnbWVudHM7ClQucHJvdG90eXBlLmZpcnN0PWZ1bmN0aW9uKCl7aWYoMD09dGhpcy5hLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiU2VnbWVudEluZGV4QmFzZTogVGhlcmUgaXMgbm8gZmlyc3QgU2VnbWVudFJlZmVyZW5jZS4iKTtyZXR1cm4gdGhpcy5hWzBdfTtULnByb3RvdHlwZS5sYXN0PWZ1bmN0aW9uKCl7aWYoMD09dGhpcy5hLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiU2VnbWVudEluZGV4QmFzZTogVGhlcmUgaXMgbm8gbGFzdCBTZWdtZW50UmVmZXJlbmNlLiIpO3JldHVybiB0aGlzLmFbdGhpcy5hLmxlbmd0aC0xXX07VC5wcm90b3R5cGUubGFzdD1ULnByb3RvdHlwZS5sYXN0O1QucHJvdG90eXBlLmdldD1mdW5jdGlvbihhKXtpZigwPmF8fGE+PXRoaXMuYS5sZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIlNlZ21lbnRJbmRleEJhc2U6IFRoZSBzcGVjaWZpZWQgaW5kZXggaXMgb3V0IG9mIHJhbmdlLiIpO3JldHVybiB0aGlzLmFbYV19OwpULnByb3RvdHlwZS5maW5kPWZ1bmN0aW9uKGEpe2E9dGhpcy5maW5kSW5kZXgoYSk7cmV0dXJuIDA8PWE/dGhpcy5hW2FdOm51bGx9O1QucHJvdG90eXBlLmZpbmRJbmRleD1mdW5jdGlvbihhKXtyZXR1cm4geWIodGhpcy5hLGEpfTsKVC5wcm90b3R5cGUuU2E9ZnVuY3Rpb24oYSl7dGhpcy5XIT1hLlcmJihhPW5ldyBUKGtkKGEuYSx0aGlzLlctYS5XKSxhLnMpKTtpZigwPT10aGlzLmxlbmd0aCgpKXRoaXMuYT1hLmEuc2xpY2UoMCksdGhpcy5JYSgpO2Vsc2UgaWYoMCE9YS5sZW5ndGgoKSYmbnVsbCE9dGhpcy5sYXN0KCkuZW5kVGltZSlpZihudWxsIT1hLmxhc3QoKS5lbmRUaW1lJiZhLmxhc3QoKS5lbmRUaW1lPHRoaXMubGFzdCgpLmVuZFRpbWUpVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJmaXhfbWFuaWZlc3Rfd3JhcHBlZCIsITApP2EubGFzdCgpLmVuZFRpbWU8dGhpcy5maXJzdCgpLnN0YXJ0VGltZSYmKHRoaXMuZj0hMCk6dGhpcy5mPSEwO2Vsc2V7dGhpcy5mPSExO2lmKHRoaXMubGFzdCgpLmVuZFRpbWU8PWEuZmlyc3QoKS5zdGFydFRpbWUpe3ZhciBiPWpkKHRoaXMubGFzdCgpLHRoaXMubGFzdCgpLnN0YXJ0VGltZSxhLmZpcnN0KCkuc3RhcnRUaW1lKSxjPXRoaXMubGFzdCgpLnVuc2NhbGVkU3RhcnRUaW1lKwp0aGlzLmxhc3QoKS51bnNjYWxlZER1cmF0aW9uO1ZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgiY2FsY3VsYXRlX21pc3NlZF9zZWdtZW50X2dhcF9pbmZvX29uX21lcmdlIiwhMSkmJmM8YS5maXJzdCgpLnVuc2NhbGVkU3RhcnRUaW1lJiZudWxsPT09dGhpcy5sYXN0KCkudGltZXNjYWxlZEdhcEluZm8mJihiLnRpbWVzY2FsZWRHYXBJbmZvPW5ldyBoZChjL3RoaXMucywoYS5maXJzdCgpLnVuc2NhbGVkU3RhcnRUaW1lLWMpL3RoaXMucykpO2lmKFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgidGVtcGxhdGVkX29wdGltaXplX21lcmdlX3RhcmdldF9hbGdvcyIsITEpKWZvcih0aGlzLmEucG9wKCksdGhpcy5hLnB1c2goYiksYz0wO2M8YS5hLmxlbmd0aDsrK2MpdGhpcy5hLnB1c2goYS5hW2NdKTtlbHNlIGI9dGhpcy5hLnNsaWNlKDAsLTEpLmNvbmNhdChbYl0pLHRoaXMuYT1iLmNvbmNhdChhLmEpfWVsc2V7Zm9yKGM9MDtjPHRoaXMuYS5sZW5ndGgmJgohKHRoaXMuYVtjXS5lbmRUaW1lPj1hLmZpcnN0KCkuc3RhcnRUaW1lKTsrK2MpO3RoaXMuYVtjXS5zdGFydFRpbWU8YS5maXJzdCgpLnN0YXJ0VGltZT8oYj1qZCh0aGlzLmFbY10sdGhpcy5hW2NdLnN0YXJ0VGltZSxhLmZpcnN0KCkuc3RhcnRUaW1lKSxiPXRoaXMuYS5zbGljZSgwLGMpLmNvbmNhdChbYl0pKToodGhpcy5maXJzdCgpLnN0YXJ0VGltZT5hLmZpcnN0KCkuc3RhcnRUaW1lfHxhLmZpcnN0KCksYj10aGlzLmEuc2xpY2UoMCxjKSk7dGhpcy5hPWIuY29uY2F0KGEuYSl9dGhpcy5oKGEuYSk7dGhpcy5JYSgpfX07VC5wcm90b3R5cGUuaGI9ZnVuY3Rpb24oYSl7dmFyIGI9YS10aGlzLlc7aWYoMD09YilyZXR1cm4gMDt0aGlzLmE9a2QodGhpcy5hLGIpO3RoaXMuSWEoKTt0aGlzLlc9YTtyZXR1cm4gYn07ClQucHJvdG90eXBlLmliPWZ1bmN0aW9uKCl7cmV0dXJuIDA8dGhpcy5sZW5ndGgoKT97c3RhcnQ6dGhpcy5maXJzdCgpLnN0YXJ0VGltZSxlbmQ6dGhpcy5sYXN0KCkuZW5kVGltZX06e3N0YXJ0OjAsZW5kOjB9fTtULnByb3RvdHlwZS5nZXRTZWVrUmFuZ2VHYXBzPWZ1bmN0aW9uKCl7cmV0dXJuIGdldFNlZWtSYW5nZUdhcHNGcm9tU2hha2FSZWZlcmVuY2VzKHRoaXMuYSx0aGlzLnMpfTtULnByb3RvdHlwZS5nZXRTZWVrUmFuZ2VHYXBzPVQucHJvdG90eXBlLmdldFNlZWtSYW5nZUdhcHM7VC5wcm90b3R5cGUucmI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mfTtULnByb3RvdHlwZS5HYz1mdW5jdGlvbihhKXt0aGlzLmg9YX07VC5wcm90b3R5cGUuRmM9ZnVuY3Rpb24oKXt0aGlzLmg9ZnVuY3Rpb24oKXt9fTtULnByb3RvdHlwZS5JYT1mdW5jdGlvbigpe307VC5wcm90b3R5cGUuZ2V0SWRsZVJlZmVyZW5jZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pfTtmdW5jdGlvbiBDZChhLGIsYyxkLGUpe3ZhciBmPTEsZz0wLGg7aWYoYS5jPmQpaD1udWxsO2Vsc2V7dmFyIGs9YS5vfHwwLGw9YS5mfHwwO2g9Yy5hO2g9aC5IL2guczt2YXIgbT1kLShhLmMrYi5zdGFydCk7MD5tP2g9bnVsbDoobD1tLTIqaC1sLDA+bCYmKGw9MCksbD1NYXRoLmNlaWwobC9oKSpoLG0tPWgsMD5tP2g9bnVsbDooaz1NYXRoLmZsb29yKG0vaCkqaC1rLDA+ayYmKGs9MCksaz1NYXRoLmZsb29yKGsvaCkqaCxoPXt0YzpsL2grMSxjdXJyZW50OihrPj1sP2s6bCkvaCsxfSkpfWgmJihmPWgudGMsZz1oLmN1cnJlbnQtaC50YysxKTtmPWxkKGUsYyxmLGcpO2lmKG51bGw9PWYpdGhyb3cgYT1FcnJvcigiRmFpbGVkIHRvIGdlbmVyYXRlIFNlZ21lbnRSZWZlcmVuY2VzLiIpLGEudHlwZT0ic3RyZWFtIixhO2Y9bmV3IFQoZixjLmEuc3x8MSk7Uy5jYWxsKHRoaXMsZixhLGIsZCk7dGhpcy53PWM7dGhpcy5tPXRoaXMuYz0wPHRoaXMubGVuZ3RoKCk/YS5jK2Iuc3RhcnQrdGhpcy5sYXN0KCkuZW5kVGltZToKbnVsbDt0aGlzLmo9aD9oLmN1cnJlbnQrMTpudWxsO3RoaXMuRD1lfXIoQ2QsUyk7Q2QucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLkQ9dGhpcy53PW51bGw7Uy5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpfTtDZC5wcm90b3R5cGUuZmluZD1mdW5jdGlvbihhKXt2YXIgYj15YSgpLzFFMztEZCh0aGlzLGIpO3pkKHRoaXMsYik7cmV0dXJuIFIucHJvdG90eXBlLmZpbmQuY2FsbCh0aGlzLGEpfTtDZC5wcm90b3R5cGUuQj1mdW5jdGlvbihhKXtpZihudWxsIT10aGlzLmN8fCEoYSBpbnN0YW5jZW9mIENkKXx8bnVsbD09YS5jKXJldHVybiExO3RoaXMuYz1hLmM7dGhpcy5tPWEubTt0aGlzLmo9YS5qO3RoaXMuaD1hLmg7dGhpcy5kdXJhdGlvbj1hLmR1cmF0aW9uO3RoaXMuYS5TYShhLmEpO0RkKHRoaXMseWEoKS8xRTMpO3lkKHRoaXMpO3JldHVybiEwfTsKQ2QucHJvdG90eXBlLlRhPWZ1bmN0aW9uKGEpe2E9Uy5wcm90b3R5cGUuVGEuY2FsbCh0aGlzLGEpO251bGwhPXRoaXMuYyYmKHRoaXMuYys9YSx0aGlzLm0rPWEpO3JldHVybiBhfTtDZC5wcm90b3R5cGUuQT1mdW5jdGlvbigpe3ZhciBhPXlhKCkvMUUzO0RkKHRoaXMsYSk7cmV0dXJuIEJkKHRoaXMsYSl9O2Z1bmN0aW9uIERkKGEsYil7aWYobnVsbCE9YS5jJiZudWxsIT1hLm0mJm51bGwhPWEuail7dmFyIGM9YS53LmEsYz1jLkgvYy5zLGQ9TWF0aC5mbG9vcigoYS5tKyhiLWEuaCktYS5jKS9jKTtpZigwIT1kKXt2YXIgZT1sZChhLkQsYS53LGEuaixkKTtBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShhLmEuYSxrZChlLGEuYS5XKSk7YS5hLklhKCk7YS5jKz1kKmM7YS5qKz1kfX19O2Z1bmN0aW9uIEVkKGEsYixjLGQsZSl7dGhpcy5nPWE7dGhpcy5mPWI7dGhpcy5iPWM7dGhpcy5pPWQ7dGhpcy5hPW51bGw7dGhpcy5oPWV9RWQucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmg9dGhpcy5iPXRoaXMuZj10aGlzLmc9bnVsbDt0aGlzLmEmJih0aGlzLmEuZGVzdHJveSgpLHRoaXMuYT1udWxsKX07CkVkLnByb3RvdHlwZS5jcmVhdGU9ZnVuY3Rpb24oKXtpZih0aGlzLmEpcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLmEpO2lmKCJkeW5hbWljIj09dGhpcy5nLnR5cGUpdHJ5e3RoaXMuYT1uZXcgQ2QodGhpcy5nLHRoaXMuZix0aGlzLmIsdGhpcy5pLHRoaXMuaCl9Y2F0Y2goYSl7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfWVsc2V7dmFyIGI7Yj10aGlzLmIuYTtpZihiPWxkKHRoaXMuaCx0aGlzLmIsMSxNYXRoLmNlaWwodGhpcy5mLmR1cmF0aW9uLyhiLkgvYi5zKSkpKXtpZigwPGIubGVuZ3RoKXt2YXIgYz1iW2IubGVuZ3RoLTFdO2JbYi5sZW5ndGgtMV09amQoYyxjLnN0YXJ0VGltZSx0aGlzLmYuZHVyYXRpb24pfWI9bmV3IFQoYix0aGlzLmIuYS5zfHwxKTtiPW5ldyBSKGIpfWVsc2UgYj1udWxsO3RoaXMuYT1iO2lmKCF0aGlzLmEpcmV0dXJuIGI9RXJyb3IoIkZhaWxlZCB0byBnZW5lcmF0ZSBTZWdtZW50UmVmZXJlbmNlcyIpLGIudHlwZT0ic3RyZWFtIixQcm9taXNlLnJlamVjdChiKX1yZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuYSl9OwpFZC5wcm90b3R5cGUuYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmF9O2Z1bmN0aW9uIEZkKGEsYixjLGQsZSxmKXt0aGlzLmY9YTt0aGlzLmI9Yjt0aGlzLmg9Yzt0aGlzLmE9bnVsbDt0aGlzLmk9ZDt0aGlzLmc9ZTt0aGlzLmo9Znx8bnVsbH1GZC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuZz10aGlzLmg9dGhpcy5iPXRoaXMuZj1udWxsO3RoaXMuYSYmKHRoaXMuYS5kZXN0cm95KCksdGhpcy5hPW51bGwpfTsKRmQucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbigpe2lmKHRoaXMuYSlyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuYSk7dmFyIGE9dGhpcy5oLmIsYj1bXTthLkMmJihiPW9kKGEuQyxhLnN8fDEsdGhpcy5iLmR1cmF0aW9ufHwwKSk7dmFyIGM9MDthLkgmJmEuYz9jPShhLmMtMSkqYS5IOjA8Yi5sZW5ndGgmJihjPWJbMF0uc3RhcnQtKGEuTHx8MCkpO3ZhciBkPWMsZT1hLmEubGVuZ3RoOzA8Yi5sZW5ndGgmJmIubGVuZ3RoIT1hLmEubGVuZ3RoJiYoZT1NYXRoLm1pbihiLmxlbmd0aCxhLmEubGVuZ3RoKSk7Zm9yKHZhciBmPVtdLGc9MDtnPGU7KytnKXt2YXIgaD1hLmFbZ10saz1jLGw9ay9hLnMsbT1jPW51bGwscDthLkg/KGM9aythLkgsbT1jL2Eucyk6MDxiLmxlbmd0aD8ocD1iW2ddLnRpbWVzY2FsZWRHYXBJbmZvLGM9YltnXS5lbmQtKGEuTHx8MCksbT1jL2Eucyk6KG09bCt0aGlzLmIuZHVyYXRpb24sYz1tKmEucyk7dmFyIHQ9MCx3PW51bGw7aC5hJiYodD1oLmEucWEsCnc9aC5hLmVuZCk7bT1NYXRoLm1pbih0aGlzLmIuZHVyYXRpb24rZC9hLnMsbSk7Zi5wdXNoKG5ldyBpZChsLG0sbmV3IEsodGhpcy5nLGguYix0LHcsdm9pZCAwLHRoaXMuaiksayxwfHxudWxsKSl9YT1uZXcgVChmLGEuc3x8MSk7ImR5bmFtaWMiPT10aGlzLmYudHlwZT90aGlzLmE9bmV3IFMoYSx0aGlzLmYsdGhpcy5iLHRoaXMuaSk6dGhpcy5hPW5ldyBSKGEpO3JldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5hKX07RmQucHJvdG90eXBlLmM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hfTtmdW5jdGlvbiBHZChhLGIsYyl7VC5jYWxsKHRoaXMsYSxjKTt0aGlzLmc9Yjt0aGlzLmI9ITE7dGhpcy5qPVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0U3RyaW5nKCJ0ZW1wbGF0ZWRfcGVyZl90ZXN0X21ldGhvZHNfdW5kZXJfdGVzdF9jc3Zfc3RyaW5nIiwiYWxsIikuc3BsaXQoIiwiKX1yKEdkLFQpO2Z1bmN0aW9uIEhkKGEsYil7aWYoISgtMTxhLmouaW5kZXhPZigiYWxsIil8fC0xPGEuai5pbmRleE9mKGIpKXx8YS5iKXJldHVybiBudWxsO3ZhciBjPWEuYTthLmE9YS5nO2EuYj0hMDtyZXR1cm4gY31mdW5jdGlvbiBJZChhLGIpe2EuYiYmKGEuZz1hLmEsYS5hPWIpfUdkLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7VC5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpO3RoaXMuZz1udWxsfTsKR2QucHJvdG90eXBlLmxlbmd0aD1mdW5jdGlvbigpe3ZhciBhPUhkKHRoaXMsImxlbmd0aCIpLGI9VC5wcm90b3R5cGUubGVuZ3RoLmNhbGwodGhpcyk7YSYmKElkKHRoaXMsYSksYj1ULnByb3RvdHlwZS5sZW5ndGguY2FsbCh0aGlzKSx0aGlzLmI9ITEpO3JldHVybiBifTtHZC5wcm90b3R5cGUuZ2V0U2VnbWVudHM9ZnVuY3Rpb24oKXt2YXIgYT1IZCh0aGlzLCJnZXRTZWdtZW50cyIpLGI9VC5wcm90b3R5cGUuZ2V0U2VnbWVudHMuY2FsbCh0aGlzKTthJiYoSWQodGhpcyxhKSxiPVQucHJvdG90eXBlLmdldFNlZ21lbnRzLmNhbGwodGhpcyksdGhpcy5iPSExKTtyZXR1cm4gYn07R2QucHJvdG90eXBlLmZpcnN0PWZ1bmN0aW9uKCl7dmFyIGE9SGQodGhpcywiZmlyc3QiKSxiPVQucHJvdG90eXBlLmZpcnN0LmNhbGwodGhpcyk7YSYmKElkKHRoaXMsYSksYj1ULnByb3RvdHlwZS5maXJzdC5jYWxsKHRoaXMpLHRoaXMuYj0hMSk7cmV0dXJuIGJ9OwpHZC5wcm90b3R5cGUubGFzdD1mdW5jdGlvbigpe3ZhciBhPUhkKHRoaXMsImxhc3QiKSxiPVQucHJvdG90eXBlLmxhc3QuY2FsbCh0aGlzKTthJiYoSWQodGhpcyxhKSxiPVQucHJvdG90eXBlLmxhc3QuY2FsbCh0aGlzKSx0aGlzLmI9ITEpO3JldHVybiBifTtHZC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGEpe3ZhciBiPUhkKHRoaXMsImdldCIpLGM7Yz1iP1QucHJvdG90eXBlLmdldC5jYWxsKHRoaXMsYSsodGhpcy5hLmxlbmd0aC1iLmxlbmd0aCkpOlQucHJvdG90eXBlLmdldC5jYWxsKHRoaXMsYSk7YiYmKElkKHRoaXMsYiksYz1ULnByb3RvdHlwZS5nZXQuY2FsbCh0aGlzLGEpLHRoaXMuYj0hMSk7cmV0dXJuIGN9O0dkLnByb3RvdHlwZS5maW5kPWZ1bmN0aW9uKGEpe3ZhciBiPUhkKHRoaXMsImZpbmQiKSxjPVQucHJvdG90eXBlLmZpbmQuY2FsbCh0aGlzLGEpO2ImJihJZCh0aGlzLGIpLGM9VC5wcm90b3R5cGUuZmluZC5jYWxsKHRoaXMsYSksdGhpcy5iPSExKTtyZXR1cm4gY307CkdkLnByb3RvdHlwZS5maW5kSW5kZXg9ZnVuY3Rpb24oYSl7dmFyIGI9SGQodGhpcywiZmluZEluZGV4IiksYz1ULnByb3RvdHlwZS5maW5kSW5kZXguY2FsbCh0aGlzLGEpO2ImJihJZCh0aGlzLGIpLGM9VC5wcm90b3R5cGUuZmluZEluZGV4LmNhbGwodGhpcyxhKSx0aGlzLmI9ITEpO3JldHVybiBjfTtuPUdkLnByb3RvdHlwZTtuLlNhPWZ1bmN0aW9uKGEpe3ZhciBiPUhkKHRoaXMsIm1lcmdlIiksYz1ULnByb3RvdHlwZS5TYS5jYWxsKHRoaXMsYSk7YiYmKElkKHRoaXMsYiksYz1ULnByb3RvdHlwZS5TYS5jYWxsKHRoaXMsYSksdGhpcy5iPSExKTtyZXR1cm4gY307bi5oYj1mdW5jdGlvbihhKXt2YXIgYj1IZCh0aGlzLCJjb3JyZWN0IiksYz1ULnByb3RvdHlwZS5oYi5jYWxsKHRoaXMsYSk7YiYmKElkKHRoaXMsYiksYz1ULnByb3RvdHlwZS5oYi5jYWxsKHRoaXMsYSksdGhpcy5iPSExKTtyZXR1cm4gY307Cm4uaWI9ZnVuY3Rpb24oKXt2YXIgYT1IZCh0aGlzLCJnZXRTZWVrUmFuZ2UiKSxiPVQucHJvdG90eXBlLmliLmNhbGwodGhpcyk7YSYmKElkKHRoaXMsYSksYj1ULnByb3RvdHlwZS5pYi5jYWxsKHRoaXMpLHRoaXMuYj0hMSk7cmV0dXJuIGJ9O24uZ2V0U2Vla1JhbmdlR2Fwcz1mdW5jdGlvbigpe3ZhciBhPUhkKHRoaXMsImdldFNlZWtSYW5nZUdhcHMiKSxiPVQucHJvdG90eXBlLmdldFNlZWtSYW5nZUdhcHMuY2FsbCh0aGlzKTthJiYoSWQodGhpcyxhKSxiPVQucHJvdG90eXBlLmdldFNlZWtSYW5nZUdhcHMuY2FsbCh0aGlzKSx0aGlzLmI9ITEpO3JldHVybiBifTtuLklhPWZ1bmN0aW9uKCl7dmFyIGE9SGQodGhpcywiYXNzZXJ0Q29ycmVjdFJlZmVyZW5jZXMiKTtULnByb3RvdHlwZS5JYS5jYWxsKHRoaXMpO2EmJihJZCh0aGlzLGEpLFQucHJvdG90eXBlLklhLmNhbGwodGhpcyksdGhpcy5iPSExKX07ZnVuY3Rpb24gSmQoYSxiLGMsZCxlLGYsZyxoKXt0aGlzLm09YTt0aGlzLmE9Yjt0aGlzLmc9Yzt0aGlzLmY9ZDt0aGlzLm89ZTt0aGlzLmI9bnVsbDt0aGlzLmk9Zjt0aGlzLmg9bnVsbDt0aGlzLmo9aHx8bnVsbH1KZC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuaT10aGlzLmY9dGhpcy5nPXRoaXMuYT1udWxsO3RoaXMuYiYmKHRoaXMuYi5kZXN0cm95KCksdGhpcy5iPW51bGwpfTsKSmQucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbigpe2lmKHRoaXMuYilyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuYik7dmFyIGE9VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJmYmxzX3VzZV90aW1lbGluZV9zZWdtZW50X2luZGV4IiwhMSk7aWYoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJ1c2VfdGltZWxpbmVfc2VnbWVudF9pbmRleCIsITEpJiYodGhpcy5hLkZCSXNMaXZlVGVtcGxhdGVkfHx0aGlzLmEuRkJXYXNMaXZlfHxhKSlhPW5ldyBwZCh0aGlzLmcsdGhpcy5mLHRoaXMuZi5hLHRoaXMuaSx0aGlzLmopO2Vsc2V7Zm9yKHZhciBhPXRoaXMuZi5hLGI9b2QoYS5DLGEuc3x8MSx0aGlzLmcuZHVyYXRpb258fDAsdGhpcy5tLmdldE51bWJlcigibnVtX3ByZWRpY3RpdmVfc2VnbWVudHMiLDApLHRoaXMuYS5GQklzTGl2ZVRlbXBsYXRlZHx8dGhpcy5hLkZCV2FzTGl2ZSx0aGlzLmgpLGM9W10sZD0wO2Q8Yi5sZW5ndGg7KytkKXt2YXIgZT0KYltkXS5zdGFydCxmPWJbZF0uZW5kLGc9YltkXS51ZHx8MCxoPWJbZF0udGltZXNjYWxlZEdhcEluZm8saz1lL2EucyxsPWYvYS5zLG09ZCthLmIscD1lLG09bWQodGhpcy5pLHRoaXMuZiwwPGc/ZzptLHAsMDxnPyEwOiExLHRoaXMuaik7aWYoIW0pcmV0dXJuIGE9RXJyb3IoIkZhaWxlZCB0byBnZW5lcmF0ZSBtZWRpYSBVUkwuIiksYS50eXBlPSJkYXNoIixQcm9taXNlLnJlamVjdChhKTt2YXIgdD0oYS5MfHwwKS9hLnM7Yy5wdXNoKG5ldyBpZChrLXQsbC10LG0scCxmLWUsaHx8bnVsbCwwPGcpKX1iPXRoaXMuYS5GQklzTGl2ZVRlbXBsYXRlZHx8dGhpcy5hLkZCV2FzTGl2ZTtWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigidGVtcGxhdGVkX3VzZV9wZXJmX3Rlc3Rfc2VnbWVudF9pbmRleF9iYXNlX2ludCIsMCkmJm51bGw9PXRoaXMuaCYmdGhpcy5hLkZCSXNMaXZlVGVtcGxhdGVkPyhiPWMsYz1iLnNsaWNlKC1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigidGVtcGxhdGVkX3VzZV9wZXJmX3Rlc3Rfc2VnbWVudF9pbmRleF9iYXNlX2ludCIsCjApKSxhPW5ldyBHZChjLGIsYS5zfHwxKSk6YT1uZXcgVChjLGEuc3x8MSxiKX10aGlzLmEubWFuaWZlc3RJc0xpdmVTdHJlYW1pbmc/dGhpcy5iPW5ldyBTKGEsdGhpcy5hLHRoaXMuZyx0aGlzLm8pOnRoaXMuYj1uZXcgUihhKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuYil9O0pkLnByb3RvdHlwZS5jPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYn07SmQucHJvdG90eXBlLkVjPWZ1bmN0aW9uKGEpe3RoaXMuaD1hfTtmdW5jdGlvbiBLZCgpe3RoaXMuWD1MZCsrO3RoaXMuaWQ9dGhpcy5hYT10aGlzLk09bnVsbDt0aGlzLmE9MDt0aGlzLmhlaWdodD10aGlzLndpZHRoPXRoaXMuYmFuZHdpZHRoPW51bGw7dGhpcy5jb2RlY3M9dGhpcy5taW1lVHlwZT0iIjt0aGlzLmY9dGhpcy5mYlF1YWxpdHlDbGFzcz10aGlzLmZiUXVhbGl0eUxhYmVsPW51bGw7dGhpcy5mcmFtZVJhdGU9IiI7dGhpcy5zd2l0Y2hSZWFzb249dGhpcy5oPXRoaXMuZz10aGlzLmM9bnVsbDt0aGlzLmI9W107dGhpcy5vYT0hMTt0aGlzLmZhPSEwfXZhciBMZD0wO0tkLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5NJiYodGhpcy5NLmRlc3Ryb3koKSx0aGlzLk09bnVsbCk7dGhpcy5hYSYmKHRoaXMuYWEuZGVzdHJveSgpLHRoaXMuYWE9bnVsbCl9O2Z1bmN0aW9uIE1kKGEpe3JldHVybiBhLm1pbWVUeXBlLnNwbGl0KCIvIilbMF19CmZ1bmN0aW9uIE5kKGEpe3ZhciBiPWEubWltZVR5cGV8fCIiO2EuY29kZWNzJiYoYis9JzsgY29kZWNzPSInK2EuY29kZWNzKyciJyk7cmV0dXJuIGJ9ZnVuY3Rpb24gT2QoKXt0aGlzLlg9UGQrKzt0aGlzLmlkPW51bGw7dGhpcy5jb250ZW50VHlwZT10aGlzLmxhbmc9IiI7dGhpcy5mPXRoaXMuYj0hMTt0aGlzLmM9bnVsbDt0aGlzLnY9W107dGhpcy5hPVtdfXZhciBQZD0wO09kLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7Zm9yKHZhciBhPTA7YTx0aGlzLnYubGVuZ3RoOysrYSl0aGlzLnZbYV0uZGVzdHJveSgpO3RoaXMuYT10aGlzLnY9bnVsbH07ZnVuY3Rpb24gUWQoYSl7Zm9yKHZhciBiPVtdLGM9MDtjPGEuYS5sZW5ndGg7KytjKXt2YXIgZD1uZXcgUmQ7ZC5pZD1hLlg7ZC5hPWEuYVtjXTtkLmNvbnRlbnRUeXBlPWEuY29udGVudFR5cGU7ZC5iPWEudi5sZW5ndGg/TmQoYS52WzBdKToiIjtiLnB1c2goZCl9cmV0dXJuIGJ9CmZ1bmN0aW9uIFNkKCl7dGhpcy5pZD1udWxsO3RoaXMuc3RhcnQ9MDt0aGlzLmR1cmF0aW9uPW51bGw7dGhpcy5hPVtdfVNkLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7Zm9yKHZhciBhPTA7YTx0aGlzLmEubGVuZ3RoOysrYSl0aGlzLmFbYV0uZGVzdHJveSgpO3RoaXMuYT1udWxsfTtmdW5jdGlvbiBUZCgpe3RoaXMuQT10aGlzLmY9dGhpcy5iPSExO3RoaXMubz10aGlzLm09dGhpcy5CPTA7dGhpcy5qPXRoaXMuaT10aGlzLmM9bnVsbDt0aGlzLmc9MDt0aGlzLmE9W107dGhpcy5oPSExO3RoaXMudz0ibm9uZSI7dGhpcy51PW51bGx9VGQucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXtmb3IodmFyIGE9MDthPHRoaXMuYS5sZW5ndGg7KythKXRoaXMuYVthXS5kZXN0cm95KCk7dGhpcy5hPW51bGx9O2Z1bmN0aW9uIFJkKCl7dGhpcy5pZD0wO3RoaXMuYT1udWxsO3RoaXMuYj10aGlzLmNvbnRlbnRUeXBlPSIifTtmdW5jdGlvbiBVKGEsYixjLGQsZSxmLGcsaCxrLGwsbSxwLHQsdyl7Ri5jYWxsKHRoaXMsYSk7dGhpcy5iPWI7dGhpcy5hPWM7dGhpcy5jPW5ldyBuYihjLGQsZSxmLHRoaXMsaCx3KTt0aGlzLlBhPWg7dGhpcy5vPXt9O3RoaXMucmE9Zjt0aGlzLnlhPTA7dGhpcy5tYT10aGlzLmY9dGhpcy5nPW51bGw7dGhpcy50YT0hMTt0aGlzLnc9dGhpcy5jYT1udWxsO3RoaXMuUz0hMTt0aGlzLmphPTA7dGhpcy5rYT0hMTt0aGlzLkQ9bnVsbDt0aGlzLlo9dGhpcy5lYT10aGlzLmg9ITE7dGhpcy5PPW5ldyBJO3RoaXMuRz10aGlzLlQ9dGhpcy5CPSExO3RoaXMuUj0wO3RoaXMuZ2E9MTU7dGhpcy5HYT10aGlzLnZhPXRoaXMuVT0hMTt0aGlzLm5hPTE7dGhpcy4kPWc7dGhpcy54YT0hMTt0aGlzLmw9bnVsbDt0aGlzLkhhPSExO3RoaXMuST10aGlzLko9dGhpcy5LPW51bGw7dGhpcy5WPSExO3RoaXMudT1tfHxudWxsO3RoaXMuRj1wfHxudWxsO3RoaXMuaj10fHxudWxsO3RoaXMuWT1udWxsO3RoaXMuYmE9CiExO3RoaXMuRGE9e307dGhpcy5GYT1rO3RoaXMuaT1udWxsO3RoaXMuaWE9ITE7dGhpcy5FYT0wO3RoaXMuQ2E9ZT9lLnNwbGl0KCI7IilbMF06IiI7dGhpcy5QPSExO3RoaXMud2E9MDt0aGlzLnNhPWw7dGhpcy5BPXRoaXMubT1udWxsfXIoVSxGKTtVLnByb3RvdHlwZS5CYT1mdW5jdGlvbigpe3JldHVybntTb3VyY2VCdWZmZXJNYW5hZ2VyOnRoaXMuY319O1UucHJvdG90eXBlLmdldERlYnVnPVUucHJvdG90eXBlLkJhO2Z1bmN0aW9uIFVkKGEsYil7cmV0dXJuIG5ldyBWaWRlb1BsYXllckJpdHJhdGVFc3RpbWF0b3IobmV3IHgoYS5hLmdldE51bWJlcigibGl2ZV9iaXRyYXRlX2VzdGltYXRlc19oYWxmX2xpZmUiLDIpKSxiLGEuYS5nZXROdW1iZXIoImxpdmVfYml0cmF0ZV9lc3RpbWF0ZXNfbWluaW11bV9zYW1wbGVfY291bnQiLDEpLGEuYS5nZXROdW1iZXIoImxpdmVfYml0cmF0ZV9lc3RpbWF0ZXNfbGFyZ2Vfc2FtcGxlX3dlaWdodF9mYWN0b3IiLDEwKSl9ClUucHJvdG90eXBlLnBhPWZ1bmN0aW9uKGEpe251bGwhPWEuaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemUmJih0aGlzLlI9TnVtYmVyKGEuaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemUpKTt2YXIgYj10aGlzLmEuZ2V0TnVtYmVyKCJpbml0aWFsX3N0cmVhbV9idWZmZXJfc2l6ZV9mb3JfdmlkZW9fc3RyZWFtIiwwKTswPGImJi0xIT09dGhpcy5DYS5pbmRleE9mKCJ2IikmJih0aGlzLlI9Yik7bnVsbCE9YS5keW5hbWljU3RyZWFtQnVmZmVyU2l6ZSYmKHRoaXMuamE9TnVtYmVyKGEuZHluYW1pY1N0cmVhbUJ1ZmZlclNpemUpKTtudWxsIT1hLnNtYXJ0QnVmZmVyQWRqdXN0bWVudFBhcmFtcyYmKHRoaXMuRGE9YS5zbWFydEJ1ZmZlckFkanVzdG1lbnRQYXJhbXMpO251bGwhPWEuc21hcnRCdWZmZXJBZGp1c3RtZW50RW5hYmxlZCYmKHRoaXMuYmE9Qm9vbGVhbihhLnNtYXJ0QnVmZmVyQWRqdXN0bWVudEVuYWJsZWQpKTtudWxsIT1hLnN0cmVhbUJ1ZmZlclNpemUmJih0aGlzLmdhPU51bWJlcihhLnN0cmVhbUJ1ZmZlclNpemUpKTsKbnVsbCE9YS5maXhCdWZmZXJpbmdHb2FsRGV0ZXJtaW5hdGlvbiYmKHRoaXMuVT1Cb29sZWFuKGEuZml4QnVmZmVyaW5nR29hbERldGVybWluYXRpb24pKTtudWxsIT1hLmFkZENkbkRlYnVnUXVlcnlQYXJhbWV0ZXJzJiYodGhpcy52YT1Cb29sZWFuKGEuYWRkQ2RuRGVidWdRdWVyeVBhcmFtZXRlcnMpKTtudWxsIT1hLnVzZUluaXRpYWxCdWZmZXJTaXplV2hlblBhdXNlZCYmKHRoaXMuR2E9Qm9vbGVhbihhLnVzZUluaXRpYWxCdWZmZXJTaXplV2hlblBhdXNlZCkpO251bGwhPWEuc2VnbWVudFJlcXVlc3RUaW1lb3V0JiYodGhpcy5jLlQ9TnVtYmVyKGEuc2VnbWVudFJlcXVlc3RUaW1lb3V0KSk7bnVsbCE9YS5yZXNvbHZlVmlkZW9UaW1lVXBkYXRlT25GcmFnbWVudGVkVGltZVJhbmdlcyYmKHRoaXMueGE9Qm9vbGVhbihhLnJlc29sdmVWaWRlb1RpbWVVcGRhdGVPbkZyYWdtZW50ZWRUaW1lUmFuZ2VzKSk7bnVsbCE9YS5wZXJmb3JtYW5jZUxvZ2dlciYmKHRoaXMubD10aGlzLm8ucGVyZm9ybWFuY2VMb2dnZXI9CmEucGVyZm9ybWFuY2VMb2dnZXIpO251bGwhPWEuYWJyTG9nZ2VyJiYodGhpcy5vLmFickxvZ2dlcj1hLmFickxvZ2dlcik7bnVsbCE9YS5yZWFwcGVuZEluaXRTZWdtZW50QWZ0ZXJBYm9ydCYmKHRoaXMuby5yZWFwcGVuZEluaXRTZWdtZW50QWZ0ZXJBYm9ydD1Cb29sZWFuKGEucmVhcHBlbmRJbml0U2VnbWVudEFmdGVyQWJvcnQpKTtudWxsIT1hLmxpdmVEYXRhRmV0Y2hNYXhSZXRyaWVzJiYodGhpcy5vLmxpdmVEYXRhRmV0Y2hNYXhSZXRyaWVzPU51bWJlcihhLmxpdmVEYXRhRmV0Y2hNYXhSZXRyaWVzKSk7bnVsbCE9YS5saXZlU291cmNlQnVmZmVyQ2xlYXJNYXhSZXRyaWVzJiYodGhpcy5vLmxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXM9TnVtYmVyKGEubGl2ZVNvdXJjZUJ1ZmZlckNsZWFyTWF4UmV0cmllcykpO251bGwhPWEuc2tpcEVtcHR5U2VnbWVudHMmJih0aGlzLm8uc2tpcEVtcHR5U2VnbWVudHM9Qm9vbGVhbihhLnNraXBFbXB0eVNlZ21lbnRzKSk7bnVsbCE9CmEucGxheWhlYWRGcmFnbWVudGVkR2FwRGlmZkFsbG93YW5jZSYmKHRoaXMuby5wbGF5aGVhZEZyYWdtZW50ZWRHYXBEaWZmQWxsb3dhbmNlPU51bWJlcihhLnBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2UpKTtudWxsIT1hLnVzZU1pY3JvVGFza1RpbWVvdXRzJiYodGhpcy5IYT1Cb29sZWFuKGEudXNlTWljcm9UYXNrVGltZW91dHMpKTthPXRoaXMuYztiPXRoaXMubztudWxsIT1iLnJlYXBwZW5kSW5pdFNlZ21lbnRBZnRlckFib3J0JiYoYS5SPUJvb2xlYW4oYi5yZWFwcGVuZEluaXRTZWdtZW50QWZ0ZXJBYm9ydCkpO251bGwhPWIucGVyZm9ybWFuY2VMb2dnZXImJihhLmw9Yi5wZXJmb3JtYW5jZUxvZ2dlcik7bnVsbCE9Yi5hYnJMb2dnZXImJihhLkk9Yi5hYnJMb2dnZXIpO251bGwhPWIubGl2ZURhdGFGZXRjaE1heFJldHJpZXMmJihhLk89Yi5saXZlRGF0YUZldGNoTWF4UmV0cmllcyk7bnVsbCE9Yi5saXZlU291cmNlQnVmZmVyQ2xlYXJNYXhSZXRyaWVzJiYoYS5LPQpiLmxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXMpO251bGwhPWIucGxheWhlYWRGcmFnbWVudGVkR2FwRGlmZkFsbG93YW5jZSYmKGEuUD1iLnBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2UpO251bGwhPWIuc2tpcEVtcHR5U2VnbWVudHMmJihhLlY9Yi5za2lwRW1wdHlTZWdtZW50cyl9O1UucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXtWZCh0aGlzKTt0aGlzLk8uZGVzdHJveSgpO3RoaXMucmE9dGhpcy5nPXRoaXMuTz1udWxsO3RoaXMuYy5kZXN0cm95KCk7dGhpcy5iPXRoaXMuYz1udWxsO3RoaXMuYS5nZXRCb29sKCJmaXhpbmdfc2NoZWR1bGVyX2Rpc2FibGVfbGVha3MiLCEwKSYmKHRoaXMudT1udWxsKTt0aGlzLkphPW51bGx9O249VS5wcm90b3R5cGU7bi5XYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmd9O24uRmI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mfTsKbi5LYz1mdW5jdGlvbihhKXt0aGlzLkJ8fGEudGhlbihmdW5jdGlvbigpe3RoaXMuQj0hMDt0aGlzLnd8fFYodGhpcywwKX0uYmluZCh0aGlzKSkuY2F0Y2goZnVuY3Rpb24oKXt9KTtyZXR1cm4gdGhpcy5PfTtuLkNiPWZ1bmN0aW9uKCl7dGhpcy5HPSEwO1dkKHRoaXMpfTtuLmZiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuR307Cm4uamI9ZnVuY3Rpb24oYSxiLGMsZCxlKXtpZihhIT10aGlzLmcpe3ZhciBmPTE7dGhpcy5hLmdldEJvb2woInVzZV9saXZlX2JpdHJhdGVfZXN0aW1hdGVzIiwhMSkmJm51bGwhPT10aGlzLm0mJjA8dGhpcy5nLmJhbmR3aWR0aCYmKGY9dGhpcy5tLmdldEVzdGltYXRlKCkvdGhpcy5nLmJhbmR3aWR0aCk7dmFyIGc9YS5hYTtnJiYodGhpcy5tYT1nLmNyZWF0ZSh0aGlzLmwsdGhpcy5QYSkpO3RoaXMuWj0hMDthLk0uY3JlYXRlKCkudGhlbihKKHRoaXMsZnVuY3Rpb24oZyl7aWYodGhpcy5iKXt0aGlzLlo9ITE7dmFyIGs9dGhpcy5nO3RoaXMuZz1hO3RoaXMuYS5nZXRCb29sKCJ1c2VfbGl2ZV9iaXRyYXRlX2VzdGltYXRlcyIsITEpJiYodGhpcy5tPVVkKHRoaXMsKGEuYmFuZHdpZHRofHwwKSpmKSk7dmFyIGw9dGhpcy5mO3RoaXMuZj1nO3RoaXMuYy5EPXRoaXMuZjtsJiZsLmEuRmMoKTt1ZCh0aGlzLmYsZnVuY3Rpb24oYSl7dmFyIGI9YTt0aGlzLmomJnRoaXMuai5zZXRTZWdtZW50cyh0aGlzLmYuZ2V0U2VnbWVudHMoKSk7CnRoaXMudSYmKGE9YSYmdGhpcy5hLmdldEJvb2woIm9wdGltaXplX3N0cmVhbV9nZXRfc2VnbWVudHNfY2FsbHMiLCExKT9hOnRoaXMuZi5nZXRTZWdtZW50cygpLHRoaXMuYS5nZXRCb29sKCJ0ZW1wbGF0ZWRfdXBkYXRlX3NybV9ieV9kZWx0YV9vZl9jaGFuZ2VkX3JlZmVyZW5jZXNfYm9vbCIsITEpJiZ0aGlzLmYuSyYmYi5sZW5ndGg8dGhpcy5mLmdldFNlZ21lbnRzKCkubGVuZ3RoJiYoYT10aGlzLmYuZ2V0U2VnbWVudHMoKS5zbGljZSgtKGIubGVuZ3RoKzEpKSksWGQodGhpcyx0aGlzLmcuaWR8fCIiLGEpKX0uYmluZCh0aGlzKSk7dGhpcy5qJiZ0aGlzLmouc2V0U2VnbWVudHModGhpcy5mLmdldFNlZ21lbnRzKCkpO2lmKHRoaXMudSl7dmFyIGw9W10sbT10aGlzLmEuZ2V0TnVtYmVyKCJ0ZW1wbGF0ZWRfY2h1bmtlZF9zZWdtZW50X3VwZGF0ZV9saW1pdF9pbnQiLDApO2lmKG0pe2c9dGhpcy5mLmxlbmd0aCgpO2Zvcih2YXIgbT1NYXRoLm1pbihnLG0pLHA9MTtwPD1tOysrcClsLnB1c2godGhpcy5mLmdldChnLQpwKSl9ZWxzZSBsPWcuZ2V0U2VnbWVudHMoKTtYZCh0aGlzLGEuaWR8fCIiLGwpfXRoaXMudGE9ITA7dGhpcy5jYT1kP2Q6bnVsbDt0aGlzLlN8fCh0aGlzLmEuZ2V0Qm9vbCgibWFrZV9lYXJseV90cmFja19zZWxlY3Rpb24iLCExKSYmdGhpcy5oJiYhdGhpcy5QJiYhdGhpcy53P1YodGhpcywwKTprP2I/WWQodGhpcywhMCxjKTplJiZZZCh0aGlzLCExKTpWKHRoaXMsMCkpfX0pKS5jYXRjaChKKHRoaXMsZnVuY3Rpb24oYSl7dGhpcy5aPSExOyJhYm9ydGVkIiE9YS50eXBlJiYodGhpcy5CPyhhPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGEpKTp0aGlzLk8ucmVqZWN0KGEpKX0pKX19O24uQ2M9ZnVuY3Rpb24oYSl7cmV0dXJuIFlkKHRoaXMsISFhKX07bi5IYz1mdW5jdGlvbigpe3RoaXMua2E9ITB9O24uSmM9ZnVuY3Rpb24oYSl7dGhpcy5FYT1hfTsKZnVuY3Rpb24gWGQoYSxiLGMpe2EuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9jaHVua2VkX3NlZ21lbnRfdXBkYXRlX2xpbWl0X2ludCIsMCkmJmEudS51cGRhdGVTZWdtZW50SW5kZXgoYixhLmYpO2EuYS5nZXRCb29sKCJ1c2VfdXBkYXRlX3NlZ21lbnRzX2J5X3NoYWthX3JlZmVyZW5jZSIsITApJiZhLnUudXBkYXRlU2VnbWVudHNCeVNoYWthUmVmZXJlbmNlcyhiLGMpfQpmdW5jdGlvbiBZZChhLGIsYyl7YS5nJiYhYS5TJiYoYS5TPSEwLFZkKGEpLGEuVD0hMSxudWxsIT09YS5BJiZhLkEucmVzZXQoKSxhLmMuYWJvcnQoKS50aGVuKEooYSxmdW5jdGlvbigpe3ZhciBhPXRoaXMuYi5jdXJyZW50VGltZTt0aGlzLmEuZ2V0Qm9vbCgic2V0X2N1cnJlbnRfdGltZV9pbl9yZXN5bmMiLCExKSYmMD09YT8odGhpcy5sJiZCYW56YWlPRFMuYnVtcEVudGl0eUtleSgyOTY2LCJ2aWRlb3Mud3d3LnNoYWthIiwic2V0X2N1cnJlbnRfdGltZV9pbl9yZXN5bmMiKSxhPXRoaXMuZi5maXJzdCgpLnN0YXJ0VGltZSk6dGhpcy5hLmdldEJvb2woImJldHRlcl9zZXRfY3VycmVudF90aW1lX2luX3Jlc3luYyIsITEpJiZhPHRoaXMuZi5maXJzdCgpLnN0YXJ0VGltZSYmKEJhbnphaU9EUy5idW1wRW50aXR5S2V5KDI5NjYsInZpZGVvcy53d3cuc2hha2EiLCJzZXRfY3VycmVudF90aW1lX2luX3Jlc3luYyIpLGE9dGhpcy5mLmZpcnN0KCkuc3RhcnRUaW1lK3RoaXMuYS5nZXROdW1iZXIoInJlc3luY19zZXRfY3VycmVudF90aW1lX2Z1ZGdlX2ZhY3RvciIsCjApKTtpZighYiYmMDxyYih0aGlzLmMsYSkmJjA8PUZiKHRoaXMuYyxhKSlyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7aWYoYylyZXR1cm4gQ2IodGhpcy5jLHRoaXMuYi5jdXJyZW50VGltZStjKTt0aGlzLmlhPSEwO3JldHVybiBCYih0aGlzLmMpfSkpLnRoZW4oSihhLGZ1bmN0aW9uKCl7dGhpcy5TPSExO1YodGhpcywwKX0pKS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7dGhpcy5TPSExOyJhYm9ydGVkIiE9YS50eXBlJiYodGhpcy5CPyhhPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGEpKTp0aGlzLk8ucmVqZWN0KGEpKX0pKSl9bi5JYz1mdW5jdGlvbihhKXtyZXR1cm4gMDxyYih0aGlzLmMsYSkmJjA8PUZiKHRoaXMuYyxhKX07bi52Yj1mdW5jdGlvbigpe307bi5EYj1mdW5jdGlvbigpe3JldHVybiEwfTsKZnVuY3Rpb24gWmQoYSl7YS5lYT1hLmVhfHwhYS5iLnBhdXNlZDthLmIucGF1c2VkfHxhLmJhfHwoYS5ZPURhdGUubm93KCksYS5iYT0hMCk7dmFyIGI9YS5EYSxjPW51bGw7aWYoYi5pbkV4cGVyaW1lbnQpaWYoYi51c2VTbWFydEJ1ZmZlcmluZyl7aWYoYS5iYSYmYS5ZKXt2YXIgYz0oRGF0ZS5ub3coKS1hLlkpLzFFMyxkPW51bGw7MT5jP2M9bnVsbDooZD0zPmM/Yi5idWZmZXJTaXplXzAwX3RvXzAzOjEwPmM/Yi5idWZmZXJTaXplXzAzX3RvXzEwOjMwPmM/Yi5idWZmZXJTaXplXzEwX3RvXzMwOjYwPmM/Yi5idWZmZXJTaXplXzMwX3RvXzYwOmIuYnVmZmVyU2l6ZV9hYm92ZV82MCxjPU1hdGgubWluKGQsYS5iLmR1cmF0aW9uKSl9fWVsc2UgYS5ZJiYoYz1iLm5vblNtYXJ0QnVmZmVyU2l6ZSk7Y3x8KGM9YS5HYSYmYS5iLnBhdXNlZD9hLlI6YS5nYSxhLmIucGF1c2VkJiYxPGEubmEmJihjKj1hLm5hKSxhLmphJiYhYS5iLnBhdXNlZCYmKGM9TWF0aC5tYXgoTWF0aC5taW4oYS5mLmxhc3QoKS5lbmRUaW1lLQphLmIuY3VycmVudFRpbWUsYS5qYSksYS5nYSkpKTtjPShhLlU/YS5oJiZhLmVhOmEuaCk/TWF0aC5tYXgoYS5SLGMpOmEuUjswPGEuYS5nZXROdW1iZXIoImF1ZGlvX3ZpZGVvX2J1ZmZlcl9kaWZmX3RocmVzaG9sZCIsMTQ0MDApJiYoYj1hLmIuYnVmZmVyZWQubGVuZ3RoP2EuYi5idWZmZXJlZC5lbmQoYS5iLmJ1ZmZlcmVkLmxlbmd0aC0xKTowLGI9TWF0aC5tYXgoMCxiLWEuYi5jdXJyZW50VGltZSksYz1NYXRoLm1pbihjLGIrYS5hLmdldE51bWJlcigiYXVkaW9fdmlkZW9fYnVmZmVyX2RpZmZfdGhyZXNob2xkIiwxNDQwMCkpKTtyZXR1cm4gY30KZnVuY3Rpb24gJGQoYSl7dmFyIGI9YS5hLmdldE51bWJlcigic3RhcnRfc3RyZWFtX2J1ZmZlcl9zaXplIiwxKSxjPWEuYS5nZXROdW1iZXIoImxvd19zdGFydF9zdHJlYW1fYnVmZmVyX3NpemUiLDEpO2lmKGIhPT1jKXt2YXIgZD1hLmEuZ2V0TnVtYmVyKCJsb3dfYmFuZHdpZHRoX3N0YXJ0X3N0cmVhbV9idWZmZXJfc2l6ZV90aHJlc2hvbGQiLDApLGU9YS5hLmdldE51bWJlcigic2NoZWR1bGVkX3ZpZGVvc19zdGFydF9zdHJlYW1fYnVmZmVyX3NpemVfdGhyZXNob2xkIiwwKTtpZigwPGQmJmEucmEuZ2V0QmFuZHdpZHRoKCk8ZCYmVmlkZW9TdHJlYW1pbmdUYXNrUXVldWVQcm92aWRlci5nZXRRdWV1ZVNpemUoInZpZGVvIik+PWUpcmV0dXJuIGN9cmV0dXJuIGJ9ZnVuY3Rpb24gYWUoYSxiKXtyZXR1cm4gcmIoYS5jLGEuaD9iOmIrKGEuRHx8MCkpfQpmdW5jdGlvbiBiZShhKXtpZihhLmgmJiFhLkJ8fGEuYS5nZXRCb29sKCJtYWtlX2Vhcmx5X3RyYWNrX3NlbGVjdGlvbiIsITEpJiZhLlp8fGEuYS5nZXRCb29sKCJwcmV2ZW50X2ZldGNoX3doaWxlX2ZldGNoaW5nX2luX3N0cmVhbSIsITEpJiZhLlApcmV0dXJuIGEudz1udWxsLFByb21pc2UucmVzb2x2ZSgpO3ZhciBiO2lmKGI9YS5CJiYhYS5HKWI9MTxhLmMuYS5idWZmZXJlZC5sZW5ndGg/ITA6ITE7aWYoYiYmKGEua2F8fEhiKGEuYyxhLmIpKSlyZXR1cm4gYS54YSYmKGEuYi5jdXJyZW50VGltZT1HYihhLmIpKSxudWxsPT09YS5LJiYoYS5rYT0hMSxZZChhLCEwKSksUHJvbWlzZS5yZXNvbHZlKCk7YS5hLmdldE51bWJlcigiZGVjb3VwbGVfc3RyZWFtX29uX3VwZGF0ZV9sb29wX2Zyb21fcmVxdWVzdF9sb29wX2ludCIsMCl8fChhLnc9bnVsbCk7Yj1hLmc7dmFyIGM9YS5mLGQ9YS5iLmN1cnJlbnRUaW1lO2EuYS5nZXRCb29sKCJ1c2VfcGVuZGluZ19zZWVrX3Bvc2l0aW9uX2Zvcl9yZWZlcmVuY2UiLAohMSkmJjA9PT1hLmIucmVhZHlTdGF0ZSYmIWQmJmEuSiYmKGQ9YS5KKTtpZihhLlUmJiFhLmgmJmFlKGEsZCk+PSRkKGEpKXJldHVybiBhLmEuZ2V0Qm9vbCgiZml4X2Nocm9tZV9tc2VfcmVncmVzc2lvbiIsITEpJiYxPT09YS5iLnJlYWR5U3RhdGUmJjA8YS5iLmJ1ZmZlcmVkLmxlbmd0aCYmKGEuYi5jdXJyZW50VGltZT1hLmIuY3VycmVudFRpbWUpLGNlKGEpLFYoYSwwKSxQcm9taXNlLnJlc29sdmUoKTt2YXIgZT1udWxsLGY9W107bnVsbCE9PWEuSyYmKGQ9YS5LKTtpZihhZShhLGQpPj1aZChhKSlpZihhLlQ9ITAsbnVsbCE9PWEuSSYmYS5JLnJlc29sdmUoKSxhLlV8fGNlKGEpLGY9ZGUoYSk/amUoYSxkKTpbXSwwPGYubGVuZ3RoKWU9ZlswXTtlbHNlIHJldHVybiBWKGEsMUUzLyg1KihNYXRoLmFicyhhLmIucGxheWJhY2tSYXRlKXx8MSkpKSxQcm9taXNlLnJlc29sdmUoKTtlbHNle3ZhciBnPTE7YS5qJiYoZz1hLmouZ2V0TnVtYmVyT2ZTZWdtZW50cygpKTt2YXIgaD1xYihhLmMpOwphLlYmJihoPW51bGwsbnVsbCE9PWEuSyYmKGEuVj0hMSkpO2EuYS5nZXRCb29sKCJmaW5kX2xhc3RfaW5zZXJ0ZWRfc2VnbWVudF9pbl9zZWdtZW50X2luZGV4IiwhMSkmJmgmJiFjLmEuYSYmKGg9Yy5maW5kKGguc3RhcnRUaW1lKSk7YS5hLmdldEJvb2woInNldF9wZW5kaW5nX3NlZWtfb25fc2V0X2N1cnJlbnRfdGltZV9mYWlsdXJlIiwhMSkmJm51bGwhPWEuSiYmKGQ9YS5KLGEuSj1udWxsKTtnPWtlKGEsZCxjLGcsaCk7ZT1nWzBdO2EuaiYmKGEuai5zZXRGdXR1cmVTZWdtZW50cyhnKSxhLmouc2V0QnVmZmVyaW5nR29hbChaZChhKS1hZShhLGQpKSk7IWUmJmRlKGEpJiYoZj1qZShhLGQpLDA8Zi5sZW5ndGgmJihlPWZbMF0pKX1pZighZSlyZXR1cm4gY2UoYSksYS5CJiYhYS5HJiYoYS5HPSEwLFdkKGEpKSxWKGEsMjAwKSxQcm9taXNlLnJlc29sdmUoKTthLmEuZ2V0Qm9vbCgiY3JlYXRlX293bl9zZWdtZW50X3JlZmVyZW5jZV9mb3Jfc2JtIiwhMSkmJihlPWpkKGUsZS5zdGFydFRpbWUsCmUuZW5kVGltZSkpO2xlKGEsbWUoYSxkLGYpLGIuaWR8fCIiKTtuZShhLG1lKGEsZCxmKSk7YS5hLmdldEJvb2woInJlZnJlc2hfc2VnbWVudF9yZWZlcmVuY2VfZmFpbG92ZXJfdXJpIiwhMCkmJihlLnVybD1lLnVybC5jbG9uZSgpKTthLlA9ITA7YS53YT1EYXRlLm5vdygpOyJ2aWRlbyI9PT1iLm1pbWVUeXBlLnNwbGl0KCIvIilbMF0mJmEucmEuc2V0UmVwcmVzZW50YXRpb25JRChiLmlkKTtjPWEuYy5mZXRjaChlLGMucyxiLmErYS5FYSxhLm1hLGEudmEmJiFhLmIucGF1c2VkLDA8Zi5sZW5ndGgsYS51LGEuRik7Yz1jLnRoZW4oSihhLGZ1bmN0aW9uKGEpe3RoaXMuYS5nZXRCb29sKCJ1cGRhdGVzX3ByaW9yaXR5X29uX2ZldGNoX2NvbXBsZXRlIiwhMSkmJm5lKHRoaXMsbWUodGhpcyxkLFtdKSk7dGhpcy5zYS5pbmZvcm1OZXR3b3JrUmVzdW1lZCgpO3JldHVybiBhfSkpO2EuJCYmInZpZGVvIj09PWIubWltZVR5cGUuc3BsaXQoIi8iKVswXSYmYS4kLmFkZChlLnN0YXJ0VGltZXx8CjAsZS5lbmRUaW1lfHwwLHtpZDpiLmlkLHJlYXNvbjphLmNhLHBlcmZvcm1hbmNlTG9nZ2VyOmEubD9hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJzdHJlYW1fc3dpdGNoIik6bnVsbH0pO2EubWE9bnVsbDthLnRhJiYoYS50YT0hMSxmPWEuY2EsYS5jYT1udWxsLG9lKGEsYixmLGEubGEoKSkpO2EuRz0hMTtyZXR1cm4gYy50aGVuKEooYSxmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5hLmdldEJvb2woImNsZWFyX29sZF9idWZmZXIiLCExKT9FYih0aGlzLmMsdGhpcy5iLmN1cnJlbnRUaW1lKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGF9KTphfSkpLnRoZW4oSihhLGZ1bmN0aW9uKGEpe3ZhciBiPWEuVyxjPWEuV2M7dGhpcy5ofHwodGhpcy55YT1jKTt0aGlzLmEuZ2V0Qm9vbCgidXNlX2xpdmVfYml0cmF0ZV9lc3RpbWF0ZXMiLCExKSYmbnVsbCE9YSYmMDxhLkRjJiYwPGEuSCYmKG51bGw9PT10aGlzLm0mJih0aGlzLm09VWQodGhpcyx0aGlzLmcuYmFuZHdpZHRofHwwKSksdGhpcy5tLnNhbXBsZSg4KgphLkRjLGEuSCkpO2E9dGhpcy5hLmdldE51bWJlcigiYnVmZmVyX3ZlbG9jaXR5X3RpbWVfaW5fcGFzdF90b19jb25zaWRlciIsMCk7MDxhJiZudWxsIT09dGhpcy5nJiYidmlkZW8iPT09TWQodGhpcy5nKSYmKG51bGw9PT10aGlzLkEmJih0aGlzLkE9bmV3IEJ1ZmZlclZlbG9jaXR5KGEpKSx0aGlzLkEucmVjb3JkQnVmZmVyQWhlYWQocmIodGhpcy5jLHRoaXMuYi5jdXJyZW50VGltZSkpKTt0aGlzLlA9ITE7InZpZGVvIj09PSh0aGlzLmc/dGhpcy5nLm1pbWVUeXBlLnNwbGl0KCIvIilbMF06bnVsbCkmJnRoaXMuZGlzcGF0Y2hFdmVudCh5KHt0eXBlOiJmZXRjaF9lbmQiLGJ1YmJsZXM6ITAsZGV0YWlsOntzdHJlYW1fZmV0Y2hfdGltZV9tczpEYXRlLm5vdygpLXRoaXMud2Esc2VnbWVudF9sZW5ndGhfbXM6MUUzKihlLmVuZFRpbWUtZS5zdGFydFRpbWUpfX0pKTtudWxsPT10aGlzLkQmJih0aGlzLkQ9Yik7dGhpcy5pYSYmMDxyYih0aGlzLmMsZCkmJih0aGlzLmlhPSExLHRoaXMuYS5nZXRCb29sKCJkaXNhYmxlX251ZGdlIiwKITEpfHwoYj15KHt0eXBlOiJzaG91bGRfbnVkZ2UifSksdGhpcy5kaXNwYXRjaEV2ZW50KGIpKSk7Vih0aGlzLDApfSkpLmNhdGNoKEooYSxmdW5jdGlvbihhKXt0aGlzLlA9ITE7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfSkpfWZ1bmN0aW9uIG1lKGEsYixjKXt2YXIgZD1hLmg/YjpiKyhhLkR8fDApO3JldHVybnthZGRpdGlvbmFsU2VnbWVudHNSZXF1aXJlZDpjLHBsYXloZWFkOmIsYnVmZmVyU3RhcnQ6ZCxidWZmZXJFbmQ6YWUoYSxiKStkLGJ1ZmZlcmluZ0dvYWw6WmQoYSksaXNQbGF5aW5nOiFhLmIucGF1c2VkfX1mdW5jdGlvbiBsZShhLGIsYyl7YS51JiZhLnUudXBkYXRlUGxheWVyU3RhdGUoYyxiKX1mdW5jdGlvbiBuZShhLGIpe2EuRiYmYS5GLnVwZGF0ZVBsYXllclN0YXRlKGIpfQpmdW5jdGlvbiBwZShhLGIsYyl7dmFyIGQ9bnVsbCE9PWEuaSYmLTE8YS5pJiZhLmk8Yy5sZW5ndGgoKS0xP2MuZ2V0KGEuaSk6bnVsbCxlPW51bGw7aWYobnVsbD09PWEuaXx8IWR8fGQuc3RhcnRUaW1lPmIpcmV0dXJuIGU9Yy5maW5kSW5kZXgoYiksYS5pPWU7Zm9yKGQ9YS5pO2Q8PWEuaSsxO2QrKylpZihlPWMuZ2V0KGQpLGUuc3RhcnRUaW1lPD1iJiZlLmVuZFRpbWU+YilyZXR1cm4gYS5pPWQ7ZT1jLmZpbmRJbmRleChiKTtyZXR1cm4oYS5pPWUpfHwtMX1mdW5jdGlvbiBkZShhKXtyZXR1cm4gYS5hLmdldEJvb2woInJlcGxhY2VfbG93ZXJfcXVhbGl0eV9idWZmZXIiLCExKSYmbnVsbD09PWEuRiYmYS5lYSYmbnVsbCE9PWEuJCYmInZpZGVvIj09PU1kKGEuZykmJm51bGwhPT1hLmZ9CmZ1bmN0aW9uIGplKGEsYil7aWYoIWEuRmF8fCFhLmcuaWR8fCFhLmYpcmV0dXJuW107dmFyIGM9cGUoYSxiLGEuZik7cmV0dXJuLTE9PT1jP1tdOkJ1ZmZlclJlcGxhY2VtZW50SGVscGVyLmdldFNlZ21lbnRzVG9SZXBsYWNlTG93ZXJRdWFsaXR5KGEuZi5nZXRTZWdtZW50cygpLGIsYyxhLmcuaWQsYS5GYSxhLiQse3RocmVzaG9sZEJlZm9yZTphLmEuZ2V0TnVtYmVyKCJidWZmZXJfcmVwbGFjZW1lbnRfYmVoaW5kX3RocmVzaG9sZCIsNSksdGhyZXNob2xkQWZ0ZXI6YS5hLmdldE51bWJlcigiYnVmZmVyX3JlcGxhY2VtZW50X2FoZWFkX3RocmVzaG9sZCIsMTUpLHdyYXBSZXBsYWNlbWVudFBhc3RFbmQ6YS5hLmdldEJvb2woIndyYXBfcmVwbGFjZW1lbnRfcGFzdF9lbmQiLCExKX0pfQpuLnpjPWZ1bmN0aW9uKCl7dmFyIGE7aWYodGhpcy5sKXt2YXIgYj10aGlzLmEuZ2V0TnVtYmVyKCJzdHJlYW1fb251cGRhdGVfc2FtcGxpbmciLDApO2ImJjA9PT1NYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqYikmJihhPXRoaXMubC5nZXRPcGVyYXRpb25Mb2dnZXIoInN0cmVhbV9vbnVwZGF0ZSIpLnN0YXJ0KCkpfXZhciBjO3RoaXMuYS5nZXROdW1iZXIoImRlY291cGxlX3N0cmVhbV9vbl91cGRhdGVfbG9vcF9mcm9tX3JlcXVlc3RfbG9vcF9pbnQiLDApJiZWKHRoaXMsdGhpcy5hLmdldE51bWJlcigiZGVjb3VwbGVfc3RyZWFtX29uX3VwZGF0ZV9sb29wX2Zyb21fcmVxdWVzdF9sb29wX2ludCIsMCkpO2lmKHRoaXMuYS5nZXRCb29sKCJjYXRjaF9zdHJlYW1fdXBkYXRlX3N5bmNfY29kZV9lcnJvciIsITEpKXRyeXtjPWJlKHRoaXMpfWNhdGNoKGQpe2QudHlwZT0idW5jYXVnaHQiLGEmJmEuc2V0RXJyb3IoZCksYz1Qcm9taXNlLnJlamVjdChkKX1lbHNlIGM9YmUodGhpcyk7Yy5jYXRjaChKKHRoaXMsCmZ1bmN0aW9uKGEpe2lmKCJhYm9ydGVkIiE9YS50eXBlKXtpZigic291cmNlYnVmZmVyX2Z1bGwiPT09YS50eXBlKXJldHVybiBCYih0aGlzLmMpLnRoZW4oSih0aGlzLGZ1bmN0aW9uKCl7Vih0aGlzLDApfSkpO3ZhciBiPVswLDQwNCw0MTAsNTAyLDUwMyw1MDRdO3RoaXMuYS5nZXRCb29sKCJlbmFibGVfZG91YmxlX2luZ2VzdCIsITEpJiZiLnB1c2goNDE3LDIwMCk7Yj0tMT09PWIuaW5kZXhPZihhLnN0YXR1cyk7aWYoIm5ldCI9PT1hLnR5cGUmJiFiJiZ0aGlzLmcpaWYodGhpcy5hLmdldEJvb2woImFsbG93X2luZmluaXRlX3JldHJ5X29uX25ldF9lcnIiLCEwKSlzd2l0Y2goYS5zdGF0dXMpe2Nhc2UgNDA0OlYodGhpcywyRTMpO2JyZWFrO2Nhc2UgNDEwOnRoaXMuYS5nZXRCb29sKCJlbmRfYWxsX3N0cmVhbXNfb25fNDEwIiwhMSk/cWUodGhpcyk6dGhpcy5DYigpO2JyZWFrO2Nhc2UgNDE3OmNhc2UgMjAwOmEucmVzcG9uc2VIZWFkZXJzJiZudWxsIT1hLnJlc3BvbnNlSGVhZGVyc1sieC1mYi12aWRlby1yZXBsaWNhIl0/CnRoaXMuZGlzcGF0Y2hFdmVudCh5KHt0eXBlOiJyZXBsaWNhc3dpdGNoIixidWJibGVzOiEwLHJlcGxpY2E6YS5yZXNwb25zZUhlYWRlcnNbIngtZmItdmlkZW8tcmVwbGljYSJdLHVybDphLnVybCxzdGF0dXM6YS5zdGF0dXN9KSk6Yj0hMDticmVhaztkZWZhdWx0OlYodGhpcywxRTMpfWVsc2UgVih0aGlzLDFFMyksYj0hMDswPT09YS5zdGF0dXM/dGhpcy5zYS5pbmZvcm1OZXR3b3JrSW50ZXJydXB0ZWQoKTp0aGlzLnNhLmluZm9ybU5ldHdvcmtSZXN1bWVkKCk7aWYoIXRoaXMuYS5nZXRCb29sKCJhbGxvd19pbmZpbml0ZV9yZXRyeV9vbl9uZXRfZXJyIiwhMCl8fGIpYj1BKGEpLHRoaXMuZGlzcGF0Y2hFdmVudChiKSx0aGlzLmwmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgYj10aGlzLmwuZ2V0RXZlbnRMb2dnZXIoInN0cmVhbV9lcnJvcl9mYWxsYmFjayIpLnNldEVycm9yKGEpLnNldFR5cGUodGhpcy5DYS5zcGxpdCgiLyIpWzBdKTt0aGlzLmI/Yi5zZXRSZXN1bHQoImZhaWxlZCIpOgpiLnNldFJlc3VsdCgic3VjY2VzcyIpO2IubG9nKCl9LmJpbmQodGhpcyksMCl9fSkpO2EmJmEubG9nKCl9O2Z1bmN0aW9uIGtlKGEsYixjLGQsZSl7dmFyIGY9LTE7aWYoYS5hLmdldEJvb2woInRlbXBsYXRlZF9mYXN0ZXJfc3RyZWFtX2dldF9uZXh0X24iLCExKSYmMT09PWQmJm51bGwhPWUmJm51bGwhPWUuZW5kVGltZSlyZXR1cm4oYz1jLmZpbmQoZS5lbmRUaW1lKSk/W2NdOltdO251bGwhPWU/Zj1udWxsIT1lLmVuZFRpbWU/Yy5maW5kSW5kZXgoZS5lbmRUaW1lKTotMTooZj1wZShhLGIsYyksMD5mJiYoZj1jLmxlbmd0aCgpP2MubGVuZ3RoKCktMTotMSkpO2E9W107aWYoMDw9Zilmb3IoYj1mO2I8ZitkJiZiPGMubGVuZ3RoKCk7YisrKWEucHVzaChjLmdldChiKSk7cmV0dXJuIGF9CmZ1bmN0aW9uIGNlKGEpe2lmKCFhLmgmJm51bGwhPWEuRCl7YS5oPSEwO3ZhciBiPWEuYyxjPWEuRCxkPWMtYi5VOzAhPWQmJihiLmI9a2QoYi5iLGQpLGIuVT1jKTthLk8ucmVzb2x2ZShhLkQpfX1uLkVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaH07VS5wcm90b3R5cGUuaGFzU3RhcnRlZD1VLnByb3RvdHlwZS5FZDtVLnByb3RvdHlwZS5rYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLlR9O1UucHJvdG90eXBlLmhhc0hpdEJ1ZmZlcmluZ0dvYWw9VS5wcm90b3R5cGUua2I7VS5wcm90b3R5cGUubGE9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09PXRoaXMubT9udWxsOnRoaXMubS5nZXRFc3RpbWF0ZSgpfTtVLnByb3RvdHlwZS5nZXRCaXRyYXRlRXN0aW1hdGU9VS5wcm90b3R5cGUubGE7VS5wcm90b3R5cGUucWI9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09PXRoaXMuQT9udWxsOnRoaXMuQS5nZXRWZWxvY2l0eSgpfTtVLnByb3RvdHlwZS5nZXRCdWZmZXJWZWxvY2l0eT1VLnByb3RvdHlwZS5xYjsKZnVuY3Rpb24gb2UoYSxiLGMsZCl7dmFyIGU9Yi5taW1lVHlwZS5zcGxpdCgiLyIpWzBdO2I9eSh7dHlwZToiYWRhcHRhdGlvbiIsaWQ6Yi5pZCxidWJibGVzOiEwLGNvbnRlbnRUeXBlOmUsc2l6ZToidmlkZW8iIT1lP251bGw6e3dpZHRoOmIud2lkdGgsaGVpZ2h0OmIuaGVpZ2h0fSxiYW5kd2lkdGg6ZHx8Yi5iYW5kd2lkdGgscmVhc29uOmN9KTthLmRpc3BhdGNoRXZlbnQoYil9ZnVuY3Rpb24gcWUoYSl7dmFyIGI9eSh7dHlwZToic2hvdWxkX2VuZF9hbGxfc3RyZWFtcyJ9KTthLmRpc3BhdGNoRXZlbnQoYil9ZnVuY3Rpb24gV2QoYSl7dmFyIGI9eSh7dHlwZToiZW5kZWQifSk7YS5kaXNwYXRjaEV2ZW50KGIpfVUucHJvdG90eXBlLk9hPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuRn07VS5wcm90b3R5cGUuZ2V0VmlkZW9TdHJlYW1pbmdNYW5hZ2VyPVUucHJvdG90eXBlLk9hOwpmdW5jdGlvbiBWKGEsYil7VmQoYSk7IWImJmEuSGE/UHJvbWlzZS5yZXNvbHZlKCkudGhlbihhLnpjLmJpbmQoYSkpOmEudz1zZXRUaW1lb3V0KGEuemMuYmluZChhKSxiKX1mdW5jdGlvbiBWZChhKXtudWxsIT1hLncmJihjbGVhclRpbWVvdXQoYS53KSxhLnc9bnVsbCl9VS5wcm90b3R5cGUuc2I9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy55YX07VS5wcm90b3R5cGUuZ2I9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jLml9O1UucHJvdG90eXBlLmdldFN0cmVhbVByb2dyZXNzVHJhY2tlcj1VLnByb3RvdHlwZS5nYjtmdW5jdGlvbiByZShhLGIpe2EuSz1iO2EuVj0hMDthLkl8fChhLkk9bmV3IEkpO3JldHVybiBhLkl9O2Z1bmN0aW9uIHNlKGEpe3RoaXMuYj1hO3RoaXMuYT1udWxsfXNlLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5hJiYodGhpcy5hLmRlc3Ryb3koKSx0aGlzLmE9bnVsbCl9O3NlLnByb3RvdHlwZS5jcmVhdGU9ZnVuY3Rpb24oKXtpZih0aGlzLmEpcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLmEpO3ZhciBhPW5ldyBpZCgwLG51bGwsdGhpcy5iLDAsMCksYT1uZXcgVChbYV0sMSk7dGhpcy5hPW5ldyBSKGEpO3JldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5hKX07c2UucHJvdG90eXBlLmM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hfTtmdW5jdGlvbiB0ZShhLGIpe0YuY2FsbCh0aGlzLGEpO3RoaXMuYj1iO3RoaXMuaj0hMDt0aGlzLm09dGhpcy5nPW51bGw7dGhpcy5mPW5ldyBJO3RoaXMuYT1udWxsfXIodGUsRik7dGUucHJvdG90eXBlLnBhPWZ1bmN0aW9uKCl7fTt0ZS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuYSYmdGhpcy5iLnJlbW92ZUNoaWxkKHRoaXMuYSk7dGhpcy5mLmRlc3Ryb3koKTt0aGlzLkphPXRoaXMuYj10aGlzLmc9dGhpcy5tPXRoaXMuYT10aGlzLmY9bnVsbH07bj10ZS5wcm90b3R5cGU7bi5XYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmd9O24uRmI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tfTtuLktjPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZn07bi5mYj1mdW5jdGlvbigpe3JldHVybiEwfTtuLkNiPWZ1bmN0aW9uKCl7fTsKbi5qYj1mdW5jdGlvbihhKXthLk0uY3JlYXRlKCkudGhlbihKKHRoaXMsZnVuY3Rpb24oYil7aWYodGhpcy5iKXtpZigwPT1iLmxlbmd0aCgpKXJldHVybiBQcm9taXNlLnJlamVjdChFcnJvcigiTm8gc3VidGl0bGVzIFVSTCBhdmFpbGFibGUuIikpO3ZhciBjPXRoaXMuZzt0aGlzLmc9YTt0aGlzLm09YjtiPWIuZmlyc3QoKS51cmwuY1swXS50b1N0cmluZygpO3ZhciBkPXRoaXMuRGIoKTt0aGlzLmEmJih0aGlzLnZiKCExKSx0aGlzLmIucmVtb3ZlQ2hpbGQodGhpcy5hKSk7dGhpcy5hPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRyYWNrIik7dGhpcy5iLmFwcGVuZENoaWxkKHRoaXMuYSk7dGhpcy5hLnNyYz1iO3RoaXMudmIoZCk7Yj15KHt0eXBlOiJhZGFwdGF0aW9uIixidWJibGVzOiEwLGNvbnRlbnRUeXBlOiJ0ZXh0IixzaXplOm51bGwsYmFuZHdpZHRoOmEuYmFuZHdpZHRofSk7dGhpcy5kaXNwYXRjaEV2ZW50KGIpO2N8fHRoaXMuZi5yZXNvbHZlKDApfX0pKX07bi5DYz1mdW5jdGlvbigpe307Cm4uSGM9ZnVuY3Rpb24oKXt9O24uSWM9ZnVuY3Rpb24oKXtyZXR1cm4hMH07bi52Yj1mdW5jdGlvbihhKXt0aGlzLmo9YTt0aGlzLmEmJih0aGlzLmEudHJhY2subW9kZT1hPyJzaG93aW5nIjoiZGlzYWJsZWQiKX07bi5EYj1mdW5jdGlvbigpe3RoaXMuYSYmKHRoaXMuaj0ic2hvd2luZyI9PXRoaXMuYS50cmFjay5tb2RlKTtyZXR1cm4gdGhpcy5qfTtuLnNiPWZ1bmN0aW9uKCl7cmV0dXJuIDB9O24uSmM9ZnVuY3Rpb24oKXt9O2Z1bmN0aW9uIHVlKCl7fQp1ZS5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9bnVsbDt0cnl7dmFyIGY7dmFyIGc9bmV3IElhKGIpO2lmKDQ0MDc4Njg1MSE9S2EoZykuaWQpZj1udWxsO2Vsc2V7dmFyIGg9S2EoZyk7aWYoNDA4MTI1NTQzIT1oLmlkKWY9bnVsbDtlbHNle3ZhciBrPWguYS5ieXRlT2Zmc2V0LGw7dmFyIG09bmV3IElhKGguYSk7Zm9yKGI9bnVsbDtEYShtLmEpOyl7dmFyIHA9S2EobSk7aWYoMzU3MTQ5MDMwPT1wLmlkKXtiPXA7YnJlYWt9fWlmKGIpe2Zvcih2YXIgdD1uZXcgSWEoYi5hKSxwPTFFNixtPW51bGw7RGEodC5hKTspe3ZhciB3PUthKHQpO2lmKDI4MDc3Mjk9PXcuaWQpcD1PYSh3KTtlbHNlIGlmKDE3NTQ1PT13LmlkKWlmKGI9dyw0PT1iLmEuYnl0ZUxlbmd0aCltPWIuYS5nZXRGbG9hdDMyKDApO2Vsc2UgaWYoOD09Yi5hLmJ5dGVMZW5ndGgpbT1iLmEuZ2V0RmxvYXQ2NCgwKTtlbHNlIHRocm93IG5ldyBSYW5nZUVycm9yKCJFYm1sRWxlbWVudDogZmxvYXRpbmcgcG9pbnQgbnVtYmVycyBtdXN0IGJlIDQgb3IgOCBieXRlcy4iKTt9bnVsbD09Cm0/bD1udWxsOih0PXAvMUU5LGw9e0diOnQsZHVyYXRpb246bSp0fSl9ZWxzZSBsPW51bGw7Zj1sP3tBZDprLEdiOmwuR2IsZHVyYXRpb246bC5kdXJhdGlvbn06bnVsbH19aWYoZil7dmFyIHo9S2EobmV3IElhKGEpKTtpZig0NzUyNDk1MTUhPXouaWQpZT1udWxsO2Vsc2V7dmFyIEg9Zi5BZCxkYT1mLkdiLGVhPWYuZHVyYXRpb247YT1bXTtmb3IodmFyIEFhPW5ldyBJYSh6LmEpLGs9Zj16PS0xO0RhKEFhLmEpOyl7dmFyIGNiPUthKEFhKTtpZigxODc9PWNiLmlkKXt2YXIgbmE7dmFyIHZkPW5ldyBJYShjYi5hKSx3ZD1LYSh2ZCk7aWYoMTc5IT13ZC5pZCluYT1udWxsO2Vsc2V7dmFyIFllPU9hKHdkKSx4ZD1LYSh2ZCk7aWYoMTgzIT14ZC5pZCluYT1udWxsO2Vsc2V7dmFyIGVlPW5ldyBJYSh4ZC5hKTtmb3IobD0wO0RhKGVlLmEpOyl7dmFyIGZlPUthKGVlKTtpZigyNDE9PWZlLmlkKXtsPU9hKGZlKTticmVha319bmE9e3piOlllLHlkOmx9fX1pZihuYSl7dmFyIGdlPWRhKm5hLnpiLApoZT1IK25hLnlkO2lmKDA8PXope3ZhciBOYz1uZXcgSyhkLGMsayxoZS0xKSxBZj1uYS56Yi1mO2EucHVzaChuZXcgaWQoeixnZSxOYyxuYS56YixBZikpfXo9Z2U7Zj1uYS56YjtrPWhlfX19MDw9eiYmKE5jPW5ldyBLKGQsYyxrLG51bGwpLGEucHVzaChuZXcgaWQoeixlYSxOYyxmLGVhL2RhLWYpKSk7ZT1hfX1lbHNlIGU9bnVsbH1jYXRjaChpZSl7aWYoIShpZSBpbnN0YW5jZW9mIFJhbmdlRXJyb3IpKXRocm93IGllO31yZXR1cm4gZX07ZnVuY3Rpb24gdmUoYSxiLGMsZCxlLGYsZyxoLGssbCxtKXt0aGlzLmg9YTt0aGlzLm89Yjt0aGlzLmI9Yzt0aGlzLm09bHx8bnVsbDt0aGlzLmo9bXx8bnVsbDt0aGlzLmE9ZDt0aGlzLmc9ZTt0aGlzLmY9Zjt0aGlzLnc9Zzt0aGlzLlJhPW51bGw7dGhpcy5pPWg7dGhpcy5sPWt8fG51bGw7dGhpcy51PW51bGx9dmUucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmk9dGhpcy5vPXRoaXMuaD1udWxsO3RoaXMuYS5LYSgpO3RoaXMuYT1udWxsO3RoaXMuZiYmKHRoaXMuZi5LYSgpLHRoaXMuZj1udWxsKTt0aGlzLmcmJih0aGlzLmcuS2EoKSx0aGlzLmc9bnVsbCk7dGhpcy5SYT1udWxsfTt2ZS5wcm90b3R5cGUuUWM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5SYX07dmUucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbigpe3JldHVybiB3ZSh0aGlzKX07dmUucHJvdG90eXBlLnBiPWZ1bmN0aW9uKCl7cmV0dXJuIHdlKHRoaXMpfTsKZnVuY3Rpb24gd2UoYSl7aWYoYS5SYSlyZXR1cm4gYS5SYTt2YXIgYj1udWxsO2EubCYmKGI9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigiY3JlYXRlX2NvbnRhaW5lcl9zZWdtZW50X2luZGV4X3NvdXJjZSIpLnN0YXJ0KCkpO2lmKG51bGwhPT1hLm0mJihudWxsIT09YS5qfHwid2VibSIhPT1hLmIpKXJldHVybiB4ZShhLGEubSxhLmosYik7dmFyIGM9W2EuYS5mZXRjaChudWxsLG51bGwsYS5sLGIpXTsid2VibSI9PWEuYiYmYy5wdXNoKGEuZy5mZXRjaChudWxsLG51bGwsYS5sLGIpKTthLlJhPVByb21pc2UuYWxsKGMpLnRoZW4oSihhLGZ1bmN0aW9uKGEpe3JldHVybiB4ZSh0aGlzLGFbMF0sYVsxXXx8bnVsbCxiKX0pKTtyZXR1cm4gYS5SYX0KZnVuY3Rpb24geGUoYSxiLGMsZCl7dmFyIGU9bnVsbDsibXA0Ij09YS5iPyhlPW5ldyB0ZCxlPWUucGFyc2UobmV3IERhdGFWaWV3KGIpLGEuYS5zdGFydEJ5dGUsYS5hLmMsYS5pLGEuZikpOiJ3ZWJtIj09YS5iJiYoZT1uZXcgdWUsZT1lLnBhcnNlKG5ldyBEYXRhVmlldyhiKSxuZXcgRGF0YVZpZXcoYyksYS5hLmMsYS5pKSk7aWYoIWUpcmV0dXJuIGE9RXJyb3IoIkZhaWxlZCB0byBwYXJzZSBTZWdtZW50UmVmZXJlbmNlcyBmcm9tICIrYS5hLnRvU3RyaW5nKCkrIiAob3Igb25lIG9mIGl0cyBmYWxsYmFja3MpLiIpLGEudHlwZT0ic3RyZWFtIixQcm9taXNlLnJlamVjdChhKTtiPW5ldyBUKGUsZS5zKTt2YXIgZjsiZHluYW1pYyI9PWEuaC50eXBlP2Y9bmV3IFMoYixhLmgsYS5vLGEudyk6Zj1uZXcgUihiKTtkJiZkLmxvZygpO2EudT1mO3JldHVybiBQcm9taXNlLnJlc29sdmUoZil9dmUucHJvdG90eXBlLmM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51fTtmdW5jdGlvbiB5ZShhLGIsYyxkKXt0aGlzLmM9YTt0aGlzLmI9Yjt0aGlzLmw9Y3x8bnVsbDt0aGlzLmE9ZHx8bnVsbH0KZnVuY3Rpb24gemUoYSxiLGMpe2Zvcih2YXIgZD15YSgpLzFFMyxlPTA7ZTxiLmEubGVuZ3RoOysrZSlmb3IodmFyIGY9Yi5hW2VdLGc9MDtnPGYuYS5sZW5ndGg7KytnKXt2YXIgaD1mLmFbZ107aWYoInRleHQiIT1oLmNvbnRlbnRUeXBlKWZvcih2YXIgaz0wO2s8aC5hLmxlbmd0aDsrK2spe3ZhciBsPWguYVtrXSxtPTAsbT1tKyhsLmY/MTowKSxtPW0rKGwuYj8xOjApLG09bSsobC5hPzE6MCk7MD09bT8oaC5hLnNwbGljZShrLDEpLC0tayk6MSE9bSYmKGwuZj8obC5iPW51bGwsbC5hPW51bGwpOmwuYiYmKGwuYT1udWxsKSl9fUFlKGIpO2ZvcihlPTA7ZTxiLmEubGVuZ3RoOysrZSlmb3IoZj1iLmFbZV0sZz0wO2c8Zi5hLmxlbmd0aDsrK2cpe2s9aD1mLmFbZ107bD1udWxsO2ZvcihtPTA7bTxrLmEubGVuZ3RoOysrbSl7dmFyIHA9ay5hW21dLm1pbWVUeXBlfHwiIjtsP3AhPWwmJihrLmEuc3BsaWNlKG0sMSksLS1tKTpsPXB9MD09aC5hLmxlbmd0aCYmKGYuYS5zcGxpY2UoZywxKSwKLS1nKX1iLm1hbmlmZXN0SXNMaXZlU3RyZWFtaW5nJiZudWxsPT1iLmMmJihiLmM9ZCk7ZT1uZXcgVGQ7ImR5bmFtaWMiPT1iLnR5cGUmJihlLmI9ITAsZS5jPWIuZyxlLmk9bmV3IEsoYyxiLnV8fGIudXJsLHZvaWQgMCx2b2lkIDAsdm9pZCAwLGEuYSksZS5qPWIuYyk7ZS5CPWIuaHx8MDtlLm09Yi5pfHwwO2Uubz1iLmp8fDA7ZS5nPWIubXx8NTtmb3IoZj0wO2Y8Yi5hLmxlbmd0aDsrK2Ype2c9Yi5hW2ZdO2lmKG51bGw9PWcuc3RhcnQpYnJlYWs7Zz1CZShhLGIsZyxkLGMpO2UuYS5wdXNoKGcpfWUuZj1iLkZCSXNMaXZlVGVtcGxhdGVkO2EubCYmYS5sLnNldElzVGVtcGxhdGVkTWFuaWZlc3QoYi5GQklzTGl2ZVRlbXBsYXRlZCk7ZS5BPWIuRkJXYXNMaXZlO2E9bnVsbDtjPSJub25lIjtmb3IoZj0wO2Y8Yi5hLmxlbmd0aDtmKyspZm9yKGc9Yi5hW2ZdLGQ9MDtkPGcuYS5sZW5ndGg7ZCsrKWZvcihoPWcuYVtkXSxrPTA7azxoLmEubGVuZ3RoO2srKylsPWguYVtrXS5pLG51bGwhPQpsJiZudWxsIT1sLnZhbHVlJiYoYT1jPWwudmFsdWUsInVybjptcGVnOmRhc2g6MjMwMDM6MzphdWRpb19jaGFubmVsX2NvbmZpZ3VyYXRpb246MjAxMSI9PT1sLmEmJigiMSI9PT1hP2M9Im1vbm8iOiIyIj09PWEmJihjPSJzdGVyZW8iKSkpO2Uudz1jO2E9cGFyc2VJbnQoYSwxMCk7ZS51PTA8YT9hOm51bGw7cmV0dXJuIGV9CmZ1bmN0aW9uIEFlKGEpe2lmKGEuYS5sZW5ndGgpe251bGw9PWEuYVswXS5zdGFydCYmKGEuYVswXS5zdGFydD0wKTt2YXIgYj1mdW5jdGlvbihhKXtyZXR1cm4gMD09YXx8ISFhfTthLm1hbmlmZXN0SXNMaXZlU3RyZWFtaW5nJiYoYS5iPW51bGwpO2IoYS5iKSYmMT09YS5hLmxlbmd0aCYmIWIoYS5hWzBdLmR1cmF0aW9uKSYmKGEuYVswXS5kdXJhdGlvbj1hLmIpO2Zvcih2YXIgYz0wLGQ9ITAsZT0wO2U8YS5hLmxlbmd0aDsrK2Upe3ZhciBmPWEuYVtlLTFdLGc9YS5hW2VdLGg9YS5hW2UrMV18fHtzdGFydDphLmJ9OyFiKGcuc3RhcnQpJiZmJiZiKGYuc3RhcnQpJiZiKGYuZHVyYXRpb24pJiYoZy5zdGFydD1mLnN0YXJ0K2YuZHVyYXRpb24pOyFiKGcuZHVyYXRpb24pJiZiKGguc3RhcnQpJiYoZy5kdXJhdGlvbj1oLnN0YXJ0LWcuc3RhcnQpO251bGwhPWcuc3RhcnQmJm51bGwhPWcuZHVyYXRpb24/Yys9Zy5kdXJhdGlvbjpkPSExfWIoYS5iKXx8KGU9YS5hW2EuYS5sZW5ndGgtMV0sCmQ/YS5iPWM6YihlLnN0YXJ0KSYmYihlLmR1cmF0aW9uKT9hLmI9ZS5zdGFydCtlLmR1cmF0aW9uOmEubWFuaWZlc3RJc0xpdmVTdHJlYW1pbmd8fChhLmI9YykpfX0KZnVuY3Rpb24gQmUoYSxiLGMsZCxlKXt2YXIgZj1uZXcgU2Q7Zi5pZD1jLmlkO2Yuc3RhcnQ9Yy5zdGFydDtmLmR1cmF0aW9uPWMuZHVyYXRpb247dmFyIGc9bmV3IEQ7Yy5hLmZvckVhY2goZnVuY3Rpb24oYSl7Zy5wdXNoKGEuY29udGVudFR5cGV8fCIiLGEpfSk7Zm9yKHZhciBoPWFiKGcpLGs9MDtrPGgubGVuZ3RoOysrayl7dmFyIGw9bmV3IEQ7Zy5nZXQoaFtrXSkuZm9yRWFjaChmdW5jdGlvbihhKXtsLnB1c2goYS5ncm91cCxhKX0pO2Zvcih2YXIgbT1hYihsKSxwPTA7cDxtLmxlbmd0aDsrK3Ape3ZhciB0PW5ldyBEO2wuZ2V0KG1bcF0pLmZvckVhY2goZnVuY3Rpb24oYSl7dC5wdXNoKGEubGFuZyxhKX0pO2Zvcih2YXIgdz1hYih0KSx6PTA7ejx3Lmxlbmd0aDsrK3ope3ZhciBIPXQuZ2V0KHdbel0pLEg9Q2UoYSxiLGMsSCxkLGUpO2YuYS5wdXNoKEgpfX19cmV0dXJuIGZ9CmZ1bmN0aW9uIENlKGEsYixjLGQsZSxmKXtiYShkLmV2ZXJ5KGZ1bmN0aW9uKGEpe3JldHVybiBhLmdyb3VwPT1kWzBdLmdyb3VwJiYoYS5sYW5nfHwiIik9PShkWzBdLmxhbmd8fCIiKSYmKGEuY29udGVudFR5cGV8fCIiKT09KGRbMF0uY29udGVudFR5cGV8fCIiKX0pKTt2YXIgZz1uZXcgT2QsaD1kLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YS5pZH0pO2gubGVuZ3RoPT1kLmxlbmd0aCYmKGcuaWQ9aC5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuaWR9KS5zb3J0KCkucmVkdWNlKGZ1bmN0aW9uKGEsYil7cmV0dXJuIGErIiwiK2J9KSk7Zy5iPSEoIWRbMF0uYnx8InVybjpzY3RlOmRhc2g6Y2M6Y2VhLTYwODoyMDE1IiE9PWRbMF0uYi5hKTtnLmxhbmc9ZFswXS5sYW5nfHwiIjtnLmNvbnRlbnRUeXBlPWRbMF0uY29udGVudFR5cGV8fCIiO2cuZj1kLnNvbWUoZnVuY3Rpb24oYSl7cmV0dXJuIGEuZn0pO2Zvcih2YXIgaD17fSxrPTA7azxkLmxlbmd0aDsrK2spe3ZhciBsPQpkW2tdO2wuYyYmKGcuYz1sLmMpO2Zvcih2YXIgbT0wO208bC5hLmxlbmd0aDsrK20pe3ZhciBwPWwuYVttXSx0PURlKGEscCksdz1nLmEuc2xpY2UoMCk7RWUodCx3KTswPT13Lmxlbmd0aCYmMDxnLmEubGVuZ3RofHwhKHA9RmUoYSxiLGMscCxlLGYpKXx8KGcudi5wdXNoKHApLGcuYT13LGhbcC5YXT1sKX19aWYoZy5hLnNvbWUoZnVuY3Rpb24oYSl7cmV0dXJuIiI9PWEuYX0pKXJldHVybiBnLnYuZm9yRWFjaChmdW5jdGlvbihhKXthLm9hPSEwfSksZzthPUdlKGQpO2ZvcihrPTA7azxnLnYubGVuZ3RoOysraylwPWcudltrXSxsPWhbcC5YXSxsPT1hJiYocC5vYT0hMCk7cmV0dXJuIGd9CmZ1bmN0aW9uIEdlKGEpe2Zvcih2YXIgYj1udWxsLGM9bnVsbCxkPTA7ZDxhLmxlbmd0aDsrK2QpZm9yKHZhciBlPWFbZF0sZj0wO2Y8ZS5hLmxlbmd0aDsrK2Ype3ZhciBnPWUuYVtmXSxnPShnLndpZHRofHwxKSooZy5oZWlnaHR8fDEpKihnLmJhbmR3aWR0aHx8MSk7aWYobnVsbD09Ynx8ZzxiKWI9ZyxjPWV9cmV0dXJuIGN9ZnVuY3Rpb24gRWUoYSxiKXtpZigwPT1iLmxlbmd0aClBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShiLGEpO2Vsc2UgZm9yKHZhciBjPTA7YzxiLmxlbmd0aDsrK2Mpe2Zvcih2YXIgZD0hMSxlPTA7ZTxhLmxlbmd0aDsrK2Upe3ZhciBmPWJbY10sZz1hW2VdO2lmKGYuYT09Zy5hJiZmLmk9PWcuaSYmZi53aXRoQ3JlZGVudGlhbHM9PWcud2l0aENyZWRlbnRpYWxzJiZmLmg9PWcuaCYmZi5qPT1nLmomJmYuZz09Zy5nJiZmLm09PWcubSYmTWEoZi5jLGcuYykpe2Q9ITA7T2IoYltjXSxhW2VdLmIpO2JyZWFrfX1kfHwoYi5zcGxpY2UoYywxKSwtLWMpfX0KZnVuY3Rpb24gRGUoYSxiKXt2YXIgYz1bXTtpZigwPT1iLmMubGVuZ3RoKWMucHVzaChuZXcgTWIpO2Vsc2UgaWYoYS5iKWZvcih2YXIgZD0wO2Q8Yi5jLmxlbmd0aDsrK2QpYy5wdXNoLmFwcGx5KGMsSGUoYSxiLmNbZF0pKTtyZXR1cm4gY30KZnVuY3Rpb24gSGUoYSxiKXt2YXIgYz1bXTtpZigyIT1hLmIubGVuZ3RoKXJldHVybltdO3ZhciBkPWEuYihiLmZ8fCIiLGIuYyk7aWYoIShkJiZkIGluc3RhbmNlb2YgQXJyYXkpKXJldHVybltdO2Zvcih2YXIgZT0wO2U8ZC5sZW5ndGg7KytlKXt2YXIgZjt2YXIgZz1kW2VdO2Y9bmV3IE1iO2lmKGcpe3ZhciBoPVlhKGcsImtleVN5c3RlbSIpO2lmKG51bGwhPWgpZi5hPWg7ZWxzZSB0aHJvdyBFcnJvcigiJ2tleVN5c3RlbScgY2Fubm90IGJlIG51bGwuIik7dmFyIGs9WWEoZywibGljZW5zZVNlcnZlclVybCIpO2lmKG51bGwhPWspZi5pPWs7ZWxzZSBpZihoKXRocm93IEVycm9yKCJGb3IgZW5jcnlwdGVkIHN0cmVhbWluZyBjb250ZW50LCAnbGljZW5zZVNlcnZlclVybCcgY2Fubm90IGJlIG51bGwgb3IgZW1wdHkuIik7aD1CKGcsIndpdGhDcmVkZW50aWFscyIpO251bGwhPWgmJihmLndpdGhDcmVkZW50aWFscz1oKTtoPVphKGcsImxpY2Vuc2VQb3N0UHJvY2Vzc29yIixGdW5jdGlvbik7Cm51bGwhPWgmJihmLmY9aCk7aD1aYShnLCJsaWNlbnNlUHJlUHJvY2Vzc29yIixGdW5jdGlvbik7bnVsbCE9aCYmKGYubz1oKTtoPUIoZywiZGlzdGluY3RpdmVJZGVudGlmaWVyUmVxdWlyZWQiKTtudWxsIT1oJiYoZi5oPWgpO2g9QihnLCJwZXJzaXN0ZW50U3RhdGVSZXF1aXJlZCIpO251bGwhPWgmJihmLmo9aCk7aD1ZYShnLCJhdWRpb1JvYnVzdG5lc3MiKTtudWxsIT1oJiYoZi5nPWgpO2g9WWEoZywidmlkZW9Sb2J1c3RuZXNzIik7bnVsbCE9aCYmKGYubT1oKTtoPVphKGcsInNlcnZlckNlcnRpZmljYXRlIixVaW50OEFycmF5KTtudWxsIT1oJiYoZi5jPWgpO2lmKGg9WmEoZywiaW5pdERhdGEiLE9iamVjdCkpe2c9WmEoaCwiaW5pdERhdGEiLFVpbnQ4QXJyYXkpO2lmKG51bGw9PWcpdGhyb3cgRXJyb3IoIidpbml0RGF0YS5pbml0RGF0YScgY2Fubm90IGJlIG51bGwuIik7aD1ZYShoLCJpbml0RGF0YVR5cGUiKTtpZihudWxsPT1oKXRocm93IEVycm9yKCInaW5pdERhdGEuaW5pdERhdGFUeXBlJyBjYW5ub3QgYmUgbnVsbC4iKTsKZi5iLnB1c2goe2luaXREYXRhOm5ldyBVaW50OEFycmF5KGcuYnVmZmVyKSxpbml0RGF0YVR5cGU6aH0pfX0wPT1mLmIubGVuZ3RoJiZiLmEmJmIuYS5wc3NoQm94JiZPYihmLFt7aW5pdERhdGE6Yi5hLnBzc2hCb3gsaW5pdERhdGFUeXBlOiJjZW5jIn1dKTtjLnB1c2goZil9cmV0dXJuIGN9CmZ1bmN0aW9uIEZlKGEsYixjLGQsZSxmKXtpZighZC5iYXNlVXJsfHwwPT09ZC5iYXNlVXJsLmxlbmd0aClyZXR1cm4gbnVsbDt2YXIgZz1udWxsLGg9MSxrPTA7aWYoZC5mKXtnPWQubWltZVR5cGUuc3BsaXQoIi8iKVsxXTtpZigibXA0IiE9ZyYmIndlYm0iIT1nKWc9bnVsbDtlbHNle3ZhciBsPWQuZjtpZigid2VibSIhPWd8fGwuYylpZihsLmF8fGwuYiYmbC5iLmEpe2g9bC5iO2h8fChoPW5ldyB3YyxoLnVybD1kLmJhc2VVcmwsaC5hPWwuYT9sLmEuY2xvbmUoKTpudWxsKTtrPUllKGEsaCxmKTtoPWwuYz9JZShhLGwuYyxmKTpudWxsO2wuZj8obD1sLmYsbD1uZXcgSyhmLGQuYmFzZVVybCxsLnFhLGwuZW5kLHZvaWQgMCxhLmEpKTpsPW51bGw7dmFyIG09bCxwPVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgiYWRkX2lubGluZV9pbml0aWFsaXphdGlvbl9yZXNvdXJjZXMiLCExKSYmZC5oJiZkLmguZGF0YT9kLmguZGF0YTpudWxsLGw9VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJhZGRfaW5saW5lX2luaXRpYWxpemF0aW9uX3Jlc291cmNlcyIsCiExKSYmZC5nJiZkLmcuZGF0YT9kLmcuZGF0YTpudWxsO2E9bmV3IHZlKGIsYyxnLGssaCxtLGUsZixhLmwscCxsKTtiPW5ldyBnZChoLGwpO2M9bmV3IEtkO2MuTT1hO2MuYWE9YjtnPWN9ZWxzZSBnPW51bGw7ZWxzZSBnPW51bGx9aD1kLmYucztrPWQuZi5MfWVsc2UgaWYoZC5iKWc9ZC5iLCFnLkgmJiFnLkMmJjE8Zy5hLmxlbmd0aD9nPW51bGw6Zy5IfHxjLmR1cmF0aW9ufHxnLkN8fDEhPWcuYS5sZW5ndGg/Zy5DJiYwPT09Zy5DLk4ubGVuZ3RoP2c9bnVsbDooZz1nLmI/SWUoYSxnLmIsZik6bnVsbCxhPW5ldyBGZChiLGMsZCxlLGYsYS5hKSxiPW5ldyBnZChnKSxjPW5ldyBLZCxjLk09YSxjLmFhPWIsZz1jKTpnPW51bGwsaD1kLmIucyxrPWQuYi5MO2Vsc2UgaWYoZC5hKXthOmlmKGc9ZC5hLGg9MCsoZy5hPzE6MCksaCs9Zy5DPzE6MCxoKz1nLkg/MTowLDA9PWg/aD0hMTooMSE9aCYmKGcuYT8oZy5DPW51bGwsZy5IPW51bGwpOmcuQyYmKGcuSD1udWxsKSksaD0hMCksaCl7aD0KbnVsbDtpZihnLmMmJihoPShnPWQuYS5jKT9KZShkLGcseGMpOm51bGwsIWgpKXtnPW51bGw7YnJlYWsgYX1nPWg/SWUoYSxoLGYpOm51bGw7aD1kLmE7aC5hPyhoPWQubWltZVR5cGUuc3BsaXQoIi8iKVsxXSwibXA0IiE9aCYmIndlYm0iIT1oP2E9bnVsbDoid2VibSIhPWh8fGc/bWQoZixkLDEsMCx2b2lkIDAsYS5hKT8oaz0oaz1kLmEuYSk/SmUoZCxrLHdjKTpudWxsKT8oaz1JZShhLGssZiksYT1uZXcgdmUoYixjLGgsayxnLG51bGwsZSxmLGEubCkpOmE9bnVsbDphPW51bGw6YT1udWxsKTphPWguZj9oLkM/bmV3IEpkKGEuYyxiLGMsZCxlLGYsMCxhLmEpOmguSD9iLm1hbmlmZXN0SXNMaXZlU3RyZWFtaW5nfHxudWxsIT1jLmR1cmF0aW9uP25ldyBFZChiLGMsZCxlLGYpOm51bGw6bnVsbDpudWxsO2E/KGI9bmV3IGdkKGcpLGM9bmV3IEtkLGMuTT1hLGMuYWE9YixnPWMpOmc9bnVsbH1lbHNlIGc9bnVsbDtoPWQuYS5zO2s9ZC5hLkx9ZWxzZSJ0ZXh0Ij09ZC5taW1lVHlwZS5zcGxpdCgiLyIpWzBdJiYKKGc9bmV3IEtkLGcuTT1uZXcgc2UobmV3IEsoZixkLmJhc2VVcmwpKSk7aWYoIWcpcmV0dXJuIG51bGw7Zy5pZD1kLmlkO2smJihnLmE9LTEqay9oKTtnLmJhbmR3aWR0aD1kLmJhbmR3aWR0aDtnLndpZHRoPWQud2lkdGg7Zy5oZWlnaHQ9ZC5oZWlnaHQ7Zy5taW1lVHlwZT1kLm1pbWVUeXBlfHwiIjtnLmNvZGVjcz1kLmNvZGVjc3x8IiI7Zy5nPWQub3x8bnVsbDtnLmg9ZC51fHxudWxsO2cuZmJRdWFsaXR5TGFiZWw9ZC5mYlF1YWxpdHlMYWJlbHx8bnVsbDtnLmZiUXVhbGl0eUNsYXNzPWQuZmJRdWFsaXR5Q2xhc3N8fG51bGw7Zy5mPWQubXx8bnVsbDtnLmZyYW1lUmF0ZT1kLmZyYW1lUmF0ZXx8IiI7Zy5jPWQuanx8bnVsbDtmb3IoYT0wO2E8ZC5jLmxlbmd0aDsrK2EpYj1kLmNbYV0sYi5iJiZnLmIucHVzaChiLmIpO3JldHVybiBnfQpmdW5jdGlvbiBKZShhLGIsYyl7Yj1uZChiLGEuaWQsbnVsbCxhLmJhbmR3aWR0aCxudWxsKTtpZighYilyZXR1cm4gbnVsbDtjPW5ldyBjO2MudXJsPVpjKGEuYmFzZVVybCxiKTtyZXR1cm4gY31mdW5jdGlvbiBJZShhLGIsYyl7dmFyIGQ9Yi51cmwsZT0wLGY9bnVsbDtiLmEmJihlPWIuYS5xYSxmPWIuYS5lbmQpO3JldHVybiBuZXcgSyhjLGQsZSxmLHZvaWQgMCxhLmEpfTtmdW5jdGlvbiBLZShhLGIsYyxkLGUsZixnKXt0aGlzLmI9bmV3IEsobnVsbCxbbmV3IEwoYSldKTt0aGlzLmw9ZTt0aGlzLmY9Yjt0aGlzLmM9MTt0aGlzLmc9YTt0aGlzLmE9bmV3IHRiO3RoaXMuYS5ib2R5PWI7dGhpcy5hLm1ldGhvZD1jO3RoaXMuYS5OYT0zO3RoaXMuYS53aXRoQ3JlZGVudGlhbHM9ZDt0aGlzLmEuYj0xRTMqKG51bGwhPWc/ZzpoYSk7YT1mfHx7fTtmb3IodmFyIGggaW4gYSl0aGlzLmEuUWFbaF09YVtoXX0KZnVuY3Rpb24gTGUoYSl7cmV0dXJuIGEuYi5mZXRjaChhLmEpLnRoZW4oZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYi51JiYwPHRoaXMuYz8odGhpcy5jLS0sbnVsbCE9PXRoaXMubCYmbnVsbCE9PXRoaXMuYi5pJiZ0aGlzLmwuc2V0UmVhc29uKCJSZWRpcmVjdGVkIHRvIFVSTDogIit0aGlzLmIuaS50b1N0cmluZygpKSx0aGlzLmI9bmV3IEsobnVsbCxbbmV3IEwodGhpcy5nKV0pLHRoaXMuYS5ib2R5PXRoaXMuZixMZSh0aGlzKSk6UHJvbWlzZS5yZXNvbHZlKG5ldyBVaW50OEFycmF5KGEpKX0uYmluZChhKSl9O2Z1bmN0aW9uIE1lKGEsYixjLGQpe0YuY2FsbCh0aGlzLGEpO3RoaXMuYz1iO3RoaXMuaj1jO3RoaXMuYT10aGlzLmg9bnVsbDt0aGlzLmk9bmV3IGJiO3RoaXMuYj1bXTt0aGlzLmY9W107dGhpcy5tPTA7dGhpcy5nPW5ldyBJO3RoaXMubz1udWxsO3RoaXMuQT1oYTt0aGlzLmw9ZH1yKE1lLEYpO01lLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5KYT1udWxsO2Zvcih2YXIgYT0wO2E8dGhpcy5mLmxlbmd0aDsrK2EpdGhpcy5mW2FdLmNsb3NlKCkuY2F0Y2goZnVuY3Rpb24oKXt9KTt0aGlzLmY9W107dGhpcy5iPXRoaXMuYT10aGlzLmg9bnVsbDt0aGlzLmcuZGVzdHJveSgpO3RoaXMuZz1udWxsO3RoaXMuaS5kZXN0cm95KCk7dGhpcy5pPW51bGw7dGhpcy5vJiYoY2xlYXJUaW1lb3V0KHRoaXMubyksdGhpcy5vPW51bGwpO3RoaXMuYz10aGlzLmo9bnVsbH07Ck1lLnByb3RvdHlwZS5pbml0aWFsaXplPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPW5ldyBELGI9TmUodGhpcy5qKSxjPTA7YzxiLmxlbmd0aDsrK2Mpe3ZhciBkPWJbY107ZC5hLmF8fGQuYiYmIU9lKGQuYil8fGEucHVzaChkLmNvbnRlbnRUeXBlLGQpfWZvcih2YXIgYz17fSxkPSExLGU9MDtlPGIubGVuZ3RoOysrZSl7dmFyIGY9YltlXTtpZihmLmEuYSYmIWEuYS5oYXNPd25Qcm9wZXJ0eShmLmNvbnRlbnRUeXBlKSl7dmFyIGc9Zi5hLmEsaD1jW2ddO2h8fChoPWYuYSxoPXthdWRpb0NhcGFiaWxpdGllczp2b2lkIDAsdmlkZW9DYXBhYmlsaXRpZXM6dm9pZCAwLGluaXREYXRhVHlwZXM6dm9pZCAwLGRpc3RpbmN0aXZlSWRlbnRpZmllcjpoLmg/InJlcXVpcmVkIjoib3B0aW9uYWwiLHBlcnNpc3RlbnRTdGF0ZTpoLmo/InJlcXVpcmVkIjoib3B0aW9uYWwiLHNlc3Npb25UeXBlczpbInRlbXBvcmFyeSJdfSxjW2ddPWgpO2lmKGYuYiYmKGc9Zi5jb250ZW50VHlwZSsiQ2FwYWJpbGl0aWVzIiwKZyBpbiBoKSl7ZD0hMDtoW2ddfHwoaFtnXT1bXSk7dmFyIGs7ImF1ZGlvIj09Zi5jb250ZW50VHlwZT9rPWYuYS5nOiJ2aWRlbyI9PWYuY29udGVudFR5cGUmJihrPWYuYS5tKTtoW2ddLnB1c2goe2NvbnRlbnRUeXBlOmYuYixyb2J1c3RuZXNzOmt9KX19fWlmKCFkKWlmKGIubGVuZ3RoKXRoaXMuYT1iWzBdLmE7ZWxzZSB0aHJvdyBhPUVycm9yKCJObyBEcm1JbmZvIGV4aXN0cyEiKSxhLnR5cGU9ImRybSIsYTtpZigwPT1PYmplY3Qua2V5cyhjKS5sZW5ndGgpcmV0dXJuIFBlKHRoaXMuaixhKSx0aGlzLmcucmVzb2x2ZSgpLFByb21pc2UucmVzb2x2ZSgpO2s9bmV3IEk7Yz1RZShjLGspO2M9Yy50aGVuKHRoaXMudy5iaW5kKHRoaXMsYixhKSk7ay5yZWplY3QobnVsbCk7dGhpcy5sJiZ0aGlzLmwuZ2V0RXZlbnRMb2dnZXIoImVtZV9pbml0IikubG9nKCk7cmV0dXJuIGN9OwpmdW5jdGlvbiBRZShhLGIpe2Zvcih2YXIgYyBpbiBhKWI9Yi5jYXRjaChmdW5jdGlvbihhLGIpe3JldHVybiBuYXZpZ2F0b3IucmVxdWVzdE1lZGlhS2V5U3lzdGVtQWNjZXNzKGEsW2JdKX0uYmluZChudWxsLGMsYVtjXSkpO3JldHVybiBifQpNZS5wcm90b3R5cGUudz1mdW5jdGlvbihhLGIsYyl7aWYoIXRoaXMuYylyZXR1cm4gUmUoKTtmb3IodmFyIGQ9Yy5rZXlTeXN0ZW0sZT1jLmdldENvbmZpZ3VyYXRpb24oKSxmPVsiYXVkaW8iLCJ2aWRlbyJdLGc9MDtnPGYubGVuZ3RoOysrZyl7dmFyIGg9ZltnXTtpZighYi5hLmhhc093blByb3BlcnR5KGgpKXt2YXIgaz1lW2grIkNhcGFiaWxpdGllcyJdO2lmKGspe2Zvcih2YXIgaz1rWzBdLGw9W10sbT17fSxwPTA7cDxhLmxlbmd0aDsrK3Ape3ZhciB0PWFbcF0sdz1rP3QuYj09ay5jb250ZW50VHlwZTp0LmNvbnRlbnRUeXBlPT1oO3QuYS5hIT1kfHwhd3x8dC5pZCBpbiBtfHwobC5wdXNoKHQpLG1bdC5pZF09ITAsdGhpcy5hPXRoaXMuYT9OYih0aGlzLmEsdC5hKTp0LmEpfWIuc2V0KGgsbCl9fX1QZSh0aGlzLmosYik7aWYodGhpcy5jLm1lZGlhS2V5cyl0aGlzLmg9dGhpcy5jLm1lZGlhS2V5cztlbHNlIHJldHVybiBjLmNyZWF0ZU1lZGlhS2V5cygpLnRoZW4oZnVuY3Rpb24oYSl7dGhpcy5oPQphfS5iaW5kKHRoaXMpKX07ZnVuY3Rpb24gU2UoYSl7cmV0dXJuIGEuYz9hLmg/YS5jLnNldE1lZGlhS2V5cyhhLmgpLnRoZW4oSihhLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYz90aGlzLmEuYz90aGlzLmguc2V0U2VydmVyQ2VydGlmaWNhdGUodGhpcy5hLmMpOlByb21pc2UucmVzb2x2ZSgpOlJlKCl9KSkudGhlbihKKGEsZnVuY3Rpb24oKXtpZighdGhpcy5jKXJldHVybiBSZSgpO2Zvcih2YXIgYT0wO2E8dGhpcy5hLmIubGVuZ3RoOysrYSl7dmFyIGM9dGhpcy5hLmJbYV07dGhpcy51KHt0eXBlOiJlbmNyeXB0ZWQiLGluaXREYXRhVHlwZTpjLmluaXREYXRhVHlwZSxpbml0RGF0YTpjLmluaXREYXRhfSl9MD09dGhpcy5hLmIubGVuZ3RoJiZFKHRoaXMuaSx0aGlzLmMsImVuY3J5cHRlZCIsdGhpcy51LmJpbmQodGhpcykpfSkpOlByb21pc2UucmVzb2x2ZSgpOlJlKCl9CmZ1bmN0aW9uIFJlKCl7dmFyIGE9RXJyb3IoIkVtZU1hbmFnZXIgZGVzdHJveWVkIik7YS50eXBlPSJkZXN0cm95IjtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYSl9Ck1lLnByb3RvdHlwZS51PWZ1bmN0aW9uKGEpe3ZhciBiPW5ldyBVaW50OEFycmF5KGEuaW5pdERhdGEpO3RoaXMubCYmdGhpcy5sLmdldEV2ZW50TG9nZ2VyKCJlbmNyeXB0ZWRfc2FtcGxlIikubG9nKCk7Zm9yKHZhciBjPTA7Yzx0aGlzLmIubGVuZ3RoOysrYylpZihNYShiLHRoaXMuYltjXS5kYXRhKSlyZXR1cm47dHJ5e3ZhciBkPVRlKHRoaXMpfWNhdGNoKGUpe2I9QShlKTt0aGlzLmRpc3BhdGNoRXZlbnQoYik7dGhpcy5sJiZ0aGlzLmwuZ2V0RXZlbnRMb2dnZXIoImVtZV9lcnJvciIpLnNldEVycm9yKGUpLmxvZygpO3RoaXMuZy5yZWplY3QoZSk7cmV0dXJufWE9ZC5nZW5lcmF0ZVJlcXVlc3QoYS5pbml0RGF0YVR5cGUsYS5pbml0RGF0YSk7dGhpcy5iLnB1c2goe2RhdGE6Yix1YjpkfSk7YS5jYXRjaChKKHRoaXMsZnVuY3Rpb24oYSl7aWYodGhpcy5jKXtmb3IodmFyIGI9MDtiPHRoaXMuYi5sZW5ndGg7KytiKWlmKHRoaXMuYltiXS51Yj09ZCl7dGhpcy5iLnNwbGljZShiLAoxKTticmVha31iPUEoYSk7dGhpcy5kaXNwYXRjaEV2ZW50KGIpO3RoaXMubCYmdGhpcy5sLmdldEV2ZW50TG9nZ2VyKCJlbWVfZXJyb3IiKS5zZXRFcnJvcihhKS5sb2coKTt0aGlzLmcucmVqZWN0KGEpfX0pKTt0aGlzLmYucHVzaChkKX07ZnVuY3Rpb24gVWUoYSl7Zm9yKHZhciBiPVtdLGM9MDtjPGIubGVuZ3RoOysrYyl7dmFyIGQ9VGUoYSksZT1kLmxvYWQoYltjXSk7YS5mLnB1c2goZCk7ZS50aGVuKEooYSxmdW5jdGlvbigpe3RoaXMubSsrO3RoaXMubT49dGhpcy5mLmxlbmd0aCYmdGhpcy5nLnJlc29sdmUoKX0pKS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7dmFyIGI9QShhKTt0aGlzLmRpc3BhdGNoRXZlbnQoYik7dGhpcy5sJiZ0aGlzLmwuZ2V0RXZlbnRMb2dnZXIoImVtZV9lcnJvciIpLnNldEVycm9yKGEpLmxvZygpfSkpfX0KZnVuY3Rpb24gVGUoYSl7dmFyIGI9bnVsbCxiPWEuaC5jcmVhdGVTZXNzaW9uKCk7RShhLmksYiwibWVzc2FnZSIsYS5ELmJpbmQoYSkpO0UoYS5pLGIsImtleXN0YXR1c2VzY2hhbmdlIixhLkIuYmluZChhKSk7cmV0dXJuIGJ9TWUucHJvdG90eXBlLkQ9ZnVuY3Rpb24oYSl7VmUodGhpcyxhLnRhcmdldCx0aGlzLmEsYS5tZXNzYWdlKX07Ck1lLnByb3RvdHlwZS5CPWZ1bmN0aW9uKGEpe2E9YS50YXJnZXQ7dmFyIGI9e307YS5rZXlTdGF0dXNlcy5mb3JFYWNoKGZ1bmN0aW9uKGEsYyl7aWYoInN0cmluZyI9PT10eXBlb2YgYSl7dmFyIGY9YTthPWM7Yz1mfWlmKCJjb20ubWljcm9zb2Z0LnBsYXlyZWFkeSI9PXRoaXMuYS5hJiYxNj09YS5ieXRlTGVuZ3RoKXt2YXIgZj1uZXcgRGF0YVZpZXcoYSksZz1mLmdldFVpbnQzMigwLCEwKSxoPWYuZ2V0VWludDE2KDQsITApLGs9Zi5nZXRVaW50MTYoNiwhMCk7Zi5zZXRVaW50MzIoMCxnLCExKTtmLnNldFVpbnQxNig0LGgsITEpO2Yuc2V0VWludDE2KDYsaywhMSl9Zj1MYihuZXcgVWludDhBcnJheShhKSk7YltmXT1jfS5iaW5kKHRoaXMpKTtpZihhLmV4cGlyYXRpb248RGF0ZS5ub3coKSl7Zm9yKHZhciBjPTA7Yzx0aGlzLmIubGVuZ3RoOysrYylpZih0aGlzLmJbY10udWI9PWEpe3RoaXMuYi5zcGxpY2UoYywxKTticmVha31hLmNsb3NlKCk7dGhpcy5mLnNwbGljZSh0aGlzLmYuaW5kZXhPZihhKSwKMSl9dGhpcy5sJiZ0aGlzLmwuZ2V0RXZlbnRMb2dnZXIoImVtZV9rZXlfc3RhdHVzX2NoYW5nZSIpLmxvZygpO1dlKHRoaXMuaixiKX07CmZ1bmN0aW9uIFZlKGEsYixjLGQpe2Q9WGUoYyxkKTt2YXIgZT1udWxsO2EubCYmKGU9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigibGljZW5zZV9yZXF1ZXN0Iikuc3RhcnQoKSk7TGUobmV3IEtlKGQudXJsLGQuYm9keSxkLm1ldGhvZCxjLndpdGhDcmVkZW50aWFscyxlLGQuaGVhZGVycyxhLkEpKS50aGVuKEooYSxmdW5jdGlvbihhKXtlJiYoZS5zZXRSZXN1bHQoInN1Y2Nlc3MiKSxlLmxvZygpKTtjLmYmJihhPWMuZihhKSk7ZT1udWxsO3RoaXMubCYmKGU9dGhpcy5sLmdldE9wZXJhdGlvbkxvZ2dlcigiZW1lX3Bvc3RfbGljZW5zZV9zZXNzaW9uX3VwZGF0ZSIpLnN0YXJ0KCkpO251bGw9PT1hfHx2b2lkIDA9PT1hfHwwPT09YS5ieXRlTGVuZ3RoP251bGwhPT1lJiYoZS5zZXRFcnJvcigiZW1wdHkgbGljZW5zZSIpLGUuc2V0UmVzdWx0KCJmYWlsZWQiKS5sb2coKSk6Yi51cGRhdGUoYSkudGhlbihKKHRoaXMsZnVuY3Rpb24oKXtlJiYoZS5zZXRSZXN1bHQoInN1Y2Nlc3MiKSxlLmxvZygpKTsKdmFyIGE9eSh7dHlwZToic2Vzc2lvblJlYWR5IixkZXRhaWw6Yn0pO3RoaXMuZGlzcGF0Y2hFdmVudChhKTt0aGlzLm0rKzt0aGlzLm0+PXRoaXMuZi5sZW5ndGgmJnRoaXMuZy5yZXNvbHZlKCl9KSkuY2F0Y2goSih0aGlzLGZ1bmN0aW9uKGEpe2EudWI9Yjt2YXIgYz1BKGEpO2UmJihlLnNldFJlc3VsdCgiZmFpbGVkIiksZS5zZXRFcnJvcihhKS5sb2coKSk7dGhpcy5kaXNwYXRjaEV2ZW50KGMpfSkpfSkpLmNhdGNoKEooYSxmdW5jdGlvbihhKXtpZihjLmYpe3ZhciBkPUpTT04uc3RyaW5naWZ5KHtkYXRhOlt7ZXJyb3I6YX1dfSksZD1uZXcgVWludDhBcnJheShkLnNwbGl0KCIiKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuY2hhckNvZGVBdCgwKX0pKTtjLmYoZCl9YS51Yj1iO2Q9QShhKTtlJiZlLnNldEVycm9yKGEpLmxvZygpO3RoaXMuZGlzcGF0Y2hFdmVudChkKX0pKX0KZnVuY3Rpb24gWGUoYSxiKXt2YXIgYz17dXJsOmEuaSxib2R5OmIuc2xpY2UoMCksbWV0aG9kOiJQT1NUIixoZWFkZXJzOnt9LGtleV9zeXN0ZW06YS5hfTtpZigiY29tLm1pY3Jvc29mdC5wbGF5cmVhZHkiPT09YS5hKXtmb3IodmFyIGQ9U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLG5ldyBVaW50MTZBcnJheShjLmJvZHkpKSxkPShuZXcgRE9NUGFyc2VyKS5wYXJzZUZyb21TdHJpbmcoZCwiYXBwbGljYXRpb24veG1sIiksZT1kLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJuYW1lIiksZj1kLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJ2YWx1ZSIpLGc9MDtnPGUubGVuZ3RoO2crKyljLmhlYWRlcnNbZVtnXS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZV09ZltnXS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZTtjLmJvZHk9d2luZG93LmF0b2IoZC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiQ2hhbGxlbmdlIilbMF0uY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUpfWlmKCFhLm8pcmV0dXJuIGM7CmEubyhjKTtjLnVybD1ZYShjLCJ1cmwiKTtpZihudWxsPT1jLnVybCl0aHJvdyBFcnJvcigiJ3VybCcgY2Fubm90IGJlIG51bGwuIik7aWYoIShjLmJvZHkgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcnx8InN0cmluZyI9PT10eXBlb2YgYy5ib2R5fHxudWxsPT1jLmJvZHkpKXRocm93IG5ldyBUeXBlRXJyb3IoIidib2R5JyBtdXN0IGJlIGFuIEFycmF5QnVmZmVyLCBhIHN0cmluZywgb3IgbnVsbC4iKTtjLm1ldGhvZD1ZYShjLCJtZXRob2QiKTtpZigiR0VUIiE9Yy5tZXRob2QmJiJQT1NUIiE9Yy5tZXRob2QpdGhyb3cgRXJyb3IoIidtZXRob2QnIG11c3QgYmUgZWl0aGVyICdHRVQnIG9yICdQT1NUJy4iKTtjLmhlYWRlcnM9WmEoYywiaGVhZGVycyIsT2JqZWN0KTtpZihudWxsPT1jLmhlYWRlcnMpdGhyb3cgRXJyb3IoIidoZWFkZXJzJyBjYW5ub3QgYmUgbnVsbC4iKTtyZXR1cm4gY307ZnVuY3Rpb24gVyhhLGIsYyxkLGUsZixnKXtGLmNhbGwodGhpcyxudWxsKTt0aGlzLmI9YTt0aGlzLmY9Yjt0aGlzLmE9bnVsbDt0aGlzLmc9bmV3IGJiO3RoaXMubT10aGlzLmk9bnVsbDt0aGlzLkY9MDt0aGlzLlM9dGhpcy5aPXRoaXMuJD1udWxsO3RoaXMuYmE9Zzt0aGlzLko9bnVsbDt0aGlzLk89dGhpcy5oPSExO3RoaXMuVj10aGlzLlk9ITA7dGhpcy5LPSExO3RoaXMuYz17ZW5hYmxlQWRhcHRhdGlvbjohMCxzdHJlYW1CdWZmZXJTaXplOjE1LGxpdmVTdHJlYW1FbmRUaW1lb3V0OjE1LGxpY2Vuc2VSZXF1ZXN0VGltZW91dDpoYSxtcGRSZXF1ZXN0VGltZW91dDppYSxzZWdtZW50UmVxdWVzdFRpbWVvdXQ6amEscHJlZmVycmVkTGFuZ3VhZ2U6ImVuIixyZXN0cmljdGlvbnM6bmV3IGthfTt0aGlzLmw9Yzt0aGlzLkc9ZDt0aGlzLmNhPWU7dGhpcy5nYT1mO3RoaXMubz1udWxsO3RoaXMuaj0xO3RoaXMuVD1udWxsO3RoaXMudT10aGlzLkE9dGhpcy53PSExO3RoaXMuUj10aGlzLkI9Cm51bGx9cihXLEYpO3EoInNoYWthLnBsYXllci5QbGF5ZXIiLFcpO1cudmVyc2lvbj0idjEuNi40LWZiIjtXLmlzQnJvd3NlclN1cHBvcnRlZD1mdW5jdGlvbigpe3JldHVybiEhd2luZG93Lk1lZGlhU291cmNlJiYhIXdpbmRvdy5VaW50OEFycmF5fTsKVy5wcm90b3R5cGUuQmE9ZnVuY3Rpb24oKXt2YXIgYT17fSxiPXRoaXMuYTtpZihiKXt2YXIgYz1iLlhiKCk7YS5CYW5kd2lkdGhFc3RpbWF0b3I9Yy5CYW5kd2lkdGhFc3RpbWF0b3I7dmFyIGQ9Yy5WaWRlb1NvdXJjZVN0cmVhbTtkJiYoYS5WaWRlb1NvdXJjZVN0cmVhbT1kLChkPWEuVmlkZW9CdWZmZXJNYW5hZ2VyPWQuQmEoKS5Tb3VyY2VCdWZmZXJNYW5hZ2VyKSYmKGEuVmlkZW9Tb3VyY2VCdWZmZXI9ZC5CYSgpLlNvdXJjZUJ1ZmZlcikpOyhkPWEuQXVkaW9Tb3VyY2VTdHJlYW09Yy5BdWRpb1NvdXJjZVN0cmVhbSkmJihkPWEuQXVkaW9CdWZmZXJNYW5hZ2VyPWQuQmEoKS5Tb3VyY2VCdWZmZXJNYW5hZ2VyKSYmKGEuQXVkaW9Tb3VyY2VCdWZmZXI9ZC5CYSgpLlNvdXJjZUJ1ZmZlcik7YS5UZXh0U291cmNlU3RyZWFtPWMuVGV4dFNvdXJjZVN0cmVhbTthLmdldE1hbmlmZXN0PWIuVGIuYmluZChiKX1lbHNlIGEuZ2V0TWFuaWZlc3Q9ZnVuY3Rpb24oKXt9O2EuTmQ9ITA7cmV0dXJuIGF9OwpXLnByb3RvdHlwZS5nZXREZWJ1Zz1XLnByb3RvdHlwZS5CYTtXLnByb3RvdHlwZS5zYT1mdW5jdGlvbihhKXt0aGlzLlk9YX07Vy5wcm90b3R5cGUuc2V0UmVzdW1lQWZ0ZXJCdWZmZXJpbmc9Vy5wcm90b3R5cGUuc2E7ZnVuY3Rpb24gT2UoYSl7cmV0dXJuInRleHQvdnR0Ij09YT8hIXdpbmRvdy5WVFRDdWU6TWVkaWFTb3VyY2UuaXNUeXBlU3VwcG9ydGVkKGEpfVcuaXNUeXBlU3VwcG9ydGVkPU9lO1cuc2V0VGV4dFN0eWxlPWZ1bmN0aW9uKGEpe3ZhciBiPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJTaGFrYVBsYXllclRleHRTdHlsZSIpO2J8fChiPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInN0eWxlIiksYi5pZD0iU2hha2FQbGF5ZXJUZXh0U3R5bGUiLGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoYikpO2ZvcihiPWIuc2hlZXQ7Yi5jc3NSdWxlcy5sZW5ndGg7KWIuZGVsZXRlUnVsZSgwKTtiLmluc2VydFJ1bGUoIjo6Y3VlIHsgIityYShhKSsiIH0iLDApfTsKVy5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3JldHVybiB0aGlzLlUoKS50aGVuKEoodGhpcyxmdW5jdGlvbigpe3RoaXMuZy5kZXN0cm95KCk7dGhpcy5iPXRoaXMuZz1udWxsO3RoaXMuUiYmdGhpcy5SLnJlbW92ZSgpfSkpLmNhdGNoKGZ1bmN0aW9uKCl7fSl9O1cucHJvdG90eXBlLmRlc3Ryb3k9Vy5wcm90b3R5cGUuZGVzdHJveTtXLnByb3RvdHlwZS5VPWZ1bmN0aW9uKCl7dGhpcy5LPSEwO3JldHVybiBaZSh0aGlzKX07Vy5wcm90b3R5cGUudW5sb2FkPVcucHJvdG90eXBlLlU7CmZ1bmN0aW9uIFplKGEpe3ZhciBiO2EubCYmKGI9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigidW5sb2FkIikuc3RhcnQoKSk7aWYoIWEuYSlyZXR1cm4gYiYmYi5sb2coKSxQcm9taXNlLnJlc29sdmUoKTthLmgmJiRlKGEsInVubG9hZGluZyIpO2EuYi5wYXVzZSgpO2RiKGEuZyk7YWYoYSk7YmYoYSk7YS5pJiYoYS5pLmRlc3Ryb3koKSxhLmk9bnVsbCk7YS5hJiYoYS5hLmRlc3Ryb3koKSxhLmE9bnVsbCk7YS5mLmdldEJvb2woInd3d192aWRlb3NfcGxheWJhY2tfcmVtb3ZlX3NyY19hdHRyX29uX3VubG9hZCIsITEpP2EuYi5yZW1vdmVBdHRyaWJ1dGUoInNyYyIpOmEuYi5zcmM9IiI7dmFyIGM9YS5mLmdldEJvb2woInd3d19zaGFrYV9jbGVhcl9tZWRpYV9rZXlzX29uX3VubG9hZCIsITEpJiZhLmIuc2V0TWVkaWFLZXlzJiYiZnVuY3Rpb24iPT09dHlwZW9mIGEuYi5zZXRNZWRpYUtleXM/YS5iLnNldE1lZGlhS2V5cyhudWxsKTpQcm9taXNlLnJlc29sdmUoKSxjPWMudGhlbihmdW5jdGlvbigpe2ImJgpiLmxvZygpO2lmKGEuZi5nZXRCb29sKCJlbmFibGVfcDJwX3N1cHBvcnQiLCExKSl7dmFyIGM9eSh7dHlwZToidW5sb2FkIn0pO2EuZGlzcGF0Y2hFdmVudChjKX19KTthLmg9ITE7YS5PPSExO2EuQT0hMTthLnU9ITE7cmV0dXJuIGN9ZnVuY3Rpb24gY2YoYSxiKXtmb3IodmFyIGM9MDtjPGEubGVuZ3RoO2MrKyliLnB1c2goYVtjXS5jb250ZW50VHlwZSxhW2NdKX1XLnByb3RvdHlwZS5GYT1mdW5jdGlvbihhKXtyZXR1cm4gZGYodGhpcyxhKX07Vy5wcm90b3R5cGUubG9hZD1XLnByb3RvdHlwZS5GYTsKZnVuY3Rpb24gZGYoYSxiKXt2YXIgYzthLmwmJihjPWEubC5nZXRPcGVyYXRpb25Mb2dnZXIoImxvYWQiKS5zZXRTdGF0ZSgibG9hZGluZyIpLnN0YXJ0KCksYi5sPWIuZy5wZXJmb3JtYW5jZUxvZ2dlcj1hLmwpO2EuRyYmKGIuQWI9Yi5nLmFickxvZ2dlcj1hLkcpO2EuYmEmJihiLmlhPWEuYmEpO2EuY2EmJihiLkk9YS5jYSk7YS5nYSYmYi5VLnB1c2goYS5nYSk7ZWYoYixhLmIpO3ZhciBkPW51bGw7YS5LPSExO0UoYS5nLGIsInJlcGxpY2Fzd2l0Y2giLGEubmEuYmluZChhKSk7YS5hJiYoZD1aZShhKS50aGVuKEooYSxmdW5jdGlvbigpe3JldHVybiBiLndiKCl9KSkpO2EuYi5hdXRvcGxheSYmKHUucWEoImxvYWQiKSxFKGEuZyxhLmIsInRpbWV1cGRhdGUiLGEuZWQuYmluZChhKSkpO2IubGMoYS5jKTtiLmxhPWEuVDthLlQ9bnVsbDtkfHwoZD1iLndiKCkpO2EuZi5nZXRCb29sKCJmaXhfc2hha2FfcGxheWVyX2xvYWRfcmFjZV9jb25kaXRpb24iLCExKSYmKGEuYT1iKTtkLmNhdGNoKEooYSwKZnVuY3Rpb24oYSl7Yi5kZXN0cm95KCk7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfSkpO3JldHVybiBkLnRoZW4oSihhLGZ1bmN0aW9uKCl7aWYoZmYodGhpcyxiKSlyZXR1cm4gZ2YoKTt0aGlzLmE9Yjt0aGlzLmcuYWIodGhpcy5hLCJyZXBsaWNhc3dpdGNoIik7RSh0aGlzLmcsdGhpcy5hLCJzZWVrcmFuZ2VjaGFuZ2VkIix0aGlzLnBhLmJpbmQodGhpcykpO0UodGhpcy5nLHRoaXMuYSwiYWxsU3RyZWFtc1N0YXJ0ZWQiLHRoaXMuRmQuYmluZCh0aGlzKSk7dmFyIGE9bmV3IEQ7Y2YoTmUodGhpcy5hKSxhKTtQZSh0aGlzLmEsYSk7YT10aGlzLmVhKCk7YyYmMDxhLmxlbmd0aCYmKGE9YS5yZWR1Y2UoZnVuY3Rpb24oYSxiKXtpZihudWxsPT09YXx8Yi5iYW5kd2lkdGg8YS5iYW5kd2lkdGgpYT1iO3JldHVybiBhfSxudWxsKSxjLnNldExvd2VzdFF1YWxpdHlSZXByZXNlbnRhdGlvbklEKGEuc3RyZWFtSW5mb0lEKSk7aWYoIXRoaXMuYy5lbmFibGVDb250ZW50UHJvdGVjdGlvbilyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7CnRoaXMuaT1uZXcgTWUodGhpcyx0aGlzLmIsdGhpcy5hLHRoaXMubCk7cmV0dXJuIHRoaXMuaS5pbml0aWFsaXplKCl9KSkudGhlbihKKGEsZnVuY3Rpb24oKXtpZihmZih0aGlzLGIpKXJldHVybiBnZigpO2hmKHRoaXMpO0UodGhpcy5nLHRoaXMuYiwicGxheWluZyIsdGhpcy5rZC5iaW5kKHRoaXMpKTtFKHRoaXMuZyx0aGlzLmIsInBhdXNlIix0aGlzLm1hLmJpbmQodGhpcykpO0UodGhpcy5nLHRoaXMuYiwid2FpdGluZyIsdGhpcy5zZC5iaW5kKHRoaXMpKTtFKHRoaXMuZyx0aGlzLmIsInBsYXkiLHRoaXMuaWEuYmluZCh0aGlzKSk7cmV0dXJuIGpmKHRoaXMuYSx0aGlzLHRoaXMuYil9KSkudGhlbihKKGEsZnVuY3Rpb24oKXtpZihmZih0aGlzLGIpKXJldHVybiBnZigpO2lmKHRoaXMuYy5lbmFibGVDb250ZW50UHJvdGVjdGlvbil7dmFyIGE7dGhpcy5sJiYoYT10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJlbWVfYXR0YWNoIikpO3JldHVybiBTZSh0aGlzLmkpLnRoZW4oZnVuY3Rpb24oKXthJiYKYS5sb2coKX0pfXJldHVybiBQcm9taXNlLnJlc29sdmUoKX0pKS50aGVuKEooYSxmdW5jdGlvbigpe2lmKGZmKHRoaXMsYikpcmV0dXJuIGdmKCk7a2YodGhpcyk7YyYmYy51cGRhdGVTdGF0ZSgicmVhZHkiKS5sb2coKX0pKS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7YyYmYy5zZXRFcnJvcihKU09OLnN0cmluZ2lmeShhKSkubG9nKCk7aWYoZmYodGhpcyxiKSlyZXR1cm4gZ2YoKTtpZigiZGVzdHJveSIhPWEudHlwZSl7dmFyIGQ9QShhKTt0aGlzLmRpc3BhdGNoRXZlbnQoZCl9cmV0dXJuIHRoaXMuVSgpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYSl9KX0pKX1mdW5jdGlvbiBmZihhLGIpe3JldHVybiFhLmJ8fGEuS3x8YS5mLmdldEJvb2woImZpeF9zaGFrYV9wbGF5ZXJfbG9hZF9yYWNlX2NvbmRpdGlvbiIsITEpJiZiIT09YS5hfW49Vy5wcm90b3R5cGU7Cm4uRmQ9ZnVuY3Rpb24oKXt2YXIgYSxiO3RoaXMuZi5nZXRCb29sKCJ3d3dfdmlkZW9zX2V4dGVuZGVkX3NwbF9sb2dnaW5nX2Zvcl9jb25uZWN0ZWRfdHYiLCExKSYmdGhpcy5sJiYoYT10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJvbl9hbGxfc3RyZWFtc19zdGFydGVkIiksYj10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJyZXN0b3JlX3ZpZGVvX3BsYXliYWNrX3JhdGUiKSk7dGhpcy5PPSEwO3RoaXMuaD90aGlzLkQoKToodGhpcy5iLnBsYXliYWNrUmF0ZT10aGlzLmosYiYmYi5sb2coKSk7YSYmYS5sb2coKX07ZnVuY3Rpb24gZ2YoKXt2YXIgYT1FcnJvcigiUGxheWVyIGRlc3Ryb3llZCIpO2EudHlwZT0iZGVzdHJveSI7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfQpmdW5jdGlvbiBoZihhKXt2YXIgYj1hLmIucGFyZW50Tm9kZTtiJiZhLmYuZ2V0Qm9vbCgicHJldmVudF9wbGF5aW5nX29uX2luc3VmZmljaWVudF9idWZmZXIiLCExKSYmKGEuUj1ldmVudExpc3RlbmVyQ2FwdHVyZShiLCJwbGF5aW5nIixmdW5jdGlvbihhKXthLnRhcmdldD09PXRoaXMuYiYmdGhpcy5EKGEpfS5iaW5kKGEpKSl9bi5lZD1mdW5jdGlvbigpe3UuZW5kKCJsb2FkIik7dGhpcy5nLmFiKHRoaXMuYiwidGltZXVwZGF0ZSIpfTtuLnNkPWZ1bmN0aW9uKGEpe2xmKHRoaXMpO3RoaXMuZi5nZXRCb29sKCJ1bmlmeV9zdHJlYW1fc3RhcnRfd2l0aF9idWZmZXJfZGV0ZWN0b3IiLCExKSYmIXRoaXMuaCYmdGhpcy5EKGEpfTsKbi5rZD1mdW5jdGlvbigpe3UucWEoInBsYXlpbmciKTt0aGlzLmwmJnRoaXMubC5nZXRFdmVudExvZ2dlcigicGxheWluZyIpLnNldFN0YXRlKCJwbGF5aW5nIikubG9nKCk7IXRoaXMubSYmMD50aGlzLmomJih0aGlzLmIucGxheWJhY2tSYXRlPTAsdGhpcy5QKHRoaXMuYi5jdXJyZW50VGltZSxEYXRlLm5vdygpLHRoaXMuaikpO3RoaXMuaCYmIXRoaXMuViYmJGUodGhpcywicGxheWluZyIpfTtuLkJkPWZ1bmN0aW9uKGEpe3RoaXMudT1hfTtXLnByb3RvdHlwZS5zZXRQZW5kaW5nUGxheVJlcXVlc3Q9Vy5wcm90b3R5cGUuQmQ7Vy5wcm90b3R5cGUuaWE9ZnVuY3Rpb24oKXt0aGlzLnU9ITB9O1cucHJvdG90eXBlLm1hPWZ1bmN0aW9uKCl7dGhpcy5sJiZ0aGlzLmwuZ2V0RXZlbnRMb2dnZXIoInBhdXNlIikuc2V0U3RhdGUoInBhdXNlZCIpLmxvZygpO3UuZW5kKCJwbGF5aW5nIik7dS5nZXQoInBsYXlpbmciKTtiZih0aGlzKX07ClcucHJvdG90eXBlLnBhPWZ1bmN0aW9uKGEpe3RoaXMuRj1hLnN0YXJ0O3RoaXMuJD1hLmxhc3Q7dGhpcy5aPWEuZW5kO3RoaXMuUz1hLnNlZWtSYW5nZUdhcHM7dGhpcy5mLmdldEJvb2woIm5vX3NraXBfZ2Fwc19vbl9zZWVrX3JhbmdlX2NoYW5nZWQiLCExKXx8bGYodGhpcyl9O1cucHJvdG90eXBlLmVhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYT90aGlzLmEuWigpOltdfTtXLnByb3RvdHlwZS5nZXRWaWRlb1RyYWNrcz1XLnByb3RvdHlwZS5lYTtXLnByb3RvdHlwZS54YT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmE/dGhpcy5hLnZhKCk6W119O1cucHJvdG90eXBlLmdldEF1ZGlvVHJhY2tzPVcucHJvdG90eXBlLnhhO1cucHJvdG90eXBlLkRhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYT90aGlzLmEubWMoKTpbXX07Vy5wcm90b3R5cGUuZ2V0VGV4dFRyYWNrcz1XLnByb3RvdHlwZS5EYTsKVy5wcm90b3R5cGUuc2VsZWN0VmlkZW9UcmFjaz1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmE/dGhpcy5hLnNlbGVjdFZpZGVvVHJhY2soYSx2b2lkIDA9PWI/ITA6Yik6ITF9O1cucHJvdG90eXBlLnNlbGVjdFZpZGVvVHJhY2s9Vy5wcm90b3R5cGUuc2VsZWN0VmlkZW9UcmFjaztXLnByb3RvdHlwZS5HYT1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIHRoaXMuYT9tZih0aGlzLmEsImF1ZGlvIixhLHZvaWQgMD09Yj8hMDpiLGMpOiExfTtXLnByb3RvdHlwZS5zZWxlY3RBdWRpb1RyYWNrPVcucHJvdG90eXBlLkdhO1cucHJvdG90eXBlLkhhPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmE/bWYodGhpcy5hLCJ0ZXh0IixhLCExKTohMX07Vy5wcm90b3R5cGUuc2VsZWN0VGV4dFRyYWNrPVcucHJvdG90eXBlLkhhO1cucHJvdG90eXBlLndhPWZ1bmN0aW9uKGEpe3RoaXMuYSYmbmYodGhpcy5hLGEpfTtXLnByb3RvdHlwZS5lbmFibGVUZXh0VHJhY2s9Vy5wcm90b3R5cGUud2E7ClcucHJvdG90eXBlLnJhPWZ1bmN0aW9uKGEpe2JmKHRoaXMpO3RoaXMudyYmdGhpcy5ofHwhKDA8PWEpP3RoaXMuYi5wYXVzZWR8fCh0aGlzLmIucGxheWJhY2tSYXRlPTAsdGhpcy5QKHRoaXMuYi5jdXJyZW50VGltZSxEYXRlLm5vdygpLGEpKTp0aGlzLmIucGxheWJhY2tSYXRlPWE7dGhpcy5qPWF9O1cucHJvdG90eXBlLnNldFBsYXliYWNrUmF0ZT1XLnByb3RvdHlwZS5yYTtXLnByb3RvdHlwZS5rYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmp9O1cucHJvdG90eXBlLmdldFBsYXliYWNrUmF0ZT1XLnByb3RvdHlwZS5rYTtXLnByb3RvdHlwZS5DYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmE/dGhpcy5hLk9iKCk6bnVsbH07Vy5wcm90b3R5cGUuZ2V0TWFuaWZlc3Q9Vy5wcm90b3R5cGUuQ2E7Vy5wcm90b3R5cGUuUGE9ZnVuY3Rpb24oYSl7dGhpcy5UPWF9O1cucHJvdG90eXBlLnNldFBsYXliYWNrU3RhcnRUaW1lPVcucHJvdG90eXBlLlBhOwpXLnByb3RvdHlwZS5JPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYT8hIXRoaXMuYS5QKCk6ITF9O1cucHJvdG90eXBlLmlzTGl2ZT1XLnByb3RvdHlwZS5JOwpXLnByb3RvdHlwZS52YT1mdW5jdGlvbihhKXtpZihhKXt2YXIgYj1CKGEsImVuYWJsZUFkYXB0YXRpb24iKTtudWxsIT1iJiYodGhpcy5jLmVuYWJsZUFkYXB0YXRpb249Yik7Yj1CKGEsImVuZEJ1ZmZlcmluZ09uUGxheWluZyIpO251bGwhPWImJih0aGlzLlY9Yik7Yj1CKGEsInVzZVBsYXliYWNrUmF0ZUZvckJ1ZmZlcmluZyIpO251bGwhPWImJih0aGlzLnc9Yik7Yj1DKGEsInN0cmVhbUJ1ZmZlclNpemUiLDApO251bGwhPWImJih0aGlzLmMuc3RyZWFtQnVmZmVyU2l6ZT1iKTtiPUMoYSwiZHluYW1pY1N0cmVhbUJ1ZmZlclNpemUiLDApO251bGwhPWImJih0aGlzLmMuZHluYW1pY1N0cmVhbUJ1ZmZlclNpemU9Yik7bnVsbCE9YS5zbWFydEJ1ZmZlckFkanVzdG1lbnRQYXJhbXMmJih0aGlzLmMuc21hcnRCdWZmZXJBZGp1c3RtZW50UGFyYW1zPWEuc21hcnRCdWZmZXJBZGp1c3RtZW50UGFyYW1zKTtiPUIoYSwiYWRkQ2RuRGVidWdRdWVyeVBhcmFtZXRlcnMiKTtudWxsIT1iJiYKKHRoaXMuYy5hZGRDZG5EZWJ1Z1F1ZXJ5UGFyYW1ldGVycz1iKTtiPUMoYSwiaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemUiLDApO251bGwhPWImJih0aGlzLmMuaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemU9Yik7Yj1CKGEsImluY2x1ZGVTdHJlYW1CdWZmZXJTaXplSW5TdGFydE9mZnNldCIpO251bGwhPWImJih0aGlzLmMuaW5jbHVkZVN0cmVhbUJ1ZmZlclNpemVJblN0YXJ0T2Zmc2V0PWIpO2I9QyhhLCJqdW1wVG9MaXZlVGhyZXNob2xkIik7bnVsbCE9YiYmKHRoaXMuYy5qdW1wVG9MaXZlVGhyZXNob2xkPWIpO2I9QyhhLCJsaXZlU3RyZWFtRW5kVGltZW91dCIsMCk7bnVsbCE9YiYmKHRoaXMuYy5saXZlU3RyZWFtRW5kVGltZW91dD1iKTtiPUMoYSwibGljZW5zZVJlcXVlc3RUaW1lb3V0IiwwKTtudWxsIT1iJiYodGhpcy5jLmxpY2Vuc2VSZXF1ZXN0VGltZW91dD1iKTtiPUMoYSwibXBkUmVxdWVzdFRpbWVvdXQiLDApO251bGwhPWImJih0aGlzLmMubXBkUmVxdWVzdFRpbWVvdXQ9CmIpO2I9QyhhLCJtaW5NcGRSZWZyZXNoSW50ZXJ2YWwiLDApO251bGwhPWImJih0aGlzLmMubWluTXBkUmVmcmVzaEludGVydmFsPWIpO2I9QihhLCJlbmFibGVMaXZlSW50ZXJydXB0aW9uRGV0ZWN0aW9uIik7bnVsbCE9YiYmKHRoaXMuYy5lbmFibGVMaXZlSW50ZXJydXB0aW9uRGV0ZWN0aW9uPWIpO2I9QihhLCJlbmFibGVNYW5pZmVzdERlYnVnIik7bnVsbCE9YiYmKHRoaXMuYy5lbmFibGVNYW5pZmVzdERlYnVnPWIsRi5wcm90b3R5cGUub2M9YixifHwoRi5wcm90b3R5cGUuTGE9ZnVuY3Rpb24oKXt9KSk7Yj1CKGEsInJlc29sdmVWaWRlb1RpbWVVcGRhdGVPbkZyYWdtZW50ZWRUaW1lUmFuZ2VzIik7bnVsbCE9YiYmKHRoaXMuYy5yZXNvbHZlVmlkZW9UaW1lVXBkYXRlT25GcmFnbWVudGVkVGltZVJhbmdlcz1iKTtiPUMoYSwibGl2ZUludGVycnVwdGlvbkNvbnNlY3V0aXZlVXBkYXRlc1dpdGhvdXRDaGFuZ2UiKTtudWxsIT1iJiYodGhpcy5jLmxpdmVJbnRlcnJ1cHRpb25Db25zZWN1dGl2ZVVwZGF0ZXNXaXRob3V0Q2hhbmdlPQpiKTtiPUMoYSwibGl2ZUludGVycnVwdGlvbkNvbnNlY3V0aXZlVXBkYXRlc1dpdGhDaGFuZ2UiKTtudWxsIT1iJiYodGhpcy5jLmxpdmVJbnRlcnJ1cHRpb25Db25zZWN1dGl2ZVVwZGF0ZXNXaXRoQ2hhbmdlPWIpO2I9QihhLCJyZWFwcGVuZEluaXRTZWdtZW50QWZ0ZXJBYm9ydCIpO251bGwhPWImJih0aGlzLmMucmVhcHBlbmRJbml0U2VnbWVudEFmdGVyQWJvcnQ9Yik7Yj1CKGEsImxpdmVTZW5kUHVzaEhlYWRlcnMiKTtudWxsIT1iJiYodGhpcy5jLmxpdmVTZW5kUHVzaEhlYWRlcnM9Yik7Yj1DKGEsImxpdmVNYXhNYW5pZmVzdEZldGNoZXNXaXRoUHVzaCIpO251bGwhPWImJih0aGlzLmMubGl2ZU1heE1hbmlmZXN0RmV0Y2hlc1dpdGhQdXNoPWIpO2I9QyhhLCJsaXZlTWF4U2VnbWVudHNUb1B1c2giKTtudWxsIT1iJiYodGhpcy5jLmxpdmVNYXhTZWdtZW50c1RvUHVzaD1iKTtiPUMoYSwic2VnbWVudFJlcXVlc3RUaW1lb3V0IiwwKTtudWxsIT1iJiYodGhpcy5jLnNlZ21lbnRSZXF1ZXN0VGltZW91dD0KYik7Yj1ZYShhLCJwcmVmZXJyZWRMYW5ndWFnZSIpO251bGwhPWImJih0aGlzLmMucHJlZmVycmVkTGFuZ3VhZ2U9Yik7Yj1aYShhLCJyZXN0cmljdGlvbnMiLGthKTtudWxsIT1iJiYodGhpcy5jLnJlc3RyaWN0aW9ucz1iLmNsb25lKCkpO2I9YS5saXZlSW5pdGlhbFB1c2hSZXByZXNlbnRhdGlvbjtudWxsIT1iJiYodGhpcy5jLmxpdmVJbml0aWFsUHVzaFJlcHJlc2VudGF0aW9uPWIpO2I9YS5saXZlQXVkaW9QdXNoUmVwcmVzZW50YXRpb247bnVsbCE9YiYmKHRoaXMuYy5saXZlQXVkaW9QdXNoUmVwcmVzZW50YXRpb249Yik7Yj1hLnVzZUlubGluZUluaXRTZWdtZW50O251bGwhPWImJih0aGlzLmMudXNlSW5saW5lSW5pdFNlZ21lbnQ9Yik7Yj1CKGEsImRpc2FibGVDYWNoZUJ1c3RpbmdFdmVuVGhvdWdoSXRNYXlBZmZlY3RCYW5kd2lkdGhFc3RpbWF0aW9uIik7bnVsbCE9YiYmKFRjPSFiKTtiPUIoYSwiY3VycmVudFRpbWVEdXJpbmdSZWFkeVN0YXRlWmVyb1Rocm93cyIpO251bGwhPQpiJiYodGhpcy5jLmN1cnJlbnRUaW1lRHVyaW5nUmVhZHlTdGF0ZVplcm9UaHJvd3M9Yik7Yj1DKGEsImxpdmVEYXRhRmV0Y2hNYXhSZXRyaWVzIik7bnVsbCE9YiYmKHRoaXMuYy5saXZlRGF0YUZldGNoTWF4UmV0cmllcz1iKTtiPUMoYSwibGl2ZVNvdXJjZUJ1ZmZlckNsZWFyTWF4UmV0cmllcyIpO251bGwhPWImJih0aGlzLmMubGl2ZVNvdXJjZUJ1ZmZlckNsZWFyTWF4UmV0cmllcz1iKTtiPUIoYSwidXNlTG9uZ0NhY2hlRm9yTWFuaWZlc3QiKTtudWxsIT1iJiYodGhpcy5jLnVzZUxvbmdDYWNoZUZvck1hbmlmZXN0PWIpO2I9QihhLCJqdW1wVG9FYXJsaWVzdFBvc2l0aW9uSW5DdXJyZW50QmxvY2siKTtudWxsIT1iJiYodGhpcy5jLmp1bXBUb0VhcmxpZXN0UG9zaXRpb25JbkN1cnJlbnRCbG9jaz1iKTtiPUIoYSwiaWdub3JlTWluQnVmZmVyVGltZSIpO251bGwhPWImJih0aGlzLmMuaWdub3JlTWluQnVmZmVyVGltZT1iKTtiPUMoYSwicGxheWhlYWRGcmFnbWVudGVkR2FwRGlmZkFsbG93YW5jZSIpOwpudWxsIT1iJiYodGhpcy5jLnBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2U9Yik7Yj1CKGEsImZpeEJ1ZmZlcmluZ0dvYWxEZXRlcm1pbmF0aW9uIik7bnVsbCE9YiYmKHRoaXMuYy5maXhCdWZmZXJpbmdHb2FsRGV0ZXJtaW5hdGlvbj1iKTtiPUIoYSwic2tpcEVtcHR5U2VnbWVudHMiKTtudWxsIT1iJiYodGhpcy5jLnNraXBFbXB0eVNlZ21lbnRzPWIpOyhiPUIoYSwidXNlTWljcm9UYXNrVGltZW91dHMiKSkmJih0aGlzLmMudXNlTWljcm9UYXNrVGltZW91dHM9Yik7KGI9QihhLCJlbmFibGVSZXF1ZXN0UGlwZWxpbmluZyIpKSYmKHRoaXMuYy5lbmFibGVSZXF1ZXN0UGlwZWxpbmluZz1iKTsoYj1CKGEsImVuYWJsZVN0cmVhbWluZyIpKSYmKHRoaXMuYy5lbmFibGVTdHJlYW1pbmc9Yik7KGE9QihhLCJlbmFibGVDb250ZW50UHJvdGVjdGlvbiIpKSYmKHRoaXMuYy5lbmFibGVDb250ZW50UHJvdGVjdGlvbj1hKTt0aGlzLmEmJnRoaXMuYS5sYyh0aGlzLmMpfX07ClcucHJvdG90eXBlLmNvbmZpZ3VyZT1XLnByb3RvdHlwZS52YTtXLnByb3RvdHlwZS5PYT1mdW5jdGlvbihhKXt0aGlzLmEmJnRoaXMuYS5xYyhhKX07Vy5wcm90b3R5cGUuc2V0RW5hYmxlTGl2ZWhlYWRDYXRjaHVwPVcucHJvdG90eXBlLk9hO1cucHJvdG90eXBlLkVhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYT90aGlzLmEubmE6ITF9O1cucHJvdG90eXBlLmlzTGl2ZWhlYWRDYXRjaHVwRW5hYmxlZD1XLnByb3RvdHlwZS5FYTsKZnVuY3Rpb24gbGYoYSl7aWYoYS5mLmdldEJvb2woInNraXBfbWFuaWZlc3RfZ2FwX2Jhc2VkX29uX3N0cmVhbV9saW1pdHMiLCExKSYmKCFhLkkoKXx8IWEuZi5nZXRCb29sKCJub19za2lwX21hbmlmZXN0X2dhcHNfaWZfbGl2ZSIsITEpKSl7dmFyIGI7YS5mLmdldEJvb2woInNraXBfbWFuaWZlc3RfZ2Fwc191c2VfY2FjaGVkX3N0cmVhbV9saW1pdHMiLCExKT9hLmEmJm51bGwhPT1hLlM/Yj17c3RhcnQ6YS5GLGVuZDphLlosbGFzdDphLiQsWmE6YS5TfTpiPWEuYT9hLmEubmIoKTpudWxsOmI9YS5hP2EuYS5uYigpOm51bGw7aWYoYilmb3IodmFyIGM9YS5mLmdldE51bWJlcigic2tpcF9tYW5pZmVzdF9nYXBfYm91bmRhcnlfcHJlY2lzaW9uX21zIiwxRTMpLzFFMyxkPWIuWmEsZT1hLmIucGxheWJhY2tSYXRlLGY9YS5iLmN1cnJlbnRUaW1lLGc9MDtnPGQubGVuZ3RoOysrZyl7dmFyIGg9ZFtnXS5zdGFydFRpbWUtYyxrPWRbZ10uZW5kVGltZStjO2Y8PWsmJmY+PWgmJihhLmYuZ2V0Qm9vbCgiZml4X3NlZWtfcmFuZ2VfZ2FwX2JvdW5kYXJ5IiwKITEpfHwoaD1kW2ddLnN0YXJ0VGltZSxrPWRbZ10uZW5kVGltZSksMDw9ZT9iLmVuZD5rJiYoYS5iLmN1cnJlbnRUaW1lPWspOmIuc3RhcnQ8aCYmKGEuYi5jdXJyZW50VGltZT1oKSl9fX1XLnByb3RvdHlwZS5sYT1mdW5jdGlvbigpe3ZhciBhPXRoaXMuYSYmdGhpcy5hLm5iKCk7cmV0dXJuKGE9YSYme3N0YXJ0OmEuc3RhcnQsZW5kOmEuZW5kLGxhc3Q6YS5sYXN0LHNlZWtSYW5nZUdhcHM6YS5aYX0pfHxudWxsfTtXLnByb3RvdHlwZS5nZXRWaWRlb1NvdXJjZVN0cmVhbUxpbWl0cz1XLnByb3RvdHlwZS5sYTtXLnByb3RvdHlwZS55YT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmN9O1cucHJvdG90eXBlLmdldENvbmZpZ3VyYXRpb249Vy5wcm90b3R5cGUueWE7ZnVuY3Rpb24gYmYoYSl7YS5tJiYoY2xlYXJUaW1lb3V0KGEubSksYS5tPW51bGwpfQpmdW5jdGlvbiBrZihhKXt2YXIgYjthLmYuZ2V0Qm9vbCgid3d3X3ZpZGVvc19leHRlbmRlZF9zcGxfbG9nZ2luZ19mb3JfY29ubmVjdGVkX3R2IiwhMSkmJmEubCYmKGI9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigic3RhcnRfd2F0Y2hkb2ciKSk7YWYoYSk7YS5KPXNldFRpbWVvdXQoYS5ELmJpbmQoYSksMTAwKTtiJiZiLmxvZygpfWZ1bmN0aW9uIGFmKGEpe3ZhciBiO2EuZi5nZXRCb29sKCJ3d3dfdmlkZW9zX2V4dGVuZGVkX3NwbF9sb2dnaW5nX2Zvcl9jb25uZWN0ZWRfdHYiLCExKSYmYS5sJiYoYj1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJjYW5jZWxfd2F0Y2hkb2ciKSk7YS5KJiYoY2xlYXJUaW1lb3V0KGEuSiksYS5KPW51bGwpO2ImJmIubG9nKCl9ClcucHJvdG90eXBlLlA9ZnVuY3Rpb24oYSxiLGMpe3RoaXMubT1udWxsO3ZhciBkPShEYXRlLm5vdygpLWIpLzFFMypjO3RoaXMuYi5jdXJyZW50VGltZTx0aGlzLkYrKHRoaXMuSSgpPzE6LjA1KT90aGlzLmIucGF1c2UoKTooZD1NYXRoLm1heCh0aGlzLkYsYStkKSx0aGlzLmIuY3VycmVudFRpbWU9ZCx0aGlzLm09c2V0VGltZW91dCh0aGlzLlAuYmluZCh0aGlzLGEsYixjKSwyNTApKX07ZnVuY3Rpb24gb2YoYSl7cmV0dXJuIGEuZi5nZXRCb29sKCJ1bmlmeV9zdHJlYW1fc3RhcnRfd2l0aF9idWZmZXJfZGV0ZWN0b3IiLCExKSYmIWEuT30KZnVuY3Rpb24gJGUoYSxiKXtpZighb2YoYSkpe3UuZW5kKCJidWZmZXJpbmciKTtudWxsIT09YS5CJiYoYS5CPW51bGwpO2EubyYmKGEuby5zZXRDb25jbHVkZXIoYikubG9nKCksYS5vPW51bGwpO2lmKGEuRyl7dmFyIGM9RGF0ZS5ub3coKTthLkcuc2V0RXZlbnQoImJ1ZmZlcmluZyIpLnNldENsaWVudFRpbWVCZWdpbihNYXRoLnJvdW5kKGMtdS5nZXQoImJ1ZmZlcmluZyIpKSkuc2V0Q2xpZW50VGltZUVuZChNYXRoLnJvdW5kKGMpKS5sb2coKX1hLncmJihhLmIucGxheWJhY2tSYXRlPWEuaik7YS5oPSExO2EuZGlzcGF0Y2hFdmVudCh5KHt0eXBlOiJidWZmZXJpbmdFbmQifSkpO2EuQSYmKGEuQT0hMSxkaXNwYXRjaERvbUV2ZW50KGEuYiwicGxheWluZyIpKTthLnU9ITF9fVcucHJvdG90eXBlLmphPWZ1bmN0aW9uKGEpe3RoaXMuZGlzcGF0Y2hFdmVudCh5KGEpKX07Vy5wcm90b3R5cGUuZGlzcGF0Y2hFdmVudEV4dGVybj1XLnByb3RvdHlwZS5qYTsKZnVuY3Rpb24gcGYoYSl7dmFyIGI9YS5iLmJ1ZmZlcmVkO2lmKDE9PT1iLmxlbmd0aCliPWIuZW5kKDApO2Vsc2UgaWYoMD09PWIubGVuZ3RoKWI9MDtlbHNle2Zvcih2YXIgYz0wLGQ9MDtkPGIubGVuZ3RoOysrZCliLmVuZChkKT49YS5iLmN1cnJlbnRUaW1lJiYoYz1iLnN0YXJ0KGQpPD1hLmIuY3VycmVudFRpbWU/YysoYi5lbmQoZCktYS5iLmN1cnJlbnRUaW1lKTpjKyhiLmVuZChkKS1iLnN0YXJ0KGQpKSk7cmV0dXJuIGN9cmV0dXJuIE1hdGgubWF4KGItYS5iLmN1cnJlbnRUaW1lLDApfQpXLnByb3RvdHlwZS5EPWZ1bmN0aW9uKGEpe2lmKCF0aGlzLmYuZ2V0Qm9vbCgicHJldmVudF9wbGF5aW5nX29uX2luc3VmZmljaWVudF9idWZmZXIiLCExKXx8IXRoaXMuSyl7a2YodGhpcyk7dmFyIGI9YT9hLnR5cGU6IiIsYz0id2FpdGluZyI9PT1iO2lmKCF0aGlzLmIuZW5kZWQmJiF0aGlzLmIuc2Vla2luZ3x8Yyl7dmFyIGQ7dGhpcy5mLmdldEJvb2woInd3d192aWRlb3NfZXh0ZW5kZWRfc3BsX2xvZ2dpbmdfZm9yX2Nvbm5lY3RlZF90diIsITEpJiZ0aGlzLmwmJihkPXRoaXMubC5nZXRPcGVyYXRpb25Mb2dnZXIoIndhdGNoZG9nIikpO3ZhciBlPXRoaXMuYi5idWZmZXJlZCxmPWUubGVuZ3RoP2UuZW5kKGUubGVuZ3RoLTEpOjAsZzt0aGlzLmYuZ2V0Qm9vbCgiZml4X3Vuc3RhbGxfYnVmZmVyX2NhbGN1bGF0aW9uIiwhMSk/Zz1wZih0aGlzKTpnPU1hdGgubWF4KGYtdGhpcy5iLmN1cnJlbnRUaW1lLDApO3ZhciBoPXRoaXMuYi5jdXJyZW50VGltZSxlPXRoaXMuSSgpP3RoaXMuZi5nZXROdW1iZXIoImxpdmVfYnVmZmVyaW5nX3VuZGVyZmxvd190aHJlc2hvbGQiLAouNSk6dGhpcy5mLmdldE51bWJlcigiYnVmZmVyaW5nX3VuZGVyZmxvd190aHJlc2hvbGQiLDApLGs9dGhpcy5iLmR1cmF0aW9uLGs9aXNOYU4oayk/MDpNYXRoLm1heChrLS4wNSwwKSxmPWY+PWt8fGg+PWssYj1ifHwid2F0Y2hkb2dfdGltZXIiO2lmKHRoaXMuaCl7cWYodGhpcyxhKTthPXJmKHRoaXMuYSk7dmFyIGw9MDxhP2cvYTowO2c+YXx8c2YodGhpcy5hKXx8dGhpcy5mLmdldEJvb2woImZpeF9idWZmZXJpbmdfYXRfdGhlX2VuZF9vZl9wbGF5YmFjayIsITApJiZmPygkZSh0aGlzLGIpLHRoaXMuWSYmIXRoaXMudyYmdGhpcy5iLnBsYXkoKSk6dGhpcy5CIT09bCYmKHRoaXMuQj1sLHRoaXMuZGlzcGF0Y2hFdmVudCh5KHt0eXBlOiJidWZmZXJpbmdQcm9ncmVzcyIscHJvZ3Jlc3M6bH0pKSl9ZWxzZSB0aGlzLmIucGF1c2VkJiYhY3x8ISghZiYmZzxlfHxvZih0aGlzKSl8fCh0aGlzLmg9ITAsdGhpcy53P3RoaXMuYi5wbGF5YmFja1JhdGU9MDp0aGlzLmIucGF1c2UoKSx0aGlzLmwmJgohdGhpcy5vJiYoZz10aGlzLmIuYnVmZmVyZWQsZz1nLmxlbmd0aD9nLmVuZChnLmxlbmd0aC0xKTowLHRoaXMuZi5nZXRCb29sKCJmaXhfdW5zdGFsbF9idWZmZXJfY2FsY3VsYXRpb24iLCExKT9sPXBmKHRoaXMpOmw9TWF0aC5tYXgoZy10aGlzLmIuY3VycmVudFRpbWUsMCksZz0xRTMqKHJmKHRoaXMuYSktbCksdGhpcy5vPXRoaXMubC5nZXRPcGVyYXRpb25Mb2dnZXIoImJ1ZmZlcmluZyIpLnNldExlbmd0aChNYXRoLnJvdW5kKGcpKS5zZXRUeXBlKHRoaXMudT8ic3RhcnQvdW5wYXVzZSI6ImluX3BsYXkiKS5zZXRJbml0aWF0b3IoYikuc3RhcnQoKSksdS5xYSgiYnVmZmVyaW5nIiksdGhpcy5kaXNwYXRjaEV2ZW50KHkoe3R5cGU6ImJ1ZmZlcmluZ1N0YXJ0In0pKSx0aGlzLmYuZ2V0Qm9vbCgibm9fc2tpcF9nYXBzX29uX2J1ZmZlcmluZyIsITEpfHxsZih0aGlzKSxxZih0aGlzLGEpKSxzZih0aGlzLmEpJiYkZSh0aGlzLGIpO2QmJmQubG9nKCl9ZWxzZSB0aGlzLmYuZ2V0Qm9vbCgiZml4X2ZmX2luX3BsYXlfc3RhbGxfdXBvbl9zZWVrIiwKITEpJiZxZih0aGlzLGEpfX07Vy5wcm90b3R5cGUubmE9ZnVuY3Rpb24oYSl7dGhpcy5kaXNwYXRjaEV2ZW50KGEpfTtmdW5jdGlvbiBxZihhLGIpe2ImJiJwbGF5aW5nIj09PWIudHlwZSYmKGEuQT0hMCxldmVudEtpbGwoYikpfVcucHJvdG90eXBlLnRhPWZ1bmN0aW9uKGEpe2lmKHRoaXMuYSl7dmFyIGI9dGhpcy5hO2IuYy52aWRlbyYmYi5jLnZpZGVvLkpjKGEpfX07Vy5wcm90b3R5cGUuc2V0VmlkZW9TdHJlYW1PZmZzZXQ9Vy5wcm90b3R5cGUudGE7ZnVuY3Rpb24gdGYoYSl7Zm9yKHZhciBiPTA7YjxhLmxlbmd0aDsrK2IpZm9yKHZhciBjPWFbYl0sZD0wO2Q8Yy5hLmxlbmd0aDsrK2Qpe2Zvcih2YXIgZT1jLmFbZF0sZj1lLGc9L3ZpZGVvXC93ZWJtOyBjb2RlY3M9ImF2MDEuKiIvLGg9ITEsaz0wO2s8Zi52Lmxlbmd0aDsrK2spe3ZhciBsPWYudltrXTtPZShOZChsKSk/Zy50ZXN0KE5kKGwpKSYmKGg9ITApOihmLnYuc3BsaWNlKGssMSksLS1rKX1pZihoKWZvcihrPTA7azxmLnYubGVuZ3RoOysraylsPWYudltrXSxnLnRlc3QoTmQobCkpfHwoZi52LnNwbGljZShrLDEpLC0tayk7MD09ZS52Lmxlbmd0aCYmKGMuYS5zcGxpY2UoZCwxKSwtLWQpfWZvcihiPTA7YjxhLmxlbmd0aDsrK2IpZm9yKGM9YVtiXSxkPTA7ZDxjLmEubGVuZ3RoOysrZCljLmFbZF0udi5zb3J0KHVmKX0KZnVuY3Rpb24gdWYoYSxiKXt2YXIgYz1hLmJhbmR3aWR0aHx8TnVtYmVyLk1BWF9WQUxVRSxkPWIuYmFuZHdpZHRofHxOdW1iZXIuTUFYX1ZBTFVFO3JldHVybiBjPGQ/LTE6Yz5kPzE6MH07ZnVuY3Rpb24gdmYoYSl7dGhpcy5hPWF9dmYucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmEuZGVzdHJveSgpO3RoaXMuYT1udWxsfTt2Zi5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKGEpe3ZhciBiPXdmKGEsbnVsbCksYz13Zih0aGlzLmEsYSk7cmV0dXJuIFByb21pc2UuYWxsKFtiLGNdKS50aGVuKEoodGhpcyxmdW5jdGlvbihiKXt2YXIgYz1iWzBdO2I9YlsxXTt0Zih0aGlzLmEuYSk7YS5iJiYhdGhpcy5hLmImJihhLmg9ITApO2EuYz10aGlzLmEuYzthLmk9dGhpcy5hLmk/dGhpcy5hLmkuY2xvbmUoKTpudWxsO2EuZz10aGlzLmEuZzt2YXIgZj1bXTt4ZihhLHRoaXMuYSxjLGIsZik7dGYoYS5hKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGYpfSkpfTsKZnVuY3Rpb24gd2YoYSxiKXtmdW5jdGlvbiBjKGEsYil7cmV0dXJuIGEuY29uY2F0KGIpfXZhciBkPWEuYS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuYX0pLnJlZHVjZShjLFtdKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEudn0pLnJlZHVjZShjLFtdKTtpZihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInRlbXBsYXRlZF9sYXN0X3hfdGltZWxpbmUiLCExKSYmYil2YXIgZT1iLmEubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLmF9KS5yZWR1Y2UoYyxbXSkubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLnZ9KS5yZWR1Y2UoYyxbXSkubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLk0uY3JlYXRlKCl9KSxlPVByb21pc2UuYWxsKGUpLnRoZW4oZnVuY3Rpb24oYSl7Zm9yKHZhciBiPU51bWJlci5QT1NJVElWRV9JTkZJTklUWSxjPTA7YzxhLmxlbmd0aDsrK2Mpe3ZhciBlPWFbY107ZS5sZW5ndGgoKSYmZS5sYXN0KCkudW5zY2FsZWRTdGFydFRpbWU8YiYmKGI9ZS5sYXN0KCkudW5zY2FsZWRTdGFydFRpbWUpfWI9CmEubGVuZ3RoP2I6bnVsbDthPWQubWFwKGZ1bmN0aW9uKGEpe2EuTS5FYyYmYS5NLkVjKGIpO3JldHVybiBhLk0uY3JlYXRlKCl9KTtyZXR1cm4gUHJvbWlzZS5hbGwoYSl9KTtlbHNlIGU9ZC5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuTS5jcmVhdGUoKX0pLGU9UHJvbWlzZS5hbGwoZSk7cmV0dXJuIGUudGhlbihmdW5jdGlvbihhKXtmb3IodmFyIGI9e30sYz0wO2M8ZC5sZW5ndGg7KytjKWJbZFtjXS5YXT1hW2NdO3JldHVybiBQcm9taXNlLnJlc29sdmUoYil9KX0KZnVuY3Rpb24geGYoYSxiLGMsZCxlKXt2YXIgZj1uZXcgRDthLmEuZm9yRWFjaChmdW5jdGlvbihhLGIpe2YucHVzaChhLmlkfHwiIitiLGEpfSk7dmFyIGc9bmV3IEQ7Yi5hLmZvckVhY2goZnVuY3Rpb24oYSxiKXtnLnB1c2goYS5pZHx8IiIrYixhKX0pO2E9YWIoZik7Zm9yKGI9MDtiPGEubGVuZ3RoOysrYil7dmFyIGg9YVtiXSxrPWYuZ2V0KGgpOzE8ay5sZW5ndGh8fChoPWcuZ2V0KGgpKSYmMCE9aC5sZW5ndGgmJjE9PWgubGVuZ3RoJiYoeWYoa1swXSxoWzBdLGMsZCxlKSxrWzBdLmR1cmF0aW9uPWhbMF0uZHVyYXRpb24pfX0KZnVuY3Rpb24geWYoYSxiLGMsZCxlKXt2YXIgZj1uZXcgRDthLmEuZm9yRWFjaChmdW5jdGlvbihhLGIpe2YucHVzaChhLmlkfHwiIitiLGEpfSk7dmFyIGc9bmV3IEQ7Yi5hLmZvckVhY2goZnVuY3Rpb24oYSxiKXtnLnB1c2goYS5pZHx8IiIrYixhKX0pO2E9YWIoZik7Zm9yKGI9MDtiPGEubGVuZ3RoOysrYil7dmFyIGg9YVtiXSxrPWYuZ2V0KGgpOzE8ay5sZW5ndGh8fChoPWcuZ2V0KGgpKSYmMCE9aC5sZW5ndGgmJjE9PWgubGVuZ3RoJiZ6ZihrWzBdLGhbMF0sYyxkLGUpfX0KZnVuY3Rpb24gemYoYSxiLGMsZCxlKXt2YXIgZj1uZXcgRDthLnYuZm9yRWFjaChmdW5jdGlvbihhLGIpe2YucHVzaChhLmlkfHwiIitiLGEpfSk7dmFyIGc9bmV3IEQ7Yi52LmZvckVhY2goZnVuY3Rpb24oYSxiKXtnLnB1c2goYS5pZHx8IiIrYixhKX0pO2I9e307Zm9yKHZhciBoPWFiKGYpLGs9MDtrPGgubGVuZ3RoOysrayl7dmFyIGw9aFtrXTtiW2xdPWw7dmFyIG09Zi5nZXQobCk7MTxtLmxlbmd0aHx8KChsPWcuZ2V0KGwpKSYmMCE9bC5sZW5ndGg/MT09bC5sZW5ndGgmJihCZihtWzBdLGxbMF0sYyxkKSxtWzBdLmFhPWxbMF0uYWEsbFswXS5hYT1udWxsLG1bMF0uYT1sWzBdLmEsVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJyZWZyZXNoX2JhbmR3aWR0aF9mcm9tX2xpdmVfbWFuaWZlc3QiLCExKSYmKG1bMF0uYmFuZHdpZHRoPWxbMF0uYmFuZHdpZHRoKSk6KGUucHVzaChtWzBdKSxhLnYuc3BsaWNlKGEudi5pbmRleE9mKG1bMF0pLDEpKSl9aD1hYihnKTsKZm9yKGs9MDtrPGgubGVuZ3RoOysraylsPWhba10sYltsXXx8KGJbbF09bCxsPWcuZ2V0KGwpLGEudi5wdXNoKGxbMF0pKX1mdW5jdGlvbiBCZihhLGIsYyxkKXthPWNbYS5YXTtjPWRbYi5YXTtkPShiPWEubGVuZ3RoKCkpP2EubGFzdCgpLmVuZFRpbWU6MDtpZihhLkIoYykpe2M9YS5sZW5ndGgoKTt2YXIgZT0hMTtWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInJvYnVzdF9jb3VudF9jaGFuZ2VzIiwhMSkmJihlPSEhYyYmYS5sYXN0KCkuZW5kVGltZT5kKTthLmcucHVzaChiIT09Y3x8ZSk7NTA8YS5nLmxlbmd0aCYmYS5nLnNoaWZ0KCl9fTtmdW5jdGlvbiBYKCl7dGhpcy5hPXRoaXMuYj1udWxsO3RoaXMuZj1uZXcgYmI7dGhpcy5jPU51bWJlci5QT1NJVElWRV9JTkZJTklUWTt0aGlzLmk9ITA7dGhpcy5nPSExfXEoInNoYWthLm1lZGlhLlNpbXBsZUFick1hbmFnZXIiLFgpO1gucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmYuZGVzdHJveSgpO3RoaXMuYT10aGlzLmI9dGhpcy5mPW51bGx9O1gucHJvdG90eXBlLmluaXRpYWxpemU9ZnVuY3Rpb24oYSxiKXt0aGlzLmJ8fHRoaXMuYXx8KHRoaXMuYj1hLHRoaXMuYT1iKX07ClgucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKCl7dGhpcy5iJiZ0aGlzLmEmJiF0aGlzLmcmJih0aGlzLmM9RGF0ZS5ub3coKSs0RTMsRSh0aGlzLmYsdGhpcy5iLmdldEVzdGltYXRvcigpLCJiYW5kd2lkdGgiLHRoaXMubS5iaW5kKHRoaXMpKSxFKHRoaXMuZix0aGlzLmEsImFkYXB0YXRpb24iLHRoaXMuai5iaW5kKHRoaXMpKSxFKHRoaXMuZix0aGlzLmEsInRyYWNrc2NoYW5nZWQiLHRoaXMuaC5iaW5kKHRoaXMpKSx0aGlzLmc9ITApfTtYLnByb3RvdHlwZS5lbmFibGU9ZnVuY3Rpb24oYSl7dGhpcy5pPWF9O1gucHJvdG90eXBlLmdldEluaXRpYWxWaWRlb1RyYWNrSWQ9ZnVuY3Rpb24oKXtpZighdGhpcy5ifHwhdGhpcy5hKXJldHVybiBudWxsO3ZhciBhPUNmKHRoaXMpO3JldHVybiBhP2EuaWQ6bnVsbH07WC5wcm90b3R5cGUuZ2V0SW5pdGlhbFN3aXRjaFJlYXNvbj1mdW5jdGlvbigpe3JldHVybiBudWxsfTtYLnByb3RvdHlwZS5nZXRJbml0aWFsQXVkaW9UcmFja0lkPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9OwpYLnByb3RvdHlwZS5zZWxlY3RWaWRlb1RyYWNrPWZ1bmN0aW9uKGEsYixjKXt0aGlzLmcmJnRoaXMuYS5zZWxlY3RWaWRlb1RyYWNrKGEuaWQsYixjKX07WC5wcm90b3R5cGUubT1mdW5jdGlvbigpe0RhdGUubm93KCk8dGhpcy5jfHx0aGlzLmgoKX07WC5wcm90b3R5cGUuaD1mdW5jdGlvbigpe2lmKHRoaXMuaSl7dmFyIGE9Q2YodGhpcyk7aWYoYSl7aWYoYS5hY3RpdmUpe3RoaXMuYz1EYXRlLm5vdygpKzNFMztyZXR1cm59dGhpcy5zZWxlY3RWaWRlb1RyYWNrKGEsITEpfXRoaXMuYz1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFl9fTtYLnByb3RvdHlwZS5qPWZ1bmN0aW9uKCl7dGhpcy5jPT1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkmJih0aGlzLmM9RGF0ZS5ub3coKSszRTQpfTsKZnVuY3Rpb24gQ2YoYSl7dmFyIGI9YS5hLlooKTtpZigwPT1iLmxlbmd0aClyZXR1cm4gbnVsbDtiLnNvcnQodmEpO3ZhciBjO2E6e2M9YS5hLnZhKCk7Zm9yKHZhciBkPTA7ZDxjLmxlbmd0aDsrK2QpaWYoY1tkXS5hY3RpdmUpe2M9Y1tkXTticmVhayBhfWM9bnVsbH1jPWM/Yy5iYW5kd2lkdGg6MDthPWEuYi5nZXRCYW5kd2lkdGgoKTtmb3IodmFyIGQ9YlswXSxlPTA7ZTxiLmxlbmd0aDsrK2Upe3ZhciBmPWJbZV0sZz1lKzE8Yi5sZW5ndGg/YltlKzFdOntiYW5kd2lkdGg6TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZfTtpZihmLmJhbmR3aWR0aCYmKGc9KGcuYmFuZHdpZHRoK2MpLy44NSxhPj0oZi5iYW5kd2lkdGgrYykvLjk1JiZhPD1nJiYoZD1mLGQuYWN0aXZlKSkpYnJlYWt9cmV0dXJuIGR9O2Z1bmN0aW9uIFkoYSxiLGMsZCl7Ri5jYWxsKHRoaXMsbnVsbCk7dGhpcy5iPWE7dGhpcy5hPWI7dGhpcy53YT1jO3RoaXMua2I9bmV3IFZpZGVvUGxheWVyTG9jYWxCYW5kd2lkdGhFc3RpbWF0b3IodGhpcyxjLGIpO3RoaXMuaD1uZXcgYmI7dGhpcy5pPW5ldyBNZWRpYVNvdXJjZTt0aGlzLmJhPXRoaXMudmlkZW89bnVsbDt0aGlzLkJiPTA7dGhpcy5uYz10aGlzLlpiPSExO3RoaXMuTGI9aWE7dGhpcy5BYj10aGlzLlY9dGhpcy5pYT10aGlzLmw9bnVsbDt0aGlzLktiPTM7dGhpcy5yYT10aGlzLiRiPXRoaXMuRmE9dGhpcy5FYT0hMTt0aGlzLlBhPTA7dGhpcy5kYT1uZXcgVmlkZW9QdXNoVHJhY2tlcjt0aGlzLmdhPW51bGw7dGhpcy5pYz0xO3RoaXMuZ2M9SW5maW5pdHk7dGhpcy5VYj10aGlzLlNiPSExO3RoaXMucGE9dGhpcy5PYT1udWxsO3RoaXMuV2I9dGhpcy5WYj10aGlzLkdhPXRoaXMuY2M9dGhpcy5tYT0hMTt0aGlzLmY9bmV3IEQ7dGhpcy5BPWQ7dGhpcy5BLmluaXRpYWxpemUodGhpcy5rYiwKdGhpcyk7dGhpcy5PPSExO3RoaXMuUz0iZW4iO3RoaXMueWE9ITE7dGhpcy5KPW5ldyBJO3RoaXMuSWI9bmV3IEk7dGhpcy5tPW5ldyBrYTt0aGlzLkQ9bnVsbDt0aGlzLmtjPTE7dGhpcy5jPXt9O3RoaXMuc2E9bmV3IEk7dGhpcy5qYT0wO3RoaXMuZ2I9MTVFMzt0aGlzLmo9bnVsbDt0aGlzLmVjPSExO3RoaXMuZGM9MDt0aGlzLkNhPSExO3RoaXMuQj17fTt0aGlzLmxhPXRoaXMua2E9dGhpcy51PW51bGw7dGhpcy5nPXt9O3RoaXMuJD0hMTt0aGlzLmZjPTA7dGhpcy5LPXRoaXMuYS5nZXROdW1iZXIoImJ1ZmZlcmluZ19vdmVyZmxvd190aHJlc2hvbGQiLDApO3RoaXMucGM9bnVsbDt0aGlzLm89e307dGhpcy53PXt9O3RoaXMuUj1udWxsO3RoaXMuVT1bXTt0aGlzLlQ9dGhpcy5JPW51bGw7dGhpcy5HPW5ldyBOZXR3b3JrU3RhdHVzRGV0ZWN0b3I7dGhpcy5oYz0hMTt0aGlzLm5hPSEwO3RoaXMuZWE9ITE7dGhpcy51Yz1uZXcgU3Vic2NyaXB0aW9uc0hhbmRsZXI7dGhpcy5ZYj0hMTsKdGhpcy54YT0xO3RoaXMuSWQ9dGhpcy5hLmdldE51bWJlcigic3RyZWFtX21heGltdW1fb25wYXVzZV9idWZmZXJfc2l6ZV9tdWx0aXBsaWVyIiwwKTt0aGlzLmNhPW51bGw7dGhpcy5hLmdldEJvb2woImFsbG93X2luZmluaXRlX3JldHJ5X29uX25ldF9lcnIiLCEwKSYmdGhpcy51Yy5hZGRTdWJzY3JpcHRpb25zKHRoaXMuRy5hZGRMaXN0ZW5lcigibmV0d29ya0ludGVycnVwdGVkIix0aGlzLlRjLHRoaXMpLHRoaXMuRy5hZGRMaXN0ZW5lcigibmV0d29ya1Jlc3VtZWQiLHRoaXMuVWMsdGhpcyksdGhpcy5HLmFkZExpc3RlbmVyKCJzeXN0ZW1XYWtlIix0aGlzLlZjLHRoaXMpKX1yKFksRik7cSgic2hha2EucGxheWVyLlN0cmVhbVZpZGVvU291cmNlIixZKTtZLnByb3RvdHlwZS5YYj1mdW5jdGlvbigpe3JldHVybntWaWRlb1NvdXJjZVN0cmVhbTp0aGlzLmMudmlkZW8sQXVkaW9Tb3VyY2VTdHJlYW06dGhpcy5jLmF1ZGlvLFRleHRTb3VyY2VTdHJlYW06dGhpcy5jLnRleHQsQmFuZHdpZHRoRXN0aW1hdG9yOnRoaXMud2F9fTsKWS5wcm90b3R5cGUuZ2V0U3RyZWFtRGVidWc9WS5wcm90b3R5cGUuWGI7WS5wcm90b3R5cGUuUGM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iP3RoaXMuYi53OiJub25lIn07WS5wcm90b3R5cGUuZ2V0TXBkQXVkaW9Db25maWc9WS5wcm90b3R5cGUuUGM7ClkucHJvdG90eXBlLmxjPWZ1bmN0aW9uKGEpe251bGwhPWEuc3RyZWFtQnVmZmVyU2l6ZSYmKHRoaXMuZy5zdHJlYW1CdWZmZXJTaXplPWEuc3RyZWFtQnVmZmVyU2l6ZSk7bnVsbCE9YS5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZSYmKHRoaXMuZy5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZT1hLmluaXRpYWxTdHJlYW1CdWZmZXJTaXplKTtudWxsIT1hLmR5bmFtaWNTdHJlYW1CdWZmZXJTaXplJiYodGhpcy5nLmR5bmFtaWNTdHJlYW1CdWZmZXJTaXplPWEuZHluYW1pY1N0cmVhbUJ1ZmZlclNpemUpO251bGwhPWEuc21hcnRCdWZmZXJBZGp1c3RtZW50UGFyYW1zJiYodGhpcy5nLnNtYXJ0QnVmZmVyQWRqdXN0bWVudFBhcmFtcz1hLnNtYXJ0QnVmZmVyQWRqdXN0bWVudFBhcmFtcyk7bnVsbCE9YS5hZGRDZG5EZWJ1Z1F1ZXJ5UGFyYW1ldGVycyYmKHRoaXMuZy5hZGRDZG5EZWJ1Z1F1ZXJ5UGFyYW1ldGVycz1hLmFkZENkbkRlYnVnUXVlcnlQYXJhbWV0ZXJzKTtudWxsIT1hLnNlZ21lbnRSZXF1ZXN0VGltZW91dCYmCih0aGlzLmcuc2VnbWVudFJlcXVlc3RUaW1lb3V0PWEuc2VnbWVudFJlcXVlc3RUaW1lb3V0KTtudWxsIT1hLnJlc29sdmVWaWRlb1RpbWVVcGRhdGVPbkZyYWdtZW50ZWRUaW1lUmFuZ2VzJiYodGhpcy5nLnJlc29sdmVWaWRlb1RpbWVVcGRhdGVPbkZyYWdtZW50ZWRUaW1lUmFuZ2VzPWEucmVzb2x2ZVZpZGVvVGltZVVwZGF0ZU9uRnJhZ21lbnRlZFRpbWVSYW5nZXMpO251bGwhPWEucmVhcHBlbmRJbml0U2VnbWVudEFmdGVyQWJvcnQmJih0aGlzLmcucmVhcHBlbmRJbml0U2VnbWVudEFmdGVyQWJvcnQ9YS5yZWFwcGVuZEluaXRTZWdtZW50QWZ0ZXJBYm9ydCk7bnVsbCE9YS5saXZlRGF0YUZldGNoTWF4UmV0cmllcyYmKHRoaXMuZy5saXZlRGF0YUZldGNoTWF4UmV0cmllcz1hLmxpdmVEYXRhRmV0Y2hNYXhSZXRyaWVzKTtudWxsIT1hLmxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXMmJih0aGlzLmcubGl2ZVNvdXJjZUJ1ZmZlckNsZWFyTWF4UmV0cmllcz1hLmxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXMpOwpudWxsIT1hLnBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2UmJih0aGlzLmcucGxheWhlYWRGcmFnbWVudGVkR2FwRGlmZkFsbG93YW5jZT1hLnBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2UpO251bGwhPWEuZml4QnVmZmVyaW5nR29hbERldGVybWluYXRpb24mJih0aGlzLmcuZml4QnVmZmVyaW5nR29hbERldGVybWluYXRpb249YS5maXhCdWZmZXJpbmdHb2FsRGV0ZXJtaW5hdGlvbik7bnVsbCE9YS5za2lwRW1wdHlTZWdtZW50cyYmKHRoaXMuZy5za2lwRW1wdHlTZWdtZW50cz1hLnNraXBFbXB0eVNlZ21lbnRzKTtudWxsIT1hLnVzZU1pY3JvVGFza1RpbWVvdXRzJiYodGhpcy5nLnVzZU1pY3JvVGFza1RpbWVvdXRzPWEudXNlTWljcm9UYXNrVGltZW91dHMpO0RmKHRoaXMpO251bGwhPWEuaW5jbHVkZVN0cmVhbUJ1ZmZlclNpemVJblN0YXJ0T2Zmc2V0JiYodGhpcy5aYj1Cb29sZWFuKGEuaW5jbHVkZVN0cmVhbUJ1ZmZlclNpemVJblN0YXJ0T2Zmc2V0KSk7Cm51bGwhPWEubGl2ZUF1ZGlvUHVzaFJlcHJlc2VudGF0aW9uJiYodGhpcy5wYT1TdHJpbmcoYS5saXZlQXVkaW9QdXNoUmVwcmVzZW50YXRpb24pKTtudWxsIT1hLmxpdmVJbml0aWFsUHVzaFJlcHJlc2VudGF0aW9uJiYodGhpcy5PYT1TdHJpbmcoYS5saXZlSW5pdGlhbFB1c2hSZXByZXNlbnRhdGlvbikpO251bGwhPWEuZW5hYmxlQWRhcHRhdGlvbiYmdGhpcy5BLmVuYWJsZShCb29sZWFuKGEuZW5hYmxlQWRhcHRhdGlvbikpO251bGwhPWEubXBkUmVxdWVzdFRpbWVvdXQmJih0aGlzLkxiPU51bWJlcihhLm1wZFJlcXVlc3RUaW1lb3V0KSk7bnVsbCE9YS5taW5NcGRSZWZyZXNoSW50ZXJ2YWwmJih0aGlzLktiPU51bWJlcihhLm1pbk1wZFJlZnJlc2hJbnRlcnZhbCkvMUUzKTtudWxsIT1hLmVuYWJsZU1hbmlmZXN0RGVidWcmJih0aGlzLlViPSEhYS5lbmFibGVNYW5pZmVzdERlYnVnKTtudWxsIT1hLmxpdmVTdHJlYW1FbmRUaW1lb3V0JiYodGhpcy5nYj1OdW1iZXIoYS5saXZlU3RyZWFtRW5kVGltZW91dCkpOwpudWxsIT1hLnByZWZlcnJlZExhbmd1YWdlJiYodGhpcy5TPVNhKFN0cmluZyhhLnByZWZlcnJlZExhbmd1YWdlKSkpO251bGwhPWEubGl2ZVNlbmRQdXNoSGVhZGVycyYmKHRoaXMucmE9Qm9vbGVhbihhLmxpdmVTZW5kUHVzaEhlYWRlcnMpKTtudWxsIT1hLmxpdmVNYXhNYW5pZmVzdEZldGNoZXNXaXRoUHVzaCYmKHRoaXMuUGE9TnVtYmVyKGEubGl2ZU1heE1hbmlmZXN0RmV0Y2hlc1dpdGhQdXNoKSk7bnVsbCE9YS5jdXJyZW50VGltZUR1cmluZ1JlYWR5U3RhdGVaZXJvVGhyb3dzJiYodGhpcy5TYj1Cb29sZWFuKGEuY3VycmVudFRpbWVEdXJpbmdSZWFkeVN0YXRlWmVyb1Rocm93cykpO251bGwhPWEubGl2ZU1heFNlZ21lbnRzVG9QdXNoJiYodGhpcy5nYz1OdW1iZXIoYS5saXZlTWF4U2VnbWVudHNUb1B1c2gpKTtudWxsIT1hLmp1bXBUb0xpdmVUaHJlc2hvbGQmJih0aGlzLmRjPU51bWJlcihhLmp1bXBUb0xpdmVUaHJlc2hvbGQpKTtudWxsIT1hLnJlc3RyaWN0aW9ucyYmKHRoaXMubT0KYS5yZXN0cmljdGlvbnMsdGhpcy5PJiZFZih0aGlzKSk7bnVsbCE9YS51c2VMb25nQ2FjaGVGb3JNYW5pZmVzdCYmKHRoaXMubWE9Qm9vbGVhbihhLnVzZUxvbmdDYWNoZUZvck1hbmlmZXN0KSk7bnVsbCE9YS5qdW1wVG9FYXJsaWVzdFBvc2l0aW9uSW5DdXJyZW50QmxvY2smJih0aGlzLmNjPUJvb2xlYW4oYS5qdW1wVG9FYXJsaWVzdFBvc2l0aW9uSW5DdXJyZW50QmxvY2spKTtudWxsIT1hLmlnbm9yZU1pbkJ1ZmZlclRpbWUmJih0aGlzLkdhPUJvb2xlYW4oYS5pZ25vcmVNaW5CdWZmZXJUaW1lKSk7bnVsbCE9PWEuZW5hYmxlUmVxdWVzdFBpcGVsaW5pbmcmJih0aGlzLlZiPUJvb2xlYW4oYS5lbmFibGVSZXF1ZXN0UGlwZWxpbmluZykpO251bGwhPT1hLmVuYWJsZVN0cmVhbWluZyYmKHRoaXMuV2I9Qm9vbGVhbihhLmVuYWJsZVN0cmVhbWluZykpfTsKWS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuSi5kZXN0cm95KCk7dGhpcy5zYS5kZXN0cm95KCk7dGhpcy5zYT10aGlzLko9bnVsbDt0aGlzLmthJiYoY2xlYXJUaW1lb3V0KHRoaXMua2EpLHRoaXMua2E9bnVsbCk7dGhpcy51JiYoY2xlYXJUaW1lb3V0KHRoaXMudSksdGhpcy51PW51bGwpO3RoaXMuQj1udWxsO3RoaXMuaC5kZXN0cm95KCk7dGhpcy5oPW51bGw7V2EodGhpcy5jKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2EuZGVzdHJveSgpfSk7dGhpcy5mPXRoaXMuYz1udWxsO3RoaXMuYiYmKHRoaXMuYi5kZXN0cm95KCksdGhpcy5iPW51bGwpO3RoaXMuQS5kZXN0cm95KCk7dGhpcy5KYT10aGlzLm09dGhpcy52aWRlbz10aGlzLmk9dGhpcy53YT10aGlzLkE9bnVsbDt0aGlzLmEuZ2V0Qm9vbCgiZml4aW5nX3NjaGVkdWxlcl9kaXNhYmxlX2xlYWtzIiwhMCkmJihPYmplY3Qua2V5cyh0aGlzLm8pLmZvckVhY2goZnVuY3Rpb24oYSl7KGE9dGhpcy5vW2FdKSYmYS5kaXNhYmxlKCl9LmJpbmQodGhpcykpLAp0aGlzLm89e30pO09iamVjdC5rZXlzKHRoaXMudykuZm9yRWFjaChmdW5jdGlvbihhKXsoYT10aGlzLndbYV0pJiZhLmRlc3Ryb3koKX0uYmluZCh0aGlzKSk7dGhpcy53PXt9O3RoaXMuSSYmKHRoaXMuSS5kaXNhYmxlKCksdGhpcy5JPW51bGwpO3RoaXMuUiYmKHRoaXMuUi5jbGVhbnVwKCksdGhpcy5SPW51bGwpO2Zvcih2YXIgYT0wO2E8dGhpcy5VLmxlbmd0aDthKyspdGhpcy5VW2FdLmNsZWFudXAoKTt0aGlzLlU9W107dGhpcy51Yy5yZWxlYXNlKCl9O2Z1bmN0aW9uIGVmKGEsYil7aWYoYS5sKXt2YXIgYz1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJtZWRpYV9zb3VyY2Vfb3BlbiIpLnN0YXJ0KCk7YS5JYi50aGVuKGZ1bmN0aW9uKCl7Yy5sb2coKX0pfUUoYS5oLGEuaSwic291cmNlb3BlbiIsYS5oZC5iaW5kKGEpKTtiLnNyYz13aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChhLmkpfW49WS5wcm90b3R5cGU7bi52Yz1mdW5jdGlvbigpe307CmZ1bmN0aW9uIGpmKGEsYixjKXt2YXIgZDthLmwmJihkPWEubC5nZXRPcGVyYXRpb25Mb2dnZXIoInNvdXJjZV9hdHRhY2giKS5zdGFydCgpKTtpZighYS5PKXJldHVybiBhPUVycm9yKCJDYW5ub3QgY2FsbCBhdHRhY2goKSByaWdodCBub3cuIiksYS50eXBlPSJhcHAiLGQmJmQuc2V0RXJyb3IoYSkubG9nKCksUHJvbWlzZS5yZWplY3QoYSk7YS5KYT1iO2EudmlkZW89YzthLmJhPW51bGw7YS5hLmdldEJvb2woImVuYWJsZV92aWV3cG9ydF9wcmlvcml0eV9hZGp1c3RtZW50IiwhMSkmJihhLlI9bmV3IFZpZXdwb3J0UHJpb3JpdHlBZGp1c3RlcihhLnZpZGVvKSxhLlIuc2V0T25Qcmlvcml0eUNoYW5nZWQoZnVuY3Rpb24oYSl7T2JqZWN0LmtleXModGhpcy5vKS5mb3JFYWNoKGZ1bmN0aW9uKGIpe3RoaXMub1tiXS51cGRhdGVQcmlvcml0eVdpdGhOZXdBZGp1c3RtZW50KGEpfS5iaW5kKHRoaXMpKX0uYmluZChhKSkpO2EuYS5nZXRCb29sKCJlbmFibGVfZmlyc3RfdmlkZW9fcHJpb3JpdHlfYWRqdXN0bWVudCIsCiExKSYmYS5VLnB1c2gobmV3IEZpcnN0TG9hZGVkVmlkZW9Qcmlvcml0eUFkanVzdGVyKGEudmlkZW8pKTtFKGEuaCxhLnZpZGVvLCJsb2FkZWRtZXRhZGF0YSIsYS5nZC5iaW5kKGEpKTtFKGEuaCxhLndhLCJiYW5kd2lkdGgiLGEuR2QuYmluZChhKSk7aWYoYS5iLmJ8fGEuYS5nZXRCb29sKCJiYWNrX29mZl9idWZmZXJpbmdfb3ZlcmZsb3ciLCExKSlFKGEuaCxiLCJidWZmZXJpbmdTdGFydCIsYS5jZC5iaW5kKGEpKSxFKGEuaCxiLCJidWZmZXJpbmdFbmQiLGEuYmQuYmluZChhKSk7Yj1hLmEuZ2V0Qm9vbCgiZW5hYmxlX2NvbnRlbnRfcHJvdGVjdGlvbiIsITEpPyhiPWEudmlkZW8ubWVkaWFLZXlzKSYmYS52aWRlby5zZXRNZWRpYUtleXM/YS52aWRlby5zZXRNZWRpYUtleXMoYik6UHJvbWlzZS5yZXNvbHZlKCk6UHJvbWlzZS5yZXNvbHZlKCk7RmYoYSkudGhlbihKKGEsZnVuY3Rpb24oKXtkJiZ0aGlzLlAoKSYmZC5zZXRMaXZlaGVhZFBvc2l0aW9uKEdmKEhmKHRoaXMpKSk7dGhpcy5KJiYKdGhpcy5KLnJlc29sdmUoKTt0aGlzLnZjKCl9KSkuY2F0Y2goSihhLGZ1bmN0aW9uKGEpe3RoaXMuSiYmdGhpcy5KLnJlamVjdChhKX0pKTtyZXR1cm4gUHJvbWlzZS5hbGwoW2EuSixiXSkudGhlbihmdW5jdGlvbigpe2QmJmQubG9nKCl9KX0Kbi53Yj1mdW5jdGlvbigpe2lmKHRoaXMuTyl7dmFyIGE9RXJyb3IoIkNhbm5vdCBjYWxsIGxvYWQoKSByaWdodCBub3cuIik7YS50eXBlPSJhcHAiO3JldHVybiBQcm9taXNlLnJlamVjdChhKX1pZighdGhpcy5ifHwwPT10aGlzLmIuYS5sZW5ndGgpcmV0dXJuIGE9RXJyb3IoIlRoZSBtYW5pZmVzdCBkb2VzIG5vdCBzcGVjaWZ5IGFueSBjb250ZW50LiIpLGEudHlwZT0ic3RyZWFtIixQcm9taXNlLnJlamVjdChhKTt0Zih0aGlzLmIuYSk7aWYoMD09dGhpcy5iLmEubGVuZ3RofHwwPT10aGlzLmIuYVswXS5hLmxlbmd0aHx8IXRoaXMuYi5hWzBdLmEuc29tZShmdW5jdGlvbihhKXtyZXR1cm4idmlkZW8iPT09YS5jb250ZW50VHlwZX0pKXJldHVybiBhPUVycm9yKCJUaGUgbWFuaWZlc3Qgc3BlY2lmaWVzIGNvbnRlbnQgdGhhdCBjYW5ub3QgYmUgZGlzcGxheWVkIG9uIHRoaXMgYnJvd3Nlci9wbGF0Zm9ybS4iKSxhLnR5cGU9InN0cmVhbSIsUHJvbWlzZS5yZWplY3QoYSk7dGhpcy5PPQohMDt0aGlzLkdhfHwodGhpcy5nLmluaXRpYWxTdHJlYW1CdWZmZXJTaXplPU1hdGgubWF4KHRoaXMuZy5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZXx8MCx0aGlzLmIuZykpO3RoaXMuaWEmJnRoaXMuaWEuc2V0U3RyZWFtVHlwZSh0aGlzLmIuQik7RGYodGhpcyk7RWYodGhpcyk7cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpfTtmdW5jdGlvbiBJZihhKXt2YXIgYj15KHt0eXBlOiJtYW5pZmVzdHdyYXBwZWQiLGJ1YmJsZXM6ITB9KTthLmRpc3BhdGNoRXZlbnQoYil9ZnVuY3Rpb24gSmYoYSxiKXt2YXIgYz15KHt0eXBlOiJsaXZlaGVhZElkbGVBdCIsc2Vjb25kczpiLGJ1YmJsZXM6ITB9KTthLmRpc3BhdGNoRXZlbnQoYyl9ZnVuY3Rpb24gR2YoYSl7cmV0dXJuIE1hdGgubWluLmFwcGx5KE1hdGgsYS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEubGVuZ3RoKCk/YS5sYXN0KCkuZW5kVGltZTpudWxsfSkuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiEhYX0pKX0Kbi5KYj1mdW5jdGlvbihhLGIpe3ZhciBjO3RoaXMuYS5nZXRCb29sKCJkZWNvdXBsZV9tcGRfdXBkYXRlX2xvb3BfZnJvbV9yZXF1ZXN0X2xvb3AiLCExKSYmS2YodGhpcywwKTt0aGlzLlYmJih0aGlzLlYubG9nKCksdGhpcy5WPW51bGwpO3RoaXMubCYmKGM9dGhpcy5sLmdldE9wZXJhdGlvbkxvZ2dlcigidXBkYXRlX21hbmlmZXN0Iikuc3RhcnQoKSk7aWYoIWJ8fHRoaXMuTyl7dmFyIGQ9RGF0ZS5ub3coKTt0aGlzLmEuZ2V0Qm9vbCgiZGVjb3VwbGVfbXBkX3VwZGF0ZV9sb29wX2Zyb21fcmVxdWVzdF9sb29wIiwhMSl8fCh0aGlzLnU9bnVsbCk7dmFyIGU9bnVsbCxmLGc7aWYodGhpcy5yYSYmKCF0aGlzLlBhfHx0aGlzLlBhPnRoaXMuaWMpKXtmPU1hdGguZmxvb3IoTGYodGhpcykpKzE7Zj1NYXRoLm1pbihmLHRoaXMuZ2MpO3ZhciBoPXRoaXMuYy52aWRlbztpZihoPWg/aC5GYigpOm51bGwpaD1oLmxhc3QoKSxudWxsIT1oLnVuc2NhbGVkU3RhcnRUaW1lJiYoZz1oLnVuc2NhbGVkU3RhcnRUaW1lKTsKaWYodGhpcy52aWRlby5wYXVzZWR8fHRoaXMuJClmPTB9ZiYmdGhpcy5pYysrO2g9dGhpcy5iLmk7aD10aGlzLmEuZ2V0Qm9vbCgiZW5hYmxlX2NsZWFuX2ZhaWxvdmVyX3VyaV9vbl9tcGRfcmVxdWVzdHMiLCEwKT9oLmNsb25lKCk6aDtjJiYhYSYmYy5zZXRSZXNvdXJjZShoLnRvU3RyaW5nKCkpOyhhP3RoaXMueGMoKTp0aGlzLnljKGgsZixnKSkudGhlbihKKHRoaXMsZnVuY3Rpb24oYil7YXx8dGhpcy5HLmluZm9ybU5ldHdvcmtSZXN1bWVkKCk7ZT1uZXcgdmYoYik7dmFyIGM7dGhpcy5sJiYoYz10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJ1cGRhdGVfbWFuaWZlc3RfaW5mbyIpLnN0YXJ0KCkpO2I9ZS51cGRhdGUodGhpcy5iKTtiLnRoZW4oZnVuY3Rpb24oKXtjJiZjLmxvZygpfSxmdW5jdGlvbihhKXtjJiZjLnNldEVycm9yKGEpLmxvZygpfSkuY2F0Y2goZnVuY3Rpb24oKXt9KTtyZXR1cm4gYn0pKS50aGVuKEoodGhpcyxmdW5jdGlvbihhKXtlLmRlc3Ryb3koKTtlPW51bGw7CnZhciBmPUhmKHRoaXMpO3RoaXMuTGEoIlNlZ21lbnRJbmRleGVzVXBkYXRlZCIsZik7aWYodGhpcy5hLmdldEJvb2woImVtaXRfbGl2ZV9wbGF5aGVhZF9pZGxlX2Zyb21fY2xpZW50IiwhMCkpe3ZhciBnPXRoaXMuYS5nZXROdW1iZXIoImxpdmVfcGxheWhlYWRfaWRsZV9hbGxfc3RyZWFtX3RocmVzaG9sZCIsNCksaD10aGlzLmEuZ2V0TnVtYmVyKCJsaXZlX3BsYXloZWFkX2lkbGVfc2luZ2xlX3N0cmVhbV90aHJlc2hvbGQiLDUpO2lmKEhmKHRoaXMpLmV2ZXJ5KGZ1bmN0aW9uKGEpe3JldHVybiBhLnUoKT49Z30pfHxIZih0aGlzKS5zb21lKGZ1bmN0aW9uKGEpe3JldHVybiBhLnUoKT49aH0pKXt2YXIgdD1HZihmKTtKZih0aGlzLHQpfX1mLnNvbWUoZnVuY3Rpb24oYSl7cmV0dXJuIGEucmIoKX0pJiZJZih0aGlzKTt0PU1mKHRoaXMsZik7YyYmdGhpcy5QKCkmJmMuc2V0TGl2ZWhlYWRQb3NpdGlvbihHZihmKSk7YyYmYy5zZXRNYW5pZmVzdFR5cGUodGhpcy5iLmI/ImR5bmFtaWMiOgoic3RhdGljIikuc2V0VXBkYXRlUGVyaW9kKG51bGw9PT10aGlzLmIuYz9udWxsOk1hdGguY2VpbCgxRTMqdGhpcy5iLmMpKTt0aGlzLm5hJiZOZih0aGlzLHQpO3RoaXMuYS5nZXRCb29sKCJza2lwX3JlbWFpbmluZ19idWZmZXJlZF9vbl9zdHJlYW1fZW5kIiwhMSkmJnQmJnRoaXMuYi5iJiZ0aGlzLmIuaCYmdGhpcy52aWRlby5wYXVzZWQmJih0aGlzLnZpZGVvLmN1cnJlbnRUaW1lPXRoaXMuamEtLjEpO2lmKHNmKHRoaXMpKXJldHVybiBjJiZjLmxvZygpLHRoaXMuZWIoKTtmb3IoZj0wO2Y8YS5sZW5ndGg7KytmKU9mKHRoaXMsYVtmXSk7dGhpcy5HYXx8KHRoaXMuZy5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZT1NYXRoLm1heCh0aGlzLmcuaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemV8fDAsdGhpcy5iLmcpKTt0aGlzLmcudXNlSW5pdGlhbEJ1ZmZlclNpemVXaGVuUGF1c2VkPXRoaXMuYi5iO0RmKHRoaXMpO0VmKHRoaXMpOzA9PU9iamVjdC5rZXlzKHRoaXMuYykubGVuZ3RoP0ZmKHRoaXMpOgooYT1EYXRlLm5vdygpLGJ8fEtmKHRoaXMsKGEtZCkvMUUzKSk7YyYmYy5sb2coKTt0aGlzLnRiKCkmJmV4dHJhY3RDRUE2MDgucHJlcGFyZSgpO3RoaXMuYS5nZXRCb29sKCJ1cGRhdGVfY2VhNjA4X2F2YWlsYWJpbGl0eV9vbl9tcGRfcGFyc2luZyIsITEpJiYoYT10aGlzLnRiKCksdGhpcy5ZYiE9PWEmJihmPXkoe3R5cGU6ImNlYTYwOEF2YWlsYWJpbGl0eUNoYW5nZWQiLGJ1YmJsZXM6ITB9KSx0aGlzLmRpc3BhdGNoRXZlbnQoZiksdGhpcy5ZYj1hKSl9KSkuY2F0Y2goSih0aGlzLGZ1bmN0aW9uKGEpe2MmJmMuc2V0RXJyb3IoYSkubG9nKCk7ZSYmKGUuZGVzdHJveSgpLGU9bnVsbCk7aWYoIWIpe3ZhciBkPXRoaXMuYi5mfHx0aGlzLmEuZ2V0Qm9vbCgicmV0cnlfZWdyZXNzXzUwMHMiLCExKSxmPVswLDQxMF07dGhpcy5hLmdldEJvb2woImVuYWJsZV9kb3VibGVfaW5nZXN0IiwhMSkmJmYucHVzaCg0MTcsMjAwKTshdGhpcy5hLmdldEJvb2woIm5vX3JldHJ5X29uXzUwMl81MDMiLAohMSkmJmQmJihmPWYuY29uY2F0KFs1MDIsNTAzXSkpO2Q9dGhpcy5hLmdldEJvb2woImZpeF9saXZlX3N0cmVhbV9nb25lX29uX21hbmlmZXN0X3VwZGF0ZSIsITApPy0xPT09Zi5pbmRleE9mKGEuc3RhdHVzKTowIT09YS5zdGF0dXM7aWYodGhpcy5hLmdldEJvb2woImFsbG93X2luZmluaXRlX3JldHJ5X29uX25ldF9lcnIiLCEwKSYmIm5ldCI9PT1hLnR5cGUmJiFkKXN3aXRjaChhLnN0YXR1cyl7Y2FzZSA0MTA6dGhpcy5oYz0hMDt0aGlzLmomJihjbGVhclRpbWVvdXQodGhpcy5qKSx0aGlzLmo9bnVsbCk7dGhpcy5lYigpO2JyZWFrO2Nhc2UgMjAwOmNhc2UgNDE3OmEucmVzcG9uc2VIZWFkZXJzJiZudWxsIT1hLnJlc3BvbnNlSGVhZGVyc1sieC1mYi12aWRlby1yZXBsaWNhIl0/dGhpcy5kaXNwYXRjaEV2ZW50KHkoe3R5cGU6InJlcGxpY2Fzd2l0Y2giLGJ1YmJsZXM6ITAscmVwbGljYTphLnJlc3BvbnNlSGVhZGVyc1sieC1mYi12aWRlby1yZXBsaWNhIl0sdXJsOmEudXJsLHN0YXR1czphLnN0YXR1c30pKToKZD0hMDticmVhaztkZWZhdWx0OlBmKHRoaXMpfTA9PT1hLnN0YXR1cz90aGlzLkcuaW5mb3JtTmV0d29ya0ludGVycnVwdGVkKCk6dGhpcy5HLmluZm9ybU5ldHdvcmtSZXN1bWVkKCk7aWYoImRlbGF5Ij09YS50eXBlKXJldHVybiBQZih0aGlzKTt0aGlzLmEuZ2V0Qm9vbCgiYWxsb3dfaW5maW5pdGVfcmV0cnlfb25fbmV0X2VyciIsITApJiYhZHx8ImFib3J0ZWQiPT1hLnR5cGV8fChhPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGEpLHRoaXMuYiYmUGYodGhpcykpfX0pKX19O24ueWM9ZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZWplY3QoIkNhbm5vdCB1cGRhdGUgbWFuaWZlc3Qgd2l0aCB0aGlzIFZpZGVvU291cmNlIGltcGxlbWVudGF0aW9uLiIpfTtuLnhjPWZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVqZWN0KCJDYW5ub3QgdXBkYXRlIG1hbmlmZXN0IHdpdGggdGhpcyBWaWRlb1NvdXJjZSBpbXBsZW1lbnRhdGlvbi4iKX07CmZ1bmN0aW9uIE5mKGEsYil7aWYoYiYmYS5iJiZhLmIuYilpZihhLmEuZ2V0Qm9vbCgic2Vla19vdmVyX3VuYXZhaWxhYmxlX3NlZ21lbnRzX29uX21hbmlmZXN0X3VwZGF0ZSIsITEpJiZhLmVhKWIuZW5kPmEudmlkZW8uY3VycmVudFRpbWUrMTAmJihhLmVhPSExLGEudmlkZW8uY3VycmVudFRpbWU9Yi5lbmQsUWYoYSkpO2Vsc2UgaWYoYS52aWRlby5wYXVzZWQmJmIuZW5kPmEudmlkZW8uY3VycmVudFRpbWUrMTApaWYoYS5hLmdldEJvb2woImVuYWJsZV9sYXp5X2xpdmVoZWFkX2NhdGNodXAiLCExKSl7dmFyIGM9YS54YTtjPGEuSWQmJihhLnhhPSsrYyk7UmYoYSxjKTthLmNhPWIuZW5kfWVsc2UgYS5lYT0hMSxhLnZpZGVvLmN1cnJlbnRUaW1lPWIuZW5kLFFmKGEpfQpmdW5jdGlvbiBLZihhLGIpe2lmKG51bGw9PWEuYi5jKUJhbnphaU9EUy5idW1wRW50aXR5S2V5KDI5NjYsInZpZGVvcy53d3cubGl2ZSIsInVwZGF0ZV9wZXJpb2RfaXNfbnVsbCIpO2Vsc2UgaWYoIWEuRmEpe2lmKGEuYS5nZXRCb29sKCJkZWNvdXBsZV9tcGRfdXBkYXRlX2xvb3BfZnJvbV9yZXF1ZXN0X2xvb3AiLCExKSYmKGEudSYmKGNsZWFyVGltZW91dChhLnUpLGEudT1udWxsKSxzZihhKSkpcmV0dXJuO3ZhciBjPU1hdGgubWF4KGEuYi5jLGEuS2IpLGM9TWF0aC5tYXgoYy1iLDApLGQ9YS5KYi5iaW5kKGEsITEpOyFjJiZhLmcudXNlTWljcm9UYXNrVGltZW91dHM/UHJvbWlzZS5yZXNvbHZlKCkudGhlbihkKTooYS5WJiZhLlYuc2V0UmVzdWx0KCJmYWlsZWQiKS5sb2coKSxhLmwmJihhLlY9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigic2NoZWR1bGVfbWFuaWZlc3RfdXBkYXRlIikuc3RhcnQoKS5zZXRVcGRhdGVQZXJpb2QoTWF0aC5jZWlsKDFFMypjKSkpLGEudT1zZXRUaW1lb3V0KGQsCjFFMypjKSl9fWZ1bmN0aW9uIE9mKGEsYil7dmFyIGM9TWQoYiksZD1hLmNbY107aWYoZCYmZC5XYSgpPT1iKXt2YXIgZT1hLmYuZ2V0KE1kKGIpKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEudn0pLnJlZHVjZShmdW5jdGlvbihhLGIpe3JldHVybiBhLmNvbmNhdChiKX0sW10pLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gYS5vYSYmYS5mYX0pO2lmKDA9PWUubGVuZ3RoKXtjPUVycm9yKCJBbGwgdXNhYmxlIHN0cmVhbXMgaGF2ZSBiZWVuIHJlbW92ZWQgZnJvbSB0aGUgbWFuaWZlc3QuIik7Yy50eXBlPSJhcHAiO2M9QShjKTthLmRpc3BhdGNoRXZlbnQoYyk7cmV0dXJufWEuQltjXS5MYz09YiYmZGVsZXRlIGEuQltjXTtkLmpiKGVbMF0sITApO2IuZGVzdHJveSgpfWIuZGVzdHJveSgpfW4uQ2Q9ZnVuY3Rpb24oYSl7dGhpcy5wYz1hfTtZLnByb3RvdHlwZS5zZXRUYWdnZWRUaW1lUmFuZ2VzPVkucHJvdG90eXBlLkNkOwpZLnByb3RvdHlwZS53ZD1mdW5jdGlvbigpe3JldHVybiAwPT09T2JqZWN0LmtleXModGhpcy5jKS5sZW5ndGg/ITE6WyJhdWRpbyIsInZpZGVvIl0uZXZlcnkoSih0aGlzLGZ1bmN0aW9uKGEpe3JldHVybiF0aGlzLmNbYV18fHRoaXMuY1thXS5UfSkpfTtZLnByb3RvdHlwZS5oYXNIaXRCdWZmZXJpbmdHb2FsPVkucHJvdG90eXBlLndkOwpZLnByb3RvdHlwZS5aPWZ1bmN0aW9uKGEpe2lmKCF0aGlzLmZ8fCF0aGlzLmYuYS5oYXNPd25Qcm9wZXJ0eSgidmlkZW8iKSlyZXR1cm5bXTthPWEmJmEudXNlTG9jYWxCaXRyYXRlfHwhMTt2YXIgYj10aGlzLmMudmlkZW8sYz1iP2IuV2EoKTpudWxsLGQ9Yz9jLlg6MCxlPTEsZj1udWxsO3RoaXMuYS5nZXRCb29sKCJ1c2VfbGl2ZV9iaXRyYXRlX2VzdGltYXRlcyIsITEpJiZ0aGlzLlAoKSYmbnVsbCE9YiYmKGY9Yi5sYSgpLG51bGwhPWMmJjA8Yy5iYW5kd2lkdGgmJihlPWYvYy5iYW5kd2lkdGgpKTtmb3IodmFyIGM9W10sZz10aGlzLmYuZ2V0KCJ2aWRlbyIpLGg9MDtoPGcubGVuZ3RoOysraClmb3IodmFyIGs9Z1toXSxsPTA7bDxrLnYubGVuZ3RoOysrbCl7dmFyIG09ay52W2xdO2lmKG0ub2EmJm0uZmEpe3ZhciBwPW51bGw7aWYoYSYmbnVsbCE9PW0uTSl7dmFyIHQ9bS5NLmMoKSx3PWI7aWYodGhpcy5QKCl8fG51bGw9PT10fHxudWxsPT09dylwPW51bGw7ZWxzZXt2YXIgcD0KcGUodyx0aGlzLnZpZGVvLmN1cnJlbnRUaW1lLHQpLHo9dC5nZXRTZWdtZW50cygpO3RoaXMuYS5nZXRCb29sKCJzdGFydF9sb2NhbF9iaXRyYXRlX2F0X2J1ZmZlcl9lbmQiLCExKSYmKHc9TG9jYWxCaXRyYXRlSGVscGVyLmdldEJ1ZmZlckVuZFNlZ21lbnRJbmRleCh6LHAsdGhpcy52aWRlby5jdXJyZW50VGltZSthZSh3LHRoaXMudmlkZW8uY3VycmVudFRpbWUpKSxudWxsIT09dyYmKHA9dykpO3A9TG9jYWxCaXRyYXRlSGVscGVyLmdldExvY2FsQml0cmF0ZSh0LmdldFNlZ21lbnRzKCkscCx0aGlzLmEuZ2V0TnVtYmVyKCJsb2NhbF9iaXRyYXRlX3NlZ21lbnRzX2FoZWFkIiwxMCkpfXRoaXMuYS5nZXRCb29sKCJ1c2VfbWF4X2xvY2FsX2JpdHJhdGUiLCExKSYmKHA9TWF0aC5tYXgocCxtLmJhbmR3aWR0aCkpfXQ9bS5YO3A9cHx8bS5iYW5kd2lkdGg7dGhpcy5hLmdldEJvb2woInVzZV9saXZlX2JpdHJhdGVfZXN0aW1hdGVzIiwhMSkmJm51bGwhPWYmJih0PT09ZD9wPU1hdGgubWF4KHAsCmYpOjE8ZSYmKHA9cCplKSxwPU1hdGgucm91bmQocCkpO209bmV3IHVhKHQscCxtLndpZHRoLG0uaGVpZ2h0LG0uaWQsbS5mYlF1YWxpdHlMYWJlbCxtLmZiUXVhbGl0eUNsYXNzLG0uZixtLmZyYW1lUmF0ZSxtLm1pbWVUeXBlLG0uY29kZWNzLG0uZyxtLmgpO3Q9PWQmJihtLmFjdGl2ZT0hMCk7Yy5wdXNoKG0pfX1yZXR1cm4gY307WS5wcm90b3R5cGUuZ2V0VmlkZW9UcmFja3M9WS5wcm90b3R5cGUuWjtZLnByb3RvdHlwZS5SYz1mdW5jdGlvbigpe2lmKHRoaXMuZ2EpcmV0dXJuIHRoaXMuZ2E7aWYoIXRoaXMuYilyZXR1cm4gbnVsbDtmb3IodmFyIGE9MDthPHRoaXMuYi5hLmxlbmd0aDsrK2EpZm9yKHZhciBiPXRoaXMuYi5hW2FdLGM9MDtjPGIuYS5sZW5ndGg7KytjKWlmKHRoaXMuZ2E9Yi5hW2NdLmMpcmV0dXJuIHRoaXMuZ2E7cmV0dXJuIG51bGx9O1kucHJvdG90eXBlLmdldFZpZGVvUHJvamVjdGlvbj1ZLnByb3RvdHlwZS5SYztZLnByb3RvdHlwZS5PYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmtifTsKWS5wcm90b3R5cGUuZ2V0TG9jYWxFc3RpbWF0b3I9WS5wcm90b3R5cGUuT2M7ZnVuY3Rpb24gU2YoYSl7YT1hLlooKTtmb3IodmFyIGI9MDtiPGEubGVuZ3RoO2IrKylpZihhW2JdLmFjdGl2ZSlyZXR1cm4gYVtiXX1ZLnByb3RvdHlwZS52YT1mdW5jdGlvbigpe2lmKCF0aGlzLmZ8fCF0aGlzLmYuYS5oYXNPd25Qcm9wZXJ0eSgiYXVkaW8iKSlyZXR1cm5bXTtmb3IodmFyIGE9dGhpcy5jLmF1ZGlvLGE9KGE9YT9hLldhKCk6bnVsbCk/YS5YOjAsYj1bXSxjPXRoaXMuZi5nZXQoImF1ZGlvIiksZD0wO2Q8Yy5sZW5ndGg7KytkKWZvcih2YXIgZT1jW2RdLGY9ZS5sYW5nLGc9MDtnPGUudi5sZW5ndGg7KytnKXt2YXIgaD1lLnZbZ107aWYoaC5vYSYmaC5mYSl7dmFyIGs9aC5YLGg9bmV3IGZhKGssaC5iYW5kd2lkdGgsZixoLmlkLGgubWltZVR5cGUsaC5jb2RlY3MsdGhpcy5iLnUsaC5jKTtrPT1hJiYoaC5hY3RpdmU9ITApO2IucHVzaChoKX19cmV0dXJuIGJ9OwpZLnByb3RvdHlwZS5nZXRBdWRpb1RyYWNrcz1ZLnByb3RvdHlwZS52YTtZLnByb3RvdHlwZS5tYz1mdW5jdGlvbigpe2lmKCF0aGlzLmZ8fCF0aGlzLmYuYS5oYXNPd25Qcm9wZXJ0eSgidGV4dCIpKXJldHVybltdO2Zvcih2YXIgYT10aGlzLmMudGV4dCxiPWE/YS5XYSgpOm51bGwsYj1iP2IuWDowLGM9W10sZD10aGlzLmYuZ2V0KCJ0ZXh0IiksZT0wO2U8ZC5sZW5ndGg7KytlKWZvcih2YXIgZj1kW2VdLGc9Zi5sYW5nLGg9MDtoPGYudi5sZW5ndGg7KytoKXt2YXIgaz1mLnZbaF0uWCxsPW5ldyB0YShrLGcpO2s9PWImJihsLmFjdGl2ZT0hMCxsLmVuYWJsZWQ9YS5EYigpKTtjLnB1c2gobCl9cmV0dXJuIGN9O1kucHJvdG90eXBlLmdldFRleHRUcmFja3M9WS5wcm90b3R5cGUubWM7WS5wcm90b3R5cGUuYWM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iJiZ0aGlzLmIubSYmMDx0aGlzLmIubT8hMDohMX07WS5wcm90b3R5cGUuaXNVc2luZ0FTUkNhcHRpb25zPVkucHJvdG90eXBlLmFjOwpZLnByb3RvdHlwZS5iYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmImJnRoaXMuYi5vJiYwPHRoaXMuYi5vJiZna3goIjExNzYyNTEiKT8hMDohMX07WS5wcm90b3R5cGUuaXNVc2luZ0FTUkNhcHRpb25zRW1wbG95ZWVEb2dmb29kaW5nPVkucHJvdG90eXBlLmJjO2Z1bmN0aW9uIHJmKGEpe3ZhciBiPU51bWJlcihhLmcuaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemUpO2EuZy5maXhCdWZmZXJpbmdHb2FsRGV0ZXJtaW5hdGlvbiYmKGI9MSk7aWYoYS5hLmdldEJvb2woImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvdyIsITEpKWI9YS5LO2Vsc2V7dmFyIGM9YS5hLmdldE51bWJlcigiYnVmZmVyaW5nX292ZXJmbG93X3RocmVzaG9sZCIsMCk7MDxjJiYoYj1jKX1yZXR1cm4gYS4kYj9OdW1iZXIoYS5nLnN0cmVhbUJ1ZmZlclNpemUpOmJ9CmZ1bmN0aW9uIE5lKGEpe2lmKGEuTyl7YT1hLmIuYVswXTtmb3IodmFyIGI9W10sYz0wO2M8YS5hLmxlbmd0aDsrK2MpYi5wdXNoLmFwcGx5KGIsUWQoYS5hW2NdKSk7YT1ifWVsc2UgYT1bXTtyZXR1cm4gYX0KZnVuY3Rpb24gUGUoYSxiKXtpZihhLk8pe2Zvcih2YXIgYz17fSxkPWEuYi5hWzBdLGU9MDtlPGQuYS5sZW5ndGg7KytlKXt2YXIgZj1kLmFbZV07Y1tmLlhdPWZ9YS5mLmE9e307ZD1hYihiKTtmb3IoZT0wO2U8ZC5sZW5ndGg7KytlKXt2YXIgZj1kW2VdLGc9Yi5nZXQoZik7aWYoInZpZGVvIj09Zil7dmFyIGg9Z1swXS5pZDthLmYucHVzaChmLGNbaF0pfWVsc2UgaWYoImF1ZGlvIj09Zil7aWYoMDxnLmxlbmd0aClmb3IodmFyIGg9Z1swXS5iLnNwbGl0KCI7IilbMF0saz0wO2s8Zy5sZW5ndGg7KytrKXt2YXIgbD1nW2tdO2wuYi5zcGxpdCgiOyIpWzBdPT1oJiZhLmYucHVzaChmLGNbbC5pZF0pfX1lbHNlIGZvcihrPTA7azxnLmxlbmd0aDsrK2spaD1nW2tdLmlkLGEuZi5wdXNoKGYsY1toXSl9YS55YT0hMDtpZihjPWEuZi5nZXQoImF1ZGlvIikpVGYoYSxjKSxhLmYuc2V0KCJhdWRpbyIsYyksYz1jWzBdLmxhbmd8fGEuUyxSYSgyLGEuUyxjKSYmKGEueWE9ITEpO2lmKGM9YS5mLmdldCgidGV4dCIpKVRmKGEsCmMpLGEuZi5zZXQoInRleHQiLGMpLGM9Y1swXS5sYW5nfHxhLlMsUmEoMixhLlMsYyl8fChhLnlhPSExKX19WS5wcm90b3R5cGUuWGM9ZnVuY3Rpb24oKXt0aGlzLkVhPSEwfTtZLnByb3RvdHlwZS5zZXRDbGVhckJ1ZmZlckFmdGVyU2Vla2luZz1ZLnByb3RvdHlwZS5YYztZLnByb3RvdHlwZS5zZWxlY3RWaWRlb1RyYWNrPWZ1bmN0aW9uKGEsYixjLGQsZSl7cmV0dXJuIG1mKHRoaXMsInZpZGVvIixhLGIsYyxkLGUpfTtZLnByb3RvdHlwZS5yZXN1bWVWaWRlb0ZldGNoaW5nPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5jLnZpZGVvP3RoaXMuYy52aWRlby5GOm51bGw7YSYmYS5yZXN1bWVWaWRlb0ZldGNoaW5nKCl9O1kucHJvdG90eXBlLnJlc3VtZVZpZGVvRmV0Y2hpbmc9WS5wcm90b3R5cGUucmVzdW1lVmlkZW9GZXRjaGluZztZLnByb3RvdHlwZS5IZD1mdW5jdGlvbigpe3ZhciBhPXRoaXMuYy52aWRlbz90aGlzLmMudmlkZW8uRjpudWxsO2EmJmEuc3RvcFVudGlsU2VnbWVudHNVcGRhdGUoKX07ClkucHJvdG90eXBlLnN0b3BVbnRpbFZpZGVvU3RyZWFtU3dpdGNoPVkucHJvdG90eXBlLkhkO2Z1bmN0aW9uIG5mKGEsYil7dmFyIGM9YS5jLnRleHQ7YyYmYy52YihiKX0KZnVuY3Rpb24gRWYoYSl7aWYoYS5tKXtmb3IodmFyIGI9ITEsYz0wO2M8YS5iLmEubGVuZ3RoOysrYylmb3IodmFyIGQ9YS5iLmFbY10sZT0wO2U8ZC5hLmxlbmd0aDsrK2Upe3ZhciBmPWQuYVtlXTtpZigidmlkZW8iPT1mLmNvbnRlbnRUeXBlKWZvcih2YXIgZz0wO2c8Zi52Lmxlbmd0aDsrK2cpe3ZhciBoPWYudltnXSxrPWguZmE7aC5mYT0hMDthLm0ubWF4V2lkdGgmJmgud2lkdGg+YS5tLm1heFdpZHRoJiYoaC5mYT0hMSk7YS5tLm1heEhlaWdodCYmaC5oZWlnaHQ+YS5tLm1heEhlaWdodCYmKGguZmE9ITEpO2EubS5taW5IZWlnaHQmJmguaGVpZ2h0PGEubS5taW5IZWlnaHQmJihoLmZhPSExKTthLm0ubWF4QmFuZHdpZHRoJiZoLmJhbmR3aWR0aD5hLm0ubWF4QmFuZHdpZHRoJiYoaC5mYT0hMSk7YS5tLm1pbkJhbmR3aWR0aCYmaC5iYW5kd2lkdGg8YS5tLm1pbkJhbmR3aWR0aCYmKGguZmE9ITEpO2shPWguZmEmJihiPSEwKX19MCE9JGEoYS5mKS5sZW5ndGgmJmImJihVZihhKSwKMDxhLlooKS5sZW5ndGh8fChiPUVycm9yKCJUaGUgYXBwbGljYXRpb24gaGFzIHJlc3RyaWN0ZWQgYWxsIHZpZGVvIHRyYWNrcyEiKSxiLnR5cGU9ImFwcCIsYj1BKGIpLGEuZGlzcGF0Y2hFdmVudChiKSkpfX1ZLnByb3RvdHlwZS5QPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYj90aGlzLmIuYjpudWxsfTtZLnByb3RvdHlwZS5pc0xpdmU9WS5wcm90b3R5cGUuUDtZLnByb3RvdHlwZS5ZYz1mdW5jdGlvbihhKXt0aGlzLiRiPWF9O1kucHJvdG90eXBlLnNldElzTGl2ZUludGVycnVwdGVkPVkucHJvdG90eXBlLlljO1kucHJvdG90eXBlLnZkPWZ1bmN0aW9uKCl7Zm9yKHZhciBhIGluIHRoaXMuYyl0aGlzLmNbYV0uSGMoKX07WS5wcm90b3R5cGUuZm9yY2VSZXN5bmNWaWRlb0J1ZmZlcj1ZLnByb3RvdHlwZS52ZDsKZnVuY3Rpb24gV2UoYSxiKXtmb3IodmFyIGMsZD0hMSxlPW5ldyBELGY9JGEoYS5mKSxnPTA7ZzxmLmxlbmd0aDsrK2cpZm9yKHZhciBoPWZbZ10saz0wO2s8aC52Lmxlbmd0aDsrK2spe3ZhciBsPWgudltrXTtsLmIuZm9yRWFjaChmdW5jdGlvbihhKXtlLnB1c2goYSxsKX0pfWZvcihjIGluIGIpaWYoZj1QYVtiW2NdXXx8bnVsbCxoPWUuZ2V0KGMpKWZvcihnPTA7ZzxoLmxlbmd0aDsrK2cpbD1oW2ddLGs9bC5vYSxsLm9hPSFmLGshPWwub2EmJihkPSEwKTtlbHNlIGliKGMpO2QmJihVZihhKSxkPWEudmEoKSxjPWEuWigpLGQ9YS5mLmEuaGFzT3duUHJvcGVydHkoImF1ZGlvIikmJjA9PWQubGVuZ3RoLGM9YS5mLmEuaGFzT3duUHJvcGVydHkoInZpZGVvIikmJjA9PWMubGVuZ3RoLGR8fGMpJiYoYz1FcnJvcigiVGhlIGtleSBzeXN0ZW0gaGFzIHJlc3RyaWN0ZWQgYWxsICIrKGQmJmM/ImF1ZGlvIGFuZCB2aWRlbyB0cmFja3MuIjpkPyJhdWRpbyB0cmFja3MuIjoidmlkZW8gdHJhY2tzLiIpKSwKYy50eXBlPSJkcm0iLGM9QShjKSxhLmRpc3BhdGNoRXZlbnQoYykpfWZ1bmN0aW9uIFVmKGEpe3ZhciBiPXkoe3R5cGU6InRyYWNrc2NoYW5nZWQiLGJ1YmJsZXM6ITB9KTthLmRpc3BhdGNoRXZlbnQoYil9ZnVuY3Rpb24gbWYoYSxiLGMsZCxlLGYsZyl7Zz0hIWc7aWYoIWEuZi5hLmhhc093blByb3BlcnR5KGIpfHwhYS5jW2JdKXJldHVybiExO2Zvcih2YXIgaD1hLmYuZ2V0KGIpLGs9MDtrPGgubGVuZ3RoOysraylmb3IodmFyIGw9aFtrXSxtPTA7bTxsLnYubGVuZ3RoOysrbSl7dmFyIHA9bC52W21dO2lmKHAuWD09Yyl7aWYoIXAub2F8fCFwLmZhKXJldHVybiExO2lmKCJ0ZXh0IiE9YiYmIWEuQ2EpcmV0dXJuIGM9YS5CW2JdLGEuQltiXT17TGM6cCxyYzpudWxsIT1jJiZjLnJjfHxkLHNjOm51bGwhPWMmJmMuc2N8fGUsc3dpdGNoUmVhc29uOmYsS2E6Z30sITA7YS5jW2JdLmpiKHAsZCxlLGYsZyk7cmV0dXJuITB9fXJldHVybiExfQpmdW5jdGlvbiBUZihhLGIpe2Zvcih2YXIgYz0wOzI+PWM7KytjKWZvcih2YXIgZD0wO2Q8Yi5sZW5ndGg7KytkKXt2YXIgZT1iW2RdO2lmKFJhKGMsYS5TLGUubGFuZykpe2Iuc3BsaWNlKGQsMSk7Yi5zcGxpY2UoMCwwLGUpO3JldHVybn19Zm9yKGQ9MDtkPGIubGVuZ3RoOysrZClpZihlPWJbZF0sZS5mKXtiLnNwbGljZShkLDEpO2Iuc3BsaWNlKDAsMCxlKTticmVha319bj1ZLnByb3RvdHlwZTtuLmhkPWZ1bmN0aW9uKCl7dGhpcy5oLmFiKHRoaXMuaSwic291cmNlb3BlbiIpO3RoaXMuSWIucmVzb2x2ZSgpfTsKZnVuY3Rpb24gRmYoYSl7dmFyIGI7YS5sJiYoYj1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJzdGFydF9zdHJlYW1zIikuc3RhcnQoKSk7Zm9yKHZhciBjPVtdLGQ9WyJhdWRpbyIsInZpZGVvIiwidGV4dCJdLGU9MDtlPGQubGVuZ3RoOysrZSl7dmFyIGY9ZFtlXTthLmYuYS5oYXNPd25Qcm9wZXJ0eShmKSYmYy5wdXNoKGEuZi5nZXQoZilbMF0pfWZvcih2YXIgZz1WZihhLGMpLGU9MDtlPGQubGVuZ3RoOysrZSlpZihmPWRbZV0sYS5mLmEuaGFzT3duUHJvcGVydHkoZikmJiFnW2ZdKXJldHVybiBhPUVycm9yKCJVbmFibGUgdG8gc2VsZWN0IGFuIGluaXRpYWwgIitmKyIgc3RyZWFtOiBhbGwgIitmKyIgc3RyZWFtcyBoYXZlIGJlZW4gcmVzdHJpY3RlZCAoYnkgdGhlIGFwcGxpY2F0aW9uIG9yIGJ5IHRoZSBrZXkgc3lzdGVtKS4iKSxhLnR5cGU9InN0cmVhbSIsYiYmYi5zZXRFcnJvcihhKS5sb2coKSxQcm9taXNlLnJlamVjdChhKTtjPVdhKGcpLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS5NLmNyZWF0ZSgpfSk7CmMucHVzaChhLkliKTtyZXR1cm4gUHJvbWlzZS5hbGwoYykudGhlbihKKGEsZnVuY3Rpb24oYSl7YS5wb3AoKTtpZighYS5ldmVyeShmdW5jdGlvbihhKXtyZXR1cm4gYS5sZW5ndGgoKX0pKXJldHVybiBhPUVycm9yKCJTb21lIHN0cmVhbXMgYXJlIG5vdCBhdmFpbGFibGUuIiksYS50eXBlPSJzdHJlYW0iLFByb21pc2UucmVqZWN0KGEpO2E9TWYodGhpcyxhKTtpZighYSlyZXR1cm4gYT1FcnJvcigiU29tZSBzdHJlYW1zIGFyZSBub3QgYXZhaWxhYmxlLiIpLGEudHlwZT0ic3RyZWFtIixQcm9taXNlLnJlamVjdChhKTtpZighV2YodGhpcyxnKSlyZXR1cm4gYT1FcnJvcigiRmFpbGVkIHRvIGNyZWF0ZSBTdHJlYW0gb2JqZWN0cy4iKSxhLnR5cGU9InN0cmVhbSIsUHJvbWlzZS5yZWplY3QoYSk7dGhpcy5BLnN0YXJ0KCk7WGYodGhpcyxnLGEpO3JldHVybiBQcm9taXNlLnJlc29sdmUoKX0pKS50aGVuKGZ1bmN0aW9uKCl7YiYmYi5sb2coKX0pLmNhdGNoKEooYSxmdW5jdGlvbihhKXtpZigiYWJvcnRlZCI9PQphLnR5cGUpYiYmYi5zZXRFcnJvcihhKS5sb2coKTtlbHNle09iamVjdC5rZXlzKHRoaXMuYyk7aWYodGhpcy5iLmIpcmV0dXJuIHlhKCk8dGhpcy5iLmo/KGE9TWF0aC5tYXgodGhpcy5iLmotRGF0ZS5ub3coKS8xRTMsdGhpcy5LYiksdGhpcy51PXNldFRpbWVvdXQodGhpcy5KYi5iaW5kKHRoaXMsITApLDFFMyphKSk6S2YodGhpcywwKSxiJiZiLmxvZygpLFByb21pc2UucmVzb2x2ZSgpO2ImJmIuc2V0RXJyb3IoYSkubG9nKCk7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfX0pKX0KZnVuY3Rpb24gVmYoYSxiKXtmb3IodmFyIGM9e30sZD0wO2Q8Yi5sZW5ndGg7KytkKXt2YXIgZT1iW2RdLGY9bnVsbDtpZigidmlkZW8iPT1lLmNvbnRlbnRUeXBlKXt2YXIgZz1hLkEuZ2V0SW5pdGlhbFZpZGVvVHJhY2tJZCgpO2lmKG51bGw9PWcpY29udGludWU7Zj1lLnYuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiBhLlg9PWd9KTtpZigwPT1mLmxlbmd0aCljb250aW51ZTtmPWZbMF19ZWxzZSBpZigiYXVkaW8iPT1lLmNvbnRlbnRUeXBlKWlmKGc9YS5BLmdldEluaXRpYWxBdWRpb1RyYWNrSWQoKSxmPWUudi5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIGEuWD09Z30pLDA9PWYubGVuZ3RoKXtmPWUudi5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIGEub2EmJmEuZmF9KTtpZigwPT1mLmxlbmd0aCljb250aW51ZTtmPWUudltNYXRoLmZsb29yKGYubGVuZ3RoLzIpXX1lbHNlIGY9ZlswXTtlbHNlIDA8ZS52Lmxlbmd0aCYmKGY9ZS52WzBdKTtjW2UuY29udGVudFR5cGVdPWZ9cmV0dXJuIGN9CmZ1bmN0aW9uIFdmKGEsYil7dmFyIGM9e30sZDtmb3IoZCBpbiBiKXt2YXIgZT1iW2RdLGU9InRleHQiPT1kP25ldyB0ZShhLGEudmlkZW8pOllmKGEsZSk7aWYoIWUpcmV0dXJuIFdhKGMpLmZvckVhY2goZnVuY3Rpb24oYSl7YS5kZXN0cm95KCl9KSwhMTtjW2RdPWV9YS5QYihhLm5jKTthLmM9YztyZXR1cm4hMH0KZnVuY3Rpb24gWWYoYSxiKXt2YXIgYz1OZChiKSxkPVpmKGMuc3BsaXQoIjsiKVswXSksZT1udWxsLGY9YS5hLmdldEJvb2woInVzZV9sb2NhbF9lc3RpbWF0b3JfZm9yX2Ficl9zYW1wbGluZyIsITApP2Eua2I6YS53YSxnPW51bGwsaD1udWxsLGs9YS5iLmZ8fGEuYi5BLGs9YS5hLmdldEJvb2woInNraXBfc2VnbWVudF9yZXF1ZXN0X21hbmFnZXIiLCExKSYmazthLldiJiZjYW5Vc2VGZXRjaFN0cmVhbSgpPyhoPW5ldyBNdWx0aXBsZVNlZ21lbnRzUHJvdmlkZXIoYS5hLmdldE51bWJlcigic3RyZWFtaW5nX3NlZ21lbnRfc2l6ZSIsNCkpLGc9JGYoYSxoLGQsZikpOmEuVmImJiFrJiYoZT1hZyhhLGQsZikpO3ZhciBrPW51bGwsbD1hLmYuZ2V0KGQpOyJ2aWRlbyI9PT1kJiYwPGwubGVuZ3RoJiYoaz1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz1udWxsLGQ9bnVsbCxlPTA7ZTxsWzBdLnYubGVuZ3RoO2UrKylsWzBdLnZbZV0uaWQ9PT1hP2M9bFswXS52W2VdOmxbMF0udltlXS5pZD09PQpiJiYoZD1sWzBdLnZbZV0pO3JldHVybiBudWxsPT09Y3x8bnVsbD09PWQ/MDpjLmJhbmR3aWR0aD5kLmJhbmR3aWR0aD8xOi0xfSk7Yz1uZXcgVShhLGEudmlkZW8sYS5hLGEuaSxjLGYsYS5wYyxhLmRhLGssYS5HLGUsZyxoLGEuaWEpO2MucGEoYS5nKTtyZXR1cm4gY30KZnVuY3Rpb24gJGYoYSxiLGMsZCl7dmFyIGU9YS53W2NdLGY9ImF1ZGlvIiE9PWN8fGEuYS5nZXRCb29sKCJlbmFibGVfYXVkaW9fc3RyZWFtaW5nIiwhMSk7aWYoIWUmJmYpe3ZhciBlPW5ldyBWaWRlb1N0cmVhbWluZ01hbmFnZXIoYS5hLGIsYyxhLmwsYS5VKSxnPSJ2aWRlbyI9PT1jO2cmJmUuYWRkTGlzdGVuZXIoImJhbmR3aWR0aFVwZGF0ZSIsZnVuY3Rpb24oYSl7ZC5zYW1wbGUoYS50aW1lVGFrZW4sYS5ieXRlc1JlYWQsZyx7dGltZVRvTGFzdEJ5dGU6YS50aW1lVGFrZW59LHRoaXMuQWIsdGhpcy5sLCF0aGlzLmEuZ2V0Qm9vbCgiZXZhbHVhdGVfYWJyX29uX3N0cmVhbV9iYW5kd2lkdGhfc2FtcGxlIiwhMCkpfS5iaW5kKGEpKX1lJiYoYS53W2NdPWUpO3JldHVybiBlfHxudWxsfQpmdW5jdGlvbiBhZyhhLGIsYyl7aWYoInZpZGVvIj09PWJ8fCJhdWRpbyI9PT1iJiZhLmEuZ2V0Qm9vbCgiZW5hYmxlX3JlcXVlc3RfcGlwZWxpbmluZ19mb3Jfdm9kX2F1ZGlvcyIsITEpKXt2YXIgZD1hLm9bYl07ZHx8KGQ9bmV3IFNlZ21lbnRSZXF1ZXN0TWFuYWdlcihhLmEsYixhLlAoKT9WaWRlb1ByaW9yaXR5Q2FsY3VsYXRvci5jYWxjdWxhdGVMaXZlOlZpZGVvUHJpb3JpdHlDYWxjdWxhdG9yLmNhbGN1bGF0ZSxhLmwsYyxhLkFiLGEuZGEsYS5pYSksYS5SJiZkLnVwZGF0ZVByaW9yaXR5V2l0aE5ld0FkanVzdG1lbnQoYS5SLmdldFByaW9yaXR5QWRqdXN0bWVudCgpKSxhLm9bYl09ZCk7cmV0dXJuIGR9cmV0dXJuIG51bGx9ZnVuY3Rpb24gYmcoYSxiKXthLnZpZGVvLmN1cnJlbnRUaW1lPWI7YS5hLmdldEJvb2woInNldF9wZW5kaW5nX3NlZWtfb25fc2V0X2N1cnJlbnRfdGltZV9mYWlsdXJlIiwhMSkmJmEudmlkZW8uY3VycmVudFRpbWUrMTxiJiZjZyhhLGIpO2EuRD1ifQpmdW5jdGlvbiBYZihhLGIsYyl7YS5rYz1hLnZpZGVvLnBsYXliYWNrUmF0ZTthLnZpZGVvLnBsYXliYWNrUmF0ZT0wO2RnKGEsYyk7dmFyIGQ7ZD1hLmIuZjsoIWEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9hZGp1c3Rfc3RyZWFtX2xpbWl0c19zdGFydF9vZmZzZXRfaW50IiwwKSYmIWEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9qdW1wX3RvX2xpdmVfc2lkeF9lbmRfb2Zmc2V0IiwwKXx8IWQpJiZhLmxhJiZhLmxhPD1jLmVuZCYmYS5sYT49Yy5zdGFydD9kPWEubGE6YS5iLmI/KGQ9ZWcoYSxjKSxhLmVjPSEwKTpkPWMuc3RhcnQ7RShhLmgsYS52aWRlbywic2Vla2luZyIsYS5tZC5iaW5kKGEpKTthLkk/KGEuSS5zZXRPblBsYXlpbmcoYS5tYi5iaW5kKGEsITApKSxhLkkuc2V0T25QYXVzZWQoYS5tYi5iaW5kKGEsITEpKSxhLkkuZW5hYmxlKCkpOihFKGEuaCxhLnZpZGVvLCJwbGF5aW5nIixhLm1iLmJpbmQoYSwhMCkpLGEuYS5nZXRCb29sKCJ1cGRhdGVfcHJpb3JpdHlfb25fcGxheV9ldmVudCIsCiEwKSYmRShhLmgsYS52aWRlbywicGxheSIsYS5tYi5iaW5kKGEsITApKSxFKGEuaCxhLnZpZGVvLCJwYXVzZSIsYS5tYi5iaW5kKGEsITEpKSk7RShhLmgsYS52aWRlbywic2Vla2luZyIsYS5NYy5iaW5kKGEpKTtFKGEuaCxhLnZpZGVvLCJ0aW1ldXBkYXRlIix0aHJvdHRsZShhLk1jLmJpbmQoYSksYS5hLmdldE51bWJlcigic2NoZWR1bGVyX3ByaW9yaXR5X3VwZGF0ZV9pbnRlcnZhbCIsMUUzKSkpO2lmKGEudmlkZW8uY3VycmVudFRpbWUhPWQpaWYoYS5TYikwIT09YS52aWRlby5yZWFkeVN0YXRlP2JnKGEsZCk6Y2coYSxkKTtlbHNlIHRyeXtiZyhhLGQpfWNhdGNoKGUpe2NnKGEsZCl9ZmcoYSxjLnN0YXJ0LGMuZW5kLGMubGFzdCxjLlphKTt2YXIgZj1bXSxnO2ZvcihnIGluIGEuYyl7Yz1hLmNbZ107SihhLGZ1bmN0aW9uKGEpe2YucHVzaChhLktjKHRoaXMuc2EpLnRoZW4oSih0aGlzLGZ1bmN0aW9uKGIpe3ZhciBjPWEuc2IoKTtjPnRoaXMuQmImJih0aGlzLkJiPWMpO3JldHVybiBifSkpKX0pKGMpOwpFKGEuaCxjLCJlbmRlZCIsYS5vZC5iaW5kKGEpKTtFKGEuaCxjLCJzaG91bGRfZW5kX2FsbF9zdHJlYW1zIixhLnBkLmJpbmQoYSkpO0UoYS5oLGMsInNob3VsZF9udWRnZSIsYS5qZC5iaW5kKGEpKTtkPWJbZ107dmFyIGg9YS5BLmdldEluaXRpYWxTd2l0Y2hSZWFzb24oKXx8dm9pZCAwO2MuamIoZCwhMSx2b2lkIDAsaCl9UHJvbWlzZS5hbGwoZikudGhlbihKKGEsZnVuY3Rpb24oYSl7dGhpcy5hLmdldEJvb2woInByZXZlbnRfc3RyZWFtX3N0YXJ0X2lmX3N0cmVhbXNfY2hhbmdlIiwhMSkmJiFnZyh0aGlzKXx8aGcodGhpcyxhKX0pKS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7ImRlc3Ryb3kiIT1hLnR5cGUmJihhPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGEpKX0pKTtuZihhLGEueWEpfQpuLm1iPWZ1bmN0aW9uKGEpe09iamVjdC5rZXlzKHRoaXMubykuZm9yRWFjaChmdW5jdGlvbihiKXt0aGlzLm9bYl0udXBkYXRlUHJpb3JpdHlXaXRoTmV3UGxheWluZ1N0YXRlKGEpfS5iaW5kKHRoaXMpKTtPYmplY3Qua2V5cyh0aGlzLncpLmZvckVhY2goZnVuY3Rpb24oYil7dGhpcy53W2JdLmdldFByaW9yaXR5VXBkYXRlcigpLnVwZGF0ZVByaW9yaXR5V2l0aE5ld1BsYXlpbmdTdGF0ZShhKX0uYmluZCh0aGlzKSk7aWYodGhpcy5sKXt2YXIgYj1NZih0aGlzLEhmKHRoaXMpKTtiJiZ0aGlzLnZpZGVvLmN1cnJlbnRUaW1lPGIuc3RhcnQmJkJhbnphaU9EUy5idW1wRW50aXR5S2V5KDI5NjYsInZpZGVvcy53d3cuc2hha2EiLCJjdXJyZW50X3RpbWVfYXRfcGxheWluZ19sZXNzX3RoYW5fc3RyZWFtX2xpbWl0c19zdGFydCIpfWEmJm51bGwhPT10aGlzLmNhJiYodGhpcy54YT0xLFJmKHRoaXMsdGhpcy54YSksaWcodGhpcykpfTsKbi5NYz1mdW5jdGlvbigpe3RoaXMudmlkZW8mJihPYmplY3Qua2V5cyh0aGlzLm8pLmZvckVhY2goZnVuY3Rpb24oYSl7dGhpcy5vW2FdLnVwZGF0ZVByaW9yaXR5V2l0aE5ld1BsYXloZWFkKHRoaXMudmlkZW8uY3VycmVudFRpbWUpfS5iaW5kKHRoaXMpKSxPYmplY3Qua2V5cyh0aGlzLncpLmZvckVhY2goZnVuY3Rpb24oYSl7dGhpcy53W2FdLmdldFByaW9yaXR5VXBkYXRlcigpLnVwZGF0ZVByaW9yaXR5V2l0aE5ld1BsYXloZWFkKHRoaXMudmlkZW8uY3VycmVudFRpbWUpfS5iaW5kKHRoaXMpKSl9O2Z1bmN0aW9uIFFmKGEpe2lmKGEuYS5nZXRCb29sKCJjbGVhcl9jdXJyZW50X3NlZ21lbnRfaW5kZXhlc19kdXJpbmdfbGl2ZWhlYWRfY2F0Y2h1cCIsITEpKWZvcih2YXIgYiBpbiBhLmMpYS5jW2JdLmk9bnVsbH1mdW5jdGlvbiBjZyhhLGIpe2EuYmE9Yjtmb3IodmFyIGMgaW4gYS5jKXt2YXIgZD1hLmNbY107YS5iYSYmKGQuSj1hLmJhKX19CmZ1bmN0aW9uIGdnKGEpe3JldHVybiFPYmplY3Qua2V5cyhhLmMpLnNvbWUoSihhLGZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNbYV0mJiF0aGlzLmNbYV0uaH0pKX0KZnVuY3Rpb24gaGcoYSxiKXtiYShiJiZiLmxlbmd0aD09T2JqZWN0LmtleXMoYS5jKS5sZW5ndGgpO2Zvcih2YXIgYz1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksZD1OdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFksZT0wO2U8Yi5sZW5ndGg7KytlKXZhciBmPWJbZV0sYz1NYXRoLm1pbihjLGYpLGQ9TWF0aC5tYXgoZCxmKTtjPUhmKGEpO2ZvcihlPTA7ZTxjLmxlbmd0aDsrK2UpY1tlXS5UYShkKTthLmEuZ2V0Qm9vbCgicHJvY2Vzc19kZWZlcnJlZF9zd2l0Y2hlc19lYXJseSIsITEpJiZqZyhhKTtrZyhhLGMsZCk7dmFyIGc9V2EoYS5jKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuV2EoKS5pZH0pO2EuYS5nZXRCb29sKCJzZXF1ZW50aWFsbHlfbG9hZF9zdHJlYW1zIiwhMSk/bGcoYSxnLGQpOihlPSRhKGEuZikubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLnZ9KS5yZWR1Y2UoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5jb25jYXQoYil9LFtdKS5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIX5nLmluZGV4T2YoYS5pZCl9KS5tYXAoSihhLApmdW5jdGlvbihhKXt2YXIgYj1bYS5NLnBiP2EuTS5wYigpOmEuTS5jcmVhdGUoKV07YS5hYSYmYi5wdXNoKGEuYWEuY3JlYXRlKHRoaXMubCx0aGlzLmRhKSk7cmV0dXJuIFByb21pc2UuYWxsKGIpfSkpLFByb21pc2UuYWxsKGUpLnRoZW4oSihhLGZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7KytiKWFbYl1bMF0uVGEoZCk7dGhpcy5DYT0hMDtqZyh0aGlzKX0pKS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7ImFib3J0ZWQiIT1hLnR5cGUmJihhPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGEpKX0pKSl9CmZ1bmN0aW9uIGxnKGEsYixjKXt2YXIgZD1Qcm9taXNlLnJlc29sdmUoKTskYShhLmYpLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS52fSkucmVkdWNlKGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuY29uY2F0KGIpfSxbXSkuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiF+Yi5pbmRleE9mKGEuaWQpfSkuZm9yRWFjaChmdW5jdGlvbihhKXtkPWQudGhlbihKKHRoaXMsZnVuY3Rpb24oYil7YiYmYlswXS5UYShjKTtiPVthLk0ucGI/YS5NLnBiKCk6YS5NLmNyZWF0ZSgpXTthLmFhJiZiLnB1c2goYS5hYS5jcmVhdGUodGhpcy5sLHRoaXMuZGEpKTtyZXR1cm4gUHJvbWlzZS5hbGwoYil9KSkuY2F0Y2goZnVuY3Rpb24oYSl7dGhyb3cgYTt9KX0pO2QudGhlbihKKGEsZnVuY3Rpb24oKXt0aGlzLkNhPSEwO2pnKHRoaXMpfSkpLmNhdGNoKEooYSxmdW5jdGlvbihhKXsiYWJvcnRlZCIhPWEudHlwZSYmKGE9QShhKSx0aGlzLmRpc3BhdGNoRXZlbnQoYSkpfSkpfQpmdW5jdGlvbiBqZyhhKXtmb3IodmFyIGIgaW4gYS5CKXt2YXIgYz1hLkJbYl07YS5jW2JdLmpiKGMuTGMsYy5yYyxjLnNjLGMuc3dpdGNoUmVhc29uLGMuS2EpfWEuQj17fX0KZnVuY3Rpb24ga2coYSxiLGMpe3ZhciBkO2EuYS5nZXRCb29sKCJ3d3dfdmlkZW9zX2V4dGVuZGVkX3NwbF9sb2dnaW5nX2Zvcl9jb25uZWN0ZWRfdHYiLCExKSYmYS5sJiYoZD1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJzdHJlYW1fdmlkZW9fc291cmNlX2JlZ2luX3BsYXliYWNrIikpO2lmKGI9TWYoYSxiKSlkZyhhLGIpLGZnKGEsYi5zdGFydCxiLmVuZCxiLmxhc3QsYi5aYSk7MCE9Yz8oYz1hLnZpZGVvLmN1cnJlbnRUaW1lK2MsYS5hLmdldE51bWJlcigid3d3X3ZpZGVvc19udWRnZV90aW1lc3RhbXBfY29ycmVjdGlvbl9zIiwwKSYmKGMrPWEuYS5nZXROdW1iZXIoInd3d192aWRlb3NfbnVkZ2VfdGltZXN0YW1wX2NvcnJlY3Rpb25fcyIsMCkpLGEudmlkZW8uY3VycmVudFRpbWU9YyxhLkQ9Yyk6YS5lYyYmYiYmKGM9ZWcoYSxiKSxNYXRoLmFicyhjLWEudmlkZW8uY3VycmVudFRpbWUpPj1hLmRjJiYoYS52aWRlby5jdXJyZW50VGltZT1jKSk7YS5hLmdldEJvb2woInVuaWZ5X3N0cmVhbV9zdGFydF93aXRoX2J1ZmZlcl9kZXRlY3RvciIsCiExKT8oYz15KHt0eXBlOiJhbGxTdHJlYW1zU3RhcnRlZCIsYnViYmxlczohMH0pLGEuZGlzcGF0Y2hFdmVudChjKSk6YS52aWRlby5wbGF5YmFja1JhdGU9YS5rYzthLmIuYiYmbnVsbCE9YS5iLmMmJktmKGEsMCk7bWcoYSk7YS5zYS5yZXNvbHZlKCk7ZCYmZC5sb2coKX0KZnVuY3Rpb24gZWcoYSxiKXt2YXIgYz1iLmVuZDt2b2lkIDAhPT1iLkJjJiYoYz1iLkJjKTtpZihhLmEuZ2V0Qm9vbCgidGVtcGxhdGVkX2Fsd2F5c19qdW1wX3RvX3N0cmVhbV9saW1pdHNfZW5kIiwhMSkmJmEuYiYmYS5iLmYpcmV0dXJuIGIuZW5kO2lmKGEuY2Mpe3ZhciBkPWEudmlkZW8uY3VycmVudFRpbWUsZT1iLnN0YXJ0O2lmKGEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9hZGp1c3Rfc3RyZWFtX2xpbWl0c19zdGFydF9vZmZzZXRfaW50IiwwKSYmYS5iJiZhLmIuZil7Zm9yKHZhciBmPUhmKGEpLGc9MCxoPTA7aDxmLmxlbmd0aDsrK2gpe3ZhciBrPWZbaF0sbD1NYXRoLm1pbihhLmEuZ2V0TnVtYmVyKCJ0ZW1wbGF0ZWRfYWRqdXN0X3N0cmVhbV9saW1pdHNfc3RhcnRfb2Zmc2V0X2ludCIsMCksay5sZW5ndGgoKSk7ay5sZW5ndGgoKSYmMDxsJiZsPD1rLmxlbmd0aCgpJiYoZz1NYXRoLm1heChrLmdldChrLmxlbmd0aCgpLWwpLnN0YXJ0VGltZSxnKSl9ZT1NYXRoLm1heChlLApnKX1pZihkPj1lJiZkPD1iLmVuZCYmZDxjKWlmKGEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9qdW1wX3RvX2xpdmVfc2lkeF9lbmRfb2Zmc2V0IiwwKSYmYS5iJiZhLmIuZil7Zj1IZihhKTtrPW51bGw7ZT1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7Zm9yKGg9MDtoPGYubGVuZ3RoOysraClmW2hdLmxlbmd0aCgpPGUmJihlPWZbaF0ubGVuZ3RoKCksaz1mW2hdKTtrJiZlPmEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9qdW1wX3RvX2xpdmVfc2lkeF9lbmRfb2Zmc2V0IiwwKSYmKGY9ay5nZXQoay5sZW5ndGgoKS1hLmEuZ2V0TnVtYmVyKCJ0ZW1wbGF0ZWRfanVtcF90b19saXZlX3NpZHhfZW5kX29mZnNldCIsMCkpLnN0YXJ0VGltZSxkPj1mJiYoYz1kKSl9ZWxzZSBjPWR9cmV0dXJuIGN9CmZ1bmN0aW9uIGRnKGEsYil7aWYoYS5iLmIpaXNOYU4oYS5pLmR1cmF0aW9uKSYmKGEuaS5kdXJhdGlvbj1iLmVuZCsyNTkyRTMpO2Vsc2UgaWYoaXNOYU4oYS5pLmR1cmF0aW9uKXx8Yi5lbmQ+YS5pLmR1cmF0aW9uKWlmKGEuaS5kdXJhdGlvbj1iLmVuZCwhYS5hLmdldEJvb2woImRpc2FibGVfYXBwZW5kX3dpbmRvd19lbmQiLCExKSlmb3IodmFyIGM9YS5hLmdldE51bWJlcigiYXBwZW5kX3dpbmRvd19lbmRfZnVkZ2VfZmFjdG9yIiwwKSxkPTA7ZDxhLmkuc291cmNlQnVmZmVycy5sZW5ndGg7KytkKWEuaS5zb3VyY2VCdWZmZXJzW2RdLmFwcGVuZFdpbmRvd0VuZD1iLmVuZCtjfQpuLnJkPWZ1bmN0aW9uKCl7dGhpcy5rYT1udWxsO21nKHRoaXMpO3ZhciBhPU1mKHRoaXMsSGYodGhpcykpO2lmKGEpe3ZhciBiPXRoaXMuYi5iO3RoaXMuYS5nZXRCb29sKCJ0cmVhdF9saXZlX3N0YXRpY19tYW5pZmVzdF9hc19keW5hbWljIiwhMSkmJihiPWJ8fHRoaXMuYi5oKTtiJiZ0aGlzLmphIT1hLmxhc3QmJih0aGlzLmphPWEubGFzdCxudWxsIT10aGlzLmomJihjbGVhclRpbWVvdXQodGhpcy5qKSx0aGlzLmo9bnVsbCkpO2ZnKHRoaXMsYS5zdGFydCxhLmVuZCxhLmxhc3QsYS5aYSk7dGhpcy52aWRlby5wYXVzZWR8fG5nKHRoaXMsdGhpcy52aWRlby5jdXJyZW50VGltZSxhLnN0YXJ0LGEuZW5kKX19O2Z1bmN0aW9uIGZnKGEsYixjLGQsZSl7Yj15KHt0eXBlOiJzZWVrcmFuZ2VjaGFuZ2VkIixidWJibGVzOiEwLHN0YXJ0OmIsZW5kOmMsbGFzdDpkLHNlZWtSYW5nZUdhcHM6ZX0pO2EuZGlzcGF0Y2hFdmVudChiKX0Kbi5tZD1mdW5jdGlvbigpe3ZhciBhPXRoaXMudmlkZW8uY3VycmVudFRpbWUsYj1NZih0aGlzLEhmKHRoaXMpKTt0aGlzLmwmJmImJmE8Yi5zdGFydCYmQmFuemFpT0RTLmJ1bXBFbnRpdHlLZXkoMjk2NiwidmlkZW9zLnd3dy5zaGFrYSIsImN1cnJlbnRfdGltZV9hdF9zZWVrX2xlc3NfdGhhbl9zdHJlYW1fbGltaXRzX3N0YXJ0Iik7aWYobnVsbCE9dGhpcy5EKXtpZihhPj10aGlzLkQtLjAxJiZhPD10aGlzLkQrLjAxKXt0aGlzLkQ9bnVsbDt0aGlzLmwmJmImJmE8Yi5zdGFydCYmQmFuemFpT0RTLmJ1bXBFbnRpdHlLZXkoMjk2NiwidmlkZW9zLnd3dy5zaGFrYSIsImlnbm9yZWRfc2Vla193aGVuX2N1cnJlbnRfdGltZV9hdF9zZWVrX2xlc3NfdGhhbl9zdHJlYW1fbGltaXRzX3N0YXJ0Iik7cmV0dXJufXRoaXMuRD1udWxsfWlmKGIpe3ZhciBjPWIuc3RhcnQsZD1iLmVuZDt0aGlzLmEuZ2V0Qm9vbCgic2tpcF9yZW1haW5pbmdfYnVmZmVyZWRfb25fc3RyZWFtX2VuZCIsITEpJiZ0aGlzLmIuYiYmCnRoaXMuYi5oJiZ0aGlzLnZpZGVvLnBhdXNlZCYmKGQ9dGhpcy5qYSk7KGM9bmcodGhpcyxhLGMsZCkpfHwoYTw9ZCsuMDF8fHRoaXMuYi5iJiYhb2codGhpcyxkKT9jPSExOih0aGlzLnZpZGVvLmN1cnJlbnRUaW1lPWQsYz0hMCkpO2lmKGMpdGhpcy5sJiZhPGIuc3RhcnQmJkJhbnphaU9EUy5idW1wRW50aXR5S2V5KDI5NjYsInZpZGVvcy53d3cuc2hha2EiLCJjbGFtcF9wbGF5aGVhZF93aGVuX2N1cnJlbnRfdGltZV9hdF9zZWVrX2xlc3NfdGhhbl9zdHJlYW1fbGltaXRzX3N0YXJ0Iik7ZWxzZXtmb3IodmFyIGUgaW4gdGhpcy5jKXRoaXMuY1tlXS5DYyh0aGlzLkVhKTt0aGlzLkVhPSExfX19O2Z1bmN0aW9uIG5nKGEsYixjLGQpe2lmKGI+PWMtLjAxKXJldHVybiExO2I9MDthLmIuYiYmKGI9LjUsb2coYSxjK2IpfHwoYj1hLmIuZykpO2EudmlkZW8uY3VycmVudFRpbWU9TWF0aC5taW4oYytiLGQpO3JldHVybiEwfQpmdW5jdGlvbiBvZyhhLGIpe2Zvcih2YXIgYyBpbiBhLmMpaWYoIWEuY1tjXS5JYyhiKSlyZXR1cm4hMTtyZXR1cm4hMH1uLm9kPWZ1bmN0aW9uKCl7aWYoIXRoaXMuYi5ifHx0aGlzLkZhKXtmb3IodmFyIGEgaW4gdGhpcy5jKWlmKCF0aGlzLmNbYV0uZmIoKSlyZXR1cm47dGhpcy5lYigpfX07bi5wZD1mdW5jdGlvbigpe2NsZWFyVGltZW91dCh0aGlzLnUpO3RoaXMuRmE9ITA7Zm9yKHZhciBhIGluIHRoaXMuYyl0aGlzLmNbYV0uZmIoKXx8dGhpcy5jW2FdLkNiKCl9O24uamQ9ZnVuY3Rpb24oKXt0aGlzLmEuZ2V0Qm9vbCgiaWdub3JlX3NlZWtfd2hlbl9udWRnaW5nIiwhMCkmJih0aGlzLkQ9dGhpcy52aWRlby5jdXJyZW50VGltZSk7dGhpcy52aWRlby5jdXJyZW50VGltZSs9LjAwMX07Cm4udGI9ZnVuY3Rpb24oKXtpZih0aGlzLmFjKCl8fHRoaXMuYmMoKSlyZXR1cm4hMDt2YXIgYT10aGlzLmIsYj1udWxsLGM9bnVsbDthJiZhLmEmJmEuYVswXSYmKGI9YS5hWzBdKTtiJiZiLmEmJmIuYVswXSYmKGM9Yi5hWzBdKTtyZXR1cm4hIWMmJmMuYn07WS5wcm90b3R5cGUuaGFzSW5saW5lZENlYTYwOFN1YnRpdGxlcz1ZLnByb3RvdHlwZS50YjtZLnByb3RvdHlwZS5QYj1mdW5jdGlvbihhKXt0aGlzLm5jPWE7dmFyIGI9dGhpcy5jOyJ2aWRlbyJpbiBiJiYoYT1hJiZ0aGlzLnRiKCksYi52aWRlby5jLlM9YSl9O1kucHJvdG90eXBlLnNldEVuYWJsZUNlYTYwOFBhcnNpbmc9WS5wcm90b3R5cGUuUGI7CmZ1bmN0aW9uIHNmKGEpe3ZhciBiPWEuYS5nZXROdW1iZXIoImxpdmVfYnVmZmVyaW5nX3VuZGVyZmxvd190aHJlc2hvbGQiLC41KSxjPWEuYS5nZXRCb29sKCJmaXhfbGl2ZV9zdHJlYW1fZ29uZV9vbl9tYW5pZmVzdF91cGRhdGUiLCEwKSYmYS5oYyxkPSExO2lmKGEuYi5oKXt2YXIgZD1hLmEuZ2V0TnVtYmVyKCJsaXZlX3N0cmVhbV9lbmRfc2xhY2siLDApLGU7Zm9yKGUgaW4gYS5jKWEuY1tlXS5mYigpfHwoZD0wKTtkPWEudmlkZW8uY3VycmVudFRpbWUrYitkPmEuamF9cmV0dXJuIGN8fGR9bj1ZLnByb3RvdHlwZTsKbi5jZD1mdW5jdGlvbigpe3RoaXMuJD0hMDtpZih0aGlzLmImJnRoaXMuYi5iKXtpZihzZih0aGlzKSlyZXR1cm4gdGhpcy5lYigpO3RoaXMuYS5nZXRCb29sKCJhbGxvd19pbmZpbml0ZV9yZXRyeV9vbl9uZXRfZXJyIiwhMCkmJnRoaXMuRy5pc05ldHdvcmtJbnRlcnJ1cHRlZCgpfHwhV2EodGhpcy5jKS5ldmVyeShmdW5jdGlvbihhKXtyZXR1cm4gYS5mYigpfSl8fHBnKHRoaXMsdGhpcy5nYil9dGhpcy5hLmdldEJvb2woImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvdyIsITEpJiYobnVsbD09PXRoaXMuS3x8RGF0ZS5ub3coKS10aGlzLmZjPnRoaXMuYS5nZXROdW1iZXIoImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvd190aW1lX3dpbmRvdyIsMkUzKT90aGlzLks9dGhpcy5hLmdldE51bWJlcigiYnVmZmVyaW5nX292ZXJmbG93X3RocmVzaG9sZCIsMCk6dGhpcy5LKj10aGlzLmEuZ2V0TnVtYmVyKCJiYWNrX29mZl9idWZmZXJpbmdfb3ZlcmZsb3dfdGltZV9mYWN0b3IiLDIpLAp0aGlzLks9TWF0aC5taW4odGhpcy5LLHRoaXMuYS5nZXROdW1iZXIoImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvd19tYXgiLDUpKSl9O2Z1bmN0aW9uIHBnKGEsYil7YS5qPXNldFRpbWVvdXQoYS5lYi5iaW5kKGEpLGIpfW4uYmQ9ZnVuY3Rpb24oKXt0aGlzLiQ9ITE7dGhpcy5hLmdldEJvb2woImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvdyIsITEpJiYodGhpcy5mYz1EYXRlLm5vdygpKTtudWxsIT10aGlzLmomJihjbGVhclRpbWVvdXQodGhpcy5qKSx0aGlzLmo9bnVsbCl9O24uZ2Q9ZnVuY3Rpb24oKXtudWxsIT09dGhpcy5iYSYmKGJnKHRoaXMsdGhpcy5iYSksY2codGhpcyxudWxsKSl9O24uR2Q9ZnVuY3Rpb24oKXt9OwpuLmViPWZ1bmN0aW9uKCl7dGhpcy4kPSExO3RoaXMuaj1udWxsO3ZhciBhO2lmKGE9dGhpcy5hLmdldEJvb2woInRlc3Rfc291cmNlX2J1ZmZlcnNfbm90X3VwZGF0aW5nX2VuZF9vZl9zdHJlYW0iLCExKSlhOntmb3IoYT0wO2E8dGhpcy5pLnNvdXJjZUJ1ZmZlcnMubGVuZ3RoOysrYSlpZih0aGlzLmkuc291cmNlQnVmZmVyc1thXS51cGRhdGluZyl7YT0hMDticmVhayBhfWE9ITF9aWYoYSlyZXR1cm4gcGcodGhpcywxRTMpOyJvcGVuIj09dGhpcy5pLnJlYWR5U3RhdGUmJnRoaXMuaS5lbmRPZlN0cmVhbSgpfTtmdW5jdGlvbiBIZihhKXtyZXR1cm4gV2EoYS5jKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuRmIoKX0pLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YX0pfWZ1bmN0aW9uIExmKGEpe3JldHVybiBNYXRoLm1heChhLmI/YS5iLmc6MSxhLlpiP2EuZy5zdHJlYW1CdWZmZXJTaXplfHwwOjApfQpmdW5jdGlvbiBNZihhLGIpe2Zvcih2YXIgYz0wLGQ9TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLGU9TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLGY9W10sZz0hVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJub19zZWVrX3JhbmdlX2dhcHNfZHVyaW5nX2NvbXB1dGVfc3RyZWFtX2xpbWl0cyIsITEpLGg9MDtoPGIubGVuZ3RoOysraCl7dmFyIGs9YltoXS5BKCk7ZyYmKGY9Zi5jb25jYXQoYltoXS5nZXRTZWVrUmFuZ2VHYXBzKCkpKTtjPU1hdGgubWF4KGMsay5zdGFydCk7bnVsbCE9ay5lbmQmJihkPU1hdGgubWluKGQsay5lbmQpKTtiW2hdLmxlbmd0aCgpJiYoZT1NYXRoLm1pbihlLGJbaF0ubGFzdCgpLmVuZFRpbWUpKX1nJiYoZj1tZXJnZVNlZWtSYW5nZUdhcHMoZikpO2lmKGQ9PU51bWJlci5QT1NJVElWRV9JTkZJTklUWSlpZihkPWEuYi5hWzBdLGQuZHVyYXRpb24pZD0oZC5zdGFydHx8MCkrZC5kdXJhdGlvbjtlbHNlIHJldHVybiBudWxsO2lmKGEuYi5iKXt2YXIgZz0KTGYoYSksZD1NYXRoLm1heChkLWcsYyksbDthLnJhJiZhLmEuZ2V0Qm9vbCgibGl2ZV9qdW1wX3RvX3B1c2hlZF9zZWdtZW50IiwhMSkmJmIubGVuZ3RoJiYoaD1NYXRoLmZsb29yKExmKGEpLzEpKzEsZz1iWzBdLGg9Zy5sZW5ndGgoKS1oLChnPWcuZ2V0KGgpKSYmKGw9Zy5zdGFydFRpbWUpKX1pZihjPmQpcmV0dXJuIG51bGw7ZD1NYXRoLmZsb29yKDFFNSpkKS8xRTU7cmV0dXJue3N0YXJ0OmMsZW5kOmQsbGFzdDplLFphOmYsQmM6bH19bi5uYj1mdW5jdGlvbigpe3JldHVybiBNZih0aGlzLEhmKHRoaXMpKX07WS5wcm90b3R5cGUuY29tcHV0ZVN0cmVhbUxpbWl0cz1ZLnByb3RvdHlwZS5uYjtmdW5jdGlvbiBtZyhhKXthLmIuYiYmKGEua2E9c2V0VGltZW91dChhLnJkLmJpbmQoYSksMUUzKSl9ZnVuY3Rpb24gRGYoYSl7Zm9yKHZhciBiIGluIGEuYylhLmNbYl0ucGEoYS5nKX1ZLnByb3RvdHlwZS5zYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLkJifTsKWS5wcm90b3R5cGUuZ2V0TG9uZ2VzdEluaXRSZXNwb25zZVRpbWU9WS5wcm90b3R5cGUuc2I7ZnVuY3Rpb24gWmYoYSl7cmV0dXJuInYiPT09YS5jaGFyQXQoMCk/InZpZGVvIjoiYSI9PT1hLmNoYXJBdCgwKT8iYXVkaW8iOm51bGx9WS5wcm90b3R5cGUuVGM9ZnVuY3Rpb24oKXt2YXIgYT15KHt0eXBlOiJuZXR3b3JraW50ZXJydXB0ZWQiLGJ1YmJsZXM6ITB9KTt0aGlzLmRpc3BhdGNoRXZlbnQoYSk7dGhpcy5UPXRoaXMuVHx8RGF0ZS5ub3coKTt0aGlzLiQmJnRoaXMuaiYmY2xlYXJUaW1lb3V0KHRoaXMuail9OwpZLnByb3RvdHlwZS5VYz1mdW5jdGlvbigpe3ZhciBhPXkoe3R5cGU6Im5ldHdvcmtyZXN1bWVkIixidWJibGVzOiEwfSk7dGhpcy5kaXNwYXRjaEV2ZW50KGEpO2E9dGhpcy5hLmdldE51bWJlcigibWF4X25ldHdvcmtfaW50ZXJydXB0ZWRfdGltZV9iZWZvcmVfc2VlayIsMUU0KTtudWxsIT09dGhpcy5UJiZEYXRlLm5vdygpLXRoaXMuVD49YSYmKHRoaXMuVD1udWxsLHRoaXMuZWE9ITApO3RoaXMuYS5nZXRCb29sKCJmaXhfbmV0d29ya19pbnRlcnJ1cHRlZF9zdGFydF9ub3RfbnVsbGVkIiwhMSkmJih0aGlzLlQ9bnVsbCk7dGhpcy4kJiZwZyh0aGlzLHRoaXMuZ2IpfTtZLnByb3RvdHlwZS5WYz1mdW5jdGlvbigpe3RoaXMuZWE9ITB9O2Z1bmN0aW9uIFBmKGEpe2EuYS5nZXRCb29sKCJkZWNvdXBsZV9tcGRfdXBkYXRlX2xvb3BfZnJvbV9yZXF1ZXN0X2xvb3AiLCExKXx8S2YoYSwwKX1ZLnByb3RvdHlwZS5xYz1mdW5jdGlvbihhKXt0aGlzLm5hPWF9OwpZLnByb3RvdHlwZS5zZXRFbmFibGVMaXZlaGVhZENhdGNodXA9WS5wcm90b3R5cGUucWM7WS5wcm90b3R5cGUuemQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uYX07WS5wcm90b3R5cGUuaXNMaXZlaGVhZENhdGNodXBFbmFibGVkPVkucHJvdG90eXBlLnpkO1kucHJvdG90eXBlLlNjPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYy52aWRlbz90aGlzLmMudmlkZW8uYy5pOm51bGx9O1kucHJvdG90eXBlLmdldFZpZGVvU3RyZWFtUHJvZ3Jlc3NUcmFja2VyPVkucHJvdG90eXBlLlNjO1kucHJvdG90eXBlLnFiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYy52aWRlbz90aGlzLmMudmlkZW8ucWIoKTpudWxsfTtZLnByb3RvdHlwZS5nZXRCdWZmZXJWZWxvY2l0eT1ZLnByb3RvdHlwZS5xYjtmdW5jdGlvbiBSZihhLGIpe2Zvcih2YXIgYyBpbiBhLmMpYS5jW2NdLm5hPWJ9CmZ1bmN0aW9uIGlnKGEpe3ZhciBiPVtdO2lmKG51bGwhPT1hLmNhKXt2YXIgYz1hLmNhLGQ7Zm9yKGQgaW4gYS5jKWIucHVzaChyZShhLmNbZF0sYS5jYSkpO1Byb21pc2UuYWxsKGIpLnRoZW4oSihhLGZ1bmN0aW9uKCl7aWYoYyl7Zm9yKHZhciBhIGluIHRoaXMuYyl7dmFyIGI9dGhpcy5jW2FdO2IuSz1udWxsO2IuVj0hMTtiLkk9bnVsbH1jPnRoaXMudmlkZW8uY3VycmVudFRpbWUmJih0aGlzLnZpZGVvLmN1cnJlbnRUaW1lPWMpfX0pKX1hLmNhPW51bGx9O2Z1bmN0aW9uIFooYSxiLGMsZCxlLGYsZyl7ZHx8KGQ9bmV3IEcpO2V8fChlPW5ldyBYKTtZLmNhbGwodGhpcyxudWxsLGIsZCxlKTsic3RyaW5nIj09PXR5cGVvZiBhP3RoaXMuamM9YTp0aGlzLk5iPWE7dGhpcy5hPWI7dGhpcy5GPW51bGw7dGhpcy50YT1jO3RoaXMuRGE9W107dGhpcy5RYj1bXTt0aGlzLlJiPVtdO3RoaXMuSGE9MDt0aGlzLlk9bnVsbDt0aGlzLk1iPWd8fG51bGx9cihaLFkpO3EoInNoYWthLnBsYXllci5EYXNoVmlkZW9Tb3VyY2UiLFopO1oucHJvdG90eXBlLkpkPWZ1bmN0aW9uKGEpe3RoaXMuRj1hO3RoaXMuSmIoITAsITApfTtaLnByb3RvdHlwZS51cGRhdGVNYW5pZmVzdD1aLnByb3RvdHlwZS5KZDtaLnByb3RvdHlwZS5PYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLk5ifHx0aGlzLkZ9O1oucHJvdG90eXBlLmdldE1hbmlmZXN0PVoucHJvdG90eXBlLk9iO1oucHJvdG90eXBlLlRiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuT2IoKX07CloucHJvdG90eXBlLmRlYnVnR2V0TWFuaWZlc3Q9Wi5wcm90b3R5cGUuVGI7Wi5wcm90b3R5cGUuWmM9ZnVuY3Rpb24oYSxiLGMpe3RoaXMuRGEucHVzaChhKTt0aGlzLlFiLnB1c2goYnx8IiIpO3RoaXMuUmIucHVzaChjfHwiIil9O1oucHJvdG90eXBlLmFkZEV4dGVybmFsQ2FwdGlvbnM9Wi5wcm90b3R5cGUuWmM7Wi5wcm90b3R5cGUudGQ9ZnVuY3Rpb24oYSl7dGhpcy5ZPWF9O1oucHJvdG90eXBlLnNldE5ldHdvcmtDYWxsYmFjaz1aLnByb3RvdHlwZS50ZDtaLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5GPXRoaXMuWT10aGlzLnRhPW51bGw7WS5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpfTsKWi5wcm90b3R5cGUud2I9ZnVuY3Rpb24oKXt2YXIgYTt0aGlzLmwmJihhPXRoaXMubC5nZXRPcGVyYXRpb25Mb2dnZXIoInNvdXJjZV9sb2FkIikuc3RhcnQoKSk7dmFyIGIsYz1KKHRoaXMsZnVuY3Rpb24oYSl7aWYodGhpcy5hLmdldEJvb2woImVuYWJsZV9kb3VibGVfaW5nZXN0X29uX2luaXRpYWxfbXBkIiwhMSkpc3dpdGNoKGEuc3RhdHVzKXtjYXNlIDIwMDpjYXNlIDQxNzppZihhLnJlc3BvbnNlSGVhZGVycyYmbnVsbCE9YS5yZXNwb25zZUhlYWRlcnNbIngtZmItdmlkZW8tcmVwbGljYSJdKXJldHVybiB0aGlzLmRpc3BhdGNoRXZlbnQoeSh7dHlwZToicmVwbGljYXN3aXRjaCIsYnViYmxlczohMCxyZXBsaWNhOmEucmVzcG9uc2VIZWFkZXJzWyJ4LWZiLXZpZGVvLXJlcGxpY2EiXX0pKSxuZXcgUHJvbWlzZShmdW5jdGlvbigpe30pfXRocm93IGE7fSksZD1KKHRoaXMsZnVuY3Rpb24oYyl7dGhpcy5MYSgiTVBERmV0Y2hEdXJhdGlvbiIsKERhdGUubm93KCktYikvMUUzKTt0aGlzLkY9CmM7Zm9yKHZhciBkPTA7ZDx0aGlzLkRhLmxlbmd0aDtkKyspTGMoYyx0aGlzLkRhW2RdLHRoaXMuUWJbZF0sdGhpcy5SYltkXSk7dmFyIGQ9bmV3IHllKHRoaXMuYSx0aGlzLnRhLHRoaXMubCx0aGlzLk1iKSxlO3RoaXMubCYmKGU9dGhpcy5sLmdldE9wZXJhdGlvbkxvZ2dlcigicHJvY2Vzc19tYW5pZmVzdCIpLnN0YXJ0KCkpO3RoaXMuYj16ZShkLGMsdGhpcy5ZKTtlJiZlLmxvZygpO2EmJmEuc2V0TWFuaWZlc3RUeXBlKHRoaXMuYi5iPyJkeW5hbWljIjoic3RhdGljIik7cmV0dXJuIFkucHJvdG90eXBlLndiLmNhbGwodGhpcykudGhlbihmdW5jdGlvbigpe2EmJmEubG9nKCl9KX0pO2lmKHRoaXMuTmIpcmV0dXJuIGI9RGF0ZS5ub3coKSxkKHRoaXMuTmIpO3ZhciBlPVtuZXcgTCh0aGlzLmpjKV0sZjtpZih0aGlzLnJhKXt2YXIgZz1uZXcgVmlkZW9QdXNoUGFyYW1ldGVyc0hlbHBlcih0aGlzLmpjKTtnLnNldFN0cmVhbUVuZE9mZnNldChNYXRoLmZsb29yKExmKHRoaXMpLzEpKTsKdGhpcy5PYSYmZy5zZXRQdXNoVmlkZW9SZXByZXNlbnRhdGlvbklEKHRoaXMuT2EpO3RoaXMucGEmJmcuc2V0UHVzaEF1ZGlvUmVwcmVzZW50YXRpb25JRCh0aGlzLnBhKTt0aGlzLm1hJiZnLnNldFVzZUxvbmdDYWNoZUZvck1hbmlmZXN0KHRoaXMubWEpO2Y9bmV3IGZkKG51bGwpO2YuYT1nfWU9bmV3IEsodGhpcy5ZLGUsdm9pZCAwLHZvaWQgMCx2b2lkIDAsdGhpcy5NYik7Zj1uZXcgZGQoZSx0aGlzLkxiLGYsdGhpcy5kYSk7Yj1EYXRlLm5vdygpO3JldHVybiBlZChmLHRoaXMubCkudGhlbihkLGMpfTsKWi5wcm90b3R5cGUudmM9ZnVuY3Rpb24oKXtpZih0aGlzLlViKXt2YXIgYT10aGlzLmI7aWYoYT0oYT1hJiZhLmEpJiZhWzBdKXt2YXIgYT1hLmEucmVkdWNlKGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuY29uY2F0KGIudil9LFtdKSxiPWZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hfTtQcm9taXNlLmFsbChhLm1hcChmdW5jdGlvbihhKXthPWEuTTtyZXR1cm4gYS5RYz9hLlJhOmEuY3JlYXRlKCl9KSkudGhlbihmdW5jdGlvbihhKXthPWEuZmlsdGVyKGIpO3RoaXMuTGEoIkluaXRpYWxTZWdtZW50SW5kZXhlcyIsYSl9LmJpbmQodGhpcykpO1Byb21pc2UuYWxsKGEubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLmFhfSkpLnRoZW4oZnVuY3Rpb24oYSl7YT1hLmZpbHRlcihiKTt0aGlzLkxhKCJTZWdtZW50SW5pdFNvdXJjZXMiLGEpfS5iaW5kKHRoaXMpKX19fTsKWi5wcm90b3R5cGUueWM9ZnVuY3Rpb24oYSxiLGMpe2lmKHRoaXMudmlkZW8ucGF1c2VkJiZ0aGlzLkhhKzFFND5EYXRlLm5vdygpJiZ0aGlzLmIpcmV0dXJuIFByb21pc2UucmVqZWN0KHt0eXBlOiJkZWxheSJ9KTt2YXIgZDtpZihiJiZ2b2lkIDAhPWMpZD1uZXcgZmQoYiksZC5mPWMsYj1TZih0aGlzKSxudWxsIT1iJiYoZC5jPWIuc3RyZWFtSW5mb0lELGQuYj10aGlzLnBhKTtlbHNlIGZvcihiPWEuYyxjPTA7YzxiLmxlbmd0aDtjKyspe3ZhciBlPW5ldyBWaWRlb1B1c2hQYXJhbWV0ZXJzSGVscGVyKGJbY10udG9TdHJpbmcoKSk7dGhpcy5tYSYmZS5zZXRVc2VMb25nQ2FjaGVGb3JNYW5pZmVzdCh0aGlzLm1hKTtiW2NdPW5ldyBMKGUuZ2V0VVJMKCkpfWE9bmV3IGRkKGEsdGhpcy5MYixkLHRoaXMuZGEpO3ZhciBmPURhdGUubm93KCk7cmV0dXJuIGVkKGEsdGhpcy5sKS50aGVuKEoodGhpcyxmdW5jdGlvbihhKXt0aGlzLkhhPURhdGUubm93KCk7dGhpcy5MYSgiTVBERmV0Y2hEdXJhdGlvbiIsCih0aGlzLkhhLWYpLzFFMyk7dGhpcy5hLmdldEJvb2woInRyZWF0X2xpdmVfc3RhdGljX21hbmlmZXN0X2FzX2R5bmFtaWMiLCExKSYmKGEubWFuaWZlc3RJc0xpdmVTdHJlYW1pbmc9ImR5bmFtaWMiPT09KHRoaXMuRj90aGlzLkYudHlwZTphLnR5cGUpKTt0aGlzLkY9YTt2YXIgYj1uZXcgeWUodGhpcy5hLHRoaXMudGEsdGhpcy5sLHRoaXMuTWIpO2lmKHRoaXMubCl2YXIgYz10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJwcm9jZXNzX21hbmlmZXN0Iikuc3RhcnQoKTthPXplKGIsYSx0aGlzLlkpO2MmJmMubG9nKCk7cmV0dXJuIFByb21pc2UucmVzb2x2ZShhKX0pKX07Wi5wcm90b3R5cGUueGM9ZnVuY3Rpb24oKXt2YXIgYT16ZShuZXcgeWUodGhpcy5hLHRoaXMudGEpLHRoaXMuRix0aGlzLlkpO3JldHVybiBQcm9taXNlLnJlc29sdmUoYSl9O30uYmluZChnLCBnbG9iYWwpKSgpOwoKbW9kdWxlLmV4cG9ydHMgPSBnLnNoYWthOwoKCi8qICAqL30pLG51bGwpOwovLyMgc291cmNlVVJMPWZiOGIxNmM4YjU3NjdkNTE4ODYwZGFiMjgzMGM1MGYyLmpzCg==, line 416: Error: The manifest specifies content that cannot be displayed on this browser/platform.
1578565599414	Marionette	INFO	Stopped listening on port 43053
[Parent 22622, Gecko_IOThread] WARNING: pipe error (83): Connection reset by peer: file /build/firefox-kECWsf/firefox-71.0+build5/ipc/chromium/src/chrome/common/ipc_channel_posix.cc, line 358
1578565886803	mozrunner::runner	INFO	Running command: "/usr/bin/firefox" "-marionette" "-foreground" "-no-remote" "-profile" "/tmp/rust_mozprofileuyq9e5"
1578565887286	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: mozillaAddons
1578565887286	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: telemetry
1578565887286	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: resource://pdf.js/
1578565887286	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: about:reader*
1578565889192	Marionette	INFO	Listening on port 42341
1578565889213	Marionette	WARN	TLS certificate errors will be ignored for this session
1578565900398	Marionette	WARN	TimedPromise timed out after 5000 ms: stacktrace:
bail@chrome://marionette/content/sync.js:237:64
1578565901021	Marionette	WARN	TimedPromise timed out after 500 ms: stacktrace:
bail@chrome://marionette/content/sync.js:237:64
JavaScript error: data:application/x-javascript;charset=utf-8;base64,aWYgKHNlbGYuQ2F2YWxyeUxvZ2dlcikgeyBDYXZhbHJ5TG9nZ2VyLnN0YXJ0X2pzKFsiKzRzV3kiXSk7IH0KLyoqCiAqIEBwcm92aWRlc01vZHVsZSBTaGFrYQogKiBAcHJlc2VydmUtd2hpdGVzcGFjZQogKiBAbm9wYWNrYWdlCiAqIEBnZW5lcmF0ZWQKICovCl9fZCgiU2hha2EiLFsiUHJvbWlzZSIsIkV2ZW50TGlzdGVuZXIiLCJWaWRlb1BsYXllclNoYWthUGVyZm9ybWFuY2VMb2dnZXIiLCJWaWRlb1B1c2hQYXJhbWV0ZXJzSGVscGVyIiwiVGltZVNsaWNlIiwiVmlkZW9QbGF5ZXJMb2NhbEJhbmR3aWR0aEVzdGltYXRvciIsIlZpZGVvUGxheWVyUmVzb3VyY2VUaW1lciIsIlNoYWthU2VnbWVudFJlZmVyZW5jZUhlbHBlciIsIlNlZ21lbnRSZXF1ZXN0TWFuYWdlciIsImNvbmNhdEFycmF5QnVmZmVyIiwiQnVmZmVyUmVwbGFjZW1lbnRIZWxwZXIiLCJsb2dMb25nQWthbWFpUmVxdWVzdCIsInRocm90dGxlIiwiVmlld3BvcnRQcmlvcml0eUFkanVzdGVyIiwiRmlyc3RMb2FkZWRWaWRlb1ByaW9yaXR5QWRqdXN0ZXIiLCJWaWRlb1ByaW9yaXR5Q2FsY3VsYXRvciIsIlZpZGVvU3RyZWFtaW5nTWFuYWdlciIsIk11bHRpcGxlU2VnbWVudHNQcm92aWRlciIsIkxvY2FsQml0cmF0ZUhlbHBlciIsIlVuaXRDb25zdGFudHMiLCJCdWZmZXJWZWxvY2l0eSIsIlZpZGVvUGxheWVyQml0cmF0ZUVzdGltYXRvciIsIlZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWciLCJnZXRTZWVrUmFuZ2VHYXBzRnJvbVNoYWthUmVmZXJlbmNlcyIsIm1lcmdlU2Vla1JhbmdlR2FwcyIsIk5ldHdvcmtTdGF0dXNEZXRlY3RvciIsIk1vc1V0aWxzIiwiQmFuemFpT0RTIiwiVmlkZW9EYXNoUHJlZmV0Y2hDYWNoZSIsIlZpZGVvQ2xpZW50RWRnZUNvb3BlcmF0aW9uIiwiVmlkZW9TdHJlYW1pbmdUYXNrUXVldWVQcm92aWRlciIsIkJpbmFyeVNlYXJjaCIsIlNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscyIsImdreCIsInNldFRpbWVvdXRBY3Jvc3NUcmFuc2l0aW9ucyIsInNldFRpbWVvdXQiLCJzZXRJbnRlcnZhbEFjcm9zc1RyYW5zaXRpb25zIiwic2V0SW50ZXJ2YWwiLCJzZXRJbW1lZGlhdGVBY3Jvc3NUcmFuc2l0aW9ucyIsInNldEltbWVkaWF0ZSIsImNsZWFyVGltZW91dCIsImNsZWFySW50ZXJ2YWwiLCJjbGVhckltbWVkaWF0ZSIsImRpc3BhdGNoRXZlbnQiLCJFdmVudExpc3RlbmVyIiwiRXZlbnQiLCJleHRyYWN0Q0VBNjA4IiwicGVyZm9ybWFuY2VOb3ciLCJwYXJzZUhlYWRlcnMiLCJjYW5Vc2VGZXRjaFN0cmVhbSIsIlN1YnNjcmlwdGlvbnNIYW5kbGVyIiwiVmlkZW9QdXNoVHJhY2tlciJdLChmdW5jdGlvbiAkbW9kdWxlX1NoYWthKGdsb2JhbCxyZXF1aXJlLHJlcXVpcmVEeW5hbWljLHJlcXVpcmVMYXp5LG1vZHVsZSxleHBvcnRzKXsKCi8vIHJ1biBgYXJjIHJlYnVpbGQgc2hha2EtcGxheWVyYCB0byByZWdlbmVyYXRlIFNoYWthLmpzIGFmdGVyIG1vZGlmeWluZyB0aGlzCi8vIGZpbGUKCnZhciBQcm9taXNlID0gcmVxdWlyZSgnUHJvbWlzZScpOwp2YXIgRXZlbnRMaXN0ZW5lciA9IHJlcXVpcmUoJ0V2ZW50TGlzdGVuZXInKTsKdmFyIFZpZGVvUGxheWVyU2hha2FQZXJmb3JtYW5jZUxvZ2dlciA9IHJlcXVpcmUoJ1ZpZGVvUGxheWVyU2hha2FQZXJmb3JtYW5jZUxvZ2dlcicpOwp2YXIgVmlkZW9QdXNoUGFyYW1ldGVyc0hlbHBlciA9IHJlcXVpcmUoJ1ZpZGVvUHVzaFBhcmFtZXRlcnNIZWxwZXInKTsKdmFyIFRpbWVTbGljZSA9IHJlcXVpcmUoJ1RpbWVTbGljZScpOwp2YXIgVmlkZW9QbGF5ZXJMb2NhbEJhbmR3aWR0aEVzdGltYXRvciA9IHJlcXVpcmUoJ1ZpZGVvUGxheWVyTG9jYWxCYW5kd2lkdGhFc3RpbWF0b3InKTsKdmFyIFZpZGVvUGxheWVyUmVzb3VyY2VUaW1lciA9IHJlcXVpcmUoJ1ZpZGVvUGxheWVyUmVzb3VyY2VUaW1lcicpOwp2YXIgU2hha2FTZWdtZW50UmVmZXJlbmNlSGVscGVyID0gcmVxdWlyZSgnU2hha2FTZWdtZW50UmVmZXJlbmNlSGVscGVyJyk7CnZhciBTZWdtZW50UmVxdWVzdE1hbmFnZXIgPSByZXF1aXJlKCdTZWdtZW50UmVxdWVzdE1hbmFnZXInKTsKdmFyIGNvbmNhdEFycmF5QnVmZmVyID0gcmVxdWlyZSgnY29uY2F0QXJyYXlCdWZmZXInKTsKdmFyIEJ1ZmZlclJlcGxhY2VtZW50SGVscGVyID0gcmVxdWlyZSgnQnVmZmVyUmVwbGFjZW1lbnRIZWxwZXInKTsKdmFyIGxvZ0xvbmdBa2FtYWlSZXF1ZXN0ID0gcmVxdWlyZSgnbG9nTG9uZ0FrYW1haVJlcXVlc3QnKTsKdmFyIHRocm90dGxlID0gcmVxdWlyZSgndGhyb3R0bGUnKTsKdmFyIFZpZXdwb3J0UHJpb3JpdHlBZGp1c3RlciA9IHJlcXVpcmUoJ1ZpZXdwb3J0UHJpb3JpdHlBZGp1c3RlcicpOwp2YXIgRmlyc3RMb2FkZWRWaWRlb1ByaW9yaXR5QWRqdXN0ZXIgPSByZXF1aXJlKCdGaXJzdExvYWRlZFZpZGVvUHJpb3JpdHlBZGp1c3RlcicpOwp2YXIgVmlkZW9Qcmlvcml0eUNhbGN1bGF0b3IgPSByZXF1aXJlKCdWaWRlb1ByaW9yaXR5Q2FsY3VsYXRvcicpOwp2YXIgVmlkZW9TdHJlYW1pbmdNYW5hZ2VyID0gcmVxdWlyZSgnVmlkZW9TdHJlYW1pbmdNYW5hZ2VyJyk7CnZhciBNdWx0aXBsZVNlZ21lbnRzUHJvdmlkZXIgPSByZXF1aXJlKCdNdWx0aXBsZVNlZ21lbnRzUHJvdmlkZXInKTsKdmFyIExvY2FsQml0cmF0ZUhlbHBlciA9IHJlcXVpcmUoJ0xvY2FsQml0cmF0ZUhlbHBlcicpOwp2YXIgVW5pdENvbnN0YW50cyA9IHJlcXVpcmUoJ1VuaXRDb25zdGFudHMnKTsKdmFyIEJ1ZmZlclZlbG9jaXR5ID0gcmVxdWlyZSgnQnVmZmVyVmVsb2NpdHknKTsKdmFyIFZpZGVvUGxheWVyQml0cmF0ZUVzdGltYXRvciA9IHJlcXVpcmUoJ1ZpZGVvUGxheWVyQml0cmF0ZUVzdGltYXRvcicpOwp2YXIgVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZyA9IHJlcXVpcmUoJ1ZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcnKTsKdmFyIGdldFNlZWtSYW5nZUdhcHNGcm9tU2hha2FSZWZlcmVuY2VzID0gcmVxdWlyZSgnZ2V0U2Vla1JhbmdlR2Fwc0Zyb21TaGFrYVJlZmVyZW5jZXMnKTsKdmFyIG1lcmdlU2Vla1JhbmdlR2FwcyA9IHJlcXVpcmUoJ21lcmdlU2Vla1JhbmdlR2FwcycpOwp2YXIgTmV0d29ya1N0YXR1c0RldGVjdG9yID0gcmVxdWlyZSgnTmV0d29ya1N0YXR1c0RldGVjdG9yJyk7CnZhciBNb3NVdGlscyA9IHJlcXVpcmUoJ01vc1V0aWxzJyk7CnZhciBCYW56YWlPRFMgPSByZXF1aXJlKCdCYW56YWlPRFMnKTsKdmFyIFZpZGVvRGFzaFByZWZldGNoQ2FjaGUgPSByZXF1aXJlKCdWaWRlb0Rhc2hQcmVmZXRjaENhY2hlJyk7CnZhciBWaWRlb0NsaWVudEVkZ2VDb29wZXJhdGlvbiA9IHJlcXVpcmUoJ1ZpZGVvQ2xpZW50RWRnZUNvb3BlcmF0aW9uJyk7CnZhciBWaWRlb1N0cmVhbWluZ1Rhc2tRdWV1ZVByb3ZpZGVyID0gcmVxdWlyZSgnVmlkZW9TdHJlYW1pbmdUYXNrUXVldWVQcm92aWRlcicpOwp2YXIgQmluYXJ5U2VhcmNoID0gcmVxdWlyZSgnQmluYXJ5U2VhcmNoJyk7CnZhciBTaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMgPSByZXF1aXJlKCdTaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMnKTsKdmFyIGdreCA9IHJlcXVpcmUoJ2dreCcpOwoKdmFyIHNldFRpbWVvdXQgPSBWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woCiAgICAndGltZW91dHNfcGVyc2lzdF9vbl9wYWdlX3RyYW5zaXRpb24nLAogICAgdHJ1ZQogICkgPwogIHJlcXVpcmUoJ3NldFRpbWVvdXRBY3Jvc3NUcmFuc2l0aW9ucycpIDoKICByZXF1aXJlKCdzZXRUaW1lb3V0Jyk7CnZhciBzZXRJbnRlcnZhbCA9IFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgKICAgICd0aW1lb3V0c19wZXJzaXN0X29uX3BhZ2VfdHJhbnNpdGlvbicsCiAgICB0cnVlCiAgKSA/CiAgcmVxdWlyZSgnc2V0SW50ZXJ2YWxBY3Jvc3NUcmFuc2l0aW9ucycpIDoKICByZXF1aXJlKCdzZXRJbnRlcnZhbCcpOwp2YXIgc2V0SW1tZWRpYXRlID0gVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKAogICAgJ3RpbWVvdXRzX3BlcnNpc3Rfb25fcGFnZV90cmFuc2l0aW9uJywKICAgIHRydWUKICApID8KICByZXF1aXJlKCdzZXRJbW1lZGlhdGVBY3Jvc3NUcmFuc2l0aW9ucycpIDoKICByZXF1aXJlKCdzZXRJbW1lZGlhdGUnKTsKdmFyIGNsZWFyVGltZW91dCA9IHJlcXVpcmUoJ2NsZWFyVGltZW91dCcpOwp2YXIgY2xlYXJJbnRlcnZhbCA9IHJlcXVpcmUoJ2NsZWFySW50ZXJ2YWwnKTsKdmFyIGNsZWFySW1tZWRpYXRlID0gcmVxdWlyZSgnY2xlYXJJbW1lZGlhdGUnKTsKdmFyIGRpc3BhdGNoRG9tRXZlbnQgPSByZXF1aXJlKCdkaXNwYXRjaEV2ZW50Jyk7CnZhciBldmVudExpc3RlbmVyQ2FwdHVyZSA9IHJlcXVpcmUoJ0V2ZW50TGlzdGVuZXInKS5jYXB0dXJlOwp2YXIgZXZlbnRLaWxsID0gcmVxdWlyZSgnRXZlbnQnKS5raWxsOwp2YXIgZXh0cmFjdENFQTYwOCA9IHJlcXVpcmUoJ2V4dHJhY3RDRUE2MDgnKTsKdmFyIHBlcmZvcm1hbmNlTm93ID0gcmVxdWlyZSgncGVyZm9ybWFuY2VOb3cnKTsKdmFyIHBhcnNlSGVhZGVycyA9IHJlcXVpcmUoJ3BhcnNlSGVhZGVycycpOwp2YXIgY2FuVXNlRmV0Y2hTdHJlYW0gPSByZXF1aXJlKCdjYW5Vc2VGZXRjaFN0cmVhbScpOwp2YXIgU3Vic2NyaXB0aW9uc0hhbmRsZXIgPSByZXF1aXJlKCdTdWJzY3JpcHRpb25zSGFuZGxlcicpOwp2YXIgVmlkZW9QdXNoVHJhY2tlciA9IHJlcXVpcmUoJ1ZpZGVvUHVzaFRyYWNrZXInKTsKCmZ1bmN0aW9uIHNldEV2ZW50UHJvcGVydHkob2JqLCBuYW1lLCBoYW5kbGVyKSB7CiAgb2JqW25hbWVdID0gVGltZVNsaWNlLmd1YXJkKGhhbmRsZXIsICdzaGFrYSAnICsgbmFtZSk7Cn07CgppZiAoCiAgVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCdzaGFrYV9uYXRpdmVfcHJvbWlzZScsIGZhbHNlKSAmJgogIFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgndXNlX25hdGl2ZV9wcm9taXNlJywgdHJ1ZSkKKSB7CiAgUHJvbWlzZSA9IHdpbmRvdy5Qcm9taXNlOwp9Cgp2YXIgZyA9IHt9OwoKKGZ1bmN0aW9uKHdpbmRvdyl7dmFyIG4sYWE9dGhpcztmdW5jdGlvbiBxKGEsYil7dmFyIGM9YS5zcGxpdCgiLiIpLGQ9YWE7Y1swXWluIGR8fCFkLmV4ZWNTY3JpcHR8fGQuZXhlY1NjcmlwdCgidmFyICIrY1swXSk7Zm9yKHZhciBlO2MubGVuZ3RoJiYoZT1jLnNoaWZ0KCkpOyljLmxlbmd0aHx8dm9pZCAwPT09Yj9kW2VdP2Q9ZFtlXTpkPWRbZV09e306ZFtlXT1ifWZ1bmN0aW9uIHIoYSxiKXtmdW5jdGlvbiBjKCl7fWMucHJvdG90eXBlPWIucHJvdG90eXBlO2EuUGQ9Yi5wcm90b3R5cGU7YS5wcm90b3R5cGU9bmV3IGM7YS5wcm90b3R5cGUuY29uc3RydWN0b3I9YTthLkxkPWZ1bmN0aW9uKGEsYyxmKXtyZXR1cm4gYi5wcm90b3R5cGVbY10uYXBwbHkoYSxBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMikpfX07LyoKCiBDb3B5cmlnaHQgMjAxNSBHb29nbGUgSW5jLgoKIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoKIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoqLwpmdW5jdGlvbiBiYSgpe307ZnVuY3Rpb24gY2EoYSl7dmFyIGI9Y29uc29sZVthXTtiP2IuYmluZHx8KGNvbnNvbGVbYV09ZnVuY3Rpb24oKXtiLmFwcGx5KGNvbnNvbGUsYXJndW1lbnRzKX0pOmNvbnNvbGVbYV09ZnVuY3Rpb24oKXt9fWNhKCJlcnJvciIpO2NhKCJ3YXJuIik7Y2EoImluZm8iKTtjYSgibG9nIik7Y2EoImRlYnVnIik7dmFyIHU9e3FhOmZ1bmN0aW9uKGEpe3UuSGJbYV09e3FhOnUud2MoKSxlbmQ6TmFOfX0sZW5kOmZ1bmN0aW9uKGEpe2lmKGE9dS5IYlthXSlhLmVuZD11LndjKCl9LE1kOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD11LmdldChhKSxlPXUuZ2V0KGIpO2lmKCFkfHwhZSlyZXR1cm4gTmFOO2QtPWU7Zm9yKGU9MjtlPGFyZ3VtZW50cy5sZW5ndGg7KytlKXt2YXIgZj11LmdldChhcmd1bWVudHNbZV0pO2lmKCFmKXJldHVybiBOYU47ZC09Zn1yZXR1cm4gZH0sZ2V0OmZ1bmN0aW9uKGEpe3JldHVybihhPXUuSGJbYV0pJiZhLmVuZD9hLmVuZC1hLnFhOk5hTn19O3Uud2M9d2luZG93LnBlcmZvcm1hbmNlJiZ3aW5kb3cucGVyZm9ybWFuY2Uubm93P3dpbmRvdy5wZXJmb3JtYW5jZS5ub3cuYmluZCh3aW5kb3cucGVyZm9ybWFuY2UpOkRhdGUubm93O3UuSGI9e307LyoKCiBDb3B5cmlnaHQgMjAwNC1wcmVzZW50IEZhY2Vib29rLiBBbGwgUmlnaHRzIFJlc2VydmVkLgoKKi8KZnVuY3Rpb24gZmEoYSxiLGMsZCxlLGYsZyxoKXt0aGlzLmlkPWE7dGhpcy5iYW5kd2lkdGg9Ynx8MDt0aGlzLmxhbmc9Y3x8InVua25vd24iO3RoaXMuc3RyZWFtSW5mb0lEPWQ7dGhpcy5taW1lVHlwZT1lfHwiIjt0aGlzLmNvZGVjcz1mfHwiIjt0aGlzLmNoYW5uZWxzPWd8fG51bGw7dGhpcy5zYW1wbGluZ1JhdGU9aHx8bnVsbDt0aGlzLmFjdGl2ZT0hMX1xKCJzaGFrYS5wbGF5ZXIuQXVkaW9UcmFjay5jb21wYXJlIixmdW5jdGlvbihhLGIpe3JldHVybiBhLmxhbmc8Yi5sYW5nPy0xOmEubGFuZz5iLmxhbmc/MTphLmJhbmR3aWR0aDxiLmJhbmR3aWR0aD8tMTphLmJhbmR3aWR0aD5iLmJhbmR3aWR0aD8xOjB9KTt2YXIgZ2E9VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoInNoYWthX2RlZmF1bHRfcmVxdWVzdF90aW1lb3V0X3RpbWVzY2FsZSIsMUUzKSxoYT1NYXRoLmZsb29yKFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJzaGFrYV9kZWZhdWx0X2FqYXhfcmVxdWVzdF90aW1lb3V0X21zIiwwKS9nYSksaWE9TWF0aC5mbG9vcihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigic2hha2FfZGVmYXVsdF9hamF4X3JlcXVlc3RfdGltZW91dF9tcyIsMCkvZ2EpLGphPU1hdGguZmxvb3IoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoInNoYWthX2RlZmF1bHRfYWpheF9yZXF1ZXN0X3RpbWVvdXRfbXMiLDApL2dhKTtmdW5jdGlvbiBrYSgpe3RoaXMubWluQmFuZHdpZHRoPXRoaXMubWF4QmFuZHdpZHRoPXRoaXMubWF4V2lkdGg9dGhpcy5taW5IZWlnaHQ9dGhpcy5tYXhIZWlnaHQ9bnVsbH1rYS5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYT1uZXcga2E7YS5tYXhIZWlnaHQ9dGhpcy5tYXhIZWlnaHQ7YS5taW5IZWlnaHQ9dGhpcy5taW5IZWlnaHQ7YS5tYXhXaWR0aD10aGlzLm1heFdpZHRoO2EubWF4QmFuZHdpZHRoPXRoaXMubWF4QmFuZHdpZHRoO2EubWluQmFuZHdpZHRoPXRoaXMubWluQmFuZHdpZHRoO3JldHVybiBhfTtmdW5jdGlvbiBsYSgpe3RoaXMuZm9udFNpemU9IjEwMCUiO3RoaXMuZm9udENvbG9yPW1hO3RoaXMuZm9udE9wYWNpdHk9b2E7dGhpcy5iYWNrZ3JvdW5kQ29sb3I9cGE7dGhpcy5iYWNrZ3JvdW5kT3BhY2l0eT1vYTt0aGlzLmZvbnRFZGdlPXFhfXEoInNoYWthLnBsYXllci5UZXh0U3R5bGUiLGxhKTsKZnVuY3Rpb24gcmEoYSl7dmFyIGI9W107Yi5wdXNoKCJmb250LXNpemU6ICIrYS5mb250U2l6ZSk7Yi5wdXNoKCJjb2xvcjogIitzYShhLmZvbnRDb2xvcixhLmZvbnRPcGFjaXR5KSk7Yi5wdXNoKCJiYWNrZ3JvdW5kLWNvbG9yOiAiK3NhKGEuYmFja2dyb3VuZENvbG9yLGEuYmFja2dyb3VuZE9wYWNpdHkpKTtmb3IodmFyIGM9W10sZD0wO2Q8YS5mb250RWRnZS5sZW5ndGg7KytkKXt2YXIgZT1hLmZvbnRFZGdlW2RdLnNsaWNlKDMsNik7Yy5wdXNoKHNhKGEuZm9udEVkZ2VbZF0uc2xpY2UoMCwzKSxhLmZvbnRPcGFjaXR5KSsiICIrZS5qb2luKCJweCAiKSsicHgiKX1iLnB1c2goInRleHQtc2hhZG93OiAiK2Muam9pbigiLCIpKTtyZXR1cm4gYi5qb2luKCI7ICIpfWZ1bmN0aW9uIHNhKGEsYil7cmV0dXJuInJnYmEoIithLmNvbmNhdChiKS5qb2luKCIsIikrIikifXZhciBtYT1bMjU1LDI1NSwyNTVdLHBhPVswLDAsMF07CmxhLlN0YW5kYXJkQ29sb3JzPXtXSElURTptYSxCTEFDSzpwYSxSRUQ6WzI1NSwwLDBdLEdSRUVOOlswLDI1NSwwXSxCTFVFOlswLDAsMjU1XSxZRUxMT1c6WzI1NSwyNTUsMF0sTUFHRU5UQTpbMjU1LDAsMjU1XSxDWUFOOlswLDI1NSwyNTVdfTt2YXIgb2E9MTtsYS5TdGFuZGFyZE9wYWNpdGllcz17T1BBUVVFOm9hLFNFTUlfSElHSDouNzUsU0VNSV9MT1c6LjI1LFRSQU5TUEFSRU5UOjB9O3ZhciBxYT1bXTsKbGEuRWRnZVN0eWxlcz17Tk9ORTpxYSxSQUlTRUQ6W1szNCwzNCwzNCwxLDEsMF0sWzM0LDM0LDM0LDIsMiwwXSxbMzQsMzQsMzQsMywzLDBdXSxERVBSRVNTRUQ6W1syMDQsMjA0LDIwNCwxLDEsMF0sWzIwNCwyMDQsMjA0LDAsMSwwXSxbMzQsMzQsMzQsLTEsLTEsMF0sWzM0LDM0LDM0LDAsLTEsMF1dLFVOSUZPUk06W1szNCwzNCwzNCwwLDAsNF0sWzM0LDM0LDM0LDAsMCw0XSxbMzQsMzQsMzQsMCwwLDRdLFszNCwzNCwzNCwwLDAsNF1dLERST1A6W1szNCwzNCwzNCwyLDIsM10sWzM0LDM0LDM0LDIsMiw0XSxbMzQsMzQsMzQsMiwyLDVdXX07ZnVuY3Rpb24gdGEoYSxiKXt0aGlzLmlkPWE7dGhpcy5sYW5nPWJ8fCJ1bmtub3duIjt0aGlzLmVuYWJsZWQ9dGhpcy5hY3RpdmU9ITF9cSgic2hha2EucGxheWVyLlRleHRUcmFjay5jb21wYXJlIixmdW5jdGlvbihhLGIpe3JldHVybiBhLmxhbmc8Yi5sYW5nPy0xOmEubGFuZz5iLmxhbmc/MTowfSk7ZnVuY3Rpb24gdWEoYSxiLGMsZCxlLGYsZyxoLGssbCxtLHAsdCl7dGhpcy5pZD1hO3RoaXMuYmFuZHdpZHRoPWJ8fDA7dGhpcy53aWR0aD1jfHwwO3RoaXMuaGVpZ2h0PWR8fDA7dGhpcy5zdHJlYW1JbmZvSUQ9ZTt0aGlzLmZiUXVhbGl0eUxhYmVsPWY7dGhpcy5mYlF1YWxpdHlDbGFzcz1nO2E9W107aCYmKGE9aC5zcGxpdCgiLCIpKTt0aGlzLmZyYW1lUmF0ZT1rfHwiIjt0aGlzLm1pbWVUeXBlPWx8fCIiO3RoaXMuY29kZWNzPW18fCIiO3RoaXMuaXNIVlE9LTE8YS5pbmRleE9mKCJodnEiKTt0aGlzLmlzSW5saW5lSFZRPS0xPGEuaW5kZXhPZigiaHZxX3d3d19pbmxpbmUiKTt0aGlzLmF2b2lkT25Qb29yQ29ubmVjdGlvbj0tMTxhLmluZGV4T2YoImF2b2lkX29uX3Bvb3JfY29ubmVjdGlvbiIpO3RoaXMuYWN0aXZlPSExO3RoaXMucGxheWJhY2tSZXNvbHV0aW9uTW9zPXB8fG51bGw7dGhpcy5wbGF5YmFja1Jlc29sdXRpb25Nb3NDb25maWRlbmNlTGV2ZWw9dHx8bnVsbH0KZnVuY3Rpb24gdmEoYSxiKXt2YXIgYz1hLndpZHRoKmEuaGVpZ2h0LGQ9Yi53aWR0aCpiLmhlaWdodDtyZXR1cm4gYzxkPy0xOmM+ZD8xOmEuYmFuZHdpZHRoPGIuYmFuZHdpZHRoPy0xOmEuYmFuZHdpZHRoPmIuYmFuZHdpZHRoPzE6MH1xKCJzaGFrYS5wbGF5ZXIuVmlkZW9UcmFjay5jb21wYXJlIix2YSk7ZnVuY3Rpb24gd2EoYSl7Zm9yKHZhciBiPXhhLGM9W10sZD0wO2Q8YS5sZW5ndGg7KytkKXtmb3IodmFyIGU9ITEsZj0wO2Y8Yy5sZW5ndGgmJiEoZT1iP2IoYVtkXSxjW2ZdKTphW2RdPT09Y1tmXSk7KytmKTtlfHxjLnB1c2goYVtkXSl9cmV0dXJuIGN9O2Z1bmN0aW9uIHlhKCl7cmV0dXJuIERhdGUubm93KCkremF9dmFyIHphPTA7ZnVuY3Rpb24gQmEoYSl7dGhpcy5iPWE7dGhpcy5jPTA9PUNhO3RoaXMuYT0wfXZhciBDYT0xO2Z1bmN0aW9uIERhKGEpe3JldHVybiBhLmE8YS5iLmJ5dGVMZW5ndGh9ZnVuY3Rpb24gRWEoYSl7dmFyIGI9YS5iLmdldFVpbnQ4KGEuYSk7YS5hKz0xO3JldHVybiBifWZ1bmN0aW9uIHYoYSl7dmFyIGI9YS5iLmdldFVpbnQzMihhLmEsYS5jKTthLmErPTQ7cmV0dXJuIGJ9ZnVuY3Rpb24gRmEoYSl7dmFyIGIsYzthLmM/KGI9YS5iLmdldFVpbnQzMihhLmEsITApLGM9YS5iLmdldFVpbnQzMihhLmErNCwhMCkpOihjPWEuYi5nZXRVaW50MzIoYS5hLCExKSxiPWEuYi5nZXRVaW50MzIoYS5hKzQsITEpKTtpZigyMDk3MTUxPGMpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkRhdGFWaWV3UmVhZGVyOiBPdmVyZmxvdyByZWFkaW5nIDY0LWJpdCB2YWx1ZS4iKTthLmErPTg7cmV0dXJuIGMqTWF0aC5wb3coMiwzMikrYn0KZnVuY3Rpb24gR2EoYSl7aWYoYS5hKzE2PmEuYi5ieXRlTGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKCJEYXRhVmlld1JlYWRlcjogUmVhZCBwYXN0IGVuZCBvZiBEYXRhVmlldy4iKTt2YXIgYj1uZXcgVWludDhBcnJheShhLmIuYnVmZmVyLGEuYSwxNik7YS5hKz0xNjtyZXR1cm4gYn1mdW5jdGlvbiBIYShhLGIpe2lmKGEuYStiPmEuYi5ieXRlTGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKCJEYXRhVmlld1JlYWRlcjogU2tpcCBwYXN0IGVuZCBvZiBEYXRhVmlldy4iKTthLmErPWJ9O2Z1bmN0aW9uIElhKGEpe3RoaXMuYj1hO3RoaXMuYT1uZXcgQmEoYSk7SmF8fChKYT1bbmV3IFVpbnQ4QXJyYXkoWzI1NV0pLG5ldyBVaW50OEFycmF5KFsxMjcsMjU1XSksbmV3IFVpbnQ4QXJyYXkoWzYzLDI1NSwyNTVdKSxuZXcgVWludDhBcnJheShbMzEsMjU1LDI1NSwyNTVdKSxuZXcgVWludDhBcnJheShbMTUsMjU1LDI1NSwyNTUsMjU1XSksbmV3IFVpbnQ4QXJyYXkoWzcsMjU1LDI1NSwyNTUsMjU1LDI1NV0pLG5ldyBVaW50OEFycmF5KFszLDI1NSwyNTUsMjU1LDI1NSwyNTUsMjU1XSksbmV3IFVpbnQ4QXJyYXkoWzEsMjU1LDI1NSwyNTUsMjU1LDI1NSwyNTUsMjU1XSldKX12YXIgSmE7CmZ1bmN0aW9uIEthKGEpe3ZhciBiO2I9TGEoYSk7aWYoNzxiLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiRWJtbFBhcnNlcjogRUJNTCBJRCBtdXN0IGJlIGF0IG1vc3QgNyBieXRlcy4iKTtmb3IodmFyIGM9MCxkPTA7ZDxiLmxlbmd0aDtkKyspYz0yNTYqYytiW2RdO2I9YztjPUxhKGEpO2E6e2ZvcihkPTA7ZDxKYS5sZW5ndGg7ZCsrKWlmKE1hKGMsSmFbZF0pKXtkPSEwO2JyZWFrIGF9ZD0hMX1pZihkKWM9YS5iLmJ5dGVMZW5ndGgtYS5hLmE7ZWxzZXtpZig4PT1jLmxlbmd0aCYmY1sxXSYyMjQpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkVibWxQYXJzZXI6IFZhcmlhYmxlIHNpemVkIGludGVnZXIgdmFsdWUgbXVzdCBiZSBhdCBtb3N0IDUzIGJpdHMuIik7Zm9yKHZhciBkPWNbMF0mKDE8PDgtYy5sZW5ndGgpLTEsZT0xO2U8Yy5sZW5ndGg7ZSsrKWQ9MjU2KmQrY1tlXTtjPWR9Yz1hLmEuYStjPD1hLmIuYnl0ZUxlbmd0aD9jOmEuYi5ieXRlTGVuZ3RoLWEuYS5hO2Q9bmV3IERhdGFWaWV3KGEuYi5idWZmZXIsCmEuYi5ieXRlT2Zmc2V0K2EuYS5hLGMpO0hhKGEuYSxjKTtyZXR1cm4gbmV3IE5hKGIsZCl9ZnVuY3Rpb24gTGEoYSl7dmFyIGI9RWEoYS5hKSxjO2ZvcihjPTE7OD49YyYmIShiJjE8PDgtYyk7YysrKTtpZig4PGMpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkVibWxQYXJzZXI6IFZhcmlhYmxlIHNpemVkIGludGVnZXIgbXVzdCBmaXQgd2l0aGluIDggYnl0ZXMuIik7dmFyIGQ9bmV3IFVpbnQ4QXJyYXkoYyk7ZFswXT1iO2ZvcihiPTE7YjxjO2IrKylkW2JdPUVhKGEuYSk7cmV0dXJuIGR9ZnVuY3Rpb24gTmEoYSxiKXt0aGlzLmlkPWE7dGhpcy5hPWJ9CmZ1bmN0aW9uIE9hKGEpe2lmKDg8YS5hLmJ5dGVMZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkVibWxFbGVtZW50OiBVbnNpZ25lZCBpbnRlZ2VyIGhhcyB0b28gbWFueSBieXRlcy4iKTtpZig4PT1hLmEuYnl0ZUxlbmd0aCYmYS5hLmdldFVpbnQ4KDApJjIyNCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiRWJtbFBhcnNlcjogVW5zaWduZWQgaW50ZWdlciBtdXN0IGJlIGF0IG1vc3QgNTMgYml0cy4iKTtmb3IodmFyIGI9MCxjPTA7YzxhLmEuYnl0ZUxlbmd0aDtjKyspdmFyIGQ9YS5hLmdldFVpbnQ4KGMpLGI9MjU2KmIrZDtyZXR1cm4gYn07dmFyIFBhPXsib3V0cHV0LXJlc3RyaWN0ZWQiOiJUaGUgcmVxdWlyZWQgb3V0cHV0IHByb3RlY3Rpb24gaXMgbm90IGF2YWlsYWJsZS4iLCJvdXRwdXQtbm90LWFsbG93ZWQiOiJUaGUgcmVxdWlyZWQgb3V0cHV0IHByb3RlY3Rpb24gaXMgbm90IGF2YWlsYWJsZS4iLGV4cGlyZWQ6IlRoZSBkZWNyeXB0aW9uIGtleSBoYXMgZXhwaXJlZC4iLCJpbnRlcm5hbC1lcnJvciI6IlRoZSBrZXkgc3lzdGVtIGhhcyBlbmNvdW50ZXJlZCBhbiB1bnNwZWNpZmllZCBlcnJvci4ifTtmdW5jdGlvbiB4KGEpe3RoaXMuYj1NYXRoLmV4cChNYXRoLmxvZyguNSkvYSk7dGhpcy55Yj10aGlzLiRhPXRoaXMuYT0wfXEoInNoYWthLnV0aWwuRVdNQSIseCk7eC5wcm90b3R5cGUuc2FtcGxlPWZ1bmN0aW9uKGEsYil7dmFyIGM9TWF0aC5wb3codGhpcy5iLGEpO3RoaXMuYT1iKigxLWMpK2MqdGhpcy5hO3RoaXMuJGErPWE7dGhpcy55Yis9MX07eC5wcm90b3R5cGUuc2FtcGxlPXgucHJvdG90eXBlLnNhbXBsZTt4LnByb3RvdHlwZS5jPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGF9O3gucHJvdG90eXBlLmdldFRvdGFsV2VpZ2h0PXgucHJvdG90eXBlLmM7eC5wcm90b3R5cGUuZ2V0RXN0aW1hdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLygxLU1hdGgucG93KHRoaXMuYix0aGlzLiRhKSl9O3gucHJvdG90eXBlLmdldEVzdGltYXRlPXgucHJvdG90eXBlLmdldEVzdGltYXRlO3gucHJvdG90eXBlLmY9ZnVuY3Rpb24oKXt0aGlzLnliPXRoaXMuJGE9dGhpcy5hPTB9Owp4LnByb3RvdHlwZS5yZXNldD14LnByb3RvdHlwZS5mO3ZhciBRYT13aW5kb3cuQ3VzdG9tRXZlbnQ7ImZ1bmN0aW9uIiE9PXR5cGVvZiBRYSYmKFFhPWZ1bmN0aW9uKGEsYil7Yj1ifHx7YnViYmxlczohMSxjYW5jZWxhYmxlOiExLGRldGFpbDp2b2lkIDB9O3ZhciBjPWRvY3VtZW50LmNyZWF0ZUV2ZW50KCJDdXN0b21FdmVudCIpO2MuaW5pdEN1c3RvbUV2ZW50KGEsYi5idWJibGVzLGIuY2FuY2VsYWJsZSxiLmRldGFpbCk7cmV0dXJuIGN9LFFhLnByb3RvdHlwZT13aW5kb3cuRXZlbnQucHJvdG90eXBlKTtmdW5jdGlvbiB5KGEpe3ZhciBiPW5ldyBRYShhLnR5cGUse2RldGFpbDphLmRldGFpbCxidWJibGVzOiEhYS5idWJibGVzfSksYztmb3IoYyBpbiBhKWMgaW4gYnx8KGJbY109YVtjXSk7cmV0dXJuIGJ9ZnVuY3Rpb24gQShhKXtyZXR1cm4gbmV3IFFhKCJlcnJvciIse2RldGFpbDphLGJ1YmJsZXM6ITB9KX07ZnVuY3Rpb24gUmEoYSxiLGMpe1NhKGIpO1NhKGMpO3JldHVybiBjPT1ifHxhPj1UYSYmYz09Yi5zcGxpdCgiLSIpWzBdfHxhPj1VYSYmYy5zcGxpdCgiLSIpWzBdPT1iLnNwbGl0KCItIilbMF0/ITA6ITF9dmFyIFRhPTEsVWE9MjtmdW5jdGlvbiBTYShhKXthPWEudG9Mb3dlckNhc2UoKS5zcGxpdCgiLSIpO3ZhciBiPVZhW2FbMF1dO2ImJihhWzBdPWIpO3JldHVybiBhLmpvaW4oIi0iKX0KdmFyIFZhPXthYXI6ImFhIixhYms6ImFiIixhZnI6ImFmIixha2E6ImFrIixhbGI6InNxIixhbWg6ImFtIixhcmE6ImFyIixhcmc6ImFuIixhcm06Imh5Iixhc206ImFzIixhdmE6ImF2IixhdmU6ImFlIixheW06ImF5IixhemU6ImF6IixiYWs6ImJhIixiYW06ImJtIixiYXE6ImV1IixiZWw6ImJlIixiZW46ImJuIixiaWg6ImJoIixiaXM6ImJpIixib2Q6ImJvIixib3M6ImJzIixicmU6ImJyIixidWw6ImJnIixidXI6Im15IixjYXQ6ImNhIixjZXM6ImNzIixjaGE6ImNoIixjaGU6ImNlIixjaGk6InpoIixjaHU6ImN1IixjaHY6ImN2Iixjb3I6Imt3Iixjb3M6ImNvIixjcmU6ImNyIixjeW06ImN5IixjemU6ImNzIixkYW46ImRhIixkZXU6ImRlIixkaXY6ImR2IixkdXQ6Im5sIixkem86ImR6IixlbGw6ImVsIixlbmc6ImVuIixlcG86ImVvIixlc3Q6ImV0IixldXM6ImV1Iixld2U6ImVlIixmYW86ImZvIixmYXM6ImZhIixmaWo6ImZqIixmaW46ImZpIixmcmE6ImZyIixmcmU6ImZyIiwKZnJ5OiJmeSIsZnVsOiJmZiIsZ2VvOiJrYSIsZ2VyOiJkZSIsZ2xhOiJnZCIsZ2xlOiJnYSIsZ2xnOiJnbCIsZ2x2OiJndiIsZ3JlOiJlbCIsZ3JuOiJnbiIsZ3VqOiJndSIsaGF0OiJodCIsaGF1OiJoYSIsaGViOiJoZSIsaGVyOiJoeiIsaGluOiJoaSIsaG1vOiJobyIsaHJ2OiJociIsaHVuOiJodSIsaHllOiJoeSIsaWJvOiJpZyIsaWNlOiJpcyIsaWRvOiJpbyIsaWlpOiJpaSIsaWt1OiJpdSIsaWxlOiJpZSIsaW5hOiJpYSIsaW5kOiJpZCIsaXBrOiJpayIsaXNsOiJpcyIsaXRhOiJpdCIsamF2OiJqdiIsanBuOiJqYSIsa2FsOiJrbCIsa2FuOiJrbiIsa2FzOiJrcyIsa2F0OiJrYSIsa2F1OiJrciIsa2F6OiJrayIsa2htOiJrbSIsa2lrOiJraSIsa2luOiJydyIsa2lyOiJreSIsa29tOiJrdiIsa29uOiJrZyIsa29yOiJrbyIsa3VhOiJraiIsa3VyOiJrdSIsbGFvOiJsbyIsbGF0OiJsYSIsbGF2OiJsdiIsbGltOiJsaSIsbGluOiJsbiIsbGl0OiJsdCIsbHR6OiJsYiIsbHViOiJsdSIsCmx1ZzoibGciLG1hYzoibWsiLG1haDoibWgiLG1hbDoibWwiLG1hbzoibWkiLG1hcjoibXIiLG1heToibXMiLG1rZDoibWsiLG1sZzoibWciLG1sdDoibXQiLG1vbjoibW4iLG1yaToibWkiLG1zYToibXMiLG15YToibXkiLG5hdToibmEiLG5hdjoibnYiLG5ibDoibnIiLG5kZToibmQiLG5kbzoibmciLG5lcDoibmUiLG5sZDoibmwiLG5ubzoibm4iLG5vYjoibmIiLG5vcjoibm8iLG55YToibnkiLG9jaToib2MiLG9qaToib2oiLG9yaToib3IiLG9ybToib20iLG9zczoib3MiLHBhbjoicGEiLHBlcjoiZmEiLHBsaToicGkiLHBvbDoicGwiLHBvcjoicHQiLHB1czoicHMiLHF1ZToicXUiLHJvaDoicm0iLHJvbjoicm8iLHJ1bToicm8iLHJ1bjoicm4iLHJ1czoicnUiLHNhZzoic2ciLHNhbjoic2EiLHNpbjoic2kiLHNsazoic2siLHNsbzoic2siLHNsdjoic2wiLHNtZToic2UiLHNtbzoic20iLHNuYToic24iLHNuZDoic2QiLHNvbToic28iLHNvdDoic3QiLHNwYToiZXMiLHNxaToic3EiLApzcmQ6InNjIixzcnA6InNyIixzc3c6InNzIixzdW46InN1Iixzd2E6InN3Iixzd2U6InN2Iix0YWg6InR5Iix0YW06InRhIix0YXQ6InR0Iix0ZWw6InRlIix0Z2s6InRnIix0Z2w6InRsIix0aGE6InRoIix0aWI6ImJvIix0aXI6InRpIix0b246InRvIix0c246InRuIix0c286InRzIix0dWs6InRrIix0dXI6InRyIix0d2k6InR3Iix1aWc6InVnIix1a3I6InVrIix1cmQ6InVyIix1emI6InV6Iix2ZW46InZlIix2aWU6InZpIix2b2w6InZvIix3ZWw6ImN5Iix3bG46IndhIix3b2w6IndvIix4aG86InhoIix5aWQ6InlpIix5b3I6InlvIix6aGE6InphIix6aG86InpoIix6dWw6Inp1In07ZnVuY3Rpb24gV2EoYSl7cmV0dXJuIE9iamVjdC5rZXlzKGEpLm1hcChmdW5jdGlvbihiKXtyZXR1cm4gYVtiXX0pfWZ1bmN0aW9uIEIoYSxiKXtyZXR1cm4gWGEoYSxiLCJib29sZWFuIil9ZnVuY3Rpb24gQyhhLGIsYyl7YT1YYShhLGIsIm51bWJlciIpO2lmKG51bGw9PWEpcmV0dXJuIG51bGw7aWYoaXNOYU4oYSl8fGE9PU51bWJlci5ORUdBVElWRV9JTkZJTklUWXx8YT09TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZKXRocm93IG5ldyBSYW5nZUVycm9yKCInIitiKyInIG11c3QgYmUgZmluaXRlLiIpO2lmKG51bGwhPWMmJmE8Yyl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiJyIrYisiJyBtdXN0IGJlID49ICIrYyk7cmV0dXJuIGF9ZnVuY3Rpb24gWWEoYSxiKXtyZXR1cm4gWGEoYSxiLCJzdHJpbmciKX0KZnVuY3Rpb24gWGEoYSxiLGMpe2E9YVtiXTtpZihudWxsPT1hKXJldHVybiBudWxsO2lmKHR5cGVvZiBhIT09Yyl0aHJvdyBuZXcgVHlwZUVycm9yKCInIitiKyInIG11c3QgYmUgYSAiK2MrIi4iKTtyZXR1cm4gYX1mdW5jdGlvbiBaYShhLGIsYyl7YT1hW2JdO2lmKG51bGw9PWEpcmV0dXJuIG51bGw7aWYoIShhIGluc3RhbmNlb2YgYykpdGhyb3cgbmV3IFR5cGVFcnJvcigiJyIrYisiJyBtdXN0IGJlIGFuIGluc3RhbmNlIG9mICIrYy5uYW1lKyIuIik7cmV0dXJuIGF9O2Z1bmN0aW9uIEQoKXt0aGlzLmE9e319RC5wcm90b3R5cGUucHVzaD1mdW5jdGlvbihhLGIpe3RoaXMuYS5oYXNPd25Qcm9wZXJ0eShhKT90aGlzLmFbYV0ucHVzaChiKTp0aGlzLmFbYV09W2JdfTtELnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24oYSxiKXt0aGlzLmFbYV09Yn07RC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGEpe3JldHVybihhPXRoaXMuYVthXSk/YS5zbGljZSgpOm51bGx9O2Z1bmN0aW9uICRhKGEpe3ZhciBiPVtdLGM7Zm9yKGMgaW4gYS5hKWIucHVzaC5hcHBseShiLGEuYVtjXSk7cmV0dXJuIGJ9RC5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5hW2FdO2lmKGMpZm9yKHZhciBkPTA7ZDxjLmxlbmd0aDsrK2QpY1tkXT09YiYmKGMuc3BsaWNlKGQsMSksLS1kKX07ZnVuY3Rpb24gYWIoYSl7dmFyIGI9W10sYztmb3IoYyBpbiBhLmEpYi5wdXNoKGMpO3JldHVybiBifTtmdW5jdGlvbiBiYigpe3RoaXMuYT1uZXcgRH1iYi5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe2RiKHRoaXMpO3RoaXMuYT1udWxsfTtmdW5jdGlvbiBFKGEsYixjLGQpe2I9bmV3IGViKGIsYyxkKTthLmEucHVzaChjLGIpfWJiLnByb3RvdHlwZS5hYj1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz10aGlzLmEuZ2V0KGIpfHxbXSxkPTA7ZDxjLmxlbmd0aDsrK2Qpe3ZhciBlPWNbZF07ZS50YXJnZXQ9PWEmJihlLmFiKCksdGhpcy5hLnJlbW92ZShiLGUpKX19O2Z1bmN0aW9uIGRiKGEpe2Zvcih2YXIgYj0kYShhLmEpLGM9MDtjPGIubGVuZ3RoOysrYyliW2NdLmFiKCk7YS5hLmE9e319ZnVuY3Rpb24gZWIoYSxiLGMpe3RoaXMudGFyZ2V0PWE7dGhpcy50eXBlPWI7dGhpcy5hPWM7dGhpcy50YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihiLGMsITEpfQplYi5wcm90b3R5cGUuYWI9ZnVuY3Rpb24oKXt0aGlzLnRhcmdldCYmKHRoaXMudGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIodGhpcy50eXBlLHRoaXMuYSwhMSksdGhpcy5hPXRoaXMudGFyZ2V0PW51bGwpfTtmdW5jdGlvbiBGKGEpe3RoaXMuRWI9bmV3IEQ7dGhpcy5KYT1hfXEoInNoYWthLnV0aWwuRmFrZUV2ZW50VGFyZ2V0IixGKTtuPUYucHJvdG90eXBlO24uYWRkRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbihhLGIpe3RoaXMuRWIucHVzaChhLGIpfTtuLnJlbW92ZUV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24oYSxiKXt0aGlzLkViLnJlbW92ZShhLGIpfTsKbi5kaXNwYXRjaEV2ZW50PWZ1bmN0aW9uKGEpe2EuaGFzT3duUHJvcGVydHkoInNyY0VsZW1lbnQiKXx8KGRlbGV0ZSBhLnNyY0VsZW1lbnQsT2JqZWN0LmRlZmluZVByb3BlcnR5KGEsInNyY0VsZW1lbnQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH19KSk7aWYoYS5oYXNPd25Qcm9wZXJ0eSgidGFyZ2V0IikpYS50YXJnZXQ9dGhpcztlbHNle2RlbGV0ZSBhLnRhcmdldDt2YXIgYj10aGlzO09iamVjdC5kZWZpbmVQcm9wZXJ0eShhLCJ0YXJnZXQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYn0sc2V0OmZ1bmN0aW9uKGEpe2I9YX19KX1pZihhLmhhc093blByb3BlcnR5KCJjdXJyZW50VGFyZ2V0IikpYS5jdXJyZW50VGFyZ2V0PW51bGw7ZWxzZXtkZWxldGUgYS5jdXJyZW50VGFyZ2V0O3ZhciBjPW51bGw7T2JqZWN0LmRlZmluZVByb3BlcnR5KGEsImN1cnJlbnRUYXJnZXQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY30sc2V0OmZ1bmN0aW9uKGEpe2M9YX19KX1yZXR1cm4gZmIodGhpcywKYSl9O24ub2M9ITE7bi5MYT1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmRpc3BhdGNoRXZlbnQoeSh7dHlwZToiZGVidWcvZGFzaFBsYXllckV2ZW50IixidWJibGVzOiEwLGRldGFpbDp7dHlwZTphLGV2ZW50OmJ9fSkpfTtmdW5jdGlvbiBmYihhLGIpe2IuY3VycmVudFRhcmdldD1hO2Zvcih2YXIgYz1hLkViLmdldChiLnR5cGUpfHxbXSxkPTA7ZDxjLmxlbmd0aDsrK2Qpe3ZhciBlPWNbZF07dHJ5e2UuaGFuZGxlRXZlbnQ/ZS5oYW5kbGVFdmVudChiKTplLmNhbGwoYSxiKX1jYXRjaChmKXt9fWEuSmEmJmIuYnViYmxlcyYmZmIoYS5KYSxiKTtyZXR1cm4gYi5kZWZhdWx0UHJldmVudGVkfTtmdW5jdGlvbiBHKGEpe0YuY2FsbCh0aGlzLG51bGwpO3RoaXMuYT17b2I6e1ZhOm5ldyB4KFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJmYXN0X21vdmluZ19hdmVyYWdlX2hhbGZfbGlmZSIsMykpLHhiOm5ldyB4KFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJzbG93X21vdmluZ19hdmVyYWdlX2hhbGZfbGlmZSIsMTApKX0sY2I6e1ZhOm5ldyB4KFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJhZ2dyZXNzaXZlX2Zhc3RfbW92aW5nX2F2ZXJhZ2VfaGFsZl9saWZlIiwxRS00KSkseGI6bmV3IHgoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoImFnZ3Jlc3NpdmVfc2xvd19tb3ZpbmdfYXZlcmFnZV9oYWxmX2xpZmUiLDkuMjMzNTA4NzkxNzc0NSkpfX07dGhpcy5oPWF8fDVFNTt0aGlzLmo9VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoIm1pbl9zYW1wbGVfY291bnQiLAoxRTQpO3RoaXMuYj0wO3RoaXMuYz1bXTt0aGlzLmk9VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoIm1heF9yZWNlbnRfYmFuZHdpZHRoX3NhbXBsZXMiLDApfXIoRyxGKTtxKCJzaGFrYS51dGlsLkVXTUFCYW5kd2lkdGhFc3RpbWF0b3IiLEcpO0cucHJvdG90eXBlLnNob3VsZEV4Y2x1ZGVTYW1wbGU9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJjaGFuZ2VfYWJyX2F1ZGlvX2V4Y2x1c2lvbl9sb2dpYyIsITApPyFiOjY1NTM2PmF9OwpHLnByb3RvdHlwZS5zYW1wbGU9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyl7aWYodGhpcy5zaG91bGRFeGNsdWRlU2FtcGxlKGIsYykpZSYmZS5zZXRFdmVudCgidW5zYW1wbGVkIikuc2V0UmVhc29uKCJhdWRpbyIpLmxvZygpO2Vsc2V7aWYoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJ1c2VfcmVzb3VyY2VfdGltaW5nX2VudHJ5X2Zvcl9iYW5kd2lkdGgiLCEwKSl7aWYoIWQpe2UmJmUuc2V0RXZlbnQoInVuc2FtcGxlZCIpLnNldFJlYXNvbigicmVzb3VyY2VfdGltaW5nX2VudHJ5X21pc3NpbmciKS5sb2coKTtyZXR1cm59YT1kLnRpbWVUb0xhc3RCeXRlO2lmKDA+YSl7ZSYmZS5zZXRFdmVudCgidW5zYW1wbGVkIikuc2V0UmVhc29uKCJyZXNvdXJjZV90aW1pbmdfZW50cnlfaW52YWxpZCIpLmxvZygpO3JldHVybn19YT1NYXRoLm1heChhLDUwKTtjPTFFMypVbml0Q29uc3RhbnRzLkJJVFNfSU5fQllURSpiL2E7dmFyIGg9YS8xRTM7dGhpcy5hLmNiLlZhLnNhbXBsZShoLApjLGQpO3RoaXMuYS5jYi54Yi5zYW1wbGUoaCxjLGQpO3RoaXMuYS5vYi5WYS5zYW1wbGUoaCxjLGQpO3RoaXMuYS5vYi54Yi5zYW1wbGUoaCxjLGQpO2d8fHRoaXMuZGlzcGF0Y2hFdmVudCh5KHt0eXBlOiJiYW5kd2lkdGgifSkpO3RoaXMuYj1EYXRlLm5vdygpO2Q9cGFyc2VJbnQoYSwxMCk7aWYoMDx0aGlzLmkpZm9yKHRoaXMuYy5wdXNoKFtiLGRdKTt0aGlzLmMubGVuZ3RoPnRoaXMuaTspdGhpcy5jLnNoaWZ0KCk7ZSYmZS5zZXRFdmVudCgic2FtcGxlZCIpLnNldEJ5dGVzKGIpLnNldERlbGF5TXMoZCkubG9nKCk7ZiYmZi5nZXRFdmVudExvZ2dlcigiYmFuZHdpZHRoX3NhbXBsZWQiKS5zZXRMZW5ndGgoYikuc2V0Q2xpZW50VGltZUJlZ2luKHRoaXMuYi1kKS5zZXRDbGllbnRUaW1lRW5kKHRoaXMuYikubG9nKCl9fTsKRy5wcm90b3R5cGUuZ2V0QmFuZHdpZHRoPWZ1bmN0aW9uKGEpe2E9ImFnZ3Jlc3NpdmUiPT09YT90aGlzLmEuY2I6dGhpcy5hLm9iO3JldHVybiB0aGlzLmNhblRydXN0RXN0aW1hdGUoKT9NYXRoLm1pbihhLlZhLmdldEVzdGltYXRlKCksYS54Yi5nZXRFc3RpbWF0ZSgpKTp0aGlzLmh9O0cucHJvdG90eXBlLmdldEZhc3RNb3ZpbmdCYW5kd2lkdGg9ZnVuY3Rpb24oYSl7YT0iYWdncmVzc2l2ZSI9PT1hP3RoaXMuYS5jYjp0aGlzLmEub2I7cmV0dXJuIHRoaXMuY2FuVHJ1c3RFc3RpbWF0ZSgpP2EuVmEuZ2V0RXN0aW1hdGUoKTp0aGlzLmh9O0cucHJvdG90eXBlLmdldERhdGFBZ2U9ZnVuY3Rpb24oKXtyZXR1cm4oRGF0ZS5ub3coKS10aGlzLmIpLzFFM307Ry5wcm90b3R5cGUuY2FuVHJ1c3RFc3RpbWF0ZT1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmEuY2IuVmE7cmV0dXJuIGIuJGE+PSh2b2lkIDA9PT1hPy41OmEpfHxiLnliPj10aGlzLmp9OwpHLnByb3RvdHlwZS5zdXBwb3J0c0NhY2hpbmc9ZnVuY3Rpb24oKXtyZXR1cm4hMX07Ry5wcm90b3R5cGUuc2V0UmVwcmVzZW50YXRpb25JRD1mdW5jdGlvbigpe307Ry5wcm90b3R5cGUuZmx1c2hBQlJFdmFsdWF0aW9uU2V0PWZ1bmN0aW9uKCl7cmV0dXJuW119O0cucHJvdG90eXBlLmdldFJlY2VudFNhbXBsZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jfTsvKgoKIENvcHlyaWdodCAyMDE1IEZhY2Vib29rIEluYy4KCiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoKICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KKi8KZnVuY3Rpb24gZ2IoYSxiLGMsZCl7Ry5jYWxsKHRoaXMsZCk7dGhpcy5nPWF8fDA7dGhpcy5mPXZvaWQgMD09PWI/SW5maW5pdHk6Yjt0aGlzLm09Y31yKGdiLEcpO3EoInNoYWthLnV0aWwuRVdNQUNhY2hlQmFuZHdpZHRoRXN0aW1hdG9yIixnYik7CmdiLnByb3RvdHlwZS5zYW1wbGU9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxoKXt2YXIgaz04RTMqYi9hO2UmJmUuc2V0Qnl0ZXMoYikuc2V0RGVsYXlNcyhwYXJzZUludChhLDEwKSk7YTw9dGhpcy5nJiZrPnRoaXMuZiYmIWg/KGUmJmUuc2V0RXZlbnQoInVuc2FtcGxlZCIpLnNldFJlYXNvbigiY2FjaGVkIikubG9nKCksZiYmIXRoaXMuc2hvdWxkRXhjbHVkZVNhbXBsZShiLGMpJiZmLmdldEV2ZW50TG9nZ2VyKCJiYW5kd2lkdGhfc2FtcGxlZCIpLnNldFJlc3VsdCgiYWJvcnRlZCIpLnNldExlbmd0aChiKS5zZXRDbGllbnRUaW1lQmVnaW4oRGF0ZS5ub3coKS1wYXJzZUludChhLDEwKSkuc2V0Q2xpZW50VGltZUVuZChEYXRlLm5vdygpKS5sb2coKSx0aGlzLm0oKSk6Ry5wcm90b3R5cGUuc2FtcGxlLmNhbGwodGhpcyxhLGIsYyxkLGUsZixnKX07Z2IucHJvdG90eXBlLnN1cHBvcnRzQ2FjaGluZz1mdW5jdGlvbigpe3JldHVybiBJbmZpbml0eSE9PXRoaXMuZiYmISF0aGlzLmd9OwpnYi5wcm90b3R5cGUuc2V0UmVwcmVzZW50YXRpb25JRD1mdW5jdGlvbigpe307Z2IucHJvdG90eXBlLmZsdXNoQUJSRXZhbHVhdGlvblNldD1mdW5jdGlvbigpe3JldHVybltdfTtmdW5jdGlvbiBoYigpe0cuY2FsbCh0aGlzKX1yKGhiLEcpO3EoInNoYWthLnV0aWwuRVdNQVNpZ25lZFVSTEJhbmR3aWR0aEVzdGltYXRvciIsaGIpO2hiLnByb3RvdHlwZS5zdXBwb3J0c0NhY2hpbmc9ZnVuY3Rpb24oKXtyZXR1cm4hMH07ZnVuY3Rpb24gSSgpe3ZhciBhLGIsYz1uZXcgUHJvbWlzZShmdW5jdGlvbihjLGUpe2E9YztiPWV9KTtjLnJlc29sdmU9YTtjLnJlamVjdD1iO2MuZGVzdHJveT1JLnByb3RvdHlwZS5kZXN0cm95O3JldHVybiBjfUkucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmNhdGNoKGZ1bmN0aW9uKCl7fSk7dmFyIGE9RXJyb3IoIkRlc3Ryb3llZCEiKTthLnR5cGU9ImRlc3Ryb3kiO3RoaXMucmVqZWN0KGEpfTtmdW5jdGlvbiBpYihhKXthLnNwbGl0KCIiKS5yZWR1Y2UoZnVuY3Rpb24oYSxjLGQpe3JldHVybiBhKyhkJiYwPT1kJTQ/IiAiK2M6Yyl9KX07ZnVuY3Rpb24gamIoKXt0aGlzLmxiPW5ldyBJO3RoaXMuYz0hMTt0aGlzLkFhPW51bGw7dGhpcy5hPVtdO3RoaXMuYj1udWxsfWZ1bmN0aW9uIGtiKGEsYil7aWYoYS5jKXRocm93IEVycm9yKCJDYW5ub3QgYXBwZW5kIHRvIGEgcnVubmluZyB0YXNrISIpO2EuYS5wdXNoKGIpfWpiLnByb3RvdHlwZS5zdGFydD1mdW5jdGlvbigpe2lmKHRoaXMuYyl0aHJvdyBFcnJvcigiVGFzayBhbHJlYWR5IHN0YXJ0ZWQhIik7dGhpcy5jPSEwO3RoaXMuYS51bnNoaWZ0KGZ1bmN0aW9uKCl7fSk7bGIodGhpcyx2b2lkIDApfTtqYi5wcm90b3R5cGUuYWJvcnQ9ZnVuY3Rpb24oKXtpZih0aGlzLkFhKXJldHVybiB0aGlzLkFhO2lmKCF0aGlzLmMpcmV0dXJuIHRoaXMuYz0hMCxQcm9taXNlLnJlc29sdmUoKTt0aGlzLmImJih0aGlzLmY9dGhpcy5iKCkpO3JldHVybiB0aGlzLkFhPW5ldyBJfTtqYi5wcm90b3R5cGUuZW5kPWZ1bmN0aW9uKCl7dGhpcy5hLnNwbGljZSgxKX07CmZ1bmN0aW9uIGxiKGEsYil7dmFyIGM9YS5hWzBdKGIpLGQ7Yz8oZD1jWzBdLGEuYj1jWzFdKTooZD1Qcm9taXNlLnJlc29sdmUoKSxhLmI9bnVsbCk7ZC50aGVuKEooYSxmdW5jdGlvbihhKXt0aGlzLkFhPyh0aGlzLmE9W10sdGhpcy5iPW51bGwsbWIodGhpcykpOih0aGlzLmEuc2hpZnQoKSx0aGlzLmEubGVuZ3RoP2xiKHRoaXMsYSk6KHRoaXMubGIucmVzb2x2ZShhKSx0aGlzLmI9bnVsbCkpfSkpLmNhdGNoKEooYSxmdW5jdGlvbihhKXt0aGlzLmE9W107dGhpcy5iPW51bGw7dGhpcy5BYT9tYih0aGlzKTp0aGlzLmxiLnJlamVjdChhKX0pKX0KZnVuY3Rpb24gbWIoYSl7ZnVuY3Rpb24gYigpe3ZhciBhPUVycm9yKCJUYXNrIGFib3J0ZWQuIik7YS50eXBlPSJhYm9ydGVkIjt0aGlzLmxiLnJlamVjdChhKTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhpcy5BYS5yZXNvbHZlKCk7dGhpcy5BYT1udWxsfS5iaW5kKHRoaXMpLDUpfWEuZj9hLmYudGhlbihmdW5jdGlvbigpe3RoaXMuZj1udWxsO2IuY2FsbCh0aGlzKX0uYmluZChhKSk6Yi5jYWxsKGEpfTtmdW5jdGlvbiBKKGEsYil7cmV0dXJuIGIuYmluZChhKX07ZnVuY3Rpb24gbmIoYSxiLGMsZCxlLGYsZyl7TWVkaWFTb3VyY2UuaXNUeXBlU3VwcG9ydGVkKGMpO0YuY2FsbCh0aGlzLGUpO2U9Yi5hZGRTb3VyY2VCdWZmZXIoYyk7dGhpcy5oPWE7dGhpcy5BPWI7dGhpcy5hPWU7dGhpcy5KPWQ7dGhpcy5CPW5ldyBiYjt0aGlzLkk9dGhpcy5sPXRoaXMuWT10aGlzLmk9bnVsbDt0aGlzLlI9ITE7dGhpcy5QPXRoaXMuSz10aGlzLk89MDt0aGlzLkc9bnVsbDt0aGlzLlY9dGhpcy5GPSExO3RoaXMuWj1mO3RoaXMuRD1udWxsO3RoaXMuJD1nP2c6bnVsbDt0aGlzLmI9W107dGhpcy5VPTA7dGhpcy5tPXRoaXMuYz10aGlzLmY9bnVsbDt0aGlzLlQ9amE7dGhpcy5vPXRoaXMudT0wO3RoaXMudz10aGlzLlM9ITE7dGhpcy5nPWMmJmMuY2hhckF0KDApO0UodGhpcy5CLHRoaXMuYSwidXBkYXRlZW5kIix0aGlzLm5kLmJpbmQodGhpcykpO3RoaXMuaC5nZXRCb29sKCJsaXN0ZW5fZm9yX2FzeW5jX2FwcGVuZF9idWZmZXJfZXJyb3JzIiwhMCkmJkUodGhpcy5CLAp0aGlzLmEsImVycm9yIix0aGlzLmFkLmJpbmQodGhpcykpO3RoaXMuaj1udWxsfXIobmIsRik7bmIucHJvdG90eXBlLkJhPWZ1bmN0aW9uKCl7cmV0dXJue1NvdXJjZUJ1ZmZlcjp0aGlzLmF9fTtmdW5jdGlvbiBvYihhLGIsYyl7YS5vYyYmYS5MYShiLHt0eXBlOmEuZy5jaGFyQXQoMCksc2VnbWVudDpjLHNvdXJjZUJ1ZmZlcjphLmF9KX12YXIgcGI9MS82MDtuYi5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuYWJvcnQoKS5jYXRjaChmdW5jdGlvbigpe30pO3RoaXMuYyYmdGhpcy5jLmRlc3Ryb3koKTt0aGlzLmI9dGhpcy5mPXRoaXMuYz1udWxsO3RoaXMuQi5kZXN0cm95KCk7dGhpcy5BPXRoaXMuYT10aGlzLkQ9dGhpcy5CPW51bGx9O2Z1bmN0aW9uIHFiKGEpe3ZhciBiPWEuYi5sZW5ndGg7cmV0dXJuIDA8Yj9hLmJbYi0xXTpudWxsfQpmdW5jdGlvbiByYihhLGIpe2Zvcih2YXIgYz1hLmEuYnVmZmVyZWQsZD0wO2Q8Yy5sZW5ndGg7KytkKXt2YXIgZT1jLnN0YXJ0KGQpLXBiLGY9Yy5lbmQoZCkrcGI7aWYoYj49ZSYmYjw9ZilyZXR1cm4gYy5lbmQoZCktYn1yZXR1cm4gMH1mdW5jdGlvbiBzYihhLGIsYyl7dmFyIGQ9Yi5lbmRUaW1lP2IuZW5kVGltZS1iLnN0YXJ0VGltZToxLGU9bmV3IHRiO2UuTmE9MztlLmM9MUUzKmQ7ZS5iPTFFMyphLlQ7ZS51PWEuWTtlLmo9YztlLmRhPWEuWjtlLm1pbWVUeXBlPWEuZztlLmg9YS4kO2Uubz1iLmlzUHJlZGljdGl2ZTtyZXR1cm4gZX1uPW5iLnByb3RvdHlwZTsKbi5mZXRjaD1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGgpe3ZhciBrLGw9Zj8icmVwbGFjaW5nX2xvd2VyX3F1YWxpdHlfYnVmZmVyIjpudWxsO2lmKHRoaXMubCl7dmFyIG09dGhpcy5iW3RoaXMuYi5sZW5ndGgtMV0scD1udWxsO20mJihwPTFFMyooYS5zdGFydFRpbWUtbS5lbmRUaW1lKSk7az10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJmZXRjaCIpLnNldFJlYXNvbihsKS5zZXRSZXNvdXJjZSh1YihhLnVybCkpLnNldFR5cGUodmIodGhpcykpLnNldExlbmd0aChNYXRoLnJvdW5kKDFFMyooYS5lbmRUaW1lLWEuc3RhcnRUaW1lKSkpLnNldFNlZ21lbnRTdGFydFRpbWUoMUUzKmEuc3RhcnRUaW1lKS5zZXRTZWdtZW50RW5kVGltZSgxRTMqYS5lbmRUaW1lKS5zZXRTZWdtZW50VGltZUdhcChwKS5zdGFydCgpfXRoaXMuaj1rO2lmKHRoaXMuZil7aWYodGhpcy5oLmdldEJvb2woInNibV9lbmFibGVfY29uY3VycmVudF9mZXRjaF9yZXF1ZXN0cyIsITEpKXt2YXIgdD1bXS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7CnJldHVybiB0aGlzLmYubGIudGhlbihKKHRoaXMsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mZXRjaC5hcHBseSh0aGlzLHQpfSksZnVuY3Rpb24oYSl7dGhyb3cgYTt9KX1tPUVycm9yKCJDYW5ub3QgZmV0Y2ggKCIrdGhpcy5nKyIpOiBwcmV2aW91cyBvcGVyYXRpb24gbm90IGNvbXBsZXRlLiIpO3RoaXMudT49dGhpcy5PPyhtLnR5cGU9InN0cmVhbSIsayYmay5zZXRFcnJvcihtKS5sb2coKSx0aGlzLnU9MCk6KHRoaXMudSsrLG0udHlwZT0iYWJvcnRlZCIpO3JldHVybiBQcm9taXNlLnJlamVjdChtKX10aGlzLmY9bmV3IGpiO2MhPXRoaXMuYS50aW1lc3RhbXBPZmZzZXQmJih0aGlzLmEudGltZXN0YW1wT2Zmc2V0PWMpO3ZhciBtPXNiKHRoaXMsYSxlKSxwPXRoaXMuaC5nZXRCb29sKCJlbmFibGVfc3RyZWFtaW5nX2NvZGVfcGF0aCIsITApLHc7dz1wP2EudXJsLnN0cmVhbShtLHRoaXMuSix0aGlzLmwsdGhpcy5qLHRoaXMuSSx2Yih0aGlzKSxsLGcsaCk6YS51cmwuZmV0Y2gobSwKdGhpcy5KLHRoaXMubCx0aGlzLmosdGhpcy5JLHZiKHRoaXMpLGwsZyk7b2IodGhpcywiU2VnbWVudEZldGNoaW5nIixhKTt2YXIgej1LLnByb3RvdHlwZS5LYS5iaW5kKGEudXJsKTt0aGlzLkcmJnRoaXMuRiYmKGQ9dGhpcy5HKTt2YXIgSD0wLGRhPW51bGw7ZCYmKHRoaXMuRz1kLHRoaXMuRj0hMSxrYih0aGlzLmYsZnVuY3Rpb24oKXtyZXR1cm5bZC50aGVuKGZ1bmN0aW9uKGEpe2EuWWE+SCYmKEg9YS5ZYSk7cmV0dXJuIHdiKHRoaXMsYSxudWxsKX0uYmluZCh0aGlzKSksdGhpcy5iYi5iaW5kKHRoaXMpXX0uYmluZCh0aGlzKSkpO3ZhciBlYT1mdW5jdGlvbihhKXthLllhPkgmJihIPWEuWWEpO2RhPWEuYnl0ZUxlbmd0aDt0aGlzLkouZ2V0QmFuZHdpZHRoKCk7dGhpcy5TJiZ0aGlzLmRpc3BhdGNoRXZlbnQoeSh7dHlwZToiY2VhNjA4Q2FwdGlvbnNCeXRlc1JlY2VpdmVkIixidWJibGVzOiEwLGRldGFpbDp7dGltZXNjYWxlOmIsdmlkZW9CeXRlczphfX0pKX0uYmluZCh0aGlzKTsKcD8oaCYmKG09aC5nZXRQcm9ncmVzc1RyYWNrZXIoKSx0aGlzLmkhPT1tJiYodGhpcy5pPW0pKSxrYih0aGlzLmYsSih0aGlzLGZ1bmN0aW9uKCl7dmFyIGI9bnVsbCxjPU1hdGgubWF4KDAsKGEudXJsLmVuZEJ5dGV8fDApLWEudXJsLnN0YXJ0Qnl0ZSksZD10aGlzLmguZ2V0TnVtYmVyKCJzdHJlYW1pbmdfYXBwZW5kX3Blcl9zZWdtZW50IiwzKSxlPTA9PT1kPzA6Yy9kO3JldHVyblt3LnRoZW4oZnVuY3Rpb24oYyl7Yj1jO3RoaXMudz0hMTtyZXR1cm4geGIodGhpcyxjLGEsZSl9LmJpbmQodGhpcykpLnRoZW4oZnVuY3Rpb24oYSl7Yj1udWxsO3JldHVybiBhfSkudGhlbihlYSkuY2F0Y2goZnVuY3Rpb24oYSl7dGhpcy5oLmdldEJvb2woImFib3J0X2ZldGNoX29uX25ldF9lcnJvciIsITEpJiZoJiYodGhpcy5hLmFib3J0KCksdGhpcy53PSEwKTtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYSl9LmJpbmQodGhpcykpLGZ1bmN0aW9uKCl7b2IodGhpcywiU2VnbWVudEZhaWxlZCIsYSk7CmImJihiLmNhbmNlbCgiYWJvcnQiKSxiPW51bGwsaCYmKHRoaXMuYS5hYm9ydCgpLHRoaXMudz0hMCkpO3ooKTtyZXR1cm4gdGhpcy5iYigpfS5iaW5kKHRoaXMpXX0pKSk6a2IodGhpcy5mLEoodGhpcyxmdW5jdGlvbigpe3JldHVyblt3LnRoZW4oZnVuY3Rpb24oYil7b2IodGhpcywiU2VnbWVudEZldGNoZWQiLGEpO2VhKGIpO3JldHVybiB3Yih0aGlzLGIsYSxsKX0uYmluZCh0aGlzKSksZnVuY3Rpb24oKXtvYih0aGlzLCJTZWdtZW50RmFpbGVkIixhKTt6KCk7cmV0dXJuIHRoaXMuYmIoKX0uYmluZCh0aGlzKV19KSk7dmFyIEFhPTA9PXRoaXMuYS5idWZmZXJlZC5sZW5ndGgmJjA9PXRoaXMuYi5sZW5ndGgsY2I9bnVsbDtrYih0aGlzLmYsZnVuY3Rpb24oKXtpZigwPT10aGlzLmEuYnVmZmVyZWQubGVuZ3RoJiYhdGhpcy5WKXt2YXIgYj1FcnJvcigiRmFpbGVkIHRvIGJ1ZmZlciBzZWdtZW50ICgiK3RoaXMuZysiKS4iKTtiLnR5cGU9InN0cmVhbSI7cmV0dXJuW1Byb21pc2UucmVqZWN0KGIpXX10aGlzLmEuYnVmZmVyZWQubGVuZ3RoJiYKQWEmJihiPWEuc3RhcnRUaW1lLGNiPXRoaXMuYS5idWZmZXJlZC5zdGFydCgwKS1iKTtiPXliKHRoaXMuYixhLnN0YXJ0VGltZSk7MDw9Yj90aGlzLmIuc3BsaWNlKGIrMSwwLGEpOnRoaXMuYi5wdXNoKGEpfS5iaW5kKHRoaXMpKTt0aGlzLnU9MDtyZXR1cm4gemIodGhpcykudGhlbihmdW5jdGlvbigpe2smJmsubG9nKCk7cmV0dXJuIFByb21pc2UucmVzb2x2ZSh7VzpjYixXYzpILEg6YS5lbmRUaW1lLWEuc3RhcnRUaW1lLERjOmRhfSl9LmJpbmQodGhpcyksZnVuY3Rpb24oYSl7ayYmay5zZXRFcnJvcihhKS5sb2coKTthPUFiKGEsInRhc2siLCJBbiB1bmtub3duIHRhc2sgZXJyb3Igb2NjdXJyZWQuIik7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfS5iaW5kKHRoaXMpKX07CmZ1bmN0aW9uIHhiKGEsYixjLGQpe3ZhciBlPW5ldyBBcnJheUJ1ZmZlcigwKSxmPW5ldyBBcnJheUJ1ZmZlcigwKSxnPWZ1bmN0aW9uKCl7cmV0dXJuIGIucmVhZCgpLnRoZW4oZnVuY3Rpb24oYSl7dmFyIGI9YS52YWx1ZTthPWEuZG9uZTtpZih0aGlzLnd8fGEmJjA9PT1mLmJ5dGVMZW5ndGgpcmV0dXJuIGU7aWYoIWEmJiFiKXJldHVybiBnKCk7YiYmKGIgaW5zdGFuY2VvZiBVaW50OEFycmF5JiYoYj1iLmJ1ZmZlciksZj1jb25jYXRBcnJheUJ1ZmZlcihmLGIpKTtyZXR1cm4gZi5ieXRlTGVuZ3RoPj1kfHxhPyh0aGlzLmkmJnRoaXMuaS5ub3RpZnlCeXRlc0NvbnN1bWVkKGYuYnl0ZUxlbmd0aCksb2IodGhpcywiU2VnbWVudEZldGNoZWQiLGMpLGU9Y29uY2F0QXJyYXlCdWZmZXIoZSxmKSxiPWYsZj1uZXcgQXJyYXlCdWZmZXIoMCksd2IodGhpcyxiLGMpLnRoZW4oZykpOmcoKX0uYmluZCh0aGlzKSl9LmJpbmQoYSk7cmV0dXJuIGcoKX0KZnVuY3Rpb24gQmIoYSl7aWYoYS5mKXt2YXIgYj1FcnJvcigiQ2Fubm90IGNsZWFyICgiK2EuZysiKTogcHJldmlvdXMgb3BlcmF0aW9uIG5vdCBjb21wbGV0ZS4iKTthLm8+PWEuSz8oYi50eXBlPSJzdHJlYW0iLGEubz0wKTooYS5vKyssYi50eXBlPSJhYm9ydGVkIik7cmV0dXJuIFByb21pc2UucmVqZWN0KGIpfWEuZj1uZXcgamI7a2IoYS5mLGZ1bmN0aW9uKCl7dmFyIGE7YTppZigwPT10aGlzLmEuYnVmZmVyZWQubGVuZ3RoKWE9UHJvbWlzZS5yZXNvbHZlKCk7ZWxzZXt0cnl7dGhpcy5hLnJlbW92ZSgwLHRoaXMuQS5kdXJhdGlvbil9Y2F0Y2goYil7Yj1BYihiLCJjbGVhcl9idWZmZXIiLCJBbiBlcnJvciBvY2N1cmVkIHdoZW4gY2xlYXJpbmcgdGhlIGJ1ZmZlci4iKTthPVByb21pc2UucmVqZWN0KGIpO2JyZWFrIGF9dGhpcy5iPVtdO2E9dGhpcy5jPW5ldyBJfXJldHVyblthLHRoaXMuYmIuYmluZCh0aGlzKV19LmJpbmQoYSkpO2Eubz0wO3JldHVybiB6YihhKX0KZnVuY3Rpb24gQ2IoYSxiKXtpZihhLmYpe3ZhciBjPUVycm9yKCJDYW5ub3QgY2xlYXJBZnRlciAoIithLmcrIik6IHByZXZpb3VzIG9wZXJhdGlvbiBub3QgY29tcGxldGUuIik7Yy50eXBlPSJzdHJlYW0iO3JldHVybiBQcm9taXNlLnJlamVjdChjKX1hLmY9bmV3IGpiO2tiKGEuZixmdW5jdGlvbigpe3JldHVybltEYih0aGlzLGIpLHRoaXMuYmIuYmluZCh0aGlzKV19LmJpbmQoYSkpO3JldHVybiB6YihhKX1mdW5jdGlvbiBFYihhLGIpe2EuYz1uZXcgSTt2YXIgYz1iLTU7aWYoMDxjKXt0cnl7YS5hLnJlbW92ZSgwLGMpfWNhdGNoKGQpe3JldHVybiBkPUFiKGQsImNsZWFyX2J1ZmZlciIsIkFuIGVycm9yIG9jY3VyZWQgd2hlbiBjbGVhcmluZyB0aGUgYnVmZmVyLiIpLFByb21pc2UucmVqZWN0KGQpfWM9RmIoYSxjKTswPGMmJihhLmI9YS5iLnNsaWNlKGMsYS5iLmxlbmd0aCkpfWVsc2UgYS5jLnJlc29sdmUoKTtyZXR1cm4gYS5jfQpuLmFib3J0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZj90aGlzLmYuYWJvcnQoKTpQcm9taXNlLnJlc29sdmUoKX07ZnVuY3Rpb24gR2IoYSl7Zm9yKHZhciBiPWEuY3VycmVudFRpbWUsYz1iLGQ9MDtkPGEuYnVmZmVyZWQubGVuZ3RoO2QrKylpZihiPD1hLmJ1ZmZlcmVkLnN0YXJ0KGQpKXtjPWEuYnVmZmVyZWQuc3RhcnQoZCk7YnJlYWt9cmV0dXJuIGN9ZnVuY3Rpb24gSGIoYSxiKXtmb3IodmFyIGM9Yi5jdXJyZW50VGltZSxkPTA7ZDxiLmJ1ZmZlcmVkLmxlbmd0aDtkKyspaWYoYz49Yi5idWZmZXJlZC5zdGFydChkKSYmYzw9Yi5idWZmZXJlZC5lbmQoZCktYS5QKXJldHVybiExO3JldHVybiEwfQpmdW5jdGlvbiB6YihhKXthLmYuc3RhcnQoKTtyZXR1cm4gYS5mLmxiLnRoZW4oSihhLGZ1bmN0aW9uKCl7dGhpcy5mPW51bGx9KSkuY2F0Y2goSihhLGZ1bmN0aW9uKGEpe3RoaXMuZj1udWxsO2E9QWIoYSwidGFzayIsIkFuIHVua25vd24gdGFzayBlcnJvciBvY2N1cnJlZC4iKTtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYSl9KSl9CmZ1bmN0aW9uIHdiKGEsYixjLGQpe3ZhciBlO2lmKGEubCl7dmFyIGY9Yz91YihjLnVybCk6ImluaXQiO2U9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigiYXBwZW5kIikuc2V0UmVhc29uKGQpLnNldFJlc291cmNlKGYpLnNldFR5cGUodmIoYSkpLnNldExlbmd0aChiLmJ5dGVMZW5ndGgpLnN0YXJ0KCk7bnVsbCE9PWMmJihlPWUuc2V0U2VnbWVudFN0YXJ0VGltZSgxRTMqYy5zdGFydFRpbWUpLnNldFNlZ21lbnRFbmRUaW1lKDFFMypjLmVuZFRpbWUpKTthLmomJihlPWUuc2V0UGFyZW50TG9nZ2VyKGEuaikpfXRyeXthLmEuYXBwZW5kQnVmZmVyKGIpfWNhdGNoKGcpe3JldHVybiBhLmguZ2V0Qm9vbCgibnVrZV9zb3VyY2VfYnVmZmVyX29uX3F1b3RhX2V4Y2VlZGVkX2VyciIsITApJiZnIGluc3RhbmNlb2YgRE9NRXhjZXB0aW9uJiZnLmNvZGU9PT1ET01FeGNlcHRpb24uUVVPVEFfRVhDRUVERURfRVJSJiZnLm1lc3NhZ2UubWF0Y2goL14uKlNvdXJjZUJ1ZmZlci4qZnVsbC4qZnJlZVxzc3BhY2UuKiQvKSYmCihnLnR5cGU9InNvdXJjZWJ1ZmZlcl9mdWxsIiksZSYmZS5zZXRFcnJvcihnKS5sb2coKSxQcm9taXNlLnJlamVjdChnKX1hLmM9bmV3IEk7YS5tPWM7cmV0dXJuIGEuYy50aGVuKGZ1bmN0aW9uKCl7ZSYmZS5sb2coKX0sZnVuY3Rpb24oYSl7ZSYmZS5zZXRFcnJvcihhKS5sb2coKTtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYSl9KX1uLmFkPWZ1bmN0aW9uKGEpe2E9YS5lcnJvcnx8RXJyb3IoIkNhbGwgdG8gYXBwZW5kQnVmZmVyIGZhaWxlZCB0byBhcHBlbmQgdGhlIHNlZ21lbnQuIik7YT1BYihhLCJzdHJlYW0iLCJDYWxsIHRvIGFwcGVuZEJ1ZmZlciBmYWlsZWQgdG8gYXBwZW5kIHRoZSBzZWdtZW50LiIpO3RoaXMuYyYmdGhpcy5jLnJlamVjdChhKX07CmZ1bmN0aW9uIERiKGEsYil7aWYoMD09YS5hLmJ1ZmZlcmVkLmxlbmd0aClyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7dmFyIGM9RmIoYSxiKTtpZigtMT09Y3x8Yz09YS5iLmxlbmd0aC0xKXJldHVybiBQcm9taXNlLnJlc29sdmUoKTt0cnl7YS5hLnJlbW92ZShhLmJbYysxXS5zdGFydFRpbWUsYS5BLmR1cmF0aW9uKX1jYXRjaChkKXtyZXR1cm4gUHJvbWlzZS5yZWplY3QoZCl9YS5iPWEuYi5zbGljZSgwLGMrMSk7YS5jPW5ldyBJO3JldHVybiBhLmN9bi5iYj1mdW5jdGlvbigpe2lmKHRoaXMuYyl7aWYoIm9wZW4iPT10aGlzLkEucmVhZHlTdGF0ZSl7dmFyIGE9RXJyb3IoIlByZXZpb3VzIG9wZXJhdGlvbiBhYm9ydGVkLiIpO2EudHlwZT0iYWJvcnRlZCI7dGhpcy5jLnJlamVjdChhKTt0aGlzLmEuYWJvcnQoKTt0aGlzLlImJih0aGlzLkY9ITApO3RoaXMuYz1uZXcgSX1yZXR1cm4gdGhpcy5jfXJldHVybiBQcm9taXNlLnJlc29sdmUoKX07Cm4ubmQ9ZnVuY3Rpb24oKXt0aGlzLmMmJih0aGlzLm0mJihvYih0aGlzLCJTZWdtZW50QXBwZW5kZWQiLHRoaXMubSksdGhpcy5tPW51bGwpLHRoaXMuYy5yZXNvbHZlKCksdGhpcy5jPW51bGwpfTtuLkRkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaX07bmIucHJvdG90eXBlLmdldFN0cmVhbVByb2dyZXNzVHJhY2tlcj1uYi5wcm90b3R5cGUuRGQ7ZnVuY3Rpb24gdmIoYSl7cmV0dXJuInYiPT09YS5nLmNoYXJBdCgwKT8idmlkZW8iOiJhIj09PWEuZy5jaGFyQXQoMCk/ImF1ZGlvIjpudWxsfWZ1bmN0aW9uIEFiKGEsYixjKXthfHwoYT1FcnJvcihjKSk7YS50eXBlfHwoYS50eXBlPWIpO2EubWVzc2FnZXx8KGEubWVzc2FnZT1jKTtyZXR1cm4gYX0KZnVuY3Rpb24gRmIoYSxiKXtpZihhLmguZ2V0Qm9vbCgic2JtX3VzZV9zZWdtZW50X2luZGV4X3RvX2ZpbmRfdGltZXN0YW1wcyIsITEpJiZhLkQpe3ZhciBjPWEuRC5maW5kKGIpO2lmKGMpcmV0dXJuIHliKGEuYixjLnN0YXJ0VGltZSl9ZWxzZSByZXR1cm4geWIoYS5iLGIpO3JldHVybi0xfTtmdW5jdGlvbiBJYihhKXtyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLGEpfXEoInNoYWthLnV0aWwuVWludDhBcnJheVV0aWxzLnRvU3RyaW5nIixJYik7ZnVuY3Rpb24gSmIoYSl7Zm9yKHZhciBiPW5ldyBVaW50OEFycmF5KGEubGVuZ3RoKSxjPTA7YzxhLmxlbmd0aDsrK2MpYltjXT1hLmNoYXJDb2RlQXQoYyk7cmV0dXJuIGJ9cSgic2hha2EudXRpbC5VaW50OEFycmF5VXRpbHMuZnJvbVN0cmluZyIsSmIpO3EoInNoYWthLnV0aWwuVWludDhBcnJheVV0aWxzLnRvQmFzZTY0IixmdW5jdGlvbihhLGIpe3ZhciBjPXZvaWQgMD09Yj8hMDpiLGQ9d2luZG93LmJ0b2EoSWIoYSkpLnJlcGxhY2UoL1wrL2csIi0iKS5yZXBsYWNlKC9cLy9nLCJfIik7cmV0dXJuIGM/ZDpkLnJlcGxhY2UoLz0qJC8sIiIpfSk7ZnVuY3Rpb24gS2IoYSl7cmV0dXJuIEpiKHdpbmRvdy5hdG9iKGEucmVwbGFjZSgvLS9nLCIrIikucmVwbGFjZSgvXy9nLCIvIikpKX0KcSgic2hha2EudXRpbC5VaW50OEFycmF5VXRpbHMuZnJvbUJhc2U2NCIsS2IpO3EoInNoYWthLnV0aWwuVWludDhBcnJheVV0aWxzLmZyb21IZXgiLGZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1uZXcgVWludDhBcnJheShhLmxlbmd0aC8yKSxjPTA7YzxhLmxlbmd0aDtjKz0yKWJbYy8yXT13aW5kb3cucGFyc2VJbnQoYS5zdWJzdHIoYywyKSwxNik7cmV0dXJuIGJ9KTtmdW5jdGlvbiBMYihhKXtmb3IodmFyIGI9IiIsYz0wO2M8YS5sZW5ndGg7KytjKXt2YXIgZD1hW2NdLnRvU3RyaW5nKDE2KTsxPT1kLmxlbmd0aCYmKGQ9IjAiK2QpO2IrPWR9cmV0dXJuIGJ9cSgic2hha2EudXRpbC5VaW50OEFycmF5VXRpbHMudG9IZXgiLExiKTtmdW5jdGlvbiBNYShhLGIpe2lmKCFhJiYhYilyZXR1cm4hMDtpZighYXx8IWJ8fGEubGVuZ3RoIT1iLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIGM9MDtjPGEubGVuZ3RoOysrYylpZihhW2NdIT1iW2NdKXJldHVybiExO3JldHVybiEwfTtmdW5jdGlvbiBNYigpe3RoaXMuaT10aGlzLmE9IiI7dGhpcy53aXRoQ3JlZGVudGlhbHM9ITE7dGhpcy5vPXRoaXMuZj1udWxsO3RoaXMuaj10aGlzLmg9ITE7dGhpcy5tPXRoaXMuZz0iIjt0aGlzLmM9bnVsbDt0aGlzLmI9W119ZnVuY3Rpb24gTmIoYSxiKXt2YXIgYz1uZXcgTWI7Yy5hPWEuYTtjLmk9YS5pO2Mud2l0aENyZWRlbnRpYWxzPWEud2l0aENyZWRlbnRpYWxzO2MuZj1hLmY7Yy5vPWEubztjLmg9YS5oO2Muaj1hLmo7Yy5nPWEuZztjLm09YS5tO2MuYz1hLmM/bmV3IFVpbnQ4QXJyYXkoYS5jLmJ1ZmZlcik6bnVsbDtPYihjLGEuYik7T2IoYyxiLmIpO3JldHVybiBjfWZ1bmN0aW9uIE9iKGEsYil7dmFyIGM9YS5iLmNvbmNhdChiLm1hcChmdW5jdGlvbihhKXtyZXR1cm57aW5pdERhdGE6bmV3IFVpbnQ4QXJyYXkoYS5pbml0RGF0YS5idWZmZXIpLGluaXREYXRhVHlwZTphLmluaXREYXRhVHlwZX19KSk7YS5iPXdhKGMpfQpmdW5jdGlvbiB4YShhLGIpe3JldHVybiBhLmluaXREYXRhVHlwZT09Yi5pbml0RGF0YVR5cGUmJk1hKGEuaW5pdERhdGEsYi5pbml0RGF0YSl9O2Z1bmN0aW9uIFBiKGEsYixjLGQpe3RoaXMud2l0aENyZWRlbnRpYWxzPWM7dGhpcy5hPVtdO2QmJnRoaXMuYS5wdXNoKGQpfXEoInNoYWthLnBsYXllci5Ecm1TY2hlbWVJbmZvIixQYik7UGIuRGlzdGluY3RpdmVJZGVudGlmaWVyPXtPUFRJT05BTDowLFJFUVVJUkVEOjF9O1BiLlBlcnNpc3RlbnRTdGF0ZT17T1BUSU9OQUw6MCxSRVFVSVJFRDoxfTtQYi5jcmVhdGVVbmVuY3J5cHRlZD1mdW5jdGlvbigpe3JldHVybiBuZXcgUGIoMCwwLCExLG51bGwpfTtmdW5jdGlvbiBRYihhKXt0aGlzLnN5c3RlbUlkcz1bXTt0aGlzLmNlbmNLZXlJZHM9W107dGhpcy5hPVtdO2E9bmV3IEJhKG5ldyBEYXRhVmlldyhhLmJ1ZmZlcikpO3RyeXtmb3IoO0RhKGEpOyl7dmFyIGI9YS5hLGM9dihhKSxkPXYoYSk7MT09Yz9jPUZhKGEpOjA9PWMmJihjPWEuYi5ieXRlTGVuZ3RoLWIpO2lmKDE4ODY2MTQzNzYhPWQpSGEoYSxjLShhLmEtYikpO2Vsc2V7dmFyIGU9RWEoYSk7aWYoMTxlKUhhKGEsYy0oYS5hLWIpKTtlbHNle0hhKGEsMyk7dmFyIGY9TGIoR2EoYSkpLGc9W107aWYoMDxlKWZvcih2YXIgaD12KGEpLGs9MDtrPGg7KytrKXt2YXIgbD1MYihHYShhKSk7Zy5wdXNoKGwpfXZhciBtPXYoYSk7SGEoYSxtKTt0aGlzLmNlbmNLZXlJZHMucHVzaC5hcHBseSh0aGlzLmNlbmNLZXlJZHMsZyk7dGhpcy5zeXN0ZW1JZHMucHVzaChmKTt0aGlzLmEucHVzaCh7c3RhcnQ6YixlbmQ6YS5hLTF9KTthLmEhPWIrYyYmSGEoYSxjLShhLmEtYikpfX19fWNhdGNoKHApe319Cjt2YXIgUmI9L14oPzooW146Lz8jLl0rKTopPyg/OlwvXC8oPzooW14vPyNdKilAKT8oW14vIz9dKj8pKD86OihbMC05XSspKT8oPz1bLyM/XXwkKSk/KFtePyNdKyk/KD86XD8oW14jXSopKT8oPzojKC4qKSk/JC87ZnVuY3Rpb24gTChhKXt2YXIgYjthIGluc3RhbmNlb2YgTD8oU2IodGhpcyxhLnphKSx0aGlzLlVhPWEuVWEsdGhpcy5oYT1hLmhhLFRiKHRoaXMsYS5YYSksdGhpcy51YT1hLnVhLFViKHRoaXMsYS5hLmNsb25lKCkpLHRoaXMuTWE9YS5NYSk6YSYmKGI9U3RyaW5nKGEpLm1hdGNoKFJiKSk/KFNiKHRoaXMsYlsxXXx8IiIsITApLHRoaXMuVWE9VmIoYlsyXXx8IiIpLHRoaXMuaGE9VmIoYlszXXx8IiIsITApLFRiKHRoaXMsYls0XSksdGhpcy51YT1WYihiWzVdfHwiIiwhMCksVWIodGhpcyxiWzZdfHwiIiwhMCksdGhpcy5NYT1WYihiWzddfHwiIikpOnRoaXMuYT1uZXcgV2IobnVsbCl9bj1MLnByb3RvdHlwZTtuLnphPSIiO24uVWE9IiI7bi5oYT0iIjtuLlhhPW51bGw7bi51YT0iIjtuLk1hPSIiOwpuLnRvU3RyaW5nPWZ1bmN0aW9uKCl7dmFyIGE9W10sYj10aGlzLnphO2ImJmEucHVzaChYYihiLFliLCEwKSwiOiIpO2lmKGI9dGhpcy5oYSl7YS5wdXNoKCIvLyIpO3ZhciBjPXRoaXMuVWE7YyYmYS5wdXNoKFhiKGMsWWIsITApLCJAIik7YS5wdXNoKGVuY29kZVVSSUNvbXBvbmVudChiKS5yZXBsYWNlKC8lMjUoWzAtOWEtZkEtRl17Mn0pL2csIiUkMSIpKTtiPXRoaXMuWGE7bnVsbCE9YiYmYS5wdXNoKCI6IixTdHJpbmcoYikpfWlmKGI9dGhpcy51YSl0aGlzLmhhJiYiLyIhPWIuY2hhckF0KDApJiZhLnB1c2goIi8iKSxhLnB1c2goWGIoYiwiLyI9PWIuY2hhckF0KDApP1piOiRiLCEwKSk7KGI9dGhpcy5hLnRvU3RyaW5nKCkpJiZhLnB1c2goIj8iLGIpOyhiPXRoaXMuTWEpJiZhLnB1c2goIiMiLFhiKGIsYWMpKTtyZXR1cm4gYS5qb2luKCIiKX07Cm4ucmVzb2x2ZT1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmNsb25lKCk7ImRhdGEiPT09Yi56YSYmKGI9bmV3IEwpO3ZhciBjPSEhYS56YTtjP1NiKGIsYS56YSk6Yz0hIWEuVWE7Yz9iLlVhPWEuVWE6Yz0hIWEuaGE7Yz9iLmhhPWEuaGE6Yz1udWxsIT1hLlhhO3ZhciBkPWEudWE7aWYoYylUYihiLGEuWGEpO2Vsc2UgaWYoYz0hIWEudWEpe2lmKCIvIiE9ZC5jaGFyQXQoMCkpaWYodGhpcy5oYSYmIXRoaXMudWEpZD0iLyIrZDtlbHNle3ZhciBlPWIudWEubGFzdEluZGV4T2YoIi8iKTstMSE9ZSYmKGQ9Yi51YS5zdWJzdHIoMCxlKzEpK2QpfWlmKCIuLiI9PWR8fCIuIj09ZClkPSIiO2Vsc2UgaWYoLTEhPWQuaW5kZXhPZigiLi8iKXx8LTEhPWQuaW5kZXhPZigiLy4iKSl7Zm9yKHZhciBlPTA9PWQubGFzdEluZGV4T2YoIi8iLDApLGQ9ZC5zcGxpdCgiLyIpLGY9W10sZz0wO2c8ZC5sZW5ndGg7KXt2YXIgaD1kW2crK107Ii4iPT1oP2UmJmc9PWQubGVuZ3RoJiZmLnB1c2goIiIpOiIuLiI9PQpoPygoMTxmLmxlbmd0aHx8MT09Zi5sZW5ndGgmJiIiIT1mWzBdKSYmZi5wb3AoKSxlJiZnPT1kLmxlbmd0aCYmZi5wdXNoKCIiKSk6KGYucHVzaChoKSxlPSEwKX1kPWYuam9pbigiLyIpfX1jP2IudWE9ZDpjPSIiIT09YS5hLnRvU3RyaW5nKCk7Yz9VYihiLGEuYS5jbG9uZSgpKTpjPSEhYS5NYTtjJiYoYi5NYT1hLk1hKTtyZXR1cm4gYn07bi5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgTCh0aGlzKX07ZnVuY3Rpb24gU2IoYSxiLGMpe2EuemE9Yz9WYihiLCEwKTpiO2EuemEmJihhLnphPWEuemEucmVwbGFjZSgvOiQvLCIiKSl9ZnVuY3Rpb24gVGIoYSxiKXtpZihiKXtiPU51bWJlcihiKTtpZihpc05hTihiKXx8MD5iKXRocm93IEVycm9yKCJCYWQgcG9ydCBudW1iZXIgIitiKTthLlhhPWJ9ZWxzZSBhLlhhPW51bGx9ZnVuY3Rpb24gVWIoYSxiLGMpe2IgaW5zdGFuY2VvZiBXYj9hLmE9YjooY3x8KGI9WGIoYixiYykpLGEuYT1uZXcgV2IoYikpfQpmdW5jdGlvbiBWYihhLGIpe3JldHVybiBhP2I/ZGVjb2RlVVJJKGEpOmRlY29kZVVSSUNvbXBvbmVudChhKToiIn1mdW5jdGlvbiBYYihhLGIsYyl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBhPyhhPWVuY29kZVVSSShhKS5yZXBsYWNlKGIsY2MpLGMmJihhPWEucmVwbGFjZSgvJTI1KFswLTlhLWZBLUZdezJ9KS9nLCIlJDEiKSksYSk6bnVsbH1mdW5jdGlvbiBjYyhhKXthPWEuY2hhckNvZGVBdCgwKTtyZXR1cm4iJSIrKGE+PjQmMTUpLnRvU3RyaW5nKDE2KSsoYSYxNSkudG9TdHJpbmcoMTYpfXZhciBZYj0vWyNcL1w/QF0vZywkYj0vW1wjXD86XS9nLFpiPS9bXCNcP10vZyxiYz0vW1wjXD9AXS9nLGFjPS8jL2c7ZnVuY3Rpb24gV2IoYSl7dGhpcy5iPWF8fG51bGx9V2IucHJvdG90eXBlLmE9bnVsbDtXYi5wcm90b3R5cGUuYz1udWxsOwpmdW5jdGlvbiBkYyhhLGIsYyl7aWYoIWEuYSYmKGEuYT17fSxhLmM9MCxhLmIpKWZvcih2YXIgZD1hLmIuc3BsaXQoIiYiKSxlPTA7ZTxkLmxlbmd0aDtlKyspe3ZhciBmPWRbZV0uaW5kZXhPZigiPSIpLGc9bnVsbCxoPW51bGw7MDw9Zj8oZz1kW2VdLnN1YnN0cmluZygwLGYpLGg9ZFtlXS5zdWJzdHJpbmcoZisxKSk6Zz1kW2VdO2c9ZGVjb2RlVVJJQ29tcG9uZW50KGcucmVwbGFjZSgvXCsvZywiICIpKTtoPWh8fCIiO2RjKGEsZyxkZWNvZGVVUklDb21wb25lbnQoaC5yZXBsYWNlKC9cKy9nLCIgIikpKX1hLmI9bnVsbDsoZD1hLmEuaGFzT3duUHJvcGVydHkoYikmJmEuYVtiXSl8fChhLmFbYl09ZD1bXSk7ZC5wdXNoKGMpO2EuYysrfQpXYi5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtpZih0aGlzLmIpcmV0dXJuIHRoaXMuYjtpZighdGhpcy5hKXJldHVybiIiO3ZhciBhPVtdLGI7Zm9yKGIgaW4gdGhpcy5hKWZvcih2YXIgYz1lbmNvZGVVUklDb21wb25lbnQoYiksZD10aGlzLmFbYl0sZT0wO2U8ZC5sZW5ndGg7ZSsrKXt2YXIgZj1jOyIiIT09ZFtlXSYmKGYrPSI9IitlbmNvZGVVUklDb21wb25lbnQoZFtlXSkpO2EucHVzaChmKX1yZXR1cm4gdGhpcy5iPWEuam9pbigiJiIpfTtXYi5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgV2I7YS5iPXRoaXMuYjtpZih0aGlzLmEpe3ZhciBiPXt9LGM7Zm9yKGMgaW4gdGhpcy5hKWJbY109dGhpcy5hW2NdLmNvbmNhdCgpO2EuYT1iO2EuYz10aGlzLmN9cmV0dXJuIGF9O2Z1bmN0aW9uIGVjKGEsYixjKXt2YXIgZD1hLmluZGV4T2YoIjw/eG1sIik7MDw9ZCYmKGE9YS5zdWJzdHIoZCkpO2E9KG5ldyBET01QYXJzZXIpLnBhcnNlRnJvbVN0cmluZyhhLCJ0ZXh0L3htbCIpO2lmKCFhKXJldHVybiBudWxsOyJzdHJpbmciPT09dHlwZW9mIGImJihiPVtuZXcgTChiKV0pO2I9Ynx8W25ldyBMKCIiKV07Yz1jfHxbbmV3IEwoIiIpXTtyZXR1cm4gTSh7QWM6YixiYXNlVXJsOmN9LGEsZmMpfXEoInNoYWthLmRhc2gubXBkLnBhcnNlTXBkIixlYyk7CmZ1bmN0aW9uIGZjKCl7dGhpcy5pZD10aGlzLnVybD1udWxsO3RoaXMudHlwZT0ic3RhdGljIjt0aGlzLkZCSXNMaXZlVGVtcGxhdGVkPXRoaXMuRkJXYXNMaXZlPXRoaXMubWFuaWZlc3RJc0xpdmVTdHJlYW1pbmc9ITE7dGhpcy5GQk1hbmlmZXN0SWRlbnRpZmllcj0iIjt0aGlzLkZCTVM9ITE7dGhpcy51PXRoaXMuYmFzZVVybD10aGlzLkFjPW51bGw7dGhpcy5qPXRoaXMuaT10aGlzLmg9MDt0aGlzLmI9bnVsbDt0aGlzLm09NTt0aGlzLmY9dGhpcy5jPXRoaXMuZz1udWxsO3RoaXMubz0xO3RoaXMubGFzdFZpZGVvRnJhbWVUcz10aGlzLmN1cnJlbnRTZXJ2ZXJUaW1lTXM9MDt0aGlzLmE9W119ZnVuY3Rpb24gZ2MoKXt0aGlzLmY9dGhpcy5jPXRoaXMuYj10aGlzLmJhc2VVcmw9dGhpcy5kdXJhdGlvbj10aGlzLnN0YXJ0PXRoaXMuaWQ9bnVsbDt0aGlzLmE9W119CmZ1bmN0aW9uIGhjKCl7dGhpcy5jPXRoaXMuY29kZWNzPXRoaXMubWltZVR5cGU9dGhpcy5oZWlnaHQ9dGhpcy53aWR0aD10aGlzLmNvbnRlbnRUeXBlPXRoaXMubGFuZz10aGlzLmdyb3VwPXRoaXMuaWQ9bnVsbDt0aGlzLmY9ITE7dGhpcy5pPXRoaXMuaD10aGlzLmc9dGhpcy5iYXNlVXJsPW51bGw7dGhpcy5qPVtdO3RoaXMuYT1bXTt0aGlzLmI9bnVsbH1mdW5jdGlvbiBpYygpe3RoaXMudmFsdWU9bnVsbH1mdW5jdGlvbiBqYygpe3RoaXMubGFuZz10aGlzLmE9bnVsbH1mdW5jdGlvbiBrYygpe3RoaXMuY29udGVudFR5cGU9dGhpcy5sYW5nPXRoaXMuaWQ9bnVsbH1mdW5jdGlvbiBsYygpe3RoaXMuZGF0YT1udWxsfWZ1bmN0aW9uIG1jKCl7dGhpcy5kYXRhPW51bGx9CmZ1bmN0aW9uIG5jKCl7dGhpcy5hPXRoaXMuYj10aGlzLmY9dGhpcy5pPXRoaXMuYmFzZVVybD10aGlzLmo9dGhpcy5mcmFtZVJhdGU9dGhpcy51PXRoaXMubz10aGlzLm09dGhpcy5mYlF1YWxpdHlDbGFzcz10aGlzLmZiUXVhbGl0eUxhYmVsPXRoaXMuaD10aGlzLmc9dGhpcy5jb2RlY3M9dGhpcy5taW1lVHlwZT10aGlzLmhlaWdodD10aGlzLndpZHRoPXRoaXMuYmFuZHdpZHRoPXRoaXMubGFuZz10aGlzLmlkPW51bGw7dGhpcy5jPVtdfWZ1bmN0aW9uIG9jKCl7dGhpcy52YWx1ZT10aGlzLmE9bnVsbH1vYy5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgb2M7YS5hPXRoaXMuYTthLnZhbHVlPXRoaXMudmFsdWU7cmV0dXJuIGF9O29jLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMuYT1OKGIsInNjaGVtZUlkVXJpIixPLHRoaXMuYSk7dGhpcy52YWx1ZT1OKGIsInZhbHVlIixPLHRoaXMudmFsdWUpfTsKZnVuY3Rpb24gcGMoKXt0aGlzLmI9dGhpcy5hPXRoaXMuZj10aGlzLmM9bnVsbH1mdW5jdGlvbiBxYygpe3RoaXMucGFyc2VkUHNzaD10aGlzLnBzc2hCb3g9bnVsbH1mdW5jdGlvbiByYygpe3RoaXMudXJsPW51bGx9ZnVuY3Rpb24gc2MoKXt0aGlzLnVybD1udWxsfWZ1bmN0aW9uIHRjKCl7dGhpcy5iYXNlVXJsPW51bGw7dGhpcy5zPTE7dGhpcy5jPXRoaXMuYj10aGlzLmY9dGhpcy5hPXRoaXMuTD1udWxsfXRjLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyB0YzthLmJhc2VVcmw9dWModGhpcy5iYXNlVXJsKTthLnM9dGhpcy5zO2EuTD10aGlzLkw7YS5hPXZjKHRoaXMuYSk7YS5mPXZjKHRoaXMuZik7YS5iPXZjKHRoaXMuYik7YS5jPXZjKHRoaXMuYyk7cmV0dXJuIGF9O2Z1bmN0aW9uIHdjKCl7dGhpcy5hPXRoaXMudXJsPW51bGx9CndjLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyB3YzthLnVybD11Yyh0aGlzLnVybCk7YS5hPXZjKHRoaXMuYSk7cmV0dXJuIGF9O2Z1bmN0aW9uIHhjKCl7dGhpcy5hPXRoaXMudXJsPW51bGx9eGMucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IHhjO2EudXJsPXVjKHRoaXMudXJsKTthLmE9dmModGhpcy5hKTtyZXR1cm4gYX07ZnVuY3Rpb24geWMoKXt0aGlzLmJhc2VVcmw9bnVsbDt0aGlzLnM9MTt0aGlzLkg9dGhpcy5MPW51bGw7dGhpcy5jPTA7dGhpcy5iPW51bGw7dGhpcy5hPVtdO3RoaXMuQz1udWxsfXljLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyB5YzthLmJhc2VVcmw9dWModGhpcy5iYXNlVXJsKTthLnM9dGhpcy5zO2EuTD10aGlzLkw7YS5IPXRoaXMuSDthLmM9dGhpcy5jO2EuYj12Yyh0aGlzLmIpO2EuYT11Yyh0aGlzLmEpfHxbXTthLkM9dmModGhpcy5DKTtyZXR1cm4gYX07CmZ1bmN0aW9uIHpjKCl7dGhpcy5hPXRoaXMuYj1udWxsfXpjLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyB6YzthLmI9dWModGhpcy5iKTthLmE9dmModGhpcy5hKTtyZXR1cm4gYX07ZnVuY3Rpb24gQWMoKXt0aGlzLnM9MTt0aGlzLkg9dGhpcy5MPW51bGw7dGhpcy5iPTA7dGhpcy5DPXRoaXMuYz10aGlzLmE9dGhpcy5mPW51bGx9QWMucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IEFjO2Eucz10aGlzLnM7YS5MPXRoaXMuTDthLkg9dGhpcy5IO2EuYj10aGlzLmI7YS5mPXRoaXMuZjthLmE9dGhpcy5hO2EuYz10aGlzLmM7YS5DPXZjKHRoaXMuQyk7cmV0dXJuIGF9O2Z1bmN0aW9uIEJjKCl7dGhpcy5iPXRoaXMuYT1udWxsO3RoaXMuTj1bXX1CYy5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgQmM7YS5hPXRoaXMuYTthLmI9dGhpcy5iO2EuTj11Yyh0aGlzLk4pfHxbXTtyZXR1cm4gYX07CmZ1bmN0aW9uIENjKCl7dGhpcy5zdGFydFNlZ21lbnRJbmRleD10aGlzLnJlcGVhdD10aGlzLmR1cmF0aW9uPXRoaXMuc3RhcnRUaW1lPW51bGx9Q2MucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IENjO2Euc3RhcnRUaW1lPXRoaXMuc3RhcnRUaW1lO2EuZHVyYXRpb249dGhpcy5kdXJhdGlvbjthLnJlcGVhdD10aGlzLnJlcGVhdDtyZXR1cm4gYX07ZnVuY3Rpb24gRGMoYSxiKXt0aGlzLnFhPWE7dGhpcy5lbmQ9Yn1EYy5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IERjKHRoaXMucWEsdGhpcy5lbmQpfTtmYy5UQUdfTkFNRT0iTVBEIjtnYy5UQUdfTkFNRT0iUGVyaW9kIjtoYy5UQUdfTkFNRT0iQWRhcHRhdGlvblNldCI7aWMuVEFHX05BTUU9IlJvbGUiO2pjLlRBR19OQU1FPSJBY2Nlc3NpYmlsaXR5IjtrYy5UQUdfTkFNRT0iQ29udGVudENvbXBvbmVudCI7bmMuVEFHX05BTUU9IlJlcHJlc2VudGF0aW9uIjtwYy5UQUdfTkFNRT0iQ29udGVudFByb3RlY3Rpb24iOwpxYy5UQUdfTkFNRT0iY2VuYzpwc3NoIjtyYy5UQUdfTkFNRT0iQmFzZVVSTCI7b2MuVEFHX05BTUU9IkF1ZGlvQ2hhbm5lbENvbmZpZ3VyYXRpb24iO3NjLlRBR19OQU1FPSJMb2NhdGlvbiI7dGMuVEFHX05BTUU9IlNlZ21lbnRCYXNlIjt3Yy5UQUdfTkFNRT0iUmVwcmVzZW50YXRpb25JbmRleCI7bGMuVEFHX05BTUU9IkZCSW5pdGlhbGl6YXRpb25CaW5hcnkiO21jLlRBR19OQU1FPSJGQlNlZ21lbnRJbmRleEJpbmFyeSI7eGMuVEFHX05BTUU9IkluaXRpYWxpemF0aW9uIjt5Yy5UQUdfTkFNRT0iU2VnbWVudExpc3QiO3pjLlRBR19OQU1FPSJTZWdtZW50VVJMIjtBYy5UQUdfTkFNRT0iU2VnbWVudFRlbXBsYXRlIjtCYy5UQUdfTkFNRT0iU2VnbWVudFRpbWVsaW5lIjtDYy5UQUdfTkFNRT0iUyI7CmZjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMudXJsPWEuQWM7dGhpcy5pZD1OKGIsImlkIixPKTt0aGlzLnR5cGU9TihiLCJ0eXBlIixPKXx8InN0YXRpYyI7dGhpcy5tYW5pZmVzdElzTGl2ZVN0cmVhbWluZz0iZHluYW1pYyI9PT10aGlzLnR5cGU7dGhpcy5GQldhc0xpdmU9TihiLCJGQldhc0xpdmUiLEVjKXx8ITE7dGhpcy5GQklzTGl2ZVRlbXBsYXRlZD1OKGIsIkZCSXNMaXZlVGVtcGxhdGVkIixFYyl8fCExO3RoaXMuRkJNYW5pZmVzdElkZW50aWZpZXI9TihiLCJGQk1hbmlmZXN0SWRlbnRpZmllciIsTyl8fCIiO3RoaXMuRkJNUz1OKGIsIkZCTVMiLEVjKXx8ITE7VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJvdmVycmlkZV9mYl9pc19saXZlX3RlbXBsYXRlZCIsITEpJiYodGhpcy5GQklzTGl2ZVRlbXBsYXRlZD0hMSk7dGhpcy5iPU4oYiwibWVkaWFQcmVzZW50YXRpb25EdXJhdGlvbiIsRmMpO3RoaXMubT1OKGIsIm1pbkJ1ZmZlclRpbWUiLApGYyx0aGlzLm0pO3RoaXMuZz1OKGIsIm1pbmltdW1VcGRhdGVQZXJpb2QiLEZjLHRoaXMuZyk7dGhpcy5jPU4oYiwiYXZhaWxhYmlsaXR5U3RhcnRUaW1lIixHYyx0aGlzLmMpO3RoaXMuZj1OKGIsInRpbWVTaGlmdEJ1ZmZlckRlcHRoIixGYyx0aGlzLmYpO3RoaXMuY3VycmVudFNlcnZlclRpbWVNcz1OKGIsImN1cnJlbnRTZXJ2ZXJUaW1lTXMiLFApO04oYiwiZmlyc3RBdlRpbWVNcyIsUCk7dGhpcy5sYXN0VmlkZW9GcmFtZVRzPU4oYiwibGFzdFZpZGVvRnJhbWVUcyIsUCk7dGhpcy5mPW51bGw7dGhpcy5vPU4oYiwic3VnZ2VzdGVkUHJlc2VudGF0aW9uRGVsYXkiLEZjLHRoaXMubyk7dGhpcy5oPU4oYiwibG9hcFN0cmVhbVR5cGUiLEhjLHRoaXMuaCk7dGhpcy5pPU4oYiwidXNpbmdBU1JDYXB0aW9ucyIsSGMsdGhpcy5pKTt0aGlzLmo9TihiLCJpc1VzaW5nQXNyQ2FwdGlvbnNFbXBsb3llZURvZ2Zvb2RpbmciLEhjLHRoaXMuaik7dmFyIGM9YS5iYXNlVXJsLGQ9SWModGhpcywKYixyYyk7dGhpcy5iYXNlVXJsPUpjKGMsZCk7aWYoZD1NKHRoaXMsYixzYykpdGhpcy51PUtjKGMsZC51cmwpO3RoaXMuYT1JYyh0aGlzLGIsZ2MpfTtmdW5jdGlvbiBMYyhhLGIsYyxkKXtpZigwIT09YS5hLmxlbmd0aCl7dmFyIGU9bmV3IGhjO2UuY29udGVudFR5cGU9InRleHQiO2UubGFuZz1jfHwiZW4iO2UuZj0hMDtjPW5ldyBuYztjLmJhbmR3aWR0aD0wO2MubWltZVR5cGU9ZHx8InRleHQvdnR0IjtjLmJhc2VVcmw9W25ldyBMKGIpXTtlLmEucHVzaChjKTthLmFbMF0uYS5wdXNoKGUpO01jKGEuYVswXSl9fQpnYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt0aGlzLmlkPU4oYiwiaWQiLE8pO3RoaXMuc3RhcnQ9TihiLCJzdGFydCIsRmMpO3RoaXMuZHVyYXRpb249TihiLCJkdXJhdGlvbiIsRmMpO3ZhciBjPUljKHRoaXMsYixyYyk7dGhpcy5iYXNlVXJsPUpjKGEuYmFzZVVybCxjKTt0aGlzLmI9TSh0aGlzLGIsdGMpO3RoaXMuYz1NKHRoaXMsYix5Yyk7dGhpcy5mPU0odGhpcyxiLEFjKTt0aGlzLmE9SWModGhpcyxiLGhjKTtNYyh0aGlzKX07ZnVuY3Rpb24gTWMoYSl7Zm9yKHZhciBiPVtdLGM9MDtjPGEuYS5sZW5ndGg7KytjKXt2YXIgZD1hLmFbY107bnVsbCE9ZC5ncm91cCYmKGJbZC5ncm91cF09ITApfWZvcihjPTA7YzxhLmEubGVuZ3RoOysrYylpZihkPWEuYVtjXSxudWxsPT1kLmdyb3VwKXtmb3IodmFyIGU9MTsxPT1iW2VdOykrK2U7YltlXT0hMDtkLmdyb3VwPWV9fQpoYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt2YXIgYz1NKHRoaXMsYixrYyl8fHt9LGQ9TSh0aGlzLGIsaWMpO3RoaXMuaWQ9TihiLCJpZCIsTyk7dGhpcy5ncm91cD1OKGIsImdyb3VwIixQKTt0aGlzLmxhbmc9TihiLCJsYW5nIixPLGMubGFuZyk7dGhpcy5jb250ZW50VHlwZT1OKGIsImNvbnRlbnRUeXBlIixPLGMuY29udGVudFR5cGUpO3RoaXMud2lkdGg9TihiLCJ3aWR0aCIsUSk7dGhpcy5oZWlnaHQ9TihiLCJoZWlnaHQiLFEpO3RoaXMubWltZVR5cGU9TihiLCJtaW1lVHlwZSIsTyk7dGhpcy5jb2RlY3M9TihiLCJjb2RlY3MiLE8pO3RoaXMuYz1OKGIsIkZCUHJvamVjdGlvbiIsTyk7dGhpcy5mPWQmJiJtYWluIj09ZC52YWx1ZTt0aGlzLmxhbmcmJih0aGlzLmxhbmc9U2EodGhpcy5sYW5nKSk7Yz1JYyh0aGlzLGIscmMpO3RoaXMuYmFzZVVybD1KYyhhLmJhc2VVcmwsYyk7dGhpcy5qPUljKHRoaXMsYixwYyk7IXRoaXMuY29udGVudFR5cGUmJnRoaXMubWltZVR5cGUmJgoodGhpcy5jb250ZW50VHlwZT10aGlzLm1pbWVUeXBlLnNwbGl0KCIvIilbMF0pO3RoaXMuZz1hLmI/T2ModGhpcyxiLGEuYik6TSh0aGlzLGIsdGMpO3RoaXMuaD1hLmM/T2ModGhpcyxiLGEuYyk6TSh0aGlzLGIseWMpO3RoaXMuaT1hLmY/T2ModGhpcyxiLGEuZik6TSh0aGlzLGIsQWMpO3RoaXMuYT1JYyh0aGlzLGIsbmMpO3RoaXMuYj1NKHRoaXMsYixqYyk7IXRoaXMubWltZVR5cGUmJnRoaXMuYS5sZW5ndGgmJih0aGlzLm1pbWVUeXBlPXRoaXMuYVswXS5taW1lVHlwZSwhdGhpcy5jb250ZW50VHlwZSYmdGhpcy5taW1lVHlwZSYmKHRoaXMuY29udGVudFR5cGU9dGhpcy5taW1lVHlwZS5zcGxpdCgiLyIpWzBdKSl9O2ljLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMudmFsdWU9TihiLCJ2YWx1ZSIsTyl9O2pjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMuYT1OKGIsInNjaGVtZUlkVXJpIixPKTt0aGlzLmxhbmc9TihiLCJsYW5nIixPKX07CmtjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMuaWQ9TihiLCJpZCIsTyk7dGhpcy5sYW5nPU4oYiwibGFuZyIsTyk7dGhpcy5jb250ZW50VHlwZT1OKGIsImNvbnRlbnRUeXBlIixPKTt0aGlzLmxhbmcmJih0aGlzLmxhbmc9U2EodGhpcy5sYW5nKSl9OwpuYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt0aGlzLmlkPU4oYiwiaWQiLE8pO3RoaXMuYmFuZHdpZHRoPU4oYiwiYmFuZHdpZHRoIixRKTt0aGlzLndpZHRoPU4oYiwid2lkdGgiLFEsYS53aWR0aCk7dGhpcy5oZWlnaHQ9TihiLCJoZWlnaHQiLFEsYS5oZWlnaHQpO3RoaXMubWltZVR5cGU9TihiLCJtaW1lVHlwZSIsTyxhLm1pbWVUeXBlKTt0aGlzLmNvZGVjcz1OKGIsImNvZGVjcyIsTyxhLmNvZGVjcyk7dGhpcy5mYlF1YWxpdHlMYWJlbD1OKGIsIkZCUXVhbGl0eUxhYmVsIixPKTt0aGlzLmZiUXVhbGl0eUNsYXNzPU4oYiwiRkJRdWFsaXR5Q2xhc3MiLE8pO3RoaXMubT1OKGIsIkZCQWJyUG9saWN5VGFncyIsTyk7VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJtcGRfcGFyc2VfbW9zX2F0dHJpYnV0ZXMiLCExKSYmKHRoaXMubz1OKGIsIkZCUGxheWJhY2tSZXNvbHV0aW9uTW9zIixNb3NVdGlscy5wYXJzZVBsYXliYWNrTW9zKSx0aGlzLnU9TihiLAoiRkJQbGF5YmFja1Jlc29sdXRpb25Nb3NDb25maWRlbmNlTGV2ZWwiLE8pKTtWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woIm1wZF9wYXJzZV9mcmFtZV9hbmRfYXVkaW9fc2FtcGxpbmdfcmF0ZSIsITEpJiYodGhpcy5mcmFtZVJhdGU9TihiLCJmcmFtZVJhdGUiLE8pLHRoaXMuaj1OKGIsImF1ZGlvU2FtcGxpbmdSYXRlIixRKSk7dGhpcy5sYW5nPWEubGFuZzt2YXIgYz1JYyh0aGlzLGIscmMpO3RoaXMuYmFzZVVybD1KYyhhLmJhc2VVcmwsYyk7VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJhZGRfaW5saW5lX2luaXRpYWxpemF0aW9uX3Jlc291cmNlcyIsITEpJiYodGhpcy5nPU0odGhpcyxiLGxjKSx0aGlzLmg9TSh0aGlzLGIsbWMpKTt0aGlzLmM9SWModGhpcyxiLHBjKTt0aGlzLmk9TSh0aGlzLGIsb2MpO3RoaXMuZj1hLmc/T2ModGhpcyxiLGEuZyk6TSh0aGlzLGIsdGMpO3RoaXMuYj1hLmg/T2ModGhpcyxiLGEuaCk6TSh0aGlzLGIsCnljKTt0aGlzLmE9YS5pP09jKHRoaXMsYixhLmkpOk0odGhpcyxiLEFjKTt0aGlzLmM9dGhpcy5jLmNvbmNhdChhLmopfTtsYy5wcm90b3R5cGUucGFyc2U9bWMucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7aWYoYiYmYi5maXJzdENoaWxkKXt2YXIgYz1QYyhiKTtudWxsIT1jJiYodGhpcy5kYXRhPUtiKGMpLmJ1ZmZlcil9fTtwYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt0aGlzLmM9Yjt0aGlzLmY9TihiLCJzY2hlbWVJZFVyaSIsTyk7dmFyIGM9TihiLCJjZW5jOmRlZmF1bHRfS0lEIixPKTtjJiYodGhpcy5iPWMucmVwbGFjZSgvWy1dL2csIiIpKTt0aGlzLmE9TSh0aGlzLGIscWMpfTsKcWMucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dmFyIGM9UGMoYik7aWYoYyl7dGhpcy5wc3NoQm94PUtiKGMpO3RyeXt0aGlzLnBhcnNlZFBzc2g9bmV3IFFiKHRoaXMucHNzaEJveCl9Y2F0Y2goZCl7aWYoIShkIGluc3RhbmNlb2YgUmFuZ2VFcnJvcikpdGhyb3cgZDt9fX07cmMucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dmFyIGM9Yi5jaGlsZE5vZGVzLGQ9IiI7aWYoMT09Yy5sZW5ndGgpZD1QYyhiKTtlbHNlIGZvcih2YXIgZT0wO2U8Yy5sZW5ndGg7ZSsrKWNbZV0ubm9kZVR5cGU9PU5vZGUuVEVYVF9OT0RFJiYoZCs9Y1tlXS5ub2RlVmFsdWUpO3RoaXMudXJsPWR9O3NjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMudXJsPVBjKGIpfTsKdGMucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dGhpcy5iYXNlVXJsPWEuYmFzZVVybHx8dGhpcy5iYXNlVXJsO3RoaXMucz1OKGIsInRpbWVzY2FsZSIsUSx0aGlzLnMpO3RoaXMuTD1OKGIsInByZXNlbnRhdGlvblRpbWVPZmZzZXQiLFAsdGhpcy5MKTt0aGlzLmE9TihiLCJpbmRleFJhbmdlIixRYyx0aGlzLmEpO3RoaXMuZj1OKGIsIkZCRmlyc3RTZWdtZW50UmFuZ2UiLFFjLHRoaXMuZik7dGhpcy5iPU0odGhpcyxiLHdjKXx8dGhpcy5iO3RoaXMuYz1NKHRoaXMsYix4Yyl8fHRoaXMuY307d2MucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dmFyIGM9TihiLCJzb3VyY2VVUkwiLE8pO3RoaXMudXJsPUtjKGEuYmFzZVVybCxjKTt0aGlzLmE9TihiLCJyYW5nZSIsUWMsdmMoYS5hKSl9Owp4Yy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt2YXIgYz1OKGIsInNvdXJjZVVSTCIsTyk7dGhpcy51cmw9S2MoYS5iYXNlVXJsLGMpO3RoaXMuYT1OKGIsInJhbmdlIixRYyl9Owp5Yy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt0aGlzLmJhc2VVcmw9YS5iYXNlVXJsfHx0aGlzLmJhc2VVcmw7dGhpcy5zPU4oYiwidGltZXNjYWxlIixRLHRoaXMucyk7dGhpcy5MPU4oYiwicHJlc2VudGF0aW9uVGltZU9mZnNldCIsUCx0aGlzLkwpO3RoaXMuSD1OKGIsImR1cmF0aW9uIixRLHRoaXMuSCk7dmFyIGM9TihiLCJzdGFydE51bWJlciIsUSk7bnVsbCE9YyYmKHRoaXMuYz1jKTt0aGlzLmI9TSh0aGlzLGIseGMpfHx0aGlzLmI7dGhpcy5hPShjPUljKHRoaXMsYix6YykpJiYwPGMubGVuZ3RoP2M6dGhpcy5hO3RoaXMuQz1NKHRoaXMsYixCYyl8fHRoaXMuQztWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImNhbGN1bGF0ZV9xdWlja19kYXNoX3ByZXNlbnRhdGlvbl90aW1lX29mZnNldF9mcm9tX3RpbWVsaW5lIiwhMSkmJihjPVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJjYWxjdWxhdGVfcXVpY2tfZGFzaF9wcmVzZW50YXRpb25fdGltZV9vZmZzZXRfZXBzaWxvbl9tcyIsCjI1MCksdGhpcy5DJiZ0aGlzLkMuTlswXSYmKHRoaXMuTD0xRTM8dGhpcy5DLk5bMF0uc3RhcnRUaW1lP3RoaXMuQy5OWzBdLnN0YXJ0VGltZS1jOnRoaXMuTCkpfTt6Yy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt2YXIgYz1OKGIsIm1lZGlhIixPKTt0aGlzLmI9S2MoYS5iYXNlVXJsLGMpO3RoaXMuYT1OKGIsIm1lZGlhUmFuZ2UiLFFjKX07CkFjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMucz1OKGIsInRpbWVzY2FsZSIsUSx0aGlzLnMpO3RoaXMuTD1OKGIsInByZXNlbnRhdGlvblRpbWVPZmZzZXQiLFAsdGhpcy5MKTt0aGlzLkg9TihiLCJkdXJhdGlvbiIsUSx0aGlzLkgpO3ZhciBjPU4oYiwic3RhcnROdW1iZXIiLFApO251bGwhPWMmJih0aGlzLmI9Yyk7dGhpcy5mPU4oYiwibWVkaWEiLE8sdGhpcy5mKTt0aGlzLmE9TihiLCJpbmRleCIsTyx0aGlzLmEpO3RoaXMuYz1OKGIsImluaXRpYWxpemF0aW9uIixPLHRoaXMuYyk7dGhpcy5DPU0odGhpcyxiLEJjKXx8dGhpcy5DfTtCYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt0aGlzLmE9TihiLCJGQlByZWRpY3RlZE1lZGlhIixPLHRoaXMuYSk7dGhpcy5iPU4oYiwiRkJQcmVkaWN0ZWRNZWRpYUVuZE51bWJlciIsUSk7dGhpcy5OPUljKHRoaXMsYixDYyl9OwpDYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt0aGlzLnN0YXJ0VGltZT1OKGIsInQiLFApO3RoaXMuZHVyYXRpb249TihiLCJkIixQKTt0aGlzLnJlcGVhdD1OKGIsInIiLEhjKX07ZnVuY3Rpb24gSmMoYSxiKXtpZighYnx8MD09PWIubGVuZ3RoKXJldHVybiBhO2Zvcih2YXIgYz1bXSxkPTA7ZDxiLmxlbmd0aDtkKyspe3ZhciBlPWJbZF0udXJsO251bGw9PWF8fDA9PT1hLmxlbmd0aD9jLnB1c2gobmV3IEwoZSkpOihlPUtjKGEuc2xpY2UoMCwxKSxlKSxjLnB1c2goZVswXSkpfXJldHVybiBjfWZ1bmN0aW9uIEtjKGEsYil7aWYoIWIpcmV0dXJuIGE7dmFyIGM9bmV3IEwoYik7cmV0dXJuIGE/YS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVzb2x2ZShjKX0pOltjXX1mdW5jdGlvbiBPYyhhLGIsYyl7dmFyIGQ9dmMoYyk7KGI9UmMoYixjLmNvbnN0cnVjdG9yLlRBR19OQU1FKSkmJmQucGFyc2UoYSxiKTtyZXR1cm4gZH0KZnVuY3Rpb24gTShhLGIsYyl7dmFyIGQ9bnVsbDtpZihiPVJjKGIsYy5UQUdfTkFNRSkpZD1uZXcgYyxkLnBhcnNlKGEsYik7cmV0dXJuIGR9ZnVuY3Rpb24gUmMoYSxiKXtmb3IodmFyIGM9bnVsbCxkPTA7ZDxhLmNoaWxkTm9kZXMubGVuZ3RoO2QrKylpZihhLmNoaWxkTm9kZXNbZF0udGFnTmFtZT09Yil7aWYoYylyZXR1cm4gbnVsbDtjPWEuY2hpbGROb2Rlc1tkXX1yZXR1cm4gY31mdW5jdGlvbiBJYyhhLGIsYyl7Zm9yKHZhciBkPVtdLGU9MDtlPGIuY2hpbGROb2Rlcy5sZW5ndGg7ZSsrKWlmKGIuY2hpbGROb2Rlc1tlXS50YWdOYW1lPT1jLlRBR19OQU1FKXt2YXIgZj1uZXcgYztmLnBhcnNlLmNhbGwoZixhLGIuY2hpbGROb2Rlc1tlXSk7ZC5wdXNoKGYpfXJldHVybiBkfWZ1bmN0aW9uIFBjKGEpe2E9YS5maXJzdENoaWxkO3JldHVybiBhLm5vZGVUeXBlIT1Ob2RlLlRFWFRfTk9ERT9udWxsOmEubm9kZVZhbHVlfQpmdW5jdGlvbiB1YyhhKXtyZXR1cm4gYT9hLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS5jbG9uZSgpfSk6bnVsbH1mdW5jdGlvbiB2YyhhKXtyZXR1cm4gYT9hLmNsb25lKCk6bnVsbH1mdW5jdGlvbiBOKGEsYixjLGQpe2E9YS5oYXNBdHRyaWJ1dGUoYik/YyhhLmdldEF0dHJpYnV0ZShiKSk6bnVsbDtyZXR1cm4gbnVsbCE9YT9hOnZvaWQgMCE9PWQ/ZDpudWxsfWZ1bmN0aW9uIEdjKGEpe2lmKCFhKXJldHVybiBudWxsO2E9RGF0ZS5wYXJzZShhKTtyZXR1cm4gaXNOYU4oYSk/bnVsbDpNYXRoLmZsb29yKGEvMUUzKX0KZnVuY3Rpb24gRmMoYSl7aWYoIWEpcmV0dXJuIG51bGw7dmFyIGI9L15QKD86KFswLTldKilZKT8oPzooWzAtOV0qKU0pPyg/OihbMC05XSopRCk/KD86VCg/OihbMC05XSopSCk/KD86KFswLTldKilNKT8oPzooWzAtOS5dKilTKT8pPyQvLmV4ZWMoYSk7aWYoIWIpcmV0dXJuIG51bGw7YT0wO3ZhciBjPVAoYlsxXSk7YyYmKGErPTMxNTM2RTMqYyk7KGM9UChiWzJdKSkmJihhKz0yNTkyRTMqYyk7KGM9UChiWzNdKSkmJihhKz04NjQwMCpjKTsoYz1QKGJbNF0pKSYmKGErPTM2MDAqYyk7KGM9UChiWzVdKSkmJihhKz02MCpjKTtiPXdpbmRvdy5wYXJzZUZsb2F0KGJbNl0pOyhiPWlzTmFOKGIpP251bGw6YikmJihhKz1iKTtyZXR1cm4gYX0KZnVuY3Rpb24gUWMoYSl7dmFyIGI9LyhbMC05XSspLShbMC05XSspLy5leGVjKGEpO2lmKCFiKXJldHVybiBudWxsO2E9UChiWzFdKTtpZihudWxsPT1hKXJldHVybiBudWxsO2I9UChiWzJdKTtyZXR1cm4gbnVsbD09Yj9udWxsOm5ldyBEYyhhLGIpfWZ1bmN0aW9uIEhjKGEpe2E9d2luZG93LnBhcnNlSW50KGEsMTApO3JldHVybiBpc05hTihhKT9udWxsOmF9ZnVuY3Rpb24gUShhKXthPXdpbmRvdy5wYXJzZUludChhLDEwKTtyZXR1cm4gMDxhP2E6bnVsbH1mdW5jdGlvbiBQKGEpe2E9d2luZG93LnBhcnNlSW50KGEsMTApO3JldHVybiAwPD1hP2E6bnVsbH1mdW5jdGlvbiBFYyhhKXtzd2l0Y2goYS50b0xvd2VyQ2FzZSgpKXtjYXNlICJ0cnVlIjpyZXR1cm4hMDtjYXNlICJmYWxzZSI6cmV0dXJuITE7ZGVmYXVsdDpyZXR1cm4gbnVsbH19ZnVuY3Rpb24gTyhhKXtyZXR1cm4gYX07ZnVuY3Rpb24gU2MoYSxiKXt0aGlzLnVybD1hO3RoaXMuYj1ifHxuZXcgdGI7dGhpcy5qPTA7dGhpcy5nPS0xO3RoaXMuaD10aGlzLmk9MDt0aGlzLmE9bnVsbDt0aGlzLmM9bmV3IEk7dGhpcy5mPW51bGw7dGhpcy5vPXRoaXMuYi5pO3RoaXMubD10aGlzLmIubX1xKCJzaGFrYS51dGlsLkFqYXhSZXF1ZXN0IixTYyk7CmZ1bmN0aW9uIHRiKCl7dGhpcy5ib2R5PW51bGw7dGhpcy5OYT0xO3RoaXMuYz0xRTM7dGhpcy5iPTA7dGhpcy5tZXRob2Q9IkdFVCI7dGhpcy5yZXNwb25zZVR5cGU9ImFycmF5YnVmZmVyIjt0aGlzLlFhPXt9O3RoaXMuZz10aGlzLndpdGhDcmVkZW50aWFscz0hMTt0aGlzLmRhPXRoaXMuYT10aGlzLnU9bnVsbDt0aGlzLmo9ITE7dGhpcy5oPXRoaXMubT10aGlzLmk9dGhpcy5taW1lVHlwZT1udWxsO3RoaXMubz0hMTt0aGlzLnc9LyguKilcLih4eHxmbmEpXC5mYmNkblwubmV0Lzt0aGlzLmY9L2xpdmVzdHJlYW0tbG9va2FzaWRlXC4oZmFjZWJvb2t8d29ya3BsYWNlKVwuY29tJC99dmFyIFRjPSEwO2Z1bmN0aW9uIFVjKGEpe1ZjKGEpO1djKGEpO2EuYi5ib2R5PW51bGw7YS5jLmRlc3Ryb3koKTthLmM9bnVsbDthLmY9bnVsbH0KZnVuY3Rpb24gV2MoYSl7YS5hJiYoYS5hLm9ubG9hZD1udWxsLGEuYS5vbnJlYWR5c3RhdGVjaGFuZ2U9bnVsbCxhLmEub25lcnJvcj1udWxsLGEuYS5vbnRpbWVvdXQ9bnVsbCk7YS5hPW51bGx9ZnVuY3Rpb24gVmMoYSl7LTEhPT1hLmcmJihjbGVhclRpbWVvdXQoYS5nKSxhLmc9LTEpfQpTYy5wcm90b3R5cGUubT1mdW5jdGlvbigpe2lmKHRoaXMuYSlyZXR1cm4gdGhpcy5jO2lmKDA9PXRoaXMudXJsLmxhc3RJbmRleE9mKCJkYXRhOiIsMCkpe3ZhciBhPXRoaXMudXJsLnNwbGl0KCI6IilbMV0uc3BsaXQoIjsiKS5wb3AoKS5zcGxpdCgiLCIpLGI9YS5wb3AoKSxiPSJiYXNlNjQiPT1hLnBvcCgpP3dpbmRvdy5hdG9iKGIucmVwbGFjZSgvLS9nLCIrIikucmVwbGFjZSgvXy9nLCIvIikpOndpbmRvdy5kZWNvZGVVUklDb21wb25lbnQoYik7ImFycmF5YnVmZmVyIj09dGhpcy5iLnJlc3BvbnNlVHlwZSYmKGI9SmIoYikuYnVmZmVyKTthPUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkobmV3IFhNTEh0dHBSZXF1ZXN0KSk7YS5yZXNwb25zZT1iO2EucmVzcG9uc2VUZXh0PWIudG9TdHJpbmcoKTtiPXRoaXMuYztiLnJlc29sdmUoYSk7VWModGhpcyk7cmV0dXJuIGJ9aWYoMD09dGhpcy51cmwubGFzdEluZGV4T2YoImlkYjoiLDApKXJldHVybiB0aGlzLnUoKTt0aGlzLmorKzsKdGhpcy5pPXBlcmZvcm1hbmNlTm93KCk7dGhpcy5ofHwodGhpcy5oPXRoaXMuYi5jKTt0aGlzLmE9bmV3IFhNTEh0dHBSZXF1ZXN0O3ZhciBjPXRoaXMudXJsLGE9bmV3IEwoYyk7VGMmJih0aGlzLmYmJiF0aGlzLmYuc3VwcG9ydHNDYWNoaW5nKCl8fHRoaXMuYi5nKSYmZGMoYS5hLCJfIixEYXRlLm5vdygpKTtjPXRoaXMuYi53LnRlc3QoYyk7aWYobnVsbCE9dGhpcy5iLmEmJmMpe3ZhciBkPXRoaXMuYi5hLGU9YS5hO251bGwhPWQuYSYmKGQuaD1kLmEuZ2V0U2VnbWVudHNUb1B1c2goKSxkLmY9ZC5hLmdldFNlZ21lbnRTdGFydFRpbWUoKSxkLmc9ZC5hLmdldFNlZ21lbnRPZmZzZXQoKSxkLmM9ZC5hLmdldFB1c2hWaWRlb1JlcHJlc2VudGF0aW9uSUQoKSxkLmI9ZC5hLmdldFB1c2hBdWRpb1JlcHJlc2VudGF0aW9uSUQoKSxkLmo9ZC5hLmdldFVzZUxvbmdDYWNoZUZvck1hbmlmZXN0KCkpO251bGwhPWQuaCYmZGMoZSwiX25jX3BfbiIsZC5oKTtudWxsIT1kLmY/ZGMoZSwiX25jX3BfdHMiLApkLmYpOm51bGwhPWQuZyYmZGMoZSwiX25jX3BfbyIsZC5nKTtudWxsIT1kLmMmJm51bGwhPWQuYiYmKGRjKGUsIl9uY19wX3JpZCIsZC5jKSxkYyhlLCJfbmNfcF9hcmlkIixkLmIpKTtkLmkmJmRjKGUsIl9uY19wX2RiZyIsIjEiKTtkLmomJmRjKGUsIl9uY19uYyIsIjEiKX0xPT10aGlzLmIuaiYmYyYmZGMoYS5hLCJfbmNfcGxheWluZyIsMSk7dGhpcy5iLm8mJmRjKGEuYSwiX25jX3NjIiwxKTtjPWEudG9TdHJpbmcoKTthPXRoaXMuYi5mLnRlc3QoYS5oYSk7dGhpcy5hLm9wZW4odGhpcy5iLm1ldGhvZCxjLCEwKTt0aGlzLmEucmVzcG9uc2VUeXBlPXRoaXMuYi5yZXNwb25zZVR5cGU7dGhpcy5hLnRpbWVvdXQ9dGhpcy5iLmI7dGhpcy5hLndpdGhDcmVkZW50aWFscz10aGlzLmIud2l0aENyZWRlbnRpYWxzfHxhO3NldEV2ZW50UHJvcGVydHkodGhpcy5hLCJvbmxvYWQiLHRoaXMuZmQuYmluZCh0aGlzKSk7c2V0RXZlbnRQcm9wZXJ0eSh0aGlzLmEsIm9ucmVhZHlzdGF0ZWNoYW5nZSIsCnRoaXMubGQuYmluZCh0aGlzKSk7c2V0RXZlbnRQcm9wZXJ0eSh0aGlzLmEsIm9uZXJyb3IiLHRoaXMuZGQuYmluZCh0aGlzKSk7c2V0RXZlbnRQcm9wZXJ0eSh0aGlzLmEsIm9udGltZW91dCIsdGhpcy5xZC5iaW5kKHRoaXMpKTtzZXRFdmVudFByb3BlcnR5KHRoaXMuYSwib25hYm9ydCIsdGhpcy4kYy5iaW5kKHRoaXMpKTtmb3IoYiBpbiB0aGlzLmIuUWEpdGhpcy5hLnNldFJlcXVlc3RIZWFkZXIoYix0aGlzLmIuUWFbYl0pO3RoaXMuYS5zZW5kKHRoaXMuYi5ib2R5KTtyZXR1cm4gdGhpcy5jfTtTYy5wcm90b3R5cGUuc2VuZD1TYy5wcm90b3R5cGUubTsKZnVuY3Rpb24gWGMoYSxiLGMpe2I9RXJyb3IoYik7Yi50eXBlPWM7Yi5zdGF0dXM9YS5hLnN0YXR1cztiLnVybD1hLnVybDtWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImVuYWJsZV9kb3VibGVfaW5nZXN0IiwhMSkmJihiLnJlc3BvbnNlSGVhZGVycz1wYXJzZUhlYWRlcnMoYS5hLmdldEFsbFJlc3BvbnNlSGVhZGVycygpKSk7Yi5tZXRob2Q9YS5iLm1ldGhvZDtiLmJvZHk9YS5iLmJvZHk7cmV0dXJuIGJ9bj1TYy5wcm90b3R5cGU7bi5hYm9ydD1mdW5jdGlvbigpe1ZjKHRoaXMpO2lmKHRoaXMuYSYmdGhpcy5hLnJlYWR5U3RhdGUhPVhNTEh0dHBSZXF1ZXN0LkRPTkUmJih0aGlzLmEuYWJvcnQoKSwhVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJmaXhfc2hha2FfdXRpbF9hamF4X3JlcXVlc3RfYWJvcnQiLCEwKSkpe3ZhciBhPVhjKHRoaXMsIlJlcXVlc3QgYWJvcnRlZC4iLCJhYm9ydGVkIik7dGhpcy5jLnJlamVjdChhKTtVYyh0aGlzKX19OwpuLiRjPWZ1bmN0aW9uKCl7aWYoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJmaXhfc2hha2FfdXRpbF9hamF4X3JlcXVlc3RfYWJvcnQiLCEwKSl7dmFyIGE9WGModGhpcywiUmVxdWVzdCBhYm9ydGVkLiIsImFib3J0ZWQiKTt0aGlzLmMucmVqZWN0KGEpO1VjKHRoaXMpfX07Cm4uZmQ9ZnVuY3Rpb24oYSl7aWYodGhpcy5mKXt2YXIgYj1WaWRlb1BsYXllclJlc291cmNlVGltZXIuZ2V0UmVzb3VyY2VUaW1pbmdFbnRyeSh0aGlzLnVybCx0aGlzLmkscGVyZm9ybWFuY2VOb3coKSk7dGhpcy5mLnNhbXBsZShwZXJmb3JtYW5jZU5vdygpLXRoaXMuaSxhLmxvYWRlZHx8dGhpcy5hLnJlc3BvbnNlJiZ0aGlzLmEucmVzcG9uc2UuYnl0ZUxlbmd0aHx8MCx0aGlzLmIubWltZVR5cGU/InYiPT09dGhpcy5iLm1pbWVUeXBlLmNoYXJBdCgwKTohMSxiLHRoaXMubyx0aGlzLmwsVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJldmFsdWF0ZV9hYnJfb25fZmV0Y2hfZW5kIiwhMSkpfWE9WzQwM107MjAwPD10aGlzLmEuc3RhdHVzJiYyOTk+PXRoaXMuYS5zdGF0dXM/KFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgiZW5hYmxlX2RvdWJsZV9pbmdlc3QiLCExKSYmbnVsbCE9cGFyc2VIZWFkZXJzKHRoaXMuYS5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSlbIngtZmItdmlkZW8tcmVwbGljYSJdPwooYT1YYyh0aGlzLCJIVFRQIGVycm9yLiIsIm5ldCIpLHRoaXMuYy5yZWplY3QoYSkpOnRoaXMuYy5yZXNvbHZlKHRoaXMuYSksVWModGhpcykpOiFWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInJlbW92ZV9hamF4X3Jlc2VuZF9pbnRlcm5hbCIsITApJiZ0aGlzLmo8dGhpcy5iLk5hJiYtMT09PWEuaW5kZXhPZih0aGlzLmEuc3RhdHVzKT9ZYyh0aGlzKTooYT1YYyh0aGlzLCJIVFRQIGVycm9yLiIsIm5ldCIpLHRoaXMuYy5yZWplY3QoYSksVWModGhpcykpfTsKbi5sZD1mdW5jdGlvbigpe2lmKHRoaXMuYS5yZWFkeVN0YXRlPT1YTUxIdHRwUmVxdWVzdC5IRUFERVJTX1JFQ0VJVkVEJiYodGhpcy5hLllhPURhdGUubm93KCktdGhpcy5pLHRoaXMuYi5hJiZ0aGlzLmIuZGEmJnRoaXMuYi5kYS5hZGRQdXNoRGF0YUZyb21YSFIodGhpcy5hKSx0aGlzLmIuaCYmdGhpcy5iLmguaGFuZGxlWEhSKHRoaXMuYSksVmlkZW9DbGllbnRFZGdlQ29vcGVyYXRpb24udXBkYXRlRnJvbVhIUih0aGlzLmEpLHRoaXMuYi5nKSl7dmFyIGE9RGF0ZS5wYXJzZSh0aGlzLmEuZ2V0UmVzcG9uc2VIZWFkZXIoIkRhdGUiKSk7YSYmKHphPWEtRGF0ZS5ub3coKSl9fTtuLmRkPWZ1bmN0aW9uKCl7dmFyIGE9WGModGhpcywiTmV0d29yayBmYWlsdXJlLiIsIm5ldCIpO3RoaXMuYy5yZWplY3QoYSk7VWModGhpcyl9OwpuLnFkPWZ1bmN0aW9uKCl7aWYoIVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgicmVtb3ZlX2FqYXhfcmVzZW5kX2ludGVybmFsIiwhMCkmJnRoaXMuajx0aGlzLmIuTmEpWWModGhpcyk7ZWxzZXt2YXIgYT1YYyh0aGlzLCJSZXF1ZXN0IHRpbWVkIG91dC4iLCJuZXQiKTt0aGlzLmMucmVqZWN0KGEpO1VjKHRoaXMpfX07ZnVuY3Rpb24gWWMoYSl7V2MoYSk7YS5nPXNldFRpbWVvdXQoZnVuY3Rpb24oKXt0aGlzLmc9LTE7dGhpcy5tKCl9LmJpbmQoYSksYS5oKigxKy41KigyKk1hdGgucmFuZG9tKCktMSkpKTthLmgqPTJ9O2Z1bmN0aW9uIEsoYSxiLGMsZCxlLGYpe3RoaXMuYz1iO3RoaXMuc3RhcnRCeXRlPWN8fDA7dGhpcy5iYXNlVXJsPXRoaXMudG9TdHJpbmcoKTt0aGlzLmVuZEJ5dGU9bnVsbCE9ZD9kOm51bGw7dGhpcy5pc1ByZWRpY3RpdmU9ZXx8ITE7dGhpcy5mPW51bGw7dGhpcy5tPTA7dGhpcy5BPSExO3RoaXMuTmM9dGhpcy5nPW51bGw7dGhpcy5vPWE7dGhpcy5pPW51bGw7dGhpcy5qPXRoaXMudT0hMTt0aGlzLmI9dGhpcy5hPW51bGw7dGhpcy5oPWZ8fG51bGx9cSgic2hha2EudXRpbC5GYWlsb3ZlclVyaSIsSyk7Sy5wcm90b3R5cGUudz1mdW5jdGlvbihhKXt0aGlzLkE9YX07Sy5wcm90b3R5cGUuc2V0U2hvdWxkUmVhZFhGYlZpZGVvQnJvYWRjYXN0RW5kZWRIZWFkZXI9Sy5wcm90b3R5cGUudztLLnByb3RvdHlwZS5EPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubX07Sy5wcm90b3R5cGUuZ2V0RmJWaWRlb0Jyb2FkY2FzdEVuZGVkUmVzcG9uc2VIZWFkZXI9Sy5wcm90b3R5cGUuRDsKSy5wcm90b3R5cGUuRj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YXJ0Qnl0ZX07Sy5wcm90b3R5cGUuZ2V0U3RhcnRCeXRlPUsucHJvdG90eXBlLkY7Sy5wcm90b3R5cGUuQj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVuZEJ5dGV9O0sucHJvdG90eXBlLmdldEVuZEJ5dGU9Sy5wcm90b3R5cGUuQjtmdW5jdGlvbiBaYyhhLGIpe3JldHVybiBhJiYwIT09YS5sZW5ndGg/YS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVzb2x2ZShiKX0pOltiXX1uPUsucHJvdG90eXBlO24uZmV0Y2g9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxoKXtyZXR1cm4gdGhpcy5mP3RoaXMuZjp0aGlzLmY9JGModGhpcywwLGF8fG5ldyB0YixiLGMsZCxlLGYsZyxoKX07bi5zdHJlYW09ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxoLGspe3JldHVybiBhZCh0aGlzLDAsYXx8bmV3IHRiLGIsYyxkLGUsZixnLGgsayl9OwpmdW5jdGlvbiAkYyhhLGIsYyxkLGUsZixnLGgsayxsKXtyZXR1cm4gYWQoYSxiLGMsZCxlLGYsZyxoLGssbCkudGhlbihmdW5jdGlvbihhKXt2YXIgYixjPWZ1bmN0aW9uKCl7cmV0dXJuIGEucmVhZCgpLnRoZW4oZnVuY3Rpb24oYSl7dmFyIGQ9YS52YWx1ZTtpZihhLmRvbmUpcmV0dXJuIGJ8fG5ldyBBcnJheUJ1ZmZlcigwKTtkJiYoInN0cmluZyI9PT10eXBlb2YgZD9iPShifHwiIikrZDpiPWNvbmNhdEFycmF5QnVmZmVyKGJ8fG5ldyBBcnJheUJ1ZmZlcigwKSxkKSk7cmV0dXJuIGMoKX0uYmluZCh0aGlzKSl9LmJpbmQodGhpcyk7cmV0dXJuIGMoKX0pfQpuLkthPWZ1bmN0aW9uKCl7dGhpcy5nJiYodGhpcy5hPXRoaXMuZj1udWxsLHRoaXMuZy5hYm9ydCgpLHRoaXMuaT10aGlzLmc9bnVsbCk7dGhpcy5OYyYmVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJlbmFibGVfcDJwX3N1cHBvcnQiLCExKSYmKHRoaXMuRy5hYm9ydCgpLHRoaXMuRz1udWxsKTt0aGlzLmImJih0aGlzLmIuYWJvcnRSZXF1ZXN0KGJkKHRoaXMpKSxWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImZpeGluZ19zY2hlZHVsZXJfZGlzYWJsZV9sZWFrcyIsITApJiYodGhpcy5iPW51bGwpKX07CmZ1bmN0aW9uIGFkKGEsYixjLGQsZSxmLGcsaCxrLGwsbSl7YS5iPWx8fG51bGw7dmFyIHA7ZSYmKGMuYSYmKGMuYS5pPSEwKSxsPTAsYy5kYSYmKGw9Yy5kYS5nZXRQdXNoQ291bnRGb3JVcmwoYS5jW2JdLnRvU3RyaW5nKCkpKSwocD1lLmdldE9wZXJhdGlvbkxvZ2dlcigicmVxdWVzdCIpKSYmcC5zZXRSZWFzb24oa3x8bnVsbCkuc2V0UHVzaGVkKGwpLnNldFR5cGUoaHx8bnVsbCkuc2V0SW5pdGlhdG9yKCJzaGFrYSIpLnN0YXJ0KCksZiYmKHA9cC5zZXRQYXJlbnRMb2dnZXIoZikpKTt2YXIgdD1wZXJmb3JtYW5jZU5vdygpO2EuYT1udWxsO2cmJihjLmk9Zyk7ZSYmKGMubT1lKTt2YXIgdz1jZChhLGEuY1tiXSxjKTtrPW51bGw7YS5qPSExO3ZhciB6PVZpZGVvRGFzaFByZWZldGNoQ2FjaGUuZ2V0Q2FjaGVWYWx1ZSh3KTt6JiYoaz16LGEuaj0hMCxwJiYocC5zZXRDb25uZWN0aW9uUXVhbGl0eUxldmVsKFZpZGVvRGFzaFByZWZldGNoQ2FjaGUuZ2V0Q29ubmVjdGlvblF1YWxpdHlMZXZlbCh3KSksCnAuc2V0SW5pdGlhdG9yKCJwcmVmZXRjaCIpKSk7aWYoIXomJm0pcmV0dXJuIG0uZ2V0U3RyZWFtKGJkKGEpKS50aGVuKGZ1bmN0aW9uKGEpe3JldHVybiBhLmdldFJlYWRlcigpfS5iaW5kKGEpKTttPW51bGw7aWYoYS5iJiYhYS5iLmlzRGlzYWJsZWQoKSYmIWspdHJ5eyhrPW09YS5iLmdldFByb21pc2UoYmQoYSkpKT9wPW51bGw6YS5iLmRpc2FibGUoKX1jYXRjaChIKXtlJiZlLmdldEV2ZW50TG9nZ2VyKCJyZXF1ZXN0X2luZm9fbm90X2ZvdW5kIikuc2V0UmVzb3VyY2UodykubG9nKCl9IWsmJmEuaCYmYS5oLmNyZWF0ZVByb21pc2UmJihtPW5ldyBMKHcpLG09Yy5mLnRlc3QobS5oYSksaz1hLmguY3JlYXRlUHJvbWlzZSh7dXJsOncscmVzcG9uc2VUeXBlOmMucmVzcG9uc2VUeXBlLE9kOmMuYyxLZDoyLE5hOmMuTmEsd2l0aENyZWRlbnRpYWxzOmMud2l0aENyZWRlbnRpYWxzfHxtLFFhOmMuUWF9LGZ1bmN0aW9uKGEpe3RoaXMuTmM9YTt2YXIgYj1wZXJmb3JtYW5jZU5vdygpOwphLm9ubG9hZD1mdW5jdGlvbihmKXtpZihkKXt2YXIgaD1WaWRlb1BsYXllclJlc291cmNlVGltZXIuZ2V0UmVzb3VyY2VUaW1pbmdFbnRyeSh3LGIscGVyZm9ybWFuY2VOb3coKSk7ZC5zYW1wbGUocGVyZm9ybWFuY2VOb3coKS1iLGYubG9hZGVkfHxhLnJlc3BvbnNlJiZhLnJlc3BvbnNlLmJ5dGVMZW5ndGh8fDAsYy5taW1lVHlwZT8idiI9PT1jLm1pbWVUeXBlLmNoYXJBdCgwKTohMSxoLGcsZSxWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImV2YWx1YXRlX2Ficl9vbl9mZXRjaF9lbmQiLCExKSl9fX0pKTtrfHwoYS5nPW5ldyBTYyh3LGMpLGEubT0wLGQmJihhLmcuZj1kKSxrPWEuZy5tKCkpO3AmJnAuc2V0UmVzb3VyY2Uodyk7ZiYmZi5zZXRSZXNvdXJjZSh3KTt2YXIgZGE9ITEsZWE9ay50aGVuKEooYSxmdW5jdGlvbihhKXt2YXIgYz10aGlzLmg/dGhpcy5oLm9uUmVxdWVzdFNlbmQ6bnVsbDshY3x8InZpZGVvIiE9aCYmImF1ZGlvIiE9aCYmIm1hbmlmZXN0IiE9Cmh8fGMoITAsaCxhLnJlc3BvbnNlLmJ5dGVMZW5ndGgpOyF0aGlzLmJ8fHRoaXMuYi5pc0Rpc2FibGVkKCl8fHRoaXMuYT90aGlzLmF8fCh0aGlzLmE9VmlkZW9QbGF5ZXJSZXNvdXJjZVRpbWVyLmdldFJlc291cmNlVGltaW5nRW50cnkodyx0aGlzLmo/MDp0LHBlcmZvcm1hbmNlTm93KCkpKTp0aGlzLmE9dGhpcy5iLmdldFJlc291cmNlVGltaW5nRW50cnkodyk7VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJzYW1wbGVfcHJlZmV0Y2hfYmFuZHdpZHRoIiwhMSkmJnomJnRoaXMuYSYmMDx0aGlzLmEudGltZVRvTGFzdEJ5dGUmJmQmJmQuc2FtcGxlKHRoaXMuYS50aW1lVG9MYXN0Qnl0ZSxhLnJlc3BvbnNlLmJ5dGVMZW5ndGgsInYiPT09aC5jaGFyQXQoMCksdGhpcy5hLGcsZSwhMCk7aWYodGhpcy5BKXRyeXt0aGlzLm09cGFyc2VJbnQoYS5nZXRSZXNwb25zZUhlYWRlcigieC1mYi12aWRlby1icm9hZGNhc3QtZW5kZWQiKSwxMCl9Y2F0Y2goZil7fXRoaXMuYj0KdGhpcy5pPXRoaXMuZz10aGlzLmY9bnVsbDthLmE/KHRoaXMuaT1uZXcgTChhLmEpLHRoaXMudT0hMCk6dGhpcy5pPXRoaXMuY1tiXTthLnJlc3BvbnNlLllhPWEuWWE7cCYmKHA9cC5zZXRMZW5ndGgoYS5yZXNwb25zZS5ieXRlTGVuZ3RofHxhLnJlc3BvbnNlLmxlbmd0aCkuc2V0V2FzUHJlZmV0Y2hDYWNoZUhpdCh0aGlzLmopLG51bGwhPXRoaXMuYSYmKHA9cC5zZXRUaW1lVG9MYXN0Qnl0ZShNYXRoLnJvdW5kKHRoaXMuYS50aW1lVG9MYXN0Qnl0ZSkpLnNldFRpbWVUb0ZpcnN0Qnl0ZShNYXRoLnJvdW5kKHRoaXMuYS50aW1lVG9GaXJzdEJ5dGUpKS5zZXRUaW1lVG9SZXF1ZXN0U3RhcnQoTWF0aC5yb3VuZCh0aGlzLmEudGltZVRvUmVxdWVzdFN0YXJ0KSksMkUzPD10aGlzLmEudGltZVRvRmlyc3RCeXRlJiYtMTx3LmluZGV4T2YoImFrYW1haWhkIikmJmxvZ0xvbmdBa2FtYWlSZXF1ZXN0KGEuZ2V0UmVzcG9uc2VIZWFkZXIoIkRlYnVnLUluZm8iKSsiLCBUVEZCLT4gIit0aGlzLmEudGltZVRvRmlyc3RCeXRlKwoiLCBUVFJTLT4gIit0aGlzLmEudGltZVRvUmVxdWVzdFN0YXJ0KSkscC5sb2coKSk7cmV0dXJuIFByb21pc2UucmVzb2x2ZSh7dmFsdWU6YS5yZXNwb25zZSxkb25lOiExfSl9KSksZWE9ZWEuY2F0Y2goSihhLGZ1bmN0aW9uKGEpe3ZhciBlPXRoaXMuaD90aGlzLmgub25SZXF1ZXN0U2VuZDpudWxsO2UmJmUoITEsaCwwKTtpZih0aGlzLmYmJmIrMTx0aGlzLmMubGVuZ3RoKXJldHVybiB0aGlzLmY9JGModGhpcyxiKzEsYyxkKTt0aGlzLmI9dGhpcy5hPXRoaXMuZj10aGlzLmc9bnVsbDtwJiZwLnNldEVycm9yKGEpLmxvZygpO3JldHVybiBQcm9taXNlLnJlamVjdChhKX0pKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtjYW5jZWw6ZnVuY3Rpb24oKXt9LHJlYWQ6ZnVuY3Rpb24oKXtyZXR1cm4gZGE/UHJvbWlzZS5yZXNvbHZlKHt2YWx1ZTpudWxsLGRvbmU6ITB9KTplYS50aGVuKGZ1bmN0aW9uKGEpe2RhPSEwO3JldHVybiBhfSl9LmJpbmQoYSl9KX0KZnVuY3Rpb24gYmQoYSl7cmV0dXJue2Jhc2VVcmw6YS50b1N0cmluZygpLGlzUHJlZGljdGl2ZTphLmlzUHJlZGljdGl2ZSxzdGFydEJ5dGU6YS5zdGFydEJ5dGUsZW5kQnl0ZTphLmVuZEJ5dGV9fW4uY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEsodGhpcy5vLHRoaXMuYy5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuY2xvbmUoKX0pLHRoaXMuc3RhcnRCeXRlLHRoaXMuZW5kQnl0ZSx0aGlzLmlzUHJlZGljdGl2ZSx0aGlzLmgpfTtuLmdldFJlc291cmNlVGltaW5nRW50cnk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hfTsKZnVuY3Rpb24gY2QoYSxiLGMpe3ZhciBkPWIudG9TdHJpbmcoKTtpZihhLnN0YXJ0Qnl0ZXx8YS5lbmRCeXRlKWI9Yi5oYSwhYi5lbmRzV2l0aCgiZmJjZG4ubmV0Iil8fGIuc3RhcnRzV2l0aCgiaW50ZXJuY2FjaGUiKXx8Yi5lbmRzV2l0aCgiYWsuZmJjZG4ubmV0Iik/YyYmKGMuUWEuUmFuZ2U9ImJ5dGVzPSIrKGEuc3RhcnRCeXRlKyItIisobnVsbCE9YS5lbmRCeXRlP2EuZW5kQnl0ZToiIikpKTooZCs9IiZieXRlc3RhcnQ9IithLnN0YXJ0Qnl0ZSxkKz1udWxsIT09YS5lbmRCeXRlPyImYnl0ZWVuZD0iK2EuZW5kQnl0ZToiIik7YS5vJiZjJiYoZD1hLm8oZCxjLlFhKXx8ZCk7cmV0dXJuIGR9ZnVuY3Rpb24gdWIoYSl7cmV0dXJuIGNkKGEsYS5jWzBdKX1uLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY1swXS50b1N0cmluZygpfTtmdW5jdGlvbiBkZChhLGIsYyxkKXt0aGlzLmE9bmV3IHRiO2I9bnVsbCE9Yj9iOmlhO3RoaXMuYS5yZXNwb25zZVR5cGU9InRleHQiO3RoaXMuYS5OYT0zO3RoaXMuYS5iPTFFMypiO2MmJih0aGlzLmEuYT1jKTtkJiYodGhpcy5hLmRhPWQpO3RoaXMuYS5nPSEwO3RoaXMuYS53aXRoQ3JlZGVudGlhbHM9dGhpcy5hLmYudGVzdChhKTt0aGlzLmI9YX0KZnVuY3Rpb24gZWQoYSxiKXt2YXIgYz1hLmIsZD1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImRldGVjdF9saXZlX3N0cmVhbV9lbmRlZF9mcm9tX3Jlc3BvbnNlX2hlYWRlcnMiLCExKTtjLncoZCk7cmV0dXJuIGMuZmV0Y2goYS5hLG51bGwsYixudWxsLG51bGwsIm1hbmlmZXN0IikudGhlbihmdW5jdGlvbihhKXthIGluc3RhbmNlb2YgQXJyYXlCdWZmZXImJihhPVN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCxuZXcgVWludDhBcnJheShhKSkpO3ZhciBmPWQmJiEhYy5tLGc7YiYmKGc9Yi5nZXRPcGVyYXRpb25Mb2dnZXIoInBhcnNlX21hbmlmZXN0Iikuc3RhcnQoKSk7YT1lYyhhLGMuYyxbYy5pXSk7ZyYmZy5sb2coKTthJiYiZHluYW1pYyI9PT1hLnR5cGUmJmYmJihhLnR5cGU9InN0YXRpYyIsYiYmQmFuemFpT0RTLmJ1bXBFbnRpdHlLZXkoMjk2NiwidmlkZW9zLnd3dy5zaGFrYSIsImNoYW5nZWRfbWFuaWZlc3RfdG9fZHluYW1pY19vZmZfaGVhZGVycyIpKTsKaWYoYSlyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGEpO2Y9RXJyb3IoIk1QRCBwYXJzZSBmYWlsdXJlLiIpO2YudHlwZT0iZGFzaCI7cmV0dXJuIFByb21pc2UucmVqZWN0KGYpfSl9ZnVuY3Rpb24gZmQoYSl7dGhpcy5hPW51bGw7dGhpcy5oPWE7dGhpcy5jPXRoaXMuZz10aGlzLmY9bnVsbDt0aGlzLmk9ITE7dGhpcy5qPXRoaXMuYj1udWxsfTtmdW5jdGlvbiBnZChhLGIpe3RoaXMuYT1hO3RoaXMuYj1ifHxudWxsfWdkLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5hJiYodGhpcy5hLkthKCksdGhpcy5hPW51bGwpO3RoaXMuYj1udWxsfTtnZC5wcm90b3R5cGUuY3JlYXRlPWZ1bmN0aW9uKGEsYil7dmFyIGM9bnVsbDtiJiYoYz1uZXcgdGIsYy5kYT1iKTtyZXR1cm4hdGhpcy5iJiZ0aGlzLmE/dGhpcy5hLmZldGNoKGMsbnVsbCxhLG51bGwsbnVsbCwiaW5pdCIpOlByb21pc2UucmVzb2x2ZSh0aGlzLmIpfTtnZC5wcm90b3R5cGUuYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmF9O2dkLnByb3RvdHlwZS5nZXRGYWlsb3ZlclVyaT1nZC5wcm90b3R5cGUuYztmdW5jdGlvbiBoZChhLGIpe3RoaXMuc2VnbWVudE9yaWdpbmFsRW5kVGltZT1hO3RoaXMuZ2FwRGlzdGFuY2U9Yn1mdW5jdGlvbiBpZChhLGIsYyxkLGUsZixnKXt0aGlzLnN0YXJ0VGltZT1hO3RoaXMuZW5kVGltZT1iO3RoaXMudXJsPWM7dGhpcy51bnNjYWxlZFN0YXJ0VGltZT1kO3RoaXMudW5zY2FsZWREdXJhdGlvbj1lO3RoaXMudGltZXNjYWxlZEdhcEluZm89Znx8bnVsbDt0aGlzLmlzUHJlZGljdGl2ZT1nfHwhMTt0aGlzLmRlYnVnSW5mbz10aGlzLnRpbWVzY2FsZWRHYXBJbmZvP3tlbmRUaW1lOnRoaXMudGltZXNjYWxlZEdhcEluZm8uc2VnbWVudE9yaWdpbmFsRW5kVGltZSxkZWx0YTp0aGlzLnRpbWVzY2FsZWRHYXBJbmZvLmdhcERpc3RhbmNlfTpudWxsfWZ1bmN0aW9uIGpkKGEsYixjKXtyZXR1cm4gbmV3IGlkKGIsYyxhLnVybCxhLnVuc2NhbGVkU3RhcnRUaW1lLGEudW5zY2FsZWREdXJhdGlvbixhLnRpbWVzY2FsZWRHYXBJbmZvLGEuaXNQcmVkaWN0aXZlKX0KZnVuY3Rpb24geWIoYSxiKXtpZihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInVzZV9iaW5hcnlfc2VhcmNoX3doZW5fZmluZGluZ19zZWdtZW50X3JlZmVyZW5jZXMiLCExKSlyZXR1cm4gQmluYXJ5U2VhcmNoLmZpbmRJbmRleEluQXJyYXkoYSxiLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGI+PWEuc3RhcnRUaW1lJiYobnVsbD09YS5lbmRUaW1lfHxiPGEuZW5kVGltZSk/MDphLnN0YXJ0VGltZS1ifSk7Zm9yKHZhciBjPWEubGVuZ3RoLTE7MDw9YzstLWMpe3ZhciBkPWFbY107aWYoYj49ZC5zdGFydFRpbWUmJihudWxsPT1kLmVuZFRpbWV8fGI8ZC5lbmRUaW1lKSlyZXR1cm4gY31yZXR1cm4tMX1mdW5jdGlvbiBrZChhLGIpe3JldHVybiBhLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gamQoYSxhLnN0YXJ0VGltZStiLG51bGwhPWEuZW5kVGltZT9hLmVuZFRpbWUrYjpudWxsKX0pfTtmdW5jdGlvbiBsZChhLGIsYyxkKXtmb3IodmFyIGU9Yi5hLGY9W10sZz0wO2c8ZDsrK2cpe3ZhciBoPWcrYyxrPShoLTEpKmUuSCxsPWsvZS5zLG09KGsrZS5IKS9lLnMsaD1tZChhLGIsZS5iK2gtMSxrKTtpZighaClyZXR1cm4gbnVsbDtmLnB1c2gobmV3IGlkKGwsbSxoLGssZS5IfHwwKSl9cmV0dXJuIGZ9ZnVuY3Rpb24gbWQoYSxiLGMsZCxlLGYpe2lmKCFiLmEpcmV0dXJuIG51bGw7ZT1lfHwhMTt2YXIgZz1iLmEuZixoPWIuYS5DLmE7aWYoIWcpcmV0dXJuIGIuYmFzZVVybD9uZXcgSyhhLGIuYmFzZVVybCwwLG51bGwsdm9pZCAwLGYpOm51bGw7Yz1uZChlJiZoP2g6ZyxiLmlkLGMsYi5iYW5kd2lkdGgsZCk7aWYoIWMpcmV0dXJuIG51bGw7Yj1aYyhiLmJhc2VVcmwsYyk7cmV0dXJuIG5ldyBLKGEsYiwwLG51bGwsZSxmKX0KZnVuY3Rpb24gbmQoYSxiLGMsZCxlKXt2YXIgZj17UmVwcmVzZW50YXRpb25JRDpiLE51bWJlcjpjLEJhbmR3aWR0aDpkLFRpbWU6ZX07YT1hLnJlcGxhY2UoL1wkKFJlcHJlc2VudGF0aW9uSUR8TnVtYmVyfEJhbmR3aWR0aHxUaW1lKT8oPzolMChbMC05XSspZCk/XCQvZyxmdW5jdGlvbihhLGIsYyl7aWYoIiQkIj09YSlyZXR1cm4iJCI7dmFyIGQ9ZltiXTtpZihudWxsPT1kKXJldHVybiBhOyJSZXByZXNlbnRhdGlvbklEIj09YiYmYyYmKGM9dm9pZCAwKTthPWQudG9TdHJpbmcoKTtjPXdpbmRvdy5wYXJzZUludChjLDEwKXx8MTtjPU1hdGgubWF4KDAsYy1hLmxlbmd0aCk7cmV0dXJuIEFycmF5KGMrMSkuam9pbigiMCIpK2F9KTt0cnl7cmV0dXJuIG5ldyBMKGEpfWNhdGNoKGcpe2lmKGcgaW5zdGFuY2VvZiBVUklFcnJvcilyZXR1cm4gbnVsbDt0aHJvdyBnO319CmZ1bmN0aW9uIG9kKGEsYixjLGQsZSxmKXt2YXIgZz0wLGg9YypiO2M9YS5OO3ZhciBrPWR8fDA7ZD1bXTt2YXIgbD1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigibGl2ZV9yZXdpbmRfdGVtcGxhdGVkX2xhc3RfeF9zZWdtZW50c19vbmx5IiwwKSxtPVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgidGVtcGxhdGVkX2xhc3RfeF90aW1lbGluZSIsITEpJiZlJiZudWxsIT1mLHA9ZSYmbT9WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigidGVtcGxhdGVkX2luZ2VzdF90aHJvdHRsZSIsMCk6MDtpZihsfHxtKXtmb3IoZT0wO2U8Yy5sZW5ndGg7KytlKXtpZighY1tlXS5kdXJhdGlvbilyZXR1cm4gZDt2YXIgdD1jW2VdLnN0YXJ0VGltZSx0PW51bGwhPXQ/dDpnLHc9Y1tlXS5yZXBlYXR8fDA7aWYoMD53KWlmKHc9Y1tlXS5kdXJhdGlvbixlKzE9PT1jLmxlbmd0aCl2YXIgej1jWzBdLnN0YXJ0VGltZStoLXQsdz1NYXRoLmNlaWwoei8KdyktMTtlbHNlIHo9Y1tlKzFdLnN0YXJ0VGltZSx3PU1hdGguY2VpbCgoei10KS93KS0xO2NbZV0uc3RhcnRUaW1lPXQ7Y1tlXS5yZXBlYXQ9dztnPWNbZV0uc3RhcnRUaW1lK2NbZV0uZHVyYXRpb24qKGNbZV0ucmVwZWF0KzEpfWZvcihlPWMubGVuZ3RoLTE7LTE8ZTstLWUpZm9yKHZhciBIPTA7SDw9Y1tlXS5yZXBlYXQ7KytIKWlmKHQ9Y1tlXS5zdGFydFRpbWUrY1tlXS5kdXJhdGlvbiooY1tlXS5yZXBlYXQtSCksZz10K2NbZV0uZHVyYXRpb24sYT1udWxsLGQubGVuZ3RoJiZnIT1kW2QubGVuZ3RoLTFdLnN0YXJ0JiYoej1kW2QubGVuZ3RoLTFdLnN0YXJ0LWcsYT1uZXcgaGQoZy9iLHovYiksZz1kW2QubGVuZ3RoLTFdLnN0YXJ0KSxkLnB1c2goe3N0YXJ0OnQsZW5kOmd9KSxhJiYoZFtkLmxlbmd0aC0xXS50aW1lc2NhbGVkR2FwSW5mbz1hKSxsKXtpZihkLmxlbmd0aD09PWwpcmV0dXJuIGQ9ZC5yZXZlcnNlKCl9ZWxzZSBpZihtJiZkW2QubGVuZ3RoLTFdLnN0YXJ0PD1mKXJldHVybiBkLnBvcCgpLApkPWQucmV2ZXJzZSgpLDA8cCYmKGQ9ZC5zbGljZSgwLHApKSxkO3JldHVybiBkLnJldmVyc2UoKX1mb3IoZT0wO2U8Yy5sZW5ndGg7KytlKXtpZighY1tlXS5kdXJhdGlvbilyZXR1cm4gZDt0PWNbZV0uc3RhcnRUaW1lO3Q9bnVsbCE9dD90Omc7dz1jW2VdLnJlcGVhdHx8MDswPncmJih3PWNbZV0uZHVyYXRpb24sZSsxPT09Yy5sZW5ndGg/KHo9Y1swXS5zdGFydFRpbWUraC10LHc9TWF0aC5jZWlsKHovdyktMSk6KHo9Y1tlKzFdLnN0YXJ0VGltZSx3PU1hdGguY2VpbCgoei10KS93KS0xKSk7MDxkLmxlbmd0aCYmdCE9ZyYmKHo9dC1nLGY9ZFtkLmxlbmd0aC0xXSxmLnRpbWVzY2FsZWRHYXBJbmZvPW5ldyBoZChnL2Isei9iKSxmLmVuZD10KTtmb3IoSD0wO0g8PXc7KytIKWc9dCtjW2VdLmR1cmF0aW9uLGQucHVzaCh7c3RhcnQ6dCxlbmQ6Z30pLHQ9Z31pZihhLmEmJjA8Yy5sZW5ndGgpZm9yKGI9Y1swXS5kdXJhdGlvbixmPTA7ZjxrO2YrKylkLnB1c2goe3N0YXJ0OnQrZipiLGVuZDp0KwooZisxKSpiLHVkOmEuYitmfSk7cmV0dXJuIGR9O2Z1bmN0aW9uIHBkKGEsYixjLGQsZSl7dGhpcy53PWE7dGhpcy5tPWI7dGhpcy5jPWM7dGhpcy5XPTA7dGhpcy5CPSEwO3RoaXMucz1jLnN8fDA7dGhpcy5BPSExO3RoaXMuZz1udWxsO3RoaXMudT1kO3RoaXMuaj1jLkx8fDA7dGhpcy5iPTA7dGhpcy5pPXRoaXMuaD1udWxsO2E6e2I9Yy5DO3ZhciBmPTA7YT0oYS5kdXJhdGlvbnx8MCkqdGhpcy5zO2M9Yi5OO2ZvcihkPTA7ZDxjLmxlbmd0aDsrK2Qpe2lmKCFjW2RdLmR1cmF0aW9uKXtiLk49Yy5zbGljZSgwLGQpO2JyZWFrIGF9dmFyIGc9Y1tkXS5zdGFydFRpbWUsZj1udWxsIT1nP2c6ZixnPWNbZF0ucmVwZWF0fHwwOzA+ZyYmKGc9Y1tkXS5kdXJhdGlvbixnPWQrMT09PWMubGVuZ3RoP01hdGguY2VpbCgoY1swXS5zdGFydFRpbWUrYS1mKS9nKS0xOk1hdGguY2VpbCgoY1tkKzFdLnN0YXJ0VGltZS1mKS9nKS0xKTtjW2RdLnN0YXJ0VGltZT1mO2NbZF0ucmVwZWF0PWc7Zj1jW2RdLnN0YXJ0VGltZStjW2RdLmR1cmF0aW9uKihjW2RdLnJlcGVhdCsKMSl9fXRoaXMuZj1bXTt0aGlzLm89VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoInRpbWVsaW5lX3NlZ21lbnRfaW5kZXhfbWF4X2luZGV4X2NhY2hlX2xlbmd0aCIsMCk7dGhpcy5iPVNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscy5sZW5ndGgodGhpcy5jLkMuTik7dGhpcy5EPWV8fG51bGx9cGQucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmI9dGhpcy5jPXRoaXMubT10aGlzLnc9bnVsbDt0aGlzLmc9ZnVuY3Rpb24oKXt9O3RoaXMuZj10aGlzLnU9bnVsbH07cGQucHJvdG90eXBlLmxlbmd0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmJ9O2Z1bmN0aW9uIHFkKGEsYil7Zm9yKHZhciBjPWEuZi5sZW5ndGgtMTstMTxjO2MtLSlpZihhLmZbY10uaW5kZXg9PT1iKXt2YXIgZD1hLmZbY107YS5mLnNwbGljZShjLDEpO2EuZi5wdXNoKGQpO3JldHVybiBkLnhkfXJldHVybiBudWxsfQpmdW5jdGlvbiByZChhLGIsYyl7dmFyIGQ9W107aWYoYS5vJiYxPT09Yy1iKXt2YXIgZT1xZChhLGIpO2lmKGUpcmV0dXJuW2VdfXZhciBmPS1hLmovYS5zK2EuVztTaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMuZ2V0U2VnbWVudHMoYixjLGEuYy5DLk4sZnVuY3Rpb24oYSxlLGssbCxtKXtpZihsKXt2YXIgcD1kW2QubGVuZ3RoLTFdO3AmJihwLnRpbWVzY2FsZWRHYXBJbmZvPW5ldyBoZChtL3RoaXMucyxsL3RoaXMucykscC5kZWJ1Z0luZm89e2VuZFRpbWU6cC50aW1lc2NhbGVkR2FwSW5mby5zZWdtZW50T3JpZ2luYWxFbmRUaW1lLGRlbHRhOnAudGltZXNjYWxlZEdhcEluZm8uZ2FwRGlzdGFuY2V9LGRbZC5sZW5ndGgtMV09amQocCxwLnN0YXJ0VGltZSxhL3RoaXMucytmKSl9az1tZCh0aGlzLnUsdGhpcy5tLGsrdGhpcy5jLmIsYSx2b2lkIDAsdGhpcy5EKTtpZighayl0aHJvdyBhPUVycm9yKCJGYWlsZWQgdG8gZ2VuZXJhdGUgbWVkaWEgVVJMLiIpLGEudHlwZT0iZGFzaCIsCmE7YT1uZXcgaWQoYS90aGlzLnMrZixlL3RoaXMucytmLGssYSxlLWEsbnVsbCk7ZT1iK2QubGVuZ3RoO2QucHVzaChhKTshdGhpcy5vfHwwIT09ZSYmZSE9PXRoaXMuYi0xJiYxIT09Yy1ifHxxZCh0aGlzLGUpfHwodGhpcy5mLmxlbmd0aCsxPnRoaXMubyYmdGhpcy5mLnNoaWZ0KCksdGhpcy5mLnB1c2goe2luZGV4OmUseGQ6YX0pKX0uYmluZChhKSk7cmV0dXJuIGR9CmZ1bmN0aW9uIHNkKGEsYil7dmFyIGM9Yi51bnNjYWxlZFN0YXJ0VGltZSxkPWIudW5zY2FsZWRFbmRUaW1lLGU9Yi5kZWx0YSxmPWIucHJldmlvdXNFbmRUaW1lO2lmKGUpdmFyIGc9bmV3IGhkKGYvYS5zLGUvYS5zKTtlPW1kKGEudSxhLm0sYi5zZWdtZW50UmVwbGFjZW1lbnQrYS5jLmIsYyx2b2lkIDAsYS5EKTtpZighZSl0aHJvdyBjPUVycm9yKCJGYWlsZWQgdG8gZ2VuZXJhdGUgbWVkaWEgVVJMLiIpLGMudHlwZT0iZGFzaCIsYztmPS1hLmovYS5zK2EuVztyZXR1cm4gbmV3IGlkKGMvYS5zK2YsZC9hLnMrZixlLGMsZC1jLGd8fG51bGwpfXBkLnByb3RvdHlwZS5nZXRTZWdtZW50cz1mdW5jdGlvbigpe3JldHVybiByZCh0aGlzLDAsdGhpcy5iKXx8W119OwpwZC5wcm90b3R5cGUuZmlyc3Q9ZnVuY3Rpb24oKXtpZighdGhpcy5iKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbmRleCBvdXQgb2YgcmFuZ2UuIik7aWYoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJvcHRpbWl6ZV9jb21tb25fc2VnbWVudF9nZW5lcmF0aW9ucyIsITEpKXtpZih0aGlzLmgpcmV0dXJuIHRoaXMuaDt2YXIgYT1TaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMuZmlyc3QodGhpcy5jLkMuTix0aGlzLmIpO3JldHVybiB0aGlzLmg9c2QodGhpcyxhKX1yZXR1cm4gcmQodGhpcywwLDEpWzBdfTsKcGQucHJvdG90eXBlLmxhc3Q9ZnVuY3Rpb24oKXtpZighdGhpcy5iKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbmRleCBvdXQgb2YgcmFuZ2UuIik7aWYoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJvcHRpbWl6ZV9jb21tb25fc2VnbWVudF9nZW5lcmF0aW9ucyIsITEpKXtpZih0aGlzLmkpcmV0dXJuIHRoaXMuaTt2YXIgYT1TaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMubGFzdCh0aGlzLmMuQy5OLHRoaXMuYik7cmV0dXJuIHRoaXMuaT1zZCh0aGlzLGEpfXJldHVybiByZCh0aGlzLHRoaXMuYi0xLHRoaXMuYilbMF19OwpwZC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGEpe2lmKCF0aGlzLmJ8fDA+YXx8YT49dGhpcy5iKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbmRleCBvdXQgb2YgcmFuZ2UuIik7cmV0dXJuIFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgib3B0aW1pemVfY29tbW9uX3NlZ21lbnRfZ2VuZXJhdGlvbnMiLCExKT8oYT1TaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMuZ2V0KHRoaXMuYy5DLk4sYSx0aGlzLmIpLHNkKHRoaXMsYSkpOnJkKHRoaXMsYSxhKzEpWzBdfTsKcGQucHJvdG90eXBlLmZpbmQ9ZnVuY3Rpb24oYSl7aWYoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJmaXhfY29tcG9zaXRlZF90aW1lX2luZGV4X2NhbGxzIiwhMSkpcmV0dXJuKGE9U2hha2FUaW1lbGluZVNlZ21lbnRJbmRleFV0aWxzLmZpbmQoYSx0aGlzLmMuQy5OLHRoaXMucywtdGhpcy5qL3RoaXMucyt0aGlzLlcpKT9zZCh0aGlzLGEpOm51bGw7YT10aGlzLmZpbmRJbmRleChhKTtyZXR1cm4gVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJvcHRpbWl6ZV9jb21tb25fc2VnbWVudF9nZW5lcmF0aW9ucyIsITEpPzA8PWE/dGhpcy5nZXQoYSk6bnVsbDowPD1hP3JkKHRoaXMsYSxhKzEpWzBdOm51bGx9O3BkLnByb3RvdHlwZS5maW5kSW5kZXg9ZnVuY3Rpb24oYSl7cmV0dXJuIFNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscy5maW5kSW5kZXgoYSx0aGlzLmMuQy5OLHRoaXMucywtdGhpcy5qL3RoaXMucyt0aGlzLlcpfTtuPXBkLnByb3RvdHlwZTsKbi5TYT1mdW5jdGlvbihhKXt2YXIgYj1hLmxlbmd0aCgpLGM9Yi10aGlzLmI7aWYoMCE9PWImJihiIT09dGhpcy5ifHwwIT09dGhpcy5iJiZhLmxhc3QoKS5lbmRUaW1lIT09dGhpcy5sYXN0KCkuZW5kVGltZSkmJiEoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJmaXhfaW50ZWdyYXRpb25fb25fZWFybGllcl9lbmR0aW1lIiwhMSkmJmEubGFzdCgpLmVuZFRpbWU8PXRoaXMubGFzdCgpLmVuZFRpbWUpKWlmKHRoaXMuQT0hMSxiPWEubGFzdCgpLG51bGwhPWIuZW5kVGltZSYmYi5lbmRUaW1lPHRoaXMubGFzdCgpLmVuZFRpbWUmJmIuZW5kVGltZTx0aGlzLmZpcnN0KCkuc3RhcnRUaW1lJiYodGhpcy5BPSEwKSxWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImludGVncmF0ZV9zZWdtZW50X3RpbWVsaW5lX3RpbWVfcG9pbnRzIiwhMSk/dGhpcy5jLkMuTj1TaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMuaW50ZWdyYXRlVGltZVBvaW50cyh0aGlzLmMuQy5OLAphLmMuQy5OKToodGhpcy53PWEudyx0aGlzLm09YS5tLHRoaXMuYz1hLmMsdGhpcy5qPXRoaXMuYy5MfHwwLHRoaXMucz10aGlzLmMuc3x8MCksdGhpcy5mPVtdLHRoaXMuaT10aGlzLmg9bnVsbCx0aGlzLmI9U2hha2FUaW1lbGluZVNlZ21lbnRJbmRleFV0aWxzLmxlbmd0aCh0aGlzLmMuQy5OKSx0aGlzLmZpcnN0KCksdGhpcy5sYXN0KCksVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJ0ZW1wbGF0ZWRfY2FsbF9vbl9zZWdtZW50c191cGRhdGVkX3dpdGhfZGVsdGFfc2VnbWVudHMiLCExKSl7dmFyIGQ9W10sYz10aGlzLmItYztmb3IoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJ0ZW1wbGF0ZWRfZHluYW1pY19pbmNsdWRlX3ByZXZpb3VzX2xhc3Rfc2VnbWVudF9pbl91cGRhdGVzIiwhMSkmJjA8YyYmYy0tO2M8dGhpcy5iOysrYylkLnB1c2godGhpcy5nZXQoYykpO3RoaXMuZyYmdGhpcy5nKGQpfWVsc2UgYz0hVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJub19wcm92aWRlX3NlZ21lbnRzX3RvX29uX3NlZ21lbnRzX3VwZGF0ZWRfbGlzdGVuZXJzIiwKITEpLHRoaXMuZyYmKGMmJihkPXRoaXMuZ2V0U2VnbWVudHMoKSksdGhpcy5nKGQpKX07bi5oYj1mdW5jdGlvbihhKXt2YXIgYj1hLXRoaXMuVztpZigwPT1iKXJldHVybiAwO3RoaXMuVz1hO3RoaXMuaT10aGlzLmg9bnVsbDt0aGlzLmY9W107cmV0dXJuIGJ9O24uaWI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iP3tzdGFydDp0aGlzLmZpcnN0KCkuc3RhcnRUaW1lLGVuZDp0aGlzLmxhc3QoKS5lbmRUaW1lfTp7c3RhcnQ6MCxlbmQ6MH19O24uZ2V0U2Vla1JhbmdlR2Fwcz1mdW5jdGlvbigpe3JldHVybiBTaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMuZ2V0U2Vla1JhbmdlR2Fwcyh0aGlzLmMuQy5OLHRoaXMucywtdGhpcy5qL3RoaXMucyt0aGlzLlcpfTtuLnJiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuQX07bi5HYz1mdW5jdGlvbihhKXt0aGlzLmc9YX07bi5GYz1mdW5jdGlvbigpe3RoaXMuZz1udWxsfTtuLklhPWZ1bmN0aW9uKCl7fTtmdW5jdGlvbiB0ZCgpe30KdGQucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9bnVsbDt0cnl7YTp7dmFyIGc9W10saD1uZXcgQmEoYSksaz12KGgpO2lmKDE5MzYyODY4NDAhPXYoaCkpZj1udWxsO2Vsc2V7MT09ayYmKGs9RmEoaCkpO3ZhciBsPUVhKGgpO0hhKGgsMyk7SGEoaCw0KTt2YXIgbT12KGgpO2lmKDA9PW0pZj1udWxsO2Vsc2V7dmFyIHAsdDswPT1sPyhwPXYoaCksdD12KGgpKToocD1GYShoKSx0PUZhKGgpKTtIYShoLDIpO3ZhciB3PWguYi5nZXRVaW50MTYoaC5hLGguYyk7aC5hKz0yO2E9cDtiPWIrayt0O2Zvcih0PWs9MDt0PHc7dCsrKXt2YXIgej12KGgpO3A9KHomMjE0NzQ4MzY0OCk+Pj4zMTt2YXIgbD16JjIxNDc0ODM2NDcsSD12KGgpO3YoaCk7aWYoMT09cCl7Zj1udWxsO2JyZWFrIGF9dmFyIGRhO2RhPTA9PXQmJmU/ZTpuZXcgSyhkLGMsYixiK2wtMSk7cD1hL207dmFyIGVhPShhK0gpL207MD09PXQmJihrPXApO2cucHVzaChuZXcgaWQocC1rLGVhLWssZGEsCmEsSCkpO2ErPUg7Yis9bH1nLnM9bTtmPWd9fX19Y2F0Y2goQWEpe2lmKCEoQWEgaW5zdGFuY2VvZiBSYW5nZUVycm9yKSl0aHJvdyBBYTt9cmV0dXJuIGZ9O2Z1bmN0aW9uIFIoYSl7dGhpcy5hPWE7dGhpcy5zPXRoaXMuYS5zO3RoaXMuSz10aGlzLmEuQjt0aGlzLmc9W119Ui5wcm90b3R5cGUuSj1mdW5jdGlvbigpe3JldHVybiEhdGhpcy5nW3RoaXMuZy5sZW5ndGgtMV19O1IucHJvdG90eXBlLmxhc3RQb2xsSGFkQ2hhbmdlcz1SLnByb3RvdHlwZS5KO1IucHJvdG90eXBlLkk9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmcsYj1hLmxhc3RJbmRleE9mKCEwKTtpZigxPmIpcmV0dXJuIDA7YT1hLmxhc3RJbmRleE9mKCEwLGItMSk7cmV0dXJuIDA+YT8wOmItYS0xfTtSLnByb3RvdHlwZS5nZXRGZXRjaGVzQmV0d2VlblJlY2VudENoYW5nZXM9Ui5wcm90b3R5cGUuSTtSLnByb3RvdHlwZS51PWZ1bmN0aW9uKCl7cmV0dXJuIE1hdGguZmxvb3IoKHRoaXMuZy5sZW5ndGgtMS10aGlzLmcubGFzdEluZGV4T2YoITApKS8yKX07Ui5wcm90b3R5cGUuZ2V0Q29uc2VjdXRpdmVVcGRhdGVzV2l0aG91dENoYW5nZXM9Ui5wcm90b3R5cGUudTsKUi5wcm90b3R5cGUuRz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmcubGVuZ3RoLTEtdGhpcy5nLmxhc3RJbmRleE9mKCExKX07Ui5wcm90b3R5cGUuZ2V0Q29uc2VjdXRpdmVVcGRhdGVzV2l0aENoYW5nZXM9Ui5wcm90b3R5cGUuRztSLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5hLmRlc3Ryb3koKTt0aGlzLmE9bnVsbH07Ui5wcm90b3R5cGUubGVuZ3RoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS5sZW5ndGgoKX07Ui5wcm90b3R5cGUuZ2V0U2VnbWVudHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLmdldFNlZ21lbnRzKCl9O1IucHJvdG90eXBlLmdldFNlZ21lbnRzPVIucHJvdG90eXBlLmdldFNlZ21lbnRzO1IucHJvdG90eXBlLmZpcnN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS5maXJzdCgpfTtSLnByb3RvdHlwZS5sYXN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS5sYXN0KCl9O1IucHJvdG90eXBlLmxhc3Q9Ui5wcm90b3R5cGUubGFzdDsKUi5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmEuZ2V0KGEpfTtSLnByb3RvdHlwZS5maW5kPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmEuZmluZChhKX07Ui5wcm90b3R5cGUuZmluZEluZGV4PWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmEuZmluZEluZGV4KGEpfTtSLnByb3RvdHlwZS5CPWZ1bmN0aW9uKGEpe3RoaXMuYS5TYShhLmEpO3JldHVybiEwfTtSLnByb3RvdHlwZS5UYT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5hLmhiKGEpfTtSLnByb3RvdHlwZS5BPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS5pYigpfTtSLnByb3RvdHlwZS5nZXRTZWVrUmFuZ2VHYXBzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS5nZXRTZWVrUmFuZ2VHYXBzKCl9O1IucHJvdG90eXBlLmdldFNlZWtSYW5nZUdhcHM9Ui5wcm90b3R5cGUuZ2V0U2Vla1JhbmdlR2FwcztSLnByb3RvdHlwZS5yYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmEucmIoKX07CmZ1bmN0aW9uIHVkKGEsYil7YS5hLkdjKGIpfTtmdW5jdGlvbiBTKGEsYixjLGQpe1IuY2FsbCh0aGlzLGEpO3RoaXMuaT1iO3RoaXMuRj1jO3RoaXMuaD1kO3RoaXMuZHVyYXRpb249dGhpcy5pLmJ8fHRoaXMuaS5hLnJlZHVjZShmdW5jdGlvbihhLGIpe3JldHVybiBudWxsPT1iLmR1cmF0aW9uP05hTjphK2IuZHVyYXRpb259LDApfHwwO3RoaXMuYj10aGlzLm89dGhpcy5mPW51bGw7eWQodGhpcyl9cihTLFIpO1MucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLkY9dGhpcy5pPW51bGw7Ui5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpfTtTLnByb3RvdHlwZS5maW5kPWZ1bmN0aW9uKGEpe3pkKHRoaXMseWEoKS8xRTMpO3JldHVybiBSLnByb3RvdHlwZS5maW5kLmNhbGwodGhpcyxhKX07ClMucHJvdG90eXBlLkI9ZnVuY3Rpb24oYSl7aWYoIShhIGluc3RhbmNlb2YgUykpcmV0dXJuITE7dGhpcy5hLlNhKGEuYSk7dGhpcy5kdXJhdGlvbj1NYXRoLm1heCh0aGlzLmR1cmF0aW9uLGEuZHVyYXRpb24pO251bGw9PXRoaXMuZj8odGhpcy5oPWEuaCx5ZCh0aGlzKSk6QWQodGhpcyk7cmV0dXJuITB9O2Z1bmN0aW9uIHlkKGEpe0FkKGEpO2lmKDAhPWEubGVuZ3RoKCkpe2EubGVuZ3RoKCk7dmFyIGI9bnVsbCE9YS5sYXN0KCkuZW5kVGltZT9hLmxhc3QoKS5lbmRUaW1lOmEubGFzdCgpLnN0YXJ0VGltZTtpZihhLmkuYz5hLmgpYS5mPWI7ZWxzZXt2YXIgYz1hLmgtKGEuaS5jK2EuRi5zdGFydCk7MD5jP2EuZj1iOmM8TWF0aC5tYXgoYS5sYXN0KCkuc3RhcnRUaW1lLGEubGFzdCgpLmVuZFRpbWV8fDApPyhhLmxhc3QoKSxhLmY9Yik6YS5mPWN9YS5vPWEubGFzdCgpLnN0YXJ0VGltZTthLmI9YS5maXJzdCgpLnN0YXJ0VGltZX19ClMucHJvdG90eXBlLlRhPWZ1bmN0aW9uKGEpe2E9Ui5wcm90b3R5cGUuVGEuY2FsbCh0aGlzLGEpO1ZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgibm9fY29ycmVjdF9kZWx0YV93YXJuaW5nIiwhMSl8fE1hdGgubWluLmFwcGx5KG51bGwsdGhpcy5nZXRTZWdtZW50cygpLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YS5lbmRUaW1lfSkubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLmVuZFRpbWUtYS5zdGFydFRpbWV9KSk7bnVsbCE9dGhpcy5mJiYodGhpcy5vKz1hLHRoaXMuYis9YSx0aGlzLmYrPWEpO3JldHVybiBhfTtTLnByb3RvdHlwZS5BPWZ1bmN0aW9uKCl7cmV0dXJuIEJkKHRoaXMseWEoKS8xRTMpfTsKZnVuY3Rpb24gQmQoYSxiKXt6ZChhLGIpO2lmKG51bGw9PWEuZnx8bnVsbD09YS5vfHxudWxsPT1hLmIpcmV0dXJue3N0YXJ0OjAsZW5kOjB9O3ZhciBjPU51bWJlci5QT1NJVElWRV9JTkZJTklUWTthLmR1cmF0aW9uJiYoYz1hLmR1cmF0aW9uKTt2YXIgZD1iLWEuaCxlPWEuZitkO251bGwhPWEuaS5mJiYoZT1lLWEuYi1hLmkuZiwwPGUmJihhLmIrPWUpKTthLmI9TWF0aC5taW4oYS5iLGMpO2Q9YS5vK2Q7aWYoZDxhLmIpcmV0dXJue3N0YXJ0OmEuYixlbmQ6YS5ifTtkPTA8YS5sZW5ndGgoKT9udWxsIT1hLmxhc3QoKS5lbmRUaW1lP01hdGgubWluKGQsYS5sYXN0KCkuZW5kVGltZSk6ZDphLmI7ZD1NYXRoLm1heChkLGEuYik7ZD1NYXRoLm1pbihkLGMpO3JldHVybntzdGFydDphLmIsZW5kOmR9fQpmdW5jdGlvbiB6ZChhLGIpe2lmKGEuYS5hJiYoQWQoYSksbnVsbCE9YS5pLmYpKWlmKG51bGw9PWEuZilhLmxlbmd0aCgpO2Vsc2V7Zm9yKHZhciBjPWEuZisoYi1hLmgpLGQ9MCxlPTA7ZTxhLmEuYS5sZW5ndGg7KytlKXt2YXIgZj1udWxsO2U8YS5hLmEubGVuZ3RoLTE/Zj1hLmEuYVtlKzFdLmVuZFRpbWU6KGY9YS5hLmFbZV0sZj1udWxsIT1mLmVuZFRpbWU/Zi5lbmRUaW1lKyhmLmVuZFRpbWUtZi5zdGFydFRpbWUpOm51bGwpO2lmKG51bGwhPWYmJmY8Yy1hLmkuZikrK2Q7ZWxzZSBicmVha30wPGQmJmEuYS5hLnNwbGljZSgwLGQpfX1mdW5jdGlvbiBBZChhKXtpZihhLmR1cmF0aW9uJiZhLmEuYSl7Zm9yKHZhciBiPTAsYz1hLmEuYS5sZW5ndGgtMTswPD1jOy0tYylpZihhLmEuYVtjXS5zdGFydFRpbWU+YS5kdXJhdGlvbikrK2I7ZWxzZSBicmVhazswPGImJmEuYS5hLnNwbGljZSgtYil9fTtmdW5jdGlvbiBUKGEsYixjKXt2YXIgZD1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigidGVtcGxhdGVkX3F1YXJhbnRpbmVfaWRsZV9yZWZlcmVuY2VzX3RocmVzaG9sZCIsMCk7dGhpcy5pPVtdO2lmKDA8ZCl7dmFyIGU9YTthPWUuc3BsaWNlKC1kKTt0aGlzLmk9ZX10aGlzLmE9YTt0aGlzLlc9MDt0aGlzLnM9Yjt0aGlzLmY9ITE7dGhpcy5oPWZ1bmN0aW9uKCl7fTt0aGlzLkI9Y3x8ITF9VC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuYT1udWxsfTtULnByb3RvdHlwZS5sZW5ndGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLmxlbmd0aH07VC5wcm90b3R5cGUuZ2V0U2VnbWVudHM9ZnVuY3Rpb24oKXtyZXR1cm4odGhpcy5hfHxbXSkuc2xpY2UoKX07VC5wcm90b3R5cGUuZ2V0U2VnbWVudHM9VC5wcm90b3R5cGUuZ2V0U2VnbWVudHM7ClQucHJvdG90eXBlLmZpcnN0PWZ1bmN0aW9uKCl7aWYoMD09dGhpcy5hLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiU2VnbWVudEluZGV4QmFzZTogVGhlcmUgaXMgbm8gZmlyc3QgU2VnbWVudFJlZmVyZW5jZS4iKTtyZXR1cm4gdGhpcy5hWzBdfTtULnByb3RvdHlwZS5sYXN0PWZ1bmN0aW9uKCl7aWYoMD09dGhpcy5hLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiU2VnbWVudEluZGV4QmFzZTogVGhlcmUgaXMgbm8gbGFzdCBTZWdtZW50UmVmZXJlbmNlLiIpO3JldHVybiB0aGlzLmFbdGhpcy5hLmxlbmd0aC0xXX07VC5wcm90b3R5cGUubGFzdD1ULnByb3RvdHlwZS5sYXN0O1QucHJvdG90eXBlLmdldD1mdW5jdGlvbihhKXtpZigwPmF8fGE+PXRoaXMuYS5sZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIlNlZ21lbnRJbmRleEJhc2U6IFRoZSBzcGVjaWZpZWQgaW5kZXggaXMgb3V0IG9mIHJhbmdlLiIpO3JldHVybiB0aGlzLmFbYV19OwpULnByb3RvdHlwZS5maW5kPWZ1bmN0aW9uKGEpe2E9dGhpcy5maW5kSW5kZXgoYSk7cmV0dXJuIDA8PWE/dGhpcy5hW2FdOm51bGx9O1QucHJvdG90eXBlLmZpbmRJbmRleD1mdW5jdGlvbihhKXtyZXR1cm4geWIodGhpcy5hLGEpfTsKVC5wcm90b3R5cGUuU2E9ZnVuY3Rpb24oYSl7dGhpcy5XIT1hLlcmJihhPW5ldyBUKGtkKGEuYSx0aGlzLlctYS5XKSxhLnMpKTtpZigwPT10aGlzLmxlbmd0aCgpKXRoaXMuYT1hLmEuc2xpY2UoMCksdGhpcy5JYSgpO2Vsc2UgaWYoMCE9YS5sZW5ndGgoKSYmbnVsbCE9dGhpcy5sYXN0KCkuZW5kVGltZSlpZihudWxsIT1hLmxhc3QoKS5lbmRUaW1lJiZhLmxhc3QoKS5lbmRUaW1lPHRoaXMubGFzdCgpLmVuZFRpbWUpVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJmaXhfbWFuaWZlc3Rfd3JhcHBlZCIsITApP2EubGFzdCgpLmVuZFRpbWU8dGhpcy5maXJzdCgpLnN0YXJ0VGltZSYmKHRoaXMuZj0hMCk6dGhpcy5mPSEwO2Vsc2V7dGhpcy5mPSExO2lmKHRoaXMubGFzdCgpLmVuZFRpbWU8PWEuZmlyc3QoKS5zdGFydFRpbWUpe3ZhciBiPWpkKHRoaXMubGFzdCgpLHRoaXMubGFzdCgpLnN0YXJ0VGltZSxhLmZpcnN0KCkuc3RhcnRUaW1lKSxjPXRoaXMubGFzdCgpLnVuc2NhbGVkU3RhcnRUaW1lKwp0aGlzLmxhc3QoKS51bnNjYWxlZER1cmF0aW9uO1ZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgiY2FsY3VsYXRlX21pc3NlZF9zZWdtZW50X2dhcF9pbmZvX29uX21lcmdlIiwhMSkmJmM8YS5maXJzdCgpLnVuc2NhbGVkU3RhcnRUaW1lJiZudWxsPT09dGhpcy5sYXN0KCkudGltZXNjYWxlZEdhcEluZm8mJihiLnRpbWVzY2FsZWRHYXBJbmZvPW5ldyBoZChjL3RoaXMucywoYS5maXJzdCgpLnVuc2NhbGVkU3RhcnRUaW1lLWMpL3RoaXMucykpO2lmKFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgidGVtcGxhdGVkX29wdGltaXplX21lcmdlX3RhcmdldF9hbGdvcyIsITEpKWZvcih0aGlzLmEucG9wKCksdGhpcy5hLnB1c2goYiksYz0wO2M8YS5hLmxlbmd0aDsrK2MpdGhpcy5hLnB1c2goYS5hW2NdKTtlbHNlIGI9dGhpcy5hLnNsaWNlKDAsLTEpLmNvbmNhdChbYl0pLHRoaXMuYT1iLmNvbmNhdChhLmEpfWVsc2V7Zm9yKGM9MDtjPHRoaXMuYS5sZW5ndGgmJgohKHRoaXMuYVtjXS5lbmRUaW1lPj1hLmZpcnN0KCkuc3RhcnRUaW1lKTsrK2MpO3RoaXMuYVtjXS5zdGFydFRpbWU8YS5maXJzdCgpLnN0YXJ0VGltZT8oYj1qZCh0aGlzLmFbY10sdGhpcy5hW2NdLnN0YXJ0VGltZSxhLmZpcnN0KCkuc3RhcnRUaW1lKSxiPXRoaXMuYS5zbGljZSgwLGMpLmNvbmNhdChbYl0pKToodGhpcy5maXJzdCgpLnN0YXJ0VGltZT5hLmZpcnN0KCkuc3RhcnRUaW1lfHxhLmZpcnN0KCksYj10aGlzLmEuc2xpY2UoMCxjKSk7dGhpcy5hPWIuY29uY2F0KGEuYSl9dGhpcy5oKGEuYSk7dGhpcy5JYSgpfX07VC5wcm90b3R5cGUuaGI9ZnVuY3Rpb24oYSl7dmFyIGI9YS10aGlzLlc7aWYoMD09YilyZXR1cm4gMDt0aGlzLmE9a2QodGhpcy5hLGIpO3RoaXMuSWEoKTt0aGlzLlc9YTtyZXR1cm4gYn07ClQucHJvdG90eXBlLmliPWZ1bmN0aW9uKCl7cmV0dXJuIDA8dGhpcy5sZW5ndGgoKT97c3RhcnQ6dGhpcy5maXJzdCgpLnN0YXJ0VGltZSxlbmQ6dGhpcy5sYXN0KCkuZW5kVGltZX06e3N0YXJ0OjAsZW5kOjB9fTtULnByb3RvdHlwZS5nZXRTZWVrUmFuZ2VHYXBzPWZ1bmN0aW9uKCl7cmV0dXJuIGdldFNlZWtSYW5nZUdhcHNGcm9tU2hha2FSZWZlcmVuY2VzKHRoaXMuYSx0aGlzLnMpfTtULnByb3RvdHlwZS5nZXRTZWVrUmFuZ2VHYXBzPVQucHJvdG90eXBlLmdldFNlZWtSYW5nZUdhcHM7VC5wcm90b3R5cGUucmI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mfTtULnByb3RvdHlwZS5HYz1mdW5jdGlvbihhKXt0aGlzLmg9YX07VC5wcm90b3R5cGUuRmM9ZnVuY3Rpb24oKXt0aGlzLmg9ZnVuY3Rpb24oKXt9fTtULnByb3RvdHlwZS5JYT1mdW5jdGlvbigpe307VC5wcm90b3R5cGUuZ2V0SWRsZVJlZmVyZW5jZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pfTtmdW5jdGlvbiBDZChhLGIsYyxkLGUpe3ZhciBmPTEsZz0wLGg7aWYoYS5jPmQpaD1udWxsO2Vsc2V7dmFyIGs9YS5vfHwwLGw9YS5mfHwwO2g9Yy5hO2g9aC5IL2guczt2YXIgbT1kLShhLmMrYi5zdGFydCk7MD5tP2g9bnVsbDoobD1tLTIqaC1sLDA+bCYmKGw9MCksbD1NYXRoLmNlaWwobC9oKSpoLG0tPWgsMD5tP2g9bnVsbDooaz1NYXRoLmZsb29yKG0vaCkqaC1rLDA+ayYmKGs9MCksaz1NYXRoLmZsb29yKGsvaCkqaCxoPXt0YzpsL2grMSxjdXJyZW50OihrPj1sP2s6bCkvaCsxfSkpfWgmJihmPWgudGMsZz1oLmN1cnJlbnQtaC50YysxKTtmPWxkKGUsYyxmLGcpO2lmKG51bGw9PWYpdGhyb3cgYT1FcnJvcigiRmFpbGVkIHRvIGdlbmVyYXRlIFNlZ21lbnRSZWZlcmVuY2VzLiIpLGEudHlwZT0ic3RyZWFtIixhO2Y9bmV3IFQoZixjLmEuc3x8MSk7Uy5jYWxsKHRoaXMsZixhLGIsZCk7dGhpcy53PWM7dGhpcy5tPXRoaXMuYz0wPHRoaXMubGVuZ3RoKCk/YS5jK2Iuc3RhcnQrdGhpcy5sYXN0KCkuZW5kVGltZToKbnVsbDt0aGlzLmo9aD9oLmN1cnJlbnQrMTpudWxsO3RoaXMuRD1lfXIoQ2QsUyk7Q2QucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLkQ9dGhpcy53PW51bGw7Uy5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpfTtDZC5wcm90b3R5cGUuZmluZD1mdW5jdGlvbihhKXt2YXIgYj15YSgpLzFFMztEZCh0aGlzLGIpO3pkKHRoaXMsYik7cmV0dXJuIFIucHJvdG90eXBlLmZpbmQuY2FsbCh0aGlzLGEpfTtDZC5wcm90b3R5cGUuQj1mdW5jdGlvbihhKXtpZihudWxsIT10aGlzLmN8fCEoYSBpbnN0YW5jZW9mIENkKXx8bnVsbD09YS5jKXJldHVybiExO3RoaXMuYz1hLmM7dGhpcy5tPWEubTt0aGlzLmo9YS5qO3RoaXMuaD1hLmg7dGhpcy5kdXJhdGlvbj1hLmR1cmF0aW9uO3RoaXMuYS5TYShhLmEpO0RkKHRoaXMseWEoKS8xRTMpO3lkKHRoaXMpO3JldHVybiEwfTsKQ2QucHJvdG90eXBlLlRhPWZ1bmN0aW9uKGEpe2E9Uy5wcm90b3R5cGUuVGEuY2FsbCh0aGlzLGEpO251bGwhPXRoaXMuYyYmKHRoaXMuYys9YSx0aGlzLm0rPWEpO3JldHVybiBhfTtDZC5wcm90b3R5cGUuQT1mdW5jdGlvbigpe3ZhciBhPXlhKCkvMUUzO0RkKHRoaXMsYSk7cmV0dXJuIEJkKHRoaXMsYSl9O2Z1bmN0aW9uIERkKGEsYil7aWYobnVsbCE9YS5jJiZudWxsIT1hLm0mJm51bGwhPWEuail7dmFyIGM9YS53LmEsYz1jLkgvYy5zLGQ9TWF0aC5mbG9vcigoYS5tKyhiLWEuaCktYS5jKS9jKTtpZigwIT1kKXt2YXIgZT1sZChhLkQsYS53LGEuaixkKTtBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShhLmEuYSxrZChlLGEuYS5XKSk7YS5hLklhKCk7YS5jKz1kKmM7YS5qKz1kfX19O2Z1bmN0aW9uIEVkKGEsYixjLGQsZSl7dGhpcy5nPWE7dGhpcy5mPWI7dGhpcy5iPWM7dGhpcy5pPWQ7dGhpcy5hPW51bGw7dGhpcy5oPWV9RWQucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmg9dGhpcy5iPXRoaXMuZj10aGlzLmc9bnVsbDt0aGlzLmEmJih0aGlzLmEuZGVzdHJveSgpLHRoaXMuYT1udWxsKX07CkVkLnByb3RvdHlwZS5jcmVhdGU9ZnVuY3Rpb24oKXtpZih0aGlzLmEpcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLmEpO2lmKCJkeW5hbWljIj09dGhpcy5nLnR5cGUpdHJ5e3RoaXMuYT1uZXcgQ2QodGhpcy5nLHRoaXMuZix0aGlzLmIsdGhpcy5pLHRoaXMuaCl9Y2F0Y2goYSl7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfWVsc2V7dmFyIGI7Yj10aGlzLmIuYTtpZihiPWxkKHRoaXMuaCx0aGlzLmIsMSxNYXRoLmNlaWwodGhpcy5mLmR1cmF0aW9uLyhiLkgvYi5zKSkpKXtpZigwPGIubGVuZ3RoKXt2YXIgYz1iW2IubGVuZ3RoLTFdO2JbYi5sZW5ndGgtMV09amQoYyxjLnN0YXJ0VGltZSx0aGlzLmYuZHVyYXRpb24pfWI9bmV3IFQoYix0aGlzLmIuYS5zfHwxKTtiPW5ldyBSKGIpfWVsc2UgYj1udWxsO3RoaXMuYT1iO2lmKCF0aGlzLmEpcmV0dXJuIGI9RXJyb3IoIkZhaWxlZCB0byBnZW5lcmF0ZSBTZWdtZW50UmVmZXJlbmNlcyIpLGIudHlwZT0ic3RyZWFtIixQcm9taXNlLnJlamVjdChiKX1yZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuYSl9OwpFZC5wcm90b3R5cGUuYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmF9O2Z1bmN0aW9uIEZkKGEsYixjLGQsZSxmKXt0aGlzLmY9YTt0aGlzLmI9Yjt0aGlzLmg9Yzt0aGlzLmE9bnVsbDt0aGlzLmk9ZDt0aGlzLmc9ZTt0aGlzLmo9Znx8bnVsbH1GZC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuZz10aGlzLmg9dGhpcy5iPXRoaXMuZj1udWxsO3RoaXMuYSYmKHRoaXMuYS5kZXN0cm95KCksdGhpcy5hPW51bGwpfTsKRmQucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbigpe2lmKHRoaXMuYSlyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuYSk7dmFyIGE9dGhpcy5oLmIsYj1bXTthLkMmJihiPW9kKGEuQyxhLnN8fDEsdGhpcy5iLmR1cmF0aW9ufHwwKSk7dmFyIGM9MDthLkgmJmEuYz9jPShhLmMtMSkqYS5IOjA8Yi5sZW5ndGgmJihjPWJbMF0uc3RhcnQtKGEuTHx8MCkpO3ZhciBkPWMsZT1hLmEubGVuZ3RoOzA8Yi5sZW5ndGgmJmIubGVuZ3RoIT1hLmEubGVuZ3RoJiYoZT1NYXRoLm1pbihiLmxlbmd0aCxhLmEubGVuZ3RoKSk7Zm9yKHZhciBmPVtdLGc9MDtnPGU7KytnKXt2YXIgaD1hLmFbZ10saz1jLGw9ay9hLnMsbT1jPW51bGwscDthLkg/KGM9aythLkgsbT1jL2Eucyk6MDxiLmxlbmd0aD8ocD1iW2ddLnRpbWVzY2FsZWRHYXBJbmZvLGM9YltnXS5lbmQtKGEuTHx8MCksbT1jL2Eucyk6KG09bCt0aGlzLmIuZHVyYXRpb24sYz1tKmEucyk7dmFyIHQ9MCx3PW51bGw7aC5hJiYodD1oLmEucWEsCnc9aC5hLmVuZCk7bT1NYXRoLm1pbih0aGlzLmIuZHVyYXRpb24rZC9hLnMsbSk7Zi5wdXNoKG5ldyBpZChsLG0sbmV3IEsodGhpcy5nLGguYix0LHcsdm9pZCAwLHRoaXMuaiksayxwfHxudWxsKSl9YT1uZXcgVChmLGEuc3x8MSk7ImR5bmFtaWMiPT10aGlzLmYudHlwZT90aGlzLmE9bmV3IFMoYSx0aGlzLmYsdGhpcy5iLHRoaXMuaSk6dGhpcy5hPW5ldyBSKGEpO3JldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5hKX07RmQucHJvdG90eXBlLmM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hfTtmdW5jdGlvbiBHZChhLGIsYyl7VC5jYWxsKHRoaXMsYSxjKTt0aGlzLmc9Yjt0aGlzLmI9ITE7dGhpcy5qPVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0U3RyaW5nKCJ0ZW1wbGF0ZWRfcGVyZl90ZXN0X21ldGhvZHNfdW5kZXJfdGVzdF9jc3Zfc3RyaW5nIiwiYWxsIikuc3BsaXQoIiwiKX1yKEdkLFQpO2Z1bmN0aW9uIEhkKGEsYil7aWYoISgtMTxhLmouaW5kZXhPZigiYWxsIil8fC0xPGEuai5pbmRleE9mKGIpKXx8YS5iKXJldHVybiBudWxsO3ZhciBjPWEuYTthLmE9YS5nO2EuYj0hMDtyZXR1cm4gY31mdW5jdGlvbiBJZChhLGIpe2EuYiYmKGEuZz1hLmEsYS5hPWIpfUdkLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7VC5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpO3RoaXMuZz1udWxsfTsKR2QucHJvdG90eXBlLmxlbmd0aD1mdW5jdGlvbigpe3ZhciBhPUhkKHRoaXMsImxlbmd0aCIpLGI9VC5wcm90b3R5cGUubGVuZ3RoLmNhbGwodGhpcyk7YSYmKElkKHRoaXMsYSksYj1ULnByb3RvdHlwZS5sZW5ndGguY2FsbCh0aGlzKSx0aGlzLmI9ITEpO3JldHVybiBifTtHZC5wcm90b3R5cGUuZ2V0U2VnbWVudHM9ZnVuY3Rpb24oKXt2YXIgYT1IZCh0aGlzLCJnZXRTZWdtZW50cyIpLGI9VC5wcm90b3R5cGUuZ2V0U2VnbWVudHMuY2FsbCh0aGlzKTthJiYoSWQodGhpcyxhKSxiPVQucHJvdG90eXBlLmdldFNlZ21lbnRzLmNhbGwodGhpcyksdGhpcy5iPSExKTtyZXR1cm4gYn07R2QucHJvdG90eXBlLmZpcnN0PWZ1bmN0aW9uKCl7dmFyIGE9SGQodGhpcywiZmlyc3QiKSxiPVQucHJvdG90eXBlLmZpcnN0LmNhbGwodGhpcyk7YSYmKElkKHRoaXMsYSksYj1ULnByb3RvdHlwZS5maXJzdC5jYWxsKHRoaXMpLHRoaXMuYj0hMSk7cmV0dXJuIGJ9OwpHZC5wcm90b3R5cGUubGFzdD1mdW5jdGlvbigpe3ZhciBhPUhkKHRoaXMsImxhc3QiKSxiPVQucHJvdG90eXBlLmxhc3QuY2FsbCh0aGlzKTthJiYoSWQodGhpcyxhKSxiPVQucHJvdG90eXBlLmxhc3QuY2FsbCh0aGlzKSx0aGlzLmI9ITEpO3JldHVybiBifTtHZC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGEpe3ZhciBiPUhkKHRoaXMsImdldCIpLGM7Yz1iP1QucHJvdG90eXBlLmdldC5jYWxsKHRoaXMsYSsodGhpcy5hLmxlbmd0aC1iLmxlbmd0aCkpOlQucHJvdG90eXBlLmdldC5jYWxsKHRoaXMsYSk7YiYmKElkKHRoaXMsYiksYz1ULnByb3RvdHlwZS5nZXQuY2FsbCh0aGlzLGEpLHRoaXMuYj0hMSk7cmV0dXJuIGN9O0dkLnByb3RvdHlwZS5maW5kPWZ1bmN0aW9uKGEpe3ZhciBiPUhkKHRoaXMsImZpbmQiKSxjPVQucHJvdG90eXBlLmZpbmQuY2FsbCh0aGlzLGEpO2ImJihJZCh0aGlzLGIpLGM9VC5wcm90b3R5cGUuZmluZC5jYWxsKHRoaXMsYSksdGhpcy5iPSExKTtyZXR1cm4gY307CkdkLnByb3RvdHlwZS5maW5kSW5kZXg9ZnVuY3Rpb24oYSl7dmFyIGI9SGQodGhpcywiZmluZEluZGV4IiksYz1ULnByb3RvdHlwZS5maW5kSW5kZXguY2FsbCh0aGlzLGEpO2ImJihJZCh0aGlzLGIpLGM9VC5wcm90b3R5cGUuZmluZEluZGV4LmNhbGwodGhpcyxhKSx0aGlzLmI9ITEpO3JldHVybiBjfTtuPUdkLnByb3RvdHlwZTtuLlNhPWZ1bmN0aW9uKGEpe3ZhciBiPUhkKHRoaXMsIm1lcmdlIiksYz1ULnByb3RvdHlwZS5TYS5jYWxsKHRoaXMsYSk7YiYmKElkKHRoaXMsYiksYz1ULnByb3RvdHlwZS5TYS5jYWxsKHRoaXMsYSksdGhpcy5iPSExKTtyZXR1cm4gY307bi5oYj1mdW5jdGlvbihhKXt2YXIgYj1IZCh0aGlzLCJjb3JyZWN0IiksYz1ULnByb3RvdHlwZS5oYi5jYWxsKHRoaXMsYSk7YiYmKElkKHRoaXMsYiksYz1ULnByb3RvdHlwZS5oYi5jYWxsKHRoaXMsYSksdGhpcy5iPSExKTtyZXR1cm4gY307Cm4uaWI9ZnVuY3Rpb24oKXt2YXIgYT1IZCh0aGlzLCJnZXRTZWVrUmFuZ2UiKSxiPVQucHJvdG90eXBlLmliLmNhbGwodGhpcyk7YSYmKElkKHRoaXMsYSksYj1ULnByb3RvdHlwZS5pYi5jYWxsKHRoaXMpLHRoaXMuYj0hMSk7cmV0dXJuIGJ9O24uZ2V0U2Vla1JhbmdlR2Fwcz1mdW5jdGlvbigpe3ZhciBhPUhkKHRoaXMsImdldFNlZWtSYW5nZUdhcHMiKSxiPVQucHJvdG90eXBlLmdldFNlZWtSYW5nZUdhcHMuY2FsbCh0aGlzKTthJiYoSWQodGhpcyxhKSxiPVQucHJvdG90eXBlLmdldFNlZWtSYW5nZUdhcHMuY2FsbCh0aGlzKSx0aGlzLmI9ITEpO3JldHVybiBifTtuLklhPWZ1bmN0aW9uKCl7dmFyIGE9SGQodGhpcywiYXNzZXJ0Q29ycmVjdFJlZmVyZW5jZXMiKTtULnByb3RvdHlwZS5JYS5jYWxsKHRoaXMpO2EmJihJZCh0aGlzLGEpLFQucHJvdG90eXBlLklhLmNhbGwodGhpcyksdGhpcy5iPSExKX07ZnVuY3Rpb24gSmQoYSxiLGMsZCxlLGYsZyxoKXt0aGlzLm09YTt0aGlzLmE9Yjt0aGlzLmc9Yzt0aGlzLmY9ZDt0aGlzLm89ZTt0aGlzLmI9bnVsbDt0aGlzLmk9Zjt0aGlzLmg9bnVsbDt0aGlzLmo9aHx8bnVsbH1KZC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuaT10aGlzLmY9dGhpcy5nPXRoaXMuYT1udWxsO3RoaXMuYiYmKHRoaXMuYi5kZXN0cm95KCksdGhpcy5iPW51bGwpfTsKSmQucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbigpe2lmKHRoaXMuYilyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuYik7dmFyIGE9VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJmYmxzX3VzZV90aW1lbGluZV9zZWdtZW50X2luZGV4IiwhMSk7aWYoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJ1c2VfdGltZWxpbmVfc2VnbWVudF9pbmRleCIsITEpJiYodGhpcy5hLkZCSXNMaXZlVGVtcGxhdGVkfHx0aGlzLmEuRkJXYXNMaXZlfHxhKSlhPW5ldyBwZCh0aGlzLmcsdGhpcy5mLHRoaXMuZi5hLHRoaXMuaSx0aGlzLmopO2Vsc2V7Zm9yKHZhciBhPXRoaXMuZi5hLGI9b2QoYS5DLGEuc3x8MSx0aGlzLmcuZHVyYXRpb258fDAsdGhpcy5tLmdldE51bWJlcigibnVtX3ByZWRpY3RpdmVfc2VnbWVudHMiLDApLHRoaXMuYS5GQklzTGl2ZVRlbXBsYXRlZHx8dGhpcy5hLkZCV2FzTGl2ZSx0aGlzLmgpLGM9W10sZD0wO2Q8Yi5sZW5ndGg7KytkKXt2YXIgZT0KYltkXS5zdGFydCxmPWJbZF0uZW5kLGc9YltkXS51ZHx8MCxoPWJbZF0udGltZXNjYWxlZEdhcEluZm8saz1lL2EucyxsPWYvYS5zLG09ZCthLmIscD1lLG09bWQodGhpcy5pLHRoaXMuZiwwPGc/ZzptLHAsMDxnPyEwOiExLHRoaXMuaik7aWYoIW0pcmV0dXJuIGE9RXJyb3IoIkZhaWxlZCB0byBnZW5lcmF0ZSBtZWRpYSBVUkwuIiksYS50eXBlPSJkYXNoIixQcm9taXNlLnJlamVjdChhKTt2YXIgdD0oYS5MfHwwKS9hLnM7Yy5wdXNoKG5ldyBpZChrLXQsbC10LG0scCxmLWUsaHx8bnVsbCwwPGcpKX1iPXRoaXMuYS5GQklzTGl2ZVRlbXBsYXRlZHx8dGhpcy5hLkZCV2FzTGl2ZTtWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigidGVtcGxhdGVkX3VzZV9wZXJmX3Rlc3Rfc2VnbWVudF9pbmRleF9iYXNlX2ludCIsMCkmJm51bGw9PXRoaXMuaCYmdGhpcy5hLkZCSXNMaXZlVGVtcGxhdGVkPyhiPWMsYz1iLnNsaWNlKC1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigidGVtcGxhdGVkX3VzZV9wZXJmX3Rlc3Rfc2VnbWVudF9pbmRleF9iYXNlX2ludCIsCjApKSxhPW5ldyBHZChjLGIsYS5zfHwxKSk6YT1uZXcgVChjLGEuc3x8MSxiKX10aGlzLmEubWFuaWZlc3RJc0xpdmVTdHJlYW1pbmc/dGhpcy5iPW5ldyBTKGEsdGhpcy5hLHRoaXMuZyx0aGlzLm8pOnRoaXMuYj1uZXcgUihhKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuYil9O0pkLnByb3RvdHlwZS5jPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYn07SmQucHJvdG90eXBlLkVjPWZ1bmN0aW9uKGEpe3RoaXMuaD1hfTtmdW5jdGlvbiBLZCgpe3RoaXMuWD1MZCsrO3RoaXMuaWQ9dGhpcy5hYT10aGlzLk09bnVsbDt0aGlzLmE9MDt0aGlzLmhlaWdodD10aGlzLndpZHRoPXRoaXMuYmFuZHdpZHRoPW51bGw7dGhpcy5jb2RlY3M9dGhpcy5taW1lVHlwZT0iIjt0aGlzLmY9dGhpcy5mYlF1YWxpdHlDbGFzcz10aGlzLmZiUXVhbGl0eUxhYmVsPW51bGw7dGhpcy5mcmFtZVJhdGU9IiI7dGhpcy5zd2l0Y2hSZWFzb249dGhpcy5oPXRoaXMuZz10aGlzLmM9bnVsbDt0aGlzLmI9W107dGhpcy5vYT0hMTt0aGlzLmZhPSEwfXZhciBMZD0wO0tkLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5NJiYodGhpcy5NLmRlc3Ryb3koKSx0aGlzLk09bnVsbCk7dGhpcy5hYSYmKHRoaXMuYWEuZGVzdHJveSgpLHRoaXMuYWE9bnVsbCl9O2Z1bmN0aW9uIE1kKGEpe3JldHVybiBhLm1pbWVUeXBlLnNwbGl0KCIvIilbMF19CmZ1bmN0aW9uIE5kKGEpe3ZhciBiPWEubWltZVR5cGV8fCIiO2EuY29kZWNzJiYoYis9JzsgY29kZWNzPSInK2EuY29kZWNzKyciJyk7cmV0dXJuIGJ9ZnVuY3Rpb24gT2QoKXt0aGlzLlg9UGQrKzt0aGlzLmlkPW51bGw7dGhpcy5jb250ZW50VHlwZT10aGlzLmxhbmc9IiI7dGhpcy5mPXRoaXMuYj0hMTt0aGlzLmM9bnVsbDt0aGlzLnY9W107dGhpcy5hPVtdfXZhciBQZD0wO09kLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7Zm9yKHZhciBhPTA7YTx0aGlzLnYubGVuZ3RoOysrYSl0aGlzLnZbYV0uZGVzdHJveSgpO3RoaXMuYT10aGlzLnY9bnVsbH07ZnVuY3Rpb24gUWQoYSl7Zm9yKHZhciBiPVtdLGM9MDtjPGEuYS5sZW5ndGg7KytjKXt2YXIgZD1uZXcgUmQ7ZC5pZD1hLlg7ZC5hPWEuYVtjXTtkLmNvbnRlbnRUeXBlPWEuY29udGVudFR5cGU7ZC5iPWEudi5sZW5ndGg/TmQoYS52WzBdKToiIjtiLnB1c2goZCl9cmV0dXJuIGJ9CmZ1bmN0aW9uIFNkKCl7dGhpcy5pZD1udWxsO3RoaXMuc3RhcnQ9MDt0aGlzLmR1cmF0aW9uPW51bGw7dGhpcy5hPVtdfVNkLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7Zm9yKHZhciBhPTA7YTx0aGlzLmEubGVuZ3RoOysrYSl0aGlzLmFbYV0uZGVzdHJveSgpO3RoaXMuYT1udWxsfTtmdW5jdGlvbiBUZCgpe3RoaXMuQT10aGlzLmY9dGhpcy5iPSExO3RoaXMubz10aGlzLm09dGhpcy5CPTA7dGhpcy5qPXRoaXMuaT10aGlzLmM9bnVsbDt0aGlzLmc9MDt0aGlzLmE9W107dGhpcy5oPSExO3RoaXMudz0ibm9uZSI7dGhpcy51PW51bGx9VGQucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXtmb3IodmFyIGE9MDthPHRoaXMuYS5sZW5ndGg7KythKXRoaXMuYVthXS5kZXN0cm95KCk7dGhpcy5hPW51bGx9O2Z1bmN0aW9uIFJkKCl7dGhpcy5pZD0wO3RoaXMuYT1udWxsO3RoaXMuYj10aGlzLmNvbnRlbnRUeXBlPSIifTtmdW5jdGlvbiBVKGEsYixjLGQsZSxmLGcsaCxrLGwsbSxwLHQsdyl7Ri5jYWxsKHRoaXMsYSk7dGhpcy5iPWI7dGhpcy5hPWM7dGhpcy5jPW5ldyBuYihjLGQsZSxmLHRoaXMsaCx3KTt0aGlzLlBhPWg7dGhpcy5vPXt9O3RoaXMucmE9Zjt0aGlzLnlhPTA7dGhpcy5tYT10aGlzLmY9dGhpcy5nPW51bGw7dGhpcy50YT0hMTt0aGlzLnc9dGhpcy5jYT1udWxsO3RoaXMuUz0hMTt0aGlzLmphPTA7dGhpcy5rYT0hMTt0aGlzLkQ9bnVsbDt0aGlzLlo9dGhpcy5lYT10aGlzLmg9ITE7dGhpcy5PPW5ldyBJO3RoaXMuRz10aGlzLlQ9dGhpcy5CPSExO3RoaXMuUj0wO3RoaXMuZ2E9MTU7dGhpcy5HYT10aGlzLnZhPXRoaXMuVT0hMTt0aGlzLm5hPTE7dGhpcy4kPWc7dGhpcy54YT0hMTt0aGlzLmw9bnVsbDt0aGlzLkhhPSExO3RoaXMuST10aGlzLko9dGhpcy5LPW51bGw7dGhpcy5WPSExO3RoaXMudT1tfHxudWxsO3RoaXMuRj1wfHxudWxsO3RoaXMuaj10fHxudWxsO3RoaXMuWT1udWxsO3RoaXMuYmE9CiExO3RoaXMuRGE9e307dGhpcy5GYT1rO3RoaXMuaT1udWxsO3RoaXMuaWE9ITE7dGhpcy5FYT0wO3RoaXMuQ2E9ZT9lLnNwbGl0KCI7IilbMF06IiI7dGhpcy5QPSExO3RoaXMud2E9MDt0aGlzLnNhPWw7dGhpcy5BPXRoaXMubT1udWxsfXIoVSxGKTtVLnByb3RvdHlwZS5CYT1mdW5jdGlvbigpe3JldHVybntTb3VyY2VCdWZmZXJNYW5hZ2VyOnRoaXMuY319O1UucHJvdG90eXBlLmdldERlYnVnPVUucHJvdG90eXBlLkJhO2Z1bmN0aW9uIFVkKGEsYil7cmV0dXJuIG5ldyBWaWRlb1BsYXllckJpdHJhdGVFc3RpbWF0b3IobmV3IHgoYS5hLmdldE51bWJlcigibGl2ZV9iaXRyYXRlX2VzdGltYXRlc19oYWxmX2xpZmUiLDIpKSxiLGEuYS5nZXROdW1iZXIoImxpdmVfYml0cmF0ZV9lc3RpbWF0ZXNfbWluaW11bV9zYW1wbGVfY291bnQiLDEpLGEuYS5nZXROdW1iZXIoImxpdmVfYml0cmF0ZV9lc3RpbWF0ZXNfbGFyZ2Vfc2FtcGxlX3dlaWdodF9mYWN0b3IiLDEwKSl9ClUucHJvdG90eXBlLnBhPWZ1bmN0aW9uKGEpe251bGwhPWEuaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemUmJih0aGlzLlI9TnVtYmVyKGEuaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemUpKTt2YXIgYj10aGlzLmEuZ2V0TnVtYmVyKCJpbml0aWFsX3N0cmVhbV9idWZmZXJfc2l6ZV9mb3JfdmlkZW9fc3RyZWFtIiwwKTswPGImJi0xIT09dGhpcy5DYS5pbmRleE9mKCJ2IikmJih0aGlzLlI9Yik7bnVsbCE9YS5keW5hbWljU3RyZWFtQnVmZmVyU2l6ZSYmKHRoaXMuamE9TnVtYmVyKGEuZHluYW1pY1N0cmVhbUJ1ZmZlclNpemUpKTtudWxsIT1hLnNtYXJ0QnVmZmVyQWRqdXN0bWVudFBhcmFtcyYmKHRoaXMuRGE9YS5zbWFydEJ1ZmZlckFkanVzdG1lbnRQYXJhbXMpO251bGwhPWEuc21hcnRCdWZmZXJBZGp1c3RtZW50RW5hYmxlZCYmKHRoaXMuYmE9Qm9vbGVhbihhLnNtYXJ0QnVmZmVyQWRqdXN0bWVudEVuYWJsZWQpKTtudWxsIT1hLnN0cmVhbUJ1ZmZlclNpemUmJih0aGlzLmdhPU51bWJlcihhLnN0cmVhbUJ1ZmZlclNpemUpKTsKbnVsbCE9YS5maXhCdWZmZXJpbmdHb2FsRGV0ZXJtaW5hdGlvbiYmKHRoaXMuVT1Cb29sZWFuKGEuZml4QnVmZmVyaW5nR29hbERldGVybWluYXRpb24pKTtudWxsIT1hLmFkZENkbkRlYnVnUXVlcnlQYXJhbWV0ZXJzJiYodGhpcy52YT1Cb29sZWFuKGEuYWRkQ2RuRGVidWdRdWVyeVBhcmFtZXRlcnMpKTtudWxsIT1hLnVzZUluaXRpYWxCdWZmZXJTaXplV2hlblBhdXNlZCYmKHRoaXMuR2E9Qm9vbGVhbihhLnVzZUluaXRpYWxCdWZmZXJTaXplV2hlblBhdXNlZCkpO251bGwhPWEuc2VnbWVudFJlcXVlc3RUaW1lb3V0JiYodGhpcy5jLlQ9TnVtYmVyKGEuc2VnbWVudFJlcXVlc3RUaW1lb3V0KSk7bnVsbCE9YS5yZXNvbHZlVmlkZW9UaW1lVXBkYXRlT25GcmFnbWVudGVkVGltZVJhbmdlcyYmKHRoaXMueGE9Qm9vbGVhbihhLnJlc29sdmVWaWRlb1RpbWVVcGRhdGVPbkZyYWdtZW50ZWRUaW1lUmFuZ2VzKSk7bnVsbCE9YS5wZXJmb3JtYW5jZUxvZ2dlciYmKHRoaXMubD10aGlzLm8ucGVyZm9ybWFuY2VMb2dnZXI9CmEucGVyZm9ybWFuY2VMb2dnZXIpO251bGwhPWEuYWJyTG9nZ2VyJiYodGhpcy5vLmFickxvZ2dlcj1hLmFickxvZ2dlcik7bnVsbCE9YS5yZWFwcGVuZEluaXRTZWdtZW50QWZ0ZXJBYm9ydCYmKHRoaXMuby5yZWFwcGVuZEluaXRTZWdtZW50QWZ0ZXJBYm9ydD1Cb29sZWFuKGEucmVhcHBlbmRJbml0U2VnbWVudEFmdGVyQWJvcnQpKTtudWxsIT1hLmxpdmVEYXRhRmV0Y2hNYXhSZXRyaWVzJiYodGhpcy5vLmxpdmVEYXRhRmV0Y2hNYXhSZXRyaWVzPU51bWJlcihhLmxpdmVEYXRhRmV0Y2hNYXhSZXRyaWVzKSk7bnVsbCE9YS5saXZlU291cmNlQnVmZmVyQ2xlYXJNYXhSZXRyaWVzJiYodGhpcy5vLmxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXM9TnVtYmVyKGEubGl2ZVNvdXJjZUJ1ZmZlckNsZWFyTWF4UmV0cmllcykpO251bGwhPWEuc2tpcEVtcHR5U2VnbWVudHMmJih0aGlzLm8uc2tpcEVtcHR5U2VnbWVudHM9Qm9vbGVhbihhLnNraXBFbXB0eVNlZ21lbnRzKSk7bnVsbCE9CmEucGxheWhlYWRGcmFnbWVudGVkR2FwRGlmZkFsbG93YW5jZSYmKHRoaXMuby5wbGF5aGVhZEZyYWdtZW50ZWRHYXBEaWZmQWxsb3dhbmNlPU51bWJlcihhLnBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2UpKTtudWxsIT1hLnVzZU1pY3JvVGFza1RpbWVvdXRzJiYodGhpcy5IYT1Cb29sZWFuKGEudXNlTWljcm9UYXNrVGltZW91dHMpKTthPXRoaXMuYztiPXRoaXMubztudWxsIT1iLnJlYXBwZW5kSW5pdFNlZ21lbnRBZnRlckFib3J0JiYoYS5SPUJvb2xlYW4oYi5yZWFwcGVuZEluaXRTZWdtZW50QWZ0ZXJBYm9ydCkpO251bGwhPWIucGVyZm9ybWFuY2VMb2dnZXImJihhLmw9Yi5wZXJmb3JtYW5jZUxvZ2dlcik7bnVsbCE9Yi5hYnJMb2dnZXImJihhLkk9Yi5hYnJMb2dnZXIpO251bGwhPWIubGl2ZURhdGFGZXRjaE1heFJldHJpZXMmJihhLk89Yi5saXZlRGF0YUZldGNoTWF4UmV0cmllcyk7bnVsbCE9Yi5saXZlU291cmNlQnVmZmVyQ2xlYXJNYXhSZXRyaWVzJiYoYS5LPQpiLmxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXMpO251bGwhPWIucGxheWhlYWRGcmFnbWVudGVkR2FwRGlmZkFsbG93YW5jZSYmKGEuUD1iLnBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2UpO251bGwhPWIuc2tpcEVtcHR5U2VnbWVudHMmJihhLlY9Yi5za2lwRW1wdHlTZWdtZW50cyl9O1UucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXtWZCh0aGlzKTt0aGlzLk8uZGVzdHJveSgpO3RoaXMucmE9dGhpcy5nPXRoaXMuTz1udWxsO3RoaXMuYy5kZXN0cm95KCk7dGhpcy5iPXRoaXMuYz1udWxsO3RoaXMuYS5nZXRCb29sKCJmaXhpbmdfc2NoZWR1bGVyX2Rpc2FibGVfbGVha3MiLCEwKSYmKHRoaXMudT1udWxsKTt0aGlzLkphPW51bGx9O249VS5wcm90b3R5cGU7bi5XYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmd9O24uRmI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mfTsKbi5LYz1mdW5jdGlvbihhKXt0aGlzLkJ8fGEudGhlbihmdW5jdGlvbigpe3RoaXMuQj0hMDt0aGlzLnd8fFYodGhpcywwKX0uYmluZCh0aGlzKSkuY2F0Y2goZnVuY3Rpb24oKXt9KTtyZXR1cm4gdGhpcy5PfTtuLkNiPWZ1bmN0aW9uKCl7dGhpcy5HPSEwO1dkKHRoaXMpfTtuLmZiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuR307Cm4uamI9ZnVuY3Rpb24oYSxiLGMsZCxlKXtpZihhIT10aGlzLmcpe3ZhciBmPTE7dGhpcy5hLmdldEJvb2woInVzZV9saXZlX2JpdHJhdGVfZXN0aW1hdGVzIiwhMSkmJm51bGwhPT10aGlzLm0mJjA8dGhpcy5nLmJhbmR3aWR0aCYmKGY9dGhpcy5tLmdldEVzdGltYXRlKCkvdGhpcy5nLmJhbmR3aWR0aCk7dmFyIGc9YS5hYTtnJiYodGhpcy5tYT1nLmNyZWF0ZSh0aGlzLmwsdGhpcy5QYSkpO3RoaXMuWj0hMDthLk0uY3JlYXRlKCkudGhlbihKKHRoaXMsZnVuY3Rpb24oZyl7aWYodGhpcy5iKXt0aGlzLlo9ITE7dmFyIGs9dGhpcy5nO3RoaXMuZz1hO3RoaXMuYS5nZXRCb29sKCJ1c2VfbGl2ZV9iaXRyYXRlX2VzdGltYXRlcyIsITEpJiYodGhpcy5tPVVkKHRoaXMsKGEuYmFuZHdpZHRofHwwKSpmKSk7dmFyIGw9dGhpcy5mO3RoaXMuZj1nO3RoaXMuYy5EPXRoaXMuZjtsJiZsLmEuRmMoKTt1ZCh0aGlzLmYsZnVuY3Rpb24oYSl7dmFyIGI9YTt0aGlzLmomJnRoaXMuai5zZXRTZWdtZW50cyh0aGlzLmYuZ2V0U2VnbWVudHMoKSk7CnRoaXMudSYmKGE9YSYmdGhpcy5hLmdldEJvb2woIm9wdGltaXplX3N0cmVhbV9nZXRfc2VnbWVudHNfY2FsbHMiLCExKT9hOnRoaXMuZi5nZXRTZWdtZW50cygpLHRoaXMuYS5nZXRCb29sKCJ0ZW1wbGF0ZWRfdXBkYXRlX3NybV9ieV9kZWx0YV9vZl9jaGFuZ2VkX3JlZmVyZW5jZXNfYm9vbCIsITEpJiZ0aGlzLmYuSyYmYi5sZW5ndGg8dGhpcy5mLmdldFNlZ21lbnRzKCkubGVuZ3RoJiYoYT10aGlzLmYuZ2V0U2VnbWVudHMoKS5zbGljZSgtKGIubGVuZ3RoKzEpKSksWGQodGhpcyx0aGlzLmcuaWR8fCIiLGEpKX0uYmluZCh0aGlzKSk7dGhpcy5qJiZ0aGlzLmouc2V0U2VnbWVudHModGhpcy5mLmdldFNlZ21lbnRzKCkpO2lmKHRoaXMudSl7dmFyIGw9W10sbT10aGlzLmEuZ2V0TnVtYmVyKCJ0ZW1wbGF0ZWRfY2h1bmtlZF9zZWdtZW50X3VwZGF0ZV9saW1pdF9pbnQiLDApO2lmKG0pe2c9dGhpcy5mLmxlbmd0aCgpO2Zvcih2YXIgbT1NYXRoLm1pbihnLG0pLHA9MTtwPD1tOysrcClsLnB1c2godGhpcy5mLmdldChnLQpwKSl9ZWxzZSBsPWcuZ2V0U2VnbWVudHMoKTtYZCh0aGlzLGEuaWR8fCIiLGwpfXRoaXMudGE9ITA7dGhpcy5jYT1kP2Q6bnVsbDt0aGlzLlN8fCh0aGlzLmEuZ2V0Qm9vbCgibWFrZV9lYXJseV90cmFja19zZWxlY3Rpb24iLCExKSYmdGhpcy5oJiYhdGhpcy5QJiYhdGhpcy53P1YodGhpcywwKTprP2I/WWQodGhpcywhMCxjKTplJiZZZCh0aGlzLCExKTpWKHRoaXMsMCkpfX0pKS5jYXRjaChKKHRoaXMsZnVuY3Rpb24oYSl7dGhpcy5aPSExOyJhYm9ydGVkIiE9YS50eXBlJiYodGhpcy5CPyhhPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGEpKTp0aGlzLk8ucmVqZWN0KGEpKX0pKX19O24uQ2M9ZnVuY3Rpb24oYSl7cmV0dXJuIFlkKHRoaXMsISFhKX07bi5IYz1mdW5jdGlvbigpe3RoaXMua2E9ITB9O24uSmM9ZnVuY3Rpb24oYSl7dGhpcy5FYT1hfTsKZnVuY3Rpb24gWGQoYSxiLGMpe2EuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9jaHVua2VkX3NlZ21lbnRfdXBkYXRlX2xpbWl0X2ludCIsMCkmJmEudS51cGRhdGVTZWdtZW50SW5kZXgoYixhLmYpO2EuYS5nZXRCb29sKCJ1c2VfdXBkYXRlX3NlZ21lbnRzX2J5X3NoYWthX3JlZmVyZW5jZSIsITApJiZhLnUudXBkYXRlU2VnbWVudHNCeVNoYWthUmVmZXJlbmNlcyhiLGMpfQpmdW5jdGlvbiBZZChhLGIsYyl7YS5nJiYhYS5TJiYoYS5TPSEwLFZkKGEpLGEuVD0hMSxudWxsIT09YS5BJiZhLkEucmVzZXQoKSxhLmMuYWJvcnQoKS50aGVuKEooYSxmdW5jdGlvbigpe3ZhciBhPXRoaXMuYi5jdXJyZW50VGltZTt0aGlzLmEuZ2V0Qm9vbCgic2V0X2N1cnJlbnRfdGltZV9pbl9yZXN5bmMiLCExKSYmMD09YT8odGhpcy5sJiZCYW56YWlPRFMuYnVtcEVudGl0eUtleSgyOTY2LCJ2aWRlb3Mud3d3LnNoYWthIiwic2V0X2N1cnJlbnRfdGltZV9pbl9yZXN5bmMiKSxhPXRoaXMuZi5maXJzdCgpLnN0YXJ0VGltZSk6dGhpcy5hLmdldEJvb2woImJldHRlcl9zZXRfY3VycmVudF90aW1lX2luX3Jlc3luYyIsITEpJiZhPHRoaXMuZi5maXJzdCgpLnN0YXJ0VGltZSYmKEJhbnphaU9EUy5idW1wRW50aXR5S2V5KDI5NjYsInZpZGVvcy53d3cuc2hha2EiLCJzZXRfY3VycmVudF90aW1lX2luX3Jlc3luYyIpLGE9dGhpcy5mLmZpcnN0KCkuc3RhcnRUaW1lK3RoaXMuYS5nZXROdW1iZXIoInJlc3luY19zZXRfY3VycmVudF90aW1lX2Z1ZGdlX2ZhY3RvciIsCjApKTtpZighYiYmMDxyYih0aGlzLmMsYSkmJjA8PUZiKHRoaXMuYyxhKSlyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7aWYoYylyZXR1cm4gQ2IodGhpcy5jLHRoaXMuYi5jdXJyZW50VGltZStjKTt0aGlzLmlhPSEwO3JldHVybiBCYih0aGlzLmMpfSkpLnRoZW4oSihhLGZ1bmN0aW9uKCl7dGhpcy5TPSExO1YodGhpcywwKX0pKS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7dGhpcy5TPSExOyJhYm9ydGVkIiE9YS50eXBlJiYodGhpcy5CPyhhPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGEpKTp0aGlzLk8ucmVqZWN0KGEpKX0pKSl9bi5JYz1mdW5jdGlvbihhKXtyZXR1cm4gMDxyYih0aGlzLmMsYSkmJjA8PUZiKHRoaXMuYyxhKX07bi52Yj1mdW5jdGlvbigpe307bi5EYj1mdW5jdGlvbigpe3JldHVybiEwfTsKZnVuY3Rpb24gWmQoYSl7YS5lYT1hLmVhfHwhYS5iLnBhdXNlZDthLmIucGF1c2VkfHxhLmJhfHwoYS5ZPURhdGUubm93KCksYS5iYT0hMCk7dmFyIGI9YS5EYSxjPW51bGw7aWYoYi5pbkV4cGVyaW1lbnQpaWYoYi51c2VTbWFydEJ1ZmZlcmluZyl7aWYoYS5iYSYmYS5ZKXt2YXIgYz0oRGF0ZS5ub3coKS1hLlkpLzFFMyxkPW51bGw7MT5jP2M9bnVsbDooZD0zPmM/Yi5idWZmZXJTaXplXzAwX3RvXzAzOjEwPmM/Yi5idWZmZXJTaXplXzAzX3RvXzEwOjMwPmM/Yi5idWZmZXJTaXplXzEwX3RvXzMwOjYwPmM/Yi5idWZmZXJTaXplXzMwX3RvXzYwOmIuYnVmZmVyU2l6ZV9hYm92ZV82MCxjPU1hdGgubWluKGQsYS5iLmR1cmF0aW9uKSl9fWVsc2UgYS5ZJiYoYz1iLm5vblNtYXJ0QnVmZmVyU2l6ZSk7Y3x8KGM9YS5HYSYmYS5iLnBhdXNlZD9hLlI6YS5nYSxhLmIucGF1c2VkJiYxPGEubmEmJihjKj1hLm5hKSxhLmphJiYhYS5iLnBhdXNlZCYmKGM9TWF0aC5tYXgoTWF0aC5taW4oYS5mLmxhc3QoKS5lbmRUaW1lLQphLmIuY3VycmVudFRpbWUsYS5qYSksYS5nYSkpKTtjPShhLlU/YS5oJiZhLmVhOmEuaCk/TWF0aC5tYXgoYS5SLGMpOmEuUjswPGEuYS5nZXROdW1iZXIoImF1ZGlvX3ZpZGVvX2J1ZmZlcl9kaWZmX3RocmVzaG9sZCIsMTQ0MDApJiYoYj1hLmIuYnVmZmVyZWQubGVuZ3RoP2EuYi5idWZmZXJlZC5lbmQoYS5iLmJ1ZmZlcmVkLmxlbmd0aC0xKTowLGI9TWF0aC5tYXgoMCxiLWEuYi5jdXJyZW50VGltZSksYz1NYXRoLm1pbihjLGIrYS5hLmdldE51bWJlcigiYXVkaW9fdmlkZW9fYnVmZmVyX2RpZmZfdGhyZXNob2xkIiwxNDQwMCkpKTtyZXR1cm4gY30KZnVuY3Rpb24gJGQoYSl7dmFyIGI9YS5hLmdldE51bWJlcigic3RhcnRfc3RyZWFtX2J1ZmZlcl9zaXplIiwxKSxjPWEuYS5nZXROdW1iZXIoImxvd19zdGFydF9zdHJlYW1fYnVmZmVyX3NpemUiLDEpO2lmKGIhPT1jKXt2YXIgZD1hLmEuZ2V0TnVtYmVyKCJsb3dfYmFuZHdpZHRoX3N0YXJ0X3N0cmVhbV9idWZmZXJfc2l6ZV90aHJlc2hvbGQiLDApLGU9YS5hLmdldE51bWJlcigic2NoZWR1bGVkX3ZpZGVvc19zdGFydF9zdHJlYW1fYnVmZmVyX3NpemVfdGhyZXNob2xkIiwwKTtpZigwPGQmJmEucmEuZ2V0QmFuZHdpZHRoKCk8ZCYmVmlkZW9TdHJlYW1pbmdUYXNrUXVldWVQcm92aWRlci5nZXRRdWV1ZVNpemUoInZpZGVvIik+PWUpcmV0dXJuIGN9cmV0dXJuIGJ9ZnVuY3Rpb24gYWUoYSxiKXtyZXR1cm4gcmIoYS5jLGEuaD9iOmIrKGEuRHx8MCkpfQpmdW5jdGlvbiBiZShhKXtpZihhLmgmJiFhLkJ8fGEuYS5nZXRCb29sKCJtYWtlX2Vhcmx5X3RyYWNrX3NlbGVjdGlvbiIsITEpJiZhLlp8fGEuYS5nZXRCb29sKCJwcmV2ZW50X2ZldGNoX3doaWxlX2ZldGNoaW5nX2luX3N0cmVhbSIsITEpJiZhLlApcmV0dXJuIGEudz1udWxsLFByb21pc2UucmVzb2x2ZSgpO3ZhciBiO2lmKGI9YS5CJiYhYS5HKWI9MTxhLmMuYS5idWZmZXJlZC5sZW5ndGg/ITA6ITE7aWYoYiYmKGEua2F8fEhiKGEuYyxhLmIpKSlyZXR1cm4gYS54YSYmKGEuYi5jdXJyZW50VGltZT1HYihhLmIpKSxudWxsPT09YS5LJiYoYS5rYT0hMSxZZChhLCEwKSksUHJvbWlzZS5yZXNvbHZlKCk7YS5hLmdldE51bWJlcigiZGVjb3VwbGVfc3RyZWFtX29uX3VwZGF0ZV9sb29wX2Zyb21fcmVxdWVzdF9sb29wX2ludCIsMCl8fChhLnc9bnVsbCk7Yj1hLmc7dmFyIGM9YS5mLGQ9YS5iLmN1cnJlbnRUaW1lO2EuYS5nZXRCb29sKCJ1c2VfcGVuZGluZ19zZWVrX3Bvc2l0aW9uX2Zvcl9yZWZlcmVuY2UiLAohMSkmJjA9PT1hLmIucmVhZHlTdGF0ZSYmIWQmJmEuSiYmKGQ9YS5KKTtpZihhLlUmJiFhLmgmJmFlKGEsZCk+PSRkKGEpKXJldHVybiBhLmEuZ2V0Qm9vbCgiZml4X2Nocm9tZV9tc2VfcmVncmVzc2lvbiIsITEpJiYxPT09YS5iLnJlYWR5U3RhdGUmJjA8YS5iLmJ1ZmZlcmVkLmxlbmd0aCYmKGEuYi5jdXJyZW50VGltZT1hLmIuY3VycmVudFRpbWUpLGNlKGEpLFYoYSwwKSxQcm9taXNlLnJlc29sdmUoKTt2YXIgZT1udWxsLGY9W107bnVsbCE9PWEuSyYmKGQ9YS5LKTtpZihhZShhLGQpPj1aZChhKSlpZihhLlQ9ITAsbnVsbCE9PWEuSSYmYS5JLnJlc29sdmUoKSxhLlV8fGNlKGEpLGY9ZGUoYSk/amUoYSxkKTpbXSwwPGYubGVuZ3RoKWU9ZlswXTtlbHNlIHJldHVybiBWKGEsMUUzLyg1KihNYXRoLmFicyhhLmIucGxheWJhY2tSYXRlKXx8MSkpKSxQcm9taXNlLnJlc29sdmUoKTtlbHNle3ZhciBnPTE7YS5qJiYoZz1hLmouZ2V0TnVtYmVyT2ZTZWdtZW50cygpKTt2YXIgaD1xYihhLmMpOwphLlYmJihoPW51bGwsbnVsbCE9PWEuSyYmKGEuVj0hMSkpO2EuYS5nZXRCb29sKCJmaW5kX2xhc3RfaW5zZXJ0ZWRfc2VnbWVudF9pbl9zZWdtZW50X2luZGV4IiwhMSkmJmgmJiFjLmEuYSYmKGg9Yy5maW5kKGguc3RhcnRUaW1lKSk7YS5hLmdldEJvb2woInNldF9wZW5kaW5nX3NlZWtfb25fc2V0X2N1cnJlbnRfdGltZV9mYWlsdXJlIiwhMSkmJm51bGwhPWEuSiYmKGQ9YS5KLGEuSj1udWxsKTtnPWtlKGEsZCxjLGcsaCk7ZT1nWzBdO2EuaiYmKGEuai5zZXRGdXR1cmVTZWdtZW50cyhnKSxhLmouc2V0QnVmZmVyaW5nR29hbChaZChhKS1hZShhLGQpKSk7IWUmJmRlKGEpJiYoZj1qZShhLGQpLDA8Zi5sZW5ndGgmJihlPWZbMF0pKX1pZighZSlyZXR1cm4gY2UoYSksYS5CJiYhYS5HJiYoYS5HPSEwLFdkKGEpKSxWKGEsMjAwKSxQcm9taXNlLnJlc29sdmUoKTthLmEuZ2V0Qm9vbCgiY3JlYXRlX293bl9zZWdtZW50X3JlZmVyZW5jZV9mb3Jfc2JtIiwhMSkmJihlPWpkKGUsZS5zdGFydFRpbWUsCmUuZW5kVGltZSkpO2xlKGEsbWUoYSxkLGYpLGIuaWR8fCIiKTtuZShhLG1lKGEsZCxmKSk7YS5hLmdldEJvb2woInJlZnJlc2hfc2VnbWVudF9yZWZlcmVuY2VfZmFpbG92ZXJfdXJpIiwhMCkmJihlLnVybD1lLnVybC5jbG9uZSgpKTthLlA9ITA7YS53YT1EYXRlLm5vdygpOyJ2aWRlbyI9PT1iLm1pbWVUeXBlLnNwbGl0KCIvIilbMF0mJmEucmEuc2V0UmVwcmVzZW50YXRpb25JRChiLmlkKTtjPWEuYy5mZXRjaChlLGMucyxiLmErYS5FYSxhLm1hLGEudmEmJiFhLmIucGF1c2VkLDA8Zi5sZW5ndGgsYS51LGEuRik7Yz1jLnRoZW4oSihhLGZ1bmN0aW9uKGEpe3RoaXMuYS5nZXRCb29sKCJ1cGRhdGVzX3ByaW9yaXR5X29uX2ZldGNoX2NvbXBsZXRlIiwhMSkmJm5lKHRoaXMsbWUodGhpcyxkLFtdKSk7dGhpcy5zYS5pbmZvcm1OZXR3b3JrUmVzdW1lZCgpO3JldHVybiBhfSkpO2EuJCYmInZpZGVvIj09PWIubWltZVR5cGUuc3BsaXQoIi8iKVswXSYmYS4kLmFkZChlLnN0YXJ0VGltZXx8CjAsZS5lbmRUaW1lfHwwLHtpZDpiLmlkLHJlYXNvbjphLmNhLHBlcmZvcm1hbmNlTG9nZ2VyOmEubD9hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJzdHJlYW1fc3dpdGNoIik6bnVsbH0pO2EubWE9bnVsbDthLnRhJiYoYS50YT0hMSxmPWEuY2EsYS5jYT1udWxsLG9lKGEsYixmLGEubGEoKSkpO2EuRz0hMTtyZXR1cm4gYy50aGVuKEooYSxmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5hLmdldEJvb2woImNsZWFyX29sZF9idWZmZXIiLCExKT9FYih0aGlzLmMsdGhpcy5iLmN1cnJlbnRUaW1lKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGF9KTphfSkpLnRoZW4oSihhLGZ1bmN0aW9uKGEpe3ZhciBiPWEuVyxjPWEuV2M7dGhpcy5ofHwodGhpcy55YT1jKTt0aGlzLmEuZ2V0Qm9vbCgidXNlX2xpdmVfYml0cmF0ZV9lc3RpbWF0ZXMiLCExKSYmbnVsbCE9YSYmMDxhLkRjJiYwPGEuSCYmKG51bGw9PT10aGlzLm0mJih0aGlzLm09VWQodGhpcyx0aGlzLmcuYmFuZHdpZHRofHwwKSksdGhpcy5tLnNhbXBsZSg4KgphLkRjLGEuSCkpO2E9dGhpcy5hLmdldE51bWJlcigiYnVmZmVyX3ZlbG9jaXR5X3RpbWVfaW5fcGFzdF90b19jb25zaWRlciIsMCk7MDxhJiZudWxsIT09dGhpcy5nJiYidmlkZW8iPT09TWQodGhpcy5nKSYmKG51bGw9PT10aGlzLkEmJih0aGlzLkE9bmV3IEJ1ZmZlclZlbG9jaXR5KGEpKSx0aGlzLkEucmVjb3JkQnVmZmVyQWhlYWQocmIodGhpcy5jLHRoaXMuYi5jdXJyZW50VGltZSkpKTt0aGlzLlA9ITE7InZpZGVvIj09PSh0aGlzLmc/dGhpcy5nLm1pbWVUeXBlLnNwbGl0KCIvIilbMF06bnVsbCkmJnRoaXMuZGlzcGF0Y2hFdmVudCh5KHt0eXBlOiJmZXRjaF9lbmQiLGJ1YmJsZXM6ITAsZGV0YWlsOntzdHJlYW1fZmV0Y2hfdGltZV9tczpEYXRlLm5vdygpLXRoaXMud2Esc2VnbWVudF9sZW5ndGhfbXM6MUUzKihlLmVuZFRpbWUtZS5zdGFydFRpbWUpfX0pKTtudWxsPT10aGlzLkQmJih0aGlzLkQ9Yik7dGhpcy5pYSYmMDxyYih0aGlzLmMsZCkmJih0aGlzLmlhPSExLHRoaXMuYS5nZXRCb29sKCJkaXNhYmxlX251ZGdlIiwKITEpfHwoYj15KHt0eXBlOiJzaG91bGRfbnVkZ2UifSksdGhpcy5kaXNwYXRjaEV2ZW50KGIpKSk7Vih0aGlzLDApfSkpLmNhdGNoKEooYSxmdW5jdGlvbihhKXt0aGlzLlA9ITE7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfSkpfWZ1bmN0aW9uIG1lKGEsYixjKXt2YXIgZD1hLmg/YjpiKyhhLkR8fDApO3JldHVybnthZGRpdGlvbmFsU2VnbWVudHNSZXF1aXJlZDpjLHBsYXloZWFkOmIsYnVmZmVyU3RhcnQ6ZCxidWZmZXJFbmQ6YWUoYSxiKStkLGJ1ZmZlcmluZ0dvYWw6WmQoYSksaXNQbGF5aW5nOiFhLmIucGF1c2VkfX1mdW5jdGlvbiBsZShhLGIsYyl7YS51JiZhLnUudXBkYXRlUGxheWVyU3RhdGUoYyxiKX1mdW5jdGlvbiBuZShhLGIpe2EuRiYmYS5GLnVwZGF0ZVBsYXllclN0YXRlKGIpfQpmdW5jdGlvbiBwZShhLGIsYyl7dmFyIGQ9bnVsbCE9PWEuaSYmLTE8YS5pJiZhLmk8Yy5sZW5ndGgoKS0xP2MuZ2V0KGEuaSk6bnVsbCxlPW51bGw7aWYobnVsbD09PWEuaXx8IWR8fGQuc3RhcnRUaW1lPmIpcmV0dXJuIGU9Yy5maW5kSW5kZXgoYiksYS5pPWU7Zm9yKGQ9YS5pO2Q8PWEuaSsxO2QrKylpZihlPWMuZ2V0KGQpLGUuc3RhcnRUaW1lPD1iJiZlLmVuZFRpbWU+YilyZXR1cm4gYS5pPWQ7ZT1jLmZpbmRJbmRleChiKTtyZXR1cm4oYS5pPWUpfHwtMX1mdW5jdGlvbiBkZShhKXtyZXR1cm4gYS5hLmdldEJvb2woInJlcGxhY2VfbG93ZXJfcXVhbGl0eV9idWZmZXIiLCExKSYmbnVsbD09PWEuRiYmYS5lYSYmbnVsbCE9PWEuJCYmInZpZGVvIj09PU1kKGEuZykmJm51bGwhPT1hLmZ9CmZ1bmN0aW9uIGplKGEsYil7aWYoIWEuRmF8fCFhLmcuaWR8fCFhLmYpcmV0dXJuW107dmFyIGM9cGUoYSxiLGEuZik7cmV0dXJuLTE9PT1jP1tdOkJ1ZmZlclJlcGxhY2VtZW50SGVscGVyLmdldFNlZ21lbnRzVG9SZXBsYWNlTG93ZXJRdWFsaXR5KGEuZi5nZXRTZWdtZW50cygpLGIsYyxhLmcuaWQsYS5GYSxhLiQse3RocmVzaG9sZEJlZm9yZTphLmEuZ2V0TnVtYmVyKCJidWZmZXJfcmVwbGFjZW1lbnRfYmVoaW5kX3RocmVzaG9sZCIsNSksdGhyZXNob2xkQWZ0ZXI6YS5hLmdldE51bWJlcigiYnVmZmVyX3JlcGxhY2VtZW50X2FoZWFkX3RocmVzaG9sZCIsMTUpLHdyYXBSZXBsYWNlbWVudFBhc3RFbmQ6YS5hLmdldEJvb2woIndyYXBfcmVwbGFjZW1lbnRfcGFzdF9lbmQiLCExKX0pfQpuLnpjPWZ1bmN0aW9uKCl7dmFyIGE7aWYodGhpcy5sKXt2YXIgYj10aGlzLmEuZ2V0TnVtYmVyKCJzdHJlYW1fb251cGRhdGVfc2FtcGxpbmciLDApO2ImJjA9PT1NYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqYikmJihhPXRoaXMubC5nZXRPcGVyYXRpb25Mb2dnZXIoInN0cmVhbV9vbnVwZGF0ZSIpLnN0YXJ0KCkpfXZhciBjO3RoaXMuYS5nZXROdW1iZXIoImRlY291cGxlX3N0cmVhbV9vbl91cGRhdGVfbG9vcF9mcm9tX3JlcXVlc3RfbG9vcF9pbnQiLDApJiZWKHRoaXMsdGhpcy5hLmdldE51bWJlcigiZGVjb3VwbGVfc3RyZWFtX29uX3VwZGF0ZV9sb29wX2Zyb21fcmVxdWVzdF9sb29wX2ludCIsMCkpO2lmKHRoaXMuYS5nZXRCb29sKCJjYXRjaF9zdHJlYW1fdXBkYXRlX3N5bmNfY29kZV9lcnJvciIsITEpKXRyeXtjPWJlKHRoaXMpfWNhdGNoKGQpe2QudHlwZT0idW5jYXVnaHQiLGEmJmEuc2V0RXJyb3IoZCksYz1Qcm9taXNlLnJlamVjdChkKX1lbHNlIGM9YmUodGhpcyk7Yy5jYXRjaChKKHRoaXMsCmZ1bmN0aW9uKGEpe2lmKCJhYm9ydGVkIiE9YS50eXBlKXtpZigic291cmNlYnVmZmVyX2Z1bGwiPT09YS50eXBlKXJldHVybiBCYih0aGlzLmMpLnRoZW4oSih0aGlzLGZ1bmN0aW9uKCl7Vih0aGlzLDApfSkpO3ZhciBiPVswLDQwNCw0MTAsNTAyLDUwMyw1MDRdO3RoaXMuYS5nZXRCb29sKCJlbmFibGVfZG91YmxlX2luZ2VzdCIsITEpJiZiLnB1c2goNDE3LDIwMCk7Yj0tMT09PWIuaW5kZXhPZihhLnN0YXR1cyk7aWYoIm5ldCI9PT1hLnR5cGUmJiFiJiZ0aGlzLmcpaWYodGhpcy5hLmdldEJvb2woImFsbG93X2luZmluaXRlX3JldHJ5X29uX25ldF9lcnIiLCEwKSlzd2l0Y2goYS5zdGF0dXMpe2Nhc2UgNDA0OlYodGhpcywyRTMpO2JyZWFrO2Nhc2UgNDEwOnRoaXMuYS5nZXRCb29sKCJlbmRfYWxsX3N0cmVhbXNfb25fNDEwIiwhMSk/cWUodGhpcyk6dGhpcy5DYigpO2JyZWFrO2Nhc2UgNDE3OmNhc2UgMjAwOmEucmVzcG9uc2VIZWFkZXJzJiZudWxsIT1hLnJlc3BvbnNlSGVhZGVyc1sieC1mYi12aWRlby1yZXBsaWNhIl0/CnRoaXMuZGlzcGF0Y2hFdmVudCh5KHt0eXBlOiJyZXBsaWNhc3dpdGNoIixidWJibGVzOiEwLHJlcGxpY2E6YS5yZXNwb25zZUhlYWRlcnNbIngtZmItdmlkZW8tcmVwbGljYSJdLHVybDphLnVybCxzdGF0dXM6YS5zdGF0dXN9KSk6Yj0hMDticmVhaztkZWZhdWx0OlYodGhpcywxRTMpfWVsc2UgVih0aGlzLDFFMyksYj0hMDswPT09YS5zdGF0dXM/dGhpcy5zYS5pbmZvcm1OZXR3b3JrSW50ZXJydXB0ZWQoKTp0aGlzLnNhLmluZm9ybU5ldHdvcmtSZXN1bWVkKCk7aWYoIXRoaXMuYS5nZXRCb29sKCJhbGxvd19pbmZpbml0ZV9yZXRyeV9vbl9uZXRfZXJyIiwhMCl8fGIpYj1BKGEpLHRoaXMuZGlzcGF0Y2hFdmVudChiKSx0aGlzLmwmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgYj10aGlzLmwuZ2V0RXZlbnRMb2dnZXIoInN0cmVhbV9lcnJvcl9mYWxsYmFjayIpLnNldEVycm9yKGEpLnNldFR5cGUodGhpcy5DYS5zcGxpdCgiLyIpWzBdKTt0aGlzLmI/Yi5zZXRSZXN1bHQoImZhaWxlZCIpOgpiLnNldFJlc3VsdCgic3VjY2VzcyIpO2IubG9nKCl9LmJpbmQodGhpcyksMCl9fSkpO2EmJmEubG9nKCl9O2Z1bmN0aW9uIGtlKGEsYixjLGQsZSl7dmFyIGY9LTE7aWYoYS5hLmdldEJvb2woInRlbXBsYXRlZF9mYXN0ZXJfc3RyZWFtX2dldF9uZXh0X24iLCExKSYmMT09PWQmJm51bGwhPWUmJm51bGwhPWUuZW5kVGltZSlyZXR1cm4oYz1jLmZpbmQoZS5lbmRUaW1lKSk/W2NdOltdO251bGwhPWU/Zj1udWxsIT1lLmVuZFRpbWU/Yy5maW5kSW5kZXgoZS5lbmRUaW1lKTotMTooZj1wZShhLGIsYyksMD5mJiYoZj1jLmxlbmd0aCgpP2MubGVuZ3RoKCktMTotMSkpO2E9W107aWYoMDw9Zilmb3IoYj1mO2I8ZitkJiZiPGMubGVuZ3RoKCk7YisrKWEucHVzaChjLmdldChiKSk7cmV0dXJuIGF9CmZ1bmN0aW9uIGNlKGEpe2lmKCFhLmgmJm51bGwhPWEuRCl7YS5oPSEwO3ZhciBiPWEuYyxjPWEuRCxkPWMtYi5VOzAhPWQmJihiLmI9a2QoYi5iLGQpLGIuVT1jKTthLk8ucmVzb2x2ZShhLkQpfX1uLkVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaH07VS5wcm90b3R5cGUuaGFzU3RhcnRlZD1VLnByb3RvdHlwZS5FZDtVLnByb3RvdHlwZS5rYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLlR9O1UucHJvdG90eXBlLmhhc0hpdEJ1ZmZlcmluZ0dvYWw9VS5wcm90b3R5cGUua2I7VS5wcm90b3R5cGUubGE9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09PXRoaXMubT9udWxsOnRoaXMubS5nZXRFc3RpbWF0ZSgpfTtVLnByb3RvdHlwZS5nZXRCaXRyYXRlRXN0aW1hdGU9VS5wcm90b3R5cGUubGE7VS5wcm90b3R5cGUucWI9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09PXRoaXMuQT9udWxsOnRoaXMuQS5nZXRWZWxvY2l0eSgpfTtVLnByb3RvdHlwZS5nZXRCdWZmZXJWZWxvY2l0eT1VLnByb3RvdHlwZS5xYjsKZnVuY3Rpb24gb2UoYSxiLGMsZCl7dmFyIGU9Yi5taW1lVHlwZS5zcGxpdCgiLyIpWzBdO2I9eSh7dHlwZToiYWRhcHRhdGlvbiIsaWQ6Yi5pZCxidWJibGVzOiEwLGNvbnRlbnRUeXBlOmUsc2l6ZToidmlkZW8iIT1lP251bGw6e3dpZHRoOmIud2lkdGgsaGVpZ2h0OmIuaGVpZ2h0fSxiYW5kd2lkdGg6ZHx8Yi5iYW5kd2lkdGgscmVhc29uOmN9KTthLmRpc3BhdGNoRXZlbnQoYil9ZnVuY3Rpb24gcWUoYSl7dmFyIGI9eSh7dHlwZToic2hvdWxkX2VuZF9hbGxfc3RyZWFtcyJ9KTthLmRpc3BhdGNoRXZlbnQoYil9ZnVuY3Rpb24gV2QoYSl7dmFyIGI9eSh7dHlwZToiZW5kZWQifSk7YS5kaXNwYXRjaEV2ZW50KGIpfVUucHJvdG90eXBlLk9hPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuRn07VS5wcm90b3R5cGUuZ2V0VmlkZW9TdHJlYW1pbmdNYW5hZ2VyPVUucHJvdG90eXBlLk9hOwpmdW5jdGlvbiBWKGEsYil7VmQoYSk7IWImJmEuSGE/UHJvbWlzZS5yZXNvbHZlKCkudGhlbihhLnpjLmJpbmQoYSkpOmEudz1zZXRUaW1lb3V0KGEuemMuYmluZChhKSxiKX1mdW5jdGlvbiBWZChhKXtudWxsIT1hLncmJihjbGVhclRpbWVvdXQoYS53KSxhLnc9bnVsbCl9VS5wcm90b3R5cGUuc2I9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy55YX07VS5wcm90b3R5cGUuZ2I9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jLml9O1UucHJvdG90eXBlLmdldFN0cmVhbVByb2dyZXNzVHJhY2tlcj1VLnByb3RvdHlwZS5nYjtmdW5jdGlvbiByZShhLGIpe2EuSz1iO2EuVj0hMDthLkl8fChhLkk9bmV3IEkpO3JldHVybiBhLkl9O2Z1bmN0aW9uIHNlKGEpe3RoaXMuYj1hO3RoaXMuYT1udWxsfXNlLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5hJiYodGhpcy5hLmRlc3Ryb3koKSx0aGlzLmE9bnVsbCl9O3NlLnByb3RvdHlwZS5jcmVhdGU9ZnVuY3Rpb24oKXtpZih0aGlzLmEpcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLmEpO3ZhciBhPW5ldyBpZCgwLG51bGwsdGhpcy5iLDAsMCksYT1uZXcgVChbYV0sMSk7dGhpcy5hPW5ldyBSKGEpO3JldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5hKX07c2UucHJvdG90eXBlLmM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hfTtmdW5jdGlvbiB0ZShhLGIpe0YuY2FsbCh0aGlzLGEpO3RoaXMuYj1iO3RoaXMuaj0hMDt0aGlzLm09dGhpcy5nPW51bGw7dGhpcy5mPW5ldyBJO3RoaXMuYT1udWxsfXIodGUsRik7dGUucHJvdG90eXBlLnBhPWZ1bmN0aW9uKCl7fTt0ZS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuYSYmdGhpcy5iLnJlbW92ZUNoaWxkKHRoaXMuYSk7dGhpcy5mLmRlc3Ryb3koKTt0aGlzLkphPXRoaXMuYj10aGlzLmc9dGhpcy5tPXRoaXMuYT10aGlzLmY9bnVsbH07bj10ZS5wcm90b3R5cGU7bi5XYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmd9O24uRmI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tfTtuLktjPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZn07bi5mYj1mdW5jdGlvbigpe3JldHVybiEwfTtuLkNiPWZ1bmN0aW9uKCl7fTsKbi5qYj1mdW5jdGlvbihhKXthLk0uY3JlYXRlKCkudGhlbihKKHRoaXMsZnVuY3Rpb24oYil7aWYodGhpcy5iKXtpZigwPT1iLmxlbmd0aCgpKXJldHVybiBQcm9taXNlLnJlamVjdChFcnJvcigiTm8gc3VidGl0bGVzIFVSTCBhdmFpbGFibGUuIikpO3ZhciBjPXRoaXMuZzt0aGlzLmc9YTt0aGlzLm09YjtiPWIuZmlyc3QoKS51cmwuY1swXS50b1N0cmluZygpO3ZhciBkPXRoaXMuRGIoKTt0aGlzLmEmJih0aGlzLnZiKCExKSx0aGlzLmIucmVtb3ZlQ2hpbGQodGhpcy5hKSk7dGhpcy5hPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRyYWNrIik7dGhpcy5iLmFwcGVuZENoaWxkKHRoaXMuYSk7dGhpcy5hLnNyYz1iO3RoaXMudmIoZCk7Yj15KHt0eXBlOiJhZGFwdGF0aW9uIixidWJibGVzOiEwLGNvbnRlbnRUeXBlOiJ0ZXh0IixzaXplOm51bGwsYmFuZHdpZHRoOmEuYmFuZHdpZHRofSk7dGhpcy5kaXNwYXRjaEV2ZW50KGIpO2N8fHRoaXMuZi5yZXNvbHZlKDApfX0pKX07bi5DYz1mdW5jdGlvbigpe307Cm4uSGM9ZnVuY3Rpb24oKXt9O24uSWM9ZnVuY3Rpb24oKXtyZXR1cm4hMH07bi52Yj1mdW5jdGlvbihhKXt0aGlzLmo9YTt0aGlzLmEmJih0aGlzLmEudHJhY2subW9kZT1hPyJzaG93aW5nIjoiZGlzYWJsZWQiKX07bi5EYj1mdW5jdGlvbigpe3RoaXMuYSYmKHRoaXMuaj0ic2hvd2luZyI9PXRoaXMuYS50cmFjay5tb2RlKTtyZXR1cm4gdGhpcy5qfTtuLnNiPWZ1bmN0aW9uKCl7cmV0dXJuIDB9O24uSmM9ZnVuY3Rpb24oKXt9O2Z1bmN0aW9uIHVlKCl7fQp1ZS5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9bnVsbDt0cnl7dmFyIGY7dmFyIGc9bmV3IElhKGIpO2lmKDQ0MDc4Njg1MSE9S2EoZykuaWQpZj1udWxsO2Vsc2V7dmFyIGg9S2EoZyk7aWYoNDA4MTI1NTQzIT1oLmlkKWY9bnVsbDtlbHNle3ZhciBrPWguYS5ieXRlT2Zmc2V0LGw7dmFyIG09bmV3IElhKGguYSk7Zm9yKGI9bnVsbDtEYShtLmEpOyl7dmFyIHA9S2EobSk7aWYoMzU3MTQ5MDMwPT1wLmlkKXtiPXA7YnJlYWt9fWlmKGIpe2Zvcih2YXIgdD1uZXcgSWEoYi5hKSxwPTFFNixtPW51bGw7RGEodC5hKTspe3ZhciB3PUthKHQpO2lmKDI4MDc3Mjk9PXcuaWQpcD1PYSh3KTtlbHNlIGlmKDE3NTQ1PT13LmlkKWlmKGI9dyw0PT1iLmEuYnl0ZUxlbmd0aCltPWIuYS5nZXRGbG9hdDMyKDApO2Vsc2UgaWYoOD09Yi5hLmJ5dGVMZW5ndGgpbT1iLmEuZ2V0RmxvYXQ2NCgwKTtlbHNlIHRocm93IG5ldyBSYW5nZUVycm9yKCJFYm1sRWxlbWVudDogZmxvYXRpbmcgcG9pbnQgbnVtYmVycyBtdXN0IGJlIDQgb3IgOCBieXRlcy4iKTt9bnVsbD09Cm0/bD1udWxsOih0PXAvMUU5LGw9e0diOnQsZHVyYXRpb246bSp0fSl9ZWxzZSBsPW51bGw7Zj1sP3tBZDprLEdiOmwuR2IsZHVyYXRpb246bC5kdXJhdGlvbn06bnVsbH19aWYoZil7dmFyIHo9S2EobmV3IElhKGEpKTtpZig0NzUyNDk1MTUhPXouaWQpZT1udWxsO2Vsc2V7dmFyIEg9Zi5BZCxkYT1mLkdiLGVhPWYuZHVyYXRpb247YT1bXTtmb3IodmFyIEFhPW5ldyBJYSh6LmEpLGs9Zj16PS0xO0RhKEFhLmEpOyl7dmFyIGNiPUthKEFhKTtpZigxODc9PWNiLmlkKXt2YXIgbmE7dmFyIHZkPW5ldyBJYShjYi5hKSx3ZD1LYSh2ZCk7aWYoMTc5IT13ZC5pZCluYT1udWxsO2Vsc2V7dmFyIFllPU9hKHdkKSx4ZD1LYSh2ZCk7aWYoMTgzIT14ZC5pZCluYT1udWxsO2Vsc2V7dmFyIGVlPW5ldyBJYSh4ZC5hKTtmb3IobD0wO0RhKGVlLmEpOyl7dmFyIGZlPUthKGVlKTtpZigyNDE9PWZlLmlkKXtsPU9hKGZlKTticmVha319bmE9e3piOlllLHlkOmx9fX1pZihuYSl7dmFyIGdlPWRhKm5hLnpiLApoZT1IK25hLnlkO2lmKDA8PXope3ZhciBOYz1uZXcgSyhkLGMsayxoZS0xKSxBZj1uYS56Yi1mO2EucHVzaChuZXcgaWQoeixnZSxOYyxuYS56YixBZikpfXo9Z2U7Zj1uYS56YjtrPWhlfX19MDw9eiYmKE5jPW5ldyBLKGQsYyxrLG51bGwpLGEucHVzaChuZXcgaWQoeixlYSxOYyxmLGVhL2RhLWYpKSk7ZT1hfX1lbHNlIGU9bnVsbH1jYXRjaChpZSl7aWYoIShpZSBpbnN0YW5jZW9mIFJhbmdlRXJyb3IpKXRocm93IGllO31yZXR1cm4gZX07ZnVuY3Rpb24gdmUoYSxiLGMsZCxlLGYsZyxoLGssbCxtKXt0aGlzLmg9YTt0aGlzLm89Yjt0aGlzLmI9Yzt0aGlzLm09bHx8bnVsbDt0aGlzLmo9bXx8bnVsbDt0aGlzLmE9ZDt0aGlzLmc9ZTt0aGlzLmY9Zjt0aGlzLnc9Zzt0aGlzLlJhPW51bGw7dGhpcy5pPWg7dGhpcy5sPWt8fG51bGw7dGhpcy51PW51bGx9dmUucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmk9dGhpcy5vPXRoaXMuaD1udWxsO3RoaXMuYS5LYSgpO3RoaXMuYT1udWxsO3RoaXMuZiYmKHRoaXMuZi5LYSgpLHRoaXMuZj1udWxsKTt0aGlzLmcmJih0aGlzLmcuS2EoKSx0aGlzLmc9bnVsbCk7dGhpcy5SYT1udWxsfTt2ZS5wcm90b3R5cGUuUWM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5SYX07dmUucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbigpe3JldHVybiB3ZSh0aGlzKX07dmUucHJvdG90eXBlLnBiPWZ1bmN0aW9uKCl7cmV0dXJuIHdlKHRoaXMpfTsKZnVuY3Rpb24gd2UoYSl7aWYoYS5SYSlyZXR1cm4gYS5SYTt2YXIgYj1udWxsO2EubCYmKGI9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigiY3JlYXRlX2NvbnRhaW5lcl9zZWdtZW50X2luZGV4X3NvdXJjZSIpLnN0YXJ0KCkpO2lmKG51bGwhPT1hLm0mJihudWxsIT09YS5qfHwid2VibSIhPT1hLmIpKXJldHVybiB4ZShhLGEubSxhLmosYik7dmFyIGM9W2EuYS5mZXRjaChudWxsLG51bGwsYS5sLGIpXTsid2VibSI9PWEuYiYmYy5wdXNoKGEuZy5mZXRjaChudWxsLG51bGwsYS5sLGIpKTthLlJhPVByb21pc2UuYWxsKGMpLnRoZW4oSihhLGZ1bmN0aW9uKGEpe3JldHVybiB4ZSh0aGlzLGFbMF0sYVsxXXx8bnVsbCxiKX0pKTtyZXR1cm4gYS5SYX0KZnVuY3Rpb24geGUoYSxiLGMsZCl7dmFyIGU9bnVsbDsibXA0Ij09YS5iPyhlPW5ldyB0ZCxlPWUucGFyc2UobmV3IERhdGFWaWV3KGIpLGEuYS5zdGFydEJ5dGUsYS5hLmMsYS5pLGEuZikpOiJ3ZWJtIj09YS5iJiYoZT1uZXcgdWUsZT1lLnBhcnNlKG5ldyBEYXRhVmlldyhiKSxuZXcgRGF0YVZpZXcoYyksYS5hLmMsYS5pKSk7aWYoIWUpcmV0dXJuIGE9RXJyb3IoIkZhaWxlZCB0byBwYXJzZSBTZWdtZW50UmVmZXJlbmNlcyBmcm9tICIrYS5hLnRvU3RyaW5nKCkrIiAob3Igb25lIG9mIGl0cyBmYWxsYmFja3MpLiIpLGEudHlwZT0ic3RyZWFtIixQcm9taXNlLnJlamVjdChhKTtiPW5ldyBUKGUsZS5zKTt2YXIgZjsiZHluYW1pYyI9PWEuaC50eXBlP2Y9bmV3IFMoYixhLmgsYS5vLGEudyk6Zj1uZXcgUihiKTtkJiZkLmxvZygpO2EudT1mO3JldHVybiBQcm9taXNlLnJlc29sdmUoZil9dmUucHJvdG90eXBlLmM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51fTtmdW5jdGlvbiB5ZShhLGIsYyxkKXt0aGlzLmM9YTt0aGlzLmI9Yjt0aGlzLmw9Y3x8bnVsbDt0aGlzLmE9ZHx8bnVsbH0KZnVuY3Rpb24gemUoYSxiLGMpe2Zvcih2YXIgZD15YSgpLzFFMyxlPTA7ZTxiLmEubGVuZ3RoOysrZSlmb3IodmFyIGY9Yi5hW2VdLGc9MDtnPGYuYS5sZW5ndGg7KytnKXt2YXIgaD1mLmFbZ107aWYoInRleHQiIT1oLmNvbnRlbnRUeXBlKWZvcih2YXIgaz0wO2s8aC5hLmxlbmd0aDsrK2spe3ZhciBsPWguYVtrXSxtPTAsbT1tKyhsLmY/MTowKSxtPW0rKGwuYj8xOjApLG09bSsobC5hPzE6MCk7MD09bT8oaC5hLnNwbGljZShrLDEpLC0tayk6MSE9bSYmKGwuZj8obC5iPW51bGwsbC5hPW51bGwpOmwuYiYmKGwuYT1udWxsKSl9fUFlKGIpO2ZvcihlPTA7ZTxiLmEubGVuZ3RoOysrZSlmb3IoZj1iLmFbZV0sZz0wO2c8Zi5hLmxlbmd0aDsrK2cpe2s9aD1mLmFbZ107bD1udWxsO2ZvcihtPTA7bTxrLmEubGVuZ3RoOysrbSl7dmFyIHA9ay5hW21dLm1pbWVUeXBlfHwiIjtsP3AhPWwmJihrLmEuc3BsaWNlKG0sMSksLS1tKTpsPXB9MD09aC5hLmxlbmd0aCYmKGYuYS5zcGxpY2UoZywxKSwKLS1nKX1iLm1hbmlmZXN0SXNMaXZlU3RyZWFtaW5nJiZudWxsPT1iLmMmJihiLmM9ZCk7ZT1uZXcgVGQ7ImR5bmFtaWMiPT1iLnR5cGUmJihlLmI9ITAsZS5jPWIuZyxlLmk9bmV3IEsoYyxiLnV8fGIudXJsLHZvaWQgMCx2b2lkIDAsdm9pZCAwLGEuYSksZS5qPWIuYyk7ZS5CPWIuaHx8MDtlLm09Yi5pfHwwO2Uubz1iLmp8fDA7ZS5nPWIubXx8NTtmb3IoZj0wO2Y8Yi5hLmxlbmd0aDsrK2Ype2c9Yi5hW2ZdO2lmKG51bGw9PWcuc3RhcnQpYnJlYWs7Zz1CZShhLGIsZyxkLGMpO2UuYS5wdXNoKGcpfWUuZj1iLkZCSXNMaXZlVGVtcGxhdGVkO2EubCYmYS5sLnNldElzVGVtcGxhdGVkTWFuaWZlc3QoYi5GQklzTGl2ZVRlbXBsYXRlZCk7ZS5BPWIuRkJXYXNMaXZlO2E9bnVsbDtjPSJub25lIjtmb3IoZj0wO2Y8Yi5hLmxlbmd0aDtmKyspZm9yKGc9Yi5hW2ZdLGQ9MDtkPGcuYS5sZW5ndGg7ZCsrKWZvcihoPWcuYVtkXSxrPTA7azxoLmEubGVuZ3RoO2srKylsPWguYVtrXS5pLG51bGwhPQpsJiZudWxsIT1sLnZhbHVlJiYoYT1jPWwudmFsdWUsInVybjptcGVnOmRhc2g6MjMwMDM6MzphdWRpb19jaGFubmVsX2NvbmZpZ3VyYXRpb246MjAxMSI9PT1sLmEmJigiMSI9PT1hP2M9Im1vbm8iOiIyIj09PWEmJihjPSJzdGVyZW8iKSkpO2Uudz1jO2E9cGFyc2VJbnQoYSwxMCk7ZS51PTA8YT9hOm51bGw7cmV0dXJuIGV9CmZ1bmN0aW9uIEFlKGEpe2lmKGEuYS5sZW5ndGgpe251bGw9PWEuYVswXS5zdGFydCYmKGEuYVswXS5zdGFydD0wKTt2YXIgYj1mdW5jdGlvbihhKXtyZXR1cm4gMD09YXx8ISFhfTthLm1hbmlmZXN0SXNMaXZlU3RyZWFtaW5nJiYoYS5iPW51bGwpO2IoYS5iKSYmMT09YS5hLmxlbmd0aCYmIWIoYS5hWzBdLmR1cmF0aW9uKSYmKGEuYVswXS5kdXJhdGlvbj1hLmIpO2Zvcih2YXIgYz0wLGQ9ITAsZT0wO2U8YS5hLmxlbmd0aDsrK2Upe3ZhciBmPWEuYVtlLTFdLGc9YS5hW2VdLGg9YS5hW2UrMV18fHtzdGFydDphLmJ9OyFiKGcuc3RhcnQpJiZmJiZiKGYuc3RhcnQpJiZiKGYuZHVyYXRpb24pJiYoZy5zdGFydD1mLnN0YXJ0K2YuZHVyYXRpb24pOyFiKGcuZHVyYXRpb24pJiZiKGguc3RhcnQpJiYoZy5kdXJhdGlvbj1oLnN0YXJ0LWcuc3RhcnQpO251bGwhPWcuc3RhcnQmJm51bGwhPWcuZHVyYXRpb24/Yys9Zy5kdXJhdGlvbjpkPSExfWIoYS5iKXx8KGU9YS5hW2EuYS5sZW5ndGgtMV0sCmQ/YS5iPWM6YihlLnN0YXJ0KSYmYihlLmR1cmF0aW9uKT9hLmI9ZS5zdGFydCtlLmR1cmF0aW9uOmEubWFuaWZlc3RJc0xpdmVTdHJlYW1pbmd8fChhLmI9YykpfX0KZnVuY3Rpb24gQmUoYSxiLGMsZCxlKXt2YXIgZj1uZXcgU2Q7Zi5pZD1jLmlkO2Yuc3RhcnQ9Yy5zdGFydDtmLmR1cmF0aW9uPWMuZHVyYXRpb247dmFyIGc9bmV3IEQ7Yy5hLmZvckVhY2goZnVuY3Rpb24oYSl7Zy5wdXNoKGEuY29udGVudFR5cGV8fCIiLGEpfSk7Zm9yKHZhciBoPWFiKGcpLGs9MDtrPGgubGVuZ3RoOysrayl7dmFyIGw9bmV3IEQ7Zy5nZXQoaFtrXSkuZm9yRWFjaChmdW5jdGlvbihhKXtsLnB1c2goYS5ncm91cCxhKX0pO2Zvcih2YXIgbT1hYihsKSxwPTA7cDxtLmxlbmd0aDsrK3Ape3ZhciB0PW5ldyBEO2wuZ2V0KG1bcF0pLmZvckVhY2goZnVuY3Rpb24oYSl7dC5wdXNoKGEubGFuZyxhKX0pO2Zvcih2YXIgdz1hYih0KSx6PTA7ejx3Lmxlbmd0aDsrK3ope3ZhciBIPXQuZ2V0KHdbel0pLEg9Q2UoYSxiLGMsSCxkLGUpO2YuYS5wdXNoKEgpfX19cmV0dXJuIGZ9CmZ1bmN0aW9uIENlKGEsYixjLGQsZSxmKXtiYShkLmV2ZXJ5KGZ1bmN0aW9uKGEpe3JldHVybiBhLmdyb3VwPT1kWzBdLmdyb3VwJiYoYS5sYW5nfHwiIik9PShkWzBdLmxhbmd8fCIiKSYmKGEuY29udGVudFR5cGV8fCIiKT09KGRbMF0uY29udGVudFR5cGV8fCIiKX0pKTt2YXIgZz1uZXcgT2QsaD1kLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YS5pZH0pO2gubGVuZ3RoPT1kLmxlbmd0aCYmKGcuaWQ9aC5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuaWR9KS5zb3J0KCkucmVkdWNlKGZ1bmN0aW9uKGEsYil7cmV0dXJuIGErIiwiK2J9KSk7Zy5iPSEoIWRbMF0uYnx8InVybjpzY3RlOmRhc2g6Y2M6Y2VhLTYwODoyMDE1IiE9PWRbMF0uYi5hKTtnLmxhbmc9ZFswXS5sYW5nfHwiIjtnLmNvbnRlbnRUeXBlPWRbMF0uY29udGVudFR5cGV8fCIiO2cuZj1kLnNvbWUoZnVuY3Rpb24oYSl7cmV0dXJuIGEuZn0pO2Zvcih2YXIgaD17fSxrPTA7azxkLmxlbmd0aDsrK2spe3ZhciBsPQpkW2tdO2wuYyYmKGcuYz1sLmMpO2Zvcih2YXIgbT0wO208bC5hLmxlbmd0aDsrK20pe3ZhciBwPWwuYVttXSx0PURlKGEscCksdz1nLmEuc2xpY2UoMCk7RWUodCx3KTswPT13Lmxlbmd0aCYmMDxnLmEubGVuZ3RofHwhKHA9RmUoYSxiLGMscCxlLGYpKXx8KGcudi5wdXNoKHApLGcuYT13LGhbcC5YXT1sKX19aWYoZy5hLnNvbWUoZnVuY3Rpb24oYSl7cmV0dXJuIiI9PWEuYX0pKXJldHVybiBnLnYuZm9yRWFjaChmdW5jdGlvbihhKXthLm9hPSEwfSksZzthPUdlKGQpO2ZvcihrPTA7azxnLnYubGVuZ3RoOysraylwPWcudltrXSxsPWhbcC5YXSxsPT1hJiYocC5vYT0hMCk7cmV0dXJuIGd9CmZ1bmN0aW9uIEdlKGEpe2Zvcih2YXIgYj1udWxsLGM9bnVsbCxkPTA7ZDxhLmxlbmd0aDsrK2QpZm9yKHZhciBlPWFbZF0sZj0wO2Y8ZS5hLmxlbmd0aDsrK2Ype3ZhciBnPWUuYVtmXSxnPShnLndpZHRofHwxKSooZy5oZWlnaHR8fDEpKihnLmJhbmR3aWR0aHx8MSk7aWYobnVsbD09Ynx8ZzxiKWI9ZyxjPWV9cmV0dXJuIGN9ZnVuY3Rpb24gRWUoYSxiKXtpZigwPT1iLmxlbmd0aClBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShiLGEpO2Vsc2UgZm9yKHZhciBjPTA7YzxiLmxlbmd0aDsrK2Mpe2Zvcih2YXIgZD0hMSxlPTA7ZTxhLmxlbmd0aDsrK2Upe3ZhciBmPWJbY10sZz1hW2VdO2lmKGYuYT09Zy5hJiZmLmk9PWcuaSYmZi53aXRoQ3JlZGVudGlhbHM9PWcud2l0aENyZWRlbnRpYWxzJiZmLmg9PWcuaCYmZi5qPT1nLmomJmYuZz09Zy5nJiZmLm09PWcubSYmTWEoZi5jLGcuYykpe2Q9ITA7T2IoYltjXSxhW2VdLmIpO2JyZWFrfX1kfHwoYi5zcGxpY2UoYywxKSwtLWMpfX0KZnVuY3Rpb24gRGUoYSxiKXt2YXIgYz1bXTtpZigwPT1iLmMubGVuZ3RoKWMucHVzaChuZXcgTWIpO2Vsc2UgaWYoYS5iKWZvcih2YXIgZD0wO2Q8Yi5jLmxlbmd0aDsrK2QpYy5wdXNoLmFwcGx5KGMsSGUoYSxiLmNbZF0pKTtyZXR1cm4gY30KZnVuY3Rpb24gSGUoYSxiKXt2YXIgYz1bXTtpZigyIT1hLmIubGVuZ3RoKXJldHVybltdO3ZhciBkPWEuYihiLmZ8fCIiLGIuYyk7aWYoIShkJiZkIGluc3RhbmNlb2YgQXJyYXkpKXJldHVybltdO2Zvcih2YXIgZT0wO2U8ZC5sZW5ndGg7KytlKXt2YXIgZjt2YXIgZz1kW2VdO2Y9bmV3IE1iO2lmKGcpe3ZhciBoPVlhKGcsImtleVN5c3RlbSIpO2lmKG51bGwhPWgpZi5hPWg7ZWxzZSB0aHJvdyBFcnJvcigiJ2tleVN5c3RlbScgY2Fubm90IGJlIG51bGwuIik7dmFyIGs9WWEoZywibGljZW5zZVNlcnZlclVybCIpO2lmKG51bGwhPWspZi5pPWs7ZWxzZSBpZihoKXRocm93IEVycm9yKCJGb3IgZW5jcnlwdGVkIHN0cmVhbWluZyBjb250ZW50LCAnbGljZW5zZVNlcnZlclVybCcgY2Fubm90IGJlIG51bGwgb3IgZW1wdHkuIik7aD1CKGcsIndpdGhDcmVkZW50aWFscyIpO251bGwhPWgmJihmLndpdGhDcmVkZW50aWFscz1oKTtoPVphKGcsImxpY2Vuc2VQb3N0UHJvY2Vzc29yIixGdW5jdGlvbik7Cm51bGwhPWgmJihmLmY9aCk7aD1aYShnLCJsaWNlbnNlUHJlUHJvY2Vzc29yIixGdW5jdGlvbik7bnVsbCE9aCYmKGYubz1oKTtoPUIoZywiZGlzdGluY3RpdmVJZGVudGlmaWVyUmVxdWlyZWQiKTtudWxsIT1oJiYoZi5oPWgpO2g9QihnLCJwZXJzaXN0ZW50U3RhdGVSZXF1aXJlZCIpO251bGwhPWgmJihmLmo9aCk7aD1ZYShnLCJhdWRpb1JvYnVzdG5lc3MiKTtudWxsIT1oJiYoZi5nPWgpO2g9WWEoZywidmlkZW9Sb2J1c3RuZXNzIik7bnVsbCE9aCYmKGYubT1oKTtoPVphKGcsInNlcnZlckNlcnRpZmljYXRlIixVaW50OEFycmF5KTtudWxsIT1oJiYoZi5jPWgpO2lmKGg9WmEoZywiaW5pdERhdGEiLE9iamVjdCkpe2c9WmEoaCwiaW5pdERhdGEiLFVpbnQ4QXJyYXkpO2lmKG51bGw9PWcpdGhyb3cgRXJyb3IoIidpbml0RGF0YS5pbml0RGF0YScgY2Fubm90IGJlIG51bGwuIik7aD1ZYShoLCJpbml0RGF0YVR5cGUiKTtpZihudWxsPT1oKXRocm93IEVycm9yKCInaW5pdERhdGEuaW5pdERhdGFUeXBlJyBjYW5ub3QgYmUgbnVsbC4iKTsKZi5iLnB1c2goe2luaXREYXRhOm5ldyBVaW50OEFycmF5KGcuYnVmZmVyKSxpbml0RGF0YVR5cGU6aH0pfX0wPT1mLmIubGVuZ3RoJiZiLmEmJmIuYS5wc3NoQm94JiZPYihmLFt7aW5pdERhdGE6Yi5hLnBzc2hCb3gsaW5pdERhdGFUeXBlOiJjZW5jIn1dKTtjLnB1c2goZil9cmV0dXJuIGN9CmZ1bmN0aW9uIEZlKGEsYixjLGQsZSxmKXtpZighZC5iYXNlVXJsfHwwPT09ZC5iYXNlVXJsLmxlbmd0aClyZXR1cm4gbnVsbDt2YXIgZz1udWxsLGg9MSxrPTA7aWYoZC5mKXtnPWQubWltZVR5cGUuc3BsaXQoIi8iKVsxXTtpZigibXA0IiE9ZyYmIndlYm0iIT1nKWc9bnVsbDtlbHNle3ZhciBsPWQuZjtpZigid2VibSIhPWd8fGwuYylpZihsLmF8fGwuYiYmbC5iLmEpe2g9bC5iO2h8fChoPW5ldyB3YyxoLnVybD1kLmJhc2VVcmwsaC5hPWwuYT9sLmEuY2xvbmUoKTpudWxsKTtrPUllKGEsaCxmKTtoPWwuYz9JZShhLGwuYyxmKTpudWxsO2wuZj8obD1sLmYsbD1uZXcgSyhmLGQuYmFzZVVybCxsLnFhLGwuZW5kLHZvaWQgMCxhLmEpKTpsPW51bGw7dmFyIG09bCxwPVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgiYWRkX2lubGluZV9pbml0aWFsaXphdGlvbl9yZXNvdXJjZXMiLCExKSYmZC5oJiZkLmguZGF0YT9kLmguZGF0YTpudWxsLGw9VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJhZGRfaW5saW5lX2luaXRpYWxpemF0aW9uX3Jlc291cmNlcyIsCiExKSYmZC5nJiZkLmcuZGF0YT9kLmcuZGF0YTpudWxsO2E9bmV3IHZlKGIsYyxnLGssaCxtLGUsZixhLmwscCxsKTtiPW5ldyBnZChoLGwpO2M9bmV3IEtkO2MuTT1hO2MuYWE9YjtnPWN9ZWxzZSBnPW51bGw7ZWxzZSBnPW51bGx9aD1kLmYucztrPWQuZi5MfWVsc2UgaWYoZC5iKWc9ZC5iLCFnLkgmJiFnLkMmJjE8Zy5hLmxlbmd0aD9nPW51bGw6Zy5IfHxjLmR1cmF0aW9ufHxnLkN8fDEhPWcuYS5sZW5ndGg/Zy5DJiYwPT09Zy5DLk4ubGVuZ3RoP2c9bnVsbDooZz1nLmI/SWUoYSxnLmIsZik6bnVsbCxhPW5ldyBGZChiLGMsZCxlLGYsYS5hKSxiPW5ldyBnZChnKSxjPW5ldyBLZCxjLk09YSxjLmFhPWIsZz1jKTpnPW51bGwsaD1kLmIucyxrPWQuYi5MO2Vsc2UgaWYoZC5hKXthOmlmKGc9ZC5hLGg9MCsoZy5hPzE6MCksaCs9Zy5DPzE6MCxoKz1nLkg/MTowLDA9PWg/aD0hMTooMSE9aCYmKGcuYT8oZy5DPW51bGwsZy5IPW51bGwpOmcuQyYmKGcuSD1udWxsKSksaD0hMCksaCl7aD0KbnVsbDtpZihnLmMmJihoPShnPWQuYS5jKT9KZShkLGcseGMpOm51bGwsIWgpKXtnPW51bGw7YnJlYWsgYX1nPWg/SWUoYSxoLGYpOm51bGw7aD1kLmE7aC5hPyhoPWQubWltZVR5cGUuc3BsaXQoIi8iKVsxXSwibXA0IiE9aCYmIndlYm0iIT1oP2E9bnVsbDoid2VibSIhPWh8fGc/bWQoZixkLDEsMCx2b2lkIDAsYS5hKT8oaz0oaz1kLmEuYSk/SmUoZCxrLHdjKTpudWxsKT8oaz1JZShhLGssZiksYT1uZXcgdmUoYixjLGgsayxnLG51bGwsZSxmLGEubCkpOmE9bnVsbDphPW51bGw6YT1udWxsKTphPWguZj9oLkM/bmV3IEpkKGEuYyxiLGMsZCxlLGYsMCxhLmEpOmguSD9iLm1hbmlmZXN0SXNMaXZlU3RyZWFtaW5nfHxudWxsIT1jLmR1cmF0aW9uP25ldyBFZChiLGMsZCxlLGYpOm51bGw6bnVsbDpudWxsO2E/KGI9bmV3IGdkKGcpLGM9bmV3IEtkLGMuTT1hLGMuYWE9YixnPWMpOmc9bnVsbH1lbHNlIGc9bnVsbDtoPWQuYS5zO2s9ZC5hLkx9ZWxzZSJ0ZXh0Ij09ZC5taW1lVHlwZS5zcGxpdCgiLyIpWzBdJiYKKGc9bmV3IEtkLGcuTT1uZXcgc2UobmV3IEsoZixkLmJhc2VVcmwpKSk7aWYoIWcpcmV0dXJuIG51bGw7Zy5pZD1kLmlkO2smJihnLmE9LTEqay9oKTtnLmJhbmR3aWR0aD1kLmJhbmR3aWR0aDtnLndpZHRoPWQud2lkdGg7Zy5oZWlnaHQ9ZC5oZWlnaHQ7Zy5taW1lVHlwZT1kLm1pbWVUeXBlfHwiIjtnLmNvZGVjcz1kLmNvZGVjc3x8IiI7Zy5nPWQub3x8bnVsbDtnLmg9ZC51fHxudWxsO2cuZmJRdWFsaXR5TGFiZWw9ZC5mYlF1YWxpdHlMYWJlbHx8bnVsbDtnLmZiUXVhbGl0eUNsYXNzPWQuZmJRdWFsaXR5Q2xhc3N8fG51bGw7Zy5mPWQubXx8bnVsbDtnLmZyYW1lUmF0ZT1kLmZyYW1lUmF0ZXx8IiI7Zy5jPWQuanx8bnVsbDtmb3IoYT0wO2E8ZC5jLmxlbmd0aDsrK2EpYj1kLmNbYV0sYi5iJiZnLmIucHVzaChiLmIpO3JldHVybiBnfQpmdW5jdGlvbiBKZShhLGIsYyl7Yj1uZChiLGEuaWQsbnVsbCxhLmJhbmR3aWR0aCxudWxsKTtpZighYilyZXR1cm4gbnVsbDtjPW5ldyBjO2MudXJsPVpjKGEuYmFzZVVybCxiKTtyZXR1cm4gY31mdW5jdGlvbiBJZShhLGIsYyl7dmFyIGQ9Yi51cmwsZT0wLGY9bnVsbDtiLmEmJihlPWIuYS5xYSxmPWIuYS5lbmQpO3JldHVybiBuZXcgSyhjLGQsZSxmLHZvaWQgMCxhLmEpfTtmdW5jdGlvbiBLZShhLGIsYyxkLGUsZixnKXt0aGlzLmI9bmV3IEsobnVsbCxbbmV3IEwoYSldKTt0aGlzLmw9ZTt0aGlzLmY9Yjt0aGlzLmM9MTt0aGlzLmc9YTt0aGlzLmE9bmV3IHRiO3RoaXMuYS5ib2R5PWI7dGhpcy5hLm1ldGhvZD1jO3RoaXMuYS5OYT0zO3RoaXMuYS53aXRoQ3JlZGVudGlhbHM9ZDt0aGlzLmEuYj0xRTMqKG51bGwhPWc/ZzpoYSk7YT1mfHx7fTtmb3IodmFyIGggaW4gYSl0aGlzLmEuUWFbaF09YVtoXX0KZnVuY3Rpb24gTGUoYSl7cmV0dXJuIGEuYi5mZXRjaChhLmEpLnRoZW4oZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYi51JiYwPHRoaXMuYz8odGhpcy5jLS0sbnVsbCE9PXRoaXMubCYmbnVsbCE9PXRoaXMuYi5pJiZ0aGlzLmwuc2V0UmVhc29uKCJSZWRpcmVjdGVkIHRvIFVSTDogIit0aGlzLmIuaS50b1N0cmluZygpKSx0aGlzLmI9bmV3IEsobnVsbCxbbmV3IEwodGhpcy5nKV0pLHRoaXMuYS5ib2R5PXRoaXMuZixMZSh0aGlzKSk6UHJvbWlzZS5yZXNvbHZlKG5ldyBVaW50OEFycmF5KGEpKX0uYmluZChhKSl9O2Z1bmN0aW9uIE1lKGEsYixjLGQpe0YuY2FsbCh0aGlzLGEpO3RoaXMuYz1iO3RoaXMuaj1jO3RoaXMuYT10aGlzLmg9bnVsbDt0aGlzLmk9bmV3IGJiO3RoaXMuYj1bXTt0aGlzLmY9W107dGhpcy5tPTA7dGhpcy5nPW5ldyBJO3RoaXMubz1udWxsO3RoaXMuQT1oYTt0aGlzLmw9ZH1yKE1lLEYpO01lLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5KYT1udWxsO2Zvcih2YXIgYT0wO2E8dGhpcy5mLmxlbmd0aDsrK2EpdGhpcy5mW2FdLmNsb3NlKCkuY2F0Y2goZnVuY3Rpb24oKXt9KTt0aGlzLmY9W107dGhpcy5iPXRoaXMuYT10aGlzLmg9bnVsbDt0aGlzLmcuZGVzdHJveSgpO3RoaXMuZz1udWxsO3RoaXMuaS5kZXN0cm95KCk7dGhpcy5pPW51bGw7dGhpcy5vJiYoY2xlYXJUaW1lb3V0KHRoaXMubyksdGhpcy5vPW51bGwpO3RoaXMuYz10aGlzLmo9bnVsbH07Ck1lLnByb3RvdHlwZS5pbml0aWFsaXplPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPW5ldyBELGI9TmUodGhpcy5qKSxjPTA7YzxiLmxlbmd0aDsrK2Mpe3ZhciBkPWJbY107ZC5hLmF8fGQuYiYmIU9lKGQuYil8fGEucHVzaChkLmNvbnRlbnRUeXBlLGQpfWZvcih2YXIgYz17fSxkPSExLGU9MDtlPGIubGVuZ3RoOysrZSl7dmFyIGY9YltlXTtpZihmLmEuYSYmIWEuYS5oYXNPd25Qcm9wZXJ0eShmLmNvbnRlbnRUeXBlKSl7dmFyIGc9Zi5hLmEsaD1jW2ddO2h8fChoPWYuYSxoPXthdWRpb0NhcGFiaWxpdGllczp2b2lkIDAsdmlkZW9DYXBhYmlsaXRpZXM6dm9pZCAwLGluaXREYXRhVHlwZXM6dm9pZCAwLGRpc3RpbmN0aXZlSWRlbnRpZmllcjpoLmg/InJlcXVpcmVkIjoib3B0aW9uYWwiLHBlcnNpc3RlbnRTdGF0ZTpoLmo/InJlcXVpcmVkIjoib3B0aW9uYWwiLHNlc3Npb25UeXBlczpbInRlbXBvcmFyeSJdfSxjW2ddPWgpO2lmKGYuYiYmKGc9Zi5jb250ZW50VHlwZSsiQ2FwYWJpbGl0aWVzIiwKZyBpbiBoKSl7ZD0hMDtoW2ddfHwoaFtnXT1bXSk7dmFyIGs7ImF1ZGlvIj09Zi5jb250ZW50VHlwZT9rPWYuYS5nOiJ2aWRlbyI9PWYuY29udGVudFR5cGUmJihrPWYuYS5tKTtoW2ddLnB1c2goe2NvbnRlbnRUeXBlOmYuYixyb2J1c3RuZXNzOmt9KX19fWlmKCFkKWlmKGIubGVuZ3RoKXRoaXMuYT1iWzBdLmE7ZWxzZSB0aHJvdyBhPUVycm9yKCJObyBEcm1JbmZvIGV4aXN0cyEiKSxhLnR5cGU9ImRybSIsYTtpZigwPT1PYmplY3Qua2V5cyhjKS5sZW5ndGgpcmV0dXJuIFBlKHRoaXMuaixhKSx0aGlzLmcucmVzb2x2ZSgpLFByb21pc2UucmVzb2x2ZSgpO2s9bmV3IEk7Yz1RZShjLGspO2M9Yy50aGVuKHRoaXMudy5iaW5kKHRoaXMsYixhKSk7ay5yZWplY3QobnVsbCk7dGhpcy5sJiZ0aGlzLmwuZ2V0RXZlbnRMb2dnZXIoImVtZV9pbml0IikubG9nKCk7cmV0dXJuIGN9OwpmdW5jdGlvbiBRZShhLGIpe2Zvcih2YXIgYyBpbiBhKWI9Yi5jYXRjaChmdW5jdGlvbihhLGIpe3JldHVybiBuYXZpZ2F0b3IucmVxdWVzdE1lZGlhS2V5U3lzdGVtQWNjZXNzKGEsW2JdKX0uYmluZChudWxsLGMsYVtjXSkpO3JldHVybiBifQpNZS5wcm90b3R5cGUudz1mdW5jdGlvbihhLGIsYyl7aWYoIXRoaXMuYylyZXR1cm4gUmUoKTtmb3IodmFyIGQ9Yy5rZXlTeXN0ZW0sZT1jLmdldENvbmZpZ3VyYXRpb24oKSxmPVsiYXVkaW8iLCJ2aWRlbyJdLGc9MDtnPGYubGVuZ3RoOysrZyl7dmFyIGg9ZltnXTtpZighYi5hLmhhc093blByb3BlcnR5KGgpKXt2YXIgaz1lW2grIkNhcGFiaWxpdGllcyJdO2lmKGspe2Zvcih2YXIgaz1rWzBdLGw9W10sbT17fSxwPTA7cDxhLmxlbmd0aDsrK3Ape3ZhciB0PWFbcF0sdz1rP3QuYj09ay5jb250ZW50VHlwZTp0LmNvbnRlbnRUeXBlPT1oO3QuYS5hIT1kfHwhd3x8dC5pZCBpbiBtfHwobC5wdXNoKHQpLG1bdC5pZF09ITAsdGhpcy5hPXRoaXMuYT9OYih0aGlzLmEsdC5hKTp0LmEpfWIuc2V0KGgsbCl9fX1QZSh0aGlzLmosYik7aWYodGhpcy5jLm1lZGlhS2V5cyl0aGlzLmg9dGhpcy5jLm1lZGlhS2V5cztlbHNlIHJldHVybiBjLmNyZWF0ZU1lZGlhS2V5cygpLnRoZW4oZnVuY3Rpb24oYSl7dGhpcy5oPQphfS5iaW5kKHRoaXMpKX07ZnVuY3Rpb24gU2UoYSl7cmV0dXJuIGEuYz9hLmg/YS5jLnNldE1lZGlhS2V5cyhhLmgpLnRoZW4oSihhLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYz90aGlzLmEuYz90aGlzLmguc2V0U2VydmVyQ2VydGlmaWNhdGUodGhpcy5hLmMpOlByb21pc2UucmVzb2x2ZSgpOlJlKCl9KSkudGhlbihKKGEsZnVuY3Rpb24oKXtpZighdGhpcy5jKXJldHVybiBSZSgpO2Zvcih2YXIgYT0wO2E8dGhpcy5hLmIubGVuZ3RoOysrYSl7dmFyIGM9dGhpcy5hLmJbYV07dGhpcy51KHt0eXBlOiJlbmNyeXB0ZWQiLGluaXREYXRhVHlwZTpjLmluaXREYXRhVHlwZSxpbml0RGF0YTpjLmluaXREYXRhfSl9MD09dGhpcy5hLmIubGVuZ3RoJiZFKHRoaXMuaSx0aGlzLmMsImVuY3J5cHRlZCIsdGhpcy51LmJpbmQodGhpcykpfSkpOlByb21pc2UucmVzb2x2ZSgpOlJlKCl9CmZ1bmN0aW9uIFJlKCl7dmFyIGE9RXJyb3IoIkVtZU1hbmFnZXIgZGVzdHJveWVkIik7YS50eXBlPSJkZXN0cm95IjtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYSl9Ck1lLnByb3RvdHlwZS51PWZ1bmN0aW9uKGEpe3ZhciBiPW5ldyBVaW50OEFycmF5KGEuaW5pdERhdGEpO3RoaXMubCYmdGhpcy5sLmdldEV2ZW50TG9nZ2VyKCJlbmNyeXB0ZWRfc2FtcGxlIikubG9nKCk7Zm9yKHZhciBjPTA7Yzx0aGlzLmIubGVuZ3RoOysrYylpZihNYShiLHRoaXMuYltjXS5kYXRhKSlyZXR1cm47dHJ5e3ZhciBkPVRlKHRoaXMpfWNhdGNoKGUpe2I9QShlKTt0aGlzLmRpc3BhdGNoRXZlbnQoYik7dGhpcy5sJiZ0aGlzLmwuZ2V0RXZlbnRMb2dnZXIoImVtZV9lcnJvciIpLnNldEVycm9yKGUpLmxvZygpO3RoaXMuZy5yZWplY3QoZSk7cmV0dXJufWE9ZC5nZW5lcmF0ZVJlcXVlc3QoYS5pbml0RGF0YVR5cGUsYS5pbml0RGF0YSk7dGhpcy5iLnB1c2goe2RhdGE6Yix1YjpkfSk7YS5jYXRjaChKKHRoaXMsZnVuY3Rpb24oYSl7aWYodGhpcy5jKXtmb3IodmFyIGI9MDtiPHRoaXMuYi5sZW5ndGg7KytiKWlmKHRoaXMuYltiXS51Yj09ZCl7dGhpcy5iLnNwbGljZShiLAoxKTticmVha31iPUEoYSk7dGhpcy5kaXNwYXRjaEV2ZW50KGIpO3RoaXMubCYmdGhpcy5sLmdldEV2ZW50TG9nZ2VyKCJlbWVfZXJyb3IiKS5zZXRFcnJvcihhKS5sb2coKTt0aGlzLmcucmVqZWN0KGEpfX0pKTt0aGlzLmYucHVzaChkKX07ZnVuY3Rpb24gVWUoYSl7Zm9yKHZhciBiPVtdLGM9MDtjPGIubGVuZ3RoOysrYyl7dmFyIGQ9VGUoYSksZT1kLmxvYWQoYltjXSk7YS5mLnB1c2goZCk7ZS50aGVuKEooYSxmdW5jdGlvbigpe3RoaXMubSsrO3RoaXMubT49dGhpcy5mLmxlbmd0aCYmdGhpcy5nLnJlc29sdmUoKX0pKS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7dmFyIGI9QShhKTt0aGlzLmRpc3BhdGNoRXZlbnQoYik7dGhpcy5sJiZ0aGlzLmwuZ2V0RXZlbnRMb2dnZXIoImVtZV9lcnJvciIpLnNldEVycm9yKGEpLmxvZygpfSkpfX0KZnVuY3Rpb24gVGUoYSl7dmFyIGI9bnVsbCxiPWEuaC5jcmVhdGVTZXNzaW9uKCk7RShhLmksYiwibWVzc2FnZSIsYS5ELmJpbmQoYSkpO0UoYS5pLGIsImtleXN0YXR1c2VzY2hhbmdlIixhLkIuYmluZChhKSk7cmV0dXJuIGJ9TWUucHJvdG90eXBlLkQ9ZnVuY3Rpb24oYSl7VmUodGhpcyxhLnRhcmdldCx0aGlzLmEsYS5tZXNzYWdlKX07Ck1lLnByb3RvdHlwZS5CPWZ1bmN0aW9uKGEpe2E9YS50YXJnZXQ7dmFyIGI9e307YS5rZXlTdGF0dXNlcy5mb3JFYWNoKGZ1bmN0aW9uKGEsYyl7aWYoInN0cmluZyI9PT10eXBlb2YgYSl7dmFyIGY9YTthPWM7Yz1mfWlmKCJjb20ubWljcm9zb2Z0LnBsYXlyZWFkeSI9PXRoaXMuYS5hJiYxNj09YS5ieXRlTGVuZ3RoKXt2YXIgZj1uZXcgRGF0YVZpZXcoYSksZz1mLmdldFVpbnQzMigwLCEwKSxoPWYuZ2V0VWludDE2KDQsITApLGs9Zi5nZXRVaW50MTYoNiwhMCk7Zi5zZXRVaW50MzIoMCxnLCExKTtmLnNldFVpbnQxNig0LGgsITEpO2Yuc2V0VWludDE2KDYsaywhMSl9Zj1MYihuZXcgVWludDhBcnJheShhKSk7YltmXT1jfS5iaW5kKHRoaXMpKTtpZihhLmV4cGlyYXRpb248RGF0ZS5ub3coKSl7Zm9yKHZhciBjPTA7Yzx0aGlzLmIubGVuZ3RoOysrYylpZih0aGlzLmJbY10udWI9PWEpe3RoaXMuYi5zcGxpY2UoYywxKTticmVha31hLmNsb3NlKCk7dGhpcy5mLnNwbGljZSh0aGlzLmYuaW5kZXhPZihhKSwKMSl9dGhpcy5sJiZ0aGlzLmwuZ2V0RXZlbnRMb2dnZXIoImVtZV9rZXlfc3RhdHVzX2NoYW5nZSIpLmxvZygpO1dlKHRoaXMuaixiKX07CmZ1bmN0aW9uIFZlKGEsYixjLGQpe2Q9WGUoYyxkKTt2YXIgZT1udWxsO2EubCYmKGU9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigibGljZW5zZV9yZXF1ZXN0Iikuc3RhcnQoKSk7TGUobmV3IEtlKGQudXJsLGQuYm9keSxkLm1ldGhvZCxjLndpdGhDcmVkZW50aWFscyxlLGQuaGVhZGVycyxhLkEpKS50aGVuKEooYSxmdW5jdGlvbihhKXtlJiYoZS5zZXRSZXN1bHQoInN1Y2Nlc3MiKSxlLmxvZygpKTtjLmYmJihhPWMuZihhKSk7ZT1udWxsO3RoaXMubCYmKGU9dGhpcy5sLmdldE9wZXJhdGlvbkxvZ2dlcigiZW1lX3Bvc3RfbGljZW5zZV9zZXNzaW9uX3VwZGF0ZSIpLnN0YXJ0KCkpO251bGw9PT1hfHx2b2lkIDA9PT1hfHwwPT09YS5ieXRlTGVuZ3RoP251bGwhPT1lJiYoZS5zZXRFcnJvcigiZW1wdHkgbGljZW5zZSIpLGUuc2V0UmVzdWx0KCJmYWlsZWQiKS5sb2coKSk6Yi51cGRhdGUoYSkudGhlbihKKHRoaXMsZnVuY3Rpb24oKXtlJiYoZS5zZXRSZXN1bHQoInN1Y2Nlc3MiKSxlLmxvZygpKTsKdmFyIGE9eSh7dHlwZToic2Vzc2lvblJlYWR5IixkZXRhaWw6Yn0pO3RoaXMuZGlzcGF0Y2hFdmVudChhKTt0aGlzLm0rKzt0aGlzLm0+PXRoaXMuZi5sZW5ndGgmJnRoaXMuZy5yZXNvbHZlKCl9KSkuY2F0Y2goSih0aGlzLGZ1bmN0aW9uKGEpe2EudWI9Yjt2YXIgYz1BKGEpO2UmJihlLnNldFJlc3VsdCgiZmFpbGVkIiksZS5zZXRFcnJvcihhKS5sb2coKSk7dGhpcy5kaXNwYXRjaEV2ZW50KGMpfSkpfSkpLmNhdGNoKEooYSxmdW5jdGlvbihhKXtpZihjLmYpe3ZhciBkPUpTT04uc3RyaW5naWZ5KHtkYXRhOlt7ZXJyb3I6YX1dfSksZD1uZXcgVWludDhBcnJheShkLnNwbGl0KCIiKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuY2hhckNvZGVBdCgwKX0pKTtjLmYoZCl9YS51Yj1iO2Q9QShhKTtlJiZlLnNldEVycm9yKGEpLmxvZygpO3RoaXMuZGlzcGF0Y2hFdmVudChkKX0pKX0KZnVuY3Rpb24gWGUoYSxiKXt2YXIgYz17dXJsOmEuaSxib2R5OmIuc2xpY2UoMCksbWV0aG9kOiJQT1NUIixoZWFkZXJzOnt9LGtleV9zeXN0ZW06YS5hfTtpZigiY29tLm1pY3Jvc29mdC5wbGF5cmVhZHkiPT09YS5hKXtmb3IodmFyIGQ9U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLG5ldyBVaW50MTZBcnJheShjLmJvZHkpKSxkPShuZXcgRE9NUGFyc2VyKS5wYXJzZUZyb21TdHJpbmcoZCwiYXBwbGljYXRpb24veG1sIiksZT1kLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJuYW1lIiksZj1kLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJ2YWx1ZSIpLGc9MDtnPGUubGVuZ3RoO2crKyljLmhlYWRlcnNbZVtnXS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZV09ZltnXS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZTtjLmJvZHk9d2luZG93LmF0b2IoZC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiQ2hhbGxlbmdlIilbMF0uY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUpfWlmKCFhLm8pcmV0dXJuIGM7CmEubyhjKTtjLnVybD1ZYShjLCJ1cmwiKTtpZihudWxsPT1jLnVybCl0aHJvdyBFcnJvcigiJ3VybCcgY2Fubm90IGJlIG51bGwuIik7aWYoIShjLmJvZHkgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcnx8InN0cmluZyI9PT10eXBlb2YgYy5ib2R5fHxudWxsPT1jLmJvZHkpKXRocm93IG5ldyBUeXBlRXJyb3IoIidib2R5JyBtdXN0IGJlIGFuIEFycmF5QnVmZmVyLCBhIHN0cmluZywgb3IgbnVsbC4iKTtjLm1ldGhvZD1ZYShjLCJtZXRob2QiKTtpZigiR0VUIiE9Yy5tZXRob2QmJiJQT1NUIiE9Yy5tZXRob2QpdGhyb3cgRXJyb3IoIidtZXRob2QnIG11c3QgYmUgZWl0aGVyICdHRVQnIG9yICdQT1NUJy4iKTtjLmhlYWRlcnM9WmEoYywiaGVhZGVycyIsT2JqZWN0KTtpZihudWxsPT1jLmhlYWRlcnMpdGhyb3cgRXJyb3IoIidoZWFkZXJzJyBjYW5ub3QgYmUgbnVsbC4iKTtyZXR1cm4gY307ZnVuY3Rpb24gVyhhLGIsYyxkLGUsZixnKXtGLmNhbGwodGhpcyxudWxsKTt0aGlzLmI9YTt0aGlzLmY9Yjt0aGlzLmE9bnVsbDt0aGlzLmc9bmV3IGJiO3RoaXMubT10aGlzLmk9bnVsbDt0aGlzLkY9MDt0aGlzLlM9dGhpcy5aPXRoaXMuJD1udWxsO3RoaXMuYmE9Zzt0aGlzLko9bnVsbDt0aGlzLk89dGhpcy5oPSExO3RoaXMuVj10aGlzLlk9ITA7dGhpcy5LPSExO3RoaXMuYz17ZW5hYmxlQWRhcHRhdGlvbjohMCxzdHJlYW1CdWZmZXJTaXplOjE1LGxpdmVTdHJlYW1FbmRUaW1lb3V0OjE1LGxpY2Vuc2VSZXF1ZXN0VGltZW91dDpoYSxtcGRSZXF1ZXN0VGltZW91dDppYSxzZWdtZW50UmVxdWVzdFRpbWVvdXQ6amEscHJlZmVycmVkTGFuZ3VhZ2U6ImVuIixyZXN0cmljdGlvbnM6bmV3IGthfTt0aGlzLmw9Yzt0aGlzLkc9ZDt0aGlzLmNhPWU7dGhpcy5nYT1mO3RoaXMubz1udWxsO3RoaXMuaj0xO3RoaXMuVD1udWxsO3RoaXMudT10aGlzLkE9dGhpcy53PSExO3RoaXMuUj10aGlzLkI9Cm51bGx9cihXLEYpO3EoInNoYWthLnBsYXllci5QbGF5ZXIiLFcpO1cudmVyc2lvbj0idjEuNi40LWZiIjtXLmlzQnJvd3NlclN1cHBvcnRlZD1mdW5jdGlvbigpe3JldHVybiEhd2luZG93Lk1lZGlhU291cmNlJiYhIXdpbmRvdy5VaW50OEFycmF5fTsKVy5wcm90b3R5cGUuQmE9ZnVuY3Rpb24oKXt2YXIgYT17fSxiPXRoaXMuYTtpZihiKXt2YXIgYz1iLlhiKCk7YS5CYW5kd2lkdGhFc3RpbWF0b3I9Yy5CYW5kd2lkdGhFc3RpbWF0b3I7dmFyIGQ9Yy5WaWRlb1NvdXJjZVN0cmVhbTtkJiYoYS5WaWRlb1NvdXJjZVN0cmVhbT1kLChkPWEuVmlkZW9CdWZmZXJNYW5hZ2VyPWQuQmEoKS5Tb3VyY2VCdWZmZXJNYW5hZ2VyKSYmKGEuVmlkZW9Tb3VyY2VCdWZmZXI9ZC5CYSgpLlNvdXJjZUJ1ZmZlcikpOyhkPWEuQXVkaW9Tb3VyY2VTdHJlYW09Yy5BdWRpb1NvdXJjZVN0cmVhbSkmJihkPWEuQXVkaW9CdWZmZXJNYW5hZ2VyPWQuQmEoKS5Tb3VyY2VCdWZmZXJNYW5hZ2VyKSYmKGEuQXVkaW9Tb3VyY2VCdWZmZXI9ZC5CYSgpLlNvdXJjZUJ1ZmZlcik7YS5UZXh0U291cmNlU3RyZWFtPWMuVGV4dFNvdXJjZVN0cmVhbTthLmdldE1hbmlmZXN0PWIuVGIuYmluZChiKX1lbHNlIGEuZ2V0TWFuaWZlc3Q9ZnVuY3Rpb24oKXt9O2EuTmQ9ITA7cmV0dXJuIGF9OwpXLnByb3RvdHlwZS5nZXREZWJ1Zz1XLnByb3RvdHlwZS5CYTtXLnByb3RvdHlwZS5zYT1mdW5jdGlvbihhKXt0aGlzLlk9YX07Vy5wcm90b3R5cGUuc2V0UmVzdW1lQWZ0ZXJCdWZmZXJpbmc9Vy5wcm90b3R5cGUuc2E7ZnVuY3Rpb24gT2UoYSl7cmV0dXJuInRleHQvdnR0Ij09YT8hIXdpbmRvdy5WVFRDdWU6TWVkaWFTb3VyY2UuaXNUeXBlU3VwcG9ydGVkKGEpfVcuaXNUeXBlU3VwcG9ydGVkPU9lO1cuc2V0VGV4dFN0eWxlPWZ1bmN0aW9uKGEpe3ZhciBiPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJTaGFrYVBsYXllclRleHRTdHlsZSIpO2J8fChiPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInN0eWxlIiksYi5pZD0iU2hha2FQbGF5ZXJUZXh0U3R5bGUiLGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoYikpO2ZvcihiPWIuc2hlZXQ7Yi5jc3NSdWxlcy5sZW5ndGg7KWIuZGVsZXRlUnVsZSgwKTtiLmluc2VydFJ1bGUoIjo6Y3VlIHsgIityYShhKSsiIH0iLDApfTsKVy5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3JldHVybiB0aGlzLlUoKS50aGVuKEoodGhpcyxmdW5jdGlvbigpe3RoaXMuZy5kZXN0cm95KCk7dGhpcy5iPXRoaXMuZz1udWxsO3RoaXMuUiYmdGhpcy5SLnJlbW92ZSgpfSkpLmNhdGNoKGZ1bmN0aW9uKCl7fSl9O1cucHJvdG90eXBlLmRlc3Ryb3k9Vy5wcm90b3R5cGUuZGVzdHJveTtXLnByb3RvdHlwZS5VPWZ1bmN0aW9uKCl7dGhpcy5LPSEwO3JldHVybiBaZSh0aGlzKX07Vy5wcm90b3R5cGUudW5sb2FkPVcucHJvdG90eXBlLlU7CmZ1bmN0aW9uIFplKGEpe3ZhciBiO2EubCYmKGI9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigidW5sb2FkIikuc3RhcnQoKSk7aWYoIWEuYSlyZXR1cm4gYiYmYi5sb2coKSxQcm9taXNlLnJlc29sdmUoKTthLmgmJiRlKGEsInVubG9hZGluZyIpO2EuYi5wYXVzZSgpO2RiKGEuZyk7YWYoYSk7YmYoYSk7YS5pJiYoYS5pLmRlc3Ryb3koKSxhLmk9bnVsbCk7YS5hJiYoYS5hLmRlc3Ryb3koKSxhLmE9bnVsbCk7YS5mLmdldEJvb2woInd3d192aWRlb3NfcGxheWJhY2tfcmVtb3ZlX3NyY19hdHRyX29uX3VubG9hZCIsITEpP2EuYi5yZW1vdmVBdHRyaWJ1dGUoInNyYyIpOmEuYi5zcmM9IiI7dmFyIGM9YS5mLmdldEJvb2woInd3d19zaGFrYV9jbGVhcl9tZWRpYV9rZXlzX29uX3VubG9hZCIsITEpJiZhLmIuc2V0TWVkaWFLZXlzJiYiZnVuY3Rpb24iPT09dHlwZW9mIGEuYi5zZXRNZWRpYUtleXM/YS5iLnNldE1lZGlhS2V5cyhudWxsKTpQcm9taXNlLnJlc29sdmUoKSxjPWMudGhlbihmdW5jdGlvbigpe2ImJgpiLmxvZygpO2lmKGEuZi5nZXRCb29sKCJlbmFibGVfcDJwX3N1cHBvcnQiLCExKSl7dmFyIGM9eSh7dHlwZToidW5sb2FkIn0pO2EuZGlzcGF0Y2hFdmVudChjKX19KTthLmg9ITE7YS5PPSExO2EuQT0hMTthLnU9ITE7cmV0dXJuIGN9ZnVuY3Rpb24gY2YoYSxiKXtmb3IodmFyIGM9MDtjPGEubGVuZ3RoO2MrKyliLnB1c2goYVtjXS5jb250ZW50VHlwZSxhW2NdKX1XLnByb3RvdHlwZS5GYT1mdW5jdGlvbihhKXtyZXR1cm4gZGYodGhpcyxhKX07Vy5wcm90b3R5cGUubG9hZD1XLnByb3RvdHlwZS5GYTsKZnVuY3Rpb24gZGYoYSxiKXt2YXIgYzthLmwmJihjPWEubC5nZXRPcGVyYXRpb25Mb2dnZXIoImxvYWQiKS5zZXRTdGF0ZSgibG9hZGluZyIpLnN0YXJ0KCksYi5sPWIuZy5wZXJmb3JtYW5jZUxvZ2dlcj1hLmwpO2EuRyYmKGIuQWI9Yi5nLmFickxvZ2dlcj1hLkcpO2EuYmEmJihiLmlhPWEuYmEpO2EuY2EmJihiLkk9YS5jYSk7YS5nYSYmYi5VLnB1c2goYS5nYSk7ZWYoYixhLmIpO3ZhciBkPW51bGw7YS5LPSExO0UoYS5nLGIsInJlcGxpY2Fzd2l0Y2giLGEubmEuYmluZChhKSk7YS5hJiYoZD1aZShhKS50aGVuKEooYSxmdW5jdGlvbigpe3JldHVybiBiLndiKCl9KSkpO2EuYi5hdXRvcGxheSYmKHUucWEoImxvYWQiKSxFKGEuZyxhLmIsInRpbWV1cGRhdGUiLGEuZWQuYmluZChhKSkpO2IubGMoYS5jKTtiLmxhPWEuVDthLlQ9bnVsbDtkfHwoZD1iLndiKCkpO2EuZi5nZXRCb29sKCJmaXhfc2hha2FfcGxheWVyX2xvYWRfcmFjZV9jb25kaXRpb24iLCExKSYmKGEuYT1iKTtkLmNhdGNoKEooYSwKZnVuY3Rpb24oYSl7Yi5kZXN0cm95KCk7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfSkpO3JldHVybiBkLnRoZW4oSihhLGZ1bmN0aW9uKCl7aWYoZmYodGhpcyxiKSlyZXR1cm4gZ2YoKTt0aGlzLmE9Yjt0aGlzLmcuYWIodGhpcy5hLCJyZXBsaWNhc3dpdGNoIik7RSh0aGlzLmcsdGhpcy5hLCJzZWVrcmFuZ2VjaGFuZ2VkIix0aGlzLnBhLmJpbmQodGhpcykpO0UodGhpcy5nLHRoaXMuYSwiYWxsU3RyZWFtc1N0YXJ0ZWQiLHRoaXMuRmQuYmluZCh0aGlzKSk7dmFyIGE9bmV3IEQ7Y2YoTmUodGhpcy5hKSxhKTtQZSh0aGlzLmEsYSk7YT10aGlzLmVhKCk7YyYmMDxhLmxlbmd0aCYmKGE9YS5yZWR1Y2UoZnVuY3Rpb24oYSxiKXtpZihudWxsPT09YXx8Yi5iYW5kd2lkdGg8YS5iYW5kd2lkdGgpYT1iO3JldHVybiBhfSxudWxsKSxjLnNldExvd2VzdFF1YWxpdHlSZXByZXNlbnRhdGlvbklEKGEuc3RyZWFtSW5mb0lEKSk7aWYoIXRoaXMuYy5lbmFibGVDb250ZW50UHJvdGVjdGlvbilyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7CnRoaXMuaT1uZXcgTWUodGhpcyx0aGlzLmIsdGhpcy5hLHRoaXMubCk7cmV0dXJuIHRoaXMuaS5pbml0aWFsaXplKCl9KSkudGhlbihKKGEsZnVuY3Rpb24oKXtpZihmZih0aGlzLGIpKXJldHVybiBnZigpO2hmKHRoaXMpO0UodGhpcy5nLHRoaXMuYiwicGxheWluZyIsdGhpcy5rZC5iaW5kKHRoaXMpKTtFKHRoaXMuZyx0aGlzLmIsInBhdXNlIix0aGlzLm1hLmJpbmQodGhpcykpO0UodGhpcy5nLHRoaXMuYiwid2FpdGluZyIsdGhpcy5zZC5iaW5kKHRoaXMpKTtFKHRoaXMuZyx0aGlzLmIsInBsYXkiLHRoaXMuaWEuYmluZCh0aGlzKSk7cmV0dXJuIGpmKHRoaXMuYSx0aGlzLHRoaXMuYil9KSkudGhlbihKKGEsZnVuY3Rpb24oKXtpZihmZih0aGlzLGIpKXJldHVybiBnZigpO2lmKHRoaXMuYy5lbmFibGVDb250ZW50UHJvdGVjdGlvbil7dmFyIGE7dGhpcy5sJiYoYT10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJlbWVfYXR0YWNoIikpO3JldHVybiBTZSh0aGlzLmkpLnRoZW4oZnVuY3Rpb24oKXthJiYKYS5sb2coKX0pfXJldHVybiBQcm9taXNlLnJlc29sdmUoKX0pKS50aGVuKEooYSxmdW5jdGlvbigpe2lmKGZmKHRoaXMsYikpcmV0dXJuIGdmKCk7a2YodGhpcyk7YyYmYy51cGRhdGVTdGF0ZSgicmVhZHkiKS5sb2coKX0pKS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7YyYmYy5zZXRFcnJvcihKU09OLnN0cmluZ2lmeShhKSkubG9nKCk7aWYoZmYodGhpcyxiKSlyZXR1cm4gZ2YoKTtpZigiZGVzdHJveSIhPWEudHlwZSl7dmFyIGQ9QShhKTt0aGlzLmRpc3BhdGNoRXZlbnQoZCl9cmV0dXJuIHRoaXMuVSgpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYSl9KX0pKX1mdW5jdGlvbiBmZihhLGIpe3JldHVybiFhLmJ8fGEuS3x8YS5mLmdldEJvb2woImZpeF9zaGFrYV9wbGF5ZXJfbG9hZF9yYWNlX2NvbmRpdGlvbiIsITEpJiZiIT09YS5hfW49Vy5wcm90b3R5cGU7Cm4uRmQ9ZnVuY3Rpb24oKXt2YXIgYSxiO3RoaXMuZi5nZXRCb29sKCJ3d3dfdmlkZW9zX2V4dGVuZGVkX3NwbF9sb2dnaW5nX2Zvcl9jb25uZWN0ZWRfdHYiLCExKSYmdGhpcy5sJiYoYT10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJvbl9hbGxfc3RyZWFtc19zdGFydGVkIiksYj10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJyZXN0b3JlX3ZpZGVvX3BsYXliYWNrX3JhdGUiKSk7dGhpcy5PPSEwO3RoaXMuaD90aGlzLkQoKToodGhpcy5iLnBsYXliYWNrUmF0ZT10aGlzLmosYiYmYi5sb2coKSk7YSYmYS5sb2coKX07ZnVuY3Rpb24gZ2YoKXt2YXIgYT1FcnJvcigiUGxheWVyIGRlc3Ryb3llZCIpO2EudHlwZT0iZGVzdHJveSI7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfQpmdW5jdGlvbiBoZihhKXt2YXIgYj1hLmIucGFyZW50Tm9kZTtiJiZhLmYuZ2V0Qm9vbCgicHJldmVudF9wbGF5aW5nX29uX2luc3VmZmljaWVudF9idWZmZXIiLCExKSYmKGEuUj1ldmVudExpc3RlbmVyQ2FwdHVyZShiLCJwbGF5aW5nIixmdW5jdGlvbihhKXthLnRhcmdldD09PXRoaXMuYiYmdGhpcy5EKGEpfS5iaW5kKGEpKSl9bi5lZD1mdW5jdGlvbigpe3UuZW5kKCJsb2FkIik7dGhpcy5nLmFiKHRoaXMuYiwidGltZXVwZGF0ZSIpfTtuLnNkPWZ1bmN0aW9uKGEpe2xmKHRoaXMpO3RoaXMuZi5nZXRCb29sKCJ1bmlmeV9zdHJlYW1fc3RhcnRfd2l0aF9idWZmZXJfZGV0ZWN0b3IiLCExKSYmIXRoaXMuaCYmdGhpcy5EKGEpfTsKbi5rZD1mdW5jdGlvbigpe3UucWEoInBsYXlpbmciKTt0aGlzLmwmJnRoaXMubC5nZXRFdmVudExvZ2dlcigicGxheWluZyIpLnNldFN0YXRlKCJwbGF5aW5nIikubG9nKCk7IXRoaXMubSYmMD50aGlzLmomJih0aGlzLmIucGxheWJhY2tSYXRlPTAsdGhpcy5QKHRoaXMuYi5jdXJyZW50VGltZSxEYXRlLm5vdygpLHRoaXMuaikpO3RoaXMuaCYmIXRoaXMuViYmJGUodGhpcywicGxheWluZyIpfTtuLkJkPWZ1bmN0aW9uKGEpe3RoaXMudT1hfTtXLnByb3RvdHlwZS5zZXRQZW5kaW5nUGxheVJlcXVlc3Q9Vy5wcm90b3R5cGUuQmQ7Vy5wcm90b3R5cGUuaWE9ZnVuY3Rpb24oKXt0aGlzLnU9ITB9O1cucHJvdG90eXBlLm1hPWZ1bmN0aW9uKCl7dGhpcy5sJiZ0aGlzLmwuZ2V0RXZlbnRMb2dnZXIoInBhdXNlIikuc2V0U3RhdGUoInBhdXNlZCIpLmxvZygpO3UuZW5kKCJwbGF5aW5nIik7dS5nZXQoInBsYXlpbmciKTtiZih0aGlzKX07ClcucHJvdG90eXBlLnBhPWZ1bmN0aW9uKGEpe3RoaXMuRj1hLnN0YXJ0O3RoaXMuJD1hLmxhc3Q7dGhpcy5aPWEuZW5kO3RoaXMuUz1hLnNlZWtSYW5nZUdhcHM7dGhpcy5mLmdldEJvb2woIm5vX3NraXBfZ2Fwc19vbl9zZWVrX3JhbmdlX2NoYW5nZWQiLCExKXx8bGYodGhpcyl9O1cucHJvdG90eXBlLmVhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYT90aGlzLmEuWigpOltdfTtXLnByb3RvdHlwZS5nZXRWaWRlb1RyYWNrcz1XLnByb3RvdHlwZS5lYTtXLnByb3RvdHlwZS54YT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmE/dGhpcy5hLnZhKCk6W119O1cucHJvdG90eXBlLmdldEF1ZGlvVHJhY2tzPVcucHJvdG90eXBlLnhhO1cucHJvdG90eXBlLkRhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYT90aGlzLmEubWMoKTpbXX07Vy5wcm90b3R5cGUuZ2V0VGV4dFRyYWNrcz1XLnByb3RvdHlwZS5EYTsKVy5wcm90b3R5cGUuc2VsZWN0VmlkZW9UcmFjaz1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmE/dGhpcy5hLnNlbGVjdFZpZGVvVHJhY2soYSx2b2lkIDA9PWI/ITA6Yik6ITF9O1cucHJvdG90eXBlLnNlbGVjdFZpZGVvVHJhY2s9Vy5wcm90b3R5cGUuc2VsZWN0VmlkZW9UcmFjaztXLnByb3RvdHlwZS5HYT1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIHRoaXMuYT9tZih0aGlzLmEsImF1ZGlvIixhLHZvaWQgMD09Yj8hMDpiLGMpOiExfTtXLnByb3RvdHlwZS5zZWxlY3RBdWRpb1RyYWNrPVcucHJvdG90eXBlLkdhO1cucHJvdG90eXBlLkhhPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmE/bWYodGhpcy5hLCJ0ZXh0IixhLCExKTohMX07Vy5wcm90b3R5cGUuc2VsZWN0VGV4dFRyYWNrPVcucHJvdG90eXBlLkhhO1cucHJvdG90eXBlLndhPWZ1bmN0aW9uKGEpe3RoaXMuYSYmbmYodGhpcy5hLGEpfTtXLnByb3RvdHlwZS5lbmFibGVUZXh0VHJhY2s9Vy5wcm90b3R5cGUud2E7ClcucHJvdG90eXBlLnJhPWZ1bmN0aW9uKGEpe2JmKHRoaXMpO3RoaXMudyYmdGhpcy5ofHwhKDA8PWEpP3RoaXMuYi5wYXVzZWR8fCh0aGlzLmIucGxheWJhY2tSYXRlPTAsdGhpcy5QKHRoaXMuYi5jdXJyZW50VGltZSxEYXRlLm5vdygpLGEpKTp0aGlzLmIucGxheWJhY2tSYXRlPWE7dGhpcy5qPWF9O1cucHJvdG90eXBlLnNldFBsYXliYWNrUmF0ZT1XLnByb3RvdHlwZS5yYTtXLnByb3RvdHlwZS5rYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmp9O1cucHJvdG90eXBlLmdldFBsYXliYWNrUmF0ZT1XLnByb3RvdHlwZS5rYTtXLnByb3RvdHlwZS5DYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmE/dGhpcy5hLk9iKCk6bnVsbH07Vy5wcm90b3R5cGUuZ2V0TWFuaWZlc3Q9Vy5wcm90b3R5cGUuQ2E7Vy5wcm90b3R5cGUuUGE9ZnVuY3Rpb24oYSl7dGhpcy5UPWF9O1cucHJvdG90eXBlLnNldFBsYXliYWNrU3RhcnRUaW1lPVcucHJvdG90eXBlLlBhOwpXLnByb3RvdHlwZS5JPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYT8hIXRoaXMuYS5QKCk6ITF9O1cucHJvdG90eXBlLmlzTGl2ZT1XLnByb3RvdHlwZS5JOwpXLnByb3RvdHlwZS52YT1mdW5jdGlvbihhKXtpZihhKXt2YXIgYj1CKGEsImVuYWJsZUFkYXB0YXRpb24iKTtudWxsIT1iJiYodGhpcy5jLmVuYWJsZUFkYXB0YXRpb249Yik7Yj1CKGEsImVuZEJ1ZmZlcmluZ09uUGxheWluZyIpO251bGwhPWImJih0aGlzLlY9Yik7Yj1CKGEsInVzZVBsYXliYWNrUmF0ZUZvckJ1ZmZlcmluZyIpO251bGwhPWImJih0aGlzLnc9Yik7Yj1DKGEsInN0cmVhbUJ1ZmZlclNpemUiLDApO251bGwhPWImJih0aGlzLmMuc3RyZWFtQnVmZmVyU2l6ZT1iKTtiPUMoYSwiZHluYW1pY1N0cmVhbUJ1ZmZlclNpemUiLDApO251bGwhPWImJih0aGlzLmMuZHluYW1pY1N0cmVhbUJ1ZmZlclNpemU9Yik7bnVsbCE9YS5zbWFydEJ1ZmZlckFkanVzdG1lbnRQYXJhbXMmJih0aGlzLmMuc21hcnRCdWZmZXJBZGp1c3RtZW50UGFyYW1zPWEuc21hcnRCdWZmZXJBZGp1c3RtZW50UGFyYW1zKTtiPUIoYSwiYWRkQ2RuRGVidWdRdWVyeVBhcmFtZXRlcnMiKTtudWxsIT1iJiYKKHRoaXMuYy5hZGRDZG5EZWJ1Z1F1ZXJ5UGFyYW1ldGVycz1iKTtiPUMoYSwiaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemUiLDApO251bGwhPWImJih0aGlzLmMuaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemU9Yik7Yj1CKGEsImluY2x1ZGVTdHJlYW1CdWZmZXJTaXplSW5TdGFydE9mZnNldCIpO251bGwhPWImJih0aGlzLmMuaW5jbHVkZVN0cmVhbUJ1ZmZlclNpemVJblN0YXJ0T2Zmc2V0PWIpO2I9QyhhLCJqdW1wVG9MaXZlVGhyZXNob2xkIik7bnVsbCE9YiYmKHRoaXMuYy5qdW1wVG9MaXZlVGhyZXNob2xkPWIpO2I9QyhhLCJsaXZlU3RyZWFtRW5kVGltZW91dCIsMCk7bnVsbCE9YiYmKHRoaXMuYy5saXZlU3RyZWFtRW5kVGltZW91dD1iKTtiPUMoYSwibGljZW5zZVJlcXVlc3RUaW1lb3V0IiwwKTtudWxsIT1iJiYodGhpcy5jLmxpY2Vuc2VSZXF1ZXN0VGltZW91dD1iKTtiPUMoYSwibXBkUmVxdWVzdFRpbWVvdXQiLDApO251bGwhPWImJih0aGlzLmMubXBkUmVxdWVzdFRpbWVvdXQ9CmIpO2I9QyhhLCJtaW5NcGRSZWZyZXNoSW50ZXJ2YWwiLDApO251bGwhPWImJih0aGlzLmMubWluTXBkUmVmcmVzaEludGVydmFsPWIpO2I9QihhLCJlbmFibGVMaXZlSW50ZXJydXB0aW9uRGV0ZWN0aW9uIik7bnVsbCE9YiYmKHRoaXMuYy5lbmFibGVMaXZlSW50ZXJydXB0aW9uRGV0ZWN0aW9uPWIpO2I9QihhLCJlbmFibGVNYW5pZmVzdERlYnVnIik7bnVsbCE9YiYmKHRoaXMuYy5lbmFibGVNYW5pZmVzdERlYnVnPWIsRi5wcm90b3R5cGUub2M9YixifHwoRi5wcm90b3R5cGUuTGE9ZnVuY3Rpb24oKXt9KSk7Yj1CKGEsInJlc29sdmVWaWRlb1RpbWVVcGRhdGVPbkZyYWdtZW50ZWRUaW1lUmFuZ2VzIik7bnVsbCE9YiYmKHRoaXMuYy5yZXNvbHZlVmlkZW9UaW1lVXBkYXRlT25GcmFnbWVudGVkVGltZVJhbmdlcz1iKTtiPUMoYSwibGl2ZUludGVycnVwdGlvbkNvbnNlY3V0aXZlVXBkYXRlc1dpdGhvdXRDaGFuZ2UiKTtudWxsIT1iJiYodGhpcy5jLmxpdmVJbnRlcnJ1cHRpb25Db25zZWN1dGl2ZVVwZGF0ZXNXaXRob3V0Q2hhbmdlPQpiKTtiPUMoYSwibGl2ZUludGVycnVwdGlvbkNvbnNlY3V0aXZlVXBkYXRlc1dpdGhDaGFuZ2UiKTtudWxsIT1iJiYodGhpcy5jLmxpdmVJbnRlcnJ1cHRpb25Db25zZWN1dGl2ZVVwZGF0ZXNXaXRoQ2hhbmdlPWIpO2I9QihhLCJyZWFwcGVuZEluaXRTZWdtZW50QWZ0ZXJBYm9ydCIpO251bGwhPWImJih0aGlzLmMucmVhcHBlbmRJbml0U2VnbWVudEFmdGVyQWJvcnQ9Yik7Yj1CKGEsImxpdmVTZW5kUHVzaEhlYWRlcnMiKTtudWxsIT1iJiYodGhpcy5jLmxpdmVTZW5kUHVzaEhlYWRlcnM9Yik7Yj1DKGEsImxpdmVNYXhNYW5pZmVzdEZldGNoZXNXaXRoUHVzaCIpO251bGwhPWImJih0aGlzLmMubGl2ZU1heE1hbmlmZXN0RmV0Y2hlc1dpdGhQdXNoPWIpO2I9QyhhLCJsaXZlTWF4U2VnbWVudHNUb1B1c2giKTtudWxsIT1iJiYodGhpcy5jLmxpdmVNYXhTZWdtZW50c1RvUHVzaD1iKTtiPUMoYSwic2VnbWVudFJlcXVlc3RUaW1lb3V0IiwwKTtudWxsIT1iJiYodGhpcy5jLnNlZ21lbnRSZXF1ZXN0VGltZW91dD0KYik7Yj1ZYShhLCJwcmVmZXJyZWRMYW5ndWFnZSIpO251bGwhPWImJih0aGlzLmMucHJlZmVycmVkTGFuZ3VhZ2U9Yik7Yj1aYShhLCJyZXN0cmljdGlvbnMiLGthKTtudWxsIT1iJiYodGhpcy5jLnJlc3RyaWN0aW9ucz1iLmNsb25lKCkpO2I9YS5saXZlSW5pdGlhbFB1c2hSZXByZXNlbnRhdGlvbjtudWxsIT1iJiYodGhpcy5jLmxpdmVJbml0aWFsUHVzaFJlcHJlc2VudGF0aW9uPWIpO2I9YS5saXZlQXVkaW9QdXNoUmVwcmVzZW50YXRpb247bnVsbCE9YiYmKHRoaXMuYy5saXZlQXVkaW9QdXNoUmVwcmVzZW50YXRpb249Yik7Yj1hLnVzZUlubGluZUluaXRTZWdtZW50O251bGwhPWImJih0aGlzLmMudXNlSW5saW5lSW5pdFNlZ21lbnQ9Yik7Yj1CKGEsImRpc2FibGVDYWNoZUJ1c3RpbmdFdmVuVGhvdWdoSXRNYXlBZmZlY3RCYW5kd2lkdGhFc3RpbWF0aW9uIik7bnVsbCE9YiYmKFRjPSFiKTtiPUIoYSwiY3VycmVudFRpbWVEdXJpbmdSZWFkeVN0YXRlWmVyb1Rocm93cyIpO251bGwhPQpiJiYodGhpcy5jLmN1cnJlbnRUaW1lRHVyaW5nUmVhZHlTdGF0ZVplcm9UaHJvd3M9Yik7Yj1DKGEsImxpdmVEYXRhRmV0Y2hNYXhSZXRyaWVzIik7bnVsbCE9YiYmKHRoaXMuYy5saXZlRGF0YUZldGNoTWF4UmV0cmllcz1iKTtiPUMoYSwibGl2ZVNvdXJjZUJ1ZmZlckNsZWFyTWF4UmV0cmllcyIpO251bGwhPWImJih0aGlzLmMubGl2ZVNvdXJjZUJ1ZmZlckNsZWFyTWF4UmV0cmllcz1iKTtiPUIoYSwidXNlTG9uZ0NhY2hlRm9yTWFuaWZlc3QiKTtudWxsIT1iJiYodGhpcy5jLnVzZUxvbmdDYWNoZUZvck1hbmlmZXN0PWIpO2I9QihhLCJqdW1wVG9FYXJsaWVzdFBvc2l0aW9uSW5DdXJyZW50QmxvY2siKTtudWxsIT1iJiYodGhpcy5jLmp1bXBUb0VhcmxpZXN0UG9zaXRpb25JbkN1cnJlbnRCbG9jaz1iKTtiPUIoYSwiaWdub3JlTWluQnVmZmVyVGltZSIpO251bGwhPWImJih0aGlzLmMuaWdub3JlTWluQnVmZmVyVGltZT1iKTtiPUMoYSwicGxheWhlYWRGcmFnbWVudGVkR2FwRGlmZkFsbG93YW5jZSIpOwpudWxsIT1iJiYodGhpcy5jLnBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2U9Yik7Yj1CKGEsImZpeEJ1ZmZlcmluZ0dvYWxEZXRlcm1pbmF0aW9uIik7bnVsbCE9YiYmKHRoaXMuYy5maXhCdWZmZXJpbmdHb2FsRGV0ZXJtaW5hdGlvbj1iKTtiPUIoYSwic2tpcEVtcHR5U2VnbWVudHMiKTtudWxsIT1iJiYodGhpcy5jLnNraXBFbXB0eVNlZ21lbnRzPWIpOyhiPUIoYSwidXNlTWljcm9UYXNrVGltZW91dHMiKSkmJih0aGlzLmMudXNlTWljcm9UYXNrVGltZW91dHM9Yik7KGI9QihhLCJlbmFibGVSZXF1ZXN0UGlwZWxpbmluZyIpKSYmKHRoaXMuYy5lbmFibGVSZXF1ZXN0UGlwZWxpbmluZz1iKTsoYj1CKGEsImVuYWJsZVN0cmVhbWluZyIpKSYmKHRoaXMuYy5lbmFibGVTdHJlYW1pbmc9Yik7KGE9QihhLCJlbmFibGVDb250ZW50UHJvdGVjdGlvbiIpKSYmKHRoaXMuYy5lbmFibGVDb250ZW50UHJvdGVjdGlvbj1hKTt0aGlzLmEmJnRoaXMuYS5sYyh0aGlzLmMpfX07ClcucHJvdG90eXBlLmNvbmZpZ3VyZT1XLnByb3RvdHlwZS52YTtXLnByb3RvdHlwZS5PYT1mdW5jdGlvbihhKXt0aGlzLmEmJnRoaXMuYS5xYyhhKX07Vy5wcm90b3R5cGUuc2V0RW5hYmxlTGl2ZWhlYWRDYXRjaHVwPVcucHJvdG90eXBlLk9hO1cucHJvdG90eXBlLkVhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYT90aGlzLmEubmE6ITF9O1cucHJvdG90eXBlLmlzTGl2ZWhlYWRDYXRjaHVwRW5hYmxlZD1XLnByb3RvdHlwZS5FYTsKZnVuY3Rpb24gbGYoYSl7aWYoYS5mLmdldEJvb2woInNraXBfbWFuaWZlc3RfZ2FwX2Jhc2VkX29uX3N0cmVhbV9saW1pdHMiLCExKSYmKCFhLkkoKXx8IWEuZi5nZXRCb29sKCJub19za2lwX21hbmlmZXN0X2dhcHNfaWZfbGl2ZSIsITEpKSl7dmFyIGI7YS5mLmdldEJvb2woInNraXBfbWFuaWZlc3RfZ2Fwc191c2VfY2FjaGVkX3N0cmVhbV9saW1pdHMiLCExKT9hLmEmJm51bGwhPT1hLlM/Yj17c3RhcnQ6YS5GLGVuZDphLlosbGFzdDphLiQsWmE6YS5TfTpiPWEuYT9hLmEubmIoKTpudWxsOmI9YS5hP2EuYS5uYigpOm51bGw7aWYoYilmb3IodmFyIGM9YS5mLmdldE51bWJlcigic2tpcF9tYW5pZmVzdF9nYXBfYm91bmRhcnlfcHJlY2lzaW9uX21zIiwxRTMpLzFFMyxkPWIuWmEsZT1hLmIucGxheWJhY2tSYXRlLGY9YS5iLmN1cnJlbnRUaW1lLGc9MDtnPGQubGVuZ3RoOysrZyl7dmFyIGg9ZFtnXS5zdGFydFRpbWUtYyxrPWRbZ10uZW5kVGltZStjO2Y8PWsmJmY+PWgmJihhLmYuZ2V0Qm9vbCgiZml4X3NlZWtfcmFuZ2VfZ2FwX2JvdW5kYXJ5IiwKITEpfHwoaD1kW2ddLnN0YXJ0VGltZSxrPWRbZ10uZW5kVGltZSksMDw9ZT9iLmVuZD5rJiYoYS5iLmN1cnJlbnRUaW1lPWspOmIuc3RhcnQ8aCYmKGEuYi5jdXJyZW50VGltZT1oKSl9fX1XLnByb3RvdHlwZS5sYT1mdW5jdGlvbigpe3ZhciBhPXRoaXMuYSYmdGhpcy5hLm5iKCk7cmV0dXJuKGE9YSYme3N0YXJ0OmEuc3RhcnQsZW5kOmEuZW5kLGxhc3Q6YS5sYXN0LHNlZWtSYW5nZUdhcHM6YS5aYX0pfHxudWxsfTtXLnByb3RvdHlwZS5nZXRWaWRlb1NvdXJjZVN0cmVhbUxpbWl0cz1XLnByb3RvdHlwZS5sYTtXLnByb3RvdHlwZS55YT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmN9O1cucHJvdG90eXBlLmdldENvbmZpZ3VyYXRpb249Vy5wcm90b3R5cGUueWE7ZnVuY3Rpb24gYmYoYSl7YS5tJiYoY2xlYXJUaW1lb3V0KGEubSksYS5tPW51bGwpfQpmdW5jdGlvbiBrZihhKXt2YXIgYjthLmYuZ2V0Qm9vbCgid3d3X3ZpZGVvc19leHRlbmRlZF9zcGxfbG9nZ2luZ19mb3JfY29ubmVjdGVkX3R2IiwhMSkmJmEubCYmKGI9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigic3RhcnRfd2F0Y2hkb2ciKSk7YWYoYSk7YS5KPXNldFRpbWVvdXQoYS5ELmJpbmQoYSksMTAwKTtiJiZiLmxvZygpfWZ1bmN0aW9uIGFmKGEpe3ZhciBiO2EuZi5nZXRCb29sKCJ3d3dfdmlkZW9zX2V4dGVuZGVkX3NwbF9sb2dnaW5nX2Zvcl9jb25uZWN0ZWRfdHYiLCExKSYmYS5sJiYoYj1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJjYW5jZWxfd2F0Y2hkb2ciKSk7YS5KJiYoY2xlYXJUaW1lb3V0KGEuSiksYS5KPW51bGwpO2ImJmIubG9nKCl9ClcucHJvdG90eXBlLlA9ZnVuY3Rpb24oYSxiLGMpe3RoaXMubT1udWxsO3ZhciBkPShEYXRlLm5vdygpLWIpLzFFMypjO3RoaXMuYi5jdXJyZW50VGltZTx0aGlzLkYrKHRoaXMuSSgpPzE6LjA1KT90aGlzLmIucGF1c2UoKTooZD1NYXRoLm1heCh0aGlzLkYsYStkKSx0aGlzLmIuY3VycmVudFRpbWU9ZCx0aGlzLm09c2V0VGltZW91dCh0aGlzLlAuYmluZCh0aGlzLGEsYixjKSwyNTApKX07ZnVuY3Rpb24gb2YoYSl7cmV0dXJuIGEuZi5nZXRCb29sKCJ1bmlmeV9zdHJlYW1fc3RhcnRfd2l0aF9idWZmZXJfZGV0ZWN0b3IiLCExKSYmIWEuT30KZnVuY3Rpb24gJGUoYSxiKXtpZighb2YoYSkpe3UuZW5kKCJidWZmZXJpbmciKTtudWxsIT09YS5CJiYoYS5CPW51bGwpO2EubyYmKGEuby5zZXRDb25jbHVkZXIoYikubG9nKCksYS5vPW51bGwpO2lmKGEuRyl7dmFyIGM9RGF0ZS5ub3coKTthLkcuc2V0RXZlbnQoImJ1ZmZlcmluZyIpLnNldENsaWVudFRpbWVCZWdpbihNYXRoLnJvdW5kKGMtdS5nZXQoImJ1ZmZlcmluZyIpKSkuc2V0Q2xpZW50VGltZUVuZChNYXRoLnJvdW5kKGMpKS5sb2coKX1hLncmJihhLmIucGxheWJhY2tSYXRlPWEuaik7YS5oPSExO2EuZGlzcGF0Y2hFdmVudCh5KHt0eXBlOiJidWZmZXJpbmdFbmQifSkpO2EuQSYmKGEuQT0hMSxkaXNwYXRjaERvbUV2ZW50KGEuYiwicGxheWluZyIpKTthLnU9ITF9fVcucHJvdG90eXBlLmphPWZ1bmN0aW9uKGEpe3RoaXMuZGlzcGF0Y2hFdmVudCh5KGEpKX07Vy5wcm90b3R5cGUuZGlzcGF0Y2hFdmVudEV4dGVybj1XLnByb3RvdHlwZS5qYTsKZnVuY3Rpb24gcGYoYSl7dmFyIGI9YS5iLmJ1ZmZlcmVkO2lmKDE9PT1iLmxlbmd0aCliPWIuZW5kKDApO2Vsc2UgaWYoMD09PWIubGVuZ3RoKWI9MDtlbHNle2Zvcih2YXIgYz0wLGQ9MDtkPGIubGVuZ3RoOysrZCliLmVuZChkKT49YS5iLmN1cnJlbnRUaW1lJiYoYz1iLnN0YXJ0KGQpPD1hLmIuY3VycmVudFRpbWU/YysoYi5lbmQoZCktYS5iLmN1cnJlbnRUaW1lKTpjKyhiLmVuZChkKS1iLnN0YXJ0KGQpKSk7cmV0dXJuIGN9cmV0dXJuIE1hdGgubWF4KGItYS5iLmN1cnJlbnRUaW1lLDApfQpXLnByb3RvdHlwZS5EPWZ1bmN0aW9uKGEpe2lmKCF0aGlzLmYuZ2V0Qm9vbCgicHJldmVudF9wbGF5aW5nX29uX2luc3VmZmljaWVudF9idWZmZXIiLCExKXx8IXRoaXMuSyl7a2YodGhpcyk7dmFyIGI9YT9hLnR5cGU6IiIsYz0id2FpdGluZyI9PT1iO2lmKCF0aGlzLmIuZW5kZWQmJiF0aGlzLmIuc2Vla2luZ3x8Yyl7dmFyIGQ7dGhpcy5mLmdldEJvb2woInd3d192aWRlb3NfZXh0ZW5kZWRfc3BsX2xvZ2dpbmdfZm9yX2Nvbm5lY3RlZF90diIsITEpJiZ0aGlzLmwmJihkPXRoaXMubC5nZXRPcGVyYXRpb25Mb2dnZXIoIndhdGNoZG9nIikpO3ZhciBlPXRoaXMuYi5idWZmZXJlZCxmPWUubGVuZ3RoP2UuZW5kKGUubGVuZ3RoLTEpOjAsZzt0aGlzLmYuZ2V0Qm9vbCgiZml4X3Vuc3RhbGxfYnVmZmVyX2NhbGN1bGF0aW9uIiwhMSk/Zz1wZih0aGlzKTpnPU1hdGgubWF4KGYtdGhpcy5iLmN1cnJlbnRUaW1lLDApO3ZhciBoPXRoaXMuYi5jdXJyZW50VGltZSxlPXRoaXMuSSgpP3RoaXMuZi5nZXROdW1iZXIoImxpdmVfYnVmZmVyaW5nX3VuZGVyZmxvd190aHJlc2hvbGQiLAouNSk6dGhpcy5mLmdldE51bWJlcigiYnVmZmVyaW5nX3VuZGVyZmxvd190aHJlc2hvbGQiLDApLGs9dGhpcy5iLmR1cmF0aW9uLGs9aXNOYU4oayk/MDpNYXRoLm1heChrLS4wNSwwKSxmPWY+PWt8fGg+PWssYj1ifHwid2F0Y2hkb2dfdGltZXIiO2lmKHRoaXMuaCl7cWYodGhpcyxhKTthPXJmKHRoaXMuYSk7dmFyIGw9MDxhP2cvYTowO2c+YXx8c2YodGhpcy5hKXx8dGhpcy5mLmdldEJvb2woImZpeF9idWZmZXJpbmdfYXRfdGhlX2VuZF9vZl9wbGF5YmFjayIsITApJiZmPygkZSh0aGlzLGIpLHRoaXMuWSYmIXRoaXMudyYmdGhpcy5iLnBsYXkoKSk6dGhpcy5CIT09bCYmKHRoaXMuQj1sLHRoaXMuZGlzcGF0Y2hFdmVudCh5KHt0eXBlOiJidWZmZXJpbmdQcm9ncmVzcyIscHJvZ3Jlc3M6bH0pKSl9ZWxzZSB0aGlzLmIucGF1c2VkJiYhY3x8ISghZiYmZzxlfHxvZih0aGlzKSl8fCh0aGlzLmg9ITAsdGhpcy53P3RoaXMuYi5wbGF5YmFja1JhdGU9MDp0aGlzLmIucGF1c2UoKSx0aGlzLmwmJgohdGhpcy5vJiYoZz10aGlzLmIuYnVmZmVyZWQsZz1nLmxlbmd0aD9nLmVuZChnLmxlbmd0aC0xKTowLHRoaXMuZi5nZXRCb29sKCJmaXhfdW5zdGFsbF9idWZmZXJfY2FsY3VsYXRpb24iLCExKT9sPXBmKHRoaXMpOmw9TWF0aC5tYXgoZy10aGlzLmIuY3VycmVudFRpbWUsMCksZz0xRTMqKHJmKHRoaXMuYSktbCksdGhpcy5vPXRoaXMubC5nZXRPcGVyYXRpb25Mb2dnZXIoImJ1ZmZlcmluZyIpLnNldExlbmd0aChNYXRoLnJvdW5kKGcpKS5zZXRUeXBlKHRoaXMudT8ic3RhcnQvdW5wYXVzZSI6ImluX3BsYXkiKS5zZXRJbml0aWF0b3IoYikuc3RhcnQoKSksdS5xYSgiYnVmZmVyaW5nIiksdGhpcy5kaXNwYXRjaEV2ZW50KHkoe3R5cGU6ImJ1ZmZlcmluZ1N0YXJ0In0pKSx0aGlzLmYuZ2V0Qm9vbCgibm9fc2tpcF9nYXBzX29uX2J1ZmZlcmluZyIsITEpfHxsZih0aGlzKSxxZih0aGlzLGEpKSxzZih0aGlzLmEpJiYkZSh0aGlzLGIpO2QmJmQubG9nKCl9ZWxzZSB0aGlzLmYuZ2V0Qm9vbCgiZml4X2ZmX2luX3BsYXlfc3RhbGxfdXBvbl9zZWVrIiwKITEpJiZxZih0aGlzLGEpfX07Vy5wcm90b3R5cGUubmE9ZnVuY3Rpb24oYSl7dGhpcy5kaXNwYXRjaEV2ZW50KGEpfTtmdW5jdGlvbiBxZihhLGIpe2ImJiJwbGF5aW5nIj09PWIudHlwZSYmKGEuQT0hMCxldmVudEtpbGwoYikpfVcucHJvdG90eXBlLnRhPWZ1bmN0aW9uKGEpe2lmKHRoaXMuYSl7dmFyIGI9dGhpcy5hO2IuYy52aWRlbyYmYi5jLnZpZGVvLkpjKGEpfX07Vy5wcm90b3R5cGUuc2V0VmlkZW9TdHJlYW1PZmZzZXQ9Vy5wcm90b3R5cGUudGE7ZnVuY3Rpb24gdGYoYSl7Zm9yKHZhciBiPTA7YjxhLmxlbmd0aDsrK2IpZm9yKHZhciBjPWFbYl0sZD0wO2Q8Yy5hLmxlbmd0aDsrK2Qpe2Zvcih2YXIgZT1jLmFbZF0sZj1lLGc9L3ZpZGVvXC93ZWJtOyBjb2RlY3M9ImF2MDEuKiIvLGg9ITEsaz0wO2s8Zi52Lmxlbmd0aDsrK2spe3ZhciBsPWYudltrXTtPZShOZChsKSk/Zy50ZXN0KE5kKGwpKSYmKGg9ITApOihmLnYuc3BsaWNlKGssMSksLS1rKX1pZihoKWZvcihrPTA7azxmLnYubGVuZ3RoOysraylsPWYudltrXSxnLnRlc3QoTmQobCkpfHwoZi52LnNwbGljZShrLDEpLC0tayk7MD09ZS52Lmxlbmd0aCYmKGMuYS5zcGxpY2UoZCwxKSwtLWQpfWZvcihiPTA7YjxhLmxlbmd0aDsrK2IpZm9yKGM9YVtiXSxkPTA7ZDxjLmEubGVuZ3RoOysrZCljLmFbZF0udi5zb3J0KHVmKX0KZnVuY3Rpb24gdWYoYSxiKXt2YXIgYz1hLmJhbmR3aWR0aHx8TnVtYmVyLk1BWF9WQUxVRSxkPWIuYmFuZHdpZHRofHxOdW1iZXIuTUFYX1ZBTFVFO3JldHVybiBjPGQ/LTE6Yz5kPzE6MH07ZnVuY3Rpb24gdmYoYSl7dGhpcy5hPWF9dmYucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmEuZGVzdHJveSgpO3RoaXMuYT1udWxsfTt2Zi5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKGEpe3ZhciBiPXdmKGEsbnVsbCksYz13Zih0aGlzLmEsYSk7cmV0dXJuIFByb21pc2UuYWxsKFtiLGNdKS50aGVuKEoodGhpcyxmdW5jdGlvbihiKXt2YXIgYz1iWzBdO2I9YlsxXTt0Zih0aGlzLmEuYSk7YS5iJiYhdGhpcy5hLmImJihhLmg9ITApO2EuYz10aGlzLmEuYzthLmk9dGhpcy5hLmk/dGhpcy5hLmkuY2xvbmUoKTpudWxsO2EuZz10aGlzLmEuZzt2YXIgZj1bXTt4ZihhLHRoaXMuYSxjLGIsZik7dGYoYS5hKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGYpfSkpfTsKZnVuY3Rpb24gd2YoYSxiKXtmdW5jdGlvbiBjKGEsYil7cmV0dXJuIGEuY29uY2F0KGIpfXZhciBkPWEuYS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuYX0pLnJlZHVjZShjLFtdKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEudn0pLnJlZHVjZShjLFtdKTtpZihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInRlbXBsYXRlZF9sYXN0X3hfdGltZWxpbmUiLCExKSYmYil2YXIgZT1iLmEubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLmF9KS5yZWR1Y2UoYyxbXSkubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLnZ9KS5yZWR1Y2UoYyxbXSkubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLk0uY3JlYXRlKCl9KSxlPVByb21pc2UuYWxsKGUpLnRoZW4oZnVuY3Rpb24oYSl7Zm9yKHZhciBiPU51bWJlci5QT1NJVElWRV9JTkZJTklUWSxjPTA7YzxhLmxlbmd0aDsrK2Mpe3ZhciBlPWFbY107ZS5sZW5ndGgoKSYmZS5sYXN0KCkudW5zY2FsZWRTdGFydFRpbWU8YiYmKGI9ZS5sYXN0KCkudW5zY2FsZWRTdGFydFRpbWUpfWI9CmEubGVuZ3RoP2I6bnVsbDthPWQubWFwKGZ1bmN0aW9uKGEpe2EuTS5FYyYmYS5NLkVjKGIpO3JldHVybiBhLk0uY3JlYXRlKCl9KTtyZXR1cm4gUHJvbWlzZS5hbGwoYSl9KTtlbHNlIGU9ZC5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuTS5jcmVhdGUoKX0pLGU9UHJvbWlzZS5hbGwoZSk7cmV0dXJuIGUudGhlbihmdW5jdGlvbihhKXtmb3IodmFyIGI9e30sYz0wO2M8ZC5sZW5ndGg7KytjKWJbZFtjXS5YXT1hW2NdO3JldHVybiBQcm9taXNlLnJlc29sdmUoYil9KX0KZnVuY3Rpb24geGYoYSxiLGMsZCxlKXt2YXIgZj1uZXcgRDthLmEuZm9yRWFjaChmdW5jdGlvbihhLGIpe2YucHVzaChhLmlkfHwiIitiLGEpfSk7dmFyIGc9bmV3IEQ7Yi5hLmZvckVhY2goZnVuY3Rpb24oYSxiKXtnLnB1c2goYS5pZHx8IiIrYixhKX0pO2E9YWIoZik7Zm9yKGI9MDtiPGEubGVuZ3RoOysrYil7dmFyIGg9YVtiXSxrPWYuZ2V0KGgpOzE8ay5sZW5ndGh8fChoPWcuZ2V0KGgpKSYmMCE9aC5sZW5ndGgmJjE9PWgubGVuZ3RoJiYoeWYoa1swXSxoWzBdLGMsZCxlKSxrWzBdLmR1cmF0aW9uPWhbMF0uZHVyYXRpb24pfX0KZnVuY3Rpb24geWYoYSxiLGMsZCxlKXt2YXIgZj1uZXcgRDthLmEuZm9yRWFjaChmdW5jdGlvbihhLGIpe2YucHVzaChhLmlkfHwiIitiLGEpfSk7dmFyIGc9bmV3IEQ7Yi5hLmZvckVhY2goZnVuY3Rpb24oYSxiKXtnLnB1c2goYS5pZHx8IiIrYixhKX0pO2E9YWIoZik7Zm9yKGI9MDtiPGEubGVuZ3RoOysrYil7dmFyIGg9YVtiXSxrPWYuZ2V0KGgpOzE8ay5sZW5ndGh8fChoPWcuZ2V0KGgpKSYmMCE9aC5sZW5ndGgmJjE9PWgubGVuZ3RoJiZ6ZihrWzBdLGhbMF0sYyxkLGUpfX0KZnVuY3Rpb24gemYoYSxiLGMsZCxlKXt2YXIgZj1uZXcgRDthLnYuZm9yRWFjaChmdW5jdGlvbihhLGIpe2YucHVzaChhLmlkfHwiIitiLGEpfSk7dmFyIGc9bmV3IEQ7Yi52LmZvckVhY2goZnVuY3Rpb24oYSxiKXtnLnB1c2goYS5pZHx8IiIrYixhKX0pO2I9e307Zm9yKHZhciBoPWFiKGYpLGs9MDtrPGgubGVuZ3RoOysrayl7dmFyIGw9aFtrXTtiW2xdPWw7dmFyIG09Zi5nZXQobCk7MTxtLmxlbmd0aHx8KChsPWcuZ2V0KGwpKSYmMCE9bC5sZW5ndGg/MT09bC5sZW5ndGgmJihCZihtWzBdLGxbMF0sYyxkKSxtWzBdLmFhPWxbMF0uYWEsbFswXS5hYT1udWxsLG1bMF0uYT1sWzBdLmEsVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJyZWZyZXNoX2JhbmR3aWR0aF9mcm9tX2xpdmVfbWFuaWZlc3QiLCExKSYmKG1bMF0uYmFuZHdpZHRoPWxbMF0uYmFuZHdpZHRoKSk6KGUucHVzaChtWzBdKSxhLnYuc3BsaWNlKGEudi5pbmRleE9mKG1bMF0pLDEpKSl9aD1hYihnKTsKZm9yKGs9MDtrPGgubGVuZ3RoOysraylsPWhba10sYltsXXx8KGJbbF09bCxsPWcuZ2V0KGwpLGEudi5wdXNoKGxbMF0pKX1mdW5jdGlvbiBCZihhLGIsYyxkKXthPWNbYS5YXTtjPWRbYi5YXTtkPShiPWEubGVuZ3RoKCkpP2EubGFzdCgpLmVuZFRpbWU6MDtpZihhLkIoYykpe2M9YS5sZW5ndGgoKTt2YXIgZT0hMTtWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInJvYnVzdF9jb3VudF9jaGFuZ2VzIiwhMSkmJihlPSEhYyYmYS5sYXN0KCkuZW5kVGltZT5kKTthLmcucHVzaChiIT09Y3x8ZSk7NTA8YS5nLmxlbmd0aCYmYS5nLnNoaWZ0KCl9fTtmdW5jdGlvbiBYKCl7dGhpcy5hPXRoaXMuYj1udWxsO3RoaXMuZj1uZXcgYmI7dGhpcy5jPU51bWJlci5QT1NJVElWRV9JTkZJTklUWTt0aGlzLmk9ITA7dGhpcy5nPSExfXEoInNoYWthLm1lZGlhLlNpbXBsZUFick1hbmFnZXIiLFgpO1gucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmYuZGVzdHJveSgpO3RoaXMuYT10aGlzLmI9dGhpcy5mPW51bGx9O1gucHJvdG90eXBlLmluaXRpYWxpemU9ZnVuY3Rpb24oYSxiKXt0aGlzLmJ8fHRoaXMuYXx8KHRoaXMuYj1hLHRoaXMuYT1iKX07ClgucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKCl7dGhpcy5iJiZ0aGlzLmEmJiF0aGlzLmcmJih0aGlzLmM9RGF0ZS5ub3coKSs0RTMsRSh0aGlzLmYsdGhpcy5iLmdldEVzdGltYXRvcigpLCJiYW5kd2lkdGgiLHRoaXMubS5iaW5kKHRoaXMpKSxFKHRoaXMuZix0aGlzLmEsImFkYXB0YXRpb24iLHRoaXMuai5iaW5kKHRoaXMpKSxFKHRoaXMuZix0aGlzLmEsInRyYWNrc2NoYW5nZWQiLHRoaXMuaC5iaW5kKHRoaXMpKSx0aGlzLmc9ITApfTtYLnByb3RvdHlwZS5lbmFibGU9ZnVuY3Rpb24oYSl7dGhpcy5pPWF9O1gucHJvdG90eXBlLmdldEluaXRpYWxWaWRlb1RyYWNrSWQ9ZnVuY3Rpb24oKXtpZighdGhpcy5ifHwhdGhpcy5hKXJldHVybiBudWxsO3ZhciBhPUNmKHRoaXMpO3JldHVybiBhP2EuaWQ6bnVsbH07WC5wcm90b3R5cGUuZ2V0SW5pdGlhbFN3aXRjaFJlYXNvbj1mdW5jdGlvbigpe3JldHVybiBudWxsfTtYLnByb3RvdHlwZS5nZXRJbml0aWFsQXVkaW9UcmFja0lkPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9OwpYLnByb3RvdHlwZS5zZWxlY3RWaWRlb1RyYWNrPWZ1bmN0aW9uKGEsYixjKXt0aGlzLmcmJnRoaXMuYS5zZWxlY3RWaWRlb1RyYWNrKGEuaWQsYixjKX07WC5wcm90b3R5cGUubT1mdW5jdGlvbigpe0RhdGUubm93KCk8dGhpcy5jfHx0aGlzLmgoKX07WC5wcm90b3R5cGUuaD1mdW5jdGlvbigpe2lmKHRoaXMuaSl7dmFyIGE9Q2YodGhpcyk7aWYoYSl7aWYoYS5hY3RpdmUpe3RoaXMuYz1EYXRlLm5vdygpKzNFMztyZXR1cm59dGhpcy5zZWxlY3RWaWRlb1RyYWNrKGEsITEpfXRoaXMuYz1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFl9fTtYLnByb3RvdHlwZS5qPWZ1bmN0aW9uKCl7dGhpcy5jPT1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkmJih0aGlzLmM9RGF0ZS5ub3coKSszRTQpfTsKZnVuY3Rpb24gQ2YoYSl7dmFyIGI9YS5hLlooKTtpZigwPT1iLmxlbmd0aClyZXR1cm4gbnVsbDtiLnNvcnQodmEpO3ZhciBjO2E6e2M9YS5hLnZhKCk7Zm9yKHZhciBkPTA7ZDxjLmxlbmd0aDsrK2QpaWYoY1tkXS5hY3RpdmUpe2M9Y1tkXTticmVhayBhfWM9bnVsbH1jPWM/Yy5iYW5kd2lkdGg6MDthPWEuYi5nZXRCYW5kd2lkdGgoKTtmb3IodmFyIGQ9YlswXSxlPTA7ZTxiLmxlbmd0aDsrK2Upe3ZhciBmPWJbZV0sZz1lKzE8Yi5sZW5ndGg/YltlKzFdOntiYW5kd2lkdGg6TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZfTtpZihmLmJhbmR3aWR0aCYmKGc9KGcuYmFuZHdpZHRoK2MpLy44NSxhPj0oZi5iYW5kd2lkdGgrYykvLjk1JiZhPD1nJiYoZD1mLGQuYWN0aXZlKSkpYnJlYWt9cmV0dXJuIGR9O2Z1bmN0aW9uIFkoYSxiLGMsZCl7Ri5jYWxsKHRoaXMsbnVsbCk7dGhpcy5iPWE7dGhpcy5hPWI7dGhpcy53YT1jO3RoaXMua2I9bmV3IFZpZGVvUGxheWVyTG9jYWxCYW5kd2lkdGhFc3RpbWF0b3IodGhpcyxjLGIpO3RoaXMuaD1uZXcgYmI7dGhpcy5pPW5ldyBNZWRpYVNvdXJjZTt0aGlzLmJhPXRoaXMudmlkZW89bnVsbDt0aGlzLkJiPTA7dGhpcy5uYz10aGlzLlpiPSExO3RoaXMuTGI9aWE7dGhpcy5BYj10aGlzLlY9dGhpcy5pYT10aGlzLmw9bnVsbDt0aGlzLktiPTM7dGhpcy5yYT10aGlzLiRiPXRoaXMuRmE9dGhpcy5FYT0hMTt0aGlzLlBhPTA7dGhpcy5kYT1uZXcgVmlkZW9QdXNoVHJhY2tlcjt0aGlzLmdhPW51bGw7dGhpcy5pYz0xO3RoaXMuZ2M9SW5maW5pdHk7dGhpcy5VYj10aGlzLlNiPSExO3RoaXMucGE9dGhpcy5PYT1udWxsO3RoaXMuV2I9dGhpcy5WYj10aGlzLkdhPXRoaXMuY2M9dGhpcy5tYT0hMTt0aGlzLmY9bmV3IEQ7dGhpcy5BPWQ7dGhpcy5BLmluaXRpYWxpemUodGhpcy5rYiwKdGhpcyk7dGhpcy5PPSExO3RoaXMuUz0iZW4iO3RoaXMueWE9ITE7dGhpcy5KPW5ldyBJO3RoaXMuSWI9bmV3IEk7dGhpcy5tPW5ldyBrYTt0aGlzLkQ9bnVsbDt0aGlzLmtjPTE7dGhpcy5jPXt9O3RoaXMuc2E9bmV3IEk7dGhpcy5qYT0wO3RoaXMuZ2I9MTVFMzt0aGlzLmo9bnVsbDt0aGlzLmVjPSExO3RoaXMuZGM9MDt0aGlzLkNhPSExO3RoaXMuQj17fTt0aGlzLmxhPXRoaXMua2E9dGhpcy51PW51bGw7dGhpcy5nPXt9O3RoaXMuJD0hMTt0aGlzLmZjPTA7dGhpcy5LPXRoaXMuYS5nZXROdW1iZXIoImJ1ZmZlcmluZ19vdmVyZmxvd190aHJlc2hvbGQiLDApO3RoaXMucGM9bnVsbDt0aGlzLm89e307dGhpcy53PXt9O3RoaXMuUj1udWxsO3RoaXMuVT1bXTt0aGlzLlQ9dGhpcy5JPW51bGw7dGhpcy5HPW5ldyBOZXR3b3JrU3RhdHVzRGV0ZWN0b3I7dGhpcy5oYz0hMTt0aGlzLm5hPSEwO3RoaXMuZWE9ITE7dGhpcy51Yz1uZXcgU3Vic2NyaXB0aW9uc0hhbmRsZXI7dGhpcy5ZYj0hMTsKdGhpcy54YT0xO3RoaXMuSWQ9dGhpcy5hLmdldE51bWJlcigic3RyZWFtX21heGltdW1fb25wYXVzZV9idWZmZXJfc2l6ZV9tdWx0aXBsaWVyIiwwKTt0aGlzLmNhPW51bGw7dGhpcy5hLmdldEJvb2woImFsbG93X2luZmluaXRlX3JldHJ5X29uX25ldF9lcnIiLCEwKSYmdGhpcy51Yy5hZGRTdWJzY3JpcHRpb25zKHRoaXMuRy5hZGRMaXN0ZW5lcigibmV0d29ya0ludGVycnVwdGVkIix0aGlzLlRjLHRoaXMpLHRoaXMuRy5hZGRMaXN0ZW5lcigibmV0d29ya1Jlc3VtZWQiLHRoaXMuVWMsdGhpcyksdGhpcy5HLmFkZExpc3RlbmVyKCJzeXN0ZW1XYWtlIix0aGlzLlZjLHRoaXMpKX1yKFksRik7cSgic2hha2EucGxheWVyLlN0cmVhbVZpZGVvU291cmNlIixZKTtZLnByb3RvdHlwZS5YYj1mdW5jdGlvbigpe3JldHVybntWaWRlb1NvdXJjZVN0cmVhbTp0aGlzLmMudmlkZW8sQXVkaW9Tb3VyY2VTdHJlYW06dGhpcy5jLmF1ZGlvLFRleHRTb3VyY2VTdHJlYW06dGhpcy5jLnRleHQsQmFuZHdpZHRoRXN0aW1hdG9yOnRoaXMud2F9fTsKWS5wcm90b3R5cGUuZ2V0U3RyZWFtRGVidWc9WS5wcm90b3R5cGUuWGI7WS5wcm90b3R5cGUuUGM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iP3RoaXMuYi53OiJub25lIn07WS5wcm90b3R5cGUuZ2V0TXBkQXVkaW9Db25maWc9WS5wcm90b3R5cGUuUGM7ClkucHJvdG90eXBlLmxjPWZ1bmN0aW9uKGEpe251bGwhPWEuc3RyZWFtQnVmZmVyU2l6ZSYmKHRoaXMuZy5zdHJlYW1CdWZmZXJTaXplPWEuc3RyZWFtQnVmZmVyU2l6ZSk7bnVsbCE9YS5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZSYmKHRoaXMuZy5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZT1hLmluaXRpYWxTdHJlYW1CdWZmZXJTaXplKTtudWxsIT1hLmR5bmFtaWNTdHJlYW1CdWZmZXJTaXplJiYodGhpcy5nLmR5bmFtaWNTdHJlYW1CdWZmZXJTaXplPWEuZHluYW1pY1N0cmVhbUJ1ZmZlclNpemUpO251bGwhPWEuc21hcnRCdWZmZXJBZGp1c3RtZW50UGFyYW1zJiYodGhpcy5nLnNtYXJ0QnVmZmVyQWRqdXN0bWVudFBhcmFtcz1hLnNtYXJ0QnVmZmVyQWRqdXN0bWVudFBhcmFtcyk7bnVsbCE9YS5hZGRDZG5EZWJ1Z1F1ZXJ5UGFyYW1ldGVycyYmKHRoaXMuZy5hZGRDZG5EZWJ1Z1F1ZXJ5UGFyYW1ldGVycz1hLmFkZENkbkRlYnVnUXVlcnlQYXJhbWV0ZXJzKTtudWxsIT1hLnNlZ21lbnRSZXF1ZXN0VGltZW91dCYmCih0aGlzLmcuc2VnbWVudFJlcXVlc3RUaW1lb3V0PWEuc2VnbWVudFJlcXVlc3RUaW1lb3V0KTtudWxsIT1hLnJlc29sdmVWaWRlb1RpbWVVcGRhdGVPbkZyYWdtZW50ZWRUaW1lUmFuZ2VzJiYodGhpcy5nLnJlc29sdmVWaWRlb1RpbWVVcGRhdGVPbkZyYWdtZW50ZWRUaW1lUmFuZ2VzPWEucmVzb2x2ZVZpZGVvVGltZVVwZGF0ZU9uRnJhZ21lbnRlZFRpbWVSYW5nZXMpO251bGwhPWEucmVhcHBlbmRJbml0U2VnbWVudEFmdGVyQWJvcnQmJih0aGlzLmcucmVhcHBlbmRJbml0U2VnbWVudEFmdGVyQWJvcnQ9YS5yZWFwcGVuZEluaXRTZWdtZW50QWZ0ZXJBYm9ydCk7bnVsbCE9YS5saXZlRGF0YUZldGNoTWF4UmV0cmllcyYmKHRoaXMuZy5saXZlRGF0YUZldGNoTWF4UmV0cmllcz1hLmxpdmVEYXRhRmV0Y2hNYXhSZXRyaWVzKTtudWxsIT1hLmxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXMmJih0aGlzLmcubGl2ZVNvdXJjZUJ1ZmZlckNsZWFyTWF4UmV0cmllcz1hLmxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXMpOwpudWxsIT1hLnBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2UmJih0aGlzLmcucGxheWhlYWRGcmFnbWVudGVkR2FwRGlmZkFsbG93YW5jZT1hLnBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2UpO251bGwhPWEuZml4QnVmZmVyaW5nR29hbERldGVybWluYXRpb24mJih0aGlzLmcuZml4QnVmZmVyaW5nR29hbERldGVybWluYXRpb249YS5maXhCdWZmZXJpbmdHb2FsRGV0ZXJtaW5hdGlvbik7bnVsbCE9YS5za2lwRW1wdHlTZWdtZW50cyYmKHRoaXMuZy5za2lwRW1wdHlTZWdtZW50cz1hLnNraXBFbXB0eVNlZ21lbnRzKTtudWxsIT1hLnVzZU1pY3JvVGFza1RpbWVvdXRzJiYodGhpcy5nLnVzZU1pY3JvVGFza1RpbWVvdXRzPWEudXNlTWljcm9UYXNrVGltZW91dHMpO0RmKHRoaXMpO251bGwhPWEuaW5jbHVkZVN0cmVhbUJ1ZmZlclNpemVJblN0YXJ0T2Zmc2V0JiYodGhpcy5aYj1Cb29sZWFuKGEuaW5jbHVkZVN0cmVhbUJ1ZmZlclNpemVJblN0YXJ0T2Zmc2V0KSk7Cm51bGwhPWEubGl2ZUF1ZGlvUHVzaFJlcHJlc2VudGF0aW9uJiYodGhpcy5wYT1TdHJpbmcoYS5saXZlQXVkaW9QdXNoUmVwcmVzZW50YXRpb24pKTtudWxsIT1hLmxpdmVJbml0aWFsUHVzaFJlcHJlc2VudGF0aW9uJiYodGhpcy5PYT1TdHJpbmcoYS5saXZlSW5pdGlhbFB1c2hSZXByZXNlbnRhdGlvbikpO251bGwhPWEuZW5hYmxlQWRhcHRhdGlvbiYmdGhpcy5BLmVuYWJsZShCb29sZWFuKGEuZW5hYmxlQWRhcHRhdGlvbikpO251bGwhPWEubXBkUmVxdWVzdFRpbWVvdXQmJih0aGlzLkxiPU51bWJlcihhLm1wZFJlcXVlc3RUaW1lb3V0KSk7bnVsbCE9YS5taW5NcGRSZWZyZXNoSW50ZXJ2YWwmJih0aGlzLktiPU51bWJlcihhLm1pbk1wZFJlZnJlc2hJbnRlcnZhbCkvMUUzKTtudWxsIT1hLmVuYWJsZU1hbmlmZXN0RGVidWcmJih0aGlzLlViPSEhYS5lbmFibGVNYW5pZmVzdERlYnVnKTtudWxsIT1hLmxpdmVTdHJlYW1FbmRUaW1lb3V0JiYodGhpcy5nYj1OdW1iZXIoYS5saXZlU3RyZWFtRW5kVGltZW91dCkpOwpudWxsIT1hLnByZWZlcnJlZExhbmd1YWdlJiYodGhpcy5TPVNhKFN0cmluZyhhLnByZWZlcnJlZExhbmd1YWdlKSkpO251bGwhPWEubGl2ZVNlbmRQdXNoSGVhZGVycyYmKHRoaXMucmE9Qm9vbGVhbihhLmxpdmVTZW5kUHVzaEhlYWRlcnMpKTtudWxsIT1hLmxpdmVNYXhNYW5pZmVzdEZldGNoZXNXaXRoUHVzaCYmKHRoaXMuUGE9TnVtYmVyKGEubGl2ZU1heE1hbmlmZXN0RmV0Y2hlc1dpdGhQdXNoKSk7bnVsbCE9YS5jdXJyZW50VGltZUR1cmluZ1JlYWR5U3RhdGVaZXJvVGhyb3dzJiYodGhpcy5TYj1Cb29sZWFuKGEuY3VycmVudFRpbWVEdXJpbmdSZWFkeVN0YXRlWmVyb1Rocm93cykpO251bGwhPWEubGl2ZU1heFNlZ21lbnRzVG9QdXNoJiYodGhpcy5nYz1OdW1iZXIoYS5saXZlTWF4U2VnbWVudHNUb1B1c2gpKTtudWxsIT1hLmp1bXBUb0xpdmVUaHJlc2hvbGQmJih0aGlzLmRjPU51bWJlcihhLmp1bXBUb0xpdmVUaHJlc2hvbGQpKTtudWxsIT1hLnJlc3RyaWN0aW9ucyYmKHRoaXMubT0KYS5yZXN0cmljdGlvbnMsdGhpcy5PJiZFZih0aGlzKSk7bnVsbCE9YS51c2VMb25nQ2FjaGVGb3JNYW5pZmVzdCYmKHRoaXMubWE9Qm9vbGVhbihhLnVzZUxvbmdDYWNoZUZvck1hbmlmZXN0KSk7bnVsbCE9YS5qdW1wVG9FYXJsaWVzdFBvc2l0aW9uSW5DdXJyZW50QmxvY2smJih0aGlzLmNjPUJvb2xlYW4oYS5qdW1wVG9FYXJsaWVzdFBvc2l0aW9uSW5DdXJyZW50QmxvY2spKTtudWxsIT1hLmlnbm9yZU1pbkJ1ZmZlclRpbWUmJih0aGlzLkdhPUJvb2xlYW4oYS5pZ25vcmVNaW5CdWZmZXJUaW1lKSk7bnVsbCE9PWEuZW5hYmxlUmVxdWVzdFBpcGVsaW5pbmcmJih0aGlzLlZiPUJvb2xlYW4oYS5lbmFibGVSZXF1ZXN0UGlwZWxpbmluZykpO251bGwhPT1hLmVuYWJsZVN0cmVhbWluZyYmKHRoaXMuV2I9Qm9vbGVhbihhLmVuYWJsZVN0cmVhbWluZykpfTsKWS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuSi5kZXN0cm95KCk7dGhpcy5zYS5kZXN0cm95KCk7dGhpcy5zYT10aGlzLko9bnVsbDt0aGlzLmthJiYoY2xlYXJUaW1lb3V0KHRoaXMua2EpLHRoaXMua2E9bnVsbCk7dGhpcy51JiYoY2xlYXJUaW1lb3V0KHRoaXMudSksdGhpcy51PW51bGwpO3RoaXMuQj1udWxsO3RoaXMuaC5kZXN0cm95KCk7dGhpcy5oPW51bGw7V2EodGhpcy5jKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2EuZGVzdHJveSgpfSk7dGhpcy5mPXRoaXMuYz1udWxsO3RoaXMuYiYmKHRoaXMuYi5kZXN0cm95KCksdGhpcy5iPW51bGwpO3RoaXMuQS5kZXN0cm95KCk7dGhpcy5KYT10aGlzLm09dGhpcy52aWRlbz10aGlzLmk9dGhpcy53YT10aGlzLkE9bnVsbDt0aGlzLmEuZ2V0Qm9vbCgiZml4aW5nX3NjaGVkdWxlcl9kaXNhYmxlX2xlYWtzIiwhMCkmJihPYmplY3Qua2V5cyh0aGlzLm8pLmZvckVhY2goZnVuY3Rpb24oYSl7KGE9dGhpcy5vW2FdKSYmYS5kaXNhYmxlKCl9LmJpbmQodGhpcykpLAp0aGlzLm89e30pO09iamVjdC5rZXlzKHRoaXMudykuZm9yRWFjaChmdW5jdGlvbihhKXsoYT10aGlzLndbYV0pJiZhLmRlc3Ryb3koKX0uYmluZCh0aGlzKSk7dGhpcy53PXt9O3RoaXMuSSYmKHRoaXMuSS5kaXNhYmxlKCksdGhpcy5JPW51bGwpO3RoaXMuUiYmKHRoaXMuUi5jbGVhbnVwKCksdGhpcy5SPW51bGwpO2Zvcih2YXIgYT0wO2E8dGhpcy5VLmxlbmd0aDthKyspdGhpcy5VW2FdLmNsZWFudXAoKTt0aGlzLlU9W107dGhpcy51Yy5yZWxlYXNlKCl9O2Z1bmN0aW9uIGVmKGEsYil7aWYoYS5sKXt2YXIgYz1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJtZWRpYV9zb3VyY2Vfb3BlbiIpLnN0YXJ0KCk7YS5JYi50aGVuKGZ1bmN0aW9uKCl7Yy5sb2coKX0pfUUoYS5oLGEuaSwic291cmNlb3BlbiIsYS5oZC5iaW5kKGEpKTtiLnNyYz13aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChhLmkpfW49WS5wcm90b3R5cGU7bi52Yz1mdW5jdGlvbigpe307CmZ1bmN0aW9uIGpmKGEsYixjKXt2YXIgZDthLmwmJihkPWEubC5nZXRPcGVyYXRpb25Mb2dnZXIoInNvdXJjZV9hdHRhY2giKS5zdGFydCgpKTtpZighYS5PKXJldHVybiBhPUVycm9yKCJDYW5ub3QgY2FsbCBhdHRhY2goKSByaWdodCBub3cuIiksYS50eXBlPSJhcHAiLGQmJmQuc2V0RXJyb3IoYSkubG9nKCksUHJvbWlzZS5yZWplY3QoYSk7YS5KYT1iO2EudmlkZW89YzthLmJhPW51bGw7YS5hLmdldEJvb2woImVuYWJsZV92aWV3cG9ydF9wcmlvcml0eV9hZGp1c3RtZW50IiwhMSkmJihhLlI9bmV3IFZpZXdwb3J0UHJpb3JpdHlBZGp1c3RlcihhLnZpZGVvKSxhLlIuc2V0T25Qcmlvcml0eUNoYW5nZWQoZnVuY3Rpb24oYSl7T2JqZWN0LmtleXModGhpcy5vKS5mb3JFYWNoKGZ1bmN0aW9uKGIpe3RoaXMub1tiXS51cGRhdGVQcmlvcml0eVdpdGhOZXdBZGp1c3RtZW50KGEpfS5iaW5kKHRoaXMpKX0uYmluZChhKSkpO2EuYS5nZXRCb29sKCJlbmFibGVfZmlyc3RfdmlkZW9fcHJpb3JpdHlfYWRqdXN0bWVudCIsCiExKSYmYS5VLnB1c2gobmV3IEZpcnN0TG9hZGVkVmlkZW9Qcmlvcml0eUFkanVzdGVyKGEudmlkZW8pKTtFKGEuaCxhLnZpZGVvLCJsb2FkZWRtZXRhZGF0YSIsYS5nZC5iaW5kKGEpKTtFKGEuaCxhLndhLCJiYW5kd2lkdGgiLGEuR2QuYmluZChhKSk7aWYoYS5iLmJ8fGEuYS5nZXRCb29sKCJiYWNrX29mZl9idWZmZXJpbmdfb3ZlcmZsb3ciLCExKSlFKGEuaCxiLCJidWZmZXJpbmdTdGFydCIsYS5jZC5iaW5kKGEpKSxFKGEuaCxiLCJidWZmZXJpbmdFbmQiLGEuYmQuYmluZChhKSk7Yj1hLmEuZ2V0Qm9vbCgiZW5hYmxlX2NvbnRlbnRfcHJvdGVjdGlvbiIsITEpPyhiPWEudmlkZW8ubWVkaWFLZXlzKSYmYS52aWRlby5zZXRNZWRpYUtleXM/YS52aWRlby5zZXRNZWRpYUtleXMoYik6UHJvbWlzZS5yZXNvbHZlKCk6UHJvbWlzZS5yZXNvbHZlKCk7RmYoYSkudGhlbihKKGEsZnVuY3Rpb24oKXtkJiZ0aGlzLlAoKSYmZC5zZXRMaXZlaGVhZFBvc2l0aW9uKEdmKEhmKHRoaXMpKSk7dGhpcy5KJiYKdGhpcy5KLnJlc29sdmUoKTt0aGlzLnZjKCl9KSkuY2F0Y2goSihhLGZ1bmN0aW9uKGEpe3RoaXMuSiYmdGhpcy5KLnJlamVjdChhKX0pKTtyZXR1cm4gUHJvbWlzZS5hbGwoW2EuSixiXSkudGhlbihmdW5jdGlvbigpe2QmJmQubG9nKCl9KX0Kbi53Yj1mdW5jdGlvbigpe2lmKHRoaXMuTyl7dmFyIGE9RXJyb3IoIkNhbm5vdCBjYWxsIGxvYWQoKSByaWdodCBub3cuIik7YS50eXBlPSJhcHAiO3JldHVybiBQcm9taXNlLnJlamVjdChhKX1pZighdGhpcy5ifHwwPT10aGlzLmIuYS5sZW5ndGgpcmV0dXJuIGE9RXJyb3IoIlRoZSBtYW5pZmVzdCBkb2VzIG5vdCBzcGVjaWZ5IGFueSBjb250ZW50LiIpLGEudHlwZT0ic3RyZWFtIixQcm9taXNlLnJlamVjdChhKTt0Zih0aGlzLmIuYSk7aWYoMD09dGhpcy5iLmEubGVuZ3RofHwwPT10aGlzLmIuYVswXS5hLmxlbmd0aHx8IXRoaXMuYi5hWzBdLmEuc29tZShmdW5jdGlvbihhKXtyZXR1cm4idmlkZW8iPT09YS5jb250ZW50VHlwZX0pKXJldHVybiBhPUVycm9yKCJUaGUgbWFuaWZlc3Qgc3BlY2lmaWVzIGNvbnRlbnQgdGhhdCBjYW5ub3QgYmUgZGlzcGxheWVkIG9uIHRoaXMgYnJvd3Nlci9wbGF0Zm9ybS4iKSxhLnR5cGU9InN0cmVhbSIsUHJvbWlzZS5yZWplY3QoYSk7dGhpcy5PPQohMDt0aGlzLkdhfHwodGhpcy5nLmluaXRpYWxTdHJlYW1CdWZmZXJTaXplPU1hdGgubWF4KHRoaXMuZy5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZXx8MCx0aGlzLmIuZykpO3RoaXMuaWEmJnRoaXMuaWEuc2V0U3RyZWFtVHlwZSh0aGlzLmIuQik7RGYodGhpcyk7RWYodGhpcyk7cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpfTtmdW5jdGlvbiBJZihhKXt2YXIgYj15KHt0eXBlOiJtYW5pZmVzdHdyYXBwZWQiLGJ1YmJsZXM6ITB9KTthLmRpc3BhdGNoRXZlbnQoYil9ZnVuY3Rpb24gSmYoYSxiKXt2YXIgYz15KHt0eXBlOiJsaXZlaGVhZElkbGVBdCIsc2Vjb25kczpiLGJ1YmJsZXM6ITB9KTthLmRpc3BhdGNoRXZlbnQoYyl9ZnVuY3Rpb24gR2YoYSl7cmV0dXJuIE1hdGgubWluLmFwcGx5KE1hdGgsYS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEubGVuZ3RoKCk/YS5sYXN0KCkuZW5kVGltZTpudWxsfSkuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiEhYX0pKX0Kbi5KYj1mdW5jdGlvbihhLGIpe3ZhciBjO3RoaXMuYS5nZXRCb29sKCJkZWNvdXBsZV9tcGRfdXBkYXRlX2xvb3BfZnJvbV9yZXF1ZXN0X2xvb3AiLCExKSYmS2YodGhpcywwKTt0aGlzLlYmJih0aGlzLlYubG9nKCksdGhpcy5WPW51bGwpO3RoaXMubCYmKGM9dGhpcy5sLmdldE9wZXJhdGlvbkxvZ2dlcigidXBkYXRlX21hbmlmZXN0Iikuc3RhcnQoKSk7aWYoIWJ8fHRoaXMuTyl7dmFyIGQ9RGF0ZS5ub3coKTt0aGlzLmEuZ2V0Qm9vbCgiZGVjb3VwbGVfbXBkX3VwZGF0ZV9sb29wX2Zyb21fcmVxdWVzdF9sb29wIiwhMSl8fCh0aGlzLnU9bnVsbCk7dmFyIGU9bnVsbCxmLGc7aWYodGhpcy5yYSYmKCF0aGlzLlBhfHx0aGlzLlBhPnRoaXMuaWMpKXtmPU1hdGguZmxvb3IoTGYodGhpcykpKzE7Zj1NYXRoLm1pbihmLHRoaXMuZ2MpO3ZhciBoPXRoaXMuYy52aWRlbztpZihoPWg/aC5GYigpOm51bGwpaD1oLmxhc3QoKSxudWxsIT1oLnVuc2NhbGVkU3RhcnRUaW1lJiYoZz1oLnVuc2NhbGVkU3RhcnRUaW1lKTsKaWYodGhpcy52aWRlby5wYXVzZWR8fHRoaXMuJClmPTB9ZiYmdGhpcy5pYysrO2g9dGhpcy5iLmk7aD10aGlzLmEuZ2V0Qm9vbCgiZW5hYmxlX2NsZWFuX2ZhaWxvdmVyX3VyaV9vbl9tcGRfcmVxdWVzdHMiLCEwKT9oLmNsb25lKCk6aDtjJiYhYSYmYy5zZXRSZXNvdXJjZShoLnRvU3RyaW5nKCkpOyhhP3RoaXMueGMoKTp0aGlzLnljKGgsZixnKSkudGhlbihKKHRoaXMsZnVuY3Rpb24oYil7YXx8dGhpcy5HLmluZm9ybU5ldHdvcmtSZXN1bWVkKCk7ZT1uZXcgdmYoYik7dmFyIGM7dGhpcy5sJiYoYz10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJ1cGRhdGVfbWFuaWZlc3RfaW5mbyIpLnN0YXJ0KCkpO2I9ZS51cGRhdGUodGhpcy5iKTtiLnRoZW4oZnVuY3Rpb24oKXtjJiZjLmxvZygpfSxmdW5jdGlvbihhKXtjJiZjLnNldEVycm9yKGEpLmxvZygpfSkuY2F0Y2goZnVuY3Rpb24oKXt9KTtyZXR1cm4gYn0pKS50aGVuKEoodGhpcyxmdW5jdGlvbihhKXtlLmRlc3Ryb3koKTtlPW51bGw7CnZhciBmPUhmKHRoaXMpO3RoaXMuTGEoIlNlZ21lbnRJbmRleGVzVXBkYXRlZCIsZik7aWYodGhpcy5hLmdldEJvb2woImVtaXRfbGl2ZV9wbGF5aGVhZF9pZGxlX2Zyb21fY2xpZW50IiwhMCkpe3ZhciBnPXRoaXMuYS5nZXROdW1iZXIoImxpdmVfcGxheWhlYWRfaWRsZV9hbGxfc3RyZWFtX3RocmVzaG9sZCIsNCksaD10aGlzLmEuZ2V0TnVtYmVyKCJsaXZlX3BsYXloZWFkX2lkbGVfc2luZ2xlX3N0cmVhbV90aHJlc2hvbGQiLDUpO2lmKEhmKHRoaXMpLmV2ZXJ5KGZ1bmN0aW9uKGEpe3JldHVybiBhLnUoKT49Z30pfHxIZih0aGlzKS5zb21lKGZ1bmN0aW9uKGEpe3JldHVybiBhLnUoKT49aH0pKXt2YXIgdD1HZihmKTtKZih0aGlzLHQpfX1mLnNvbWUoZnVuY3Rpb24oYSl7cmV0dXJuIGEucmIoKX0pJiZJZih0aGlzKTt0PU1mKHRoaXMsZik7YyYmdGhpcy5QKCkmJmMuc2V0TGl2ZWhlYWRQb3NpdGlvbihHZihmKSk7YyYmYy5zZXRNYW5pZmVzdFR5cGUodGhpcy5iLmI/ImR5bmFtaWMiOgoic3RhdGljIikuc2V0VXBkYXRlUGVyaW9kKG51bGw9PT10aGlzLmIuYz9udWxsOk1hdGguY2VpbCgxRTMqdGhpcy5iLmMpKTt0aGlzLm5hJiZOZih0aGlzLHQpO3RoaXMuYS5nZXRCb29sKCJza2lwX3JlbWFpbmluZ19idWZmZXJlZF9vbl9zdHJlYW1fZW5kIiwhMSkmJnQmJnRoaXMuYi5iJiZ0aGlzLmIuaCYmdGhpcy52aWRlby5wYXVzZWQmJih0aGlzLnZpZGVvLmN1cnJlbnRUaW1lPXRoaXMuamEtLjEpO2lmKHNmKHRoaXMpKXJldHVybiBjJiZjLmxvZygpLHRoaXMuZWIoKTtmb3IoZj0wO2Y8YS5sZW5ndGg7KytmKU9mKHRoaXMsYVtmXSk7dGhpcy5HYXx8KHRoaXMuZy5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZT1NYXRoLm1heCh0aGlzLmcuaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemV8fDAsdGhpcy5iLmcpKTt0aGlzLmcudXNlSW5pdGlhbEJ1ZmZlclNpemVXaGVuUGF1c2VkPXRoaXMuYi5iO0RmKHRoaXMpO0VmKHRoaXMpOzA9PU9iamVjdC5rZXlzKHRoaXMuYykubGVuZ3RoP0ZmKHRoaXMpOgooYT1EYXRlLm5vdygpLGJ8fEtmKHRoaXMsKGEtZCkvMUUzKSk7YyYmYy5sb2coKTt0aGlzLnRiKCkmJmV4dHJhY3RDRUE2MDgucHJlcGFyZSgpO3RoaXMuYS5nZXRCb29sKCJ1cGRhdGVfY2VhNjA4X2F2YWlsYWJpbGl0eV9vbl9tcGRfcGFyc2luZyIsITEpJiYoYT10aGlzLnRiKCksdGhpcy5ZYiE9PWEmJihmPXkoe3R5cGU6ImNlYTYwOEF2YWlsYWJpbGl0eUNoYW5nZWQiLGJ1YmJsZXM6ITB9KSx0aGlzLmRpc3BhdGNoRXZlbnQoZiksdGhpcy5ZYj1hKSl9KSkuY2F0Y2goSih0aGlzLGZ1bmN0aW9uKGEpe2MmJmMuc2V0RXJyb3IoYSkubG9nKCk7ZSYmKGUuZGVzdHJveSgpLGU9bnVsbCk7aWYoIWIpe3ZhciBkPXRoaXMuYi5mfHx0aGlzLmEuZ2V0Qm9vbCgicmV0cnlfZWdyZXNzXzUwMHMiLCExKSxmPVswLDQxMF07dGhpcy5hLmdldEJvb2woImVuYWJsZV9kb3VibGVfaW5nZXN0IiwhMSkmJmYucHVzaCg0MTcsMjAwKTshdGhpcy5hLmdldEJvb2woIm5vX3JldHJ5X29uXzUwMl81MDMiLAohMSkmJmQmJihmPWYuY29uY2F0KFs1MDIsNTAzXSkpO2Q9dGhpcy5hLmdldEJvb2woImZpeF9saXZlX3N0cmVhbV9nb25lX29uX21hbmlmZXN0X3VwZGF0ZSIsITApPy0xPT09Zi5pbmRleE9mKGEuc3RhdHVzKTowIT09YS5zdGF0dXM7aWYodGhpcy5hLmdldEJvb2woImFsbG93X2luZmluaXRlX3JldHJ5X29uX25ldF9lcnIiLCEwKSYmIm5ldCI9PT1hLnR5cGUmJiFkKXN3aXRjaChhLnN0YXR1cyl7Y2FzZSA0MTA6dGhpcy5oYz0hMDt0aGlzLmomJihjbGVhclRpbWVvdXQodGhpcy5qKSx0aGlzLmo9bnVsbCk7dGhpcy5lYigpO2JyZWFrO2Nhc2UgMjAwOmNhc2UgNDE3OmEucmVzcG9uc2VIZWFkZXJzJiZudWxsIT1hLnJlc3BvbnNlSGVhZGVyc1sieC1mYi12aWRlby1yZXBsaWNhIl0/dGhpcy5kaXNwYXRjaEV2ZW50KHkoe3R5cGU6InJlcGxpY2Fzd2l0Y2giLGJ1YmJsZXM6ITAscmVwbGljYTphLnJlc3BvbnNlSGVhZGVyc1sieC1mYi12aWRlby1yZXBsaWNhIl0sdXJsOmEudXJsLHN0YXR1czphLnN0YXR1c30pKToKZD0hMDticmVhaztkZWZhdWx0OlBmKHRoaXMpfTA9PT1hLnN0YXR1cz90aGlzLkcuaW5mb3JtTmV0d29ya0ludGVycnVwdGVkKCk6dGhpcy5HLmluZm9ybU5ldHdvcmtSZXN1bWVkKCk7aWYoImRlbGF5Ij09YS50eXBlKXJldHVybiBQZih0aGlzKTt0aGlzLmEuZ2V0Qm9vbCgiYWxsb3dfaW5maW5pdGVfcmV0cnlfb25fbmV0X2VyciIsITApJiYhZHx8ImFib3J0ZWQiPT1hLnR5cGV8fChhPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGEpLHRoaXMuYiYmUGYodGhpcykpfX0pKX19O24ueWM9ZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZWplY3QoIkNhbm5vdCB1cGRhdGUgbWFuaWZlc3Qgd2l0aCB0aGlzIFZpZGVvU291cmNlIGltcGxlbWVudGF0aW9uLiIpfTtuLnhjPWZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVqZWN0KCJDYW5ub3QgdXBkYXRlIG1hbmlmZXN0IHdpdGggdGhpcyBWaWRlb1NvdXJjZSBpbXBsZW1lbnRhdGlvbi4iKX07CmZ1bmN0aW9uIE5mKGEsYil7aWYoYiYmYS5iJiZhLmIuYilpZihhLmEuZ2V0Qm9vbCgic2Vla19vdmVyX3VuYXZhaWxhYmxlX3NlZ21lbnRzX29uX21hbmlmZXN0X3VwZGF0ZSIsITEpJiZhLmVhKWIuZW5kPmEudmlkZW8uY3VycmVudFRpbWUrMTAmJihhLmVhPSExLGEudmlkZW8uY3VycmVudFRpbWU9Yi5lbmQsUWYoYSkpO2Vsc2UgaWYoYS52aWRlby5wYXVzZWQmJmIuZW5kPmEudmlkZW8uY3VycmVudFRpbWUrMTApaWYoYS5hLmdldEJvb2woImVuYWJsZV9sYXp5X2xpdmVoZWFkX2NhdGNodXAiLCExKSl7dmFyIGM9YS54YTtjPGEuSWQmJihhLnhhPSsrYyk7UmYoYSxjKTthLmNhPWIuZW5kfWVsc2UgYS5lYT0hMSxhLnZpZGVvLmN1cnJlbnRUaW1lPWIuZW5kLFFmKGEpfQpmdW5jdGlvbiBLZihhLGIpe2lmKG51bGw9PWEuYi5jKUJhbnphaU9EUy5idW1wRW50aXR5S2V5KDI5NjYsInZpZGVvcy53d3cubGl2ZSIsInVwZGF0ZV9wZXJpb2RfaXNfbnVsbCIpO2Vsc2UgaWYoIWEuRmEpe2lmKGEuYS5nZXRCb29sKCJkZWNvdXBsZV9tcGRfdXBkYXRlX2xvb3BfZnJvbV9yZXF1ZXN0X2xvb3AiLCExKSYmKGEudSYmKGNsZWFyVGltZW91dChhLnUpLGEudT1udWxsKSxzZihhKSkpcmV0dXJuO3ZhciBjPU1hdGgubWF4KGEuYi5jLGEuS2IpLGM9TWF0aC5tYXgoYy1iLDApLGQ9YS5KYi5iaW5kKGEsITEpOyFjJiZhLmcudXNlTWljcm9UYXNrVGltZW91dHM/UHJvbWlzZS5yZXNvbHZlKCkudGhlbihkKTooYS5WJiZhLlYuc2V0UmVzdWx0KCJmYWlsZWQiKS5sb2coKSxhLmwmJihhLlY9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigic2NoZWR1bGVfbWFuaWZlc3RfdXBkYXRlIikuc3RhcnQoKS5zZXRVcGRhdGVQZXJpb2QoTWF0aC5jZWlsKDFFMypjKSkpLGEudT1zZXRUaW1lb3V0KGQsCjFFMypjKSl9fWZ1bmN0aW9uIE9mKGEsYil7dmFyIGM9TWQoYiksZD1hLmNbY107aWYoZCYmZC5XYSgpPT1iKXt2YXIgZT1hLmYuZ2V0KE1kKGIpKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEudn0pLnJlZHVjZShmdW5jdGlvbihhLGIpe3JldHVybiBhLmNvbmNhdChiKX0sW10pLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gYS5vYSYmYS5mYX0pO2lmKDA9PWUubGVuZ3RoKXtjPUVycm9yKCJBbGwgdXNhYmxlIHN0cmVhbXMgaGF2ZSBiZWVuIHJlbW92ZWQgZnJvbSB0aGUgbWFuaWZlc3QuIik7Yy50eXBlPSJhcHAiO2M9QShjKTthLmRpc3BhdGNoRXZlbnQoYyk7cmV0dXJufWEuQltjXS5MYz09YiYmZGVsZXRlIGEuQltjXTtkLmpiKGVbMF0sITApO2IuZGVzdHJveSgpfWIuZGVzdHJveSgpfW4uQ2Q9ZnVuY3Rpb24oYSl7dGhpcy5wYz1hfTtZLnByb3RvdHlwZS5zZXRUYWdnZWRUaW1lUmFuZ2VzPVkucHJvdG90eXBlLkNkOwpZLnByb3RvdHlwZS53ZD1mdW5jdGlvbigpe3JldHVybiAwPT09T2JqZWN0LmtleXModGhpcy5jKS5sZW5ndGg/ITE6WyJhdWRpbyIsInZpZGVvIl0uZXZlcnkoSih0aGlzLGZ1bmN0aW9uKGEpe3JldHVybiF0aGlzLmNbYV18fHRoaXMuY1thXS5UfSkpfTtZLnByb3RvdHlwZS5oYXNIaXRCdWZmZXJpbmdHb2FsPVkucHJvdG90eXBlLndkOwpZLnByb3RvdHlwZS5aPWZ1bmN0aW9uKGEpe2lmKCF0aGlzLmZ8fCF0aGlzLmYuYS5oYXNPd25Qcm9wZXJ0eSgidmlkZW8iKSlyZXR1cm5bXTthPWEmJmEudXNlTG9jYWxCaXRyYXRlfHwhMTt2YXIgYj10aGlzLmMudmlkZW8sYz1iP2IuV2EoKTpudWxsLGQ9Yz9jLlg6MCxlPTEsZj1udWxsO3RoaXMuYS5nZXRCb29sKCJ1c2VfbGl2ZV9iaXRyYXRlX2VzdGltYXRlcyIsITEpJiZ0aGlzLlAoKSYmbnVsbCE9YiYmKGY9Yi5sYSgpLG51bGwhPWMmJjA8Yy5iYW5kd2lkdGgmJihlPWYvYy5iYW5kd2lkdGgpKTtmb3IodmFyIGM9W10sZz10aGlzLmYuZ2V0KCJ2aWRlbyIpLGg9MDtoPGcubGVuZ3RoOysraClmb3IodmFyIGs9Z1toXSxsPTA7bDxrLnYubGVuZ3RoOysrbCl7dmFyIG09ay52W2xdO2lmKG0ub2EmJm0uZmEpe3ZhciBwPW51bGw7aWYoYSYmbnVsbCE9PW0uTSl7dmFyIHQ9bS5NLmMoKSx3PWI7aWYodGhpcy5QKCl8fG51bGw9PT10fHxudWxsPT09dylwPW51bGw7ZWxzZXt2YXIgcD0KcGUodyx0aGlzLnZpZGVvLmN1cnJlbnRUaW1lLHQpLHo9dC5nZXRTZWdtZW50cygpO3RoaXMuYS5nZXRCb29sKCJzdGFydF9sb2NhbF9iaXRyYXRlX2F0X2J1ZmZlcl9lbmQiLCExKSYmKHc9TG9jYWxCaXRyYXRlSGVscGVyLmdldEJ1ZmZlckVuZFNlZ21lbnRJbmRleCh6LHAsdGhpcy52aWRlby5jdXJyZW50VGltZSthZSh3LHRoaXMudmlkZW8uY3VycmVudFRpbWUpKSxudWxsIT09dyYmKHA9dykpO3A9TG9jYWxCaXRyYXRlSGVscGVyLmdldExvY2FsQml0cmF0ZSh0LmdldFNlZ21lbnRzKCkscCx0aGlzLmEuZ2V0TnVtYmVyKCJsb2NhbF9iaXRyYXRlX3NlZ21lbnRzX2FoZWFkIiwxMCkpfXRoaXMuYS5nZXRCb29sKCJ1c2VfbWF4X2xvY2FsX2JpdHJhdGUiLCExKSYmKHA9TWF0aC5tYXgocCxtLmJhbmR3aWR0aCkpfXQ9bS5YO3A9cHx8bS5iYW5kd2lkdGg7dGhpcy5hLmdldEJvb2woInVzZV9saXZlX2JpdHJhdGVfZXN0aW1hdGVzIiwhMSkmJm51bGwhPWYmJih0PT09ZD9wPU1hdGgubWF4KHAsCmYpOjE8ZSYmKHA9cCplKSxwPU1hdGgucm91bmQocCkpO209bmV3IHVhKHQscCxtLndpZHRoLG0uaGVpZ2h0LG0uaWQsbS5mYlF1YWxpdHlMYWJlbCxtLmZiUXVhbGl0eUNsYXNzLG0uZixtLmZyYW1lUmF0ZSxtLm1pbWVUeXBlLG0uY29kZWNzLG0uZyxtLmgpO3Q9PWQmJihtLmFjdGl2ZT0hMCk7Yy5wdXNoKG0pfX1yZXR1cm4gY307WS5wcm90b3R5cGUuZ2V0VmlkZW9UcmFja3M9WS5wcm90b3R5cGUuWjtZLnByb3RvdHlwZS5SYz1mdW5jdGlvbigpe2lmKHRoaXMuZ2EpcmV0dXJuIHRoaXMuZ2E7aWYoIXRoaXMuYilyZXR1cm4gbnVsbDtmb3IodmFyIGE9MDthPHRoaXMuYi5hLmxlbmd0aDsrK2EpZm9yKHZhciBiPXRoaXMuYi5hW2FdLGM9MDtjPGIuYS5sZW5ndGg7KytjKWlmKHRoaXMuZ2E9Yi5hW2NdLmMpcmV0dXJuIHRoaXMuZ2E7cmV0dXJuIG51bGx9O1kucHJvdG90eXBlLmdldFZpZGVvUHJvamVjdGlvbj1ZLnByb3RvdHlwZS5SYztZLnByb3RvdHlwZS5PYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmtifTsKWS5wcm90b3R5cGUuZ2V0TG9jYWxFc3RpbWF0b3I9WS5wcm90b3R5cGUuT2M7ZnVuY3Rpb24gU2YoYSl7YT1hLlooKTtmb3IodmFyIGI9MDtiPGEubGVuZ3RoO2IrKylpZihhW2JdLmFjdGl2ZSlyZXR1cm4gYVtiXX1ZLnByb3RvdHlwZS52YT1mdW5jdGlvbigpe2lmKCF0aGlzLmZ8fCF0aGlzLmYuYS5oYXNPd25Qcm9wZXJ0eSgiYXVkaW8iKSlyZXR1cm5bXTtmb3IodmFyIGE9dGhpcy5jLmF1ZGlvLGE9KGE9YT9hLldhKCk6bnVsbCk/YS5YOjAsYj1bXSxjPXRoaXMuZi5nZXQoImF1ZGlvIiksZD0wO2Q8Yy5sZW5ndGg7KytkKWZvcih2YXIgZT1jW2RdLGY9ZS5sYW5nLGc9MDtnPGUudi5sZW5ndGg7KytnKXt2YXIgaD1lLnZbZ107aWYoaC5vYSYmaC5mYSl7dmFyIGs9aC5YLGg9bmV3IGZhKGssaC5iYW5kd2lkdGgsZixoLmlkLGgubWltZVR5cGUsaC5jb2RlY3MsdGhpcy5iLnUsaC5jKTtrPT1hJiYoaC5hY3RpdmU9ITApO2IucHVzaChoKX19cmV0dXJuIGJ9OwpZLnByb3RvdHlwZS5nZXRBdWRpb1RyYWNrcz1ZLnByb3RvdHlwZS52YTtZLnByb3RvdHlwZS5tYz1mdW5jdGlvbigpe2lmKCF0aGlzLmZ8fCF0aGlzLmYuYS5oYXNPd25Qcm9wZXJ0eSgidGV4dCIpKXJldHVybltdO2Zvcih2YXIgYT10aGlzLmMudGV4dCxiPWE/YS5XYSgpOm51bGwsYj1iP2IuWDowLGM9W10sZD10aGlzLmYuZ2V0KCJ0ZXh0IiksZT0wO2U8ZC5sZW5ndGg7KytlKWZvcih2YXIgZj1kW2VdLGc9Zi5sYW5nLGg9MDtoPGYudi5sZW5ndGg7KytoKXt2YXIgaz1mLnZbaF0uWCxsPW5ldyB0YShrLGcpO2s9PWImJihsLmFjdGl2ZT0hMCxsLmVuYWJsZWQ9YS5EYigpKTtjLnB1c2gobCl9cmV0dXJuIGN9O1kucHJvdG90eXBlLmdldFRleHRUcmFja3M9WS5wcm90b3R5cGUubWM7WS5wcm90b3R5cGUuYWM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iJiZ0aGlzLmIubSYmMDx0aGlzLmIubT8hMDohMX07WS5wcm90b3R5cGUuaXNVc2luZ0FTUkNhcHRpb25zPVkucHJvdG90eXBlLmFjOwpZLnByb3RvdHlwZS5iYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmImJnRoaXMuYi5vJiYwPHRoaXMuYi5vJiZna3goIjExNzYyNTEiKT8hMDohMX07WS5wcm90b3R5cGUuaXNVc2luZ0FTUkNhcHRpb25zRW1wbG95ZWVEb2dmb29kaW5nPVkucHJvdG90eXBlLmJjO2Z1bmN0aW9uIHJmKGEpe3ZhciBiPU51bWJlcihhLmcuaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemUpO2EuZy5maXhCdWZmZXJpbmdHb2FsRGV0ZXJtaW5hdGlvbiYmKGI9MSk7aWYoYS5hLmdldEJvb2woImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvdyIsITEpKWI9YS5LO2Vsc2V7dmFyIGM9YS5hLmdldE51bWJlcigiYnVmZmVyaW5nX292ZXJmbG93X3RocmVzaG9sZCIsMCk7MDxjJiYoYj1jKX1yZXR1cm4gYS4kYj9OdW1iZXIoYS5nLnN0cmVhbUJ1ZmZlclNpemUpOmJ9CmZ1bmN0aW9uIE5lKGEpe2lmKGEuTyl7YT1hLmIuYVswXTtmb3IodmFyIGI9W10sYz0wO2M8YS5hLmxlbmd0aDsrK2MpYi5wdXNoLmFwcGx5KGIsUWQoYS5hW2NdKSk7YT1ifWVsc2UgYT1bXTtyZXR1cm4gYX0KZnVuY3Rpb24gUGUoYSxiKXtpZihhLk8pe2Zvcih2YXIgYz17fSxkPWEuYi5hWzBdLGU9MDtlPGQuYS5sZW5ndGg7KytlKXt2YXIgZj1kLmFbZV07Y1tmLlhdPWZ9YS5mLmE9e307ZD1hYihiKTtmb3IoZT0wO2U8ZC5sZW5ndGg7KytlKXt2YXIgZj1kW2VdLGc9Yi5nZXQoZik7aWYoInZpZGVvIj09Zil7dmFyIGg9Z1swXS5pZDthLmYucHVzaChmLGNbaF0pfWVsc2UgaWYoImF1ZGlvIj09Zil7aWYoMDxnLmxlbmd0aClmb3IodmFyIGg9Z1swXS5iLnNwbGl0KCI7IilbMF0saz0wO2s8Zy5sZW5ndGg7KytrKXt2YXIgbD1nW2tdO2wuYi5zcGxpdCgiOyIpWzBdPT1oJiZhLmYucHVzaChmLGNbbC5pZF0pfX1lbHNlIGZvcihrPTA7azxnLmxlbmd0aDsrK2spaD1nW2tdLmlkLGEuZi5wdXNoKGYsY1toXSl9YS55YT0hMDtpZihjPWEuZi5nZXQoImF1ZGlvIikpVGYoYSxjKSxhLmYuc2V0KCJhdWRpbyIsYyksYz1jWzBdLmxhbmd8fGEuUyxSYSgyLGEuUyxjKSYmKGEueWE9ITEpO2lmKGM9YS5mLmdldCgidGV4dCIpKVRmKGEsCmMpLGEuZi5zZXQoInRleHQiLGMpLGM9Y1swXS5sYW5nfHxhLlMsUmEoMixhLlMsYyl8fChhLnlhPSExKX19WS5wcm90b3R5cGUuWGM9ZnVuY3Rpb24oKXt0aGlzLkVhPSEwfTtZLnByb3RvdHlwZS5zZXRDbGVhckJ1ZmZlckFmdGVyU2Vla2luZz1ZLnByb3RvdHlwZS5YYztZLnByb3RvdHlwZS5zZWxlY3RWaWRlb1RyYWNrPWZ1bmN0aW9uKGEsYixjLGQsZSl7cmV0dXJuIG1mKHRoaXMsInZpZGVvIixhLGIsYyxkLGUpfTtZLnByb3RvdHlwZS5yZXN1bWVWaWRlb0ZldGNoaW5nPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5jLnZpZGVvP3RoaXMuYy52aWRlby5GOm51bGw7YSYmYS5yZXN1bWVWaWRlb0ZldGNoaW5nKCl9O1kucHJvdG90eXBlLnJlc3VtZVZpZGVvRmV0Y2hpbmc9WS5wcm90b3R5cGUucmVzdW1lVmlkZW9GZXRjaGluZztZLnByb3RvdHlwZS5IZD1mdW5jdGlvbigpe3ZhciBhPXRoaXMuYy52aWRlbz90aGlzLmMudmlkZW8uRjpudWxsO2EmJmEuc3RvcFVudGlsU2VnbWVudHNVcGRhdGUoKX07ClkucHJvdG90eXBlLnN0b3BVbnRpbFZpZGVvU3RyZWFtU3dpdGNoPVkucHJvdG90eXBlLkhkO2Z1bmN0aW9uIG5mKGEsYil7dmFyIGM9YS5jLnRleHQ7YyYmYy52YihiKX0KZnVuY3Rpb24gRWYoYSl7aWYoYS5tKXtmb3IodmFyIGI9ITEsYz0wO2M8YS5iLmEubGVuZ3RoOysrYylmb3IodmFyIGQ9YS5iLmFbY10sZT0wO2U8ZC5hLmxlbmd0aDsrK2Upe3ZhciBmPWQuYVtlXTtpZigidmlkZW8iPT1mLmNvbnRlbnRUeXBlKWZvcih2YXIgZz0wO2c8Zi52Lmxlbmd0aDsrK2cpe3ZhciBoPWYudltnXSxrPWguZmE7aC5mYT0hMDthLm0ubWF4V2lkdGgmJmgud2lkdGg+YS5tLm1heFdpZHRoJiYoaC5mYT0hMSk7YS5tLm1heEhlaWdodCYmaC5oZWlnaHQ+YS5tLm1heEhlaWdodCYmKGguZmE9ITEpO2EubS5taW5IZWlnaHQmJmguaGVpZ2h0PGEubS5taW5IZWlnaHQmJihoLmZhPSExKTthLm0ubWF4QmFuZHdpZHRoJiZoLmJhbmR3aWR0aD5hLm0ubWF4QmFuZHdpZHRoJiYoaC5mYT0hMSk7YS5tLm1pbkJhbmR3aWR0aCYmaC5iYW5kd2lkdGg8YS5tLm1pbkJhbmR3aWR0aCYmKGguZmE9ITEpO2shPWguZmEmJihiPSEwKX19MCE9JGEoYS5mKS5sZW5ndGgmJmImJihVZihhKSwKMDxhLlooKS5sZW5ndGh8fChiPUVycm9yKCJUaGUgYXBwbGljYXRpb24gaGFzIHJlc3RyaWN0ZWQgYWxsIHZpZGVvIHRyYWNrcyEiKSxiLnR5cGU9ImFwcCIsYj1BKGIpLGEuZGlzcGF0Y2hFdmVudChiKSkpfX1ZLnByb3RvdHlwZS5QPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYj90aGlzLmIuYjpudWxsfTtZLnByb3RvdHlwZS5pc0xpdmU9WS5wcm90b3R5cGUuUDtZLnByb3RvdHlwZS5ZYz1mdW5jdGlvbihhKXt0aGlzLiRiPWF9O1kucHJvdG90eXBlLnNldElzTGl2ZUludGVycnVwdGVkPVkucHJvdG90eXBlLlljO1kucHJvdG90eXBlLnZkPWZ1bmN0aW9uKCl7Zm9yKHZhciBhIGluIHRoaXMuYyl0aGlzLmNbYV0uSGMoKX07WS5wcm90b3R5cGUuZm9yY2VSZXN5bmNWaWRlb0J1ZmZlcj1ZLnByb3RvdHlwZS52ZDsKZnVuY3Rpb24gV2UoYSxiKXtmb3IodmFyIGMsZD0hMSxlPW5ldyBELGY9JGEoYS5mKSxnPTA7ZzxmLmxlbmd0aDsrK2cpZm9yKHZhciBoPWZbZ10saz0wO2s8aC52Lmxlbmd0aDsrK2spe3ZhciBsPWgudltrXTtsLmIuZm9yRWFjaChmdW5jdGlvbihhKXtlLnB1c2goYSxsKX0pfWZvcihjIGluIGIpaWYoZj1QYVtiW2NdXXx8bnVsbCxoPWUuZ2V0KGMpKWZvcihnPTA7ZzxoLmxlbmd0aDsrK2cpbD1oW2ddLGs9bC5vYSxsLm9hPSFmLGshPWwub2EmJihkPSEwKTtlbHNlIGliKGMpO2QmJihVZihhKSxkPWEudmEoKSxjPWEuWigpLGQ9YS5mLmEuaGFzT3duUHJvcGVydHkoImF1ZGlvIikmJjA9PWQubGVuZ3RoLGM9YS5mLmEuaGFzT3duUHJvcGVydHkoInZpZGVvIikmJjA9PWMubGVuZ3RoLGR8fGMpJiYoYz1FcnJvcigiVGhlIGtleSBzeXN0ZW0gaGFzIHJlc3RyaWN0ZWQgYWxsICIrKGQmJmM/ImF1ZGlvIGFuZCB2aWRlbyB0cmFja3MuIjpkPyJhdWRpbyB0cmFja3MuIjoidmlkZW8gdHJhY2tzLiIpKSwKYy50eXBlPSJkcm0iLGM9QShjKSxhLmRpc3BhdGNoRXZlbnQoYykpfWZ1bmN0aW9uIFVmKGEpe3ZhciBiPXkoe3R5cGU6InRyYWNrc2NoYW5nZWQiLGJ1YmJsZXM6ITB9KTthLmRpc3BhdGNoRXZlbnQoYil9ZnVuY3Rpb24gbWYoYSxiLGMsZCxlLGYsZyl7Zz0hIWc7aWYoIWEuZi5hLmhhc093blByb3BlcnR5KGIpfHwhYS5jW2JdKXJldHVybiExO2Zvcih2YXIgaD1hLmYuZ2V0KGIpLGs9MDtrPGgubGVuZ3RoOysraylmb3IodmFyIGw9aFtrXSxtPTA7bTxsLnYubGVuZ3RoOysrbSl7dmFyIHA9bC52W21dO2lmKHAuWD09Yyl7aWYoIXAub2F8fCFwLmZhKXJldHVybiExO2lmKCJ0ZXh0IiE9YiYmIWEuQ2EpcmV0dXJuIGM9YS5CW2JdLGEuQltiXT17TGM6cCxyYzpudWxsIT1jJiZjLnJjfHxkLHNjOm51bGwhPWMmJmMuc2N8fGUsc3dpdGNoUmVhc29uOmYsS2E6Z30sITA7YS5jW2JdLmpiKHAsZCxlLGYsZyk7cmV0dXJuITB9fXJldHVybiExfQpmdW5jdGlvbiBUZihhLGIpe2Zvcih2YXIgYz0wOzI+PWM7KytjKWZvcih2YXIgZD0wO2Q8Yi5sZW5ndGg7KytkKXt2YXIgZT1iW2RdO2lmKFJhKGMsYS5TLGUubGFuZykpe2Iuc3BsaWNlKGQsMSk7Yi5zcGxpY2UoMCwwLGUpO3JldHVybn19Zm9yKGQ9MDtkPGIubGVuZ3RoOysrZClpZihlPWJbZF0sZS5mKXtiLnNwbGljZShkLDEpO2Iuc3BsaWNlKDAsMCxlKTticmVha319bj1ZLnByb3RvdHlwZTtuLmhkPWZ1bmN0aW9uKCl7dGhpcy5oLmFiKHRoaXMuaSwic291cmNlb3BlbiIpO3RoaXMuSWIucmVzb2x2ZSgpfTsKZnVuY3Rpb24gRmYoYSl7dmFyIGI7YS5sJiYoYj1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJzdGFydF9zdHJlYW1zIikuc3RhcnQoKSk7Zm9yKHZhciBjPVtdLGQ9WyJhdWRpbyIsInZpZGVvIiwidGV4dCJdLGU9MDtlPGQubGVuZ3RoOysrZSl7dmFyIGY9ZFtlXTthLmYuYS5oYXNPd25Qcm9wZXJ0eShmKSYmYy5wdXNoKGEuZi5nZXQoZilbMF0pfWZvcih2YXIgZz1WZihhLGMpLGU9MDtlPGQubGVuZ3RoOysrZSlpZihmPWRbZV0sYS5mLmEuaGFzT3duUHJvcGVydHkoZikmJiFnW2ZdKXJldHVybiBhPUVycm9yKCJVbmFibGUgdG8gc2VsZWN0IGFuIGluaXRpYWwgIitmKyIgc3RyZWFtOiBhbGwgIitmKyIgc3RyZWFtcyBoYXZlIGJlZW4gcmVzdHJpY3RlZCAoYnkgdGhlIGFwcGxpY2F0aW9uIG9yIGJ5IHRoZSBrZXkgc3lzdGVtKS4iKSxhLnR5cGU9InN0cmVhbSIsYiYmYi5zZXRFcnJvcihhKS5sb2coKSxQcm9taXNlLnJlamVjdChhKTtjPVdhKGcpLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS5NLmNyZWF0ZSgpfSk7CmMucHVzaChhLkliKTtyZXR1cm4gUHJvbWlzZS5hbGwoYykudGhlbihKKGEsZnVuY3Rpb24oYSl7YS5wb3AoKTtpZighYS5ldmVyeShmdW5jdGlvbihhKXtyZXR1cm4gYS5sZW5ndGgoKX0pKXJldHVybiBhPUVycm9yKCJTb21lIHN0cmVhbXMgYXJlIG5vdCBhdmFpbGFibGUuIiksYS50eXBlPSJzdHJlYW0iLFByb21pc2UucmVqZWN0KGEpO2E9TWYodGhpcyxhKTtpZighYSlyZXR1cm4gYT1FcnJvcigiU29tZSBzdHJlYW1zIGFyZSBub3QgYXZhaWxhYmxlLiIpLGEudHlwZT0ic3RyZWFtIixQcm9taXNlLnJlamVjdChhKTtpZighV2YodGhpcyxnKSlyZXR1cm4gYT1FcnJvcigiRmFpbGVkIHRvIGNyZWF0ZSBTdHJlYW0gb2JqZWN0cy4iKSxhLnR5cGU9InN0cmVhbSIsUHJvbWlzZS5yZWplY3QoYSk7dGhpcy5BLnN0YXJ0KCk7WGYodGhpcyxnLGEpO3JldHVybiBQcm9taXNlLnJlc29sdmUoKX0pKS50aGVuKGZ1bmN0aW9uKCl7YiYmYi5sb2coKX0pLmNhdGNoKEooYSxmdW5jdGlvbihhKXtpZigiYWJvcnRlZCI9PQphLnR5cGUpYiYmYi5zZXRFcnJvcihhKS5sb2coKTtlbHNle09iamVjdC5rZXlzKHRoaXMuYyk7aWYodGhpcy5iLmIpcmV0dXJuIHlhKCk8dGhpcy5iLmo/KGE9TWF0aC5tYXgodGhpcy5iLmotRGF0ZS5ub3coKS8xRTMsdGhpcy5LYiksdGhpcy51PXNldFRpbWVvdXQodGhpcy5KYi5iaW5kKHRoaXMsITApLDFFMyphKSk6S2YodGhpcywwKSxiJiZiLmxvZygpLFByb21pc2UucmVzb2x2ZSgpO2ImJmIuc2V0RXJyb3IoYSkubG9nKCk7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfX0pKX0KZnVuY3Rpb24gVmYoYSxiKXtmb3IodmFyIGM9e30sZD0wO2Q8Yi5sZW5ndGg7KytkKXt2YXIgZT1iW2RdLGY9bnVsbDtpZigidmlkZW8iPT1lLmNvbnRlbnRUeXBlKXt2YXIgZz1hLkEuZ2V0SW5pdGlhbFZpZGVvVHJhY2tJZCgpO2lmKG51bGw9PWcpY29udGludWU7Zj1lLnYuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiBhLlg9PWd9KTtpZigwPT1mLmxlbmd0aCljb250aW51ZTtmPWZbMF19ZWxzZSBpZigiYXVkaW8iPT1lLmNvbnRlbnRUeXBlKWlmKGc9YS5BLmdldEluaXRpYWxBdWRpb1RyYWNrSWQoKSxmPWUudi5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIGEuWD09Z30pLDA9PWYubGVuZ3RoKXtmPWUudi5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIGEub2EmJmEuZmF9KTtpZigwPT1mLmxlbmd0aCljb250aW51ZTtmPWUudltNYXRoLmZsb29yKGYubGVuZ3RoLzIpXX1lbHNlIGY9ZlswXTtlbHNlIDA8ZS52Lmxlbmd0aCYmKGY9ZS52WzBdKTtjW2UuY29udGVudFR5cGVdPWZ9cmV0dXJuIGN9CmZ1bmN0aW9uIFdmKGEsYil7dmFyIGM9e30sZDtmb3IoZCBpbiBiKXt2YXIgZT1iW2RdLGU9InRleHQiPT1kP25ldyB0ZShhLGEudmlkZW8pOllmKGEsZSk7aWYoIWUpcmV0dXJuIFdhKGMpLmZvckVhY2goZnVuY3Rpb24oYSl7YS5kZXN0cm95KCl9KSwhMTtjW2RdPWV9YS5QYihhLm5jKTthLmM9YztyZXR1cm4hMH0KZnVuY3Rpb24gWWYoYSxiKXt2YXIgYz1OZChiKSxkPVpmKGMuc3BsaXQoIjsiKVswXSksZT1udWxsLGY9YS5hLmdldEJvb2woInVzZV9sb2NhbF9lc3RpbWF0b3JfZm9yX2Ficl9zYW1wbGluZyIsITApP2Eua2I6YS53YSxnPW51bGwsaD1udWxsLGs9YS5iLmZ8fGEuYi5BLGs9YS5hLmdldEJvb2woInNraXBfc2VnbWVudF9yZXF1ZXN0X21hbmFnZXIiLCExKSYmazthLldiJiZjYW5Vc2VGZXRjaFN0cmVhbSgpPyhoPW5ldyBNdWx0aXBsZVNlZ21lbnRzUHJvdmlkZXIoYS5hLmdldE51bWJlcigic3RyZWFtaW5nX3NlZ21lbnRfc2l6ZSIsNCkpLGc9JGYoYSxoLGQsZikpOmEuVmImJiFrJiYoZT1hZyhhLGQsZikpO3ZhciBrPW51bGwsbD1hLmYuZ2V0KGQpOyJ2aWRlbyI9PT1kJiYwPGwubGVuZ3RoJiYoaz1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz1udWxsLGQ9bnVsbCxlPTA7ZTxsWzBdLnYubGVuZ3RoO2UrKylsWzBdLnZbZV0uaWQ9PT1hP2M9bFswXS52W2VdOmxbMF0udltlXS5pZD09PQpiJiYoZD1sWzBdLnZbZV0pO3JldHVybiBudWxsPT09Y3x8bnVsbD09PWQ/MDpjLmJhbmR3aWR0aD5kLmJhbmR3aWR0aD8xOi0xfSk7Yz1uZXcgVShhLGEudmlkZW8sYS5hLGEuaSxjLGYsYS5wYyxhLmRhLGssYS5HLGUsZyxoLGEuaWEpO2MucGEoYS5nKTtyZXR1cm4gY30KZnVuY3Rpb24gJGYoYSxiLGMsZCl7dmFyIGU9YS53W2NdLGY9ImF1ZGlvIiE9PWN8fGEuYS5nZXRCb29sKCJlbmFibGVfYXVkaW9fc3RyZWFtaW5nIiwhMSk7aWYoIWUmJmYpe3ZhciBlPW5ldyBWaWRlb1N0cmVhbWluZ01hbmFnZXIoYS5hLGIsYyxhLmwsYS5VKSxnPSJ2aWRlbyI9PT1jO2cmJmUuYWRkTGlzdGVuZXIoImJhbmR3aWR0aFVwZGF0ZSIsZnVuY3Rpb24oYSl7ZC5zYW1wbGUoYS50aW1lVGFrZW4sYS5ieXRlc1JlYWQsZyx7dGltZVRvTGFzdEJ5dGU6YS50aW1lVGFrZW59LHRoaXMuQWIsdGhpcy5sLCF0aGlzLmEuZ2V0Qm9vbCgiZXZhbHVhdGVfYWJyX29uX3N0cmVhbV9iYW5kd2lkdGhfc2FtcGxlIiwhMCkpfS5iaW5kKGEpKX1lJiYoYS53W2NdPWUpO3JldHVybiBlfHxudWxsfQpmdW5jdGlvbiBhZyhhLGIsYyl7aWYoInZpZGVvIj09PWJ8fCJhdWRpbyI9PT1iJiZhLmEuZ2V0Qm9vbCgiZW5hYmxlX3JlcXVlc3RfcGlwZWxpbmluZ19mb3Jfdm9kX2F1ZGlvcyIsITEpKXt2YXIgZD1hLm9bYl07ZHx8KGQ9bmV3IFNlZ21lbnRSZXF1ZXN0TWFuYWdlcihhLmEsYixhLlAoKT9WaWRlb1ByaW9yaXR5Q2FsY3VsYXRvci5jYWxjdWxhdGVMaXZlOlZpZGVvUHJpb3JpdHlDYWxjdWxhdG9yLmNhbGN1bGF0ZSxhLmwsYyxhLkFiLGEuZGEsYS5pYSksYS5SJiZkLnVwZGF0ZVByaW9yaXR5V2l0aE5ld0FkanVzdG1lbnQoYS5SLmdldFByaW9yaXR5QWRqdXN0bWVudCgpKSxhLm9bYl09ZCk7cmV0dXJuIGR9cmV0dXJuIG51bGx9ZnVuY3Rpb24gYmcoYSxiKXthLnZpZGVvLmN1cnJlbnRUaW1lPWI7YS5hLmdldEJvb2woInNldF9wZW5kaW5nX3NlZWtfb25fc2V0X2N1cnJlbnRfdGltZV9mYWlsdXJlIiwhMSkmJmEudmlkZW8uY3VycmVudFRpbWUrMTxiJiZjZyhhLGIpO2EuRD1ifQpmdW5jdGlvbiBYZihhLGIsYyl7YS5rYz1hLnZpZGVvLnBsYXliYWNrUmF0ZTthLnZpZGVvLnBsYXliYWNrUmF0ZT0wO2RnKGEsYyk7dmFyIGQ7ZD1hLmIuZjsoIWEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9hZGp1c3Rfc3RyZWFtX2xpbWl0c19zdGFydF9vZmZzZXRfaW50IiwwKSYmIWEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9qdW1wX3RvX2xpdmVfc2lkeF9lbmRfb2Zmc2V0IiwwKXx8IWQpJiZhLmxhJiZhLmxhPD1jLmVuZCYmYS5sYT49Yy5zdGFydD9kPWEubGE6YS5iLmI/KGQ9ZWcoYSxjKSxhLmVjPSEwKTpkPWMuc3RhcnQ7RShhLmgsYS52aWRlbywic2Vla2luZyIsYS5tZC5iaW5kKGEpKTthLkk/KGEuSS5zZXRPblBsYXlpbmcoYS5tYi5iaW5kKGEsITApKSxhLkkuc2V0T25QYXVzZWQoYS5tYi5iaW5kKGEsITEpKSxhLkkuZW5hYmxlKCkpOihFKGEuaCxhLnZpZGVvLCJwbGF5aW5nIixhLm1iLmJpbmQoYSwhMCkpLGEuYS5nZXRCb29sKCJ1cGRhdGVfcHJpb3JpdHlfb25fcGxheV9ldmVudCIsCiEwKSYmRShhLmgsYS52aWRlbywicGxheSIsYS5tYi5iaW5kKGEsITApKSxFKGEuaCxhLnZpZGVvLCJwYXVzZSIsYS5tYi5iaW5kKGEsITEpKSk7RShhLmgsYS52aWRlbywic2Vla2luZyIsYS5NYy5iaW5kKGEpKTtFKGEuaCxhLnZpZGVvLCJ0aW1ldXBkYXRlIix0aHJvdHRsZShhLk1jLmJpbmQoYSksYS5hLmdldE51bWJlcigic2NoZWR1bGVyX3ByaW9yaXR5X3VwZGF0ZV9pbnRlcnZhbCIsMUUzKSkpO2lmKGEudmlkZW8uY3VycmVudFRpbWUhPWQpaWYoYS5TYikwIT09YS52aWRlby5yZWFkeVN0YXRlP2JnKGEsZCk6Y2coYSxkKTtlbHNlIHRyeXtiZyhhLGQpfWNhdGNoKGUpe2NnKGEsZCl9ZmcoYSxjLnN0YXJ0LGMuZW5kLGMubGFzdCxjLlphKTt2YXIgZj1bXSxnO2ZvcihnIGluIGEuYyl7Yz1hLmNbZ107SihhLGZ1bmN0aW9uKGEpe2YucHVzaChhLktjKHRoaXMuc2EpLnRoZW4oSih0aGlzLGZ1bmN0aW9uKGIpe3ZhciBjPWEuc2IoKTtjPnRoaXMuQmImJih0aGlzLkJiPWMpO3JldHVybiBifSkpKX0pKGMpOwpFKGEuaCxjLCJlbmRlZCIsYS5vZC5iaW5kKGEpKTtFKGEuaCxjLCJzaG91bGRfZW5kX2FsbF9zdHJlYW1zIixhLnBkLmJpbmQoYSkpO0UoYS5oLGMsInNob3VsZF9udWRnZSIsYS5qZC5iaW5kKGEpKTtkPWJbZ107dmFyIGg9YS5BLmdldEluaXRpYWxTd2l0Y2hSZWFzb24oKXx8dm9pZCAwO2MuamIoZCwhMSx2b2lkIDAsaCl9UHJvbWlzZS5hbGwoZikudGhlbihKKGEsZnVuY3Rpb24oYSl7dGhpcy5hLmdldEJvb2woInByZXZlbnRfc3RyZWFtX3N0YXJ0X2lmX3N0cmVhbXNfY2hhbmdlIiwhMSkmJiFnZyh0aGlzKXx8aGcodGhpcyxhKX0pKS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7ImRlc3Ryb3kiIT1hLnR5cGUmJihhPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGEpKX0pKTtuZihhLGEueWEpfQpuLm1iPWZ1bmN0aW9uKGEpe09iamVjdC5rZXlzKHRoaXMubykuZm9yRWFjaChmdW5jdGlvbihiKXt0aGlzLm9bYl0udXBkYXRlUHJpb3JpdHlXaXRoTmV3UGxheWluZ1N0YXRlKGEpfS5iaW5kKHRoaXMpKTtPYmplY3Qua2V5cyh0aGlzLncpLmZvckVhY2goZnVuY3Rpb24oYil7dGhpcy53W2JdLmdldFByaW9yaXR5VXBkYXRlcigpLnVwZGF0ZVByaW9yaXR5V2l0aE5ld1BsYXlpbmdTdGF0ZShhKX0uYmluZCh0aGlzKSk7aWYodGhpcy5sKXt2YXIgYj1NZih0aGlzLEhmKHRoaXMpKTtiJiZ0aGlzLnZpZGVvLmN1cnJlbnRUaW1lPGIuc3RhcnQmJkJhbnphaU9EUy5idW1wRW50aXR5S2V5KDI5NjYsInZpZGVvcy53d3cuc2hha2EiLCJjdXJyZW50X3RpbWVfYXRfcGxheWluZ19sZXNzX3RoYW5fc3RyZWFtX2xpbWl0c19zdGFydCIpfWEmJm51bGwhPT10aGlzLmNhJiYodGhpcy54YT0xLFJmKHRoaXMsdGhpcy54YSksaWcodGhpcykpfTsKbi5NYz1mdW5jdGlvbigpe3RoaXMudmlkZW8mJihPYmplY3Qua2V5cyh0aGlzLm8pLmZvckVhY2goZnVuY3Rpb24oYSl7dGhpcy5vW2FdLnVwZGF0ZVByaW9yaXR5V2l0aE5ld1BsYXloZWFkKHRoaXMudmlkZW8uY3VycmVudFRpbWUpfS5iaW5kKHRoaXMpKSxPYmplY3Qua2V5cyh0aGlzLncpLmZvckVhY2goZnVuY3Rpb24oYSl7dGhpcy53W2FdLmdldFByaW9yaXR5VXBkYXRlcigpLnVwZGF0ZVByaW9yaXR5V2l0aE5ld1BsYXloZWFkKHRoaXMudmlkZW8uY3VycmVudFRpbWUpfS5iaW5kKHRoaXMpKSl9O2Z1bmN0aW9uIFFmKGEpe2lmKGEuYS5nZXRCb29sKCJjbGVhcl9jdXJyZW50X3NlZ21lbnRfaW5kZXhlc19kdXJpbmdfbGl2ZWhlYWRfY2F0Y2h1cCIsITEpKWZvcih2YXIgYiBpbiBhLmMpYS5jW2JdLmk9bnVsbH1mdW5jdGlvbiBjZyhhLGIpe2EuYmE9Yjtmb3IodmFyIGMgaW4gYS5jKXt2YXIgZD1hLmNbY107YS5iYSYmKGQuSj1hLmJhKX19CmZ1bmN0aW9uIGdnKGEpe3JldHVybiFPYmplY3Qua2V5cyhhLmMpLnNvbWUoSihhLGZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNbYV0mJiF0aGlzLmNbYV0uaH0pKX0KZnVuY3Rpb24gaGcoYSxiKXtiYShiJiZiLmxlbmd0aD09T2JqZWN0LmtleXMoYS5jKS5sZW5ndGgpO2Zvcih2YXIgYz1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksZD1OdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFksZT0wO2U8Yi5sZW5ndGg7KytlKXZhciBmPWJbZV0sYz1NYXRoLm1pbihjLGYpLGQ9TWF0aC5tYXgoZCxmKTtjPUhmKGEpO2ZvcihlPTA7ZTxjLmxlbmd0aDsrK2UpY1tlXS5UYShkKTthLmEuZ2V0Qm9vbCgicHJvY2Vzc19kZWZlcnJlZF9zd2l0Y2hlc19lYXJseSIsITEpJiZqZyhhKTtrZyhhLGMsZCk7dmFyIGc9V2EoYS5jKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuV2EoKS5pZH0pO2EuYS5nZXRCb29sKCJzZXF1ZW50aWFsbHlfbG9hZF9zdHJlYW1zIiwhMSk/bGcoYSxnLGQpOihlPSRhKGEuZikubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLnZ9KS5yZWR1Y2UoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5jb25jYXQoYil9LFtdKS5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIX5nLmluZGV4T2YoYS5pZCl9KS5tYXAoSihhLApmdW5jdGlvbihhKXt2YXIgYj1bYS5NLnBiP2EuTS5wYigpOmEuTS5jcmVhdGUoKV07YS5hYSYmYi5wdXNoKGEuYWEuY3JlYXRlKHRoaXMubCx0aGlzLmRhKSk7cmV0dXJuIFByb21pc2UuYWxsKGIpfSkpLFByb21pc2UuYWxsKGUpLnRoZW4oSihhLGZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7KytiKWFbYl1bMF0uVGEoZCk7dGhpcy5DYT0hMDtqZyh0aGlzKX0pKS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7ImFib3J0ZWQiIT1hLnR5cGUmJihhPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGEpKX0pKSl9CmZ1bmN0aW9uIGxnKGEsYixjKXt2YXIgZD1Qcm9taXNlLnJlc29sdmUoKTskYShhLmYpLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS52fSkucmVkdWNlKGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuY29uY2F0KGIpfSxbXSkuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiF+Yi5pbmRleE9mKGEuaWQpfSkuZm9yRWFjaChmdW5jdGlvbihhKXtkPWQudGhlbihKKHRoaXMsZnVuY3Rpb24oYil7YiYmYlswXS5UYShjKTtiPVthLk0ucGI/YS5NLnBiKCk6YS5NLmNyZWF0ZSgpXTthLmFhJiZiLnB1c2goYS5hYS5jcmVhdGUodGhpcy5sLHRoaXMuZGEpKTtyZXR1cm4gUHJvbWlzZS5hbGwoYil9KSkuY2F0Y2goZnVuY3Rpb24oYSl7dGhyb3cgYTt9KX0pO2QudGhlbihKKGEsZnVuY3Rpb24oKXt0aGlzLkNhPSEwO2pnKHRoaXMpfSkpLmNhdGNoKEooYSxmdW5jdGlvbihhKXsiYWJvcnRlZCIhPWEudHlwZSYmKGE9QShhKSx0aGlzLmRpc3BhdGNoRXZlbnQoYSkpfSkpfQpmdW5jdGlvbiBqZyhhKXtmb3IodmFyIGIgaW4gYS5CKXt2YXIgYz1hLkJbYl07YS5jW2JdLmpiKGMuTGMsYy5yYyxjLnNjLGMuc3dpdGNoUmVhc29uLGMuS2EpfWEuQj17fX0KZnVuY3Rpb24ga2coYSxiLGMpe3ZhciBkO2EuYS5nZXRCb29sKCJ3d3dfdmlkZW9zX2V4dGVuZGVkX3NwbF9sb2dnaW5nX2Zvcl9jb25uZWN0ZWRfdHYiLCExKSYmYS5sJiYoZD1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJzdHJlYW1fdmlkZW9fc291cmNlX2JlZ2luX3BsYXliYWNrIikpO2lmKGI9TWYoYSxiKSlkZyhhLGIpLGZnKGEsYi5zdGFydCxiLmVuZCxiLmxhc3QsYi5aYSk7MCE9Yz8oYz1hLnZpZGVvLmN1cnJlbnRUaW1lK2MsYS5hLmdldE51bWJlcigid3d3X3ZpZGVvc19udWRnZV90aW1lc3RhbXBfY29ycmVjdGlvbl9zIiwwKSYmKGMrPWEuYS5nZXROdW1iZXIoInd3d192aWRlb3NfbnVkZ2VfdGltZXN0YW1wX2NvcnJlY3Rpb25fcyIsMCkpLGEudmlkZW8uY3VycmVudFRpbWU9YyxhLkQ9Yyk6YS5lYyYmYiYmKGM9ZWcoYSxiKSxNYXRoLmFicyhjLWEudmlkZW8uY3VycmVudFRpbWUpPj1hLmRjJiYoYS52aWRlby5jdXJyZW50VGltZT1jKSk7YS5hLmdldEJvb2woInVuaWZ5X3N0cmVhbV9zdGFydF93aXRoX2J1ZmZlcl9kZXRlY3RvciIsCiExKT8oYz15KHt0eXBlOiJhbGxTdHJlYW1zU3RhcnRlZCIsYnViYmxlczohMH0pLGEuZGlzcGF0Y2hFdmVudChjKSk6YS52aWRlby5wbGF5YmFja1JhdGU9YS5rYzthLmIuYiYmbnVsbCE9YS5iLmMmJktmKGEsMCk7bWcoYSk7YS5zYS5yZXNvbHZlKCk7ZCYmZC5sb2coKX0KZnVuY3Rpb24gZWcoYSxiKXt2YXIgYz1iLmVuZDt2b2lkIDAhPT1iLkJjJiYoYz1iLkJjKTtpZihhLmEuZ2V0Qm9vbCgidGVtcGxhdGVkX2Fsd2F5c19qdW1wX3RvX3N0cmVhbV9saW1pdHNfZW5kIiwhMSkmJmEuYiYmYS5iLmYpcmV0dXJuIGIuZW5kO2lmKGEuY2Mpe3ZhciBkPWEudmlkZW8uY3VycmVudFRpbWUsZT1iLnN0YXJ0O2lmKGEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9hZGp1c3Rfc3RyZWFtX2xpbWl0c19zdGFydF9vZmZzZXRfaW50IiwwKSYmYS5iJiZhLmIuZil7Zm9yKHZhciBmPUhmKGEpLGc9MCxoPTA7aDxmLmxlbmd0aDsrK2gpe3ZhciBrPWZbaF0sbD1NYXRoLm1pbihhLmEuZ2V0TnVtYmVyKCJ0ZW1wbGF0ZWRfYWRqdXN0X3N0cmVhbV9saW1pdHNfc3RhcnRfb2Zmc2V0X2ludCIsMCksay5sZW5ndGgoKSk7ay5sZW5ndGgoKSYmMDxsJiZsPD1rLmxlbmd0aCgpJiYoZz1NYXRoLm1heChrLmdldChrLmxlbmd0aCgpLWwpLnN0YXJ0VGltZSxnKSl9ZT1NYXRoLm1heChlLApnKX1pZihkPj1lJiZkPD1iLmVuZCYmZDxjKWlmKGEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9qdW1wX3RvX2xpdmVfc2lkeF9lbmRfb2Zmc2V0IiwwKSYmYS5iJiZhLmIuZil7Zj1IZihhKTtrPW51bGw7ZT1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7Zm9yKGg9MDtoPGYubGVuZ3RoOysraClmW2hdLmxlbmd0aCgpPGUmJihlPWZbaF0ubGVuZ3RoKCksaz1mW2hdKTtrJiZlPmEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9qdW1wX3RvX2xpdmVfc2lkeF9lbmRfb2Zmc2V0IiwwKSYmKGY9ay5nZXQoay5sZW5ndGgoKS1hLmEuZ2V0TnVtYmVyKCJ0ZW1wbGF0ZWRfanVtcF90b19saXZlX3NpZHhfZW5kX29mZnNldCIsMCkpLnN0YXJ0VGltZSxkPj1mJiYoYz1kKSl9ZWxzZSBjPWR9cmV0dXJuIGN9CmZ1bmN0aW9uIGRnKGEsYil7aWYoYS5iLmIpaXNOYU4oYS5pLmR1cmF0aW9uKSYmKGEuaS5kdXJhdGlvbj1iLmVuZCsyNTkyRTMpO2Vsc2UgaWYoaXNOYU4oYS5pLmR1cmF0aW9uKXx8Yi5lbmQ+YS5pLmR1cmF0aW9uKWlmKGEuaS5kdXJhdGlvbj1iLmVuZCwhYS5hLmdldEJvb2woImRpc2FibGVfYXBwZW5kX3dpbmRvd19lbmQiLCExKSlmb3IodmFyIGM9YS5hLmdldE51bWJlcigiYXBwZW5kX3dpbmRvd19lbmRfZnVkZ2VfZmFjdG9yIiwwKSxkPTA7ZDxhLmkuc291cmNlQnVmZmVycy5sZW5ndGg7KytkKWEuaS5zb3VyY2VCdWZmZXJzW2RdLmFwcGVuZFdpbmRvd0VuZD1iLmVuZCtjfQpuLnJkPWZ1bmN0aW9uKCl7dGhpcy5rYT1udWxsO21nKHRoaXMpO3ZhciBhPU1mKHRoaXMsSGYodGhpcykpO2lmKGEpe3ZhciBiPXRoaXMuYi5iO3RoaXMuYS5nZXRCb29sKCJ0cmVhdF9saXZlX3N0YXRpY19tYW5pZmVzdF9hc19keW5hbWljIiwhMSkmJihiPWJ8fHRoaXMuYi5oKTtiJiZ0aGlzLmphIT1hLmxhc3QmJih0aGlzLmphPWEubGFzdCxudWxsIT10aGlzLmomJihjbGVhclRpbWVvdXQodGhpcy5qKSx0aGlzLmo9bnVsbCkpO2ZnKHRoaXMsYS5zdGFydCxhLmVuZCxhLmxhc3QsYS5aYSk7dGhpcy52aWRlby5wYXVzZWR8fG5nKHRoaXMsdGhpcy52aWRlby5jdXJyZW50VGltZSxhLnN0YXJ0LGEuZW5kKX19O2Z1bmN0aW9uIGZnKGEsYixjLGQsZSl7Yj15KHt0eXBlOiJzZWVrcmFuZ2VjaGFuZ2VkIixidWJibGVzOiEwLHN0YXJ0OmIsZW5kOmMsbGFzdDpkLHNlZWtSYW5nZUdhcHM6ZX0pO2EuZGlzcGF0Y2hFdmVudChiKX0Kbi5tZD1mdW5jdGlvbigpe3ZhciBhPXRoaXMudmlkZW8uY3VycmVudFRpbWUsYj1NZih0aGlzLEhmKHRoaXMpKTt0aGlzLmwmJmImJmE8Yi5zdGFydCYmQmFuemFpT0RTLmJ1bXBFbnRpdHlLZXkoMjk2NiwidmlkZW9zLnd3dy5zaGFrYSIsImN1cnJlbnRfdGltZV9hdF9zZWVrX2xlc3NfdGhhbl9zdHJlYW1fbGltaXRzX3N0YXJ0Iik7aWYobnVsbCE9dGhpcy5EKXtpZihhPj10aGlzLkQtLjAxJiZhPD10aGlzLkQrLjAxKXt0aGlzLkQ9bnVsbDt0aGlzLmwmJmImJmE8Yi5zdGFydCYmQmFuemFpT0RTLmJ1bXBFbnRpdHlLZXkoMjk2NiwidmlkZW9zLnd3dy5zaGFrYSIsImlnbm9yZWRfc2Vla193aGVuX2N1cnJlbnRfdGltZV9hdF9zZWVrX2xlc3NfdGhhbl9zdHJlYW1fbGltaXRzX3N0YXJ0Iik7cmV0dXJufXRoaXMuRD1udWxsfWlmKGIpe3ZhciBjPWIuc3RhcnQsZD1iLmVuZDt0aGlzLmEuZ2V0Qm9vbCgic2tpcF9yZW1haW5pbmdfYnVmZmVyZWRfb25fc3RyZWFtX2VuZCIsITEpJiZ0aGlzLmIuYiYmCnRoaXMuYi5oJiZ0aGlzLnZpZGVvLnBhdXNlZCYmKGQ9dGhpcy5qYSk7KGM9bmcodGhpcyxhLGMsZCkpfHwoYTw9ZCsuMDF8fHRoaXMuYi5iJiYhb2codGhpcyxkKT9jPSExOih0aGlzLnZpZGVvLmN1cnJlbnRUaW1lPWQsYz0hMCkpO2lmKGMpdGhpcy5sJiZhPGIuc3RhcnQmJkJhbnphaU9EUy5idW1wRW50aXR5S2V5KDI5NjYsInZpZGVvcy53d3cuc2hha2EiLCJjbGFtcF9wbGF5aGVhZF93aGVuX2N1cnJlbnRfdGltZV9hdF9zZWVrX2xlc3NfdGhhbl9zdHJlYW1fbGltaXRzX3N0YXJ0Iik7ZWxzZXtmb3IodmFyIGUgaW4gdGhpcy5jKXRoaXMuY1tlXS5DYyh0aGlzLkVhKTt0aGlzLkVhPSExfX19O2Z1bmN0aW9uIG5nKGEsYixjLGQpe2lmKGI+PWMtLjAxKXJldHVybiExO2I9MDthLmIuYiYmKGI9LjUsb2coYSxjK2IpfHwoYj1hLmIuZykpO2EudmlkZW8uY3VycmVudFRpbWU9TWF0aC5taW4oYytiLGQpO3JldHVybiEwfQpmdW5jdGlvbiBvZyhhLGIpe2Zvcih2YXIgYyBpbiBhLmMpaWYoIWEuY1tjXS5JYyhiKSlyZXR1cm4hMTtyZXR1cm4hMH1uLm9kPWZ1bmN0aW9uKCl7aWYoIXRoaXMuYi5ifHx0aGlzLkZhKXtmb3IodmFyIGEgaW4gdGhpcy5jKWlmKCF0aGlzLmNbYV0uZmIoKSlyZXR1cm47dGhpcy5lYigpfX07bi5wZD1mdW5jdGlvbigpe2NsZWFyVGltZW91dCh0aGlzLnUpO3RoaXMuRmE9ITA7Zm9yKHZhciBhIGluIHRoaXMuYyl0aGlzLmNbYV0uZmIoKXx8dGhpcy5jW2FdLkNiKCl9O24uamQ9ZnVuY3Rpb24oKXt0aGlzLmEuZ2V0Qm9vbCgiaWdub3JlX3NlZWtfd2hlbl9udWRnaW5nIiwhMCkmJih0aGlzLkQ9dGhpcy52aWRlby5jdXJyZW50VGltZSk7dGhpcy52aWRlby5jdXJyZW50VGltZSs9LjAwMX07Cm4udGI9ZnVuY3Rpb24oKXtpZih0aGlzLmFjKCl8fHRoaXMuYmMoKSlyZXR1cm4hMDt2YXIgYT10aGlzLmIsYj1udWxsLGM9bnVsbDthJiZhLmEmJmEuYVswXSYmKGI9YS5hWzBdKTtiJiZiLmEmJmIuYVswXSYmKGM9Yi5hWzBdKTtyZXR1cm4hIWMmJmMuYn07WS5wcm90b3R5cGUuaGFzSW5saW5lZENlYTYwOFN1YnRpdGxlcz1ZLnByb3RvdHlwZS50YjtZLnByb3RvdHlwZS5QYj1mdW5jdGlvbihhKXt0aGlzLm5jPWE7dmFyIGI9dGhpcy5jOyJ2aWRlbyJpbiBiJiYoYT1hJiZ0aGlzLnRiKCksYi52aWRlby5jLlM9YSl9O1kucHJvdG90eXBlLnNldEVuYWJsZUNlYTYwOFBhcnNpbmc9WS5wcm90b3R5cGUuUGI7CmZ1bmN0aW9uIHNmKGEpe3ZhciBiPWEuYS5nZXROdW1iZXIoImxpdmVfYnVmZmVyaW5nX3VuZGVyZmxvd190aHJlc2hvbGQiLC41KSxjPWEuYS5nZXRCb29sKCJmaXhfbGl2ZV9zdHJlYW1fZ29uZV9vbl9tYW5pZmVzdF91cGRhdGUiLCEwKSYmYS5oYyxkPSExO2lmKGEuYi5oKXt2YXIgZD1hLmEuZ2V0TnVtYmVyKCJsaXZlX3N0cmVhbV9lbmRfc2xhY2siLDApLGU7Zm9yKGUgaW4gYS5jKWEuY1tlXS5mYigpfHwoZD0wKTtkPWEudmlkZW8uY3VycmVudFRpbWUrYitkPmEuamF9cmV0dXJuIGN8fGR9bj1ZLnByb3RvdHlwZTsKbi5jZD1mdW5jdGlvbigpe3RoaXMuJD0hMDtpZih0aGlzLmImJnRoaXMuYi5iKXtpZihzZih0aGlzKSlyZXR1cm4gdGhpcy5lYigpO3RoaXMuYS5nZXRCb29sKCJhbGxvd19pbmZpbml0ZV9yZXRyeV9vbl9uZXRfZXJyIiwhMCkmJnRoaXMuRy5pc05ldHdvcmtJbnRlcnJ1cHRlZCgpfHwhV2EodGhpcy5jKS5ldmVyeShmdW5jdGlvbihhKXtyZXR1cm4gYS5mYigpfSl8fHBnKHRoaXMsdGhpcy5nYil9dGhpcy5hLmdldEJvb2woImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvdyIsITEpJiYobnVsbD09PXRoaXMuS3x8RGF0ZS5ub3coKS10aGlzLmZjPnRoaXMuYS5nZXROdW1iZXIoImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvd190aW1lX3dpbmRvdyIsMkUzKT90aGlzLks9dGhpcy5hLmdldE51bWJlcigiYnVmZmVyaW5nX292ZXJmbG93X3RocmVzaG9sZCIsMCk6dGhpcy5LKj10aGlzLmEuZ2V0TnVtYmVyKCJiYWNrX29mZl9idWZmZXJpbmdfb3ZlcmZsb3dfdGltZV9mYWN0b3IiLDIpLAp0aGlzLks9TWF0aC5taW4odGhpcy5LLHRoaXMuYS5nZXROdW1iZXIoImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvd19tYXgiLDUpKSl9O2Z1bmN0aW9uIHBnKGEsYil7YS5qPXNldFRpbWVvdXQoYS5lYi5iaW5kKGEpLGIpfW4uYmQ9ZnVuY3Rpb24oKXt0aGlzLiQ9ITE7dGhpcy5hLmdldEJvb2woImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvdyIsITEpJiYodGhpcy5mYz1EYXRlLm5vdygpKTtudWxsIT10aGlzLmomJihjbGVhclRpbWVvdXQodGhpcy5qKSx0aGlzLmo9bnVsbCl9O24uZ2Q9ZnVuY3Rpb24oKXtudWxsIT09dGhpcy5iYSYmKGJnKHRoaXMsdGhpcy5iYSksY2codGhpcyxudWxsKSl9O24uR2Q9ZnVuY3Rpb24oKXt9OwpuLmViPWZ1bmN0aW9uKCl7dGhpcy4kPSExO3RoaXMuaj1udWxsO3ZhciBhO2lmKGE9dGhpcy5hLmdldEJvb2woInRlc3Rfc291cmNlX2J1ZmZlcnNfbm90X3VwZGF0aW5nX2VuZF9vZl9zdHJlYW0iLCExKSlhOntmb3IoYT0wO2E8dGhpcy5pLnNvdXJjZUJ1ZmZlcnMubGVuZ3RoOysrYSlpZih0aGlzLmkuc291cmNlQnVmZmVyc1thXS51cGRhdGluZyl7YT0hMDticmVhayBhfWE9ITF9aWYoYSlyZXR1cm4gcGcodGhpcywxRTMpOyJvcGVuIj09dGhpcy5pLnJlYWR5U3RhdGUmJnRoaXMuaS5lbmRPZlN0cmVhbSgpfTtmdW5jdGlvbiBIZihhKXtyZXR1cm4gV2EoYS5jKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuRmIoKX0pLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YX0pfWZ1bmN0aW9uIExmKGEpe3JldHVybiBNYXRoLm1heChhLmI/YS5iLmc6MSxhLlpiP2EuZy5zdHJlYW1CdWZmZXJTaXplfHwwOjApfQpmdW5jdGlvbiBNZihhLGIpe2Zvcih2YXIgYz0wLGQ9TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLGU9TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLGY9W10sZz0hVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJub19zZWVrX3JhbmdlX2dhcHNfZHVyaW5nX2NvbXB1dGVfc3RyZWFtX2xpbWl0cyIsITEpLGg9MDtoPGIubGVuZ3RoOysraCl7dmFyIGs9YltoXS5BKCk7ZyYmKGY9Zi5jb25jYXQoYltoXS5nZXRTZWVrUmFuZ2VHYXBzKCkpKTtjPU1hdGgubWF4KGMsay5zdGFydCk7bnVsbCE9ay5lbmQmJihkPU1hdGgubWluKGQsay5lbmQpKTtiW2hdLmxlbmd0aCgpJiYoZT1NYXRoLm1pbihlLGJbaF0ubGFzdCgpLmVuZFRpbWUpKX1nJiYoZj1tZXJnZVNlZWtSYW5nZUdhcHMoZikpO2lmKGQ9PU51bWJlci5QT1NJVElWRV9JTkZJTklUWSlpZihkPWEuYi5hWzBdLGQuZHVyYXRpb24pZD0oZC5zdGFydHx8MCkrZC5kdXJhdGlvbjtlbHNlIHJldHVybiBudWxsO2lmKGEuYi5iKXt2YXIgZz0KTGYoYSksZD1NYXRoLm1heChkLWcsYyksbDthLnJhJiZhLmEuZ2V0Qm9vbCgibGl2ZV9qdW1wX3RvX3B1c2hlZF9zZWdtZW50IiwhMSkmJmIubGVuZ3RoJiYoaD1NYXRoLmZsb29yKExmKGEpLzEpKzEsZz1iWzBdLGg9Zy5sZW5ndGgoKS1oLChnPWcuZ2V0KGgpKSYmKGw9Zy5zdGFydFRpbWUpKX1pZihjPmQpcmV0dXJuIG51bGw7ZD1NYXRoLmZsb29yKDFFNSpkKS8xRTU7cmV0dXJue3N0YXJ0OmMsZW5kOmQsbGFzdDplLFphOmYsQmM6bH19bi5uYj1mdW5jdGlvbigpe3JldHVybiBNZih0aGlzLEhmKHRoaXMpKX07WS5wcm90b3R5cGUuY29tcHV0ZVN0cmVhbUxpbWl0cz1ZLnByb3RvdHlwZS5uYjtmdW5jdGlvbiBtZyhhKXthLmIuYiYmKGEua2E9c2V0VGltZW91dChhLnJkLmJpbmQoYSksMUUzKSl9ZnVuY3Rpb24gRGYoYSl7Zm9yKHZhciBiIGluIGEuYylhLmNbYl0ucGEoYS5nKX1ZLnByb3RvdHlwZS5zYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLkJifTsKWS5wcm90b3R5cGUuZ2V0TG9uZ2VzdEluaXRSZXNwb25zZVRpbWU9WS5wcm90b3R5cGUuc2I7ZnVuY3Rpb24gWmYoYSl7cmV0dXJuInYiPT09YS5jaGFyQXQoMCk/InZpZGVvIjoiYSI9PT1hLmNoYXJBdCgwKT8iYXVkaW8iOm51bGx9WS5wcm90b3R5cGUuVGM9ZnVuY3Rpb24oKXt2YXIgYT15KHt0eXBlOiJuZXR3b3JraW50ZXJydXB0ZWQiLGJ1YmJsZXM6ITB9KTt0aGlzLmRpc3BhdGNoRXZlbnQoYSk7dGhpcy5UPXRoaXMuVHx8RGF0ZS5ub3coKTt0aGlzLiQmJnRoaXMuaiYmY2xlYXJUaW1lb3V0KHRoaXMuail9OwpZLnByb3RvdHlwZS5VYz1mdW5jdGlvbigpe3ZhciBhPXkoe3R5cGU6Im5ldHdvcmtyZXN1bWVkIixidWJibGVzOiEwfSk7dGhpcy5kaXNwYXRjaEV2ZW50KGEpO2E9dGhpcy5hLmdldE51bWJlcigibWF4X25ldHdvcmtfaW50ZXJydXB0ZWRfdGltZV9iZWZvcmVfc2VlayIsMUU0KTtudWxsIT09dGhpcy5UJiZEYXRlLm5vdygpLXRoaXMuVD49YSYmKHRoaXMuVD1udWxsLHRoaXMuZWE9ITApO3RoaXMuYS5nZXRCb29sKCJmaXhfbmV0d29ya19pbnRlcnJ1cHRlZF9zdGFydF9ub3RfbnVsbGVkIiwhMSkmJih0aGlzLlQ9bnVsbCk7dGhpcy4kJiZwZyh0aGlzLHRoaXMuZ2IpfTtZLnByb3RvdHlwZS5WYz1mdW5jdGlvbigpe3RoaXMuZWE9ITB9O2Z1bmN0aW9uIFBmKGEpe2EuYS5nZXRCb29sKCJkZWNvdXBsZV9tcGRfdXBkYXRlX2xvb3BfZnJvbV9yZXF1ZXN0X2xvb3AiLCExKXx8S2YoYSwwKX1ZLnByb3RvdHlwZS5xYz1mdW5jdGlvbihhKXt0aGlzLm5hPWF9OwpZLnByb3RvdHlwZS5zZXRFbmFibGVMaXZlaGVhZENhdGNodXA9WS5wcm90b3R5cGUucWM7WS5wcm90b3R5cGUuemQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uYX07WS5wcm90b3R5cGUuaXNMaXZlaGVhZENhdGNodXBFbmFibGVkPVkucHJvdG90eXBlLnpkO1kucHJvdG90eXBlLlNjPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYy52aWRlbz90aGlzLmMudmlkZW8uYy5pOm51bGx9O1kucHJvdG90eXBlLmdldFZpZGVvU3RyZWFtUHJvZ3Jlc3NUcmFja2VyPVkucHJvdG90eXBlLlNjO1kucHJvdG90eXBlLnFiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYy52aWRlbz90aGlzLmMudmlkZW8ucWIoKTpudWxsfTtZLnByb3RvdHlwZS5nZXRCdWZmZXJWZWxvY2l0eT1ZLnByb3RvdHlwZS5xYjtmdW5jdGlvbiBSZihhLGIpe2Zvcih2YXIgYyBpbiBhLmMpYS5jW2NdLm5hPWJ9CmZ1bmN0aW9uIGlnKGEpe3ZhciBiPVtdO2lmKG51bGwhPT1hLmNhKXt2YXIgYz1hLmNhLGQ7Zm9yKGQgaW4gYS5jKWIucHVzaChyZShhLmNbZF0sYS5jYSkpO1Byb21pc2UuYWxsKGIpLnRoZW4oSihhLGZ1bmN0aW9uKCl7aWYoYyl7Zm9yKHZhciBhIGluIHRoaXMuYyl7dmFyIGI9dGhpcy5jW2FdO2IuSz1udWxsO2IuVj0hMTtiLkk9bnVsbH1jPnRoaXMudmlkZW8uY3VycmVudFRpbWUmJih0aGlzLnZpZGVvLmN1cnJlbnRUaW1lPWMpfX0pKX1hLmNhPW51bGx9O2Z1bmN0aW9uIFooYSxiLGMsZCxlLGYsZyl7ZHx8KGQ9bmV3IEcpO2V8fChlPW5ldyBYKTtZLmNhbGwodGhpcyxudWxsLGIsZCxlKTsic3RyaW5nIj09PXR5cGVvZiBhP3RoaXMuamM9YTp0aGlzLk5iPWE7dGhpcy5hPWI7dGhpcy5GPW51bGw7dGhpcy50YT1jO3RoaXMuRGE9W107dGhpcy5RYj1bXTt0aGlzLlJiPVtdO3RoaXMuSGE9MDt0aGlzLlk9bnVsbDt0aGlzLk1iPWd8fG51bGx9cihaLFkpO3EoInNoYWthLnBsYXllci5EYXNoVmlkZW9Tb3VyY2UiLFopO1oucHJvdG90eXBlLkpkPWZ1bmN0aW9uKGEpe3RoaXMuRj1hO3RoaXMuSmIoITAsITApfTtaLnByb3RvdHlwZS51cGRhdGVNYW5pZmVzdD1aLnByb3RvdHlwZS5KZDtaLnByb3RvdHlwZS5PYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLk5ifHx0aGlzLkZ9O1oucHJvdG90eXBlLmdldE1hbmlmZXN0PVoucHJvdG90eXBlLk9iO1oucHJvdG90eXBlLlRiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuT2IoKX07CloucHJvdG90eXBlLmRlYnVnR2V0TWFuaWZlc3Q9Wi5wcm90b3R5cGUuVGI7Wi5wcm90b3R5cGUuWmM9ZnVuY3Rpb24oYSxiLGMpe3RoaXMuRGEucHVzaChhKTt0aGlzLlFiLnB1c2goYnx8IiIpO3RoaXMuUmIucHVzaChjfHwiIil9O1oucHJvdG90eXBlLmFkZEV4dGVybmFsQ2FwdGlvbnM9Wi5wcm90b3R5cGUuWmM7Wi5wcm90b3R5cGUudGQ9ZnVuY3Rpb24oYSl7dGhpcy5ZPWF9O1oucHJvdG90eXBlLnNldE5ldHdvcmtDYWxsYmFjaz1aLnByb3RvdHlwZS50ZDtaLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5GPXRoaXMuWT10aGlzLnRhPW51bGw7WS5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpfTsKWi5wcm90b3R5cGUud2I9ZnVuY3Rpb24oKXt2YXIgYTt0aGlzLmwmJihhPXRoaXMubC5nZXRPcGVyYXRpb25Mb2dnZXIoInNvdXJjZV9sb2FkIikuc3RhcnQoKSk7dmFyIGIsYz1KKHRoaXMsZnVuY3Rpb24oYSl7aWYodGhpcy5hLmdldEJvb2woImVuYWJsZV9kb3VibGVfaW5nZXN0X29uX2luaXRpYWxfbXBkIiwhMSkpc3dpdGNoKGEuc3RhdHVzKXtjYXNlIDIwMDpjYXNlIDQxNzppZihhLnJlc3BvbnNlSGVhZGVycyYmbnVsbCE9YS5yZXNwb25zZUhlYWRlcnNbIngtZmItdmlkZW8tcmVwbGljYSJdKXJldHVybiB0aGlzLmRpc3BhdGNoRXZlbnQoeSh7dHlwZToicmVwbGljYXN3aXRjaCIsYnViYmxlczohMCxyZXBsaWNhOmEucmVzcG9uc2VIZWFkZXJzWyJ4LWZiLXZpZGVvLXJlcGxpY2EiXX0pKSxuZXcgUHJvbWlzZShmdW5jdGlvbigpe30pfXRocm93IGE7fSksZD1KKHRoaXMsZnVuY3Rpb24oYyl7dGhpcy5MYSgiTVBERmV0Y2hEdXJhdGlvbiIsKERhdGUubm93KCktYikvMUUzKTt0aGlzLkY9CmM7Zm9yKHZhciBkPTA7ZDx0aGlzLkRhLmxlbmd0aDtkKyspTGMoYyx0aGlzLkRhW2RdLHRoaXMuUWJbZF0sdGhpcy5SYltkXSk7dmFyIGQ9bmV3IHllKHRoaXMuYSx0aGlzLnRhLHRoaXMubCx0aGlzLk1iKSxlO3RoaXMubCYmKGU9dGhpcy5sLmdldE9wZXJhdGlvbkxvZ2dlcigicHJvY2Vzc19tYW5pZmVzdCIpLnN0YXJ0KCkpO3RoaXMuYj16ZShkLGMsdGhpcy5ZKTtlJiZlLmxvZygpO2EmJmEuc2V0TWFuaWZlc3RUeXBlKHRoaXMuYi5iPyJkeW5hbWljIjoic3RhdGljIik7cmV0dXJuIFkucHJvdG90eXBlLndiLmNhbGwodGhpcykudGhlbihmdW5jdGlvbigpe2EmJmEubG9nKCl9KX0pO2lmKHRoaXMuTmIpcmV0dXJuIGI9RGF0ZS5ub3coKSxkKHRoaXMuTmIpO3ZhciBlPVtuZXcgTCh0aGlzLmpjKV0sZjtpZih0aGlzLnJhKXt2YXIgZz1uZXcgVmlkZW9QdXNoUGFyYW1ldGVyc0hlbHBlcih0aGlzLmpjKTtnLnNldFN0cmVhbUVuZE9mZnNldChNYXRoLmZsb29yKExmKHRoaXMpLzEpKTsKdGhpcy5PYSYmZy5zZXRQdXNoVmlkZW9SZXByZXNlbnRhdGlvbklEKHRoaXMuT2EpO3RoaXMucGEmJmcuc2V0UHVzaEF1ZGlvUmVwcmVzZW50YXRpb25JRCh0aGlzLnBhKTt0aGlzLm1hJiZnLnNldFVzZUxvbmdDYWNoZUZvck1hbmlmZXN0KHRoaXMubWEpO2Y9bmV3IGZkKG51bGwpO2YuYT1nfWU9bmV3IEsodGhpcy5ZLGUsdm9pZCAwLHZvaWQgMCx2b2lkIDAsdGhpcy5NYik7Zj1uZXcgZGQoZSx0aGlzLkxiLGYsdGhpcy5kYSk7Yj1EYXRlLm5vdygpO3JldHVybiBlZChmLHRoaXMubCkudGhlbihkLGMpfTsKWi5wcm90b3R5cGUudmM9ZnVuY3Rpb24oKXtpZih0aGlzLlViKXt2YXIgYT10aGlzLmI7aWYoYT0oYT1hJiZhLmEpJiZhWzBdKXt2YXIgYT1hLmEucmVkdWNlKGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuY29uY2F0KGIudil9LFtdKSxiPWZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hfTtQcm9taXNlLmFsbChhLm1hcChmdW5jdGlvbihhKXthPWEuTTtyZXR1cm4gYS5RYz9hLlJhOmEuY3JlYXRlKCl9KSkudGhlbihmdW5jdGlvbihhKXthPWEuZmlsdGVyKGIpO3RoaXMuTGEoIkluaXRpYWxTZWdtZW50SW5kZXhlcyIsYSl9LmJpbmQodGhpcykpO1Byb21pc2UuYWxsKGEubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLmFhfSkpLnRoZW4oZnVuY3Rpb24oYSl7YT1hLmZpbHRlcihiKTt0aGlzLkxhKCJTZWdtZW50SW5pdFNvdXJjZXMiLGEpfS5iaW5kKHRoaXMpKX19fTsKWi5wcm90b3R5cGUueWM9ZnVuY3Rpb24oYSxiLGMpe2lmKHRoaXMudmlkZW8ucGF1c2VkJiZ0aGlzLkhhKzFFND5EYXRlLm5vdygpJiZ0aGlzLmIpcmV0dXJuIFByb21pc2UucmVqZWN0KHt0eXBlOiJkZWxheSJ9KTt2YXIgZDtpZihiJiZ2b2lkIDAhPWMpZD1uZXcgZmQoYiksZC5mPWMsYj1TZih0aGlzKSxudWxsIT1iJiYoZC5jPWIuc3RyZWFtSW5mb0lELGQuYj10aGlzLnBhKTtlbHNlIGZvcihiPWEuYyxjPTA7YzxiLmxlbmd0aDtjKyspe3ZhciBlPW5ldyBWaWRlb1B1c2hQYXJhbWV0ZXJzSGVscGVyKGJbY10udG9TdHJpbmcoKSk7dGhpcy5tYSYmZS5zZXRVc2VMb25nQ2FjaGVGb3JNYW5pZmVzdCh0aGlzLm1hKTtiW2NdPW5ldyBMKGUuZ2V0VVJMKCkpfWE9bmV3IGRkKGEsdGhpcy5MYixkLHRoaXMuZGEpO3ZhciBmPURhdGUubm93KCk7cmV0dXJuIGVkKGEsdGhpcy5sKS50aGVuKEoodGhpcyxmdW5jdGlvbihhKXt0aGlzLkhhPURhdGUubm93KCk7dGhpcy5MYSgiTVBERmV0Y2hEdXJhdGlvbiIsCih0aGlzLkhhLWYpLzFFMyk7dGhpcy5hLmdldEJvb2woInRyZWF0X2xpdmVfc3RhdGljX21hbmlmZXN0X2FzX2R5bmFtaWMiLCExKSYmKGEubWFuaWZlc3RJc0xpdmVTdHJlYW1pbmc9ImR5bmFtaWMiPT09KHRoaXMuRj90aGlzLkYudHlwZTphLnR5cGUpKTt0aGlzLkY9YTt2YXIgYj1uZXcgeWUodGhpcy5hLHRoaXMudGEsdGhpcy5sLHRoaXMuTWIpO2lmKHRoaXMubCl2YXIgYz10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJwcm9jZXNzX21hbmlmZXN0Iikuc3RhcnQoKTthPXplKGIsYSx0aGlzLlkpO2MmJmMubG9nKCk7cmV0dXJuIFByb21pc2UucmVzb2x2ZShhKX0pKX07Wi5wcm90b3R5cGUueGM9ZnVuY3Rpb24oKXt2YXIgYT16ZShuZXcgeWUodGhpcy5hLHRoaXMudGEpLHRoaXMuRix0aGlzLlkpO3JldHVybiBQcm9taXNlLnJlc29sdmUoYSl9O30uYmluZChnLCBnbG9iYWwpKSgpOwoKbW9kdWxlLmV4cG9ydHMgPSBnLnNoYWthOwoKCi8qICAqL30pLG51bGwpOwovLyMgc291cmNlVVJMPWZiOGIxNmM4YjU3NjdkNTE4ODYwZGFiMjgzMGM1MGYyLmpzCg==, line 416: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript error: data:application/x-javascript;charset=utf-8;base64,aWYgKHNlbGYuQ2F2YWxyeUxvZ2dlcikgeyBDYXZhbHJ5TG9nZ2VyLnN0YXJ0X2pzKFsiKzRzV3kiXSk7IH0KLyoqCiAqIEBwcm92aWRlc01vZHVsZSBTaGFrYQogKiBAcHJlc2VydmUtd2hpdGVzcGFjZQogKiBAbm9wYWNrYWdlCiAqIEBnZW5lcmF0ZWQKICovCl9fZCgiU2hha2EiLFsiUHJvbWlzZSIsIkV2ZW50TGlzdGVuZXIiLCJWaWRlb1BsYXllclNoYWthUGVyZm9ybWFuY2VMb2dnZXIiLCJWaWRlb1B1c2hQYXJhbWV0ZXJzSGVscGVyIiwiVGltZVNsaWNlIiwiVmlkZW9QbGF5ZXJMb2NhbEJhbmR3aWR0aEVzdGltYXRvciIsIlZpZGVvUGxheWVyUmVzb3VyY2VUaW1lciIsIlNoYWthU2VnbWVudFJlZmVyZW5jZUhlbHBlciIsIlNlZ21lbnRSZXF1ZXN0TWFuYWdlciIsImNvbmNhdEFycmF5QnVmZmVyIiwiQnVmZmVyUmVwbGFjZW1lbnRIZWxwZXIiLCJsb2dMb25nQWthbWFpUmVxdWVzdCIsInRocm90dGxlIiwiVmlld3BvcnRQcmlvcml0eUFkanVzdGVyIiwiRmlyc3RMb2FkZWRWaWRlb1ByaW9yaXR5QWRqdXN0ZXIiLCJWaWRlb1ByaW9yaXR5Q2FsY3VsYXRvciIsIlZpZGVvU3RyZWFtaW5nTWFuYWdlciIsIk11bHRpcGxlU2VnbWVudHNQcm92aWRlciIsIkxvY2FsQml0cmF0ZUhlbHBlciIsIlVuaXRDb25zdGFudHMiLCJCdWZmZXJWZWxvY2l0eSIsIlZpZGVvUGxheWVyQml0cmF0ZUVzdGltYXRvciIsIlZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWciLCJnZXRTZWVrUmFuZ2VHYXBzRnJvbVNoYWthUmVmZXJlbmNlcyIsIm1lcmdlU2Vla1JhbmdlR2FwcyIsIk5ldHdvcmtTdGF0dXNEZXRlY3RvciIsIk1vc1V0aWxzIiwiQmFuemFpT0RTIiwiVmlkZW9EYXNoUHJlZmV0Y2hDYWNoZSIsIlZpZGVvQ2xpZW50RWRnZUNvb3BlcmF0aW9uIiwiVmlkZW9TdHJlYW1pbmdUYXNrUXVldWVQcm92aWRlciIsIkJpbmFyeVNlYXJjaCIsIlNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscyIsImdreCIsInNldFRpbWVvdXRBY3Jvc3NUcmFuc2l0aW9ucyIsInNldFRpbWVvdXQiLCJzZXRJbnRlcnZhbEFjcm9zc1RyYW5zaXRpb25zIiwic2V0SW50ZXJ2YWwiLCJzZXRJbW1lZGlhdGVBY3Jvc3NUcmFuc2l0aW9ucyIsInNldEltbWVkaWF0ZSIsImNsZWFyVGltZW91dCIsImNsZWFySW50ZXJ2YWwiLCJjbGVhckltbWVkaWF0ZSIsImRpc3BhdGNoRXZlbnQiLCJFdmVudExpc3RlbmVyIiwiRXZlbnQiLCJleHRyYWN0Q0VBNjA4IiwicGVyZm9ybWFuY2VOb3ciLCJwYXJzZUhlYWRlcnMiLCJjYW5Vc2VGZXRjaFN0cmVhbSIsIlN1YnNjcmlwdGlvbnNIYW5kbGVyIiwiVmlkZW9QdXNoVHJhY2tlciJdLChmdW5jdGlvbiAkbW9kdWxlX1NoYWthKGdsb2JhbCxyZXF1aXJlLHJlcXVpcmVEeW5hbWljLHJlcXVpcmVMYXp5LG1vZHVsZSxleHBvcnRzKXsKCi8vIHJ1biBgYXJjIHJlYnVpbGQgc2hha2EtcGxheWVyYCB0byByZWdlbmVyYXRlIFNoYWthLmpzIGFmdGVyIG1vZGlmeWluZyB0aGlzCi8vIGZpbGUKCnZhciBQcm9taXNlID0gcmVxdWlyZSgnUHJvbWlzZScpOwp2YXIgRXZlbnRMaXN0ZW5lciA9IHJlcXVpcmUoJ0V2ZW50TGlzdGVuZXInKTsKdmFyIFZpZGVvUGxheWVyU2hha2FQZXJmb3JtYW5jZUxvZ2dlciA9IHJlcXVpcmUoJ1ZpZGVvUGxheWVyU2hha2FQZXJmb3JtYW5jZUxvZ2dlcicpOwp2YXIgVmlkZW9QdXNoUGFyYW1ldGVyc0hlbHBlciA9IHJlcXVpcmUoJ1ZpZGVvUHVzaFBhcmFtZXRlcnNIZWxwZXInKTsKdmFyIFRpbWVTbGljZSA9IHJlcXVpcmUoJ1RpbWVTbGljZScpOwp2YXIgVmlkZW9QbGF5ZXJMb2NhbEJhbmR3aWR0aEVzdGltYXRvciA9IHJlcXVpcmUoJ1ZpZGVvUGxheWVyTG9jYWxCYW5kd2lkdGhFc3RpbWF0b3InKTsKdmFyIFZpZGVvUGxheWVyUmVzb3VyY2VUaW1lciA9IHJlcXVpcmUoJ1ZpZGVvUGxheWVyUmVzb3VyY2VUaW1lcicpOwp2YXIgU2hha2FTZWdtZW50UmVmZXJlbmNlSGVscGVyID0gcmVxdWlyZSgnU2hha2FTZWdtZW50UmVmZXJlbmNlSGVscGVyJyk7CnZhciBTZWdtZW50UmVxdWVzdE1hbmFnZXIgPSByZXF1aXJlKCdTZWdtZW50UmVxdWVzdE1hbmFnZXInKTsKdmFyIGNvbmNhdEFycmF5QnVmZmVyID0gcmVxdWlyZSgnY29uY2F0QXJyYXlCdWZmZXInKTsKdmFyIEJ1ZmZlclJlcGxhY2VtZW50SGVscGVyID0gcmVxdWlyZSgnQnVmZmVyUmVwbGFjZW1lbnRIZWxwZXInKTsKdmFyIGxvZ0xvbmdBa2FtYWlSZXF1ZXN0ID0gcmVxdWlyZSgnbG9nTG9uZ0FrYW1haVJlcXVlc3QnKTsKdmFyIHRocm90dGxlID0gcmVxdWlyZSgndGhyb3R0bGUnKTsKdmFyIFZpZXdwb3J0UHJpb3JpdHlBZGp1c3RlciA9IHJlcXVpcmUoJ1ZpZXdwb3J0UHJpb3JpdHlBZGp1c3RlcicpOwp2YXIgRmlyc3RMb2FkZWRWaWRlb1ByaW9yaXR5QWRqdXN0ZXIgPSByZXF1aXJlKCdGaXJzdExvYWRlZFZpZGVvUHJpb3JpdHlBZGp1c3RlcicpOwp2YXIgVmlkZW9Qcmlvcml0eUNhbGN1bGF0b3IgPSByZXF1aXJlKCdWaWRlb1ByaW9yaXR5Q2FsY3VsYXRvcicpOwp2YXIgVmlkZW9TdHJlYW1pbmdNYW5hZ2VyID0gcmVxdWlyZSgnVmlkZW9TdHJlYW1pbmdNYW5hZ2VyJyk7CnZhciBNdWx0aXBsZVNlZ21lbnRzUHJvdmlkZXIgPSByZXF1aXJlKCdNdWx0aXBsZVNlZ21lbnRzUHJvdmlkZXInKTsKdmFyIExvY2FsQml0cmF0ZUhlbHBlciA9IHJlcXVpcmUoJ0xvY2FsQml0cmF0ZUhlbHBlcicpOwp2YXIgVW5pdENvbnN0YW50cyA9IHJlcXVpcmUoJ1VuaXRDb25zdGFudHMnKTsKdmFyIEJ1ZmZlclZlbG9jaXR5ID0gcmVxdWlyZSgnQnVmZmVyVmVsb2NpdHknKTsKdmFyIFZpZGVvUGxheWVyQml0cmF0ZUVzdGltYXRvciA9IHJlcXVpcmUoJ1ZpZGVvUGxheWVyQml0cmF0ZUVzdGltYXRvcicpOwp2YXIgVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZyA9IHJlcXVpcmUoJ1ZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcnKTsKdmFyIGdldFNlZWtSYW5nZUdhcHNGcm9tU2hha2FSZWZlcmVuY2VzID0gcmVxdWlyZSgnZ2V0U2Vla1JhbmdlR2Fwc0Zyb21TaGFrYVJlZmVyZW5jZXMnKTsKdmFyIG1lcmdlU2Vla1JhbmdlR2FwcyA9IHJlcXVpcmUoJ21lcmdlU2Vla1JhbmdlR2FwcycpOwp2YXIgTmV0d29ya1N0YXR1c0RldGVjdG9yID0gcmVxdWlyZSgnTmV0d29ya1N0YXR1c0RldGVjdG9yJyk7CnZhciBNb3NVdGlscyA9IHJlcXVpcmUoJ01vc1V0aWxzJyk7CnZhciBCYW56YWlPRFMgPSByZXF1aXJlKCdCYW56YWlPRFMnKTsKdmFyIFZpZGVvRGFzaFByZWZldGNoQ2FjaGUgPSByZXF1aXJlKCdWaWRlb0Rhc2hQcmVmZXRjaENhY2hlJyk7CnZhciBWaWRlb0NsaWVudEVkZ2VDb29wZXJhdGlvbiA9IHJlcXVpcmUoJ1ZpZGVvQ2xpZW50RWRnZUNvb3BlcmF0aW9uJyk7CnZhciBWaWRlb1N0cmVhbWluZ1Rhc2tRdWV1ZVByb3ZpZGVyID0gcmVxdWlyZSgnVmlkZW9TdHJlYW1pbmdUYXNrUXVldWVQcm92aWRlcicpOwp2YXIgQmluYXJ5U2VhcmNoID0gcmVxdWlyZSgnQmluYXJ5U2VhcmNoJyk7CnZhciBTaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMgPSByZXF1aXJlKCdTaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMnKTsKdmFyIGdreCA9IHJlcXVpcmUoJ2dreCcpOwoKdmFyIHNldFRpbWVvdXQgPSBWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woCiAgICAndGltZW91dHNfcGVyc2lzdF9vbl9wYWdlX3RyYW5zaXRpb24nLAogICAgdHJ1ZQogICkgPwogIHJlcXVpcmUoJ3NldFRpbWVvdXRBY3Jvc3NUcmFuc2l0aW9ucycpIDoKICByZXF1aXJlKCdzZXRUaW1lb3V0Jyk7CnZhciBzZXRJbnRlcnZhbCA9IFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgKICAgICd0aW1lb3V0c19wZXJzaXN0X29uX3BhZ2VfdHJhbnNpdGlvbicsCiAgICB0cnVlCiAgKSA/CiAgcmVxdWlyZSgnc2V0SW50ZXJ2YWxBY3Jvc3NUcmFuc2l0aW9ucycpIDoKICByZXF1aXJlKCdzZXRJbnRlcnZhbCcpOwp2YXIgc2V0SW1tZWRpYXRlID0gVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKAogICAgJ3RpbWVvdXRzX3BlcnNpc3Rfb25fcGFnZV90cmFuc2l0aW9uJywKICAgIHRydWUKICApID8KICByZXF1aXJlKCdzZXRJbW1lZGlhdGVBY3Jvc3NUcmFuc2l0aW9ucycpIDoKICByZXF1aXJlKCdzZXRJbW1lZGlhdGUnKTsKdmFyIGNsZWFyVGltZW91dCA9IHJlcXVpcmUoJ2NsZWFyVGltZW91dCcpOwp2YXIgY2xlYXJJbnRlcnZhbCA9IHJlcXVpcmUoJ2NsZWFySW50ZXJ2YWwnKTsKdmFyIGNsZWFySW1tZWRpYXRlID0gcmVxdWlyZSgnY2xlYXJJbW1lZGlhdGUnKTsKdmFyIGRpc3BhdGNoRG9tRXZlbnQgPSByZXF1aXJlKCdkaXNwYXRjaEV2ZW50Jyk7CnZhciBldmVudExpc3RlbmVyQ2FwdHVyZSA9IHJlcXVpcmUoJ0V2ZW50TGlzdGVuZXInKS5jYXB0dXJlOwp2YXIgZXZlbnRLaWxsID0gcmVxdWlyZSgnRXZlbnQnKS5raWxsOwp2YXIgZXh0cmFjdENFQTYwOCA9IHJlcXVpcmUoJ2V4dHJhY3RDRUE2MDgnKTsKdmFyIHBlcmZvcm1hbmNlTm93ID0gcmVxdWlyZSgncGVyZm9ybWFuY2VOb3cnKTsKdmFyIHBhcnNlSGVhZGVycyA9IHJlcXVpcmUoJ3BhcnNlSGVhZGVycycpOwp2YXIgY2FuVXNlRmV0Y2hTdHJlYW0gPSByZXF1aXJlKCdjYW5Vc2VGZXRjaFN0cmVhbScpOwp2YXIgU3Vic2NyaXB0aW9uc0hhbmRsZXIgPSByZXF1aXJlKCdTdWJzY3JpcHRpb25zSGFuZGxlcicpOwp2YXIgVmlkZW9QdXNoVHJhY2tlciA9IHJlcXVpcmUoJ1ZpZGVvUHVzaFRyYWNrZXInKTsKCmZ1bmN0aW9uIHNldEV2ZW50UHJvcGVydHkob2JqLCBuYW1lLCBoYW5kbGVyKSB7CiAgb2JqW25hbWVdID0gVGltZVNsaWNlLmd1YXJkKGhhbmRsZXIsICdzaGFrYSAnICsgbmFtZSk7Cn07CgppZiAoCiAgVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCdzaGFrYV9uYXRpdmVfcHJvbWlzZScsIGZhbHNlKSAmJgogIFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgndXNlX25hdGl2ZV9wcm9taXNlJywgdHJ1ZSkKKSB7CiAgUHJvbWlzZSA9IHdpbmRvdy5Qcm9taXNlOwp9Cgp2YXIgZyA9IHt9OwoKKGZ1bmN0aW9uKHdpbmRvdyl7dmFyIG4sYWE9dGhpcztmdW5jdGlvbiBxKGEsYil7dmFyIGM9YS5zcGxpdCgiLiIpLGQ9YWE7Y1swXWluIGR8fCFkLmV4ZWNTY3JpcHR8fGQuZXhlY1NjcmlwdCgidmFyICIrY1swXSk7Zm9yKHZhciBlO2MubGVuZ3RoJiYoZT1jLnNoaWZ0KCkpOyljLmxlbmd0aHx8dm9pZCAwPT09Yj9kW2VdP2Q9ZFtlXTpkPWRbZV09e306ZFtlXT1ifWZ1bmN0aW9uIHIoYSxiKXtmdW5jdGlvbiBjKCl7fWMucHJvdG90eXBlPWIucHJvdG90eXBlO2EuUGQ9Yi5wcm90b3R5cGU7YS5wcm90b3R5cGU9bmV3IGM7YS5wcm90b3R5cGUuY29uc3RydWN0b3I9YTthLkxkPWZ1bmN0aW9uKGEsYyxmKXtyZXR1cm4gYi5wcm90b3R5cGVbY10uYXBwbHkoYSxBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMikpfX07LyoKCiBDb3B5cmlnaHQgMjAxNSBHb29nbGUgSW5jLgoKIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoKIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoqLwpmdW5jdGlvbiBiYSgpe307ZnVuY3Rpb24gY2EoYSl7dmFyIGI9Y29uc29sZVthXTtiP2IuYmluZHx8KGNvbnNvbGVbYV09ZnVuY3Rpb24oKXtiLmFwcGx5KGNvbnNvbGUsYXJndW1lbnRzKX0pOmNvbnNvbGVbYV09ZnVuY3Rpb24oKXt9fWNhKCJlcnJvciIpO2NhKCJ3YXJuIik7Y2EoImluZm8iKTtjYSgibG9nIik7Y2EoImRlYnVnIik7dmFyIHU9e3FhOmZ1bmN0aW9uKGEpe3UuSGJbYV09e3FhOnUud2MoKSxlbmQ6TmFOfX0sZW5kOmZ1bmN0aW9uKGEpe2lmKGE9dS5IYlthXSlhLmVuZD11LndjKCl9LE1kOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD11LmdldChhKSxlPXUuZ2V0KGIpO2lmKCFkfHwhZSlyZXR1cm4gTmFOO2QtPWU7Zm9yKGU9MjtlPGFyZ3VtZW50cy5sZW5ndGg7KytlKXt2YXIgZj11LmdldChhcmd1bWVudHNbZV0pO2lmKCFmKXJldHVybiBOYU47ZC09Zn1yZXR1cm4gZH0sZ2V0OmZ1bmN0aW9uKGEpe3JldHVybihhPXUuSGJbYV0pJiZhLmVuZD9hLmVuZC1hLnFhOk5hTn19O3Uud2M9d2luZG93LnBlcmZvcm1hbmNlJiZ3aW5kb3cucGVyZm9ybWFuY2Uubm93P3dpbmRvdy5wZXJmb3JtYW5jZS5ub3cuYmluZCh3aW5kb3cucGVyZm9ybWFuY2UpOkRhdGUubm93O3UuSGI9e307LyoKCiBDb3B5cmlnaHQgMjAwNC1wcmVzZW50IEZhY2Vib29rLiBBbGwgUmlnaHRzIFJlc2VydmVkLgoKKi8KZnVuY3Rpb24gZmEoYSxiLGMsZCxlLGYsZyxoKXt0aGlzLmlkPWE7dGhpcy5iYW5kd2lkdGg9Ynx8MDt0aGlzLmxhbmc9Y3x8InVua25vd24iO3RoaXMuc3RyZWFtSW5mb0lEPWQ7dGhpcy5taW1lVHlwZT1lfHwiIjt0aGlzLmNvZGVjcz1mfHwiIjt0aGlzLmNoYW5uZWxzPWd8fG51bGw7dGhpcy5zYW1wbGluZ1JhdGU9aHx8bnVsbDt0aGlzLmFjdGl2ZT0hMX1xKCJzaGFrYS5wbGF5ZXIuQXVkaW9UcmFjay5jb21wYXJlIixmdW5jdGlvbihhLGIpe3JldHVybiBhLmxhbmc8Yi5sYW5nPy0xOmEubGFuZz5iLmxhbmc/MTphLmJhbmR3aWR0aDxiLmJhbmR3aWR0aD8tMTphLmJhbmR3aWR0aD5iLmJhbmR3aWR0aD8xOjB9KTt2YXIgZ2E9VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoInNoYWthX2RlZmF1bHRfcmVxdWVzdF90aW1lb3V0X3RpbWVzY2FsZSIsMUUzKSxoYT1NYXRoLmZsb29yKFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJzaGFrYV9kZWZhdWx0X2FqYXhfcmVxdWVzdF90aW1lb3V0X21zIiwwKS9nYSksaWE9TWF0aC5mbG9vcihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigic2hha2FfZGVmYXVsdF9hamF4X3JlcXVlc3RfdGltZW91dF9tcyIsMCkvZ2EpLGphPU1hdGguZmxvb3IoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoInNoYWthX2RlZmF1bHRfYWpheF9yZXF1ZXN0X3RpbWVvdXRfbXMiLDApL2dhKTtmdW5jdGlvbiBrYSgpe3RoaXMubWluQmFuZHdpZHRoPXRoaXMubWF4QmFuZHdpZHRoPXRoaXMubWF4V2lkdGg9dGhpcy5taW5IZWlnaHQ9dGhpcy5tYXhIZWlnaHQ9bnVsbH1rYS5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYT1uZXcga2E7YS5tYXhIZWlnaHQ9dGhpcy5tYXhIZWlnaHQ7YS5taW5IZWlnaHQ9dGhpcy5taW5IZWlnaHQ7YS5tYXhXaWR0aD10aGlzLm1heFdpZHRoO2EubWF4QmFuZHdpZHRoPXRoaXMubWF4QmFuZHdpZHRoO2EubWluQmFuZHdpZHRoPXRoaXMubWluQmFuZHdpZHRoO3JldHVybiBhfTtmdW5jdGlvbiBsYSgpe3RoaXMuZm9udFNpemU9IjEwMCUiO3RoaXMuZm9udENvbG9yPW1hO3RoaXMuZm9udE9wYWNpdHk9b2E7dGhpcy5iYWNrZ3JvdW5kQ29sb3I9cGE7dGhpcy5iYWNrZ3JvdW5kT3BhY2l0eT1vYTt0aGlzLmZvbnRFZGdlPXFhfXEoInNoYWthLnBsYXllci5UZXh0U3R5bGUiLGxhKTsKZnVuY3Rpb24gcmEoYSl7dmFyIGI9W107Yi5wdXNoKCJmb250LXNpemU6ICIrYS5mb250U2l6ZSk7Yi5wdXNoKCJjb2xvcjogIitzYShhLmZvbnRDb2xvcixhLmZvbnRPcGFjaXR5KSk7Yi5wdXNoKCJiYWNrZ3JvdW5kLWNvbG9yOiAiK3NhKGEuYmFja2dyb3VuZENvbG9yLGEuYmFja2dyb3VuZE9wYWNpdHkpKTtmb3IodmFyIGM9W10sZD0wO2Q8YS5mb250RWRnZS5sZW5ndGg7KytkKXt2YXIgZT1hLmZvbnRFZGdlW2RdLnNsaWNlKDMsNik7Yy5wdXNoKHNhKGEuZm9udEVkZ2VbZF0uc2xpY2UoMCwzKSxhLmZvbnRPcGFjaXR5KSsiICIrZS5qb2luKCJweCAiKSsicHgiKX1iLnB1c2goInRleHQtc2hhZG93OiAiK2Muam9pbigiLCIpKTtyZXR1cm4gYi5qb2luKCI7ICIpfWZ1bmN0aW9uIHNhKGEsYil7cmV0dXJuInJnYmEoIithLmNvbmNhdChiKS5qb2luKCIsIikrIikifXZhciBtYT1bMjU1LDI1NSwyNTVdLHBhPVswLDAsMF07CmxhLlN0YW5kYXJkQ29sb3JzPXtXSElURTptYSxCTEFDSzpwYSxSRUQ6WzI1NSwwLDBdLEdSRUVOOlswLDI1NSwwXSxCTFVFOlswLDAsMjU1XSxZRUxMT1c6WzI1NSwyNTUsMF0sTUFHRU5UQTpbMjU1LDAsMjU1XSxDWUFOOlswLDI1NSwyNTVdfTt2YXIgb2E9MTtsYS5TdGFuZGFyZE9wYWNpdGllcz17T1BBUVVFOm9hLFNFTUlfSElHSDouNzUsU0VNSV9MT1c6LjI1LFRSQU5TUEFSRU5UOjB9O3ZhciBxYT1bXTsKbGEuRWRnZVN0eWxlcz17Tk9ORTpxYSxSQUlTRUQ6W1szNCwzNCwzNCwxLDEsMF0sWzM0LDM0LDM0LDIsMiwwXSxbMzQsMzQsMzQsMywzLDBdXSxERVBSRVNTRUQ6W1syMDQsMjA0LDIwNCwxLDEsMF0sWzIwNCwyMDQsMjA0LDAsMSwwXSxbMzQsMzQsMzQsLTEsLTEsMF0sWzM0LDM0LDM0LDAsLTEsMF1dLFVOSUZPUk06W1szNCwzNCwzNCwwLDAsNF0sWzM0LDM0LDM0LDAsMCw0XSxbMzQsMzQsMzQsMCwwLDRdLFszNCwzNCwzNCwwLDAsNF1dLERST1A6W1szNCwzNCwzNCwyLDIsM10sWzM0LDM0LDM0LDIsMiw0XSxbMzQsMzQsMzQsMiwyLDVdXX07ZnVuY3Rpb24gdGEoYSxiKXt0aGlzLmlkPWE7dGhpcy5sYW5nPWJ8fCJ1bmtub3duIjt0aGlzLmVuYWJsZWQ9dGhpcy5hY3RpdmU9ITF9cSgic2hha2EucGxheWVyLlRleHRUcmFjay5jb21wYXJlIixmdW5jdGlvbihhLGIpe3JldHVybiBhLmxhbmc8Yi5sYW5nPy0xOmEubGFuZz5iLmxhbmc/MTowfSk7ZnVuY3Rpb24gdWEoYSxiLGMsZCxlLGYsZyxoLGssbCxtLHAsdCl7dGhpcy5pZD1hO3RoaXMuYmFuZHdpZHRoPWJ8fDA7dGhpcy53aWR0aD1jfHwwO3RoaXMuaGVpZ2h0PWR8fDA7dGhpcy5zdHJlYW1JbmZvSUQ9ZTt0aGlzLmZiUXVhbGl0eUxhYmVsPWY7dGhpcy5mYlF1YWxpdHlDbGFzcz1nO2E9W107aCYmKGE9aC5zcGxpdCgiLCIpKTt0aGlzLmZyYW1lUmF0ZT1rfHwiIjt0aGlzLm1pbWVUeXBlPWx8fCIiO3RoaXMuY29kZWNzPW18fCIiO3RoaXMuaXNIVlE9LTE8YS5pbmRleE9mKCJodnEiKTt0aGlzLmlzSW5saW5lSFZRPS0xPGEuaW5kZXhPZigiaHZxX3d3d19pbmxpbmUiKTt0aGlzLmF2b2lkT25Qb29yQ29ubmVjdGlvbj0tMTxhLmluZGV4T2YoImF2b2lkX29uX3Bvb3JfY29ubmVjdGlvbiIpO3RoaXMuYWN0aXZlPSExO3RoaXMucGxheWJhY2tSZXNvbHV0aW9uTW9zPXB8fG51bGw7dGhpcy5wbGF5YmFja1Jlc29sdXRpb25Nb3NDb25maWRlbmNlTGV2ZWw9dHx8bnVsbH0KZnVuY3Rpb24gdmEoYSxiKXt2YXIgYz1hLndpZHRoKmEuaGVpZ2h0LGQ9Yi53aWR0aCpiLmhlaWdodDtyZXR1cm4gYzxkPy0xOmM+ZD8xOmEuYmFuZHdpZHRoPGIuYmFuZHdpZHRoPy0xOmEuYmFuZHdpZHRoPmIuYmFuZHdpZHRoPzE6MH1xKCJzaGFrYS5wbGF5ZXIuVmlkZW9UcmFjay5jb21wYXJlIix2YSk7ZnVuY3Rpb24gd2EoYSl7Zm9yKHZhciBiPXhhLGM9W10sZD0wO2Q8YS5sZW5ndGg7KytkKXtmb3IodmFyIGU9ITEsZj0wO2Y8Yy5sZW5ndGgmJiEoZT1iP2IoYVtkXSxjW2ZdKTphW2RdPT09Y1tmXSk7KytmKTtlfHxjLnB1c2goYVtkXSl9cmV0dXJuIGN9O2Z1bmN0aW9uIHlhKCl7cmV0dXJuIERhdGUubm93KCkremF9dmFyIHphPTA7ZnVuY3Rpb24gQmEoYSl7dGhpcy5iPWE7dGhpcy5jPTA9PUNhO3RoaXMuYT0wfXZhciBDYT0xO2Z1bmN0aW9uIERhKGEpe3JldHVybiBhLmE8YS5iLmJ5dGVMZW5ndGh9ZnVuY3Rpb24gRWEoYSl7dmFyIGI9YS5iLmdldFVpbnQ4KGEuYSk7YS5hKz0xO3JldHVybiBifWZ1bmN0aW9uIHYoYSl7dmFyIGI9YS5iLmdldFVpbnQzMihhLmEsYS5jKTthLmErPTQ7cmV0dXJuIGJ9ZnVuY3Rpb24gRmEoYSl7dmFyIGIsYzthLmM/KGI9YS5iLmdldFVpbnQzMihhLmEsITApLGM9YS5iLmdldFVpbnQzMihhLmErNCwhMCkpOihjPWEuYi5nZXRVaW50MzIoYS5hLCExKSxiPWEuYi5nZXRVaW50MzIoYS5hKzQsITEpKTtpZigyMDk3MTUxPGMpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkRhdGFWaWV3UmVhZGVyOiBPdmVyZmxvdyByZWFkaW5nIDY0LWJpdCB2YWx1ZS4iKTthLmErPTg7cmV0dXJuIGMqTWF0aC5wb3coMiwzMikrYn0KZnVuY3Rpb24gR2EoYSl7aWYoYS5hKzE2PmEuYi5ieXRlTGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKCJEYXRhVmlld1JlYWRlcjogUmVhZCBwYXN0IGVuZCBvZiBEYXRhVmlldy4iKTt2YXIgYj1uZXcgVWludDhBcnJheShhLmIuYnVmZmVyLGEuYSwxNik7YS5hKz0xNjtyZXR1cm4gYn1mdW5jdGlvbiBIYShhLGIpe2lmKGEuYStiPmEuYi5ieXRlTGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKCJEYXRhVmlld1JlYWRlcjogU2tpcCBwYXN0IGVuZCBvZiBEYXRhVmlldy4iKTthLmErPWJ9O2Z1bmN0aW9uIElhKGEpe3RoaXMuYj1hO3RoaXMuYT1uZXcgQmEoYSk7SmF8fChKYT1bbmV3IFVpbnQ4QXJyYXkoWzI1NV0pLG5ldyBVaW50OEFycmF5KFsxMjcsMjU1XSksbmV3IFVpbnQ4QXJyYXkoWzYzLDI1NSwyNTVdKSxuZXcgVWludDhBcnJheShbMzEsMjU1LDI1NSwyNTVdKSxuZXcgVWludDhBcnJheShbMTUsMjU1LDI1NSwyNTUsMjU1XSksbmV3IFVpbnQ4QXJyYXkoWzcsMjU1LDI1NSwyNTUsMjU1LDI1NV0pLG5ldyBVaW50OEFycmF5KFszLDI1NSwyNTUsMjU1LDI1NSwyNTUsMjU1XSksbmV3IFVpbnQ4QXJyYXkoWzEsMjU1LDI1NSwyNTUsMjU1LDI1NSwyNTUsMjU1XSldKX12YXIgSmE7CmZ1bmN0aW9uIEthKGEpe3ZhciBiO2I9TGEoYSk7aWYoNzxiLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiRWJtbFBhcnNlcjogRUJNTCBJRCBtdXN0IGJlIGF0IG1vc3QgNyBieXRlcy4iKTtmb3IodmFyIGM9MCxkPTA7ZDxiLmxlbmd0aDtkKyspYz0yNTYqYytiW2RdO2I9YztjPUxhKGEpO2E6e2ZvcihkPTA7ZDxKYS5sZW5ndGg7ZCsrKWlmKE1hKGMsSmFbZF0pKXtkPSEwO2JyZWFrIGF9ZD0hMX1pZihkKWM9YS5iLmJ5dGVMZW5ndGgtYS5hLmE7ZWxzZXtpZig4PT1jLmxlbmd0aCYmY1sxXSYyMjQpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkVibWxQYXJzZXI6IFZhcmlhYmxlIHNpemVkIGludGVnZXIgdmFsdWUgbXVzdCBiZSBhdCBtb3N0IDUzIGJpdHMuIik7Zm9yKHZhciBkPWNbMF0mKDE8PDgtYy5sZW5ndGgpLTEsZT0xO2U8Yy5sZW5ndGg7ZSsrKWQ9MjU2KmQrY1tlXTtjPWR9Yz1hLmEuYStjPD1hLmIuYnl0ZUxlbmd0aD9jOmEuYi5ieXRlTGVuZ3RoLWEuYS5hO2Q9bmV3IERhdGFWaWV3KGEuYi5idWZmZXIsCmEuYi5ieXRlT2Zmc2V0K2EuYS5hLGMpO0hhKGEuYSxjKTtyZXR1cm4gbmV3IE5hKGIsZCl9ZnVuY3Rpb24gTGEoYSl7dmFyIGI9RWEoYS5hKSxjO2ZvcihjPTE7OD49YyYmIShiJjE8PDgtYyk7YysrKTtpZig4PGMpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkVibWxQYXJzZXI6IFZhcmlhYmxlIHNpemVkIGludGVnZXIgbXVzdCBmaXQgd2l0aGluIDggYnl0ZXMuIik7dmFyIGQ9bmV3IFVpbnQ4QXJyYXkoYyk7ZFswXT1iO2ZvcihiPTE7YjxjO2IrKylkW2JdPUVhKGEuYSk7cmV0dXJuIGR9ZnVuY3Rpb24gTmEoYSxiKXt0aGlzLmlkPWE7dGhpcy5hPWJ9CmZ1bmN0aW9uIE9hKGEpe2lmKDg8YS5hLmJ5dGVMZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkVibWxFbGVtZW50OiBVbnNpZ25lZCBpbnRlZ2VyIGhhcyB0b28gbWFueSBieXRlcy4iKTtpZig4PT1hLmEuYnl0ZUxlbmd0aCYmYS5hLmdldFVpbnQ4KDApJjIyNCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiRWJtbFBhcnNlcjogVW5zaWduZWQgaW50ZWdlciBtdXN0IGJlIGF0IG1vc3QgNTMgYml0cy4iKTtmb3IodmFyIGI9MCxjPTA7YzxhLmEuYnl0ZUxlbmd0aDtjKyspdmFyIGQ9YS5hLmdldFVpbnQ4KGMpLGI9MjU2KmIrZDtyZXR1cm4gYn07dmFyIFBhPXsib3V0cHV0LXJlc3RyaWN0ZWQiOiJUaGUgcmVxdWlyZWQgb3V0cHV0IHByb3RlY3Rpb24gaXMgbm90IGF2YWlsYWJsZS4iLCJvdXRwdXQtbm90LWFsbG93ZWQiOiJUaGUgcmVxdWlyZWQgb3V0cHV0IHByb3RlY3Rpb24gaXMgbm90IGF2YWlsYWJsZS4iLGV4cGlyZWQ6IlRoZSBkZWNyeXB0aW9uIGtleSBoYXMgZXhwaXJlZC4iLCJpbnRlcm5hbC1lcnJvciI6IlRoZSBrZXkgc3lzdGVtIGhhcyBlbmNvdW50ZXJlZCBhbiB1bnNwZWNpZmllZCBlcnJvci4ifTtmdW5jdGlvbiB4KGEpe3RoaXMuYj1NYXRoLmV4cChNYXRoLmxvZyguNSkvYSk7dGhpcy55Yj10aGlzLiRhPXRoaXMuYT0wfXEoInNoYWthLnV0aWwuRVdNQSIseCk7eC5wcm90b3R5cGUuc2FtcGxlPWZ1bmN0aW9uKGEsYil7dmFyIGM9TWF0aC5wb3codGhpcy5iLGEpO3RoaXMuYT1iKigxLWMpK2MqdGhpcy5hO3RoaXMuJGErPWE7dGhpcy55Yis9MX07eC5wcm90b3R5cGUuc2FtcGxlPXgucHJvdG90eXBlLnNhbXBsZTt4LnByb3RvdHlwZS5jPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGF9O3gucHJvdG90eXBlLmdldFRvdGFsV2VpZ2h0PXgucHJvdG90eXBlLmM7eC5wcm90b3R5cGUuZ2V0RXN0aW1hdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLygxLU1hdGgucG93KHRoaXMuYix0aGlzLiRhKSl9O3gucHJvdG90eXBlLmdldEVzdGltYXRlPXgucHJvdG90eXBlLmdldEVzdGltYXRlO3gucHJvdG90eXBlLmY9ZnVuY3Rpb24oKXt0aGlzLnliPXRoaXMuJGE9dGhpcy5hPTB9Owp4LnByb3RvdHlwZS5yZXNldD14LnByb3RvdHlwZS5mO3ZhciBRYT13aW5kb3cuQ3VzdG9tRXZlbnQ7ImZ1bmN0aW9uIiE9PXR5cGVvZiBRYSYmKFFhPWZ1bmN0aW9uKGEsYil7Yj1ifHx7YnViYmxlczohMSxjYW5jZWxhYmxlOiExLGRldGFpbDp2b2lkIDB9O3ZhciBjPWRvY3VtZW50LmNyZWF0ZUV2ZW50KCJDdXN0b21FdmVudCIpO2MuaW5pdEN1c3RvbUV2ZW50KGEsYi5idWJibGVzLGIuY2FuY2VsYWJsZSxiLmRldGFpbCk7cmV0dXJuIGN9LFFhLnByb3RvdHlwZT13aW5kb3cuRXZlbnQucHJvdG90eXBlKTtmdW5jdGlvbiB5KGEpe3ZhciBiPW5ldyBRYShhLnR5cGUse2RldGFpbDphLmRldGFpbCxidWJibGVzOiEhYS5idWJibGVzfSksYztmb3IoYyBpbiBhKWMgaW4gYnx8KGJbY109YVtjXSk7cmV0dXJuIGJ9ZnVuY3Rpb24gQShhKXtyZXR1cm4gbmV3IFFhKCJlcnJvciIse2RldGFpbDphLGJ1YmJsZXM6ITB9KX07ZnVuY3Rpb24gUmEoYSxiLGMpe1NhKGIpO1NhKGMpO3JldHVybiBjPT1ifHxhPj1UYSYmYz09Yi5zcGxpdCgiLSIpWzBdfHxhPj1VYSYmYy5zcGxpdCgiLSIpWzBdPT1iLnNwbGl0KCItIilbMF0/ITA6ITF9dmFyIFRhPTEsVWE9MjtmdW5jdGlvbiBTYShhKXthPWEudG9Mb3dlckNhc2UoKS5zcGxpdCgiLSIpO3ZhciBiPVZhW2FbMF1dO2ImJihhWzBdPWIpO3JldHVybiBhLmpvaW4oIi0iKX0KdmFyIFZhPXthYXI6ImFhIixhYms6ImFiIixhZnI6ImFmIixha2E6ImFrIixhbGI6InNxIixhbWg6ImFtIixhcmE6ImFyIixhcmc6ImFuIixhcm06Imh5Iixhc206ImFzIixhdmE6ImF2IixhdmU6ImFlIixheW06ImF5IixhemU6ImF6IixiYWs6ImJhIixiYW06ImJtIixiYXE6ImV1IixiZWw6ImJlIixiZW46ImJuIixiaWg6ImJoIixiaXM6ImJpIixib2Q6ImJvIixib3M6ImJzIixicmU6ImJyIixidWw6ImJnIixidXI6Im15IixjYXQ6ImNhIixjZXM6ImNzIixjaGE6ImNoIixjaGU6ImNlIixjaGk6InpoIixjaHU6ImN1IixjaHY6ImN2Iixjb3I6Imt3Iixjb3M6ImNvIixjcmU6ImNyIixjeW06ImN5IixjemU6ImNzIixkYW46ImRhIixkZXU6ImRlIixkaXY6ImR2IixkdXQ6Im5sIixkem86ImR6IixlbGw6ImVsIixlbmc6ImVuIixlcG86ImVvIixlc3Q6ImV0IixldXM6ImV1Iixld2U6ImVlIixmYW86ImZvIixmYXM6ImZhIixmaWo6ImZqIixmaW46ImZpIixmcmE6ImZyIixmcmU6ImZyIiwKZnJ5OiJmeSIsZnVsOiJmZiIsZ2VvOiJrYSIsZ2VyOiJkZSIsZ2xhOiJnZCIsZ2xlOiJnYSIsZ2xnOiJnbCIsZ2x2OiJndiIsZ3JlOiJlbCIsZ3JuOiJnbiIsZ3VqOiJndSIsaGF0OiJodCIsaGF1OiJoYSIsaGViOiJoZSIsaGVyOiJoeiIsaGluOiJoaSIsaG1vOiJobyIsaHJ2OiJociIsaHVuOiJodSIsaHllOiJoeSIsaWJvOiJpZyIsaWNlOiJpcyIsaWRvOiJpbyIsaWlpOiJpaSIsaWt1OiJpdSIsaWxlOiJpZSIsaW5hOiJpYSIsaW5kOiJpZCIsaXBrOiJpayIsaXNsOiJpcyIsaXRhOiJpdCIsamF2OiJqdiIsanBuOiJqYSIsa2FsOiJrbCIsa2FuOiJrbiIsa2FzOiJrcyIsa2F0OiJrYSIsa2F1OiJrciIsa2F6OiJrayIsa2htOiJrbSIsa2lrOiJraSIsa2luOiJydyIsa2lyOiJreSIsa29tOiJrdiIsa29uOiJrZyIsa29yOiJrbyIsa3VhOiJraiIsa3VyOiJrdSIsbGFvOiJsbyIsbGF0OiJsYSIsbGF2OiJsdiIsbGltOiJsaSIsbGluOiJsbiIsbGl0OiJsdCIsbHR6OiJsYiIsbHViOiJsdSIsCmx1ZzoibGciLG1hYzoibWsiLG1haDoibWgiLG1hbDoibWwiLG1hbzoibWkiLG1hcjoibXIiLG1heToibXMiLG1rZDoibWsiLG1sZzoibWciLG1sdDoibXQiLG1vbjoibW4iLG1yaToibWkiLG1zYToibXMiLG15YToibXkiLG5hdToibmEiLG5hdjoibnYiLG5ibDoibnIiLG5kZToibmQiLG5kbzoibmciLG5lcDoibmUiLG5sZDoibmwiLG5ubzoibm4iLG5vYjoibmIiLG5vcjoibm8iLG55YToibnkiLG9jaToib2MiLG9qaToib2oiLG9yaToib3IiLG9ybToib20iLG9zczoib3MiLHBhbjoicGEiLHBlcjoiZmEiLHBsaToicGkiLHBvbDoicGwiLHBvcjoicHQiLHB1czoicHMiLHF1ZToicXUiLHJvaDoicm0iLHJvbjoicm8iLHJ1bToicm8iLHJ1bjoicm4iLHJ1czoicnUiLHNhZzoic2ciLHNhbjoic2EiLHNpbjoic2kiLHNsazoic2siLHNsbzoic2siLHNsdjoic2wiLHNtZToic2UiLHNtbzoic20iLHNuYToic24iLHNuZDoic2QiLHNvbToic28iLHNvdDoic3QiLHNwYToiZXMiLHNxaToic3EiLApzcmQ6InNjIixzcnA6InNyIixzc3c6InNzIixzdW46InN1Iixzd2E6InN3Iixzd2U6InN2Iix0YWg6InR5Iix0YW06InRhIix0YXQ6InR0Iix0ZWw6InRlIix0Z2s6InRnIix0Z2w6InRsIix0aGE6InRoIix0aWI6ImJvIix0aXI6InRpIix0b246InRvIix0c246InRuIix0c286InRzIix0dWs6InRrIix0dXI6InRyIix0d2k6InR3Iix1aWc6InVnIix1a3I6InVrIix1cmQ6InVyIix1emI6InV6Iix2ZW46InZlIix2aWU6InZpIix2b2w6InZvIix3ZWw6ImN5Iix3bG46IndhIix3b2w6IndvIix4aG86InhoIix5aWQ6InlpIix5b3I6InlvIix6aGE6InphIix6aG86InpoIix6dWw6Inp1In07ZnVuY3Rpb24gV2EoYSl7cmV0dXJuIE9iamVjdC5rZXlzKGEpLm1hcChmdW5jdGlvbihiKXtyZXR1cm4gYVtiXX0pfWZ1bmN0aW9uIEIoYSxiKXtyZXR1cm4gWGEoYSxiLCJib29sZWFuIil9ZnVuY3Rpb24gQyhhLGIsYyl7YT1YYShhLGIsIm51bWJlciIpO2lmKG51bGw9PWEpcmV0dXJuIG51bGw7aWYoaXNOYU4oYSl8fGE9PU51bWJlci5ORUdBVElWRV9JTkZJTklUWXx8YT09TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZKXRocm93IG5ldyBSYW5nZUVycm9yKCInIitiKyInIG11c3QgYmUgZmluaXRlLiIpO2lmKG51bGwhPWMmJmE8Yyl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiJyIrYisiJyBtdXN0IGJlID49ICIrYyk7cmV0dXJuIGF9ZnVuY3Rpb24gWWEoYSxiKXtyZXR1cm4gWGEoYSxiLCJzdHJpbmciKX0KZnVuY3Rpb24gWGEoYSxiLGMpe2E9YVtiXTtpZihudWxsPT1hKXJldHVybiBudWxsO2lmKHR5cGVvZiBhIT09Yyl0aHJvdyBuZXcgVHlwZUVycm9yKCInIitiKyInIG11c3QgYmUgYSAiK2MrIi4iKTtyZXR1cm4gYX1mdW5jdGlvbiBaYShhLGIsYyl7YT1hW2JdO2lmKG51bGw9PWEpcmV0dXJuIG51bGw7aWYoIShhIGluc3RhbmNlb2YgYykpdGhyb3cgbmV3IFR5cGVFcnJvcigiJyIrYisiJyBtdXN0IGJlIGFuIGluc3RhbmNlIG9mICIrYy5uYW1lKyIuIik7cmV0dXJuIGF9O2Z1bmN0aW9uIEQoKXt0aGlzLmE9e319RC5wcm90b3R5cGUucHVzaD1mdW5jdGlvbihhLGIpe3RoaXMuYS5oYXNPd25Qcm9wZXJ0eShhKT90aGlzLmFbYV0ucHVzaChiKTp0aGlzLmFbYV09W2JdfTtELnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24oYSxiKXt0aGlzLmFbYV09Yn07RC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGEpe3JldHVybihhPXRoaXMuYVthXSk/YS5zbGljZSgpOm51bGx9O2Z1bmN0aW9uICRhKGEpe3ZhciBiPVtdLGM7Zm9yKGMgaW4gYS5hKWIucHVzaC5hcHBseShiLGEuYVtjXSk7cmV0dXJuIGJ9RC5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5hW2FdO2lmKGMpZm9yKHZhciBkPTA7ZDxjLmxlbmd0aDsrK2QpY1tkXT09YiYmKGMuc3BsaWNlKGQsMSksLS1kKX07ZnVuY3Rpb24gYWIoYSl7dmFyIGI9W10sYztmb3IoYyBpbiBhLmEpYi5wdXNoKGMpO3JldHVybiBifTtmdW5jdGlvbiBiYigpe3RoaXMuYT1uZXcgRH1iYi5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe2RiKHRoaXMpO3RoaXMuYT1udWxsfTtmdW5jdGlvbiBFKGEsYixjLGQpe2I9bmV3IGViKGIsYyxkKTthLmEucHVzaChjLGIpfWJiLnByb3RvdHlwZS5hYj1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz10aGlzLmEuZ2V0KGIpfHxbXSxkPTA7ZDxjLmxlbmd0aDsrK2Qpe3ZhciBlPWNbZF07ZS50YXJnZXQ9PWEmJihlLmFiKCksdGhpcy5hLnJlbW92ZShiLGUpKX19O2Z1bmN0aW9uIGRiKGEpe2Zvcih2YXIgYj0kYShhLmEpLGM9MDtjPGIubGVuZ3RoOysrYyliW2NdLmFiKCk7YS5hLmE9e319ZnVuY3Rpb24gZWIoYSxiLGMpe3RoaXMudGFyZ2V0PWE7dGhpcy50eXBlPWI7dGhpcy5hPWM7dGhpcy50YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihiLGMsITEpfQplYi5wcm90b3R5cGUuYWI9ZnVuY3Rpb24oKXt0aGlzLnRhcmdldCYmKHRoaXMudGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIodGhpcy50eXBlLHRoaXMuYSwhMSksdGhpcy5hPXRoaXMudGFyZ2V0PW51bGwpfTtmdW5jdGlvbiBGKGEpe3RoaXMuRWI9bmV3IEQ7dGhpcy5KYT1hfXEoInNoYWthLnV0aWwuRmFrZUV2ZW50VGFyZ2V0IixGKTtuPUYucHJvdG90eXBlO24uYWRkRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbihhLGIpe3RoaXMuRWIucHVzaChhLGIpfTtuLnJlbW92ZUV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24oYSxiKXt0aGlzLkViLnJlbW92ZShhLGIpfTsKbi5kaXNwYXRjaEV2ZW50PWZ1bmN0aW9uKGEpe2EuaGFzT3duUHJvcGVydHkoInNyY0VsZW1lbnQiKXx8KGRlbGV0ZSBhLnNyY0VsZW1lbnQsT2JqZWN0LmRlZmluZVByb3BlcnR5KGEsInNyY0VsZW1lbnQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH19KSk7aWYoYS5oYXNPd25Qcm9wZXJ0eSgidGFyZ2V0IikpYS50YXJnZXQ9dGhpcztlbHNle2RlbGV0ZSBhLnRhcmdldDt2YXIgYj10aGlzO09iamVjdC5kZWZpbmVQcm9wZXJ0eShhLCJ0YXJnZXQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYn0sc2V0OmZ1bmN0aW9uKGEpe2I9YX19KX1pZihhLmhhc093blByb3BlcnR5KCJjdXJyZW50VGFyZ2V0IikpYS5jdXJyZW50VGFyZ2V0PW51bGw7ZWxzZXtkZWxldGUgYS5jdXJyZW50VGFyZ2V0O3ZhciBjPW51bGw7T2JqZWN0LmRlZmluZVByb3BlcnR5KGEsImN1cnJlbnRUYXJnZXQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY30sc2V0OmZ1bmN0aW9uKGEpe2M9YX19KX1yZXR1cm4gZmIodGhpcywKYSl9O24ub2M9ITE7bi5MYT1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmRpc3BhdGNoRXZlbnQoeSh7dHlwZToiZGVidWcvZGFzaFBsYXllckV2ZW50IixidWJibGVzOiEwLGRldGFpbDp7dHlwZTphLGV2ZW50OmJ9fSkpfTtmdW5jdGlvbiBmYihhLGIpe2IuY3VycmVudFRhcmdldD1hO2Zvcih2YXIgYz1hLkViLmdldChiLnR5cGUpfHxbXSxkPTA7ZDxjLmxlbmd0aDsrK2Qpe3ZhciBlPWNbZF07dHJ5e2UuaGFuZGxlRXZlbnQ/ZS5oYW5kbGVFdmVudChiKTplLmNhbGwoYSxiKX1jYXRjaChmKXt9fWEuSmEmJmIuYnViYmxlcyYmZmIoYS5KYSxiKTtyZXR1cm4gYi5kZWZhdWx0UHJldmVudGVkfTtmdW5jdGlvbiBHKGEpe0YuY2FsbCh0aGlzLG51bGwpO3RoaXMuYT17b2I6e1ZhOm5ldyB4KFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJmYXN0X21vdmluZ19hdmVyYWdlX2hhbGZfbGlmZSIsMykpLHhiOm5ldyB4KFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJzbG93X21vdmluZ19hdmVyYWdlX2hhbGZfbGlmZSIsMTApKX0sY2I6e1ZhOm5ldyB4KFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJhZ2dyZXNzaXZlX2Zhc3RfbW92aW5nX2F2ZXJhZ2VfaGFsZl9saWZlIiwxRS00KSkseGI6bmV3IHgoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoImFnZ3Jlc3NpdmVfc2xvd19tb3ZpbmdfYXZlcmFnZV9oYWxmX2xpZmUiLDkuMjMzNTA4NzkxNzc0NSkpfX07dGhpcy5oPWF8fDVFNTt0aGlzLmo9VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoIm1pbl9zYW1wbGVfY291bnQiLAoxRTQpO3RoaXMuYj0wO3RoaXMuYz1bXTt0aGlzLmk9VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoIm1heF9yZWNlbnRfYmFuZHdpZHRoX3NhbXBsZXMiLDApfXIoRyxGKTtxKCJzaGFrYS51dGlsLkVXTUFCYW5kd2lkdGhFc3RpbWF0b3IiLEcpO0cucHJvdG90eXBlLnNob3VsZEV4Y2x1ZGVTYW1wbGU9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJjaGFuZ2VfYWJyX2F1ZGlvX2V4Y2x1c2lvbl9sb2dpYyIsITApPyFiOjY1NTM2PmF9OwpHLnByb3RvdHlwZS5zYW1wbGU9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyl7aWYodGhpcy5zaG91bGRFeGNsdWRlU2FtcGxlKGIsYykpZSYmZS5zZXRFdmVudCgidW5zYW1wbGVkIikuc2V0UmVhc29uKCJhdWRpbyIpLmxvZygpO2Vsc2V7aWYoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJ1c2VfcmVzb3VyY2VfdGltaW5nX2VudHJ5X2Zvcl9iYW5kd2lkdGgiLCEwKSl7aWYoIWQpe2UmJmUuc2V0RXZlbnQoInVuc2FtcGxlZCIpLnNldFJlYXNvbigicmVzb3VyY2VfdGltaW5nX2VudHJ5X21pc3NpbmciKS5sb2coKTtyZXR1cm59YT1kLnRpbWVUb0xhc3RCeXRlO2lmKDA+YSl7ZSYmZS5zZXRFdmVudCgidW5zYW1wbGVkIikuc2V0UmVhc29uKCJyZXNvdXJjZV90aW1pbmdfZW50cnlfaW52YWxpZCIpLmxvZygpO3JldHVybn19YT1NYXRoLm1heChhLDUwKTtjPTFFMypVbml0Q29uc3RhbnRzLkJJVFNfSU5fQllURSpiL2E7dmFyIGg9YS8xRTM7dGhpcy5hLmNiLlZhLnNhbXBsZShoLApjLGQpO3RoaXMuYS5jYi54Yi5zYW1wbGUoaCxjLGQpO3RoaXMuYS5vYi5WYS5zYW1wbGUoaCxjLGQpO3RoaXMuYS5vYi54Yi5zYW1wbGUoaCxjLGQpO2d8fHRoaXMuZGlzcGF0Y2hFdmVudCh5KHt0eXBlOiJiYW5kd2lkdGgifSkpO3RoaXMuYj1EYXRlLm5vdygpO2Q9cGFyc2VJbnQoYSwxMCk7aWYoMDx0aGlzLmkpZm9yKHRoaXMuYy5wdXNoKFtiLGRdKTt0aGlzLmMubGVuZ3RoPnRoaXMuaTspdGhpcy5jLnNoaWZ0KCk7ZSYmZS5zZXRFdmVudCgic2FtcGxlZCIpLnNldEJ5dGVzKGIpLnNldERlbGF5TXMoZCkubG9nKCk7ZiYmZi5nZXRFdmVudExvZ2dlcigiYmFuZHdpZHRoX3NhbXBsZWQiKS5zZXRMZW5ndGgoYikuc2V0Q2xpZW50VGltZUJlZ2luKHRoaXMuYi1kKS5zZXRDbGllbnRUaW1lRW5kKHRoaXMuYikubG9nKCl9fTsKRy5wcm90b3R5cGUuZ2V0QmFuZHdpZHRoPWZ1bmN0aW9uKGEpe2E9ImFnZ3Jlc3NpdmUiPT09YT90aGlzLmEuY2I6dGhpcy5hLm9iO3JldHVybiB0aGlzLmNhblRydXN0RXN0aW1hdGUoKT9NYXRoLm1pbihhLlZhLmdldEVzdGltYXRlKCksYS54Yi5nZXRFc3RpbWF0ZSgpKTp0aGlzLmh9O0cucHJvdG90eXBlLmdldEZhc3RNb3ZpbmdCYW5kd2lkdGg9ZnVuY3Rpb24oYSl7YT0iYWdncmVzc2l2ZSI9PT1hP3RoaXMuYS5jYjp0aGlzLmEub2I7cmV0dXJuIHRoaXMuY2FuVHJ1c3RFc3RpbWF0ZSgpP2EuVmEuZ2V0RXN0aW1hdGUoKTp0aGlzLmh9O0cucHJvdG90eXBlLmdldERhdGFBZ2U9ZnVuY3Rpb24oKXtyZXR1cm4oRGF0ZS5ub3coKS10aGlzLmIpLzFFM307Ry5wcm90b3R5cGUuY2FuVHJ1c3RFc3RpbWF0ZT1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmEuY2IuVmE7cmV0dXJuIGIuJGE+PSh2b2lkIDA9PT1hPy41OmEpfHxiLnliPj10aGlzLmp9OwpHLnByb3RvdHlwZS5zdXBwb3J0c0NhY2hpbmc9ZnVuY3Rpb24oKXtyZXR1cm4hMX07Ry5wcm90b3R5cGUuc2V0UmVwcmVzZW50YXRpb25JRD1mdW5jdGlvbigpe307Ry5wcm90b3R5cGUuZmx1c2hBQlJFdmFsdWF0aW9uU2V0PWZ1bmN0aW9uKCl7cmV0dXJuW119O0cucHJvdG90eXBlLmdldFJlY2VudFNhbXBsZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jfTsvKgoKIENvcHlyaWdodCAyMDE1IEZhY2Vib29rIEluYy4KCiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoKICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KKi8KZnVuY3Rpb24gZ2IoYSxiLGMsZCl7Ry5jYWxsKHRoaXMsZCk7dGhpcy5nPWF8fDA7dGhpcy5mPXZvaWQgMD09PWI/SW5maW5pdHk6Yjt0aGlzLm09Y31yKGdiLEcpO3EoInNoYWthLnV0aWwuRVdNQUNhY2hlQmFuZHdpZHRoRXN0aW1hdG9yIixnYik7CmdiLnByb3RvdHlwZS5zYW1wbGU9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxoKXt2YXIgaz04RTMqYi9hO2UmJmUuc2V0Qnl0ZXMoYikuc2V0RGVsYXlNcyhwYXJzZUludChhLDEwKSk7YTw9dGhpcy5nJiZrPnRoaXMuZiYmIWg/KGUmJmUuc2V0RXZlbnQoInVuc2FtcGxlZCIpLnNldFJlYXNvbigiY2FjaGVkIikubG9nKCksZiYmIXRoaXMuc2hvdWxkRXhjbHVkZVNhbXBsZShiLGMpJiZmLmdldEV2ZW50TG9nZ2VyKCJiYW5kd2lkdGhfc2FtcGxlZCIpLnNldFJlc3VsdCgiYWJvcnRlZCIpLnNldExlbmd0aChiKS5zZXRDbGllbnRUaW1lQmVnaW4oRGF0ZS5ub3coKS1wYXJzZUludChhLDEwKSkuc2V0Q2xpZW50VGltZUVuZChEYXRlLm5vdygpKS5sb2coKSx0aGlzLm0oKSk6Ry5wcm90b3R5cGUuc2FtcGxlLmNhbGwodGhpcyxhLGIsYyxkLGUsZixnKX07Z2IucHJvdG90eXBlLnN1cHBvcnRzQ2FjaGluZz1mdW5jdGlvbigpe3JldHVybiBJbmZpbml0eSE9PXRoaXMuZiYmISF0aGlzLmd9OwpnYi5wcm90b3R5cGUuc2V0UmVwcmVzZW50YXRpb25JRD1mdW5jdGlvbigpe307Z2IucHJvdG90eXBlLmZsdXNoQUJSRXZhbHVhdGlvblNldD1mdW5jdGlvbigpe3JldHVybltdfTtmdW5jdGlvbiBoYigpe0cuY2FsbCh0aGlzKX1yKGhiLEcpO3EoInNoYWthLnV0aWwuRVdNQVNpZ25lZFVSTEJhbmR3aWR0aEVzdGltYXRvciIsaGIpO2hiLnByb3RvdHlwZS5zdXBwb3J0c0NhY2hpbmc9ZnVuY3Rpb24oKXtyZXR1cm4hMH07ZnVuY3Rpb24gSSgpe3ZhciBhLGIsYz1uZXcgUHJvbWlzZShmdW5jdGlvbihjLGUpe2E9YztiPWV9KTtjLnJlc29sdmU9YTtjLnJlamVjdD1iO2MuZGVzdHJveT1JLnByb3RvdHlwZS5kZXN0cm95O3JldHVybiBjfUkucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmNhdGNoKGZ1bmN0aW9uKCl7fSk7dmFyIGE9RXJyb3IoIkRlc3Ryb3llZCEiKTthLnR5cGU9ImRlc3Ryb3kiO3RoaXMucmVqZWN0KGEpfTtmdW5jdGlvbiBpYihhKXthLnNwbGl0KCIiKS5yZWR1Y2UoZnVuY3Rpb24oYSxjLGQpe3JldHVybiBhKyhkJiYwPT1kJTQ/IiAiK2M6Yyl9KX07ZnVuY3Rpb24gamIoKXt0aGlzLmxiPW5ldyBJO3RoaXMuYz0hMTt0aGlzLkFhPW51bGw7dGhpcy5hPVtdO3RoaXMuYj1udWxsfWZ1bmN0aW9uIGtiKGEsYil7aWYoYS5jKXRocm93IEVycm9yKCJDYW5ub3QgYXBwZW5kIHRvIGEgcnVubmluZyB0YXNrISIpO2EuYS5wdXNoKGIpfWpiLnByb3RvdHlwZS5zdGFydD1mdW5jdGlvbigpe2lmKHRoaXMuYyl0aHJvdyBFcnJvcigiVGFzayBhbHJlYWR5IHN0YXJ0ZWQhIik7dGhpcy5jPSEwO3RoaXMuYS51bnNoaWZ0KGZ1bmN0aW9uKCl7fSk7bGIodGhpcyx2b2lkIDApfTtqYi5wcm90b3R5cGUuYWJvcnQ9ZnVuY3Rpb24oKXtpZih0aGlzLkFhKXJldHVybiB0aGlzLkFhO2lmKCF0aGlzLmMpcmV0dXJuIHRoaXMuYz0hMCxQcm9taXNlLnJlc29sdmUoKTt0aGlzLmImJih0aGlzLmY9dGhpcy5iKCkpO3JldHVybiB0aGlzLkFhPW5ldyBJfTtqYi5wcm90b3R5cGUuZW5kPWZ1bmN0aW9uKCl7dGhpcy5hLnNwbGljZSgxKX07CmZ1bmN0aW9uIGxiKGEsYil7dmFyIGM9YS5hWzBdKGIpLGQ7Yz8oZD1jWzBdLGEuYj1jWzFdKTooZD1Qcm9taXNlLnJlc29sdmUoKSxhLmI9bnVsbCk7ZC50aGVuKEooYSxmdW5jdGlvbihhKXt0aGlzLkFhPyh0aGlzLmE9W10sdGhpcy5iPW51bGwsbWIodGhpcykpOih0aGlzLmEuc2hpZnQoKSx0aGlzLmEubGVuZ3RoP2xiKHRoaXMsYSk6KHRoaXMubGIucmVzb2x2ZShhKSx0aGlzLmI9bnVsbCkpfSkpLmNhdGNoKEooYSxmdW5jdGlvbihhKXt0aGlzLmE9W107dGhpcy5iPW51bGw7dGhpcy5BYT9tYih0aGlzKTp0aGlzLmxiLnJlamVjdChhKX0pKX0KZnVuY3Rpb24gbWIoYSl7ZnVuY3Rpb24gYigpe3ZhciBhPUVycm9yKCJUYXNrIGFib3J0ZWQuIik7YS50eXBlPSJhYm9ydGVkIjt0aGlzLmxiLnJlamVjdChhKTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhpcy5BYS5yZXNvbHZlKCk7dGhpcy5BYT1udWxsfS5iaW5kKHRoaXMpLDUpfWEuZj9hLmYudGhlbihmdW5jdGlvbigpe3RoaXMuZj1udWxsO2IuY2FsbCh0aGlzKX0uYmluZChhKSk6Yi5jYWxsKGEpfTtmdW5jdGlvbiBKKGEsYil7cmV0dXJuIGIuYmluZChhKX07ZnVuY3Rpb24gbmIoYSxiLGMsZCxlLGYsZyl7TWVkaWFTb3VyY2UuaXNUeXBlU3VwcG9ydGVkKGMpO0YuY2FsbCh0aGlzLGUpO2U9Yi5hZGRTb3VyY2VCdWZmZXIoYyk7dGhpcy5oPWE7dGhpcy5BPWI7dGhpcy5hPWU7dGhpcy5KPWQ7dGhpcy5CPW5ldyBiYjt0aGlzLkk9dGhpcy5sPXRoaXMuWT10aGlzLmk9bnVsbDt0aGlzLlI9ITE7dGhpcy5QPXRoaXMuSz10aGlzLk89MDt0aGlzLkc9bnVsbDt0aGlzLlY9dGhpcy5GPSExO3RoaXMuWj1mO3RoaXMuRD1udWxsO3RoaXMuJD1nP2c6bnVsbDt0aGlzLmI9W107dGhpcy5VPTA7dGhpcy5tPXRoaXMuYz10aGlzLmY9bnVsbDt0aGlzLlQ9amE7dGhpcy5vPXRoaXMudT0wO3RoaXMudz10aGlzLlM9ITE7dGhpcy5nPWMmJmMuY2hhckF0KDApO0UodGhpcy5CLHRoaXMuYSwidXBkYXRlZW5kIix0aGlzLm5kLmJpbmQodGhpcykpO3RoaXMuaC5nZXRCb29sKCJsaXN0ZW5fZm9yX2FzeW5jX2FwcGVuZF9idWZmZXJfZXJyb3JzIiwhMCkmJkUodGhpcy5CLAp0aGlzLmEsImVycm9yIix0aGlzLmFkLmJpbmQodGhpcykpO3RoaXMuaj1udWxsfXIobmIsRik7bmIucHJvdG90eXBlLkJhPWZ1bmN0aW9uKCl7cmV0dXJue1NvdXJjZUJ1ZmZlcjp0aGlzLmF9fTtmdW5jdGlvbiBvYihhLGIsYyl7YS5vYyYmYS5MYShiLHt0eXBlOmEuZy5jaGFyQXQoMCksc2VnbWVudDpjLHNvdXJjZUJ1ZmZlcjphLmF9KX12YXIgcGI9MS82MDtuYi5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuYWJvcnQoKS5jYXRjaChmdW5jdGlvbigpe30pO3RoaXMuYyYmdGhpcy5jLmRlc3Ryb3koKTt0aGlzLmI9dGhpcy5mPXRoaXMuYz1udWxsO3RoaXMuQi5kZXN0cm95KCk7dGhpcy5BPXRoaXMuYT10aGlzLkQ9dGhpcy5CPW51bGx9O2Z1bmN0aW9uIHFiKGEpe3ZhciBiPWEuYi5sZW5ndGg7cmV0dXJuIDA8Yj9hLmJbYi0xXTpudWxsfQpmdW5jdGlvbiByYihhLGIpe2Zvcih2YXIgYz1hLmEuYnVmZmVyZWQsZD0wO2Q8Yy5sZW5ndGg7KytkKXt2YXIgZT1jLnN0YXJ0KGQpLXBiLGY9Yy5lbmQoZCkrcGI7aWYoYj49ZSYmYjw9ZilyZXR1cm4gYy5lbmQoZCktYn1yZXR1cm4gMH1mdW5jdGlvbiBzYihhLGIsYyl7dmFyIGQ9Yi5lbmRUaW1lP2IuZW5kVGltZS1iLnN0YXJ0VGltZToxLGU9bmV3IHRiO2UuTmE9MztlLmM9MUUzKmQ7ZS5iPTFFMyphLlQ7ZS51PWEuWTtlLmo9YztlLmRhPWEuWjtlLm1pbWVUeXBlPWEuZztlLmg9YS4kO2Uubz1iLmlzUHJlZGljdGl2ZTtyZXR1cm4gZX1uPW5iLnByb3RvdHlwZTsKbi5mZXRjaD1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGgpe3ZhciBrLGw9Zj8icmVwbGFjaW5nX2xvd2VyX3F1YWxpdHlfYnVmZmVyIjpudWxsO2lmKHRoaXMubCl7dmFyIG09dGhpcy5iW3RoaXMuYi5sZW5ndGgtMV0scD1udWxsO20mJihwPTFFMyooYS5zdGFydFRpbWUtbS5lbmRUaW1lKSk7az10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJmZXRjaCIpLnNldFJlYXNvbihsKS5zZXRSZXNvdXJjZSh1YihhLnVybCkpLnNldFR5cGUodmIodGhpcykpLnNldExlbmd0aChNYXRoLnJvdW5kKDFFMyooYS5lbmRUaW1lLWEuc3RhcnRUaW1lKSkpLnNldFNlZ21lbnRTdGFydFRpbWUoMUUzKmEuc3RhcnRUaW1lKS5zZXRTZWdtZW50RW5kVGltZSgxRTMqYS5lbmRUaW1lKS5zZXRTZWdtZW50VGltZUdhcChwKS5zdGFydCgpfXRoaXMuaj1rO2lmKHRoaXMuZil7aWYodGhpcy5oLmdldEJvb2woInNibV9lbmFibGVfY29uY3VycmVudF9mZXRjaF9yZXF1ZXN0cyIsITEpKXt2YXIgdD1bXS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7CnJldHVybiB0aGlzLmYubGIudGhlbihKKHRoaXMsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mZXRjaC5hcHBseSh0aGlzLHQpfSksZnVuY3Rpb24oYSl7dGhyb3cgYTt9KX1tPUVycm9yKCJDYW5ub3QgZmV0Y2ggKCIrdGhpcy5nKyIpOiBwcmV2aW91cyBvcGVyYXRpb24gbm90IGNvbXBsZXRlLiIpO3RoaXMudT49dGhpcy5PPyhtLnR5cGU9InN0cmVhbSIsayYmay5zZXRFcnJvcihtKS5sb2coKSx0aGlzLnU9MCk6KHRoaXMudSsrLG0udHlwZT0iYWJvcnRlZCIpO3JldHVybiBQcm9taXNlLnJlamVjdChtKX10aGlzLmY9bmV3IGpiO2MhPXRoaXMuYS50aW1lc3RhbXBPZmZzZXQmJih0aGlzLmEudGltZXN0YW1wT2Zmc2V0PWMpO3ZhciBtPXNiKHRoaXMsYSxlKSxwPXRoaXMuaC5nZXRCb29sKCJlbmFibGVfc3RyZWFtaW5nX2NvZGVfcGF0aCIsITApLHc7dz1wP2EudXJsLnN0cmVhbShtLHRoaXMuSix0aGlzLmwsdGhpcy5qLHRoaXMuSSx2Yih0aGlzKSxsLGcsaCk6YS51cmwuZmV0Y2gobSwKdGhpcy5KLHRoaXMubCx0aGlzLmosdGhpcy5JLHZiKHRoaXMpLGwsZyk7b2IodGhpcywiU2VnbWVudEZldGNoaW5nIixhKTt2YXIgej1LLnByb3RvdHlwZS5LYS5iaW5kKGEudXJsKTt0aGlzLkcmJnRoaXMuRiYmKGQ9dGhpcy5HKTt2YXIgSD0wLGRhPW51bGw7ZCYmKHRoaXMuRz1kLHRoaXMuRj0hMSxrYih0aGlzLmYsZnVuY3Rpb24oKXtyZXR1cm5bZC50aGVuKGZ1bmN0aW9uKGEpe2EuWWE+SCYmKEg9YS5ZYSk7cmV0dXJuIHdiKHRoaXMsYSxudWxsKX0uYmluZCh0aGlzKSksdGhpcy5iYi5iaW5kKHRoaXMpXX0uYmluZCh0aGlzKSkpO3ZhciBlYT1mdW5jdGlvbihhKXthLllhPkgmJihIPWEuWWEpO2RhPWEuYnl0ZUxlbmd0aDt0aGlzLkouZ2V0QmFuZHdpZHRoKCk7dGhpcy5TJiZ0aGlzLmRpc3BhdGNoRXZlbnQoeSh7dHlwZToiY2VhNjA4Q2FwdGlvbnNCeXRlc1JlY2VpdmVkIixidWJibGVzOiEwLGRldGFpbDp7dGltZXNjYWxlOmIsdmlkZW9CeXRlczphfX0pKX0uYmluZCh0aGlzKTsKcD8oaCYmKG09aC5nZXRQcm9ncmVzc1RyYWNrZXIoKSx0aGlzLmkhPT1tJiYodGhpcy5pPW0pKSxrYih0aGlzLmYsSih0aGlzLGZ1bmN0aW9uKCl7dmFyIGI9bnVsbCxjPU1hdGgubWF4KDAsKGEudXJsLmVuZEJ5dGV8fDApLWEudXJsLnN0YXJ0Qnl0ZSksZD10aGlzLmguZ2V0TnVtYmVyKCJzdHJlYW1pbmdfYXBwZW5kX3Blcl9zZWdtZW50IiwzKSxlPTA9PT1kPzA6Yy9kO3JldHVyblt3LnRoZW4oZnVuY3Rpb24oYyl7Yj1jO3RoaXMudz0hMTtyZXR1cm4geGIodGhpcyxjLGEsZSl9LmJpbmQodGhpcykpLnRoZW4oZnVuY3Rpb24oYSl7Yj1udWxsO3JldHVybiBhfSkudGhlbihlYSkuY2F0Y2goZnVuY3Rpb24oYSl7dGhpcy5oLmdldEJvb2woImFib3J0X2ZldGNoX29uX25ldF9lcnJvciIsITEpJiZoJiYodGhpcy5hLmFib3J0KCksdGhpcy53PSEwKTtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYSl9LmJpbmQodGhpcykpLGZ1bmN0aW9uKCl7b2IodGhpcywiU2VnbWVudEZhaWxlZCIsYSk7CmImJihiLmNhbmNlbCgiYWJvcnQiKSxiPW51bGwsaCYmKHRoaXMuYS5hYm9ydCgpLHRoaXMudz0hMCkpO3ooKTtyZXR1cm4gdGhpcy5iYigpfS5iaW5kKHRoaXMpXX0pKSk6a2IodGhpcy5mLEoodGhpcyxmdW5jdGlvbigpe3JldHVyblt3LnRoZW4oZnVuY3Rpb24oYil7b2IodGhpcywiU2VnbWVudEZldGNoZWQiLGEpO2VhKGIpO3JldHVybiB3Yih0aGlzLGIsYSxsKX0uYmluZCh0aGlzKSksZnVuY3Rpb24oKXtvYih0aGlzLCJTZWdtZW50RmFpbGVkIixhKTt6KCk7cmV0dXJuIHRoaXMuYmIoKX0uYmluZCh0aGlzKV19KSk7dmFyIEFhPTA9PXRoaXMuYS5idWZmZXJlZC5sZW5ndGgmJjA9PXRoaXMuYi5sZW5ndGgsY2I9bnVsbDtrYih0aGlzLmYsZnVuY3Rpb24oKXtpZigwPT10aGlzLmEuYnVmZmVyZWQubGVuZ3RoJiYhdGhpcy5WKXt2YXIgYj1FcnJvcigiRmFpbGVkIHRvIGJ1ZmZlciBzZWdtZW50ICgiK3RoaXMuZysiKS4iKTtiLnR5cGU9InN0cmVhbSI7cmV0dXJuW1Byb21pc2UucmVqZWN0KGIpXX10aGlzLmEuYnVmZmVyZWQubGVuZ3RoJiYKQWEmJihiPWEuc3RhcnRUaW1lLGNiPXRoaXMuYS5idWZmZXJlZC5zdGFydCgwKS1iKTtiPXliKHRoaXMuYixhLnN0YXJ0VGltZSk7MDw9Yj90aGlzLmIuc3BsaWNlKGIrMSwwLGEpOnRoaXMuYi5wdXNoKGEpfS5iaW5kKHRoaXMpKTt0aGlzLnU9MDtyZXR1cm4gemIodGhpcykudGhlbihmdW5jdGlvbigpe2smJmsubG9nKCk7cmV0dXJuIFByb21pc2UucmVzb2x2ZSh7VzpjYixXYzpILEg6YS5lbmRUaW1lLWEuc3RhcnRUaW1lLERjOmRhfSl9LmJpbmQodGhpcyksZnVuY3Rpb24oYSl7ayYmay5zZXRFcnJvcihhKS5sb2coKTthPUFiKGEsInRhc2siLCJBbiB1bmtub3duIHRhc2sgZXJyb3Igb2NjdXJyZWQuIik7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfS5iaW5kKHRoaXMpKX07CmZ1bmN0aW9uIHhiKGEsYixjLGQpe3ZhciBlPW5ldyBBcnJheUJ1ZmZlcigwKSxmPW5ldyBBcnJheUJ1ZmZlcigwKSxnPWZ1bmN0aW9uKCl7cmV0dXJuIGIucmVhZCgpLnRoZW4oZnVuY3Rpb24oYSl7dmFyIGI9YS52YWx1ZTthPWEuZG9uZTtpZih0aGlzLnd8fGEmJjA9PT1mLmJ5dGVMZW5ndGgpcmV0dXJuIGU7aWYoIWEmJiFiKXJldHVybiBnKCk7YiYmKGIgaW5zdGFuY2VvZiBVaW50OEFycmF5JiYoYj1iLmJ1ZmZlciksZj1jb25jYXRBcnJheUJ1ZmZlcihmLGIpKTtyZXR1cm4gZi5ieXRlTGVuZ3RoPj1kfHxhPyh0aGlzLmkmJnRoaXMuaS5ub3RpZnlCeXRlc0NvbnN1bWVkKGYuYnl0ZUxlbmd0aCksb2IodGhpcywiU2VnbWVudEZldGNoZWQiLGMpLGU9Y29uY2F0QXJyYXlCdWZmZXIoZSxmKSxiPWYsZj1uZXcgQXJyYXlCdWZmZXIoMCksd2IodGhpcyxiLGMpLnRoZW4oZykpOmcoKX0uYmluZCh0aGlzKSl9LmJpbmQoYSk7cmV0dXJuIGcoKX0KZnVuY3Rpb24gQmIoYSl7aWYoYS5mKXt2YXIgYj1FcnJvcigiQ2Fubm90IGNsZWFyICgiK2EuZysiKTogcHJldmlvdXMgb3BlcmF0aW9uIG5vdCBjb21wbGV0ZS4iKTthLm8+PWEuSz8oYi50eXBlPSJzdHJlYW0iLGEubz0wKTooYS5vKyssYi50eXBlPSJhYm9ydGVkIik7cmV0dXJuIFByb21pc2UucmVqZWN0KGIpfWEuZj1uZXcgamI7a2IoYS5mLGZ1bmN0aW9uKCl7dmFyIGE7YTppZigwPT10aGlzLmEuYnVmZmVyZWQubGVuZ3RoKWE9UHJvbWlzZS5yZXNvbHZlKCk7ZWxzZXt0cnl7dGhpcy5hLnJlbW92ZSgwLHRoaXMuQS5kdXJhdGlvbil9Y2F0Y2goYil7Yj1BYihiLCJjbGVhcl9idWZmZXIiLCJBbiBlcnJvciBvY2N1cmVkIHdoZW4gY2xlYXJpbmcgdGhlIGJ1ZmZlci4iKTthPVByb21pc2UucmVqZWN0KGIpO2JyZWFrIGF9dGhpcy5iPVtdO2E9dGhpcy5jPW5ldyBJfXJldHVyblthLHRoaXMuYmIuYmluZCh0aGlzKV19LmJpbmQoYSkpO2Eubz0wO3JldHVybiB6YihhKX0KZnVuY3Rpb24gQ2IoYSxiKXtpZihhLmYpe3ZhciBjPUVycm9yKCJDYW5ub3QgY2xlYXJBZnRlciAoIithLmcrIik6IHByZXZpb3VzIG9wZXJhdGlvbiBub3QgY29tcGxldGUuIik7Yy50eXBlPSJzdHJlYW0iO3JldHVybiBQcm9taXNlLnJlamVjdChjKX1hLmY9bmV3IGpiO2tiKGEuZixmdW5jdGlvbigpe3JldHVybltEYih0aGlzLGIpLHRoaXMuYmIuYmluZCh0aGlzKV19LmJpbmQoYSkpO3JldHVybiB6YihhKX1mdW5jdGlvbiBFYihhLGIpe2EuYz1uZXcgSTt2YXIgYz1iLTU7aWYoMDxjKXt0cnl7YS5hLnJlbW92ZSgwLGMpfWNhdGNoKGQpe3JldHVybiBkPUFiKGQsImNsZWFyX2J1ZmZlciIsIkFuIGVycm9yIG9jY3VyZWQgd2hlbiBjbGVhcmluZyB0aGUgYnVmZmVyLiIpLFByb21pc2UucmVqZWN0KGQpfWM9RmIoYSxjKTswPGMmJihhLmI9YS5iLnNsaWNlKGMsYS5iLmxlbmd0aCkpfWVsc2UgYS5jLnJlc29sdmUoKTtyZXR1cm4gYS5jfQpuLmFib3J0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZj90aGlzLmYuYWJvcnQoKTpQcm9taXNlLnJlc29sdmUoKX07ZnVuY3Rpb24gR2IoYSl7Zm9yKHZhciBiPWEuY3VycmVudFRpbWUsYz1iLGQ9MDtkPGEuYnVmZmVyZWQubGVuZ3RoO2QrKylpZihiPD1hLmJ1ZmZlcmVkLnN0YXJ0KGQpKXtjPWEuYnVmZmVyZWQuc3RhcnQoZCk7YnJlYWt9cmV0dXJuIGN9ZnVuY3Rpb24gSGIoYSxiKXtmb3IodmFyIGM9Yi5jdXJyZW50VGltZSxkPTA7ZDxiLmJ1ZmZlcmVkLmxlbmd0aDtkKyspaWYoYz49Yi5idWZmZXJlZC5zdGFydChkKSYmYzw9Yi5idWZmZXJlZC5lbmQoZCktYS5QKXJldHVybiExO3JldHVybiEwfQpmdW5jdGlvbiB6YihhKXthLmYuc3RhcnQoKTtyZXR1cm4gYS5mLmxiLnRoZW4oSihhLGZ1bmN0aW9uKCl7dGhpcy5mPW51bGx9KSkuY2F0Y2goSihhLGZ1bmN0aW9uKGEpe3RoaXMuZj1udWxsO2E9QWIoYSwidGFzayIsIkFuIHVua25vd24gdGFzayBlcnJvciBvY2N1cnJlZC4iKTtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYSl9KSl9CmZ1bmN0aW9uIHdiKGEsYixjLGQpe3ZhciBlO2lmKGEubCl7dmFyIGY9Yz91YihjLnVybCk6ImluaXQiO2U9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigiYXBwZW5kIikuc2V0UmVhc29uKGQpLnNldFJlc291cmNlKGYpLnNldFR5cGUodmIoYSkpLnNldExlbmd0aChiLmJ5dGVMZW5ndGgpLnN0YXJ0KCk7bnVsbCE9PWMmJihlPWUuc2V0U2VnbWVudFN0YXJ0VGltZSgxRTMqYy5zdGFydFRpbWUpLnNldFNlZ21lbnRFbmRUaW1lKDFFMypjLmVuZFRpbWUpKTthLmomJihlPWUuc2V0UGFyZW50TG9nZ2VyKGEuaikpfXRyeXthLmEuYXBwZW5kQnVmZmVyKGIpfWNhdGNoKGcpe3JldHVybiBhLmguZ2V0Qm9vbCgibnVrZV9zb3VyY2VfYnVmZmVyX29uX3F1b3RhX2V4Y2VlZGVkX2VyciIsITApJiZnIGluc3RhbmNlb2YgRE9NRXhjZXB0aW9uJiZnLmNvZGU9PT1ET01FeGNlcHRpb24uUVVPVEFfRVhDRUVERURfRVJSJiZnLm1lc3NhZ2UubWF0Y2goL14uKlNvdXJjZUJ1ZmZlci4qZnVsbC4qZnJlZVxzc3BhY2UuKiQvKSYmCihnLnR5cGU9InNvdXJjZWJ1ZmZlcl9mdWxsIiksZSYmZS5zZXRFcnJvcihnKS5sb2coKSxQcm9taXNlLnJlamVjdChnKX1hLmM9bmV3IEk7YS5tPWM7cmV0dXJuIGEuYy50aGVuKGZ1bmN0aW9uKCl7ZSYmZS5sb2coKX0sZnVuY3Rpb24oYSl7ZSYmZS5zZXRFcnJvcihhKS5sb2coKTtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYSl9KX1uLmFkPWZ1bmN0aW9uKGEpe2E9YS5lcnJvcnx8RXJyb3IoIkNhbGwgdG8gYXBwZW5kQnVmZmVyIGZhaWxlZCB0byBhcHBlbmQgdGhlIHNlZ21lbnQuIik7YT1BYihhLCJzdHJlYW0iLCJDYWxsIHRvIGFwcGVuZEJ1ZmZlciBmYWlsZWQgdG8gYXBwZW5kIHRoZSBzZWdtZW50LiIpO3RoaXMuYyYmdGhpcy5jLnJlamVjdChhKX07CmZ1bmN0aW9uIERiKGEsYil7aWYoMD09YS5hLmJ1ZmZlcmVkLmxlbmd0aClyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7dmFyIGM9RmIoYSxiKTtpZigtMT09Y3x8Yz09YS5iLmxlbmd0aC0xKXJldHVybiBQcm9taXNlLnJlc29sdmUoKTt0cnl7YS5hLnJlbW92ZShhLmJbYysxXS5zdGFydFRpbWUsYS5BLmR1cmF0aW9uKX1jYXRjaChkKXtyZXR1cm4gUHJvbWlzZS5yZWplY3QoZCl9YS5iPWEuYi5zbGljZSgwLGMrMSk7YS5jPW5ldyBJO3JldHVybiBhLmN9bi5iYj1mdW5jdGlvbigpe2lmKHRoaXMuYyl7aWYoIm9wZW4iPT10aGlzLkEucmVhZHlTdGF0ZSl7dmFyIGE9RXJyb3IoIlByZXZpb3VzIG9wZXJhdGlvbiBhYm9ydGVkLiIpO2EudHlwZT0iYWJvcnRlZCI7dGhpcy5jLnJlamVjdChhKTt0aGlzLmEuYWJvcnQoKTt0aGlzLlImJih0aGlzLkY9ITApO3RoaXMuYz1uZXcgSX1yZXR1cm4gdGhpcy5jfXJldHVybiBQcm9taXNlLnJlc29sdmUoKX07Cm4ubmQ9ZnVuY3Rpb24oKXt0aGlzLmMmJih0aGlzLm0mJihvYih0aGlzLCJTZWdtZW50QXBwZW5kZWQiLHRoaXMubSksdGhpcy5tPW51bGwpLHRoaXMuYy5yZXNvbHZlKCksdGhpcy5jPW51bGwpfTtuLkRkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaX07bmIucHJvdG90eXBlLmdldFN0cmVhbVByb2dyZXNzVHJhY2tlcj1uYi5wcm90b3R5cGUuRGQ7ZnVuY3Rpb24gdmIoYSl7cmV0dXJuInYiPT09YS5nLmNoYXJBdCgwKT8idmlkZW8iOiJhIj09PWEuZy5jaGFyQXQoMCk/ImF1ZGlvIjpudWxsfWZ1bmN0aW9uIEFiKGEsYixjKXthfHwoYT1FcnJvcihjKSk7YS50eXBlfHwoYS50eXBlPWIpO2EubWVzc2FnZXx8KGEubWVzc2FnZT1jKTtyZXR1cm4gYX0KZnVuY3Rpb24gRmIoYSxiKXtpZihhLmguZ2V0Qm9vbCgic2JtX3VzZV9zZWdtZW50X2luZGV4X3RvX2ZpbmRfdGltZXN0YW1wcyIsITEpJiZhLkQpe3ZhciBjPWEuRC5maW5kKGIpO2lmKGMpcmV0dXJuIHliKGEuYixjLnN0YXJ0VGltZSl9ZWxzZSByZXR1cm4geWIoYS5iLGIpO3JldHVybi0xfTtmdW5jdGlvbiBJYihhKXtyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLGEpfXEoInNoYWthLnV0aWwuVWludDhBcnJheVV0aWxzLnRvU3RyaW5nIixJYik7ZnVuY3Rpb24gSmIoYSl7Zm9yKHZhciBiPW5ldyBVaW50OEFycmF5KGEubGVuZ3RoKSxjPTA7YzxhLmxlbmd0aDsrK2MpYltjXT1hLmNoYXJDb2RlQXQoYyk7cmV0dXJuIGJ9cSgic2hha2EudXRpbC5VaW50OEFycmF5VXRpbHMuZnJvbVN0cmluZyIsSmIpO3EoInNoYWthLnV0aWwuVWludDhBcnJheVV0aWxzLnRvQmFzZTY0IixmdW5jdGlvbihhLGIpe3ZhciBjPXZvaWQgMD09Yj8hMDpiLGQ9d2luZG93LmJ0b2EoSWIoYSkpLnJlcGxhY2UoL1wrL2csIi0iKS5yZXBsYWNlKC9cLy9nLCJfIik7cmV0dXJuIGM/ZDpkLnJlcGxhY2UoLz0qJC8sIiIpfSk7ZnVuY3Rpb24gS2IoYSl7cmV0dXJuIEpiKHdpbmRvdy5hdG9iKGEucmVwbGFjZSgvLS9nLCIrIikucmVwbGFjZSgvXy9nLCIvIikpKX0KcSgic2hha2EudXRpbC5VaW50OEFycmF5VXRpbHMuZnJvbUJhc2U2NCIsS2IpO3EoInNoYWthLnV0aWwuVWludDhBcnJheVV0aWxzLmZyb21IZXgiLGZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1uZXcgVWludDhBcnJheShhLmxlbmd0aC8yKSxjPTA7YzxhLmxlbmd0aDtjKz0yKWJbYy8yXT13aW5kb3cucGFyc2VJbnQoYS5zdWJzdHIoYywyKSwxNik7cmV0dXJuIGJ9KTtmdW5jdGlvbiBMYihhKXtmb3IodmFyIGI9IiIsYz0wO2M8YS5sZW5ndGg7KytjKXt2YXIgZD1hW2NdLnRvU3RyaW5nKDE2KTsxPT1kLmxlbmd0aCYmKGQ9IjAiK2QpO2IrPWR9cmV0dXJuIGJ9cSgic2hha2EudXRpbC5VaW50OEFycmF5VXRpbHMudG9IZXgiLExiKTtmdW5jdGlvbiBNYShhLGIpe2lmKCFhJiYhYilyZXR1cm4hMDtpZighYXx8IWJ8fGEubGVuZ3RoIT1iLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIGM9MDtjPGEubGVuZ3RoOysrYylpZihhW2NdIT1iW2NdKXJldHVybiExO3JldHVybiEwfTtmdW5jdGlvbiBNYigpe3RoaXMuaT10aGlzLmE9IiI7dGhpcy53aXRoQ3JlZGVudGlhbHM9ITE7dGhpcy5vPXRoaXMuZj1udWxsO3RoaXMuaj10aGlzLmg9ITE7dGhpcy5tPXRoaXMuZz0iIjt0aGlzLmM9bnVsbDt0aGlzLmI9W119ZnVuY3Rpb24gTmIoYSxiKXt2YXIgYz1uZXcgTWI7Yy5hPWEuYTtjLmk9YS5pO2Mud2l0aENyZWRlbnRpYWxzPWEud2l0aENyZWRlbnRpYWxzO2MuZj1hLmY7Yy5vPWEubztjLmg9YS5oO2Muaj1hLmo7Yy5nPWEuZztjLm09YS5tO2MuYz1hLmM/bmV3IFVpbnQ4QXJyYXkoYS5jLmJ1ZmZlcik6bnVsbDtPYihjLGEuYik7T2IoYyxiLmIpO3JldHVybiBjfWZ1bmN0aW9uIE9iKGEsYil7dmFyIGM9YS5iLmNvbmNhdChiLm1hcChmdW5jdGlvbihhKXtyZXR1cm57aW5pdERhdGE6bmV3IFVpbnQ4QXJyYXkoYS5pbml0RGF0YS5idWZmZXIpLGluaXREYXRhVHlwZTphLmluaXREYXRhVHlwZX19KSk7YS5iPXdhKGMpfQpmdW5jdGlvbiB4YShhLGIpe3JldHVybiBhLmluaXREYXRhVHlwZT09Yi5pbml0RGF0YVR5cGUmJk1hKGEuaW5pdERhdGEsYi5pbml0RGF0YSl9O2Z1bmN0aW9uIFBiKGEsYixjLGQpe3RoaXMud2l0aENyZWRlbnRpYWxzPWM7dGhpcy5hPVtdO2QmJnRoaXMuYS5wdXNoKGQpfXEoInNoYWthLnBsYXllci5Ecm1TY2hlbWVJbmZvIixQYik7UGIuRGlzdGluY3RpdmVJZGVudGlmaWVyPXtPUFRJT05BTDowLFJFUVVJUkVEOjF9O1BiLlBlcnNpc3RlbnRTdGF0ZT17T1BUSU9OQUw6MCxSRVFVSVJFRDoxfTtQYi5jcmVhdGVVbmVuY3J5cHRlZD1mdW5jdGlvbigpe3JldHVybiBuZXcgUGIoMCwwLCExLG51bGwpfTtmdW5jdGlvbiBRYihhKXt0aGlzLnN5c3RlbUlkcz1bXTt0aGlzLmNlbmNLZXlJZHM9W107dGhpcy5hPVtdO2E9bmV3IEJhKG5ldyBEYXRhVmlldyhhLmJ1ZmZlcikpO3RyeXtmb3IoO0RhKGEpOyl7dmFyIGI9YS5hLGM9dihhKSxkPXYoYSk7MT09Yz9jPUZhKGEpOjA9PWMmJihjPWEuYi5ieXRlTGVuZ3RoLWIpO2lmKDE4ODY2MTQzNzYhPWQpSGEoYSxjLShhLmEtYikpO2Vsc2V7dmFyIGU9RWEoYSk7aWYoMTxlKUhhKGEsYy0oYS5hLWIpKTtlbHNle0hhKGEsMyk7dmFyIGY9TGIoR2EoYSkpLGc9W107aWYoMDxlKWZvcih2YXIgaD12KGEpLGs9MDtrPGg7KytrKXt2YXIgbD1MYihHYShhKSk7Zy5wdXNoKGwpfXZhciBtPXYoYSk7SGEoYSxtKTt0aGlzLmNlbmNLZXlJZHMucHVzaC5hcHBseSh0aGlzLmNlbmNLZXlJZHMsZyk7dGhpcy5zeXN0ZW1JZHMucHVzaChmKTt0aGlzLmEucHVzaCh7c3RhcnQ6YixlbmQ6YS5hLTF9KTthLmEhPWIrYyYmSGEoYSxjLShhLmEtYikpfX19fWNhdGNoKHApe319Cjt2YXIgUmI9L14oPzooW146Lz8jLl0rKTopPyg/OlwvXC8oPzooW14vPyNdKilAKT8oW14vIz9dKj8pKD86OihbMC05XSspKT8oPz1bLyM/XXwkKSk/KFtePyNdKyk/KD86XD8oW14jXSopKT8oPzojKC4qKSk/JC87ZnVuY3Rpb24gTChhKXt2YXIgYjthIGluc3RhbmNlb2YgTD8oU2IodGhpcyxhLnphKSx0aGlzLlVhPWEuVWEsdGhpcy5oYT1hLmhhLFRiKHRoaXMsYS5YYSksdGhpcy51YT1hLnVhLFViKHRoaXMsYS5hLmNsb25lKCkpLHRoaXMuTWE9YS5NYSk6YSYmKGI9U3RyaW5nKGEpLm1hdGNoKFJiKSk/KFNiKHRoaXMsYlsxXXx8IiIsITApLHRoaXMuVWE9VmIoYlsyXXx8IiIpLHRoaXMuaGE9VmIoYlszXXx8IiIsITApLFRiKHRoaXMsYls0XSksdGhpcy51YT1WYihiWzVdfHwiIiwhMCksVWIodGhpcyxiWzZdfHwiIiwhMCksdGhpcy5NYT1WYihiWzddfHwiIikpOnRoaXMuYT1uZXcgV2IobnVsbCl9bj1MLnByb3RvdHlwZTtuLnphPSIiO24uVWE9IiI7bi5oYT0iIjtuLlhhPW51bGw7bi51YT0iIjtuLk1hPSIiOwpuLnRvU3RyaW5nPWZ1bmN0aW9uKCl7dmFyIGE9W10sYj10aGlzLnphO2ImJmEucHVzaChYYihiLFliLCEwKSwiOiIpO2lmKGI9dGhpcy5oYSl7YS5wdXNoKCIvLyIpO3ZhciBjPXRoaXMuVWE7YyYmYS5wdXNoKFhiKGMsWWIsITApLCJAIik7YS5wdXNoKGVuY29kZVVSSUNvbXBvbmVudChiKS5yZXBsYWNlKC8lMjUoWzAtOWEtZkEtRl17Mn0pL2csIiUkMSIpKTtiPXRoaXMuWGE7bnVsbCE9YiYmYS5wdXNoKCI6IixTdHJpbmcoYikpfWlmKGI9dGhpcy51YSl0aGlzLmhhJiYiLyIhPWIuY2hhckF0KDApJiZhLnB1c2goIi8iKSxhLnB1c2goWGIoYiwiLyI9PWIuY2hhckF0KDApP1piOiRiLCEwKSk7KGI9dGhpcy5hLnRvU3RyaW5nKCkpJiZhLnB1c2goIj8iLGIpOyhiPXRoaXMuTWEpJiZhLnB1c2goIiMiLFhiKGIsYWMpKTtyZXR1cm4gYS5qb2luKCIiKX07Cm4ucmVzb2x2ZT1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmNsb25lKCk7ImRhdGEiPT09Yi56YSYmKGI9bmV3IEwpO3ZhciBjPSEhYS56YTtjP1NiKGIsYS56YSk6Yz0hIWEuVWE7Yz9iLlVhPWEuVWE6Yz0hIWEuaGE7Yz9iLmhhPWEuaGE6Yz1udWxsIT1hLlhhO3ZhciBkPWEudWE7aWYoYylUYihiLGEuWGEpO2Vsc2UgaWYoYz0hIWEudWEpe2lmKCIvIiE9ZC5jaGFyQXQoMCkpaWYodGhpcy5oYSYmIXRoaXMudWEpZD0iLyIrZDtlbHNle3ZhciBlPWIudWEubGFzdEluZGV4T2YoIi8iKTstMSE9ZSYmKGQ9Yi51YS5zdWJzdHIoMCxlKzEpK2QpfWlmKCIuLiI9PWR8fCIuIj09ZClkPSIiO2Vsc2UgaWYoLTEhPWQuaW5kZXhPZigiLi8iKXx8LTEhPWQuaW5kZXhPZigiLy4iKSl7Zm9yKHZhciBlPTA9PWQubGFzdEluZGV4T2YoIi8iLDApLGQ9ZC5zcGxpdCgiLyIpLGY9W10sZz0wO2c8ZC5sZW5ndGg7KXt2YXIgaD1kW2crK107Ii4iPT1oP2UmJmc9PWQubGVuZ3RoJiZmLnB1c2goIiIpOiIuLiI9PQpoPygoMTxmLmxlbmd0aHx8MT09Zi5sZW5ndGgmJiIiIT1mWzBdKSYmZi5wb3AoKSxlJiZnPT1kLmxlbmd0aCYmZi5wdXNoKCIiKSk6KGYucHVzaChoKSxlPSEwKX1kPWYuam9pbigiLyIpfX1jP2IudWE9ZDpjPSIiIT09YS5hLnRvU3RyaW5nKCk7Yz9VYihiLGEuYS5jbG9uZSgpKTpjPSEhYS5NYTtjJiYoYi5NYT1hLk1hKTtyZXR1cm4gYn07bi5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgTCh0aGlzKX07ZnVuY3Rpb24gU2IoYSxiLGMpe2EuemE9Yz9WYihiLCEwKTpiO2EuemEmJihhLnphPWEuemEucmVwbGFjZSgvOiQvLCIiKSl9ZnVuY3Rpb24gVGIoYSxiKXtpZihiKXtiPU51bWJlcihiKTtpZihpc05hTihiKXx8MD5iKXRocm93IEVycm9yKCJCYWQgcG9ydCBudW1iZXIgIitiKTthLlhhPWJ9ZWxzZSBhLlhhPW51bGx9ZnVuY3Rpb24gVWIoYSxiLGMpe2IgaW5zdGFuY2VvZiBXYj9hLmE9YjooY3x8KGI9WGIoYixiYykpLGEuYT1uZXcgV2IoYikpfQpmdW5jdGlvbiBWYihhLGIpe3JldHVybiBhP2I/ZGVjb2RlVVJJKGEpOmRlY29kZVVSSUNvbXBvbmVudChhKToiIn1mdW5jdGlvbiBYYihhLGIsYyl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBhPyhhPWVuY29kZVVSSShhKS5yZXBsYWNlKGIsY2MpLGMmJihhPWEucmVwbGFjZSgvJTI1KFswLTlhLWZBLUZdezJ9KS9nLCIlJDEiKSksYSk6bnVsbH1mdW5jdGlvbiBjYyhhKXthPWEuY2hhckNvZGVBdCgwKTtyZXR1cm4iJSIrKGE+PjQmMTUpLnRvU3RyaW5nKDE2KSsoYSYxNSkudG9TdHJpbmcoMTYpfXZhciBZYj0vWyNcL1w/QF0vZywkYj0vW1wjXD86XS9nLFpiPS9bXCNcP10vZyxiYz0vW1wjXD9AXS9nLGFjPS8jL2c7ZnVuY3Rpb24gV2IoYSl7dGhpcy5iPWF8fG51bGx9V2IucHJvdG90eXBlLmE9bnVsbDtXYi5wcm90b3R5cGUuYz1udWxsOwpmdW5jdGlvbiBkYyhhLGIsYyl7aWYoIWEuYSYmKGEuYT17fSxhLmM9MCxhLmIpKWZvcih2YXIgZD1hLmIuc3BsaXQoIiYiKSxlPTA7ZTxkLmxlbmd0aDtlKyspe3ZhciBmPWRbZV0uaW5kZXhPZigiPSIpLGc9bnVsbCxoPW51bGw7MDw9Zj8oZz1kW2VdLnN1YnN0cmluZygwLGYpLGg9ZFtlXS5zdWJzdHJpbmcoZisxKSk6Zz1kW2VdO2c9ZGVjb2RlVVJJQ29tcG9uZW50KGcucmVwbGFjZSgvXCsvZywiICIpKTtoPWh8fCIiO2RjKGEsZyxkZWNvZGVVUklDb21wb25lbnQoaC5yZXBsYWNlKC9cKy9nLCIgIikpKX1hLmI9bnVsbDsoZD1hLmEuaGFzT3duUHJvcGVydHkoYikmJmEuYVtiXSl8fChhLmFbYl09ZD1bXSk7ZC5wdXNoKGMpO2EuYysrfQpXYi5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtpZih0aGlzLmIpcmV0dXJuIHRoaXMuYjtpZighdGhpcy5hKXJldHVybiIiO3ZhciBhPVtdLGI7Zm9yKGIgaW4gdGhpcy5hKWZvcih2YXIgYz1lbmNvZGVVUklDb21wb25lbnQoYiksZD10aGlzLmFbYl0sZT0wO2U8ZC5sZW5ndGg7ZSsrKXt2YXIgZj1jOyIiIT09ZFtlXSYmKGYrPSI9IitlbmNvZGVVUklDb21wb25lbnQoZFtlXSkpO2EucHVzaChmKX1yZXR1cm4gdGhpcy5iPWEuam9pbigiJiIpfTtXYi5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgV2I7YS5iPXRoaXMuYjtpZih0aGlzLmEpe3ZhciBiPXt9LGM7Zm9yKGMgaW4gdGhpcy5hKWJbY109dGhpcy5hW2NdLmNvbmNhdCgpO2EuYT1iO2EuYz10aGlzLmN9cmV0dXJuIGF9O2Z1bmN0aW9uIGVjKGEsYixjKXt2YXIgZD1hLmluZGV4T2YoIjw/eG1sIik7MDw9ZCYmKGE9YS5zdWJzdHIoZCkpO2E9KG5ldyBET01QYXJzZXIpLnBhcnNlRnJvbVN0cmluZyhhLCJ0ZXh0L3htbCIpO2lmKCFhKXJldHVybiBudWxsOyJzdHJpbmciPT09dHlwZW9mIGImJihiPVtuZXcgTChiKV0pO2I9Ynx8W25ldyBMKCIiKV07Yz1jfHxbbmV3IEwoIiIpXTtyZXR1cm4gTSh7QWM6YixiYXNlVXJsOmN9LGEsZmMpfXEoInNoYWthLmRhc2gubXBkLnBhcnNlTXBkIixlYyk7CmZ1bmN0aW9uIGZjKCl7dGhpcy5pZD10aGlzLnVybD1udWxsO3RoaXMudHlwZT0ic3RhdGljIjt0aGlzLkZCSXNMaXZlVGVtcGxhdGVkPXRoaXMuRkJXYXNMaXZlPXRoaXMubWFuaWZlc3RJc0xpdmVTdHJlYW1pbmc9ITE7dGhpcy5GQk1hbmlmZXN0SWRlbnRpZmllcj0iIjt0aGlzLkZCTVM9ITE7dGhpcy51PXRoaXMuYmFzZVVybD10aGlzLkFjPW51bGw7dGhpcy5qPXRoaXMuaT10aGlzLmg9MDt0aGlzLmI9bnVsbDt0aGlzLm09NTt0aGlzLmY9dGhpcy5jPXRoaXMuZz1udWxsO3RoaXMubz0xO3RoaXMubGFzdFZpZGVvRnJhbWVUcz10aGlzLmN1cnJlbnRTZXJ2ZXJUaW1lTXM9MDt0aGlzLmE9W119ZnVuY3Rpb24gZ2MoKXt0aGlzLmY9dGhpcy5jPXRoaXMuYj10aGlzLmJhc2VVcmw9dGhpcy5kdXJhdGlvbj10aGlzLnN0YXJ0PXRoaXMuaWQ9bnVsbDt0aGlzLmE9W119CmZ1bmN0aW9uIGhjKCl7dGhpcy5jPXRoaXMuY29kZWNzPXRoaXMubWltZVR5cGU9dGhpcy5oZWlnaHQ9dGhpcy53aWR0aD10aGlzLmNvbnRlbnRUeXBlPXRoaXMubGFuZz10aGlzLmdyb3VwPXRoaXMuaWQ9bnVsbDt0aGlzLmY9ITE7dGhpcy5pPXRoaXMuaD10aGlzLmc9dGhpcy5iYXNlVXJsPW51bGw7dGhpcy5qPVtdO3RoaXMuYT1bXTt0aGlzLmI9bnVsbH1mdW5jdGlvbiBpYygpe3RoaXMudmFsdWU9bnVsbH1mdW5jdGlvbiBqYygpe3RoaXMubGFuZz10aGlzLmE9bnVsbH1mdW5jdGlvbiBrYygpe3RoaXMuY29udGVudFR5cGU9dGhpcy5sYW5nPXRoaXMuaWQ9bnVsbH1mdW5jdGlvbiBsYygpe3RoaXMuZGF0YT1udWxsfWZ1bmN0aW9uIG1jKCl7dGhpcy5kYXRhPW51bGx9CmZ1bmN0aW9uIG5jKCl7dGhpcy5hPXRoaXMuYj10aGlzLmY9dGhpcy5pPXRoaXMuYmFzZVVybD10aGlzLmo9dGhpcy5mcmFtZVJhdGU9dGhpcy51PXRoaXMubz10aGlzLm09dGhpcy5mYlF1YWxpdHlDbGFzcz10aGlzLmZiUXVhbGl0eUxhYmVsPXRoaXMuaD10aGlzLmc9dGhpcy5jb2RlY3M9dGhpcy5taW1lVHlwZT10aGlzLmhlaWdodD10aGlzLndpZHRoPXRoaXMuYmFuZHdpZHRoPXRoaXMubGFuZz10aGlzLmlkPW51bGw7dGhpcy5jPVtdfWZ1bmN0aW9uIG9jKCl7dGhpcy52YWx1ZT10aGlzLmE9bnVsbH1vYy5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgb2M7YS5hPXRoaXMuYTthLnZhbHVlPXRoaXMudmFsdWU7cmV0dXJuIGF9O29jLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMuYT1OKGIsInNjaGVtZUlkVXJpIixPLHRoaXMuYSk7dGhpcy52YWx1ZT1OKGIsInZhbHVlIixPLHRoaXMudmFsdWUpfTsKZnVuY3Rpb24gcGMoKXt0aGlzLmI9dGhpcy5hPXRoaXMuZj10aGlzLmM9bnVsbH1mdW5jdGlvbiBxYygpe3RoaXMucGFyc2VkUHNzaD10aGlzLnBzc2hCb3g9bnVsbH1mdW5jdGlvbiByYygpe3RoaXMudXJsPW51bGx9ZnVuY3Rpb24gc2MoKXt0aGlzLnVybD1udWxsfWZ1bmN0aW9uIHRjKCl7dGhpcy5iYXNlVXJsPW51bGw7dGhpcy5zPTE7dGhpcy5jPXRoaXMuYj10aGlzLmY9dGhpcy5hPXRoaXMuTD1udWxsfXRjLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyB0YzthLmJhc2VVcmw9dWModGhpcy5iYXNlVXJsKTthLnM9dGhpcy5zO2EuTD10aGlzLkw7YS5hPXZjKHRoaXMuYSk7YS5mPXZjKHRoaXMuZik7YS5iPXZjKHRoaXMuYik7YS5jPXZjKHRoaXMuYyk7cmV0dXJuIGF9O2Z1bmN0aW9uIHdjKCl7dGhpcy5hPXRoaXMudXJsPW51bGx9CndjLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyB3YzthLnVybD11Yyh0aGlzLnVybCk7YS5hPXZjKHRoaXMuYSk7cmV0dXJuIGF9O2Z1bmN0aW9uIHhjKCl7dGhpcy5hPXRoaXMudXJsPW51bGx9eGMucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IHhjO2EudXJsPXVjKHRoaXMudXJsKTthLmE9dmModGhpcy5hKTtyZXR1cm4gYX07ZnVuY3Rpb24geWMoKXt0aGlzLmJhc2VVcmw9bnVsbDt0aGlzLnM9MTt0aGlzLkg9dGhpcy5MPW51bGw7dGhpcy5jPTA7dGhpcy5iPW51bGw7dGhpcy5hPVtdO3RoaXMuQz1udWxsfXljLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyB5YzthLmJhc2VVcmw9dWModGhpcy5iYXNlVXJsKTthLnM9dGhpcy5zO2EuTD10aGlzLkw7YS5IPXRoaXMuSDthLmM9dGhpcy5jO2EuYj12Yyh0aGlzLmIpO2EuYT11Yyh0aGlzLmEpfHxbXTthLkM9dmModGhpcy5DKTtyZXR1cm4gYX07CmZ1bmN0aW9uIHpjKCl7dGhpcy5hPXRoaXMuYj1udWxsfXpjLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyB6YzthLmI9dWModGhpcy5iKTthLmE9dmModGhpcy5hKTtyZXR1cm4gYX07ZnVuY3Rpb24gQWMoKXt0aGlzLnM9MTt0aGlzLkg9dGhpcy5MPW51bGw7dGhpcy5iPTA7dGhpcy5DPXRoaXMuYz10aGlzLmE9dGhpcy5mPW51bGx9QWMucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IEFjO2Eucz10aGlzLnM7YS5MPXRoaXMuTDthLkg9dGhpcy5IO2EuYj10aGlzLmI7YS5mPXRoaXMuZjthLmE9dGhpcy5hO2EuYz10aGlzLmM7YS5DPXZjKHRoaXMuQyk7cmV0dXJuIGF9O2Z1bmN0aW9uIEJjKCl7dGhpcy5iPXRoaXMuYT1udWxsO3RoaXMuTj1bXX1CYy5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgQmM7YS5hPXRoaXMuYTthLmI9dGhpcy5iO2EuTj11Yyh0aGlzLk4pfHxbXTtyZXR1cm4gYX07CmZ1bmN0aW9uIENjKCl7dGhpcy5zdGFydFNlZ21lbnRJbmRleD10aGlzLnJlcGVhdD10aGlzLmR1cmF0aW9uPXRoaXMuc3RhcnRUaW1lPW51bGx9Q2MucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IENjO2Euc3RhcnRUaW1lPXRoaXMuc3RhcnRUaW1lO2EuZHVyYXRpb249dGhpcy5kdXJhdGlvbjthLnJlcGVhdD10aGlzLnJlcGVhdDtyZXR1cm4gYX07ZnVuY3Rpb24gRGMoYSxiKXt0aGlzLnFhPWE7dGhpcy5lbmQ9Yn1EYy5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IERjKHRoaXMucWEsdGhpcy5lbmQpfTtmYy5UQUdfTkFNRT0iTVBEIjtnYy5UQUdfTkFNRT0iUGVyaW9kIjtoYy5UQUdfTkFNRT0iQWRhcHRhdGlvblNldCI7aWMuVEFHX05BTUU9IlJvbGUiO2pjLlRBR19OQU1FPSJBY2Nlc3NpYmlsaXR5IjtrYy5UQUdfTkFNRT0iQ29udGVudENvbXBvbmVudCI7bmMuVEFHX05BTUU9IlJlcHJlc2VudGF0aW9uIjtwYy5UQUdfTkFNRT0iQ29udGVudFByb3RlY3Rpb24iOwpxYy5UQUdfTkFNRT0iY2VuYzpwc3NoIjtyYy5UQUdfTkFNRT0iQmFzZVVSTCI7b2MuVEFHX05BTUU9IkF1ZGlvQ2hhbm5lbENvbmZpZ3VyYXRpb24iO3NjLlRBR19OQU1FPSJMb2NhdGlvbiI7dGMuVEFHX05BTUU9IlNlZ21lbnRCYXNlIjt3Yy5UQUdfTkFNRT0iUmVwcmVzZW50YXRpb25JbmRleCI7bGMuVEFHX05BTUU9IkZCSW5pdGlhbGl6YXRpb25CaW5hcnkiO21jLlRBR19OQU1FPSJGQlNlZ21lbnRJbmRleEJpbmFyeSI7eGMuVEFHX05BTUU9IkluaXRpYWxpemF0aW9uIjt5Yy5UQUdfTkFNRT0iU2VnbWVudExpc3QiO3pjLlRBR19OQU1FPSJTZWdtZW50VVJMIjtBYy5UQUdfTkFNRT0iU2VnbWVudFRlbXBsYXRlIjtCYy5UQUdfTkFNRT0iU2VnbWVudFRpbWVsaW5lIjtDYy5UQUdfTkFNRT0iUyI7CmZjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMudXJsPWEuQWM7dGhpcy5pZD1OKGIsImlkIixPKTt0aGlzLnR5cGU9TihiLCJ0eXBlIixPKXx8InN0YXRpYyI7dGhpcy5tYW5pZmVzdElzTGl2ZVN0cmVhbWluZz0iZHluYW1pYyI9PT10aGlzLnR5cGU7dGhpcy5GQldhc0xpdmU9TihiLCJGQldhc0xpdmUiLEVjKXx8ITE7dGhpcy5GQklzTGl2ZVRlbXBsYXRlZD1OKGIsIkZCSXNMaXZlVGVtcGxhdGVkIixFYyl8fCExO3RoaXMuRkJNYW5pZmVzdElkZW50aWZpZXI9TihiLCJGQk1hbmlmZXN0SWRlbnRpZmllciIsTyl8fCIiO3RoaXMuRkJNUz1OKGIsIkZCTVMiLEVjKXx8ITE7VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJvdmVycmlkZV9mYl9pc19saXZlX3RlbXBsYXRlZCIsITEpJiYodGhpcy5GQklzTGl2ZVRlbXBsYXRlZD0hMSk7dGhpcy5iPU4oYiwibWVkaWFQcmVzZW50YXRpb25EdXJhdGlvbiIsRmMpO3RoaXMubT1OKGIsIm1pbkJ1ZmZlclRpbWUiLApGYyx0aGlzLm0pO3RoaXMuZz1OKGIsIm1pbmltdW1VcGRhdGVQZXJpb2QiLEZjLHRoaXMuZyk7dGhpcy5jPU4oYiwiYXZhaWxhYmlsaXR5U3RhcnRUaW1lIixHYyx0aGlzLmMpO3RoaXMuZj1OKGIsInRpbWVTaGlmdEJ1ZmZlckRlcHRoIixGYyx0aGlzLmYpO3RoaXMuY3VycmVudFNlcnZlclRpbWVNcz1OKGIsImN1cnJlbnRTZXJ2ZXJUaW1lTXMiLFApO04oYiwiZmlyc3RBdlRpbWVNcyIsUCk7dGhpcy5sYXN0VmlkZW9GcmFtZVRzPU4oYiwibGFzdFZpZGVvRnJhbWVUcyIsUCk7dGhpcy5mPW51bGw7dGhpcy5vPU4oYiwic3VnZ2VzdGVkUHJlc2VudGF0aW9uRGVsYXkiLEZjLHRoaXMubyk7dGhpcy5oPU4oYiwibG9hcFN0cmVhbVR5cGUiLEhjLHRoaXMuaCk7dGhpcy5pPU4oYiwidXNpbmdBU1JDYXB0aW9ucyIsSGMsdGhpcy5pKTt0aGlzLmo9TihiLCJpc1VzaW5nQXNyQ2FwdGlvbnNFbXBsb3llZURvZ2Zvb2RpbmciLEhjLHRoaXMuaik7dmFyIGM9YS5iYXNlVXJsLGQ9SWModGhpcywKYixyYyk7dGhpcy5iYXNlVXJsPUpjKGMsZCk7aWYoZD1NKHRoaXMsYixzYykpdGhpcy51PUtjKGMsZC51cmwpO3RoaXMuYT1JYyh0aGlzLGIsZ2MpfTtmdW5jdGlvbiBMYyhhLGIsYyxkKXtpZigwIT09YS5hLmxlbmd0aCl7dmFyIGU9bmV3IGhjO2UuY29udGVudFR5cGU9InRleHQiO2UubGFuZz1jfHwiZW4iO2UuZj0hMDtjPW5ldyBuYztjLmJhbmR3aWR0aD0wO2MubWltZVR5cGU9ZHx8InRleHQvdnR0IjtjLmJhc2VVcmw9W25ldyBMKGIpXTtlLmEucHVzaChjKTthLmFbMF0uYS5wdXNoKGUpO01jKGEuYVswXSl9fQpnYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt0aGlzLmlkPU4oYiwiaWQiLE8pO3RoaXMuc3RhcnQ9TihiLCJzdGFydCIsRmMpO3RoaXMuZHVyYXRpb249TihiLCJkdXJhdGlvbiIsRmMpO3ZhciBjPUljKHRoaXMsYixyYyk7dGhpcy5iYXNlVXJsPUpjKGEuYmFzZVVybCxjKTt0aGlzLmI9TSh0aGlzLGIsdGMpO3RoaXMuYz1NKHRoaXMsYix5Yyk7dGhpcy5mPU0odGhpcyxiLEFjKTt0aGlzLmE9SWModGhpcyxiLGhjKTtNYyh0aGlzKX07ZnVuY3Rpb24gTWMoYSl7Zm9yKHZhciBiPVtdLGM9MDtjPGEuYS5sZW5ndGg7KytjKXt2YXIgZD1hLmFbY107bnVsbCE9ZC5ncm91cCYmKGJbZC5ncm91cF09ITApfWZvcihjPTA7YzxhLmEubGVuZ3RoOysrYylpZihkPWEuYVtjXSxudWxsPT1kLmdyb3VwKXtmb3IodmFyIGU9MTsxPT1iW2VdOykrK2U7YltlXT0hMDtkLmdyb3VwPWV9fQpoYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt2YXIgYz1NKHRoaXMsYixrYyl8fHt9LGQ9TSh0aGlzLGIsaWMpO3RoaXMuaWQ9TihiLCJpZCIsTyk7dGhpcy5ncm91cD1OKGIsImdyb3VwIixQKTt0aGlzLmxhbmc9TihiLCJsYW5nIixPLGMubGFuZyk7dGhpcy5jb250ZW50VHlwZT1OKGIsImNvbnRlbnRUeXBlIixPLGMuY29udGVudFR5cGUpO3RoaXMud2lkdGg9TihiLCJ3aWR0aCIsUSk7dGhpcy5oZWlnaHQ9TihiLCJoZWlnaHQiLFEpO3RoaXMubWltZVR5cGU9TihiLCJtaW1lVHlwZSIsTyk7dGhpcy5jb2RlY3M9TihiLCJjb2RlY3MiLE8pO3RoaXMuYz1OKGIsIkZCUHJvamVjdGlvbiIsTyk7dGhpcy5mPWQmJiJtYWluIj09ZC52YWx1ZTt0aGlzLmxhbmcmJih0aGlzLmxhbmc9U2EodGhpcy5sYW5nKSk7Yz1JYyh0aGlzLGIscmMpO3RoaXMuYmFzZVVybD1KYyhhLmJhc2VVcmwsYyk7dGhpcy5qPUljKHRoaXMsYixwYyk7IXRoaXMuY29udGVudFR5cGUmJnRoaXMubWltZVR5cGUmJgoodGhpcy5jb250ZW50VHlwZT10aGlzLm1pbWVUeXBlLnNwbGl0KCIvIilbMF0pO3RoaXMuZz1hLmI/T2ModGhpcyxiLGEuYik6TSh0aGlzLGIsdGMpO3RoaXMuaD1hLmM/T2ModGhpcyxiLGEuYyk6TSh0aGlzLGIseWMpO3RoaXMuaT1hLmY/T2ModGhpcyxiLGEuZik6TSh0aGlzLGIsQWMpO3RoaXMuYT1JYyh0aGlzLGIsbmMpO3RoaXMuYj1NKHRoaXMsYixqYyk7IXRoaXMubWltZVR5cGUmJnRoaXMuYS5sZW5ndGgmJih0aGlzLm1pbWVUeXBlPXRoaXMuYVswXS5taW1lVHlwZSwhdGhpcy5jb250ZW50VHlwZSYmdGhpcy5taW1lVHlwZSYmKHRoaXMuY29udGVudFR5cGU9dGhpcy5taW1lVHlwZS5zcGxpdCgiLyIpWzBdKSl9O2ljLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMudmFsdWU9TihiLCJ2YWx1ZSIsTyl9O2pjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMuYT1OKGIsInNjaGVtZUlkVXJpIixPKTt0aGlzLmxhbmc9TihiLCJsYW5nIixPKX07CmtjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMuaWQ9TihiLCJpZCIsTyk7dGhpcy5sYW5nPU4oYiwibGFuZyIsTyk7dGhpcy5jb250ZW50VHlwZT1OKGIsImNvbnRlbnRUeXBlIixPKTt0aGlzLmxhbmcmJih0aGlzLmxhbmc9U2EodGhpcy5sYW5nKSl9OwpuYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt0aGlzLmlkPU4oYiwiaWQiLE8pO3RoaXMuYmFuZHdpZHRoPU4oYiwiYmFuZHdpZHRoIixRKTt0aGlzLndpZHRoPU4oYiwid2lkdGgiLFEsYS53aWR0aCk7dGhpcy5oZWlnaHQ9TihiLCJoZWlnaHQiLFEsYS5oZWlnaHQpO3RoaXMubWltZVR5cGU9TihiLCJtaW1lVHlwZSIsTyxhLm1pbWVUeXBlKTt0aGlzLmNvZGVjcz1OKGIsImNvZGVjcyIsTyxhLmNvZGVjcyk7dGhpcy5mYlF1YWxpdHlMYWJlbD1OKGIsIkZCUXVhbGl0eUxhYmVsIixPKTt0aGlzLmZiUXVhbGl0eUNsYXNzPU4oYiwiRkJRdWFsaXR5Q2xhc3MiLE8pO3RoaXMubT1OKGIsIkZCQWJyUG9saWN5VGFncyIsTyk7VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJtcGRfcGFyc2VfbW9zX2F0dHJpYnV0ZXMiLCExKSYmKHRoaXMubz1OKGIsIkZCUGxheWJhY2tSZXNvbHV0aW9uTW9zIixNb3NVdGlscy5wYXJzZVBsYXliYWNrTW9zKSx0aGlzLnU9TihiLAoiRkJQbGF5YmFja1Jlc29sdXRpb25Nb3NDb25maWRlbmNlTGV2ZWwiLE8pKTtWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woIm1wZF9wYXJzZV9mcmFtZV9hbmRfYXVkaW9fc2FtcGxpbmdfcmF0ZSIsITEpJiYodGhpcy5mcmFtZVJhdGU9TihiLCJmcmFtZVJhdGUiLE8pLHRoaXMuaj1OKGIsImF1ZGlvU2FtcGxpbmdSYXRlIixRKSk7dGhpcy5sYW5nPWEubGFuZzt2YXIgYz1JYyh0aGlzLGIscmMpO3RoaXMuYmFzZVVybD1KYyhhLmJhc2VVcmwsYyk7VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJhZGRfaW5saW5lX2luaXRpYWxpemF0aW9uX3Jlc291cmNlcyIsITEpJiYodGhpcy5nPU0odGhpcyxiLGxjKSx0aGlzLmg9TSh0aGlzLGIsbWMpKTt0aGlzLmM9SWModGhpcyxiLHBjKTt0aGlzLmk9TSh0aGlzLGIsb2MpO3RoaXMuZj1hLmc/T2ModGhpcyxiLGEuZyk6TSh0aGlzLGIsdGMpO3RoaXMuYj1hLmg/T2ModGhpcyxiLGEuaCk6TSh0aGlzLGIsCnljKTt0aGlzLmE9YS5pP09jKHRoaXMsYixhLmkpOk0odGhpcyxiLEFjKTt0aGlzLmM9dGhpcy5jLmNvbmNhdChhLmopfTtsYy5wcm90b3R5cGUucGFyc2U9bWMucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7aWYoYiYmYi5maXJzdENoaWxkKXt2YXIgYz1QYyhiKTtudWxsIT1jJiYodGhpcy5kYXRhPUtiKGMpLmJ1ZmZlcil9fTtwYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt0aGlzLmM9Yjt0aGlzLmY9TihiLCJzY2hlbWVJZFVyaSIsTyk7dmFyIGM9TihiLCJjZW5jOmRlZmF1bHRfS0lEIixPKTtjJiYodGhpcy5iPWMucmVwbGFjZSgvWy1dL2csIiIpKTt0aGlzLmE9TSh0aGlzLGIscWMpfTsKcWMucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dmFyIGM9UGMoYik7aWYoYyl7dGhpcy5wc3NoQm94PUtiKGMpO3RyeXt0aGlzLnBhcnNlZFBzc2g9bmV3IFFiKHRoaXMucHNzaEJveCl9Y2F0Y2goZCl7aWYoIShkIGluc3RhbmNlb2YgUmFuZ2VFcnJvcikpdGhyb3cgZDt9fX07cmMucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dmFyIGM9Yi5jaGlsZE5vZGVzLGQ9IiI7aWYoMT09Yy5sZW5ndGgpZD1QYyhiKTtlbHNlIGZvcih2YXIgZT0wO2U8Yy5sZW5ndGg7ZSsrKWNbZV0ubm9kZVR5cGU9PU5vZGUuVEVYVF9OT0RFJiYoZCs9Y1tlXS5ub2RlVmFsdWUpO3RoaXMudXJsPWR9O3NjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMudXJsPVBjKGIpfTsKdGMucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dGhpcy5iYXNlVXJsPWEuYmFzZVVybHx8dGhpcy5iYXNlVXJsO3RoaXMucz1OKGIsInRpbWVzY2FsZSIsUSx0aGlzLnMpO3RoaXMuTD1OKGIsInByZXNlbnRhdGlvblRpbWVPZmZzZXQiLFAsdGhpcy5MKTt0aGlzLmE9TihiLCJpbmRleFJhbmdlIixRYyx0aGlzLmEpO3RoaXMuZj1OKGIsIkZCRmlyc3RTZWdtZW50UmFuZ2UiLFFjLHRoaXMuZik7dGhpcy5iPU0odGhpcyxiLHdjKXx8dGhpcy5iO3RoaXMuYz1NKHRoaXMsYix4Yyl8fHRoaXMuY307d2MucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dmFyIGM9TihiLCJzb3VyY2VVUkwiLE8pO3RoaXMudXJsPUtjKGEuYmFzZVVybCxjKTt0aGlzLmE9TihiLCJyYW5nZSIsUWMsdmMoYS5hKSl9Owp4Yy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt2YXIgYz1OKGIsInNvdXJjZVVSTCIsTyk7dGhpcy51cmw9S2MoYS5iYXNlVXJsLGMpO3RoaXMuYT1OKGIsInJhbmdlIixRYyl9Owp5Yy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt0aGlzLmJhc2VVcmw9YS5iYXNlVXJsfHx0aGlzLmJhc2VVcmw7dGhpcy5zPU4oYiwidGltZXNjYWxlIixRLHRoaXMucyk7dGhpcy5MPU4oYiwicHJlc2VudGF0aW9uVGltZU9mZnNldCIsUCx0aGlzLkwpO3RoaXMuSD1OKGIsImR1cmF0aW9uIixRLHRoaXMuSCk7dmFyIGM9TihiLCJzdGFydE51bWJlciIsUSk7bnVsbCE9YyYmKHRoaXMuYz1jKTt0aGlzLmI9TSh0aGlzLGIseGMpfHx0aGlzLmI7dGhpcy5hPShjPUljKHRoaXMsYix6YykpJiYwPGMubGVuZ3RoP2M6dGhpcy5hO3RoaXMuQz1NKHRoaXMsYixCYyl8fHRoaXMuQztWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImNhbGN1bGF0ZV9xdWlja19kYXNoX3ByZXNlbnRhdGlvbl90aW1lX29mZnNldF9mcm9tX3RpbWVsaW5lIiwhMSkmJihjPVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJjYWxjdWxhdGVfcXVpY2tfZGFzaF9wcmVzZW50YXRpb25fdGltZV9vZmZzZXRfZXBzaWxvbl9tcyIsCjI1MCksdGhpcy5DJiZ0aGlzLkMuTlswXSYmKHRoaXMuTD0xRTM8dGhpcy5DLk5bMF0uc3RhcnRUaW1lP3RoaXMuQy5OWzBdLnN0YXJ0VGltZS1jOnRoaXMuTCkpfTt6Yy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt2YXIgYz1OKGIsIm1lZGlhIixPKTt0aGlzLmI9S2MoYS5iYXNlVXJsLGMpO3RoaXMuYT1OKGIsIm1lZGlhUmFuZ2UiLFFjKX07CkFjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMucz1OKGIsInRpbWVzY2FsZSIsUSx0aGlzLnMpO3RoaXMuTD1OKGIsInByZXNlbnRhdGlvblRpbWVPZmZzZXQiLFAsdGhpcy5MKTt0aGlzLkg9TihiLCJkdXJhdGlvbiIsUSx0aGlzLkgpO3ZhciBjPU4oYiwic3RhcnROdW1iZXIiLFApO251bGwhPWMmJih0aGlzLmI9Yyk7dGhpcy5mPU4oYiwibWVkaWEiLE8sdGhpcy5mKTt0aGlzLmE9TihiLCJpbmRleCIsTyx0aGlzLmEpO3RoaXMuYz1OKGIsImluaXRpYWxpemF0aW9uIixPLHRoaXMuYyk7dGhpcy5DPU0odGhpcyxiLEJjKXx8dGhpcy5DfTtCYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt0aGlzLmE9TihiLCJGQlByZWRpY3RlZE1lZGlhIixPLHRoaXMuYSk7dGhpcy5iPU4oYiwiRkJQcmVkaWN0ZWRNZWRpYUVuZE51bWJlciIsUSk7dGhpcy5OPUljKHRoaXMsYixDYyl9OwpDYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt0aGlzLnN0YXJ0VGltZT1OKGIsInQiLFApO3RoaXMuZHVyYXRpb249TihiLCJkIixQKTt0aGlzLnJlcGVhdD1OKGIsInIiLEhjKX07ZnVuY3Rpb24gSmMoYSxiKXtpZighYnx8MD09PWIubGVuZ3RoKXJldHVybiBhO2Zvcih2YXIgYz1bXSxkPTA7ZDxiLmxlbmd0aDtkKyspe3ZhciBlPWJbZF0udXJsO251bGw9PWF8fDA9PT1hLmxlbmd0aD9jLnB1c2gobmV3IEwoZSkpOihlPUtjKGEuc2xpY2UoMCwxKSxlKSxjLnB1c2goZVswXSkpfXJldHVybiBjfWZ1bmN0aW9uIEtjKGEsYil7aWYoIWIpcmV0dXJuIGE7dmFyIGM9bmV3IEwoYik7cmV0dXJuIGE/YS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVzb2x2ZShjKX0pOltjXX1mdW5jdGlvbiBPYyhhLGIsYyl7dmFyIGQ9dmMoYyk7KGI9UmMoYixjLmNvbnN0cnVjdG9yLlRBR19OQU1FKSkmJmQucGFyc2UoYSxiKTtyZXR1cm4gZH0KZnVuY3Rpb24gTShhLGIsYyl7dmFyIGQ9bnVsbDtpZihiPVJjKGIsYy5UQUdfTkFNRSkpZD1uZXcgYyxkLnBhcnNlKGEsYik7cmV0dXJuIGR9ZnVuY3Rpb24gUmMoYSxiKXtmb3IodmFyIGM9bnVsbCxkPTA7ZDxhLmNoaWxkTm9kZXMubGVuZ3RoO2QrKylpZihhLmNoaWxkTm9kZXNbZF0udGFnTmFtZT09Yil7aWYoYylyZXR1cm4gbnVsbDtjPWEuY2hpbGROb2Rlc1tkXX1yZXR1cm4gY31mdW5jdGlvbiBJYyhhLGIsYyl7Zm9yKHZhciBkPVtdLGU9MDtlPGIuY2hpbGROb2Rlcy5sZW5ndGg7ZSsrKWlmKGIuY2hpbGROb2Rlc1tlXS50YWdOYW1lPT1jLlRBR19OQU1FKXt2YXIgZj1uZXcgYztmLnBhcnNlLmNhbGwoZixhLGIuY2hpbGROb2Rlc1tlXSk7ZC5wdXNoKGYpfXJldHVybiBkfWZ1bmN0aW9uIFBjKGEpe2E9YS5maXJzdENoaWxkO3JldHVybiBhLm5vZGVUeXBlIT1Ob2RlLlRFWFRfTk9ERT9udWxsOmEubm9kZVZhbHVlfQpmdW5jdGlvbiB1YyhhKXtyZXR1cm4gYT9hLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS5jbG9uZSgpfSk6bnVsbH1mdW5jdGlvbiB2YyhhKXtyZXR1cm4gYT9hLmNsb25lKCk6bnVsbH1mdW5jdGlvbiBOKGEsYixjLGQpe2E9YS5oYXNBdHRyaWJ1dGUoYik/YyhhLmdldEF0dHJpYnV0ZShiKSk6bnVsbDtyZXR1cm4gbnVsbCE9YT9hOnZvaWQgMCE9PWQ/ZDpudWxsfWZ1bmN0aW9uIEdjKGEpe2lmKCFhKXJldHVybiBudWxsO2E9RGF0ZS5wYXJzZShhKTtyZXR1cm4gaXNOYU4oYSk/bnVsbDpNYXRoLmZsb29yKGEvMUUzKX0KZnVuY3Rpb24gRmMoYSl7aWYoIWEpcmV0dXJuIG51bGw7dmFyIGI9L15QKD86KFswLTldKilZKT8oPzooWzAtOV0qKU0pPyg/OihbMC05XSopRCk/KD86VCg/OihbMC05XSopSCk/KD86KFswLTldKilNKT8oPzooWzAtOS5dKilTKT8pPyQvLmV4ZWMoYSk7aWYoIWIpcmV0dXJuIG51bGw7YT0wO3ZhciBjPVAoYlsxXSk7YyYmKGErPTMxNTM2RTMqYyk7KGM9UChiWzJdKSkmJihhKz0yNTkyRTMqYyk7KGM9UChiWzNdKSkmJihhKz04NjQwMCpjKTsoYz1QKGJbNF0pKSYmKGErPTM2MDAqYyk7KGM9UChiWzVdKSkmJihhKz02MCpjKTtiPXdpbmRvdy5wYXJzZUZsb2F0KGJbNl0pOyhiPWlzTmFOKGIpP251bGw6YikmJihhKz1iKTtyZXR1cm4gYX0KZnVuY3Rpb24gUWMoYSl7dmFyIGI9LyhbMC05XSspLShbMC05XSspLy5leGVjKGEpO2lmKCFiKXJldHVybiBudWxsO2E9UChiWzFdKTtpZihudWxsPT1hKXJldHVybiBudWxsO2I9UChiWzJdKTtyZXR1cm4gbnVsbD09Yj9udWxsOm5ldyBEYyhhLGIpfWZ1bmN0aW9uIEhjKGEpe2E9d2luZG93LnBhcnNlSW50KGEsMTApO3JldHVybiBpc05hTihhKT9udWxsOmF9ZnVuY3Rpb24gUShhKXthPXdpbmRvdy5wYXJzZUludChhLDEwKTtyZXR1cm4gMDxhP2E6bnVsbH1mdW5jdGlvbiBQKGEpe2E9d2luZG93LnBhcnNlSW50KGEsMTApO3JldHVybiAwPD1hP2E6bnVsbH1mdW5jdGlvbiBFYyhhKXtzd2l0Y2goYS50b0xvd2VyQ2FzZSgpKXtjYXNlICJ0cnVlIjpyZXR1cm4hMDtjYXNlICJmYWxzZSI6cmV0dXJuITE7ZGVmYXVsdDpyZXR1cm4gbnVsbH19ZnVuY3Rpb24gTyhhKXtyZXR1cm4gYX07ZnVuY3Rpb24gU2MoYSxiKXt0aGlzLnVybD1hO3RoaXMuYj1ifHxuZXcgdGI7dGhpcy5qPTA7dGhpcy5nPS0xO3RoaXMuaD10aGlzLmk9MDt0aGlzLmE9bnVsbDt0aGlzLmM9bmV3IEk7dGhpcy5mPW51bGw7dGhpcy5vPXRoaXMuYi5pO3RoaXMubD10aGlzLmIubX1xKCJzaGFrYS51dGlsLkFqYXhSZXF1ZXN0IixTYyk7CmZ1bmN0aW9uIHRiKCl7dGhpcy5ib2R5PW51bGw7dGhpcy5OYT0xO3RoaXMuYz0xRTM7dGhpcy5iPTA7dGhpcy5tZXRob2Q9IkdFVCI7dGhpcy5yZXNwb25zZVR5cGU9ImFycmF5YnVmZmVyIjt0aGlzLlFhPXt9O3RoaXMuZz10aGlzLndpdGhDcmVkZW50aWFscz0hMTt0aGlzLmRhPXRoaXMuYT10aGlzLnU9bnVsbDt0aGlzLmo9ITE7dGhpcy5oPXRoaXMubT10aGlzLmk9dGhpcy5taW1lVHlwZT1udWxsO3RoaXMubz0hMTt0aGlzLnc9LyguKilcLih4eHxmbmEpXC5mYmNkblwubmV0Lzt0aGlzLmY9L2xpdmVzdHJlYW0tbG9va2FzaWRlXC4oZmFjZWJvb2t8d29ya3BsYWNlKVwuY29tJC99dmFyIFRjPSEwO2Z1bmN0aW9uIFVjKGEpe1ZjKGEpO1djKGEpO2EuYi5ib2R5PW51bGw7YS5jLmRlc3Ryb3koKTthLmM9bnVsbDthLmY9bnVsbH0KZnVuY3Rpb24gV2MoYSl7YS5hJiYoYS5hLm9ubG9hZD1udWxsLGEuYS5vbnJlYWR5c3RhdGVjaGFuZ2U9bnVsbCxhLmEub25lcnJvcj1udWxsLGEuYS5vbnRpbWVvdXQ9bnVsbCk7YS5hPW51bGx9ZnVuY3Rpb24gVmMoYSl7LTEhPT1hLmcmJihjbGVhclRpbWVvdXQoYS5nKSxhLmc9LTEpfQpTYy5wcm90b3R5cGUubT1mdW5jdGlvbigpe2lmKHRoaXMuYSlyZXR1cm4gdGhpcy5jO2lmKDA9PXRoaXMudXJsLmxhc3RJbmRleE9mKCJkYXRhOiIsMCkpe3ZhciBhPXRoaXMudXJsLnNwbGl0KCI6IilbMV0uc3BsaXQoIjsiKS5wb3AoKS5zcGxpdCgiLCIpLGI9YS5wb3AoKSxiPSJiYXNlNjQiPT1hLnBvcCgpP3dpbmRvdy5hdG9iKGIucmVwbGFjZSgvLS9nLCIrIikucmVwbGFjZSgvXy9nLCIvIikpOndpbmRvdy5kZWNvZGVVUklDb21wb25lbnQoYik7ImFycmF5YnVmZmVyIj09dGhpcy5iLnJlc3BvbnNlVHlwZSYmKGI9SmIoYikuYnVmZmVyKTthPUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkobmV3IFhNTEh0dHBSZXF1ZXN0KSk7YS5yZXNwb25zZT1iO2EucmVzcG9uc2VUZXh0PWIudG9TdHJpbmcoKTtiPXRoaXMuYztiLnJlc29sdmUoYSk7VWModGhpcyk7cmV0dXJuIGJ9aWYoMD09dGhpcy51cmwubGFzdEluZGV4T2YoImlkYjoiLDApKXJldHVybiB0aGlzLnUoKTt0aGlzLmorKzsKdGhpcy5pPXBlcmZvcm1hbmNlTm93KCk7dGhpcy5ofHwodGhpcy5oPXRoaXMuYi5jKTt0aGlzLmE9bmV3IFhNTEh0dHBSZXF1ZXN0O3ZhciBjPXRoaXMudXJsLGE9bmV3IEwoYyk7VGMmJih0aGlzLmYmJiF0aGlzLmYuc3VwcG9ydHNDYWNoaW5nKCl8fHRoaXMuYi5nKSYmZGMoYS5hLCJfIixEYXRlLm5vdygpKTtjPXRoaXMuYi53LnRlc3QoYyk7aWYobnVsbCE9dGhpcy5iLmEmJmMpe3ZhciBkPXRoaXMuYi5hLGU9YS5hO251bGwhPWQuYSYmKGQuaD1kLmEuZ2V0U2VnbWVudHNUb1B1c2goKSxkLmY9ZC5hLmdldFNlZ21lbnRTdGFydFRpbWUoKSxkLmc9ZC5hLmdldFNlZ21lbnRPZmZzZXQoKSxkLmM9ZC5hLmdldFB1c2hWaWRlb1JlcHJlc2VudGF0aW9uSUQoKSxkLmI9ZC5hLmdldFB1c2hBdWRpb1JlcHJlc2VudGF0aW9uSUQoKSxkLmo9ZC5hLmdldFVzZUxvbmdDYWNoZUZvck1hbmlmZXN0KCkpO251bGwhPWQuaCYmZGMoZSwiX25jX3BfbiIsZC5oKTtudWxsIT1kLmY/ZGMoZSwiX25jX3BfdHMiLApkLmYpOm51bGwhPWQuZyYmZGMoZSwiX25jX3BfbyIsZC5nKTtudWxsIT1kLmMmJm51bGwhPWQuYiYmKGRjKGUsIl9uY19wX3JpZCIsZC5jKSxkYyhlLCJfbmNfcF9hcmlkIixkLmIpKTtkLmkmJmRjKGUsIl9uY19wX2RiZyIsIjEiKTtkLmomJmRjKGUsIl9uY19uYyIsIjEiKX0xPT10aGlzLmIuaiYmYyYmZGMoYS5hLCJfbmNfcGxheWluZyIsMSk7dGhpcy5iLm8mJmRjKGEuYSwiX25jX3NjIiwxKTtjPWEudG9TdHJpbmcoKTthPXRoaXMuYi5mLnRlc3QoYS5oYSk7dGhpcy5hLm9wZW4odGhpcy5iLm1ldGhvZCxjLCEwKTt0aGlzLmEucmVzcG9uc2VUeXBlPXRoaXMuYi5yZXNwb25zZVR5cGU7dGhpcy5hLnRpbWVvdXQ9dGhpcy5iLmI7dGhpcy5hLndpdGhDcmVkZW50aWFscz10aGlzLmIud2l0aENyZWRlbnRpYWxzfHxhO3NldEV2ZW50UHJvcGVydHkodGhpcy5hLCJvbmxvYWQiLHRoaXMuZmQuYmluZCh0aGlzKSk7c2V0RXZlbnRQcm9wZXJ0eSh0aGlzLmEsIm9ucmVhZHlzdGF0ZWNoYW5nZSIsCnRoaXMubGQuYmluZCh0aGlzKSk7c2V0RXZlbnRQcm9wZXJ0eSh0aGlzLmEsIm9uZXJyb3IiLHRoaXMuZGQuYmluZCh0aGlzKSk7c2V0RXZlbnRQcm9wZXJ0eSh0aGlzLmEsIm9udGltZW91dCIsdGhpcy5xZC5iaW5kKHRoaXMpKTtzZXRFdmVudFByb3BlcnR5KHRoaXMuYSwib25hYm9ydCIsdGhpcy4kYy5iaW5kKHRoaXMpKTtmb3IoYiBpbiB0aGlzLmIuUWEpdGhpcy5hLnNldFJlcXVlc3RIZWFkZXIoYix0aGlzLmIuUWFbYl0pO3RoaXMuYS5zZW5kKHRoaXMuYi5ib2R5KTtyZXR1cm4gdGhpcy5jfTtTYy5wcm90b3R5cGUuc2VuZD1TYy5wcm90b3R5cGUubTsKZnVuY3Rpb24gWGMoYSxiLGMpe2I9RXJyb3IoYik7Yi50eXBlPWM7Yi5zdGF0dXM9YS5hLnN0YXR1cztiLnVybD1hLnVybDtWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImVuYWJsZV9kb3VibGVfaW5nZXN0IiwhMSkmJihiLnJlc3BvbnNlSGVhZGVycz1wYXJzZUhlYWRlcnMoYS5hLmdldEFsbFJlc3BvbnNlSGVhZGVycygpKSk7Yi5tZXRob2Q9YS5iLm1ldGhvZDtiLmJvZHk9YS5iLmJvZHk7cmV0dXJuIGJ9bj1TYy5wcm90b3R5cGU7bi5hYm9ydD1mdW5jdGlvbigpe1ZjKHRoaXMpO2lmKHRoaXMuYSYmdGhpcy5hLnJlYWR5U3RhdGUhPVhNTEh0dHBSZXF1ZXN0LkRPTkUmJih0aGlzLmEuYWJvcnQoKSwhVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJmaXhfc2hha2FfdXRpbF9hamF4X3JlcXVlc3RfYWJvcnQiLCEwKSkpe3ZhciBhPVhjKHRoaXMsIlJlcXVlc3QgYWJvcnRlZC4iLCJhYm9ydGVkIik7dGhpcy5jLnJlamVjdChhKTtVYyh0aGlzKX19OwpuLiRjPWZ1bmN0aW9uKCl7aWYoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJmaXhfc2hha2FfdXRpbF9hamF4X3JlcXVlc3RfYWJvcnQiLCEwKSl7dmFyIGE9WGModGhpcywiUmVxdWVzdCBhYm9ydGVkLiIsImFib3J0ZWQiKTt0aGlzLmMucmVqZWN0KGEpO1VjKHRoaXMpfX07Cm4uZmQ9ZnVuY3Rpb24oYSl7aWYodGhpcy5mKXt2YXIgYj1WaWRlb1BsYXllclJlc291cmNlVGltZXIuZ2V0UmVzb3VyY2VUaW1pbmdFbnRyeSh0aGlzLnVybCx0aGlzLmkscGVyZm9ybWFuY2VOb3coKSk7dGhpcy5mLnNhbXBsZShwZXJmb3JtYW5jZU5vdygpLXRoaXMuaSxhLmxvYWRlZHx8dGhpcy5hLnJlc3BvbnNlJiZ0aGlzLmEucmVzcG9uc2UuYnl0ZUxlbmd0aHx8MCx0aGlzLmIubWltZVR5cGU/InYiPT09dGhpcy5iLm1pbWVUeXBlLmNoYXJBdCgwKTohMSxiLHRoaXMubyx0aGlzLmwsVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJldmFsdWF0ZV9hYnJfb25fZmV0Y2hfZW5kIiwhMSkpfWE9WzQwM107MjAwPD10aGlzLmEuc3RhdHVzJiYyOTk+PXRoaXMuYS5zdGF0dXM/KFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgiZW5hYmxlX2RvdWJsZV9pbmdlc3QiLCExKSYmbnVsbCE9cGFyc2VIZWFkZXJzKHRoaXMuYS5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSlbIngtZmItdmlkZW8tcmVwbGljYSJdPwooYT1YYyh0aGlzLCJIVFRQIGVycm9yLiIsIm5ldCIpLHRoaXMuYy5yZWplY3QoYSkpOnRoaXMuYy5yZXNvbHZlKHRoaXMuYSksVWModGhpcykpOiFWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInJlbW92ZV9hamF4X3Jlc2VuZF9pbnRlcm5hbCIsITApJiZ0aGlzLmo8dGhpcy5iLk5hJiYtMT09PWEuaW5kZXhPZih0aGlzLmEuc3RhdHVzKT9ZYyh0aGlzKTooYT1YYyh0aGlzLCJIVFRQIGVycm9yLiIsIm5ldCIpLHRoaXMuYy5yZWplY3QoYSksVWModGhpcykpfTsKbi5sZD1mdW5jdGlvbigpe2lmKHRoaXMuYS5yZWFkeVN0YXRlPT1YTUxIdHRwUmVxdWVzdC5IRUFERVJTX1JFQ0VJVkVEJiYodGhpcy5hLllhPURhdGUubm93KCktdGhpcy5pLHRoaXMuYi5hJiZ0aGlzLmIuZGEmJnRoaXMuYi5kYS5hZGRQdXNoRGF0YUZyb21YSFIodGhpcy5hKSx0aGlzLmIuaCYmdGhpcy5iLmguaGFuZGxlWEhSKHRoaXMuYSksVmlkZW9DbGllbnRFZGdlQ29vcGVyYXRpb24udXBkYXRlRnJvbVhIUih0aGlzLmEpLHRoaXMuYi5nKSl7dmFyIGE9RGF0ZS5wYXJzZSh0aGlzLmEuZ2V0UmVzcG9uc2VIZWFkZXIoIkRhdGUiKSk7YSYmKHphPWEtRGF0ZS5ub3coKSl9fTtuLmRkPWZ1bmN0aW9uKCl7dmFyIGE9WGModGhpcywiTmV0d29yayBmYWlsdXJlLiIsIm5ldCIpO3RoaXMuYy5yZWplY3QoYSk7VWModGhpcyl9OwpuLnFkPWZ1bmN0aW9uKCl7aWYoIVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgicmVtb3ZlX2FqYXhfcmVzZW5kX2ludGVybmFsIiwhMCkmJnRoaXMuajx0aGlzLmIuTmEpWWModGhpcyk7ZWxzZXt2YXIgYT1YYyh0aGlzLCJSZXF1ZXN0IHRpbWVkIG91dC4iLCJuZXQiKTt0aGlzLmMucmVqZWN0KGEpO1VjKHRoaXMpfX07ZnVuY3Rpb24gWWMoYSl7V2MoYSk7YS5nPXNldFRpbWVvdXQoZnVuY3Rpb24oKXt0aGlzLmc9LTE7dGhpcy5tKCl9LmJpbmQoYSksYS5oKigxKy41KigyKk1hdGgucmFuZG9tKCktMSkpKTthLmgqPTJ9O2Z1bmN0aW9uIEsoYSxiLGMsZCxlLGYpe3RoaXMuYz1iO3RoaXMuc3RhcnRCeXRlPWN8fDA7dGhpcy5iYXNlVXJsPXRoaXMudG9TdHJpbmcoKTt0aGlzLmVuZEJ5dGU9bnVsbCE9ZD9kOm51bGw7dGhpcy5pc1ByZWRpY3RpdmU9ZXx8ITE7dGhpcy5mPW51bGw7dGhpcy5tPTA7dGhpcy5BPSExO3RoaXMuTmM9dGhpcy5nPW51bGw7dGhpcy5vPWE7dGhpcy5pPW51bGw7dGhpcy5qPXRoaXMudT0hMTt0aGlzLmI9dGhpcy5hPW51bGw7dGhpcy5oPWZ8fG51bGx9cSgic2hha2EudXRpbC5GYWlsb3ZlclVyaSIsSyk7Sy5wcm90b3R5cGUudz1mdW5jdGlvbihhKXt0aGlzLkE9YX07Sy5wcm90b3R5cGUuc2V0U2hvdWxkUmVhZFhGYlZpZGVvQnJvYWRjYXN0RW5kZWRIZWFkZXI9Sy5wcm90b3R5cGUudztLLnByb3RvdHlwZS5EPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubX07Sy5wcm90b3R5cGUuZ2V0RmJWaWRlb0Jyb2FkY2FzdEVuZGVkUmVzcG9uc2VIZWFkZXI9Sy5wcm90b3R5cGUuRDsKSy5wcm90b3R5cGUuRj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YXJ0Qnl0ZX07Sy5wcm90b3R5cGUuZ2V0U3RhcnRCeXRlPUsucHJvdG90eXBlLkY7Sy5wcm90b3R5cGUuQj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVuZEJ5dGV9O0sucHJvdG90eXBlLmdldEVuZEJ5dGU9Sy5wcm90b3R5cGUuQjtmdW5jdGlvbiBaYyhhLGIpe3JldHVybiBhJiYwIT09YS5sZW5ndGg/YS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVzb2x2ZShiKX0pOltiXX1uPUsucHJvdG90eXBlO24uZmV0Y2g9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxoKXtyZXR1cm4gdGhpcy5mP3RoaXMuZjp0aGlzLmY9JGModGhpcywwLGF8fG5ldyB0YixiLGMsZCxlLGYsZyxoKX07bi5zdHJlYW09ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxoLGspe3JldHVybiBhZCh0aGlzLDAsYXx8bmV3IHRiLGIsYyxkLGUsZixnLGgsayl9OwpmdW5jdGlvbiAkYyhhLGIsYyxkLGUsZixnLGgsayxsKXtyZXR1cm4gYWQoYSxiLGMsZCxlLGYsZyxoLGssbCkudGhlbihmdW5jdGlvbihhKXt2YXIgYixjPWZ1bmN0aW9uKCl7cmV0dXJuIGEucmVhZCgpLnRoZW4oZnVuY3Rpb24oYSl7dmFyIGQ9YS52YWx1ZTtpZihhLmRvbmUpcmV0dXJuIGJ8fG5ldyBBcnJheUJ1ZmZlcigwKTtkJiYoInN0cmluZyI9PT10eXBlb2YgZD9iPShifHwiIikrZDpiPWNvbmNhdEFycmF5QnVmZmVyKGJ8fG5ldyBBcnJheUJ1ZmZlcigwKSxkKSk7cmV0dXJuIGMoKX0uYmluZCh0aGlzKSl9LmJpbmQodGhpcyk7cmV0dXJuIGMoKX0pfQpuLkthPWZ1bmN0aW9uKCl7dGhpcy5nJiYodGhpcy5hPXRoaXMuZj1udWxsLHRoaXMuZy5hYm9ydCgpLHRoaXMuaT10aGlzLmc9bnVsbCk7dGhpcy5OYyYmVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJlbmFibGVfcDJwX3N1cHBvcnQiLCExKSYmKHRoaXMuRy5hYm9ydCgpLHRoaXMuRz1udWxsKTt0aGlzLmImJih0aGlzLmIuYWJvcnRSZXF1ZXN0KGJkKHRoaXMpKSxWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImZpeGluZ19zY2hlZHVsZXJfZGlzYWJsZV9sZWFrcyIsITApJiYodGhpcy5iPW51bGwpKX07CmZ1bmN0aW9uIGFkKGEsYixjLGQsZSxmLGcsaCxrLGwsbSl7YS5iPWx8fG51bGw7dmFyIHA7ZSYmKGMuYSYmKGMuYS5pPSEwKSxsPTAsYy5kYSYmKGw9Yy5kYS5nZXRQdXNoQ291bnRGb3JVcmwoYS5jW2JdLnRvU3RyaW5nKCkpKSwocD1lLmdldE9wZXJhdGlvbkxvZ2dlcigicmVxdWVzdCIpKSYmcC5zZXRSZWFzb24oa3x8bnVsbCkuc2V0UHVzaGVkKGwpLnNldFR5cGUoaHx8bnVsbCkuc2V0SW5pdGlhdG9yKCJzaGFrYSIpLnN0YXJ0KCksZiYmKHA9cC5zZXRQYXJlbnRMb2dnZXIoZikpKTt2YXIgdD1wZXJmb3JtYW5jZU5vdygpO2EuYT1udWxsO2cmJihjLmk9Zyk7ZSYmKGMubT1lKTt2YXIgdz1jZChhLGEuY1tiXSxjKTtrPW51bGw7YS5qPSExO3ZhciB6PVZpZGVvRGFzaFByZWZldGNoQ2FjaGUuZ2V0Q2FjaGVWYWx1ZSh3KTt6JiYoaz16LGEuaj0hMCxwJiYocC5zZXRDb25uZWN0aW9uUXVhbGl0eUxldmVsKFZpZGVvRGFzaFByZWZldGNoQ2FjaGUuZ2V0Q29ubmVjdGlvblF1YWxpdHlMZXZlbCh3KSksCnAuc2V0SW5pdGlhdG9yKCJwcmVmZXRjaCIpKSk7aWYoIXomJm0pcmV0dXJuIG0uZ2V0U3RyZWFtKGJkKGEpKS50aGVuKGZ1bmN0aW9uKGEpe3JldHVybiBhLmdldFJlYWRlcigpfS5iaW5kKGEpKTttPW51bGw7aWYoYS5iJiYhYS5iLmlzRGlzYWJsZWQoKSYmIWspdHJ5eyhrPW09YS5iLmdldFByb21pc2UoYmQoYSkpKT9wPW51bGw6YS5iLmRpc2FibGUoKX1jYXRjaChIKXtlJiZlLmdldEV2ZW50TG9nZ2VyKCJyZXF1ZXN0X2luZm9fbm90X2ZvdW5kIikuc2V0UmVzb3VyY2UodykubG9nKCl9IWsmJmEuaCYmYS5oLmNyZWF0ZVByb21pc2UmJihtPW5ldyBMKHcpLG09Yy5mLnRlc3QobS5oYSksaz1hLmguY3JlYXRlUHJvbWlzZSh7dXJsOncscmVzcG9uc2VUeXBlOmMucmVzcG9uc2VUeXBlLE9kOmMuYyxLZDoyLE5hOmMuTmEsd2l0aENyZWRlbnRpYWxzOmMud2l0aENyZWRlbnRpYWxzfHxtLFFhOmMuUWF9LGZ1bmN0aW9uKGEpe3RoaXMuTmM9YTt2YXIgYj1wZXJmb3JtYW5jZU5vdygpOwphLm9ubG9hZD1mdW5jdGlvbihmKXtpZihkKXt2YXIgaD1WaWRlb1BsYXllclJlc291cmNlVGltZXIuZ2V0UmVzb3VyY2VUaW1pbmdFbnRyeSh3LGIscGVyZm9ybWFuY2VOb3coKSk7ZC5zYW1wbGUocGVyZm9ybWFuY2VOb3coKS1iLGYubG9hZGVkfHxhLnJlc3BvbnNlJiZhLnJlc3BvbnNlLmJ5dGVMZW5ndGh8fDAsYy5taW1lVHlwZT8idiI9PT1jLm1pbWVUeXBlLmNoYXJBdCgwKTohMSxoLGcsZSxWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImV2YWx1YXRlX2Ficl9vbl9mZXRjaF9lbmQiLCExKSl9fX0pKTtrfHwoYS5nPW5ldyBTYyh3LGMpLGEubT0wLGQmJihhLmcuZj1kKSxrPWEuZy5tKCkpO3AmJnAuc2V0UmVzb3VyY2Uodyk7ZiYmZi5zZXRSZXNvdXJjZSh3KTt2YXIgZGE9ITEsZWE9ay50aGVuKEooYSxmdW5jdGlvbihhKXt2YXIgYz10aGlzLmg/dGhpcy5oLm9uUmVxdWVzdFNlbmQ6bnVsbDshY3x8InZpZGVvIiE9aCYmImF1ZGlvIiE9aCYmIm1hbmlmZXN0IiE9Cmh8fGMoITAsaCxhLnJlc3BvbnNlLmJ5dGVMZW5ndGgpOyF0aGlzLmJ8fHRoaXMuYi5pc0Rpc2FibGVkKCl8fHRoaXMuYT90aGlzLmF8fCh0aGlzLmE9VmlkZW9QbGF5ZXJSZXNvdXJjZVRpbWVyLmdldFJlc291cmNlVGltaW5nRW50cnkodyx0aGlzLmo/MDp0LHBlcmZvcm1hbmNlTm93KCkpKTp0aGlzLmE9dGhpcy5iLmdldFJlc291cmNlVGltaW5nRW50cnkodyk7VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJzYW1wbGVfcHJlZmV0Y2hfYmFuZHdpZHRoIiwhMSkmJnomJnRoaXMuYSYmMDx0aGlzLmEudGltZVRvTGFzdEJ5dGUmJmQmJmQuc2FtcGxlKHRoaXMuYS50aW1lVG9MYXN0Qnl0ZSxhLnJlc3BvbnNlLmJ5dGVMZW5ndGgsInYiPT09aC5jaGFyQXQoMCksdGhpcy5hLGcsZSwhMCk7aWYodGhpcy5BKXRyeXt0aGlzLm09cGFyc2VJbnQoYS5nZXRSZXNwb25zZUhlYWRlcigieC1mYi12aWRlby1icm9hZGNhc3QtZW5kZWQiKSwxMCl9Y2F0Y2goZil7fXRoaXMuYj0KdGhpcy5pPXRoaXMuZz10aGlzLmY9bnVsbDthLmE/KHRoaXMuaT1uZXcgTChhLmEpLHRoaXMudT0hMCk6dGhpcy5pPXRoaXMuY1tiXTthLnJlc3BvbnNlLllhPWEuWWE7cCYmKHA9cC5zZXRMZW5ndGgoYS5yZXNwb25zZS5ieXRlTGVuZ3RofHxhLnJlc3BvbnNlLmxlbmd0aCkuc2V0V2FzUHJlZmV0Y2hDYWNoZUhpdCh0aGlzLmopLG51bGwhPXRoaXMuYSYmKHA9cC5zZXRUaW1lVG9MYXN0Qnl0ZShNYXRoLnJvdW5kKHRoaXMuYS50aW1lVG9MYXN0Qnl0ZSkpLnNldFRpbWVUb0ZpcnN0Qnl0ZShNYXRoLnJvdW5kKHRoaXMuYS50aW1lVG9GaXJzdEJ5dGUpKS5zZXRUaW1lVG9SZXF1ZXN0U3RhcnQoTWF0aC5yb3VuZCh0aGlzLmEudGltZVRvUmVxdWVzdFN0YXJ0KSksMkUzPD10aGlzLmEudGltZVRvRmlyc3RCeXRlJiYtMTx3LmluZGV4T2YoImFrYW1haWhkIikmJmxvZ0xvbmdBa2FtYWlSZXF1ZXN0KGEuZ2V0UmVzcG9uc2VIZWFkZXIoIkRlYnVnLUluZm8iKSsiLCBUVEZCLT4gIit0aGlzLmEudGltZVRvRmlyc3RCeXRlKwoiLCBUVFJTLT4gIit0aGlzLmEudGltZVRvUmVxdWVzdFN0YXJ0KSkscC5sb2coKSk7cmV0dXJuIFByb21pc2UucmVzb2x2ZSh7dmFsdWU6YS5yZXNwb25zZSxkb25lOiExfSl9KSksZWE9ZWEuY2F0Y2goSihhLGZ1bmN0aW9uKGEpe3ZhciBlPXRoaXMuaD90aGlzLmgub25SZXF1ZXN0U2VuZDpudWxsO2UmJmUoITEsaCwwKTtpZih0aGlzLmYmJmIrMTx0aGlzLmMubGVuZ3RoKXJldHVybiB0aGlzLmY9JGModGhpcyxiKzEsYyxkKTt0aGlzLmI9dGhpcy5hPXRoaXMuZj10aGlzLmc9bnVsbDtwJiZwLnNldEVycm9yKGEpLmxvZygpO3JldHVybiBQcm9taXNlLnJlamVjdChhKX0pKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtjYW5jZWw6ZnVuY3Rpb24oKXt9LHJlYWQ6ZnVuY3Rpb24oKXtyZXR1cm4gZGE/UHJvbWlzZS5yZXNvbHZlKHt2YWx1ZTpudWxsLGRvbmU6ITB9KTplYS50aGVuKGZ1bmN0aW9uKGEpe2RhPSEwO3JldHVybiBhfSl9LmJpbmQoYSl9KX0KZnVuY3Rpb24gYmQoYSl7cmV0dXJue2Jhc2VVcmw6YS50b1N0cmluZygpLGlzUHJlZGljdGl2ZTphLmlzUHJlZGljdGl2ZSxzdGFydEJ5dGU6YS5zdGFydEJ5dGUsZW5kQnl0ZTphLmVuZEJ5dGV9fW4uY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEsodGhpcy5vLHRoaXMuYy5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuY2xvbmUoKX0pLHRoaXMuc3RhcnRCeXRlLHRoaXMuZW5kQnl0ZSx0aGlzLmlzUHJlZGljdGl2ZSx0aGlzLmgpfTtuLmdldFJlc291cmNlVGltaW5nRW50cnk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hfTsKZnVuY3Rpb24gY2QoYSxiLGMpe3ZhciBkPWIudG9TdHJpbmcoKTtpZihhLnN0YXJ0Qnl0ZXx8YS5lbmRCeXRlKWI9Yi5oYSwhYi5lbmRzV2l0aCgiZmJjZG4ubmV0Iil8fGIuc3RhcnRzV2l0aCgiaW50ZXJuY2FjaGUiKXx8Yi5lbmRzV2l0aCgiYWsuZmJjZG4ubmV0Iik/YyYmKGMuUWEuUmFuZ2U9ImJ5dGVzPSIrKGEuc3RhcnRCeXRlKyItIisobnVsbCE9YS5lbmRCeXRlP2EuZW5kQnl0ZToiIikpKTooZCs9IiZieXRlc3RhcnQ9IithLnN0YXJ0Qnl0ZSxkKz1udWxsIT09YS5lbmRCeXRlPyImYnl0ZWVuZD0iK2EuZW5kQnl0ZToiIik7YS5vJiZjJiYoZD1hLm8oZCxjLlFhKXx8ZCk7cmV0dXJuIGR9ZnVuY3Rpb24gdWIoYSl7cmV0dXJuIGNkKGEsYS5jWzBdKX1uLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY1swXS50b1N0cmluZygpfTtmdW5jdGlvbiBkZChhLGIsYyxkKXt0aGlzLmE9bmV3IHRiO2I9bnVsbCE9Yj9iOmlhO3RoaXMuYS5yZXNwb25zZVR5cGU9InRleHQiO3RoaXMuYS5OYT0zO3RoaXMuYS5iPTFFMypiO2MmJih0aGlzLmEuYT1jKTtkJiYodGhpcy5hLmRhPWQpO3RoaXMuYS5nPSEwO3RoaXMuYS53aXRoQ3JlZGVudGlhbHM9dGhpcy5hLmYudGVzdChhKTt0aGlzLmI9YX0KZnVuY3Rpb24gZWQoYSxiKXt2YXIgYz1hLmIsZD1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImRldGVjdF9saXZlX3N0cmVhbV9lbmRlZF9mcm9tX3Jlc3BvbnNlX2hlYWRlcnMiLCExKTtjLncoZCk7cmV0dXJuIGMuZmV0Y2goYS5hLG51bGwsYixudWxsLG51bGwsIm1hbmlmZXN0IikudGhlbihmdW5jdGlvbihhKXthIGluc3RhbmNlb2YgQXJyYXlCdWZmZXImJihhPVN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCxuZXcgVWludDhBcnJheShhKSkpO3ZhciBmPWQmJiEhYy5tLGc7YiYmKGc9Yi5nZXRPcGVyYXRpb25Mb2dnZXIoInBhcnNlX21hbmlmZXN0Iikuc3RhcnQoKSk7YT1lYyhhLGMuYyxbYy5pXSk7ZyYmZy5sb2coKTthJiYiZHluYW1pYyI9PT1hLnR5cGUmJmYmJihhLnR5cGU9InN0YXRpYyIsYiYmQmFuemFpT0RTLmJ1bXBFbnRpdHlLZXkoMjk2NiwidmlkZW9zLnd3dy5zaGFrYSIsImNoYW5nZWRfbWFuaWZlc3RfdG9fZHluYW1pY19vZmZfaGVhZGVycyIpKTsKaWYoYSlyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGEpO2Y9RXJyb3IoIk1QRCBwYXJzZSBmYWlsdXJlLiIpO2YudHlwZT0iZGFzaCI7cmV0dXJuIFByb21pc2UucmVqZWN0KGYpfSl9ZnVuY3Rpb24gZmQoYSl7dGhpcy5hPW51bGw7dGhpcy5oPWE7dGhpcy5jPXRoaXMuZz10aGlzLmY9bnVsbDt0aGlzLmk9ITE7dGhpcy5qPXRoaXMuYj1udWxsfTtmdW5jdGlvbiBnZChhLGIpe3RoaXMuYT1hO3RoaXMuYj1ifHxudWxsfWdkLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5hJiYodGhpcy5hLkthKCksdGhpcy5hPW51bGwpO3RoaXMuYj1udWxsfTtnZC5wcm90b3R5cGUuY3JlYXRlPWZ1bmN0aW9uKGEsYil7dmFyIGM9bnVsbDtiJiYoYz1uZXcgdGIsYy5kYT1iKTtyZXR1cm4hdGhpcy5iJiZ0aGlzLmE/dGhpcy5hLmZldGNoKGMsbnVsbCxhLG51bGwsbnVsbCwiaW5pdCIpOlByb21pc2UucmVzb2x2ZSh0aGlzLmIpfTtnZC5wcm90b3R5cGUuYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmF9O2dkLnByb3RvdHlwZS5nZXRGYWlsb3ZlclVyaT1nZC5wcm90b3R5cGUuYztmdW5jdGlvbiBoZChhLGIpe3RoaXMuc2VnbWVudE9yaWdpbmFsRW5kVGltZT1hO3RoaXMuZ2FwRGlzdGFuY2U9Yn1mdW5jdGlvbiBpZChhLGIsYyxkLGUsZixnKXt0aGlzLnN0YXJ0VGltZT1hO3RoaXMuZW5kVGltZT1iO3RoaXMudXJsPWM7dGhpcy51bnNjYWxlZFN0YXJ0VGltZT1kO3RoaXMudW5zY2FsZWREdXJhdGlvbj1lO3RoaXMudGltZXNjYWxlZEdhcEluZm89Znx8bnVsbDt0aGlzLmlzUHJlZGljdGl2ZT1nfHwhMTt0aGlzLmRlYnVnSW5mbz10aGlzLnRpbWVzY2FsZWRHYXBJbmZvP3tlbmRUaW1lOnRoaXMudGltZXNjYWxlZEdhcEluZm8uc2VnbWVudE9yaWdpbmFsRW5kVGltZSxkZWx0YTp0aGlzLnRpbWVzY2FsZWRHYXBJbmZvLmdhcERpc3RhbmNlfTpudWxsfWZ1bmN0aW9uIGpkKGEsYixjKXtyZXR1cm4gbmV3IGlkKGIsYyxhLnVybCxhLnVuc2NhbGVkU3RhcnRUaW1lLGEudW5zY2FsZWREdXJhdGlvbixhLnRpbWVzY2FsZWRHYXBJbmZvLGEuaXNQcmVkaWN0aXZlKX0KZnVuY3Rpb24geWIoYSxiKXtpZihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInVzZV9iaW5hcnlfc2VhcmNoX3doZW5fZmluZGluZ19zZWdtZW50X3JlZmVyZW5jZXMiLCExKSlyZXR1cm4gQmluYXJ5U2VhcmNoLmZpbmRJbmRleEluQXJyYXkoYSxiLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGI+PWEuc3RhcnRUaW1lJiYobnVsbD09YS5lbmRUaW1lfHxiPGEuZW5kVGltZSk/MDphLnN0YXJ0VGltZS1ifSk7Zm9yKHZhciBjPWEubGVuZ3RoLTE7MDw9YzstLWMpe3ZhciBkPWFbY107aWYoYj49ZC5zdGFydFRpbWUmJihudWxsPT1kLmVuZFRpbWV8fGI8ZC5lbmRUaW1lKSlyZXR1cm4gY31yZXR1cm4tMX1mdW5jdGlvbiBrZChhLGIpe3JldHVybiBhLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gamQoYSxhLnN0YXJ0VGltZStiLG51bGwhPWEuZW5kVGltZT9hLmVuZFRpbWUrYjpudWxsKX0pfTtmdW5jdGlvbiBsZChhLGIsYyxkKXtmb3IodmFyIGU9Yi5hLGY9W10sZz0wO2c8ZDsrK2cpe3ZhciBoPWcrYyxrPShoLTEpKmUuSCxsPWsvZS5zLG09KGsrZS5IKS9lLnMsaD1tZChhLGIsZS5iK2gtMSxrKTtpZighaClyZXR1cm4gbnVsbDtmLnB1c2gobmV3IGlkKGwsbSxoLGssZS5IfHwwKSl9cmV0dXJuIGZ9ZnVuY3Rpb24gbWQoYSxiLGMsZCxlLGYpe2lmKCFiLmEpcmV0dXJuIG51bGw7ZT1lfHwhMTt2YXIgZz1iLmEuZixoPWIuYS5DLmE7aWYoIWcpcmV0dXJuIGIuYmFzZVVybD9uZXcgSyhhLGIuYmFzZVVybCwwLG51bGwsdm9pZCAwLGYpOm51bGw7Yz1uZChlJiZoP2g6ZyxiLmlkLGMsYi5iYW5kd2lkdGgsZCk7aWYoIWMpcmV0dXJuIG51bGw7Yj1aYyhiLmJhc2VVcmwsYyk7cmV0dXJuIG5ldyBLKGEsYiwwLG51bGwsZSxmKX0KZnVuY3Rpb24gbmQoYSxiLGMsZCxlKXt2YXIgZj17UmVwcmVzZW50YXRpb25JRDpiLE51bWJlcjpjLEJhbmR3aWR0aDpkLFRpbWU6ZX07YT1hLnJlcGxhY2UoL1wkKFJlcHJlc2VudGF0aW9uSUR8TnVtYmVyfEJhbmR3aWR0aHxUaW1lKT8oPzolMChbMC05XSspZCk/XCQvZyxmdW5jdGlvbihhLGIsYyl7aWYoIiQkIj09YSlyZXR1cm4iJCI7dmFyIGQ9ZltiXTtpZihudWxsPT1kKXJldHVybiBhOyJSZXByZXNlbnRhdGlvbklEIj09YiYmYyYmKGM9dm9pZCAwKTthPWQudG9TdHJpbmcoKTtjPXdpbmRvdy5wYXJzZUludChjLDEwKXx8MTtjPU1hdGgubWF4KDAsYy1hLmxlbmd0aCk7cmV0dXJuIEFycmF5KGMrMSkuam9pbigiMCIpK2F9KTt0cnl7cmV0dXJuIG5ldyBMKGEpfWNhdGNoKGcpe2lmKGcgaW5zdGFuY2VvZiBVUklFcnJvcilyZXR1cm4gbnVsbDt0aHJvdyBnO319CmZ1bmN0aW9uIG9kKGEsYixjLGQsZSxmKXt2YXIgZz0wLGg9YypiO2M9YS5OO3ZhciBrPWR8fDA7ZD1bXTt2YXIgbD1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigibGl2ZV9yZXdpbmRfdGVtcGxhdGVkX2xhc3RfeF9zZWdtZW50c19vbmx5IiwwKSxtPVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgidGVtcGxhdGVkX2xhc3RfeF90aW1lbGluZSIsITEpJiZlJiZudWxsIT1mLHA9ZSYmbT9WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigidGVtcGxhdGVkX2luZ2VzdF90aHJvdHRsZSIsMCk6MDtpZihsfHxtKXtmb3IoZT0wO2U8Yy5sZW5ndGg7KytlKXtpZighY1tlXS5kdXJhdGlvbilyZXR1cm4gZDt2YXIgdD1jW2VdLnN0YXJ0VGltZSx0PW51bGwhPXQ/dDpnLHc9Y1tlXS5yZXBlYXR8fDA7aWYoMD53KWlmKHc9Y1tlXS5kdXJhdGlvbixlKzE9PT1jLmxlbmd0aCl2YXIgej1jWzBdLnN0YXJ0VGltZStoLXQsdz1NYXRoLmNlaWwoei8KdyktMTtlbHNlIHo9Y1tlKzFdLnN0YXJ0VGltZSx3PU1hdGguY2VpbCgoei10KS93KS0xO2NbZV0uc3RhcnRUaW1lPXQ7Y1tlXS5yZXBlYXQ9dztnPWNbZV0uc3RhcnRUaW1lK2NbZV0uZHVyYXRpb24qKGNbZV0ucmVwZWF0KzEpfWZvcihlPWMubGVuZ3RoLTE7LTE8ZTstLWUpZm9yKHZhciBIPTA7SDw9Y1tlXS5yZXBlYXQ7KytIKWlmKHQ9Y1tlXS5zdGFydFRpbWUrY1tlXS5kdXJhdGlvbiooY1tlXS5yZXBlYXQtSCksZz10K2NbZV0uZHVyYXRpb24sYT1udWxsLGQubGVuZ3RoJiZnIT1kW2QubGVuZ3RoLTFdLnN0YXJ0JiYoej1kW2QubGVuZ3RoLTFdLnN0YXJ0LWcsYT1uZXcgaGQoZy9iLHovYiksZz1kW2QubGVuZ3RoLTFdLnN0YXJ0KSxkLnB1c2goe3N0YXJ0OnQsZW5kOmd9KSxhJiYoZFtkLmxlbmd0aC0xXS50aW1lc2NhbGVkR2FwSW5mbz1hKSxsKXtpZihkLmxlbmd0aD09PWwpcmV0dXJuIGQ9ZC5yZXZlcnNlKCl9ZWxzZSBpZihtJiZkW2QubGVuZ3RoLTFdLnN0YXJ0PD1mKXJldHVybiBkLnBvcCgpLApkPWQucmV2ZXJzZSgpLDA8cCYmKGQ9ZC5zbGljZSgwLHApKSxkO3JldHVybiBkLnJldmVyc2UoKX1mb3IoZT0wO2U8Yy5sZW5ndGg7KytlKXtpZighY1tlXS5kdXJhdGlvbilyZXR1cm4gZDt0PWNbZV0uc3RhcnRUaW1lO3Q9bnVsbCE9dD90Omc7dz1jW2VdLnJlcGVhdHx8MDswPncmJih3PWNbZV0uZHVyYXRpb24sZSsxPT09Yy5sZW5ndGg/KHo9Y1swXS5zdGFydFRpbWUraC10LHc9TWF0aC5jZWlsKHovdyktMSk6KHo9Y1tlKzFdLnN0YXJ0VGltZSx3PU1hdGguY2VpbCgoei10KS93KS0xKSk7MDxkLmxlbmd0aCYmdCE9ZyYmKHo9dC1nLGY9ZFtkLmxlbmd0aC0xXSxmLnRpbWVzY2FsZWRHYXBJbmZvPW5ldyBoZChnL2Isei9iKSxmLmVuZD10KTtmb3IoSD0wO0g8PXc7KytIKWc9dCtjW2VdLmR1cmF0aW9uLGQucHVzaCh7c3RhcnQ6dCxlbmQ6Z30pLHQ9Z31pZihhLmEmJjA8Yy5sZW5ndGgpZm9yKGI9Y1swXS5kdXJhdGlvbixmPTA7ZjxrO2YrKylkLnB1c2goe3N0YXJ0OnQrZipiLGVuZDp0KwooZisxKSpiLHVkOmEuYitmfSk7cmV0dXJuIGR9O2Z1bmN0aW9uIHBkKGEsYixjLGQsZSl7dGhpcy53PWE7dGhpcy5tPWI7dGhpcy5jPWM7dGhpcy5XPTA7dGhpcy5CPSEwO3RoaXMucz1jLnN8fDA7dGhpcy5BPSExO3RoaXMuZz1udWxsO3RoaXMudT1kO3RoaXMuaj1jLkx8fDA7dGhpcy5iPTA7dGhpcy5pPXRoaXMuaD1udWxsO2E6e2I9Yy5DO3ZhciBmPTA7YT0oYS5kdXJhdGlvbnx8MCkqdGhpcy5zO2M9Yi5OO2ZvcihkPTA7ZDxjLmxlbmd0aDsrK2Qpe2lmKCFjW2RdLmR1cmF0aW9uKXtiLk49Yy5zbGljZSgwLGQpO2JyZWFrIGF9dmFyIGc9Y1tkXS5zdGFydFRpbWUsZj1udWxsIT1nP2c6ZixnPWNbZF0ucmVwZWF0fHwwOzA+ZyYmKGc9Y1tkXS5kdXJhdGlvbixnPWQrMT09PWMubGVuZ3RoP01hdGguY2VpbCgoY1swXS5zdGFydFRpbWUrYS1mKS9nKS0xOk1hdGguY2VpbCgoY1tkKzFdLnN0YXJ0VGltZS1mKS9nKS0xKTtjW2RdLnN0YXJ0VGltZT1mO2NbZF0ucmVwZWF0PWc7Zj1jW2RdLnN0YXJ0VGltZStjW2RdLmR1cmF0aW9uKihjW2RdLnJlcGVhdCsKMSl9fXRoaXMuZj1bXTt0aGlzLm89VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoInRpbWVsaW5lX3NlZ21lbnRfaW5kZXhfbWF4X2luZGV4X2NhY2hlX2xlbmd0aCIsMCk7dGhpcy5iPVNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscy5sZW5ndGgodGhpcy5jLkMuTik7dGhpcy5EPWV8fG51bGx9cGQucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmI9dGhpcy5jPXRoaXMubT10aGlzLnc9bnVsbDt0aGlzLmc9ZnVuY3Rpb24oKXt9O3RoaXMuZj10aGlzLnU9bnVsbH07cGQucHJvdG90eXBlLmxlbmd0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmJ9O2Z1bmN0aW9uIHFkKGEsYil7Zm9yKHZhciBjPWEuZi5sZW5ndGgtMTstMTxjO2MtLSlpZihhLmZbY10uaW5kZXg9PT1iKXt2YXIgZD1hLmZbY107YS5mLnNwbGljZShjLDEpO2EuZi5wdXNoKGQpO3JldHVybiBkLnhkfXJldHVybiBudWxsfQpmdW5jdGlvbiByZChhLGIsYyl7dmFyIGQ9W107aWYoYS5vJiYxPT09Yy1iKXt2YXIgZT1xZChhLGIpO2lmKGUpcmV0dXJuW2VdfXZhciBmPS1hLmovYS5zK2EuVztTaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMuZ2V0U2VnbWVudHMoYixjLGEuYy5DLk4sZnVuY3Rpb24oYSxlLGssbCxtKXtpZihsKXt2YXIgcD1kW2QubGVuZ3RoLTFdO3AmJihwLnRpbWVzY2FsZWRHYXBJbmZvPW5ldyBoZChtL3RoaXMucyxsL3RoaXMucykscC5kZWJ1Z0luZm89e2VuZFRpbWU6cC50aW1lc2NhbGVkR2FwSW5mby5zZWdtZW50T3JpZ2luYWxFbmRUaW1lLGRlbHRhOnAudGltZXNjYWxlZEdhcEluZm8uZ2FwRGlzdGFuY2V9LGRbZC5sZW5ndGgtMV09amQocCxwLnN0YXJ0VGltZSxhL3RoaXMucytmKSl9az1tZCh0aGlzLnUsdGhpcy5tLGsrdGhpcy5jLmIsYSx2b2lkIDAsdGhpcy5EKTtpZighayl0aHJvdyBhPUVycm9yKCJGYWlsZWQgdG8gZ2VuZXJhdGUgbWVkaWEgVVJMLiIpLGEudHlwZT0iZGFzaCIsCmE7YT1uZXcgaWQoYS90aGlzLnMrZixlL3RoaXMucytmLGssYSxlLWEsbnVsbCk7ZT1iK2QubGVuZ3RoO2QucHVzaChhKTshdGhpcy5vfHwwIT09ZSYmZSE9PXRoaXMuYi0xJiYxIT09Yy1ifHxxZCh0aGlzLGUpfHwodGhpcy5mLmxlbmd0aCsxPnRoaXMubyYmdGhpcy5mLnNoaWZ0KCksdGhpcy5mLnB1c2goe2luZGV4OmUseGQ6YX0pKX0uYmluZChhKSk7cmV0dXJuIGR9CmZ1bmN0aW9uIHNkKGEsYil7dmFyIGM9Yi51bnNjYWxlZFN0YXJ0VGltZSxkPWIudW5zY2FsZWRFbmRUaW1lLGU9Yi5kZWx0YSxmPWIucHJldmlvdXNFbmRUaW1lO2lmKGUpdmFyIGc9bmV3IGhkKGYvYS5zLGUvYS5zKTtlPW1kKGEudSxhLm0sYi5zZWdtZW50UmVwbGFjZW1lbnQrYS5jLmIsYyx2b2lkIDAsYS5EKTtpZighZSl0aHJvdyBjPUVycm9yKCJGYWlsZWQgdG8gZ2VuZXJhdGUgbWVkaWEgVVJMLiIpLGMudHlwZT0iZGFzaCIsYztmPS1hLmovYS5zK2EuVztyZXR1cm4gbmV3IGlkKGMvYS5zK2YsZC9hLnMrZixlLGMsZC1jLGd8fG51bGwpfXBkLnByb3RvdHlwZS5nZXRTZWdtZW50cz1mdW5jdGlvbigpe3JldHVybiByZCh0aGlzLDAsdGhpcy5iKXx8W119OwpwZC5wcm90b3R5cGUuZmlyc3Q9ZnVuY3Rpb24oKXtpZighdGhpcy5iKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbmRleCBvdXQgb2YgcmFuZ2UuIik7aWYoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJvcHRpbWl6ZV9jb21tb25fc2VnbWVudF9nZW5lcmF0aW9ucyIsITEpKXtpZih0aGlzLmgpcmV0dXJuIHRoaXMuaDt2YXIgYT1TaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMuZmlyc3QodGhpcy5jLkMuTix0aGlzLmIpO3JldHVybiB0aGlzLmg9c2QodGhpcyxhKX1yZXR1cm4gcmQodGhpcywwLDEpWzBdfTsKcGQucHJvdG90eXBlLmxhc3Q9ZnVuY3Rpb24oKXtpZighdGhpcy5iKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbmRleCBvdXQgb2YgcmFuZ2UuIik7aWYoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJvcHRpbWl6ZV9jb21tb25fc2VnbWVudF9nZW5lcmF0aW9ucyIsITEpKXtpZih0aGlzLmkpcmV0dXJuIHRoaXMuaTt2YXIgYT1TaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMubGFzdCh0aGlzLmMuQy5OLHRoaXMuYik7cmV0dXJuIHRoaXMuaT1zZCh0aGlzLGEpfXJldHVybiByZCh0aGlzLHRoaXMuYi0xLHRoaXMuYilbMF19OwpwZC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGEpe2lmKCF0aGlzLmJ8fDA+YXx8YT49dGhpcy5iKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbmRleCBvdXQgb2YgcmFuZ2UuIik7cmV0dXJuIFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgib3B0aW1pemVfY29tbW9uX3NlZ21lbnRfZ2VuZXJhdGlvbnMiLCExKT8oYT1TaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMuZ2V0KHRoaXMuYy5DLk4sYSx0aGlzLmIpLHNkKHRoaXMsYSkpOnJkKHRoaXMsYSxhKzEpWzBdfTsKcGQucHJvdG90eXBlLmZpbmQ9ZnVuY3Rpb24oYSl7aWYoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJmaXhfY29tcG9zaXRlZF90aW1lX2luZGV4X2NhbGxzIiwhMSkpcmV0dXJuKGE9U2hha2FUaW1lbGluZVNlZ21lbnRJbmRleFV0aWxzLmZpbmQoYSx0aGlzLmMuQy5OLHRoaXMucywtdGhpcy5qL3RoaXMucyt0aGlzLlcpKT9zZCh0aGlzLGEpOm51bGw7YT10aGlzLmZpbmRJbmRleChhKTtyZXR1cm4gVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJvcHRpbWl6ZV9jb21tb25fc2VnbWVudF9nZW5lcmF0aW9ucyIsITEpPzA8PWE/dGhpcy5nZXQoYSk6bnVsbDowPD1hP3JkKHRoaXMsYSxhKzEpWzBdOm51bGx9O3BkLnByb3RvdHlwZS5maW5kSW5kZXg9ZnVuY3Rpb24oYSl7cmV0dXJuIFNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscy5maW5kSW5kZXgoYSx0aGlzLmMuQy5OLHRoaXMucywtdGhpcy5qL3RoaXMucyt0aGlzLlcpfTtuPXBkLnByb3RvdHlwZTsKbi5TYT1mdW5jdGlvbihhKXt2YXIgYj1hLmxlbmd0aCgpLGM9Yi10aGlzLmI7aWYoMCE9PWImJihiIT09dGhpcy5ifHwwIT09dGhpcy5iJiZhLmxhc3QoKS5lbmRUaW1lIT09dGhpcy5sYXN0KCkuZW5kVGltZSkmJiEoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJmaXhfaW50ZWdyYXRpb25fb25fZWFybGllcl9lbmR0aW1lIiwhMSkmJmEubGFzdCgpLmVuZFRpbWU8PXRoaXMubGFzdCgpLmVuZFRpbWUpKWlmKHRoaXMuQT0hMSxiPWEubGFzdCgpLG51bGwhPWIuZW5kVGltZSYmYi5lbmRUaW1lPHRoaXMubGFzdCgpLmVuZFRpbWUmJmIuZW5kVGltZTx0aGlzLmZpcnN0KCkuc3RhcnRUaW1lJiYodGhpcy5BPSEwKSxWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImludGVncmF0ZV9zZWdtZW50X3RpbWVsaW5lX3RpbWVfcG9pbnRzIiwhMSk/dGhpcy5jLkMuTj1TaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMuaW50ZWdyYXRlVGltZVBvaW50cyh0aGlzLmMuQy5OLAphLmMuQy5OKToodGhpcy53PWEudyx0aGlzLm09YS5tLHRoaXMuYz1hLmMsdGhpcy5qPXRoaXMuYy5MfHwwLHRoaXMucz10aGlzLmMuc3x8MCksdGhpcy5mPVtdLHRoaXMuaT10aGlzLmg9bnVsbCx0aGlzLmI9U2hha2FUaW1lbGluZVNlZ21lbnRJbmRleFV0aWxzLmxlbmd0aCh0aGlzLmMuQy5OKSx0aGlzLmZpcnN0KCksdGhpcy5sYXN0KCksVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJ0ZW1wbGF0ZWRfY2FsbF9vbl9zZWdtZW50c191cGRhdGVkX3dpdGhfZGVsdGFfc2VnbWVudHMiLCExKSl7dmFyIGQ9W10sYz10aGlzLmItYztmb3IoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJ0ZW1wbGF0ZWRfZHluYW1pY19pbmNsdWRlX3ByZXZpb3VzX2xhc3Rfc2VnbWVudF9pbl91cGRhdGVzIiwhMSkmJjA8YyYmYy0tO2M8dGhpcy5iOysrYylkLnB1c2godGhpcy5nZXQoYykpO3RoaXMuZyYmdGhpcy5nKGQpfWVsc2UgYz0hVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJub19wcm92aWRlX3NlZ21lbnRzX3RvX29uX3NlZ21lbnRzX3VwZGF0ZWRfbGlzdGVuZXJzIiwKITEpLHRoaXMuZyYmKGMmJihkPXRoaXMuZ2V0U2VnbWVudHMoKSksdGhpcy5nKGQpKX07bi5oYj1mdW5jdGlvbihhKXt2YXIgYj1hLXRoaXMuVztpZigwPT1iKXJldHVybiAwO3RoaXMuVz1hO3RoaXMuaT10aGlzLmg9bnVsbDt0aGlzLmY9W107cmV0dXJuIGJ9O24uaWI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iP3tzdGFydDp0aGlzLmZpcnN0KCkuc3RhcnRUaW1lLGVuZDp0aGlzLmxhc3QoKS5lbmRUaW1lfTp7c3RhcnQ6MCxlbmQ6MH19O24uZ2V0U2Vla1JhbmdlR2Fwcz1mdW5jdGlvbigpe3JldHVybiBTaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMuZ2V0U2Vla1JhbmdlR2Fwcyh0aGlzLmMuQy5OLHRoaXMucywtdGhpcy5qL3RoaXMucyt0aGlzLlcpfTtuLnJiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuQX07bi5HYz1mdW5jdGlvbihhKXt0aGlzLmc9YX07bi5GYz1mdW5jdGlvbigpe3RoaXMuZz1udWxsfTtuLklhPWZ1bmN0aW9uKCl7fTtmdW5jdGlvbiB0ZCgpe30KdGQucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9bnVsbDt0cnl7YTp7dmFyIGc9W10saD1uZXcgQmEoYSksaz12KGgpO2lmKDE5MzYyODY4NDAhPXYoaCkpZj1udWxsO2Vsc2V7MT09ayYmKGs9RmEoaCkpO3ZhciBsPUVhKGgpO0hhKGgsMyk7SGEoaCw0KTt2YXIgbT12KGgpO2lmKDA9PW0pZj1udWxsO2Vsc2V7dmFyIHAsdDswPT1sPyhwPXYoaCksdD12KGgpKToocD1GYShoKSx0PUZhKGgpKTtIYShoLDIpO3ZhciB3PWguYi5nZXRVaW50MTYoaC5hLGguYyk7aC5hKz0yO2E9cDtiPWIrayt0O2Zvcih0PWs9MDt0PHc7dCsrKXt2YXIgej12KGgpO3A9KHomMjE0NzQ4MzY0OCk+Pj4zMTt2YXIgbD16JjIxNDc0ODM2NDcsSD12KGgpO3YoaCk7aWYoMT09cCl7Zj1udWxsO2JyZWFrIGF9dmFyIGRhO2RhPTA9PXQmJmU/ZTpuZXcgSyhkLGMsYixiK2wtMSk7cD1hL207dmFyIGVhPShhK0gpL207MD09PXQmJihrPXApO2cucHVzaChuZXcgaWQocC1rLGVhLWssZGEsCmEsSCkpO2ErPUg7Yis9bH1nLnM9bTtmPWd9fX19Y2F0Y2goQWEpe2lmKCEoQWEgaW5zdGFuY2VvZiBSYW5nZUVycm9yKSl0aHJvdyBBYTt9cmV0dXJuIGZ9O2Z1bmN0aW9uIFIoYSl7dGhpcy5hPWE7dGhpcy5zPXRoaXMuYS5zO3RoaXMuSz10aGlzLmEuQjt0aGlzLmc9W119Ui5wcm90b3R5cGUuSj1mdW5jdGlvbigpe3JldHVybiEhdGhpcy5nW3RoaXMuZy5sZW5ndGgtMV19O1IucHJvdG90eXBlLmxhc3RQb2xsSGFkQ2hhbmdlcz1SLnByb3RvdHlwZS5KO1IucHJvdG90eXBlLkk9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmcsYj1hLmxhc3RJbmRleE9mKCEwKTtpZigxPmIpcmV0dXJuIDA7YT1hLmxhc3RJbmRleE9mKCEwLGItMSk7cmV0dXJuIDA+YT8wOmItYS0xfTtSLnByb3RvdHlwZS5nZXRGZXRjaGVzQmV0d2VlblJlY2VudENoYW5nZXM9Ui5wcm90b3R5cGUuSTtSLnByb3RvdHlwZS51PWZ1bmN0aW9uKCl7cmV0dXJuIE1hdGguZmxvb3IoKHRoaXMuZy5sZW5ndGgtMS10aGlzLmcubGFzdEluZGV4T2YoITApKS8yKX07Ui5wcm90b3R5cGUuZ2V0Q29uc2VjdXRpdmVVcGRhdGVzV2l0aG91dENoYW5nZXM9Ui5wcm90b3R5cGUudTsKUi5wcm90b3R5cGUuRz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmcubGVuZ3RoLTEtdGhpcy5nLmxhc3RJbmRleE9mKCExKX07Ui5wcm90b3R5cGUuZ2V0Q29uc2VjdXRpdmVVcGRhdGVzV2l0aENoYW5nZXM9Ui5wcm90b3R5cGUuRztSLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5hLmRlc3Ryb3koKTt0aGlzLmE9bnVsbH07Ui5wcm90b3R5cGUubGVuZ3RoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS5sZW5ndGgoKX07Ui5wcm90b3R5cGUuZ2V0U2VnbWVudHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLmdldFNlZ21lbnRzKCl9O1IucHJvdG90eXBlLmdldFNlZ21lbnRzPVIucHJvdG90eXBlLmdldFNlZ21lbnRzO1IucHJvdG90eXBlLmZpcnN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS5maXJzdCgpfTtSLnByb3RvdHlwZS5sYXN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS5sYXN0KCl9O1IucHJvdG90eXBlLmxhc3Q9Ui5wcm90b3R5cGUubGFzdDsKUi5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmEuZ2V0KGEpfTtSLnByb3RvdHlwZS5maW5kPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmEuZmluZChhKX07Ui5wcm90b3R5cGUuZmluZEluZGV4PWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmEuZmluZEluZGV4KGEpfTtSLnByb3RvdHlwZS5CPWZ1bmN0aW9uKGEpe3RoaXMuYS5TYShhLmEpO3JldHVybiEwfTtSLnByb3RvdHlwZS5UYT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5hLmhiKGEpfTtSLnByb3RvdHlwZS5BPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS5pYigpfTtSLnByb3RvdHlwZS5nZXRTZWVrUmFuZ2VHYXBzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS5nZXRTZWVrUmFuZ2VHYXBzKCl9O1IucHJvdG90eXBlLmdldFNlZWtSYW5nZUdhcHM9Ui5wcm90b3R5cGUuZ2V0U2Vla1JhbmdlR2FwcztSLnByb3RvdHlwZS5yYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmEucmIoKX07CmZ1bmN0aW9uIHVkKGEsYil7YS5hLkdjKGIpfTtmdW5jdGlvbiBTKGEsYixjLGQpe1IuY2FsbCh0aGlzLGEpO3RoaXMuaT1iO3RoaXMuRj1jO3RoaXMuaD1kO3RoaXMuZHVyYXRpb249dGhpcy5pLmJ8fHRoaXMuaS5hLnJlZHVjZShmdW5jdGlvbihhLGIpe3JldHVybiBudWxsPT1iLmR1cmF0aW9uP05hTjphK2IuZHVyYXRpb259LDApfHwwO3RoaXMuYj10aGlzLm89dGhpcy5mPW51bGw7eWQodGhpcyl9cihTLFIpO1MucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLkY9dGhpcy5pPW51bGw7Ui5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpfTtTLnByb3RvdHlwZS5maW5kPWZ1bmN0aW9uKGEpe3pkKHRoaXMseWEoKS8xRTMpO3JldHVybiBSLnByb3RvdHlwZS5maW5kLmNhbGwodGhpcyxhKX07ClMucHJvdG90eXBlLkI9ZnVuY3Rpb24oYSl7aWYoIShhIGluc3RhbmNlb2YgUykpcmV0dXJuITE7dGhpcy5hLlNhKGEuYSk7dGhpcy5kdXJhdGlvbj1NYXRoLm1heCh0aGlzLmR1cmF0aW9uLGEuZHVyYXRpb24pO251bGw9PXRoaXMuZj8odGhpcy5oPWEuaCx5ZCh0aGlzKSk6QWQodGhpcyk7cmV0dXJuITB9O2Z1bmN0aW9uIHlkKGEpe0FkKGEpO2lmKDAhPWEubGVuZ3RoKCkpe2EubGVuZ3RoKCk7dmFyIGI9bnVsbCE9YS5sYXN0KCkuZW5kVGltZT9hLmxhc3QoKS5lbmRUaW1lOmEubGFzdCgpLnN0YXJ0VGltZTtpZihhLmkuYz5hLmgpYS5mPWI7ZWxzZXt2YXIgYz1hLmgtKGEuaS5jK2EuRi5zdGFydCk7MD5jP2EuZj1iOmM8TWF0aC5tYXgoYS5sYXN0KCkuc3RhcnRUaW1lLGEubGFzdCgpLmVuZFRpbWV8fDApPyhhLmxhc3QoKSxhLmY9Yik6YS5mPWN9YS5vPWEubGFzdCgpLnN0YXJ0VGltZTthLmI9YS5maXJzdCgpLnN0YXJ0VGltZX19ClMucHJvdG90eXBlLlRhPWZ1bmN0aW9uKGEpe2E9Ui5wcm90b3R5cGUuVGEuY2FsbCh0aGlzLGEpO1ZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgibm9fY29ycmVjdF9kZWx0YV93YXJuaW5nIiwhMSl8fE1hdGgubWluLmFwcGx5KG51bGwsdGhpcy5nZXRTZWdtZW50cygpLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YS5lbmRUaW1lfSkubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLmVuZFRpbWUtYS5zdGFydFRpbWV9KSk7bnVsbCE9dGhpcy5mJiYodGhpcy5vKz1hLHRoaXMuYis9YSx0aGlzLmYrPWEpO3JldHVybiBhfTtTLnByb3RvdHlwZS5BPWZ1bmN0aW9uKCl7cmV0dXJuIEJkKHRoaXMseWEoKS8xRTMpfTsKZnVuY3Rpb24gQmQoYSxiKXt6ZChhLGIpO2lmKG51bGw9PWEuZnx8bnVsbD09YS5vfHxudWxsPT1hLmIpcmV0dXJue3N0YXJ0OjAsZW5kOjB9O3ZhciBjPU51bWJlci5QT1NJVElWRV9JTkZJTklUWTthLmR1cmF0aW9uJiYoYz1hLmR1cmF0aW9uKTt2YXIgZD1iLWEuaCxlPWEuZitkO251bGwhPWEuaS5mJiYoZT1lLWEuYi1hLmkuZiwwPGUmJihhLmIrPWUpKTthLmI9TWF0aC5taW4oYS5iLGMpO2Q9YS5vK2Q7aWYoZDxhLmIpcmV0dXJue3N0YXJ0OmEuYixlbmQ6YS5ifTtkPTA8YS5sZW5ndGgoKT9udWxsIT1hLmxhc3QoKS5lbmRUaW1lP01hdGgubWluKGQsYS5sYXN0KCkuZW5kVGltZSk6ZDphLmI7ZD1NYXRoLm1heChkLGEuYik7ZD1NYXRoLm1pbihkLGMpO3JldHVybntzdGFydDphLmIsZW5kOmR9fQpmdW5jdGlvbiB6ZChhLGIpe2lmKGEuYS5hJiYoQWQoYSksbnVsbCE9YS5pLmYpKWlmKG51bGw9PWEuZilhLmxlbmd0aCgpO2Vsc2V7Zm9yKHZhciBjPWEuZisoYi1hLmgpLGQ9MCxlPTA7ZTxhLmEuYS5sZW5ndGg7KytlKXt2YXIgZj1udWxsO2U8YS5hLmEubGVuZ3RoLTE/Zj1hLmEuYVtlKzFdLmVuZFRpbWU6KGY9YS5hLmFbZV0sZj1udWxsIT1mLmVuZFRpbWU/Zi5lbmRUaW1lKyhmLmVuZFRpbWUtZi5zdGFydFRpbWUpOm51bGwpO2lmKG51bGwhPWYmJmY8Yy1hLmkuZikrK2Q7ZWxzZSBicmVha30wPGQmJmEuYS5hLnNwbGljZSgwLGQpfX1mdW5jdGlvbiBBZChhKXtpZihhLmR1cmF0aW9uJiZhLmEuYSl7Zm9yKHZhciBiPTAsYz1hLmEuYS5sZW5ndGgtMTswPD1jOy0tYylpZihhLmEuYVtjXS5zdGFydFRpbWU+YS5kdXJhdGlvbikrK2I7ZWxzZSBicmVhazswPGImJmEuYS5hLnNwbGljZSgtYil9fTtmdW5jdGlvbiBUKGEsYixjKXt2YXIgZD1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigidGVtcGxhdGVkX3F1YXJhbnRpbmVfaWRsZV9yZWZlcmVuY2VzX3RocmVzaG9sZCIsMCk7dGhpcy5pPVtdO2lmKDA8ZCl7dmFyIGU9YTthPWUuc3BsaWNlKC1kKTt0aGlzLmk9ZX10aGlzLmE9YTt0aGlzLlc9MDt0aGlzLnM9Yjt0aGlzLmY9ITE7dGhpcy5oPWZ1bmN0aW9uKCl7fTt0aGlzLkI9Y3x8ITF9VC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuYT1udWxsfTtULnByb3RvdHlwZS5sZW5ndGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLmxlbmd0aH07VC5wcm90b3R5cGUuZ2V0U2VnbWVudHM9ZnVuY3Rpb24oKXtyZXR1cm4odGhpcy5hfHxbXSkuc2xpY2UoKX07VC5wcm90b3R5cGUuZ2V0U2VnbWVudHM9VC5wcm90b3R5cGUuZ2V0U2VnbWVudHM7ClQucHJvdG90eXBlLmZpcnN0PWZ1bmN0aW9uKCl7aWYoMD09dGhpcy5hLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiU2VnbWVudEluZGV4QmFzZTogVGhlcmUgaXMgbm8gZmlyc3QgU2VnbWVudFJlZmVyZW5jZS4iKTtyZXR1cm4gdGhpcy5hWzBdfTtULnByb3RvdHlwZS5sYXN0PWZ1bmN0aW9uKCl7aWYoMD09dGhpcy5hLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiU2VnbWVudEluZGV4QmFzZTogVGhlcmUgaXMgbm8gbGFzdCBTZWdtZW50UmVmZXJlbmNlLiIpO3JldHVybiB0aGlzLmFbdGhpcy5hLmxlbmd0aC0xXX07VC5wcm90b3R5cGUubGFzdD1ULnByb3RvdHlwZS5sYXN0O1QucHJvdG90eXBlLmdldD1mdW5jdGlvbihhKXtpZigwPmF8fGE+PXRoaXMuYS5sZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIlNlZ21lbnRJbmRleEJhc2U6IFRoZSBzcGVjaWZpZWQgaW5kZXggaXMgb3V0IG9mIHJhbmdlLiIpO3JldHVybiB0aGlzLmFbYV19OwpULnByb3RvdHlwZS5maW5kPWZ1bmN0aW9uKGEpe2E9dGhpcy5maW5kSW5kZXgoYSk7cmV0dXJuIDA8PWE/dGhpcy5hW2FdOm51bGx9O1QucHJvdG90eXBlLmZpbmRJbmRleD1mdW5jdGlvbihhKXtyZXR1cm4geWIodGhpcy5hLGEpfTsKVC5wcm90b3R5cGUuU2E9ZnVuY3Rpb24oYSl7dGhpcy5XIT1hLlcmJihhPW5ldyBUKGtkKGEuYSx0aGlzLlctYS5XKSxhLnMpKTtpZigwPT10aGlzLmxlbmd0aCgpKXRoaXMuYT1hLmEuc2xpY2UoMCksdGhpcy5JYSgpO2Vsc2UgaWYoMCE9YS5sZW5ndGgoKSYmbnVsbCE9dGhpcy5sYXN0KCkuZW5kVGltZSlpZihudWxsIT1hLmxhc3QoKS5lbmRUaW1lJiZhLmxhc3QoKS5lbmRUaW1lPHRoaXMubGFzdCgpLmVuZFRpbWUpVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJmaXhfbWFuaWZlc3Rfd3JhcHBlZCIsITApP2EubGFzdCgpLmVuZFRpbWU8dGhpcy5maXJzdCgpLnN0YXJ0VGltZSYmKHRoaXMuZj0hMCk6dGhpcy5mPSEwO2Vsc2V7dGhpcy5mPSExO2lmKHRoaXMubGFzdCgpLmVuZFRpbWU8PWEuZmlyc3QoKS5zdGFydFRpbWUpe3ZhciBiPWpkKHRoaXMubGFzdCgpLHRoaXMubGFzdCgpLnN0YXJ0VGltZSxhLmZpcnN0KCkuc3RhcnRUaW1lKSxjPXRoaXMubGFzdCgpLnVuc2NhbGVkU3RhcnRUaW1lKwp0aGlzLmxhc3QoKS51bnNjYWxlZER1cmF0aW9uO1ZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgiY2FsY3VsYXRlX21pc3NlZF9zZWdtZW50X2dhcF9pbmZvX29uX21lcmdlIiwhMSkmJmM8YS5maXJzdCgpLnVuc2NhbGVkU3RhcnRUaW1lJiZudWxsPT09dGhpcy5sYXN0KCkudGltZXNjYWxlZEdhcEluZm8mJihiLnRpbWVzY2FsZWRHYXBJbmZvPW5ldyBoZChjL3RoaXMucywoYS5maXJzdCgpLnVuc2NhbGVkU3RhcnRUaW1lLWMpL3RoaXMucykpO2lmKFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgidGVtcGxhdGVkX29wdGltaXplX21lcmdlX3RhcmdldF9hbGdvcyIsITEpKWZvcih0aGlzLmEucG9wKCksdGhpcy5hLnB1c2goYiksYz0wO2M8YS5hLmxlbmd0aDsrK2MpdGhpcy5hLnB1c2goYS5hW2NdKTtlbHNlIGI9dGhpcy5hLnNsaWNlKDAsLTEpLmNvbmNhdChbYl0pLHRoaXMuYT1iLmNvbmNhdChhLmEpfWVsc2V7Zm9yKGM9MDtjPHRoaXMuYS5sZW5ndGgmJgohKHRoaXMuYVtjXS5lbmRUaW1lPj1hLmZpcnN0KCkuc3RhcnRUaW1lKTsrK2MpO3RoaXMuYVtjXS5zdGFydFRpbWU8YS5maXJzdCgpLnN0YXJ0VGltZT8oYj1qZCh0aGlzLmFbY10sdGhpcy5hW2NdLnN0YXJ0VGltZSxhLmZpcnN0KCkuc3RhcnRUaW1lKSxiPXRoaXMuYS5zbGljZSgwLGMpLmNvbmNhdChbYl0pKToodGhpcy5maXJzdCgpLnN0YXJ0VGltZT5hLmZpcnN0KCkuc3RhcnRUaW1lfHxhLmZpcnN0KCksYj10aGlzLmEuc2xpY2UoMCxjKSk7dGhpcy5hPWIuY29uY2F0KGEuYSl9dGhpcy5oKGEuYSk7dGhpcy5JYSgpfX07VC5wcm90b3R5cGUuaGI9ZnVuY3Rpb24oYSl7dmFyIGI9YS10aGlzLlc7aWYoMD09YilyZXR1cm4gMDt0aGlzLmE9a2QodGhpcy5hLGIpO3RoaXMuSWEoKTt0aGlzLlc9YTtyZXR1cm4gYn07ClQucHJvdG90eXBlLmliPWZ1bmN0aW9uKCl7cmV0dXJuIDA8dGhpcy5sZW5ndGgoKT97c3RhcnQ6dGhpcy5maXJzdCgpLnN0YXJ0VGltZSxlbmQ6dGhpcy5sYXN0KCkuZW5kVGltZX06e3N0YXJ0OjAsZW5kOjB9fTtULnByb3RvdHlwZS5nZXRTZWVrUmFuZ2VHYXBzPWZ1bmN0aW9uKCl7cmV0dXJuIGdldFNlZWtSYW5nZUdhcHNGcm9tU2hha2FSZWZlcmVuY2VzKHRoaXMuYSx0aGlzLnMpfTtULnByb3RvdHlwZS5nZXRTZWVrUmFuZ2VHYXBzPVQucHJvdG90eXBlLmdldFNlZWtSYW5nZUdhcHM7VC5wcm90b3R5cGUucmI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mfTtULnByb3RvdHlwZS5HYz1mdW5jdGlvbihhKXt0aGlzLmg9YX07VC5wcm90b3R5cGUuRmM9ZnVuY3Rpb24oKXt0aGlzLmg9ZnVuY3Rpb24oKXt9fTtULnByb3RvdHlwZS5JYT1mdW5jdGlvbigpe307VC5wcm90b3R5cGUuZ2V0SWRsZVJlZmVyZW5jZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pfTtmdW5jdGlvbiBDZChhLGIsYyxkLGUpe3ZhciBmPTEsZz0wLGg7aWYoYS5jPmQpaD1udWxsO2Vsc2V7dmFyIGs9YS5vfHwwLGw9YS5mfHwwO2g9Yy5hO2g9aC5IL2guczt2YXIgbT1kLShhLmMrYi5zdGFydCk7MD5tP2g9bnVsbDoobD1tLTIqaC1sLDA+bCYmKGw9MCksbD1NYXRoLmNlaWwobC9oKSpoLG0tPWgsMD5tP2g9bnVsbDooaz1NYXRoLmZsb29yKG0vaCkqaC1rLDA+ayYmKGs9MCksaz1NYXRoLmZsb29yKGsvaCkqaCxoPXt0YzpsL2grMSxjdXJyZW50OihrPj1sP2s6bCkvaCsxfSkpfWgmJihmPWgudGMsZz1oLmN1cnJlbnQtaC50YysxKTtmPWxkKGUsYyxmLGcpO2lmKG51bGw9PWYpdGhyb3cgYT1FcnJvcigiRmFpbGVkIHRvIGdlbmVyYXRlIFNlZ21lbnRSZWZlcmVuY2VzLiIpLGEudHlwZT0ic3RyZWFtIixhO2Y9bmV3IFQoZixjLmEuc3x8MSk7Uy5jYWxsKHRoaXMsZixhLGIsZCk7dGhpcy53PWM7dGhpcy5tPXRoaXMuYz0wPHRoaXMubGVuZ3RoKCk/YS5jK2Iuc3RhcnQrdGhpcy5sYXN0KCkuZW5kVGltZToKbnVsbDt0aGlzLmo9aD9oLmN1cnJlbnQrMTpudWxsO3RoaXMuRD1lfXIoQ2QsUyk7Q2QucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLkQ9dGhpcy53PW51bGw7Uy5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpfTtDZC5wcm90b3R5cGUuZmluZD1mdW5jdGlvbihhKXt2YXIgYj15YSgpLzFFMztEZCh0aGlzLGIpO3pkKHRoaXMsYik7cmV0dXJuIFIucHJvdG90eXBlLmZpbmQuY2FsbCh0aGlzLGEpfTtDZC5wcm90b3R5cGUuQj1mdW5jdGlvbihhKXtpZihudWxsIT10aGlzLmN8fCEoYSBpbnN0YW5jZW9mIENkKXx8bnVsbD09YS5jKXJldHVybiExO3RoaXMuYz1hLmM7dGhpcy5tPWEubTt0aGlzLmo9YS5qO3RoaXMuaD1hLmg7dGhpcy5kdXJhdGlvbj1hLmR1cmF0aW9uO3RoaXMuYS5TYShhLmEpO0RkKHRoaXMseWEoKS8xRTMpO3lkKHRoaXMpO3JldHVybiEwfTsKQ2QucHJvdG90eXBlLlRhPWZ1bmN0aW9uKGEpe2E9Uy5wcm90b3R5cGUuVGEuY2FsbCh0aGlzLGEpO251bGwhPXRoaXMuYyYmKHRoaXMuYys9YSx0aGlzLm0rPWEpO3JldHVybiBhfTtDZC5wcm90b3R5cGUuQT1mdW5jdGlvbigpe3ZhciBhPXlhKCkvMUUzO0RkKHRoaXMsYSk7cmV0dXJuIEJkKHRoaXMsYSl9O2Z1bmN0aW9uIERkKGEsYil7aWYobnVsbCE9YS5jJiZudWxsIT1hLm0mJm51bGwhPWEuail7dmFyIGM9YS53LmEsYz1jLkgvYy5zLGQ9TWF0aC5mbG9vcigoYS5tKyhiLWEuaCktYS5jKS9jKTtpZigwIT1kKXt2YXIgZT1sZChhLkQsYS53LGEuaixkKTtBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShhLmEuYSxrZChlLGEuYS5XKSk7YS5hLklhKCk7YS5jKz1kKmM7YS5qKz1kfX19O2Z1bmN0aW9uIEVkKGEsYixjLGQsZSl7dGhpcy5nPWE7dGhpcy5mPWI7dGhpcy5iPWM7dGhpcy5pPWQ7dGhpcy5hPW51bGw7dGhpcy5oPWV9RWQucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmg9dGhpcy5iPXRoaXMuZj10aGlzLmc9bnVsbDt0aGlzLmEmJih0aGlzLmEuZGVzdHJveSgpLHRoaXMuYT1udWxsKX07CkVkLnByb3RvdHlwZS5jcmVhdGU9ZnVuY3Rpb24oKXtpZih0aGlzLmEpcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLmEpO2lmKCJkeW5hbWljIj09dGhpcy5nLnR5cGUpdHJ5e3RoaXMuYT1uZXcgQ2QodGhpcy5nLHRoaXMuZix0aGlzLmIsdGhpcy5pLHRoaXMuaCl9Y2F0Y2goYSl7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfWVsc2V7dmFyIGI7Yj10aGlzLmIuYTtpZihiPWxkKHRoaXMuaCx0aGlzLmIsMSxNYXRoLmNlaWwodGhpcy5mLmR1cmF0aW9uLyhiLkgvYi5zKSkpKXtpZigwPGIubGVuZ3RoKXt2YXIgYz1iW2IubGVuZ3RoLTFdO2JbYi5sZW5ndGgtMV09amQoYyxjLnN0YXJ0VGltZSx0aGlzLmYuZHVyYXRpb24pfWI9bmV3IFQoYix0aGlzLmIuYS5zfHwxKTtiPW5ldyBSKGIpfWVsc2UgYj1udWxsO3RoaXMuYT1iO2lmKCF0aGlzLmEpcmV0dXJuIGI9RXJyb3IoIkZhaWxlZCB0byBnZW5lcmF0ZSBTZWdtZW50UmVmZXJlbmNlcyIpLGIudHlwZT0ic3RyZWFtIixQcm9taXNlLnJlamVjdChiKX1yZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuYSl9OwpFZC5wcm90b3R5cGUuYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmF9O2Z1bmN0aW9uIEZkKGEsYixjLGQsZSxmKXt0aGlzLmY9YTt0aGlzLmI9Yjt0aGlzLmg9Yzt0aGlzLmE9bnVsbDt0aGlzLmk9ZDt0aGlzLmc9ZTt0aGlzLmo9Znx8bnVsbH1GZC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuZz10aGlzLmg9dGhpcy5iPXRoaXMuZj1udWxsO3RoaXMuYSYmKHRoaXMuYS5kZXN0cm95KCksdGhpcy5hPW51bGwpfTsKRmQucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbigpe2lmKHRoaXMuYSlyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuYSk7dmFyIGE9dGhpcy5oLmIsYj1bXTthLkMmJihiPW9kKGEuQyxhLnN8fDEsdGhpcy5iLmR1cmF0aW9ufHwwKSk7dmFyIGM9MDthLkgmJmEuYz9jPShhLmMtMSkqYS5IOjA8Yi5sZW5ndGgmJihjPWJbMF0uc3RhcnQtKGEuTHx8MCkpO3ZhciBkPWMsZT1hLmEubGVuZ3RoOzA8Yi5sZW5ndGgmJmIubGVuZ3RoIT1hLmEubGVuZ3RoJiYoZT1NYXRoLm1pbihiLmxlbmd0aCxhLmEubGVuZ3RoKSk7Zm9yKHZhciBmPVtdLGc9MDtnPGU7KytnKXt2YXIgaD1hLmFbZ10saz1jLGw9ay9hLnMsbT1jPW51bGwscDthLkg/KGM9aythLkgsbT1jL2Eucyk6MDxiLmxlbmd0aD8ocD1iW2ddLnRpbWVzY2FsZWRHYXBJbmZvLGM9YltnXS5lbmQtKGEuTHx8MCksbT1jL2Eucyk6KG09bCt0aGlzLmIuZHVyYXRpb24sYz1tKmEucyk7dmFyIHQ9MCx3PW51bGw7aC5hJiYodD1oLmEucWEsCnc9aC5hLmVuZCk7bT1NYXRoLm1pbih0aGlzLmIuZHVyYXRpb24rZC9hLnMsbSk7Zi5wdXNoKG5ldyBpZChsLG0sbmV3IEsodGhpcy5nLGguYix0LHcsdm9pZCAwLHRoaXMuaiksayxwfHxudWxsKSl9YT1uZXcgVChmLGEuc3x8MSk7ImR5bmFtaWMiPT10aGlzLmYudHlwZT90aGlzLmE9bmV3IFMoYSx0aGlzLmYsdGhpcy5iLHRoaXMuaSk6dGhpcy5hPW5ldyBSKGEpO3JldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5hKX07RmQucHJvdG90eXBlLmM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hfTtmdW5jdGlvbiBHZChhLGIsYyl7VC5jYWxsKHRoaXMsYSxjKTt0aGlzLmc9Yjt0aGlzLmI9ITE7dGhpcy5qPVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0U3RyaW5nKCJ0ZW1wbGF0ZWRfcGVyZl90ZXN0X21ldGhvZHNfdW5kZXJfdGVzdF9jc3Zfc3RyaW5nIiwiYWxsIikuc3BsaXQoIiwiKX1yKEdkLFQpO2Z1bmN0aW9uIEhkKGEsYil7aWYoISgtMTxhLmouaW5kZXhPZigiYWxsIil8fC0xPGEuai5pbmRleE9mKGIpKXx8YS5iKXJldHVybiBudWxsO3ZhciBjPWEuYTthLmE9YS5nO2EuYj0hMDtyZXR1cm4gY31mdW5jdGlvbiBJZChhLGIpe2EuYiYmKGEuZz1hLmEsYS5hPWIpfUdkLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7VC5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpO3RoaXMuZz1udWxsfTsKR2QucHJvdG90eXBlLmxlbmd0aD1mdW5jdGlvbigpe3ZhciBhPUhkKHRoaXMsImxlbmd0aCIpLGI9VC5wcm90b3R5cGUubGVuZ3RoLmNhbGwodGhpcyk7YSYmKElkKHRoaXMsYSksYj1ULnByb3RvdHlwZS5sZW5ndGguY2FsbCh0aGlzKSx0aGlzLmI9ITEpO3JldHVybiBifTtHZC5wcm90b3R5cGUuZ2V0U2VnbWVudHM9ZnVuY3Rpb24oKXt2YXIgYT1IZCh0aGlzLCJnZXRTZWdtZW50cyIpLGI9VC5wcm90b3R5cGUuZ2V0U2VnbWVudHMuY2FsbCh0aGlzKTthJiYoSWQodGhpcyxhKSxiPVQucHJvdG90eXBlLmdldFNlZ21lbnRzLmNhbGwodGhpcyksdGhpcy5iPSExKTtyZXR1cm4gYn07R2QucHJvdG90eXBlLmZpcnN0PWZ1bmN0aW9uKCl7dmFyIGE9SGQodGhpcywiZmlyc3QiKSxiPVQucHJvdG90eXBlLmZpcnN0LmNhbGwodGhpcyk7YSYmKElkKHRoaXMsYSksYj1ULnByb3RvdHlwZS5maXJzdC5jYWxsKHRoaXMpLHRoaXMuYj0hMSk7cmV0dXJuIGJ9OwpHZC5wcm90b3R5cGUubGFzdD1mdW5jdGlvbigpe3ZhciBhPUhkKHRoaXMsImxhc3QiKSxiPVQucHJvdG90eXBlLmxhc3QuY2FsbCh0aGlzKTthJiYoSWQodGhpcyxhKSxiPVQucHJvdG90eXBlLmxhc3QuY2FsbCh0aGlzKSx0aGlzLmI9ITEpO3JldHVybiBifTtHZC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGEpe3ZhciBiPUhkKHRoaXMsImdldCIpLGM7Yz1iP1QucHJvdG90eXBlLmdldC5jYWxsKHRoaXMsYSsodGhpcy5hLmxlbmd0aC1iLmxlbmd0aCkpOlQucHJvdG90eXBlLmdldC5jYWxsKHRoaXMsYSk7YiYmKElkKHRoaXMsYiksYz1ULnByb3RvdHlwZS5nZXQuY2FsbCh0aGlzLGEpLHRoaXMuYj0hMSk7cmV0dXJuIGN9O0dkLnByb3RvdHlwZS5maW5kPWZ1bmN0aW9uKGEpe3ZhciBiPUhkKHRoaXMsImZpbmQiKSxjPVQucHJvdG90eXBlLmZpbmQuY2FsbCh0aGlzLGEpO2ImJihJZCh0aGlzLGIpLGM9VC5wcm90b3R5cGUuZmluZC5jYWxsKHRoaXMsYSksdGhpcy5iPSExKTtyZXR1cm4gY307CkdkLnByb3RvdHlwZS5maW5kSW5kZXg9ZnVuY3Rpb24oYSl7dmFyIGI9SGQodGhpcywiZmluZEluZGV4IiksYz1ULnByb3RvdHlwZS5maW5kSW5kZXguY2FsbCh0aGlzLGEpO2ImJihJZCh0aGlzLGIpLGM9VC5wcm90b3R5cGUuZmluZEluZGV4LmNhbGwodGhpcyxhKSx0aGlzLmI9ITEpO3JldHVybiBjfTtuPUdkLnByb3RvdHlwZTtuLlNhPWZ1bmN0aW9uKGEpe3ZhciBiPUhkKHRoaXMsIm1lcmdlIiksYz1ULnByb3RvdHlwZS5TYS5jYWxsKHRoaXMsYSk7YiYmKElkKHRoaXMsYiksYz1ULnByb3RvdHlwZS5TYS5jYWxsKHRoaXMsYSksdGhpcy5iPSExKTtyZXR1cm4gY307bi5oYj1mdW5jdGlvbihhKXt2YXIgYj1IZCh0aGlzLCJjb3JyZWN0IiksYz1ULnByb3RvdHlwZS5oYi5jYWxsKHRoaXMsYSk7YiYmKElkKHRoaXMsYiksYz1ULnByb3RvdHlwZS5oYi5jYWxsKHRoaXMsYSksdGhpcy5iPSExKTtyZXR1cm4gY307Cm4uaWI9ZnVuY3Rpb24oKXt2YXIgYT1IZCh0aGlzLCJnZXRTZWVrUmFuZ2UiKSxiPVQucHJvdG90eXBlLmliLmNhbGwodGhpcyk7YSYmKElkKHRoaXMsYSksYj1ULnByb3RvdHlwZS5pYi5jYWxsKHRoaXMpLHRoaXMuYj0hMSk7cmV0dXJuIGJ9O24uZ2V0U2Vla1JhbmdlR2Fwcz1mdW5jdGlvbigpe3ZhciBhPUhkKHRoaXMsImdldFNlZWtSYW5nZUdhcHMiKSxiPVQucHJvdG90eXBlLmdldFNlZWtSYW5nZUdhcHMuY2FsbCh0aGlzKTthJiYoSWQodGhpcyxhKSxiPVQucHJvdG90eXBlLmdldFNlZWtSYW5nZUdhcHMuY2FsbCh0aGlzKSx0aGlzLmI9ITEpO3JldHVybiBifTtuLklhPWZ1bmN0aW9uKCl7dmFyIGE9SGQodGhpcywiYXNzZXJ0Q29ycmVjdFJlZmVyZW5jZXMiKTtULnByb3RvdHlwZS5JYS5jYWxsKHRoaXMpO2EmJihJZCh0aGlzLGEpLFQucHJvdG90eXBlLklhLmNhbGwodGhpcyksdGhpcy5iPSExKX07ZnVuY3Rpb24gSmQoYSxiLGMsZCxlLGYsZyxoKXt0aGlzLm09YTt0aGlzLmE9Yjt0aGlzLmc9Yzt0aGlzLmY9ZDt0aGlzLm89ZTt0aGlzLmI9bnVsbDt0aGlzLmk9Zjt0aGlzLmg9bnVsbDt0aGlzLmo9aHx8bnVsbH1KZC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuaT10aGlzLmY9dGhpcy5nPXRoaXMuYT1udWxsO3RoaXMuYiYmKHRoaXMuYi5kZXN0cm95KCksdGhpcy5iPW51bGwpfTsKSmQucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbigpe2lmKHRoaXMuYilyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuYik7dmFyIGE9VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJmYmxzX3VzZV90aW1lbGluZV9zZWdtZW50X2luZGV4IiwhMSk7aWYoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJ1c2VfdGltZWxpbmVfc2VnbWVudF9pbmRleCIsITEpJiYodGhpcy5hLkZCSXNMaXZlVGVtcGxhdGVkfHx0aGlzLmEuRkJXYXNMaXZlfHxhKSlhPW5ldyBwZCh0aGlzLmcsdGhpcy5mLHRoaXMuZi5hLHRoaXMuaSx0aGlzLmopO2Vsc2V7Zm9yKHZhciBhPXRoaXMuZi5hLGI9b2QoYS5DLGEuc3x8MSx0aGlzLmcuZHVyYXRpb258fDAsdGhpcy5tLmdldE51bWJlcigibnVtX3ByZWRpY3RpdmVfc2VnbWVudHMiLDApLHRoaXMuYS5GQklzTGl2ZVRlbXBsYXRlZHx8dGhpcy5hLkZCV2FzTGl2ZSx0aGlzLmgpLGM9W10sZD0wO2Q8Yi5sZW5ndGg7KytkKXt2YXIgZT0KYltkXS5zdGFydCxmPWJbZF0uZW5kLGc9YltkXS51ZHx8MCxoPWJbZF0udGltZXNjYWxlZEdhcEluZm8saz1lL2EucyxsPWYvYS5zLG09ZCthLmIscD1lLG09bWQodGhpcy5pLHRoaXMuZiwwPGc/ZzptLHAsMDxnPyEwOiExLHRoaXMuaik7aWYoIW0pcmV0dXJuIGE9RXJyb3IoIkZhaWxlZCB0byBnZW5lcmF0ZSBtZWRpYSBVUkwuIiksYS50eXBlPSJkYXNoIixQcm9taXNlLnJlamVjdChhKTt2YXIgdD0oYS5MfHwwKS9hLnM7Yy5wdXNoKG5ldyBpZChrLXQsbC10LG0scCxmLWUsaHx8bnVsbCwwPGcpKX1iPXRoaXMuYS5GQklzTGl2ZVRlbXBsYXRlZHx8dGhpcy5hLkZCV2FzTGl2ZTtWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigidGVtcGxhdGVkX3VzZV9wZXJmX3Rlc3Rfc2VnbWVudF9pbmRleF9iYXNlX2ludCIsMCkmJm51bGw9PXRoaXMuaCYmdGhpcy5hLkZCSXNMaXZlVGVtcGxhdGVkPyhiPWMsYz1iLnNsaWNlKC1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigidGVtcGxhdGVkX3VzZV9wZXJmX3Rlc3Rfc2VnbWVudF9pbmRleF9iYXNlX2ludCIsCjApKSxhPW5ldyBHZChjLGIsYS5zfHwxKSk6YT1uZXcgVChjLGEuc3x8MSxiKX10aGlzLmEubWFuaWZlc3RJc0xpdmVTdHJlYW1pbmc/dGhpcy5iPW5ldyBTKGEsdGhpcy5hLHRoaXMuZyx0aGlzLm8pOnRoaXMuYj1uZXcgUihhKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuYil9O0pkLnByb3RvdHlwZS5jPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYn07SmQucHJvdG90eXBlLkVjPWZ1bmN0aW9uKGEpe3RoaXMuaD1hfTtmdW5jdGlvbiBLZCgpe3RoaXMuWD1MZCsrO3RoaXMuaWQ9dGhpcy5hYT10aGlzLk09bnVsbDt0aGlzLmE9MDt0aGlzLmhlaWdodD10aGlzLndpZHRoPXRoaXMuYmFuZHdpZHRoPW51bGw7dGhpcy5jb2RlY3M9dGhpcy5taW1lVHlwZT0iIjt0aGlzLmY9dGhpcy5mYlF1YWxpdHlDbGFzcz10aGlzLmZiUXVhbGl0eUxhYmVsPW51bGw7dGhpcy5mcmFtZVJhdGU9IiI7dGhpcy5zd2l0Y2hSZWFzb249dGhpcy5oPXRoaXMuZz10aGlzLmM9bnVsbDt0aGlzLmI9W107dGhpcy5vYT0hMTt0aGlzLmZhPSEwfXZhciBMZD0wO0tkLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5NJiYodGhpcy5NLmRlc3Ryb3koKSx0aGlzLk09bnVsbCk7dGhpcy5hYSYmKHRoaXMuYWEuZGVzdHJveSgpLHRoaXMuYWE9bnVsbCl9O2Z1bmN0aW9uIE1kKGEpe3JldHVybiBhLm1pbWVUeXBlLnNwbGl0KCIvIilbMF19CmZ1bmN0aW9uIE5kKGEpe3ZhciBiPWEubWltZVR5cGV8fCIiO2EuY29kZWNzJiYoYis9JzsgY29kZWNzPSInK2EuY29kZWNzKyciJyk7cmV0dXJuIGJ9ZnVuY3Rpb24gT2QoKXt0aGlzLlg9UGQrKzt0aGlzLmlkPW51bGw7dGhpcy5jb250ZW50VHlwZT10aGlzLmxhbmc9IiI7dGhpcy5mPXRoaXMuYj0hMTt0aGlzLmM9bnVsbDt0aGlzLnY9W107dGhpcy5hPVtdfXZhciBQZD0wO09kLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7Zm9yKHZhciBhPTA7YTx0aGlzLnYubGVuZ3RoOysrYSl0aGlzLnZbYV0uZGVzdHJveSgpO3RoaXMuYT10aGlzLnY9bnVsbH07ZnVuY3Rpb24gUWQoYSl7Zm9yKHZhciBiPVtdLGM9MDtjPGEuYS5sZW5ndGg7KytjKXt2YXIgZD1uZXcgUmQ7ZC5pZD1hLlg7ZC5hPWEuYVtjXTtkLmNvbnRlbnRUeXBlPWEuY29udGVudFR5cGU7ZC5iPWEudi5sZW5ndGg/TmQoYS52WzBdKToiIjtiLnB1c2goZCl9cmV0dXJuIGJ9CmZ1bmN0aW9uIFNkKCl7dGhpcy5pZD1udWxsO3RoaXMuc3RhcnQ9MDt0aGlzLmR1cmF0aW9uPW51bGw7dGhpcy5hPVtdfVNkLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7Zm9yKHZhciBhPTA7YTx0aGlzLmEubGVuZ3RoOysrYSl0aGlzLmFbYV0uZGVzdHJveSgpO3RoaXMuYT1udWxsfTtmdW5jdGlvbiBUZCgpe3RoaXMuQT10aGlzLmY9dGhpcy5iPSExO3RoaXMubz10aGlzLm09dGhpcy5CPTA7dGhpcy5qPXRoaXMuaT10aGlzLmM9bnVsbDt0aGlzLmc9MDt0aGlzLmE9W107dGhpcy5oPSExO3RoaXMudz0ibm9uZSI7dGhpcy51PW51bGx9VGQucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXtmb3IodmFyIGE9MDthPHRoaXMuYS5sZW5ndGg7KythKXRoaXMuYVthXS5kZXN0cm95KCk7dGhpcy5hPW51bGx9O2Z1bmN0aW9uIFJkKCl7dGhpcy5pZD0wO3RoaXMuYT1udWxsO3RoaXMuYj10aGlzLmNvbnRlbnRUeXBlPSIifTtmdW5jdGlvbiBVKGEsYixjLGQsZSxmLGcsaCxrLGwsbSxwLHQsdyl7Ri5jYWxsKHRoaXMsYSk7dGhpcy5iPWI7dGhpcy5hPWM7dGhpcy5jPW5ldyBuYihjLGQsZSxmLHRoaXMsaCx3KTt0aGlzLlBhPWg7dGhpcy5vPXt9O3RoaXMucmE9Zjt0aGlzLnlhPTA7dGhpcy5tYT10aGlzLmY9dGhpcy5nPW51bGw7dGhpcy50YT0hMTt0aGlzLnc9dGhpcy5jYT1udWxsO3RoaXMuUz0hMTt0aGlzLmphPTA7dGhpcy5rYT0hMTt0aGlzLkQ9bnVsbDt0aGlzLlo9dGhpcy5lYT10aGlzLmg9ITE7dGhpcy5PPW5ldyBJO3RoaXMuRz10aGlzLlQ9dGhpcy5CPSExO3RoaXMuUj0wO3RoaXMuZ2E9MTU7dGhpcy5HYT10aGlzLnZhPXRoaXMuVT0hMTt0aGlzLm5hPTE7dGhpcy4kPWc7dGhpcy54YT0hMTt0aGlzLmw9bnVsbDt0aGlzLkhhPSExO3RoaXMuST10aGlzLko9dGhpcy5LPW51bGw7dGhpcy5WPSExO3RoaXMudT1tfHxudWxsO3RoaXMuRj1wfHxudWxsO3RoaXMuaj10fHxudWxsO3RoaXMuWT1udWxsO3RoaXMuYmE9CiExO3RoaXMuRGE9e307dGhpcy5GYT1rO3RoaXMuaT1udWxsO3RoaXMuaWE9ITE7dGhpcy5FYT0wO3RoaXMuQ2E9ZT9lLnNwbGl0KCI7IilbMF06IiI7dGhpcy5QPSExO3RoaXMud2E9MDt0aGlzLnNhPWw7dGhpcy5BPXRoaXMubT1udWxsfXIoVSxGKTtVLnByb3RvdHlwZS5CYT1mdW5jdGlvbigpe3JldHVybntTb3VyY2VCdWZmZXJNYW5hZ2VyOnRoaXMuY319O1UucHJvdG90eXBlLmdldERlYnVnPVUucHJvdG90eXBlLkJhO2Z1bmN0aW9uIFVkKGEsYil7cmV0dXJuIG5ldyBWaWRlb1BsYXllckJpdHJhdGVFc3RpbWF0b3IobmV3IHgoYS5hLmdldE51bWJlcigibGl2ZV9iaXRyYXRlX2VzdGltYXRlc19oYWxmX2xpZmUiLDIpKSxiLGEuYS5nZXROdW1iZXIoImxpdmVfYml0cmF0ZV9lc3RpbWF0ZXNfbWluaW11bV9zYW1wbGVfY291bnQiLDEpLGEuYS5nZXROdW1iZXIoImxpdmVfYml0cmF0ZV9lc3RpbWF0ZXNfbGFyZ2Vfc2FtcGxlX3dlaWdodF9mYWN0b3IiLDEwKSl9ClUucHJvdG90eXBlLnBhPWZ1bmN0aW9uKGEpe251bGwhPWEuaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemUmJih0aGlzLlI9TnVtYmVyKGEuaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemUpKTt2YXIgYj10aGlzLmEuZ2V0TnVtYmVyKCJpbml0aWFsX3N0cmVhbV9idWZmZXJfc2l6ZV9mb3JfdmlkZW9fc3RyZWFtIiwwKTswPGImJi0xIT09dGhpcy5DYS5pbmRleE9mKCJ2IikmJih0aGlzLlI9Yik7bnVsbCE9YS5keW5hbWljU3RyZWFtQnVmZmVyU2l6ZSYmKHRoaXMuamE9TnVtYmVyKGEuZHluYW1pY1N0cmVhbUJ1ZmZlclNpemUpKTtudWxsIT1hLnNtYXJ0QnVmZmVyQWRqdXN0bWVudFBhcmFtcyYmKHRoaXMuRGE9YS5zbWFydEJ1ZmZlckFkanVzdG1lbnRQYXJhbXMpO251bGwhPWEuc21hcnRCdWZmZXJBZGp1c3RtZW50RW5hYmxlZCYmKHRoaXMuYmE9Qm9vbGVhbihhLnNtYXJ0QnVmZmVyQWRqdXN0bWVudEVuYWJsZWQpKTtudWxsIT1hLnN0cmVhbUJ1ZmZlclNpemUmJih0aGlzLmdhPU51bWJlcihhLnN0cmVhbUJ1ZmZlclNpemUpKTsKbnVsbCE9YS5maXhCdWZmZXJpbmdHb2FsRGV0ZXJtaW5hdGlvbiYmKHRoaXMuVT1Cb29sZWFuKGEuZml4QnVmZmVyaW5nR29hbERldGVybWluYXRpb24pKTtudWxsIT1hLmFkZENkbkRlYnVnUXVlcnlQYXJhbWV0ZXJzJiYodGhpcy52YT1Cb29sZWFuKGEuYWRkQ2RuRGVidWdRdWVyeVBhcmFtZXRlcnMpKTtudWxsIT1hLnVzZUluaXRpYWxCdWZmZXJTaXplV2hlblBhdXNlZCYmKHRoaXMuR2E9Qm9vbGVhbihhLnVzZUluaXRpYWxCdWZmZXJTaXplV2hlblBhdXNlZCkpO251bGwhPWEuc2VnbWVudFJlcXVlc3RUaW1lb3V0JiYodGhpcy5jLlQ9TnVtYmVyKGEuc2VnbWVudFJlcXVlc3RUaW1lb3V0KSk7bnVsbCE9YS5yZXNvbHZlVmlkZW9UaW1lVXBkYXRlT25GcmFnbWVudGVkVGltZVJhbmdlcyYmKHRoaXMueGE9Qm9vbGVhbihhLnJlc29sdmVWaWRlb1RpbWVVcGRhdGVPbkZyYWdtZW50ZWRUaW1lUmFuZ2VzKSk7bnVsbCE9YS5wZXJmb3JtYW5jZUxvZ2dlciYmKHRoaXMubD10aGlzLm8ucGVyZm9ybWFuY2VMb2dnZXI9CmEucGVyZm9ybWFuY2VMb2dnZXIpO251bGwhPWEuYWJyTG9nZ2VyJiYodGhpcy5vLmFickxvZ2dlcj1hLmFickxvZ2dlcik7bnVsbCE9YS5yZWFwcGVuZEluaXRTZWdtZW50QWZ0ZXJBYm9ydCYmKHRoaXMuby5yZWFwcGVuZEluaXRTZWdtZW50QWZ0ZXJBYm9ydD1Cb29sZWFuKGEucmVhcHBlbmRJbml0U2VnbWVudEFmdGVyQWJvcnQpKTtudWxsIT1hLmxpdmVEYXRhRmV0Y2hNYXhSZXRyaWVzJiYodGhpcy5vLmxpdmVEYXRhRmV0Y2hNYXhSZXRyaWVzPU51bWJlcihhLmxpdmVEYXRhRmV0Y2hNYXhSZXRyaWVzKSk7bnVsbCE9YS5saXZlU291cmNlQnVmZmVyQ2xlYXJNYXhSZXRyaWVzJiYodGhpcy5vLmxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXM9TnVtYmVyKGEubGl2ZVNvdXJjZUJ1ZmZlckNsZWFyTWF4UmV0cmllcykpO251bGwhPWEuc2tpcEVtcHR5U2VnbWVudHMmJih0aGlzLm8uc2tpcEVtcHR5U2VnbWVudHM9Qm9vbGVhbihhLnNraXBFbXB0eVNlZ21lbnRzKSk7bnVsbCE9CmEucGxheWhlYWRGcmFnbWVudGVkR2FwRGlmZkFsbG93YW5jZSYmKHRoaXMuby5wbGF5aGVhZEZyYWdtZW50ZWRHYXBEaWZmQWxsb3dhbmNlPU51bWJlcihhLnBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2UpKTtudWxsIT1hLnVzZU1pY3JvVGFza1RpbWVvdXRzJiYodGhpcy5IYT1Cb29sZWFuKGEudXNlTWljcm9UYXNrVGltZW91dHMpKTthPXRoaXMuYztiPXRoaXMubztudWxsIT1iLnJlYXBwZW5kSW5pdFNlZ21lbnRBZnRlckFib3J0JiYoYS5SPUJvb2xlYW4oYi5yZWFwcGVuZEluaXRTZWdtZW50QWZ0ZXJBYm9ydCkpO251bGwhPWIucGVyZm9ybWFuY2VMb2dnZXImJihhLmw9Yi5wZXJmb3JtYW5jZUxvZ2dlcik7bnVsbCE9Yi5hYnJMb2dnZXImJihhLkk9Yi5hYnJMb2dnZXIpO251bGwhPWIubGl2ZURhdGFGZXRjaE1heFJldHJpZXMmJihhLk89Yi5saXZlRGF0YUZldGNoTWF4UmV0cmllcyk7bnVsbCE9Yi5saXZlU291cmNlQnVmZmVyQ2xlYXJNYXhSZXRyaWVzJiYoYS5LPQpiLmxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXMpO251bGwhPWIucGxheWhlYWRGcmFnbWVudGVkR2FwRGlmZkFsbG93YW5jZSYmKGEuUD1iLnBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2UpO251bGwhPWIuc2tpcEVtcHR5U2VnbWVudHMmJihhLlY9Yi5za2lwRW1wdHlTZWdtZW50cyl9O1UucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXtWZCh0aGlzKTt0aGlzLk8uZGVzdHJveSgpO3RoaXMucmE9dGhpcy5nPXRoaXMuTz1udWxsO3RoaXMuYy5kZXN0cm95KCk7dGhpcy5iPXRoaXMuYz1udWxsO3RoaXMuYS5nZXRCb29sKCJmaXhpbmdfc2NoZWR1bGVyX2Rpc2FibGVfbGVha3MiLCEwKSYmKHRoaXMudT1udWxsKTt0aGlzLkphPW51bGx9O249VS5wcm90b3R5cGU7bi5XYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmd9O24uRmI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mfTsKbi5LYz1mdW5jdGlvbihhKXt0aGlzLkJ8fGEudGhlbihmdW5jdGlvbigpe3RoaXMuQj0hMDt0aGlzLnd8fFYodGhpcywwKX0uYmluZCh0aGlzKSkuY2F0Y2goZnVuY3Rpb24oKXt9KTtyZXR1cm4gdGhpcy5PfTtuLkNiPWZ1bmN0aW9uKCl7dGhpcy5HPSEwO1dkKHRoaXMpfTtuLmZiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuR307Cm4uamI9ZnVuY3Rpb24oYSxiLGMsZCxlKXtpZihhIT10aGlzLmcpe3ZhciBmPTE7dGhpcy5hLmdldEJvb2woInVzZV9saXZlX2JpdHJhdGVfZXN0aW1hdGVzIiwhMSkmJm51bGwhPT10aGlzLm0mJjA8dGhpcy5nLmJhbmR3aWR0aCYmKGY9dGhpcy5tLmdldEVzdGltYXRlKCkvdGhpcy5nLmJhbmR3aWR0aCk7dmFyIGc9YS5hYTtnJiYodGhpcy5tYT1nLmNyZWF0ZSh0aGlzLmwsdGhpcy5QYSkpO3RoaXMuWj0hMDthLk0uY3JlYXRlKCkudGhlbihKKHRoaXMsZnVuY3Rpb24oZyl7aWYodGhpcy5iKXt0aGlzLlo9ITE7dmFyIGs9dGhpcy5nO3RoaXMuZz1hO3RoaXMuYS5nZXRCb29sKCJ1c2VfbGl2ZV9iaXRyYXRlX2VzdGltYXRlcyIsITEpJiYodGhpcy5tPVVkKHRoaXMsKGEuYmFuZHdpZHRofHwwKSpmKSk7dmFyIGw9dGhpcy5mO3RoaXMuZj1nO3RoaXMuYy5EPXRoaXMuZjtsJiZsLmEuRmMoKTt1ZCh0aGlzLmYsZnVuY3Rpb24oYSl7dmFyIGI9YTt0aGlzLmomJnRoaXMuai5zZXRTZWdtZW50cyh0aGlzLmYuZ2V0U2VnbWVudHMoKSk7CnRoaXMudSYmKGE9YSYmdGhpcy5hLmdldEJvb2woIm9wdGltaXplX3N0cmVhbV9nZXRfc2VnbWVudHNfY2FsbHMiLCExKT9hOnRoaXMuZi5nZXRTZWdtZW50cygpLHRoaXMuYS5nZXRCb29sKCJ0ZW1wbGF0ZWRfdXBkYXRlX3NybV9ieV9kZWx0YV9vZl9jaGFuZ2VkX3JlZmVyZW5jZXNfYm9vbCIsITEpJiZ0aGlzLmYuSyYmYi5sZW5ndGg8dGhpcy5mLmdldFNlZ21lbnRzKCkubGVuZ3RoJiYoYT10aGlzLmYuZ2V0U2VnbWVudHMoKS5zbGljZSgtKGIubGVuZ3RoKzEpKSksWGQodGhpcyx0aGlzLmcuaWR8fCIiLGEpKX0uYmluZCh0aGlzKSk7dGhpcy5qJiZ0aGlzLmouc2V0U2VnbWVudHModGhpcy5mLmdldFNlZ21lbnRzKCkpO2lmKHRoaXMudSl7dmFyIGw9W10sbT10aGlzLmEuZ2V0TnVtYmVyKCJ0ZW1wbGF0ZWRfY2h1bmtlZF9zZWdtZW50X3VwZGF0ZV9saW1pdF9pbnQiLDApO2lmKG0pe2c9dGhpcy5mLmxlbmd0aCgpO2Zvcih2YXIgbT1NYXRoLm1pbihnLG0pLHA9MTtwPD1tOysrcClsLnB1c2godGhpcy5mLmdldChnLQpwKSl9ZWxzZSBsPWcuZ2V0U2VnbWVudHMoKTtYZCh0aGlzLGEuaWR8fCIiLGwpfXRoaXMudGE9ITA7dGhpcy5jYT1kP2Q6bnVsbDt0aGlzLlN8fCh0aGlzLmEuZ2V0Qm9vbCgibWFrZV9lYXJseV90cmFja19zZWxlY3Rpb24iLCExKSYmdGhpcy5oJiYhdGhpcy5QJiYhdGhpcy53P1YodGhpcywwKTprP2I/WWQodGhpcywhMCxjKTplJiZZZCh0aGlzLCExKTpWKHRoaXMsMCkpfX0pKS5jYXRjaChKKHRoaXMsZnVuY3Rpb24oYSl7dGhpcy5aPSExOyJhYm9ydGVkIiE9YS50eXBlJiYodGhpcy5CPyhhPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGEpKTp0aGlzLk8ucmVqZWN0KGEpKX0pKX19O24uQ2M9ZnVuY3Rpb24oYSl7cmV0dXJuIFlkKHRoaXMsISFhKX07bi5IYz1mdW5jdGlvbigpe3RoaXMua2E9ITB9O24uSmM9ZnVuY3Rpb24oYSl7dGhpcy5FYT1hfTsKZnVuY3Rpb24gWGQoYSxiLGMpe2EuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9jaHVua2VkX3NlZ21lbnRfdXBkYXRlX2xpbWl0X2ludCIsMCkmJmEudS51cGRhdGVTZWdtZW50SW5kZXgoYixhLmYpO2EuYS5nZXRCb29sKCJ1c2VfdXBkYXRlX3NlZ21lbnRzX2J5X3NoYWthX3JlZmVyZW5jZSIsITApJiZhLnUudXBkYXRlU2VnbWVudHNCeVNoYWthUmVmZXJlbmNlcyhiLGMpfQpmdW5jdGlvbiBZZChhLGIsYyl7YS5nJiYhYS5TJiYoYS5TPSEwLFZkKGEpLGEuVD0hMSxudWxsIT09YS5BJiZhLkEucmVzZXQoKSxhLmMuYWJvcnQoKS50aGVuKEooYSxmdW5jdGlvbigpe3ZhciBhPXRoaXMuYi5jdXJyZW50VGltZTt0aGlzLmEuZ2V0Qm9vbCgic2V0X2N1cnJlbnRfdGltZV9pbl9yZXN5bmMiLCExKSYmMD09YT8odGhpcy5sJiZCYW56YWlPRFMuYnVtcEVudGl0eUtleSgyOTY2LCJ2aWRlb3Mud3d3LnNoYWthIiwic2V0X2N1cnJlbnRfdGltZV9pbl9yZXN5bmMiKSxhPXRoaXMuZi5maXJzdCgpLnN0YXJ0VGltZSk6dGhpcy5hLmdldEJvb2woImJldHRlcl9zZXRfY3VycmVudF90aW1lX2luX3Jlc3luYyIsITEpJiZhPHRoaXMuZi5maXJzdCgpLnN0YXJ0VGltZSYmKEJhbnphaU9EUy5idW1wRW50aXR5S2V5KDI5NjYsInZpZGVvcy53d3cuc2hha2EiLCJzZXRfY3VycmVudF90aW1lX2luX3Jlc3luYyIpLGE9dGhpcy5mLmZpcnN0KCkuc3RhcnRUaW1lK3RoaXMuYS5nZXROdW1iZXIoInJlc3luY19zZXRfY3VycmVudF90aW1lX2Z1ZGdlX2ZhY3RvciIsCjApKTtpZighYiYmMDxyYih0aGlzLmMsYSkmJjA8PUZiKHRoaXMuYyxhKSlyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7aWYoYylyZXR1cm4gQ2IodGhpcy5jLHRoaXMuYi5jdXJyZW50VGltZStjKTt0aGlzLmlhPSEwO3JldHVybiBCYih0aGlzLmMpfSkpLnRoZW4oSihhLGZ1bmN0aW9uKCl7dGhpcy5TPSExO1YodGhpcywwKX0pKS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7dGhpcy5TPSExOyJhYm9ydGVkIiE9YS50eXBlJiYodGhpcy5CPyhhPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGEpKTp0aGlzLk8ucmVqZWN0KGEpKX0pKSl9bi5JYz1mdW5jdGlvbihhKXtyZXR1cm4gMDxyYih0aGlzLmMsYSkmJjA8PUZiKHRoaXMuYyxhKX07bi52Yj1mdW5jdGlvbigpe307bi5EYj1mdW5jdGlvbigpe3JldHVybiEwfTsKZnVuY3Rpb24gWmQoYSl7YS5lYT1hLmVhfHwhYS5iLnBhdXNlZDthLmIucGF1c2VkfHxhLmJhfHwoYS5ZPURhdGUubm93KCksYS5iYT0hMCk7dmFyIGI9YS5EYSxjPW51bGw7aWYoYi5pbkV4cGVyaW1lbnQpaWYoYi51c2VTbWFydEJ1ZmZlcmluZyl7aWYoYS5iYSYmYS5ZKXt2YXIgYz0oRGF0ZS5ub3coKS1hLlkpLzFFMyxkPW51bGw7MT5jP2M9bnVsbDooZD0zPmM/Yi5idWZmZXJTaXplXzAwX3RvXzAzOjEwPmM/Yi5idWZmZXJTaXplXzAzX3RvXzEwOjMwPmM/Yi5idWZmZXJTaXplXzEwX3RvXzMwOjYwPmM/Yi5idWZmZXJTaXplXzMwX3RvXzYwOmIuYnVmZmVyU2l6ZV9hYm92ZV82MCxjPU1hdGgubWluKGQsYS5iLmR1cmF0aW9uKSl9fWVsc2UgYS5ZJiYoYz1iLm5vblNtYXJ0QnVmZmVyU2l6ZSk7Y3x8KGM9YS5HYSYmYS5iLnBhdXNlZD9hLlI6YS5nYSxhLmIucGF1c2VkJiYxPGEubmEmJihjKj1hLm5hKSxhLmphJiYhYS5iLnBhdXNlZCYmKGM9TWF0aC5tYXgoTWF0aC5taW4oYS5mLmxhc3QoKS5lbmRUaW1lLQphLmIuY3VycmVudFRpbWUsYS5qYSksYS5nYSkpKTtjPShhLlU/YS5oJiZhLmVhOmEuaCk/TWF0aC5tYXgoYS5SLGMpOmEuUjswPGEuYS5nZXROdW1iZXIoImF1ZGlvX3ZpZGVvX2J1ZmZlcl9kaWZmX3RocmVzaG9sZCIsMTQ0MDApJiYoYj1hLmIuYnVmZmVyZWQubGVuZ3RoP2EuYi5idWZmZXJlZC5lbmQoYS5iLmJ1ZmZlcmVkLmxlbmd0aC0xKTowLGI9TWF0aC5tYXgoMCxiLWEuYi5jdXJyZW50VGltZSksYz1NYXRoLm1pbihjLGIrYS5hLmdldE51bWJlcigiYXVkaW9fdmlkZW9fYnVmZmVyX2RpZmZfdGhyZXNob2xkIiwxNDQwMCkpKTtyZXR1cm4gY30KZnVuY3Rpb24gJGQoYSl7dmFyIGI9YS5hLmdldE51bWJlcigic3RhcnRfc3RyZWFtX2J1ZmZlcl9zaXplIiwxKSxjPWEuYS5nZXROdW1iZXIoImxvd19zdGFydF9zdHJlYW1fYnVmZmVyX3NpemUiLDEpO2lmKGIhPT1jKXt2YXIgZD1hLmEuZ2V0TnVtYmVyKCJsb3dfYmFuZHdpZHRoX3N0YXJ0X3N0cmVhbV9idWZmZXJfc2l6ZV90aHJlc2hvbGQiLDApLGU9YS5hLmdldE51bWJlcigic2NoZWR1bGVkX3ZpZGVvc19zdGFydF9zdHJlYW1fYnVmZmVyX3NpemVfdGhyZXNob2xkIiwwKTtpZigwPGQmJmEucmEuZ2V0QmFuZHdpZHRoKCk8ZCYmVmlkZW9TdHJlYW1pbmdUYXNrUXVldWVQcm92aWRlci5nZXRRdWV1ZVNpemUoInZpZGVvIik+PWUpcmV0dXJuIGN9cmV0dXJuIGJ9ZnVuY3Rpb24gYWUoYSxiKXtyZXR1cm4gcmIoYS5jLGEuaD9iOmIrKGEuRHx8MCkpfQpmdW5jdGlvbiBiZShhKXtpZihhLmgmJiFhLkJ8fGEuYS5nZXRCb29sKCJtYWtlX2Vhcmx5X3RyYWNrX3NlbGVjdGlvbiIsITEpJiZhLlp8fGEuYS5nZXRCb29sKCJwcmV2ZW50X2ZldGNoX3doaWxlX2ZldGNoaW5nX2luX3N0cmVhbSIsITEpJiZhLlApcmV0dXJuIGEudz1udWxsLFByb21pc2UucmVzb2x2ZSgpO3ZhciBiO2lmKGI9YS5CJiYhYS5HKWI9MTxhLmMuYS5idWZmZXJlZC5sZW5ndGg/ITA6ITE7aWYoYiYmKGEua2F8fEhiKGEuYyxhLmIpKSlyZXR1cm4gYS54YSYmKGEuYi5jdXJyZW50VGltZT1HYihhLmIpKSxudWxsPT09YS5LJiYoYS5rYT0hMSxZZChhLCEwKSksUHJvbWlzZS5yZXNvbHZlKCk7YS5hLmdldE51bWJlcigiZGVjb3VwbGVfc3RyZWFtX29uX3VwZGF0ZV9sb29wX2Zyb21fcmVxdWVzdF9sb29wX2ludCIsMCl8fChhLnc9bnVsbCk7Yj1hLmc7dmFyIGM9YS5mLGQ9YS5iLmN1cnJlbnRUaW1lO2EuYS5nZXRCb29sKCJ1c2VfcGVuZGluZ19zZWVrX3Bvc2l0aW9uX2Zvcl9yZWZlcmVuY2UiLAohMSkmJjA9PT1hLmIucmVhZHlTdGF0ZSYmIWQmJmEuSiYmKGQ9YS5KKTtpZihhLlUmJiFhLmgmJmFlKGEsZCk+PSRkKGEpKXJldHVybiBhLmEuZ2V0Qm9vbCgiZml4X2Nocm9tZV9tc2VfcmVncmVzc2lvbiIsITEpJiYxPT09YS5iLnJlYWR5U3RhdGUmJjA8YS5iLmJ1ZmZlcmVkLmxlbmd0aCYmKGEuYi5jdXJyZW50VGltZT1hLmIuY3VycmVudFRpbWUpLGNlKGEpLFYoYSwwKSxQcm9taXNlLnJlc29sdmUoKTt2YXIgZT1udWxsLGY9W107bnVsbCE9PWEuSyYmKGQ9YS5LKTtpZihhZShhLGQpPj1aZChhKSlpZihhLlQ9ITAsbnVsbCE9PWEuSSYmYS5JLnJlc29sdmUoKSxhLlV8fGNlKGEpLGY9ZGUoYSk/amUoYSxkKTpbXSwwPGYubGVuZ3RoKWU9ZlswXTtlbHNlIHJldHVybiBWKGEsMUUzLyg1KihNYXRoLmFicyhhLmIucGxheWJhY2tSYXRlKXx8MSkpKSxQcm9taXNlLnJlc29sdmUoKTtlbHNle3ZhciBnPTE7YS5qJiYoZz1hLmouZ2V0TnVtYmVyT2ZTZWdtZW50cygpKTt2YXIgaD1xYihhLmMpOwphLlYmJihoPW51bGwsbnVsbCE9PWEuSyYmKGEuVj0hMSkpO2EuYS5nZXRCb29sKCJmaW5kX2xhc3RfaW5zZXJ0ZWRfc2VnbWVudF9pbl9zZWdtZW50X2luZGV4IiwhMSkmJmgmJiFjLmEuYSYmKGg9Yy5maW5kKGguc3RhcnRUaW1lKSk7YS5hLmdldEJvb2woInNldF9wZW5kaW5nX3NlZWtfb25fc2V0X2N1cnJlbnRfdGltZV9mYWlsdXJlIiwhMSkmJm51bGwhPWEuSiYmKGQ9YS5KLGEuSj1udWxsKTtnPWtlKGEsZCxjLGcsaCk7ZT1nWzBdO2EuaiYmKGEuai5zZXRGdXR1cmVTZWdtZW50cyhnKSxhLmouc2V0QnVmZmVyaW5nR29hbChaZChhKS1hZShhLGQpKSk7IWUmJmRlKGEpJiYoZj1qZShhLGQpLDA8Zi5sZW5ndGgmJihlPWZbMF0pKX1pZighZSlyZXR1cm4gY2UoYSksYS5CJiYhYS5HJiYoYS5HPSEwLFdkKGEpKSxWKGEsMjAwKSxQcm9taXNlLnJlc29sdmUoKTthLmEuZ2V0Qm9vbCgiY3JlYXRlX293bl9zZWdtZW50X3JlZmVyZW5jZV9mb3Jfc2JtIiwhMSkmJihlPWpkKGUsZS5zdGFydFRpbWUsCmUuZW5kVGltZSkpO2xlKGEsbWUoYSxkLGYpLGIuaWR8fCIiKTtuZShhLG1lKGEsZCxmKSk7YS5hLmdldEJvb2woInJlZnJlc2hfc2VnbWVudF9yZWZlcmVuY2VfZmFpbG92ZXJfdXJpIiwhMCkmJihlLnVybD1lLnVybC5jbG9uZSgpKTthLlA9ITA7YS53YT1EYXRlLm5vdygpOyJ2aWRlbyI9PT1iLm1pbWVUeXBlLnNwbGl0KCIvIilbMF0mJmEucmEuc2V0UmVwcmVzZW50YXRpb25JRChiLmlkKTtjPWEuYy5mZXRjaChlLGMucyxiLmErYS5FYSxhLm1hLGEudmEmJiFhLmIucGF1c2VkLDA8Zi5sZW5ndGgsYS51LGEuRik7Yz1jLnRoZW4oSihhLGZ1bmN0aW9uKGEpe3RoaXMuYS5nZXRCb29sKCJ1cGRhdGVzX3ByaW9yaXR5X29uX2ZldGNoX2NvbXBsZXRlIiwhMSkmJm5lKHRoaXMsbWUodGhpcyxkLFtdKSk7dGhpcy5zYS5pbmZvcm1OZXR3b3JrUmVzdW1lZCgpO3JldHVybiBhfSkpO2EuJCYmInZpZGVvIj09PWIubWltZVR5cGUuc3BsaXQoIi8iKVswXSYmYS4kLmFkZChlLnN0YXJ0VGltZXx8CjAsZS5lbmRUaW1lfHwwLHtpZDpiLmlkLHJlYXNvbjphLmNhLHBlcmZvcm1hbmNlTG9nZ2VyOmEubD9hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJzdHJlYW1fc3dpdGNoIik6bnVsbH0pO2EubWE9bnVsbDthLnRhJiYoYS50YT0hMSxmPWEuY2EsYS5jYT1udWxsLG9lKGEsYixmLGEubGEoKSkpO2EuRz0hMTtyZXR1cm4gYy50aGVuKEooYSxmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5hLmdldEJvb2woImNsZWFyX29sZF9idWZmZXIiLCExKT9FYih0aGlzLmMsdGhpcy5iLmN1cnJlbnRUaW1lKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGF9KTphfSkpLnRoZW4oSihhLGZ1bmN0aW9uKGEpe3ZhciBiPWEuVyxjPWEuV2M7dGhpcy5ofHwodGhpcy55YT1jKTt0aGlzLmEuZ2V0Qm9vbCgidXNlX2xpdmVfYml0cmF0ZV9lc3RpbWF0ZXMiLCExKSYmbnVsbCE9YSYmMDxhLkRjJiYwPGEuSCYmKG51bGw9PT10aGlzLm0mJih0aGlzLm09VWQodGhpcyx0aGlzLmcuYmFuZHdpZHRofHwwKSksdGhpcy5tLnNhbXBsZSg4KgphLkRjLGEuSCkpO2E9dGhpcy5hLmdldE51bWJlcigiYnVmZmVyX3ZlbG9jaXR5X3RpbWVfaW5fcGFzdF90b19jb25zaWRlciIsMCk7MDxhJiZudWxsIT09dGhpcy5nJiYidmlkZW8iPT09TWQodGhpcy5nKSYmKG51bGw9PT10aGlzLkEmJih0aGlzLkE9bmV3IEJ1ZmZlclZlbG9jaXR5KGEpKSx0aGlzLkEucmVjb3JkQnVmZmVyQWhlYWQocmIodGhpcy5jLHRoaXMuYi5jdXJyZW50VGltZSkpKTt0aGlzLlA9ITE7InZpZGVvIj09PSh0aGlzLmc/dGhpcy5nLm1pbWVUeXBlLnNwbGl0KCIvIilbMF06bnVsbCkmJnRoaXMuZGlzcGF0Y2hFdmVudCh5KHt0eXBlOiJmZXRjaF9lbmQiLGJ1YmJsZXM6ITAsZGV0YWlsOntzdHJlYW1fZmV0Y2hfdGltZV9tczpEYXRlLm5vdygpLXRoaXMud2Esc2VnbWVudF9sZW5ndGhfbXM6MUUzKihlLmVuZFRpbWUtZS5zdGFydFRpbWUpfX0pKTtudWxsPT10aGlzLkQmJih0aGlzLkQ9Yik7dGhpcy5pYSYmMDxyYih0aGlzLmMsZCkmJih0aGlzLmlhPSExLHRoaXMuYS5nZXRCb29sKCJkaXNhYmxlX251ZGdlIiwKITEpfHwoYj15KHt0eXBlOiJzaG91bGRfbnVkZ2UifSksdGhpcy5kaXNwYXRjaEV2ZW50KGIpKSk7Vih0aGlzLDApfSkpLmNhdGNoKEooYSxmdW5jdGlvbihhKXt0aGlzLlA9ITE7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfSkpfWZ1bmN0aW9uIG1lKGEsYixjKXt2YXIgZD1hLmg/YjpiKyhhLkR8fDApO3JldHVybnthZGRpdGlvbmFsU2VnbWVudHNSZXF1aXJlZDpjLHBsYXloZWFkOmIsYnVmZmVyU3RhcnQ6ZCxidWZmZXJFbmQ6YWUoYSxiKStkLGJ1ZmZlcmluZ0dvYWw6WmQoYSksaXNQbGF5aW5nOiFhLmIucGF1c2VkfX1mdW5jdGlvbiBsZShhLGIsYyl7YS51JiZhLnUudXBkYXRlUGxheWVyU3RhdGUoYyxiKX1mdW5jdGlvbiBuZShhLGIpe2EuRiYmYS5GLnVwZGF0ZVBsYXllclN0YXRlKGIpfQpmdW5jdGlvbiBwZShhLGIsYyl7dmFyIGQ9bnVsbCE9PWEuaSYmLTE8YS5pJiZhLmk8Yy5sZW5ndGgoKS0xP2MuZ2V0KGEuaSk6bnVsbCxlPW51bGw7aWYobnVsbD09PWEuaXx8IWR8fGQuc3RhcnRUaW1lPmIpcmV0dXJuIGU9Yy5maW5kSW5kZXgoYiksYS5pPWU7Zm9yKGQ9YS5pO2Q8PWEuaSsxO2QrKylpZihlPWMuZ2V0KGQpLGUuc3RhcnRUaW1lPD1iJiZlLmVuZFRpbWU+YilyZXR1cm4gYS5pPWQ7ZT1jLmZpbmRJbmRleChiKTtyZXR1cm4oYS5pPWUpfHwtMX1mdW5jdGlvbiBkZShhKXtyZXR1cm4gYS5hLmdldEJvb2woInJlcGxhY2VfbG93ZXJfcXVhbGl0eV9idWZmZXIiLCExKSYmbnVsbD09PWEuRiYmYS5lYSYmbnVsbCE9PWEuJCYmInZpZGVvIj09PU1kKGEuZykmJm51bGwhPT1hLmZ9CmZ1bmN0aW9uIGplKGEsYil7aWYoIWEuRmF8fCFhLmcuaWR8fCFhLmYpcmV0dXJuW107dmFyIGM9cGUoYSxiLGEuZik7cmV0dXJuLTE9PT1jP1tdOkJ1ZmZlclJlcGxhY2VtZW50SGVscGVyLmdldFNlZ21lbnRzVG9SZXBsYWNlTG93ZXJRdWFsaXR5KGEuZi5nZXRTZWdtZW50cygpLGIsYyxhLmcuaWQsYS5GYSxhLiQse3RocmVzaG9sZEJlZm9yZTphLmEuZ2V0TnVtYmVyKCJidWZmZXJfcmVwbGFjZW1lbnRfYmVoaW5kX3RocmVzaG9sZCIsNSksdGhyZXNob2xkQWZ0ZXI6YS5hLmdldE51bWJlcigiYnVmZmVyX3JlcGxhY2VtZW50X2FoZWFkX3RocmVzaG9sZCIsMTUpLHdyYXBSZXBsYWNlbWVudFBhc3RFbmQ6YS5hLmdldEJvb2woIndyYXBfcmVwbGFjZW1lbnRfcGFzdF9lbmQiLCExKX0pfQpuLnpjPWZ1bmN0aW9uKCl7dmFyIGE7aWYodGhpcy5sKXt2YXIgYj10aGlzLmEuZ2V0TnVtYmVyKCJzdHJlYW1fb251cGRhdGVfc2FtcGxpbmciLDApO2ImJjA9PT1NYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqYikmJihhPXRoaXMubC5nZXRPcGVyYXRpb25Mb2dnZXIoInN0cmVhbV9vbnVwZGF0ZSIpLnN0YXJ0KCkpfXZhciBjO3RoaXMuYS5nZXROdW1iZXIoImRlY291cGxlX3N0cmVhbV9vbl91cGRhdGVfbG9vcF9mcm9tX3JlcXVlc3RfbG9vcF9pbnQiLDApJiZWKHRoaXMsdGhpcy5hLmdldE51bWJlcigiZGVjb3VwbGVfc3RyZWFtX29uX3VwZGF0ZV9sb29wX2Zyb21fcmVxdWVzdF9sb29wX2ludCIsMCkpO2lmKHRoaXMuYS5nZXRCb29sKCJjYXRjaF9zdHJlYW1fdXBkYXRlX3N5bmNfY29kZV9lcnJvciIsITEpKXRyeXtjPWJlKHRoaXMpfWNhdGNoKGQpe2QudHlwZT0idW5jYXVnaHQiLGEmJmEuc2V0RXJyb3IoZCksYz1Qcm9taXNlLnJlamVjdChkKX1lbHNlIGM9YmUodGhpcyk7Yy5jYXRjaChKKHRoaXMsCmZ1bmN0aW9uKGEpe2lmKCJhYm9ydGVkIiE9YS50eXBlKXtpZigic291cmNlYnVmZmVyX2Z1bGwiPT09YS50eXBlKXJldHVybiBCYih0aGlzLmMpLnRoZW4oSih0aGlzLGZ1bmN0aW9uKCl7Vih0aGlzLDApfSkpO3ZhciBiPVswLDQwNCw0MTAsNTAyLDUwMyw1MDRdO3RoaXMuYS5nZXRCb29sKCJlbmFibGVfZG91YmxlX2luZ2VzdCIsITEpJiZiLnB1c2goNDE3LDIwMCk7Yj0tMT09PWIuaW5kZXhPZihhLnN0YXR1cyk7aWYoIm5ldCI9PT1hLnR5cGUmJiFiJiZ0aGlzLmcpaWYodGhpcy5hLmdldEJvb2woImFsbG93X2luZmluaXRlX3JldHJ5X29uX25ldF9lcnIiLCEwKSlzd2l0Y2goYS5zdGF0dXMpe2Nhc2UgNDA0OlYodGhpcywyRTMpO2JyZWFrO2Nhc2UgNDEwOnRoaXMuYS5nZXRCb29sKCJlbmRfYWxsX3N0cmVhbXNfb25fNDEwIiwhMSk/cWUodGhpcyk6dGhpcy5DYigpO2JyZWFrO2Nhc2UgNDE3OmNhc2UgMjAwOmEucmVzcG9uc2VIZWFkZXJzJiZudWxsIT1hLnJlc3BvbnNlSGVhZGVyc1sieC1mYi12aWRlby1yZXBsaWNhIl0/CnRoaXMuZGlzcGF0Y2hFdmVudCh5KHt0eXBlOiJyZXBsaWNhc3dpdGNoIixidWJibGVzOiEwLHJlcGxpY2E6YS5yZXNwb25zZUhlYWRlcnNbIngtZmItdmlkZW8tcmVwbGljYSJdLHVybDphLnVybCxzdGF0dXM6YS5zdGF0dXN9KSk6Yj0hMDticmVhaztkZWZhdWx0OlYodGhpcywxRTMpfWVsc2UgVih0aGlzLDFFMyksYj0hMDswPT09YS5zdGF0dXM/dGhpcy5zYS5pbmZvcm1OZXR3b3JrSW50ZXJydXB0ZWQoKTp0aGlzLnNhLmluZm9ybU5ldHdvcmtSZXN1bWVkKCk7aWYoIXRoaXMuYS5nZXRCb29sKCJhbGxvd19pbmZpbml0ZV9yZXRyeV9vbl9uZXRfZXJyIiwhMCl8fGIpYj1BKGEpLHRoaXMuZGlzcGF0Y2hFdmVudChiKSx0aGlzLmwmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgYj10aGlzLmwuZ2V0RXZlbnRMb2dnZXIoInN0cmVhbV9lcnJvcl9mYWxsYmFjayIpLnNldEVycm9yKGEpLnNldFR5cGUodGhpcy5DYS5zcGxpdCgiLyIpWzBdKTt0aGlzLmI/Yi5zZXRSZXN1bHQoImZhaWxlZCIpOgpiLnNldFJlc3VsdCgic3VjY2VzcyIpO2IubG9nKCl9LmJpbmQodGhpcyksMCl9fSkpO2EmJmEubG9nKCl9O2Z1bmN0aW9uIGtlKGEsYixjLGQsZSl7dmFyIGY9LTE7aWYoYS5hLmdldEJvb2woInRlbXBsYXRlZF9mYXN0ZXJfc3RyZWFtX2dldF9uZXh0X24iLCExKSYmMT09PWQmJm51bGwhPWUmJm51bGwhPWUuZW5kVGltZSlyZXR1cm4oYz1jLmZpbmQoZS5lbmRUaW1lKSk/W2NdOltdO251bGwhPWU/Zj1udWxsIT1lLmVuZFRpbWU/Yy5maW5kSW5kZXgoZS5lbmRUaW1lKTotMTooZj1wZShhLGIsYyksMD5mJiYoZj1jLmxlbmd0aCgpP2MubGVuZ3RoKCktMTotMSkpO2E9W107aWYoMDw9Zilmb3IoYj1mO2I8ZitkJiZiPGMubGVuZ3RoKCk7YisrKWEucHVzaChjLmdldChiKSk7cmV0dXJuIGF9CmZ1bmN0aW9uIGNlKGEpe2lmKCFhLmgmJm51bGwhPWEuRCl7YS5oPSEwO3ZhciBiPWEuYyxjPWEuRCxkPWMtYi5VOzAhPWQmJihiLmI9a2QoYi5iLGQpLGIuVT1jKTthLk8ucmVzb2x2ZShhLkQpfX1uLkVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaH07VS5wcm90b3R5cGUuaGFzU3RhcnRlZD1VLnByb3RvdHlwZS5FZDtVLnByb3RvdHlwZS5rYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLlR9O1UucHJvdG90eXBlLmhhc0hpdEJ1ZmZlcmluZ0dvYWw9VS5wcm90b3R5cGUua2I7VS5wcm90b3R5cGUubGE9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09PXRoaXMubT9udWxsOnRoaXMubS5nZXRFc3RpbWF0ZSgpfTtVLnByb3RvdHlwZS5nZXRCaXRyYXRlRXN0aW1hdGU9VS5wcm90b3R5cGUubGE7VS5wcm90b3R5cGUucWI9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09PXRoaXMuQT9udWxsOnRoaXMuQS5nZXRWZWxvY2l0eSgpfTtVLnByb3RvdHlwZS5nZXRCdWZmZXJWZWxvY2l0eT1VLnByb3RvdHlwZS5xYjsKZnVuY3Rpb24gb2UoYSxiLGMsZCl7dmFyIGU9Yi5taW1lVHlwZS5zcGxpdCgiLyIpWzBdO2I9eSh7dHlwZToiYWRhcHRhdGlvbiIsaWQ6Yi5pZCxidWJibGVzOiEwLGNvbnRlbnRUeXBlOmUsc2l6ZToidmlkZW8iIT1lP251bGw6e3dpZHRoOmIud2lkdGgsaGVpZ2h0OmIuaGVpZ2h0fSxiYW5kd2lkdGg6ZHx8Yi5iYW5kd2lkdGgscmVhc29uOmN9KTthLmRpc3BhdGNoRXZlbnQoYil9ZnVuY3Rpb24gcWUoYSl7dmFyIGI9eSh7dHlwZToic2hvdWxkX2VuZF9hbGxfc3RyZWFtcyJ9KTthLmRpc3BhdGNoRXZlbnQoYil9ZnVuY3Rpb24gV2QoYSl7dmFyIGI9eSh7dHlwZToiZW5kZWQifSk7YS5kaXNwYXRjaEV2ZW50KGIpfVUucHJvdG90eXBlLk9hPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuRn07VS5wcm90b3R5cGUuZ2V0VmlkZW9TdHJlYW1pbmdNYW5hZ2VyPVUucHJvdG90eXBlLk9hOwpmdW5jdGlvbiBWKGEsYil7VmQoYSk7IWImJmEuSGE/UHJvbWlzZS5yZXNvbHZlKCkudGhlbihhLnpjLmJpbmQoYSkpOmEudz1zZXRUaW1lb3V0KGEuemMuYmluZChhKSxiKX1mdW5jdGlvbiBWZChhKXtudWxsIT1hLncmJihjbGVhclRpbWVvdXQoYS53KSxhLnc9bnVsbCl9VS5wcm90b3R5cGUuc2I9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy55YX07VS5wcm90b3R5cGUuZ2I9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jLml9O1UucHJvdG90eXBlLmdldFN0cmVhbVByb2dyZXNzVHJhY2tlcj1VLnByb3RvdHlwZS5nYjtmdW5jdGlvbiByZShhLGIpe2EuSz1iO2EuVj0hMDthLkl8fChhLkk9bmV3IEkpO3JldHVybiBhLkl9O2Z1bmN0aW9uIHNlKGEpe3RoaXMuYj1hO3RoaXMuYT1udWxsfXNlLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5hJiYodGhpcy5hLmRlc3Ryb3koKSx0aGlzLmE9bnVsbCl9O3NlLnByb3RvdHlwZS5jcmVhdGU9ZnVuY3Rpb24oKXtpZih0aGlzLmEpcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLmEpO3ZhciBhPW5ldyBpZCgwLG51bGwsdGhpcy5iLDAsMCksYT1uZXcgVChbYV0sMSk7dGhpcy5hPW5ldyBSKGEpO3JldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5hKX07c2UucHJvdG90eXBlLmM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hfTtmdW5jdGlvbiB0ZShhLGIpe0YuY2FsbCh0aGlzLGEpO3RoaXMuYj1iO3RoaXMuaj0hMDt0aGlzLm09dGhpcy5nPW51bGw7dGhpcy5mPW5ldyBJO3RoaXMuYT1udWxsfXIodGUsRik7dGUucHJvdG90eXBlLnBhPWZ1bmN0aW9uKCl7fTt0ZS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuYSYmdGhpcy5iLnJlbW92ZUNoaWxkKHRoaXMuYSk7dGhpcy5mLmRlc3Ryb3koKTt0aGlzLkphPXRoaXMuYj10aGlzLmc9dGhpcy5tPXRoaXMuYT10aGlzLmY9bnVsbH07bj10ZS5wcm90b3R5cGU7bi5XYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmd9O24uRmI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tfTtuLktjPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZn07bi5mYj1mdW5jdGlvbigpe3JldHVybiEwfTtuLkNiPWZ1bmN0aW9uKCl7fTsKbi5qYj1mdW5jdGlvbihhKXthLk0uY3JlYXRlKCkudGhlbihKKHRoaXMsZnVuY3Rpb24oYil7aWYodGhpcy5iKXtpZigwPT1iLmxlbmd0aCgpKXJldHVybiBQcm9taXNlLnJlamVjdChFcnJvcigiTm8gc3VidGl0bGVzIFVSTCBhdmFpbGFibGUuIikpO3ZhciBjPXRoaXMuZzt0aGlzLmc9YTt0aGlzLm09YjtiPWIuZmlyc3QoKS51cmwuY1swXS50b1N0cmluZygpO3ZhciBkPXRoaXMuRGIoKTt0aGlzLmEmJih0aGlzLnZiKCExKSx0aGlzLmIucmVtb3ZlQ2hpbGQodGhpcy5hKSk7dGhpcy5hPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRyYWNrIik7dGhpcy5iLmFwcGVuZENoaWxkKHRoaXMuYSk7dGhpcy5hLnNyYz1iO3RoaXMudmIoZCk7Yj15KHt0eXBlOiJhZGFwdGF0aW9uIixidWJibGVzOiEwLGNvbnRlbnRUeXBlOiJ0ZXh0IixzaXplOm51bGwsYmFuZHdpZHRoOmEuYmFuZHdpZHRofSk7dGhpcy5kaXNwYXRjaEV2ZW50KGIpO2N8fHRoaXMuZi5yZXNvbHZlKDApfX0pKX07bi5DYz1mdW5jdGlvbigpe307Cm4uSGM9ZnVuY3Rpb24oKXt9O24uSWM9ZnVuY3Rpb24oKXtyZXR1cm4hMH07bi52Yj1mdW5jdGlvbihhKXt0aGlzLmo9YTt0aGlzLmEmJih0aGlzLmEudHJhY2subW9kZT1hPyJzaG93aW5nIjoiZGlzYWJsZWQiKX07bi5EYj1mdW5jdGlvbigpe3RoaXMuYSYmKHRoaXMuaj0ic2hvd2luZyI9PXRoaXMuYS50cmFjay5tb2RlKTtyZXR1cm4gdGhpcy5qfTtuLnNiPWZ1bmN0aW9uKCl7cmV0dXJuIDB9O24uSmM9ZnVuY3Rpb24oKXt9O2Z1bmN0aW9uIHVlKCl7fQp1ZS5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9bnVsbDt0cnl7dmFyIGY7dmFyIGc9bmV3IElhKGIpO2lmKDQ0MDc4Njg1MSE9S2EoZykuaWQpZj1udWxsO2Vsc2V7dmFyIGg9S2EoZyk7aWYoNDA4MTI1NTQzIT1oLmlkKWY9bnVsbDtlbHNle3ZhciBrPWguYS5ieXRlT2Zmc2V0LGw7dmFyIG09bmV3IElhKGguYSk7Zm9yKGI9bnVsbDtEYShtLmEpOyl7dmFyIHA9S2EobSk7aWYoMzU3MTQ5MDMwPT1wLmlkKXtiPXA7YnJlYWt9fWlmKGIpe2Zvcih2YXIgdD1uZXcgSWEoYi5hKSxwPTFFNixtPW51bGw7RGEodC5hKTspe3ZhciB3PUthKHQpO2lmKDI4MDc3Mjk9PXcuaWQpcD1PYSh3KTtlbHNlIGlmKDE3NTQ1PT13LmlkKWlmKGI9dyw0PT1iLmEuYnl0ZUxlbmd0aCltPWIuYS5nZXRGbG9hdDMyKDApO2Vsc2UgaWYoOD09Yi5hLmJ5dGVMZW5ndGgpbT1iLmEuZ2V0RmxvYXQ2NCgwKTtlbHNlIHRocm93IG5ldyBSYW5nZUVycm9yKCJFYm1sRWxlbWVudDogZmxvYXRpbmcgcG9pbnQgbnVtYmVycyBtdXN0IGJlIDQgb3IgOCBieXRlcy4iKTt9bnVsbD09Cm0/bD1udWxsOih0PXAvMUU5LGw9e0diOnQsZHVyYXRpb246bSp0fSl9ZWxzZSBsPW51bGw7Zj1sP3tBZDprLEdiOmwuR2IsZHVyYXRpb246bC5kdXJhdGlvbn06bnVsbH19aWYoZil7dmFyIHo9S2EobmV3IElhKGEpKTtpZig0NzUyNDk1MTUhPXouaWQpZT1udWxsO2Vsc2V7dmFyIEg9Zi5BZCxkYT1mLkdiLGVhPWYuZHVyYXRpb247YT1bXTtmb3IodmFyIEFhPW5ldyBJYSh6LmEpLGs9Zj16PS0xO0RhKEFhLmEpOyl7dmFyIGNiPUthKEFhKTtpZigxODc9PWNiLmlkKXt2YXIgbmE7dmFyIHZkPW5ldyBJYShjYi5hKSx3ZD1LYSh2ZCk7aWYoMTc5IT13ZC5pZCluYT1udWxsO2Vsc2V7dmFyIFllPU9hKHdkKSx4ZD1LYSh2ZCk7aWYoMTgzIT14ZC5pZCluYT1udWxsO2Vsc2V7dmFyIGVlPW5ldyBJYSh4ZC5hKTtmb3IobD0wO0RhKGVlLmEpOyl7dmFyIGZlPUthKGVlKTtpZigyNDE9PWZlLmlkKXtsPU9hKGZlKTticmVha319bmE9e3piOlllLHlkOmx9fX1pZihuYSl7dmFyIGdlPWRhKm5hLnpiLApoZT1IK25hLnlkO2lmKDA8PXope3ZhciBOYz1uZXcgSyhkLGMsayxoZS0xKSxBZj1uYS56Yi1mO2EucHVzaChuZXcgaWQoeixnZSxOYyxuYS56YixBZikpfXo9Z2U7Zj1uYS56YjtrPWhlfX19MDw9eiYmKE5jPW5ldyBLKGQsYyxrLG51bGwpLGEucHVzaChuZXcgaWQoeixlYSxOYyxmLGVhL2RhLWYpKSk7ZT1hfX1lbHNlIGU9bnVsbH1jYXRjaChpZSl7aWYoIShpZSBpbnN0YW5jZW9mIFJhbmdlRXJyb3IpKXRocm93IGllO31yZXR1cm4gZX07ZnVuY3Rpb24gdmUoYSxiLGMsZCxlLGYsZyxoLGssbCxtKXt0aGlzLmg9YTt0aGlzLm89Yjt0aGlzLmI9Yzt0aGlzLm09bHx8bnVsbDt0aGlzLmo9bXx8bnVsbDt0aGlzLmE9ZDt0aGlzLmc9ZTt0aGlzLmY9Zjt0aGlzLnc9Zzt0aGlzLlJhPW51bGw7dGhpcy5pPWg7dGhpcy5sPWt8fG51bGw7dGhpcy51PW51bGx9dmUucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmk9dGhpcy5vPXRoaXMuaD1udWxsO3RoaXMuYS5LYSgpO3RoaXMuYT1udWxsO3RoaXMuZiYmKHRoaXMuZi5LYSgpLHRoaXMuZj1udWxsKTt0aGlzLmcmJih0aGlzLmcuS2EoKSx0aGlzLmc9bnVsbCk7dGhpcy5SYT1udWxsfTt2ZS5wcm90b3R5cGUuUWM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5SYX07dmUucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbigpe3JldHVybiB3ZSh0aGlzKX07dmUucHJvdG90eXBlLnBiPWZ1bmN0aW9uKCl7cmV0dXJuIHdlKHRoaXMpfTsKZnVuY3Rpb24gd2UoYSl7aWYoYS5SYSlyZXR1cm4gYS5SYTt2YXIgYj1udWxsO2EubCYmKGI9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigiY3JlYXRlX2NvbnRhaW5lcl9zZWdtZW50X2luZGV4X3NvdXJjZSIpLnN0YXJ0KCkpO2lmKG51bGwhPT1hLm0mJihudWxsIT09YS5qfHwid2VibSIhPT1hLmIpKXJldHVybiB4ZShhLGEubSxhLmosYik7dmFyIGM9W2EuYS5mZXRjaChudWxsLG51bGwsYS5sLGIpXTsid2VibSI9PWEuYiYmYy5wdXNoKGEuZy5mZXRjaChudWxsLG51bGwsYS5sLGIpKTthLlJhPVByb21pc2UuYWxsKGMpLnRoZW4oSihhLGZ1bmN0aW9uKGEpe3JldHVybiB4ZSh0aGlzLGFbMF0sYVsxXXx8bnVsbCxiKX0pKTtyZXR1cm4gYS5SYX0KZnVuY3Rpb24geGUoYSxiLGMsZCl7dmFyIGU9bnVsbDsibXA0Ij09YS5iPyhlPW5ldyB0ZCxlPWUucGFyc2UobmV3IERhdGFWaWV3KGIpLGEuYS5zdGFydEJ5dGUsYS5hLmMsYS5pLGEuZikpOiJ3ZWJtIj09YS5iJiYoZT1uZXcgdWUsZT1lLnBhcnNlKG5ldyBEYXRhVmlldyhiKSxuZXcgRGF0YVZpZXcoYyksYS5hLmMsYS5pKSk7aWYoIWUpcmV0dXJuIGE9RXJyb3IoIkZhaWxlZCB0byBwYXJzZSBTZWdtZW50UmVmZXJlbmNlcyBmcm9tICIrYS5hLnRvU3RyaW5nKCkrIiAob3Igb25lIG9mIGl0cyBmYWxsYmFja3MpLiIpLGEudHlwZT0ic3RyZWFtIixQcm9taXNlLnJlamVjdChhKTtiPW5ldyBUKGUsZS5zKTt2YXIgZjsiZHluYW1pYyI9PWEuaC50eXBlP2Y9bmV3IFMoYixhLmgsYS5vLGEudyk6Zj1uZXcgUihiKTtkJiZkLmxvZygpO2EudT1mO3JldHVybiBQcm9taXNlLnJlc29sdmUoZil9dmUucHJvdG90eXBlLmM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51fTtmdW5jdGlvbiB5ZShhLGIsYyxkKXt0aGlzLmM9YTt0aGlzLmI9Yjt0aGlzLmw9Y3x8bnVsbDt0aGlzLmE9ZHx8bnVsbH0KZnVuY3Rpb24gemUoYSxiLGMpe2Zvcih2YXIgZD15YSgpLzFFMyxlPTA7ZTxiLmEubGVuZ3RoOysrZSlmb3IodmFyIGY9Yi5hW2VdLGc9MDtnPGYuYS5sZW5ndGg7KytnKXt2YXIgaD1mLmFbZ107aWYoInRleHQiIT1oLmNvbnRlbnRUeXBlKWZvcih2YXIgaz0wO2s8aC5hLmxlbmd0aDsrK2spe3ZhciBsPWguYVtrXSxtPTAsbT1tKyhsLmY/MTowKSxtPW0rKGwuYj8xOjApLG09bSsobC5hPzE6MCk7MD09bT8oaC5hLnNwbGljZShrLDEpLC0tayk6MSE9bSYmKGwuZj8obC5iPW51bGwsbC5hPW51bGwpOmwuYiYmKGwuYT1udWxsKSl9fUFlKGIpO2ZvcihlPTA7ZTxiLmEubGVuZ3RoOysrZSlmb3IoZj1iLmFbZV0sZz0wO2c8Zi5hLmxlbmd0aDsrK2cpe2s9aD1mLmFbZ107bD1udWxsO2ZvcihtPTA7bTxrLmEubGVuZ3RoOysrbSl7dmFyIHA9ay5hW21dLm1pbWVUeXBlfHwiIjtsP3AhPWwmJihrLmEuc3BsaWNlKG0sMSksLS1tKTpsPXB9MD09aC5hLmxlbmd0aCYmKGYuYS5zcGxpY2UoZywxKSwKLS1nKX1iLm1hbmlmZXN0SXNMaXZlU3RyZWFtaW5nJiZudWxsPT1iLmMmJihiLmM9ZCk7ZT1uZXcgVGQ7ImR5bmFtaWMiPT1iLnR5cGUmJihlLmI9ITAsZS5jPWIuZyxlLmk9bmV3IEsoYyxiLnV8fGIudXJsLHZvaWQgMCx2b2lkIDAsdm9pZCAwLGEuYSksZS5qPWIuYyk7ZS5CPWIuaHx8MDtlLm09Yi5pfHwwO2Uubz1iLmp8fDA7ZS5nPWIubXx8NTtmb3IoZj0wO2Y8Yi5hLmxlbmd0aDsrK2Ype2c9Yi5hW2ZdO2lmKG51bGw9PWcuc3RhcnQpYnJlYWs7Zz1CZShhLGIsZyxkLGMpO2UuYS5wdXNoKGcpfWUuZj1iLkZCSXNMaXZlVGVtcGxhdGVkO2EubCYmYS5sLnNldElzVGVtcGxhdGVkTWFuaWZlc3QoYi5GQklzTGl2ZVRlbXBsYXRlZCk7ZS5BPWIuRkJXYXNMaXZlO2E9bnVsbDtjPSJub25lIjtmb3IoZj0wO2Y8Yi5hLmxlbmd0aDtmKyspZm9yKGc9Yi5hW2ZdLGQ9MDtkPGcuYS5sZW5ndGg7ZCsrKWZvcihoPWcuYVtkXSxrPTA7azxoLmEubGVuZ3RoO2srKylsPWguYVtrXS5pLG51bGwhPQpsJiZudWxsIT1sLnZhbHVlJiYoYT1jPWwudmFsdWUsInVybjptcGVnOmRhc2g6MjMwMDM6MzphdWRpb19jaGFubmVsX2NvbmZpZ3VyYXRpb246MjAxMSI9PT1sLmEmJigiMSI9PT1hP2M9Im1vbm8iOiIyIj09PWEmJihjPSJzdGVyZW8iKSkpO2Uudz1jO2E9cGFyc2VJbnQoYSwxMCk7ZS51PTA8YT9hOm51bGw7cmV0dXJuIGV9CmZ1bmN0aW9uIEFlKGEpe2lmKGEuYS5sZW5ndGgpe251bGw9PWEuYVswXS5zdGFydCYmKGEuYVswXS5zdGFydD0wKTt2YXIgYj1mdW5jdGlvbihhKXtyZXR1cm4gMD09YXx8ISFhfTthLm1hbmlmZXN0SXNMaXZlU3RyZWFtaW5nJiYoYS5iPW51bGwpO2IoYS5iKSYmMT09YS5hLmxlbmd0aCYmIWIoYS5hWzBdLmR1cmF0aW9uKSYmKGEuYVswXS5kdXJhdGlvbj1hLmIpO2Zvcih2YXIgYz0wLGQ9ITAsZT0wO2U8YS5hLmxlbmd0aDsrK2Upe3ZhciBmPWEuYVtlLTFdLGc9YS5hW2VdLGg9YS5hW2UrMV18fHtzdGFydDphLmJ9OyFiKGcuc3RhcnQpJiZmJiZiKGYuc3RhcnQpJiZiKGYuZHVyYXRpb24pJiYoZy5zdGFydD1mLnN0YXJ0K2YuZHVyYXRpb24pOyFiKGcuZHVyYXRpb24pJiZiKGguc3RhcnQpJiYoZy5kdXJhdGlvbj1oLnN0YXJ0LWcuc3RhcnQpO251bGwhPWcuc3RhcnQmJm51bGwhPWcuZHVyYXRpb24/Yys9Zy5kdXJhdGlvbjpkPSExfWIoYS5iKXx8KGU9YS5hW2EuYS5sZW5ndGgtMV0sCmQ/YS5iPWM6YihlLnN0YXJ0KSYmYihlLmR1cmF0aW9uKT9hLmI9ZS5zdGFydCtlLmR1cmF0aW9uOmEubWFuaWZlc3RJc0xpdmVTdHJlYW1pbmd8fChhLmI9YykpfX0KZnVuY3Rpb24gQmUoYSxiLGMsZCxlKXt2YXIgZj1uZXcgU2Q7Zi5pZD1jLmlkO2Yuc3RhcnQ9Yy5zdGFydDtmLmR1cmF0aW9uPWMuZHVyYXRpb247dmFyIGc9bmV3IEQ7Yy5hLmZvckVhY2goZnVuY3Rpb24oYSl7Zy5wdXNoKGEuY29udGVudFR5cGV8fCIiLGEpfSk7Zm9yKHZhciBoPWFiKGcpLGs9MDtrPGgubGVuZ3RoOysrayl7dmFyIGw9bmV3IEQ7Zy5nZXQoaFtrXSkuZm9yRWFjaChmdW5jdGlvbihhKXtsLnB1c2goYS5ncm91cCxhKX0pO2Zvcih2YXIgbT1hYihsKSxwPTA7cDxtLmxlbmd0aDsrK3Ape3ZhciB0PW5ldyBEO2wuZ2V0KG1bcF0pLmZvckVhY2goZnVuY3Rpb24oYSl7dC5wdXNoKGEubGFuZyxhKX0pO2Zvcih2YXIgdz1hYih0KSx6PTA7ejx3Lmxlbmd0aDsrK3ope3ZhciBIPXQuZ2V0KHdbel0pLEg9Q2UoYSxiLGMsSCxkLGUpO2YuYS5wdXNoKEgpfX19cmV0dXJuIGZ9CmZ1bmN0aW9uIENlKGEsYixjLGQsZSxmKXtiYShkLmV2ZXJ5KGZ1bmN0aW9uKGEpe3JldHVybiBhLmdyb3VwPT1kWzBdLmdyb3VwJiYoYS5sYW5nfHwiIik9PShkWzBdLmxhbmd8fCIiKSYmKGEuY29udGVudFR5cGV8fCIiKT09KGRbMF0uY29udGVudFR5cGV8fCIiKX0pKTt2YXIgZz1uZXcgT2QsaD1kLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YS5pZH0pO2gubGVuZ3RoPT1kLmxlbmd0aCYmKGcuaWQ9aC5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuaWR9KS5zb3J0KCkucmVkdWNlKGZ1bmN0aW9uKGEsYil7cmV0dXJuIGErIiwiK2J9KSk7Zy5iPSEoIWRbMF0uYnx8InVybjpzY3RlOmRhc2g6Y2M6Y2VhLTYwODoyMDE1IiE9PWRbMF0uYi5hKTtnLmxhbmc9ZFswXS5sYW5nfHwiIjtnLmNvbnRlbnRUeXBlPWRbMF0uY29udGVudFR5cGV8fCIiO2cuZj1kLnNvbWUoZnVuY3Rpb24oYSl7cmV0dXJuIGEuZn0pO2Zvcih2YXIgaD17fSxrPTA7azxkLmxlbmd0aDsrK2spe3ZhciBsPQpkW2tdO2wuYyYmKGcuYz1sLmMpO2Zvcih2YXIgbT0wO208bC5hLmxlbmd0aDsrK20pe3ZhciBwPWwuYVttXSx0PURlKGEscCksdz1nLmEuc2xpY2UoMCk7RWUodCx3KTswPT13Lmxlbmd0aCYmMDxnLmEubGVuZ3RofHwhKHA9RmUoYSxiLGMscCxlLGYpKXx8KGcudi5wdXNoKHApLGcuYT13LGhbcC5YXT1sKX19aWYoZy5hLnNvbWUoZnVuY3Rpb24oYSl7cmV0dXJuIiI9PWEuYX0pKXJldHVybiBnLnYuZm9yRWFjaChmdW5jdGlvbihhKXthLm9hPSEwfSksZzthPUdlKGQpO2ZvcihrPTA7azxnLnYubGVuZ3RoOysraylwPWcudltrXSxsPWhbcC5YXSxsPT1hJiYocC5vYT0hMCk7cmV0dXJuIGd9CmZ1bmN0aW9uIEdlKGEpe2Zvcih2YXIgYj1udWxsLGM9bnVsbCxkPTA7ZDxhLmxlbmd0aDsrK2QpZm9yKHZhciBlPWFbZF0sZj0wO2Y8ZS5hLmxlbmd0aDsrK2Ype3ZhciBnPWUuYVtmXSxnPShnLndpZHRofHwxKSooZy5oZWlnaHR8fDEpKihnLmJhbmR3aWR0aHx8MSk7aWYobnVsbD09Ynx8ZzxiKWI9ZyxjPWV9cmV0dXJuIGN9ZnVuY3Rpb24gRWUoYSxiKXtpZigwPT1iLmxlbmd0aClBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShiLGEpO2Vsc2UgZm9yKHZhciBjPTA7YzxiLmxlbmd0aDsrK2Mpe2Zvcih2YXIgZD0hMSxlPTA7ZTxhLmxlbmd0aDsrK2Upe3ZhciBmPWJbY10sZz1hW2VdO2lmKGYuYT09Zy5hJiZmLmk9PWcuaSYmZi53aXRoQ3JlZGVudGlhbHM9PWcud2l0aENyZWRlbnRpYWxzJiZmLmg9PWcuaCYmZi5qPT1nLmomJmYuZz09Zy5nJiZmLm09PWcubSYmTWEoZi5jLGcuYykpe2Q9ITA7T2IoYltjXSxhW2VdLmIpO2JyZWFrfX1kfHwoYi5zcGxpY2UoYywxKSwtLWMpfX0KZnVuY3Rpb24gRGUoYSxiKXt2YXIgYz1bXTtpZigwPT1iLmMubGVuZ3RoKWMucHVzaChuZXcgTWIpO2Vsc2UgaWYoYS5iKWZvcih2YXIgZD0wO2Q8Yi5jLmxlbmd0aDsrK2QpYy5wdXNoLmFwcGx5KGMsSGUoYSxiLmNbZF0pKTtyZXR1cm4gY30KZnVuY3Rpb24gSGUoYSxiKXt2YXIgYz1bXTtpZigyIT1hLmIubGVuZ3RoKXJldHVybltdO3ZhciBkPWEuYihiLmZ8fCIiLGIuYyk7aWYoIShkJiZkIGluc3RhbmNlb2YgQXJyYXkpKXJldHVybltdO2Zvcih2YXIgZT0wO2U8ZC5sZW5ndGg7KytlKXt2YXIgZjt2YXIgZz1kW2VdO2Y9bmV3IE1iO2lmKGcpe3ZhciBoPVlhKGcsImtleVN5c3RlbSIpO2lmKG51bGwhPWgpZi5hPWg7ZWxzZSB0aHJvdyBFcnJvcigiJ2tleVN5c3RlbScgY2Fubm90IGJlIG51bGwuIik7dmFyIGs9WWEoZywibGljZW5zZVNlcnZlclVybCIpO2lmKG51bGwhPWspZi5pPWs7ZWxzZSBpZihoKXRocm93IEVycm9yKCJGb3IgZW5jcnlwdGVkIHN0cmVhbWluZyBjb250ZW50LCAnbGljZW5zZVNlcnZlclVybCcgY2Fubm90IGJlIG51bGwgb3IgZW1wdHkuIik7aD1CKGcsIndpdGhDcmVkZW50aWFscyIpO251bGwhPWgmJihmLndpdGhDcmVkZW50aWFscz1oKTtoPVphKGcsImxpY2Vuc2VQb3N0UHJvY2Vzc29yIixGdW5jdGlvbik7Cm51bGwhPWgmJihmLmY9aCk7aD1aYShnLCJsaWNlbnNlUHJlUHJvY2Vzc29yIixGdW5jdGlvbik7bnVsbCE9aCYmKGYubz1oKTtoPUIoZywiZGlzdGluY3RpdmVJZGVudGlmaWVyUmVxdWlyZWQiKTtudWxsIT1oJiYoZi5oPWgpO2g9QihnLCJwZXJzaXN0ZW50U3RhdGVSZXF1aXJlZCIpO251bGwhPWgmJihmLmo9aCk7aD1ZYShnLCJhdWRpb1JvYnVzdG5lc3MiKTtudWxsIT1oJiYoZi5nPWgpO2g9WWEoZywidmlkZW9Sb2J1c3RuZXNzIik7bnVsbCE9aCYmKGYubT1oKTtoPVphKGcsInNlcnZlckNlcnRpZmljYXRlIixVaW50OEFycmF5KTtudWxsIT1oJiYoZi5jPWgpO2lmKGg9WmEoZywiaW5pdERhdGEiLE9iamVjdCkpe2c9WmEoaCwiaW5pdERhdGEiLFVpbnQ4QXJyYXkpO2lmKG51bGw9PWcpdGhyb3cgRXJyb3IoIidpbml0RGF0YS5pbml0RGF0YScgY2Fubm90IGJlIG51bGwuIik7aD1ZYShoLCJpbml0RGF0YVR5cGUiKTtpZihudWxsPT1oKXRocm93IEVycm9yKCInaW5pdERhdGEuaW5pdERhdGFUeXBlJyBjYW5ub3QgYmUgbnVsbC4iKTsKZi5iLnB1c2goe2luaXREYXRhOm5ldyBVaW50OEFycmF5KGcuYnVmZmVyKSxpbml0RGF0YVR5cGU6aH0pfX0wPT1mLmIubGVuZ3RoJiZiLmEmJmIuYS5wc3NoQm94JiZPYihmLFt7aW5pdERhdGE6Yi5hLnBzc2hCb3gsaW5pdERhdGFUeXBlOiJjZW5jIn1dKTtjLnB1c2goZil9cmV0dXJuIGN9CmZ1bmN0aW9uIEZlKGEsYixjLGQsZSxmKXtpZighZC5iYXNlVXJsfHwwPT09ZC5iYXNlVXJsLmxlbmd0aClyZXR1cm4gbnVsbDt2YXIgZz1udWxsLGg9MSxrPTA7aWYoZC5mKXtnPWQubWltZVR5cGUuc3BsaXQoIi8iKVsxXTtpZigibXA0IiE9ZyYmIndlYm0iIT1nKWc9bnVsbDtlbHNle3ZhciBsPWQuZjtpZigid2VibSIhPWd8fGwuYylpZihsLmF8fGwuYiYmbC5iLmEpe2g9bC5iO2h8fChoPW5ldyB3YyxoLnVybD1kLmJhc2VVcmwsaC5hPWwuYT9sLmEuY2xvbmUoKTpudWxsKTtrPUllKGEsaCxmKTtoPWwuYz9JZShhLGwuYyxmKTpudWxsO2wuZj8obD1sLmYsbD1uZXcgSyhmLGQuYmFzZVVybCxsLnFhLGwuZW5kLHZvaWQgMCxhLmEpKTpsPW51bGw7dmFyIG09bCxwPVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgiYWRkX2lubGluZV9pbml0aWFsaXphdGlvbl9yZXNvdXJjZXMiLCExKSYmZC5oJiZkLmguZGF0YT9kLmguZGF0YTpudWxsLGw9VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJhZGRfaW5saW5lX2luaXRpYWxpemF0aW9uX3Jlc291cmNlcyIsCiExKSYmZC5nJiZkLmcuZGF0YT9kLmcuZGF0YTpudWxsO2E9bmV3IHZlKGIsYyxnLGssaCxtLGUsZixhLmwscCxsKTtiPW5ldyBnZChoLGwpO2M9bmV3IEtkO2MuTT1hO2MuYWE9YjtnPWN9ZWxzZSBnPW51bGw7ZWxzZSBnPW51bGx9aD1kLmYucztrPWQuZi5MfWVsc2UgaWYoZC5iKWc9ZC5iLCFnLkgmJiFnLkMmJjE8Zy5hLmxlbmd0aD9nPW51bGw6Zy5IfHxjLmR1cmF0aW9ufHxnLkN8fDEhPWcuYS5sZW5ndGg/Zy5DJiYwPT09Zy5DLk4ubGVuZ3RoP2c9bnVsbDooZz1nLmI/SWUoYSxnLmIsZik6bnVsbCxhPW5ldyBGZChiLGMsZCxlLGYsYS5hKSxiPW5ldyBnZChnKSxjPW5ldyBLZCxjLk09YSxjLmFhPWIsZz1jKTpnPW51bGwsaD1kLmIucyxrPWQuYi5MO2Vsc2UgaWYoZC5hKXthOmlmKGc9ZC5hLGg9MCsoZy5hPzE6MCksaCs9Zy5DPzE6MCxoKz1nLkg/MTowLDA9PWg/aD0hMTooMSE9aCYmKGcuYT8oZy5DPW51bGwsZy5IPW51bGwpOmcuQyYmKGcuSD1udWxsKSksaD0hMCksaCl7aD0KbnVsbDtpZihnLmMmJihoPShnPWQuYS5jKT9KZShkLGcseGMpOm51bGwsIWgpKXtnPW51bGw7YnJlYWsgYX1nPWg/SWUoYSxoLGYpOm51bGw7aD1kLmE7aC5hPyhoPWQubWltZVR5cGUuc3BsaXQoIi8iKVsxXSwibXA0IiE9aCYmIndlYm0iIT1oP2E9bnVsbDoid2VibSIhPWh8fGc/bWQoZixkLDEsMCx2b2lkIDAsYS5hKT8oaz0oaz1kLmEuYSk/SmUoZCxrLHdjKTpudWxsKT8oaz1JZShhLGssZiksYT1uZXcgdmUoYixjLGgsayxnLG51bGwsZSxmLGEubCkpOmE9bnVsbDphPW51bGw6YT1udWxsKTphPWguZj9oLkM/bmV3IEpkKGEuYyxiLGMsZCxlLGYsMCxhLmEpOmguSD9iLm1hbmlmZXN0SXNMaXZlU3RyZWFtaW5nfHxudWxsIT1jLmR1cmF0aW9uP25ldyBFZChiLGMsZCxlLGYpOm51bGw6bnVsbDpudWxsO2E/KGI9bmV3IGdkKGcpLGM9bmV3IEtkLGMuTT1hLGMuYWE9YixnPWMpOmc9bnVsbH1lbHNlIGc9bnVsbDtoPWQuYS5zO2s9ZC5hLkx9ZWxzZSJ0ZXh0Ij09ZC5taW1lVHlwZS5zcGxpdCgiLyIpWzBdJiYKKGc9bmV3IEtkLGcuTT1uZXcgc2UobmV3IEsoZixkLmJhc2VVcmwpKSk7aWYoIWcpcmV0dXJuIG51bGw7Zy5pZD1kLmlkO2smJihnLmE9LTEqay9oKTtnLmJhbmR3aWR0aD1kLmJhbmR3aWR0aDtnLndpZHRoPWQud2lkdGg7Zy5oZWlnaHQ9ZC5oZWlnaHQ7Zy5taW1lVHlwZT1kLm1pbWVUeXBlfHwiIjtnLmNvZGVjcz1kLmNvZGVjc3x8IiI7Zy5nPWQub3x8bnVsbDtnLmg9ZC51fHxudWxsO2cuZmJRdWFsaXR5TGFiZWw9ZC5mYlF1YWxpdHlMYWJlbHx8bnVsbDtnLmZiUXVhbGl0eUNsYXNzPWQuZmJRdWFsaXR5Q2xhc3N8fG51bGw7Zy5mPWQubXx8bnVsbDtnLmZyYW1lUmF0ZT1kLmZyYW1lUmF0ZXx8IiI7Zy5jPWQuanx8bnVsbDtmb3IoYT0wO2E8ZC5jLmxlbmd0aDsrK2EpYj1kLmNbYV0sYi5iJiZnLmIucHVzaChiLmIpO3JldHVybiBnfQpmdW5jdGlvbiBKZShhLGIsYyl7Yj1uZChiLGEuaWQsbnVsbCxhLmJhbmR3aWR0aCxudWxsKTtpZighYilyZXR1cm4gbnVsbDtjPW5ldyBjO2MudXJsPVpjKGEuYmFzZVVybCxiKTtyZXR1cm4gY31mdW5jdGlvbiBJZShhLGIsYyl7dmFyIGQ9Yi51cmwsZT0wLGY9bnVsbDtiLmEmJihlPWIuYS5xYSxmPWIuYS5lbmQpO3JldHVybiBuZXcgSyhjLGQsZSxmLHZvaWQgMCxhLmEpfTtmdW5jdGlvbiBLZShhLGIsYyxkLGUsZixnKXt0aGlzLmI9bmV3IEsobnVsbCxbbmV3IEwoYSldKTt0aGlzLmw9ZTt0aGlzLmY9Yjt0aGlzLmM9MTt0aGlzLmc9YTt0aGlzLmE9bmV3IHRiO3RoaXMuYS5ib2R5PWI7dGhpcy5hLm1ldGhvZD1jO3RoaXMuYS5OYT0zO3RoaXMuYS53aXRoQ3JlZGVudGlhbHM9ZDt0aGlzLmEuYj0xRTMqKG51bGwhPWc/ZzpoYSk7YT1mfHx7fTtmb3IodmFyIGggaW4gYSl0aGlzLmEuUWFbaF09YVtoXX0KZnVuY3Rpb24gTGUoYSl7cmV0dXJuIGEuYi5mZXRjaChhLmEpLnRoZW4oZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYi51JiYwPHRoaXMuYz8odGhpcy5jLS0sbnVsbCE9PXRoaXMubCYmbnVsbCE9PXRoaXMuYi5pJiZ0aGlzLmwuc2V0UmVhc29uKCJSZWRpcmVjdGVkIHRvIFVSTDogIit0aGlzLmIuaS50b1N0cmluZygpKSx0aGlzLmI9bmV3IEsobnVsbCxbbmV3IEwodGhpcy5nKV0pLHRoaXMuYS5ib2R5PXRoaXMuZixMZSh0aGlzKSk6UHJvbWlzZS5yZXNvbHZlKG5ldyBVaW50OEFycmF5KGEpKX0uYmluZChhKSl9O2Z1bmN0aW9uIE1lKGEsYixjLGQpe0YuY2FsbCh0aGlzLGEpO3RoaXMuYz1iO3RoaXMuaj1jO3RoaXMuYT10aGlzLmg9bnVsbDt0aGlzLmk9bmV3IGJiO3RoaXMuYj1bXTt0aGlzLmY9W107dGhpcy5tPTA7dGhpcy5nPW5ldyBJO3RoaXMubz1udWxsO3RoaXMuQT1oYTt0aGlzLmw9ZH1yKE1lLEYpO01lLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5KYT1udWxsO2Zvcih2YXIgYT0wO2E8dGhpcy5mLmxlbmd0aDsrK2EpdGhpcy5mW2FdLmNsb3NlKCkuY2F0Y2goZnVuY3Rpb24oKXt9KTt0aGlzLmY9W107dGhpcy5iPXRoaXMuYT10aGlzLmg9bnVsbDt0aGlzLmcuZGVzdHJveSgpO3RoaXMuZz1udWxsO3RoaXMuaS5kZXN0cm95KCk7dGhpcy5pPW51bGw7dGhpcy5vJiYoY2xlYXJUaW1lb3V0KHRoaXMubyksdGhpcy5vPW51bGwpO3RoaXMuYz10aGlzLmo9bnVsbH07Ck1lLnByb3RvdHlwZS5pbml0aWFsaXplPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPW5ldyBELGI9TmUodGhpcy5qKSxjPTA7YzxiLmxlbmd0aDsrK2Mpe3ZhciBkPWJbY107ZC5hLmF8fGQuYiYmIU9lKGQuYil8fGEucHVzaChkLmNvbnRlbnRUeXBlLGQpfWZvcih2YXIgYz17fSxkPSExLGU9MDtlPGIubGVuZ3RoOysrZSl7dmFyIGY9YltlXTtpZihmLmEuYSYmIWEuYS5oYXNPd25Qcm9wZXJ0eShmLmNvbnRlbnRUeXBlKSl7dmFyIGc9Zi5hLmEsaD1jW2ddO2h8fChoPWYuYSxoPXthdWRpb0NhcGFiaWxpdGllczp2b2lkIDAsdmlkZW9DYXBhYmlsaXRpZXM6dm9pZCAwLGluaXREYXRhVHlwZXM6dm9pZCAwLGRpc3RpbmN0aXZlSWRlbnRpZmllcjpoLmg/InJlcXVpcmVkIjoib3B0aW9uYWwiLHBlcnNpc3RlbnRTdGF0ZTpoLmo/InJlcXVpcmVkIjoib3B0aW9uYWwiLHNlc3Npb25UeXBlczpbInRlbXBvcmFyeSJdfSxjW2ddPWgpO2lmKGYuYiYmKGc9Zi5jb250ZW50VHlwZSsiQ2FwYWJpbGl0aWVzIiwKZyBpbiBoKSl7ZD0hMDtoW2ddfHwoaFtnXT1bXSk7dmFyIGs7ImF1ZGlvIj09Zi5jb250ZW50VHlwZT9rPWYuYS5nOiJ2aWRlbyI9PWYuY29udGVudFR5cGUmJihrPWYuYS5tKTtoW2ddLnB1c2goe2NvbnRlbnRUeXBlOmYuYixyb2J1c3RuZXNzOmt9KX19fWlmKCFkKWlmKGIubGVuZ3RoKXRoaXMuYT1iWzBdLmE7ZWxzZSB0aHJvdyBhPUVycm9yKCJObyBEcm1JbmZvIGV4aXN0cyEiKSxhLnR5cGU9ImRybSIsYTtpZigwPT1PYmplY3Qua2V5cyhjKS5sZW5ndGgpcmV0dXJuIFBlKHRoaXMuaixhKSx0aGlzLmcucmVzb2x2ZSgpLFByb21pc2UucmVzb2x2ZSgpO2s9bmV3IEk7Yz1RZShjLGspO2M9Yy50aGVuKHRoaXMudy5iaW5kKHRoaXMsYixhKSk7ay5yZWplY3QobnVsbCk7dGhpcy5sJiZ0aGlzLmwuZ2V0RXZlbnRMb2dnZXIoImVtZV9pbml0IikubG9nKCk7cmV0dXJuIGN9OwpmdW5jdGlvbiBRZShhLGIpe2Zvcih2YXIgYyBpbiBhKWI9Yi5jYXRjaChmdW5jdGlvbihhLGIpe3JldHVybiBuYXZpZ2F0b3IucmVxdWVzdE1lZGlhS2V5U3lzdGVtQWNjZXNzKGEsW2JdKX0uYmluZChudWxsLGMsYVtjXSkpO3JldHVybiBifQpNZS5wcm90b3R5cGUudz1mdW5jdGlvbihhLGIsYyl7aWYoIXRoaXMuYylyZXR1cm4gUmUoKTtmb3IodmFyIGQ9Yy5rZXlTeXN0ZW0sZT1jLmdldENvbmZpZ3VyYXRpb24oKSxmPVsiYXVkaW8iLCJ2aWRlbyJdLGc9MDtnPGYubGVuZ3RoOysrZyl7dmFyIGg9ZltnXTtpZighYi5hLmhhc093blByb3BlcnR5KGgpKXt2YXIgaz1lW2grIkNhcGFiaWxpdGllcyJdO2lmKGspe2Zvcih2YXIgaz1rWzBdLGw9W10sbT17fSxwPTA7cDxhLmxlbmd0aDsrK3Ape3ZhciB0PWFbcF0sdz1rP3QuYj09ay5jb250ZW50VHlwZTp0LmNvbnRlbnRUeXBlPT1oO3QuYS5hIT1kfHwhd3x8dC5pZCBpbiBtfHwobC5wdXNoKHQpLG1bdC5pZF09ITAsdGhpcy5hPXRoaXMuYT9OYih0aGlzLmEsdC5hKTp0LmEpfWIuc2V0KGgsbCl9fX1QZSh0aGlzLmosYik7aWYodGhpcy5jLm1lZGlhS2V5cyl0aGlzLmg9dGhpcy5jLm1lZGlhS2V5cztlbHNlIHJldHVybiBjLmNyZWF0ZU1lZGlhS2V5cygpLnRoZW4oZnVuY3Rpb24oYSl7dGhpcy5oPQphfS5iaW5kKHRoaXMpKX07ZnVuY3Rpb24gU2UoYSl7cmV0dXJuIGEuYz9hLmg/YS5jLnNldE1lZGlhS2V5cyhhLmgpLnRoZW4oSihhLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYz90aGlzLmEuYz90aGlzLmguc2V0U2VydmVyQ2VydGlmaWNhdGUodGhpcy5hLmMpOlByb21pc2UucmVzb2x2ZSgpOlJlKCl9KSkudGhlbihKKGEsZnVuY3Rpb24oKXtpZighdGhpcy5jKXJldHVybiBSZSgpO2Zvcih2YXIgYT0wO2E8dGhpcy5hLmIubGVuZ3RoOysrYSl7dmFyIGM9dGhpcy5hLmJbYV07dGhpcy51KHt0eXBlOiJlbmNyeXB0ZWQiLGluaXREYXRhVHlwZTpjLmluaXREYXRhVHlwZSxpbml0RGF0YTpjLmluaXREYXRhfSl9MD09dGhpcy5hLmIubGVuZ3RoJiZFKHRoaXMuaSx0aGlzLmMsImVuY3J5cHRlZCIsdGhpcy51LmJpbmQodGhpcykpfSkpOlByb21pc2UucmVzb2x2ZSgpOlJlKCl9CmZ1bmN0aW9uIFJlKCl7dmFyIGE9RXJyb3IoIkVtZU1hbmFnZXIgZGVzdHJveWVkIik7YS50eXBlPSJkZXN0cm95IjtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYSl9Ck1lLnByb3RvdHlwZS51PWZ1bmN0aW9uKGEpe3ZhciBiPW5ldyBVaW50OEFycmF5KGEuaW5pdERhdGEpO3RoaXMubCYmdGhpcy5sLmdldEV2ZW50TG9nZ2VyKCJlbmNyeXB0ZWRfc2FtcGxlIikubG9nKCk7Zm9yKHZhciBjPTA7Yzx0aGlzLmIubGVuZ3RoOysrYylpZihNYShiLHRoaXMuYltjXS5kYXRhKSlyZXR1cm47dHJ5e3ZhciBkPVRlKHRoaXMpfWNhdGNoKGUpe2I9QShlKTt0aGlzLmRpc3BhdGNoRXZlbnQoYik7dGhpcy5sJiZ0aGlzLmwuZ2V0RXZlbnRMb2dnZXIoImVtZV9lcnJvciIpLnNldEVycm9yKGUpLmxvZygpO3RoaXMuZy5yZWplY3QoZSk7cmV0dXJufWE9ZC5nZW5lcmF0ZVJlcXVlc3QoYS5pbml0RGF0YVR5cGUsYS5pbml0RGF0YSk7dGhpcy5iLnB1c2goe2RhdGE6Yix1YjpkfSk7YS5jYXRjaChKKHRoaXMsZnVuY3Rpb24oYSl7aWYodGhpcy5jKXtmb3IodmFyIGI9MDtiPHRoaXMuYi5sZW5ndGg7KytiKWlmKHRoaXMuYltiXS51Yj09ZCl7dGhpcy5iLnNwbGljZShiLAoxKTticmVha31iPUEoYSk7dGhpcy5kaXNwYXRjaEV2ZW50KGIpO3RoaXMubCYmdGhpcy5sLmdldEV2ZW50TG9nZ2VyKCJlbWVfZXJyb3IiKS5zZXRFcnJvcihhKS5sb2coKTt0aGlzLmcucmVqZWN0KGEpfX0pKTt0aGlzLmYucHVzaChkKX07ZnVuY3Rpb24gVWUoYSl7Zm9yKHZhciBiPVtdLGM9MDtjPGIubGVuZ3RoOysrYyl7dmFyIGQ9VGUoYSksZT1kLmxvYWQoYltjXSk7YS5mLnB1c2goZCk7ZS50aGVuKEooYSxmdW5jdGlvbigpe3RoaXMubSsrO3RoaXMubT49dGhpcy5mLmxlbmd0aCYmdGhpcy5nLnJlc29sdmUoKX0pKS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7dmFyIGI9QShhKTt0aGlzLmRpc3BhdGNoRXZlbnQoYik7dGhpcy5sJiZ0aGlzLmwuZ2V0RXZlbnRMb2dnZXIoImVtZV9lcnJvciIpLnNldEVycm9yKGEpLmxvZygpfSkpfX0KZnVuY3Rpb24gVGUoYSl7dmFyIGI9bnVsbCxiPWEuaC5jcmVhdGVTZXNzaW9uKCk7RShhLmksYiwibWVzc2FnZSIsYS5ELmJpbmQoYSkpO0UoYS5pLGIsImtleXN0YXR1c2VzY2hhbmdlIixhLkIuYmluZChhKSk7cmV0dXJuIGJ9TWUucHJvdG90eXBlLkQ9ZnVuY3Rpb24oYSl7VmUodGhpcyxhLnRhcmdldCx0aGlzLmEsYS5tZXNzYWdlKX07Ck1lLnByb3RvdHlwZS5CPWZ1bmN0aW9uKGEpe2E9YS50YXJnZXQ7dmFyIGI9e307YS5rZXlTdGF0dXNlcy5mb3JFYWNoKGZ1bmN0aW9uKGEsYyl7aWYoInN0cmluZyI9PT10eXBlb2YgYSl7dmFyIGY9YTthPWM7Yz1mfWlmKCJjb20ubWljcm9zb2Z0LnBsYXlyZWFkeSI9PXRoaXMuYS5hJiYxNj09YS5ieXRlTGVuZ3RoKXt2YXIgZj1uZXcgRGF0YVZpZXcoYSksZz1mLmdldFVpbnQzMigwLCEwKSxoPWYuZ2V0VWludDE2KDQsITApLGs9Zi5nZXRVaW50MTYoNiwhMCk7Zi5zZXRVaW50MzIoMCxnLCExKTtmLnNldFVpbnQxNig0LGgsITEpO2Yuc2V0VWludDE2KDYsaywhMSl9Zj1MYihuZXcgVWludDhBcnJheShhKSk7YltmXT1jfS5iaW5kKHRoaXMpKTtpZihhLmV4cGlyYXRpb248RGF0ZS5ub3coKSl7Zm9yKHZhciBjPTA7Yzx0aGlzLmIubGVuZ3RoOysrYylpZih0aGlzLmJbY10udWI9PWEpe3RoaXMuYi5zcGxpY2UoYywxKTticmVha31hLmNsb3NlKCk7dGhpcy5mLnNwbGljZSh0aGlzLmYuaW5kZXhPZihhKSwKMSl9dGhpcy5sJiZ0aGlzLmwuZ2V0RXZlbnRMb2dnZXIoImVtZV9rZXlfc3RhdHVzX2NoYW5nZSIpLmxvZygpO1dlKHRoaXMuaixiKX07CmZ1bmN0aW9uIFZlKGEsYixjLGQpe2Q9WGUoYyxkKTt2YXIgZT1udWxsO2EubCYmKGU9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigibGljZW5zZV9yZXF1ZXN0Iikuc3RhcnQoKSk7TGUobmV3IEtlKGQudXJsLGQuYm9keSxkLm1ldGhvZCxjLndpdGhDcmVkZW50aWFscyxlLGQuaGVhZGVycyxhLkEpKS50aGVuKEooYSxmdW5jdGlvbihhKXtlJiYoZS5zZXRSZXN1bHQoInN1Y2Nlc3MiKSxlLmxvZygpKTtjLmYmJihhPWMuZihhKSk7ZT1udWxsO3RoaXMubCYmKGU9dGhpcy5sLmdldE9wZXJhdGlvbkxvZ2dlcigiZW1lX3Bvc3RfbGljZW5zZV9zZXNzaW9uX3VwZGF0ZSIpLnN0YXJ0KCkpO251bGw9PT1hfHx2b2lkIDA9PT1hfHwwPT09YS5ieXRlTGVuZ3RoP251bGwhPT1lJiYoZS5zZXRFcnJvcigiZW1wdHkgbGljZW5zZSIpLGUuc2V0UmVzdWx0KCJmYWlsZWQiKS5sb2coKSk6Yi51cGRhdGUoYSkudGhlbihKKHRoaXMsZnVuY3Rpb24oKXtlJiYoZS5zZXRSZXN1bHQoInN1Y2Nlc3MiKSxlLmxvZygpKTsKdmFyIGE9eSh7dHlwZToic2Vzc2lvblJlYWR5IixkZXRhaWw6Yn0pO3RoaXMuZGlzcGF0Y2hFdmVudChhKTt0aGlzLm0rKzt0aGlzLm0+PXRoaXMuZi5sZW5ndGgmJnRoaXMuZy5yZXNvbHZlKCl9KSkuY2F0Y2goSih0aGlzLGZ1bmN0aW9uKGEpe2EudWI9Yjt2YXIgYz1BKGEpO2UmJihlLnNldFJlc3VsdCgiZmFpbGVkIiksZS5zZXRFcnJvcihhKS5sb2coKSk7dGhpcy5kaXNwYXRjaEV2ZW50KGMpfSkpfSkpLmNhdGNoKEooYSxmdW5jdGlvbihhKXtpZihjLmYpe3ZhciBkPUpTT04uc3RyaW5naWZ5KHtkYXRhOlt7ZXJyb3I6YX1dfSksZD1uZXcgVWludDhBcnJheShkLnNwbGl0KCIiKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuY2hhckNvZGVBdCgwKX0pKTtjLmYoZCl9YS51Yj1iO2Q9QShhKTtlJiZlLnNldEVycm9yKGEpLmxvZygpO3RoaXMuZGlzcGF0Y2hFdmVudChkKX0pKX0KZnVuY3Rpb24gWGUoYSxiKXt2YXIgYz17dXJsOmEuaSxib2R5OmIuc2xpY2UoMCksbWV0aG9kOiJQT1NUIixoZWFkZXJzOnt9LGtleV9zeXN0ZW06YS5hfTtpZigiY29tLm1pY3Jvc29mdC5wbGF5cmVhZHkiPT09YS5hKXtmb3IodmFyIGQ9U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLG5ldyBVaW50MTZBcnJheShjLmJvZHkpKSxkPShuZXcgRE9NUGFyc2VyKS5wYXJzZUZyb21TdHJpbmcoZCwiYXBwbGljYXRpb24veG1sIiksZT1kLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJuYW1lIiksZj1kLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJ2YWx1ZSIpLGc9MDtnPGUubGVuZ3RoO2crKyljLmhlYWRlcnNbZVtnXS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZV09ZltnXS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZTtjLmJvZHk9d2luZG93LmF0b2IoZC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiQ2hhbGxlbmdlIilbMF0uY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUpfWlmKCFhLm8pcmV0dXJuIGM7CmEubyhjKTtjLnVybD1ZYShjLCJ1cmwiKTtpZihudWxsPT1jLnVybCl0aHJvdyBFcnJvcigiJ3VybCcgY2Fubm90IGJlIG51bGwuIik7aWYoIShjLmJvZHkgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcnx8InN0cmluZyI9PT10eXBlb2YgYy5ib2R5fHxudWxsPT1jLmJvZHkpKXRocm93IG5ldyBUeXBlRXJyb3IoIidib2R5JyBtdXN0IGJlIGFuIEFycmF5QnVmZmVyLCBhIHN0cmluZywgb3IgbnVsbC4iKTtjLm1ldGhvZD1ZYShjLCJtZXRob2QiKTtpZigiR0VUIiE9Yy5tZXRob2QmJiJQT1NUIiE9Yy5tZXRob2QpdGhyb3cgRXJyb3IoIidtZXRob2QnIG11c3QgYmUgZWl0aGVyICdHRVQnIG9yICdQT1NUJy4iKTtjLmhlYWRlcnM9WmEoYywiaGVhZGVycyIsT2JqZWN0KTtpZihudWxsPT1jLmhlYWRlcnMpdGhyb3cgRXJyb3IoIidoZWFkZXJzJyBjYW5ub3QgYmUgbnVsbC4iKTtyZXR1cm4gY307ZnVuY3Rpb24gVyhhLGIsYyxkLGUsZixnKXtGLmNhbGwodGhpcyxudWxsKTt0aGlzLmI9YTt0aGlzLmY9Yjt0aGlzLmE9bnVsbDt0aGlzLmc9bmV3IGJiO3RoaXMubT10aGlzLmk9bnVsbDt0aGlzLkY9MDt0aGlzLlM9dGhpcy5aPXRoaXMuJD1udWxsO3RoaXMuYmE9Zzt0aGlzLko9bnVsbDt0aGlzLk89dGhpcy5oPSExO3RoaXMuVj10aGlzLlk9ITA7dGhpcy5LPSExO3RoaXMuYz17ZW5hYmxlQWRhcHRhdGlvbjohMCxzdHJlYW1CdWZmZXJTaXplOjE1LGxpdmVTdHJlYW1FbmRUaW1lb3V0OjE1LGxpY2Vuc2VSZXF1ZXN0VGltZW91dDpoYSxtcGRSZXF1ZXN0VGltZW91dDppYSxzZWdtZW50UmVxdWVzdFRpbWVvdXQ6amEscHJlZmVycmVkTGFuZ3VhZ2U6ImVuIixyZXN0cmljdGlvbnM6bmV3IGthfTt0aGlzLmw9Yzt0aGlzLkc9ZDt0aGlzLmNhPWU7dGhpcy5nYT1mO3RoaXMubz1udWxsO3RoaXMuaj0xO3RoaXMuVD1udWxsO3RoaXMudT10aGlzLkE9dGhpcy53PSExO3RoaXMuUj10aGlzLkI9Cm51bGx9cihXLEYpO3EoInNoYWthLnBsYXllci5QbGF5ZXIiLFcpO1cudmVyc2lvbj0idjEuNi40LWZiIjtXLmlzQnJvd3NlclN1cHBvcnRlZD1mdW5jdGlvbigpe3JldHVybiEhd2luZG93Lk1lZGlhU291cmNlJiYhIXdpbmRvdy5VaW50OEFycmF5fTsKVy5wcm90b3R5cGUuQmE9ZnVuY3Rpb24oKXt2YXIgYT17fSxiPXRoaXMuYTtpZihiKXt2YXIgYz1iLlhiKCk7YS5CYW5kd2lkdGhFc3RpbWF0b3I9Yy5CYW5kd2lkdGhFc3RpbWF0b3I7dmFyIGQ9Yy5WaWRlb1NvdXJjZVN0cmVhbTtkJiYoYS5WaWRlb1NvdXJjZVN0cmVhbT1kLChkPWEuVmlkZW9CdWZmZXJNYW5hZ2VyPWQuQmEoKS5Tb3VyY2VCdWZmZXJNYW5hZ2VyKSYmKGEuVmlkZW9Tb3VyY2VCdWZmZXI9ZC5CYSgpLlNvdXJjZUJ1ZmZlcikpOyhkPWEuQXVkaW9Tb3VyY2VTdHJlYW09Yy5BdWRpb1NvdXJjZVN0cmVhbSkmJihkPWEuQXVkaW9CdWZmZXJNYW5hZ2VyPWQuQmEoKS5Tb3VyY2VCdWZmZXJNYW5hZ2VyKSYmKGEuQXVkaW9Tb3VyY2VCdWZmZXI9ZC5CYSgpLlNvdXJjZUJ1ZmZlcik7YS5UZXh0U291cmNlU3RyZWFtPWMuVGV4dFNvdXJjZVN0cmVhbTthLmdldE1hbmlmZXN0PWIuVGIuYmluZChiKX1lbHNlIGEuZ2V0TWFuaWZlc3Q9ZnVuY3Rpb24oKXt9O2EuTmQ9ITA7cmV0dXJuIGF9OwpXLnByb3RvdHlwZS5nZXREZWJ1Zz1XLnByb3RvdHlwZS5CYTtXLnByb3RvdHlwZS5zYT1mdW5jdGlvbihhKXt0aGlzLlk9YX07Vy5wcm90b3R5cGUuc2V0UmVzdW1lQWZ0ZXJCdWZmZXJpbmc9Vy5wcm90b3R5cGUuc2E7ZnVuY3Rpb24gT2UoYSl7cmV0dXJuInRleHQvdnR0Ij09YT8hIXdpbmRvdy5WVFRDdWU6TWVkaWFTb3VyY2UuaXNUeXBlU3VwcG9ydGVkKGEpfVcuaXNUeXBlU3VwcG9ydGVkPU9lO1cuc2V0VGV4dFN0eWxlPWZ1bmN0aW9uKGEpe3ZhciBiPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJTaGFrYVBsYXllclRleHRTdHlsZSIpO2J8fChiPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInN0eWxlIiksYi5pZD0iU2hha2FQbGF5ZXJUZXh0U3R5bGUiLGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoYikpO2ZvcihiPWIuc2hlZXQ7Yi5jc3NSdWxlcy5sZW5ndGg7KWIuZGVsZXRlUnVsZSgwKTtiLmluc2VydFJ1bGUoIjo6Y3VlIHsgIityYShhKSsiIH0iLDApfTsKVy5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3JldHVybiB0aGlzLlUoKS50aGVuKEoodGhpcyxmdW5jdGlvbigpe3RoaXMuZy5kZXN0cm95KCk7dGhpcy5iPXRoaXMuZz1udWxsO3RoaXMuUiYmdGhpcy5SLnJlbW92ZSgpfSkpLmNhdGNoKGZ1bmN0aW9uKCl7fSl9O1cucHJvdG90eXBlLmRlc3Ryb3k9Vy5wcm90b3R5cGUuZGVzdHJveTtXLnByb3RvdHlwZS5VPWZ1bmN0aW9uKCl7dGhpcy5LPSEwO3JldHVybiBaZSh0aGlzKX07Vy5wcm90b3R5cGUudW5sb2FkPVcucHJvdG90eXBlLlU7CmZ1bmN0aW9uIFplKGEpe3ZhciBiO2EubCYmKGI9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigidW5sb2FkIikuc3RhcnQoKSk7aWYoIWEuYSlyZXR1cm4gYiYmYi5sb2coKSxQcm9taXNlLnJlc29sdmUoKTthLmgmJiRlKGEsInVubG9hZGluZyIpO2EuYi5wYXVzZSgpO2RiKGEuZyk7YWYoYSk7YmYoYSk7YS5pJiYoYS5pLmRlc3Ryb3koKSxhLmk9bnVsbCk7YS5hJiYoYS5hLmRlc3Ryb3koKSxhLmE9bnVsbCk7YS5mLmdldEJvb2woInd3d192aWRlb3NfcGxheWJhY2tfcmVtb3ZlX3NyY19hdHRyX29uX3VubG9hZCIsITEpP2EuYi5yZW1vdmVBdHRyaWJ1dGUoInNyYyIpOmEuYi5zcmM9IiI7dmFyIGM9YS5mLmdldEJvb2woInd3d19zaGFrYV9jbGVhcl9tZWRpYV9rZXlzX29uX3VubG9hZCIsITEpJiZhLmIuc2V0TWVkaWFLZXlzJiYiZnVuY3Rpb24iPT09dHlwZW9mIGEuYi5zZXRNZWRpYUtleXM/YS5iLnNldE1lZGlhS2V5cyhudWxsKTpQcm9taXNlLnJlc29sdmUoKSxjPWMudGhlbihmdW5jdGlvbigpe2ImJgpiLmxvZygpO2lmKGEuZi5nZXRCb29sKCJlbmFibGVfcDJwX3N1cHBvcnQiLCExKSl7dmFyIGM9eSh7dHlwZToidW5sb2FkIn0pO2EuZGlzcGF0Y2hFdmVudChjKX19KTthLmg9ITE7YS5PPSExO2EuQT0hMTthLnU9ITE7cmV0dXJuIGN9ZnVuY3Rpb24gY2YoYSxiKXtmb3IodmFyIGM9MDtjPGEubGVuZ3RoO2MrKyliLnB1c2goYVtjXS5jb250ZW50VHlwZSxhW2NdKX1XLnByb3RvdHlwZS5GYT1mdW5jdGlvbihhKXtyZXR1cm4gZGYodGhpcyxhKX07Vy5wcm90b3R5cGUubG9hZD1XLnByb3RvdHlwZS5GYTsKZnVuY3Rpb24gZGYoYSxiKXt2YXIgYzthLmwmJihjPWEubC5nZXRPcGVyYXRpb25Mb2dnZXIoImxvYWQiKS5zZXRTdGF0ZSgibG9hZGluZyIpLnN0YXJ0KCksYi5sPWIuZy5wZXJmb3JtYW5jZUxvZ2dlcj1hLmwpO2EuRyYmKGIuQWI9Yi5nLmFickxvZ2dlcj1hLkcpO2EuYmEmJihiLmlhPWEuYmEpO2EuY2EmJihiLkk9YS5jYSk7YS5nYSYmYi5VLnB1c2goYS5nYSk7ZWYoYixhLmIpO3ZhciBkPW51bGw7YS5LPSExO0UoYS5nLGIsInJlcGxpY2Fzd2l0Y2giLGEubmEuYmluZChhKSk7YS5hJiYoZD1aZShhKS50aGVuKEooYSxmdW5jdGlvbigpe3JldHVybiBiLndiKCl9KSkpO2EuYi5hdXRvcGxheSYmKHUucWEoImxvYWQiKSxFKGEuZyxhLmIsInRpbWV1cGRhdGUiLGEuZWQuYmluZChhKSkpO2IubGMoYS5jKTtiLmxhPWEuVDthLlQ9bnVsbDtkfHwoZD1iLndiKCkpO2EuZi5nZXRCb29sKCJmaXhfc2hha2FfcGxheWVyX2xvYWRfcmFjZV9jb25kaXRpb24iLCExKSYmKGEuYT1iKTtkLmNhdGNoKEooYSwKZnVuY3Rpb24oYSl7Yi5kZXN0cm95KCk7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfSkpO3JldHVybiBkLnRoZW4oSihhLGZ1bmN0aW9uKCl7aWYoZmYodGhpcyxiKSlyZXR1cm4gZ2YoKTt0aGlzLmE9Yjt0aGlzLmcuYWIodGhpcy5hLCJyZXBsaWNhc3dpdGNoIik7RSh0aGlzLmcsdGhpcy5hLCJzZWVrcmFuZ2VjaGFuZ2VkIix0aGlzLnBhLmJpbmQodGhpcykpO0UodGhpcy5nLHRoaXMuYSwiYWxsU3RyZWFtc1N0YXJ0ZWQiLHRoaXMuRmQuYmluZCh0aGlzKSk7dmFyIGE9bmV3IEQ7Y2YoTmUodGhpcy5hKSxhKTtQZSh0aGlzLmEsYSk7YT10aGlzLmVhKCk7YyYmMDxhLmxlbmd0aCYmKGE9YS5yZWR1Y2UoZnVuY3Rpb24oYSxiKXtpZihudWxsPT09YXx8Yi5iYW5kd2lkdGg8YS5iYW5kd2lkdGgpYT1iO3JldHVybiBhfSxudWxsKSxjLnNldExvd2VzdFF1YWxpdHlSZXByZXNlbnRhdGlvbklEKGEuc3RyZWFtSW5mb0lEKSk7aWYoIXRoaXMuYy5lbmFibGVDb250ZW50UHJvdGVjdGlvbilyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7CnRoaXMuaT1uZXcgTWUodGhpcyx0aGlzLmIsdGhpcy5hLHRoaXMubCk7cmV0dXJuIHRoaXMuaS5pbml0aWFsaXplKCl9KSkudGhlbihKKGEsZnVuY3Rpb24oKXtpZihmZih0aGlzLGIpKXJldHVybiBnZigpO2hmKHRoaXMpO0UodGhpcy5nLHRoaXMuYiwicGxheWluZyIsdGhpcy5rZC5iaW5kKHRoaXMpKTtFKHRoaXMuZyx0aGlzLmIsInBhdXNlIix0aGlzLm1hLmJpbmQodGhpcykpO0UodGhpcy5nLHRoaXMuYiwid2FpdGluZyIsdGhpcy5zZC5iaW5kKHRoaXMpKTtFKHRoaXMuZyx0aGlzLmIsInBsYXkiLHRoaXMuaWEuYmluZCh0aGlzKSk7cmV0dXJuIGpmKHRoaXMuYSx0aGlzLHRoaXMuYil9KSkudGhlbihKKGEsZnVuY3Rpb24oKXtpZihmZih0aGlzLGIpKXJldHVybiBnZigpO2lmKHRoaXMuYy5lbmFibGVDb250ZW50UHJvdGVjdGlvbil7dmFyIGE7dGhpcy5sJiYoYT10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJlbWVfYXR0YWNoIikpO3JldHVybiBTZSh0aGlzLmkpLnRoZW4oZnVuY3Rpb24oKXthJiYKYS5sb2coKX0pfXJldHVybiBQcm9taXNlLnJlc29sdmUoKX0pKS50aGVuKEooYSxmdW5jdGlvbigpe2lmKGZmKHRoaXMsYikpcmV0dXJuIGdmKCk7a2YodGhpcyk7YyYmYy51cGRhdGVTdGF0ZSgicmVhZHkiKS5sb2coKX0pKS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7YyYmYy5zZXRFcnJvcihKU09OLnN0cmluZ2lmeShhKSkubG9nKCk7aWYoZmYodGhpcyxiKSlyZXR1cm4gZ2YoKTtpZigiZGVzdHJveSIhPWEudHlwZSl7dmFyIGQ9QShhKTt0aGlzLmRpc3BhdGNoRXZlbnQoZCl9cmV0dXJuIHRoaXMuVSgpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYSl9KX0pKX1mdW5jdGlvbiBmZihhLGIpe3JldHVybiFhLmJ8fGEuS3x8YS5mLmdldEJvb2woImZpeF9zaGFrYV9wbGF5ZXJfbG9hZF9yYWNlX2NvbmRpdGlvbiIsITEpJiZiIT09YS5hfW49Vy5wcm90b3R5cGU7Cm4uRmQ9ZnVuY3Rpb24oKXt2YXIgYSxiO3RoaXMuZi5nZXRCb29sKCJ3d3dfdmlkZW9zX2V4dGVuZGVkX3NwbF9sb2dnaW5nX2Zvcl9jb25uZWN0ZWRfdHYiLCExKSYmdGhpcy5sJiYoYT10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJvbl9hbGxfc3RyZWFtc19zdGFydGVkIiksYj10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJyZXN0b3JlX3ZpZGVvX3BsYXliYWNrX3JhdGUiKSk7dGhpcy5PPSEwO3RoaXMuaD90aGlzLkQoKToodGhpcy5iLnBsYXliYWNrUmF0ZT10aGlzLmosYiYmYi5sb2coKSk7YSYmYS5sb2coKX07ZnVuY3Rpb24gZ2YoKXt2YXIgYT1FcnJvcigiUGxheWVyIGRlc3Ryb3llZCIpO2EudHlwZT0iZGVzdHJveSI7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfQpmdW5jdGlvbiBoZihhKXt2YXIgYj1hLmIucGFyZW50Tm9kZTtiJiZhLmYuZ2V0Qm9vbCgicHJldmVudF9wbGF5aW5nX29uX2luc3VmZmljaWVudF9idWZmZXIiLCExKSYmKGEuUj1ldmVudExpc3RlbmVyQ2FwdHVyZShiLCJwbGF5aW5nIixmdW5jdGlvbihhKXthLnRhcmdldD09PXRoaXMuYiYmdGhpcy5EKGEpfS5iaW5kKGEpKSl9bi5lZD1mdW5jdGlvbigpe3UuZW5kKCJsb2FkIik7dGhpcy5nLmFiKHRoaXMuYiwidGltZXVwZGF0ZSIpfTtuLnNkPWZ1bmN0aW9uKGEpe2xmKHRoaXMpO3RoaXMuZi5nZXRCb29sKCJ1bmlmeV9zdHJlYW1fc3RhcnRfd2l0aF9idWZmZXJfZGV0ZWN0b3IiLCExKSYmIXRoaXMuaCYmdGhpcy5EKGEpfTsKbi5rZD1mdW5jdGlvbigpe3UucWEoInBsYXlpbmciKTt0aGlzLmwmJnRoaXMubC5nZXRFdmVudExvZ2dlcigicGxheWluZyIpLnNldFN0YXRlKCJwbGF5aW5nIikubG9nKCk7IXRoaXMubSYmMD50aGlzLmomJih0aGlzLmIucGxheWJhY2tSYXRlPTAsdGhpcy5QKHRoaXMuYi5jdXJyZW50VGltZSxEYXRlLm5vdygpLHRoaXMuaikpO3RoaXMuaCYmIXRoaXMuViYmJGUodGhpcywicGxheWluZyIpfTtuLkJkPWZ1bmN0aW9uKGEpe3RoaXMudT1hfTtXLnByb3RvdHlwZS5zZXRQZW5kaW5nUGxheVJlcXVlc3Q9Vy5wcm90b3R5cGUuQmQ7Vy5wcm90b3R5cGUuaWE9ZnVuY3Rpb24oKXt0aGlzLnU9ITB9O1cucHJvdG90eXBlLm1hPWZ1bmN0aW9uKCl7dGhpcy5sJiZ0aGlzLmwuZ2V0RXZlbnRMb2dnZXIoInBhdXNlIikuc2V0U3RhdGUoInBhdXNlZCIpLmxvZygpO3UuZW5kKCJwbGF5aW5nIik7dS5nZXQoInBsYXlpbmciKTtiZih0aGlzKX07ClcucHJvdG90eXBlLnBhPWZ1bmN0aW9uKGEpe3RoaXMuRj1hLnN0YXJ0O3RoaXMuJD1hLmxhc3Q7dGhpcy5aPWEuZW5kO3RoaXMuUz1hLnNlZWtSYW5nZUdhcHM7dGhpcy5mLmdldEJvb2woIm5vX3NraXBfZ2Fwc19vbl9zZWVrX3JhbmdlX2NoYW5nZWQiLCExKXx8bGYodGhpcyl9O1cucHJvdG90eXBlLmVhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYT90aGlzLmEuWigpOltdfTtXLnByb3RvdHlwZS5nZXRWaWRlb1RyYWNrcz1XLnByb3RvdHlwZS5lYTtXLnByb3RvdHlwZS54YT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmE/dGhpcy5hLnZhKCk6W119O1cucHJvdG90eXBlLmdldEF1ZGlvVHJhY2tzPVcucHJvdG90eXBlLnhhO1cucHJvdG90eXBlLkRhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYT90aGlzLmEubWMoKTpbXX07Vy5wcm90b3R5cGUuZ2V0VGV4dFRyYWNrcz1XLnByb3RvdHlwZS5EYTsKVy5wcm90b3R5cGUuc2VsZWN0VmlkZW9UcmFjaz1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmE/dGhpcy5hLnNlbGVjdFZpZGVvVHJhY2soYSx2b2lkIDA9PWI/ITA6Yik6ITF9O1cucHJvdG90eXBlLnNlbGVjdFZpZGVvVHJhY2s9Vy5wcm90b3R5cGUuc2VsZWN0VmlkZW9UcmFjaztXLnByb3RvdHlwZS5HYT1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIHRoaXMuYT9tZih0aGlzLmEsImF1ZGlvIixhLHZvaWQgMD09Yj8hMDpiLGMpOiExfTtXLnByb3RvdHlwZS5zZWxlY3RBdWRpb1RyYWNrPVcucHJvdG90eXBlLkdhO1cucHJvdG90eXBlLkhhPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmE/bWYodGhpcy5hLCJ0ZXh0IixhLCExKTohMX07Vy5wcm90b3R5cGUuc2VsZWN0VGV4dFRyYWNrPVcucHJvdG90eXBlLkhhO1cucHJvdG90eXBlLndhPWZ1bmN0aW9uKGEpe3RoaXMuYSYmbmYodGhpcy5hLGEpfTtXLnByb3RvdHlwZS5lbmFibGVUZXh0VHJhY2s9Vy5wcm90b3R5cGUud2E7ClcucHJvdG90eXBlLnJhPWZ1bmN0aW9uKGEpe2JmKHRoaXMpO3RoaXMudyYmdGhpcy5ofHwhKDA8PWEpP3RoaXMuYi5wYXVzZWR8fCh0aGlzLmIucGxheWJhY2tSYXRlPTAsdGhpcy5QKHRoaXMuYi5jdXJyZW50VGltZSxEYXRlLm5vdygpLGEpKTp0aGlzLmIucGxheWJhY2tSYXRlPWE7dGhpcy5qPWF9O1cucHJvdG90eXBlLnNldFBsYXliYWNrUmF0ZT1XLnByb3RvdHlwZS5yYTtXLnByb3RvdHlwZS5rYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmp9O1cucHJvdG90eXBlLmdldFBsYXliYWNrUmF0ZT1XLnByb3RvdHlwZS5rYTtXLnByb3RvdHlwZS5DYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmE/dGhpcy5hLk9iKCk6bnVsbH07Vy5wcm90b3R5cGUuZ2V0TWFuaWZlc3Q9Vy5wcm90b3R5cGUuQ2E7Vy5wcm90b3R5cGUuUGE9ZnVuY3Rpb24oYSl7dGhpcy5UPWF9O1cucHJvdG90eXBlLnNldFBsYXliYWNrU3RhcnRUaW1lPVcucHJvdG90eXBlLlBhOwpXLnByb3RvdHlwZS5JPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYT8hIXRoaXMuYS5QKCk6ITF9O1cucHJvdG90eXBlLmlzTGl2ZT1XLnByb3RvdHlwZS5JOwpXLnByb3RvdHlwZS52YT1mdW5jdGlvbihhKXtpZihhKXt2YXIgYj1CKGEsImVuYWJsZUFkYXB0YXRpb24iKTtudWxsIT1iJiYodGhpcy5jLmVuYWJsZUFkYXB0YXRpb249Yik7Yj1CKGEsImVuZEJ1ZmZlcmluZ09uUGxheWluZyIpO251bGwhPWImJih0aGlzLlY9Yik7Yj1CKGEsInVzZVBsYXliYWNrUmF0ZUZvckJ1ZmZlcmluZyIpO251bGwhPWImJih0aGlzLnc9Yik7Yj1DKGEsInN0cmVhbUJ1ZmZlclNpemUiLDApO251bGwhPWImJih0aGlzLmMuc3RyZWFtQnVmZmVyU2l6ZT1iKTtiPUMoYSwiZHluYW1pY1N0cmVhbUJ1ZmZlclNpemUiLDApO251bGwhPWImJih0aGlzLmMuZHluYW1pY1N0cmVhbUJ1ZmZlclNpemU9Yik7bnVsbCE9YS5zbWFydEJ1ZmZlckFkanVzdG1lbnRQYXJhbXMmJih0aGlzLmMuc21hcnRCdWZmZXJBZGp1c3RtZW50UGFyYW1zPWEuc21hcnRCdWZmZXJBZGp1c3RtZW50UGFyYW1zKTtiPUIoYSwiYWRkQ2RuRGVidWdRdWVyeVBhcmFtZXRlcnMiKTtudWxsIT1iJiYKKHRoaXMuYy5hZGRDZG5EZWJ1Z1F1ZXJ5UGFyYW1ldGVycz1iKTtiPUMoYSwiaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemUiLDApO251bGwhPWImJih0aGlzLmMuaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemU9Yik7Yj1CKGEsImluY2x1ZGVTdHJlYW1CdWZmZXJTaXplSW5TdGFydE9mZnNldCIpO251bGwhPWImJih0aGlzLmMuaW5jbHVkZVN0cmVhbUJ1ZmZlclNpemVJblN0YXJ0T2Zmc2V0PWIpO2I9QyhhLCJqdW1wVG9MaXZlVGhyZXNob2xkIik7bnVsbCE9YiYmKHRoaXMuYy5qdW1wVG9MaXZlVGhyZXNob2xkPWIpO2I9QyhhLCJsaXZlU3RyZWFtRW5kVGltZW91dCIsMCk7bnVsbCE9YiYmKHRoaXMuYy5saXZlU3RyZWFtRW5kVGltZW91dD1iKTtiPUMoYSwibGljZW5zZVJlcXVlc3RUaW1lb3V0IiwwKTtudWxsIT1iJiYodGhpcy5jLmxpY2Vuc2VSZXF1ZXN0VGltZW91dD1iKTtiPUMoYSwibXBkUmVxdWVzdFRpbWVvdXQiLDApO251bGwhPWImJih0aGlzLmMubXBkUmVxdWVzdFRpbWVvdXQ9CmIpO2I9QyhhLCJtaW5NcGRSZWZyZXNoSW50ZXJ2YWwiLDApO251bGwhPWImJih0aGlzLmMubWluTXBkUmVmcmVzaEludGVydmFsPWIpO2I9QihhLCJlbmFibGVMaXZlSW50ZXJydXB0aW9uRGV0ZWN0aW9uIik7bnVsbCE9YiYmKHRoaXMuYy5lbmFibGVMaXZlSW50ZXJydXB0aW9uRGV0ZWN0aW9uPWIpO2I9QihhLCJlbmFibGVNYW5pZmVzdERlYnVnIik7bnVsbCE9YiYmKHRoaXMuYy5lbmFibGVNYW5pZmVzdERlYnVnPWIsRi5wcm90b3R5cGUub2M9YixifHwoRi5wcm90b3R5cGUuTGE9ZnVuY3Rpb24oKXt9KSk7Yj1CKGEsInJlc29sdmVWaWRlb1RpbWVVcGRhdGVPbkZyYWdtZW50ZWRUaW1lUmFuZ2VzIik7bnVsbCE9YiYmKHRoaXMuYy5yZXNvbHZlVmlkZW9UaW1lVXBkYXRlT25GcmFnbWVudGVkVGltZVJhbmdlcz1iKTtiPUMoYSwibGl2ZUludGVycnVwdGlvbkNvbnNlY3V0aXZlVXBkYXRlc1dpdGhvdXRDaGFuZ2UiKTtudWxsIT1iJiYodGhpcy5jLmxpdmVJbnRlcnJ1cHRpb25Db25zZWN1dGl2ZVVwZGF0ZXNXaXRob3V0Q2hhbmdlPQpiKTtiPUMoYSwibGl2ZUludGVycnVwdGlvbkNvbnNlY3V0aXZlVXBkYXRlc1dpdGhDaGFuZ2UiKTtudWxsIT1iJiYodGhpcy5jLmxpdmVJbnRlcnJ1cHRpb25Db25zZWN1dGl2ZVVwZGF0ZXNXaXRoQ2hhbmdlPWIpO2I9QihhLCJyZWFwcGVuZEluaXRTZWdtZW50QWZ0ZXJBYm9ydCIpO251bGwhPWImJih0aGlzLmMucmVhcHBlbmRJbml0U2VnbWVudEFmdGVyQWJvcnQ9Yik7Yj1CKGEsImxpdmVTZW5kUHVzaEhlYWRlcnMiKTtudWxsIT1iJiYodGhpcy5jLmxpdmVTZW5kUHVzaEhlYWRlcnM9Yik7Yj1DKGEsImxpdmVNYXhNYW5pZmVzdEZldGNoZXNXaXRoUHVzaCIpO251bGwhPWImJih0aGlzLmMubGl2ZU1heE1hbmlmZXN0RmV0Y2hlc1dpdGhQdXNoPWIpO2I9QyhhLCJsaXZlTWF4U2VnbWVudHNUb1B1c2giKTtudWxsIT1iJiYodGhpcy5jLmxpdmVNYXhTZWdtZW50c1RvUHVzaD1iKTtiPUMoYSwic2VnbWVudFJlcXVlc3RUaW1lb3V0IiwwKTtudWxsIT1iJiYodGhpcy5jLnNlZ21lbnRSZXF1ZXN0VGltZW91dD0KYik7Yj1ZYShhLCJwcmVmZXJyZWRMYW5ndWFnZSIpO251bGwhPWImJih0aGlzLmMucHJlZmVycmVkTGFuZ3VhZ2U9Yik7Yj1aYShhLCJyZXN0cmljdGlvbnMiLGthKTtudWxsIT1iJiYodGhpcy5jLnJlc3RyaWN0aW9ucz1iLmNsb25lKCkpO2I9YS5saXZlSW5pdGlhbFB1c2hSZXByZXNlbnRhdGlvbjtudWxsIT1iJiYodGhpcy5jLmxpdmVJbml0aWFsUHVzaFJlcHJlc2VudGF0aW9uPWIpO2I9YS5saXZlQXVkaW9QdXNoUmVwcmVzZW50YXRpb247bnVsbCE9YiYmKHRoaXMuYy5saXZlQXVkaW9QdXNoUmVwcmVzZW50YXRpb249Yik7Yj1hLnVzZUlubGluZUluaXRTZWdtZW50O251bGwhPWImJih0aGlzLmMudXNlSW5saW5lSW5pdFNlZ21lbnQ9Yik7Yj1CKGEsImRpc2FibGVDYWNoZUJ1c3RpbmdFdmVuVGhvdWdoSXRNYXlBZmZlY3RCYW5kd2lkdGhFc3RpbWF0aW9uIik7bnVsbCE9YiYmKFRjPSFiKTtiPUIoYSwiY3VycmVudFRpbWVEdXJpbmdSZWFkeVN0YXRlWmVyb1Rocm93cyIpO251bGwhPQpiJiYodGhpcy5jLmN1cnJlbnRUaW1lRHVyaW5nUmVhZHlTdGF0ZVplcm9UaHJvd3M9Yik7Yj1DKGEsImxpdmVEYXRhRmV0Y2hNYXhSZXRyaWVzIik7bnVsbCE9YiYmKHRoaXMuYy5saXZlRGF0YUZldGNoTWF4UmV0cmllcz1iKTtiPUMoYSwibGl2ZVNvdXJjZUJ1ZmZlckNsZWFyTWF4UmV0cmllcyIpO251bGwhPWImJih0aGlzLmMubGl2ZVNvdXJjZUJ1ZmZlckNsZWFyTWF4UmV0cmllcz1iKTtiPUIoYSwidXNlTG9uZ0NhY2hlRm9yTWFuaWZlc3QiKTtudWxsIT1iJiYodGhpcy5jLnVzZUxvbmdDYWNoZUZvck1hbmlmZXN0PWIpO2I9QihhLCJqdW1wVG9FYXJsaWVzdFBvc2l0aW9uSW5DdXJyZW50QmxvY2siKTtudWxsIT1iJiYodGhpcy5jLmp1bXBUb0VhcmxpZXN0UG9zaXRpb25JbkN1cnJlbnRCbG9jaz1iKTtiPUIoYSwiaWdub3JlTWluQnVmZmVyVGltZSIpO251bGwhPWImJih0aGlzLmMuaWdub3JlTWluQnVmZmVyVGltZT1iKTtiPUMoYSwicGxheWhlYWRGcmFnbWVudGVkR2FwRGlmZkFsbG93YW5jZSIpOwpudWxsIT1iJiYodGhpcy5jLnBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2U9Yik7Yj1CKGEsImZpeEJ1ZmZlcmluZ0dvYWxEZXRlcm1pbmF0aW9uIik7bnVsbCE9YiYmKHRoaXMuYy5maXhCdWZmZXJpbmdHb2FsRGV0ZXJtaW5hdGlvbj1iKTtiPUIoYSwic2tpcEVtcHR5U2VnbWVudHMiKTtudWxsIT1iJiYodGhpcy5jLnNraXBFbXB0eVNlZ21lbnRzPWIpOyhiPUIoYSwidXNlTWljcm9UYXNrVGltZW91dHMiKSkmJih0aGlzLmMudXNlTWljcm9UYXNrVGltZW91dHM9Yik7KGI9QihhLCJlbmFibGVSZXF1ZXN0UGlwZWxpbmluZyIpKSYmKHRoaXMuYy5lbmFibGVSZXF1ZXN0UGlwZWxpbmluZz1iKTsoYj1CKGEsImVuYWJsZVN0cmVhbWluZyIpKSYmKHRoaXMuYy5lbmFibGVTdHJlYW1pbmc9Yik7KGE9QihhLCJlbmFibGVDb250ZW50UHJvdGVjdGlvbiIpKSYmKHRoaXMuYy5lbmFibGVDb250ZW50UHJvdGVjdGlvbj1hKTt0aGlzLmEmJnRoaXMuYS5sYyh0aGlzLmMpfX07ClcucHJvdG90eXBlLmNvbmZpZ3VyZT1XLnByb3RvdHlwZS52YTtXLnByb3RvdHlwZS5PYT1mdW5jdGlvbihhKXt0aGlzLmEmJnRoaXMuYS5xYyhhKX07Vy5wcm90b3R5cGUuc2V0RW5hYmxlTGl2ZWhlYWRDYXRjaHVwPVcucHJvdG90eXBlLk9hO1cucHJvdG90eXBlLkVhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYT90aGlzLmEubmE6ITF9O1cucHJvdG90eXBlLmlzTGl2ZWhlYWRDYXRjaHVwRW5hYmxlZD1XLnByb3RvdHlwZS5FYTsKZnVuY3Rpb24gbGYoYSl7aWYoYS5mLmdldEJvb2woInNraXBfbWFuaWZlc3RfZ2FwX2Jhc2VkX29uX3N0cmVhbV9saW1pdHMiLCExKSYmKCFhLkkoKXx8IWEuZi5nZXRCb29sKCJub19za2lwX21hbmlmZXN0X2dhcHNfaWZfbGl2ZSIsITEpKSl7dmFyIGI7YS5mLmdldEJvb2woInNraXBfbWFuaWZlc3RfZ2Fwc191c2VfY2FjaGVkX3N0cmVhbV9saW1pdHMiLCExKT9hLmEmJm51bGwhPT1hLlM/Yj17c3RhcnQ6YS5GLGVuZDphLlosbGFzdDphLiQsWmE6YS5TfTpiPWEuYT9hLmEubmIoKTpudWxsOmI9YS5hP2EuYS5uYigpOm51bGw7aWYoYilmb3IodmFyIGM9YS5mLmdldE51bWJlcigic2tpcF9tYW5pZmVzdF9nYXBfYm91bmRhcnlfcHJlY2lzaW9uX21zIiwxRTMpLzFFMyxkPWIuWmEsZT1hLmIucGxheWJhY2tSYXRlLGY9YS5iLmN1cnJlbnRUaW1lLGc9MDtnPGQubGVuZ3RoOysrZyl7dmFyIGg9ZFtnXS5zdGFydFRpbWUtYyxrPWRbZ10uZW5kVGltZStjO2Y8PWsmJmY+PWgmJihhLmYuZ2V0Qm9vbCgiZml4X3NlZWtfcmFuZ2VfZ2FwX2JvdW5kYXJ5IiwKITEpfHwoaD1kW2ddLnN0YXJ0VGltZSxrPWRbZ10uZW5kVGltZSksMDw9ZT9iLmVuZD5rJiYoYS5iLmN1cnJlbnRUaW1lPWspOmIuc3RhcnQ8aCYmKGEuYi5jdXJyZW50VGltZT1oKSl9fX1XLnByb3RvdHlwZS5sYT1mdW5jdGlvbigpe3ZhciBhPXRoaXMuYSYmdGhpcy5hLm5iKCk7cmV0dXJuKGE9YSYme3N0YXJ0OmEuc3RhcnQsZW5kOmEuZW5kLGxhc3Q6YS5sYXN0LHNlZWtSYW5nZUdhcHM6YS5aYX0pfHxudWxsfTtXLnByb3RvdHlwZS5nZXRWaWRlb1NvdXJjZVN0cmVhbUxpbWl0cz1XLnByb3RvdHlwZS5sYTtXLnByb3RvdHlwZS55YT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmN9O1cucHJvdG90eXBlLmdldENvbmZpZ3VyYXRpb249Vy5wcm90b3R5cGUueWE7ZnVuY3Rpb24gYmYoYSl7YS5tJiYoY2xlYXJUaW1lb3V0KGEubSksYS5tPW51bGwpfQpmdW5jdGlvbiBrZihhKXt2YXIgYjthLmYuZ2V0Qm9vbCgid3d3X3ZpZGVvc19leHRlbmRlZF9zcGxfbG9nZ2luZ19mb3JfY29ubmVjdGVkX3R2IiwhMSkmJmEubCYmKGI9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigic3RhcnRfd2F0Y2hkb2ciKSk7YWYoYSk7YS5KPXNldFRpbWVvdXQoYS5ELmJpbmQoYSksMTAwKTtiJiZiLmxvZygpfWZ1bmN0aW9uIGFmKGEpe3ZhciBiO2EuZi5nZXRCb29sKCJ3d3dfdmlkZW9zX2V4dGVuZGVkX3NwbF9sb2dnaW5nX2Zvcl9jb25uZWN0ZWRfdHYiLCExKSYmYS5sJiYoYj1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJjYW5jZWxfd2F0Y2hkb2ciKSk7YS5KJiYoY2xlYXJUaW1lb3V0KGEuSiksYS5KPW51bGwpO2ImJmIubG9nKCl9ClcucHJvdG90eXBlLlA9ZnVuY3Rpb24oYSxiLGMpe3RoaXMubT1udWxsO3ZhciBkPShEYXRlLm5vdygpLWIpLzFFMypjO3RoaXMuYi5jdXJyZW50VGltZTx0aGlzLkYrKHRoaXMuSSgpPzE6LjA1KT90aGlzLmIucGF1c2UoKTooZD1NYXRoLm1heCh0aGlzLkYsYStkKSx0aGlzLmIuY3VycmVudFRpbWU9ZCx0aGlzLm09c2V0VGltZW91dCh0aGlzLlAuYmluZCh0aGlzLGEsYixjKSwyNTApKX07ZnVuY3Rpb24gb2YoYSl7cmV0dXJuIGEuZi5nZXRCb29sKCJ1bmlmeV9zdHJlYW1fc3RhcnRfd2l0aF9idWZmZXJfZGV0ZWN0b3IiLCExKSYmIWEuT30KZnVuY3Rpb24gJGUoYSxiKXtpZighb2YoYSkpe3UuZW5kKCJidWZmZXJpbmciKTtudWxsIT09YS5CJiYoYS5CPW51bGwpO2EubyYmKGEuby5zZXRDb25jbHVkZXIoYikubG9nKCksYS5vPW51bGwpO2lmKGEuRyl7dmFyIGM9RGF0ZS5ub3coKTthLkcuc2V0RXZlbnQoImJ1ZmZlcmluZyIpLnNldENsaWVudFRpbWVCZWdpbihNYXRoLnJvdW5kKGMtdS5nZXQoImJ1ZmZlcmluZyIpKSkuc2V0Q2xpZW50VGltZUVuZChNYXRoLnJvdW5kKGMpKS5sb2coKX1hLncmJihhLmIucGxheWJhY2tSYXRlPWEuaik7YS5oPSExO2EuZGlzcGF0Y2hFdmVudCh5KHt0eXBlOiJidWZmZXJpbmdFbmQifSkpO2EuQSYmKGEuQT0hMSxkaXNwYXRjaERvbUV2ZW50KGEuYiwicGxheWluZyIpKTthLnU9ITF9fVcucHJvdG90eXBlLmphPWZ1bmN0aW9uKGEpe3RoaXMuZGlzcGF0Y2hFdmVudCh5KGEpKX07Vy5wcm90b3R5cGUuZGlzcGF0Y2hFdmVudEV4dGVybj1XLnByb3RvdHlwZS5qYTsKZnVuY3Rpb24gcGYoYSl7dmFyIGI9YS5iLmJ1ZmZlcmVkO2lmKDE9PT1iLmxlbmd0aCliPWIuZW5kKDApO2Vsc2UgaWYoMD09PWIubGVuZ3RoKWI9MDtlbHNle2Zvcih2YXIgYz0wLGQ9MDtkPGIubGVuZ3RoOysrZCliLmVuZChkKT49YS5iLmN1cnJlbnRUaW1lJiYoYz1iLnN0YXJ0KGQpPD1hLmIuY3VycmVudFRpbWU/YysoYi5lbmQoZCktYS5iLmN1cnJlbnRUaW1lKTpjKyhiLmVuZChkKS1iLnN0YXJ0KGQpKSk7cmV0dXJuIGN9cmV0dXJuIE1hdGgubWF4KGItYS5iLmN1cnJlbnRUaW1lLDApfQpXLnByb3RvdHlwZS5EPWZ1bmN0aW9uKGEpe2lmKCF0aGlzLmYuZ2V0Qm9vbCgicHJldmVudF9wbGF5aW5nX29uX2luc3VmZmljaWVudF9idWZmZXIiLCExKXx8IXRoaXMuSyl7a2YodGhpcyk7dmFyIGI9YT9hLnR5cGU6IiIsYz0id2FpdGluZyI9PT1iO2lmKCF0aGlzLmIuZW5kZWQmJiF0aGlzLmIuc2Vla2luZ3x8Yyl7dmFyIGQ7dGhpcy5mLmdldEJvb2woInd3d192aWRlb3NfZXh0ZW5kZWRfc3BsX2xvZ2dpbmdfZm9yX2Nvbm5lY3RlZF90diIsITEpJiZ0aGlzLmwmJihkPXRoaXMubC5nZXRPcGVyYXRpb25Mb2dnZXIoIndhdGNoZG9nIikpO3ZhciBlPXRoaXMuYi5idWZmZXJlZCxmPWUubGVuZ3RoP2UuZW5kKGUubGVuZ3RoLTEpOjAsZzt0aGlzLmYuZ2V0Qm9vbCgiZml4X3Vuc3RhbGxfYnVmZmVyX2NhbGN1bGF0aW9uIiwhMSk/Zz1wZih0aGlzKTpnPU1hdGgubWF4KGYtdGhpcy5iLmN1cnJlbnRUaW1lLDApO3ZhciBoPXRoaXMuYi5jdXJyZW50VGltZSxlPXRoaXMuSSgpP3RoaXMuZi5nZXROdW1iZXIoImxpdmVfYnVmZmVyaW5nX3VuZGVyZmxvd190aHJlc2hvbGQiLAouNSk6dGhpcy5mLmdldE51bWJlcigiYnVmZmVyaW5nX3VuZGVyZmxvd190aHJlc2hvbGQiLDApLGs9dGhpcy5iLmR1cmF0aW9uLGs9aXNOYU4oayk/MDpNYXRoLm1heChrLS4wNSwwKSxmPWY+PWt8fGg+PWssYj1ifHwid2F0Y2hkb2dfdGltZXIiO2lmKHRoaXMuaCl7cWYodGhpcyxhKTthPXJmKHRoaXMuYSk7dmFyIGw9MDxhP2cvYTowO2c+YXx8c2YodGhpcy5hKXx8dGhpcy5mLmdldEJvb2woImZpeF9idWZmZXJpbmdfYXRfdGhlX2VuZF9vZl9wbGF5YmFjayIsITApJiZmPygkZSh0aGlzLGIpLHRoaXMuWSYmIXRoaXMudyYmdGhpcy5iLnBsYXkoKSk6dGhpcy5CIT09bCYmKHRoaXMuQj1sLHRoaXMuZGlzcGF0Y2hFdmVudCh5KHt0eXBlOiJidWZmZXJpbmdQcm9ncmVzcyIscHJvZ3Jlc3M6bH0pKSl9ZWxzZSB0aGlzLmIucGF1c2VkJiYhY3x8ISghZiYmZzxlfHxvZih0aGlzKSl8fCh0aGlzLmg9ITAsdGhpcy53P3RoaXMuYi5wbGF5YmFja1JhdGU9MDp0aGlzLmIucGF1c2UoKSx0aGlzLmwmJgohdGhpcy5vJiYoZz10aGlzLmIuYnVmZmVyZWQsZz1nLmxlbmd0aD9nLmVuZChnLmxlbmd0aC0xKTowLHRoaXMuZi5nZXRCb29sKCJmaXhfdW5zdGFsbF9idWZmZXJfY2FsY3VsYXRpb24iLCExKT9sPXBmKHRoaXMpOmw9TWF0aC5tYXgoZy10aGlzLmIuY3VycmVudFRpbWUsMCksZz0xRTMqKHJmKHRoaXMuYSktbCksdGhpcy5vPXRoaXMubC5nZXRPcGVyYXRpb25Mb2dnZXIoImJ1ZmZlcmluZyIpLnNldExlbmd0aChNYXRoLnJvdW5kKGcpKS5zZXRUeXBlKHRoaXMudT8ic3RhcnQvdW5wYXVzZSI6ImluX3BsYXkiKS5zZXRJbml0aWF0b3IoYikuc3RhcnQoKSksdS5xYSgiYnVmZmVyaW5nIiksdGhpcy5kaXNwYXRjaEV2ZW50KHkoe3R5cGU6ImJ1ZmZlcmluZ1N0YXJ0In0pKSx0aGlzLmYuZ2V0Qm9vbCgibm9fc2tpcF9nYXBzX29uX2J1ZmZlcmluZyIsITEpfHxsZih0aGlzKSxxZih0aGlzLGEpKSxzZih0aGlzLmEpJiYkZSh0aGlzLGIpO2QmJmQubG9nKCl9ZWxzZSB0aGlzLmYuZ2V0Qm9vbCgiZml4X2ZmX2luX3BsYXlfc3RhbGxfdXBvbl9zZWVrIiwKITEpJiZxZih0aGlzLGEpfX07Vy5wcm90b3R5cGUubmE9ZnVuY3Rpb24oYSl7dGhpcy5kaXNwYXRjaEV2ZW50KGEpfTtmdW5jdGlvbiBxZihhLGIpe2ImJiJwbGF5aW5nIj09PWIudHlwZSYmKGEuQT0hMCxldmVudEtpbGwoYikpfVcucHJvdG90eXBlLnRhPWZ1bmN0aW9uKGEpe2lmKHRoaXMuYSl7dmFyIGI9dGhpcy5hO2IuYy52aWRlbyYmYi5jLnZpZGVvLkpjKGEpfX07Vy5wcm90b3R5cGUuc2V0VmlkZW9TdHJlYW1PZmZzZXQ9Vy5wcm90b3R5cGUudGE7ZnVuY3Rpb24gdGYoYSl7Zm9yKHZhciBiPTA7YjxhLmxlbmd0aDsrK2IpZm9yKHZhciBjPWFbYl0sZD0wO2Q8Yy5hLmxlbmd0aDsrK2Qpe2Zvcih2YXIgZT1jLmFbZF0sZj1lLGc9L3ZpZGVvXC93ZWJtOyBjb2RlY3M9ImF2MDEuKiIvLGg9ITEsaz0wO2s8Zi52Lmxlbmd0aDsrK2spe3ZhciBsPWYudltrXTtPZShOZChsKSk/Zy50ZXN0KE5kKGwpKSYmKGg9ITApOihmLnYuc3BsaWNlKGssMSksLS1rKX1pZihoKWZvcihrPTA7azxmLnYubGVuZ3RoOysraylsPWYudltrXSxnLnRlc3QoTmQobCkpfHwoZi52LnNwbGljZShrLDEpLC0tayk7MD09ZS52Lmxlbmd0aCYmKGMuYS5zcGxpY2UoZCwxKSwtLWQpfWZvcihiPTA7YjxhLmxlbmd0aDsrK2IpZm9yKGM9YVtiXSxkPTA7ZDxjLmEubGVuZ3RoOysrZCljLmFbZF0udi5zb3J0KHVmKX0KZnVuY3Rpb24gdWYoYSxiKXt2YXIgYz1hLmJhbmR3aWR0aHx8TnVtYmVyLk1BWF9WQUxVRSxkPWIuYmFuZHdpZHRofHxOdW1iZXIuTUFYX1ZBTFVFO3JldHVybiBjPGQ/LTE6Yz5kPzE6MH07ZnVuY3Rpb24gdmYoYSl7dGhpcy5hPWF9dmYucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmEuZGVzdHJveSgpO3RoaXMuYT1udWxsfTt2Zi5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKGEpe3ZhciBiPXdmKGEsbnVsbCksYz13Zih0aGlzLmEsYSk7cmV0dXJuIFByb21pc2UuYWxsKFtiLGNdKS50aGVuKEoodGhpcyxmdW5jdGlvbihiKXt2YXIgYz1iWzBdO2I9YlsxXTt0Zih0aGlzLmEuYSk7YS5iJiYhdGhpcy5hLmImJihhLmg9ITApO2EuYz10aGlzLmEuYzthLmk9dGhpcy5hLmk/dGhpcy5hLmkuY2xvbmUoKTpudWxsO2EuZz10aGlzLmEuZzt2YXIgZj1bXTt4ZihhLHRoaXMuYSxjLGIsZik7dGYoYS5hKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGYpfSkpfTsKZnVuY3Rpb24gd2YoYSxiKXtmdW5jdGlvbiBjKGEsYil7cmV0dXJuIGEuY29uY2F0KGIpfXZhciBkPWEuYS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuYX0pLnJlZHVjZShjLFtdKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEudn0pLnJlZHVjZShjLFtdKTtpZihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInRlbXBsYXRlZF9sYXN0X3hfdGltZWxpbmUiLCExKSYmYil2YXIgZT1iLmEubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLmF9KS5yZWR1Y2UoYyxbXSkubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLnZ9KS5yZWR1Y2UoYyxbXSkubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLk0uY3JlYXRlKCl9KSxlPVByb21pc2UuYWxsKGUpLnRoZW4oZnVuY3Rpb24oYSl7Zm9yKHZhciBiPU51bWJlci5QT1NJVElWRV9JTkZJTklUWSxjPTA7YzxhLmxlbmd0aDsrK2Mpe3ZhciBlPWFbY107ZS5sZW5ndGgoKSYmZS5sYXN0KCkudW5zY2FsZWRTdGFydFRpbWU8YiYmKGI9ZS5sYXN0KCkudW5zY2FsZWRTdGFydFRpbWUpfWI9CmEubGVuZ3RoP2I6bnVsbDthPWQubWFwKGZ1bmN0aW9uKGEpe2EuTS5FYyYmYS5NLkVjKGIpO3JldHVybiBhLk0uY3JlYXRlKCl9KTtyZXR1cm4gUHJvbWlzZS5hbGwoYSl9KTtlbHNlIGU9ZC5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuTS5jcmVhdGUoKX0pLGU9UHJvbWlzZS5hbGwoZSk7cmV0dXJuIGUudGhlbihmdW5jdGlvbihhKXtmb3IodmFyIGI9e30sYz0wO2M8ZC5sZW5ndGg7KytjKWJbZFtjXS5YXT1hW2NdO3JldHVybiBQcm9taXNlLnJlc29sdmUoYil9KX0KZnVuY3Rpb24geGYoYSxiLGMsZCxlKXt2YXIgZj1uZXcgRDthLmEuZm9yRWFjaChmdW5jdGlvbihhLGIpe2YucHVzaChhLmlkfHwiIitiLGEpfSk7dmFyIGc9bmV3IEQ7Yi5hLmZvckVhY2goZnVuY3Rpb24oYSxiKXtnLnB1c2goYS5pZHx8IiIrYixhKX0pO2E9YWIoZik7Zm9yKGI9MDtiPGEubGVuZ3RoOysrYil7dmFyIGg9YVtiXSxrPWYuZ2V0KGgpOzE8ay5sZW5ndGh8fChoPWcuZ2V0KGgpKSYmMCE9aC5sZW5ndGgmJjE9PWgubGVuZ3RoJiYoeWYoa1swXSxoWzBdLGMsZCxlKSxrWzBdLmR1cmF0aW9uPWhbMF0uZHVyYXRpb24pfX0KZnVuY3Rpb24geWYoYSxiLGMsZCxlKXt2YXIgZj1uZXcgRDthLmEuZm9yRWFjaChmdW5jdGlvbihhLGIpe2YucHVzaChhLmlkfHwiIitiLGEpfSk7dmFyIGc9bmV3IEQ7Yi5hLmZvckVhY2goZnVuY3Rpb24oYSxiKXtnLnB1c2goYS5pZHx8IiIrYixhKX0pO2E9YWIoZik7Zm9yKGI9MDtiPGEubGVuZ3RoOysrYil7dmFyIGg9YVtiXSxrPWYuZ2V0KGgpOzE8ay5sZW5ndGh8fChoPWcuZ2V0KGgpKSYmMCE9aC5sZW5ndGgmJjE9PWgubGVuZ3RoJiZ6ZihrWzBdLGhbMF0sYyxkLGUpfX0KZnVuY3Rpb24gemYoYSxiLGMsZCxlKXt2YXIgZj1uZXcgRDthLnYuZm9yRWFjaChmdW5jdGlvbihhLGIpe2YucHVzaChhLmlkfHwiIitiLGEpfSk7dmFyIGc9bmV3IEQ7Yi52LmZvckVhY2goZnVuY3Rpb24oYSxiKXtnLnB1c2goYS5pZHx8IiIrYixhKX0pO2I9e307Zm9yKHZhciBoPWFiKGYpLGs9MDtrPGgubGVuZ3RoOysrayl7dmFyIGw9aFtrXTtiW2xdPWw7dmFyIG09Zi5nZXQobCk7MTxtLmxlbmd0aHx8KChsPWcuZ2V0KGwpKSYmMCE9bC5sZW5ndGg/MT09bC5sZW5ndGgmJihCZihtWzBdLGxbMF0sYyxkKSxtWzBdLmFhPWxbMF0uYWEsbFswXS5hYT1udWxsLG1bMF0uYT1sWzBdLmEsVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJyZWZyZXNoX2JhbmR3aWR0aF9mcm9tX2xpdmVfbWFuaWZlc3QiLCExKSYmKG1bMF0uYmFuZHdpZHRoPWxbMF0uYmFuZHdpZHRoKSk6KGUucHVzaChtWzBdKSxhLnYuc3BsaWNlKGEudi5pbmRleE9mKG1bMF0pLDEpKSl9aD1hYihnKTsKZm9yKGs9MDtrPGgubGVuZ3RoOysraylsPWhba10sYltsXXx8KGJbbF09bCxsPWcuZ2V0KGwpLGEudi5wdXNoKGxbMF0pKX1mdW5jdGlvbiBCZihhLGIsYyxkKXthPWNbYS5YXTtjPWRbYi5YXTtkPShiPWEubGVuZ3RoKCkpP2EubGFzdCgpLmVuZFRpbWU6MDtpZihhLkIoYykpe2M9YS5sZW5ndGgoKTt2YXIgZT0hMTtWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInJvYnVzdF9jb3VudF9jaGFuZ2VzIiwhMSkmJihlPSEhYyYmYS5sYXN0KCkuZW5kVGltZT5kKTthLmcucHVzaChiIT09Y3x8ZSk7NTA8YS5nLmxlbmd0aCYmYS5nLnNoaWZ0KCl9fTtmdW5jdGlvbiBYKCl7dGhpcy5hPXRoaXMuYj1udWxsO3RoaXMuZj1uZXcgYmI7dGhpcy5jPU51bWJlci5QT1NJVElWRV9JTkZJTklUWTt0aGlzLmk9ITA7dGhpcy5nPSExfXEoInNoYWthLm1lZGlhLlNpbXBsZUFick1hbmFnZXIiLFgpO1gucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmYuZGVzdHJveSgpO3RoaXMuYT10aGlzLmI9dGhpcy5mPW51bGx9O1gucHJvdG90eXBlLmluaXRpYWxpemU9ZnVuY3Rpb24oYSxiKXt0aGlzLmJ8fHRoaXMuYXx8KHRoaXMuYj1hLHRoaXMuYT1iKX07ClgucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKCl7dGhpcy5iJiZ0aGlzLmEmJiF0aGlzLmcmJih0aGlzLmM9RGF0ZS5ub3coKSs0RTMsRSh0aGlzLmYsdGhpcy5iLmdldEVzdGltYXRvcigpLCJiYW5kd2lkdGgiLHRoaXMubS5iaW5kKHRoaXMpKSxFKHRoaXMuZix0aGlzLmEsImFkYXB0YXRpb24iLHRoaXMuai5iaW5kKHRoaXMpKSxFKHRoaXMuZix0aGlzLmEsInRyYWNrc2NoYW5nZWQiLHRoaXMuaC5iaW5kKHRoaXMpKSx0aGlzLmc9ITApfTtYLnByb3RvdHlwZS5lbmFibGU9ZnVuY3Rpb24oYSl7dGhpcy5pPWF9O1gucHJvdG90eXBlLmdldEluaXRpYWxWaWRlb1RyYWNrSWQ9ZnVuY3Rpb24oKXtpZighdGhpcy5ifHwhdGhpcy5hKXJldHVybiBudWxsO3ZhciBhPUNmKHRoaXMpO3JldHVybiBhP2EuaWQ6bnVsbH07WC5wcm90b3R5cGUuZ2V0SW5pdGlhbFN3aXRjaFJlYXNvbj1mdW5jdGlvbigpe3JldHVybiBudWxsfTtYLnByb3RvdHlwZS5nZXRJbml0aWFsQXVkaW9UcmFja0lkPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9OwpYLnByb3RvdHlwZS5zZWxlY3RWaWRlb1RyYWNrPWZ1bmN0aW9uKGEsYixjKXt0aGlzLmcmJnRoaXMuYS5zZWxlY3RWaWRlb1RyYWNrKGEuaWQsYixjKX07WC5wcm90b3R5cGUubT1mdW5jdGlvbigpe0RhdGUubm93KCk8dGhpcy5jfHx0aGlzLmgoKX07WC5wcm90b3R5cGUuaD1mdW5jdGlvbigpe2lmKHRoaXMuaSl7dmFyIGE9Q2YodGhpcyk7aWYoYSl7aWYoYS5hY3RpdmUpe3RoaXMuYz1EYXRlLm5vdygpKzNFMztyZXR1cm59dGhpcy5zZWxlY3RWaWRlb1RyYWNrKGEsITEpfXRoaXMuYz1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFl9fTtYLnByb3RvdHlwZS5qPWZ1bmN0aW9uKCl7dGhpcy5jPT1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkmJih0aGlzLmM9RGF0ZS5ub3coKSszRTQpfTsKZnVuY3Rpb24gQ2YoYSl7dmFyIGI9YS5hLlooKTtpZigwPT1iLmxlbmd0aClyZXR1cm4gbnVsbDtiLnNvcnQodmEpO3ZhciBjO2E6e2M9YS5hLnZhKCk7Zm9yKHZhciBkPTA7ZDxjLmxlbmd0aDsrK2QpaWYoY1tkXS5hY3RpdmUpe2M9Y1tkXTticmVhayBhfWM9bnVsbH1jPWM/Yy5iYW5kd2lkdGg6MDthPWEuYi5nZXRCYW5kd2lkdGgoKTtmb3IodmFyIGQ9YlswXSxlPTA7ZTxiLmxlbmd0aDsrK2Upe3ZhciBmPWJbZV0sZz1lKzE8Yi5sZW5ndGg/YltlKzFdOntiYW5kd2lkdGg6TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZfTtpZihmLmJhbmR3aWR0aCYmKGc9KGcuYmFuZHdpZHRoK2MpLy44NSxhPj0oZi5iYW5kd2lkdGgrYykvLjk1JiZhPD1nJiYoZD1mLGQuYWN0aXZlKSkpYnJlYWt9cmV0dXJuIGR9O2Z1bmN0aW9uIFkoYSxiLGMsZCl7Ri5jYWxsKHRoaXMsbnVsbCk7dGhpcy5iPWE7dGhpcy5hPWI7dGhpcy53YT1jO3RoaXMua2I9bmV3IFZpZGVvUGxheWVyTG9jYWxCYW5kd2lkdGhFc3RpbWF0b3IodGhpcyxjLGIpO3RoaXMuaD1uZXcgYmI7dGhpcy5pPW5ldyBNZWRpYVNvdXJjZTt0aGlzLmJhPXRoaXMudmlkZW89bnVsbDt0aGlzLkJiPTA7dGhpcy5uYz10aGlzLlpiPSExO3RoaXMuTGI9aWE7dGhpcy5BYj10aGlzLlY9dGhpcy5pYT10aGlzLmw9bnVsbDt0aGlzLktiPTM7dGhpcy5yYT10aGlzLiRiPXRoaXMuRmE9dGhpcy5FYT0hMTt0aGlzLlBhPTA7dGhpcy5kYT1uZXcgVmlkZW9QdXNoVHJhY2tlcjt0aGlzLmdhPW51bGw7dGhpcy5pYz0xO3RoaXMuZ2M9SW5maW5pdHk7dGhpcy5VYj10aGlzLlNiPSExO3RoaXMucGE9dGhpcy5PYT1udWxsO3RoaXMuV2I9dGhpcy5WYj10aGlzLkdhPXRoaXMuY2M9dGhpcy5tYT0hMTt0aGlzLmY9bmV3IEQ7dGhpcy5BPWQ7dGhpcy5BLmluaXRpYWxpemUodGhpcy5rYiwKdGhpcyk7dGhpcy5PPSExO3RoaXMuUz0iZW4iO3RoaXMueWE9ITE7dGhpcy5KPW5ldyBJO3RoaXMuSWI9bmV3IEk7dGhpcy5tPW5ldyBrYTt0aGlzLkQ9bnVsbDt0aGlzLmtjPTE7dGhpcy5jPXt9O3RoaXMuc2E9bmV3IEk7dGhpcy5qYT0wO3RoaXMuZ2I9MTVFMzt0aGlzLmo9bnVsbDt0aGlzLmVjPSExO3RoaXMuZGM9MDt0aGlzLkNhPSExO3RoaXMuQj17fTt0aGlzLmxhPXRoaXMua2E9dGhpcy51PW51bGw7dGhpcy5nPXt9O3RoaXMuJD0hMTt0aGlzLmZjPTA7dGhpcy5LPXRoaXMuYS5nZXROdW1iZXIoImJ1ZmZlcmluZ19vdmVyZmxvd190aHJlc2hvbGQiLDApO3RoaXMucGM9bnVsbDt0aGlzLm89e307dGhpcy53PXt9O3RoaXMuUj1udWxsO3RoaXMuVT1bXTt0aGlzLlQ9dGhpcy5JPW51bGw7dGhpcy5HPW5ldyBOZXR3b3JrU3RhdHVzRGV0ZWN0b3I7dGhpcy5oYz0hMTt0aGlzLm5hPSEwO3RoaXMuZWE9ITE7dGhpcy51Yz1uZXcgU3Vic2NyaXB0aW9uc0hhbmRsZXI7dGhpcy5ZYj0hMTsKdGhpcy54YT0xO3RoaXMuSWQ9dGhpcy5hLmdldE51bWJlcigic3RyZWFtX21heGltdW1fb25wYXVzZV9idWZmZXJfc2l6ZV9tdWx0aXBsaWVyIiwwKTt0aGlzLmNhPW51bGw7dGhpcy5hLmdldEJvb2woImFsbG93X2luZmluaXRlX3JldHJ5X29uX25ldF9lcnIiLCEwKSYmdGhpcy51Yy5hZGRTdWJzY3JpcHRpb25zKHRoaXMuRy5hZGRMaXN0ZW5lcigibmV0d29ya0ludGVycnVwdGVkIix0aGlzLlRjLHRoaXMpLHRoaXMuRy5hZGRMaXN0ZW5lcigibmV0d29ya1Jlc3VtZWQiLHRoaXMuVWMsdGhpcyksdGhpcy5HLmFkZExpc3RlbmVyKCJzeXN0ZW1XYWtlIix0aGlzLlZjLHRoaXMpKX1yKFksRik7cSgic2hha2EucGxheWVyLlN0cmVhbVZpZGVvU291cmNlIixZKTtZLnByb3RvdHlwZS5YYj1mdW5jdGlvbigpe3JldHVybntWaWRlb1NvdXJjZVN0cmVhbTp0aGlzLmMudmlkZW8sQXVkaW9Tb3VyY2VTdHJlYW06dGhpcy5jLmF1ZGlvLFRleHRTb3VyY2VTdHJlYW06dGhpcy5jLnRleHQsQmFuZHdpZHRoRXN0aW1hdG9yOnRoaXMud2F9fTsKWS5wcm90b3R5cGUuZ2V0U3RyZWFtRGVidWc9WS5wcm90b3R5cGUuWGI7WS5wcm90b3R5cGUuUGM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iP3RoaXMuYi53OiJub25lIn07WS5wcm90b3R5cGUuZ2V0TXBkQXVkaW9Db25maWc9WS5wcm90b3R5cGUuUGM7ClkucHJvdG90eXBlLmxjPWZ1bmN0aW9uKGEpe251bGwhPWEuc3RyZWFtQnVmZmVyU2l6ZSYmKHRoaXMuZy5zdHJlYW1CdWZmZXJTaXplPWEuc3RyZWFtQnVmZmVyU2l6ZSk7bnVsbCE9YS5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZSYmKHRoaXMuZy5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZT1hLmluaXRpYWxTdHJlYW1CdWZmZXJTaXplKTtudWxsIT1hLmR5bmFtaWNTdHJlYW1CdWZmZXJTaXplJiYodGhpcy5nLmR5bmFtaWNTdHJlYW1CdWZmZXJTaXplPWEuZHluYW1pY1N0cmVhbUJ1ZmZlclNpemUpO251bGwhPWEuc21hcnRCdWZmZXJBZGp1c3RtZW50UGFyYW1zJiYodGhpcy5nLnNtYXJ0QnVmZmVyQWRqdXN0bWVudFBhcmFtcz1hLnNtYXJ0QnVmZmVyQWRqdXN0bWVudFBhcmFtcyk7bnVsbCE9YS5hZGRDZG5EZWJ1Z1F1ZXJ5UGFyYW1ldGVycyYmKHRoaXMuZy5hZGRDZG5EZWJ1Z1F1ZXJ5UGFyYW1ldGVycz1hLmFkZENkbkRlYnVnUXVlcnlQYXJhbWV0ZXJzKTtudWxsIT1hLnNlZ21lbnRSZXF1ZXN0VGltZW91dCYmCih0aGlzLmcuc2VnbWVudFJlcXVlc3RUaW1lb3V0PWEuc2VnbWVudFJlcXVlc3RUaW1lb3V0KTtudWxsIT1hLnJlc29sdmVWaWRlb1RpbWVVcGRhdGVPbkZyYWdtZW50ZWRUaW1lUmFuZ2VzJiYodGhpcy5nLnJlc29sdmVWaWRlb1RpbWVVcGRhdGVPbkZyYWdtZW50ZWRUaW1lUmFuZ2VzPWEucmVzb2x2ZVZpZGVvVGltZVVwZGF0ZU9uRnJhZ21lbnRlZFRpbWVSYW5nZXMpO251bGwhPWEucmVhcHBlbmRJbml0U2VnbWVudEFmdGVyQWJvcnQmJih0aGlzLmcucmVhcHBlbmRJbml0U2VnbWVudEFmdGVyQWJvcnQ9YS5yZWFwcGVuZEluaXRTZWdtZW50QWZ0ZXJBYm9ydCk7bnVsbCE9YS5saXZlRGF0YUZldGNoTWF4UmV0cmllcyYmKHRoaXMuZy5saXZlRGF0YUZldGNoTWF4UmV0cmllcz1hLmxpdmVEYXRhRmV0Y2hNYXhSZXRyaWVzKTtudWxsIT1hLmxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXMmJih0aGlzLmcubGl2ZVNvdXJjZUJ1ZmZlckNsZWFyTWF4UmV0cmllcz1hLmxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXMpOwpudWxsIT1hLnBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2UmJih0aGlzLmcucGxheWhlYWRGcmFnbWVudGVkR2FwRGlmZkFsbG93YW5jZT1hLnBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2UpO251bGwhPWEuZml4QnVmZmVyaW5nR29hbERldGVybWluYXRpb24mJih0aGlzLmcuZml4QnVmZmVyaW5nR29hbERldGVybWluYXRpb249YS5maXhCdWZmZXJpbmdHb2FsRGV0ZXJtaW5hdGlvbik7bnVsbCE9YS5za2lwRW1wdHlTZWdtZW50cyYmKHRoaXMuZy5za2lwRW1wdHlTZWdtZW50cz1hLnNraXBFbXB0eVNlZ21lbnRzKTtudWxsIT1hLnVzZU1pY3JvVGFza1RpbWVvdXRzJiYodGhpcy5nLnVzZU1pY3JvVGFza1RpbWVvdXRzPWEudXNlTWljcm9UYXNrVGltZW91dHMpO0RmKHRoaXMpO251bGwhPWEuaW5jbHVkZVN0cmVhbUJ1ZmZlclNpemVJblN0YXJ0T2Zmc2V0JiYodGhpcy5aYj1Cb29sZWFuKGEuaW5jbHVkZVN0cmVhbUJ1ZmZlclNpemVJblN0YXJ0T2Zmc2V0KSk7Cm51bGwhPWEubGl2ZUF1ZGlvUHVzaFJlcHJlc2VudGF0aW9uJiYodGhpcy5wYT1TdHJpbmcoYS5saXZlQXVkaW9QdXNoUmVwcmVzZW50YXRpb24pKTtudWxsIT1hLmxpdmVJbml0aWFsUHVzaFJlcHJlc2VudGF0aW9uJiYodGhpcy5PYT1TdHJpbmcoYS5saXZlSW5pdGlhbFB1c2hSZXByZXNlbnRhdGlvbikpO251bGwhPWEuZW5hYmxlQWRhcHRhdGlvbiYmdGhpcy5BLmVuYWJsZShCb29sZWFuKGEuZW5hYmxlQWRhcHRhdGlvbikpO251bGwhPWEubXBkUmVxdWVzdFRpbWVvdXQmJih0aGlzLkxiPU51bWJlcihhLm1wZFJlcXVlc3RUaW1lb3V0KSk7bnVsbCE9YS5taW5NcGRSZWZyZXNoSW50ZXJ2YWwmJih0aGlzLktiPU51bWJlcihhLm1pbk1wZFJlZnJlc2hJbnRlcnZhbCkvMUUzKTtudWxsIT1hLmVuYWJsZU1hbmlmZXN0RGVidWcmJih0aGlzLlViPSEhYS5lbmFibGVNYW5pZmVzdERlYnVnKTtudWxsIT1hLmxpdmVTdHJlYW1FbmRUaW1lb3V0JiYodGhpcy5nYj1OdW1iZXIoYS5saXZlU3RyZWFtRW5kVGltZW91dCkpOwpudWxsIT1hLnByZWZlcnJlZExhbmd1YWdlJiYodGhpcy5TPVNhKFN0cmluZyhhLnByZWZlcnJlZExhbmd1YWdlKSkpO251bGwhPWEubGl2ZVNlbmRQdXNoSGVhZGVycyYmKHRoaXMucmE9Qm9vbGVhbihhLmxpdmVTZW5kUHVzaEhlYWRlcnMpKTtudWxsIT1hLmxpdmVNYXhNYW5pZmVzdEZldGNoZXNXaXRoUHVzaCYmKHRoaXMuUGE9TnVtYmVyKGEubGl2ZU1heE1hbmlmZXN0RmV0Y2hlc1dpdGhQdXNoKSk7bnVsbCE9YS5jdXJyZW50VGltZUR1cmluZ1JlYWR5U3RhdGVaZXJvVGhyb3dzJiYodGhpcy5TYj1Cb29sZWFuKGEuY3VycmVudFRpbWVEdXJpbmdSZWFkeVN0YXRlWmVyb1Rocm93cykpO251bGwhPWEubGl2ZU1heFNlZ21lbnRzVG9QdXNoJiYodGhpcy5nYz1OdW1iZXIoYS5saXZlTWF4U2VnbWVudHNUb1B1c2gpKTtudWxsIT1hLmp1bXBUb0xpdmVUaHJlc2hvbGQmJih0aGlzLmRjPU51bWJlcihhLmp1bXBUb0xpdmVUaHJlc2hvbGQpKTtudWxsIT1hLnJlc3RyaWN0aW9ucyYmKHRoaXMubT0KYS5yZXN0cmljdGlvbnMsdGhpcy5PJiZFZih0aGlzKSk7bnVsbCE9YS51c2VMb25nQ2FjaGVGb3JNYW5pZmVzdCYmKHRoaXMubWE9Qm9vbGVhbihhLnVzZUxvbmdDYWNoZUZvck1hbmlmZXN0KSk7bnVsbCE9YS5qdW1wVG9FYXJsaWVzdFBvc2l0aW9uSW5DdXJyZW50QmxvY2smJih0aGlzLmNjPUJvb2xlYW4oYS5qdW1wVG9FYXJsaWVzdFBvc2l0aW9uSW5DdXJyZW50QmxvY2spKTtudWxsIT1hLmlnbm9yZU1pbkJ1ZmZlclRpbWUmJih0aGlzLkdhPUJvb2xlYW4oYS5pZ25vcmVNaW5CdWZmZXJUaW1lKSk7bnVsbCE9PWEuZW5hYmxlUmVxdWVzdFBpcGVsaW5pbmcmJih0aGlzLlZiPUJvb2xlYW4oYS5lbmFibGVSZXF1ZXN0UGlwZWxpbmluZykpO251bGwhPT1hLmVuYWJsZVN0cmVhbWluZyYmKHRoaXMuV2I9Qm9vbGVhbihhLmVuYWJsZVN0cmVhbWluZykpfTsKWS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuSi5kZXN0cm95KCk7dGhpcy5zYS5kZXN0cm95KCk7dGhpcy5zYT10aGlzLko9bnVsbDt0aGlzLmthJiYoY2xlYXJUaW1lb3V0KHRoaXMua2EpLHRoaXMua2E9bnVsbCk7dGhpcy51JiYoY2xlYXJUaW1lb3V0KHRoaXMudSksdGhpcy51PW51bGwpO3RoaXMuQj1udWxsO3RoaXMuaC5kZXN0cm95KCk7dGhpcy5oPW51bGw7V2EodGhpcy5jKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2EuZGVzdHJveSgpfSk7dGhpcy5mPXRoaXMuYz1udWxsO3RoaXMuYiYmKHRoaXMuYi5kZXN0cm95KCksdGhpcy5iPW51bGwpO3RoaXMuQS5kZXN0cm95KCk7dGhpcy5KYT10aGlzLm09dGhpcy52aWRlbz10aGlzLmk9dGhpcy53YT10aGlzLkE9bnVsbDt0aGlzLmEuZ2V0Qm9vbCgiZml4aW5nX3NjaGVkdWxlcl9kaXNhYmxlX2xlYWtzIiwhMCkmJihPYmplY3Qua2V5cyh0aGlzLm8pLmZvckVhY2goZnVuY3Rpb24oYSl7KGE9dGhpcy5vW2FdKSYmYS5kaXNhYmxlKCl9LmJpbmQodGhpcykpLAp0aGlzLm89e30pO09iamVjdC5rZXlzKHRoaXMudykuZm9yRWFjaChmdW5jdGlvbihhKXsoYT10aGlzLndbYV0pJiZhLmRlc3Ryb3koKX0uYmluZCh0aGlzKSk7dGhpcy53PXt9O3RoaXMuSSYmKHRoaXMuSS5kaXNhYmxlKCksdGhpcy5JPW51bGwpO3RoaXMuUiYmKHRoaXMuUi5jbGVhbnVwKCksdGhpcy5SPW51bGwpO2Zvcih2YXIgYT0wO2E8dGhpcy5VLmxlbmd0aDthKyspdGhpcy5VW2FdLmNsZWFudXAoKTt0aGlzLlU9W107dGhpcy51Yy5yZWxlYXNlKCl9O2Z1bmN0aW9uIGVmKGEsYil7aWYoYS5sKXt2YXIgYz1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJtZWRpYV9zb3VyY2Vfb3BlbiIpLnN0YXJ0KCk7YS5JYi50aGVuKGZ1bmN0aW9uKCl7Yy5sb2coKX0pfUUoYS5oLGEuaSwic291cmNlb3BlbiIsYS5oZC5iaW5kKGEpKTtiLnNyYz13aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChhLmkpfW49WS5wcm90b3R5cGU7bi52Yz1mdW5jdGlvbigpe307CmZ1bmN0aW9uIGpmKGEsYixjKXt2YXIgZDthLmwmJihkPWEubC5nZXRPcGVyYXRpb25Mb2dnZXIoInNvdXJjZV9hdHRhY2giKS5zdGFydCgpKTtpZighYS5PKXJldHVybiBhPUVycm9yKCJDYW5ub3QgY2FsbCBhdHRhY2goKSByaWdodCBub3cuIiksYS50eXBlPSJhcHAiLGQmJmQuc2V0RXJyb3IoYSkubG9nKCksUHJvbWlzZS5yZWplY3QoYSk7YS5KYT1iO2EudmlkZW89YzthLmJhPW51bGw7YS5hLmdldEJvb2woImVuYWJsZV92aWV3cG9ydF9wcmlvcml0eV9hZGp1c3RtZW50IiwhMSkmJihhLlI9bmV3IFZpZXdwb3J0UHJpb3JpdHlBZGp1c3RlcihhLnZpZGVvKSxhLlIuc2V0T25Qcmlvcml0eUNoYW5nZWQoZnVuY3Rpb24oYSl7T2JqZWN0LmtleXModGhpcy5vKS5mb3JFYWNoKGZ1bmN0aW9uKGIpe3RoaXMub1tiXS51cGRhdGVQcmlvcml0eVdpdGhOZXdBZGp1c3RtZW50KGEpfS5iaW5kKHRoaXMpKX0uYmluZChhKSkpO2EuYS5nZXRCb29sKCJlbmFibGVfZmlyc3RfdmlkZW9fcHJpb3JpdHlfYWRqdXN0bWVudCIsCiExKSYmYS5VLnB1c2gobmV3IEZpcnN0TG9hZGVkVmlkZW9Qcmlvcml0eUFkanVzdGVyKGEudmlkZW8pKTtFKGEuaCxhLnZpZGVvLCJsb2FkZWRtZXRhZGF0YSIsYS5nZC5iaW5kKGEpKTtFKGEuaCxhLndhLCJiYW5kd2lkdGgiLGEuR2QuYmluZChhKSk7aWYoYS5iLmJ8fGEuYS5nZXRCb29sKCJiYWNrX29mZl9idWZmZXJpbmdfb3ZlcmZsb3ciLCExKSlFKGEuaCxiLCJidWZmZXJpbmdTdGFydCIsYS5jZC5iaW5kKGEpKSxFKGEuaCxiLCJidWZmZXJpbmdFbmQiLGEuYmQuYmluZChhKSk7Yj1hLmEuZ2V0Qm9vbCgiZW5hYmxlX2NvbnRlbnRfcHJvdGVjdGlvbiIsITEpPyhiPWEudmlkZW8ubWVkaWFLZXlzKSYmYS52aWRlby5zZXRNZWRpYUtleXM/YS52aWRlby5zZXRNZWRpYUtleXMoYik6UHJvbWlzZS5yZXNvbHZlKCk6UHJvbWlzZS5yZXNvbHZlKCk7RmYoYSkudGhlbihKKGEsZnVuY3Rpb24oKXtkJiZ0aGlzLlAoKSYmZC5zZXRMaXZlaGVhZFBvc2l0aW9uKEdmKEhmKHRoaXMpKSk7dGhpcy5KJiYKdGhpcy5KLnJlc29sdmUoKTt0aGlzLnZjKCl9KSkuY2F0Y2goSihhLGZ1bmN0aW9uKGEpe3RoaXMuSiYmdGhpcy5KLnJlamVjdChhKX0pKTtyZXR1cm4gUHJvbWlzZS5hbGwoW2EuSixiXSkudGhlbihmdW5jdGlvbigpe2QmJmQubG9nKCl9KX0Kbi53Yj1mdW5jdGlvbigpe2lmKHRoaXMuTyl7dmFyIGE9RXJyb3IoIkNhbm5vdCBjYWxsIGxvYWQoKSByaWdodCBub3cuIik7YS50eXBlPSJhcHAiO3JldHVybiBQcm9taXNlLnJlamVjdChhKX1pZighdGhpcy5ifHwwPT10aGlzLmIuYS5sZW5ndGgpcmV0dXJuIGE9RXJyb3IoIlRoZSBtYW5pZmVzdCBkb2VzIG5vdCBzcGVjaWZ5IGFueSBjb250ZW50LiIpLGEudHlwZT0ic3RyZWFtIixQcm9taXNlLnJlamVjdChhKTt0Zih0aGlzLmIuYSk7aWYoMD09dGhpcy5iLmEubGVuZ3RofHwwPT10aGlzLmIuYVswXS5hLmxlbmd0aHx8IXRoaXMuYi5hWzBdLmEuc29tZShmdW5jdGlvbihhKXtyZXR1cm4idmlkZW8iPT09YS5jb250ZW50VHlwZX0pKXJldHVybiBhPUVycm9yKCJUaGUgbWFuaWZlc3Qgc3BlY2lmaWVzIGNvbnRlbnQgdGhhdCBjYW5ub3QgYmUgZGlzcGxheWVkIG9uIHRoaXMgYnJvd3Nlci9wbGF0Zm9ybS4iKSxhLnR5cGU9InN0cmVhbSIsUHJvbWlzZS5yZWplY3QoYSk7dGhpcy5PPQohMDt0aGlzLkdhfHwodGhpcy5nLmluaXRpYWxTdHJlYW1CdWZmZXJTaXplPU1hdGgubWF4KHRoaXMuZy5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZXx8MCx0aGlzLmIuZykpO3RoaXMuaWEmJnRoaXMuaWEuc2V0U3RyZWFtVHlwZSh0aGlzLmIuQik7RGYodGhpcyk7RWYodGhpcyk7cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpfTtmdW5jdGlvbiBJZihhKXt2YXIgYj15KHt0eXBlOiJtYW5pZmVzdHdyYXBwZWQiLGJ1YmJsZXM6ITB9KTthLmRpc3BhdGNoRXZlbnQoYil9ZnVuY3Rpb24gSmYoYSxiKXt2YXIgYz15KHt0eXBlOiJsaXZlaGVhZElkbGVBdCIsc2Vjb25kczpiLGJ1YmJsZXM6ITB9KTthLmRpc3BhdGNoRXZlbnQoYyl9ZnVuY3Rpb24gR2YoYSl7cmV0dXJuIE1hdGgubWluLmFwcGx5KE1hdGgsYS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEubGVuZ3RoKCk/YS5sYXN0KCkuZW5kVGltZTpudWxsfSkuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiEhYX0pKX0Kbi5KYj1mdW5jdGlvbihhLGIpe3ZhciBjO3RoaXMuYS5nZXRCb29sKCJkZWNvdXBsZV9tcGRfdXBkYXRlX2xvb3BfZnJvbV9yZXF1ZXN0X2xvb3AiLCExKSYmS2YodGhpcywwKTt0aGlzLlYmJih0aGlzLlYubG9nKCksdGhpcy5WPW51bGwpO3RoaXMubCYmKGM9dGhpcy5sLmdldE9wZXJhdGlvbkxvZ2dlcigidXBkYXRlX21hbmlmZXN0Iikuc3RhcnQoKSk7aWYoIWJ8fHRoaXMuTyl7dmFyIGQ9RGF0ZS5ub3coKTt0aGlzLmEuZ2V0Qm9vbCgiZGVjb3VwbGVfbXBkX3VwZGF0ZV9sb29wX2Zyb21fcmVxdWVzdF9sb29wIiwhMSl8fCh0aGlzLnU9bnVsbCk7dmFyIGU9bnVsbCxmLGc7aWYodGhpcy5yYSYmKCF0aGlzLlBhfHx0aGlzLlBhPnRoaXMuaWMpKXtmPU1hdGguZmxvb3IoTGYodGhpcykpKzE7Zj1NYXRoLm1pbihmLHRoaXMuZ2MpO3ZhciBoPXRoaXMuYy52aWRlbztpZihoPWg/aC5GYigpOm51bGwpaD1oLmxhc3QoKSxudWxsIT1oLnVuc2NhbGVkU3RhcnRUaW1lJiYoZz1oLnVuc2NhbGVkU3RhcnRUaW1lKTsKaWYodGhpcy52aWRlby5wYXVzZWR8fHRoaXMuJClmPTB9ZiYmdGhpcy5pYysrO2g9dGhpcy5iLmk7aD10aGlzLmEuZ2V0Qm9vbCgiZW5hYmxlX2NsZWFuX2ZhaWxvdmVyX3VyaV9vbl9tcGRfcmVxdWVzdHMiLCEwKT9oLmNsb25lKCk6aDtjJiYhYSYmYy5zZXRSZXNvdXJjZShoLnRvU3RyaW5nKCkpOyhhP3RoaXMueGMoKTp0aGlzLnljKGgsZixnKSkudGhlbihKKHRoaXMsZnVuY3Rpb24oYil7YXx8dGhpcy5HLmluZm9ybU5ldHdvcmtSZXN1bWVkKCk7ZT1uZXcgdmYoYik7dmFyIGM7dGhpcy5sJiYoYz10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJ1cGRhdGVfbWFuaWZlc3RfaW5mbyIpLnN0YXJ0KCkpO2I9ZS51cGRhdGUodGhpcy5iKTtiLnRoZW4oZnVuY3Rpb24oKXtjJiZjLmxvZygpfSxmdW5jdGlvbihhKXtjJiZjLnNldEVycm9yKGEpLmxvZygpfSkuY2F0Y2goZnVuY3Rpb24oKXt9KTtyZXR1cm4gYn0pKS50aGVuKEoodGhpcyxmdW5jdGlvbihhKXtlLmRlc3Ryb3koKTtlPW51bGw7CnZhciBmPUhmKHRoaXMpO3RoaXMuTGEoIlNlZ21lbnRJbmRleGVzVXBkYXRlZCIsZik7aWYodGhpcy5hLmdldEJvb2woImVtaXRfbGl2ZV9wbGF5aGVhZF9pZGxlX2Zyb21fY2xpZW50IiwhMCkpe3ZhciBnPXRoaXMuYS5nZXROdW1iZXIoImxpdmVfcGxheWhlYWRfaWRsZV9hbGxfc3RyZWFtX3RocmVzaG9sZCIsNCksaD10aGlzLmEuZ2V0TnVtYmVyKCJsaXZlX3BsYXloZWFkX2lkbGVfc2luZ2xlX3N0cmVhbV90aHJlc2hvbGQiLDUpO2lmKEhmKHRoaXMpLmV2ZXJ5KGZ1bmN0aW9uKGEpe3JldHVybiBhLnUoKT49Z30pfHxIZih0aGlzKS5zb21lKGZ1bmN0aW9uKGEpe3JldHVybiBhLnUoKT49aH0pKXt2YXIgdD1HZihmKTtKZih0aGlzLHQpfX1mLnNvbWUoZnVuY3Rpb24oYSl7cmV0dXJuIGEucmIoKX0pJiZJZih0aGlzKTt0PU1mKHRoaXMsZik7YyYmdGhpcy5QKCkmJmMuc2V0TGl2ZWhlYWRQb3NpdGlvbihHZihmKSk7YyYmYy5zZXRNYW5pZmVzdFR5cGUodGhpcy5iLmI/ImR5bmFtaWMiOgoic3RhdGljIikuc2V0VXBkYXRlUGVyaW9kKG51bGw9PT10aGlzLmIuYz9udWxsOk1hdGguY2VpbCgxRTMqdGhpcy5iLmMpKTt0aGlzLm5hJiZOZih0aGlzLHQpO3RoaXMuYS5nZXRCb29sKCJza2lwX3JlbWFpbmluZ19idWZmZXJlZF9vbl9zdHJlYW1fZW5kIiwhMSkmJnQmJnRoaXMuYi5iJiZ0aGlzLmIuaCYmdGhpcy52aWRlby5wYXVzZWQmJih0aGlzLnZpZGVvLmN1cnJlbnRUaW1lPXRoaXMuamEtLjEpO2lmKHNmKHRoaXMpKXJldHVybiBjJiZjLmxvZygpLHRoaXMuZWIoKTtmb3IoZj0wO2Y8YS5sZW5ndGg7KytmKU9mKHRoaXMsYVtmXSk7dGhpcy5HYXx8KHRoaXMuZy5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZT1NYXRoLm1heCh0aGlzLmcuaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemV8fDAsdGhpcy5iLmcpKTt0aGlzLmcudXNlSW5pdGlhbEJ1ZmZlclNpemVXaGVuUGF1c2VkPXRoaXMuYi5iO0RmKHRoaXMpO0VmKHRoaXMpOzA9PU9iamVjdC5rZXlzKHRoaXMuYykubGVuZ3RoP0ZmKHRoaXMpOgooYT1EYXRlLm5vdygpLGJ8fEtmKHRoaXMsKGEtZCkvMUUzKSk7YyYmYy5sb2coKTt0aGlzLnRiKCkmJmV4dHJhY3RDRUE2MDgucHJlcGFyZSgpO3RoaXMuYS5nZXRCb29sKCJ1cGRhdGVfY2VhNjA4X2F2YWlsYWJpbGl0eV9vbl9tcGRfcGFyc2luZyIsITEpJiYoYT10aGlzLnRiKCksdGhpcy5ZYiE9PWEmJihmPXkoe3R5cGU6ImNlYTYwOEF2YWlsYWJpbGl0eUNoYW5nZWQiLGJ1YmJsZXM6ITB9KSx0aGlzLmRpc3BhdGNoRXZlbnQoZiksdGhpcy5ZYj1hKSl9KSkuY2F0Y2goSih0aGlzLGZ1bmN0aW9uKGEpe2MmJmMuc2V0RXJyb3IoYSkubG9nKCk7ZSYmKGUuZGVzdHJveSgpLGU9bnVsbCk7aWYoIWIpe3ZhciBkPXRoaXMuYi5mfHx0aGlzLmEuZ2V0Qm9vbCgicmV0cnlfZWdyZXNzXzUwMHMiLCExKSxmPVswLDQxMF07dGhpcy5hLmdldEJvb2woImVuYWJsZV9kb3VibGVfaW5nZXN0IiwhMSkmJmYucHVzaCg0MTcsMjAwKTshdGhpcy5hLmdldEJvb2woIm5vX3JldHJ5X29uXzUwMl81MDMiLAohMSkmJmQmJihmPWYuY29uY2F0KFs1MDIsNTAzXSkpO2Q9dGhpcy5hLmdldEJvb2woImZpeF9saXZlX3N0cmVhbV9nb25lX29uX21hbmlmZXN0X3VwZGF0ZSIsITApPy0xPT09Zi5pbmRleE9mKGEuc3RhdHVzKTowIT09YS5zdGF0dXM7aWYodGhpcy5hLmdldEJvb2woImFsbG93X2luZmluaXRlX3JldHJ5X29uX25ldF9lcnIiLCEwKSYmIm5ldCI9PT1hLnR5cGUmJiFkKXN3aXRjaChhLnN0YXR1cyl7Y2FzZSA0MTA6dGhpcy5oYz0hMDt0aGlzLmomJihjbGVhclRpbWVvdXQodGhpcy5qKSx0aGlzLmo9bnVsbCk7dGhpcy5lYigpO2JyZWFrO2Nhc2UgMjAwOmNhc2UgNDE3OmEucmVzcG9uc2VIZWFkZXJzJiZudWxsIT1hLnJlc3BvbnNlSGVhZGVyc1sieC1mYi12aWRlby1yZXBsaWNhIl0/dGhpcy5kaXNwYXRjaEV2ZW50KHkoe3R5cGU6InJlcGxpY2Fzd2l0Y2giLGJ1YmJsZXM6ITAscmVwbGljYTphLnJlc3BvbnNlSGVhZGVyc1sieC1mYi12aWRlby1yZXBsaWNhIl0sdXJsOmEudXJsLHN0YXR1czphLnN0YXR1c30pKToKZD0hMDticmVhaztkZWZhdWx0OlBmKHRoaXMpfTA9PT1hLnN0YXR1cz90aGlzLkcuaW5mb3JtTmV0d29ya0ludGVycnVwdGVkKCk6dGhpcy5HLmluZm9ybU5ldHdvcmtSZXN1bWVkKCk7aWYoImRlbGF5Ij09YS50eXBlKXJldHVybiBQZih0aGlzKTt0aGlzLmEuZ2V0Qm9vbCgiYWxsb3dfaW5maW5pdGVfcmV0cnlfb25fbmV0X2VyciIsITApJiYhZHx8ImFib3J0ZWQiPT1hLnR5cGV8fChhPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGEpLHRoaXMuYiYmUGYodGhpcykpfX0pKX19O24ueWM9ZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZWplY3QoIkNhbm5vdCB1cGRhdGUgbWFuaWZlc3Qgd2l0aCB0aGlzIFZpZGVvU291cmNlIGltcGxlbWVudGF0aW9uLiIpfTtuLnhjPWZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVqZWN0KCJDYW5ub3QgdXBkYXRlIG1hbmlmZXN0IHdpdGggdGhpcyBWaWRlb1NvdXJjZSBpbXBsZW1lbnRhdGlvbi4iKX07CmZ1bmN0aW9uIE5mKGEsYil7aWYoYiYmYS5iJiZhLmIuYilpZihhLmEuZ2V0Qm9vbCgic2Vla19vdmVyX3VuYXZhaWxhYmxlX3NlZ21lbnRzX29uX21hbmlmZXN0X3VwZGF0ZSIsITEpJiZhLmVhKWIuZW5kPmEudmlkZW8uY3VycmVudFRpbWUrMTAmJihhLmVhPSExLGEudmlkZW8uY3VycmVudFRpbWU9Yi5lbmQsUWYoYSkpO2Vsc2UgaWYoYS52aWRlby5wYXVzZWQmJmIuZW5kPmEudmlkZW8uY3VycmVudFRpbWUrMTApaWYoYS5hLmdldEJvb2woImVuYWJsZV9sYXp5X2xpdmVoZWFkX2NhdGNodXAiLCExKSl7dmFyIGM9YS54YTtjPGEuSWQmJihhLnhhPSsrYyk7UmYoYSxjKTthLmNhPWIuZW5kfWVsc2UgYS5lYT0hMSxhLnZpZGVvLmN1cnJlbnRUaW1lPWIuZW5kLFFmKGEpfQpmdW5jdGlvbiBLZihhLGIpe2lmKG51bGw9PWEuYi5jKUJhbnphaU9EUy5idW1wRW50aXR5S2V5KDI5NjYsInZpZGVvcy53d3cubGl2ZSIsInVwZGF0ZV9wZXJpb2RfaXNfbnVsbCIpO2Vsc2UgaWYoIWEuRmEpe2lmKGEuYS5nZXRCb29sKCJkZWNvdXBsZV9tcGRfdXBkYXRlX2xvb3BfZnJvbV9yZXF1ZXN0X2xvb3AiLCExKSYmKGEudSYmKGNsZWFyVGltZW91dChhLnUpLGEudT1udWxsKSxzZihhKSkpcmV0dXJuO3ZhciBjPU1hdGgubWF4KGEuYi5jLGEuS2IpLGM9TWF0aC5tYXgoYy1iLDApLGQ9YS5KYi5iaW5kKGEsITEpOyFjJiZhLmcudXNlTWljcm9UYXNrVGltZW91dHM/UHJvbWlzZS5yZXNvbHZlKCkudGhlbihkKTooYS5WJiZhLlYuc2V0UmVzdWx0KCJmYWlsZWQiKS5sb2coKSxhLmwmJihhLlY9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigic2NoZWR1bGVfbWFuaWZlc3RfdXBkYXRlIikuc3RhcnQoKS5zZXRVcGRhdGVQZXJpb2QoTWF0aC5jZWlsKDFFMypjKSkpLGEudT1zZXRUaW1lb3V0KGQsCjFFMypjKSl9fWZ1bmN0aW9uIE9mKGEsYil7dmFyIGM9TWQoYiksZD1hLmNbY107aWYoZCYmZC5XYSgpPT1iKXt2YXIgZT1hLmYuZ2V0KE1kKGIpKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEudn0pLnJlZHVjZShmdW5jdGlvbihhLGIpe3JldHVybiBhLmNvbmNhdChiKX0sW10pLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gYS5vYSYmYS5mYX0pO2lmKDA9PWUubGVuZ3RoKXtjPUVycm9yKCJBbGwgdXNhYmxlIHN0cmVhbXMgaGF2ZSBiZWVuIHJlbW92ZWQgZnJvbSB0aGUgbWFuaWZlc3QuIik7Yy50eXBlPSJhcHAiO2M9QShjKTthLmRpc3BhdGNoRXZlbnQoYyk7cmV0dXJufWEuQltjXS5MYz09YiYmZGVsZXRlIGEuQltjXTtkLmpiKGVbMF0sITApO2IuZGVzdHJveSgpfWIuZGVzdHJveSgpfW4uQ2Q9ZnVuY3Rpb24oYSl7dGhpcy5wYz1hfTtZLnByb3RvdHlwZS5zZXRUYWdnZWRUaW1lUmFuZ2VzPVkucHJvdG90eXBlLkNkOwpZLnByb3RvdHlwZS53ZD1mdW5jdGlvbigpe3JldHVybiAwPT09T2JqZWN0LmtleXModGhpcy5jKS5sZW5ndGg/ITE6WyJhdWRpbyIsInZpZGVvIl0uZXZlcnkoSih0aGlzLGZ1bmN0aW9uKGEpe3JldHVybiF0aGlzLmNbYV18fHRoaXMuY1thXS5UfSkpfTtZLnByb3RvdHlwZS5oYXNIaXRCdWZmZXJpbmdHb2FsPVkucHJvdG90eXBlLndkOwpZLnByb3RvdHlwZS5aPWZ1bmN0aW9uKGEpe2lmKCF0aGlzLmZ8fCF0aGlzLmYuYS5oYXNPd25Qcm9wZXJ0eSgidmlkZW8iKSlyZXR1cm5bXTthPWEmJmEudXNlTG9jYWxCaXRyYXRlfHwhMTt2YXIgYj10aGlzLmMudmlkZW8sYz1iP2IuV2EoKTpudWxsLGQ9Yz9jLlg6MCxlPTEsZj1udWxsO3RoaXMuYS5nZXRCb29sKCJ1c2VfbGl2ZV9iaXRyYXRlX2VzdGltYXRlcyIsITEpJiZ0aGlzLlAoKSYmbnVsbCE9YiYmKGY9Yi5sYSgpLG51bGwhPWMmJjA8Yy5iYW5kd2lkdGgmJihlPWYvYy5iYW5kd2lkdGgpKTtmb3IodmFyIGM9W10sZz10aGlzLmYuZ2V0KCJ2aWRlbyIpLGg9MDtoPGcubGVuZ3RoOysraClmb3IodmFyIGs9Z1toXSxsPTA7bDxrLnYubGVuZ3RoOysrbCl7dmFyIG09ay52W2xdO2lmKG0ub2EmJm0uZmEpe3ZhciBwPW51bGw7aWYoYSYmbnVsbCE9PW0uTSl7dmFyIHQ9bS5NLmMoKSx3PWI7aWYodGhpcy5QKCl8fG51bGw9PT10fHxudWxsPT09dylwPW51bGw7ZWxzZXt2YXIgcD0KcGUodyx0aGlzLnZpZGVvLmN1cnJlbnRUaW1lLHQpLHo9dC5nZXRTZWdtZW50cygpO3RoaXMuYS5nZXRCb29sKCJzdGFydF9sb2NhbF9iaXRyYXRlX2F0X2J1ZmZlcl9lbmQiLCExKSYmKHc9TG9jYWxCaXRyYXRlSGVscGVyLmdldEJ1ZmZlckVuZFNlZ21lbnRJbmRleCh6LHAsdGhpcy52aWRlby5jdXJyZW50VGltZSthZSh3LHRoaXMudmlkZW8uY3VycmVudFRpbWUpKSxudWxsIT09dyYmKHA9dykpO3A9TG9jYWxCaXRyYXRlSGVscGVyLmdldExvY2FsQml0cmF0ZSh0LmdldFNlZ21lbnRzKCkscCx0aGlzLmEuZ2V0TnVtYmVyKCJsb2NhbF9iaXRyYXRlX3NlZ21lbnRzX2FoZWFkIiwxMCkpfXRoaXMuYS5nZXRCb29sKCJ1c2VfbWF4X2xvY2FsX2JpdHJhdGUiLCExKSYmKHA9TWF0aC5tYXgocCxtLmJhbmR3aWR0aCkpfXQ9bS5YO3A9cHx8bS5iYW5kd2lkdGg7dGhpcy5hLmdldEJvb2woInVzZV9saXZlX2JpdHJhdGVfZXN0aW1hdGVzIiwhMSkmJm51bGwhPWYmJih0PT09ZD9wPU1hdGgubWF4KHAsCmYpOjE8ZSYmKHA9cCplKSxwPU1hdGgucm91bmQocCkpO209bmV3IHVhKHQscCxtLndpZHRoLG0uaGVpZ2h0LG0uaWQsbS5mYlF1YWxpdHlMYWJlbCxtLmZiUXVhbGl0eUNsYXNzLG0uZixtLmZyYW1lUmF0ZSxtLm1pbWVUeXBlLG0uY29kZWNzLG0uZyxtLmgpO3Q9PWQmJihtLmFjdGl2ZT0hMCk7Yy5wdXNoKG0pfX1yZXR1cm4gY307WS5wcm90b3R5cGUuZ2V0VmlkZW9UcmFja3M9WS5wcm90b3R5cGUuWjtZLnByb3RvdHlwZS5SYz1mdW5jdGlvbigpe2lmKHRoaXMuZ2EpcmV0dXJuIHRoaXMuZ2E7aWYoIXRoaXMuYilyZXR1cm4gbnVsbDtmb3IodmFyIGE9MDthPHRoaXMuYi5hLmxlbmd0aDsrK2EpZm9yKHZhciBiPXRoaXMuYi5hW2FdLGM9MDtjPGIuYS5sZW5ndGg7KytjKWlmKHRoaXMuZ2E9Yi5hW2NdLmMpcmV0dXJuIHRoaXMuZ2E7cmV0dXJuIG51bGx9O1kucHJvdG90eXBlLmdldFZpZGVvUHJvamVjdGlvbj1ZLnByb3RvdHlwZS5SYztZLnByb3RvdHlwZS5PYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmtifTsKWS5wcm90b3R5cGUuZ2V0TG9jYWxFc3RpbWF0b3I9WS5wcm90b3R5cGUuT2M7ZnVuY3Rpb24gU2YoYSl7YT1hLlooKTtmb3IodmFyIGI9MDtiPGEubGVuZ3RoO2IrKylpZihhW2JdLmFjdGl2ZSlyZXR1cm4gYVtiXX1ZLnByb3RvdHlwZS52YT1mdW5jdGlvbigpe2lmKCF0aGlzLmZ8fCF0aGlzLmYuYS5oYXNPd25Qcm9wZXJ0eSgiYXVkaW8iKSlyZXR1cm5bXTtmb3IodmFyIGE9dGhpcy5jLmF1ZGlvLGE9KGE9YT9hLldhKCk6bnVsbCk/YS5YOjAsYj1bXSxjPXRoaXMuZi5nZXQoImF1ZGlvIiksZD0wO2Q8Yy5sZW5ndGg7KytkKWZvcih2YXIgZT1jW2RdLGY9ZS5sYW5nLGc9MDtnPGUudi5sZW5ndGg7KytnKXt2YXIgaD1lLnZbZ107aWYoaC5vYSYmaC5mYSl7dmFyIGs9aC5YLGg9bmV3IGZhKGssaC5iYW5kd2lkdGgsZixoLmlkLGgubWltZVR5cGUsaC5jb2RlY3MsdGhpcy5iLnUsaC5jKTtrPT1hJiYoaC5hY3RpdmU9ITApO2IucHVzaChoKX19cmV0dXJuIGJ9OwpZLnByb3RvdHlwZS5nZXRBdWRpb1RyYWNrcz1ZLnByb3RvdHlwZS52YTtZLnByb3RvdHlwZS5tYz1mdW5jdGlvbigpe2lmKCF0aGlzLmZ8fCF0aGlzLmYuYS5oYXNPd25Qcm9wZXJ0eSgidGV4dCIpKXJldHVybltdO2Zvcih2YXIgYT10aGlzLmMudGV4dCxiPWE/YS5XYSgpOm51bGwsYj1iP2IuWDowLGM9W10sZD10aGlzLmYuZ2V0KCJ0ZXh0IiksZT0wO2U8ZC5sZW5ndGg7KytlKWZvcih2YXIgZj1kW2VdLGc9Zi5sYW5nLGg9MDtoPGYudi5sZW5ndGg7KytoKXt2YXIgaz1mLnZbaF0uWCxsPW5ldyB0YShrLGcpO2s9PWImJihsLmFjdGl2ZT0hMCxsLmVuYWJsZWQ9YS5EYigpKTtjLnB1c2gobCl9cmV0dXJuIGN9O1kucHJvdG90eXBlLmdldFRleHRUcmFja3M9WS5wcm90b3R5cGUubWM7WS5wcm90b3R5cGUuYWM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iJiZ0aGlzLmIubSYmMDx0aGlzLmIubT8hMDohMX07WS5wcm90b3R5cGUuaXNVc2luZ0FTUkNhcHRpb25zPVkucHJvdG90eXBlLmFjOwpZLnByb3RvdHlwZS5iYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmImJnRoaXMuYi5vJiYwPHRoaXMuYi5vJiZna3goIjExNzYyNTEiKT8hMDohMX07WS5wcm90b3R5cGUuaXNVc2luZ0FTUkNhcHRpb25zRW1wbG95ZWVEb2dmb29kaW5nPVkucHJvdG90eXBlLmJjO2Z1bmN0aW9uIHJmKGEpe3ZhciBiPU51bWJlcihhLmcuaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemUpO2EuZy5maXhCdWZmZXJpbmdHb2FsRGV0ZXJtaW5hdGlvbiYmKGI9MSk7aWYoYS5hLmdldEJvb2woImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvdyIsITEpKWI9YS5LO2Vsc2V7dmFyIGM9YS5hLmdldE51bWJlcigiYnVmZmVyaW5nX292ZXJmbG93X3RocmVzaG9sZCIsMCk7MDxjJiYoYj1jKX1yZXR1cm4gYS4kYj9OdW1iZXIoYS5nLnN0cmVhbUJ1ZmZlclNpemUpOmJ9CmZ1bmN0aW9uIE5lKGEpe2lmKGEuTyl7YT1hLmIuYVswXTtmb3IodmFyIGI9W10sYz0wO2M8YS5hLmxlbmd0aDsrK2MpYi5wdXNoLmFwcGx5KGIsUWQoYS5hW2NdKSk7YT1ifWVsc2UgYT1bXTtyZXR1cm4gYX0KZnVuY3Rpb24gUGUoYSxiKXtpZihhLk8pe2Zvcih2YXIgYz17fSxkPWEuYi5hWzBdLGU9MDtlPGQuYS5sZW5ndGg7KytlKXt2YXIgZj1kLmFbZV07Y1tmLlhdPWZ9YS5mLmE9e307ZD1hYihiKTtmb3IoZT0wO2U8ZC5sZW5ndGg7KytlKXt2YXIgZj1kW2VdLGc9Yi5nZXQoZik7aWYoInZpZGVvIj09Zil7dmFyIGg9Z1swXS5pZDthLmYucHVzaChmLGNbaF0pfWVsc2UgaWYoImF1ZGlvIj09Zil7aWYoMDxnLmxlbmd0aClmb3IodmFyIGg9Z1swXS5iLnNwbGl0KCI7IilbMF0saz0wO2s8Zy5sZW5ndGg7KytrKXt2YXIgbD1nW2tdO2wuYi5zcGxpdCgiOyIpWzBdPT1oJiZhLmYucHVzaChmLGNbbC5pZF0pfX1lbHNlIGZvcihrPTA7azxnLmxlbmd0aDsrK2spaD1nW2tdLmlkLGEuZi5wdXNoKGYsY1toXSl9YS55YT0hMDtpZihjPWEuZi5nZXQoImF1ZGlvIikpVGYoYSxjKSxhLmYuc2V0KCJhdWRpbyIsYyksYz1jWzBdLmxhbmd8fGEuUyxSYSgyLGEuUyxjKSYmKGEueWE9ITEpO2lmKGM9YS5mLmdldCgidGV4dCIpKVRmKGEsCmMpLGEuZi5zZXQoInRleHQiLGMpLGM9Y1swXS5sYW5nfHxhLlMsUmEoMixhLlMsYyl8fChhLnlhPSExKX19WS5wcm90b3R5cGUuWGM9ZnVuY3Rpb24oKXt0aGlzLkVhPSEwfTtZLnByb3RvdHlwZS5zZXRDbGVhckJ1ZmZlckFmdGVyU2Vla2luZz1ZLnByb3RvdHlwZS5YYztZLnByb3RvdHlwZS5zZWxlY3RWaWRlb1RyYWNrPWZ1bmN0aW9uKGEsYixjLGQsZSl7cmV0dXJuIG1mKHRoaXMsInZpZGVvIixhLGIsYyxkLGUpfTtZLnByb3RvdHlwZS5yZXN1bWVWaWRlb0ZldGNoaW5nPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5jLnZpZGVvP3RoaXMuYy52aWRlby5GOm51bGw7YSYmYS5yZXN1bWVWaWRlb0ZldGNoaW5nKCl9O1kucHJvdG90eXBlLnJlc3VtZVZpZGVvRmV0Y2hpbmc9WS5wcm90b3R5cGUucmVzdW1lVmlkZW9GZXRjaGluZztZLnByb3RvdHlwZS5IZD1mdW5jdGlvbigpe3ZhciBhPXRoaXMuYy52aWRlbz90aGlzLmMudmlkZW8uRjpudWxsO2EmJmEuc3RvcFVudGlsU2VnbWVudHNVcGRhdGUoKX07ClkucHJvdG90eXBlLnN0b3BVbnRpbFZpZGVvU3RyZWFtU3dpdGNoPVkucHJvdG90eXBlLkhkO2Z1bmN0aW9uIG5mKGEsYil7dmFyIGM9YS5jLnRleHQ7YyYmYy52YihiKX0KZnVuY3Rpb24gRWYoYSl7aWYoYS5tKXtmb3IodmFyIGI9ITEsYz0wO2M8YS5iLmEubGVuZ3RoOysrYylmb3IodmFyIGQ9YS5iLmFbY10sZT0wO2U8ZC5hLmxlbmd0aDsrK2Upe3ZhciBmPWQuYVtlXTtpZigidmlkZW8iPT1mLmNvbnRlbnRUeXBlKWZvcih2YXIgZz0wO2c8Zi52Lmxlbmd0aDsrK2cpe3ZhciBoPWYudltnXSxrPWguZmE7aC5mYT0hMDthLm0ubWF4V2lkdGgmJmgud2lkdGg+YS5tLm1heFdpZHRoJiYoaC5mYT0hMSk7YS5tLm1heEhlaWdodCYmaC5oZWlnaHQ+YS5tLm1heEhlaWdodCYmKGguZmE9ITEpO2EubS5taW5IZWlnaHQmJmguaGVpZ2h0PGEubS5taW5IZWlnaHQmJihoLmZhPSExKTthLm0ubWF4QmFuZHdpZHRoJiZoLmJhbmR3aWR0aD5hLm0ubWF4QmFuZHdpZHRoJiYoaC5mYT0hMSk7YS5tLm1pbkJhbmR3aWR0aCYmaC5iYW5kd2lkdGg8YS5tLm1pbkJhbmR3aWR0aCYmKGguZmE9ITEpO2shPWguZmEmJihiPSEwKX19MCE9JGEoYS5mKS5sZW5ndGgmJmImJihVZihhKSwKMDxhLlooKS5sZW5ndGh8fChiPUVycm9yKCJUaGUgYXBwbGljYXRpb24gaGFzIHJlc3RyaWN0ZWQgYWxsIHZpZGVvIHRyYWNrcyEiKSxiLnR5cGU9ImFwcCIsYj1BKGIpLGEuZGlzcGF0Y2hFdmVudChiKSkpfX1ZLnByb3RvdHlwZS5QPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYj90aGlzLmIuYjpudWxsfTtZLnByb3RvdHlwZS5pc0xpdmU9WS5wcm90b3R5cGUuUDtZLnByb3RvdHlwZS5ZYz1mdW5jdGlvbihhKXt0aGlzLiRiPWF9O1kucHJvdG90eXBlLnNldElzTGl2ZUludGVycnVwdGVkPVkucHJvdG90eXBlLlljO1kucHJvdG90eXBlLnZkPWZ1bmN0aW9uKCl7Zm9yKHZhciBhIGluIHRoaXMuYyl0aGlzLmNbYV0uSGMoKX07WS5wcm90b3R5cGUuZm9yY2VSZXN5bmNWaWRlb0J1ZmZlcj1ZLnByb3RvdHlwZS52ZDsKZnVuY3Rpb24gV2UoYSxiKXtmb3IodmFyIGMsZD0hMSxlPW5ldyBELGY9JGEoYS5mKSxnPTA7ZzxmLmxlbmd0aDsrK2cpZm9yKHZhciBoPWZbZ10saz0wO2s8aC52Lmxlbmd0aDsrK2spe3ZhciBsPWgudltrXTtsLmIuZm9yRWFjaChmdW5jdGlvbihhKXtlLnB1c2goYSxsKX0pfWZvcihjIGluIGIpaWYoZj1QYVtiW2NdXXx8bnVsbCxoPWUuZ2V0KGMpKWZvcihnPTA7ZzxoLmxlbmd0aDsrK2cpbD1oW2ddLGs9bC5vYSxsLm9hPSFmLGshPWwub2EmJihkPSEwKTtlbHNlIGliKGMpO2QmJihVZihhKSxkPWEudmEoKSxjPWEuWigpLGQ9YS5mLmEuaGFzT3duUHJvcGVydHkoImF1ZGlvIikmJjA9PWQubGVuZ3RoLGM9YS5mLmEuaGFzT3duUHJvcGVydHkoInZpZGVvIikmJjA9PWMubGVuZ3RoLGR8fGMpJiYoYz1FcnJvcigiVGhlIGtleSBzeXN0ZW0gaGFzIHJlc3RyaWN0ZWQgYWxsICIrKGQmJmM/ImF1ZGlvIGFuZCB2aWRlbyB0cmFja3MuIjpkPyJhdWRpbyB0cmFja3MuIjoidmlkZW8gdHJhY2tzLiIpKSwKYy50eXBlPSJkcm0iLGM9QShjKSxhLmRpc3BhdGNoRXZlbnQoYykpfWZ1bmN0aW9uIFVmKGEpe3ZhciBiPXkoe3R5cGU6InRyYWNrc2NoYW5nZWQiLGJ1YmJsZXM6ITB9KTthLmRpc3BhdGNoRXZlbnQoYil9ZnVuY3Rpb24gbWYoYSxiLGMsZCxlLGYsZyl7Zz0hIWc7aWYoIWEuZi5hLmhhc093blByb3BlcnR5KGIpfHwhYS5jW2JdKXJldHVybiExO2Zvcih2YXIgaD1hLmYuZ2V0KGIpLGs9MDtrPGgubGVuZ3RoOysraylmb3IodmFyIGw9aFtrXSxtPTA7bTxsLnYubGVuZ3RoOysrbSl7dmFyIHA9bC52W21dO2lmKHAuWD09Yyl7aWYoIXAub2F8fCFwLmZhKXJldHVybiExO2lmKCJ0ZXh0IiE9YiYmIWEuQ2EpcmV0dXJuIGM9YS5CW2JdLGEuQltiXT17TGM6cCxyYzpudWxsIT1jJiZjLnJjfHxkLHNjOm51bGwhPWMmJmMuc2N8fGUsc3dpdGNoUmVhc29uOmYsS2E6Z30sITA7YS5jW2JdLmpiKHAsZCxlLGYsZyk7cmV0dXJuITB9fXJldHVybiExfQpmdW5jdGlvbiBUZihhLGIpe2Zvcih2YXIgYz0wOzI+PWM7KytjKWZvcih2YXIgZD0wO2Q8Yi5sZW5ndGg7KytkKXt2YXIgZT1iW2RdO2lmKFJhKGMsYS5TLGUubGFuZykpe2Iuc3BsaWNlKGQsMSk7Yi5zcGxpY2UoMCwwLGUpO3JldHVybn19Zm9yKGQ9MDtkPGIubGVuZ3RoOysrZClpZihlPWJbZF0sZS5mKXtiLnNwbGljZShkLDEpO2Iuc3BsaWNlKDAsMCxlKTticmVha319bj1ZLnByb3RvdHlwZTtuLmhkPWZ1bmN0aW9uKCl7dGhpcy5oLmFiKHRoaXMuaSwic291cmNlb3BlbiIpO3RoaXMuSWIucmVzb2x2ZSgpfTsKZnVuY3Rpb24gRmYoYSl7dmFyIGI7YS5sJiYoYj1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJzdGFydF9zdHJlYW1zIikuc3RhcnQoKSk7Zm9yKHZhciBjPVtdLGQ9WyJhdWRpbyIsInZpZGVvIiwidGV4dCJdLGU9MDtlPGQubGVuZ3RoOysrZSl7dmFyIGY9ZFtlXTthLmYuYS5oYXNPd25Qcm9wZXJ0eShmKSYmYy5wdXNoKGEuZi5nZXQoZilbMF0pfWZvcih2YXIgZz1WZihhLGMpLGU9MDtlPGQubGVuZ3RoOysrZSlpZihmPWRbZV0sYS5mLmEuaGFzT3duUHJvcGVydHkoZikmJiFnW2ZdKXJldHVybiBhPUVycm9yKCJVbmFibGUgdG8gc2VsZWN0IGFuIGluaXRpYWwgIitmKyIgc3RyZWFtOiBhbGwgIitmKyIgc3RyZWFtcyBoYXZlIGJlZW4gcmVzdHJpY3RlZCAoYnkgdGhlIGFwcGxpY2F0aW9uIG9yIGJ5IHRoZSBrZXkgc3lzdGVtKS4iKSxhLnR5cGU9InN0cmVhbSIsYiYmYi5zZXRFcnJvcihhKS5sb2coKSxQcm9taXNlLnJlamVjdChhKTtjPVdhKGcpLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS5NLmNyZWF0ZSgpfSk7CmMucHVzaChhLkliKTtyZXR1cm4gUHJvbWlzZS5hbGwoYykudGhlbihKKGEsZnVuY3Rpb24oYSl7YS5wb3AoKTtpZighYS5ldmVyeShmdW5jdGlvbihhKXtyZXR1cm4gYS5sZW5ndGgoKX0pKXJldHVybiBhPUVycm9yKCJTb21lIHN0cmVhbXMgYXJlIG5vdCBhdmFpbGFibGUuIiksYS50eXBlPSJzdHJlYW0iLFByb21pc2UucmVqZWN0KGEpO2E9TWYodGhpcyxhKTtpZighYSlyZXR1cm4gYT1FcnJvcigiU29tZSBzdHJlYW1zIGFyZSBub3QgYXZhaWxhYmxlLiIpLGEudHlwZT0ic3RyZWFtIixQcm9taXNlLnJlamVjdChhKTtpZighV2YodGhpcyxnKSlyZXR1cm4gYT1FcnJvcigiRmFpbGVkIHRvIGNyZWF0ZSBTdHJlYW0gb2JqZWN0cy4iKSxhLnR5cGU9InN0cmVhbSIsUHJvbWlzZS5yZWplY3QoYSk7dGhpcy5BLnN0YXJ0KCk7WGYodGhpcyxnLGEpO3JldHVybiBQcm9taXNlLnJlc29sdmUoKX0pKS50aGVuKGZ1bmN0aW9uKCl7YiYmYi5sb2coKX0pLmNhdGNoKEooYSxmdW5jdGlvbihhKXtpZigiYWJvcnRlZCI9PQphLnR5cGUpYiYmYi5zZXRFcnJvcihhKS5sb2coKTtlbHNle09iamVjdC5rZXlzKHRoaXMuYyk7aWYodGhpcy5iLmIpcmV0dXJuIHlhKCk8dGhpcy5iLmo/KGE9TWF0aC5tYXgodGhpcy5iLmotRGF0ZS5ub3coKS8xRTMsdGhpcy5LYiksdGhpcy51PXNldFRpbWVvdXQodGhpcy5KYi5iaW5kKHRoaXMsITApLDFFMyphKSk6S2YodGhpcywwKSxiJiZiLmxvZygpLFByb21pc2UucmVzb2x2ZSgpO2ImJmIuc2V0RXJyb3IoYSkubG9nKCk7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfX0pKX0KZnVuY3Rpb24gVmYoYSxiKXtmb3IodmFyIGM9e30sZD0wO2Q8Yi5sZW5ndGg7KytkKXt2YXIgZT1iW2RdLGY9bnVsbDtpZigidmlkZW8iPT1lLmNvbnRlbnRUeXBlKXt2YXIgZz1hLkEuZ2V0SW5pdGlhbFZpZGVvVHJhY2tJZCgpO2lmKG51bGw9PWcpY29udGludWU7Zj1lLnYuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiBhLlg9PWd9KTtpZigwPT1mLmxlbmd0aCljb250aW51ZTtmPWZbMF19ZWxzZSBpZigiYXVkaW8iPT1lLmNvbnRlbnRUeXBlKWlmKGc9YS5BLmdldEluaXRpYWxBdWRpb1RyYWNrSWQoKSxmPWUudi5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIGEuWD09Z30pLDA9PWYubGVuZ3RoKXtmPWUudi5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIGEub2EmJmEuZmF9KTtpZigwPT1mLmxlbmd0aCljb250aW51ZTtmPWUudltNYXRoLmZsb29yKGYubGVuZ3RoLzIpXX1lbHNlIGY9ZlswXTtlbHNlIDA8ZS52Lmxlbmd0aCYmKGY9ZS52WzBdKTtjW2UuY29udGVudFR5cGVdPWZ9cmV0dXJuIGN9CmZ1bmN0aW9uIFdmKGEsYil7dmFyIGM9e30sZDtmb3IoZCBpbiBiKXt2YXIgZT1iW2RdLGU9InRleHQiPT1kP25ldyB0ZShhLGEudmlkZW8pOllmKGEsZSk7aWYoIWUpcmV0dXJuIFdhKGMpLmZvckVhY2goZnVuY3Rpb24oYSl7YS5kZXN0cm95KCl9KSwhMTtjW2RdPWV9YS5QYihhLm5jKTthLmM9YztyZXR1cm4hMH0KZnVuY3Rpb24gWWYoYSxiKXt2YXIgYz1OZChiKSxkPVpmKGMuc3BsaXQoIjsiKVswXSksZT1udWxsLGY9YS5hLmdldEJvb2woInVzZV9sb2NhbF9lc3RpbWF0b3JfZm9yX2Ficl9zYW1wbGluZyIsITApP2Eua2I6YS53YSxnPW51bGwsaD1udWxsLGs9YS5iLmZ8fGEuYi5BLGs9YS5hLmdldEJvb2woInNraXBfc2VnbWVudF9yZXF1ZXN0X21hbmFnZXIiLCExKSYmazthLldiJiZjYW5Vc2VGZXRjaFN0cmVhbSgpPyhoPW5ldyBNdWx0aXBsZVNlZ21lbnRzUHJvdmlkZXIoYS5hLmdldE51bWJlcigic3RyZWFtaW5nX3NlZ21lbnRfc2l6ZSIsNCkpLGc9JGYoYSxoLGQsZikpOmEuVmImJiFrJiYoZT1hZyhhLGQsZikpO3ZhciBrPW51bGwsbD1hLmYuZ2V0KGQpOyJ2aWRlbyI9PT1kJiYwPGwubGVuZ3RoJiYoaz1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz1udWxsLGQ9bnVsbCxlPTA7ZTxsWzBdLnYubGVuZ3RoO2UrKylsWzBdLnZbZV0uaWQ9PT1hP2M9bFswXS52W2VdOmxbMF0udltlXS5pZD09PQpiJiYoZD1sWzBdLnZbZV0pO3JldHVybiBudWxsPT09Y3x8bnVsbD09PWQ/MDpjLmJhbmR3aWR0aD5kLmJhbmR3aWR0aD8xOi0xfSk7Yz1uZXcgVShhLGEudmlkZW8sYS5hLGEuaSxjLGYsYS5wYyxhLmRhLGssYS5HLGUsZyxoLGEuaWEpO2MucGEoYS5nKTtyZXR1cm4gY30KZnVuY3Rpb24gJGYoYSxiLGMsZCl7dmFyIGU9YS53W2NdLGY9ImF1ZGlvIiE9PWN8fGEuYS5nZXRCb29sKCJlbmFibGVfYXVkaW9fc3RyZWFtaW5nIiwhMSk7aWYoIWUmJmYpe3ZhciBlPW5ldyBWaWRlb1N0cmVhbWluZ01hbmFnZXIoYS5hLGIsYyxhLmwsYS5VKSxnPSJ2aWRlbyI9PT1jO2cmJmUuYWRkTGlzdGVuZXIoImJhbmR3aWR0aFVwZGF0ZSIsZnVuY3Rpb24oYSl7ZC5zYW1wbGUoYS50aW1lVGFrZW4sYS5ieXRlc1JlYWQsZyx7dGltZVRvTGFzdEJ5dGU6YS50aW1lVGFrZW59LHRoaXMuQWIsdGhpcy5sLCF0aGlzLmEuZ2V0Qm9vbCgiZXZhbHVhdGVfYWJyX29uX3N0cmVhbV9iYW5kd2lkdGhfc2FtcGxlIiwhMCkpfS5iaW5kKGEpKX1lJiYoYS53W2NdPWUpO3JldHVybiBlfHxudWxsfQpmdW5jdGlvbiBhZyhhLGIsYyl7aWYoInZpZGVvIj09PWJ8fCJhdWRpbyI9PT1iJiZhLmEuZ2V0Qm9vbCgiZW5hYmxlX3JlcXVlc3RfcGlwZWxpbmluZ19mb3Jfdm9kX2F1ZGlvcyIsITEpKXt2YXIgZD1hLm9bYl07ZHx8KGQ9bmV3IFNlZ21lbnRSZXF1ZXN0TWFuYWdlcihhLmEsYixhLlAoKT9WaWRlb1ByaW9yaXR5Q2FsY3VsYXRvci5jYWxjdWxhdGVMaXZlOlZpZGVvUHJpb3JpdHlDYWxjdWxhdG9yLmNhbGN1bGF0ZSxhLmwsYyxhLkFiLGEuZGEsYS5pYSksYS5SJiZkLnVwZGF0ZVByaW9yaXR5V2l0aE5ld0FkanVzdG1lbnQoYS5SLmdldFByaW9yaXR5QWRqdXN0bWVudCgpKSxhLm9bYl09ZCk7cmV0dXJuIGR9cmV0dXJuIG51bGx9ZnVuY3Rpb24gYmcoYSxiKXthLnZpZGVvLmN1cnJlbnRUaW1lPWI7YS5hLmdldEJvb2woInNldF9wZW5kaW5nX3NlZWtfb25fc2V0X2N1cnJlbnRfdGltZV9mYWlsdXJlIiwhMSkmJmEudmlkZW8uY3VycmVudFRpbWUrMTxiJiZjZyhhLGIpO2EuRD1ifQpmdW5jdGlvbiBYZihhLGIsYyl7YS5rYz1hLnZpZGVvLnBsYXliYWNrUmF0ZTthLnZpZGVvLnBsYXliYWNrUmF0ZT0wO2RnKGEsYyk7dmFyIGQ7ZD1hLmIuZjsoIWEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9hZGp1c3Rfc3RyZWFtX2xpbWl0c19zdGFydF9vZmZzZXRfaW50IiwwKSYmIWEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9qdW1wX3RvX2xpdmVfc2lkeF9lbmRfb2Zmc2V0IiwwKXx8IWQpJiZhLmxhJiZhLmxhPD1jLmVuZCYmYS5sYT49Yy5zdGFydD9kPWEubGE6YS5iLmI/KGQ9ZWcoYSxjKSxhLmVjPSEwKTpkPWMuc3RhcnQ7RShhLmgsYS52aWRlbywic2Vla2luZyIsYS5tZC5iaW5kKGEpKTthLkk/KGEuSS5zZXRPblBsYXlpbmcoYS5tYi5iaW5kKGEsITApKSxhLkkuc2V0T25QYXVzZWQoYS5tYi5iaW5kKGEsITEpKSxhLkkuZW5hYmxlKCkpOihFKGEuaCxhLnZpZGVvLCJwbGF5aW5nIixhLm1iLmJpbmQoYSwhMCkpLGEuYS5nZXRCb29sKCJ1cGRhdGVfcHJpb3JpdHlfb25fcGxheV9ldmVudCIsCiEwKSYmRShhLmgsYS52aWRlbywicGxheSIsYS5tYi5iaW5kKGEsITApKSxFKGEuaCxhLnZpZGVvLCJwYXVzZSIsYS5tYi5iaW5kKGEsITEpKSk7RShhLmgsYS52aWRlbywic2Vla2luZyIsYS5NYy5iaW5kKGEpKTtFKGEuaCxhLnZpZGVvLCJ0aW1ldXBkYXRlIix0aHJvdHRsZShhLk1jLmJpbmQoYSksYS5hLmdldE51bWJlcigic2NoZWR1bGVyX3ByaW9yaXR5X3VwZGF0ZV9pbnRlcnZhbCIsMUUzKSkpO2lmKGEudmlkZW8uY3VycmVudFRpbWUhPWQpaWYoYS5TYikwIT09YS52aWRlby5yZWFkeVN0YXRlP2JnKGEsZCk6Y2coYSxkKTtlbHNlIHRyeXtiZyhhLGQpfWNhdGNoKGUpe2NnKGEsZCl9ZmcoYSxjLnN0YXJ0LGMuZW5kLGMubGFzdCxjLlphKTt2YXIgZj1bXSxnO2ZvcihnIGluIGEuYyl7Yz1hLmNbZ107SihhLGZ1bmN0aW9uKGEpe2YucHVzaChhLktjKHRoaXMuc2EpLnRoZW4oSih0aGlzLGZ1bmN0aW9uKGIpe3ZhciBjPWEuc2IoKTtjPnRoaXMuQmImJih0aGlzLkJiPWMpO3JldHVybiBifSkpKX0pKGMpOwpFKGEuaCxjLCJlbmRlZCIsYS5vZC5iaW5kKGEpKTtFKGEuaCxjLCJzaG91bGRfZW5kX2FsbF9zdHJlYW1zIixhLnBkLmJpbmQoYSkpO0UoYS5oLGMsInNob3VsZF9udWRnZSIsYS5qZC5iaW5kKGEpKTtkPWJbZ107dmFyIGg9YS5BLmdldEluaXRpYWxTd2l0Y2hSZWFzb24oKXx8dm9pZCAwO2MuamIoZCwhMSx2b2lkIDAsaCl9UHJvbWlzZS5hbGwoZikudGhlbihKKGEsZnVuY3Rpb24oYSl7dGhpcy5hLmdldEJvb2woInByZXZlbnRfc3RyZWFtX3N0YXJ0X2lmX3N0cmVhbXNfY2hhbmdlIiwhMSkmJiFnZyh0aGlzKXx8aGcodGhpcyxhKX0pKS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7ImRlc3Ryb3kiIT1hLnR5cGUmJihhPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGEpKX0pKTtuZihhLGEueWEpfQpuLm1iPWZ1bmN0aW9uKGEpe09iamVjdC5rZXlzKHRoaXMubykuZm9yRWFjaChmdW5jdGlvbihiKXt0aGlzLm9bYl0udXBkYXRlUHJpb3JpdHlXaXRoTmV3UGxheWluZ1N0YXRlKGEpfS5iaW5kKHRoaXMpKTtPYmplY3Qua2V5cyh0aGlzLncpLmZvckVhY2goZnVuY3Rpb24oYil7dGhpcy53W2JdLmdldFByaW9yaXR5VXBkYXRlcigpLnVwZGF0ZVByaW9yaXR5V2l0aE5ld1BsYXlpbmdTdGF0ZShhKX0uYmluZCh0aGlzKSk7aWYodGhpcy5sKXt2YXIgYj1NZih0aGlzLEhmKHRoaXMpKTtiJiZ0aGlzLnZpZGVvLmN1cnJlbnRUaW1lPGIuc3RhcnQmJkJhbnphaU9EUy5idW1wRW50aXR5S2V5KDI5NjYsInZpZGVvcy53d3cuc2hha2EiLCJjdXJyZW50X3RpbWVfYXRfcGxheWluZ19sZXNzX3RoYW5fc3RyZWFtX2xpbWl0c19zdGFydCIpfWEmJm51bGwhPT10aGlzLmNhJiYodGhpcy54YT0xLFJmKHRoaXMsdGhpcy54YSksaWcodGhpcykpfTsKbi5NYz1mdW5jdGlvbigpe3RoaXMudmlkZW8mJihPYmplY3Qua2V5cyh0aGlzLm8pLmZvckVhY2goZnVuY3Rpb24oYSl7dGhpcy5vW2FdLnVwZGF0ZVByaW9yaXR5V2l0aE5ld1BsYXloZWFkKHRoaXMudmlkZW8uY3VycmVudFRpbWUpfS5iaW5kKHRoaXMpKSxPYmplY3Qua2V5cyh0aGlzLncpLmZvckVhY2goZnVuY3Rpb24oYSl7dGhpcy53W2FdLmdldFByaW9yaXR5VXBkYXRlcigpLnVwZGF0ZVByaW9yaXR5V2l0aE5ld1BsYXloZWFkKHRoaXMudmlkZW8uY3VycmVudFRpbWUpfS5iaW5kKHRoaXMpKSl9O2Z1bmN0aW9uIFFmKGEpe2lmKGEuYS5nZXRCb29sKCJjbGVhcl9jdXJyZW50X3NlZ21lbnRfaW5kZXhlc19kdXJpbmdfbGl2ZWhlYWRfY2F0Y2h1cCIsITEpKWZvcih2YXIgYiBpbiBhLmMpYS5jW2JdLmk9bnVsbH1mdW5jdGlvbiBjZyhhLGIpe2EuYmE9Yjtmb3IodmFyIGMgaW4gYS5jKXt2YXIgZD1hLmNbY107YS5iYSYmKGQuSj1hLmJhKX19CmZ1bmN0aW9uIGdnKGEpe3JldHVybiFPYmplY3Qua2V5cyhhLmMpLnNvbWUoSihhLGZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNbYV0mJiF0aGlzLmNbYV0uaH0pKX0KZnVuY3Rpb24gaGcoYSxiKXtiYShiJiZiLmxlbmd0aD09T2JqZWN0LmtleXMoYS5jKS5sZW5ndGgpO2Zvcih2YXIgYz1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksZD1OdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFksZT0wO2U8Yi5sZW5ndGg7KytlKXZhciBmPWJbZV0sYz1NYXRoLm1pbihjLGYpLGQ9TWF0aC5tYXgoZCxmKTtjPUhmKGEpO2ZvcihlPTA7ZTxjLmxlbmd0aDsrK2UpY1tlXS5UYShkKTthLmEuZ2V0Qm9vbCgicHJvY2Vzc19kZWZlcnJlZF9zd2l0Y2hlc19lYXJseSIsITEpJiZqZyhhKTtrZyhhLGMsZCk7dmFyIGc9V2EoYS5jKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuV2EoKS5pZH0pO2EuYS5nZXRCb29sKCJzZXF1ZW50aWFsbHlfbG9hZF9zdHJlYW1zIiwhMSk/bGcoYSxnLGQpOihlPSRhKGEuZikubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLnZ9KS5yZWR1Y2UoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5jb25jYXQoYil9LFtdKS5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIX5nLmluZGV4T2YoYS5pZCl9KS5tYXAoSihhLApmdW5jdGlvbihhKXt2YXIgYj1bYS5NLnBiP2EuTS5wYigpOmEuTS5jcmVhdGUoKV07YS5hYSYmYi5wdXNoKGEuYWEuY3JlYXRlKHRoaXMubCx0aGlzLmRhKSk7cmV0dXJuIFByb21pc2UuYWxsKGIpfSkpLFByb21pc2UuYWxsKGUpLnRoZW4oSihhLGZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7KytiKWFbYl1bMF0uVGEoZCk7dGhpcy5DYT0hMDtqZyh0aGlzKX0pKS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7ImFib3J0ZWQiIT1hLnR5cGUmJihhPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGEpKX0pKSl9CmZ1bmN0aW9uIGxnKGEsYixjKXt2YXIgZD1Qcm9taXNlLnJlc29sdmUoKTskYShhLmYpLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS52fSkucmVkdWNlKGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuY29uY2F0KGIpfSxbXSkuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiF+Yi5pbmRleE9mKGEuaWQpfSkuZm9yRWFjaChmdW5jdGlvbihhKXtkPWQudGhlbihKKHRoaXMsZnVuY3Rpb24oYil7YiYmYlswXS5UYShjKTtiPVthLk0ucGI/YS5NLnBiKCk6YS5NLmNyZWF0ZSgpXTthLmFhJiZiLnB1c2goYS5hYS5jcmVhdGUodGhpcy5sLHRoaXMuZGEpKTtyZXR1cm4gUHJvbWlzZS5hbGwoYil9KSkuY2F0Y2goZnVuY3Rpb24oYSl7dGhyb3cgYTt9KX0pO2QudGhlbihKKGEsZnVuY3Rpb24oKXt0aGlzLkNhPSEwO2pnKHRoaXMpfSkpLmNhdGNoKEooYSxmdW5jdGlvbihhKXsiYWJvcnRlZCIhPWEudHlwZSYmKGE9QShhKSx0aGlzLmRpc3BhdGNoRXZlbnQoYSkpfSkpfQpmdW5jdGlvbiBqZyhhKXtmb3IodmFyIGIgaW4gYS5CKXt2YXIgYz1hLkJbYl07YS5jW2JdLmpiKGMuTGMsYy5yYyxjLnNjLGMuc3dpdGNoUmVhc29uLGMuS2EpfWEuQj17fX0KZnVuY3Rpb24ga2coYSxiLGMpe3ZhciBkO2EuYS5nZXRCb29sKCJ3d3dfdmlkZW9zX2V4dGVuZGVkX3NwbF9sb2dnaW5nX2Zvcl9jb25uZWN0ZWRfdHYiLCExKSYmYS5sJiYoZD1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJzdHJlYW1fdmlkZW9fc291cmNlX2JlZ2luX3BsYXliYWNrIikpO2lmKGI9TWYoYSxiKSlkZyhhLGIpLGZnKGEsYi5zdGFydCxiLmVuZCxiLmxhc3QsYi5aYSk7MCE9Yz8oYz1hLnZpZGVvLmN1cnJlbnRUaW1lK2MsYS5hLmdldE51bWJlcigid3d3X3ZpZGVvc19udWRnZV90aW1lc3RhbXBfY29ycmVjdGlvbl9zIiwwKSYmKGMrPWEuYS5nZXROdW1iZXIoInd3d192aWRlb3NfbnVkZ2VfdGltZXN0YW1wX2NvcnJlY3Rpb25fcyIsMCkpLGEudmlkZW8uY3VycmVudFRpbWU9YyxhLkQ9Yyk6YS5lYyYmYiYmKGM9ZWcoYSxiKSxNYXRoLmFicyhjLWEudmlkZW8uY3VycmVudFRpbWUpPj1hLmRjJiYoYS52aWRlby5jdXJyZW50VGltZT1jKSk7YS5hLmdldEJvb2woInVuaWZ5X3N0cmVhbV9zdGFydF93aXRoX2J1ZmZlcl9kZXRlY3RvciIsCiExKT8oYz15KHt0eXBlOiJhbGxTdHJlYW1zU3RhcnRlZCIsYnViYmxlczohMH0pLGEuZGlzcGF0Y2hFdmVudChjKSk6YS52aWRlby5wbGF5YmFja1JhdGU9YS5rYzthLmIuYiYmbnVsbCE9YS5iLmMmJktmKGEsMCk7bWcoYSk7YS5zYS5yZXNvbHZlKCk7ZCYmZC5sb2coKX0KZnVuY3Rpb24gZWcoYSxiKXt2YXIgYz1iLmVuZDt2b2lkIDAhPT1iLkJjJiYoYz1iLkJjKTtpZihhLmEuZ2V0Qm9vbCgidGVtcGxhdGVkX2Fsd2F5c19qdW1wX3RvX3N0cmVhbV9saW1pdHNfZW5kIiwhMSkmJmEuYiYmYS5iLmYpcmV0dXJuIGIuZW5kO2lmKGEuY2Mpe3ZhciBkPWEudmlkZW8uY3VycmVudFRpbWUsZT1iLnN0YXJ0O2lmKGEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9hZGp1c3Rfc3RyZWFtX2xpbWl0c19zdGFydF9vZmZzZXRfaW50IiwwKSYmYS5iJiZhLmIuZil7Zm9yKHZhciBmPUhmKGEpLGc9MCxoPTA7aDxmLmxlbmd0aDsrK2gpe3ZhciBrPWZbaF0sbD1NYXRoLm1pbihhLmEuZ2V0TnVtYmVyKCJ0ZW1wbGF0ZWRfYWRqdXN0X3N0cmVhbV9saW1pdHNfc3RhcnRfb2Zmc2V0X2ludCIsMCksay5sZW5ndGgoKSk7ay5sZW5ndGgoKSYmMDxsJiZsPD1rLmxlbmd0aCgpJiYoZz1NYXRoLm1heChrLmdldChrLmxlbmd0aCgpLWwpLnN0YXJ0VGltZSxnKSl9ZT1NYXRoLm1heChlLApnKX1pZihkPj1lJiZkPD1iLmVuZCYmZDxjKWlmKGEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9qdW1wX3RvX2xpdmVfc2lkeF9lbmRfb2Zmc2V0IiwwKSYmYS5iJiZhLmIuZil7Zj1IZihhKTtrPW51bGw7ZT1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7Zm9yKGg9MDtoPGYubGVuZ3RoOysraClmW2hdLmxlbmd0aCgpPGUmJihlPWZbaF0ubGVuZ3RoKCksaz1mW2hdKTtrJiZlPmEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9qdW1wX3RvX2xpdmVfc2lkeF9lbmRfb2Zmc2V0IiwwKSYmKGY9ay5nZXQoay5sZW5ndGgoKS1hLmEuZ2V0TnVtYmVyKCJ0ZW1wbGF0ZWRfanVtcF90b19saXZlX3NpZHhfZW5kX29mZnNldCIsMCkpLnN0YXJ0VGltZSxkPj1mJiYoYz1kKSl9ZWxzZSBjPWR9cmV0dXJuIGN9CmZ1bmN0aW9uIGRnKGEsYil7aWYoYS5iLmIpaXNOYU4oYS5pLmR1cmF0aW9uKSYmKGEuaS5kdXJhdGlvbj1iLmVuZCsyNTkyRTMpO2Vsc2UgaWYoaXNOYU4oYS5pLmR1cmF0aW9uKXx8Yi5lbmQ+YS5pLmR1cmF0aW9uKWlmKGEuaS5kdXJhdGlvbj1iLmVuZCwhYS5hLmdldEJvb2woImRpc2FibGVfYXBwZW5kX3dpbmRvd19lbmQiLCExKSlmb3IodmFyIGM9YS5hLmdldE51bWJlcigiYXBwZW5kX3dpbmRvd19lbmRfZnVkZ2VfZmFjdG9yIiwwKSxkPTA7ZDxhLmkuc291cmNlQnVmZmVycy5sZW5ndGg7KytkKWEuaS5zb3VyY2VCdWZmZXJzW2RdLmFwcGVuZFdpbmRvd0VuZD1iLmVuZCtjfQpuLnJkPWZ1bmN0aW9uKCl7dGhpcy5rYT1udWxsO21nKHRoaXMpO3ZhciBhPU1mKHRoaXMsSGYodGhpcykpO2lmKGEpe3ZhciBiPXRoaXMuYi5iO3RoaXMuYS5nZXRCb29sKCJ0cmVhdF9saXZlX3N0YXRpY19tYW5pZmVzdF9hc19keW5hbWljIiwhMSkmJihiPWJ8fHRoaXMuYi5oKTtiJiZ0aGlzLmphIT1hLmxhc3QmJih0aGlzLmphPWEubGFzdCxudWxsIT10aGlzLmomJihjbGVhclRpbWVvdXQodGhpcy5qKSx0aGlzLmo9bnVsbCkpO2ZnKHRoaXMsYS5zdGFydCxhLmVuZCxhLmxhc3QsYS5aYSk7dGhpcy52aWRlby5wYXVzZWR8fG5nKHRoaXMsdGhpcy52aWRlby5jdXJyZW50VGltZSxhLnN0YXJ0LGEuZW5kKX19O2Z1bmN0aW9uIGZnKGEsYixjLGQsZSl7Yj15KHt0eXBlOiJzZWVrcmFuZ2VjaGFuZ2VkIixidWJibGVzOiEwLHN0YXJ0OmIsZW5kOmMsbGFzdDpkLHNlZWtSYW5nZUdhcHM6ZX0pO2EuZGlzcGF0Y2hFdmVudChiKX0Kbi5tZD1mdW5jdGlvbigpe3ZhciBhPXRoaXMudmlkZW8uY3VycmVudFRpbWUsYj1NZih0aGlzLEhmKHRoaXMpKTt0aGlzLmwmJmImJmE8Yi5zdGFydCYmQmFuemFpT0RTLmJ1bXBFbnRpdHlLZXkoMjk2NiwidmlkZW9zLnd3dy5zaGFrYSIsImN1cnJlbnRfdGltZV9hdF9zZWVrX2xlc3NfdGhhbl9zdHJlYW1fbGltaXRzX3N0YXJ0Iik7aWYobnVsbCE9dGhpcy5EKXtpZihhPj10aGlzLkQtLjAxJiZhPD10aGlzLkQrLjAxKXt0aGlzLkQ9bnVsbDt0aGlzLmwmJmImJmE8Yi5zdGFydCYmQmFuemFpT0RTLmJ1bXBFbnRpdHlLZXkoMjk2NiwidmlkZW9zLnd3dy5zaGFrYSIsImlnbm9yZWRfc2Vla193aGVuX2N1cnJlbnRfdGltZV9hdF9zZWVrX2xlc3NfdGhhbl9zdHJlYW1fbGltaXRzX3N0YXJ0Iik7cmV0dXJufXRoaXMuRD1udWxsfWlmKGIpe3ZhciBjPWIuc3RhcnQsZD1iLmVuZDt0aGlzLmEuZ2V0Qm9vbCgic2tpcF9yZW1haW5pbmdfYnVmZmVyZWRfb25fc3RyZWFtX2VuZCIsITEpJiZ0aGlzLmIuYiYmCnRoaXMuYi5oJiZ0aGlzLnZpZGVvLnBhdXNlZCYmKGQ9dGhpcy5qYSk7KGM9bmcodGhpcyxhLGMsZCkpfHwoYTw9ZCsuMDF8fHRoaXMuYi5iJiYhb2codGhpcyxkKT9jPSExOih0aGlzLnZpZGVvLmN1cnJlbnRUaW1lPWQsYz0hMCkpO2lmKGMpdGhpcy5sJiZhPGIuc3RhcnQmJkJhbnphaU9EUy5idW1wRW50aXR5S2V5KDI5NjYsInZpZGVvcy53d3cuc2hha2EiLCJjbGFtcF9wbGF5aGVhZF93aGVuX2N1cnJlbnRfdGltZV9hdF9zZWVrX2xlc3NfdGhhbl9zdHJlYW1fbGltaXRzX3N0YXJ0Iik7ZWxzZXtmb3IodmFyIGUgaW4gdGhpcy5jKXRoaXMuY1tlXS5DYyh0aGlzLkVhKTt0aGlzLkVhPSExfX19O2Z1bmN0aW9uIG5nKGEsYixjLGQpe2lmKGI+PWMtLjAxKXJldHVybiExO2I9MDthLmIuYiYmKGI9LjUsb2coYSxjK2IpfHwoYj1hLmIuZykpO2EudmlkZW8uY3VycmVudFRpbWU9TWF0aC5taW4oYytiLGQpO3JldHVybiEwfQpmdW5jdGlvbiBvZyhhLGIpe2Zvcih2YXIgYyBpbiBhLmMpaWYoIWEuY1tjXS5JYyhiKSlyZXR1cm4hMTtyZXR1cm4hMH1uLm9kPWZ1bmN0aW9uKCl7aWYoIXRoaXMuYi5ifHx0aGlzLkZhKXtmb3IodmFyIGEgaW4gdGhpcy5jKWlmKCF0aGlzLmNbYV0uZmIoKSlyZXR1cm47dGhpcy5lYigpfX07bi5wZD1mdW5jdGlvbigpe2NsZWFyVGltZW91dCh0aGlzLnUpO3RoaXMuRmE9ITA7Zm9yKHZhciBhIGluIHRoaXMuYyl0aGlzLmNbYV0uZmIoKXx8dGhpcy5jW2FdLkNiKCl9O24uamQ9ZnVuY3Rpb24oKXt0aGlzLmEuZ2V0Qm9vbCgiaWdub3JlX3NlZWtfd2hlbl9udWRnaW5nIiwhMCkmJih0aGlzLkQ9dGhpcy52aWRlby5jdXJyZW50VGltZSk7dGhpcy52aWRlby5jdXJyZW50VGltZSs9LjAwMX07Cm4udGI9ZnVuY3Rpb24oKXtpZih0aGlzLmFjKCl8fHRoaXMuYmMoKSlyZXR1cm4hMDt2YXIgYT10aGlzLmIsYj1udWxsLGM9bnVsbDthJiZhLmEmJmEuYVswXSYmKGI9YS5hWzBdKTtiJiZiLmEmJmIuYVswXSYmKGM9Yi5hWzBdKTtyZXR1cm4hIWMmJmMuYn07WS5wcm90b3R5cGUuaGFzSW5saW5lZENlYTYwOFN1YnRpdGxlcz1ZLnByb3RvdHlwZS50YjtZLnByb3RvdHlwZS5QYj1mdW5jdGlvbihhKXt0aGlzLm5jPWE7dmFyIGI9dGhpcy5jOyJ2aWRlbyJpbiBiJiYoYT1hJiZ0aGlzLnRiKCksYi52aWRlby5jLlM9YSl9O1kucHJvdG90eXBlLnNldEVuYWJsZUNlYTYwOFBhcnNpbmc9WS5wcm90b3R5cGUuUGI7CmZ1bmN0aW9uIHNmKGEpe3ZhciBiPWEuYS5nZXROdW1iZXIoImxpdmVfYnVmZmVyaW5nX3VuZGVyZmxvd190aHJlc2hvbGQiLC41KSxjPWEuYS5nZXRCb29sKCJmaXhfbGl2ZV9zdHJlYW1fZ29uZV9vbl9tYW5pZmVzdF91cGRhdGUiLCEwKSYmYS5oYyxkPSExO2lmKGEuYi5oKXt2YXIgZD1hLmEuZ2V0TnVtYmVyKCJsaXZlX3N0cmVhbV9lbmRfc2xhY2siLDApLGU7Zm9yKGUgaW4gYS5jKWEuY1tlXS5mYigpfHwoZD0wKTtkPWEudmlkZW8uY3VycmVudFRpbWUrYitkPmEuamF9cmV0dXJuIGN8fGR9bj1ZLnByb3RvdHlwZTsKbi5jZD1mdW5jdGlvbigpe3RoaXMuJD0hMDtpZih0aGlzLmImJnRoaXMuYi5iKXtpZihzZih0aGlzKSlyZXR1cm4gdGhpcy5lYigpO3RoaXMuYS5nZXRCb29sKCJhbGxvd19pbmZpbml0ZV9yZXRyeV9vbl9uZXRfZXJyIiwhMCkmJnRoaXMuRy5pc05ldHdvcmtJbnRlcnJ1cHRlZCgpfHwhV2EodGhpcy5jKS5ldmVyeShmdW5jdGlvbihhKXtyZXR1cm4gYS5mYigpfSl8fHBnKHRoaXMsdGhpcy5nYil9dGhpcy5hLmdldEJvb2woImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvdyIsITEpJiYobnVsbD09PXRoaXMuS3x8RGF0ZS5ub3coKS10aGlzLmZjPnRoaXMuYS5nZXROdW1iZXIoImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvd190aW1lX3dpbmRvdyIsMkUzKT90aGlzLks9dGhpcy5hLmdldE51bWJlcigiYnVmZmVyaW5nX292ZXJmbG93X3RocmVzaG9sZCIsMCk6dGhpcy5LKj10aGlzLmEuZ2V0TnVtYmVyKCJiYWNrX29mZl9idWZmZXJpbmdfb3ZlcmZsb3dfdGltZV9mYWN0b3IiLDIpLAp0aGlzLks9TWF0aC5taW4odGhpcy5LLHRoaXMuYS5nZXROdW1iZXIoImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvd19tYXgiLDUpKSl9O2Z1bmN0aW9uIHBnKGEsYil7YS5qPXNldFRpbWVvdXQoYS5lYi5iaW5kKGEpLGIpfW4uYmQ9ZnVuY3Rpb24oKXt0aGlzLiQ9ITE7dGhpcy5hLmdldEJvb2woImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvdyIsITEpJiYodGhpcy5mYz1EYXRlLm5vdygpKTtudWxsIT10aGlzLmomJihjbGVhclRpbWVvdXQodGhpcy5qKSx0aGlzLmo9bnVsbCl9O24uZ2Q9ZnVuY3Rpb24oKXtudWxsIT09dGhpcy5iYSYmKGJnKHRoaXMsdGhpcy5iYSksY2codGhpcyxudWxsKSl9O24uR2Q9ZnVuY3Rpb24oKXt9OwpuLmViPWZ1bmN0aW9uKCl7dGhpcy4kPSExO3RoaXMuaj1udWxsO3ZhciBhO2lmKGE9dGhpcy5hLmdldEJvb2woInRlc3Rfc291cmNlX2J1ZmZlcnNfbm90X3VwZGF0aW5nX2VuZF9vZl9zdHJlYW0iLCExKSlhOntmb3IoYT0wO2E8dGhpcy5pLnNvdXJjZUJ1ZmZlcnMubGVuZ3RoOysrYSlpZih0aGlzLmkuc291cmNlQnVmZmVyc1thXS51cGRhdGluZyl7YT0hMDticmVhayBhfWE9ITF9aWYoYSlyZXR1cm4gcGcodGhpcywxRTMpOyJvcGVuIj09dGhpcy5pLnJlYWR5U3RhdGUmJnRoaXMuaS5lbmRPZlN0cmVhbSgpfTtmdW5jdGlvbiBIZihhKXtyZXR1cm4gV2EoYS5jKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuRmIoKX0pLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YX0pfWZ1bmN0aW9uIExmKGEpe3JldHVybiBNYXRoLm1heChhLmI/YS5iLmc6MSxhLlpiP2EuZy5zdHJlYW1CdWZmZXJTaXplfHwwOjApfQpmdW5jdGlvbiBNZihhLGIpe2Zvcih2YXIgYz0wLGQ9TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLGU9TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLGY9W10sZz0hVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJub19zZWVrX3JhbmdlX2dhcHNfZHVyaW5nX2NvbXB1dGVfc3RyZWFtX2xpbWl0cyIsITEpLGg9MDtoPGIubGVuZ3RoOysraCl7dmFyIGs9YltoXS5BKCk7ZyYmKGY9Zi5jb25jYXQoYltoXS5nZXRTZWVrUmFuZ2VHYXBzKCkpKTtjPU1hdGgubWF4KGMsay5zdGFydCk7bnVsbCE9ay5lbmQmJihkPU1hdGgubWluKGQsay5lbmQpKTtiW2hdLmxlbmd0aCgpJiYoZT1NYXRoLm1pbihlLGJbaF0ubGFzdCgpLmVuZFRpbWUpKX1nJiYoZj1tZXJnZVNlZWtSYW5nZUdhcHMoZikpO2lmKGQ9PU51bWJlci5QT1NJVElWRV9JTkZJTklUWSlpZihkPWEuYi5hWzBdLGQuZHVyYXRpb24pZD0oZC5zdGFydHx8MCkrZC5kdXJhdGlvbjtlbHNlIHJldHVybiBudWxsO2lmKGEuYi5iKXt2YXIgZz0KTGYoYSksZD1NYXRoLm1heChkLWcsYyksbDthLnJhJiZhLmEuZ2V0Qm9vbCgibGl2ZV9qdW1wX3RvX3B1c2hlZF9zZWdtZW50IiwhMSkmJmIubGVuZ3RoJiYoaD1NYXRoLmZsb29yKExmKGEpLzEpKzEsZz1iWzBdLGg9Zy5sZW5ndGgoKS1oLChnPWcuZ2V0KGgpKSYmKGw9Zy5zdGFydFRpbWUpKX1pZihjPmQpcmV0dXJuIG51bGw7ZD1NYXRoLmZsb29yKDFFNSpkKS8xRTU7cmV0dXJue3N0YXJ0OmMsZW5kOmQsbGFzdDplLFphOmYsQmM6bH19bi5uYj1mdW5jdGlvbigpe3JldHVybiBNZih0aGlzLEhmKHRoaXMpKX07WS5wcm90b3R5cGUuY29tcHV0ZVN0cmVhbUxpbWl0cz1ZLnByb3RvdHlwZS5uYjtmdW5jdGlvbiBtZyhhKXthLmIuYiYmKGEua2E9c2V0VGltZW91dChhLnJkLmJpbmQoYSksMUUzKSl9ZnVuY3Rpb24gRGYoYSl7Zm9yKHZhciBiIGluIGEuYylhLmNbYl0ucGEoYS5nKX1ZLnByb3RvdHlwZS5zYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLkJifTsKWS5wcm90b3R5cGUuZ2V0TG9uZ2VzdEluaXRSZXNwb25zZVRpbWU9WS5wcm90b3R5cGUuc2I7ZnVuY3Rpb24gWmYoYSl7cmV0dXJuInYiPT09YS5jaGFyQXQoMCk/InZpZGVvIjoiYSI9PT1hLmNoYXJBdCgwKT8iYXVkaW8iOm51bGx9WS5wcm90b3R5cGUuVGM9ZnVuY3Rpb24oKXt2YXIgYT15KHt0eXBlOiJuZXR3b3JraW50ZXJydXB0ZWQiLGJ1YmJsZXM6ITB9KTt0aGlzLmRpc3BhdGNoRXZlbnQoYSk7dGhpcy5UPXRoaXMuVHx8RGF0ZS5ub3coKTt0aGlzLiQmJnRoaXMuaiYmY2xlYXJUaW1lb3V0KHRoaXMuail9OwpZLnByb3RvdHlwZS5VYz1mdW5jdGlvbigpe3ZhciBhPXkoe3R5cGU6Im5ldHdvcmtyZXN1bWVkIixidWJibGVzOiEwfSk7dGhpcy5kaXNwYXRjaEV2ZW50KGEpO2E9dGhpcy5hLmdldE51bWJlcigibWF4X25ldHdvcmtfaW50ZXJydXB0ZWRfdGltZV9iZWZvcmVfc2VlayIsMUU0KTtudWxsIT09dGhpcy5UJiZEYXRlLm5vdygpLXRoaXMuVD49YSYmKHRoaXMuVD1udWxsLHRoaXMuZWE9ITApO3RoaXMuYS5nZXRCb29sKCJmaXhfbmV0d29ya19pbnRlcnJ1cHRlZF9zdGFydF9ub3RfbnVsbGVkIiwhMSkmJih0aGlzLlQ9bnVsbCk7dGhpcy4kJiZwZyh0aGlzLHRoaXMuZ2IpfTtZLnByb3RvdHlwZS5WYz1mdW5jdGlvbigpe3RoaXMuZWE9ITB9O2Z1bmN0aW9uIFBmKGEpe2EuYS5nZXRCb29sKCJkZWNvdXBsZV9tcGRfdXBkYXRlX2xvb3BfZnJvbV9yZXF1ZXN0X2xvb3AiLCExKXx8S2YoYSwwKX1ZLnByb3RvdHlwZS5xYz1mdW5jdGlvbihhKXt0aGlzLm5hPWF9OwpZLnByb3RvdHlwZS5zZXRFbmFibGVMaXZlaGVhZENhdGNodXA9WS5wcm90b3R5cGUucWM7WS5wcm90b3R5cGUuemQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uYX07WS5wcm90b3R5cGUuaXNMaXZlaGVhZENhdGNodXBFbmFibGVkPVkucHJvdG90eXBlLnpkO1kucHJvdG90eXBlLlNjPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYy52aWRlbz90aGlzLmMudmlkZW8uYy5pOm51bGx9O1kucHJvdG90eXBlLmdldFZpZGVvU3RyZWFtUHJvZ3Jlc3NUcmFja2VyPVkucHJvdG90eXBlLlNjO1kucHJvdG90eXBlLnFiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYy52aWRlbz90aGlzLmMudmlkZW8ucWIoKTpudWxsfTtZLnByb3RvdHlwZS5nZXRCdWZmZXJWZWxvY2l0eT1ZLnByb3RvdHlwZS5xYjtmdW5jdGlvbiBSZihhLGIpe2Zvcih2YXIgYyBpbiBhLmMpYS5jW2NdLm5hPWJ9CmZ1bmN0aW9uIGlnKGEpe3ZhciBiPVtdO2lmKG51bGwhPT1hLmNhKXt2YXIgYz1hLmNhLGQ7Zm9yKGQgaW4gYS5jKWIucHVzaChyZShhLmNbZF0sYS5jYSkpO1Byb21pc2UuYWxsKGIpLnRoZW4oSihhLGZ1bmN0aW9uKCl7aWYoYyl7Zm9yKHZhciBhIGluIHRoaXMuYyl7dmFyIGI9dGhpcy5jW2FdO2IuSz1udWxsO2IuVj0hMTtiLkk9bnVsbH1jPnRoaXMudmlkZW8uY3VycmVudFRpbWUmJih0aGlzLnZpZGVvLmN1cnJlbnRUaW1lPWMpfX0pKX1hLmNhPW51bGx9O2Z1bmN0aW9uIFooYSxiLGMsZCxlLGYsZyl7ZHx8KGQ9bmV3IEcpO2V8fChlPW5ldyBYKTtZLmNhbGwodGhpcyxudWxsLGIsZCxlKTsic3RyaW5nIj09PXR5cGVvZiBhP3RoaXMuamM9YTp0aGlzLk5iPWE7dGhpcy5hPWI7dGhpcy5GPW51bGw7dGhpcy50YT1jO3RoaXMuRGE9W107dGhpcy5RYj1bXTt0aGlzLlJiPVtdO3RoaXMuSGE9MDt0aGlzLlk9bnVsbDt0aGlzLk1iPWd8fG51bGx9cihaLFkpO3EoInNoYWthLnBsYXllci5EYXNoVmlkZW9Tb3VyY2UiLFopO1oucHJvdG90eXBlLkpkPWZ1bmN0aW9uKGEpe3RoaXMuRj1hO3RoaXMuSmIoITAsITApfTtaLnByb3RvdHlwZS51cGRhdGVNYW5pZmVzdD1aLnByb3RvdHlwZS5KZDtaLnByb3RvdHlwZS5PYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLk5ifHx0aGlzLkZ9O1oucHJvdG90eXBlLmdldE1hbmlmZXN0PVoucHJvdG90eXBlLk9iO1oucHJvdG90eXBlLlRiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuT2IoKX07CloucHJvdG90eXBlLmRlYnVnR2V0TWFuaWZlc3Q9Wi5wcm90b3R5cGUuVGI7Wi5wcm90b3R5cGUuWmM9ZnVuY3Rpb24oYSxiLGMpe3RoaXMuRGEucHVzaChhKTt0aGlzLlFiLnB1c2goYnx8IiIpO3RoaXMuUmIucHVzaChjfHwiIil9O1oucHJvdG90eXBlLmFkZEV4dGVybmFsQ2FwdGlvbnM9Wi5wcm90b3R5cGUuWmM7Wi5wcm90b3R5cGUudGQ9ZnVuY3Rpb24oYSl7dGhpcy5ZPWF9O1oucHJvdG90eXBlLnNldE5ldHdvcmtDYWxsYmFjaz1aLnByb3RvdHlwZS50ZDtaLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5GPXRoaXMuWT10aGlzLnRhPW51bGw7WS5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpfTsKWi5wcm90b3R5cGUud2I9ZnVuY3Rpb24oKXt2YXIgYTt0aGlzLmwmJihhPXRoaXMubC5nZXRPcGVyYXRpb25Mb2dnZXIoInNvdXJjZV9sb2FkIikuc3RhcnQoKSk7dmFyIGIsYz1KKHRoaXMsZnVuY3Rpb24oYSl7aWYodGhpcy5hLmdldEJvb2woImVuYWJsZV9kb3VibGVfaW5nZXN0X29uX2luaXRpYWxfbXBkIiwhMSkpc3dpdGNoKGEuc3RhdHVzKXtjYXNlIDIwMDpjYXNlIDQxNzppZihhLnJlc3BvbnNlSGVhZGVycyYmbnVsbCE9YS5yZXNwb25zZUhlYWRlcnNbIngtZmItdmlkZW8tcmVwbGljYSJdKXJldHVybiB0aGlzLmRpc3BhdGNoRXZlbnQoeSh7dHlwZToicmVwbGljYXN3aXRjaCIsYnViYmxlczohMCxyZXBsaWNhOmEucmVzcG9uc2VIZWFkZXJzWyJ4LWZiLXZpZGVvLXJlcGxpY2EiXX0pKSxuZXcgUHJvbWlzZShmdW5jdGlvbigpe30pfXRocm93IGE7fSksZD1KKHRoaXMsZnVuY3Rpb24oYyl7dGhpcy5MYSgiTVBERmV0Y2hEdXJhdGlvbiIsKERhdGUubm93KCktYikvMUUzKTt0aGlzLkY9CmM7Zm9yKHZhciBkPTA7ZDx0aGlzLkRhLmxlbmd0aDtkKyspTGMoYyx0aGlzLkRhW2RdLHRoaXMuUWJbZF0sdGhpcy5SYltkXSk7dmFyIGQ9bmV3IHllKHRoaXMuYSx0aGlzLnRhLHRoaXMubCx0aGlzLk1iKSxlO3RoaXMubCYmKGU9dGhpcy5sLmdldE9wZXJhdGlvbkxvZ2dlcigicHJvY2Vzc19tYW5pZmVzdCIpLnN0YXJ0KCkpO3RoaXMuYj16ZShkLGMsdGhpcy5ZKTtlJiZlLmxvZygpO2EmJmEuc2V0TWFuaWZlc3RUeXBlKHRoaXMuYi5iPyJkeW5hbWljIjoic3RhdGljIik7cmV0dXJuIFkucHJvdG90eXBlLndiLmNhbGwodGhpcykudGhlbihmdW5jdGlvbigpe2EmJmEubG9nKCl9KX0pO2lmKHRoaXMuTmIpcmV0dXJuIGI9RGF0ZS5ub3coKSxkKHRoaXMuTmIpO3ZhciBlPVtuZXcgTCh0aGlzLmpjKV0sZjtpZih0aGlzLnJhKXt2YXIgZz1uZXcgVmlkZW9QdXNoUGFyYW1ldGVyc0hlbHBlcih0aGlzLmpjKTtnLnNldFN0cmVhbUVuZE9mZnNldChNYXRoLmZsb29yKExmKHRoaXMpLzEpKTsKdGhpcy5PYSYmZy5zZXRQdXNoVmlkZW9SZXByZXNlbnRhdGlvbklEKHRoaXMuT2EpO3RoaXMucGEmJmcuc2V0UHVzaEF1ZGlvUmVwcmVzZW50YXRpb25JRCh0aGlzLnBhKTt0aGlzLm1hJiZnLnNldFVzZUxvbmdDYWNoZUZvck1hbmlmZXN0KHRoaXMubWEpO2Y9bmV3IGZkKG51bGwpO2YuYT1nfWU9bmV3IEsodGhpcy5ZLGUsdm9pZCAwLHZvaWQgMCx2b2lkIDAsdGhpcy5NYik7Zj1uZXcgZGQoZSx0aGlzLkxiLGYsdGhpcy5kYSk7Yj1EYXRlLm5vdygpO3JldHVybiBlZChmLHRoaXMubCkudGhlbihkLGMpfTsKWi5wcm90b3R5cGUudmM9ZnVuY3Rpb24oKXtpZih0aGlzLlViKXt2YXIgYT10aGlzLmI7aWYoYT0oYT1hJiZhLmEpJiZhWzBdKXt2YXIgYT1hLmEucmVkdWNlKGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuY29uY2F0KGIudil9LFtdKSxiPWZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hfTtQcm9taXNlLmFsbChhLm1hcChmdW5jdGlvbihhKXthPWEuTTtyZXR1cm4gYS5RYz9hLlJhOmEuY3JlYXRlKCl9KSkudGhlbihmdW5jdGlvbihhKXthPWEuZmlsdGVyKGIpO3RoaXMuTGEoIkluaXRpYWxTZWdtZW50SW5kZXhlcyIsYSl9LmJpbmQodGhpcykpO1Byb21pc2UuYWxsKGEubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLmFhfSkpLnRoZW4oZnVuY3Rpb24oYSl7YT1hLmZpbHRlcihiKTt0aGlzLkxhKCJTZWdtZW50SW5pdFNvdXJjZXMiLGEpfS5iaW5kKHRoaXMpKX19fTsKWi5wcm90b3R5cGUueWM9ZnVuY3Rpb24oYSxiLGMpe2lmKHRoaXMudmlkZW8ucGF1c2VkJiZ0aGlzLkhhKzFFND5EYXRlLm5vdygpJiZ0aGlzLmIpcmV0dXJuIFByb21pc2UucmVqZWN0KHt0eXBlOiJkZWxheSJ9KTt2YXIgZDtpZihiJiZ2b2lkIDAhPWMpZD1uZXcgZmQoYiksZC5mPWMsYj1TZih0aGlzKSxudWxsIT1iJiYoZC5jPWIuc3RyZWFtSW5mb0lELGQuYj10aGlzLnBhKTtlbHNlIGZvcihiPWEuYyxjPTA7YzxiLmxlbmd0aDtjKyspe3ZhciBlPW5ldyBWaWRlb1B1c2hQYXJhbWV0ZXJzSGVscGVyKGJbY10udG9TdHJpbmcoKSk7dGhpcy5tYSYmZS5zZXRVc2VMb25nQ2FjaGVGb3JNYW5pZmVzdCh0aGlzLm1hKTtiW2NdPW5ldyBMKGUuZ2V0VVJMKCkpfWE9bmV3IGRkKGEsdGhpcy5MYixkLHRoaXMuZGEpO3ZhciBmPURhdGUubm93KCk7cmV0dXJuIGVkKGEsdGhpcy5sKS50aGVuKEoodGhpcyxmdW5jdGlvbihhKXt0aGlzLkhhPURhdGUubm93KCk7dGhpcy5MYSgiTVBERmV0Y2hEdXJhdGlvbiIsCih0aGlzLkhhLWYpLzFFMyk7dGhpcy5hLmdldEJvb2woInRyZWF0X2xpdmVfc3RhdGljX21hbmlmZXN0X2FzX2R5bmFtaWMiLCExKSYmKGEubWFuaWZlc3RJc0xpdmVTdHJlYW1pbmc9ImR5bmFtaWMiPT09KHRoaXMuRj90aGlzLkYudHlwZTphLnR5cGUpKTt0aGlzLkY9YTt2YXIgYj1uZXcgeWUodGhpcy5hLHRoaXMudGEsdGhpcy5sLHRoaXMuTWIpO2lmKHRoaXMubCl2YXIgYz10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJwcm9jZXNzX21hbmlmZXN0Iikuc3RhcnQoKTthPXplKGIsYSx0aGlzLlkpO2MmJmMubG9nKCk7cmV0dXJuIFByb21pc2UucmVzb2x2ZShhKX0pKX07Wi5wcm90b3R5cGUueGM9ZnVuY3Rpb24oKXt2YXIgYT16ZShuZXcgeWUodGhpcy5hLHRoaXMudGEpLHRoaXMuRix0aGlzLlkpO3JldHVybiBQcm9taXNlLnJlc29sdmUoYSl9O30uYmluZChnLCBnbG9iYWwpKSgpOwoKbW9kdWxlLmV4cG9ydHMgPSBnLnNoYWthOwoKCi8qICAqL30pLG51bGwpOwovLyMgc291cmNlVVJMPWZiOGIxNmM4YjU3NjdkNTE4ODYwZGFiMjgzMGM1MGYyLmpzCg==, line 416: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/yz/r/XpFFWCF_B8_.js?_nc_x=F-xmOkya9-Y, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
1578566069200	mozrunner::runner	INFO	Running command: "/usr/bin/firefox" "-marionette" "-foreground" "-no-remote" "-profile" "/tmp/rust_mozprofilecGK3vs"
1578566070752	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: mozillaAddons
1578566070752	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: telemetry
1578566070752	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: resource://pdf.js/
1578566070752	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: about:reader*
1578566074293	Marionette	INFO	Listening on port 40215
1578566074314	Marionette	WARN	TLS certificate errors will be ignored for this session
1578566088307	Marionette	WARN	TimedPromise timed out after 5000 ms: stacktrace:
bail@chrome://marionette/content/sync.js:237:64
1578566088925	Marionette	WARN	TimedPromise timed out after 500 ms: stacktrace:
bail@chrome://marionette/content/sync.js:237:64
JavaScript error: data:application/x-javascript;charset=utf-8;base64,aWYgKHNlbGYuQ2F2YWxyeUxvZ2dlcikgeyBDYXZhbHJ5TG9nZ2VyLnN0YXJ0X2pzKFsiKzRzV3kiXSk7IH0KLyoqCiAqIEBwcm92aWRlc01vZHVsZSBTaGFrYQogKiBAcHJlc2VydmUtd2hpdGVzcGFjZQogKiBAbm9wYWNrYWdlCiAqIEBnZW5lcmF0ZWQKICovCl9fZCgiU2hha2EiLFsiUHJvbWlzZSIsIkV2ZW50TGlzdGVuZXIiLCJWaWRlb1BsYXllclNoYWthUGVyZm9ybWFuY2VMb2dnZXIiLCJWaWRlb1B1c2hQYXJhbWV0ZXJzSGVscGVyIiwiVGltZVNsaWNlIiwiVmlkZW9QbGF5ZXJMb2NhbEJhbmR3aWR0aEVzdGltYXRvciIsIlZpZGVvUGxheWVyUmVzb3VyY2VUaW1lciIsIlNoYWthU2VnbWVudFJlZmVyZW5jZUhlbHBlciIsIlNlZ21lbnRSZXF1ZXN0TWFuYWdlciIsImNvbmNhdEFycmF5QnVmZmVyIiwiQnVmZmVyUmVwbGFjZW1lbnRIZWxwZXIiLCJsb2dMb25nQWthbWFpUmVxdWVzdCIsInRocm90dGxlIiwiVmlld3BvcnRQcmlvcml0eUFkanVzdGVyIiwiRmlyc3RMb2FkZWRWaWRlb1ByaW9yaXR5QWRqdXN0ZXIiLCJWaWRlb1ByaW9yaXR5Q2FsY3VsYXRvciIsIlZpZGVvU3RyZWFtaW5nTWFuYWdlciIsIk11bHRpcGxlU2VnbWVudHNQcm92aWRlciIsIkxvY2FsQml0cmF0ZUhlbHBlciIsIlVuaXRDb25zdGFudHMiLCJCdWZmZXJWZWxvY2l0eSIsIlZpZGVvUGxheWVyQml0cmF0ZUVzdGltYXRvciIsIlZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWciLCJnZXRTZWVrUmFuZ2VHYXBzRnJvbVNoYWthUmVmZXJlbmNlcyIsIm1lcmdlU2Vla1JhbmdlR2FwcyIsIk5ldHdvcmtTdGF0dXNEZXRlY3RvciIsIk1vc1V0aWxzIiwiQmFuemFpT0RTIiwiVmlkZW9EYXNoUHJlZmV0Y2hDYWNoZSIsIlZpZGVvQ2xpZW50RWRnZUNvb3BlcmF0aW9uIiwiVmlkZW9TdHJlYW1pbmdUYXNrUXVldWVQcm92aWRlciIsIkJpbmFyeVNlYXJjaCIsIlNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscyIsImdreCIsInNldFRpbWVvdXRBY3Jvc3NUcmFuc2l0aW9ucyIsInNldFRpbWVvdXQiLCJzZXRJbnRlcnZhbEFjcm9zc1RyYW5zaXRpb25zIiwic2V0SW50ZXJ2YWwiLCJzZXRJbW1lZGlhdGVBY3Jvc3NUcmFuc2l0aW9ucyIsInNldEltbWVkaWF0ZSIsImNsZWFyVGltZW91dCIsImNsZWFySW50ZXJ2YWwiLCJjbGVhckltbWVkaWF0ZSIsImRpc3BhdGNoRXZlbnQiLCJFdmVudExpc3RlbmVyIiwiRXZlbnQiLCJleHRyYWN0Q0VBNjA4IiwicGVyZm9ybWFuY2VOb3ciLCJwYXJzZUhlYWRlcnMiLCJjYW5Vc2VGZXRjaFN0cmVhbSIsIlN1YnNjcmlwdGlvbnNIYW5kbGVyIiwiVmlkZW9QdXNoVHJhY2tlciJdLChmdW5jdGlvbiAkbW9kdWxlX1NoYWthKGdsb2JhbCxyZXF1aXJlLHJlcXVpcmVEeW5hbWljLHJlcXVpcmVMYXp5LG1vZHVsZSxleHBvcnRzKXsKCi8vIHJ1biBgYXJjIHJlYnVpbGQgc2hha2EtcGxheWVyYCB0byByZWdlbmVyYXRlIFNoYWthLmpzIGFmdGVyIG1vZGlmeWluZyB0aGlzCi8vIGZpbGUKCnZhciBQcm9taXNlID0gcmVxdWlyZSgnUHJvbWlzZScpOwp2YXIgRXZlbnRMaXN0ZW5lciA9IHJlcXVpcmUoJ0V2ZW50TGlzdGVuZXInKTsKdmFyIFZpZGVvUGxheWVyU2hha2FQZXJmb3JtYW5jZUxvZ2dlciA9IHJlcXVpcmUoJ1ZpZGVvUGxheWVyU2hha2FQZXJmb3JtYW5jZUxvZ2dlcicpOwp2YXIgVmlkZW9QdXNoUGFyYW1ldGVyc0hlbHBlciA9IHJlcXVpcmUoJ1ZpZGVvUHVzaFBhcmFtZXRlcnNIZWxwZXInKTsKdmFyIFRpbWVTbGljZSA9IHJlcXVpcmUoJ1RpbWVTbGljZScpOwp2YXIgVmlkZW9QbGF5ZXJMb2NhbEJhbmR3aWR0aEVzdGltYXRvciA9IHJlcXVpcmUoJ1ZpZGVvUGxheWVyTG9jYWxCYW5kd2lkdGhFc3RpbWF0b3InKTsKdmFyIFZpZGVvUGxheWVyUmVzb3VyY2VUaW1lciA9IHJlcXVpcmUoJ1ZpZGVvUGxheWVyUmVzb3VyY2VUaW1lcicpOwp2YXIgU2hha2FTZWdtZW50UmVmZXJlbmNlSGVscGVyID0gcmVxdWlyZSgnU2hha2FTZWdtZW50UmVmZXJlbmNlSGVscGVyJyk7CnZhciBTZWdtZW50UmVxdWVzdE1hbmFnZXIgPSByZXF1aXJlKCdTZWdtZW50UmVxdWVzdE1hbmFnZXInKTsKdmFyIGNvbmNhdEFycmF5QnVmZmVyID0gcmVxdWlyZSgnY29uY2F0QXJyYXlCdWZmZXInKTsKdmFyIEJ1ZmZlclJlcGxhY2VtZW50SGVscGVyID0gcmVxdWlyZSgnQnVmZmVyUmVwbGFjZW1lbnRIZWxwZXInKTsKdmFyIGxvZ0xvbmdBa2FtYWlSZXF1ZXN0ID0gcmVxdWlyZSgnbG9nTG9uZ0FrYW1haVJlcXVlc3QnKTsKdmFyIHRocm90dGxlID0gcmVxdWlyZSgndGhyb3R0bGUnKTsKdmFyIFZpZXdwb3J0UHJpb3JpdHlBZGp1c3RlciA9IHJlcXVpcmUoJ1ZpZXdwb3J0UHJpb3JpdHlBZGp1c3RlcicpOwp2YXIgRmlyc3RMb2FkZWRWaWRlb1ByaW9yaXR5QWRqdXN0ZXIgPSByZXF1aXJlKCdGaXJzdExvYWRlZFZpZGVvUHJpb3JpdHlBZGp1c3RlcicpOwp2YXIgVmlkZW9Qcmlvcml0eUNhbGN1bGF0b3IgPSByZXF1aXJlKCdWaWRlb1ByaW9yaXR5Q2FsY3VsYXRvcicpOwp2YXIgVmlkZW9TdHJlYW1pbmdNYW5hZ2VyID0gcmVxdWlyZSgnVmlkZW9TdHJlYW1pbmdNYW5hZ2VyJyk7CnZhciBNdWx0aXBsZVNlZ21lbnRzUHJvdmlkZXIgPSByZXF1aXJlKCdNdWx0aXBsZVNlZ21lbnRzUHJvdmlkZXInKTsKdmFyIExvY2FsQml0cmF0ZUhlbHBlciA9IHJlcXVpcmUoJ0xvY2FsQml0cmF0ZUhlbHBlcicpOwp2YXIgVW5pdENvbnN0YW50cyA9IHJlcXVpcmUoJ1VuaXRDb25zdGFudHMnKTsKdmFyIEJ1ZmZlclZlbG9jaXR5ID0gcmVxdWlyZSgnQnVmZmVyVmVsb2NpdHknKTsKdmFyIFZpZGVvUGxheWVyQml0cmF0ZUVzdGltYXRvciA9IHJlcXVpcmUoJ1ZpZGVvUGxheWVyQml0cmF0ZUVzdGltYXRvcicpOwp2YXIgVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZyA9IHJlcXVpcmUoJ1ZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcnKTsKdmFyIGdldFNlZWtSYW5nZUdhcHNGcm9tU2hha2FSZWZlcmVuY2VzID0gcmVxdWlyZSgnZ2V0U2Vla1JhbmdlR2Fwc0Zyb21TaGFrYVJlZmVyZW5jZXMnKTsKdmFyIG1lcmdlU2Vla1JhbmdlR2FwcyA9IHJlcXVpcmUoJ21lcmdlU2Vla1JhbmdlR2FwcycpOwp2YXIgTmV0d29ya1N0YXR1c0RldGVjdG9yID0gcmVxdWlyZSgnTmV0d29ya1N0YXR1c0RldGVjdG9yJyk7CnZhciBNb3NVdGlscyA9IHJlcXVpcmUoJ01vc1V0aWxzJyk7CnZhciBCYW56YWlPRFMgPSByZXF1aXJlKCdCYW56YWlPRFMnKTsKdmFyIFZpZGVvRGFzaFByZWZldGNoQ2FjaGUgPSByZXF1aXJlKCdWaWRlb0Rhc2hQcmVmZXRjaENhY2hlJyk7CnZhciBWaWRlb0NsaWVudEVkZ2VDb29wZXJhdGlvbiA9IHJlcXVpcmUoJ1ZpZGVvQ2xpZW50RWRnZUNvb3BlcmF0aW9uJyk7CnZhciBWaWRlb1N0cmVhbWluZ1Rhc2tRdWV1ZVByb3ZpZGVyID0gcmVxdWlyZSgnVmlkZW9TdHJlYW1pbmdUYXNrUXVldWVQcm92aWRlcicpOwp2YXIgQmluYXJ5U2VhcmNoID0gcmVxdWlyZSgnQmluYXJ5U2VhcmNoJyk7CnZhciBTaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMgPSByZXF1aXJlKCdTaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMnKTsKdmFyIGdreCA9IHJlcXVpcmUoJ2dreCcpOwoKdmFyIHNldFRpbWVvdXQgPSBWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woCiAgICAndGltZW91dHNfcGVyc2lzdF9vbl9wYWdlX3RyYW5zaXRpb24nLAogICAgdHJ1ZQogICkgPwogIHJlcXVpcmUoJ3NldFRpbWVvdXRBY3Jvc3NUcmFuc2l0aW9ucycpIDoKICByZXF1aXJlKCdzZXRUaW1lb3V0Jyk7CnZhciBzZXRJbnRlcnZhbCA9IFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgKICAgICd0aW1lb3V0c19wZXJzaXN0X29uX3BhZ2VfdHJhbnNpdGlvbicsCiAgICB0cnVlCiAgKSA/CiAgcmVxdWlyZSgnc2V0SW50ZXJ2YWxBY3Jvc3NUcmFuc2l0aW9ucycpIDoKICByZXF1aXJlKCdzZXRJbnRlcnZhbCcpOwp2YXIgc2V0SW1tZWRpYXRlID0gVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKAogICAgJ3RpbWVvdXRzX3BlcnNpc3Rfb25fcGFnZV90cmFuc2l0aW9uJywKICAgIHRydWUKICApID8KICByZXF1aXJlKCdzZXRJbW1lZGlhdGVBY3Jvc3NUcmFuc2l0aW9ucycpIDoKICByZXF1aXJlKCdzZXRJbW1lZGlhdGUnKTsKdmFyIGNsZWFyVGltZW91dCA9IHJlcXVpcmUoJ2NsZWFyVGltZW91dCcpOwp2YXIgY2xlYXJJbnRlcnZhbCA9IHJlcXVpcmUoJ2NsZWFySW50ZXJ2YWwnKTsKdmFyIGNsZWFySW1tZWRpYXRlID0gcmVxdWlyZSgnY2xlYXJJbW1lZGlhdGUnKTsKdmFyIGRpc3BhdGNoRG9tRXZlbnQgPSByZXF1aXJlKCdkaXNwYXRjaEV2ZW50Jyk7CnZhciBldmVudExpc3RlbmVyQ2FwdHVyZSA9IHJlcXVpcmUoJ0V2ZW50TGlzdGVuZXInKS5jYXB0dXJlOwp2YXIgZXZlbnRLaWxsID0gcmVxdWlyZSgnRXZlbnQnKS5raWxsOwp2YXIgZXh0cmFjdENFQTYwOCA9IHJlcXVpcmUoJ2V4dHJhY3RDRUE2MDgnKTsKdmFyIHBlcmZvcm1hbmNlTm93ID0gcmVxdWlyZSgncGVyZm9ybWFuY2VOb3cnKTsKdmFyIHBhcnNlSGVhZGVycyA9IHJlcXVpcmUoJ3BhcnNlSGVhZGVycycpOwp2YXIgY2FuVXNlRmV0Y2hTdHJlYW0gPSByZXF1aXJlKCdjYW5Vc2VGZXRjaFN0cmVhbScpOwp2YXIgU3Vic2NyaXB0aW9uc0hhbmRsZXIgPSByZXF1aXJlKCdTdWJzY3JpcHRpb25zSGFuZGxlcicpOwp2YXIgVmlkZW9QdXNoVHJhY2tlciA9IHJlcXVpcmUoJ1ZpZGVvUHVzaFRyYWNrZXInKTsKCmZ1bmN0aW9uIHNldEV2ZW50UHJvcGVydHkob2JqLCBuYW1lLCBoYW5kbGVyKSB7CiAgb2JqW25hbWVdID0gVGltZVNsaWNlLmd1YXJkKGhhbmRsZXIsICdzaGFrYSAnICsgbmFtZSk7Cn07CgppZiAoCiAgVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCdzaGFrYV9uYXRpdmVfcHJvbWlzZScsIGZhbHNlKSAmJgogIFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgndXNlX25hdGl2ZV9wcm9taXNlJywgdHJ1ZSkKKSB7CiAgUHJvbWlzZSA9IHdpbmRvdy5Qcm9taXNlOwp9Cgp2YXIgZyA9IHt9OwoKKGZ1bmN0aW9uKHdpbmRvdyl7dmFyIG4sYWE9dGhpcztmdW5jdGlvbiBxKGEsYil7dmFyIGM9YS5zcGxpdCgiLiIpLGQ9YWE7Y1swXWluIGR8fCFkLmV4ZWNTY3JpcHR8fGQuZXhlY1NjcmlwdCgidmFyICIrY1swXSk7Zm9yKHZhciBlO2MubGVuZ3RoJiYoZT1jLnNoaWZ0KCkpOyljLmxlbmd0aHx8dm9pZCAwPT09Yj9kW2VdP2Q9ZFtlXTpkPWRbZV09e306ZFtlXT1ifWZ1bmN0aW9uIHIoYSxiKXtmdW5jdGlvbiBjKCl7fWMucHJvdG90eXBlPWIucHJvdG90eXBlO2EuUGQ9Yi5wcm90b3R5cGU7YS5wcm90b3R5cGU9bmV3IGM7YS5wcm90b3R5cGUuY29uc3RydWN0b3I9YTthLkxkPWZ1bmN0aW9uKGEsYyxmKXtyZXR1cm4gYi5wcm90b3R5cGVbY10uYXBwbHkoYSxBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMikpfX07LyoKCiBDb3B5cmlnaHQgMjAxNSBHb29nbGUgSW5jLgoKIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoKIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoqLwpmdW5jdGlvbiBiYSgpe307ZnVuY3Rpb24gY2EoYSl7dmFyIGI9Y29uc29sZVthXTtiP2IuYmluZHx8KGNvbnNvbGVbYV09ZnVuY3Rpb24oKXtiLmFwcGx5KGNvbnNvbGUsYXJndW1lbnRzKX0pOmNvbnNvbGVbYV09ZnVuY3Rpb24oKXt9fWNhKCJlcnJvciIpO2NhKCJ3YXJuIik7Y2EoImluZm8iKTtjYSgibG9nIik7Y2EoImRlYnVnIik7dmFyIHU9e3FhOmZ1bmN0aW9uKGEpe3UuSGJbYV09e3FhOnUud2MoKSxlbmQ6TmFOfX0sZW5kOmZ1bmN0aW9uKGEpe2lmKGE9dS5IYlthXSlhLmVuZD11LndjKCl9LE1kOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD11LmdldChhKSxlPXUuZ2V0KGIpO2lmKCFkfHwhZSlyZXR1cm4gTmFOO2QtPWU7Zm9yKGU9MjtlPGFyZ3VtZW50cy5sZW5ndGg7KytlKXt2YXIgZj11LmdldChhcmd1bWVudHNbZV0pO2lmKCFmKXJldHVybiBOYU47ZC09Zn1yZXR1cm4gZH0sZ2V0OmZ1bmN0aW9uKGEpe3JldHVybihhPXUuSGJbYV0pJiZhLmVuZD9hLmVuZC1hLnFhOk5hTn19O3Uud2M9d2luZG93LnBlcmZvcm1hbmNlJiZ3aW5kb3cucGVyZm9ybWFuY2Uubm93P3dpbmRvdy5wZXJmb3JtYW5jZS5ub3cuYmluZCh3aW5kb3cucGVyZm9ybWFuY2UpOkRhdGUubm93O3UuSGI9e307LyoKCiBDb3B5cmlnaHQgMjAwNC1wcmVzZW50IEZhY2Vib29rLiBBbGwgUmlnaHRzIFJlc2VydmVkLgoKKi8KZnVuY3Rpb24gZmEoYSxiLGMsZCxlLGYsZyxoKXt0aGlzLmlkPWE7dGhpcy5iYW5kd2lkdGg9Ynx8MDt0aGlzLmxhbmc9Y3x8InVua25vd24iO3RoaXMuc3RyZWFtSW5mb0lEPWQ7dGhpcy5taW1lVHlwZT1lfHwiIjt0aGlzLmNvZGVjcz1mfHwiIjt0aGlzLmNoYW5uZWxzPWd8fG51bGw7dGhpcy5zYW1wbGluZ1JhdGU9aHx8bnVsbDt0aGlzLmFjdGl2ZT0hMX1xKCJzaGFrYS5wbGF5ZXIuQXVkaW9UcmFjay5jb21wYXJlIixmdW5jdGlvbihhLGIpe3JldHVybiBhLmxhbmc8Yi5sYW5nPy0xOmEubGFuZz5iLmxhbmc/MTphLmJhbmR3aWR0aDxiLmJhbmR3aWR0aD8tMTphLmJhbmR3aWR0aD5iLmJhbmR3aWR0aD8xOjB9KTt2YXIgZ2E9VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoInNoYWthX2RlZmF1bHRfcmVxdWVzdF90aW1lb3V0X3RpbWVzY2FsZSIsMUUzKSxoYT1NYXRoLmZsb29yKFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJzaGFrYV9kZWZhdWx0X2FqYXhfcmVxdWVzdF90aW1lb3V0X21zIiwwKS9nYSksaWE9TWF0aC5mbG9vcihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigic2hha2FfZGVmYXVsdF9hamF4X3JlcXVlc3RfdGltZW91dF9tcyIsMCkvZ2EpLGphPU1hdGguZmxvb3IoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoInNoYWthX2RlZmF1bHRfYWpheF9yZXF1ZXN0X3RpbWVvdXRfbXMiLDApL2dhKTtmdW5jdGlvbiBrYSgpe3RoaXMubWluQmFuZHdpZHRoPXRoaXMubWF4QmFuZHdpZHRoPXRoaXMubWF4V2lkdGg9dGhpcy5taW5IZWlnaHQ9dGhpcy5tYXhIZWlnaHQ9bnVsbH1rYS5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYT1uZXcga2E7YS5tYXhIZWlnaHQ9dGhpcy5tYXhIZWlnaHQ7YS5taW5IZWlnaHQ9dGhpcy5taW5IZWlnaHQ7YS5tYXhXaWR0aD10aGlzLm1heFdpZHRoO2EubWF4QmFuZHdpZHRoPXRoaXMubWF4QmFuZHdpZHRoO2EubWluQmFuZHdpZHRoPXRoaXMubWluQmFuZHdpZHRoO3JldHVybiBhfTtmdW5jdGlvbiBsYSgpe3RoaXMuZm9udFNpemU9IjEwMCUiO3RoaXMuZm9udENvbG9yPW1hO3RoaXMuZm9udE9wYWNpdHk9b2E7dGhpcy5iYWNrZ3JvdW5kQ29sb3I9cGE7dGhpcy5iYWNrZ3JvdW5kT3BhY2l0eT1vYTt0aGlzLmZvbnRFZGdlPXFhfXEoInNoYWthLnBsYXllci5UZXh0U3R5bGUiLGxhKTsKZnVuY3Rpb24gcmEoYSl7dmFyIGI9W107Yi5wdXNoKCJmb250LXNpemU6ICIrYS5mb250U2l6ZSk7Yi5wdXNoKCJjb2xvcjogIitzYShhLmZvbnRDb2xvcixhLmZvbnRPcGFjaXR5KSk7Yi5wdXNoKCJiYWNrZ3JvdW5kLWNvbG9yOiAiK3NhKGEuYmFja2dyb3VuZENvbG9yLGEuYmFja2dyb3VuZE9wYWNpdHkpKTtmb3IodmFyIGM9W10sZD0wO2Q8YS5mb250RWRnZS5sZW5ndGg7KytkKXt2YXIgZT1hLmZvbnRFZGdlW2RdLnNsaWNlKDMsNik7Yy5wdXNoKHNhKGEuZm9udEVkZ2VbZF0uc2xpY2UoMCwzKSxhLmZvbnRPcGFjaXR5KSsiICIrZS5qb2luKCJweCAiKSsicHgiKX1iLnB1c2goInRleHQtc2hhZG93OiAiK2Muam9pbigiLCIpKTtyZXR1cm4gYi5qb2luKCI7ICIpfWZ1bmN0aW9uIHNhKGEsYil7cmV0dXJuInJnYmEoIithLmNvbmNhdChiKS5qb2luKCIsIikrIikifXZhciBtYT1bMjU1LDI1NSwyNTVdLHBhPVswLDAsMF07CmxhLlN0YW5kYXJkQ29sb3JzPXtXSElURTptYSxCTEFDSzpwYSxSRUQ6WzI1NSwwLDBdLEdSRUVOOlswLDI1NSwwXSxCTFVFOlswLDAsMjU1XSxZRUxMT1c6WzI1NSwyNTUsMF0sTUFHRU5UQTpbMjU1LDAsMjU1XSxDWUFOOlswLDI1NSwyNTVdfTt2YXIgb2E9MTtsYS5TdGFuZGFyZE9wYWNpdGllcz17T1BBUVVFOm9hLFNFTUlfSElHSDouNzUsU0VNSV9MT1c6LjI1LFRSQU5TUEFSRU5UOjB9O3ZhciBxYT1bXTsKbGEuRWRnZVN0eWxlcz17Tk9ORTpxYSxSQUlTRUQ6W1szNCwzNCwzNCwxLDEsMF0sWzM0LDM0LDM0LDIsMiwwXSxbMzQsMzQsMzQsMywzLDBdXSxERVBSRVNTRUQ6W1syMDQsMjA0LDIwNCwxLDEsMF0sWzIwNCwyMDQsMjA0LDAsMSwwXSxbMzQsMzQsMzQsLTEsLTEsMF0sWzM0LDM0LDM0LDAsLTEsMF1dLFVOSUZPUk06W1szNCwzNCwzNCwwLDAsNF0sWzM0LDM0LDM0LDAsMCw0XSxbMzQsMzQsMzQsMCwwLDRdLFszNCwzNCwzNCwwLDAsNF1dLERST1A6W1szNCwzNCwzNCwyLDIsM10sWzM0LDM0LDM0LDIsMiw0XSxbMzQsMzQsMzQsMiwyLDVdXX07ZnVuY3Rpb24gdGEoYSxiKXt0aGlzLmlkPWE7dGhpcy5sYW5nPWJ8fCJ1bmtub3duIjt0aGlzLmVuYWJsZWQ9dGhpcy5hY3RpdmU9ITF9cSgic2hha2EucGxheWVyLlRleHRUcmFjay5jb21wYXJlIixmdW5jdGlvbihhLGIpe3JldHVybiBhLmxhbmc8Yi5sYW5nPy0xOmEubGFuZz5iLmxhbmc/MTowfSk7ZnVuY3Rpb24gdWEoYSxiLGMsZCxlLGYsZyxoLGssbCxtLHAsdCl7dGhpcy5pZD1hO3RoaXMuYmFuZHdpZHRoPWJ8fDA7dGhpcy53aWR0aD1jfHwwO3RoaXMuaGVpZ2h0PWR8fDA7dGhpcy5zdHJlYW1JbmZvSUQ9ZTt0aGlzLmZiUXVhbGl0eUxhYmVsPWY7dGhpcy5mYlF1YWxpdHlDbGFzcz1nO2E9W107aCYmKGE9aC5zcGxpdCgiLCIpKTt0aGlzLmZyYW1lUmF0ZT1rfHwiIjt0aGlzLm1pbWVUeXBlPWx8fCIiO3RoaXMuY29kZWNzPW18fCIiO3RoaXMuaXNIVlE9LTE8YS5pbmRleE9mKCJodnEiKTt0aGlzLmlzSW5saW5lSFZRPS0xPGEuaW5kZXhPZigiaHZxX3d3d19pbmxpbmUiKTt0aGlzLmF2b2lkT25Qb29yQ29ubmVjdGlvbj0tMTxhLmluZGV4T2YoImF2b2lkX29uX3Bvb3JfY29ubmVjdGlvbiIpO3RoaXMuYWN0aXZlPSExO3RoaXMucGxheWJhY2tSZXNvbHV0aW9uTW9zPXB8fG51bGw7dGhpcy5wbGF5YmFja1Jlc29sdXRpb25Nb3NDb25maWRlbmNlTGV2ZWw9dHx8bnVsbH0KZnVuY3Rpb24gdmEoYSxiKXt2YXIgYz1hLndpZHRoKmEuaGVpZ2h0LGQ9Yi53aWR0aCpiLmhlaWdodDtyZXR1cm4gYzxkPy0xOmM+ZD8xOmEuYmFuZHdpZHRoPGIuYmFuZHdpZHRoPy0xOmEuYmFuZHdpZHRoPmIuYmFuZHdpZHRoPzE6MH1xKCJzaGFrYS5wbGF5ZXIuVmlkZW9UcmFjay5jb21wYXJlIix2YSk7ZnVuY3Rpb24gd2EoYSl7Zm9yKHZhciBiPXhhLGM9W10sZD0wO2Q8YS5sZW5ndGg7KytkKXtmb3IodmFyIGU9ITEsZj0wO2Y8Yy5sZW5ndGgmJiEoZT1iP2IoYVtkXSxjW2ZdKTphW2RdPT09Y1tmXSk7KytmKTtlfHxjLnB1c2goYVtkXSl9cmV0dXJuIGN9O2Z1bmN0aW9uIHlhKCl7cmV0dXJuIERhdGUubm93KCkremF9dmFyIHphPTA7ZnVuY3Rpb24gQmEoYSl7dGhpcy5iPWE7dGhpcy5jPTA9PUNhO3RoaXMuYT0wfXZhciBDYT0xO2Z1bmN0aW9uIERhKGEpe3JldHVybiBhLmE8YS5iLmJ5dGVMZW5ndGh9ZnVuY3Rpb24gRWEoYSl7dmFyIGI9YS5iLmdldFVpbnQ4KGEuYSk7YS5hKz0xO3JldHVybiBifWZ1bmN0aW9uIHYoYSl7dmFyIGI9YS5iLmdldFVpbnQzMihhLmEsYS5jKTthLmErPTQ7cmV0dXJuIGJ9ZnVuY3Rpb24gRmEoYSl7dmFyIGIsYzthLmM/KGI9YS5iLmdldFVpbnQzMihhLmEsITApLGM9YS5iLmdldFVpbnQzMihhLmErNCwhMCkpOihjPWEuYi5nZXRVaW50MzIoYS5hLCExKSxiPWEuYi5nZXRVaW50MzIoYS5hKzQsITEpKTtpZigyMDk3MTUxPGMpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkRhdGFWaWV3UmVhZGVyOiBPdmVyZmxvdyByZWFkaW5nIDY0LWJpdCB2YWx1ZS4iKTthLmErPTg7cmV0dXJuIGMqTWF0aC5wb3coMiwzMikrYn0KZnVuY3Rpb24gR2EoYSl7aWYoYS5hKzE2PmEuYi5ieXRlTGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKCJEYXRhVmlld1JlYWRlcjogUmVhZCBwYXN0IGVuZCBvZiBEYXRhVmlldy4iKTt2YXIgYj1uZXcgVWludDhBcnJheShhLmIuYnVmZmVyLGEuYSwxNik7YS5hKz0xNjtyZXR1cm4gYn1mdW5jdGlvbiBIYShhLGIpe2lmKGEuYStiPmEuYi5ieXRlTGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKCJEYXRhVmlld1JlYWRlcjogU2tpcCBwYXN0IGVuZCBvZiBEYXRhVmlldy4iKTthLmErPWJ9O2Z1bmN0aW9uIElhKGEpe3RoaXMuYj1hO3RoaXMuYT1uZXcgQmEoYSk7SmF8fChKYT1bbmV3IFVpbnQ4QXJyYXkoWzI1NV0pLG5ldyBVaW50OEFycmF5KFsxMjcsMjU1XSksbmV3IFVpbnQ4QXJyYXkoWzYzLDI1NSwyNTVdKSxuZXcgVWludDhBcnJheShbMzEsMjU1LDI1NSwyNTVdKSxuZXcgVWludDhBcnJheShbMTUsMjU1LDI1NSwyNTUsMjU1XSksbmV3IFVpbnQ4QXJyYXkoWzcsMjU1LDI1NSwyNTUsMjU1LDI1NV0pLG5ldyBVaW50OEFycmF5KFszLDI1NSwyNTUsMjU1LDI1NSwyNTUsMjU1XSksbmV3IFVpbnQ4QXJyYXkoWzEsMjU1LDI1NSwyNTUsMjU1LDI1NSwyNTUsMjU1XSldKX12YXIgSmE7CmZ1bmN0aW9uIEthKGEpe3ZhciBiO2I9TGEoYSk7aWYoNzxiLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiRWJtbFBhcnNlcjogRUJNTCBJRCBtdXN0IGJlIGF0IG1vc3QgNyBieXRlcy4iKTtmb3IodmFyIGM9MCxkPTA7ZDxiLmxlbmd0aDtkKyspYz0yNTYqYytiW2RdO2I9YztjPUxhKGEpO2E6e2ZvcihkPTA7ZDxKYS5sZW5ndGg7ZCsrKWlmKE1hKGMsSmFbZF0pKXtkPSEwO2JyZWFrIGF9ZD0hMX1pZihkKWM9YS5iLmJ5dGVMZW5ndGgtYS5hLmE7ZWxzZXtpZig4PT1jLmxlbmd0aCYmY1sxXSYyMjQpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkVibWxQYXJzZXI6IFZhcmlhYmxlIHNpemVkIGludGVnZXIgdmFsdWUgbXVzdCBiZSBhdCBtb3N0IDUzIGJpdHMuIik7Zm9yKHZhciBkPWNbMF0mKDE8PDgtYy5sZW5ndGgpLTEsZT0xO2U8Yy5sZW5ndGg7ZSsrKWQ9MjU2KmQrY1tlXTtjPWR9Yz1hLmEuYStjPD1hLmIuYnl0ZUxlbmd0aD9jOmEuYi5ieXRlTGVuZ3RoLWEuYS5hO2Q9bmV3IERhdGFWaWV3KGEuYi5idWZmZXIsCmEuYi5ieXRlT2Zmc2V0K2EuYS5hLGMpO0hhKGEuYSxjKTtyZXR1cm4gbmV3IE5hKGIsZCl9ZnVuY3Rpb24gTGEoYSl7dmFyIGI9RWEoYS5hKSxjO2ZvcihjPTE7OD49YyYmIShiJjE8PDgtYyk7YysrKTtpZig4PGMpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkVibWxQYXJzZXI6IFZhcmlhYmxlIHNpemVkIGludGVnZXIgbXVzdCBmaXQgd2l0aGluIDggYnl0ZXMuIik7dmFyIGQ9bmV3IFVpbnQ4QXJyYXkoYyk7ZFswXT1iO2ZvcihiPTE7YjxjO2IrKylkW2JdPUVhKGEuYSk7cmV0dXJuIGR9ZnVuY3Rpb24gTmEoYSxiKXt0aGlzLmlkPWE7dGhpcy5hPWJ9CmZ1bmN0aW9uIE9hKGEpe2lmKDg8YS5hLmJ5dGVMZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkVibWxFbGVtZW50OiBVbnNpZ25lZCBpbnRlZ2VyIGhhcyB0b28gbWFueSBieXRlcy4iKTtpZig4PT1hLmEuYnl0ZUxlbmd0aCYmYS5hLmdldFVpbnQ4KDApJjIyNCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiRWJtbFBhcnNlcjogVW5zaWduZWQgaW50ZWdlciBtdXN0IGJlIGF0IG1vc3QgNTMgYml0cy4iKTtmb3IodmFyIGI9MCxjPTA7YzxhLmEuYnl0ZUxlbmd0aDtjKyspdmFyIGQ9YS5hLmdldFVpbnQ4KGMpLGI9MjU2KmIrZDtyZXR1cm4gYn07dmFyIFBhPXsib3V0cHV0LXJlc3RyaWN0ZWQiOiJUaGUgcmVxdWlyZWQgb3V0cHV0IHByb3RlY3Rpb24gaXMgbm90IGF2YWlsYWJsZS4iLCJvdXRwdXQtbm90LWFsbG93ZWQiOiJUaGUgcmVxdWlyZWQgb3V0cHV0IHByb3RlY3Rpb24gaXMgbm90IGF2YWlsYWJsZS4iLGV4cGlyZWQ6IlRoZSBkZWNyeXB0aW9uIGtleSBoYXMgZXhwaXJlZC4iLCJpbnRlcm5hbC1lcnJvciI6IlRoZSBrZXkgc3lzdGVtIGhhcyBlbmNvdW50ZXJlZCBhbiB1bnNwZWNpZmllZCBlcnJvci4ifTtmdW5jdGlvbiB4KGEpe3RoaXMuYj1NYXRoLmV4cChNYXRoLmxvZyguNSkvYSk7dGhpcy55Yj10aGlzLiRhPXRoaXMuYT0wfXEoInNoYWthLnV0aWwuRVdNQSIseCk7eC5wcm90b3R5cGUuc2FtcGxlPWZ1bmN0aW9uKGEsYil7dmFyIGM9TWF0aC5wb3codGhpcy5iLGEpO3RoaXMuYT1iKigxLWMpK2MqdGhpcy5hO3RoaXMuJGErPWE7dGhpcy55Yis9MX07eC5wcm90b3R5cGUuc2FtcGxlPXgucHJvdG90eXBlLnNhbXBsZTt4LnByb3RvdHlwZS5jPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGF9O3gucHJvdG90eXBlLmdldFRvdGFsV2VpZ2h0PXgucHJvdG90eXBlLmM7eC5wcm90b3R5cGUuZ2V0RXN0aW1hdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLygxLU1hdGgucG93KHRoaXMuYix0aGlzLiRhKSl9O3gucHJvdG90eXBlLmdldEVzdGltYXRlPXgucHJvdG90eXBlLmdldEVzdGltYXRlO3gucHJvdG90eXBlLmY9ZnVuY3Rpb24oKXt0aGlzLnliPXRoaXMuJGE9dGhpcy5hPTB9Owp4LnByb3RvdHlwZS5yZXNldD14LnByb3RvdHlwZS5mO3ZhciBRYT13aW5kb3cuQ3VzdG9tRXZlbnQ7ImZ1bmN0aW9uIiE9PXR5cGVvZiBRYSYmKFFhPWZ1bmN0aW9uKGEsYil7Yj1ifHx7YnViYmxlczohMSxjYW5jZWxhYmxlOiExLGRldGFpbDp2b2lkIDB9O3ZhciBjPWRvY3VtZW50LmNyZWF0ZUV2ZW50KCJDdXN0b21FdmVudCIpO2MuaW5pdEN1c3RvbUV2ZW50KGEsYi5idWJibGVzLGIuY2FuY2VsYWJsZSxiLmRldGFpbCk7cmV0dXJuIGN9LFFhLnByb3RvdHlwZT13aW5kb3cuRXZlbnQucHJvdG90eXBlKTtmdW5jdGlvbiB5KGEpe3ZhciBiPW5ldyBRYShhLnR5cGUse2RldGFpbDphLmRldGFpbCxidWJibGVzOiEhYS5idWJibGVzfSksYztmb3IoYyBpbiBhKWMgaW4gYnx8KGJbY109YVtjXSk7cmV0dXJuIGJ9ZnVuY3Rpb24gQShhKXtyZXR1cm4gbmV3IFFhKCJlcnJvciIse2RldGFpbDphLGJ1YmJsZXM6ITB9KX07ZnVuY3Rpb24gUmEoYSxiLGMpe1NhKGIpO1NhKGMpO3JldHVybiBjPT1ifHxhPj1UYSYmYz09Yi5zcGxpdCgiLSIpWzBdfHxhPj1VYSYmYy5zcGxpdCgiLSIpWzBdPT1iLnNwbGl0KCItIilbMF0/ITA6ITF9dmFyIFRhPTEsVWE9MjtmdW5jdGlvbiBTYShhKXthPWEudG9Mb3dlckNhc2UoKS5zcGxpdCgiLSIpO3ZhciBiPVZhW2FbMF1dO2ImJihhWzBdPWIpO3JldHVybiBhLmpvaW4oIi0iKX0KdmFyIFZhPXthYXI6ImFhIixhYms6ImFiIixhZnI6ImFmIixha2E6ImFrIixhbGI6InNxIixhbWg6ImFtIixhcmE6ImFyIixhcmc6ImFuIixhcm06Imh5Iixhc206ImFzIixhdmE6ImF2IixhdmU6ImFlIixheW06ImF5IixhemU6ImF6IixiYWs6ImJhIixiYW06ImJtIixiYXE6ImV1IixiZWw6ImJlIixiZW46ImJuIixiaWg6ImJoIixiaXM6ImJpIixib2Q6ImJvIixib3M6ImJzIixicmU6ImJyIixidWw6ImJnIixidXI6Im15IixjYXQ6ImNhIixjZXM6ImNzIixjaGE6ImNoIixjaGU6ImNlIixjaGk6InpoIixjaHU6ImN1IixjaHY6ImN2Iixjb3I6Imt3Iixjb3M6ImNvIixjcmU6ImNyIixjeW06ImN5IixjemU6ImNzIixkYW46ImRhIixkZXU6ImRlIixkaXY6ImR2IixkdXQ6Im5sIixkem86ImR6IixlbGw6ImVsIixlbmc6ImVuIixlcG86ImVvIixlc3Q6ImV0IixldXM6ImV1Iixld2U6ImVlIixmYW86ImZvIixmYXM6ImZhIixmaWo6ImZqIixmaW46ImZpIixmcmE6ImZyIixmcmU6ImZyIiwKZnJ5OiJmeSIsZnVsOiJmZiIsZ2VvOiJrYSIsZ2VyOiJkZSIsZ2xhOiJnZCIsZ2xlOiJnYSIsZ2xnOiJnbCIsZ2x2OiJndiIsZ3JlOiJlbCIsZ3JuOiJnbiIsZ3VqOiJndSIsaGF0OiJodCIsaGF1OiJoYSIsaGViOiJoZSIsaGVyOiJoeiIsaGluOiJoaSIsaG1vOiJobyIsaHJ2OiJociIsaHVuOiJodSIsaHllOiJoeSIsaWJvOiJpZyIsaWNlOiJpcyIsaWRvOiJpbyIsaWlpOiJpaSIsaWt1OiJpdSIsaWxlOiJpZSIsaW5hOiJpYSIsaW5kOiJpZCIsaXBrOiJpayIsaXNsOiJpcyIsaXRhOiJpdCIsamF2OiJqdiIsanBuOiJqYSIsa2FsOiJrbCIsa2FuOiJrbiIsa2FzOiJrcyIsa2F0OiJrYSIsa2F1OiJrciIsa2F6OiJrayIsa2htOiJrbSIsa2lrOiJraSIsa2luOiJydyIsa2lyOiJreSIsa29tOiJrdiIsa29uOiJrZyIsa29yOiJrbyIsa3VhOiJraiIsa3VyOiJrdSIsbGFvOiJsbyIsbGF0OiJsYSIsbGF2OiJsdiIsbGltOiJsaSIsbGluOiJsbiIsbGl0OiJsdCIsbHR6OiJsYiIsbHViOiJsdSIsCmx1ZzoibGciLG1hYzoibWsiLG1haDoibWgiLG1hbDoibWwiLG1hbzoibWkiLG1hcjoibXIiLG1heToibXMiLG1rZDoibWsiLG1sZzoibWciLG1sdDoibXQiLG1vbjoibW4iLG1yaToibWkiLG1zYToibXMiLG15YToibXkiLG5hdToibmEiLG5hdjoibnYiLG5ibDoibnIiLG5kZToibmQiLG5kbzoibmciLG5lcDoibmUiLG5sZDoibmwiLG5ubzoibm4iLG5vYjoibmIiLG5vcjoibm8iLG55YToibnkiLG9jaToib2MiLG9qaToib2oiLG9yaToib3IiLG9ybToib20iLG9zczoib3MiLHBhbjoicGEiLHBlcjoiZmEiLHBsaToicGkiLHBvbDoicGwiLHBvcjoicHQiLHB1czoicHMiLHF1ZToicXUiLHJvaDoicm0iLHJvbjoicm8iLHJ1bToicm8iLHJ1bjoicm4iLHJ1czoicnUiLHNhZzoic2ciLHNhbjoic2EiLHNpbjoic2kiLHNsazoic2siLHNsbzoic2siLHNsdjoic2wiLHNtZToic2UiLHNtbzoic20iLHNuYToic24iLHNuZDoic2QiLHNvbToic28iLHNvdDoic3QiLHNwYToiZXMiLHNxaToic3EiLApzcmQ6InNjIixzcnA6InNyIixzc3c6InNzIixzdW46InN1Iixzd2E6InN3Iixzd2U6InN2Iix0YWg6InR5Iix0YW06InRhIix0YXQ6InR0Iix0ZWw6InRlIix0Z2s6InRnIix0Z2w6InRsIix0aGE6InRoIix0aWI6ImJvIix0aXI6InRpIix0b246InRvIix0c246InRuIix0c286InRzIix0dWs6InRrIix0dXI6InRyIix0d2k6InR3Iix1aWc6InVnIix1a3I6InVrIix1cmQ6InVyIix1emI6InV6Iix2ZW46InZlIix2aWU6InZpIix2b2w6InZvIix3ZWw6ImN5Iix3bG46IndhIix3b2w6IndvIix4aG86InhoIix5aWQ6InlpIix5b3I6InlvIix6aGE6InphIix6aG86InpoIix6dWw6Inp1In07ZnVuY3Rpb24gV2EoYSl7cmV0dXJuIE9iamVjdC5rZXlzKGEpLm1hcChmdW5jdGlvbihiKXtyZXR1cm4gYVtiXX0pfWZ1bmN0aW9uIEIoYSxiKXtyZXR1cm4gWGEoYSxiLCJib29sZWFuIil9ZnVuY3Rpb24gQyhhLGIsYyl7YT1YYShhLGIsIm51bWJlciIpO2lmKG51bGw9PWEpcmV0dXJuIG51bGw7aWYoaXNOYU4oYSl8fGE9PU51bWJlci5ORUdBVElWRV9JTkZJTklUWXx8YT09TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZKXRocm93IG5ldyBSYW5nZUVycm9yKCInIitiKyInIG11c3QgYmUgZmluaXRlLiIpO2lmKG51bGwhPWMmJmE8Yyl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiJyIrYisiJyBtdXN0IGJlID49ICIrYyk7cmV0dXJuIGF9ZnVuY3Rpb24gWWEoYSxiKXtyZXR1cm4gWGEoYSxiLCJzdHJpbmciKX0KZnVuY3Rpb24gWGEoYSxiLGMpe2E9YVtiXTtpZihudWxsPT1hKXJldHVybiBudWxsO2lmKHR5cGVvZiBhIT09Yyl0aHJvdyBuZXcgVHlwZUVycm9yKCInIitiKyInIG11c3QgYmUgYSAiK2MrIi4iKTtyZXR1cm4gYX1mdW5jdGlvbiBaYShhLGIsYyl7YT1hW2JdO2lmKG51bGw9PWEpcmV0dXJuIG51bGw7aWYoIShhIGluc3RhbmNlb2YgYykpdGhyb3cgbmV3IFR5cGVFcnJvcigiJyIrYisiJyBtdXN0IGJlIGFuIGluc3RhbmNlIG9mICIrYy5uYW1lKyIuIik7cmV0dXJuIGF9O2Z1bmN0aW9uIEQoKXt0aGlzLmE9e319RC5wcm90b3R5cGUucHVzaD1mdW5jdGlvbihhLGIpe3RoaXMuYS5oYXNPd25Qcm9wZXJ0eShhKT90aGlzLmFbYV0ucHVzaChiKTp0aGlzLmFbYV09W2JdfTtELnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24oYSxiKXt0aGlzLmFbYV09Yn07RC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGEpe3JldHVybihhPXRoaXMuYVthXSk/YS5zbGljZSgpOm51bGx9O2Z1bmN0aW9uICRhKGEpe3ZhciBiPVtdLGM7Zm9yKGMgaW4gYS5hKWIucHVzaC5hcHBseShiLGEuYVtjXSk7cmV0dXJuIGJ9RC5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5hW2FdO2lmKGMpZm9yKHZhciBkPTA7ZDxjLmxlbmd0aDsrK2QpY1tkXT09YiYmKGMuc3BsaWNlKGQsMSksLS1kKX07ZnVuY3Rpb24gYWIoYSl7dmFyIGI9W10sYztmb3IoYyBpbiBhLmEpYi5wdXNoKGMpO3JldHVybiBifTtmdW5jdGlvbiBiYigpe3RoaXMuYT1uZXcgRH1iYi5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe2RiKHRoaXMpO3RoaXMuYT1udWxsfTtmdW5jdGlvbiBFKGEsYixjLGQpe2I9bmV3IGViKGIsYyxkKTthLmEucHVzaChjLGIpfWJiLnByb3RvdHlwZS5hYj1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz10aGlzLmEuZ2V0KGIpfHxbXSxkPTA7ZDxjLmxlbmd0aDsrK2Qpe3ZhciBlPWNbZF07ZS50YXJnZXQ9PWEmJihlLmFiKCksdGhpcy5hLnJlbW92ZShiLGUpKX19O2Z1bmN0aW9uIGRiKGEpe2Zvcih2YXIgYj0kYShhLmEpLGM9MDtjPGIubGVuZ3RoOysrYyliW2NdLmFiKCk7YS5hLmE9e319ZnVuY3Rpb24gZWIoYSxiLGMpe3RoaXMudGFyZ2V0PWE7dGhpcy50eXBlPWI7dGhpcy5hPWM7dGhpcy50YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihiLGMsITEpfQplYi5wcm90b3R5cGUuYWI9ZnVuY3Rpb24oKXt0aGlzLnRhcmdldCYmKHRoaXMudGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIodGhpcy50eXBlLHRoaXMuYSwhMSksdGhpcy5hPXRoaXMudGFyZ2V0PW51bGwpfTtmdW5jdGlvbiBGKGEpe3RoaXMuRWI9bmV3IEQ7dGhpcy5KYT1hfXEoInNoYWthLnV0aWwuRmFrZUV2ZW50VGFyZ2V0IixGKTtuPUYucHJvdG90eXBlO24uYWRkRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbihhLGIpe3RoaXMuRWIucHVzaChhLGIpfTtuLnJlbW92ZUV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24oYSxiKXt0aGlzLkViLnJlbW92ZShhLGIpfTsKbi5kaXNwYXRjaEV2ZW50PWZ1bmN0aW9uKGEpe2EuaGFzT3duUHJvcGVydHkoInNyY0VsZW1lbnQiKXx8KGRlbGV0ZSBhLnNyY0VsZW1lbnQsT2JqZWN0LmRlZmluZVByb3BlcnR5KGEsInNyY0VsZW1lbnQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH19KSk7aWYoYS5oYXNPd25Qcm9wZXJ0eSgidGFyZ2V0IikpYS50YXJnZXQ9dGhpcztlbHNle2RlbGV0ZSBhLnRhcmdldDt2YXIgYj10aGlzO09iamVjdC5kZWZpbmVQcm9wZXJ0eShhLCJ0YXJnZXQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYn0sc2V0OmZ1bmN0aW9uKGEpe2I9YX19KX1pZihhLmhhc093blByb3BlcnR5KCJjdXJyZW50VGFyZ2V0IikpYS5jdXJyZW50VGFyZ2V0PW51bGw7ZWxzZXtkZWxldGUgYS5jdXJyZW50VGFyZ2V0O3ZhciBjPW51bGw7T2JqZWN0LmRlZmluZVByb3BlcnR5KGEsImN1cnJlbnRUYXJnZXQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY30sc2V0OmZ1bmN0aW9uKGEpe2M9YX19KX1yZXR1cm4gZmIodGhpcywKYSl9O24ub2M9ITE7bi5MYT1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmRpc3BhdGNoRXZlbnQoeSh7dHlwZToiZGVidWcvZGFzaFBsYXllckV2ZW50IixidWJibGVzOiEwLGRldGFpbDp7dHlwZTphLGV2ZW50OmJ9fSkpfTtmdW5jdGlvbiBmYihhLGIpe2IuY3VycmVudFRhcmdldD1hO2Zvcih2YXIgYz1hLkViLmdldChiLnR5cGUpfHxbXSxkPTA7ZDxjLmxlbmd0aDsrK2Qpe3ZhciBlPWNbZF07dHJ5e2UuaGFuZGxlRXZlbnQ/ZS5oYW5kbGVFdmVudChiKTplLmNhbGwoYSxiKX1jYXRjaChmKXt9fWEuSmEmJmIuYnViYmxlcyYmZmIoYS5KYSxiKTtyZXR1cm4gYi5kZWZhdWx0UHJldmVudGVkfTtmdW5jdGlvbiBHKGEpe0YuY2FsbCh0aGlzLG51bGwpO3RoaXMuYT17b2I6e1ZhOm5ldyB4KFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJmYXN0X21vdmluZ19hdmVyYWdlX2hhbGZfbGlmZSIsMykpLHhiOm5ldyB4KFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJzbG93X21vdmluZ19hdmVyYWdlX2hhbGZfbGlmZSIsMTApKX0sY2I6e1ZhOm5ldyB4KFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJhZ2dyZXNzaXZlX2Zhc3RfbW92aW5nX2F2ZXJhZ2VfaGFsZl9saWZlIiwxRS00KSkseGI6bmV3IHgoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoImFnZ3Jlc3NpdmVfc2xvd19tb3ZpbmdfYXZlcmFnZV9oYWxmX2xpZmUiLDkuMjMzNTA4NzkxNzc0NSkpfX07dGhpcy5oPWF8fDVFNTt0aGlzLmo9VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoIm1pbl9zYW1wbGVfY291bnQiLAoxRTQpO3RoaXMuYj0wO3RoaXMuYz1bXTt0aGlzLmk9VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoIm1heF9yZWNlbnRfYmFuZHdpZHRoX3NhbXBsZXMiLDApfXIoRyxGKTtxKCJzaGFrYS51dGlsLkVXTUFCYW5kd2lkdGhFc3RpbWF0b3IiLEcpO0cucHJvdG90eXBlLnNob3VsZEV4Y2x1ZGVTYW1wbGU9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJjaGFuZ2VfYWJyX2F1ZGlvX2V4Y2x1c2lvbl9sb2dpYyIsITApPyFiOjY1NTM2PmF9OwpHLnByb3RvdHlwZS5zYW1wbGU9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyl7aWYodGhpcy5zaG91bGRFeGNsdWRlU2FtcGxlKGIsYykpZSYmZS5zZXRFdmVudCgidW5zYW1wbGVkIikuc2V0UmVhc29uKCJhdWRpbyIpLmxvZygpO2Vsc2V7aWYoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJ1c2VfcmVzb3VyY2VfdGltaW5nX2VudHJ5X2Zvcl9iYW5kd2lkdGgiLCEwKSl7aWYoIWQpe2UmJmUuc2V0RXZlbnQoInVuc2FtcGxlZCIpLnNldFJlYXNvbigicmVzb3VyY2VfdGltaW5nX2VudHJ5X21pc3NpbmciKS5sb2coKTtyZXR1cm59YT1kLnRpbWVUb0xhc3RCeXRlO2lmKDA+YSl7ZSYmZS5zZXRFdmVudCgidW5zYW1wbGVkIikuc2V0UmVhc29uKCJyZXNvdXJjZV90aW1pbmdfZW50cnlfaW52YWxpZCIpLmxvZygpO3JldHVybn19YT1NYXRoLm1heChhLDUwKTtjPTFFMypVbml0Q29uc3RhbnRzLkJJVFNfSU5fQllURSpiL2E7dmFyIGg9YS8xRTM7dGhpcy5hLmNiLlZhLnNhbXBsZShoLApjLGQpO3RoaXMuYS5jYi54Yi5zYW1wbGUoaCxjLGQpO3RoaXMuYS5vYi5WYS5zYW1wbGUoaCxjLGQpO3RoaXMuYS5vYi54Yi5zYW1wbGUoaCxjLGQpO2d8fHRoaXMuZGlzcGF0Y2hFdmVudCh5KHt0eXBlOiJiYW5kd2lkdGgifSkpO3RoaXMuYj1EYXRlLm5vdygpO2Q9cGFyc2VJbnQoYSwxMCk7aWYoMDx0aGlzLmkpZm9yKHRoaXMuYy5wdXNoKFtiLGRdKTt0aGlzLmMubGVuZ3RoPnRoaXMuaTspdGhpcy5jLnNoaWZ0KCk7ZSYmZS5zZXRFdmVudCgic2FtcGxlZCIpLnNldEJ5dGVzKGIpLnNldERlbGF5TXMoZCkubG9nKCk7ZiYmZi5nZXRFdmVudExvZ2dlcigiYmFuZHdpZHRoX3NhbXBsZWQiKS5zZXRMZW5ndGgoYikuc2V0Q2xpZW50VGltZUJlZ2luKHRoaXMuYi1kKS5zZXRDbGllbnRUaW1lRW5kKHRoaXMuYikubG9nKCl9fTsKRy5wcm90b3R5cGUuZ2V0QmFuZHdpZHRoPWZ1bmN0aW9uKGEpe2E9ImFnZ3Jlc3NpdmUiPT09YT90aGlzLmEuY2I6dGhpcy5hLm9iO3JldHVybiB0aGlzLmNhblRydXN0RXN0aW1hdGUoKT9NYXRoLm1pbihhLlZhLmdldEVzdGltYXRlKCksYS54Yi5nZXRFc3RpbWF0ZSgpKTp0aGlzLmh9O0cucHJvdG90eXBlLmdldEZhc3RNb3ZpbmdCYW5kd2lkdGg9ZnVuY3Rpb24oYSl7YT0iYWdncmVzc2l2ZSI9PT1hP3RoaXMuYS5jYjp0aGlzLmEub2I7cmV0dXJuIHRoaXMuY2FuVHJ1c3RFc3RpbWF0ZSgpP2EuVmEuZ2V0RXN0aW1hdGUoKTp0aGlzLmh9O0cucHJvdG90eXBlLmdldERhdGFBZ2U9ZnVuY3Rpb24oKXtyZXR1cm4oRGF0ZS5ub3coKS10aGlzLmIpLzFFM307Ry5wcm90b3R5cGUuY2FuVHJ1c3RFc3RpbWF0ZT1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmEuY2IuVmE7cmV0dXJuIGIuJGE+PSh2b2lkIDA9PT1hPy41OmEpfHxiLnliPj10aGlzLmp9OwpHLnByb3RvdHlwZS5zdXBwb3J0c0NhY2hpbmc9ZnVuY3Rpb24oKXtyZXR1cm4hMX07Ry5wcm90b3R5cGUuc2V0UmVwcmVzZW50YXRpb25JRD1mdW5jdGlvbigpe307Ry5wcm90b3R5cGUuZmx1c2hBQlJFdmFsdWF0aW9uU2V0PWZ1bmN0aW9uKCl7cmV0dXJuW119O0cucHJvdG90eXBlLmdldFJlY2VudFNhbXBsZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jfTsvKgoKIENvcHlyaWdodCAyMDE1IEZhY2Vib29rIEluYy4KCiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoKICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KKi8KZnVuY3Rpb24gZ2IoYSxiLGMsZCl7Ry5jYWxsKHRoaXMsZCk7dGhpcy5nPWF8fDA7dGhpcy5mPXZvaWQgMD09PWI/SW5maW5pdHk6Yjt0aGlzLm09Y31yKGdiLEcpO3EoInNoYWthLnV0aWwuRVdNQUNhY2hlQmFuZHdpZHRoRXN0aW1hdG9yIixnYik7CmdiLnByb3RvdHlwZS5zYW1wbGU9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxoKXt2YXIgaz04RTMqYi9hO2UmJmUuc2V0Qnl0ZXMoYikuc2V0RGVsYXlNcyhwYXJzZUludChhLDEwKSk7YTw9dGhpcy5nJiZrPnRoaXMuZiYmIWg/KGUmJmUuc2V0RXZlbnQoInVuc2FtcGxlZCIpLnNldFJlYXNvbigiY2FjaGVkIikubG9nKCksZiYmIXRoaXMuc2hvdWxkRXhjbHVkZVNhbXBsZShiLGMpJiZmLmdldEV2ZW50TG9nZ2VyKCJiYW5kd2lkdGhfc2FtcGxlZCIpLnNldFJlc3VsdCgiYWJvcnRlZCIpLnNldExlbmd0aChiKS5zZXRDbGllbnRUaW1lQmVnaW4oRGF0ZS5ub3coKS1wYXJzZUludChhLDEwKSkuc2V0Q2xpZW50VGltZUVuZChEYXRlLm5vdygpKS5sb2coKSx0aGlzLm0oKSk6Ry5wcm90b3R5cGUuc2FtcGxlLmNhbGwodGhpcyxhLGIsYyxkLGUsZixnKX07Z2IucHJvdG90eXBlLnN1cHBvcnRzQ2FjaGluZz1mdW5jdGlvbigpe3JldHVybiBJbmZpbml0eSE9PXRoaXMuZiYmISF0aGlzLmd9OwpnYi5wcm90b3R5cGUuc2V0UmVwcmVzZW50YXRpb25JRD1mdW5jdGlvbigpe307Z2IucHJvdG90eXBlLmZsdXNoQUJSRXZhbHVhdGlvblNldD1mdW5jdGlvbigpe3JldHVybltdfTtmdW5jdGlvbiBoYigpe0cuY2FsbCh0aGlzKX1yKGhiLEcpO3EoInNoYWthLnV0aWwuRVdNQVNpZ25lZFVSTEJhbmR3aWR0aEVzdGltYXRvciIsaGIpO2hiLnByb3RvdHlwZS5zdXBwb3J0c0NhY2hpbmc9ZnVuY3Rpb24oKXtyZXR1cm4hMH07ZnVuY3Rpb24gSSgpe3ZhciBhLGIsYz1uZXcgUHJvbWlzZShmdW5jdGlvbihjLGUpe2E9YztiPWV9KTtjLnJlc29sdmU9YTtjLnJlamVjdD1iO2MuZGVzdHJveT1JLnByb3RvdHlwZS5kZXN0cm95O3JldHVybiBjfUkucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmNhdGNoKGZ1bmN0aW9uKCl7fSk7dmFyIGE9RXJyb3IoIkRlc3Ryb3llZCEiKTthLnR5cGU9ImRlc3Ryb3kiO3RoaXMucmVqZWN0KGEpfTtmdW5jdGlvbiBpYihhKXthLnNwbGl0KCIiKS5yZWR1Y2UoZnVuY3Rpb24oYSxjLGQpe3JldHVybiBhKyhkJiYwPT1kJTQ/IiAiK2M6Yyl9KX07ZnVuY3Rpb24gamIoKXt0aGlzLmxiPW5ldyBJO3RoaXMuYz0hMTt0aGlzLkFhPW51bGw7dGhpcy5hPVtdO3RoaXMuYj1udWxsfWZ1bmN0aW9uIGtiKGEsYil7aWYoYS5jKXRocm93IEVycm9yKCJDYW5ub3QgYXBwZW5kIHRvIGEgcnVubmluZyB0YXNrISIpO2EuYS5wdXNoKGIpfWpiLnByb3RvdHlwZS5zdGFydD1mdW5jdGlvbigpe2lmKHRoaXMuYyl0aHJvdyBFcnJvcigiVGFzayBhbHJlYWR5IHN0YXJ0ZWQhIik7dGhpcy5jPSEwO3RoaXMuYS51bnNoaWZ0KGZ1bmN0aW9uKCl7fSk7bGIodGhpcyx2b2lkIDApfTtqYi5wcm90b3R5cGUuYWJvcnQ9ZnVuY3Rpb24oKXtpZih0aGlzLkFhKXJldHVybiB0aGlzLkFhO2lmKCF0aGlzLmMpcmV0dXJuIHRoaXMuYz0hMCxQcm9taXNlLnJlc29sdmUoKTt0aGlzLmImJih0aGlzLmY9dGhpcy5iKCkpO3JldHVybiB0aGlzLkFhPW5ldyBJfTtqYi5wcm90b3R5cGUuZW5kPWZ1bmN0aW9uKCl7dGhpcy5hLnNwbGljZSgxKX07CmZ1bmN0aW9uIGxiKGEsYil7dmFyIGM9YS5hWzBdKGIpLGQ7Yz8oZD1jWzBdLGEuYj1jWzFdKTooZD1Qcm9taXNlLnJlc29sdmUoKSxhLmI9bnVsbCk7ZC50aGVuKEooYSxmdW5jdGlvbihhKXt0aGlzLkFhPyh0aGlzLmE9W10sdGhpcy5iPW51bGwsbWIodGhpcykpOih0aGlzLmEuc2hpZnQoKSx0aGlzLmEubGVuZ3RoP2xiKHRoaXMsYSk6KHRoaXMubGIucmVzb2x2ZShhKSx0aGlzLmI9bnVsbCkpfSkpLmNhdGNoKEooYSxmdW5jdGlvbihhKXt0aGlzLmE9W107dGhpcy5iPW51bGw7dGhpcy5BYT9tYih0aGlzKTp0aGlzLmxiLnJlamVjdChhKX0pKX0KZnVuY3Rpb24gbWIoYSl7ZnVuY3Rpb24gYigpe3ZhciBhPUVycm9yKCJUYXNrIGFib3J0ZWQuIik7YS50eXBlPSJhYm9ydGVkIjt0aGlzLmxiLnJlamVjdChhKTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhpcy5BYS5yZXNvbHZlKCk7dGhpcy5BYT1udWxsfS5iaW5kKHRoaXMpLDUpfWEuZj9hLmYudGhlbihmdW5jdGlvbigpe3RoaXMuZj1udWxsO2IuY2FsbCh0aGlzKX0uYmluZChhKSk6Yi5jYWxsKGEpfTtmdW5jdGlvbiBKKGEsYil7cmV0dXJuIGIuYmluZChhKX07ZnVuY3Rpb24gbmIoYSxiLGMsZCxlLGYsZyl7TWVkaWFTb3VyY2UuaXNUeXBlU3VwcG9ydGVkKGMpO0YuY2FsbCh0aGlzLGUpO2U9Yi5hZGRTb3VyY2VCdWZmZXIoYyk7dGhpcy5oPWE7dGhpcy5BPWI7dGhpcy5hPWU7dGhpcy5KPWQ7dGhpcy5CPW5ldyBiYjt0aGlzLkk9dGhpcy5sPXRoaXMuWT10aGlzLmk9bnVsbDt0aGlzLlI9ITE7dGhpcy5QPXRoaXMuSz10aGlzLk89MDt0aGlzLkc9bnVsbDt0aGlzLlY9dGhpcy5GPSExO3RoaXMuWj1mO3RoaXMuRD1udWxsO3RoaXMuJD1nP2c6bnVsbDt0aGlzLmI9W107dGhpcy5VPTA7dGhpcy5tPXRoaXMuYz10aGlzLmY9bnVsbDt0aGlzLlQ9amE7dGhpcy5vPXRoaXMudT0wO3RoaXMudz10aGlzLlM9ITE7dGhpcy5nPWMmJmMuY2hhckF0KDApO0UodGhpcy5CLHRoaXMuYSwidXBkYXRlZW5kIix0aGlzLm5kLmJpbmQodGhpcykpO3RoaXMuaC5nZXRCb29sKCJsaXN0ZW5fZm9yX2FzeW5jX2FwcGVuZF9idWZmZXJfZXJyb3JzIiwhMCkmJkUodGhpcy5CLAp0aGlzLmEsImVycm9yIix0aGlzLmFkLmJpbmQodGhpcykpO3RoaXMuaj1udWxsfXIobmIsRik7bmIucHJvdG90eXBlLkJhPWZ1bmN0aW9uKCl7cmV0dXJue1NvdXJjZUJ1ZmZlcjp0aGlzLmF9fTtmdW5jdGlvbiBvYihhLGIsYyl7YS5vYyYmYS5MYShiLHt0eXBlOmEuZy5jaGFyQXQoMCksc2VnbWVudDpjLHNvdXJjZUJ1ZmZlcjphLmF9KX12YXIgcGI9MS82MDtuYi5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuYWJvcnQoKS5jYXRjaChmdW5jdGlvbigpe30pO3RoaXMuYyYmdGhpcy5jLmRlc3Ryb3koKTt0aGlzLmI9dGhpcy5mPXRoaXMuYz1udWxsO3RoaXMuQi5kZXN0cm95KCk7dGhpcy5BPXRoaXMuYT10aGlzLkQ9dGhpcy5CPW51bGx9O2Z1bmN0aW9uIHFiKGEpe3ZhciBiPWEuYi5sZW5ndGg7cmV0dXJuIDA8Yj9hLmJbYi0xXTpudWxsfQpmdW5jdGlvbiByYihhLGIpe2Zvcih2YXIgYz1hLmEuYnVmZmVyZWQsZD0wO2Q8Yy5sZW5ndGg7KytkKXt2YXIgZT1jLnN0YXJ0KGQpLXBiLGY9Yy5lbmQoZCkrcGI7aWYoYj49ZSYmYjw9ZilyZXR1cm4gYy5lbmQoZCktYn1yZXR1cm4gMH1mdW5jdGlvbiBzYihhLGIsYyl7dmFyIGQ9Yi5lbmRUaW1lP2IuZW5kVGltZS1iLnN0YXJ0VGltZToxLGU9bmV3IHRiO2UuTmE9MztlLmM9MUUzKmQ7ZS5iPTFFMyphLlQ7ZS51PWEuWTtlLmo9YztlLmRhPWEuWjtlLm1pbWVUeXBlPWEuZztlLmg9YS4kO2Uubz1iLmlzUHJlZGljdGl2ZTtyZXR1cm4gZX1uPW5iLnByb3RvdHlwZTsKbi5mZXRjaD1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGgpe3ZhciBrLGw9Zj8icmVwbGFjaW5nX2xvd2VyX3F1YWxpdHlfYnVmZmVyIjpudWxsO2lmKHRoaXMubCl7dmFyIG09dGhpcy5iW3RoaXMuYi5sZW5ndGgtMV0scD1udWxsO20mJihwPTFFMyooYS5zdGFydFRpbWUtbS5lbmRUaW1lKSk7az10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJmZXRjaCIpLnNldFJlYXNvbihsKS5zZXRSZXNvdXJjZSh1YihhLnVybCkpLnNldFR5cGUodmIodGhpcykpLnNldExlbmd0aChNYXRoLnJvdW5kKDFFMyooYS5lbmRUaW1lLWEuc3RhcnRUaW1lKSkpLnNldFNlZ21lbnRTdGFydFRpbWUoMUUzKmEuc3RhcnRUaW1lKS5zZXRTZWdtZW50RW5kVGltZSgxRTMqYS5lbmRUaW1lKS5zZXRTZWdtZW50VGltZUdhcChwKS5zdGFydCgpfXRoaXMuaj1rO2lmKHRoaXMuZil7aWYodGhpcy5oLmdldEJvb2woInNibV9lbmFibGVfY29uY3VycmVudF9mZXRjaF9yZXF1ZXN0cyIsITEpKXt2YXIgdD1bXS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7CnJldHVybiB0aGlzLmYubGIudGhlbihKKHRoaXMsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mZXRjaC5hcHBseSh0aGlzLHQpfSksZnVuY3Rpb24oYSl7dGhyb3cgYTt9KX1tPUVycm9yKCJDYW5ub3QgZmV0Y2ggKCIrdGhpcy5nKyIpOiBwcmV2aW91cyBvcGVyYXRpb24gbm90IGNvbXBsZXRlLiIpO3RoaXMudT49dGhpcy5PPyhtLnR5cGU9InN0cmVhbSIsayYmay5zZXRFcnJvcihtKS5sb2coKSx0aGlzLnU9MCk6KHRoaXMudSsrLG0udHlwZT0iYWJvcnRlZCIpO3JldHVybiBQcm9taXNlLnJlamVjdChtKX10aGlzLmY9bmV3IGpiO2MhPXRoaXMuYS50aW1lc3RhbXBPZmZzZXQmJih0aGlzLmEudGltZXN0YW1wT2Zmc2V0PWMpO3ZhciBtPXNiKHRoaXMsYSxlKSxwPXRoaXMuaC5nZXRCb29sKCJlbmFibGVfc3RyZWFtaW5nX2NvZGVfcGF0aCIsITApLHc7dz1wP2EudXJsLnN0cmVhbShtLHRoaXMuSix0aGlzLmwsdGhpcy5qLHRoaXMuSSx2Yih0aGlzKSxsLGcsaCk6YS51cmwuZmV0Y2gobSwKdGhpcy5KLHRoaXMubCx0aGlzLmosdGhpcy5JLHZiKHRoaXMpLGwsZyk7b2IodGhpcywiU2VnbWVudEZldGNoaW5nIixhKTt2YXIgej1LLnByb3RvdHlwZS5LYS5iaW5kKGEudXJsKTt0aGlzLkcmJnRoaXMuRiYmKGQ9dGhpcy5HKTt2YXIgSD0wLGRhPW51bGw7ZCYmKHRoaXMuRz1kLHRoaXMuRj0hMSxrYih0aGlzLmYsZnVuY3Rpb24oKXtyZXR1cm5bZC50aGVuKGZ1bmN0aW9uKGEpe2EuWWE+SCYmKEg9YS5ZYSk7cmV0dXJuIHdiKHRoaXMsYSxudWxsKX0uYmluZCh0aGlzKSksdGhpcy5iYi5iaW5kKHRoaXMpXX0uYmluZCh0aGlzKSkpO3ZhciBlYT1mdW5jdGlvbihhKXthLllhPkgmJihIPWEuWWEpO2RhPWEuYnl0ZUxlbmd0aDt0aGlzLkouZ2V0QmFuZHdpZHRoKCk7dGhpcy5TJiZ0aGlzLmRpc3BhdGNoRXZlbnQoeSh7dHlwZToiY2VhNjA4Q2FwdGlvbnNCeXRlc1JlY2VpdmVkIixidWJibGVzOiEwLGRldGFpbDp7dGltZXNjYWxlOmIsdmlkZW9CeXRlczphfX0pKX0uYmluZCh0aGlzKTsKcD8oaCYmKG09aC5nZXRQcm9ncmVzc1RyYWNrZXIoKSx0aGlzLmkhPT1tJiYodGhpcy5pPW0pKSxrYih0aGlzLmYsSih0aGlzLGZ1bmN0aW9uKCl7dmFyIGI9bnVsbCxjPU1hdGgubWF4KDAsKGEudXJsLmVuZEJ5dGV8fDApLWEudXJsLnN0YXJ0Qnl0ZSksZD10aGlzLmguZ2V0TnVtYmVyKCJzdHJlYW1pbmdfYXBwZW5kX3Blcl9zZWdtZW50IiwzKSxlPTA9PT1kPzA6Yy9kO3JldHVyblt3LnRoZW4oZnVuY3Rpb24oYyl7Yj1jO3RoaXMudz0hMTtyZXR1cm4geGIodGhpcyxjLGEsZSl9LmJpbmQodGhpcykpLnRoZW4oZnVuY3Rpb24oYSl7Yj1udWxsO3JldHVybiBhfSkudGhlbihlYSkuY2F0Y2goZnVuY3Rpb24oYSl7dGhpcy5oLmdldEJvb2woImFib3J0X2ZldGNoX29uX25ldF9lcnJvciIsITEpJiZoJiYodGhpcy5hLmFib3J0KCksdGhpcy53PSEwKTtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYSl9LmJpbmQodGhpcykpLGZ1bmN0aW9uKCl7b2IodGhpcywiU2VnbWVudEZhaWxlZCIsYSk7CmImJihiLmNhbmNlbCgiYWJvcnQiKSxiPW51bGwsaCYmKHRoaXMuYS5hYm9ydCgpLHRoaXMudz0hMCkpO3ooKTtyZXR1cm4gdGhpcy5iYigpfS5iaW5kKHRoaXMpXX0pKSk6a2IodGhpcy5mLEoodGhpcyxmdW5jdGlvbigpe3JldHVyblt3LnRoZW4oZnVuY3Rpb24oYil7b2IodGhpcywiU2VnbWVudEZldGNoZWQiLGEpO2VhKGIpO3JldHVybiB3Yih0aGlzLGIsYSxsKX0uYmluZCh0aGlzKSksZnVuY3Rpb24oKXtvYih0aGlzLCJTZWdtZW50RmFpbGVkIixhKTt6KCk7cmV0dXJuIHRoaXMuYmIoKX0uYmluZCh0aGlzKV19KSk7dmFyIEFhPTA9PXRoaXMuYS5idWZmZXJlZC5sZW5ndGgmJjA9PXRoaXMuYi5sZW5ndGgsY2I9bnVsbDtrYih0aGlzLmYsZnVuY3Rpb24oKXtpZigwPT10aGlzLmEuYnVmZmVyZWQubGVuZ3RoJiYhdGhpcy5WKXt2YXIgYj1FcnJvcigiRmFpbGVkIHRvIGJ1ZmZlciBzZWdtZW50ICgiK3RoaXMuZysiKS4iKTtiLnR5cGU9InN0cmVhbSI7cmV0dXJuW1Byb21pc2UucmVqZWN0KGIpXX10aGlzLmEuYnVmZmVyZWQubGVuZ3RoJiYKQWEmJihiPWEuc3RhcnRUaW1lLGNiPXRoaXMuYS5idWZmZXJlZC5zdGFydCgwKS1iKTtiPXliKHRoaXMuYixhLnN0YXJ0VGltZSk7MDw9Yj90aGlzLmIuc3BsaWNlKGIrMSwwLGEpOnRoaXMuYi5wdXNoKGEpfS5iaW5kKHRoaXMpKTt0aGlzLnU9MDtyZXR1cm4gemIodGhpcykudGhlbihmdW5jdGlvbigpe2smJmsubG9nKCk7cmV0dXJuIFByb21pc2UucmVzb2x2ZSh7VzpjYixXYzpILEg6YS5lbmRUaW1lLWEuc3RhcnRUaW1lLERjOmRhfSl9LmJpbmQodGhpcyksZnVuY3Rpb24oYSl7ayYmay5zZXRFcnJvcihhKS5sb2coKTthPUFiKGEsInRhc2siLCJBbiB1bmtub3duIHRhc2sgZXJyb3Igb2NjdXJyZWQuIik7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfS5iaW5kKHRoaXMpKX07CmZ1bmN0aW9uIHhiKGEsYixjLGQpe3ZhciBlPW5ldyBBcnJheUJ1ZmZlcigwKSxmPW5ldyBBcnJheUJ1ZmZlcigwKSxnPWZ1bmN0aW9uKCl7cmV0dXJuIGIucmVhZCgpLnRoZW4oZnVuY3Rpb24oYSl7dmFyIGI9YS52YWx1ZTthPWEuZG9uZTtpZih0aGlzLnd8fGEmJjA9PT1mLmJ5dGVMZW5ndGgpcmV0dXJuIGU7aWYoIWEmJiFiKXJldHVybiBnKCk7YiYmKGIgaW5zdGFuY2VvZiBVaW50OEFycmF5JiYoYj1iLmJ1ZmZlciksZj1jb25jYXRBcnJheUJ1ZmZlcihmLGIpKTtyZXR1cm4gZi5ieXRlTGVuZ3RoPj1kfHxhPyh0aGlzLmkmJnRoaXMuaS5ub3RpZnlCeXRlc0NvbnN1bWVkKGYuYnl0ZUxlbmd0aCksb2IodGhpcywiU2VnbWVudEZldGNoZWQiLGMpLGU9Y29uY2F0QXJyYXlCdWZmZXIoZSxmKSxiPWYsZj1uZXcgQXJyYXlCdWZmZXIoMCksd2IodGhpcyxiLGMpLnRoZW4oZykpOmcoKX0uYmluZCh0aGlzKSl9LmJpbmQoYSk7cmV0dXJuIGcoKX0KZnVuY3Rpb24gQmIoYSl7aWYoYS5mKXt2YXIgYj1FcnJvcigiQ2Fubm90IGNsZWFyICgiK2EuZysiKTogcHJldmlvdXMgb3BlcmF0aW9uIG5vdCBjb21wbGV0ZS4iKTthLm8+PWEuSz8oYi50eXBlPSJzdHJlYW0iLGEubz0wKTooYS5vKyssYi50eXBlPSJhYm9ydGVkIik7cmV0dXJuIFByb21pc2UucmVqZWN0KGIpfWEuZj1uZXcgamI7a2IoYS5mLGZ1bmN0aW9uKCl7dmFyIGE7YTppZigwPT10aGlzLmEuYnVmZmVyZWQubGVuZ3RoKWE9UHJvbWlzZS5yZXNvbHZlKCk7ZWxzZXt0cnl7dGhpcy5hLnJlbW92ZSgwLHRoaXMuQS5kdXJhdGlvbil9Y2F0Y2goYil7Yj1BYihiLCJjbGVhcl9idWZmZXIiLCJBbiBlcnJvciBvY2N1cmVkIHdoZW4gY2xlYXJpbmcgdGhlIGJ1ZmZlci4iKTthPVByb21pc2UucmVqZWN0KGIpO2JyZWFrIGF9dGhpcy5iPVtdO2E9dGhpcy5jPW5ldyBJfXJldHVyblthLHRoaXMuYmIuYmluZCh0aGlzKV19LmJpbmQoYSkpO2Eubz0wO3JldHVybiB6YihhKX0KZnVuY3Rpb24gQ2IoYSxiKXtpZihhLmYpe3ZhciBjPUVycm9yKCJDYW5ub3QgY2xlYXJBZnRlciAoIithLmcrIik6IHByZXZpb3VzIG9wZXJhdGlvbiBub3QgY29tcGxldGUuIik7Yy50eXBlPSJzdHJlYW0iO3JldHVybiBQcm9taXNlLnJlamVjdChjKX1hLmY9bmV3IGpiO2tiKGEuZixmdW5jdGlvbigpe3JldHVybltEYih0aGlzLGIpLHRoaXMuYmIuYmluZCh0aGlzKV19LmJpbmQoYSkpO3JldHVybiB6YihhKX1mdW5jdGlvbiBFYihhLGIpe2EuYz1uZXcgSTt2YXIgYz1iLTU7aWYoMDxjKXt0cnl7YS5hLnJlbW92ZSgwLGMpfWNhdGNoKGQpe3JldHVybiBkPUFiKGQsImNsZWFyX2J1ZmZlciIsIkFuIGVycm9yIG9jY3VyZWQgd2hlbiBjbGVhcmluZyB0aGUgYnVmZmVyLiIpLFByb21pc2UucmVqZWN0KGQpfWM9RmIoYSxjKTswPGMmJihhLmI9YS5iLnNsaWNlKGMsYS5iLmxlbmd0aCkpfWVsc2UgYS5jLnJlc29sdmUoKTtyZXR1cm4gYS5jfQpuLmFib3J0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZj90aGlzLmYuYWJvcnQoKTpQcm9taXNlLnJlc29sdmUoKX07ZnVuY3Rpb24gR2IoYSl7Zm9yKHZhciBiPWEuY3VycmVudFRpbWUsYz1iLGQ9MDtkPGEuYnVmZmVyZWQubGVuZ3RoO2QrKylpZihiPD1hLmJ1ZmZlcmVkLnN0YXJ0KGQpKXtjPWEuYnVmZmVyZWQuc3RhcnQoZCk7YnJlYWt9cmV0dXJuIGN9ZnVuY3Rpb24gSGIoYSxiKXtmb3IodmFyIGM9Yi5jdXJyZW50VGltZSxkPTA7ZDxiLmJ1ZmZlcmVkLmxlbmd0aDtkKyspaWYoYz49Yi5idWZmZXJlZC5zdGFydChkKSYmYzw9Yi5idWZmZXJlZC5lbmQoZCktYS5QKXJldHVybiExO3JldHVybiEwfQpmdW5jdGlvbiB6YihhKXthLmYuc3RhcnQoKTtyZXR1cm4gYS5mLmxiLnRoZW4oSihhLGZ1bmN0aW9uKCl7dGhpcy5mPW51bGx9KSkuY2F0Y2goSihhLGZ1bmN0aW9uKGEpe3RoaXMuZj1udWxsO2E9QWIoYSwidGFzayIsIkFuIHVua25vd24gdGFzayBlcnJvciBvY2N1cnJlZC4iKTtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYSl9KSl9CmZ1bmN0aW9uIHdiKGEsYixjLGQpe3ZhciBlO2lmKGEubCl7dmFyIGY9Yz91YihjLnVybCk6ImluaXQiO2U9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigiYXBwZW5kIikuc2V0UmVhc29uKGQpLnNldFJlc291cmNlKGYpLnNldFR5cGUodmIoYSkpLnNldExlbmd0aChiLmJ5dGVMZW5ndGgpLnN0YXJ0KCk7bnVsbCE9PWMmJihlPWUuc2V0U2VnbWVudFN0YXJ0VGltZSgxRTMqYy5zdGFydFRpbWUpLnNldFNlZ21lbnRFbmRUaW1lKDFFMypjLmVuZFRpbWUpKTthLmomJihlPWUuc2V0UGFyZW50TG9nZ2VyKGEuaikpfXRyeXthLmEuYXBwZW5kQnVmZmVyKGIpfWNhdGNoKGcpe3JldHVybiBhLmguZ2V0Qm9vbCgibnVrZV9zb3VyY2VfYnVmZmVyX29uX3F1b3RhX2V4Y2VlZGVkX2VyciIsITApJiZnIGluc3RhbmNlb2YgRE9NRXhjZXB0aW9uJiZnLmNvZGU9PT1ET01FeGNlcHRpb24uUVVPVEFfRVhDRUVERURfRVJSJiZnLm1lc3NhZ2UubWF0Y2goL14uKlNvdXJjZUJ1ZmZlci4qZnVsbC4qZnJlZVxzc3BhY2UuKiQvKSYmCihnLnR5cGU9InNvdXJjZWJ1ZmZlcl9mdWxsIiksZSYmZS5zZXRFcnJvcihnKS5sb2coKSxQcm9taXNlLnJlamVjdChnKX1hLmM9bmV3IEk7YS5tPWM7cmV0dXJuIGEuYy50aGVuKGZ1bmN0aW9uKCl7ZSYmZS5sb2coKX0sZnVuY3Rpb24oYSl7ZSYmZS5zZXRFcnJvcihhKS5sb2coKTtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYSl9KX1uLmFkPWZ1bmN0aW9uKGEpe2E9YS5lcnJvcnx8RXJyb3IoIkNhbGwgdG8gYXBwZW5kQnVmZmVyIGZhaWxlZCB0byBhcHBlbmQgdGhlIHNlZ21lbnQuIik7YT1BYihhLCJzdHJlYW0iLCJDYWxsIHRvIGFwcGVuZEJ1ZmZlciBmYWlsZWQgdG8gYXBwZW5kIHRoZSBzZWdtZW50LiIpO3RoaXMuYyYmdGhpcy5jLnJlamVjdChhKX07CmZ1bmN0aW9uIERiKGEsYil7aWYoMD09YS5hLmJ1ZmZlcmVkLmxlbmd0aClyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7dmFyIGM9RmIoYSxiKTtpZigtMT09Y3x8Yz09YS5iLmxlbmd0aC0xKXJldHVybiBQcm9taXNlLnJlc29sdmUoKTt0cnl7YS5hLnJlbW92ZShhLmJbYysxXS5zdGFydFRpbWUsYS5BLmR1cmF0aW9uKX1jYXRjaChkKXtyZXR1cm4gUHJvbWlzZS5yZWplY3QoZCl9YS5iPWEuYi5zbGljZSgwLGMrMSk7YS5jPW5ldyBJO3JldHVybiBhLmN9bi5iYj1mdW5jdGlvbigpe2lmKHRoaXMuYyl7aWYoIm9wZW4iPT10aGlzLkEucmVhZHlTdGF0ZSl7dmFyIGE9RXJyb3IoIlByZXZpb3VzIG9wZXJhdGlvbiBhYm9ydGVkLiIpO2EudHlwZT0iYWJvcnRlZCI7dGhpcy5jLnJlamVjdChhKTt0aGlzLmEuYWJvcnQoKTt0aGlzLlImJih0aGlzLkY9ITApO3RoaXMuYz1uZXcgSX1yZXR1cm4gdGhpcy5jfXJldHVybiBQcm9taXNlLnJlc29sdmUoKX07Cm4ubmQ9ZnVuY3Rpb24oKXt0aGlzLmMmJih0aGlzLm0mJihvYih0aGlzLCJTZWdtZW50QXBwZW5kZWQiLHRoaXMubSksdGhpcy5tPW51bGwpLHRoaXMuYy5yZXNvbHZlKCksdGhpcy5jPW51bGwpfTtuLkRkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaX07bmIucHJvdG90eXBlLmdldFN0cmVhbVByb2dyZXNzVHJhY2tlcj1uYi5wcm90b3R5cGUuRGQ7ZnVuY3Rpb24gdmIoYSl7cmV0dXJuInYiPT09YS5nLmNoYXJBdCgwKT8idmlkZW8iOiJhIj09PWEuZy5jaGFyQXQoMCk/ImF1ZGlvIjpudWxsfWZ1bmN0aW9uIEFiKGEsYixjKXthfHwoYT1FcnJvcihjKSk7YS50eXBlfHwoYS50eXBlPWIpO2EubWVzc2FnZXx8KGEubWVzc2FnZT1jKTtyZXR1cm4gYX0KZnVuY3Rpb24gRmIoYSxiKXtpZihhLmguZ2V0Qm9vbCgic2JtX3VzZV9zZWdtZW50X2luZGV4X3RvX2ZpbmRfdGltZXN0YW1wcyIsITEpJiZhLkQpe3ZhciBjPWEuRC5maW5kKGIpO2lmKGMpcmV0dXJuIHliKGEuYixjLnN0YXJ0VGltZSl9ZWxzZSByZXR1cm4geWIoYS5iLGIpO3JldHVybi0xfTtmdW5jdGlvbiBJYihhKXtyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLGEpfXEoInNoYWthLnV0aWwuVWludDhBcnJheVV0aWxzLnRvU3RyaW5nIixJYik7ZnVuY3Rpb24gSmIoYSl7Zm9yKHZhciBiPW5ldyBVaW50OEFycmF5KGEubGVuZ3RoKSxjPTA7YzxhLmxlbmd0aDsrK2MpYltjXT1hLmNoYXJDb2RlQXQoYyk7cmV0dXJuIGJ9cSgic2hha2EudXRpbC5VaW50OEFycmF5VXRpbHMuZnJvbVN0cmluZyIsSmIpO3EoInNoYWthLnV0aWwuVWludDhBcnJheVV0aWxzLnRvQmFzZTY0IixmdW5jdGlvbihhLGIpe3ZhciBjPXZvaWQgMD09Yj8hMDpiLGQ9d2luZG93LmJ0b2EoSWIoYSkpLnJlcGxhY2UoL1wrL2csIi0iKS5yZXBsYWNlKC9cLy9nLCJfIik7cmV0dXJuIGM/ZDpkLnJlcGxhY2UoLz0qJC8sIiIpfSk7ZnVuY3Rpb24gS2IoYSl7cmV0dXJuIEpiKHdpbmRvdy5hdG9iKGEucmVwbGFjZSgvLS9nLCIrIikucmVwbGFjZSgvXy9nLCIvIikpKX0KcSgic2hha2EudXRpbC5VaW50OEFycmF5VXRpbHMuZnJvbUJhc2U2NCIsS2IpO3EoInNoYWthLnV0aWwuVWludDhBcnJheVV0aWxzLmZyb21IZXgiLGZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1uZXcgVWludDhBcnJheShhLmxlbmd0aC8yKSxjPTA7YzxhLmxlbmd0aDtjKz0yKWJbYy8yXT13aW5kb3cucGFyc2VJbnQoYS5zdWJzdHIoYywyKSwxNik7cmV0dXJuIGJ9KTtmdW5jdGlvbiBMYihhKXtmb3IodmFyIGI9IiIsYz0wO2M8YS5sZW5ndGg7KytjKXt2YXIgZD1hW2NdLnRvU3RyaW5nKDE2KTsxPT1kLmxlbmd0aCYmKGQ9IjAiK2QpO2IrPWR9cmV0dXJuIGJ9cSgic2hha2EudXRpbC5VaW50OEFycmF5VXRpbHMudG9IZXgiLExiKTtmdW5jdGlvbiBNYShhLGIpe2lmKCFhJiYhYilyZXR1cm4hMDtpZighYXx8IWJ8fGEubGVuZ3RoIT1iLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIGM9MDtjPGEubGVuZ3RoOysrYylpZihhW2NdIT1iW2NdKXJldHVybiExO3JldHVybiEwfTtmdW5jdGlvbiBNYigpe3RoaXMuaT10aGlzLmE9IiI7dGhpcy53aXRoQ3JlZGVudGlhbHM9ITE7dGhpcy5vPXRoaXMuZj1udWxsO3RoaXMuaj10aGlzLmg9ITE7dGhpcy5tPXRoaXMuZz0iIjt0aGlzLmM9bnVsbDt0aGlzLmI9W119ZnVuY3Rpb24gTmIoYSxiKXt2YXIgYz1uZXcgTWI7Yy5hPWEuYTtjLmk9YS5pO2Mud2l0aENyZWRlbnRpYWxzPWEud2l0aENyZWRlbnRpYWxzO2MuZj1hLmY7Yy5vPWEubztjLmg9YS5oO2Muaj1hLmo7Yy5nPWEuZztjLm09YS5tO2MuYz1hLmM/bmV3IFVpbnQ4QXJyYXkoYS5jLmJ1ZmZlcik6bnVsbDtPYihjLGEuYik7T2IoYyxiLmIpO3JldHVybiBjfWZ1bmN0aW9uIE9iKGEsYil7dmFyIGM9YS5iLmNvbmNhdChiLm1hcChmdW5jdGlvbihhKXtyZXR1cm57aW5pdERhdGE6bmV3IFVpbnQ4QXJyYXkoYS5pbml0RGF0YS5idWZmZXIpLGluaXREYXRhVHlwZTphLmluaXREYXRhVHlwZX19KSk7YS5iPXdhKGMpfQpmdW5jdGlvbiB4YShhLGIpe3JldHVybiBhLmluaXREYXRhVHlwZT09Yi5pbml0RGF0YVR5cGUmJk1hKGEuaW5pdERhdGEsYi5pbml0RGF0YSl9O2Z1bmN0aW9uIFBiKGEsYixjLGQpe3RoaXMud2l0aENyZWRlbnRpYWxzPWM7dGhpcy5hPVtdO2QmJnRoaXMuYS5wdXNoKGQpfXEoInNoYWthLnBsYXllci5Ecm1TY2hlbWVJbmZvIixQYik7UGIuRGlzdGluY3RpdmVJZGVudGlmaWVyPXtPUFRJT05BTDowLFJFUVVJUkVEOjF9O1BiLlBlcnNpc3RlbnRTdGF0ZT17T1BUSU9OQUw6MCxSRVFVSVJFRDoxfTtQYi5jcmVhdGVVbmVuY3J5cHRlZD1mdW5jdGlvbigpe3JldHVybiBuZXcgUGIoMCwwLCExLG51bGwpfTtmdW5jdGlvbiBRYihhKXt0aGlzLnN5c3RlbUlkcz1bXTt0aGlzLmNlbmNLZXlJZHM9W107dGhpcy5hPVtdO2E9bmV3IEJhKG5ldyBEYXRhVmlldyhhLmJ1ZmZlcikpO3RyeXtmb3IoO0RhKGEpOyl7dmFyIGI9YS5hLGM9dihhKSxkPXYoYSk7MT09Yz9jPUZhKGEpOjA9PWMmJihjPWEuYi5ieXRlTGVuZ3RoLWIpO2lmKDE4ODY2MTQzNzYhPWQpSGEoYSxjLShhLmEtYikpO2Vsc2V7dmFyIGU9RWEoYSk7aWYoMTxlKUhhKGEsYy0oYS5hLWIpKTtlbHNle0hhKGEsMyk7dmFyIGY9TGIoR2EoYSkpLGc9W107aWYoMDxlKWZvcih2YXIgaD12KGEpLGs9MDtrPGg7KytrKXt2YXIgbD1MYihHYShhKSk7Zy5wdXNoKGwpfXZhciBtPXYoYSk7SGEoYSxtKTt0aGlzLmNlbmNLZXlJZHMucHVzaC5hcHBseSh0aGlzLmNlbmNLZXlJZHMsZyk7dGhpcy5zeXN0ZW1JZHMucHVzaChmKTt0aGlzLmEucHVzaCh7c3RhcnQ6YixlbmQ6YS5hLTF9KTthLmEhPWIrYyYmSGEoYSxjLShhLmEtYikpfX19fWNhdGNoKHApe319Cjt2YXIgUmI9L14oPzooW146Lz8jLl0rKTopPyg/OlwvXC8oPzooW14vPyNdKilAKT8oW14vIz9dKj8pKD86OihbMC05XSspKT8oPz1bLyM/XXwkKSk/KFtePyNdKyk/KD86XD8oW14jXSopKT8oPzojKC4qKSk/JC87ZnVuY3Rpb24gTChhKXt2YXIgYjthIGluc3RhbmNlb2YgTD8oU2IodGhpcyxhLnphKSx0aGlzLlVhPWEuVWEsdGhpcy5oYT1hLmhhLFRiKHRoaXMsYS5YYSksdGhpcy51YT1hLnVhLFViKHRoaXMsYS5hLmNsb25lKCkpLHRoaXMuTWE9YS5NYSk6YSYmKGI9U3RyaW5nKGEpLm1hdGNoKFJiKSk/KFNiKHRoaXMsYlsxXXx8IiIsITApLHRoaXMuVWE9VmIoYlsyXXx8IiIpLHRoaXMuaGE9VmIoYlszXXx8IiIsITApLFRiKHRoaXMsYls0XSksdGhpcy51YT1WYihiWzVdfHwiIiwhMCksVWIodGhpcyxiWzZdfHwiIiwhMCksdGhpcy5NYT1WYihiWzddfHwiIikpOnRoaXMuYT1uZXcgV2IobnVsbCl9bj1MLnByb3RvdHlwZTtuLnphPSIiO24uVWE9IiI7bi5oYT0iIjtuLlhhPW51bGw7bi51YT0iIjtuLk1hPSIiOwpuLnRvU3RyaW5nPWZ1bmN0aW9uKCl7dmFyIGE9W10sYj10aGlzLnphO2ImJmEucHVzaChYYihiLFliLCEwKSwiOiIpO2lmKGI9dGhpcy5oYSl7YS5wdXNoKCIvLyIpO3ZhciBjPXRoaXMuVWE7YyYmYS5wdXNoKFhiKGMsWWIsITApLCJAIik7YS5wdXNoKGVuY29kZVVSSUNvbXBvbmVudChiKS5yZXBsYWNlKC8lMjUoWzAtOWEtZkEtRl17Mn0pL2csIiUkMSIpKTtiPXRoaXMuWGE7bnVsbCE9YiYmYS5wdXNoKCI6IixTdHJpbmcoYikpfWlmKGI9dGhpcy51YSl0aGlzLmhhJiYiLyIhPWIuY2hhckF0KDApJiZhLnB1c2goIi8iKSxhLnB1c2goWGIoYiwiLyI9PWIuY2hhckF0KDApP1piOiRiLCEwKSk7KGI9dGhpcy5hLnRvU3RyaW5nKCkpJiZhLnB1c2goIj8iLGIpOyhiPXRoaXMuTWEpJiZhLnB1c2goIiMiLFhiKGIsYWMpKTtyZXR1cm4gYS5qb2luKCIiKX07Cm4ucmVzb2x2ZT1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmNsb25lKCk7ImRhdGEiPT09Yi56YSYmKGI9bmV3IEwpO3ZhciBjPSEhYS56YTtjP1NiKGIsYS56YSk6Yz0hIWEuVWE7Yz9iLlVhPWEuVWE6Yz0hIWEuaGE7Yz9iLmhhPWEuaGE6Yz1udWxsIT1hLlhhO3ZhciBkPWEudWE7aWYoYylUYihiLGEuWGEpO2Vsc2UgaWYoYz0hIWEudWEpe2lmKCIvIiE9ZC5jaGFyQXQoMCkpaWYodGhpcy5oYSYmIXRoaXMudWEpZD0iLyIrZDtlbHNle3ZhciBlPWIudWEubGFzdEluZGV4T2YoIi8iKTstMSE9ZSYmKGQ9Yi51YS5zdWJzdHIoMCxlKzEpK2QpfWlmKCIuLiI9PWR8fCIuIj09ZClkPSIiO2Vsc2UgaWYoLTEhPWQuaW5kZXhPZigiLi8iKXx8LTEhPWQuaW5kZXhPZigiLy4iKSl7Zm9yKHZhciBlPTA9PWQubGFzdEluZGV4T2YoIi8iLDApLGQ9ZC5zcGxpdCgiLyIpLGY9W10sZz0wO2c8ZC5sZW5ndGg7KXt2YXIgaD1kW2crK107Ii4iPT1oP2UmJmc9PWQubGVuZ3RoJiZmLnB1c2goIiIpOiIuLiI9PQpoPygoMTxmLmxlbmd0aHx8MT09Zi5sZW5ndGgmJiIiIT1mWzBdKSYmZi5wb3AoKSxlJiZnPT1kLmxlbmd0aCYmZi5wdXNoKCIiKSk6KGYucHVzaChoKSxlPSEwKX1kPWYuam9pbigiLyIpfX1jP2IudWE9ZDpjPSIiIT09YS5hLnRvU3RyaW5nKCk7Yz9VYihiLGEuYS5jbG9uZSgpKTpjPSEhYS5NYTtjJiYoYi5NYT1hLk1hKTtyZXR1cm4gYn07bi5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgTCh0aGlzKX07ZnVuY3Rpb24gU2IoYSxiLGMpe2EuemE9Yz9WYihiLCEwKTpiO2EuemEmJihhLnphPWEuemEucmVwbGFjZSgvOiQvLCIiKSl9ZnVuY3Rpb24gVGIoYSxiKXtpZihiKXtiPU51bWJlcihiKTtpZihpc05hTihiKXx8MD5iKXRocm93IEVycm9yKCJCYWQgcG9ydCBudW1iZXIgIitiKTthLlhhPWJ9ZWxzZSBhLlhhPW51bGx9ZnVuY3Rpb24gVWIoYSxiLGMpe2IgaW5zdGFuY2VvZiBXYj9hLmE9YjooY3x8KGI9WGIoYixiYykpLGEuYT1uZXcgV2IoYikpfQpmdW5jdGlvbiBWYihhLGIpe3JldHVybiBhP2I/ZGVjb2RlVVJJKGEpOmRlY29kZVVSSUNvbXBvbmVudChhKToiIn1mdW5jdGlvbiBYYihhLGIsYyl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBhPyhhPWVuY29kZVVSSShhKS5yZXBsYWNlKGIsY2MpLGMmJihhPWEucmVwbGFjZSgvJTI1KFswLTlhLWZBLUZdezJ9KS9nLCIlJDEiKSksYSk6bnVsbH1mdW5jdGlvbiBjYyhhKXthPWEuY2hhckNvZGVBdCgwKTtyZXR1cm4iJSIrKGE+PjQmMTUpLnRvU3RyaW5nKDE2KSsoYSYxNSkudG9TdHJpbmcoMTYpfXZhciBZYj0vWyNcL1w/QF0vZywkYj0vW1wjXD86XS9nLFpiPS9bXCNcP10vZyxiYz0vW1wjXD9AXS9nLGFjPS8jL2c7ZnVuY3Rpb24gV2IoYSl7dGhpcy5iPWF8fG51bGx9V2IucHJvdG90eXBlLmE9bnVsbDtXYi5wcm90b3R5cGUuYz1udWxsOwpmdW5jdGlvbiBkYyhhLGIsYyl7aWYoIWEuYSYmKGEuYT17fSxhLmM9MCxhLmIpKWZvcih2YXIgZD1hLmIuc3BsaXQoIiYiKSxlPTA7ZTxkLmxlbmd0aDtlKyspe3ZhciBmPWRbZV0uaW5kZXhPZigiPSIpLGc9bnVsbCxoPW51bGw7MDw9Zj8oZz1kW2VdLnN1YnN0cmluZygwLGYpLGg9ZFtlXS5zdWJzdHJpbmcoZisxKSk6Zz1kW2VdO2c9ZGVjb2RlVVJJQ29tcG9uZW50KGcucmVwbGFjZSgvXCsvZywiICIpKTtoPWh8fCIiO2RjKGEsZyxkZWNvZGVVUklDb21wb25lbnQoaC5yZXBsYWNlKC9cKy9nLCIgIikpKX1hLmI9bnVsbDsoZD1hLmEuaGFzT3duUHJvcGVydHkoYikmJmEuYVtiXSl8fChhLmFbYl09ZD1bXSk7ZC5wdXNoKGMpO2EuYysrfQpXYi5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtpZih0aGlzLmIpcmV0dXJuIHRoaXMuYjtpZighdGhpcy5hKXJldHVybiIiO3ZhciBhPVtdLGI7Zm9yKGIgaW4gdGhpcy5hKWZvcih2YXIgYz1lbmNvZGVVUklDb21wb25lbnQoYiksZD10aGlzLmFbYl0sZT0wO2U8ZC5sZW5ndGg7ZSsrKXt2YXIgZj1jOyIiIT09ZFtlXSYmKGYrPSI9IitlbmNvZGVVUklDb21wb25lbnQoZFtlXSkpO2EucHVzaChmKX1yZXR1cm4gdGhpcy5iPWEuam9pbigiJiIpfTtXYi5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgV2I7YS5iPXRoaXMuYjtpZih0aGlzLmEpe3ZhciBiPXt9LGM7Zm9yKGMgaW4gdGhpcy5hKWJbY109dGhpcy5hW2NdLmNvbmNhdCgpO2EuYT1iO2EuYz10aGlzLmN9cmV0dXJuIGF9O2Z1bmN0aW9uIGVjKGEsYixjKXt2YXIgZD1hLmluZGV4T2YoIjw/eG1sIik7MDw9ZCYmKGE9YS5zdWJzdHIoZCkpO2E9KG5ldyBET01QYXJzZXIpLnBhcnNlRnJvbVN0cmluZyhhLCJ0ZXh0L3htbCIpO2lmKCFhKXJldHVybiBudWxsOyJzdHJpbmciPT09dHlwZW9mIGImJihiPVtuZXcgTChiKV0pO2I9Ynx8W25ldyBMKCIiKV07Yz1jfHxbbmV3IEwoIiIpXTtyZXR1cm4gTSh7QWM6YixiYXNlVXJsOmN9LGEsZmMpfXEoInNoYWthLmRhc2gubXBkLnBhcnNlTXBkIixlYyk7CmZ1bmN0aW9uIGZjKCl7dGhpcy5pZD10aGlzLnVybD1udWxsO3RoaXMudHlwZT0ic3RhdGljIjt0aGlzLkZCSXNMaXZlVGVtcGxhdGVkPXRoaXMuRkJXYXNMaXZlPXRoaXMubWFuaWZlc3RJc0xpdmVTdHJlYW1pbmc9ITE7dGhpcy5GQk1hbmlmZXN0SWRlbnRpZmllcj0iIjt0aGlzLkZCTVM9ITE7dGhpcy51PXRoaXMuYmFzZVVybD10aGlzLkFjPW51bGw7dGhpcy5qPXRoaXMuaT10aGlzLmg9MDt0aGlzLmI9bnVsbDt0aGlzLm09NTt0aGlzLmY9dGhpcy5jPXRoaXMuZz1udWxsO3RoaXMubz0xO3RoaXMubGFzdFZpZGVvRnJhbWVUcz10aGlzLmN1cnJlbnRTZXJ2ZXJUaW1lTXM9MDt0aGlzLmE9W119ZnVuY3Rpb24gZ2MoKXt0aGlzLmY9dGhpcy5jPXRoaXMuYj10aGlzLmJhc2VVcmw9dGhpcy5kdXJhdGlvbj10aGlzLnN0YXJ0PXRoaXMuaWQ9bnVsbDt0aGlzLmE9W119CmZ1bmN0aW9uIGhjKCl7dGhpcy5jPXRoaXMuY29kZWNzPXRoaXMubWltZVR5cGU9dGhpcy5oZWlnaHQ9dGhpcy53aWR0aD10aGlzLmNvbnRlbnRUeXBlPXRoaXMubGFuZz10aGlzLmdyb3VwPXRoaXMuaWQ9bnVsbDt0aGlzLmY9ITE7dGhpcy5pPXRoaXMuaD10aGlzLmc9dGhpcy5iYXNlVXJsPW51bGw7dGhpcy5qPVtdO3RoaXMuYT1bXTt0aGlzLmI9bnVsbH1mdW5jdGlvbiBpYygpe3RoaXMudmFsdWU9bnVsbH1mdW5jdGlvbiBqYygpe3RoaXMubGFuZz10aGlzLmE9bnVsbH1mdW5jdGlvbiBrYygpe3RoaXMuY29udGVudFR5cGU9dGhpcy5sYW5nPXRoaXMuaWQ9bnVsbH1mdW5jdGlvbiBsYygpe3RoaXMuZGF0YT1udWxsfWZ1bmN0aW9uIG1jKCl7dGhpcy5kYXRhPW51bGx9CmZ1bmN0aW9uIG5jKCl7dGhpcy5hPXRoaXMuYj10aGlzLmY9dGhpcy5pPXRoaXMuYmFzZVVybD10aGlzLmo9dGhpcy5mcmFtZVJhdGU9dGhpcy51PXRoaXMubz10aGlzLm09dGhpcy5mYlF1YWxpdHlDbGFzcz10aGlzLmZiUXVhbGl0eUxhYmVsPXRoaXMuaD10aGlzLmc9dGhpcy5jb2RlY3M9dGhpcy5taW1lVHlwZT10aGlzLmhlaWdodD10aGlzLndpZHRoPXRoaXMuYmFuZHdpZHRoPXRoaXMubGFuZz10aGlzLmlkPW51bGw7dGhpcy5jPVtdfWZ1bmN0aW9uIG9jKCl7dGhpcy52YWx1ZT10aGlzLmE9bnVsbH1vYy5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgb2M7YS5hPXRoaXMuYTthLnZhbHVlPXRoaXMudmFsdWU7cmV0dXJuIGF9O29jLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMuYT1OKGIsInNjaGVtZUlkVXJpIixPLHRoaXMuYSk7dGhpcy52YWx1ZT1OKGIsInZhbHVlIixPLHRoaXMudmFsdWUpfTsKZnVuY3Rpb24gcGMoKXt0aGlzLmI9dGhpcy5hPXRoaXMuZj10aGlzLmM9bnVsbH1mdW5jdGlvbiBxYygpe3RoaXMucGFyc2VkUHNzaD10aGlzLnBzc2hCb3g9bnVsbH1mdW5jdGlvbiByYygpe3RoaXMudXJsPW51bGx9ZnVuY3Rpb24gc2MoKXt0aGlzLnVybD1udWxsfWZ1bmN0aW9uIHRjKCl7dGhpcy5iYXNlVXJsPW51bGw7dGhpcy5zPTE7dGhpcy5jPXRoaXMuYj10aGlzLmY9dGhpcy5hPXRoaXMuTD1udWxsfXRjLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyB0YzthLmJhc2VVcmw9dWModGhpcy5iYXNlVXJsKTthLnM9dGhpcy5zO2EuTD10aGlzLkw7YS5hPXZjKHRoaXMuYSk7YS5mPXZjKHRoaXMuZik7YS5iPXZjKHRoaXMuYik7YS5jPXZjKHRoaXMuYyk7cmV0dXJuIGF9O2Z1bmN0aW9uIHdjKCl7dGhpcy5hPXRoaXMudXJsPW51bGx9CndjLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyB3YzthLnVybD11Yyh0aGlzLnVybCk7YS5hPXZjKHRoaXMuYSk7cmV0dXJuIGF9O2Z1bmN0aW9uIHhjKCl7dGhpcy5hPXRoaXMudXJsPW51bGx9eGMucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IHhjO2EudXJsPXVjKHRoaXMudXJsKTthLmE9dmModGhpcy5hKTtyZXR1cm4gYX07ZnVuY3Rpb24geWMoKXt0aGlzLmJhc2VVcmw9bnVsbDt0aGlzLnM9MTt0aGlzLkg9dGhpcy5MPW51bGw7dGhpcy5jPTA7dGhpcy5iPW51bGw7dGhpcy5hPVtdO3RoaXMuQz1udWxsfXljLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyB5YzthLmJhc2VVcmw9dWModGhpcy5iYXNlVXJsKTthLnM9dGhpcy5zO2EuTD10aGlzLkw7YS5IPXRoaXMuSDthLmM9dGhpcy5jO2EuYj12Yyh0aGlzLmIpO2EuYT11Yyh0aGlzLmEpfHxbXTthLkM9dmModGhpcy5DKTtyZXR1cm4gYX07CmZ1bmN0aW9uIHpjKCl7dGhpcy5hPXRoaXMuYj1udWxsfXpjLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyB6YzthLmI9dWModGhpcy5iKTthLmE9dmModGhpcy5hKTtyZXR1cm4gYX07ZnVuY3Rpb24gQWMoKXt0aGlzLnM9MTt0aGlzLkg9dGhpcy5MPW51bGw7dGhpcy5iPTA7dGhpcy5DPXRoaXMuYz10aGlzLmE9dGhpcy5mPW51bGx9QWMucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IEFjO2Eucz10aGlzLnM7YS5MPXRoaXMuTDthLkg9dGhpcy5IO2EuYj10aGlzLmI7YS5mPXRoaXMuZjthLmE9dGhpcy5hO2EuYz10aGlzLmM7YS5DPXZjKHRoaXMuQyk7cmV0dXJuIGF9O2Z1bmN0aW9uIEJjKCl7dGhpcy5iPXRoaXMuYT1udWxsO3RoaXMuTj1bXX1CYy5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgQmM7YS5hPXRoaXMuYTthLmI9dGhpcy5iO2EuTj11Yyh0aGlzLk4pfHxbXTtyZXR1cm4gYX07CmZ1bmN0aW9uIENjKCl7dGhpcy5zdGFydFNlZ21lbnRJbmRleD10aGlzLnJlcGVhdD10aGlzLmR1cmF0aW9uPXRoaXMuc3RhcnRUaW1lPW51bGx9Q2MucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IENjO2Euc3RhcnRUaW1lPXRoaXMuc3RhcnRUaW1lO2EuZHVyYXRpb249dGhpcy5kdXJhdGlvbjthLnJlcGVhdD10aGlzLnJlcGVhdDtyZXR1cm4gYX07ZnVuY3Rpb24gRGMoYSxiKXt0aGlzLnFhPWE7dGhpcy5lbmQ9Yn1EYy5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IERjKHRoaXMucWEsdGhpcy5lbmQpfTtmYy5UQUdfTkFNRT0iTVBEIjtnYy5UQUdfTkFNRT0iUGVyaW9kIjtoYy5UQUdfTkFNRT0iQWRhcHRhdGlvblNldCI7aWMuVEFHX05BTUU9IlJvbGUiO2pjLlRBR19OQU1FPSJBY2Nlc3NpYmlsaXR5IjtrYy5UQUdfTkFNRT0iQ29udGVudENvbXBvbmVudCI7bmMuVEFHX05BTUU9IlJlcHJlc2VudGF0aW9uIjtwYy5UQUdfTkFNRT0iQ29udGVudFByb3RlY3Rpb24iOwpxYy5UQUdfTkFNRT0iY2VuYzpwc3NoIjtyYy5UQUdfTkFNRT0iQmFzZVVSTCI7b2MuVEFHX05BTUU9IkF1ZGlvQ2hhbm5lbENvbmZpZ3VyYXRpb24iO3NjLlRBR19OQU1FPSJMb2NhdGlvbiI7dGMuVEFHX05BTUU9IlNlZ21lbnRCYXNlIjt3Yy5UQUdfTkFNRT0iUmVwcmVzZW50YXRpb25JbmRleCI7bGMuVEFHX05BTUU9IkZCSW5pdGlhbGl6YXRpb25CaW5hcnkiO21jLlRBR19OQU1FPSJGQlNlZ21lbnRJbmRleEJpbmFyeSI7eGMuVEFHX05BTUU9IkluaXRpYWxpemF0aW9uIjt5Yy5UQUdfTkFNRT0iU2VnbWVudExpc3QiO3pjLlRBR19OQU1FPSJTZWdtZW50VVJMIjtBYy5UQUdfTkFNRT0iU2VnbWVudFRlbXBsYXRlIjtCYy5UQUdfTkFNRT0iU2VnbWVudFRpbWVsaW5lIjtDYy5UQUdfTkFNRT0iUyI7CmZjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMudXJsPWEuQWM7dGhpcy5pZD1OKGIsImlkIixPKTt0aGlzLnR5cGU9TihiLCJ0eXBlIixPKXx8InN0YXRpYyI7dGhpcy5tYW5pZmVzdElzTGl2ZVN0cmVhbWluZz0iZHluYW1pYyI9PT10aGlzLnR5cGU7dGhpcy5GQldhc0xpdmU9TihiLCJGQldhc0xpdmUiLEVjKXx8ITE7dGhpcy5GQklzTGl2ZVRlbXBsYXRlZD1OKGIsIkZCSXNMaXZlVGVtcGxhdGVkIixFYyl8fCExO3RoaXMuRkJNYW5pZmVzdElkZW50aWZpZXI9TihiLCJGQk1hbmlmZXN0SWRlbnRpZmllciIsTyl8fCIiO3RoaXMuRkJNUz1OKGIsIkZCTVMiLEVjKXx8ITE7VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJvdmVycmlkZV9mYl9pc19saXZlX3RlbXBsYXRlZCIsITEpJiYodGhpcy5GQklzTGl2ZVRlbXBsYXRlZD0hMSk7dGhpcy5iPU4oYiwibWVkaWFQcmVzZW50YXRpb25EdXJhdGlvbiIsRmMpO3RoaXMubT1OKGIsIm1pbkJ1ZmZlclRpbWUiLApGYyx0aGlzLm0pO3RoaXMuZz1OKGIsIm1pbmltdW1VcGRhdGVQZXJpb2QiLEZjLHRoaXMuZyk7dGhpcy5jPU4oYiwiYXZhaWxhYmlsaXR5U3RhcnRUaW1lIixHYyx0aGlzLmMpO3RoaXMuZj1OKGIsInRpbWVTaGlmdEJ1ZmZlckRlcHRoIixGYyx0aGlzLmYpO3RoaXMuY3VycmVudFNlcnZlclRpbWVNcz1OKGIsImN1cnJlbnRTZXJ2ZXJUaW1lTXMiLFApO04oYiwiZmlyc3RBdlRpbWVNcyIsUCk7dGhpcy5sYXN0VmlkZW9GcmFtZVRzPU4oYiwibGFzdFZpZGVvRnJhbWVUcyIsUCk7dGhpcy5mPW51bGw7dGhpcy5vPU4oYiwic3VnZ2VzdGVkUHJlc2VudGF0aW9uRGVsYXkiLEZjLHRoaXMubyk7dGhpcy5oPU4oYiwibG9hcFN0cmVhbVR5cGUiLEhjLHRoaXMuaCk7dGhpcy5pPU4oYiwidXNpbmdBU1JDYXB0aW9ucyIsSGMsdGhpcy5pKTt0aGlzLmo9TihiLCJpc1VzaW5nQXNyQ2FwdGlvbnNFbXBsb3llZURvZ2Zvb2RpbmciLEhjLHRoaXMuaik7dmFyIGM9YS5iYXNlVXJsLGQ9SWModGhpcywKYixyYyk7dGhpcy5iYXNlVXJsPUpjKGMsZCk7aWYoZD1NKHRoaXMsYixzYykpdGhpcy51PUtjKGMsZC51cmwpO3RoaXMuYT1JYyh0aGlzLGIsZ2MpfTtmdW5jdGlvbiBMYyhhLGIsYyxkKXtpZigwIT09YS5hLmxlbmd0aCl7dmFyIGU9bmV3IGhjO2UuY29udGVudFR5cGU9InRleHQiO2UubGFuZz1jfHwiZW4iO2UuZj0hMDtjPW5ldyBuYztjLmJhbmR3aWR0aD0wO2MubWltZVR5cGU9ZHx8InRleHQvdnR0IjtjLmJhc2VVcmw9W25ldyBMKGIpXTtlLmEucHVzaChjKTthLmFbMF0uYS5wdXNoKGUpO01jKGEuYVswXSl9fQpnYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt0aGlzLmlkPU4oYiwiaWQiLE8pO3RoaXMuc3RhcnQ9TihiLCJzdGFydCIsRmMpO3RoaXMuZHVyYXRpb249TihiLCJkdXJhdGlvbiIsRmMpO3ZhciBjPUljKHRoaXMsYixyYyk7dGhpcy5iYXNlVXJsPUpjKGEuYmFzZVVybCxjKTt0aGlzLmI9TSh0aGlzLGIsdGMpO3RoaXMuYz1NKHRoaXMsYix5Yyk7dGhpcy5mPU0odGhpcyxiLEFjKTt0aGlzLmE9SWModGhpcyxiLGhjKTtNYyh0aGlzKX07ZnVuY3Rpb24gTWMoYSl7Zm9yKHZhciBiPVtdLGM9MDtjPGEuYS5sZW5ndGg7KytjKXt2YXIgZD1hLmFbY107bnVsbCE9ZC5ncm91cCYmKGJbZC5ncm91cF09ITApfWZvcihjPTA7YzxhLmEubGVuZ3RoOysrYylpZihkPWEuYVtjXSxudWxsPT1kLmdyb3VwKXtmb3IodmFyIGU9MTsxPT1iW2VdOykrK2U7YltlXT0hMDtkLmdyb3VwPWV9fQpoYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt2YXIgYz1NKHRoaXMsYixrYyl8fHt9LGQ9TSh0aGlzLGIsaWMpO3RoaXMuaWQ9TihiLCJpZCIsTyk7dGhpcy5ncm91cD1OKGIsImdyb3VwIixQKTt0aGlzLmxhbmc9TihiLCJsYW5nIixPLGMubGFuZyk7dGhpcy5jb250ZW50VHlwZT1OKGIsImNvbnRlbnRUeXBlIixPLGMuY29udGVudFR5cGUpO3RoaXMud2lkdGg9TihiLCJ3aWR0aCIsUSk7dGhpcy5oZWlnaHQ9TihiLCJoZWlnaHQiLFEpO3RoaXMubWltZVR5cGU9TihiLCJtaW1lVHlwZSIsTyk7dGhpcy5jb2RlY3M9TihiLCJjb2RlY3MiLE8pO3RoaXMuYz1OKGIsIkZCUHJvamVjdGlvbiIsTyk7dGhpcy5mPWQmJiJtYWluIj09ZC52YWx1ZTt0aGlzLmxhbmcmJih0aGlzLmxhbmc9U2EodGhpcy5sYW5nKSk7Yz1JYyh0aGlzLGIscmMpO3RoaXMuYmFzZVVybD1KYyhhLmJhc2VVcmwsYyk7dGhpcy5qPUljKHRoaXMsYixwYyk7IXRoaXMuY29udGVudFR5cGUmJnRoaXMubWltZVR5cGUmJgoodGhpcy5jb250ZW50VHlwZT10aGlzLm1pbWVUeXBlLnNwbGl0KCIvIilbMF0pO3RoaXMuZz1hLmI/T2ModGhpcyxiLGEuYik6TSh0aGlzLGIsdGMpO3RoaXMuaD1hLmM/T2ModGhpcyxiLGEuYyk6TSh0aGlzLGIseWMpO3RoaXMuaT1hLmY/T2ModGhpcyxiLGEuZik6TSh0aGlzLGIsQWMpO3RoaXMuYT1JYyh0aGlzLGIsbmMpO3RoaXMuYj1NKHRoaXMsYixqYyk7IXRoaXMubWltZVR5cGUmJnRoaXMuYS5sZW5ndGgmJih0aGlzLm1pbWVUeXBlPXRoaXMuYVswXS5taW1lVHlwZSwhdGhpcy5jb250ZW50VHlwZSYmdGhpcy5taW1lVHlwZSYmKHRoaXMuY29udGVudFR5cGU9dGhpcy5taW1lVHlwZS5zcGxpdCgiLyIpWzBdKSl9O2ljLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMudmFsdWU9TihiLCJ2YWx1ZSIsTyl9O2pjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMuYT1OKGIsInNjaGVtZUlkVXJpIixPKTt0aGlzLmxhbmc9TihiLCJsYW5nIixPKX07CmtjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMuaWQ9TihiLCJpZCIsTyk7dGhpcy5sYW5nPU4oYiwibGFuZyIsTyk7dGhpcy5jb250ZW50VHlwZT1OKGIsImNvbnRlbnRUeXBlIixPKTt0aGlzLmxhbmcmJih0aGlzLmxhbmc9U2EodGhpcy5sYW5nKSl9OwpuYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt0aGlzLmlkPU4oYiwiaWQiLE8pO3RoaXMuYmFuZHdpZHRoPU4oYiwiYmFuZHdpZHRoIixRKTt0aGlzLndpZHRoPU4oYiwid2lkdGgiLFEsYS53aWR0aCk7dGhpcy5oZWlnaHQ9TihiLCJoZWlnaHQiLFEsYS5oZWlnaHQpO3RoaXMubWltZVR5cGU9TihiLCJtaW1lVHlwZSIsTyxhLm1pbWVUeXBlKTt0aGlzLmNvZGVjcz1OKGIsImNvZGVjcyIsTyxhLmNvZGVjcyk7dGhpcy5mYlF1YWxpdHlMYWJlbD1OKGIsIkZCUXVhbGl0eUxhYmVsIixPKTt0aGlzLmZiUXVhbGl0eUNsYXNzPU4oYiwiRkJRdWFsaXR5Q2xhc3MiLE8pO3RoaXMubT1OKGIsIkZCQWJyUG9saWN5VGFncyIsTyk7VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJtcGRfcGFyc2VfbW9zX2F0dHJpYnV0ZXMiLCExKSYmKHRoaXMubz1OKGIsIkZCUGxheWJhY2tSZXNvbHV0aW9uTW9zIixNb3NVdGlscy5wYXJzZVBsYXliYWNrTW9zKSx0aGlzLnU9TihiLAoiRkJQbGF5YmFja1Jlc29sdXRpb25Nb3NDb25maWRlbmNlTGV2ZWwiLE8pKTtWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woIm1wZF9wYXJzZV9mcmFtZV9hbmRfYXVkaW9fc2FtcGxpbmdfcmF0ZSIsITEpJiYodGhpcy5mcmFtZVJhdGU9TihiLCJmcmFtZVJhdGUiLE8pLHRoaXMuaj1OKGIsImF1ZGlvU2FtcGxpbmdSYXRlIixRKSk7dGhpcy5sYW5nPWEubGFuZzt2YXIgYz1JYyh0aGlzLGIscmMpO3RoaXMuYmFzZVVybD1KYyhhLmJhc2VVcmwsYyk7VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJhZGRfaW5saW5lX2luaXRpYWxpemF0aW9uX3Jlc291cmNlcyIsITEpJiYodGhpcy5nPU0odGhpcyxiLGxjKSx0aGlzLmg9TSh0aGlzLGIsbWMpKTt0aGlzLmM9SWModGhpcyxiLHBjKTt0aGlzLmk9TSh0aGlzLGIsb2MpO3RoaXMuZj1hLmc/T2ModGhpcyxiLGEuZyk6TSh0aGlzLGIsdGMpO3RoaXMuYj1hLmg/T2ModGhpcyxiLGEuaCk6TSh0aGlzLGIsCnljKTt0aGlzLmE9YS5pP09jKHRoaXMsYixhLmkpOk0odGhpcyxiLEFjKTt0aGlzLmM9dGhpcy5jLmNvbmNhdChhLmopfTtsYy5wcm90b3R5cGUucGFyc2U9bWMucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7aWYoYiYmYi5maXJzdENoaWxkKXt2YXIgYz1QYyhiKTtudWxsIT1jJiYodGhpcy5kYXRhPUtiKGMpLmJ1ZmZlcil9fTtwYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt0aGlzLmM9Yjt0aGlzLmY9TihiLCJzY2hlbWVJZFVyaSIsTyk7dmFyIGM9TihiLCJjZW5jOmRlZmF1bHRfS0lEIixPKTtjJiYodGhpcy5iPWMucmVwbGFjZSgvWy1dL2csIiIpKTt0aGlzLmE9TSh0aGlzLGIscWMpfTsKcWMucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dmFyIGM9UGMoYik7aWYoYyl7dGhpcy5wc3NoQm94PUtiKGMpO3RyeXt0aGlzLnBhcnNlZFBzc2g9bmV3IFFiKHRoaXMucHNzaEJveCl9Y2F0Y2goZCl7aWYoIShkIGluc3RhbmNlb2YgUmFuZ2VFcnJvcikpdGhyb3cgZDt9fX07cmMucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dmFyIGM9Yi5jaGlsZE5vZGVzLGQ9IiI7aWYoMT09Yy5sZW5ndGgpZD1QYyhiKTtlbHNlIGZvcih2YXIgZT0wO2U8Yy5sZW5ndGg7ZSsrKWNbZV0ubm9kZVR5cGU9PU5vZGUuVEVYVF9OT0RFJiYoZCs9Y1tlXS5ub2RlVmFsdWUpO3RoaXMudXJsPWR9O3NjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMudXJsPVBjKGIpfTsKdGMucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dGhpcy5iYXNlVXJsPWEuYmFzZVVybHx8dGhpcy5iYXNlVXJsO3RoaXMucz1OKGIsInRpbWVzY2FsZSIsUSx0aGlzLnMpO3RoaXMuTD1OKGIsInByZXNlbnRhdGlvblRpbWVPZmZzZXQiLFAsdGhpcy5MKTt0aGlzLmE9TihiLCJpbmRleFJhbmdlIixRYyx0aGlzLmEpO3RoaXMuZj1OKGIsIkZCRmlyc3RTZWdtZW50UmFuZ2UiLFFjLHRoaXMuZik7dGhpcy5iPU0odGhpcyxiLHdjKXx8dGhpcy5iO3RoaXMuYz1NKHRoaXMsYix4Yyl8fHRoaXMuY307d2MucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dmFyIGM9TihiLCJzb3VyY2VVUkwiLE8pO3RoaXMudXJsPUtjKGEuYmFzZVVybCxjKTt0aGlzLmE9TihiLCJyYW5nZSIsUWMsdmMoYS5hKSl9Owp4Yy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt2YXIgYz1OKGIsInNvdXJjZVVSTCIsTyk7dGhpcy51cmw9S2MoYS5iYXNlVXJsLGMpO3RoaXMuYT1OKGIsInJhbmdlIixRYyl9Owp5Yy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt0aGlzLmJhc2VVcmw9YS5iYXNlVXJsfHx0aGlzLmJhc2VVcmw7dGhpcy5zPU4oYiwidGltZXNjYWxlIixRLHRoaXMucyk7dGhpcy5MPU4oYiwicHJlc2VudGF0aW9uVGltZU9mZnNldCIsUCx0aGlzLkwpO3RoaXMuSD1OKGIsImR1cmF0aW9uIixRLHRoaXMuSCk7dmFyIGM9TihiLCJzdGFydE51bWJlciIsUSk7bnVsbCE9YyYmKHRoaXMuYz1jKTt0aGlzLmI9TSh0aGlzLGIseGMpfHx0aGlzLmI7dGhpcy5hPShjPUljKHRoaXMsYix6YykpJiYwPGMubGVuZ3RoP2M6dGhpcy5hO3RoaXMuQz1NKHRoaXMsYixCYyl8fHRoaXMuQztWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImNhbGN1bGF0ZV9xdWlja19kYXNoX3ByZXNlbnRhdGlvbl90aW1lX29mZnNldF9mcm9tX3RpbWVsaW5lIiwhMSkmJihjPVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJjYWxjdWxhdGVfcXVpY2tfZGFzaF9wcmVzZW50YXRpb25fdGltZV9vZmZzZXRfZXBzaWxvbl9tcyIsCjI1MCksdGhpcy5DJiZ0aGlzLkMuTlswXSYmKHRoaXMuTD0xRTM8dGhpcy5DLk5bMF0uc3RhcnRUaW1lP3RoaXMuQy5OWzBdLnN0YXJ0VGltZS1jOnRoaXMuTCkpfTt6Yy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt2YXIgYz1OKGIsIm1lZGlhIixPKTt0aGlzLmI9S2MoYS5iYXNlVXJsLGMpO3RoaXMuYT1OKGIsIm1lZGlhUmFuZ2UiLFFjKX07CkFjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMucz1OKGIsInRpbWVzY2FsZSIsUSx0aGlzLnMpO3RoaXMuTD1OKGIsInByZXNlbnRhdGlvblRpbWVPZmZzZXQiLFAsdGhpcy5MKTt0aGlzLkg9TihiLCJkdXJhdGlvbiIsUSx0aGlzLkgpO3ZhciBjPU4oYiwic3RhcnROdW1iZXIiLFApO251bGwhPWMmJih0aGlzLmI9Yyk7dGhpcy5mPU4oYiwibWVkaWEiLE8sdGhpcy5mKTt0aGlzLmE9TihiLCJpbmRleCIsTyx0aGlzLmEpO3RoaXMuYz1OKGIsImluaXRpYWxpemF0aW9uIixPLHRoaXMuYyk7dGhpcy5DPU0odGhpcyxiLEJjKXx8dGhpcy5DfTtCYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt0aGlzLmE9TihiLCJGQlByZWRpY3RlZE1lZGlhIixPLHRoaXMuYSk7dGhpcy5iPU4oYiwiRkJQcmVkaWN0ZWRNZWRpYUVuZE51bWJlciIsUSk7dGhpcy5OPUljKHRoaXMsYixDYyl9OwpDYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt0aGlzLnN0YXJ0VGltZT1OKGIsInQiLFApO3RoaXMuZHVyYXRpb249TihiLCJkIixQKTt0aGlzLnJlcGVhdD1OKGIsInIiLEhjKX07ZnVuY3Rpb24gSmMoYSxiKXtpZighYnx8MD09PWIubGVuZ3RoKXJldHVybiBhO2Zvcih2YXIgYz1bXSxkPTA7ZDxiLmxlbmd0aDtkKyspe3ZhciBlPWJbZF0udXJsO251bGw9PWF8fDA9PT1hLmxlbmd0aD9jLnB1c2gobmV3IEwoZSkpOihlPUtjKGEuc2xpY2UoMCwxKSxlKSxjLnB1c2goZVswXSkpfXJldHVybiBjfWZ1bmN0aW9uIEtjKGEsYil7aWYoIWIpcmV0dXJuIGE7dmFyIGM9bmV3IEwoYik7cmV0dXJuIGE/YS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVzb2x2ZShjKX0pOltjXX1mdW5jdGlvbiBPYyhhLGIsYyl7dmFyIGQ9dmMoYyk7KGI9UmMoYixjLmNvbnN0cnVjdG9yLlRBR19OQU1FKSkmJmQucGFyc2UoYSxiKTtyZXR1cm4gZH0KZnVuY3Rpb24gTShhLGIsYyl7dmFyIGQ9bnVsbDtpZihiPVJjKGIsYy5UQUdfTkFNRSkpZD1uZXcgYyxkLnBhcnNlKGEsYik7cmV0dXJuIGR9ZnVuY3Rpb24gUmMoYSxiKXtmb3IodmFyIGM9bnVsbCxkPTA7ZDxhLmNoaWxkTm9kZXMubGVuZ3RoO2QrKylpZihhLmNoaWxkTm9kZXNbZF0udGFnTmFtZT09Yil7aWYoYylyZXR1cm4gbnVsbDtjPWEuY2hpbGROb2Rlc1tkXX1yZXR1cm4gY31mdW5jdGlvbiBJYyhhLGIsYyl7Zm9yKHZhciBkPVtdLGU9MDtlPGIuY2hpbGROb2Rlcy5sZW5ndGg7ZSsrKWlmKGIuY2hpbGROb2Rlc1tlXS50YWdOYW1lPT1jLlRBR19OQU1FKXt2YXIgZj1uZXcgYztmLnBhcnNlLmNhbGwoZixhLGIuY2hpbGROb2Rlc1tlXSk7ZC5wdXNoKGYpfXJldHVybiBkfWZ1bmN0aW9uIFBjKGEpe2E9YS5maXJzdENoaWxkO3JldHVybiBhLm5vZGVUeXBlIT1Ob2RlLlRFWFRfTk9ERT9udWxsOmEubm9kZVZhbHVlfQpmdW5jdGlvbiB1YyhhKXtyZXR1cm4gYT9hLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS5jbG9uZSgpfSk6bnVsbH1mdW5jdGlvbiB2YyhhKXtyZXR1cm4gYT9hLmNsb25lKCk6bnVsbH1mdW5jdGlvbiBOKGEsYixjLGQpe2E9YS5oYXNBdHRyaWJ1dGUoYik/YyhhLmdldEF0dHJpYnV0ZShiKSk6bnVsbDtyZXR1cm4gbnVsbCE9YT9hOnZvaWQgMCE9PWQ/ZDpudWxsfWZ1bmN0aW9uIEdjKGEpe2lmKCFhKXJldHVybiBudWxsO2E9RGF0ZS5wYXJzZShhKTtyZXR1cm4gaXNOYU4oYSk/bnVsbDpNYXRoLmZsb29yKGEvMUUzKX0KZnVuY3Rpb24gRmMoYSl7aWYoIWEpcmV0dXJuIG51bGw7dmFyIGI9L15QKD86KFswLTldKilZKT8oPzooWzAtOV0qKU0pPyg/OihbMC05XSopRCk/KD86VCg/OihbMC05XSopSCk/KD86KFswLTldKilNKT8oPzooWzAtOS5dKilTKT8pPyQvLmV4ZWMoYSk7aWYoIWIpcmV0dXJuIG51bGw7YT0wO3ZhciBjPVAoYlsxXSk7YyYmKGErPTMxNTM2RTMqYyk7KGM9UChiWzJdKSkmJihhKz0yNTkyRTMqYyk7KGM9UChiWzNdKSkmJihhKz04NjQwMCpjKTsoYz1QKGJbNF0pKSYmKGErPTM2MDAqYyk7KGM9UChiWzVdKSkmJihhKz02MCpjKTtiPXdpbmRvdy5wYXJzZUZsb2F0KGJbNl0pOyhiPWlzTmFOKGIpP251bGw6YikmJihhKz1iKTtyZXR1cm4gYX0KZnVuY3Rpb24gUWMoYSl7dmFyIGI9LyhbMC05XSspLShbMC05XSspLy5leGVjKGEpO2lmKCFiKXJldHVybiBudWxsO2E9UChiWzFdKTtpZihudWxsPT1hKXJldHVybiBudWxsO2I9UChiWzJdKTtyZXR1cm4gbnVsbD09Yj9udWxsOm5ldyBEYyhhLGIpfWZ1bmN0aW9uIEhjKGEpe2E9d2luZG93LnBhcnNlSW50KGEsMTApO3JldHVybiBpc05hTihhKT9udWxsOmF9ZnVuY3Rpb24gUShhKXthPXdpbmRvdy5wYXJzZUludChhLDEwKTtyZXR1cm4gMDxhP2E6bnVsbH1mdW5jdGlvbiBQKGEpe2E9d2luZG93LnBhcnNlSW50KGEsMTApO3JldHVybiAwPD1hP2E6bnVsbH1mdW5jdGlvbiBFYyhhKXtzd2l0Y2goYS50b0xvd2VyQ2FzZSgpKXtjYXNlICJ0cnVlIjpyZXR1cm4hMDtjYXNlICJmYWxzZSI6cmV0dXJuITE7ZGVmYXVsdDpyZXR1cm4gbnVsbH19ZnVuY3Rpb24gTyhhKXtyZXR1cm4gYX07ZnVuY3Rpb24gU2MoYSxiKXt0aGlzLnVybD1hO3RoaXMuYj1ifHxuZXcgdGI7dGhpcy5qPTA7dGhpcy5nPS0xO3RoaXMuaD10aGlzLmk9MDt0aGlzLmE9bnVsbDt0aGlzLmM9bmV3IEk7dGhpcy5mPW51bGw7dGhpcy5vPXRoaXMuYi5pO3RoaXMubD10aGlzLmIubX1xKCJzaGFrYS51dGlsLkFqYXhSZXF1ZXN0IixTYyk7CmZ1bmN0aW9uIHRiKCl7dGhpcy5ib2R5PW51bGw7dGhpcy5OYT0xO3RoaXMuYz0xRTM7dGhpcy5iPTA7dGhpcy5tZXRob2Q9IkdFVCI7dGhpcy5yZXNwb25zZVR5cGU9ImFycmF5YnVmZmVyIjt0aGlzLlFhPXt9O3RoaXMuZz10aGlzLndpdGhDcmVkZW50aWFscz0hMTt0aGlzLmRhPXRoaXMuYT10aGlzLnU9bnVsbDt0aGlzLmo9ITE7dGhpcy5oPXRoaXMubT10aGlzLmk9dGhpcy5taW1lVHlwZT1udWxsO3RoaXMubz0hMTt0aGlzLnc9LyguKilcLih4eHxmbmEpXC5mYmNkblwubmV0Lzt0aGlzLmY9L2xpdmVzdHJlYW0tbG9va2FzaWRlXC4oZmFjZWJvb2t8d29ya3BsYWNlKVwuY29tJC99dmFyIFRjPSEwO2Z1bmN0aW9uIFVjKGEpe1ZjKGEpO1djKGEpO2EuYi5ib2R5PW51bGw7YS5jLmRlc3Ryb3koKTthLmM9bnVsbDthLmY9bnVsbH0KZnVuY3Rpb24gV2MoYSl7YS5hJiYoYS5hLm9ubG9hZD1udWxsLGEuYS5vbnJlYWR5c3RhdGVjaGFuZ2U9bnVsbCxhLmEub25lcnJvcj1udWxsLGEuYS5vbnRpbWVvdXQ9bnVsbCk7YS5hPW51bGx9ZnVuY3Rpb24gVmMoYSl7LTEhPT1hLmcmJihjbGVhclRpbWVvdXQoYS5nKSxhLmc9LTEpfQpTYy5wcm90b3R5cGUubT1mdW5jdGlvbigpe2lmKHRoaXMuYSlyZXR1cm4gdGhpcy5jO2lmKDA9PXRoaXMudXJsLmxhc3RJbmRleE9mKCJkYXRhOiIsMCkpe3ZhciBhPXRoaXMudXJsLnNwbGl0KCI6IilbMV0uc3BsaXQoIjsiKS5wb3AoKS5zcGxpdCgiLCIpLGI9YS5wb3AoKSxiPSJiYXNlNjQiPT1hLnBvcCgpP3dpbmRvdy5hdG9iKGIucmVwbGFjZSgvLS9nLCIrIikucmVwbGFjZSgvXy9nLCIvIikpOndpbmRvdy5kZWNvZGVVUklDb21wb25lbnQoYik7ImFycmF5YnVmZmVyIj09dGhpcy5iLnJlc3BvbnNlVHlwZSYmKGI9SmIoYikuYnVmZmVyKTthPUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkobmV3IFhNTEh0dHBSZXF1ZXN0KSk7YS5yZXNwb25zZT1iO2EucmVzcG9uc2VUZXh0PWIudG9TdHJpbmcoKTtiPXRoaXMuYztiLnJlc29sdmUoYSk7VWModGhpcyk7cmV0dXJuIGJ9aWYoMD09dGhpcy51cmwubGFzdEluZGV4T2YoImlkYjoiLDApKXJldHVybiB0aGlzLnUoKTt0aGlzLmorKzsKdGhpcy5pPXBlcmZvcm1hbmNlTm93KCk7dGhpcy5ofHwodGhpcy5oPXRoaXMuYi5jKTt0aGlzLmE9bmV3IFhNTEh0dHBSZXF1ZXN0O3ZhciBjPXRoaXMudXJsLGE9bmV3IEwoYyk7VGMmJih0aGlzLmYmJiF0aGlzLmYuc3VwcG9ydHNDYWNoaW5nKCl8fHRoaXMuYi5nKSYmZGMoYS5hLCJfIixEYXRlLm5vdygpKTtjPXRoaXMuYi53LnRlc3QoYyk7aWYobnVsbCE9dGhpcy5iLmEmJmMpe3ZhciBkPXRoaXMuYi5hLGU9YS5hO251bGwhPWQuYSYmKGQuaD1kLmEuZ2V0U2VnbWVudHNUb1B1c2goKSxkLmY9ZC5hLmdldFNlZ21lbnRTdGFydFRpbWUoKSxkLmc9ZC5hLmdldFNlZ21lbnRPZmZzZXQoKSxkLmM9ZC5hLmdldFB1c2hWaWRlb1JlcHJlc2VudGF0aW9uSUQoKSxkLmI9ZC5hLmdldFB1c2hBdWRpb1JlcHJlc2VudGF0aW9uSUQoKSxkLmo9ZC5hLmdldFVzZUxvbmdDYWNoZUZvck1hbmlmZXN0KCkpO251bGwhPWQuaCYmZGMoZSwiX25jX3BfbiIsZC5oKTtudWxsIT1kLmY/ZGMoZSwiX25jX3BfdHMiLApkLmYpOm51bGwhPWQuZyYmZGMoZSwiX25jX3BfbyIsZC5nKTtudWxsIT1kLmMmJm51bGwhPWQuYiYmKGRjKGUsIl9uY19wX3JpZCIsZC5jKSxkYyhlLCJfbmNfcF9hcmlkIixkLmIpKTtkLmkmJmRjKGUsIl9uY19wX2RiZyIsIjEiKTtkLmomJmRjKGUsIl9uY19uYyIsIjEiKX0xPT10aGlzLmIuaiYmYyYmZGMoYS5hLCJfbmNfcGxheWluZyIsMSk7dGhpcy5iLm8mJmRjKGEuYSwiX25jX3NjIiwxKTtjPWEudG9TdHJpbmcoKTthPXRoaXMuYi5mLnRlc3QoYS5oYSk7dGhpcy5hLm9wZW4odGhpcy5iLm1ldGhvZCxjLCEwKTt0aGlzLmEucmVzcG9uc2VUeXBlPXRoaXMuYi5yZXNwb25zZVR5cGU7dGhpcy5hLnRpbWVvdXQ9dGhpcy5iLmI7dGhpcy5hLndpdGhDcmVkZW50aWFscz10aGlzLmIud2l0aENyZWRlbnRpYWxzfHxhO3NldEV2ZW50UHJvcGVydHkodGhpcy5hLCJvbmxvYWQiLHRoaXMuZmQuYmluZCh0aGlzKSk7c2V0RXZlbnRQcm9wZXJ0eSh0aGlzLmEsIm9ucmVhZHlzdGF0ZWNoYW5nZSIsCnRoaXMubGQuYmluZCh0aGlzKSk7c2V0RXZlbnRQcm9wZXJ0eSh0aGlzLmEsIm9uZXJyb3IiLHRoaXMuZGQuYmluZCh0aGlzKSk7c2V0RXZlbnRQcm9wZXJ0eSh0aGlzLmEsIm9udGltZW91dCIsdGhpcy5xZC5iaW5kKHRoaXMpKTtzZXRFdmVudFByb3BlcnR5KHRoaXMuYSwib25hYm9ydCIsdGhpcy4kYy5iaW5kKHRoaXMpKTtmb3IoYiBpbiB0aGlzLmIuUWEpdGhpcy5hLnNldFJlcXVlc3RIZWFkZXIoYix0aGlzLmIuUWFbYl0pO3RoaXMuYS5zZW5kKHRoaXMuYi5ib2R5KTtyZXR1cm4gdGhpcy5jfTtTYy5wcm90b3R5cGUuc2VuZD1TYy5wcm90b3R5cGUubTsKZnVuY3Rpb24gWGMoYSxiLGMpe2I9RXJyb3IoYik7Yi50eXBlPWM7Yi5zdGF0dXM9YS5hLnN0YXR1cztiLnVybD1hLnVybDtWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImVuYWJsZV9kb3VibGVfaW5nZXN0IiwhMSkmJihiLnJlc3BvbnNlSGVhZGVycz1wYXJzZUhlYWRlcnMoYS5hLmdldEFsbFJlc3BvbnNlSGVhZGVycygpKSk7Yi5tZXRob2Q9YS5iLm1ldGhvZDtiLmJvZHk9YS5iLmJvZHk7cmV0dXJuIGJ9bj1TYy5wcm90b3R5cGU7bi5hYm9ydD1mdW5jdGlvbigpe1ZjKHRoaXMpO2lmKHRoaXMuYSYmdGhpcy5hLnJlYWR5U3RhdGUhPVhNTEh0dHBSZXF1ZXN0LkRPTkUmJih0aGlzLmEuYWJvcnQoKSwhVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJmaXhfc2hha2FfdXRpbF9hamF4X3JlcXVlc3RfYWJvcnQiLCEwKSkpe3ZhciBhPVhjKHRoaXMsIlJlcXVlc3QgYWJvcnRlZC4iLCJhYm9ydGVkIik7dGhpcy5jLnJlamVjdChhKTtVYyh0aGlzKX19OwpuLiRjPWZ1bmN0aW9uKCl7aWYoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJmaXhfc2hha2FfdXRpbF9hamF4X3JlcXVlc3RfYWJvcnQiLCEwKSl7dmFyIGE9WGModGhpcywiUmVxdWVzdCBhYm9ydGVkLiIsImFib3J0ZWQiKTt0aGlzLmMucmVqZWN0KGEpO1VjKHRoaXMpfX07Cm4uZmQ9ZnVuY3Rpb24oYSl7aWYodGhpcy5mKXt2YXIgYj1WaWRlb1BsYXllclJlc291cmNlVGltZXIuZ2V0UmVzb3VyY2VUaW1pbmdFbnRyeSh0aGlzLnVybCx0aGlzLmkscGVyZm9ybWFuY2VOb3coKSk7dGhpcy5mLnNhbXBsZShwZXJmb3JtYW5jZU5vdygpLXRoaXMuaSxhLmxvYWRlZHx8dGhpcy5hLnJlc3BvbnNlJiZ0aGlzLmEucmVzcG9uc2UuYnl0ZUxlbmd0aHx8MCx0aGlzLmIubWltZVR5cGU/InYiPT09dGhpcy5iLm1pbWVUeXBlLmNoYXJBdCgwKTohMSxiLHRoaXMubyx0aGlzLmwsVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJldmFsdWF0ZV9hYnJfb25fZmV0Y2hfZW5kIiwhMSkpfWE9WzQwM107MjAwPD10aGlzLmEuc3RhdHVzJiYyOTk+PXRoaXMuYS5zdGF0dXM/KFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgiZW5hYmxlX2RvdWJsZV9pbmdlc3QiLCExKSYmbnVsbCE9cGFyc2VIZWFkZXJzKHRoaXMuYS5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSlbIngtZmItdmlkZW8tcmVwbGljYSJdPwooYT1YYyh0aGlzLCJIVFRQIGVycm9yLiIsIm5ldCIpLHRoaXMuYy5yZWplY3QoYSkpOnRoaXMuYy5yZXNvbHZlKHRoaXMuYSksVWModGhpcykpOiFWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInJlbW92ZV9hamF4X3Jlc2VuZF9pbnRlcm5hbCIsITApJiZ0aGlzLmo8dGhpcy5iLk5hJiYtMT09PWEuaW5kZXhPZih0aGlzLmEuc3RhdHVzKT9ZYyh0aGlzKTooYT1YYyh0aGlzLCJIVFRQIGVycm9yLiIsIm5ldCIpLHRoaXMuYy5yZWplY3QoYSksVWModGhpcykpfTsKbi5sZD1mdW5jdGlvbigpe2lmKHRoaXMuYS5yZWFkeVN0YXRlPT1YTUxIdHRwUmVxdWVzdC5IRUFERVJTX1JFQ0VJVkVEJiYodGhpcy5hLllhPURhdGUubm93KCktdGhpcy5pLHRoaXMuYi5hJiZ0aGlzLmIuZGEmJnRoaXMuYi5kYS5hZGRQdXNoRGF0YUZyb21YSFIodGhpcy5hKSx0aGlzLmIuaCYmdGhpcy5iLmguaGFuZGxlWEhSKHRoaXMuYSksVmlkZW9DbGllbnRFZGdlQ29vcGVyYXRpb24udXBkYXRlRnJvbVhIUih0aGlzLmEpLHRoaXMuYi5nKSl7dmFyIGE9RGF0ZS5wYXJzZSh0aGlzLmEuZ2V0UmVzcG9uc2VIZWFkZXIoIkRhdGUiKSk7YSYmKHphPWEtRGF0ZS5ub3coKSl9fTtuLmRkPWZ1bmN0aW9uKCl7dmFyIGE9WGModGhpcywiTmV0d29yayBmYWlsdXJlLiIsIm5ldCIpO3RoaXMuYy5yZWplY3QoYSk7VWModGhpcyl9OwpuLnFkPWZ1bmN0aW9uKCl7aWYoIVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgicmVtb3ZlX2FqYXhfcmVzZW5kX2ludGVybmFsIiwhMCkmJnRoaXMuajx0aGlzLmIuTmEpWWModGhpcyk7ZWxzZXt2YXIgYT1YYyh0aGlzLCJSZXF1ZXN0IHRpbWVkIG91dC4iLCJuZXQiKTt0aGlzLmMucmVqZWN0KGEpO1VjKHRoaXMpfX07ZnVuY3Rpb24gWWMoYSl7V2MoYSk7YS5nPXNldFRpbWVvdXQoZnVuY3Rpb24oKXt0aGlzLmc9LTE7dGhpcy5tKCl9LmJpbmQoYSksYS5oKigxKy41KigyKk1hdGgucmFuZG9tKCktMSkpKTthLmgqPTJ9O2Z1bmN0aW9uIEsoYSxiLGMsZCxlLGYpe3RoaXMuYz1iO3RoaXMuc3RhcnRCeXRlPWN8fDA7dGhpcy5iYXNlVXJsPXRoaXMudG9TdHJpbmcoKTt0aGlzLmVuZEJ5dGU9bnVsbCE9ZD9kOm51bGw7dGhpcy5pc1ByZWRpY3RpdmU9ZXx8ITE7dGhpcy5mPW51bGw7dGhpcy5tPTA7dGhpcy5BPSExO3RoaXMuTmM9dGhpcy5nPW51bGw7dGhpcy5vPWE7dGhpcy5pPW51bGw7dGhpcy5qPXRoaXMudT0hMTt0aGlzLmI9dGhpcy5hPW51bGw7dGhpcy5oPWZ8fG51bGx9cSgic2hha2EudXRpbC5GYWlsb3ZlclVyaSIsSyk7Sy5wcm90b3R5cGUudz1mdW5jdGlvbihhKXt0aGlzLkE9YX07Sy5wcm90b3R5cGUuc2V0U2hvdWxkUmVhZFhGYlZpZGVvQnJvYWRjYXN0RW5kZWRIZWFkZXI9Sy5wcm90b3R5cGUudztLLnByb3RvdHlwZS5EPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubX07Sy5wcm90b3R5cGUuZ2V0RmJWaWRlb0Jyb2FkY2FzdEVuZGVkUmVzcG9uc2VIZWFkZXI9Sy5wcm90b3R5cGUuRDsKSy5wcm90b3R5cGUuRj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YXJ0Qnl0ZX07Sy5wcm90b3R5cGUuZ2V0U3RhcnRCeXRlPUsucHJvdG90eXBlLkY7Sy5wcm90b3R5cGUuQj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVuZEJ5dGV9O0sucHJvdG90eXBlLmdldEVuZEJ5dGU9Sy5wcm90b3R5cGUuQjtmdW5jdGlvbiBaYyhhLGIpe3JldHVybiBhJiYwIT09YS5sZW5ndGg/YS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVzb2x2ZShiKX0pOltiXX1uPUsucHJvdG90eXBlO24uZmV0Y2g9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxoKXtyZXR1cm4gdGhpcy5mP3RoaXMuZjp0aGlzLmY9JGModGhpcywwLGF8fG5ldyB0YixiLGMsZCxlLGYsZyxoKX07bi5zdHJlYW09ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxoLGspe3JldHVybiBhZCh0aGlzLDAsYXx8bmV3IHRiLGIsYyxkLGUsZixnLGgsayl9OwpmdW5jdGlvbiAkYyhhLGIsYyxkLGUsZixnLGgsayxsKXtyZXR1cm4gYWQoYSxiLGMsZCxlLGYsZyxoLGssbCkudGhlbihmdW5jdGlvbihhKXt2YXIgYixjPWZ1bmN0aW9uKCl7cmV0dXJuIGEucmVhZCgpLnRoZW4oZnVuY3Rpb24oYSl7dmFyIGQ9YS52YWx1ZTtpZihhLmRvbmUpcmV0dXJuIGJ8fG5ldyBBcnJheUJ1ZmZlcigwKTtkJiYoInN0cmluZyI9PT10eXBlb2YgZD9iPShifHwiIikrZDpiPWNvbmNhdEFycmF5QnVmZmVyKGJ8fG5ldyBBcnJheUJ1ZmZlcigwKSxkKSk7cmV0dXJuIGMoKX0uYmluZCh0aGlzKSl9LmJpbmQodGhpcyk7cmV0dXJuIGMoKX0pfQpuLkthPWZ1bmN0aW9uKCl7dGhpcy5nJiYodGhpcy5hPXRoaXMuZj1udWxsLHRoaXMuZy5hYm9ydCgpLHRoaXMuaT10aGlzLmc9bnVsbCk7dGhpcy5OYyYmVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJlbmFibGVfcDJwX3N1cHBvcnQiLCExKSYmKHRoaXMuRy5hYm9ydCgpLHRoaXMuRz1udWxsKTt0aGlzLmImJih0aGlzLmIuYWJvcnRSZXF1ZXN0KGJkKHRoaXMpKSxWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImZpeGluZ19zY2hlZHVsZXJfZGlzYWJsZV9sZWFrcyIsITApJiYodGhpcy5iPW51bGwpKX07CmZ1bmN0aW9uIGFkKGEsYixjLGQsZSxmLGcsaCxrLGwsbSl7YS5iPWx8fG51bGw7dmFyIHA7ZSYmKGMuYSYmKGMuYS5pPSEwKSxsPTAsYy5kYSYmKGw9Yy5kYS5nZXRQdXNoQ291bnRGb3JVcmwoYS5jW2JdLnRvU3RyaW5nKCkpKSwocD1lLmdldE9wZXJhdGlvbkxvZ2dlcigicmVxdWVzdCIpKSYmcC5zZXRSZWFzb24oa3x8bnVsbCkuc2V0UHVzaGVkKGwpLnNldFR5cGUoaHx8bnVsbCkuc2V0SW5pdGlhdG9yKCJzaGFrYSIpLnN0YXJ0KCksZiYmKHA9cC5zZXRQYXJlbnRMb2dnZXIoZikpKTt2YXIgdD1wZXJmb3JtYW5jZU5vdygpO2EuYT1udWxsO2cmJihjLmk9Zyk7ZSYmKGMubT1lKTt2YXIgdz1jZChhLGEuY1tiXSxjKTtrPW51bGw7YS5qPSExO3ZhciB6PVZpZGVvRGFzaFByZWZldGNoQ2FjaGUuZ2V0Q2FjaGVWYWx1ZSh3KTt6JiYoaz16LGEuaj0hMCxwJiYocC5zZXRDb25uZWN0aW9uUXVhbGl0eUxldmVsKFZpZGVvRGFzaFByZWZldGNoQ2FjaGUuZ2V0Q29ubmVjdGlvblF1YWxpdHlMZXZlbCh3KSksCnAuc2V0SW5pdGlhdG9yKCJwcmVmZXRjaCIpKSk7aWYoIXomJm0pcmV0dXJuIG0uZ2V0U3RyZWFtKGJkKGEpKS50aGVuKGZ1bmN0aW9uKGEpe3JldHVybiBhLmdldFJlYWRlcigpfS5iaW5kKGEpKTttPW51bGw7aWYoYS5iJiYhYS5iLmlzRGlzYWJsZWQoKSYmIWspdHJ5eyhrPW09YS5iLmdldFByb21pc2UoYmQoYSkpKT9wPW51bGw6YS5iLmRpc2FibGUoKX1jYXRjaChIKXtlJiZlLmdldEV2ZW50TG9nZ2VyKCJyZXF1ZXN0X2luZm9fbm90X2ZvdW5kIikuc2V0UmVzb3VyY2UodykubG9nKCl9IWsmJmEuaCYmYS5oLmNyZWF0ZVByb21pc2UmJihtPW5ldyBMKHcpLG09Yy5mLnRlc3QobS5oYSksaz1hLmguY3JlYXRlUHJvbWlzZSh7dXJsOncscmVzcG9uc2VUeXBlOmMucmVzcG9uc2VUeXBlLE9kOmMuYyxLZDoyLE5hOmMuTmEsd2l0aENyZWRlbnRpYWxzOmMud2l0aENyZWRlbnRpYWxzfHxtLFFhOmMuUWF9LGZ1bmN0aW9uKGEpe3RoaXMuTmM9YTt2YXIgYj1wZXJmb3JtYW5jZU5vdygpOwphLm9ubG9hZD1mdW5jdGlvbihmKXtpZihkKXt2YXIgaD1WaWRlb1BsYXllclJlc291cmNlVGltZXIuZ2V0UmVzb3VyY2VUaW1pbmdFbnRyeSh3LGIscGVyZm9ybWFuY2VOb3coKSk7ZC5zYW1wbGUocGVyZm9ybWFuY2VOb3coKS1iLGYubG9hZGVkfHxhLnJlc3BvbnNlJiZhLnJlc3BvbnNlLmJ5dGVMZW5ndGh8fDAsYy5taW1lVHlwZT8idiI9PT1jLm1pbWVUeXBlLmNoYXJBdCgwKTohMSxoLGcsZSxWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImV2YWx1YXRlX2Ficl9vbl9mZXRjaF9lbmQiLCExKSl9fX0pKTtrfHwoYS5nPW5ldyBTYyh3LGMpLGEubT0wLGQmJihhLmcuZj1kKSxrPWEuZy5tKCkpO3AmJnAuc2V0UmVzb3VyY2Uodyk7ZiYmZi5zZXRSZXNvdXJjZSh3KTt2YXIgZGE9ITEsZWE9ay50aGVuKEooYSxmdW5jdGlvbihhKXt2YXIgYz10aGlzLmg/dGhpcy5oLm9uUmVxdWVzdFNlbmQ6bnVsbDshY3x8InZpZGVvIiE9aCYmImF1ZGlvIiE9aCYmIm1hbmlmZXN0IiE9Cmh8fGMoITAsaCxhLnJlc3BvbnNlLmJ5dGVMZW5ndGgpOyF0aGlzLmJ8fHRoaXMuYi5pc0Rpc2FibGVkKCl8fHRoaXMuYT90aGlzLmF8fCh0aGlzLmE9VmlkZW9QbGF5ZXJSZXNvdXJjZVRpbWVyLmdldFJlc291cmNlVGltaW5nRW50cnkodyx0aGlzLmo/MDp0LHBlcmZvcm1hbmNlTm93KCkpKTp0aGlzLmE9dGhpcy5iLmdldFJlc291cmNlVGltaW5nRW50cnkodyk7VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJzYW1wbGVfcHJlZmV0Y2hfYmFuZHdpZHRoIiwhMSkmJnomJnRoaXMuYSYmMDx0aGlzLmEudGltZVRvTGFzdEJ5dGUmJmQmJmQuc2FtcGxlKHRoaXMuYS50aW1lVG9MYXN0Qnl0ZSxhLnJlc3BvbnNlLmJ5dGVMZW5ndGgsInYiPT09aC5jaGFyQXQoMCksdGhpcy5hLGcsZSwhMCk7aWYodGhpcy5BKXRyeXt0aGlzLm09cGFyc2VJbnQoYS5nZXRSZXNwb25zZUhlYWRlcigieC1mYi12aWRlby1icm9hZGNhc3QtZW5kZWQiKSwxMCl9Y2F0Y2goZil7fXRoaXMuYj0KdGhpcy5pPXRoaXMuZz10aGlzLmY9bnVsbDthLmE/KHRoaXMuaT1uZXcgTChhLmEpLHRoaXMudT0hMCk6dGhpcy5pPXRoaXMuY1tiXTthLnJlc3BvbnNlLllhPWEuWWE7cCYmKHA9cC5zZXRMZW5ndGgoYS5yZXNwb25zZS5ieXRlTGVuZ3RofHxhLnJlc3BvbnNlLmxlbmd0aCkuc2V0V2FzUHJlZmV0Y2hDYWNoZUhpdCh0aGlzLmopLG51bGwhPXRoaXMuYSYmKHA9cC5zZXRUaW1lVG9MYXN0Qnl0ZShNYXRoLnJvdW5kKHRoaXMuYS50aW1lVG9MYXN0Qnl0ZSkpLnNldFRpbWVUb0ZpcnN0Qnl0ZShNYXRoLnJvdW5kKHRoaXMuYS50aW1lVG9GaXJzdEJ5dGUpKS5zZXRUaW1lVG9SZXF1ZXN0U3RhcnQoTWF0aC5yb3VuZCh0aGlzLmEudGltZVRvUmVxdWVzdFN0YXJ0KSksMkUzPD10aGlzLmEudGltZVRvRmlyc3RCeXRlJiYtMTx3LmluZGV4T2YoImFrYW1haWhkIikmJmxvZ0xvbmdBa2FtYWlSZXF1ZXN0KGEuZ2V0UmVzcG9uc2VIZWFkZXIoIkRlYnVnLUluZm8iKSsiLCBUVEZCLT4gIit0aGlzLmEudGltZVRvRmlyc3RCeXRlKwoiLCBUVFJTLT4gIit0aGlzLmEudGltZVRvUmVxdWVzdFN0YXJ0KSkscC5sb2coKSk7cmV0dXJuIFByb21pc2UucmVzb2x2ZSh7dmFsdWU6YS5yZXNwb25zZSxkb25lOiExfSl9KSksZWE9ZWEuY2F0Y2goSihhLGZ1bmN0aW9uKGEpe3ZhciBlPXRoaXMuaD90aGlzLmgub25SZXF1ZXN0U2VuZDpudWxsO2UmJmUoITEsaCwwKTtpZih0aGlzLmYmJmIrMTx0aGlzLmMubGVuZ3RoKXJldHVybiB0aGlzLmY9JGModGhpcyxiKzEsYyxkKTt0aGlzLmI9dGhpcy5hPXRoaXMuZj10aGlzLmc9bnVsbDtwJiZwLnNldEVycm9yKGEpLmxvZygpO3JldHVybiBQcm9taXNlLnJlamVjdChhKX0pKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtjYW5jZWw6ZnVuY3Rpb24oKXt9LHJlYWQ6ZnVuY3Rpb24oKXtyZXR1cm4gZGE/UHJvbWlzZS5yZXNvbHZlKHt2YWx1ZTpudWxsLGRvbmU6ITB9KTplYS50aGVuKGZ1bmN0aW9uKGEpe2RhPSEwO3JldHVybiBhfSl9LmJpbmQoYSl9KX0KZnVuY3Rpb24gYmQoYSl7cmV0dXJue2Jhc2VVcmw6YS50b1N0cmluZygpLGlzUHJlZGljdGl2ZTphLmlzUHJlZGljdGl2ZSxzdGFydEJ5dGU6YS5zdGFydEJ5dGUsZW5kQnl0ZTphLmVuZEJ5dGV9fW4uY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEsodGhpcy5vLHRoaXMuYy5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuY2xvbmUoKX0pLHRoaXMuc3RhcnRCeXRlLHRoaXMuZW5kQnl0ZSx0aGlzLmlzUHJlZGljdGl2ZSx0aGlzLmgpfTtuLmdldFJlc291cmNlVGltaW5nRW50cnk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hfTsKZnVuY3Rpb24gY2QoYSxiLGMpe3ZhciBkPWIudG9TdHJpbmcoKTtpZihhLnN0YXJ0Qnl0ZXx8YS5lbmRCeXRlKWI9Yi5oYSwhYi5lbmRzV2l0aCgiZmJjZG4ubmV0Iil8fGIuc3RhcnRzV2l0aCgiaW50ZXJuY2FjaGUiKXx8Yi5lbmRzV2l0aCgiYWsuZmJjZG4ubmV0Iik/YyYmKGMuUWEuUmFuZ2U9ImJ5dGVzPSIrKGEuc3RhcnRCeXRlKyItIisobnVsbCE9YS5lbmRCeXRlP2EuZW5kQnl0ZToiIikpKTooZCs9IiZieXRlc3RhcnQ9IithLnN0YXJ0Qnl0ZSxkKz1udWxsIT09YS5lbmRCeXRlPyImYnl0ZWVuZD0iK2EuZW5kQnl0ZToiIik7YS5vJiZjJiYoZD1hLm8oZCxjLlFhKXx8ZCk7cmV0dXJuIGR9ZnVuY3Rpb24gdWIoYSl7cmV0dXJuIGNkKGEsYS5jWzBdKX1uLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY1swXS50b1N0cmluZygpfTtmdW5jdGlvbiBkZChhLGIsYyxkKXt0aGlzLmE9bmV3IHRiO2I9bnVsbCE9Yj9iOmlhO3RoaXMuYS5yZXNwb25zZVR5cGU9InRleHQiO3RoaXMuYS5OYT0zO3RoaXMuYS5iPTFFMypiO2MmJih0aGlzLmEuYT1jKTtkJiYodGhpcy5hLmRhPWQpO3RoaXMuYS5nPSEwO3RoaXMuYS53aXRoQ3JlZGVudGlhbHM9dGhpcy5hLmYudGVzdChhKTt0aGlzLmI9YX0KZnVuY3Rpb24gZWQoYSxiKXt2YXIgYz1hLmIsZD1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImRldGVjdF9saXZlX3N0cmVhbV9lbmRlZF9mcm9tX3Jlc3BvbnNlX2hlYWRlcnMiLCExKTtjLncoZCk7cmV0dXJuIGMuZmV0Y2goYS5hLG51bGwsYixudWxsLG51bGwsIm1hbmlmZXN0IikudGhlbihmdW5jdGlvbihhKXthIGluc3RhbmNlb2YgQXJyYXlCdWZmZXImJihhPVN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCxuZXcgVWludDhBcnJheShhKSkpO3ZhciBmPWQmJiEhYy5tLGc7YiYmKGc9Yi5nZXRPcGVyYXRpb25Mb2dnZXIoInBhcnNlX21hbmlmZXN0Iikuc3RhcnQoKSk7YT1lYyhhLGMuYyxbYy5pXSk7ZyYmZy5sb2coKTthJiYiZHluYW1pYyI9PT1hLnR5cGUmJmYmJihhLnR5cGU9InN0YXRpYyIsYiYmQmFuemFpT0RTLmJ1bXBFbnRpdHlLZXkoMjk2NiwidmlkZW9zLnd3dy5zaGFrYSIsImNoYW5nZWRfbWFuaWZlc3RfdG9fZHluYW1pY19vZmZfaGVhZGVycyIpKTsKaWYoYSlyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGEpO2Y9RXJyb3IoIk1QRCBwYXJzZSBmYWlsdXJlLiIpO2YudHlwZT0iZGFzaCI7cmV0dXJuIFByb21pc2UucmVqZWN0KGYpfSl9ZnVuY3Rpb24gZmQoYSl7dGhpcy5hPW51bGw7dGhpcy5oPWE7dGhpcy5jPXRoaXMuZz10aGlzLmY9bnVsbDt0aGlzLmk9ITE7dGhpcy5qPXRoaXMuYj1udWxsfTtmdW5jdGlvbiBnZChhLGIpe3RoaXMuYT1hO3RoaXMuYj1ifHxudWxsfWdkLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5hJiYodGhpcy5hLkthKCksdGhpcy5hPW51bGwpO3RoaXMuYj1udWxsfTtnZC5wcm90b3R5cGUuY3JlYXRlPWZ1bmN0aW9uKGEsYil7dmFyIGM9bnVsbDtiJiYoYz1uZXcgdGIsYy5kYT1iKTtyZXR1cm4hdGhpcy5iJiZ0aGlzLmE/dGhpcy5hLmZldGNoKGMsbnVsbCxhLG51bGwsbnVsbCwiaW5pdCIpOlByb21pc2UucmVzb2x2ZSh0aGlzLmIpfTtnZC5wcm90b3R5cGUuYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmF9O2dkLnByb3RvdHlwZS5nZXRGYWlsb3ZlclVyaT1nZC5wcm90b3R5cGUuYztmdW5jdGlvbiBoZChhLGIpe3RoaXMuc2VnbWVudE9yaWdpbmFsRW5kVGltZT1hO3RoaXMuZ2FwRGlzdGFuY2U9Yn1mdW5jdGlvbiBpZChhLGIsYyxkLGUsZixnKXt0aGlzLnN0YXJ0VGltZT1hO3RoaXMuZW5kVGltZT1iO3RoaXMudXJsPWM7dGhpcy51bnNjYWxlZFN0YXJ0VGltZT1kO3RoaXMudW5zY2FsZWREdXJhdGlvbj1lO3RoaXMudGltZXNjYWxlZEdhcEluZm89Znx8bnVsbDt0aGlzLmlzUHJlZGljdGl2ZT1nfHwhMTt0aGlzLmRlYnVnSW5mbz10aGlzLnRpbWVzY2FsZWRHYXBJbmZvP3tlbmRUaW1lOnRoaXMudGltZXNjYWxlZEdhcEluZm8uc2VnbWVudE9yaWdpbmFsRW5kVGltZSxkZWx0YTp0aGlzLnRpbWVzY2FsZWRHYXBJbmZvLmdhcERpc3RhbmNlfTpudWxsfWZ1bmN0aW9uIGpkKGEsYixjKXtyZXR1cm4gbmV3IGlkKGIsYyxhLnVybCxhLnVuc2NhbGVkU3RhcnRUaW1lLGEudW5zY2FsZWREdXJhdGlvbixhLnRpbWVzY2FsZWRHYXBJbmZvLGEuaXNQcmVkaWN0aXZlKX0KZnVuY3Rpb24geWIoYSxiKXtpZihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInVzZV9iaW5hcnlfc2VhcmNoX3doZW5fZmluZGluZ19zZWdtZW50X3JlZmVyZW5jZXMiLCExKSlyZXR1cm4gQmluYXJ5U2VhcmNoLmZpbmRJbmRleEluQXJyYXkoYSxiLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGI+PWEuc3RhcnRUaW1lJiYobnVsbD09YS5lbmRUaW1lfHxiPGEuZW5kVGltZSk/MDphLnN0YXJ0VGltZS1ifSk7Zm9yKHZhciBjPWEubGVuZ3RoLTE7MDw9YzstLWMpe3ZhciBkPWFbY107aWYoYj49ZC5zdGFydFRpbWUmJihudWxsPT1kLmVuZFRpbWV8fGI8ZC5lbmRUaW1lKSlyZXR1cm4gY31yZXR1cm4tMX1mdW5jdGlvbiBrZChhLGIpe3JldHVybiBhLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gamQoYSxhLnN0YXJ0VGltZStiLG51bGwhPWEuZW5kVGltZT9hLmVuZFRpbWUrYjpudWxsKX0pfTtmdW5jdGlvbiBsZChhLGIsYyxkKXtmb3IodmFyIGU9Yi5hLGY9W10sZz0wO2c8ZDsrK2cpe3ZhciBoPWcrYyxrPShoLTEpKmUuSCxsPWsvZS5zLG09KGsrZS5IKS9lLnMsaD1tZChhLGIsZS5iK2gtMSxrKTtpZighaClyZXR1cm4gbnVsbDtmLnB1c2gobmV3IGlkKGwsbSxoLGssZS5IfHwwKSl9cmV0dXJuIGZ9ZnVuY3Rpb24gbWQoYSxiLGMsZCxlLGYpe2lmKCFiLmEpcmV0dXJuIG51bGw7ZT1lfHwhMTt2YXIgZz1iLmEuZixoPWIuYS5DLmE7aWYoIWcpcmV0dXJuIGIuYmFzZVVybD9uZXcgSyhhLGIuYmFzZVVybCwwLG51bGwsdm9pZCAwLGYpOm51bGw7Yz1uZChlJiZoP2g6ZyxiLmlkLGMsYi5iYW5kd2lkdGgsZCk7aWYoIWMpcmV0dXJuIG51bGw7Yj1aYyhiLmJhc2VVcmwsYyk7cmV0dXJuIG5ldyBLKGEsYiwwLG51bGwsZSxmKX0KZnVuY3Rpb24gbmQoYSxiLGMsZCxlKXt2YXIgZj17UmVwcmVzZW50YXRpb25JRDpiLE51bWJlcjpjLEJhbmR3aWR0aDpkLFRpbWU6ZX07YT1hLnJlcGxhY2UoL1wkKFJlcHJlc2VudGF0aW9uSUR8TnVtYmVyfEJhbmR3aWR0aHxUaW1lKT8oPzolMChbMC05XSspZCk/XCQvZyxmdW5jdGlvbihhLGIsYyl7aWYoIiQkIj09YSlyZXR1cm4iJCI7dmFyIGQ9ZltiXTtpZihudWxsPT1kKXJldHVybiBhOyJSZXByZXNlbnRhdGlvbklEIj09YiYmYyYmKGM9dm9pZCAwKTthPWQudG9TdHJpbmcoKTtjPXdpbmRvdy5wYXJzZUludChjLDEwKXx8MTtjPU1hdGgubWF4KDAsYy1hLmxlbmd0aCk7cmV0dXJuIEFycmF5KGMrMSkuam9pbigiMCIpK2F9KTt0cnl7cmV0dXJuIG5ldyBMKGEpfWNhdGNoKGcpe2lmKGcgaW5zdGFuY2VvZiBVUklFcnJvcilyZXR1cm4gbnVsbDt0aHJvdyBnO319CmZ1bmN0aW9uIG9kKGEsYixjLGQsZSxmKXt2YXIgZz0wLGg9YypiO2M9YS5OO3ZhciBrPWR8fDA7ZD1bXTt2YXIgbD1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigibGl2ZV9yZXdpbmRfdGVtcGxhdGVkX2xhc3RfeF9zZWdtZW50c19vbmx5IiwwKSxtPVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgidGVtcGxhdGVkX2xhc3RfeF90aW1lbGluZSIsITEpJiZlJiZudWxsIT1mLHA9ZSYmbT9WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigidGVtcGxhdGVkX2luZ2VzdF90aHJvdHRsZSIsMCk6MDtpZihsfHxtKXtmb3IoZT0wO2U8Yy5sZW5ndGg7KytlKXtpZighY1tlXS5kdXJhdGlvbilyZXR1cm4gZDt2YXIgdD1jW2VdLnN0YXJ0VGltZSx0PW51bGwhPXQ/dDpnLHc9Y1tlXS5yZXBlYXR8fDA7aWYoMD53KWlmKHc9Y1tlXS5kdXJhdGlvbixlKzE9PT1jLmxlbmd0aCl2YXIgej1jWzBdLnN0YXJ0VGltZStoLXQsdz1NYXRoLmNlaWwoei8KdyktMTtlbHNlIHo9Y1tlKzFdLnN0YXJ0VGltZSx3PU1hdGguY2VpbCgoei10KS93KS0xO2NbZV0uc3RhcnRUaW1lPXQ7Y1tlXS5yZXBlYXQ9dztnPWNbZV0uc3RhcnRUaW1lK2NbZV0uZHVyYXRpb24qKGNbZV0ucmVwZWF0KzEpfWZvcihlPWMubGVuZ3RoLTE7LTE8ZTstLWUpZm9yKHZhciBIPTA7SDw9Y1tlXS5yZXBlYXQ7KytIKWlmKHQ9Y1tlXS5zdGFydFRpbWUrY1tlXS5kdXJhdGlvbiooY1tlXS5yZXBlYXQtSCksZz10K2NbZV0uZHVyYXRpb24sYT1udWxsLGQubGVuZ3RoJiZnIT1kW2QubGVuZ3RoLTFdLnN0YXJ0JiYoej1kW2QubGVuZ3RoLTFdLnN0YXJ0LWcsYT1uZXcgaGQoZy9iLHovYiksZz1kW2QubGVuZ3RoLTFdLnN0YXJ0KSxkLnB1c2goe3N0YXJ0OnQsZW5kOmd9KSxhJiYoZFtkLmxlbmd0aC0xXS50aW1lc2NhbGVkR2FwSW5mbz1hKSxsKXtpZihkLmxlbmd0aD09PWwpcmV0dXJuIGQ9ZC5yZXZlcnNlKCl9ZWxzZSBpZihtJiZkW2QubGVuZ3RoLTFdLnN0YXJ0PD1mKXJldHVybiBkLnBvcCgpLApkPWQucmV2ZXJzZSgpLDA8cCYmKGQ9ZC5zbGljZSgwLHApKSxkO3JldHVybiBkLnJldmVyc2UoKX1mb3IoZT0wO2U8Yy5sZW5ndGg7KytlKXtpZighY1tlXS5kdXJhdGlvbilyZXR1cm4gZDt0PWNbZV0uc3RhcnRUaW1lO3Q9bnVsbCE9dD90Omc7dz1jW2VdLnJlcGVhdHx8MDswPncmJih3PWNbZV0uZHVyYXRpb24sZSsxPT09Yy5sZW5ndGg/KHo9Y1swXS5zdGFydFRpbWUraC10LHc9TWF0aC5jZWlsKHovdyktMSk6KHo9Y1tlKzFdLnN0YXJ0VGltZSx3PU1hdGguY2VpbCgoei10KS93KS0xKSk7MDxkLmxlbmd0aCYmdCE9ZyYmKHo9dC1nLGY9ZFtkLmxlbmd0aC0xXSxmLnRpbWVzY2FsZWRHYXBJbmZvPW5ldyBoZChnL2Isei9iKSxmLmVuZD10KTtmb3IoSD0wO0g8PXc7KytIKWc9dCtjW2VdLmR1cmF0aW9uLGQucHVzaCh7c3RhcnQ6dCxlbmQ6Z30pLHQ9Z31pZihhLmEmJjA8Yy5sZW5ndGgpZm9yKGI9Y1swXS5kdXJhdGlvbixmPTA7ZjxrO2YrKylkLnB1c2goe3N0YXJ0OnQrZipiLGVuZDp0KwooZisxKSpiLHVkOmEuYitmfSk7cmV0dXJuIGR9O2Z1bmN0aW9uIHBkKGEsYixjLGQsZSl7dGhpcy53PWE7dGhpcy5tPWI7dGhpcy5jPWM7dGhpcy5XPTA7dGhpcy5CPSEwO3RoaXMucz1jLnN8fDA7dGhpcy5BPSExO3RoaXMuZz1udWxsO3RoaXMudT1kO3RoaXMuaj1jLkx8fDA7dGhpcy5iPTA7dGhpcy5pPXRoaXMuaD1udWxsO2E6e2I9Yy5DO3ZhciBmPTA7YT0oYS5kdXJhdGlvbnx8MCkqdGhpcy5zO2M9Yi5OO2ZvcihkPTA7ZDxjLmxlbmd0aDsrK2Qpe2lmKCFjW2RdLmR1cmF0aW9uKXtiLk49Yy5zbGljZSgwLGQpO2JyZWFrIGF9dmFyIGc9Y1tkXS5zdGFydFRpbWUsZj1udWxsIT1nP2c6ZixnPWNbZF0ucmVwZWF0fHwwOzA+ZyYmKGc9Y1tkXS5kdXJhdGlvbixnPWQrMT09PWMubGVuZ3RoP01hdGguY2VpbCgoY1swXS5zdGFydFRpbWUrYS1mKS9nKS0xOk1hdGguY2VpbCgoY1tkKzFdLnN0YXJ0VGltZS1mKS9nKS0xKTtjW2RdLnN0YXJ0VGltZT1mO2NbZF0ucmVwZWF0PWc7Zj1jW2RdLnN0YXJ0VGltZStjW2RdLmR1cmF0aW9uKihjW2RdLnJlcGVhdCsKMSl9fXRoaXMuZj1bXTt0aGlzLm89VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoInRpbWVsaW5lX3NlZ21lbnRfaW5kZXhfbWF4X2luZGV4X2NhY2hlX2xlbmd0aCIsMCk7dGhpcy5iPVNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscy5sZW5ndGgodGhpcy5jLkMuTik7dGhpcy5EPWV8fG51bGx9cGQucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmI9dGhpcy5jPXRoaXMubT10aGlzLnc9bnVsbDt0aGlzLmc9ZnVuY3Rpb24oKXt9O3RoaXMuZj10aGlzLnU9bnVsbH07cGQucHJvdG90eXBlLmxlbmd0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmJ9O2Z1bmN0aW9uIHFkKGEsYil7Zm9yKHZhciBjPWEuZi5sZW5ndGgtMTstMTxjO2MtLSlpZihhLmZbY10uaW5kZXg9PT1iKXt2YXIgZD1hLmZbY107YS5mLnNwbGljZShjLDEpO2EuZi5wdXNoKGQpO3JldHVybiBkLnhkfXJldHVybiBudWxsfQpmdW5jdGlvbiByZChhLGIsYyl7dmFyIGQ9W107aWYoYS5vJiYxPT09Yy1iKXt2YXIgZT1xZChhLGIpO2lmKGUpcmV0dXJuW2VdfXZhciBmPS1hLmovYS5zK2EuVztTaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMuZ2V0U2VnbWVudHMoYixjLGEuYy5DLk4sZnVuY3Rpb24oYSxlLGssbCxtKXtpZihsKXt2YXIgcD1kW2QubGVuZ3RoLTFdO3AmJihwLnRpbWVzY2FsZWRHYXBJbmZvPW5ldyBoZChtL3RoaXMucyxsL3RoaXMucykscC5kZWJ1Z0luZm89e2VuZFRpbWU6cC50aW1lc2NhbGVkR2FwSW5mby5zZWdtZW50T3JpZ2luYWxFbmRUaW1lLGRlbHRhOnAudGltZXNjYWxlZEdhcEluZm8uZ2FwRGlzdGFuY2V9LGRbZC5sZW5ndGgtMV09amQocCxwLnN0YXJ0VGltZSxhL3RoaXMucytmKSl9az1tZCh0aGlzLnUsdGhpcy5tLGsrdGhpcy5jLmIsYSx2b2lkIDAsdGhpcy5EKTtpZighayl0aHJvdyBhPUVycm9yKCJGYWlsZWQgdG8gZ2VuZXJhdGUgbWVkaWEgVVJMLiIpLGEudHlwZT0iZGFzaCIsCmE7YT1uZXcgaWQoYS90aGlzLnMrZixlL3RoaXMucytmLGssYSxlLWEsbnVsbCk7ZT1iK2QubGVuZ3RoO2QucHVzaChhKTshdGhpcy5vfHwwIT09ZSYmZSE9PXRoaXMuYi0xJiYxIT09Yy1ifHxxZCh0aGlzLGUpfHwodGhpcy5mLmxlbmd0aCsxPnRoaXMubyYmdGhpcy5mLnNoaWZ0KCksdGhpcy5mLnB1c2goe2luZGV4OmUseGQ6YX0pKX0uYmluZChhKSk7cmV0dXJuIGR9CmZ1bmN0aW9uIHNkKGEsYil7dmFyIGM9Yi51bnNjYWxlZFN0YXJ0VGltZSxkPWIudW5zY2FsZWRFbmRUaW1lLGU9Yi5kZWx0YSxmPWIucHJldmlvdXNFbmRUaW1lO2lmKGUpdmFyIGc9bmV3IGhkKGYvYS5zLGUvYS5zKTtlPW1kKGEudSxhLm0sYi5zZWdtZW50UmVwbGFjZW1lbnQrYS5jLmIsYyx2b2lkIDAsYS5EKTtpZighZSl0aHJvdyBjPUVycm9yKCJGYWlsZWQgdG8gZ2VuZXJhdGUgbWVkaWEgVVJMLiIpLGMudHlwZT0iZGFzaCIsYztmPS1hLmovYS5zK2EuVztyZXR1cm4gbmV3IGlkKGMvYS5zK2YsZC9hLnMrZixlLGMsZC1jLGd8fG51bGwpfXBkLnByb3RvdHlwZS5nZXRTZWdtZW50cz1mdW5jdGlvbigpe3JldHVybiByZCh0aGlzLDAsdGhpcy5iKXx8W119OwpwZC5wcm90b3R5cGUuZmlyc3Q9ZnVuY3Rpb24oKXtpZighdGhpcy5iKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbmRleCBvdXQgb2YgcmFuZ2UuIik7aWYoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJvcHRpbWl6ZV9jb21tb25fc2VnbWVudF9nZW5lcmF0aW9ucyIsITEpKXtpZih0aGlzLmgpcmV0dXJuIHRoaXMuaDt2YXIgYT1TaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMuZmlyc3QodGhpcy5jLkMuTix0aGlzLmIpO3JldHVybiB0aGlzLmg9c2QodGhpcyxhKX1yZXR1cm4gcmQodGhpcywwLDEpWzBdfTsKcGQucHJvdG90eXBlLmxhc3Q9ZnVuY3Rpb24oKXtpZighdGhpcy5iKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbmRleCBvdXQgb2YgcmFuZ2UuIik7aWYoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJvcHRpbWl6ZV9jb21tb25fc2VnbWVudF9nZW5lcmF0aW9ucyIsITEpKXtpZih0aGlzLmkpcmV0dXJuIHRoaXMuaTt2YXIgYT1TaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMubGFzdCh0aGlzLmMuQy5OLHRoaXMuYik7cmV0dXJuIHRoaXMuaT1zZCh0aGlzLGEpfXJldHVybiByZCh0aGlzLHRoaXMuYi0xLHRoaXMuYilbMF19OwpwZC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGEpe2lmKCF0aGlzLmJ8fDA+YXx8YT49dGhpcy5iKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbmRleCBvdXQgb2YgcmFuZ2UuIik7cmV0dXJuIFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgib3B0aW1pemVfY29tbW9uX3NlZ21lbnRfZ2VuZXJhdGlvbnMiLCExKT8oYT1TaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMuZ2V0KHRoaXMuYy5DLk4sYSx0aGlzLmIpLHNkKHRoaXMsYSkpOnJkKHRoaXMsYSxhKzEpWzBdfTsKcGQucHJvdG90eXBlLmZpbmQ9ZnVuY3Rpb24oYSl7aWYoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJmaXhfY29tcG9zaXRlZF90aW1lX2luZGV4X2NhbGxzIiwhMSkpcmV0dXJuKGE9U2hha2FUaW1lbGluZVNlZ21lbnRJbmRleFV0aWxzLmZpbmQoYSx0aGlzLmMuQy5OLHRoaXMucywtdGhpcy5qL3RoaXMucyt0aGlzLlcpKT9zZCh0aGlzLGEpOm51bGw7YT10aGlzLmZpbmRJbmRleChhKTtyZXR1cm4gVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJvcHRpbWl6ZV9jb21tb25fc2VnbWVudF9nZW5lcmF0aW9ucyIsITEpPzA8PWE/dGhpcy5nZXQoYSk6bnVsbDowPD1hP3JkKHRoaXMsYSxhKzEpWzBdOm51bGx9O3BkLnByb3RvdHlwZS5maW5kSW5kZXg9ZnVuY3Rpb24oYSl7cmV0dXJuIFNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscy5maW5kSW5kZXgoYSx0aGlzLmMuQy5OLHRoaXMucywtdGhpcy5qL3RoaXMucyt0aGlzLlcpfTtuPXBkLnByb3RvdHlwZTsKbi5TYT1mdW5jdGlvbihhKXt2YXIgYj1hLmxlbmd0aCgpLGM9Yi10aGlzLmI7aWYoMCE9PWImJihiIT09dGhpcy5ifHwwIT09dGhpcy5iJiZhLmxhc3QoKS5lbmRUaW1lIT09dGhpcy5sYXN0KCkuZW5kVGltZSkmJiEoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJmaXhfaW50ZWdyYXRpb25fb25fZWFybGllcl9lbmR0aW1lIiwhMSkmJmEubGFzdCgpLmVuZFRpbWU8PXRoaXMubGFzdCgpLmVuZFRpbWUpKWlmKHRoaXMuQT0hMSxiPWEubGFzdCgpLG51bGwhPWIuZW5kVGltZSYmYi5lbmRUaW1lPHRoaXMubGFzdCgpLmVuZFRpbWUmJmIuZW5kVGltZTx0aGlzLmZpcnN0KCkuc3RhcnRUaW1lJiYodGhpcy5BPSEwKSxWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImludGVncmF0ZV9zZWdtZW50X3RpbWVsaW5lX3RpbWVfcG9pbnRzIiwhMSk/dGhpcy5jLkMuTj1TaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMuaW50ZWdyYXRlVGltZVBvaW50cyh0aGlzLmMuQy5OLAphLmMuQy5OKToodGhpcy53PWEudyx0aGlzLm09YS5tLHRoaXMuYz1hLmMsdGhpcy5qPXRoaXMuYy5MfHwwLHRoaXMucz10aGlzLmMuc3x8MCksdGhpcy5mPVtdLHRoaXMuaT10aGlzLmg9bnVsbCx0aGlzLmI9U2hha2FUaW1lbGluZVNlZ21lbnRJbmRleFV0aWxzLmxlbmd0aCh0aGlzLmMuQy5OKSx0aGlzLmZpcnN0KCksdGhpcy5sYXN0KCksVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJ0ZW1wbGF0ZWRfY2FsbF9vbl9zZWdtZW50c191cGRhdGVkX3dpdGhfZGVsdGFfc2VnbWVudHMiLCExKSl7dmFyIGQ9W10sYz10aGlzLmItYztmb3IoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJ0ZW1wbGF0ZWRfZHluYW1pY19pbmNsdWRlX3ByZXZpb3VzX2xhc3Rfc2VnbWVudF9pbl91cGRhdGVzIiwhMSkmJjA8YyYmYy0tO2M8dGhpcy5iOysrYylkLnB1c2godGhpcy5nZXQoYykpO3RoaXMuZyYmdGhpcy5nKGQpfWVsc2UgYz0hVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJub19wcm92aWRlX3NlZ21lbnRzX3RvX29uX3NlZ21lbnRzX3VwZGF0ZWRfbGlzdGVuZXJzIiwKITEpLHRoaXMuZyYmKGMmJihkPXRoaXMuZ2V0U2VnbWVudHMoKSksdGhpcy5nKGQpKX07bi5oYj1mdW5jdGlvbihhKXt2YXIgYj1hLXRoaXMuVztpZigwPT1iKXJldHVybiAwO3RoaXMuVz1hO3RoaXMuaT10aGlzLmg9bnVsbDt0aGlzLmY9W107cmV0dXJuIGJ9O24uaWI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iP3tzdGFydDp0aGlzLmZpcnN0KCkuc3RhcnRUaW1lLGVuZDp0aGlzLmxhc3QoKS5lbmRUaW1lfTp7c3RhcnQ6MCxlbmQ6MH19O24uZ2V0U2Vla1JhbmdlR2Fwcz1mdW5jdGlvbigpe3JldHVybiBTaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMuZ2V0U2Vla1JhbmdlR2Fwcyh0aGlzLmMuQy5OLHRoaXMucywtdGhpcy5qL3RoaXMucyt0aGlzLlcpfTtuLnJiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuQX07bi5HYz1mdW5jdGlvbihhKXt0aGlzLmc9YX07bi5GYz1mdW5jdGlvbigpe3RoaXMuZz1udWxsfTtuLklhPWZ1bmN0aW9uKCl7fTtmdW5jdGlvbiB0ZCgpe30KdGQucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9bnVsbDt0cnl7YTp7dmFyIGc9W10saD1uZXcgQmEoYSksaz12KGgpO2lmKDE5MzYyODY4NDAhPXYoaCkpZj1udWxsO2Vsc2V7MT09ayYmKGs9RmEoaCkpO3ZhciBsPUVhKGgpO0hhKGgsMyk7SGEoaCw0KTt2YXIgbT12KGgpO2lmKDA9PW0pZj1udWxsO2Vsc2V7dmFyIHAsdDswPT1sPyhwPXYoaCksdD12KGgpKToocD1GYShoKSx0PUZhKGgpKTtIYShoLDIpO3ZhciB3PWguYi5nZXRVaW50MTYoaC5hLGguYyk7aC5hKz0yO2E9cDtiPWIrayt0O2Zvcih0PWs9MDt0PHc7dCsrKXt2YXIgej12KGgpO3A9KHomMjE0NzQ4MzY0OCk+Pj4zMTt2YXIgbD16JjIxNDc0ODM2NDcsSD12KGgpO3YoaCk7aWYoMT09cCl7Zj1udWxsO2JyZWFrIGF9dmFyIGRhO2RhPTA9PXQmJmU/ZTpuZXcgSyhkLGMsYixiK2wtMSk7cD1hL207dmFyIGVhPShhK0gpL207MD09PXQmJihrPXApO2cucHVzaChuZXcgaWQocC1rLGVhLWssZGEsCmEsSCkpO2ErPUg7Yis9bH1nLnM9bTtmPWd9fX19Y2F0Y2goQWEpe2lmKCEoQWEgaW5zdGFuY2VvZiBSYW5nZUVycm9yKSl0aHJvdyBBYTt9cmV0dXJuIGZ9O2Z1bmN0aW9uIFIoYSl7dGhpcy5hPWE7dGhpcy5zPXRoaXMuYS5zO3RoaXMuSz10aGlzLmEuQjt0aGlzLmc9W119Ui5wcm90b3R5cGUuSj1mdW5jdGlvbigpe3JldHVybiEhdGhpcy5nW3RoaXMuZy5sZW5ndGgtMV19O1IucHJvdG90eXBlLmxhc3RQb2xsSGFkQ2hhbmdlcz1SLnByb3RvdHlwZS5KO1IucHJvdG90eXBlLkk9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmcsYj1hLmxhc3RJbmRleE9mKCEwKTtpZigxPmIpcmV0dXJuIDA7YT1hLmxhc3RJbmRleE9mKCEwLGItMSk7cmV0dXJuIDA+YT8wOmItYS0xfTtSLnByb3RvdHlwZS5nZXRGZXRjaGVzQmV0d2VlblJlY2VudENoYW5nZXM9Ui5wcm90b3R5cGUuSTtSLnByb3RvdHlwZS51PWZ1bmN0aW9uKCl7cmV0dXJuIE1hdGguZmxvb3IoKHRoaXMuZy5sZW5ndGgtMS10aGlzLmcubGFzdEluZGV4T2YoITApKS8yKX07Ui5wcm90b3R5cGUuZ2V0Q29uc2VjdXRpdmVVcGRhdGVzV2l0aG91dENoYW5nZXM9Ui5wcm90b3R5cGUudTsKUi5wcm90b3R5cGUuRz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmcubGVuZ3RoLTEtdGhpcy5nLmxhc3RJbmRleE9mKCExKX07Ui5wcm90b3R5cGUuZ2V0Q29uc2VjdXRpdmVVcGRhdGVzV2l0aENoYW5nZXM9Ui5wcm90b3R5cGUuRztSLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5hLmRlc3Ryb3koKTt0aGlzLmE9bnVsbH07Ui5wcm90b3R5cGUubGVuZ3RoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS5sZW5ndGgoKX07Ui5wcm90b3R5cGUuZ2V0U2VnbWVudHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLmdldFNlZ21lbnRzKCl9O1IucHJvdG90eXBlLmdldFNlZ21lbnRzPVIucHJvdG90eXBlLmdldFNlZ21lbnRzO1IucHJvdG90eXBlLmZpcnN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS5maXJzdCgpfTtSLnByb3RvdHlwZS5sYXN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS5sYXN0KCl9O1IucHJvdG90eXBlLmxhc3Q9Ui5wcm90b3R5cGUubGFzdDsKUi5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmEuZ2V0KGEpfTtSLnByb3RvdHlwZS5maW5kPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmEuZmluZChhKX07Ui5wcm90b3R5cGUuZmluZEluZGV4PWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmEuZmluZEluZGV4KGEpfTtSLnByb3RvdHlwZS5CPWZ1bmN0aW9uKGEpe3RoaXMuYS5TYShhLmEpO3JldHVybiEwfTtSLnByb3RvdHlwZS5UYT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5hLmhiKGEpfTtSLnByb3RvdHlwZS5BPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS5pYigpfTtSLnByb3RvdHlwZS5nZXRTZWVrUmFuZ2VHYXBzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS5nZXRTZWVrUmFuZ2VHYXBzKCl9O1IucHJvdG90eXBlLmdldFNlZWtSYW5nZUdhcHM9Ui5wcm90b3R5cGUuZ2V0U2Vla1JhbmdlR2FwcztSLnByb3RvdHlwZS5yYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmEucmIoKX07CmZ1bmN0aW9uIHVkKGEsYil7YS5hLkdjKGIpfTtmdW5jdGlvbiBTKGEsYixjLGQpe1IuY2FsbCh0aGlzLGEpO3RoaXMuaT1iO3RoaXMuRj1jO3RoaXMuaD1kO3RoaXMuZHVyYXRpb249dGhpcy5pLmJ8fHRoaXMuaS5hLnJlZHVjZShmdW5jdGlvbihhLGIpe3JldHVybiBudWxsPT1iLmR1cmF0aW9uP05hTjphK2IuZHVyYXRpb259LDApfHwwO3RoaXMuYj10aGlzLm89dGhpcy5mPW51bGw7eWQodGhpcyl9cihTLFIpO1MucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLkY9dGhpcy5pPW51bGw7Ui5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpfTtTLnByb3RvdHlwZS5maW5kPWZ1bmN0aW9uKGEpe3pkKHRoaXMseWEoKS8xRTMpO3JldHVybiBSLnByb3RvdHlwZS5maW5kLmNhbGwodGhpcyxhKX07ClMucHJvdG90eXBlLkI9ZnVuY3Rpb24oYSl7aWYoIShhIGluc3RhbmNlb2YgUykpcmV0dXJuITE7dGhpcy5hLlNhKGEuYSk7dGhpcy5kdXJhdGlvbj1NYXRoLm1heCh0aGlzLmR1cmF0aW9uLGEuZHVyYXRpb24pO251bGw9PXRoaXMuZj8odGhpcy5oPWEuaCx5ZCh0aGlzKSk6QWQodGhpcyk7cmV0dXJuITB9O2Z1bmN0aW9uIHlkKGEpe0FkKGEpO2lmKDAhPWEubGVuZ3RoKCkpe2EubGVuZ3RoKCk7dmFyIGI9bnVsbCE9YS5sYXN0KCkuZW5kVGltZT9hLmxhc3QoKS5lbmRUaW1lOmEubGFzdCgpLnN0YXJ0VGltZTtpZihhLmkuYz5hLmgpYS5mPWI7ZWxzZXt2YXIgYz1hLmgtKGEuaS5jK2EuRi5zdGFydCk7MD5jP2EuZj1iOmM8TWF0aC5tYXgoYS5sYXN0KCkuc3RhcnRUaW1lLGEubGFzdCgpLmVuZFRpbWV8fDApPyhhLmxhc3QoKSxhLmY9Yik6YS5mPWN9YS5vPWEubGFzdCgpLnN0YXJ0VGltZTthLmI9YS5maXJzdCgpLnN0YXJ0VGltZX19ClMucHJvdG90eXBlLlRhPWZ1bmN0aW9uKGEpe2E9Ui5wcm90b3R5cGUuVGEuY2FsbCh0aGlzLGEpO1ZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgibm9fY29ycmVjdF9kZWx0YV93YXJuaW5nIiwhMSl8fE1hdGgubWluLmFwcGx5KG51bGwsdGhpcy5nZXRTZWdtZW50cygpLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YS5lbmRUaW1lfSkubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLmVuZFRpbWUtYS5zdGFydFRpbWV9KSk7bnVsbCE9dGhpcy5mJiYodGhpcy5vKz1hLHRoaXMuYis9YSx0aGlzLmYrPWEpO3JldHVybiBhfTtTLnByb3RvdHlwZS5BPWZ1bmN0aW9uKCl7cmV0dXJuIEJkKHRoaXMseWEoKS8xRTMpfTsKZnVuY3Rpb24gQmQoYSxiKXt6ZChhLGIpO2lmKG51bGw9PWEuZnx8bnVsbD09YS5vfHxudWxsPT1hLmIpcmV0dXJue3N0YXJ0OjAsZW5kOjB9O3ZhciBjPU51bWJlci5QT1NJVElWRV9JTkZJTklUWTthLmR1cmF0aW9uJiYoYz1hLmR1cmF0aW9uKTt2YXIgZD1iLWEuaCxlPWEuZitkO251bGwhPWEuaS5mJiYoZT1lLWEuYi1hLmkuZiwwPGUmJihhLmIrPWUpKTthLmI9TWF0aC5taW4oYS5iLGMpO2Q9YS5vK2Q7aWYoZDxhLmIpcmV0dXJue3N0YXJ0OmEuYixlbmQ6YS5ifTtkPTA8YS5sZW5ndGgoKT9udWxsIT1hLmxhc3QoKS5lbmRUaW1lP01hdGgubWluKGQsYS5sYXN0KCkuZW5kVGltZSk6ZDphLmI7ZD1NYXRoLm1heChkLGEuYik7ZD1NYXRoLm1pbihkLGMpO3JldHVybntzdGFydDphLmIsZW5kOmR9fQpmdW5jdGlvbiB6ZChhLGIpe2lmKGEuYS5hJiYoQWQoYSksbnVsbCE9YS5pLmYpKWlmKG51bGw9PWEuZilhLmxlbmd0aCgpO2Vsc2V7Zm9yKHZhciBjPWEuZisoYi1hLmgpLGQ9MCxlPTA7ZTxhLmEuYS5sZW5ndGg7KytlKXt2YXIgZj1udWxsO2U8YS5hLmEubGVuZ3RoLTE/Zj1hLmEuYVtlKzFdLmVuZFRpbWU6KGY9YS5hLmFbZV0sZj1udWxsIT1mLmVuZFRpbWU/Zi5lbmRUaW1lKyhmLmVuZFRpbWUtZi5zdGFydFRpbWUpOm51bGwpO2lmKG51bGwhPWYmJmY8Yy1hLmkuZikrK2Q7ZWxzZSBicmVha30wPGQmJmEuYS5hLnNwbGljZSgwLGQpfX1mdW5jdGlvbiBBZChhKXtpZihhLmR1cmF0aW9uJiZhLmEuYSl7Zm9yKHZhciBiPTAsYz1hLmEuYS5sZW5ndGgtMTswPD1jOy0tYylpZihhLmEuYVtjXS5zdGFydFRpbWU+YS5kdXJhdGlvbikrK2I7ZWxzZSBicmVhazswPGImJmEuYS5hLnNwbGljZSgtYil9fTtmdW5jdGlvbiBUKGEsYixjKXt2YXIgZD1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigidGVtcGxhdGVkX3F1YXJhbnRpbmVfaWRsZV9yZWZlcmVuY2VzX3RocmVzaG9sZCIsMCk7dGhpcy5pPVtdO2lmKDA8ZCl7dmFyIGU9YTthPWUuc3BsaWNlKC1kKTt0aGlzLmk9ZX10aGlzLmE9YTt0aGlzLlc9MDt0aGlzLnM9Yjt0aGlzLmY9ITE7dGhpcy5oPWZ1bmN0aW9uKCl7fTt0aGlzLkI9Y3x8ITF9VC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuYT1udWxsfTtULnByb3RvdHlwZS5sZW5ndGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLmxlbmd0aH07VC5wcm90b3R5cGUuZ2V0U2VnbWVudHM9ZnVuY3Rpb24oKXtyZXR1cm4odGhpcy5hfHxbXSkuc2xpY2UoKX07VC5wcm90b3R5cGUuZ2V0U2VnbWVudHM9VC5wcm90b3R5cGUuZ2V0U2VnbWVudHM7ClQucHJvdG90eXBlLmZpcnN0PWZ1bmN0aW9uKCl7aWYoMD09dGhpcy5hLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiU2VnbWVudEluZGV4QmFzZTogVGhlcmUgaXMgbm8gZmlyc3QgU2VnbWVudFJlZmVyZW5jZS4iKTtyZXR1cm4gdGhpcy5hWzBdfTtULnByb3RvdHlwZS5sYXN0PWZ1bmN0aW9uKCl7aWYoMD09dGhpcy5hLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiU2VnbWVudEluZGV4QmFzZTogVGhlcmUgaXMgbm8gbGFzdCBTZWdtZW50UmVmZXJlbmNlLiIpO3JldHVybiB0aGlzLmFbdGhpcy5hLmxlbmd0aC0xXX07VC5wcm90b3R5cGUubGFzdD1ULnByb3RvdHlwZS5sYXN0O1QucHJvdG90eXBlLmdldD1mdW5jdGlvbihhKXtpZigwPmF8fGE+PXRoaXMuYS5sZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIlNlZ21lbnRJbmRleEJhc2U6IFRoZSBzcGVjaWZpZWQgaW5kZXggaXMgb3V0IG9mIHJhbmdlLiIpO3JldHVybiB0aGlzLmFbYV19OwpULnByb3RvdHlwZS5maW5kPWZ1bmN0aW9uKGEpe2E9dGhpcy5maW5kSW5kZXgoYSk7cmV0dXJuIDA8PWE/dGhpcy5hW2FdOm51bGx9O1QucHJvdG90eXBlLmZpbmRJbmRleD1mdW5jdGlvbihhKXtyZXR1cm4geWIodGhpcy5hLGEpfTsKVC5wcm90b3R5cGUuU2E9ZnVuY3Rpb24oYSl7dGhpcy5XIT1hLlcmJihhPW5ldyBUKGtkKGEuYSx0aGlzLlctYS5XKSxhLnMpKTtpZigwPT10aGlzLmxlbmd0aCgpKXRoaXMuYT1hLmEuc2xpY2UoMCksdGhpcy5JYSgpO2Vsc2UgaWYoMCE9YS5sZW5ndGgoKSYmbnVsbCE9dGhpcy5sYXN0KCkuZW5kVGltZSlpZihudWxsIT1hLmxhc3QoKS5lbmRUaW1lJiZhLmxhc3QoKS5lbmRUaW1lPHRoaXMubGFzdCgpLmVuZFRpbWUpVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJmaXhfbWFuaWZlc3Rfd3JhcHBlZCIsITApP2EubGFzdCgpLmVuZFRpbWU8dGhpcy5maXJzdCgpLnN0YXJ0VGltZSYmKHRoaXMuZj0hMCk6dGhpcy5mPSEwO2Vsc2V7dGhpcy5mPSExO2lmKHRoaXMubGFzdCgpLmVuZFRpbWU8PWEuZmlyc3QoKS5zdGFydFRpbWUpe3ZhciBiPWpkKHRoaXMubGFzdCgpLHRoaXMubGFzdCgpLnN0YXJ0VGltZSxhLmZpcnN0KCkuc3RhcnRUaW1lKSxjPXRoaXMubGFzdCgpLnVuc2NhbGVkU3RhcnRUaW1lKwp0aGlzLmxhc3QoKS51bnNjYWxlZER1cmF0aW9uO1ZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgiY2FsY3VsYXRlX21pc3NlZF9zZWdtZW50X2dhcF9pbmZvX29uX21lcmdlIiwhMSkmJmM8YS5maXJzdCgpLnVuc2NhbGVkU3RhcnRUaW1lJiZudWxsPT09dGhpcy5sYXN0KCkudGltZXNjYWxlZEdhcEluZm8mJihiLnRpbWVzY2FsZWRHYXBJbmZvPW5ldyBoZChjL3RoaXMucywoYS5maXJzdCgpLnVuc2NhbGVkU3RhcnRUaW1lLWMpL3RoaXMucykpO2lmKFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgidGVtcGxhdGVkX29wdGltaXplX21lcmdlX3RhcmdldF9hbGdvcyIsITEpKWZvcih0aGlzLmEucG9wKCksdGhpcy5hLnB1c2goYiksYz0wO2M8YS5hLmxlbmd0aDsrK2MpdGhpcy5hLnB1c2goYS5hW2NdKTtlbHNlIGI9dGhpcy5hLnNsaWNlKDAsLTEpLmNvbmNhdChbYl0pLHRoaXMuYT1iLmNvbmNhdChhLmEpfWVsc2V7Zm9yKGM9MDtjPHRoaXMuYS5sZW5ndGgmJgohKHRoaXMuYVtjXS5lbmRUaW1lPj1hLmZpcnN0KCkuc3RhcnRUaW1lKTsrK2MpO3RoaXMuYVtjXS5zdGFydFRpbWU8YS5maXJzdCgpLnN0YXJ0VGltZT8oYj1qZCh0aGlzLmFbY10sdGhpcy5hW2NdLnN0YXJ0VGltZSxhLmZpcnN0KCkuc3RhcnRUaW1lKSxiPXRoaXMuYS5zbGljZSgwLGMpLmNvbmNhdChbYl0pKToodGhpcy5maXJzdCgpLnN0YXJ0VGltZT5hLmZpcnN0KCkuc3RhcnRUaW1lfHxhLmZpcnN0KCksYj10aGlzLmEuc2xpY2UoMCxjKSk7dGhpcy5hPWIuY29uY2F0KGEuYSl9dGhpcy5oKGEuYSk7dGhpcy5JYSgpfX07VC5wcm90b3R5cGUuaGI9ZnVuY3Rpb24oYSl7dmFyIGI9YS10aGlzLlc7aWYoMD09YilyZXR1cm4gMDt0aGlzLmE9a2QodGhpcy5hLGIpO3RoaXMuSWEoKTt0aGlzLlc9YTtyZXR1cm4gYn07ClQucHJvdG90eXBlLmliPWZ1bmN0aW9uKCl7cmV0dXJuIDA8dGhpcy5sZW5ndGgoKT97c3RhcnQ6dGhpcy5maXJzdCgpLnN0YXJ0VGltZSxlbmQ6dGhpcy5sYXN0KCkuZW5kVGltZX06e3N0YXJ0OjAsZW5kOjB9fTtULnByb3RvdHlwZS5nZXRTZWVrUmFuZ2VHYXBzPWZ1bmN0aW9uKCl7cmV0dXJuIGdldFNlZWtSYW5nZUdhcHNGcm9tU2hha2FSZWZlcmVuY2VzKHRoaXMuYSx0aGlzLnMpfTtULnByb3RvdHlwZS5nZXRTZWVrUmFuZ2VHYXBzPVQucHJvdG90eXBlLmdldFNlZWtSYW5nZUdhcHM7VC5wcm90b3R5cGUucmI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mfTtULnByb3RvdHlwZS5HYz1mdW5jdGlvbihhKXt0aGlzLmg9YX07VC5wcm90b3R5cGUuRmM9ZnVuY3Rpb24oKXt0aGlzLmg9ZnVuY3Rpb24oKXt9fTtULnByb3RvdHlwZS5JYT1mdW5jdGlvbigpe307VC5wcm90b3R5cGUuZ2V0SWRsZVJlZmVyZW5jZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pfTtmdW5jdGlvbiBDZChhLGIsYyxkLGUpe3ZhciBmPTEsZz0wLGg7aWYoYS5jPmQpaD1udWxsO2Vsc2V7dmFyIGs9YS5vfHwwLGw9YS5mfHwwO2g9Yy5hO2g9aC5IL2guczt2YXIgbT1kLShhLmMrYi5zdGFydCk7MD5tP2g9bnVsbDoobD1tLTIqaC1sLDA+bCYmKGw9MCksbD1NYXRoLmNlaWwobC9oKSpoLG0tPWgsMD5tP2g9bnVsbDooaz1NYXRoLmZsb29yKG0vaCkqaC1rLDA+ayYmKGs9MCksaz1NYXRoLmZsb29yKGsvaCkqaCxoPXt0YzpsL2grMSxjdXJyZW50OihrPj1sP2s6bCkvaCsxfSkpfWgmJihmPWgudGMsZz1oLmN1cnJlbnQtaC50YysxKTtmPWxkKGUsYyxmLGcpO2lmKG51bGw9PWYpdGhyb3cgYT1FcnJvcigiRmFpbGVkIHRvIGdlbmVyYXRlIFNlZ21lbnRSZWZlcmVuY2VzLiIpLGEudHlwZT0ic3RyZWFtIixhO2Y9bmV3IFQoZixjLmEuc3x8MSk7Uy5jYWxsKHRoaXMsZixhLGIsZCk7dGhpcy53PWM7dGhpcy5tPXRoaXMuYz0wPHRoaXMubGVuZ3RoKCk/YS5jK2Iuc3RhcnQrdGhpcy5sYXN0KCkuZW5kVGltZToKbnVsbDt0aGlzLmo9aD9oLmN1cnJlbnQrMTpudWxsO3RoaXMuRD1lfXIoQ2QsUyk7Q2QucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLkQ9dGhpcy53PW51bGw7Uy5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpfTtDZC5wcm90b3R5cGUuZmluZD1mdW5jdGlvbihhKXt2YXIgYj15YSgpLzFFMztEZCh0aGlzLGIpO3pkKHRoaXMsYik7cmV0dXJuIFIucHJvdG90eXBlLmZpbmQuY2FsbCh0aGlzLGEpfTtDZC5wcm90b3R5cGUuQj1mdW5jdGlvbihhKXtpZihudWxsIT10aGlzLmN8fCEoYSBpbnN0YW5jZW9mIENkKXx8bnVsbD09YS5jKXJldHVybiExO3RoaXMuYz1hLmM7dGhpcy5tPWEubTt0aGlzLmo9YS5qO3RoaXMuaD1hLmg7dGhpcy5kdXJhdGlvbj1hLmR1cmF0aW9uO3RoaXMuYS5TYShhLmEpO0RkKHRoaXMseWEoKS8xRTMpO3lkKHRoaXMpO3JldHVybiEwfTsKQ2QucHJvdG90eXBlLlRhPWZ1bmN0aW9uKGEpe2E9Uy5wcm90b3R5cGUuVGEuY2FsbCh0aGlzLGEpO251bGwhPXRoaXMuYyYmKHRoaXMuYys9YSx0aGlzLm0rPWEpO3JldHVybiBhfTtDZC5wcm90b3R5cGUuQT1mdW5jdGlvbigpe3ZhciBhPXlhKCkvMUUzO0RkKHRoaXMsYSk7cmV0dXJuIEJkKHRoaXMsYSl9O2Z1bmN0aW9uIERkKGEsYil7aWYobnVsbCE9YS5jJiZudWxsIT1hLm0mJm51bGwhPWEuail7dmFyIGM9YS53LmEsYz1jLkgvYy5zLGQ9TWF0aC5mbG9vcigoYS5tKyhiLWEuaCktYS5jKS9jKTtpZigwIT1kKXt2YXIgZT1sZChhLkQsYS53LGEuaixkKTtBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShhLmEuYSxrZChlLGEuYS5XKSk7YS5hLklhKCk7YS5jKz1kKmM7YS5qKz1kfX19O2Z1bmN0aW9uIEVkKGEsYixjLGQsZSl7dGhpcy5nPWE7dGhpcy5mPWI7dGhpcy5iPWM7dGhpcy5pPWQ7dGhpcy5hPW51bGw7dGhpcy5oPWV9RWQucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmg9dGhpcy5iPXRoaXMuZj10aGlzLmc9bnVsbDt0aGlzLmEmJih0aGlzLmEuZGVzdHJveSgpLHRoaXMuYT1udWxsKX07CkVkLnByb3RvdHlwZS5jcmVhdGU9ZnVuY3Rpb24oKXtpZih0aGlzLmEpcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLmEpO2lmKCJkeW5hbWljIj09dGhpcy5nLnR5cGUpdHJ5e3RoaXMuYT1uZXcgQ2QodGhpcy5nLHRoaXMuZix0aGlzLmIsdGhpcy5pLHRoaXMuaCl9Y2F0Y2goYSl7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfWVsc2V7dmFyIGI7Yj10aGlzLmIuYTtpZihiPWxkKHRoaXMuaCx0aGlzLmIsMSxNYXRoLmNlaWwodGhpcy5mLmR1cmF0aW9uLyhiLkgvYi5zKSkpKXtpZigwPGIubGVuZ3RoKXt2YXIgYz1iW2IubGVuZ3RoLTFdO2JbYi5sZW5ndGgtMV09amQoYyxjLnN0YXJ0VGltZSx0aGlzLmYuZHVyYXRpb24pfWI9bmV3IFQoYix0aGlzLmIuYS5zfHwxKTtiPW5ldyBSKGIpfWVsc2UgYj1udWxsO3RoaXMuYT1iO2lmKCF0aGlzLmEpcmV0dXJuIGI9RXJyb3IoIkZhaWxlZCB0byBnZW5lcmF0ZSBTZWdtZW50UmVmZXJlbmNlcyIpLGIudHlwZT0ic3RyZWFtIixQcm9taXNlLnJlamVjdChiKX1yZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuYSl9OwpFZC5wcm90b3R5cGUuYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmF9O2Z1bmN0aW9uIEZkKGEsYixjLGQsZSxmKXt0aGlzLmY9YTt0aGlzLmI9Yjt0aGlzLmg9Yzt0aGlzLmE9bnVsbDt0aGlzLmk9ZDt0aGlzLmc9ZTt0aGlzLmo9Znx8bnVsbH1GZC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuZz10aGlzLmg9dGhpcy5iPXRoaXMuZj1udWxsO3RoaXMuYSYmKHRoaXMuYS5kZXN0cm95KCksdGhpcy5hPW51bGwpfTsKRmQucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbigpe2lmKHRoaXMuYSlyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuYSk7dmFyIGE9dGhpcy5oLmIsYj1bXTthLkMmJihiPW9kKGEuQyxhLnN8fDEsdGhpcy5iLmR1cmF0aW9ufHwwKSk7dmFyIGM9MDthLkgmJmEuYz9jPShhLmMtMSkqYS5IOjA8Yi5sZW5ndGgmJihjPWJbMF0uc3RhcnQtKGEuTHx8MCkpO3ZhciBkPWMsZT1hLmEubGVuZ3RoOzA8Yi5sZW5ndGgmJmIubGVuZ3RoIT1hLmEubGVuZ3RoJiYoZT1NYXRoLm1pbihiLmxlbmd0aCxhLmEubGVuZ3RoKSk7Zm9yKHZhciBmPVtdLGc9MDtnPGU7KytnKXt2YXIgaD1hLmFbZ10saz1jLGw9ay9hLnMsbT1jPW51bGwscDthLkg/KGM9aythLkgsbT1jL2Eucyk6MDxiLmxlbmd0aD8ocD1iW2ddLnRpbWVzY2FsZWRHYXBJbmZvLGM9YltnXS5lbmQtKGEuTHx8MCksbT1jL2Eucyk6KG09bCt0aGlzLmIuZHVyYXRpb24sYz1tKmEucyk7dmFyIHQ9MCx3PW51bGw7aC5hJiYodD1oLmEucWEsCnc9aC5hLmVuZCk7bT1NYXRoLm1pbih0aGlzLmIuZHVyYXRpb24rZC9hLnMsbSk7Zi5wdXNoKG5ldyBpZChsLG0sbmV3IEsodGhpcy5nLGguYix0LHcsdm9pZCAwLHRoaXMuaiksayxwfHxudWxsKSl9YT1uZXcgVChmLGEuc3x8MSk7ImR5bmFtaWMiPT10aGlzLmYudHlwZT90aGlzLmE9bmV3IFMoYSx0aGlzLmYsdGhpcy5iLHRoaXMuaSk6dGhpcy5hPW5ldyBSKGEpO3JldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5hKX07RmQucHJvdG90eXBlLmM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hfTtmdW5jdGlvbiBHZChhLGIsYyl7VC5jYWxsKHRoaXMsYSxjKTt0aGlzLmc9Yjt0aGlzLmI9ITE7dGhpcy5qPVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0U3RyaW5nKCJ0ZW1wbGF0ZWRfcGVyZl90ZXN0X21ldGhvZHNfdW5kZXJfdGVzdF9jc3Zfc3RyaW5nIiwiYWxsIikuc3BsaXQoIiwiKX1yKEdkLFQpO2Z1bmN0aW9uIEhkKGEsYil7aWYoISgtMTxhLmouaW5kZXhPZigiYWxsIil8fC0xPGEuai5pbmRleE9mKGIpKXx8YS5iKXJldHVybiBudWxsO3ZhciBjPWEuYTthLmE9YS5nO2EuYj0hMDtyZXR1cm4gY31mdW5jdGlvbiBJZChhLGIpe2EuYiYmKGEuZz1hLmEsYS5hPWIpfUdkLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7VC5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpO3RoaXMuZz1udWxsfTsKR2QucHJvdG90eXBlLmxlbmd0aD1mdW5jdGlvbigpe3ZhciBhPUhkKHRoaXMsImxlbmd0aCIpLGI9VC5wcm90b3R5cGUubGVuZ3RoLmNhbGwodGhpcyk7YSYmKElkKHRoaXMsYSksYj1ULnByb3RvdHlwZS5sZW5ndGguY2FsbCh0aGlzKSx0aGlzLmI9ITEpO3JldHVybiBifTtHZC5wcm90b3R5cGUuZ2V0U2VnbWVudHM9ZnVuY3Rpb24oKXt2YXIgYT1IZCh0aGlzLCJnZXRTZWdtZW50cyIpLGI9VC5wcm90b3R5cGUuZ2V0U2VnbWVudHMuY2FsbCh0aGlzKTthJiYoSWQodGhpcyxhKSxiPVQucHJvdG90eXBlLmdldFNlZ21lbnRzLmNhbGwodGhpcyksdGhpcy5iPSExKTtyZXR1cm4gYn07R2QucHJvdG90eXBlLmZpcnN0PWZ1bmN0aW9uKCl7dmFyIGE9SGQodGhpcywiZmlyc3QiKSxiPVQucHJvdG90eXBlLmZpcnN0LmNhbGwodGhpcyk7YSYmKElkKHRoaXMsYSksYj1ULnByb3RvdHlwZS5maXJzdC5jYWxsKHRoaXMpLHRoaXMuYj0hMSk7cmV0dXJuIGJ9OwpHZC5wcm90b3R5cGUubGFzdD1mdW5jdGlvbigpe3ZhciBhPUhkKHRoaXMsImxhc3QiKSxiPVQucHJvdG90eXBlLmxhc3QuY2FsbCh0aGlzKTthJiYoSWQodGhpcyxhKSxiPVQucHJvdG90eXBlLmxhc3QuY2FsbCh0aGlzKSx0aGlzLmI9ITEpO3JldHVybiBifTtHZC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGEpe3ZhciBiPUhkKHRoaXMsImdldCIpLGM7Yz1iP1QucHJvdG90eXBlLmdldC5jYWxsKHRoaXMsYSsodGhpcy5hLmxlbmd0aC1iLmxlbmd0aCkpOlQucHJvdG90eXBlLmdldC5jYWxsKHRoaXMsYSk7YiYmKElkKHRoaXMsYiksYz1ULnByb3RvdHlwZS5nZXQuY2FsbCh0aGlzLGEpLHRoaXMuYj0hMSk7cmV0dXJuIGN9O0dkLnByb3RvdHlwZS5maW5kPWZ1bmN0aW9uKGEpe3ZhciBiPUhkKHRoaXMsImZpbmQiKSxjPVQucHJvdG90eXBlLmZpbmQuY2FsbCh0aGlzLGEpO2ImJihJZCh0aGlzLGIpLGM9VC5wcm90b3R5cGUuZmluZC5jYWxsKHRoaXMsYSksdGhpcy5iPSExKTtyZXR1cm4gY307CkdkLnByb3RvdHlwZS5maW5kSW5kZXg9ZnVuY3Rpb24oYSl7dmFyIGI9SGQodGhpcywiZmluZEluZGV4IiksYz1ULnByb3RvdHlwZS5maW5kSW5kZXguY2FsbCh0aGlzLGEpO2ImJihJZCh0aGlzLGIpLGM9VC5wcm90b3R5cGUuZmluZEluZGV4LmNhbGwodGhpcyxhKSx0aGlzLmI9ITEpO3JldHVybiBjfTtuPUdkLnByb3RvdHlwZTtuLlNhPWZ1bmN0aW9uKGEpe3ZhciBiPUhkKHRoaXMsIm1lcmdlIiksYz1ULnByb3RvdHlwZS5TYS5jYWxsKHRoaXMsYSk7YiYmKElkKHRoaXMsYiksYz1ULnByb3RvdHlwZS5TYS5jYWxsKHRoaXMsYSksdGhpcy5iPSExKTtyZXR1cm4gY307bi5oYj1mdW5jdGlvbihhKXt2YXIgYj1IZCh0aGlzLCJjb3JyZWN0IiksYz1ULnByb3RvdHlwZS5oYi5jYWxsKHRoaXMsYSk7YiYmKElkKHRoaXMsYiksYz1ULnByb3RvdHlwZS5oYi5jYWxsKHRoaXMsYSksdGhpcy5iPSExKTtyZXR1cm4gY307Cm4uaWI9ZnVuY3Rpb24oKXt2YXIgYT1IZCh0aGlzLCJnZXRTZWVrUmFuZ2UiKSxiPVQucHJvdG90eXBlLmliLmNhbGwodGhpcyk7YSYmKElkKHRoaXMsYSksYj1ULnByb3RvdHlwZS5pYi5jYWxsKHRoaXMpLHRoaXMuYj0hMSk7cmV0dXJuIGJ9O24uZ2V0U2Vla1JhbmdlR2Fwcz1mdW5jdGlvbigpe3ZhciBhPUhkKHRoaXMsImdldFNlZWtSYW5nZUdhcHMiKSxiPVQucHJvdG90eXBlLmdldFNlZWtSYW5nZUdhcHMuY2FsbCh0aGlzKTthJiYoSWQodGhpcyxhKSxiPVQucHJvdG90eXBlLmdldFNlZWtSYW5nZUdhcHMuY2FsbCh0aGlzKSx0aGlzLmI9ITEpO3JldHVybiBifTtuLklhPWZ1bmN0aW9uKCl7dmFyIGE9SGQodGhpcywiYXNzZXJ0Q29ycmVjdFJlZmVyZW5jZXMiKTtULnByb3RvdHlwZS5JYS5jYWxsKHRoaXMpO2EmJihJZCh0aGlzLGEpLFQucHJvdG90eXBlLklhLmNhbGwodGhpcyksdGhpcy5iPSExKX07ZnVuY3Rpb24gSmQoYSxiLGMsZCxlLGYsZyxoKXt0aGlzLm09YTt0aGlzLmE9Yjt0aGlzLmc9Yzt0aGlzLmY9ZDt0aGlzLm89ZTt0aGlzLmI9bnVsbDt0aGlzLmk9Zjt0aGlzLmg9bnVsbDt0aGlzLmo9aHx8bnVsbH1KZC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuaT10aGlzLmY9dGhpcy5nPXRoaXMuYT1udWxsO3RoaXMuYiYmKHRoaXMuYi5kZXN0cm95KCksdGhpcy5iPW51bGwpfTsKSmQucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbigpe2lmKHRoaXMuYilyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuYik7dmFyIGE9VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJmYmxzX3VzZV90aW1lbGluZV9zZWdtZW50X2luZGV4IiwhMSk7aWYoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJ1c2VfdGltZWxpbmVfc2VnbWVudF9pbmRleCIsITEpJiYodGhpcy5hLkZCSXNMaXZlVGVtcGxhdGVkfHx0aGlzLmEuRkJXYXNMaXZlfHxhKSlhPW5ldyBwZCh0aGlzLmcsdGhpcy5mLHRoaXMuZi5hLHRoaXMuaSx0aGlzLmopO2Vsc2V7Zm9yKHZhciBhPXRoaXMuZi5hLGI9b2QoYS5DLGEuc3x8MSx0aGlzLmcuZHVyYXRpb258fDAsdGhpcy5tLmdldE51bWJlcigibnVtX3ByZWRpY3RpdmVfc2VnbWVudHMiLDApLHRoaXMuYS5GQklzTGl2ZVRlbXBsYXRlZHx8dGhpcy5hLkZCV2FzTGl2ZSx0aGlzLmgpLGM9W10sZD0wO2Q8Yi5sZW5ndGg7KytkKXt2YXIgZT0KYltkXS5zdGFydCxmPWJbZF0uZW5kLGc9YltkXS51ZHx8MCxoPWJbZF0udGltZXNjYWxlZEdhcEluZm8saz1lL2EucyxsPWYvYS5zLG09ZCthLmIscD1lLG09bWQodGhpcy5pLHRoaXMuZiwwPGc/ZzptLHAsMDxnPyEwOiExLHRoaXMuaik7aWYoIW0pcmV0dXJuIGE9RXJyb3IoIkZhaWxlZCB0byBnZW5lcmF0ZSBtZWRpYSBVUkwuIiksYS50eXBlPSJkYXNoIixQcm9taXNlLnJlamVjdChhKTt2YXIgdD0oYS5MfHwwKS9hLnM7Yy5wdXNoKG5ldyBpZChrLXQsbC10LG0scCxmLWUsaHx8bnVsbCwwPGcpKX1iPXRoaXMuYS5GQklzTGl2ZVRlbXBsYXRlZHx8dGhpcy5hLkZCV2FzTGl2ZTtWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigidGVtcGxhdGVkX3VzZV9wZXJmX3Rlc3Rfc2VnbWVudF9pbmRleF9iYXNlX2ludCIsMCkmJm51bGw9PXRoaXMuaCYmdGhpcy5hLkZCSXNMaXZlVGVtcGxhdGVkPyhiPWMsYz1iLnNsaWNlKC1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigidGVtcGxhdGVkX3VzZV9wZXJmX3Rlc3Rfc2VnbWVudF9pbmRleF9iYXNlX2ludCIsCjApKSxhPW5ldyBHZChjLGIsYS5zfHwxKSk6YT1uZXcgVChjLGEuc3x8MSxiKX10aGlzLmEubWFuaWZlc3RJc0xpdmVTdHJlYW1pbmc/dGhpcy5iPW5ldyBTKGEsdGhpcy5hLHRoaXMuZyx0aGlzLm8pOnRoaXMuYj1uZXcgUihhKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuYil9O0pkLnByb3RvdHlwZS5jPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYn07SmQucHJvdG90eXBlLkVjPWZ1bmN0aW9uKGEpe3RoaXMuaD1hfTtmdW5jdGlvbiBLZCgpe3RoaXMuWD1MZCsrO3RoaXMuaWQ9dGhpcy5hYT10aGlzLk09bnVsbDt0aGlzLmE9MDt0aGlzLmhlaWdodD10aGlzLndpZHRoPXRoaXMuYmFuZHdpZHRoPW51bGw7dGhpcy5jb2RlY3M9dGhpcy5taW1lVHlwZT0iIjt0aGlzLmY9dGhpcy5mYlF1YWxpdHlDbGFzcz10aGlzLmZiUXVhbGl0eUxhYmVsPW51bGw7dGhpcy5mcmFtZVJhdGU9IiI7dGhpcy5zd2l0Y2hSZWFzb249dGhpcy5oPXRoaXMuZz10aGlzLmM9bnVsbDt0aGlzLmI9W107dGhpcy5vYT0hMTt0aGlzLmZhPSEwfXZhciBMZD0wO0tkLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5NJiYodGhpcy5NLmRlc3Ryb3koKSx0aGlzLk09bnVsbCk7dGhpcy5hYSYmKHRoaXMuYWEuZGVzdHJveSgpLHRoaXMuYWE9bnVsbCl9O2Z1bmN0aW9uIE1kKGEpe3JldHVybiBhLm1pbWVUeXBlLnNwbGl0KCIvIilbMF19CmZ1bmN0aW9uIE5kKGEpe3ZhciBiPWEubWltZVR5cGV8fCIiO2EuY29kZWNzJiYoYis9JzsgY29kZWNzPSInK2EuY29kZWNzKyciJyk7cmV0dXJuIGJ9ZnVuY3Rpb24gT2QoKXt0aGlzLlg9UGQrKzt0aGlzLmlkPW51bGw7dGhpcy5jb250ZW50VHlwZT10aGlzLmxhbmc9IiI7dGhpcy5mPXRoaXMuYj0hMTt0aGlzLmM9bnVsbDt0aGlzLnY9W107dGhpcy5hPVtdfXZhciBQZD0wO09kLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7Zm9yKHZhciBhPTA7YTx0aGlzLnYubGVuZ3RoOysrYSl0aGlzLnZbYV0uZGVzdHJveSgpO3RoaXMuYT10aGlzLnY9bnVsbH07ZnVuY3Rpb24gUWQoYSl7Zm9yKHZhciBiPVtdLGM9MDtjPGEuYS5sZW5ndGg7KytjKXt2YXIgZD1uZXcgUmQ7ZC5pZD1hLlg7ZC5hPWEuYVtjXTtkLmNvbnRlbnRUeXBlPWEuY29udGVudFR5cGU7ZC5iPWEudi5sZW5ndGg/TmQoYS52WzBdKToiIjtiLnB1c2goZCl9cmV0dXJuIGJ9CmZ1bmN0aW9uIFNkKCl7dGhpcy5pZD1udWxsO3RoaXMuc3RhcnQ9MDt0aGlzLmR1cmF0aW9uPW51bGw7dGhpcy5hPVtdfVNkLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7Zm9yKHZhciBhPTA7YTx0aGlzLmEubGVuZ3RoOysrYSl0aGlzLmFbYV0uZGVzdHJveSgpO3RoaXMuYT1udWxsfTtmdW5jdGlvbiBUZCgpe3RoaXMuQT10aGlzLmY9dGhpcy5iPSExO3RoaXMubz10aGlzLm09dGhpcy5CPTA7dGhpcy5qPXRoaXMuaT10aGlzLmM9bnVsbDt0aGlzLmc9MDt0aGlzLmE9W107dGhpcy5oPSExO3RoaXMudz0ibm9uZSI7dGhpcy51PW51bGx9VGQucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXtmb3IodmFyIGE9MDthPHRoaXMuYS5sZW5ndGg7KythKXRoaXMuYVthXS5kZXN0cm95KCk7dGhpcy5hPW51bGx9O2Z1bmN0aW9uIFJkKCl7dGhpcy5pZD0wO3RoaXMuYT1udWxsO3RoaXMuYj10aGlzLmNvbnRlbnRUeXBlPSIifTtmdW5jdGlvbiBVKGEsYixjLGQsZSxmLGcsaCxrLGwsbSxwLHQsdyl7Ri5jYWxsKHRoaXMsYSk7dGhpcy5iPWI7dGhpcy5hPWM7dGhpcy5jPW5ldyBuYihjLGQsZSxmLHRoaXMsaCx3KTt0aGlzLlBhPWg7dGhpcy5vPXt9O3RoaXMucmE9Zjt0aGlzLnlhPTA7dGhpcy5tYT10aGlzLmY9dGhpcy5nPW51bGw7dGhpcy50YT0hMTt0aGlzLnc9dGhpcy5jYT1udWxsO3RoaXMuUz0hMTt0aGlzLmphPTA7dGhpcy5rYT0hMTt0aGlzLkQ9bnVsbDt0aGlzLlo9dGhpcy5lYT10aGlzLmg9ITE7dGhpcy5PPW5ldyBJO3RoaXMuRz10aGlzLlQ9dGhpcy5CPSExO3RoaXMuUj0wO3RoaXMuZ2E9MTU7dGhpcy5HYT10aGlzLnZhPXRoaXMuVT0hMTt0aGlzLm5hPTE7dGhpcy4kPWc7dGhpcy54YT0hMTt0aGlzLmw9bnVsbDt0aGlzLkhhPSExO3RoaXMuST10aGlzLko9dGhpcy5LPW51bGw7dGhpcy5WPSExO3RoaXMudT1tfHxudWxsO3RoaXMuRj1wfHxudWxsO3RoaXMuaj10fHxudWxsO3RoaXMuWT1udWxsO3RoaXMuYmE9CiExO3RoaXMuRGE9e307dGhpcy5GYT1rO3RoaXMuaT1udWxsO3RoaXMuaWE9ITE7dGhpcy5FYT0wO3RoaXMuQ2E9ZT9lLnNwbGl0KCI7IilbMF06IiI7dGhpcy5QPSExO3RoaXMud2E9MDt0aGlzLnNhPWw7dGhpcy5BPXRoaXMubT1udWxsfXIoVSxGKTtVLnByb3RvdHlwZS5CYT1mdW5jdGlvbigpe3JldHVybntTb3VyY2VCdWZmZXJNYW5hZ2VyOnRoaXMuY319O1UucHJvdG90eXBlLmdldERlYnVnPVUucHJvdG90eXBlLkJhO2Z1bmN0aW9uIFVkKGEsYil7cmV0dXJuIG5ldyBWaWRlb1BsYXllckJpdHJhdGVFc3RpbWF0b3IobmV3IHgoYS5hLmdldE51bWJlcigibGl2ZV9iaXRyYXRlX2VzdGltYXRlc19oYWxmX2xpZmUiLDIpKSxiLGEuYS5nZXROdW1iZXIoImxpdmVfYml0cmF0ZV9lc3RpbWF0ZXNfbWluaW11bV9zYW1wbGVfY291bnQiLDEpLGEuYS5nZXROdW1iZXIoImxpdmVfYml0cmF0ZV9lc3RpbWF0ZXNfbGFyZ2Vfc2FtcGxlX3dlaWdodF9mYWN0b3IiLDEwKSl9ClUucHJvdG90eXBlLnBhPWZ1bmN0aW9uKGEpe251bGwhPWEuaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemUmJih0aGlzLlI9TnVtYmVyKGEuaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemUpKTt2YXIgYj10aGlzLmEuZ2V0TnVtYmVyKCJpbml0aWFsX3N0cmVhbV9idWZmZXJfc2l6ZV9mb3JfdmlkZW9fc3RyZWFtIiwwKTswPGImJi0xIT09dGhpcy5DYS5pbmRleE9mKCJ2IikmJih0aGlzLlI9Yik7bnVsbCE9YS5keW5hbWljU3RyZWFtQnVmZmVyU2l6ZSYmKHRoaXMuamE9TnVtYmVyKGEuZHluYW1pY1N0cmVhbUJ1ZmZlclNpemUpKTtudWxsIT1hLnNtYXJ0QnVmZmVyQWRqdXN0bWVudFBhcmFtcyYmKHRoaXMuRGE9YS5zbWFydEJ1ZmZlckFkanVzdG1lbnRQYXJhbXMpO251bGwhPWEuc21hcnRCdWZmZXJBZGp1c3RtZW50RW5hYmxlZCYmKHRoaXMuYmE9Qm9vbGVhbihhLnNtYXJ0QnVmZmVyQWRqdXN0bWVudEVuYWJsZWQpKTtudWxsIT1hLnN0cmVhbUJ1ZmZlclNpemUmJih0aGlzLmdhPU51bWJlcihhLnN0cmVhbUJ1ZmZlclNpemUpKTsKbnVsbCE9YS5maXhCdWZmZXJpbmdHb2FsRGV0ZXJtaW5hdGlvbiYmKHRoaXMuVT1Cb29sZWFuKGEuZml4QnVmZmVyaW5nR29hbERldGVybWluYXRpb24pKTtudWxsIT1hLmFkZENkbkRlYnVnUXVlcnlQYXJhbWV0ZXJzJiYodGhpcy52YT1Cb29sZWFuKGEuYWRkQ2RuRGVidWdRdWVyeVBhcmFtZXRlcnMpKTtudWxsIT1hLnVzZUluaXRpYWxCdWZmZXJTaXplV2hlblBhdXNlZCYmKHRoaXMuR2E9Qm9vbGVhbihhLnVzZUluaXRpYWxCdWZmZXJTaXplV2hlblBhdXNlZCkpO251bGwhPWEuc2VnbWVudFJlcXVlc3RUaW1lb3V0JiYodGhpcy5jLlQ9TnVtYmVyKGEuc2VnbWVudFJlcXVlc3RUaW1lb3V0KSk7bnVsbCE9YS5yZXNvbHZlVmlkZW9UaW1lVXBkYXRlT25GcmFnbWVudGVkVGltZVJhbmdlcyYmKHRoaXMueGE9Qm9vbGVhbihhLnJlc29sdmVWaWRlb1RpbWVVcGRhdGVPbkZyYWdtZW50ZWRUaW1lUmFuZ2VzKSk7bnVsbCE9YS5wZXJmb3JtYW5jZUxvZ2dlciYmKHRoaXMubD10aGlzLm8ucGVyZm9ybWFuY2VMb2dnZXI9CmEucGVyZm9ybWFuY2VMb2dnZXIpO251bGwhPWEuYWJyTG9nZ2VyJiYodGhpcy5vLmFickxvZ2dlcj1hLmFickxvZ2dlcik7bnVsbCE9YS5yZWFwcGVuZEluaXRTZWdtZW50QWZ0ZXJBYm9ydCYmKHRoaXMuby5yZWFwcGVuZEluaXRTZWdtZW50QWZ0ZXJBYm9ydD1Cb29sZWFuKGEucmVhcHBlbmRJbml0U2VnbWVudEFmdGVyQWJvcnQpKTtudWxsIT1hLmxpdmVEYXRhRmV0Y2hNYXhSZXRyaWVzJiYodGhpcy5vLmxpdmVEYXRhRmV0Y2hNYXhSZXRyaWVzPU51bWJlcihhLmxpdmVEYXRhRmV0Y2hNYXhSZXRyaWVzKSk7bnVsbCE9YS5saXZlU291cmNlQnVmZmVyQ2xlYXJNYXhSZXRyaWVzJiYodGhpcy5vLmxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXM9TnVtYmVyKGEubGl2ZVNvdXJjZUJ1ZmZlckNsZWFyTWF4UmV0cmllcykpO251bGwhPWEuc2tpcEVtcHR5U2VnbWVudHMmJih0aGlzLm8uc2tpcEVtcHR5U2VnbWVudHM9Qm9vbGVhbihhLnNraXBFbXB0eVNlZ21lbnRzKSk7bnVsbCE9CmEucGxheWhlYWRGcmFnbWVudGVkR2FwRGlmZkFsbG93YW5jZSYmKHRoaXMuby5wbGF5aGVhZEZyYWdtZW50ZWRHYXBEaWZmQWxsb3dhbmNlPU51bWJlcihhLnBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2UpKTtudWxsIT1hLnVzZU1pY3JvVGFza1RpbWVvdXRzJiYodGhpcy5IYT1Cb29sZWFuKGEudXNlTWljcm9UYXNrVGltZW91dHMpKTthPXRoaXMuYztiPXRoaXMubztudWxsIT1iLnJlYXBwZW5kSW5pdFNlZ21lbnRBZnRlckFib3J0JiYoYS5SPUJvb2xlYW4oYi5yZWFwcGVuZEluaXRTZWdtZW50QWZ0ZXJBYm9ydCkpO251bGwhPWIucGVyZm9ybWFuY2VMb2dnZXImJihhLmw9Yi5wZXJmb3JtYW5jZUxvZ2dlcik7bnVsbCE9Yi5hYnJMb2dnZXImJihhLkk9Yi5hYnJMb2dnZXIpO251bGwhPWIubGl2ZURhdGFGZXRjaE1heFJldHJpZXMmJihhLk89Yi5saXZlRGF0YUZldGNoTWF4UmV0cmllcyk7bnVsbCE9Yi5saXZlU291cmNlQnVmZmVyQ2xlYXJNYXhSZXRyaWVzJiYoYS5LPQpiLmxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXMpO251bGwhPWIucGxheWhlYWRGcmFnbWVudGVkR2FwRGlmZkFsbG93YW5jZSYmKGEuUD1iLnBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2UpO251bGwhPWIuc2tpcEVtcHR5U2VnbWVudHMmJihhLlY9Yi5za2lwRW1wdHlTZWdtZW50cyl9O1UucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXtWZCh0aGlzKTt0aGlzLk8uZGVzdHJveSgpO3RoaXMucmE9dGhpcy5nPXRoaXMuTz1udWxsO3RoaXMuYy5kZXN0cm95KCk7dGhpcy5iPXRoaXMuYz1udWxsO3RoaXMuYS5nZXRCb29sKCJmaXhpbmdfc2NoZWR1bGVyX2Rpc2FibGVfbGVha3MiLCEwKSYmKHRoaXMudT1udWxsKTt0aGlzLkphPW51bGx9O249VS5wcm90b3R5cGU7bi5XYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmd9O24uRmI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mfTsKbi5LYz1mdW5jdGlvbihhKXt0aGlzLkJ8fGEudGhlbihmdW5jdGlvbigpe3RoaXMuQj0hMDt0aGlzLnd8fFYodGhpcywwKX0uYmluZCh0aGlzKSkuY2F0Y2goZnVuY3Rpb24oKXt9KTtyZXR1cm4gdGhpcy5PfTtuLkNiPWZ1bmN0aW9uKCl7dGhpcy5HPSEwO1dkKHRoaXMpfTtuLmZiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuR307Cm4uamI9ZnVuY3Rpb24oYSxiLGMsZCxlKXtpZihhIT10aGlzLmcpe3ZhciBmPTE7dGhpcy5hLmdldEJvb2woInVzZV9saXZlX2JpdHJhdGVfZXN0aW1hdGVzIiwhMSkmJm51bGwhPT10aGlzLm0mJjA8dGhpcy5nLmJhbmR3aWR0aCYmKGY9dGhpcy5tLmdldEVzdGltYXRlKCkvdGhpcy5nLmJhbmR3aWR0aCk7dmFyIGc9YS5hYTtnJiYodGhpcy5tYT1nLmNyZWF0ZSh0aGlzLmwsdGhpcy5QYSkpO3RoaXMuWj0hMDthLk0uY3JlYXRlKCkudGhlbihKKHRoaXMsZnVuY3Rpb24oZyl7aWYodGhpcy5iKXt0aGlzLlo9ITE7dmFyIGs9dGhpcy5nO3RoaXMuZz1hO3RoaXMuYS5nZXRCb29sKCJ1c2VfbGl2ZV9iaXRyYXRlX2VzdGltYXRlcyIsITEpJiYodGhpcy5tPVVkKHRoaXMsKGEuYmFuZHdpZHRofHwwKSpmKSk7dmFyIGw9dGhpcy5mO3RoaXMuZj1nO3RoaXMuYy5EPXRoaXMuZjtsJiZsLmEuRmMoKTt1ZCh0aGlzLmYsZnVuY3Rpb24oYSl7dmFyIGI9YTt0aGlzLmomJnRoaXMuai5zZXRTZWdtZW50cyh0aGlzLmYuZ2V0U2VnbWVudHMoKSk7CnRoaXMudSYmKGE9YSYmdGhpcy5hLmdldEJvb2woIm9wdGltaXplX3N0cmVhbV9nZXRfc2VnbWVudHNfY2FsbHMiLCExKT9hOnRoaXMuZi5nZXRTZWdtZW50cygpLHRoaXMuYS5nZXRCb29sKCJ0ZW1wbGF0ZWRfdXBkYXRlX3NybV9ieV9kZWx0YV9vZl9jaGFuZ2VkX3JlZmVyZW5jZXNfYm9vbCIsITEpJiZ0aGlzLmYuSyYmYi5sZW5ndGg8dGhpcy5mLmdldFNlZ21lbnRzKCkubGVuZ3RoJiYoYT10aGlzLmYuZ2V0U2VnbWVudHMoKS5zbGljZSgtKGIubGVuZ3RoKzEpKSksWGQodGhpcyx0aGlzLmcuaWR8fCIiLGEpKX0uYmluZCh0aGlzKSk7dGhpcy5qJiZ0aGlzLmouc2V0U2VnbWVudHModGhpcy5mLmdldFNlZ21lbnRzKCkpO2lmKHRoaXMudSl7dmFyIGw9W10sbT10aGlzLmEuZ2V0TnVtYmVyKCJ0ZW1wbGF0ZWRfY2h1bmtlZF9zZWdtZW50X3VwZGF0ZV9saW1pdF9pbnQiLDApO2lmKG0pe2c9dGhpcy5mLmxlbmd0aCgpO2Zvcih2YXIgbT1NYXRoLm1pbihnLG0pLHA9MTtwPD1tOysrcClsLnB1c2godGhpcy5mLmdldChnLQpwKSl9ZWxzZSBsPWcuZ2V0U2VnbWVudHMoKTtYZCh0aGlzLGEuaWR8fCIiLGwpfXRoaXMudGE9ITA7dGhpcy5jYT1kP2Q6bnVsbDt0aGlzLlN8fCh0aGlzLmEuZ2V0Qm9vbCgibWFrZV9lYXJseV90cmFja19zZWxlY3Rpb24iLCExKSYmdGhpcy5oJiYhdGhpcy5QJiYhdGhpcy53P1YodGhpcywwKTprP2I/WWQodGhpcywhMCxjKTplJiZZZCh0aGlzLCExKTpWKHRoaXMsMCkpfX0pKS5jYXRjaChKKHRoaXMsZnVuY3Rpb24oYSl7dGhpcy5aPSExOyJhYm9ydGVkIiE9YS50eXBlJiYodGhpcy5CPyhhPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGEpKTp0aGlzLk8ucmVqZWN0KGEpKX0pKX19O24uQ2M9ZnVuY3Rpb24oYSl7cmV0dXJuIFlkKHRoaXMsISFhKX07bi5IYz1mdW5jdGlvbigpe3RoaXMua2E9ITB9O24uSmM9ZnVuY3Rpb24oYSl7dGhpcy5FYT1hfTsKZnVuY3Rpb24gWGQoYSxiLGMpe2EuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9jaHVua2VkX3NlZ21lbnRfdXBkYXRlX2xpbWl0X2ludCIsMCkmJmEudS51cGRhdGVTZWdtZW50SW5kZXgoYixhLmYpO2EuYS5nZXRCb29sKCJ1c2VfdXBkYXRlX3NlZ21lbnRzX2J5X3NoYWthX3JlZmVyZW5jZSIsITApJiZhLnUudXBkYXRlU2VnbWVudHNCeVNoYWthUmVmZXJlbmNlcyhiLGMpfQpmdW5jdGlvbiBZZChhLGIsYyl7YS5nJiYhYS5TJiYoYS5TPSEwLFZkKGEpLGEuVD0hMSxudWxsIT09YS5BJiZhLkEucmVzZXQoKSxhLmMuYWJvcnQoKS50aGVuKEooYSxmdW5jdGlvbigpe3ZhciBhPXRoaXMuYi5jdXJyZW50VGltZTt0aGlzLmEuZ2V0Qm9vbCgic2V0X2N1cnJlbnRfdGltZV9pbl9yZXN5bmMiLCExKSYmMD09YT8odGhpcy5sJiZCYW56YWlPRFMuYnVtcEVudGl0eUtleSgyOTY2LCJ2aWRlb3Mud3d3LnNoYWthIiwic2V0X2N1cnJlbnRfdGltZV9pbl9yZXN5bmMiKSxhPXRoaXMuZi5maXJzdCgpLnN0YXJ0VGltZSk6dGhpcy5hLmdldEJvb2woImJldHRlcl9zZXRfY3VycmVudF90aW1lX2luX3Jlc3luYyIsITEpJiZhPHRoaXMuZi5maXJzdCgpLnN0YXJ0VGltZSYmKEJhbnphaU9EUy5idW1wRW50aXR5S2V5KDI5NjYsInZpZGVvcy53d3cuc2hha2EiLCJzZXRfY3VycmVudF90aW1lX2luX3Jlc3luYyIpLGE9dGhpcy5mLmZpcnN0KCkuc3RhcnRUaW1lK3RoaXMuYS5nZXROdW1iZXIoInJlc3luY19zZXRfY3VycmVudF90aW1lX2Z1ZGdlX2ZhY3RvciIsCjApKTtpZighYiYmMDxyYih0aGlzLmMsYSkmJjA8PUZiKHRoaXMuYyxhKSlyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7aWYoYylyZXR1cm4gQ2IodGhpcy5jLHRoaXMuYi5jdXJyZW50VGltZStjKTt0aGlzLmlhPSEwO3JldHVybiBCYih0aGlzLmMpfSkpLnRoZW4oSihhLGZ1bmN0aW9uKCl7dGhpcy5TPSExO1YodGhpcywwKX0pKS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7dGhpcy5TPSExOyJhYm9ydGVkIiE9YS50eXBlJiYodGhpcy5CPyhhPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGEpKTp0aGlzLk8ucmVqZWN0KGEpKX0pKSl9bi5JYz1mdW5jdGlvbihhKXtyZXR1cm4gMDxyYih0aGlzLmMsYSkmJjA8PUZiKHRoaXMuYyxhKX07bi52Yj1mdW5jdGlvbigpe307bi5EYj1mdW5jdGlvbigpe3JldHVybiEwfTsKZnVuY3Rpb24gWmQoYSl7YS5lYT1hLmVhfHwhYS5iLnBhdXNlZDthLmIucGF1c2VkfHxhLmJhfHwoYS5ZPURhdGUubm93KCksYS5iYT0hMCk7dmFyIGI9YS5EYSxjPW51bGw7aWYoYi5pbkV4cGVyaW1lbnQpaWYoYi51c2VTbWFydEJ1ZmZlcmluZyl7aWYoYS5iYSYmYS5ZKXt2YXIgYz0oRGF0ZS5ub3coKS1hLlkpLzFFMyxkPW51bGw7MT5jP2M9bnVsbDooZD0zPmM/Yi5idWZmZXJTaXplXzAwX3RvXzAzOjEwPmM/Yi5idWZmZXJTaXplXzAzX3RvXzEwOjMwPmM/Yi5idWZmZXJTaXplXzEwX3RvXzMwOjYwPmM/Yi5idWZmZXJTaXplXzMwX3RvXzYwOmIuYnVmZmVyU2l6ZV9hYm92ZV82MCxjPU1hdGgubWluKGQsYS5iLmR1cmF0aW9uKSl9fWVsc2UgYS5ZJiYoYz1iLm5vblNtYXJ0QnVmZmVyU2l6ZSk7Y3x8KGM9YS5HYSYmYS5iLnBhdXNlZD9hLlI6YS5nYSxhLmIucGF1c2VkJiYxPGEubmEmJihjKj1hLm5hKSxhLmphJiYhYS5iLnBhdXNlZCYmKGM9TWF0aC5tYXgoTWF0aC5taW4oYS5mLmxhc3QoKS5lbmRUaW1lLQphLmIuY3VycmVudFRpbWUsYS5qYSksYS5nYSkpKTtjPShhLlU/YS5oJiZhLmVhOmEuaCk/TWF0aC5tYXgoYS5SLGMpOmEuUjswPGEuYS5nZXROdW1iZXIoImF1ZGlvX3ZpZGVvX2J1ZmZlcl9kaWZmX3RocmVzaG9sZCIsMTQ0MDApJiYoYj1hLmIuYnVmZmVyZWQubGVuZ3RoP2EuYi5idWZmZXJlZC5lbmQoYS5iLmJ1ZmZlcmVkLmxlbmd0aC0xKTowLGI9TWF0aC5tYXgoMCxiLWEuYi5jdXJyZW50VGltZSksYz1NYXRoLm1pbihjLGIrYS5hLmdldE51bWJlcigiYXVkaW9fdmlkZW9fYnVmZmVyX2RpZmZfdGhyZXNob2xkIiwxNDQwMCkpKTtyZXR1cm4gY30KZnVuY3Rpb24gJGQoYSl7dmFyIGI9YS5hLmdldE51bWJlcigic3RhcnRfc3RyZWFtX2J1ZmZlcl9zaXplIiwxKSxjPWEuYS5nZXROdW1iZXIoImxvd19zdGFydF9zdHJlYW1fYnVmZmVyX3NpemUiLDEpO2lmKGIhPT1jKXt2YXIgZD1hLmEuZ2V0TnVtYmVyKCJsb3dfYmFuZHdpZHRoX3N0YXJ0X3N0cmVhbV9idWZmZXJfc2l6ZV90aHJlc2hvbGQiLDApLGU9YS5hLmdldE51bWJlcigic2NoZWR1bGVkX3ZpZGVvc19zdGFydF9zdHJlYW1fYnVmZmVyX3NpemVfdGhyZXNob2xkIiwwKTtpZigwPGQmJmEucmEuZ2V0QmFuZHdpZHRoKCk8ZCYmVmlkZW9TdHJlYW1pbmdUYXNrUXVldWVQcm92aWRlci5nZXRRdWV1ZVNpemUoInZpZGVvIik+PWUpcmV0dXJuIGN9cmV0dXJuIGJ9ZnVuY3Rpb24gYWUoYSxiKXtyZXR1cm4gcmIoYS5jLGEuaD9iOmIrKGEuRHx8MCkpfQpmdW5jdGlvbiBiZShhKXtpZihhLmgmJiFhLkJ8fGEuYS5nZXRCb29sKCJtYWtlX2Vhcmx5X3RyYWNrX3NlbGVjdGlvbiIsITEpJiZhLlp8fGEuYS5nZXRCb29sKCJwcmV2ZW50X2ZldGNoX3doaWxlX2ZldGNoaW5nX2luX3N0cmVhbSIsITEpJiZhLlApcmV0dXJuIGEudz1udWxsLFByb21pc2UucmVzb2x2ZSgpO3ZhciBiO2lmKGI9YS5CJiYhYS5HKWI9MTxhLmMuYS5idWZmZXJlZC5sZW5ndGg/ITA6ITE7aWYoYiYmKGEua2F8fEhiKGEuYyxhLmIpKSlyZXR1cm4gYS54YSYmKGEuYi5jdXJyZW50VGltZT1HYihhLmIpKSxudWxsPT09YS5LJiYoYS5rYT0hMSxZZChhLCEwKSksUHJvbWlzZS5yZXNvbHZlKCk7YS5hLmdldE51bWJlcigiZGVjb3VwbGVfc3RyZWFtX29uX3VwZGF0ZV9sb29wX2Zyb21fcmVxdWVzdF9sb29wX2ludCIsMCl8fChhLnc9bnVsbCk7Yj1hLmc7dmFyIGM9YS5mLGQ9YS5iLmN1cnJlbnRUaW1lO2EuYS5nZXRCb29sKCJ1c2VfcGVuZGluZ19zZWVrX3Bvc2l0aW9uX2Zvcl9yZWZlcmVuY2UiLAohMSkmJjA9PT1hLmIucmVhZHlTdGF0ZSYmIWQmJmEuSiYmKGQ9YS5KKTtpZihhLlUmJiFhLmgmJmFlKGEsZCk+PSRkKGEpKXJldHVybiBhLmEuZ2V0Qm9vbCgiZml4X2Nocm9tZV9tc2VfcmVncmVzc2lvbiIsITEpJiYxPT09YS5iLnJlYWR5U3RhdGUmJjA8YS5iLmJ1ZmZlcmVkLmxlbmd0aCYmKGEuYi5jdXJyZW50VGltZT1hLmIuY3VycmVudFRpbWUpLGNlKGEpLFYoYSwwKSxQcm9taXNlLnJlc29sdmUoKTt2YXIgZT1udWxsLGY9W107bnVsbCE9PWEuSyYmKGQ9YS5LKTtpZihhZShhLGQpPj1aZChhKSlpZihhLlQ9ITAsbnVsbCE9PWEuSSYmYS5JLnJlc29sdmUoKSxhLlV8fGNlKGEpLGY9ZGUoYSk/amUoYSxkKTpbXSwwPGYubGVuZ3RoKWU9ZlswXTtlbHNlIHJldHVybiBWKGEsMUUzLyg1KihNYXRoLmFicyhhLmIucGxheWJhY2tSYXRlKXx8MSkpKSxQcm9taXNlLnJlc29sdmUoKTtlbHNle3ZhciBnPTE7YS5qJiYoZz1hLmouZ2V0TnVtYmVyT2ZTZWdtZW50cygpKTt2YXIgaD1xYihhLmMpOwphLlYmJihoPW51bGwsbnVsbCE9PWEuSyYmKGEuVj0hMSkpO2EuYS5nZXRCb29sKCJmaW5kX2xhc3RfaW5zZXJ0ZWRfc2VnbWVudF9pbl9zZWdtZW50X2luZGV4IiwhMSkmJmgmJiFjLmEuYSYmKGg9Yy5maW5kKGguc3RhcnRUaW1lKSk7YS5hLmdldEJvb2woInNldF9wZW5kaW5nX3NlZWtfb25fc2V0X2N1cnJlbnRfdGltZV9mYWlsdXJlIiwhMSkmJm51bGwhPWEuSiYmKGQ9YS5KLGEuSj1udWxsKTtnPWtlKGEsZCxjLGcsaCk7ZT1nWzBdO2EuaiYmKGEuai5zZXRGdXR1cmVTZWdtZW50cyhnKSxhLmouc2V0QnVmZmVyaW5nR29hbChaZChhKS1hZShhLGQpKSk7IWUmJmRlKGEpJiYoZj1qZShhLGQpLDA8Zi5sZW5ndGgmJihlPWZbMF0pKX1pZighZSlyZXR1cm4gY2UoYSksYS5CJiYhYS5HJiYoYS5HPSEwLFdkKGEpKSxWKGEsMjAwKSxQcm9taXNlLnJlc29sdmUoKTthLmEuZ2V0Qm9vbCgiY3JlYXRlX293bl9zZWdtZW50X3JlZmVyZW5jZV9mb3Jfc2JtIiwhMSkmJihlPWpkKGUsZS5zdGFydFRpbWUsCmUuZW5kVGltZSkpO2xlKGEsbWUoYSxkLGYpLGIuaWR8fCIiKTtuZShhLG1lKGEsZCxmKSk7YS5hLmdldEJvb2woInJlZnJlc2hfc2VnbWVudF9yZWZlcmVuY2VfZmFpbG92ZXJfdXJpIiwhMCkmJihlLnVybD1lLnVybC5jbG9uZSgpKTthLlA9ITA7YS53YT1EYXRlLm5vdygpOyJ2aWRlbyI9PT1iLm1pbWVUeXBlLnNwbGl0KCIvIilbMF0mJmEucmEuc2V0UmVwcmVzZW50YXRpb25JRChiLmlkKTtjPWEuYy5mZXRjaChlLGMucyxiLmErYS5FYSxhLm1hLGEudmEmJiFhLmIucGF1c2VkLDA8Zi5sZW5ndGgsYS51LGEuRik7Yz1jLnRoZW4oSihhLGZ1bmN0aW9uKGEpe3RoaXMuYS5nZXRCb29sKCJ1cGRhdGVzX3ByaW9yaXR5X29uX2ZldGNoX2NvbXBsZXRlIiwhMSkmJm5lKHRoaXMsbWUodGhpcyxkLFtdKSk7dGhpcy5zYS5pbmZvcm1OZXR3b3JrUmVzdW1lZCgpO3JldHVybiBhfSkpO2EuJCYmInZpZGVvIj09PWIubWltZVR5cGUuc3BsaXQoIi8iKVswXSYmYS4kLmFkZChlLnN0YXJ0VGltZXx8CjAsZS5lbmRUaW1lfHwwLHtpZDpiLmlkLHJlYXNvbjphLmNhLHBlcmZvcm1hbmNlTG9nZ2VyOmEubD9hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJzdHJlYW1fc3dpdGNoIik6bnVsbH0pO2EubWE9bnVsbDthLnRhJiYoYS50YT0hMSxmPWEuY2EsYS5jYT1udWxsLG9lKGEsYixmLGEubGEoKSkpO2EuRz0hMTtyZXR1cm4gYy50aGVuKEooYSxmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5hLmdldEJvb2woImNsZWFyX29sZF9idWZmZXIiLCExKT9FYih0aGlzLmMsdGhpcy5iLmN1cnJlbnRUaW1lKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGF9KTphfSkpLnRoZW4oSihhLGZ1bmN0aW9uKGEpe3ZhciBiPWEuVyxjPWEuV2M7dGhpcy5ofHwodGhpcy55YT1jKTt0aGlzLmEuZ2V0Qm9vbCgidXNlX2xpdmVfYml0cmF0ZV9lc3RpbWF0ZXMiLCExKSYmbnVsbCE9YSYmMDxhLkRjJiYwPGEuSCYmKG51bGw9PT10aGlzLm0mJih0aGlzLm09VWQodGhpcyx0aGlzLmcuYmFuZHdpZHRofHwwKSksdGhpcy5tLnNhbXBsZSg4KgphLkRjLGEuSCkpO2E9dGhpcy5hLmdldE51bWJlcigiYnVmZmVyX3ZlbG9jaXR5X3RpbWVfaW5fcGFzdF90b19jb25zaWRlciIsMCk7MDxhJiZudWxsIT09dGhpcy5nJiYidmlkZW8iPT09TWQodGhpcy5nKSYmKG51bGw9PT10aGlzLkEmJih0aGlzLkE9bmV3IEJ1ZmZlclZlbG9jaXR5KGEpKSx0aGlzLkEucmVjb3JkQnVmZmVyQWhlYWQocmIodGhpcy5jLHRoaXMuYi5jdXJyZW50VGltZSkpKTt0aGlzLlA9ITE7InZpZGVvIj09PSh0aGlzLmc/dGhpcy5nLm1pbWVUeXBlLnNwbGl0KCIvIilbMF06bnVsbCkmJnRoaXMuZGlzcGF0Y2hFdmVudCh5KHt0eXBlOiJmZXRjaF9lbmQiLGJ1YmJsZXM6ITAsZGV0YWlsOntzdHJlYW1fZmV0Y2hfdGltZV9tczpEYXRlLm5vdygpLXRoaXMud2Esc2VnbWVudF9sZW5ndGhfbXM6MUUzKihlLmVuZFRpbWUtZS5zdGFydFRpbWUpfX0pKTtudWxsPT10aGlzLkQmJih0aGlzLkQ9Yik7dGhpcy5pYSYmMDxyYih0aGlzLmMsZCkmJih0aGlzLmlhPSExLHRoaXMuYS5nZXRCb29sKCJkaXNhYmxlX251ZGdlIiwKITEpfHwoYj15KHt0eXBlOiJzaG91bGRfbnVkZ2UifSksdGhpcy5kaXNwYXRjaEV2ZW50KGIpKSk7Vih0aGlzLDApfSkpLmNhdGNoKEooYSxmdW5jdGlvbihhKXt0aGlzLlA9ITE7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfSkpfWZ1bmN0aW9uIG1lKGEsYixjKXt2YXIgZD1hLmg/YjpiKyhhLkR8fDApO3JldHVybnthZGRpdGlvbmFsU2VnbWVudHNSZXF1aXJlZDpjLHBsYXloZWFkOmIsYnVmZmVyU3RhcnQ6ZCxidWZmZXJFbmQ6YWUoYSxiKStkLGJ1ZmZlcmluZ0dvYWw6WmQoYSksaXNQbGF5aW5nOiFhLmIucGF1c2VkfX1mdW5jdGlvbiBsZShhLGIsYyl7YS51JiZhLnUudXBkYXRlUGxheWVyU3RhdGUoYyxiKX1mdW5jdGlvbiBuZShhLGIpe2EuRiYmYS5GLnVwZGF0ZVBsYXllclN0YXRlKGIpfQpmdW5jdGlvbiBwZShhLGIsYyl7dmFyIGQ9bnVsbCE9PWEuaSYmLTE8YS5pJiZhLmk8Yy5sZW5ndGgoKS0xP2MuZ2V0KGEuaSk6bnVsbCxlPW51bGw7aWYobnVsbD09PWEuaXx8IWR8fGQuc3RhcnRUaW1lPmIpcmV0dXJuIGU9Yy5maW5kSW5kZXgoYiksYS5pPWU7Zm9yKGQ9YS5pO2Q8PWEuaSsxO2QrKylpZihlPWMuZ2V0KGQpLGUuc3RhcnRUaW1lPD1iJiZlLmVuZFRpbWU+YilyZXR1cm4gYS5pPWQ7ZT1jLmZpbmRJbmRleChiKTtyZXR1cm4oYS5pPWUpfHwtMX1mdW5jdGlvbiBkZShhKXtyZXR1cm4gYS5hLmdldEJvb2woInJlcGxhY2VfbG93ZXJfcXVhbGl0eV9idWZmZXIiLCExKSYmbnVsbD09PWEuRiYmYS5lYSYmbnVsbCE9PWEuJCYmInZpZGVvIj09PU1kKGEuZykmJm51bGwhPT1hLmZ9CmZ1bmN0aW9uIGplKGEsYil7aWYoIWEuRmF8fCFhLmcuaWR8fCFhLmYpcmV0dXJuW107dmFyIGM9cGUoYSxiLGEuZik7cmV0dXJuLTE9PT1jP1tdOkJ1ZmZlclJlcGxhY2VtZW50SGVscGVyLmdldFNlZ21lbnRzVG9SZXBsYWNlTG93ZXJRdWFsaXR5KGEuZi5nZXRTZWdtZW50cygpLGIsYyxhLmcuaWQsYS5GYSxhLiQse3RocmVzaG9sZEJlZm9yZTphLmEuZ2V0TnVtYmVyKCJidWZmZXJfcmVwbGFjZW1lbnRfYmVoaW5kX3RocmVzaG9sZCIsNSksdGhyZXNob2xkQWZ0ZXI6YS5hLmdldE51bWJlcigiYnVmZmVyX3JlcGxhY2VtZW50X2FoZWFkX3RocmVzaG9sZCIsMTUpLHdyYXBSZXBsYWNlbWVudFBhc3RFbmQ6YS5hLmdldEJvb2woIndyYXBfcmVwbGFjZW1lbnRfcGFzdF9lbmQiLCExKX0pfQpuLnpjPWZ1bmN0aW9uKCl7dmFyIGE7aWYodGhpcy5sKXt2YXIgYj10aGlzLmEuZ2V0TnVtYmVyKCJzdHJlYW1fb251cGRhdGVfc2FtcGxpbmciLDApO2ImJjA9PT1NYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqYikmJihhPXRoaXMubC5nZXRPcGVyYXRpb25Mb2dnZXIoInN0cmVhbV9vbnVwZGF0ZSIpLnN0YXJ0KCkpfXZhciBjO3RoaXMuYS5nZXROdW1iZXIoImRlY291cGxlX3N0cmVhbV9vbl91cGRhdGVfbG9vcF9mcm9tX3JlcXVlc3RfbG9vcF9pbnQiLDApJiZWKHRoaXMsdGhpcy5hLmdldE51bWJlcigiZGVjb3VwbGVfc3RyZWFtX29uX3VwZGF0ZV9sb29wX2Zyb21fcmVxdWVzdF9sb29wX2ludCIsMCkpO2lmKHRoaXMuYS5nZXRCb29sKCJjYXRjaF9zdHJlYW1fdXBkYXRlX3N5bmNfY29kZV9lcnJvciIsITEpKXRyeXtjPWJlKHRoaXMpfWNhdGNoKGQpe2QudHlwZT0idW5jYXVnaHQiLGEmJmEuc2V0RXJyb3IoZCksYz1Qcm9taXNlLnJlamVjdChkKX1lbHNlIGM9YmUodGhpcyk7Yy5jYXRjaChKKHRoaXMsCmZ1bmN0aW9uKGEpe2lmKCJhYm9ydGVkIiE9YS50eXBlKXtpZigic291cmNlYnVmZmVyX2Z1bGwiPT09YS50eXBlKXJldHVybiBCYih0aGlzLmMpLnRoZW4oSih0aGlzLGZ1bmN0aW9uKCl7Vih0aGlzLDApfSkpO3ZhciBiPVswLDQwNCw0MTAsNTAyLDUwMyw1MDRdO3RoaXMuYS5nZXRCb29sKCJlbmFibGVfZG91YmxlX2luZ2VzdCIsITEpJiZiLnB1c2goNDE3LDIwMCk7Yj0tMT09PWIuaW5kZXhPZihhLnN0YXR1cyk7aWYoIm5ldCI9PT1hLnR5cGUmJiFiJiZ0aGlzLmcpaWYodGhpcy5hLmdldEJvb2woImFsbG93X2luZmluaXRlX3JldHJ5X29uX25ldF9lcnIiLCEwKSlzd2l0Y2goYS5zdGF0dXMpe2Nhc2UgNDA0OlYodGhpcywyRTMpO2JyZWFrO2Nhc2UgNDEwOnRoaXMuYS5nZXRCb29sKCJlbmRfYWxsX3N0cmVhbXNfb25fNDEwIiwhMSk/cWUodGhpcyk6dGhpcy5DYigpO2JyZWFrO2Nhc2UgNDE3OmNhc2UgMjAwOmEucmVzcG9uc2VIZWFkZXJzJiZudWxsIT1hLnJlc3BvbnNlSGVhZGVyc1sieC1mYi12aWRlby1yZXBsaWNhIl0/CnRoaXMuZGlzcGF0Y2hFdmVudCh5KHt0eXBlOiJyZXBsaWNhc3dpdGNoIixidWJibGVzOiEwLHJlcGxpY2E6YS5yZXNwb25zZUhlYWRlcnNbIngtZmItdmlkZW8tcmVwbGljYSJdLHVybDphLnVybCxzdGF0dXM6YS5zdGF0dXN9KSk6Yj0hMDticmVhaztkZWZhdWx0OlYodGhpcywxRTMpfWVsc2UgVih0aGlzLDFFMyksYj0hMDswPT09YS5zdGF0dXM/dGhpcy5zYS5pbmZvcm1OZXR3b3JrSW50ZXJydXB0ZWQoKTp0aGlzLnNhLmluZm9ybU5ldHdvcmtSZXN1bWVkKCk7aWYoIXRoaXMuYS5nZXRCb29sKCJhbGxvd19pbmZpbml0ZV9yZXRyeV9vbl9uZXRfZXJyIiwhMCl8fGIpYj1BKGEpLHRoaXMuZGlzcGF0Y2hFdmVudChiKSx0aGlzLmwmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgYj10aGlzLmwuZ2V0RXZlbnRMb2dnZXIoInN0cmVhbV9lcnJvcl9mYWxsYmFjayIpLnNldEVycm9yKGEpLnNldFR5cGUodGhpcy5DYS5zcGxpdCgiLyIpWzBdKTt0aGlzLmI/Yi5zZXRSZXN1bHQoImZhaWxlZCIpOgpiLnNldFJlc3VsdCgic3VjY2VzcyIpO2IubG9nKCl9LmJpbmQodGhpcyksMCl9fSkpO2EmJmEubG9nKCl9O2Z1bmN0aW9uIGtlKGEsYixjLGQsZSl7dmFyIGY9LTE7aWYoYS5hLmdldEJvb2woInRlbXBsYXRlZF9mYXN0ZXJfc3RyZWFtX2dldF9uZXh0X24iLCExKSYmMT09PWQmJm51bGwhPWUmJm51bGwhPWUuZW5kVGltZSlyZXR1cm4oYz1jLmZpbmQoZS5lbmRUaW1lKSk/W2NdOltdO251bGwhPWU/Zj1udWxsIT1lLmVuZFRpbWU/Yy5maW5kSW5kZXgoZS5lbmRUaW1lKTotMTooZj1wZShhLGIsYyksMD5mJiYoZj1jLmxlbmd0aCgpP2MubGVuZ3RoKCktMTotMSkpO2E9W107aWYoMDw9Zilmb3IoYj1mO2I8ZitkJiZiPGMubGVuZ3RoKCk7YisrKWEucHVzaChjLmdldChiKSk7cmV0dXJuIGF9CmZ1bmN0aW9uIGNlKGEpe2lmKCFhLmgmJm51bGwhPWEuRCl7YS5oPSEwO3ZhciBiPWEuYyxjPWEuRCxkPWMtYi5VOzAhPWQmJihiLmI9a2QoYi5iLGQpLGIuVT1jKTthLk8ucmVzb2x2ZShhLkQpfX1uLkVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaH07VS5wcm90b3R5cGUuaGFzU3RhcnRlZD1VLnByb3RvdHlwZS5FZDtVLnByb3RvdHlwZS5rYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLlR9O1UucHJvdG90eXBlLmhhc0hpdEJ1ZmZlcmluZ0dvYWw9VS5wcm90b3R5cGUua2I7VS5wcm90b3R5cGUubGE9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09PXRoaXMubT9udWxsOnRoaXMubS5nZXRFc3RpbWF0ZSgpfTtVLnByb3RvdHlwZS5nZXRCaXRyYXRlRXN0aW1hdGU9VS5wcm90b3R5cGUubGE7VS5wcm90b3R5cGUucWI9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09PXRoaXMuQT9udWxsOnRoaXMuQS5nZXRWZWxvY2l0eSgpfTtVLnByb3RvdHlwZS5nZXRCdWZmZXJWZWxvY2l0eT1VLnByb3RvdHlwZS5xYjsKZnVuY3Rpb24gb2UoYSxiLGMsZCl7dmFyIGU9Yi5taW1lVHlwZS5zcGxpdCgiLyIpWzBdO2I9eSh7dHlwZToiYWRhcHRhdGlvbiIsaWQ6Yi5pZCxidWJibGVzOiEwLGNvbnRlbnRUeXBlOmUsc2l6ZToidmlkZW8iIT1lP251bGw6e3dpZHRoOmIud2lkdGgsaGVpZ2h0OmIuaGVpZ2h0fSxiYW5kd2lkdGg6ZHx8Yi5iYW5kd2lkdGgscmVhc29uOmN9KTthLmRpc3BhdGNoRXZlbnQoYil9ZnVuY3Rpb24gcWUoYSl7dmFyIGI9eSh7dHlwZToic2hvdWxkX2VuZF9hbGxfc3RyZWFtcyJ9KTthLmRpc3BhdGNoRXZlbnQoYil9ZnVuY3Rpb24gV2QoYSl7dmFyIGI9eSh7dHlwZToiZW5kZWQifSk7YS5kaXNwYXRjaEV2ZW50KGIpfVUucHJvdG90eXBlLk9hPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuRn07VS5wcm90b3R5cGUuZ2V0VmlkZW9TdHJlYW1pbmdNYW5hZ2VyPVUucHJvdG90eXBlLk9hOwpmdW5jdGlvbiBWKGEsYil7VmQoYSk7IWImJmEuSGE/UHJvbWlzZS5yZXNvbHZlKCkudGhlbihhLnpjLmJpbmQoYSkpOmEudz1zZXRUaW1lb3V0KGEuemMuYmluZChhKSxiKX1mdW5jdGlvbiBWZChhKXtudWxsIT1hLncmJihjbGVhclRpbWVvdXQoYS53KSxhLnc9bnVsbCl9VS5wcm90b3R5cGUuc2I9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy55YX07VS5wcm90b3R5cGUuZ2I9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jLml9O1UucHJvdG90eXBlLmdldFN0cmVhbVByb2dyZXNzVHJhY2tlcj1VLnByb3RvdHlwZS5nYjtmdW5jdGlvbiByZShhLGIpe2EuSz1iO2EuVj0hMDthLkl8fChhLkk9bmV3IEkpO3JldHVybiBhLkl9O2Z1bmN0aW9uIHNlKGEpe3RoaXMuYj1hO3RoaXMuYT1udWxsfXNlLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5hJiYodGhpcy5hLmRlc3Ryb3koKSx0aGlzLmE9bnVsbCl9O3NlLnByb3RvdHlwZS5jcmVhdGU9ZnVuY3Rpb24oKXtpZih0aGlzLmEpcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLmEpO3ZhciBhPW5ldyBpZCgwLG51bGwsdGhpcy5iLDAsMCksYT1uZXcgVChbYV0sMSk7dGhpcy5hPW5ldyBSKGEpO3JldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5hKX07c2UucHJvdG90eXBlLmM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hfTtmdW5jdGlvbiB0ZShhLGIpe0YuY2FsbCh0aGlzLGEpO3RoaXMuYj1iO3RoaXMuaj0hMDt0aGlzLm09dGhpcy5nPW51bGw7dGhpcy5mPW5ldyBJO3RoaXMuYT1udWxsfXIodGUsRik7dGUucHJvdG90eXBlLnBhPWZ1bmN0aW9uKCl7fTt0ZS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuYSYmdGhpcy5iLnJlbW92ZUNoaWxkKHRoaXMuYSk7dGhpcy5mLmRlc3Ryb3koKTt0aGlzLkphPXRoaXMuYj10aGlzLmc9dGhpcy5tPXRoaXMuYT10aGlzLmY9bnVsbH07bj10ZS5wcm90b3R5cGU7bi5XYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmd9O24uRmI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tfTtuLktjPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZn07bi5mYj1mdW5jdGlvbigpe3JldHVybiEwfTtuLkNiPWZ1bmN0aW9uKCl7fTsKbi5qYj1mdW5jdGlvbihhKXthLk0uY3JlYXRlKCkudGhlbihKKHRoaXMsZnVuY3Rpb24oYil7aWYodGhpcy5iKXtpZigwPT1iLmxlbmd0aCgpKXJldHVybiBQcm9taXNlLnJlamVjdChFcnJvcigiTm8gc3VidGl0bGVzIFVSTCBhdmFpbGFibGUuIikpO3ZhciBjPXRoaXMuZzt0aGlzLmc9YTt0aGlzLm09YjtiPWIuZmlyc3QoKS51cmwuY1swXS50b1N0cmluZygpO3ZhciBkPXRoaXMuRGIoKTt0aGlzLmEmJih0aGlzLnZiKCExKSx0aGlzLmIucmVtb3ZlQ2hpbGQodGhpcy5hKSk7dGhpcy5hPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRyYWNrIik7dGhpcy5iLmFwcGVuZENoaWxkKHRoaXMuYSk7dGhpcy5hLnNyYz1iO3RoaXMudmIoZCk7Yj15KHt0eXBlOiJhZGFwdGF0aW9uIixidWJibGVzOiEwLGNvbnRlbnRUeXBlOiJ0ZXh0IixzaXplOm51bGwsYmFuZHdpZHRoOmEuYmFuZHdpZHRofSk7dGhpcy5kaXNwYXRjaEV2ZW50KGIpO2N8fHRoaXMuZi5yZXNvbHZlKDApfX0pKX07bi5DYz1mdW5jdGlvbigpe307Cm4uSGM9ZnVuY3Rpb24oKXt9O24uSWM9ZnVuY3Rpb24oKXtyZXR1cm4hMH07bi52Yj1mdW5jdGlvbihhKXt0aGlzLmo9YTt0aGlzLmEmJih0aGlzLmEudHJhY2subW9kZT1hPyJzaG93aW5nIjoiZGlzYWJsZWQiKX07bi5EYj1mdW5jdGlvbigpe3RoaXMuYSYmKHRoaXMuaj0ic2hvd2luZyI9PXRoaXMuYS50cmFjay5tb2RlKTtyZXR1cm4gdGhpcy5qfTtuLnNiPWZ1bmN0aW9uKCl7cmV0dXJuIDB9O24uSmM9ZnVuY3Rpb24oKXt9O2Z1bmN0aW9uIHVlKCl7fQp1ZS5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9bnVsbDt0cnl7dmFyIGY7dmFyIGc9bmV3IElhKGIpO2lmKDQ0MDc4Njg1MSE9S2EoZykuaWQpZj1udWxsO2Vsc2V7dmFyIGg9S2EoZyk7aWYoNDA4MTI1NTQzIT1oLmlkKWY9bnVsbDtlbHNle3ZhciBrPWguYS5ieXRlT2Zmc2V0LGw7dmFyIG09bmV3IElhKGguYSk7Zm9yKGI9bnVsbDtEYShtLmEpOyl7dmFyIHA9S2EobSk7aWYoMzU3MTQ5MDMwPT1wLmlkKXtiPXA7YnJlYWt9fWlmKGIpe2Zvcih2YXIgdD1uZXcgSWEoYi5hKSxwPTFFNixtPW51bGw7RGEodC5hKTspe3ZhciB3PUthKHQpO2lmKDI4MDc3Mjk9PXcuaWQpcD1PYSh3KTtlbHNlIGlmKDE3NTQ1PT13LmlkKWlmKGI9dyw0PT1iLmEuYnl0ZUxlbmd0aCltPWIuYS5nZXRGbG9hdDMyKDApO2Vsc2UgaWYoOD09Yi5hLmJ5dGVMZW5ndGgpbT1iLmEuZ2V0RmxvYXQ2NCgwKTtlbHNlIHRocm93IG5ldyBSYW5nZUVycm9yKCJFYm1sRWxlbWVudDogZmxvYXRpbmcgcG9pbnQgbnVtYmVycyBtdXN0IGJlIDQgb3IgOCBieXRlcy4iKTt9bnVsbD09Cm0/bD1udWxsOih0PXAvMUU5LGw9e0diOnQsZHVyYXRpb246bSp0fSl9ZWxzZSBsPW51bGw7Zj1sP3tBZDprLEdiOmwuR2IsZHVyYXRpb246bC5kdXJhdGlvbn06bnVsbH19aWYoZil7dmFyIHo9S2EobmV3IElhKGEpKTtpZig0NzUyNDk1MTUhPXouaWQpZT1udWxsO2Vsc2V7dmFyIEg9Zi5BZCxkYT1mLkdiLGVhPWYuZHVyYXRpb247YT1bXTtmb3IodmFyIEFhPW5ldyBJYSh6LmEpLGs9Zj16PS0xO0RhKEFhLmEpOyl7dmFyIGNiPUthKEFhKTtpZigxODc9PWNiLmlkKXt2YXIgbmE7dmFyIHZkPW5ldyBJYShjYi5hKSx3ZD1LYSh2ZCk7aWYoMTc5IT13ZC5pZCluYT1udWxsO2Vsc2V7dmFyIFllPU9hKHdkKSx4ZD1LYSh2ZCk7aWYoMTgzIT14ZC5pZCluYT1udWxsO2Vsc2V7dmFyIGVlPW5ldyBJYSh4ZC5hKTtmb3IobD0wO0RhKGVlLmEpOyl7dmFyIGZlPUthKGVlKTtpZigyNDE9PWZlLmlkKXtsPU9hKGZlKTticmVha319bmE9e3piOlllLHlkOmx9fX1pZihuYSl7dmFyIGdlPWRhKm5hLnpiLApoZT1IK25hLnlkO2lmKDA8PXope3ZhciBOYz1uZXcgSyhkLGMsayxoZS0xKSxBZj1uYS56Yi1mO2EucHVzaChuZXcgaWQoeixnZSxOYyxuYS56YixBZikpfXo9Z2U7Zj1uYS56YjtrPWhlfX19MDw9eiYmKE5jPW5ldyBLKGQsYyxrLG51bGwpLGEucHVzaChuZXcgaWQoeixlYSxOYyxmLGVhL2RhLWYpKSk7ZT1hfX1lbHNlIGU9bnVsbH1jYXRjaChpZSl7aWYoIShpZSBpbnN0YW5jZW9mIFJhbmdlRXJyb3IpKXRocm93IGllO31yZXR1cm4gZX07ZnVuY3Rpb24gdmUoYSxiLGMsZCxlLGYsZyxoLGssbCxtKXt0aGlzLmg9YTt0aGlzLm89Yjt0aGlzLmI9Yzt0aGlzLm09bHx8bnVsbDt0aGlzLmo9bXx8bnVsbDt0aGlzLmE9ZDt0aGlzLmc9ZTt0aGlzLmY9Zjt0aGlzLnc9Zzt0aGlzLlJhPW51bGw7dGhpcy5pPWg7dGhpcy5sPWt8fG51bGw7dGhpcy51PW51bGx9dmUucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmk9dGhpcy5vPXRoaXMuaD1udWxsO3RoaXMuYS5LYSgpO3RoaXMuYT1udWxsO3RoaXMuZiYmKHRoaXMuZi5LYSgpLHRoaXMuZj1udWxsKTt0aGlzLmcmJih0aGlzLmcuS2EoKSx0aGlzLmc9bnVsbCk7dGhpcy5SYT1udWxsfTt2ZS5wcm90b3R5cGUuUWM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5SYX07dmUucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbigpe3JldHVybiB3ZSh0aGlzKX07dmUucHJvdG90eXBlLnBiPWZ1bmN0aW9uKCl7cmV0dXJuIHdlKHRoaXMpfTsKZnVuY3Rpb24gd2UoYSl7aWYoYS5SYSlyZXR1cm4gYS5SYTt2YXIgYj1udWxsO2EubCYmKGI9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigiY3JlYXRlX2NvbnRhaW5lcl9zZWdtZW50X2luZGV4X3NvdXJjZSIpLnN0YXJ0KCkpO2lmKG51bGwhPT1hLm0mJihudWxsIT09YS5qfHwid2VibSIhPT1hLmIpKXJldHVybiB4ZShhLGEubSxhLmosYik7dmFyIGM9W2EuYS5mZXRjaChudWxsLG51bGwsYS5sLGIpXTsid2VibSI9PWEuYiYmYy5wdXNoKGEuZy5mZXRjaChudWxsLG51bGwsYS5sLGIpKTthLlJhPVByb21pc2UuYWxsKGMpLnRoZW4oSihhLGZ1bmN0aW9uKGEpe3JldHVybiB4ZSh0aGlzLGFbMF0sYVsxXXx8bnVsbCxiKX0pKTtyZXR1cm4gYS5SYX0KZnVuY3Rpb24geGUoYSxiLGMsZCl7dmFyIGU9bnVsbDsibXA0Ij09YS5iPyhlPW5ldyB0ZCxlPWUucGFyc2UobmV3IERhdGFWaWV3KGIpLGEuYS5zdGFydEJ5dGUsYS5hLmMsYS5pLGEuZikpOiJ3ZWJtIj09YS5iJiYoZT1uZXcgdWUsZT1lLnBhcnNlKG5ldyBEYXRhVmlldyhiKSxuZXcgRGF0YVZpZXcoYyksYS5hLmMsYS5pKSk7aWYoIWUpcmV0dXJuIGE9RXJyb3IoIkZhaWxlZCB0byBwYXJzZSBTZWdtZW50UmVmZXJlbmNlcyBmcm9tICIrYS5hLnRvU3RyaW5nKCkrIiAob3Igb25lIG9mIGl0cyBmYWxsYmFja3MpLiIpLGEudHlwZT0ic3RyZWFtIixQcm9taXNlLnJlamVjdChhKTtiPW5ldyBUKGUsZS5zKTt2YXIgZjsiZHluYW1pYyI9PWEuaC50eXBlP2Y9bmV3IFMoYixhLmgsYS5vLGEudyk6Zj1uZXcgUihiKTtkJiZkLmxvZygpO2EudT1mO3JldHVybiBQcm9taXNlLnJlc29sdmUoZil9dmUucHJvdG90eXBlLmM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51fTtmdW5jdGlvbiB5ZShhLGIsYyxkKXt0aGlzLmM9YTt0aGlzLmI9Yjt0aGlzLmw9Y3x8bnVsbDt0aGlzLmE9ZHx8bnVsbH0KZnVuY3Rpb24gemUoYSxiLGMpe2Zvcih2YXIgZD15YSgpLzFFMyxlPTA7ZTxiLmEubGVuZ3RoOysrZSlmb3IodmFyIGY9Yi5hW2VdLGc9MDtnPGYuYS5sZW5ndGg7KytnKXt2YXIgaD1mLmFbZ107aWYoInRleHQiIT1oLmNvbnRlbnRUeXBlKWZvcih2YXIgaz0wO2s8aC5hLmxlbmd0aDsrK2spe3ZhciBsPWguYVtrXSxtPTAsbT1tKyhsLmY/MTowKSxtPW0rKGwuYj8xOjApLG09bSsobC5hPzE6MCk7MD09bT8oaC5hLnNwbGljZShrLDEpLC0tayk6MSE9bSYmKGwuZj8obC5iPW51bGwsbC5hPW51bGwpOmwuYiYmKGwuYT1udWxsKSl9fUFlKGIpO2ZvcihlPTA7ZTxiLmEubGVuZ3RoOysrZSlmb3IoZj1iLmFbZV0sZz0wO2c8Zi5hLmxlbmd0aDsrK2cpe2s9aD1mLmFbZ107bD1udWxsO2ZvcihtPTA7bTxrLmEubGVuZ3RoOysrbSl7dmFyIHA9ay5hW21dLm1pbWVUeXBlfHwiIjtsP3AhPWwmJihrLmEuc3BsaWNlKG0sMSksLS1tKTpsPXB9MD09aC5hLmxlbmd0aCYmKGYuYS5zcGxpY2UoZywxKSwKLS1nKX1iLm1hbmlmZXN0SXNMaXZlU3RyZWFtaW5nJiZudWxsPT1iLmMmJihiLmM9ZCk7ZT1uZXcgVGQ7ImR5bmFtaWMiPT1iLnR5cGUmJihlLmI9ITAsZS5jPWIuZyxlLmk9bmV3IEsoYyxiLnV8fGIudXJsLHZvaWQgMCx2b2lkIDAsdm9pZCAwLGEuYSksZS5qPWIuYyk7ZS5CPWIuaHx8MDtlLm09Yi5pfHwwO2Uubz1iLmp8fDA7ZS5nPWIubXx8NTtmb3IoZj0wO2Y8Yi5hLmxlbmd0aDsrK2Ype2c9Yi5hW2ZdO2lmKG51bGw9PWcuc3RhcnQpYnJlYWs7Zz1CZShhLGIsZyxkLGMpO2UuYS5wdXNoKGcpfWUuZj1iLkZCSXNMaXZlVGVtcGxhdGVkO2EubCYmYS5sLnNldElzVGVtcGxhdGVkTWFuaWZlc3QoYi5GQklzTGl2ZVRlbXBsYXRlZCk7ZS5BPWIuRkJXYXNMaXZlO2E9bnVsbDtjPSJub25lIjtmb3IoZj0wO2Y8Yi5hLmxlbmd0aDtmKyspZm9yKGc9Yi5hW2ZdLGQ9MDtkPGcuYS5sZW5ndGg7ZCsrKWZvcihoPWcuYVtkXSxrPTA7azxoLmEubGVuZ3RoO2srKylsPWguYVtrXS5pLG51bGwhPQpsJiZudWxsIT1sLnZhbHVlJiYoYT1jPWwudmFsdWUsInVybjptcGVnOmRhc2g6MjMwMDM6MzphdWRpb19jaGFubmVsX2NvbmZpZ3VyYXRpb246MjAxMSI9PT1sLmEmJigiMSI9PT1hP2M9Im1vbm8iOiIyIj09PWEmJihjPSJzdGVyZW8iKSkpO2Uudz1jO2E9cGFyc2VJbnQoYSwxMCk7ZS51PTA8YT9hOm51bGw7cmV0dXJuIGV9CmZ1bmN0aW9uIEFlKGEpe2lmKGEuYS5sZW5ndGgpe251bGw9PWEuYVswXS5zdGFydCYmKGEuYVswXS5zdGFydD0wKTt2YXIgYj1mdW5jdGlvbihhKXtyZXR1cm4gMD09YXx8ISFhfTthLm1hbmlmZXN0SXNMaXZlU3RyZWFtaW5nJiYoYS5iPW51bGwpO2IoYS5iKSYmMT09YS5hLmxlbmd0aCYmIWIoYS5hWzBdLmR1cmF0aW9uKSYmKGEuYVswXS5kdXJhdGlvbj1hLmIpO2Zvcih2YXIgYz0wLGQ9ITAsZT0wO2U8YS5hLmxlbmd0aDsrK2Upe3ZhciBmPWEuYVtlLTFdLGc9YS5hW2VdLGg9YS5hW2UrMV18fHtzdGFydDphLmJ9OyFiKGcuc3RhcnQpJiZmJiZiKGYuc3RhcnQpJiZiKGYuZHVyYXRpb24pJiYoZy5zdGFydD1mLnN0YXJ0K2YuZHVyYXRpb24pOyFiKGcuZHVyYXRpb24pJiZiKGguc3RhcnQpJiYoZy5kdXJhdGlvbj1oLnN0YXJ0LWcuc3RhcnQpO251bGwhPWcuc3RhcnQmJm51bGwhPWcuZHVyYXRpb24/Yys9Zy5kdXJhdGlvbjpkPSExfWIoYS5iKXx8KGU9YS5hW2EuYS5sZW5ndGgtMV0sCmQ/YS5iPWM6YihlLnN0YXJ0KSYmYihlLmR1cmF0aW9uKT9hLmI9ZS5zdGFydCtlLmR1cmF0aW9uOmEubWFuaWZlc3RJc0xpdmVTdHJlYW1pbmd8fChhLmI9YykpfX0KZnVuY3Rpb24gQmUoYSxiLGMsZCxlKXt2YXIgZj1uZXcgU2Q7Zi5pZD1jLmlkO2Yuc3RhcnQ9Yy5zdGFydDtmLmR1cmF0aW9uPWMuZHVyYXRpb247dmFyIGc9bmV3IEQ7Yy5hLmZvckVhY2goZnVuY3Rpb24oYSl7Zy5wdXNoKGEuY29udGVudFR5cGV8fCIiLGEpfSk7Zm9yKHZhciBoPWFiKGcpLGs9MDtrPGgubGVuZ3RoOysrayl7dmFyIGw9bmV3IEQ7Zy5nZXQoaFtrXSkuZm9yRWFjaChmdW5jdGlvbihhKXtsLnB1c2goYS5ncm91cCxhKX0pO2Zvcih2YXIgbT1hYihsKSxwPTA7cDxtLmxlbmd0aDsrK3Ape3ZhciB0PW5ldyBEO2wuZ2V0KG1bcF0pLmZvckVhY2goZnVuY3Rpb24oYSl7dC5wdXNoKGEubGFuZyxhKX0pO2Zvcih2YXIgdz1hYih0KSx6PTA7ejx3Lmxlbmd0aDsrK3ope3ZhciBIPXQuZ2V0KHdbel0pLEg9Q2UoYSxiLGMsSCxkLGUpO2YuYS5wdXNoKEgpfX19cmV0dXJuIGZ9CmZ1bmN0aW9uIENlKGEsYixjLGQsZSxmKXtiYShkLmV2ZXJ5KGZ1bmN0aW9uKGEpe3JldHVybiBhLmdyb3VwPT1kWzBdLmdyb3VwJiYoYS5sYW5nfHwiIik9PShkWzBdLmxhbmd8fCIiKSYmKGEuY29udGVudFR5cGV8fCIiKT09KGRbMF0uY29udGVudFR5cGV8fCIiKX0pKTt2YXIgZz1uZXcgT2QsaD1kLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YS5pZH0pO2gubGVuZ3RoPT1kLmxlbmd0aCYmKGcuaWQ9aC5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuaWR9KS5zb3J0KCkucmVkdWNlKGZ1bmN0aW9uKGEsYil7cmV0dXJuIGErIiwiK2J9KSk7Zy5iPSEoIWRbMF0uYnx8InVybjpzY3RlOmRhc2g6Y2M6Y2VhLTYwODoyMDE1IiE9PWRbMF0uYi5hKTtnLmxhbmc9ZFswXS5sYW5nfHwiIjtnLmNvbnRlbnRUeXBlPWRbMF0uY29udGVudFR5cGV8fCIiO2cuZj1kLnNvbWUoZnVuY3Rpb24oYSl7cmV0dXJuIGEuZn0pO2Zvcih2YXIgaD17fSxrPTA7azxkLmxlbmd0aDsrK2spe3ZhciBsPQpkW2tdO2wuYyYmKGcuYz1sLmMpO2Zvcih2YXIgbT0wO208bC5hLmxlbmd0aDsrK20pe3ZhciBwPWwuYVttXSx0PURlKGEscCksdz1nLmEuc2xpY2UoMCk7RWUodCx3KTswPT13Lmxlbmd0aCYmMDxnLmEubGVuZ3RofHwhKHA9RmUoYSxiLGMscCxlLGYpKXx8KGcudi5wdXNoKHApLGcuYT13LGhbcC5YXT1sKX19aWYoZy5hLnNvbWUoZnVuY3Rpb24oYSl7cmV0dXJuIiI9PWEuYX0pKXJldHVybiBnLnYuZm9yRWFjaChmdW5jdGlvbihhKXthLm9hPSEwfSksZzthPUdlKGQpO2ZvcihrPTA7azxnLnYubGVuZ3RoOysraylwPWcudltrXSxsPWhbcC5YXSxsPT1hJiYocC5vYT0hMCk7cmV0dXJuIGd9CmZ1bmN0aW9uIEdlKGEpe2Zvcih2YXIgYj1udWxsLGM9bnVsbCxkPTA7ZDxhLmxlbmd0aDsrK2QpZm9yKHZhciBlPWFbZF0sZj0wO2Y8ZS5hLmxlbmd0aDsrK2Ype3ZhciBnPWUuYVtmXSxnPShnLndpZHRofHwxKSooZy5oZWlnaHR8fDEpKihnLmJhbmR3aWR0aHx8MSk7aWYobnVsbD09Ynx8ZzxiKWI9ZyxjPWV9cmV0dXJuIGN9ZnVuY3Rpb24gRWUoYSxiKXtpZigwPT1iLmxlbmd0aClBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShiLGEpO2Vsc2UgZm9yKHZhciBjPTA7YzxiLmxlbmd0aDsrK2Mpe2Zvcih2YXIgZD0hMSxlPTA7ZTxhLmxlbmd0aDsrK2Upe3ZhciBmPWJbY10sZz1hW2VdO2lmKGYuYT09Zy5hJiZmLmk9PWcuaSYmZi53aXRoQ3JlZGVudGlhbHM9PWcud2l0aENyZWRlbnRpYWxzJiZmLmg9PWcuaCYmZi5qPT1nLmomJmYuZz09Zy5nJiZmLm09PWcubSYmTWEoZi5jLGcuYykpe2Q9ITA7T2IoYltjXSxhW2VdLmIpO2JyZWFrfX1kfHwoYi5zcGxpY2UoYywxKSwtLWMpfX0KZnVuY3Rpb24gRGUoYSxiKXt2YXIgYz1bXTtpZigwPT1iLmMubGVuZ3RoKWMucHVzaChuZXcgTWIpO2Vsc2UgaWYoYS5iKWZvcih2YXIgZD0wO2Q8Yi5jLmxlbmd0aDsrK2QpYy5wdXNoLmFwcGx5KGMsSGUoYSxiLmNbZF0pKTtyZXR1cm4gY30KZnVuY3Rpb24gSGUoYSxiKXt2YXIgYz1bXTtpZigyIT1hLmIubGVuZ3RoKXJldHVybltdO3ZhciBkPWEuYihiLmZ8fCIiLGIuYyk7aWYoIShkJiZkIGluc3RhbmNlb2YgQXJyYXkpKXJldHVybltdO2Zvcih2YXIgZT0wO2U8ZC5sZW5ndGg7KytlKXt2YXIgZjt2YXIgZz1kW2VdO2Y9bmV3IE1iO2lmKGcpe3ZhciBoPVlhKGcsImtleVN5c3RlbSIpO2lmKG51bGwhPWgpZi5hPWg7ZWxzZSB0aHJvdyBFcnJvcigiJ2tleVN5c3RlbScgY2Fubm90IGJlIG51bGwuIik7dmFyIGs9WWEoZywibGljZW5zZVNlcnZlclVybCIpO2lmKG51bGwhPWspZi5pPWs7ZWxzZSBpZihoKXRocm93IEVycm9yKCJGb3IgZW5jcnlwdGVkIHN0cmVhbWluZyBjb250ZW50LCAnbGljZW5zZVNlcnZlclVybCcgY2Fubm90IGJlIG51bGwgb3IgZW1wdHkuIik7aD1CKGcsIndpdGhDcmVkZW50aWFscyIpO251bGwhPWgmJihmLndpdGhDcmVkZW50aWFscz1oKTtoPVphKGcsImxpY2Vuc2VQb3N0UHJvY2Vzc29yIixGdW5jdGlvbik7Cm51bGwhPWgmJihmLmY9aCk7aD1aYShnLCJsaWNlbnNlUHJlUHJvY2Vzc29yIixGdW5jdGlvbik7bnVsbCE9aCYmKGYubz1oKTtoPUIoZywiZGlzdGluY3RpdmVJZGVudGlmaWVyUmVxdWlyZWQiKTtudWxsIT1oJiYoZi5oPWgpO2g9QihnLCJwZXJzaXN0ZW50U3RhdGVSZXF1aXJlZCIpO251bGwhPWgmJihmLmo9aCk7aD1ZYShnLCJhdWRpb1JvYnVzdG5lc3MiKTtudWxsIT1oJiYoZi5nPWgpO2g9WWEoZywidmlkZW9Sb2J1c3RuZXNzIik7bnVsbCE9aCYmKGYubT1oKTtoPVphKGcsInNlcnZlckNlcnRpZmljYXRlIixVaW50OEFycmF5KTtudWxsIT1oJiYoZi5jPWgpO2lmKGg9WmEoZywiaW5pdERhdGEiLE9iamVjdCkpe2c9WmEoaCwiaW5pdERhdGEiLFVpbnQ4QXJyYXkpO2lmKG51bGw9PWcpdGhyb3cgRXJyb3IoIidpbml0RGF0YS5pbml0RGF0YScgY2Fubm90IGJlIG51bGwuIik7aD1ZYShoLCJpbml0RGF0YVR5cGUiKTtpZihudWxsPT1oKXRocm93IEVycm9yKCInaW5pdERhdGEuaW5pdERhdGFUeXBlJyBjYW5ub3QgYmUgbnVsbC4iKTsKZi5iLnB1c2goe2luaXREYXRhOm5ldyBVaW50OEFycmF5KGcuYnVmZmVyKSxpbml0RGF0YVR5cGU6aH0pfX0wPT1mLmIubGVuZ3RoJiZiLmEmJmIuYS5wc3NoQm94JiZPYihmLFt7aW5pdERhdGE6Yi5hLnBzc2hCb3gsaW5pdERhdGFUeXBlOiJjZW5jIn1dKTtjLnB1c2goZil9cmV0dXJuIGN9CmZ1bmN0aW9uIEZlKGEsYixjLGQsZSxmKXtpZighZC5iYXNlVXJsfHwwPT09ZC5iYXNlVXJsLmxlbmd0aClyZXR1cm4gbnVsbDt2YXIgZz1udWxsLGg9MSxrPTA7aWYoZC5mKXtnPWQubWltZVR5cGUuc3BsaXQoIi8iKVsxXTtpZigibXA0IiE9ZyYmIndlYm0iIT1nKWc9bnVsbDtlbHNle3ZhciBsPWQuZjtpZigid2VibSIhPWd8fGwuYylpZihsLmF8fGwuYiYmbC5iLmEpe2g9bC5iO2h8fChoPW5ldyB3YyxoLnVybD1kLmJhc2VVcmwsaC5hPWwuYT9sLmEuY2xvbmUoKTpudWxsKTtrPUllKGEsaCxmKTtoPWwuYz9JZShhLGwuYyxmKTpudWxsO2wuZj8obD1sLmYsbD1uZXcgSyhmLGQuYmFzZVVybCxsLnFhLGwuZW5kLHZvaWQgMCxhLmEpKTpsPW51bGw7dmFyIG09bCxwPVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgiYWRkX2lubGluZV9pbml0aWFsaXphdGlvbl9yZXNvdXJjZXMiLCExKSYmZC5oJiZkLmguZGF0YT9kLmguZGF0YTpudWxsLGw9VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJhZGRfaW5saW5lX2luaXRpYWxpemF0aW9uX3Jlc291cmNlcyIsCiExKSYmZC5nJiZkLmcuZGF0YT9kLmcuZGF0YTpudWxsO2E9bmV3IHZlKGIsYyxnLGssaCxtLGUsZixhLmwscCxsKTtiPW5ldyBnZChoLGwpO2M9bmV3IEtkO2MuTT1hO2MuYWE9YjtnPWN9ZWxzZSBnPW51bGw7ZWxzZSBnPW51bGx9aD1kLmYucztrPWQuZi5MfWVsc2UgaWYoZC5iKWc9ZC5iLCFnLkgmJiFnLkMmJjE8Zy5hLmxlbmd0aD9nPW51bGw6Zy5IfHxjLmR1cmF0aW9ufHxnLkN8fDEhPWcuYS5sZW5ndGg/Zy5DJiYwPT09Zy5DLk4ubGVuZ3RoP2c9bnVsbDooZz1nLmI/SWUoYSxnLmIsZik6bnVsbCxhPW5ldyBGZChiLGMsZCxlLGYsYS5hKSxiPW5ldyBnZChnKSxjPW5ldyBLZCxjLk09YSxjLmFhPWIsZz1jKTpnPW51bGwsaD1kLmIucyxrPWQuYi5MO2Vsc2UgaWYoZC5hKXthOmlmKGc9ZC5hLGg9MCsoZy5hPzE6MCksaCs9Zy5DPzE6MCxoKz1nLkg/MTowLDA9PWg/aD0hMTooMSE9aCYmKGcuYT8oZy5DPW51bGwsZy5IPW51bGwpOmcuQyYmKGcuSD1udWxsKSksaD0hMCksaCl7aD0KbnVsbDtpZihnLmMmJihoPShnPWQuYS5jKT9KZShkLGcseGMpOm51bGwsIWgpKXtnPW51bGw7YnJlYWsgYX1nPWg/SWUoYSxoLGYpOm51bGw7aD1kLmE7aC5hPyhoPWQubWltZVR5cGUuc3BsaXQoIi8iKVsxXSwibXA0IiE9aCYmIndlYm0iIT1oP2E9bnVsbDoid2VibSIhPWh8fGc/bWQoZixkLDEsMCx2b2lkIDAsYS5hKT8oaz0oaz1kLmEuYSk/SmUoZCxrLHdjKTpudWxsKT8oaz1JZShhLGssZiksYT1uZXcgdmUoYixjLGgsayxnLG51bGwsZSxmLGEubCkpOmE9bnVsbDphPW51bGw6YT1udWxsKTphPWguZj9oLkM/bmV3IEpkKGEuYyxiLGMsZCxlLGYsMCxhLmEpOmguSD9iLm1hbmlmZXN0SXNMaXZlU3RyZWFtaW5nfHxudWxsIT1jLmR1cmF0aW9uP25ldyBFZChiLGMsZCxlLGYpOm51bGw6bnVsbDpudWxsO2E/KGI9bmV3IGdkKGcpLGM9bmV3IEtkLGMuTT1hLGMuYWE9YixnPWMpOmc9bnVsbH1lbHNlIGc9bnVsbDtoPWQuYS5zO2s9ZC5hLkx9ZWxzZSJ0ZXh0Ij09ZC5taW1lVHlwZS5zcGxpdCgiLyIpWzBdJiYKKGc9bmV3IEtkLGcuTT1uZXcgc2UobmV3IEsoZixkLmJhc2VVcmwpKSk7aWYoIWcpcmV0dXJuIG51bGw7Zy5pZD1kLmlkO2smJihnLmE9LTEqay9oKTtnLmJhbmR3aWR0aD1kLmJhbmR3aWR0aDtnLndpZHRoPWQud2lkdGg7Zy5oZWlnaHQ9ZC5oZWlnaHQ7Zy5taW1lVHlwZT1kLm1pbWVUeXBlfHwiIjtnLmNvZGVjcz1kLmNvZGVjc3x8IiI7Zy5nPWQub3x8bnVsbDtnLmg9ZC51fHxudWxsO2cuZmJRdWFsaXR5TGFiZWw9ZC5mYlF1YWxpdHlMYWJlbHx8bnVsbDtnLmZiUXVhbGl0eUNsYXNzPWQuZmJRdWFsaXR5Q2xhc3N8fG51bGw7Zy5mPWQubXx8bnVsbDtnLmZyYW1lUmF0ZT1kLmZyYW1lUmF0ZXx8IiI7Zy5jPWQuanx8bnVsbDtmb3IoYT0wO2E8ZC5jLmxlbmd0aDsrK2EpYj1kLmNbYV0sYi5iJiZnLmIucHVzaChiLmIpO3JldHVybiBnfQpmdW5jdGlvbiBKZShhLGIsYyl7Yj1uZChiLGEuaWQsbnVsbCxhLmJhbmR3aWR0aCxudWxsKTtpZighYilyZXR1cm4gbnVsbDtjPW5ldyBjO2MudXJsPVpjKGEuYmFzZVVybCxiKTtyZXR1cm4gY31mdW5jdGlvbiBJZShhLGIsYyl7dmFyIGQ9Yi51cmwsZT0wLGY9bnVsbDtiLmEmJihlPWIuYS5xYSxmPWIuYS5lbmQpO3JldHVybiBuZXcgSyhjLGQsZSxmLHZvaWQgMCxhLmEpfTtmdW5jdGlvbiBLZShhLGIsYyxkLGUsZixnKXt0aGlzLmI9bmV3IEsobnVsbCxbbmV3IEwoYSldKTt0aGlzLmw9ZTt0aGlzLmY9Yjt0aGlzLmM9MTt0aGlzLmc9YTt0aGlzLmE9bmV3IHRiO3RoaXMuYS5ib2R5PWI7dGhpcy5hLm1ldGhvZD1jO3RoaXMuYS5OYT0zO3RoaXMuYS53aXRoQ3JlZGVudGlhbHM9ZDt0aGlzLmEuYj0xRTMqKG51bGwhPWc/ZzpoYSk7YT1mfHx7fTtmb3IodmFyIGggaW4gYSl0aGlzLmEuUWFbaF09YVtoXX0KZnVuY3Rpb24gTGUoYSl7cmV0dXJuIGEuYi5mZXRjaChhLmEpLnRoZW4oZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYi51JiYwPHRoaXMuYz8odGhpcy5jLS0sbnVsbCE9PXRoaXMubCYmbnVsbCE9PXRoaXMuYi5pJiZ0aGlzLmwuc2V0UmVhc29uKCJSZWRpcmVjdGVkIHRvIFVSTDogIit0aGlzLmIuaS50b1N0cmluZygpKSx0aGlzLmI9bmV3IEsobnVsbCxbbmV3IEwodGhpcy5nKV0pLHRoaXMuYS5ib2R5PXRoaXMuZixMZSh0aGlzKSk6UHJvbWlzZS5yZXNvbHZlKG5ldyBVaW50OEFycmF5KGEpKX0uYmluZChhKSl9O2Z1bmN0aW9uIE1lKGEsYixjLGQpe0YuY2FsbCh0aGlzLGEpO3RoaXMuYz1iO3RoaXMuaj1jO3RoaXMuYT10aGlzLmg9bnVsbDt0aGlzLmk9bmV3IGJiO3RoaXMuYj1bXTt0aGlzLmY9W107dGhpcy5tPTA7dGhpcy5nPW5ldyBJO3RoaXMubz1udWxsO3RoaXMuQT1oYTt0aGlzLmw9ZH1yKE1lLEYpO01lLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5KYT1udWxsO2Zvcih2YXIgYT0wO2E8dGhpcy5mLmxlbmd0aDsrK2EpdGhpcy5mW2FdLmNsb3NlKCkuY2F0Y2goZnVuY3Rpb24oKXt9KTt0aGlzLmY9W107dGhpcy5iPXRoaXMuYT10aGlzLmg9bnVsbDt0aGlzLmcuZGVzdHJveSgpO3RoaXMuZz1udWxsO3RoaXMuaS5kZXN0cm95KCk7dGhpcy5pPW51bGw7dGhpcy5vJiYoY2xlYXJUaW1lb3V0KHRoaXMubyksdGhpcy5vPW51bGwpO3RoaXMuYz10aGlzLmo9bnVsbH07Ck1lLnByb3RvdHlwZS5pbml0aWFsaXplPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPW5ldyBELGI9TmUodGhpcy5qKSxjPTA7YzxiLmxlbmd0aDsrK2Mpe3ZhciBkPWJbY107ZC5hLmF8fGQuYiYmIU9lKGQuYil8fGEucHVzaChkLmNvbnRlbnRUeXBlLGQpfWZvcih2YXIgYz17fSxkPSExLGU9MDtlPGIubGVuZ3RoOysrZSl7dmFyIGY9YltlXTtpZihmLmEuYSYmIWEuYS5oYXNPd25Qcm9wZXJ0eShmLmNvbnRlbnRUeXBlKSl7dmFyIGc9Zi5hLmEsaD1jW2ddO2h8fChoPWYuYSxoPXthdWRpb0NhcGFiaWxpdGllczp2b2lkIDAsdmlkZW9DYXBhYmlsaXRpZXM6dm9pZCAwLGluaXREYXRhVHlwZXM6dm9pZCAwLGRpc3RpbmN0aXZlSWRlbnRpZmllcjpoLmg/InJlcXVpcmVkIjoib3B0aW9uYWwiLHBlcnNpc3RlbnRTdGF0ZTpoLmo/InJlcXVpcmVkIjoib3B0aW9uYWwiLHNlc3Npb25UeXBlczpbInRlbXBvcmFyeSJdfSxjW2ddPWgpO2lmKGYuYiYmKGc9Zi5jb250ZW50VHlwZSsiQ2FwYWJpbGl0aWVzIiwKZyBpbiBoKSl7ZD0hMDtoW2ddfHwoaFtnXT1bXSk7dmFyIGs7ImF1ZGlvIj09Zi5jb250ZW50VHlwZT9rPWYuYS5nOiJ2aWRlbyI9PWYuY29udGVudFR5cGUmJihrPWYuYS5tKTtoW2ddLnB1c2goe2NvbnRlbnRUeXBlOmYuYixyb2J1c3RuZXNzOmt9KX19fWlmKCFkKWlmKGIubGVuZ3RoKXRoaXMuYT1iWzBdLmE7ZWxzZSB0aHJvdyBhPUVycm9yKCJObyBEcm1JbmZvIGV4aXN0cyEiKSxhLnR5cGU9ImRybSIsYTtpZigwPT1PYmplY3Qua2V5cyhjKS5sZW5ndGgpcmV0dXJuIFBlKHRoaXMuaixhKSx0aGlzLmcucmVzb2x2ZSgpLFByb21pc2UucmVzb2x2ZSgpO2s9bmV3IEk7Yz1RZShjLGspO2M9Yy50aGVuKHRoaXMudy5iaW5kKHRoaXMsYixhKSk7ay5yZWplY3QobnVsbCk7dGhpcy5sJiZ0aGlzLmwuZ2V0RXZlbnRMb2dnZXIoImVtZV9pbml0IikubG9nKCk7cmV0dXJuIGN9OwpmdW5jdGlvbiBRZShhLGIpe2Zvcih2YXIgYyBpbiBhKWI9Yi5jYXRjaChmdW5jdGlvbihhLGIpe3JldHVybiBuYXZpZ2F0b3IucmVxdWVzdE1lZGlhS2V5U3lzdGVtQWNjZXNzKGEsW2JdKX0uYmluZChudWxsLGMsYVtjXSkpO3JldHVybiBifQpNZS5wcm90b3R5cGUudz1mdW5jdGlvbihhLGIsYyl7aWYoIXRoaXMuYylyZXR1cm4gUmUoKTtmb3IodmFyIGQ9Yy5rZXlTeXN0ZW0sZT1jLmdldENvbmZpZ3VyYXRpb24oKSxmPVsiYXVkaW8iLCJ2aWRlbyJdLGc9MDtnPGYubGVuZ3RoOysrZyl7dmFyIGg9ZltnXTtpZighYi5hLmhhc093blByb3BlcnR5KGgpKXt2YXIgaz1lW2grIkNhcGFiaWxpdGllcyJdO2lmKGspe2Zvcih2YXIgaz1rWzBdLGw9W10sbT17fSxwPTA7cDxhLmxlbmd0aDsrK3Ape3ZhciB0PWFbcF0sdz1rP3QuYj09ay5jb250ZW50VHlwZTp0LmNvbnRlbnRUeXBlPT1oO3QuYS5hIT1kfHwhd3x8dC5pZCBpbiBtfHwobC5wdXNoKHQpLG1bdC5pZF09ITAsdGhpcy5hPXRoaXMuYT9OYih0aGlzLmEsdC5hKTp0LmEpfWIuc2V0KGgsbCl9fX1QZSh0aGlzLmosYik7aWYodGhpcy5jLm1lZGlhS2V5cyl0aGlzLmg9dGhpcy5jLm1lZGlhS2V5cztlbHNlIHJldHVybiBjLmNyZWF0ZU1lZGlhS2V5cygpLnRoZW4oZnVuY3Rpb24oYSl7dGhpcy5oPQphfS5iaW5kKHRoaXMpKX07ZnVuY3Rpb24gU2UoYSl7cmV0dXJuIGEuYz9hLmg/YS5jLnNldE1lZGlhS2V5cyhhLmgpLnRoZW4oSihhLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYz90aGlzLmEuYz90aGlzLmguc2V0U2VydmVyQ2VydGlmaWNhdGUodGhpcy5hLmMpOlByb21pc2UucmVzb2x2ZSgpOlJlKCl9KSkudGhlbihKKGEsZnVuY3Rpb24oKXtpZighdGhpcy5jKXJldHVybiBSZSgpO2Zvcih2YXIgYT0wO2E8dGhpcy5hLmIubGVuZ3RoOysrYSl7dmFyIGM9dGhpcy5hLmJbYV07dGhpcy51KHt0eXBlOiJlbmNyeXB0ZWQiLGluaXREYXRhVHlwZTpjLmluaXREYXRhVHlwZSxpbml0RGF0YTpjLmluaXREYXRhfSl9MD09dGhpcy5hLmIubGVuZ3RoJiZFKHRoaXMuaSx0aGlzLmMsImVuY3J5cHRlZCIsdGhpcy51LmJpbmQodGhpcykpfSkpOlByb21pc2UucmVzb2x2ZSgpOlJlKCl9CmZ1bmN0aW9uIFJlKCl7dmFyIGE9RXJyb3IoIkVtZU1hbmFnZXIgZGVzdHJveWVkIik7YS50eXBlPSJkZXN0cm95IjtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYSl9Ck1lLnByb3RvdHlwZS51PWZ1bmN0aW9uKGEpe3ZhciBiPW5ldyBVaW50OEFycmF5KGEuaW5pdERhdGEpO3RoaXMubCYmdGhpcy5sLmdldEV2ZW50TG9nZ2VyKCJlbmNyeXB0ZWRfc2FtcGxlIikubG9nKCk7Zm9yKHZhciBjPTA7Yzx0aGlzLmIubGVuZ3RoOysrYylpZihNYShiLHRoaXMuYltjXS5kYXRhKSlyZXR1cm47dHJ5e3ZhciBkPVRlKHRoaXMpfWNhdGNoKGUpe2I9QShlKTt0aGlzLmRpc3BhdGNoRXZlbnQoYik7dGhpcy5sJiZ0aGlzLmwuZ2V0RXZlbnRMb2dnZXIoImVtZV9lcnJvciIpLnNldEVycm9yKGUpLmxvZygpO3RoaXMuZy5yZWplY3QoZSk7cmV0dXJufWE9ZC5nZW5lcmF0ZVJlcXVlc3QoYS5pbml0RGF0YVR5cGUsYS5pbml0RGF0YSk7dGhpcy5iLnB1c2goe2RhdGE6Yix1YjpkfSk7YS5jYXRjaChKKHRoaXMsZnVuY3Rpb24oYSl7aWYodGhpcy5jKXtmb3IodmFyIGI9MDtiPHRoaXMuYi5sZW5ndGg7KytiKWlmKHRoaXMuYltiXS51Yj09ZCl7dGhpcy5iLnNwbGljZShiLAoxKTticmVha31iPUEoYSk7dGhpcy5kaXNwYXRjaEV2ZW50KGIpO3RoaXMubCYmdGhpcy5sLmdldEV2ZW50TG9nZ2VyKCJlbWVfZXJyb3IiKS5zZXRFcnJvcihhKS5sb2coKTt0aGlzLmcucmVqZWN0KGEpfX0pKTt0aGlzLmYucHVzaChkKX07ZnVuY3Rpb24gVWUoYSl7Zm9yKHZhciBiPVtdLGM9MDtjPGIubGVuZ3RoOysrYyl7dmFyIGQ9VGUoYSksZT1kLmxvYWQoYltjXSk7YS5mLnB1c2goZCk7ZS50aGVuKEooYSxmdW5jdGlvbigpe3RoaXMubSsrO3RoaXMubT49dGhpcy5mLmxlbmd0aCYmdGhpcy5nLnJlc29sdmUoKX0pKS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7dmFyIGI9QShhKTt0aGlzLmRpc3BhdGNoRXZlbnQoYik7dGhpcy5sJiZ0aGlzLmwuZ2V0RXZlbnRMb2dnZXIoImVtZV9lcnJvciIpLnNldEVycm9yKGEpLmxvZygpfSkpfX0KZnVuY3Rpb24gVGUoYSl7dmFyIGI9bnVsbCxiPWEuaC5jcmVhdGVTZXNzaW9uKCk7RShhLmksYiwibWVzc2FnZSIsYS5ELmJpbmQoYSkpO0UoYS5pLGIsImtleXN0YXR1c2VzY2hhbmdlIixhLkIuYmluZChhKSk7cmV0dXJuIGJ9TWUucHJvdG90eXBlLkQ9ZnVuY3Rpb24oYSl7VmUodGhpcyxhLnRhcmdldCx0aGlzLmEsYS5tZXNzYWdlKX07Ck1lLnByb3RvdHlwZS5CPWZ1bmN0aW9uKGEpe2E9YS50YXJnZXQ7dmFyIGI9e307YS5rZXlTdGF0dXNlcy5mb3JFYWNoKGZ1bmN0aW9uKGEsYyl7aWYoInN0cmluZyI9PT10eXBlb2YgYSl7dmFyIGY9YTthPWM7Yz1mfWlmKCJjb20ubWljcm9zb2Z0LnBsYXlyZWFkeSI9PXRoaXMuYS5hJiYxNj09YS5ieXRlTGVuZ3RoKXt2YXIgZj1uZXcgRGF0YVZpZXcoYSksZz1mLmdldFVpbnQzMigwLCEwKSxoPWYuZ2V0VWludDE2KDQsITApLGs9Zi5nZXRVaW50MTYoNiwhMCk7Zi5zZXRVaW50MzIoMCxnLCExKTtmLnNldFVpbnQxNig0LGgsITEpO2Yuc2V0VWludDE2KDYsaywhMSl9Zj1MYihuZXcgVWludDhBcnJheShhKSk7YltmXT1jfS5iaW5kKHRoaXMpKTtpZihhLmV4cGlyYXRpb248RGF0ZS5ub3coKSl7Zm9yKHZhciBjPTA7Yzx0aGlzLmIubGVuZ3RoOysrYylpZih0aGlzLmJbY10udWI9PWEpe3RoaXMuYi5zcGxpY2UoYywxKTticmVha31hLmNsb3NlKCk7dGhpcy5mLnNwbGljZSh0aGlzLmYuaW5kZXhPZihhKSwKMSl9dGhpcy5sJiZ0aGlzLmwuZ2V0RXZlbnRMb2dnZXIoImVtZV9rZXlfc3RhdHVzX2NoYW5nZSIpLmxvZygpO1dlKHRoaXMuaixiKX07CmZ1bmN0aW9uIFZlKGEsYixjLGQpe2Q9WGUoYyxkKTt2YXIgZT1udWxsO2EubCYmKGU9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigibGljZW5zZV9yZXF1ZXN0Iikuc3RhcnQoKSk7TGUobmV3IEtlKGQudXJsLGQuYm9keSxkLm1ldGhvZCxjLndpdGhDcmVkZW50aWFscyxlLGQuaGVhZGVycyxhLkEpKS50aGVuKEooYSxmdW5jdGlvbihhKXtlJiYoZS5zZXRSZXN1bHQoInN1Y2Nlc3MiKSxlLmxvZygpKTtjLmYmJihhPWMuZihhKSk7ZT1udWxsO3RoaXMubCYmKGU9dGhpcy5sLmdldE9wZXJhdGlvbkxvZ2dlcigiZW1lX3Bvc3RfbGljZW5zZV9zZXNzaW9uX3VwZGF0ZSIpLnN0YXJ0KCkpO251bGw9PT1hfHx2b2lkIDA9PT1hfHwwPT09YS5ieXRlTGVuZ3RoP251bGwhPT1lJiYoZS5zZXRFcnJvcigiZW1wdHkgbGljZW5zZSIpLGUuc2V0UmVzdWx0KCJmYWlsZWQiKS5sb2coKSk6Yi51cGRhdGUoYSkudGhlbihKKHRoaXMsZnVuY3Rpb24oKXtlJiYoZS5zZXRSZXN1bHQoInN1Y2Nlc3MiKSxlLmxvZygpKTsKdmFyIGE9eSh7dHlwZToic2Vzc2lvblJlYWR5IixkZXRhaWw6Yn0pO3RoaXMuZGlzcGF0Y2hFdmVudChhKTt0aGlzLm0rKzt0aGlzLm0+PXRoaXMuZi5sZW5ndGgmJnRoaXMuZy5yZXNvbHZlKCl9KSkuY2F0Y2goSih0aGlzLGZ1bmN0aW9uKGEpe2EudWI9Yjt2YXIgYz1BKGEpO2UmJihlLnNldFJlc3VsdCgiZmFpbGVkIiksZS5zZXRFcnJvcihhKS5sb2coKSk7dGhpcy5kaXNwYXRjaEV2ZW50KGMpfSkpfSkpLmNhdGNoKEooYSxmdW5jdGlvbihhKXtpZihjLmYpe3ZhciBkPUpTT04uc3RyaW5naWZ5KHtkYXRhOlt7ZXJyb3I6YX1dfSksZD1uZXcgVWludDhBcnJheShkLnNwbGl0KCIiKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuY2hhckNvZGVBdCgwKX0pKTtjLmYoZCl9YS51Yj1iO2Q9QShhKTtlJiZlLnNldEVycm9yKGEpLmxvZygpO3RoaXMuZGlzcGF0Y2hFdmVudChkKX0pKX0KZnVuY3Rpb24gWGUoYSxiKXt2YXIgYz17dXJsOmEuaSxib2R5OmIuc2xpY2UoMCksbWV0aG9kOiJQT1NUIixoZWFkZXJzOnt9LGtleV9zeXN0ZW06YS5hfTtpZigiY29tLm1pY3Jvc29mdC5wbGF5cmVhZHkiPT09YS5hKXtmb3IodmFyIGQ9U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLG5ldyBVaW50MTZBcnJheShjLmJvZHkpKSxkPShuZXcgRE9NUGFyc2VyKS5wYXJzZUZyb21TdHJpbmcoZCwiYXBwbGljYXRpb24veG1sIiksZT1kLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJuYW1lIiksZj1kLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJ2YWx1ZSIpLGc9MDtnPGUubGVuZ3RoO2crKyljLmhlYWRlcnNbZVtnXS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZV09ZltnXS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZTtjLmJvZHk9d2luZG93LmF0b2IoZC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiQ2hhbGxlbmdlIilbMF0uY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUpfWlmKCFhLm8pcmV0dXJuIGM7CmEubyhjKTtjLnVybD1ZYShjLCJ1cmwiKTtpZihudWxsPT1jLnVybCl0aHJvdyBFcnJvcigiJ3VybCcgY2Fubm90IGJlIG51bGwuIik7aWYoIShjLmJvZHkgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcnx8InN0cmluZyI9PT10eXBlb2YgYy5ib2R5fHxudWxsPT1jLmJvZHkpKXRocm93IG5ldyBUeXBlRXJyb3IoIidib2R5JyBtdXN0IGJlIGFuIEFycmF5QnVmZmVyLCBhIHN0cmluZywgb3IgbnVsbC4iKTtjLm1ldGhvZD1ZYShjLCJtZXRob2QiKTtpZigiR0VUIiE9Yy5tZXRob2QmJiJQT1NUIiE9Yy5tZXRob2QpdGhyb3cgRXJyb3IoIidtZXRob2QnIG11c3QgYmUgZWl0aGVyICdHRVQnIG9yICdQT1NUJy4iKTtjLmhlYWRlcnM9WmEoYywiaGVhZGVycyIsT2JqZWN0KTtpZihudWxsPT1jLmhlYWRlcnMpdGhyb3cgRXJyb3IoIidoZWFkZXJzJyBjYW5ub3QgYmUgbnVsbC4iKTtyZXR1cm4gY307ZnVuY3Rpb24gVyhhLGIsYyxkLGUsZixnKXtGLmNhbGwodGhpcyxudWxsKTt0aGlzLmI9YTt0aGlzLmY9Yjt0aGlzLmE9bnVsbDt0aGlzLmc9bmV3IGJiO3RoaXMubT10aGlzLmk9bnVsbDt0aGlzLkY9MDt0aGlzLlM9dGhpcy5aPXRoaXMuJD1udWxsO3RoaXMuYmE9Zzt0aGlzLko9bnVsbDt0aGlzLk89dGhpcy5oPSExO3RoaXMuVj10aGlzLlk9ITA7dGhpcy5LPSExO3RoaXMuYz17ZW5hYmxlQWRhcHRhdGlvbjohMCxzdHJlYW1CdWZmZXJTaXplOjE1LGxpdmVTdHJlYW1FbmRUaW1lb3V0OjE1LGxpY2Vuc2VSZXF1ZXN0VGltZW91dDpoYSxtcGRSZXF1ZXN0VGltZW91dDppYSxzZWdtZW50UmVxdWVzdFRpbWVvdXQ6amEscHJlZmVycmVkTGFuZ3VhZ2U6ImVuIixyZXN0cmljdGlvbnM6bmV3IGthfTt0aGlzLmw9Yzt0aGlzLkc9ZDt0aGlzLmNhPWU7dGhpcy5nYT1mO3RoaXMubz1udWxsO3RoaXMuaj0xO3RoaXMuVD1udWxsO3RoaXMudT10aGlzLkE9dGhpcy53PSExO3RoaXMuUj10aGlzLkI9Cm51bGx9cihXLEYpO3EoInNoYWthLnBsYXllci5QbGF5ZXIiLFcpO1cudmVyc2lvbj0idjEuNi40LWZiIjtXLmlzQnJvd3NlclN1cHBvcnRlZD1mdW5jdGlvbigpe3JldHVybiEhd2luZG93Lk1lZGlhU291cmNlJiYhIXdpbmRvdy5VaW50OEFycmF5fTsKVy5wcm90b3R5cGUuQmE9ZnVuY3Rpb24oKXt2YXIgYT17fSxiPXRoaXMuYTtpZihiKXt2YXIgYz1iLlhiKCk7YS5CYW5kd2lkdGhFc3RpbWF0b3I9Yy5CYW5kd2lkdGhFc3RpbWF0b3I7dmFyIGQ9Yy5WaWRlb1NvdXJjZVN0cmVhbTtkJiYoYS5WaWRlb1NvdXJjZVN0cmVhbT1kLChkPWEuVmlkZW9CdWZmZXJNYW5hZ2VyPWQuQmEoKS5Tb3VyY2VCdWZmZXJNYW5hZ2VyKSYmKGEuVmlkZW9Tb3VyY2VCdWZmZXI9ZC5CYSgpLlNvdXJjZUJ1ZmZlcikpOyhkPWEuQXVkaW9Tb3VyY2VTdHJlYW09Yy5BdWRpb1NvdXJjZVN0cmVhbSkmJihkPWEuQXVkaW9CdWZmZXJNYW5hZ2VyPWQuQmEoKS5Tb3VyY2VCdWZmZXJNYW5hZ2VyKSYmKGEuQXVkaW9Tb3VyY2VCdWZmZXI9ZC5CYSgpLlNvdXJjZUJ1ZmZlcik7YS5UZXh0U291cmNlU3RyZWFtPWMuVGV4dFNvdXJjZVN0cmVhbTthLmdldE1hbmlmZXN0PWIuVGIuYmluZChiKX1lbHNlIGEuZ2V0TWFuaWZlc3Q9ZnVuY3Rpb24oKXt9O2EuTmQ9ITA7cmV0dXJuIGF9OwpXLnByb3RvdHlwZS5nZXREZWJ1Zz1XLnByb3RvdHlwZS5CYTtXLnByb3RvdHlwZS5zYT1mdW5jdGlvbihhKXt0aGlzLlk9YX07Vy5wcm90b3R5cGUuc2V0UmVzdW1lQWZ0ZXJCdWZmZXJpbmc9Vy5wcm90b3R5cGUuc2E7ZnVuY3Rpb24gT2UoYSl7cmV0dXJuInRleHQvdnR0Ij09YT8hIXdpbmRvdy5WVFRDdWU6TWVkaWFTb3VyY2UuaXNUeXBlU3VwcG9ydGVkKGEpfVcuaXNUeXBlU3VwcG9ydGVkPU9lO1cuc2V0VGV4dFN0eWxlPWZ1bmN0aW9uKGEpe3ZhciBiPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJTaGFrYVBsYXllclRleHRTdHlsZSIpO2J8fChiPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInN0eWxlIiksYi5pZD0iU2hha2FQbGF5ZXJUZXh0U3R5bGUiLGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoYikpO2ZvcihiPWIuc2hlZXQ7Yi5jc3NSdWxlcy5sZW5ndGg7KWIuZGVsZXRlUnVsZSgwKTtiLmluc2VydFJ1bGUoIjo6Y3VlIHsgIityYShhKSsiIH0iLDApfTsKVy5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3JldHVybiB0aGlzLlUoKS50aGVuKEoodGhpcyxmdW5jdGlvbigpe3RoaXMuZy5kZXN0cm95KCk7dGhpcy5iPXRoaXMuZz1udWxsO3RoaXMuUiYmdGhpcy5SLnJlbW92ZSgpfSkpLmNhdGNoKGZ1bmN0aW9uKCl7fSl9O1cucHJvdG90eXBlLmRlc3Ryb3k9Vy5wcm90b3R5cGUuZGVzdHJveTtXLnByb3RvdHlwZS5VPWZ1bmN0aW9uKCl7dGhpcy5LPSEwO3JldHVybiBaZSh0aGlzKX07Vy5wcm90b3R5cGUudW5sb2FkPVcucHJvdG90eXBlLlU7CmZ1bmN0aW9uIFplKGEpe3ZhciBiO2EubCYmKGI9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigidW5sb2FkIikuc3RhcnQoKSk7aWYoIWEuYSlyZXR1cm4gYiYmYi5sb2coKSxQcm9taXNlLnJlc29sdmUoKTthLmgmJiRlKGEsInVubG9hZGluZyIpO2EuYi5wYXVzZSgpO2RiKGEuZyk7YWYoYSk7YmYoYSk7YS5pJiYoYS5pLmRlc3Ryb3koKSxhLmk9bnVsbCk7YS5hJiYoYS5hLmRlc3Ryb3koKSxhLmE9bnVsbCk7YS5mLmdldEJvb2woInd3d192aWRlb3NfcGxheWJhY2tfcmVtb3ZlX3NyY19hdHRyX29uX3VubG9hZCIsITEpP2EuYi5yZW1vdmVBdHRyaWJ1dGUoInNyYyIpOmEuYi5zcmM9IiI7dmFyIGM9YS5mLmdldEJvb2woInd3d19zaGFrYV9jbGVhcl9tZWRpYV9rZXlzX29uX3VubG9hZCIsITEpJiZhLmIuc2V0TWVkaWFLZXlzJiYiZnVuY3Rpb24iPT09dHlwZW9mIGEuYi5zZXRNZWRpYUtleXM/YS5iLnNldE1lZGlhS2V5cyhudWxsKTpQcm9taXNlLnJlc29sdmUoKSxjPWMudGhlbihmdW5jdGlvbigpe2ImJgpiLmxvZygpO2lmKGEuZi5nZXRCb29sKCJlbmFibGVfcDJwX3N1cHBvcnQiLCExKSl7dmFyIGM9eSh7dHlwZToidW5sb2FkIn0pO2EuZGlzcGF0Y2hFdmVudChjKX19KTthLmg9ITE7YS5PPSExO2EuQT0hMTthLnU9ITE7cmV0dXJuIGN9ZnVuY3Rpb24gY2YoYSxiKXtmb3IodmFyIGM9MDtjPGEubGVuZ3RoO2MrKyliLnB1c2goYVtjXS5jb250ZW50VHlwZSxhW2NdKX1XLnByb3RvdHlwZS5GYT1mdW5jdGlvbihhKXtyZXR1cm4gZGYodGhpcyxhKX07Vy5wcm90b3R5cGUubG9hZD1XLnByb3RvdHlwZS5GYTsKZnVuY3Rpb24gZGYoYSxiKXt2YXIgYzthLmwmJihjPWEubC5nZXRPcGVyYXRpb25Mb2dnZXIoImxvYWQiKS5zZXRTdGF0ZSgibG9hZGluZyIpLnN0YXJ0KCksYi5sPWIuZy5wZXJmb3JtYW5jZUxvZ2dlcj1hLmwpO2EuRyYmKGIuQWI9Yi5nLmFickxvZ2dlcj1hLkcpO2EuYmEmJihiLmlhPWEuYmEpO2EuY2EmJihiLkk9YS5jYSk7YS5nYSYmYi5VLnB1c2goYS5nYSk7ZWYoYixhLmIpO3ZhciBkPW51bGw7YS5LPSExO0UoYS5nLGIsInJlcGxpY2Fzd2l0Y2giLGEubmEuYmluZChhKSk7YS5hJiYoZD1aZShhKS50aGVuKEooYSxmdW5jdGlvbigpe3JldHVybiBiLndiKCl9KSkpO2EuYi5hdXRvcGxheSYmKHUucWEoImxvYWQiKSxFKGEuZyxhLmIsInRpbWV1cGRhdGUiLGEuZWQuYmluZChhKSkpO2IubGMoYS5jKTtiLmxhPWEuVDthLlQ9bnVsbDtkfHwoZD1iLndiKCkpO2EuZi5nZXRCb29sKCJmaXhfc2hha2FfcGxheWVyX2xvYWRfcmFjZV9jb25kaXRpb24iLCExKSYmKGEuYT1iKTtkLmNhdGNoKEooYSwKZnVuY3Rpb24oYSl7Yi5kZXN0cm95KCk7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfSkpO3JldHVybiBkLnRoZW4oSihhLGZ1bmN0aW9uKCl7aWYoZmYodGhpcyxiKSlyZXR1cm4gZ2YoKTt0aGlzLmE9Yjt0aGlzLmcuYWIodGhpcy5hLCJyZXBsaWNhc3dpdGNoIik7RSh0aGlzLmcsdGhpcy5hLCJzZWVrcmFuZ2VjaGFuZ2VkIix0aGlzLnBhLmJpbmQodGhpcykpO0UodGhpcy5nLHRoaXMuYSwiYWxsU3RyZWFtc1N0YXJ0ZWQiLHRoaXMuRmQuYmluZCh0aGlzKSk7dmFyIGE9bmV3IEQ7Y2YoTmUodGhpcy5hKSxhKTtQZSh0aGlzLmEsYSk7YT10aGlzLmVhKCk7YyYmMDxhLmxlbmd0aCYmKGE9YS5yZWR1Y2UoZnVuY3Rpb24oYSxiKXtpZihudWxsPT09YXx8Yi5iYW5kd2lkdGg8YS5iYW5kd2lkdGgpYT1iO3JldHVybiBhfSxudWxsKSxjLnNldExvd2VzdFF1YWxpdHlSZXByZXNlbnRhdGlvbklEKGEuc3RyZWFtSW5mb0lEKSk7aWYoIXRoaXMuYy5lbmFibGVDb250ZW50UHJvdGVjdGlvbilyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7CnRoaXMuaT1uZXcgTWUodGhpcyx0aGlzLmIsdGhpcy5hLHRoaXMubCk7cmV0dXJuIHRoaXMuaS5pbml0aWFsaXplKCl9KSkudGhlbihKKGEsZnVuY3Rpb24oKXtpZihmZih0aGlzLGIpKXJldHVybiBnZigpO2hmKHRoaXMpO0UodGhpcy5nLHRoaXMuYiwicGxheWluZyIsdGhpcy5rZC5iaW5kKHRoaXMpKTtFKHRoaXMuZyx0aGlzLmIsInBhdXNlIix0aGlzLm1hLmJpbmQodGhpcykpO0UodGhpcy5nLHRoaXMuYiwid2FpdGluZyIsdGhpcy5zZC5iaW5kKHRoaXMpKTtFKHRoaXMuZyx0aGlzLmIsInBsYXkiLHRoaXMuaWEuYmluZCh0aGlzKSk7cmV0dXJuIGpmKHRoaXMuYSx0aGlzLHRoaXMuYil9KSkudGhlbihKKGEsZnVuY3Rpb24oKXtpZihmZih0aGlzLGIpKXJldHVybiBnZigpO2lmKHRoaXMuYy5lbmFibGVDb250ZW50UHJvdGVjdGlvbil7dmFyIGE7dGhpcy5sJiYoYT10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJlbWVfYXR0YWNoIikpO3JldHVybiBTZSh0aGlzLmkpLnRoZW4oZnVuY3Rpb24oKXthJiYKYS5sb2coKX0pfXJldHVybiBQcm9taXNlLnJlc29sdmUoKX0pKS50aGVuKEooYSxmdW5jdGlvbigpe2lmKGZmKHRoaXMsYikpcmV0dXJuIGdmKCk7a2YodGhpcyk7YyYmYy51cGRhdGVTdGF0ZSgicmVhZHkiKS5sb2coKX0pKS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7YyYmYy5zZXRFcnJvcihKU09OLnN0cmluZ2lmeShhKSkubG9nKCk7aWYoZmYodGhpcyxiKSlyZXR1cm4gZ2YoKTtpZigiZGVzdHJveSIhPWEudHlwZSl7dmFyIGQ9QShhKTt0aGlzLmRpc3BhdGNoRXZlbnQoZCl9cmV0dXJuIHRoaXMuVSgpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYSl9KX0pKX1mdW5jdGlvbiBmZihhLGIpe3JldHVybiFhLmJ8fGEuS3x8YS5mLmdldEJvb2woImZpeF9zaGFrYV9wbGF5ZXJfbG9hZF9yYWNlX2NvbmRpdGlvbiIsITEpJiZiIT09YS5hfW49Vy5wcm90b3R5cGU7Cm4uRmQ9ZnVuY3Rpb24oKXt2YXIgYSxiO3RoaXMuZi5nZXRCb29sKCJ3d3dfdmlkZW9zX2V4dGVuZGVkX3NwbF9sb2dnaW5nX2Zvcl9jb25uZWN0ZWRfdHYiLCExKSYmdGhpcy5sJiYoYT10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJvbl9hbGxfc3RyZWFtc19zdGFydGVkIiksYj10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJyZXN0b3JlX3ZpZGVvX3BsYXliYWNrX3JhdGUiKSk7dGhpcy5PPSEwO3RoaXMuaD90aGlzLkQoKToodGhpcy5iLnBsYXliYWNrUmF0ZT10aGlzLmosYiYmYi5sb2coKSk7YSYmYS5sb2coKX07ZnVuY3Rpb24gZ2YoKXt2YXIgYT1FcnJvcigiUGxheWVyIGRlc3Ryb3llZCIpO2EudHlwZT0iZGVzdHJveSI7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfQpmdW5jdGlvbiBoZihhKXt2YXIgYj1hLmIucGFyZW50Tm9kZTtiJiZhLmYuZ2V0Qm9vbCgicHJldmVudF9wbGF5aW5nX29uX2luc3VmZmljaWVudF9idWZmZXIiLCExKSYmKGEuUj1ldmVudExpc3RlbmVyQ2FwdHVyZShiLCJwbGF5aW5nIixmdW5jdGlvbihhKXthLnRhcmdldD09PXRoaXMuYiYmdGhpcy5EKGEpfS5iaW5kKGEpKSl9bi5lZD1mdW5jdGlvbigpe3UuZW5kKCJsb2FkIik7dGhpcy5nLmFiKHRoaXMuYiwidGltZXVwZGF0ZSIpfTtuLnNkPWZ1bmN0aW9uKGEpe2xmKHRoaXMpO3RoaXMuZi5nZXRCb29sKCJ1bmlmeV9zdHJlYW1fc3RhcnRfd2l0aF9idWZmZXJfZGV0ZWN0b3IiLCExKSYmIXRoaXMuaCYmdGhpcy5EKGEpfTsKbi5rZD1mdW5jdGlvbigpe3UucWEoInBsYXlpbmciKTt0aGlzLmwmJnRoaXMubC5nZXRFdmVudExvZ2dlcigicGxheWluZyIpLnNldFN0YXRlKCJwbGF5aW5nIikubG9nKCk7IXRoaXMubSYmMD50aGlzLmomJih0aGlzLmIucGxheWJhY2tSYXRlPTAsdGhpcy5QKHRoaXMuYi5jdXJyZW50VGltZSxEYXRlLm5vdygpLHRoaXMuaikpO3RoaXMuaCYmIXRoaXMuViYmJGUodGhpcywicGxheWluZyIpfTtuLkJkPWZ1bmN0aW9uKGEpe3RoaXMudT1hfTtXLnByb3RvdHlwZS5zZXRQZW5kaW5nUGxheVJlcXVlc3Q9Vy5wcm90b3R5cGUuQmQ7Vy5wcm90b3R5cGUuaWE9ZnVuY3Rpb24oKXt0aGlzLnU9ITB9O1cucHJvdG90eXBlLm1hPWZ1bmN0aW9uKCl7dGhpcy5sJiZ0aGlzLmwuZ2V0RXZlbnRMb2dnZXIoInBhdXNlIikuc2V0U3RhdGUoInBhdXNlZCIpLmxvZygpO3UuZW5kKCJwbGF5aW5nIik7dS5nZXQoInBsYXlpbmciKTtiZih0aGlzKX07ClcucHJvdG90eXBlLnBhPWZ1bmN0aW9uKGEpe3RoaXMuRj1hLnN0YXJ0O3RoaXMuJD1hLmxhc3Q7dGhpcy5aPWEuZW5kO3RoaXMuUz1hLnNlZWtSYW5nZUdhcHM7dGhpcy5mLmdldEJvb2woIm5vX3NraXBfZ2Fwc19vbl9zZWVrX3JhbmdlX2NoYW5nZWQiLCExKXx8bGYodGhpcyl9O1cucHJvdG90eXBlLmVhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYT90aGlzLmEuWigpOltdfTtXLnByb3RvdHlwZS5nZXRWaWRlb1RyYWNrcz1XLnByb3RvdHlwZS5lYTtXLnByb3RvdHlwZS54YT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmE/dGhpcy5hLnZhKCk6W119O1cucHJvdG90eXBlLmdldEF1ZGlvVHJhY2tzPVcucHJvdG90eXBlLnhhO1cucHJvdG90eXBlLkRhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYT90aGlzLmEubWMoKTpbXX07Vy5wcm90b3R5cGUuZ2V0VGV4dFRyYWNrcz1XLnByb3RvdHlwZS5EYTsKVy5wcm90b3R5cGUuc2VsZWN0VmlkZW9UcmFjaz1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmE/dGhpcy5hLnNlbGVjdFZpZGVvVHJhY2soYSx2b2lkIDA9PWI/ITA6Yik6ITF9O1cucHJvdG90eXBlLnNlbGVjdFZpZGVvVHJhY2s9Vy5wcm90b3R5cGUuc2VsZWN0VmlkZW9UcmFjaztXLnByb3RvdHlwZS5HYT1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIHRoaXMuYT9tZih0aGlzLmEsImF1ZGlvIixhLHZvaWQgMD09Yj8hMDpiLGMpOiExfTtXLnByb3RvdHlwZS5zZWxlY3RBdWRpb1RyYWNrPVcucHJvdG90eXBlLkdhO1cucHJvdG90eXBlLkhhPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmE/bWYodGhpcy5hLCJ0ZXh0IixhLCExKTohMX07Vy5wcm90b3R5cGUuc2VsZWN0VGV4dFRyYWNrPVcucHJvdG90eXBlLkhhO1cucHJvdG90eXBlLndhPWZ1bmN0aW9uKGEpe3RoaXMuYSYmbmYodGhpcy5hLGEpfTtXLnByb3RvdHlwZS5lbmFibGVUZXh0VHJhY2s9Vy5wcm90b3R5cGUud2E7ClcucHJvdG90eXBlLnJhPWZ1bmN0aW9uKGEpe2JmKHRoaXMpO3RoaXMudyYmdGhpcy5ofHwhKDA8PWEpP3RoaXMuYi5wYXVzZWR8fCh0aGlzLmIucGxheWJhY2tSYXRlPTAsdGhpcy5QKHRoaXMuYi5jdXJyZW50VGltZSxEYXRlLm5vdygpLGEpKTp0aGlzLmIucGxheWJhY2tSYXRlPWE7dGhpcy5qPWF9O1cucHJvdG90eXBlLnNldFBsYXliYWNrUmF0ZT1XLnByb3RvdHlwZS5yYTtXLnByb3RvdHlwZS5rYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmp9O1cucHJvdG90eXBlLmdldFBsYXliYWNrUmF0ZT1XLnByb3RvdHlwZS5rYTtXLnByb3RvdHlwZS5DYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmE/dGhpcy5hLk9iKCk6bnVsbH07Vy5wcm90b3R5cGUuZ2V0TWFuaWZlc3Q9Vy5wcm90b3R5cGUuQ2E7Vy5wcm90b3R5cGUuUGE9ZnVuY3Rpb24oYSl7dGhpcy5UPWF9O1cucHJvdG90eXBlLnNldFBsYXliYWNrU3RhcnRUaW1lPVcucHJvdG90eXBlLlBhOwpXLnByb3RvdHlwZS5JPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYT8hIXRoaXMuYS5QKCk6ITF9O1cucHJvdG90eXBlLmlzTGl2ZT1XLnByb3RvdHlwZS5JOwpXLnByb3RvdHlwZS52YT1mdW5jdGlvbihhKXtpZihhKXt2YXIgYj1CKGEsImVuYWJsZUFkYXB0YXRpb24iKTtudWxsIT1iJiYodGhpcy5jLmVuYWJsZUFkYXB0YXRpb249Yik7Yj1CKGEsImVuZEJ1ZmZlcmluZ09uUGxheWluZyIpO251bGwhPWImJih0aGlzLlY9Yik7Yj1CKGEsInVzZVBsYXliYWNrUmF0ZUZvckJ1ZmZlcmluZyIpO251bGwhPWImJih0aGlzLnc9Yik7Yj1DKGEsInN0cmVhbUJ1ZmZlclNpemUiLDApO251bGwhPWImJih0aGlzLmMuc3RyZWFtQnVmZmVyU2l6ZT1iKTtiPUMoYSwiZHluYW1pY1N0cmVhbUJ1ZmZlclNpemUiLDApO251bGwhPWImJih0aGlzLmMuZHluYW1pY1N0cmVhbUJ1ZmZlclNpemU9Yik7bnVsbCE9YS5zbWFydEJ1ZmZlckFkanVzdG1lbnRQYXJhbXMmJih0aGlzLmMuc21hcnRCdWZmZXJBZGp1c3RtZW50UGFyYW1zPWEuc21hcnRCdWZmZXJBZGp1c3RtZW50UGFyYW1zKTtiPUIoYSwiYWRkQ2RuRGVidWdRdWVyeVBhcmFtZXRlcnMiKTtudWxsIT1iJiYKKHRoaXMuYy5hZGRDZG5EZWJ1Z1F1ZXJ5UGFyYW1ldGVycz1iKTtiPUMoYSwiaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemUiLDApO251bGwhPWImJih0aGlzLmMuaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemU9Yik7Yj1CKGEsImluY2x1ZGVTdHJlYW1CdWZmZXJTaXplSW5TdGFydE9mZnNldCIpO251bGwhPWImJih0aGlzLmMuaW5jbHVkZVN0cmVhbUJ1ZmZlclNpemVJblN0YXJ0T2Zmc2V0PWIpO2I9QyhhLCJqdW1wVG9MaXZlVGhyZXNob2xkIik7bnVsbCE9YiYmKHRoaXMuYy5qdW1wVG9MaXZlVGhyZXNob2xkPWIpO2I9QyhhLCJsaXZlU3RyZWFtRW5kVGltZW91dCIsMCk7bnVsbCE9YiYmKHRoaXMuYy5saXZlU3RyZWFtRW5kVGltZW91dD1iKTtiPUMoYSwibGljZW5zZVJlcXVlc3RUaW1lb3V0IiwwKTtudWxsIT1iJiYodGhpcy5jLmxpY2Vuc2VSZXF1ZXN0VGltZW91dD1iKTtiPUMoYSwibXBkUmVxdWVzdFRpbWVvdXQiLDApO251bGwhPWImJih0aGlzLmMubXBkUmVxdWVzdFRpbWVvdXQ9CmIpO2I9QyhhLCJtaW5NcGRSZWZyZXNoSW50ZXJ2YWwiLDApO251bGwhPWImJih0aGlzLmMubWluTXBkUmVmcmVzaEludGVydmFsPWIpO2I9QihhLCJlbmFibGVMaXZlSW50ZXJydXB0aW9uRGV0ZWN0aW9uIik7bnVsbCE9YiYmKHRoaXMuYy5lbmFibGVMaXZlSW50ZXJydXB0aW9uRGV0ZWN0aW9uPWIpO2I9QihhLCJlbmFibGVNYW5pZmVzdERlYnVnIik7bnVsbCE9YiYmKHRoaXMuYy5lbmFibGVNYW5pZmVzdERlYnVnPWIsRi5wcm90b3R5cGUub2M9YixifHwoRi5wcm90b3R5cGUuTGE9ZnVuY3Rpb24oKXt9KSk7Yj1CKGEsInJlc29sdmVWaWRlb1RpbWVVcGRhdGVPbkZyYWdtZW50ZWRUaW1lUmFuZ2VzIik7bnVsbCE9YiYmKHRoaXMuYy5yZXNvbHZlVmlkZW9UaW1lVXBkYXRlT25GcmFnbWVudGVkVGltZVJhbmdlcz1iKTtiPUMoYSwibGl2ZUludGVycnVwdGlvbkNvbnNlY3V0aXZlVXBkYXRlc1dpdGhvdXRDaGFuZ2UiKTtudWxsIT1iJiYodGhpcy5jLmxpdmVJbnRlcnJ1cHRpb25Db25zZWN1dGl2ZVVwZGF0ZXNXaXRob3V0Q2hhbmdlPQpiKTtiPUMoYSwibGl2ZUludGVycnVwdGlvbkNvbnNlY3V0aXZlVXBkYXRlc1dpdGhDaGFuZ2UiKTtudWxsIT1iJiYodGhpcy5jLmxpdmVJbnRlcnJ1cHRpb25Db25zZWN1dGl2ZVVwZGF0ZXNXaXRoQ2hhbmdlPWIpO2I9QihhLCJyZWFwcGVuZEluaXRTZWdtZW50QWZ0ZXJBYm9ydCIpO251bGwhPWImJih0aGlzLmMucmVhcHBlbmRJbml0U2VnbWVudEFmdGVyQWJvcnQ9Yik7Yj1CKGEsImxpdmVTZW5kUHVzaEhlYWRlcnMiKTtudWxsIT1iJiYodGhpcy5jLmxpdmVTZW5kUHVzaEhlYWRlcnM9Yik7Yj1DKGEsImxpdmVNYXhNYW5pZmVzdEZldGNoZXNXaXRoUHVzaCIpO251bGwhPWImJih0aGlzLmMubGl2ZU1heE1hbmlmZXN0RmV0Y2hlc1dpdGhQdXNoPWIpO2I9QyhhLCJsaXZlTWF4U2VnbWVudHNUb1B1c2giKTtudWxsIT1iJiYodGhpcy5jLmxpdmVNYXhTZWdtZW50c1RvUHVzaD1iKTtiPUMoYSwic2VnbWVudFJlcXVlc3RUaW1lb3V0IiwwKTtudWxsIT1iJiYodGhpcy5jLnNlZ21lbnRSZXF1ZXN0VGltZW91dD0KYik7Yj1ZYShhLCJwcmVmZXJyZWRMYW5ndWFnZSIpO251bGwhPWImJih0aGlzLmMucHJlZmVycmVkTGFuZ3VhZ2U9Yik7Yj1aYShhLCJyZXN0cmljdGlvbnMiLGthKTtudWxsIT1iJiYodGhpcy5jLnJlc3RyaWN0aW9ucz1iLmNsb25lKCkpO2I9YS5saXZlSW5pdGlhbFB1c2hSZXByZXNlbnRhdGlvbjtudWxsIT1iJiYodGhpcy5jLmxpdmVJbml0aWFsUHVzaFJlcHJlc2VudGF0aW9uPWIpO2I9YS5saXZlQXVkaW9QdXNoUmVwcmVzZW50YXRpb247bnVsbCE9YiYmKHRoaXMuYy5saXZlQXVkaW9QdXNoUmVwcmVzZW50YXRpb249Yik7Yj1hLnVzZUlubGluZUluaXRTZWdtZW50O251bGwhPWImJih0aGlzLmMudXNlSW5saW5lSW5pdFNlZ21lbnQ9Yik7Yj1CKGEsImRpc2FibGVDYWNoZUJ1c3RpbmdFdmVuVGhvdWdoSXRNYXlBZmZlY3RCYW5kd2lkdGhFc3RpbWF0aW9uIik7bnVsbCE9YiYmKFRjPSFiKTtiPUIoYSwiY3VycmVudFRpbWVEdXJpbmdSZWFkeVN0YXRlWmVyb1Rocm93cyIpO251bGwhPQpiJiYodGhpcy5jLmN1cnJlbnRUaW1lRHVyaW5nUmVhZHlTdGF0ZVplcm9UaHJvd3M9Yik7Yj1DKGEsImxpdmVEYXRhRmV0Y2hNYXhSZXRyaWVzIik7bnVsbCE9YiYmKHRoaXMuYy5saXZlRGF0YUZldGNoTWF4UmV0cmllcz1iKTtiPUMoYSwibGl2ZVNvdXJjZUJ1ZmZlckNsZWFyTWF4UmV0cmllcyIpO251bGwhPWImJih0aGlzLmMubGl2ZVNvdXJjZUJ1ZmZlckNsZWFyTWF4UmV0cmllcz1iKTtiPUIoYSwidXNlTG9uZ0NhY2hlRm9yTWFuaWZlc3QiKTtudWxsIT1iJiYodGhpcy5jLnVzZUxvbmdDYWNoZUZvck1hbmlmZXN0PWIpO2I9QihhLCJqdW1wVG9FYXJsaWVzdFBvc2l0aW9uSW5DdXJyZW50QmxvY2siKTtudWxsIT1iJiYodGhpcy5jLmp1bXBUb0VhcmxpZXN0UG9zaXRpb25JbkN1cnJlbnRCbG9jaz1iKTtiPUIoYSwiaWdub3JlTWluQnVmZmVyVGltZSIpO251bGwhPWImJih0aGlzLmMuaWdub3JlTWluQnVmZmVyVGltZT1iKTtiPUMoYSwicGxheWhlYWRGcmFnbWVudGVkR2FwRGlmZkFsbG93YW5jZSIpOwpudWxsIT1iJiYodGhpcy5jLnBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2U9Yik7Yj1CKGEsImZpeEJ1ZmZlcmluZ0dvYWxEZXRlcm1pbmF0aW9uIik7bnVsbCE9YiYmKHRoaXMuYy5maXhCdWZmZXJpbmdHb2FsRGV0ZXJtaW5hdGlvbj1iKTtiPUIoYSwic2tpcEVtcHR5U2VnbWVudHMiKTtudWxsIT1iJiYodGhpcy5jLnNraXBFbXB0eVNlZ21lbnRzPWIpOyhiPUIoYSwidXNlTWljcm9UYXNrVGltZW91dHMiKSkmJih0aGlzLmMudXNlTWljcm9UYXNrVGltZW91dHM9Yik7KGI9QihhLCJlbmFibGVSZXF1ZXN0UGlwZWxpbmluZyIpKSYmKHRoaXMuYy5lbmFibGVSZXF1ZXN0UGlwZWxpbmluZz1iKTsoYj1CKGEsImVuYWJsZVN0cmVhbWluZyIpKSYmKHRoaXMuYy5lbmFibGVTdHJlYW1pbmc9Yik7KGE9QihhLCJlbmFibGVDb250ZW50UHJvdGVjdGlvbiIpKSYmKHRoaXMuYy5lbmFibGVDb250ZW50UHJvdGVjdGlvbj1hKTt0aGlzLmEmJnRoaXMuYS5sYyh0aGlzLmMpfX07ClcucHJvdG90eXBlLmNvbmZpZ3VyZT1XLnByb3RvdHlwZS52YTtXLnByb3RvdHlwZS5PYT1mdW5jdGlvbihhKXt0aGlzLmEmJnRoaXMuYS5xYyhhKX07Vy5wcm90b3R5cGUuc2V0RW5hYmxlTGl2ZWhlYWRDYXRjaHVwPVcucHJvdG90eXBlLk9hO1cucHJvdG90eXBlLkVhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYT90aGlzLmEubmE6ITF9O1cucHJvdG90eXBlLmlzTGl2ZWhlYWRDYXRjaHVwRW5hYmxlZD1XLnByb3RvdHlwZS5FYTsKZnVuY3Rpb24gbGYoYSl7aWYoYS5mLmdldEJvb2woInNraXBfbWFuaWZlc3RfZ2FwX2Jhc2VkX29uX3N0cmVhbV9saW1pdHMiLCExKSYmKCFhLkkoKXx8IWEuZi5nZXRCb29sKCJub19za2lwX21hbmlmZXN0X2dhcHNfaWZfbGl2ZSIsITEpKSl7dmFyIGI7YS5mLmdldEJvb2woInNraXBfbWFuaWZlc3RfZ2Fwc191c2VfY2FjaGVkX3N0cmVhbV9saW1pdHMiLCExKT9hLmEmJm51bGwhPT1hLlM/Yj17c3RhcnQ6YS5GLGVuZDphLlosbGFzdDphLiQsWmE6YS5TfTpiPWEuYT9hLmEubmIoKTpudWxsOmI9YS5hP2EuYS5uYigpOm51bGw7aWYoYilmb3IodmFyIGM9YS5mLmdldE51bWJlcigic2tpcF9tYW5pZmVzdF9nYXBfYm91bmRhcnlfcHJlY2lzaW9uX21zIiwxRTMpLzFFMyxkPWIuWmEsZT1hLmIucGxheWJhY2tSYXRlLGY9YS5iLmN1cnJlbnRUaW1lLGc9MDtnPGQubGVuZ3RoOysrZyl7dmFyIGg9ZFtnXS5zdGFydFRpbWUtYyxrPWRbZ10uZW5kVGltZStjO2Y8PWsmJmY+PWgmJihhLmYuZ2V0Qm9vbCgiZml4X3NlZWtfcmFuZ2VfZ2FwX2JvdW5kYXJ5IiwKITEpfHwoaD1kW2ddLnN0YXJ0VGltZSxrPWRbZ10uZW5kVGltZSksMDw9ZT9iLmVuZD5rJiYoYS5iLmN1cnJlbnRUaW1lPWspOmIuc3RhcnQ8aCYmKGEuYi5jdXJyZW50VGltZT1oKSl9fX1XLnByb3RvdHlwZS5sYT1mdW5jdGlvbigpe3ZhciBhPXRoaXMuYSYmdGhpcy5hLm5iKCk7cmV0dXJuKGE9YSYme3N0YXJ0OmEuc3RhcnQsZW5kOmEuZW5kLGxhc3Q6YS5sYXN0LHNlZWtSYW5nZUdhcHM6YS5aYX0pfHxudWxsfTtXLnByb3RvdHlwZS5nZXRWaWRlb1NvdXJjZVN0cmVhbUxpbWl0cz1XLnByb3RvdHlwZS5sYTtXLnByb3RvdHlwZS55YT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmN9O1cucHJvdG90eXBlLmdldENvbmZpZ3VyYXRpb249Vy5wcm90b3R5cGUueWE7ZnVuY3Rpb24gYmYoYSl7YS5tJiYoY2xlYXJUaW1lb3V0KGEubSksYS5tPW51bGwpfQpmdW5jdGlvbiBrZihhKXt2YXIgYjthLmYuZ2V0Qm9vbCgid3d3X3ZpZGVvc19leHRlbmRlZF9zcGxfbG9nZ2luZ19mb3JfY29ubmVjdGVkX3R2IiwhMSkmJmEubCYmKGI9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigic3RhcnRfd2F0Y2hkb2ciKSk7YWYoYSk7YS5KPXNldFRpbWVvdXQoYS5ELmJpbmQoYSksMTAwKTtiJiZiLmxvZygpfWZ1bmN0aW9uIGFmKGEpe3ZhciBiO2EuZi5nZXRCb29sKCJ3d3dfdmlkZW9zX2V4dGVuZGVkX3NwbF9sb2dnaW5nX2Zvcl9jb25uZWN0ZWRfdHYiLCExKSYmYS5sJiYoYj1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJjYW5jZWxfd2F0Y2hkb2ciKSk7YS5KJiYoY2xlYXJUaW1lb3V0KGEuSiksYS5KPW51bGwpO2ImJmIubG9nKCl9ClcucHJvdG90eXBlLlA9ZnVuY3Rpb24oYSxiLGMpe3RoaXMubT1udWxsO3ZhciBkPShEYXRlLm5vdygpLWIpLzFFMypjO3RoaXMuYi5jdXJyZW50VGltZTx0aGlzLkYrKHRoaXMuSSgpPzE6LjA1KT90aGlzLmIucGF1c2UoKTooZD1NYXRoLm1heCh0aGlzLkYsYStkKSx0aGlzLmIuY3VycmVudFRpbWU9ZCx0aGlzLm09c2V0VGltZW91dCh0aGlzLlAuYmluZCh0aGlzLGEsYixjKSwyNTApKX07ZnVuY3Rpb24gb2YoYSl7cmV0dXJuIGEuZi5nZXRCb29sKCJ1bmlmeV9zdHJlYW1fc3RhcnRfd2l0aF9idWZmZXJfZGV0ZWN0b3IiLCExKSYmIWEuT30KZnVuY3Rpb24gJGUoYSxiKXtpZighb2YoYSkpe3UuZW5kKCJidWZmZXJpbmciKTtudWxsIT09YS5CJiYoYS5CPW51bGwpO2EubyYmKGEuby5zZXRDb25jbHVkZXIoYikubG9nKCksYS5vPW51bGwpO2lmKGEuRyl7dmFyIGM9RGF0ZS5ub3coKTthLkcuc2V0RXZlbnQoImJ1ZmZlcmluZyIpLnNldENsaWVudFRpbWVCZWdpbihNYXRoLnJvdW5kKGMtdS5nZXQoImJ1ZmZlcmluZyIpKSkuc2V0Q2xpZW50VGltZUVuZChNYXRoLnJvdW5kKGMpKS5sb2coKX1hLncmJihhLmIucGxheWJhY2tSYXRlPWEuaik7YS5oPSExO2EuZGlzcGF0Y2hFdmVudCh5KHt0eXBlOiJidWZmZXJpbmdFbmQifSkpO2EuQSYmKGEuQT0hMSxkaXNwYXRjaERvbUV2ZW50KGEuYiwicGxheWluZyIpKTthLnU9ITF9fVcucHJvdG90eXBlLmphPWZ1bmN0aW9uKGEpe3RoaXMuZGlzcGF0Y2hFdmVudCh5KGEpKX07Vy5wcm90b3R5cGUuZGlzcGF0Y2hFdmVudEV4dGVybj1XLnByb3RvdHlwZS5qYTsKZnVuY3Rpb24gcGYoYSl7dmFyIGI9YS5iLmJ1ZmZlcmVkO2lmKDE9PT1iLmxlbmd0aCliPWIuZW5kKDApO2Vsc2UgaWYoMD09PWIubGVuZ3RoKWI9MDtlbHNle2Zvcih2YXIgYz0wLGQ9MDtkPGIubGVuZ3RoOysrZCliLmVuZChkKT49YS5iLmN1cnJlbnRUaW1lJiYoYz1iLnN0YXJ0KGQpPD1hLmIuY3VycmVudFRpbWU/YysoYi5lbmQoZCktYS5iLmN1cnJlbnRUaW1lKTpjKyhiLmVuZChkKS1iLnN0YXJ0KGQpKSk7cmV0dXJuIGN9cmV0dXJuIE1hdGgubWF4KGItYS5iLmN1cnJlbnRUaW1lLDApfQpXLnByb3RvdHlwZS5EPWZ1bmN0aW9uKGEpe2lmKCF0aGlzLmYuZ2V0Qm9vbCgicHJldmVudF9wbGF5aW5nX29uX2luc3VmZmljaWVudF9idWZmZXIiLCExKXx8IXRoaXMuSyl7a2YodGhpcyk7dmFyIGI9YT9hLnR5cGU6IiIsYz0id2FpdGluZyI9PT1iO2lmKCF0aGlzLmIuZW5kZWQmJiF0aGlzLmIuc2Vla2luZ3x8Yyl7dmFyIGQ7dGhpcy5mLmdldEJvb2woInd3d192aWRlb3NfZXh0ZW5kZWRfc3BsX2xvZ2dpbmdfZm9yX2Nvbm5lY3RlZF90diIsITEpJiZ0aGlzLmwmJihkPXRoaXMubC5nZXRPcGVyYXRpb25Mb2dnZXIoIndhdGNoZG9nIikpO3ZhciBlPXRoaXMuYi5idWZmZXJlZCxmPWUubGVuZ3RoP2UuZW5kKGUubGVuZ3RoLTEpOjAsZzt0aGlzLmYuZ2V0Qm9vbCgiZml4X3Vuc3RhbGxfYnVmZmVyX2NhbGN1bGF0aW9uIiwhMSk/Zz1wZih0aGlzKTpnPU1hdGgubWF4KGYtdGhpcy5iLmN1cnJlbnRUaW1lLDApO3ZhciBoPXRoaXMuYi5jdXJyZW50VGltZSxlPXRoaXMuSSgpP3RoaXMuZi5nZXROdW1iZXIoImxpdmVfYnVmZmVyaW5nX3VuZGVyZmxvd190aHJlc2hvbGQiLAouNSk6dGhpcy5mLmdldE51bWJlcigiYnVmZmVyaW5nX3VuZGVyZmxvd190aHJlc2hvbGQiLDApLGs9dGhpcy5iLmR1cmF0aW9uLGs9aXNOYU4oayk/MDpNYXRoLm1heChrLS4wNSwwKSxmPWY+PWt8fGg+PWssYj1ifHwid2F0Y2hkb2dfdGltZXIiO2lmKHRoaXMuaCl7cWYodGhpcyxhKTthPXJmKHRoaXMuYSk7dmFyIGw9MDxhP2cvYTowO2c+YXx8c2YodGhpcy5hKXx8dGhpcy5mLmdldEJvb2woImZpeF9idWZmZXJpbmdfYXRfdGhlX2VuZF9vZl9wbGF5YmFjayIsITApJiZmPygkZSh0aGlzLGIpLHRoaXMuWSYmIXRoaXMudyYmdGhpcy5iLnBsYXkoKSk6dGhpcy5CIT09bCYmKHRoaXMuQj1sLHRoaXMuZGlzcGF0Y2hFdmVudCh5KHt0eXBlOiJidWZmZXJpbmdQcm9ncmVzcyIscHJvZ3Jlc3M6bH0pKSl9ZWxzZSB0aGlzLmIucGF1c2VkJiYhY3x8ISghZiYmZzxlfHxvZih0aGlzKSl8fCh0aGlzLmg9ITAsdGhpcy53P3RoaXMuYi5wbGF5YmFja1JhdGU9MDp0aGlzLmIucGF1c2UoKSx0aGlzLmwmJgohdGhpcy5vJiYoZz10aGlzLmIuYnVmZmVyZWQsZz1nLmxlbmd0aD9nLmVuZChnLmxlbmd0aC0xKTowLHRoaXMuZi5nZXRCb29sKCJmaXhfdW5zdGFsbF9idWZmZXJfY2FsY3VsYXRpb24iLCExKT9sPXBmKHRoaXMpOmw9TWF0aC5tYXgoZy10aGlzLmIuY3VycmVudFRpbWUsMCksZz0xRTMqKHJmKHRoaXMuYSktbCksdGhpcy5vPXRoaXMubC5nZXRPcGVyYXRpb25Mb2dnZXIoImJ1ZmZlcmluZyIpLnNldExlbmd0aChNYXRoLnJvdW5kKGcpKS5zZXRUeXBlKHRoaXMudT8ic3RhcnQvdW5wYXVzZSI6ImluX3BsYXkiKS5zZXRJbml0aWF0b3IoYikuc3RhcnQoKSksdS5xYSgiYnVmZmVyaW5nIiksdGhpcy5kaXNwYXRjaEV2ZW50KHkoe3R5cGU6ImJ1ZmZlcmluZ1N0YXJ0In0pKSx0aGlzLmYuZ2V0Qm9vbCgibm9fc2tpcF9nYXBzX29uX2J1ZmZlcmluZyIsITEpfHxsZih0aGlzKSxxZih0aGlzLGEpKSxzZih0aGlzLmEpJiYkZSh0aGlzLGIpO2QmJmQubG9nKCl9ZWxzZSB0aGlzLmYuZ2V0Qm9vbCgiZml4X2ZmX2luX3BsYXlfc3RhbGxfdXBvbl9zZWVrIiwKITEpJiZxZih0aGlzLGEpfX07Vy5wcm90b3R5cGUubmE9ZnVuY3Rpb24oYSl7dGhpcy5kaXNwYXRjaEV2ZW50KGEpfTtmdW5jdGlvbiBxZihhLGIpe2ImJiJwbGF5aW5nIj09PWIudHlwZSYmKGEuQT0hMCxldmVudEtpbGwoYikpfVcucHJvdG90eXBlLnRhPWZ1bmN0aW9uKGEpe2lmKHRoaXMuYSl7dmFyIGI9dGhpcy5hO2IuYy52aWRlbyYmYi5jLnZpZGVvLkpjKGEpfX07Vy5wcm90b3R5cGUuc2V0VmlkZW9TdHJlYW1PZmZzZXQ9Vy5wcm90b3R5cGUudGE7ZnVuY3Rpb24gdGYoYSl7Zm9yKHZhciBiPTA7YjxhLmxlbmd0aDsrK2IpZm9yKHZhciBjPWFbYl0sZD0wO2Q8Yy5hLmxlbmd0aDsrK2Qpe2Zvcih2YXIgZT1jLmFbZF0sZj1lLGc9L3ZpZGVvXC93ZWJtOyBjb2RlY3M9ImF2MDEuKiIvLGg9ITEsaz0wO2s8Zi52Lmxlbmd0aDsrK2spe3ZhciBsPWYudltrXTtPZShOZChsKSk/Zy50ZXN0KE5kKGwpKSYmKGg9ITApOihmLnYuc3BsaWNlKGssMSksLS1rKX1pZihoKWZvcihrPTA7azxmLnYubGVuZ3RoOysraylsPWYudltrXSxnLnRlc3QoTmQobCkpfHwoZi52LnNwbGljZShrLDEpLC0tayk7MD09ZS52Lmxlbmd0aCYmKGMuYS5zcGxpY2UoZCwxKSwtLWQpfWZvcihiPTA7YjxhLmxlbmd0aDsrK2IpZm9yKGM9YVtiXSxkPTA7ZDxjLmEubGVuZ3RoOysrZCljLmFbZF0udi5zb3J0KHVmKX0KZnVuY3Rpb24gdWYoYSxiKXt2YXIgYz1hLmJhbmR3aWR0aHx8TnVtYmVyLk1BWF9WQUxVRSxkPWIuYmFuZHdpZHRofHxOdW1iZXIuTUFYX1ZBTFVFO3JldHVybiBjPGQ/LTE6Yz5kPzE6MH07ZnVuY3Rpb24gdmYoYSl7dGhpcy5hPWF9dmYucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmEuZGVzdHJveSgpO3RoaXMuYT1udWxsfTt2Zi5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKGEpe3ZhciBiPXdmKGEsbnVsbCksYz13Zih0aGlzLmEsYSk7cmV0dXJuIFByb21pc2UuYWxsKFtiLGNdKS50aGVuKEoodGhpcyxmdW5jdGlvbihiKXt2YXIgYz1iWzBdO2I9YlsxXTt0Zih0aGlzLmEuYSk7YS5iJiYhdGhpcy5hLmImJihhLmg9ITApO2EuYz10aGlzLmEuYzthLmk9dGhpcy5hLmk/dGhpcy5hLmkuY2xvbmUoKTpudWxsO2EuZz10aGlzLmEuZzt2YXIgZj1bXTt4ZihhLHRoaXMuYSxjLGIsZik7dGYoYS5hKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGYpfSkpfTsKZnVuY3Rpb24gd2YoYSxiKXtmdW5jdGlvbiBjKGEsYil7cmV0dXJuIGEuY29uY2F0KGIpfXZhciBkPWEuYS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuYX0pLnJlZHVjZShjLFtdKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEudn0pLnJlZHVjZShjLFtdKTtpZihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInRlbXBsYXRlZF9sYXN0X3hfdGltZWxpbmUiLCExKSYmYil2YXIgZT1iLmEubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLmF9KS5yZWR1Y2UoYyxbXSkubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLnZ9KS5yZWR1Y2UoYyxbXSkubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLk0uY3JlYXRlKCl9KSxlPVByb21pc2UuYWxsKGUpLnRoZW4oZnVuY3Rpb24oYSl7Zm9yKHZhciBiPU51bWJlci5QT1NJVElWRV9JTkZJTklUWSxjPTA7YzxhLmxlbmd0aDsrK2Mpe3ZhciBlPWFbY107ZS5sZW5ndGgoKSYmZS5sYXN0KCkudW5zY2FsZWRTdGFydFRpbWU8YiYmKGI9ZS5sYXN0KCkudW5zY2FsZWRTdGFydFRpbWUpfWI9CmEubGVuZ3RoP2I6bnVsbDthPWQubWFwKGZ1bmN0aW9uKGEpe2EuTS5FYyYmYS5NLkVjKGIpO3JldHVybiBhLk0uY3JlYXRlKCl9KTtyZXR1cm4gUHJvbWlzZS5hbGwoYSl9KTtlbHNlIGU9ZC5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuTS5jcmVhdGUoKX0pLGU9UHJvbWlzZS5hbGwoZSk7cmV0dXJuIGUudGhlbihmdW5jdGlvbihhKXtmb3IodmFyIGI9e30sYz0wO2M8ZC5sZW5ndGg7KytjKWJbZFtjXS5YXT1hW2NdO3JldHVybiBQcm9taXNlLnJlc29sdmUoYil9KX0KZnVuY3Rpb24geGYoYSxiLGMsZCxlKXt2YXIgZj1uZXcgRDthLmEuZm9yRWFjaChmdW5jdGlvbihhLGIpe2YucHVzaChhLmlkfHwiIitiLGEpfSk7dmFyIGc9bmV3IEQ7Yi5hLmZvckVhY2goZnVuY3Rpb24oYSxiKXtnLnB1c2goYS5pZHx8IiIrYixhKX0pO2E9YWIoZik7Zm9yKGI9MDtiPGEubGVuZ3RoOysrYil7dmFyIGg9YVtiXSxrPWYuZ2V0KGgpOzE8ay5sZW5ndGh8fChoPWcuZ2V0KGgpKSYmMCE9aC5sZW5ndGgmJjE9PWgubGVuZ3RoJiYoeWYoa1swXSxoWzBdLGMsZCxlKSxrWzBdLmR1cmF0aW9uPWhbMF0uZHVyYXRpb24pfX0KZnVuY3Rpb24geWYoYSxiLGMsZCxlKXt2YXIgZj1uZXcgRDthLmEuZm9yRWFjaChmdW5jdGlvbihhLGIpe2YucHVzaChhLmlkfHwiIitiLGEpfSk7dmFyIGc9bmV3IEQ7Yi5hLmZvckVhY2goZnVuY3Rpb24oYSxiKXtnLnB1c2goYS5pZHx8IiIrYixhKX0pO2E9YWIoZik7Zm9yKGI9MDtiPGEubGVuZ3RoOysrYil7dmFyIGg9YVtiXSxrPWYuZ2V0KGgpOzE8ay5sZW5ndGh8fChoPWcuZ2V0KGgpKSYmMCE9aC5sZW5ndGgmJjE9PWgubGVuZ3RoJiZ6ZihrWzBdLGhbMF0sYyxkLGUpfX0KZnVuY3Rpb24gemYoYSxiLGMsZCxlKXt2YXIgZj1uZXcgRDthLnYuZm9yRWFjaChmdW5jdGlvbihhLGIpe2YucHVzaChhLmlkfHwiIitiLGEpfSk7dmFyIGc9bmV3IEQ7Yi52LmZvckVhY2goZnVuY3Rpb24oYSxiKXtnLnB1c2goYS5pZHx8IiIrYixhKX0pO2I9e307Zm9yKHZhciBoPWFiKGYpLGs9MDtrPGgubGVuZ3RoOysrayl7dmFyIGw9aFtrXTtiW2xdPWw7dmFyIG09Zi5nZXQobCk7MTxtLmxlbmd0aHx8KChsPWcuZ2V0KGwpKSYmMCE9bC5sZW5ndGg/MT09bC5sZW5ndGgmJihCZihtWzBdLGxbMF0sYyxkKSxtWzBdLmFhPWxbMF0uYWEsbFswXS5hYT1udWxsLG1bMF0uYT1sWzBdLmEsVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJyZWZyZXNoX2JhbmR3aWR0aF9mcm9tX2xpdmVfbWFuaWZlc3QiLCExKSYmKG1bMF0uYmFuZHdpZHRoPWxbMF0uYmFuZHdpZHRoKSk6KGUucHVzaChtWzBdKSxhLnYuc3BsaWNlKGEudi5pbmRleE9mKG1bMF0pLDEpKSl9aD1hYihnKTsKZm9yKGs9MDtrPGgubGVuZ3RoOysraylsPWhba10sYltsXXx8KGJbbF09bCxsPWcuZ2V0KGwpLGEudi5wdXNoKGxbMF0pKX1mdW5jdGlvbiBCZihhLGIsYyxkKXthPWNbYS5YXTtjPWRbYi5YXTtkPShiPWEubGVuZ3RoKCkpP2EubGFzdCgpLmVuZFRpbWU6MDtpZihhLkIoYykpe2M9YS5sZW5ndGgoKTt2YXIgZT0hMTtWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInJvYnVzdF9jb3VudF9jaGFuZ2VzIiwhMSkmJihlPSEhYyYmYS5sYXN0KCkuZW5kVGltZT5kKTthLmcucHVzaChiIT09Y3x8ZSk7NTA8YS5nLmxlbmd0aCYmYS5nLnNoaWZ0KCl9fTtmdW5jdGlvbiBYKCl7dGhpcy5hPXRoaXMuYj1udWxsO3RoaXMuZj1uZXcgYmI7dGhpcy5jPU51bWJlci5QT1NJVElWRV9JTkZJTklUWTt0aGlzLmk9ITA7dGhpcy5nPSExfXEoInNoYWthLm1lZGlhLlNpbXBsZUFick1hbmFnZXIiLFgpO1gucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmYuZGVzdHJveSgpO3RoaXMuYT10aGlzLmI9dGhpcy5mPW51bGx9O1gucHJvdG90eXBlLmluaXRpYWxpemU9ZnVuY3Rpb24oYSxiKXt0aGlzLmJ8fHRoaXMuYXx8KHRoaXMuYj1hLHRoaXMuYT1iKX07ClgucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKCl7dGhpcy5iJiZ0aGlzLmEmJiF0aGlzLmcmJih0aGlzLmM9RGF0ZS5ub3coKSs0RTMsRSh0aGlzLmYsdGhpcy5iLmdldEVzdGltYXRvcigpLCJiYW5kd2lkdGgiLHRoaXMubS5iaW5kKHRoaXMpKSxFKHRoaXMuZix0aGlzLmEsImFkYXB0YXRpb24iLHRoaXMuai5iaW5kKHRoaXMpKSxFKHRoaXMuZix0aGlzLmEsInRyYWNrc2NoYW5nZWQiLHRoaXMuaC5iaW5kKHRoaXMpKSx0aGlzLmc9ITApfTtYLnByb3RvdHlwZS5lbmFibGU9ZnVuY3Rpb24oYSl7dGhpcy5pPWF9O1gucHJvdG90eXBlLmdldEluaXRpYWxWaWRlb1RyYWNrSWQ9ZnVuY3Rpb24oKXtpZighdGhpcy5ifHwhdGhpcy5hKXJldHVybiBudWxsO3ZhciBhPUNmKHRoaXMpO3JldHVybiBhP2EuaWQ6bnVsbH07WC5wcm90b3R5cGUuZ2V0SW5pdGlhbFN3aXRjaFJlYXNvbj1mdW5jdGlvbigpe3JldHVybiBudWxsfTtYLnByb3RvdHlwZS5nZXRJbml0aWFsQXVkaW9UcmFja0lkPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9OwpYLnByb3RvdHlwZS5zZWxlY3RWaWRlb1RyYWNrPWZ1bmN0aW9uKGEsYixjKXt0aGlzLmcmJnRoaXMuYS5zZWxlY3RWaWRlb1RyYWNrKGEuaWQsYixjKX07WC5wcm90b3R5cGUubT1mdW5jdGlvbigpe0RhdGUubm93KCk8dGhpcy5jfHx0aGlzLmgoKX07WC5wcm90b3R5cGUuaD1mdW5jdGlvbigpe2lmKHRoaXMuaSl7dmFyIGE9Q2YodGhpcyk7aWYoYSl7aWYoYS5hY3RpdmUpe3RoaXMuYz1EYXRlLm5vdygpKzNFMztyZXR1cm59dGhpcy5zZWxlY3RWaWRlb1RyYWNrKGEsITEpfXRoaXMuYz1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFl9fTtYLnByb3RvdHlwZS5qPWZ1bmN0aW9uKCl7dGhpcy5jPT1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkmJih0aGlzLmM9RGF0ZS5ub3coKSszRTQpfTsKZnVuY3Rpb24gQ2YoYSl7dmFyIGI9YS5hLlooKTtpZigwPT1iLmxlbmd0aClyZXR1cm4gbnVsbDtiLnNvcnQodmEpO3ZhciBjO2E6e2M9YS5hLnZhKCk7Zm9yKHZhciBkPTA7ZDxjLmxlbmd0aDsrK2QpaWYoY1tkXS5hY3RpdmUpe2M9Y1tkXTticmVhayBhfWM9bnVsbH1jPWM/Yy5iYW5kd2lkdGg6MDthPWEuYi5nZXRCYW5kd2lkdGgoKTtmb3IodmFyIGQ9YlswXSxlPTA7ZTxiLmxlbmd0aDsrK2Upe3ZhciBmPWJbZV0sZz1lKzE8Yi5sZW5ndGg/YltlKzFdOntiYW5kd2lkdGg6TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZfTtpZihmLmJhbmR3aWR0aCYmKGc9KGcuYmFuZHdpZHRoK2MpLy44NSxhPj0oZi5iYW5kd2lkdGgrYykvLjk1JiZhPD1nJiYoZD1mLGQuYWN0aXZlKSkpYnJlYWt9cmV0dXJuIGR9O2Z1bmN0aW9uIFkoYSxiLGMsZCl7Ri5jYWxsKHRoaXMsbnVsbCk7dGhpcy5iPWE7dGhpcy5hPWI7dGhpcy53YT1jO3RoaXMua2I9bmV3IFZpZGVvUGxheWVyTG9jYWxCYW5kd2lkdGhFc3RpbWF0b3IodGhpcyxjLGIpO3RoaXMuaD1uZXcgYmI7dGhpcy5pPW5ldyBNZWRpYVNvdXJjZTt0aGlzLmJhPXRoaXMudmlkZW89bnVsbDt0aGlzLkJiPTA7dGhpcy5uYz10aGlzLlpiPSExO3RoaXMuTGI9aWE7dGhpcy5BYj10aGlzLlY9dGhpcy5pYT10aGlzLmw9bnVsbDt0aGlzLktiPTM7dGhpcy5yYT10aGlzLiRiPXRoaXMuRmE9dGhpcy5FYT0hMTt0aGlzLlBhPTA7dGhpcy5kYT1uZXcgVmlkZW9QdXNoVHJhY2tlcjt0aGlzLmdhPW51bGw7dGhpcy5pYz0xO3RoaXMuZ2M9SW5maW5pdHk7dGhpcy5VYj10aGlzLlNiPSExO3RoaXMucGE9dGhpcy5PYT1udWxsO3RoaXMuV2I9dGhpcy5WYj10aGlzLkdhPXRoaXMuY2M9dGhpcy5tYT0hMTt0aGlzLmY9bmV3IEQ7dGhpcy5BPWQ7dGhpcy5BLmluaXRpYWxpemUodGhpcy5rYiwKdGhpcyk7dGhpcy5PPSExO3RoaXMuUz0iZW4iO3RoaXMueWE9ITE7dGhpcy5KPW5ldyBJO3RoaXMuSWI9bmV3IEk7dGhpcy5tPW5ldyBrYTt0aGlzLkQ9bnVsbDt0aGlzLmtjPTE7dGhpcy5jPXt9O3RoaXMuc2E9bmV3IEk7dGhpcy5qYT0wO3RoaXMuZ2I9MTVFMzt0aGlzLmo9bnVsbDt0aGlzLmVjPSExO3RoaXMuZGM9MDt0aGlzLkNhPSExO3RoaXMuQj17fTt0aGlzLmxhPXRoaXMua2E9dGhpcy51PW51bGw7dGhpcy5nPXt9O3RoaXMuJD0hMTt0aGlzLmZjPTA7dGhpcy5LPXRoaXMuYS5nZXROdW1iZXIoImJ1ZmZlcmluZ19vdmVyZmxvd190aHJlc2hvbGQiLDApO3RoaXMucGM9bnVsbDt0aGlzLm89e307dGhpcy53PXt9O3RoaXMuUj1udWxsO3RoaXMuVT1bXTt0aGlzLlQ9dGhpcy5JPW51bGw7dGhpcy5HPW5ldyBOZXR3b3JrU3RhdHVzRGV0ZWN0b3I7dGhpcy5oYz0hMTt0aGlzLm5hPSEwO3RoaXMuZWE9ITE7dGhpcy51Yz1uZXcgU3Vic2NyaXB0aW9uc0hhbmRsZXI7dGhpcy5ZYj0hMTsKdGhpcy54YT0xO3RoaXMuSWQ9dGhpcy5hLmdldE51bWJlcigic3RyZWFtX21heGltdW1fb25wYXVzZV9idWZmZXJfc2l6ZV9tdWx0aXBsaWVyIiwwKTt0aGlzLmNhPW51bGw7dGhpcy5hLmdldEJvb2woImFsbG93X2luZmluaXRlX3JldHJ5X29uX25ldF9lcnIiLCEwKSYmdGhpcy51Yy5hZGRTdWJzY3JpcHRpb25zKHRoaXMuRy5hZGRMaXN0ZW5lcigibmV0d29ya0ludGVycnVwdGVkIix0aGlzLlRjLHRoaXMpLHRoaXMuRy5hZGRMaXN0ZW5lcigibmV0d29ya1Jlc3VtZWQiLHRoaXMuVWMsdGhpcyksdGhpcy5HLmFkZExpc3RlbmVyKCJzeXN0ZW1XYWtlIix0aGlzLlZjLHRoaXMpKX1yKFksRik7cSgic2hha2EucGxheWVyLlN0cmVhbVZpZGVvU291cmNlIixZKTtZLnByb3RvdHlwZS5YYj1mdW5jdGlvbigpe3JldHVybntWaWRlb1NvdXJjZVN0cmVhbTp0aGlzLmMudmlkZW8sQXVkaW9Tb3VyY2VTdHJlYW06dGhpcy5jLmF1ZGlvLFRleHRTb3VyY2VTdHJlYW06dGhpcy5jLnRleHQsQmFuZHdpZHRoRXN0aW1hdG9yOnRoaXMud2F9fTsKWS5wcm90b3R5cGUuZ2V0U3RyZWFtRGVidWc9WS5wcm90b3R5cGUuWGI7WS5wcm90b3R5cGUuUGM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iP3RoaXMuYi53OiJub25lIn07WS5wcm90b3R5cGUuZ2V0TXBkQXVkaW9Db25maWc9WS5wcm90b3R5cGUuUGM7ClkucHJvdG90eXBlLmxjPWZ1bmN0aW9uKGEpe251bGwhPWEuc3RyZWFtQnVmZmVyU2l6ZSYmKHRoaXMuZy5zdHJlYW1CdWZmZXJTaXplPWEuc3RyZWFtQnVmZmVyU2l6ZSk7bnVsbCE9YS5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZSYmKHRoaXMuZy5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZT1hLmluaXRpYWxTdHJlYW1CdWZmZXJTaXplKTtudWxsIT1hLmR5bmFtaWNTdHJlYW1CdWZmZXJTaXplJiYodGhpcy5nLmR5bmFtaWNTdHJlYW1CdWZmZXJTaXplPWEuZHluYW1pY1N0cmVhbUJ1ZmZlclNpemUpO251bGwhPWEuc21hcnRCdWZmZXJBZGp1c3RtZW50UGFyYW1zJiYodGhpcy5nLnNtYXJ0QnVmZmVyQWRqdXN0bWVudFBhcmFtcz1hLnNtYXJ0QnVmZmVyQWRqdXN0bWVudFBhcmFtcyk7bnVsbCE9YS5hZGRDZG5EZWJ1Z1F1ZXJ5UGFyYW1ldGVycyYmKHRoaXMuZy5hZGRDZG5EZWJ1Z1F1ZXJ5UGFyYW1ldGVycz1hLmFkZENkbkRlYnVnUXVlcnlQYXJhbWV0ZXJzKTtudWxsIT1hLnNlZ21lbnRSZXF1ZXN0VGltZW91dCYmCih0aGlzLmcuc2VnbWVudFJlcXVlc3RUaW1lb3V0PWEuc2VnbWVudFJlcXVlc3RUaW1lb3V0KTtudWxsIT1hLnJlc29sdmVWaWRlb1RpbWVVcGRhdGVPbkZyYWdtZW50ZWRUaW1lUmFuZ2VzJiYodGhpcy5nLnJlc29sdmVWaWRlb1RpbWVVcGRhdGVPbkZyYWdtZW50ZWRUaW1lUmFuZ2VzPWEucmVzb2x2ZVZpZGVvVGltZVVwZGF0ZU9uRnJhZ21lbnRlZFRpbWVSYW5nZXMpO251bGwhPWEucmVhcHBlbmRJbml0U2VnbWVudEFmdGVyQWJvcnQmJih0aGlzLmcucmVhcHBlbmRJbml0U2VnbWVudEFmdGVyQWJvcnQ9YS5yZWFwcGVuZEluaXRTZWdtZW50QWZ0ZXJBYm9ydCk7bnVsbCE9YS5saXZlRGF0YUZldGNoTWF4UmV0cmllcyYmKHRoaXMuZy5saXZlRGF0YUZldGNoTWF4UmV0cmllcz1hLmxpdmVEYXRhRmV0Y2hNYXhSZXRyaWVzKTtudWxsIT1hLmxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXMmJih0aGlzLmcubGl2ZVNvdXJjZUJ1ZmZlckNsZWFyTWF4UmV0cmllcz1hLmxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXMpOwpudWxsIT1hLnBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2UmJih0aGlzLmcucGxheWhlYWRGcmFnbWVudGVkR2FwRGlmZkFsbG93YW5jZT1hLnBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2UpO251bGwhPWEuZml4QnVmZmVyaW5nR29hbERldGVybWluYXRpb24mJih0aGlzLmcuZml4QnVmZmVyaW5nR29hbERldGVybWluYXRpb249YS5maXhCdWZmZXJpbmdHb2FsRGV0ZXJtaW5hdGlvbik7bnVsbCE9YS5za2lwRW1wdHlTZWdtZW50cyYmKHRoaXMuZy5za2lwRW1wdHlTZWdtZW50cz1hLnNraXBFbXB0eVNlZ21lbnRzKTtudWxsIT1hLnVzZU1pY3JvVGFza1RpbWVvdXRzJiYodGhpcy5nLnVzZU1pY3JvVGFza1RpbWVvdXRzPWEudXNlTWljcm9UYXNrVGltZW91dHMpO0RmKHRoaXMpO251bGwhPWEuaW5jbHVkZVN0cmVhbUJ1ZmZlclNpemVJblN0YXJ0T2Zmc2V0JiYodGhpcy5aYj1Cb29sZWFuKGEuaW5jbHVkZVN0cmVhbUJ1ZmZlclNpemVJblN0YXJ0T2Zmc2V0KSk7Cm51bGwhPWEubGl2ZUF1ZGlvUHVzaFJlcHJlc2VudGF0aW9uJiYodGhpcy5wYT1TdHJpbmcoYS5saXZlQXVkaW9QdXNoUmVwcmVzZW50YXRpb24pKTtudWxsIT1hLmxpdmVJbml0aWFsUHVzaFJlcHJlc2VudGF0aW9uJiYodGhpcy5PYT1TdHJpbmcoYS5saXZlSW5pdGlhbFB1c2hSZXByZXNlbnRhdGlvbikpO251bGwhPWEuZW5hYmxlQWRhcHRhdGlvbiYmdGhpcy5BLmVuYWJsZShCb29sZWFuKGEuZW5hYmxlQWRhcHRhdGlvbikpO251bGwhPWEubXBkUmVxdWVzdFRpbWVvdXQmJih0aGlzLkxiPU51bWJlcihhLm1wZFJlcXVlc3RUaW1lb3V0KSk7bnVsbCE9YS5taW5NcGRSZWZyZXNoSW50ZXJ2YWwmJih0aGlzLktiPU51bWJlcihhLm1pbk1wZFJlZnJlc2hJbnRlcnZhbCkvMUUzKTtudWxsIT1hLmVuYWJsZU1hbmlmZXN0RGVidWcmJih0aGlzLlViPSEhYS5lbmFibGVNYW5pZmVzdERlYnVnKTtudWxsIT1hLmxpdmVTdHJlYW1FbmRUaW1lb3V0JiYodGhpcy5nYj1OdW1iZXIoYS5saXZlU3RyZWFtRW5kVGltZW91dCkpOwpudWxsIT1hLnByZWZlcnJlZExhbmd1YWdlJiYodGhpcy5TPVNhKFN0cmluZyhhLnByZWZlcnJlZExhbmd1YWdlKSkpO251bGwhPWEubGl2ZVNlbmRQdXNoSGVhZGVycyYmKHRoaXMucmE9Qm9vbGVhbihhLmxpdmVTZW5kUHVzaEhlYWRlcnMpKTtudWxsIT1hLmxpdmVNYXhNYW5pZmVzdEZldGNoZXNXaXRoUHVzaCYmKHRoaXMuUGE9TnVtYmVyKGEubGl2ZU1heE1hbmlmZXN0RmV0Y2hlc1dpdGhQdXNoKSk7bnVsbCE9YS5jdXJyZW50VGltZUR1cmluZ1JlYWR5U3RhdGVaZXJvVGhyb3dzJiYodGhpcy5TYj1Cb29sZWFuKGEuY3VycmVudFRpbWVEdXJpbmdSZWFkeVN0YXRlWmVyb1Rocm93cykpO251bGwhPWEubGl2ZU1heFNlZ21lbnRzVG9QdXNoJiYodGhpcy5nYz1OdW1iZXIoYS5saXZlTWF4U2VnbWVudHNUb1B1c2gpKTtudWxsIT1hLmp1bXBUb0xpdmVUaHJlc2hvbGQmJih0aGlzLmRjPU51bWJlcihhLmp1bXBUb0xpdmVUaHJlc2hvbGQpKTtudWxsIT1hLnJlc3RyaWN0aW9ucyYmKHRoaXMubT0KYS5yZXN0cmljdGlvbnMsdGhpcy5PJiZFZih0aGlzKSk7bnVsbCE9YS51c2VMb25nQ2FjaGVGb3JNYW5pZmVzdCYmKHRoaXMubWE9Qm9vbGVhbihhLnVzZUxvbmdDYWNoZUZvck1hbmlmZXN0KSk7bnVsbCE9YS5qdW1wVG9FYXJsaWVzdFBvc2l0aW9uSW5DdXJyZW50QmxvY2smJih0aGlzLmNjPUJvb2xlYW4oYS5qdW1wVG9FYXJsaWVzdFBvc2l0aW9uSW5DdXJyZW50QmxvY2spKTtudWxsIT1hLmlnbm9yZU1pbkJ1ZmZlclRpbWUmJih0aGlzLkdhPUJvb2xlYW4oYS5pZ25vcmVNaW5CdWZmZXJUaW1lKSk7bnVsbCE9PWEuZW5hYmxlUmVxdWVzdFBpcGVsaW5pbmcmJih0aGlzLlZiPUJvb2xlYW4oYS5lbmFibGVSZXF1ZXN0UGlwZWxpbmluZykpO251bGwhPT1hLmVuYWJsZVN0cmVhbWluZyYmKHRoaXMuV2I9Qm9vbGVhbihhLmVuYWJsZVN0cmVhbWluZykpfTsKWS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuSi5kZXN0cm95KCk7dGhpcy5zYS5kZXN0cm95KCk7dGhpcy5zYT10aGlzLko9bnVsbDt0aGlzLmthJiYoY2xlYXJUaW1lb3V0KHRoaXMua2EpLHRoaXMua2E9bnVsbCk7dGhpcy51JiYoY2xlYXJUaW1lb3V0KHRoaXMudSksdGhpcy51PW51bGwpO3RoaXMuQj1udWxsO3RoaXMuaC5kZXN0cm95KCk7dGhpcy5oPW51bGw7V2EodGhpcy5jKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2EuZGVzdHJveSgpfSk7dGhpcy5mPXRoaXMuYz1udWxsO3RoaXMuYiYmKHRoaXMuYi5kZXN0cm95KCksdGhpcy5iPW51bGwpO3RoaXMuQS5kZXN0cm95KCk7dGhpcy5KYT10aGlzLm09dGhpcy52aWRlbz10aGlzLmk9dGhpcy53YT10aGlzLkE9bnVsbDt0aGlzLmEuZ2V0Qm9vbCgiZml4aW5nX3NjaGVkdWxlcl9kaXNhYmxlX2xlYWtzIiwhMCkmJihPYmplY3Qua2V5cyh0aGlzLm8pLmZvckVhY2goZnVuY3Rpb24oYSl7KGE9dGhpcy5vW2FdKSYmYS5kaXNhYmxlKCl9LmJpbmQodGhpcykpLAp0aGlzLm89e30pO09iamVjdC5rZXlzKHRoaXMudykuZm9yRWFjaChmdW5jdGlvbihhKXsoYT10aGlzLndbYV0pJiZhLmRlc3Ryb3koKX0uYmluZCh0aGlzKSk7dGhpcy53PXt9O3RoaXMuSSYmKHRoaXMuSS5kaXNhYmxlKCksdGhpcy5JPW51bGwpO3RoaXMuUiYmKHRoaXMuUi5jbGVhbnVwKCksdGhpcy5SPW51bGwpO2Zvcih2YXIgYT0wO2E8dGhpcy5VLmxlbmd0aDthKyspdGhpcy5VW2FdLmNsZWFudXAoKTt0aGlzLlU9W107dGhpcy51Yy5yZWxlYXNlKCl9O2Z1bmN0aW9uIGVmKGEsYil7aWYoYS5sKXt2YXIgYz1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJtZWRpYV9zb3VyY2Vfb3BlbiIpLnN0YXJ0KCk7YS5JYi50aGVuKGZ1bmN0aW9uKCl7Yy5sb2coKX0pfUUoYS5oLGEuaSwic291cmNlb3BlbiIsYS5oZC5iaW5kKGEpKTtiLnNyYz13aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChhLmkpfW49WS5wcm90b3R5cGU7bi52Yz1mdW5jdGlvbigpe307CmZ1bmN0aW9uIGpmKGEsYixjKXt2YXIgZDthLmwmJihkPWEubC5nZXRPcGVyYXRpb25Mb2dnZXIoInNvdXJjZV9hdHRhY2giKS5zdGFydCgpKTtpZighYS5PKXJldHVybiBhPUVycm9yKCJDYW5ub3QgY2FsbCBhdHRhY2goKSByaWdodCBub3cuIiksYS50eXBlPSJhcHAiLGQmJmQuc2V0RXJyb3IoYSkubG9nKCksUHJvbWlzZS5yZWplY3QoYSk7YS5KYT1iO2EudmlkZW89YzthLmJhPW51bGw7YS5hLmdldEJvb2woImVuYWJsZV92aWV3cG9ydF9wcmlvcml0eV9hZGp1c3RtZW50IiwhMSkmJihhLlI9bmV3IFZpZXdwb3J0UHJpb3JpdHlBZGp1c3RlcihhLnZpZGVvKSxhLlIuc2V0T25Qcmlvcml0eUNoYW5nZWQoZnVuY3Rpb24oYSl7T2JqZWN0LmtleXModGhpcy5vKS5mb3JFYWNoKGZ1bmN0aW9uKGIpe3RoaXMub1tiXS51cGRhdGVQcmlvcml0eVdpdGhOZXdBZGp1c3RtZW50KGEpfS5iaW5kKHRoaXMpKX0uYmluZChhKSkpO2EuYS5nZXRCb29sKCJlbmFibGVfZmlyc3RfdmlkZW9fcHJpb3JpdHlfYWRqdXN0bWVudCIsCiExKSYmYS5VLnB1c2gobmV3IEZpcnN0TG9hZGVkVmlkZW9Qcmlvcml0eUFkanVzdGVyKGEudmlkZW8pKTtFKGEuaCxhLnZpZGVvLCJsb2FkZWRtZXRhZGF0YSIsYS5nZC5iaW5kKGEpKTtFKGEuaCxhLndhLCJiYW5kd2lkdGgiLGEuR2QuYmluZChhKSk7aWYoYS5iLmJ8fGEuYS5nZXRCb29sKCJiYWNrX29mZl9idWZmZXJpbmdfb3ZlcmZsb3ciLCExKSlFKGEuaCxiLCJidWZmZXJpbmdTdGFydCIsYS5jZC5iaW5kKGEpKSxFKGEuaCxiLCJidWZmZXJpbmdFbmQiLGEuYmQuYmluZChhKSk7Yj1hLmEuZ2V0Qm9vbCgiZW5hYmxlX2NvbnRlbnRfcHJvdGVjdGlvbiIsITEpPyhiPWEudmlkZW8ubWVkaWFLZXlzKSYmYS52aWRlby5zZXRNZWRpYUtleXM/YS52aWRlby5zZXRNZWRpYUtleXMoYik6UHJvbWlzZS5yZXNvbHZlKCk6UHJvbWlzZS5yZXNvbHZlKCk7RmYoYSkudGhlbihKKGEsZnVuY3Rpb24oKXtkJiZ0aGlzLlAoKSYmZC5zZXRMaXZlaGVhZFBvc2l0aW9uKEdmKEhmKHRoaXMpKSk7dGhpcy5KJiYKdGhpcy5KLnJlc29sdmUoKTt0aGlzLnZjKCl9KSkuY2F0Y2goSihhLGZ1bmN0aW9uKGEpe3RoaXMuSiYmdGhpcy5KLnJlamVjdChhKX0pKTtyZXR1cm4gUHJvbWlzZS5hbGwoW2EuSixiXSkudGhlbihmdW5jdGlvbigpe2QmJmQubG9nKCl9KX0Kbi53Yj1mdW5jdGlvbigpe2lmKHRoaXMuTyl7dmFyIGE9RXJyb3IoIkNhbm5vdCBjYWxsIGxvYWQoKSByaWdodCBub3cuIik7YS50eXBlPSJhcHAiO3JldHVybiBQcm9taXNlLnJlamVjdChhKX1pZighdGhpcy5ifHwwPT10aGlzLmIuYS5sZW5ndGgpcmV0dXJuIGE9RXJyb3IoIlRoZSBtYW5pZmVzdCBkb2VzIG5vdCBzcGVjaWZ5IGFueSBjb250ZW50LiIpLGEudHlwZT0ic3RyZWFtIixQcm9taXNlLnJlamVjdChhKTt0Zih0aGlzLmIuYSk7aWYoMD09dGhpcy5iLmEubGVuZ3RofHwwPT10aGlzLmIuYVswXS5hLmxlbmd0aHx8IXRoaXMuYi5hWzBdLmEuc29tZShmdW5jdGlvbihhKXtyZXR1cm4idmlkZW8iPT09YS5jb250ZW50VHlwZX0pKXJldHVybiBhPUVycm9yKCJUaGUgbWFuaWZlc3Qgc3BlY2lmaWVzIGNvbnRlbnQgdGhhdCBjYW5ub3QgYmUgZGlzcGxheWVkIG9uIHRoaXMgYnJvd3Nlci9wbGF0Zm9ybS4iKSxhLnR5cGU9InN0cmVhbSIsUHJvbWlzZS5yZWplY3QoYSk7dGhpcy5PPQohMDt0aGlzLkdhfHwodGhpcy5nLmluaXRpYWxTdHJlYW1CdWZmZXJTaXplPU1hdGgubWF4KHRoaXMuZy5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZXx8MCx0aGlzLmIuZykpO3RoaXMuaWEmJnRoaXMuaWEuc2V0U3RyZWFtVHlwZSh0aGlzLmIuQik7RGYodGhpcyk7RWYodGhpcyk7cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpfTtmdW5jdGlvbiBJZihhKXt2YXIgYj15KHt0eXBlOiJtYW5pZmVzdHdyYXBwZWQiLGJ1YmJsZXM6ITB9KTthLmRpc3BhdGNoRXZlbnQoYil9ZnVuY3Rpb24gSmYoYSxiKXt2YXIgYz15KHt0eXBlOiJsaXZlaGVhZElkbGVBdCIsc2Vjb25kczpiLGJ1YmJsZXM6ITB9KTthLmRpc3BhdGNoRXZlbnQoYyl9ZnVuY3Rpb24gR2YoYSl7cmV0dXJuIE1hdGgubWluLmFwcGx5KE1hdGgsYS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEubGVuZ3RoKCk/YS5sYXN0KCkuZW5kVGltZTpudWxsfSkuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiEhYX0pKX0Kbi5KYj1mdW5jdGlvbihhLGIpe3ZhciBjO3RoaXMuYS5nZXRCb29sKCJkZWNvdXBsZV9tcGRfdXBkYXRlX2xvb3BfZnJvbV9yZXF1ZXN0X2xvb3AiLCExKSYmS2YodGhpcywwKTt0aGlzLlYmJih0aGlzLlYubG9nKCksdGhpcy5WPW51bGwpO3RoaXMubCYmKGM9dGhpcy5sLmdldE9wZXJhdGlvbkxvZ2dlcigidXBkYXRlX21hbmlmZXN0Iikuc3RhcnQoKSk7aWYoIWJ8fHRoaXMuTyl7dmFyIGQ9RGF0ZS5ub3coKTt0aGlzLmEuZ2V0Qm9vbCgiZGVjb3VwbGVfbXBkX3VwZGF0ZV9sb29wX2Zyb21fcmVxdWVzdF9sb29wIiwhMSl8fCh0aGlzLnU9bnVsbCk7dmFyIGU9bnVsbCxmLGc7aWYodGhpcy5yYSYmKCF0aGlzLlBhfHx0aGlzLlBhPnRoaXMuaWMpKXtmPU1hdGguZmxvb3IoTGYodGhpcykpKzE7Zj1NYXRoLm1pbihmLHRoaXMuZ2MpO3ZhciBoPXRoaXMuYy52aWRlbztpZihoPWg/aC5GYigpOm51bGwpaD1oLmxhc3QoKSxudWxsIT1oLnVuc2NhbGVkU3RhcnRUaW1lJiYoZz1oLnVuc2NhbGVkU3RhcnRUaW1lKTsKaWYodGhpcy52aWRlby5wYXVzZWR8fHRoaXMuJClmPTB9ZiYmdGhpcy5pYysrO2g9dGhpcy5iLmk7aD10aGlzLmEuZ2V0Qm9vbCgiZW5hYmxlX2NsZWFuX2ZhaWxvdmVyX3VyaV9vbl9tcGRfcmVxdWVzdHMiLCEwKT9oLmNsb25lKCk6aDtjJiYhYSYmYy5zZXRSZXNvdXJjZShoLnRvU3RyaW5nKCkpOyhhP3RoaXMueGMoKTp0aGlzLnljKGgsZixnKSkudGhlbihKKHRoaXMsZnVuY3Rpb24oYil7YXx8dGhpcy5HLmluZm9ybU5ldHdvcmtSZXN1bWVkKCk7ZT1uZXcgdmYoYik7dmFyIGM7dGhpcy5sJiYoYz10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJ1cGRhdGVfbWFuaWZlc3RfaW5mbyIpLnN0YXJ0KCkpO2I9ZS51cGRhdGUodGhpcy5iKTtiLnRoZW4oZnVuY3Rpb24oKXtjJiZjLmxvZygpfSxmdW5jdGlvbihhKXtjJiZjLnNldEVycm9yKGEpLmxvZygpfSkuY2F0Y2goZnVuY3Rpb24oKXt9KTtyZXR1cm4gYn0pKS50aGVuKEoodGhpcyxmdW5jdGlvbihhKXtlLmRlc3Ryb3koKTtlPW51bGw7CnZhciBmPUhmKHRoaXMpO3RoaXMuTGEoIlNlZ21lbnRJbmRleGVzVXBkYXRlZCIsZik7aWYodGhpcy5hLmdldEJvb2woImVtaXRfbGl2ZV9wbGF5aGVhZF9pZGxlX2Zyb21fY2xpZW50IiwhMCkpe3ZhciBnPXRoaXMuYS5nZXROdW1iZXIoImxpdmVfcGxheWhlYWRfaWRsZV9hbGxfc3RyZWFtX3RocmVzaG9sZCIsNCksaD10aGlzLmEuZ2V0TnVtYmVyKCJsaXZlX3BsYXloZWFkX2lkbGVfc2luZ2xlX3N0cmVhbV90aHJlc2hvbGQiLDUpO2lmKEhmKHRoaXMpLmV2ZXJ5KGZ1bmN0aW9uKGEpe3JldHVybiBhLnUoKT49Z30pfHxIZih0aGlzKS5zb21lKGZ1bmN0aW9uKGEpe3JldHVybiBhLnUoKT49aH0pKXt2YXIgdD1HZihmKTtKZih0aGlzLHQpfX1mLnNvbWUoZnVuY3Rpb24oYSl7cmV0dXJuIGEucmIoKX0pJiZJZih0aGlzKTt0PU1mKHRoaXMsZik7YyYmdGhpcy5QKCkmJmMuc2V0TGl2ZWhlYWRQb3NpdGlvbihHZihmKSk7YyYmYy5zZXRNYW5pZmVzdFR5cGUodGhpcy5iLmI/ImR5bmFtaWMiOgoic3RhdGljIikuc2V0VXBkYXRlUGVyaW9kKG51bGw9PT10aGlzLmIuYz9udWxsOk1hdGguY2VpbCgxRTMqdGhpcy5iLmMpKTt0aGlzLm5hJiZOZih0aGlzLHQpO3RoaXMuYS5nZXRCb29sKCJza2lwX3JlbWFpbmluZ19idWZmZXJlZF9vbl9zdHJlYW1fZW5kIiwhMSkmJnQmJnRoaXMuYi5iJiZ0aGlzLmIuaCYmdGhpcy52aWRlby5wYXVzZWQmJih0aGlzLnZpZGVvLmN1cnJlbnRUaW1lPXRoaXMuamEtLjEpO2lmKHNmKHRoaXMpKXJldHVybiBjJiZjLmxvZygpLHRoaXMuZWIoKTtmb3IoZj0wO2Y8YS5sZW5ndGg7KytmKU9mKHRoaXMsYVtmXSk7dGhpcy5HYXx8KHRoaXMuZy5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZT1NYXRoLm1heCh0aGlzLmcuaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemV8fDAsdGhpcy5iLmcpKTt0aGlzLmcudXNlSW5pdGlhbEJ1ZmZlclNpemVXaGVuUGF1c2VkPXRoaXMuYi5iO0RmKHRoaXMpO0VmKHRoaXMpOzA9PU9iamVjdC5rZXlzKHRoaXMuYykubGVuZ3RoP0ZmKHRoaXMpOgooYT1EYXRlLm5vdygpLGJ8fEtmKHRoaXMsKGEtZCkvMUUzKSk7YyYmYy5sb2coKTt0aGlzLnRiKCkmJmV4dHJhY3RDRUE2MDgucHJlcGFyZSgpO3RoaXMuYS5nZXRCb29sKCJ1cGRhdGVfY2VhNjA4X2F2YWlsYWJpbGl0eV9vbl9tcGRfcGFyc2luZyIsITEpJiYoYT10aGlzLnRiKCksdGhpcy5ZYiE9PWEmJihmPXkoe3R5cGU6ImNlYTYwOEF2YWlsYWJpbGl0eUNoYW5nZWQiLGJ1YmJsZXM6ITB9KSx0aGlzLmRpc3BhdGNoRXZlbnQoZiksdGhpcy5ZYj1hKSl9KSkuY2F0Y2goSih0aGlzLGZ1bmN0aW9uKGEpe2MmJmMuc2V0RXJyb3IoYSkubG9nKCk7ZSYmKGUuZGVzdHJveSgpLGU9bnVsbCk7aWYoIWIpe3ZhciBkPXRoaXMuYi5mfHx0aGlzLmEuZ2V0Qm9vbCgicmV0cnlfZWdyZXNzXzUwMHMiLCExKSxmPVswLDQxMF07dGhpcy5hLmdldEJvb2woImVuYWJsZV9kb3VibGVfaW5nZXN0IiwhMSkmJmYucHVzaCg0MTcsMjAwKTshdGhpcy5hLmdldEJvb2woIm5vX3JldHJ5X29uXzUwMl81MDMiLAohMSkmJmQmJihmPWYuY29uY2F0KFs1MDIsNTAzXSkpO2Q9dGhpcy5hLmdldEJvb2woImZpeF9saXZlX3N0cmVhbV9nb25lX29uX21hbmlmZXN0X3VwZGF0ZSIsITApPy0xPT09Zi5pbmRleE9mKGEuc3RhdHVzKTowIT09YS5zdGF0dXM7aWYodGhpcy5hLmdldEJvb2woImFsbG93X2luZmluaXRlX3JldHJ5X29uX25ldF9lcnIiLCEwKSYmIm5ldCI9PT1hLnR5cGUmJiFkKXN3aXRjaChhLnN0YXR1cyl7Y2FzZSA0MTA6dGhpcy5oYz0hMDt0aGlzLmomJihjbGVhclRpbWVvdXQodGhpcy5qKSx0aGlzLmo9bnVsbCk7dGhpcy5lYigpO2JyZWFrO2Nhc2UgMjAwOmNhc2UgNDE3OmEucmVzcG9uc2VIZWFkZXJzJiZudWxsIT1hLnJlc3BvbnNlSGVhZGVyc1sieC1mYi12aWRlby1yZXBsaWNhIl0/dGhpcy5kaXNwYXRjaEV2ZW50KHkoe3R5cGU6InJlcGxpY2Fzd2l0Y2giLGJ1YmJsZXM6ITAscmVwbGljYTphLnJlc3BvbnNlSGVhZGVyc1sieC1mYi12aWRlby1yZXBsaWNhIl0sdXJsOmEudXJsLHN0YXR1czphLnN0YXR1c30pKToKZD0hMDticmVhaztkZWZhdWx0OlBmKHRoaXMpfTA9PT1hLnN0YXR1cz90aGlzLkcuaW5mb3JtTmV0d29ya0ludGVycnVwdGVkKCk6dGhpcy5HLmluZm9ybU5ldHdvcmtSZXN1bWVkKCk7aWYoImRlbGF5Ij09YS50eXBlKXJldHVybiBQZih0aGlzKTt0aGlzLmEuZ2V0Qm9vbCgiYWxsb3dfaW5maW5pdGVfcmV0cnlfb25fbmV0X2VyciIsITApJiYhZHx8ImFib3J0ZWQiPT1hLnR5cGV8fChhPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGEpLHRoaXMuYiYmUGYodGhpcykpfX0pKX19O24ueWM9ZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZWplY3QoIkNhbm5vdCB1cGRhdGUgbWFuaWZlc3Qgd2l0aCB0aGlzIFZpZGVvU291cmNlIGltcGxlbWVudGF0aW9uLiIpfTtuLnhjPWZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVqZWN0KCJDYW5ub3QgdXBkYXRlIG1hbmlmZXN0IHdpdGggdGhpcyBWaWRlb1NvdXJjZSBpbXBsZW1lbnRhdGlvbi4iKX07CmZ1bmN0aW9uIE5mKGEsYil7aWYoYiYmYS5iJiZhLmIuYilpZihhLmEuZ2V0Qm9vbCgic2Vla19vdmVyX3VuYXZhaWxhYmxlX3NlZ21lbnRzX29uX21hbmlmZXN0X3VwZGF0ZSIsITEpJiZhLmVhKWIuZW5kPmEudmlkZW8uY3VycmVudFRpbWUrMTAmJihhLmVhPSExLGEudmlkZW8uY3VycmVudFRpbWU9Yi5lbmQsUWYoYSkpO2Vsc2UgaWYoYS52aWRlby5wYXVzZWQmJmIuZW5kPmEudmlkZW8uY3VycmVudFRpbWUrMTApaWYoYS5hLmdldEJvb2woImVuYWJsZV9sYXp5X2xpdmVoZWFkX2NhdGNodXAiLCExKSl7dmFyIGM9YS54YTtjPGEuSWQmJihhLnhhPSsrYyk7UmYoYSxjKTthLmNhPWIuZW5kfWVsc2UgYS5lYT0hMSxhLnZpZGVvLmN1cnJlbnRUaW1lPWIuZW5kLFFmKGEpfQpmdW5jdGlvbiBLZihhLGIpe2lmKG51bGw9PWEuYi5jKUJhbnphaU9EUy5idW1wRW50aXR5S2V5KDI5NjYsInZpZGVvcy53d3cubGl2ZSIsInVwZGF0ZV9wZXJpb2RfaXNfbnVsbCIpO2Vsc2UgaWYoIWEuRmEpe2lmKGEuYS5nZXRCb29sKCJkZWNvdXBsZV9tcGRfdXBkYXRlX2xvb3BfZnJvbV9yZXF1ZXN0X2xvb3AiLCExKSYmKGEudSYmKGNsZWFyVGltZW91dChhLnUpLGEudT1udWxsKSxzZihhKSkpcmV0dXJuO3ZhciBjPU1hdGgubWF4KGEuYi5jLGEuS2IpLGM9TWF0aC5tYXgoYy1iLDApLGQ9YS5KYi5iaW5kKGEsITEpOyFjJiZhLmcudXNlTWljcm9UYXNrVGltZW91dHM/UHJvbWlzZS5yZXNvbHZlKCkudGhlbihkKTooYS5WJiZhLlYuc2V0UmVzdWx0KCJmYWlsZWQiKS5sb2coKSxhLmwmJihhLlY9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigic2NoZWR1bGVfbWFuaWZlc3RfdXBkYXRlIikuc3RhcnQoKS5zZXRVcGRhdGVQZXJpb2QoTWF0aC5jZWlsKDFFMypjKSkpLGEudT1zZXRUaW1lb3V0KGQsCjFFMypjKSl9fWZ1bmN0aW9uIE9mKGEsYil7dmFyIGM9TWQoYiksZD1hLmNbY107aWYoZCYmZC5XYSgpPT1iKXt2YXIgZT1hLmYuZ2V0KE1kKGIpKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEudn0pLnJlZHVjZShmdW5jdGlvbihhLGIpe3JldHVybiBhLmNvbmNhdChiKX0sW10pLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gYS5vYSYmYS5mYX0pO2lmKDA9PWUubGVuZ3RoKXtjPUVycm9yKCJBbGwgdXNhYmxlIHN0cmVhbXMgaGF2ZSBiZWVuIHJlbW92ZWQgZnJvbSB0aGUgbWFuaWZlc3QuIik7Yy50eXBlPSJhcHAiO2M9QShjKTthLmRpc3BhdGNoRXZlbnQoYyk7cmV0dXJufWEuQltjXS5MYz09YiYmZGVsZXRlIGEuQltjXTtkLmpiKGVbMF0sITApO2IuZGVzdHJveSgpfWIuZGVzdHJveSgpfW4uQ2Q9ZnVuY3Rpb24oYSl7dGhpcy5wYz1hfTtZLnByb3RvdHlwZS5zZXRUYWdnZWRUaW1lUmFuZ2VzPVkucHJvdG90eXBlLkNkOwpZLnByb3RvdHlwZS53ZD1mdW5jdGlvbigpe3JldHVybiAwPT09T2JqZWN0LmtleXModGhpcy5jKS5sZW5ndGg/ITE6WyJhdWRpbyIsInZpZGVvIl0uZXZlcnkoSih0aGlzLGZ1bmN0aW9uKGEpe3JldHVybiF0aGlzLmNbYV18fHRoaXMuY1thXS5UfSkpfTtZLnByb3RvdHlwZS5oYXNIaXRCdWZmZXJpbmdHb2FsPVkucHJvdG90eXBlLndkOwpZLnByb3RvdHlwZS5aPWZ1bmN0aW9uKGEpe2lmKCF0aGlzLmZ8fCF0aGlzLmYuYS5oYXNPd25Qcm9wZXJ0eSgidmlkZW8iKSlyZXR1cm5bXTthPWEmJmEudXNlTG9jYWxCaXRyYXRlfHwhMTt2YXIgYj10aGlzLmMudmlkZW8sYz1iP2IuV2EoKTpudWxsLGQ9Yz9jLlg6MCxlPTEsZj1udWxsO3RoaXMuYS5nZXRCb29sKCJ1c2VfbGl2ZV9iaXRyYXRlX2VzdGltYXRlcyIsITEpJiZ0aGlzLlAoKSYmbnVsbCE9YiYmKGY9Yi5sYSgpLG51bGwhPWMmJjA8Yy5iYW5kd2lkdGgmJihlPWYvYy5iYW5kd2lkdGgpKTtmb3IodmFyIGM9W10sZz10aGlzLmYuZ2V0KCJ2aWRlbyIpLGg9MDtoPGcubGVuZ3RoOysraClmb3IodmFyIGs9Z1toXSxsPTA7bDxrLnYubGVuZ3RoOysrbCl7dmFyIG09ay52W2xdO2lmKG0ub2EmJm0uZmEpe3ZhciBwPW51bGw7aWYoYSYmbnVsbCE9PW0uTSl7dmFyIHQ9bS5NLmMoKSx3PWI7aWYodGhpcy5QKCl8fG51bGw9PT10fHxudWxsPT09dylwPW51bGw7ZWxzZXt2YXIgcD0KcGUodyx0aGlzLnZpZGVvLmN1cnJlbnRUaW1lLHQpLHo9dC5nZXRTZWdtZW50cygpO3RoaXMuYS5nZXRCb29sKCJzdGFydF9sb2NhbF9iaXRyYXRlX2F0X2J1ZmZlcl9lbmQiLCExKSYmKHc9TG9jYWxCaXRyYXRlSGVscGVyLmdldEJ1ZmZlckVuZFNlZ21lbnRJbmRleCh6LHAsdGhpcy52aWRlby5jdXJyZW50VGltZSthZSh3LHRoaXMudmlkZW8uY3VycmVudFRpbWUpKSxudWxsIT09dyYmKHA9dykpO3A9TG9jYWxCaXRyYXRlSGVscGVyLmdldExvY2FsQml0cmF0ZSh0LmdldFNlZ21lbnRzKCkscCx0aGlzLmEuZ2V0TnVtYmVyKCJsb2NhbF9iaXRyYXRlX3NlZ21lbnRzX2FoZWFkIiwxMCkpfXRoaXMuYS5nZXRCb29sKCJ1c2VfbWF4X2xvY2FsX2JpdHJhdGUiLCExKSYmKHA9TWF0aC5tYXgocCxtLmJhbmR3aWR0aCkpfXQ9bS5YO3A9cHx8bS5iYW5kd2lkdGg7dGhpcy5hLmdldEJvb2woInVzZV9saXZlX2JpdHJhdGVfZXN0aW1hdGVzIiwhMSkmJm51bGwhPWYmJih0PT09ZD9wPU1hdGgubWF4KHAsCmYpOjE8ZSYmKHA9cCplKSxwPU1hdGgucm91bmQocCkpO209bmV3IHVhKHQscCxtLndpZHRoLG0uaGVpZ2h0LG0uaWQsbS5mYlF1YWxpdHlMYWJlbCxtLmZiUXVhbGl0eUNsYXNzLG0uZixtLmZyYW1lUmF0ZSxtLm1pbWVUeXBlLG0uY29kZWNzLG0uZyxtLmgpO3Q9PWQmJihtLmFjdGl2ZT0hMCk7Yy5wdXNoKG0pfX1yZXR1cm4gY307WS5wcm90b3R5cGUuZ2V0VmlkZW9UcmFja3M9WS5wcm90b3R5cGUuWjtZLnByb3RvdHlwZS5SYz1mdW5jdGlvbigpe2lmKHRoaXMuZ2EpcmV0dXJuIHRoaXMuZ2E7aWYoIXRoaXMuYilyZXR1cm4gbnVsbDtmb3IodmFyIGE9MDthPHRoaXMuYi5hLmxlbmd0aDsrK2EpZm9yKHZhciBiPXRoaXMuYi5hW2FdLGM9MDtjPGIuYS5sZW5ndGg7KytjKWlmKHRoaXMuZ2E9Yi5hW2NdLmMpcmV0dXJuIHRoaXMuZ2E7cmV0dXJuIG51bGx9O1kucHJvdG90eXBlLmdldFZpZGVvUHJvamVjdGlvbj1ZLnByb3RvdHlwZS5SYztZLnByb3RvdHlwZS5PYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmtifTsKWS5wcm90b3R5cGUuZ2V0TG9jYWxFc3RpbWF0b3I9WS5wcm90b3R5cGUuT2M7ZnVuY3Rpb24gU2YoYSl7YT1hLlooKTtmb3IodmFyIGI9MDtiPGEubGVuZ3RoO2IrKylpZihhW2JdLmFjdGl2ZSlyZXR1cm4gYVtiXX1ZLnByb3RvdHlwZS52YT1mdW5jdGlvbigpe2lmKCF0aGlzLmZ8fCF0aGlzLmYuYS5oYXNPd25Qcm9wZXJ0eSgiYXVkaW8iKSlyZXR1cm5bXTtmb3IodmFyIGE9dGhpcy5jLmF1ZGlvLGE9KGE9YT9hLldhKCk6bnVsbCk/YS5YOjAsYj1bXSxjPXRoaXMuZi5nZXQoImF1ZGlvIiksZD0wO2Q8Yy5sZW5ndGg7KytkKWZvcih2YXIgZT1jW2RdLGY9ZS5sYW5nLGc9MDtnPGUudi5sZW5ndGg7KytnKXt2YXIgaD1lLnZbZ107aWYoaC5vYSYmaC5mYSl7dmFyIGs9aC5YLGg9bmV3IGZhKGssaC5iYW5kd2lkdGgsZixoLmlkLGgubWltZVR5cGUsaC5jb2RlY3MsdGhpcy5iLnUsaC5jKTtrPT1hJiYoaC5hY3RpdmU9ITApO2IucHVzaChoKX19cmV0dXJuIGJ9OwpZLnByb3RvdHlwZS5nZXRBdWRpb1RyYWNrcz1ZLnByb3RvdHlwZS52YTtZLnByb3RvdHlwZS5tYz1mdW5jdGlvbigpe2lmKCF0aGlzLmZ8fCF0aGlzLmYuYS5oYXNPd25Qcm9wZXJ0eSgidGV4dCIpKXJldHVybltdO2Zvcih2YXIgYT10aGlzLmMudGV4dCxiPWE/YS5XYSgpOm51bGwsYj1iP2IuWDowLGM9W10sZD10aGlzLmYuZ2V0KCJ0ZXh0IiksZT0wO2U8ZC5sZW5ndGg7KytlKWZvcih2YXIgZj1kW2VdLGc9Zi5sYW5nLGg9MDtoPGYudi5sZW5ndGg7KytoKXt2YXIgaz1mLnZbaF0uWCxsPW5ldyB0YShrLGcpO2s9PWImJihsLmFjdGl2ZT0hMCxsLmVuYWJsZWQ9YS5EYigpKTtjLnB1c2gobCl9cmV0dXJuIGN9O1kucHJvdG90eXBlLmdldFRleHRUcmFja3M9WS5wcm90b3R5cGUubWM7WS5wcm90b3R5cGUuYWM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iJiZ0aGlzLmIubSYmMDx0aGlzLmIubT8hMDohMX07WS5wcm90b3R5cGUuaXNVc2luZ0FTUkNhcHRpb25zPVkucHJvdG90eXBlLmFjOwpZLnByb3RvdHlwZS5iYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmImJnRoaXMuYi5vJiYwPHRoaXMuYi5vJiZna3goIjExNzYyNTEiKT8hMDohMX07WS5wcm90b3R5cGUuaXNVc2luZ0FTUkNhcHRpb25zRW1wbG95ZWVEb2dmb29kaW5nPVkucHJvdG90eXBlLmJjO2Z1bmN0aW9uIHJmKGEpe3ZhciBiPU51bWJlcihhLmcuaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemUpO2EuZy5maXhCdWZmZXJpbmdHb2FsRGV0ZXJtaW5hdGlvbiYmKGI9MSk7aWYoYS5hLmdldEJvb2woImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvdyIsITEpKWI9YS5LO2Vsc2V7dmFyIGM9YS5hLmdldE51bWJlcigiYnVmZmVyaW5nX292ZXJmbG93X3RocmVzaG9sZCIsMCk7MDxjJiYoYj1jKX1yZXR1cm4gYS4kYj9OdW1iZXIoYS5nLnN0cmVhbUJ1ZmZlclNpemUpOmJ9CmZ1bmN0aW9uIE5lKGEpe2lmKGEuTyl7YT1hLmIuYVswXTtmb3IodmFyIGI9W10sYz0wO2M8YS5hLmxlbmd0aDsrK2MpYi5wdXNoLmFwcGx5KGIsUWQoYS5hW2NdKSk7YT1ifWVsc2UgYT1bXTtyZXR1cm4gYX0KZnVuY3Rpb24gUGUoYSxiKXtpZihhLk8pe2Zvcih2YXIgYz17fSxkPWEuYi5hWzBdLGU9MDtlPGQuYS5sZW5ndGg7KytlKXt2YXIgZj1kLmFbZV07Y1tmLlhdPWZ9YS5mLmE9e307ZD1hYihiKTtmb3IoZT0wO2U8ZC5sZW5ndGg7KytlKXt2YXIgZj1kW2VdLGc9Yi5nZXQoZik7aWYoInZpZGVvIj09Zil7dmFyIGg9Z1swXS5pZDthLmYucHVzaChmLGNbaF0pfWVsc2UgaWYoImF1ZGlvIj09Zil7aWYoMDxnLmxlbmd0aClmb3IodmFyIGg9Z1swXS5iLnNwbGl0KCI7IilbMF0saz0wO2s8Zy5sZW5ndGg7KytrKXt2YXIgbD1nW2tdO2wuYi5zcGxpdCgiOyIpWzBdPT1oJiZhLmYucHVzaChmLGNbbC5pZF0pfX1lbHNlIGZvcihrPTA7azxnLmxlbmd0aDsrK2spaD1nW2tdLmlkLGEuZi5wdXNoKGYsY1toXSl9YS55YT0hMDtpZihjPWEuZi5nZXQoImF1ZGlvIikpVGYoYSxjKSxhLmYuc2V0KCJhdWRpbyIsYyksYz1jWzBdLmxhbmd8fGEuUyxSYSgyLGEuUyxjKSYmKGEueWE9ITEpO2lmKGM9YS5mLmdldCgidGV4dCIpKVRmKGEsCmMpLGEuZi5zZXQoInRleHQiLGMpLGM9Y1swXS5sYW5nfHxhLlMsUmEoMixhLlMsYyl8fChhLnlhPSExKX19WS5wcm90b3R5cGUuWGM9ZnVuY3Rpb24oKXt0aGlzLkVhPSEwfTtZLnByb3RvdHlwZS5zZXRDbGVhckJ1ZmZlckFmdGVyU2Vla2luZz1ZLnByb3RvdHlwZS5YYztZLnByb3RvdHlwZS5zZWxlY3RWaWRlb1RyYWNrPWZ1bmN0aW9uKGEsYixjLGQsZSl7cmV0dXJuIG1mKHRoaXMsInZpZGVvIixhLGIsYyxkLGUpfTtZLnByb3RvdHlwZS5yZXN1bWVWaWRlb0ZldGNoaW5nPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5jLnZpZGVvP3RoaXMuYy52aWRlby5GOm51bGw7YSYmYS5yZXN1bWVWaWRlb0ZldGNoaW5nKCl9O1kucHJvdG90eXBlLnJlc3VtZVZpZGVvRmV0Y2hpbmc9WS5wcm90b3R5cGUucmVzdW1lVmlkZW9GZXRjaGluZztZLnByb3RvdHlwZS5IZD1mdW5jdGlvbigpe3ZhciBhPXRoaXMuYy52aWRlbz90aGlzLmMudmlkZW8uRjpudWxsO2EmJmEuc3RvcFVudGlsU2VnbWVudHNVcGRhdGUoKX07ClkucHJvdG90eXBlLnN0b3BVbnRpbFZpZGVvU3RyZWFtU3dpdGNoPVkucHJvdG90eXBlLkhkO2Z1bmN0aW9uIG5mKGEsYil7dmFyIGM9YS5jLnRleHQ7YyYmYy52YihiKX0KZnVuY3Rpb24gRWYoYSl7aWYoYS5tKXtmb3IodmFyIGI9ITEsYz0wO2M8YS5iLmEubGVuZ3RoOysrYylmb3IodmFyIGQ9YS5iLmFbY10sZT0wO2U8ZC5hLmxlbmd0aDsrK2Upe3ZhciBmPWQuYVtlXTtpZigidmlkZW8iPT1mLmNvbnRlbnRUeXBlKWZvcih2YXIgZz0wO2c8Zi52Lmxlbmd0aDsrK2cpe3ZhciBoPWYudltnXSxrPWguZmE7aC5mYT0hMDthLm0ubWF4V2lkdGgmJmgud2lkdGg+YS5tLm1heFdpZHRoJiYoaC5mYT0hMSk7YS5tLm1heEhlaWdodCYmaC5oZWlnaHQ+YS5tLm1heEhlaWdodCYmKGguZmE9ITEpO2EubS5taW5IZWlnaHQmJmguaGVpZ2h0PGEubS5taW5IZWlnaHQmJihoLmZhPSExKTthLm0ubWF4QmFuZHdpZHRoJiZoLmJhbmR3aWR0aD5hLm0ubWF4QmFuZHdpZHRoJiYoaC5mYT0hMSk7YS5tLm1pbkJhbmR3aWR0aCYmaC5iYW5kd2lkdGg8YS5tLm1pbkJhbmR3aWR0aCYmKGguZmE9ITEpO2shPWguZmEmJihiPSEwKX19MCE9JGEoYS5mKS5sZW5ndGgmJmImJihVZihhKSwKMDxhLlooKS5sZW5ndGh8fChiPUVycm9yKCJUaGUgYXBwbGljYXRpb24gaGFzIHJlc3RyaWN0ZWQgYWxsIHZpZGVvIHRyYWNrcyEiKSxiLnR5cGU9ImFwcCIsYj1BKGIpLGEuZGlzcGF0Y2hFdmVudChiKSkpfX1ZLnByb3RvdHlwZS5QPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYj90aGlzLmIuYjpudWxsfTtZLnByb3RvdHlwZS5pc0xpdmU9WS5wcm90b3R5cGUuUDtZLnByb3RvdHlwZS5ZYz1mdW5jdGlvbihhKXt0aGlzLiRiPWF9O1kucHJvdG90eXBlLnNldElzTGl2ZUludGVycnVwdGVkPVkucHJvdG90eXBlLlljO1kucHJvdG90eXBlLnZkPWZ1bmN0aW9uKCl7Zm9yKHZhciBhIGluIHRoaXMuYyl0aGlzLmNbYV0uSGMoKX07WS5wcm90b3R5cGUuZm9yY2VSZXN5bmNWaWRlb0J1ZmZlcj1ZLnByb3RvdHlwZS52ZDsKZnVuY3Rpb24gV2UoYSxiKXtmb3IodmFyIGMsZD0hMSxlPW5ldyBELGY9JGEoYS5mKSxnPTA7ZzxmLmxlbmd0aDsrK2cpZm9yKHZhciBoPWZbZ10saz0wO2s8aC52Lmxlbmd0aDsrK2spe3ZhciBsPWgudltrXTtsLmIuZm9yRWFjaChmdW5jdGlvbihhKXtlLnB1c2goYSxsKX0pfWZvcihjIGluIGIpaWYoZj1QYVtiW2NdXXx8bnVsbCxoPWUuZ2V0KGMpKWZvcihnPTA7ZzxoLmxlbmd0aDsrK2cpbD1oW2ddLGs9bC5vYSxsLm9hPSFmLGshPWwub2EmJihkPSEwKTtlbHNlIGliKGMpO2QmJihVZihhKSxkPWEudmEoKSxjPWEuWigpLGQ9YS5mLmEuaGFzT3duUHJvcGVydHkoImF1ZGlvIikmJjA9PWQubGVuZ3RoLGM9YS5mLmEuaGFzT3duUHJvcGVydHkoInZpZGVvIikmJjA9PWMubGVuZ3RoLGR8fGMpJiYoYz1FcnJvcigiVGhlIGtleSBzeXN0ZW0gaGFzIHJlc3RyaWN0ZWQgYWxsICIrKGQmJmM/ImF1ZGlvIGFuZCB2aWRlbyB0cmFja3MuIjpkPyJhdWRpbyB0cmFja3MuIjoidmlkZW8gdHJhY2tzLiIpKSwKYy50eXBlPSJkcm0iLGM9QShjKSxhLmRpc3BhdGNoRXZlbnQoYykpfWZ1bmN0aW9uIFVmKGEpe3ZhciBiPXkoe3R5cGU6InRyYWNrc2NoYW5nZWQiLGJ1YmJsZXM6ITB9KTthLmRpc3BhdGNoRXZlbnQoYil9ZnVuY3Rpb24gbWYoYSxiLGMsZCxlLGYsZyl7Zz0hIWc7aWYoIWEuZi5hLmhhc093blByb3BlcnR5KGIpfHwhYS5jW2JdKXJldHVybiExO2Zvcih2YXIgaD1hLmYuZ2V0KGIpLGs9MDtrPGgubGVuZ3RoOysraylmb3IodmFyIGw9aFtrXSxtPTA7bTxsLnYubGVuZ3RoOysrbSl7dmFyIHA9bC52W21dO2lmKHAuWD09Yyl7aWYoIXAub2F8fCFwLmZhKXJldHVybiExO2lmKCJ0ZXh0IiE9YiYmIWEuQ2EpcmV0dXJuIGM9YS5CW2JdLGEuQltiXT17TGM6cCxyYzpudWxsIT1jJiZjLnJjfHxkLHNjOm51bGwhPWMmJmMuc2N8fGUsc3dpdGNoUmVhc29uOmYsS2E6Z30sITA7YS5jW2JdLmpiKHAsZCxlLGYsZyk7cmV0dXJuITB9fXJldHVybiExfQpmdW5jdGlvbiBUZihhLGIpe2Zvcih2YXIgYz0wOzI+PWM7KytjKWZvcih2YXIgZD0wO2Q8Yi5sZW5ndGg7KytkKXt2YXIgZT1iW2RdO2lmKFJhKGMsYS5TLGUubGFuZykpe2Iuc3BsaWNlKGQsMSk7Yi5zcGxpY2UoMCwwLGUpO3JldHVybn19Zm9yKGQ9MDtkPGIubGVuZ3RoOysrZClpZihlPWJbZF0sZS5mKXtiLnNwbGljZShkLDEpO2Iuc3BsaWNlKDAsMCxlKTticmVha319bj1ZLnByb3RvdHlwZTtuLmhkPWZ1bmN0aW9uKCl7dGhpcy5oLmFiKHRoaXMuaSwic291cmNlb3BlbiIpO3RoaXMuSWIucmVzb2x2ZSgpfTsKZnVuY3Rpb24gRmYoYSl7dmFyIGI7YS5sJiYoYj1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJzdGFydF9zdHJlYW1zIikuc3RhcnQoKSk7Zm9yKHZhciBjPVtdLGQ9WyJhdWRpbyIsInZpZGVvIiwidGV4dCJdLGU9MDtlPGQubGVuZ3RoOysrZSl7dmFyIGY9ZFtlXTthLmYuYS5oYXNPd25Qcm9wZXJ0eShmKSYmYy5wdXNoKGEuZi5nZXQoZilbMF0pfWZvcih2YXIgZz1WZihhLGMpLGU9MDtlPGQubGVuZ3RoOysrZSlpZihmPWRbZV0sYS5mLmEuaGFzT3duUHJvcGVydHkoZikmJiFnW2ZdKXJldHVybiBhPUVycm9yKCJVbmFibGUgdG8gc2VsZWN0IGFuIGluaXRpYWwgIitmKyIgc3RyZWFtOiBhbGwgIitmKyIgc3RyZWFtcyBoYXZlIGJlZW4gcmVzdHJpY3RlZCAoYnkgdGhlIGFwcGxpY2F0aW9uIG9yIGJ5IHRoZSBrZXkgc3lzdGVtKS4iKSxhLnR5cGU9InN0cmVhbSIsYiYmYi5zZXRFcnJvcihhKS5sb2coKSxQcm9taXNlLnJlamVjdChhKTtjPVdhKGcpLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS5NLmNyZWF0ZSgpfSk7CmMucHVzaChhLkliKTtyZXR1cm4gUHJvbWlzZS5hbGwoYykudGhlbihKKGEsZnVuY3Rpb24oYSl7YS5wb3AoKTtpZighYS5ldmVyeShmdW5jdGlvbihhKXtyZXR1cm4gYS5sZW5ndGgoKX0pKXJldHVybiBhPUVycm9yKCJTb21lIHN0cmVhbXMgYXJlIG5vdCBhdmFpbGFibGUuIiksYS50eXBlPSJzdHJlYW0iLFByb21pc2UucmVqZWN0KGEpO2E9TWYodGhpcyxhKTtpZighYSlyZXR1cm4gYT1FcnJvcigiU29tZSBzdHJlYW1zIGFyZSBub3QgYXZhaWxhYmxlLiIpLGEudHlwZT0ic3RyZWFtIixQcm9taXNlLnJlamVjdChhKTtpZighV2YodGhpcyxnKSlyZXR1cm4gYT1FcnJvcigiRmFpbGVkIHRvIGNyZWF0ZSBTdHJlYW0gb2JqZWN0cy4iKSxhLnR5cGU9InN0cmVhbSIsUHJvbWlzZS5yZWplY3QoYSk7dGhpcy5BLnN0YXJ0KCk7WGYodGhpcyxnLGEpO3JldHVybiBQcm9taXNlLnJlc29sdmUoKX0pKS50aGVuKGZ1bmN0aW9uKCl7YiYmYi5sb2coKX0pLmNhdGNoKEooYSxmdW5jdGlvbihhKXtpZigiYWJvcnRlZCI9PQphLnR5cGUpYiYmYi5zZXRFcnJvcihhKS5sb2coKTtlbHNle09iamVjdC5rZXlzKHRoaXMuYyk7aWYodGhpcy5iLmIpcmV0dXJuIHlhKCk8dGhpcy5iLmo/KGE9TWF0aC5tYXgodGhpcy5iLmotRGF0ZS5ub3coKS8xRTMsdGhpcy5LYiksdGhpcy51PXNldFRpbWVvdXQodGhpcy5KYi5iaW5kKHRoaXMsITApLDFFMyphKSk6S2YodGhpcywwKSxiJiZiLmxvZygpLFByb21pc2UucmVzb2x2ZSgpO2ImJmIuc2V0RXJyb3IoYSkubG9nKCk7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfX0pKX0KZnVuY3Rpb24gVmYoYSxiKXtmb3IodmFyIGM9e30sZD0wO2Q8Yi5sZW5ndGg7KytkKXt2YXIgZT1iW2RdLGY9bnVsbDtpZigidmlkZW8iPT1lLmNvbnRlbnRUeXBlKXt2YXIgZz1hLkEuZ2V0SW5pdGlhbFZpZGVvVHJhY2tJZCgpO2lmKG51bGw9PWcpY29udGludWU7Zj1lLnYuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiBhLlg9PWd9KTtpZigwPT1mLmxlbmd0aCljb250aW51ZTtmPWZbMF19ZWxzZSBpZigiYXVkaW8iPT1lLmNvbnRlbnRUeXBlKWlmKGc9YS5BLmdldEluaXRpYWxBdWRpb1RyYWNrSWQoKSxmPWUudi5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIGEuWD09Z30pLDA9PWYubGVuZ3RoKXtmPWUudi5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIGEub2EmJmEuZmF9KTtpZigwPT1mLmxlbmd0aCljb250aW51ZTtmPWUudltNYXRoLmZsb29yKGYubGVuZ3RoLzIpXX1lbHNlIGY9ZlswXTtlbHNlIDA8ZS52Lmxlbmd0aCYmKGY9ZS52WzBdKTtjW2UuY29udGVudFR5cGVdPWZ9cmV0dXJuIGN9CmZ1bmN0aW9uIFdmKGEsYil7dmFyIGM9e30sZDtmb3IoZCBpbiBiKXt2YXIgZT1iW2RdLGU9InRleHQiPT1kP25ldyB0ZShhLGEudmlkZW8pOllmKGEsZSk7aWYoIWUpcmV0dXJuIFdhKGMpLmZvckVhY2goZnVuY3Rpb24oYSl7YS5kZXN0cm95KCl9KSwhMTtjW2RdPWV9YS5QYihhLm5jKTthLmM9YztyZXR1cm4hMH0KZnVuY3Rpb24gWWYoYSxiKXt2YXIgYz1OZChiKSxkPVpmKGMuc3BsaXQoIjsiKVswXSksZT1udWxsLGY9YS5hLmdldEJvb2woInVzZV9sb2NhbF9lc3RpbWF0b3JfZm9yX2Ficl9zYW1wbGluZyIsITApP2Eua2I6YS53YSxnPW51bGwsaD1udWxsLGs9YS5iLmZ8fGEuYi5BLGs9YS5hLmdldEJvb2woInNraXBfc2VnbWVudF9yZXF1ZXN0X21hbmFnZXIiLCExKSYmazthLldiJiZjYW5Vc2VGZXRjaFN0cmVhbSgpPyhoPW5ldyBNdWx0aXBsZVNlZ21lbnRzUHJvdmlkZXIoYS5hLmdldE51bWJlcigic3RyZWFtaW5nX3NlZ21lbnRfc2l6ZSIsNCkpLGc9JGYoYSxoLGQsZikpOmEuVmImJiFrJiYoZT1hZyhhLGQsZikpO3ZhciBrPW51bGwsbD1hLmYuZ2V0KGQpOyJ2aWRlbyI9PT1kJiYwPGwubGVuZ3RoJiYoaz1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz1udWxsLGQ9bnVsbCxlPTA7ZTxsWzBdLnYubGVuZ3RoO2UrKylsWzBdLnZbZV0uaWQ9PT1hP2M9bFswXS52W2VdOmxbMF0udltlXS5pZD09PQpiJiYoZD1sWzBdLnZbZV0pO3JldHVybiBudWxsPT09Y3x8bnVsbD09PWQ/MDpjLmJhbmR3aWR0aD5kLmJhbmR3aWR0aD8xOi0xfSk7Yz1uZXcgVShhLGEudmlkZW8sYS5hLGEuaSxjLGYsYS5wYyxhLmRhLGssYS5HLGUsZyxoLGEuaWEpO2MucGEoYS5nKTtyZXR1cm4gY30KZnVuY3Rpb24gJGYoYSxiLGMsZCl7dmFyIGU9YS53W2NdLGY9ImF1ZGlvIiE9PWN8fGEuYS5nZXRCb29sKCJlbmFibGVfYXVkaW9fc3RyZWFtaW5nIiwhMSk7aWYoIWUmJmYpe3ZhciBlPW5ldyBWaWRlb1N0cmVhbWluZ01hbmFnZXIoYS5hLGIsYyxhLmwsYS5VKSxnPSJ2aWRlbyI9PT1jO2cmJmUuYWRkTGlzdGVuZXIoImJhbmR3aWR0aFVwZGF0ZSIsZnVuY3Rpb24oYSl7ZC5zYW1wbGUoYS50aW1lVGFrZW4sYS5ieXRlc1JlYWQsZyx7dGltZVRvTGFzdEJ5dGU6YS50aW1lVGFrZW59LHRoaXMuQWIsdGhpcy5sLCF0aGlzLmEuZ2V0Qm9vbCgiZXZhbHVhdGVfYWJyX29uX3N0cmVhbV9iYW5kd2lkdGhfc2FtcGxlIiwhMCkpfS5iaW5kKGEpKX1lJiYoYS53W2NdPWUpO3JldHVybiBlfHxudWxsfQpmdW5jdGlvbiBhZyhhLGIsYyl7aWYoInZpZGVvIj09PWJ8fCJhdWRpbyI9PT1iJiZhLmEuZ2V0Qm9vbCgiZW5hYmxlX3JlcXVlc3RfcGlwZWxpbmluZ19mb3Jfdm9kX2F1ZGlvcyIsITEpKXt2YXIgZD1hLm9bYl07ZHx8KGQ9bmV3IFNlZ21lbnRSZXF1ZXN0TWFuYWdlcihhLmEsYixhLlAoKT9WaWRlb1ByaW9yaXR5Q2FsY3VsYXRvci5jYWxjdWxhdGVMaXZlOlZpZGVvUHJpb3JpdHlDYWxjdWxhdG9yLmNhbGN1bGF0ZSxhLmwsYyxhLkFiLGEuZGEsYS5pYSksYS5SJiZkLnVwZGF0ZVByaW9yaXR5V2l0aE5ld0FkanVzdG1lbnQoYS5SLmdldFByaW9yaXR5QWRqdXN0bWVudCgpKSxhLm9bYl09ZCk7cmV0dXJuIGR9cmV0dXJuIG51bGx9ZnVuY3Rpb24gYmcoYSxiKXthLnZpZGVvLmN1cnJlbnRUaW1lPWI7YS5hLmdldEJvb2woInNldF9wZW5kaW5nX3NlZWtfb25fc2V0X2N1cnJlbnRfdGltZV9mYWlsdXJlIiwhMSkmJmEudmlkZW8uY3VycmVudFRpbWUrMTxiJiZjZyhhLGIpO2EuRD1ifQpmdW5jdGlvbiBYZihhLGIsYyl7YS5rYz1hLnZpZGVvLnBsYXliYWNrUmF0ZTthLnZpZGVvLnBsYXliYWNrUmF0ZT0wO2RnKGEsYyk7dmFyIGQ7ZD1hLmIuZjsoIWEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9hZGp1c3Rfc3RyZWFtX2xpbWl0c19zdGFydF9vZmZzZXRfaW50IiwwKSYmIWEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9qdW1wX3RvX2xpdmVfc2lkeF9lbmRfb2Zmc2V0IiwwKXx8IWQpJiZhLmxhJiZhLmxhPD1jLmVuZCYmYS5sYT49Yy5zdGFydD9kPWEubGE6YS5iLmI/KGQ9ZWcoYSxjKSxhLmVjPSEwKTpkPWMuc3RhcnQ7RShhLmgsYS52aWRlbywic2Vla2luZyIsYS5tZC5iaW5kKGEpKTthLkk/KGEuSS5zZXRPblBsYXlpbmcoYS5tYi5iaW5kKGEsITApKSxhLkkuc2V0T25QYXVzZWQoYS5tYi5iaW5kKGEsITEpKSxhLkkuZW5hYmxlKCkpOihFKGEuaCxhLnZpZGVvLCJwbGF5aW5nIixhLm1iLmJpbmQoYSwhMCkpLGEuYS5nZXRCb29sKCJ1cGRhdGVfcHJpb3JpdHlfb25fcGxheV9ldmVudCIsCiEwKSYmRShhLmgsYS52aWRlbywicGxheSIsYS5tYi5iaW5kKGEsITApKSxFKGEuaCxhLnZpZGVvLCJwYXVzZSIsYS5tYi5iaW5kKGEsITEpKSk7RShhLmgsYS52aWRlbywic2Vla2luZyIsYS5NYy5iaW5kKGEpKTtFKGEuaCxhLnZpZGVvLCJ0aW1ldXBkYXRlIix0aHJvdHRsZShhLk1jLmJpbmQoYSksYS5hLmdldE51bWJlcigic2NoZWR1bGVyX3ByaW9yaXR5X3VwZGF0ZV9pbnRlcnZhbCIsMUUzKSkpO2lmKGEudmlkZW8uY3VycmVudFRpbWUhPWQpaWYoYS5TYikwIT09YS52aWRlby5yZWFkeVN0YXRlP2JnKGEsZCk6Y2coYSxkKTtlbHNlIHRyeXtiZyhhLGQpfWNhdGNoKGUpe2NnKGEsZCl9ZmcoYSxjLnN0YXJ0LGMuZW5kLGMubGFzdCxjLlphKTt2YXIgZj1bXSxnO2ZvcihnIGluIGEuYyl7Yz1hLmNbZ107SihhLGZ1bmN0aW9uKGEpe2YucHVzaChhLktjKHRoaXMuc2EpLnRoZW4oSih0aGlzLGZ1bmN0aW9uKGIpe3ZhciBjPWEuc2IoKTtjPnRoaXMuQmImJih0aGlzLkJiPWMpO3JldHVybiBifSkpKX0pKGMpOwpFKGEuaCxjLCJlbmRlZCIsYS5vZC5iaW5kKGEpKTtFKGEuaCxjLCJzaG91bGRfZW5kX2FsbF9zdHJlYW1zIixhLnBkLmJpbmQoYSkpO0UoYS5oLGMsInNob3VsZF9udWRnZSIsYS5qZC5iaW5kKGEpKTtkPWJbZ107dmFyIGg9YS5BLmdldEluaXRpYWxTd2l0Y2hSZWFzb24oKXx8dm9pZCAwO2MuamIoZCwhMSx2b2lkIDAsaCl9UHJvbWlzZS5hbGwoZikudGhlbihKKGEsZnVuY3Rpb24oYSl7dGhpcy5hLmdldEJvb2woInByZXZlbnRfc3RyZWFtX3N0YXJ0X2lmX3N0cmVhbXNfY2hhbmdlIiwhMSkmJiFnZyh0aGlzKXx8aGcodGhpcyxhKX0pKS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7ImRlc3Ryb3kiIT1hLnR5cGUmJihhPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGEpKX0pKTtuZihhLGEueWEpfQpuLm1iPWZ1bmN0aW9uKGEpe09iamVjdC5rZXlzKHRoaXMubykuZm9yRWFjaChmdW5jdGlvbihiKXt0aGlzLm9bYl0udXBkYXRlUHJpb3JpdHlXaXRoTmV3UGxheWluZ1N0YXRlKGEpfS5iaW5kKHRoaXMpKTtPYmplY3Qua2V5cyh0aGlzLncpLmZvckVhY2goZnVuY3Rpb24oYil7dGhpcy53W2JdLmdldFByaW9yaXR5VXBkYXRlcigpLnVwZGF0ZVByaW9yaXR5V2l0aE5ld1BsYXlpbmdTdGF0ZShhKX0uYmluZCh0aGlzKSk7aWYodGhpcy5sKXt2YXIgYj1NZih0aGlzLEhmKHRoaXMpKTtiJiZ0aGlzLnZpZGVvLmN1cnJlbnRUaW1lPGIuc3RhcnQmJkJhbnphaU9EUy5idW1wRW50aXR5S2V5KDI5NjYsInZpZGVvcy53d3cuc2hha2EiLCJjdXJyZW50X3RpbWVfYXRfcGxheWluZ19sZXNzX3RoYW5fc3RyZWFtX2xpbWl0c19zdGFydCIpfWEmJm51bGwhPT10aGlzLmNhJiYodGhpcy54YT0xLFJmKHRoaXMsdGhpcy54YSksaWcodGhpcykpfTsKbi5NYz1mdW5jdGlvbigpe3RoaXMudmlkZW8mJihPYmplY3Qua2V5cyh0aGlzLm8pLmZvckVhY2goZnVuY3Rpb24oYSl7dGhpcy5vW2FdLnVwZGF0ZVByaW9yaXR5V2l0aE5ld1BsYXloZWFkKHRoaXMudmlkZW8uY3VycmVudFRpbWUpfS5iaW5kKHRoaXMpKSxPYmplY3Qua2V5cyh0aGlzLncpLmZvckVhY2goZnVuY3Rpb24oYSl7dGhpcy53W2FdLmdldFByaW9yaXR5VXBkYXRlcigpLnVwZGF0ZVByaW9yaXR5V2l0aE5ld1BsYXloZWFkKHRoaXMudmlkZW8uY3VycmVudFRpbWUpfS5iaW5kKHRoaXMpKSl9O2Z1bmN0aW9uIFFmKGEpe2lmKGEuYS5nZXRCb29sKCJjbGVhcl9jdXJyZW50X3NlZ21lbnRfaW5kZXhlc19kdXJpbmdfbGl2ZWhlYWRfY2F0Y2h1cCIsITEpKWZvcih2YXIgYiBpbiBhLmMpYS5jW2JdLmk9bnVsbH1mdW5jdGlvbiBjZyhhLGIpe2EuYmE9Yjtmb3IodmFyIGMgaW4gYS5jKXt2YXIgZD1hLmNbY107YS5iYSYmKGQuSj1hLmJhKX19CmZ1bmN0aW9uIGdnKGEpe3JldHVybiFPYmplY3Qua2V5cyhhLmMpLnNvbWUoSihhLGZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNbYV0mJiF0aGlzLmNbYV0uaH0pKX0KZnVuY3Rpb24gaGcoYSxiKXtiYShiJiZiLmxlbmd0aD09T2JqZWN0LmtleXMoYS5jKS5sZW5ndGgpO2Zvcih2YXIgYz1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksZD1OdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFksZT0wO2U8Yi5sZW5ndGg7KytlKXZhciBmPWJbZV0sYz1NYXRoLm1pbihjLGYpLGQ9TWF0aC5tYXgoZCxmKTtjPUhmKGEpO2ZvcihlPTA7ZTxjLmxlbmd0aDsrK2UpY1tlXS5UYShkKTthLmEuZ2V0Qm9vbCgicHJvY2Vzc19kZWZlcnJlZF9zd2l0Y2hlc19lYXJseSIsITEpJiZqZyhhKTtrZyhhLGMsZCk7dmFyIGc9V2EoYS5jKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuV2EoKS5pZH0pO2EuYS5nZXRCb29sKCJzZXF1ZW50aWFsbHlfbG9hZF9zdHJlYW1zIiwhMSk/bGcoYSxnLGQpOihlPSRhKGEuZikubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLnZ9KS5yZWR1Y2UoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5jb25jYXQoYil9LFtdKS5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIX5nLmluZGV4T2YoYS5pZCl9KS5tYXAoSihhLApmdW5jdGlvbihhKXt2YXIgYj1bYS5NLnBiP2EuTS5wYigpOmEuTS5jcmVhdGUoKV07YS5hYSYmYi5wdXNoKGEuYWEuY3JlYXRlKHRoaXMubCx0aGlzLmRhKSk7cmV0dXJuIFByb21pc2UuYWxsKGIpfSkpLFByb21pc2UuYWxsKGUpLnRoZW4oSihhLGZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7KytiKWFbYl1bMF0uVGEoZCk7dGhpcy5DYT0hMDtqZyh0aGlzKX0pKS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7ImFib3J0ZWQiIT1hLnR5cGUmJihhPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGEpKX0pKSl9CmZ1bmN0aW9uIGxnKGEsYixjKXt2YXIgZD1Qcm9taXNlLnJlc29sdmUoKTskYShhLmYpLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS52fSkucmVkdWNlKGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuY29uY2F0KGIpfSxbXSkuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiF+Yi5pbmRleE9mKGEuaWQpfSkuZm9yRWFjaChmdW5jdGlvbihhKXtkPWQudGhlbihKKHRoaXMsZnVuY3Rpb24oYil7YiYmYlswXS5UYShjKTtiPVthLk0ucGI/YS5NLnBiKCk6YS5NLmNyZWF0ZSgpXTthLmFhJiZiLnB1c2goYS5hYS5jcmVhdGUodGhpcy5sLHRoaXMuZGEpKTtyZXR1cm4gUHJvbWlzZS5hbGwoYil9KSkuY2F0Y2goZnVuY3Rpb24oYSl7dGhyb3cgYTt9KX0pO2QudGhlbihKKGEsZnVuY3Rpb24oKXt0aGlzLkNhPSEwO2pnKHRoaXMpfSkpLmNhdGNoKEooYSxmdW5jdGlvbihhKXsiYWJvcnRlZCIhPWEudHlwZSYmKGE9QShhKSx0aGlzLmRpc3BhdGNoRXZlbnQoYSkpfSkpfQpmdW5jdGlvbiBqZyhhKXtmb3IodmFyIGIgaW4gYS5CKXt2YXIgYz1hLkJbYl07YS5jW2JdLmpiKGMuTGMsYy5yYyxjLnNjLGMuc3dpdGNoUmVhc29uLGMuS2EpfWEuQj17fX0KZnVuY3Rpb24ga2coYSxiLGMpe3ZhciBkO2EuYS5nZXRCb29sKCJ3d3dfdmlkZW9zX2V4dGVuZGVkX3NwbF9sb2dnaW5nX2Zvcl9jb25uZWN0ZWRfdHYiLCExKSYmYS5sJiYoZD1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJzdHJlYW1fdmlkZW9fc291cmNlX2JlZ2luX3BsYXliYWNrIikpO2lmKGI9TWYoYSxiKSlkZyhhLGIpLGZnKGEsYi5zdGFydCxiLmVuZCxiLmxhc3QsYi5aYSk7MCE9Yz8oYz1hLnZpZGVvLmN1cnJlbnRUaW1lK2MsYS5hLmdldE51bWJlcigid3d3X3ZpZGVvc19udWRnZV90aW1lc3RhbXBfY29ycmVjdGlvbl9zIiwwKSYmKGMrPWEuYS5nZXROdW1iZXIoInd3d192aWRlb3NfbnVkZ2VfdGltZXN0YW1wX2NvcnJlY3Rpb25fcyIsMCkpLGEudmlkZW8uY3VycmVudFRpbWU9YyxhLkQ9Yyk6YS5lYyYmYiYmKGM9ZWcoYSxiKSxNYXRoLmFicyhjLWEudmlkZW8uY3VycmVudFRpbWUpPj1hLmRjJiYoYS52aWRlby5jdXJyZW50VGltZT1jKSk7YS5hLmdldEJvb2woInVuaWZ5X3N0cmVhbV9zdGFydF93aXRoX2J1ZmZlcl9kZXRlY3RvciIsCiExKT8oYz15KHt0eXBlOiJhbGxTdHJlYW1zU3RhcnRlZCIsYnViYmxlczohMH0pLGEuZGlzcGF0Y2hFdmVudChjKSk6YS52aWRlby5wbGF5YmFja1JhdGU9YS5rYzthLmIuYiYmbnVsbCE9YS5iLmMmJktmKGEsMCk7bWcoYSk7YS5zYS5yZXNvbHZlKCk7ZCYmZC5sb2coKX0KZnVuY3Rpb24gZWcoYSxiKXt2YXIgYz1iLmVuZDt2b2lkIDAhPT1iLkJjJiYoYz1iLkJjKTtpZihhLmEuZ2V0Qm9vbCgidGVtcGxhdGVkX2Fsd2F5c19qdW1wX3RvX3N0cmVhbV9saW1pdHNfZW5kIiwhMSkmJmEuYiYmYS5iLmYpcmV0dXJuIGIuZW5kO2lmKGEuY2Mpe3ZhciBkPWEudmlkZW8uY3VycmVudFRpbWUsZT1iLnN0YXJ0O2lmKGEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9hZGp1c3Rfc3RyZWFtX2xpbWl0c19zdGFydF9vZmZzZXRfaW50IiwwKSYmYS5iJiZhLmIuZil7Zm9yKHZhciBmPUhmKGEpLGc9MCxoPTA7aDxmLmxlbmd0aDsrK2gpe3ZhciBrPWZbaF0sbD1NYXRoLm1pbihhLmEuZ2V0TnVtYmVyKCJ0ZW1wbGF0ZWRfYWRqdXN0X3N0cmVhbV9saW1pdHNfc3RhcnRfb2Zmc2V0X2ludCIsMCksay5sZW5ndGgoKSk7ay5sZW5ndGgoKSYmMDxsJiZsPD1rLmxlbmd0aCgpJiYoZz1NYXRoLm1heChrLmdldChrLmxlbmd0aCgpLWwpLnN0YXJ0VGltZSxnKSl9ZT1NYXRoLm1heChlLApnKX1pZihkPj1lJiZkPD1iLmVuZCYmZDxjKWlmKGEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9qdW1wX3RvX2xpdmVfc2lkeF9lbmRfb2Zmc2V0IiwwKSYmYS5iJiZhLmIuZil7Zj1IZihhKTtrPW51bGw7ZT1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7Zm9yKGg9MDtoPGYubGVuZ3RoOysraClmW2hdLmxlbmd0aCgpPGUmJihlPWZbaF0ubGVuZ3RoKCksaz1mW2hdKTtrJiZlPmEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9qdW1wX3RvX2xpdmVfc2lkeF9lbmRfb2Zmc2V0IiwwKSYmKGY9ay5nZXQoay5sZW5ndGgoKS1hLmEuZ2V0TnVtYmVyKCJ0ZW1wbGF0ZWRfanVtcF90b19saXZlX3NpZHhfZW5kX29mZnNldCIsMCkpLnN0YXJ0VGltZSxkPj1mJiYoYz1kKSl9ZWxzZSBjPWR9cmV0dXJuIGN9CmZ1bmN0aW9uIGRnKGEsYil7aWYoYS5iLmIpaXNOYU4oYS5pLmR1cmF0aW9uKSYmKGEuaS5kdXJhdGlvbj1iLmVuZCsyNTkyRTMpO2Vsc2UgaWYoaXNOYU4oYS5pLmR1cmF0aW9uKXx8Yi5lbmQ+YS5pLmR1cmF0aW9uKWlmKGEuaS5kdXJhdGlvbj1iLmVuZCwhYS5hLmdldEJvb2woImRpc2FibGVfYXBwZW5kX3dpbmRvd19lbmQiLCExKSlmb3IodmFyIGM9YS5hLmdldE51bWJlcigiYXBwZW5kX3dpbmRvd19lbmRfZnVkZ2VfZmFjdG9yIiwwKSxkPTA7ZDxhLmkuc291cmNlQnVmZmVycy5sZW5ndGg7KytkKWEuaS5zb3VyY2VCdWZmZXJzW2RdLmFwcGVuZFdpbmRvd0VuZD1iLmVuZCtjfQpuLnJkPWZ1bmN0aW9uKCl7dGhpcy5rYT1udWxsO21nKHRoaXMpO3ZhciBhPU1mKHRoaXMsSGYodGhpcykpO2lmKGEpe3ZhciBiPXRoaXMuYi5iO3RoaXMuYS5nZXRCb29sKCJ0cmVhdF9saXZlX3N0YXRpY19tYW5pZmVzdF9hc19keW5hbWljIiwhMSkmJihiPWJ8fHRoaXMuYi5oKTtiJiZ0aGlzLmphIT1hLmxhc3QmJih0aGlzLmphPWEubGFzdCxudWxsIT10aGlzLmomJihjbGVhclRpbWVvdXQodGhpcy5qKSx0aGlzLmo9bnVsbCkpO2ZnKHRoaXMsYS5zdGFydCxhLmVuZCxhLmxhc3QsYS5aYSk7dGhpcy52aWRlby5wYXVzZWR8fG5nKHRoaXMsdGhpcy52aWRlby5jdXJyZW50VGltZSxhLnN0YXJ0LGEuZW5kKX19O2Z1bmN0aW9uIGZnKGEsYixjLGQsZSl7Yj15KHt0eXBlOiJzZWVrcmFuZ2VjaGFuZ2VkIixidWJibGVzOiEwLHN0YXJ0OmIsZW5kOmMsbGFzdDpkLHNlZWtSYW5nZUdhcHM6ZX0pO2EuZGlzcGF0Y2hFdmVudChiKX0Kbi5tZD1mdW5jdGlvbigpe3ZhciBhPXRoaXMudmlkZW8uY3VycmVudFRpbWUsYj1NZih0aGlzLEhmKHRoaXMpKTt0aGlzLmwmJmImJmE8Yi5zdGFydCYmQmFuemFpT0RTLmJ1bXBFbnRpdHlLZXkoMjk2NiwidmlkZW9zLnd3dy5zaGFrYSIsImN1cnJlbnRfdGltZV9hdF9zZWVrX2xlc3NfdGhhbl9zdHJlYW1fbGltaXRzX3N0YXJ0Iik7aWYobnVsbCE9dGhpcy5EKXtpZihhPj10aGlzLkQtLjAxJiZhPD10aGlzLkQrLjAxKXt0aGlzLkQ9bnVsbDt0aGlzLmwmJmImJmE8Yi5zdGFydCYmQmFuemFpT0RTLmJ1bXBFbnRpdHlLZXkoMjk2NiwidmlkZW9zLnd3dy5zaGFrYSIsImlnbm9yZWRfc2Vla193aGVuX2N1cnJlbnRfdGltZV9hdF9zZWVrX2xlc3NfdGhhbl9zdHJlYW1fbGltaXRzX3N0YXJ0Iik7cmV0dXJufXRoaXMuRD1udWxsfWlmKGIpe3ZhciBjPWIuc3RhcnQsZD1iLmVuZDt0aGlzLmEuZ2V0Qm9vbCgic2tpcF9yZW1haW5pbmdfYnVmZmVyZWRfb25fc3RyZWFtX2VuZCIsITEpJiZ0aGlzLmIuYiYmCnRoaXMuYi5oJiZ0aGlzLnZpZGVvLnBhdXNlZCYmKGQ9dGhpcy5qYSk7KGM9bmcodGhpcyxhLGMsZCkpfHwoYTw9ZCsuMDF8fHRoaXMuYi5iJiYhb2codGhpcyxkKT9jPSExOih0aGlzLnZpZGVvLmN1cnJlbnRUaW1lPWQsYz0hMCkpO2lmKGMpdGhpcy5sJiZhPGIuc3RhcnQmJkJhbnphaU9EUy5idW1wRW50aXR5S2V5KDI5NjYsInZpZGVvcy53d3cuc2hha2EiLCJjbGFtcF9wbGF5aGVhZF93aGVuX2N1cnJlbnRfdGltZV9hdF9zZWVrX2xlc3NfdGhhbl9zdHJlYW1fbGltaXRzX3N0YXJ0Iik7ZWxzZXtmb3IodmFyIGUgaW4gdGhpcy5jKXRoaXMuY1tlXS5DYyh0aGlzLkVhKTt0aGlzLkVhPSExfX19O2Z1bmN0aW9uIG5nKGEsYixjLGQpe2lmKGI+PWMtLjAxKXJldHVybiExO2I9MDthLmIuYiYmKGI9LjUsb2coYSxjK2IpfHwoYj1hLmIuZykpO2EudmlkZW8uY3VycmVudFRpbWU9TWF0aC5taW4oYytiLGQpO3JldHVybiEwfQpmdW5jdGlvbiBvZyhhLGIpe2Zvcih2YXIgYyBpbiBhLmMpaWYoIWEuY1tjXS5JYyhiKSlyZXR1cm4hMTtyZXR1cm4hMH1uLm9kPWZ1bmN0aW9uKCl7aWYoIXRoaXMuYi5ifHx0aGlzLkZhKXtmb3IodmFyIGEgaW4gdGhpcy5jKWlmKCF0aGlzLmNbYV0uZmIoKSlyZXR1cm47dGhpcy5lYigpfX07bi5wZD1mdW5jdGlvbigpe2NsZWFyVGltZW91dCh0aGlzLnUpO3RoaXMuRmE9ITA7Zm9yKHZhciBhIGluIHRoaXMuYyl0aGlzLmNbYV0uZmIoKXx8dGhpcy5jW2FdLkNiKCl9O24uamQ9ZnVuY3Rpb24oKXt0aGlzLmEuZ2V0Qm9vbCgiaWdub3JlX3NlZWtfd2hlbl9udWRnaW5nIiwhMCkmJih0aGlzLkQ9dGhpcy52aWRlby5jdXJyZW50VGltZSk7dGhpcy52aWRlby5jdXJyZW50VGltZSs9LjAwMX07Cm4udGI9ZnVuY3Rpb24oKXtpZih0aGlzLmFjKCl8fHRoaXMuYmMoKSlyZXR1cm4hMDt2YXIgYT10aGlzLmIsYj1udWxsLGM9bnVsbDthJiZhLmEmJmEuYVswXSYmKGI9YS5hWzBdKTtiJiZiLmEmJmIuYVswXSYmKGM9Yi5hWzBdKTtyZXR1cm4hIWMmJmMuYn07WS5wcm90b3R5cGUuaGFzSW5saW5lZENlYTYwOFN1YnRpdGxlcz1ZLnByb3RvdHlwZS50YjtZLnByb3RvdHlwZS5QYj1mdW5jdGlvbihhKXt0aGlzLm5jPWE7dmFyIGI9dGhpcy5jOyJ2aWRlbyJpbiBiJiYoYT1hJiZ0aGlzLnRiKCksYi52aWRlby5jLlM9YSl9O1kucHJvdG90eXBlLnNldEVuYWJsZUNlYTYwOFBhcnNpbmc9WS5wcm90b3R5cGUuUGI7CmZ1bmN0aW9uIHNmKGEpe3ZhciBiPWEuYS5nZXROdW1iZXIoImxpdmVfYnVmZmVyaW5nX3VuZGVyZmxvd190aHJlc2hvbGQiLC41KSxjPWEuYS5nZXRCb29sKCJmaXhfbGl2ZV9zdHJlYW1fZ29uZV9vbl9tYW5pZmVzdF91cGRhdGUiLCEwKSYmYS5oYyxkPSExO2lmKGEuYi5oKXt2YXIgZD1hLmEuZ2V0TnVtYmVyKCJsaXZlX3N0cmVhbV9lbmRfc2xhY2siLDApLGU7Zm9yKGUgaW4gYS5jKWEuY1tlXS5mYigpfHwoZD0wKTtkPWEudmlkZW8uY3VycmVudFRpbWUrYitkPmEuamF9cmV0dXJuIGN8fGR9bj1ZLnByb3RvdHlwZTsKbi5jZD1mdW5jdGlvbigpe3RoaXMuJD0hMDtpZih0aGlzLmImJnRoaXMuYi5iKXtpZihzZih0aGlzKSlyZXR1cm4gdGhpcy5lYigpO3RoaXMuYS5nZXRCb29sKCJhbGxvd19pbmZpbml0ZV9yZXRyeV9vbl9uZXRfZXJyIiwhMCkmJnRoaXMuRy5pc05ldHdvcmtJbnRlcnJ1cHRlZCgpfHwhV2EodGhpcy5jKS5ldmVyeShmdW5jdGlvbihhKXtyZXR1cm4gYS5mYigpfSl8fHBnKHRoaXMsdGhpcy5nYil9dGhpcy5hLmdldEJvb2woImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvdyIsITEpJiYobnVsbD09PXRoaXMuS3x8RGF0ZS5ub3coKS10aGlzLmZjPnRoaXMuYS5nZXROdW1iZXIoImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvd190aW1lX3dpbmRvdyIsMkUzKT90aGlzLks9dGhpcy5hLmdldE51bWJlcigiYnVmZmVyaW5nX292ZXJmbG93X3RocmVzaG9sZCIsMCk6dGhpcy5LKj10aGlzLmEuZ2V0TnVtYmVyKCJiYWNrX29mZl9idWZmZXJpbmdfb3ZlcmZsb3dfdGltZV9mYWN0b3IiLDIpLAp0aGlzLks9TWF0aC5taW4odGhpcy5LLHRoaXMuYS5nZXROdW1iZXIoImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvd19tYXgiLDUpKSl9O2Z1bmN0aW9uIHBnKGEsYil7YS5qPXNldFRpbWVvdXQoYS5lYi5iaW5kKGEpLGIpfW4uYmQ9ZnVuY3Rpb24oKXt0aGlzLiQ9ITE7dGhpcy5hLmdldEJvb2woImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvdyIsITEpJiYodGhpcy5mYz1EYXRlLm5vdygpKTtudWxsIT10aGlzLmomJihjbGVhclRpbWVvdXQodGhpcy5qKSx0aGlzLmo9bnVsbCl9O24uZ2Q9ZnVuY3Rpb24oKXtudWxsIT09dGhpcy5iYSYmKGJnKHRoaXMsdGhpcy5iYSksY2codGhpcyxudWxsKSl9O24uR2Q9ZnVuY3Rpb24oKXt9OwpuLmViPWZ1bmN0aW9uKCl7dGhpcy4kPSExO3RoaXMuaj1udWxsO3ZhciBhO2lmKGE9dGhpcy5hLmdldEJvb2woInRlc3Rfc291cmNlX2J1ZmZlcnNfbm90X3VwZGF0aW5nX2VuZF9vZl9zdHJlYW0iLCExKSlhOntmb3IoYT0wO2E8dGhpcy5pLnNvdXJjZUJ1ZmZlcnMubGVuZ3RoOysrYSlpZih0aGlzLmkuc291cmNlQnVmZmVyc1thXS51cGRhdGluZyl7YT0hMDticmVhayBhfWE9ITF9aWYoYSlyZXR1cm4gcGcodGhpcywxRTMpOyJvcGVuIj09dGhpcy5pLnJlYWR5U3RhdGUmJnRoaXMuaS5lbmRPZlN0cmVhbSgpfTtmdW5jdGlvbiBIZihhKXtyZXR1cm4gV2EoYS5jKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuRmIoKX0pLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YX0pfWZ1bmN0aW9uIExmKGEpe3JldHVybiBNYXRoLm1heChhLmI/YS5iLmc6MSxhLlpiP2EuZy5zdHJlYW1CdWZmZXJTaXplfHwwOjApfQpmdW5jdGlvbiBNZihhLGIpe2Zvcih2YXIgYz0wLGQ9TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLGU9TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLGY9W10sZz0hVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJub19zZWVrX3JhbmdlX2dhcHNfZHVyaW5nX2NvbXB1dGVfc3RyZWFtX2xpbWl0cyIsITEpLGg9MDtoPGIubGVuZ3RoOysraCl7dmFyIGs9YltoXS5BKCk7ZyYmKGY9Zi5jb25jYXQoYltoXS5nZXRTZWVrUmFuZ2VHYXBzKCkpKTtjPU1hdGgubWF4KGMsay5zdGFydCk7bnVsbCE9ay5lbmQmJihkPU1hdGgubWluKGQsay5lbmQpKTtiW2hdLmxlbmd0aCgpJiYoZT1NYXRoLm1pbihlLGJbaF0ubGFzdCgpLmVuZFRpbWUpKX1nJiYoZj1tZXJnZVNlZWtSYW5nZUdhcHMoZikpO2lmKGQ9PU51bWJlci5QT1NJVElWRV9JTkZJTklUWSlpZihkPWEuYi5hWzBdLGQuZHVyYXRpb24pZD0oZC5zdGFydHx8MCkrZC5kdXJhdGlvbjtlbHNlIHJldHVybiBudWxsO2lmKGEuYi5iKXt2YXIgZz0KTGYoYSksZD1NYXRoLm1heChkLWcsYyksbDthLnJhJiZhLmEuZ2V0Qm9vbCgibGl2ZV9qdW1wX3RvX3B1c2hlZF9zZWdtZW50IiwhMSkmJmIubGVuZ3RoJiYoaD1NYXRoLmZsb29yKExmKGEpLzEpKzEsZz1iWzBdLGg9Zy5sZW5ndGgoKS1oLChnPWcuZ2V0KGgpKSYmKGw9Zy5zdGFydFRpbWUpKX1pZihjPmQpcmV0dXJuIG51bGw7ZD1NYXRoLmZsb29yKDFFNSpkKS8xRTU7cmV0dXJue3N0YXJ0OmMsZW5kOmQsbGFzdDplLFphOmYsQmM6bH19bi5uYj1mdW5jdGlvbigpe3JldHVybiBNZih0aGlzLEhmKHRoaXMpKX07WS5wcm90b3R5cGUuY29tcHV0ZVN0cmVhbUxpbWl0cz1ZLnByb3RvdHlwZS5uYjtmdW5jdGlvbiBtZyhhKXthLmIuYiYmKGEua2E9c2V0VGltZW91dChhLnJkLmJpbmQoYSksMUUzKSl9ZnVuY3Rpb24gRGYoYSl7Zm9yKHZhciBiIGluIGEuYylhLmNbYl0ucGEoYS5nKX1ZLnByb3RvdHlwZS5zYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLkJifTsKWS5wcm90b3R5cGUuZ2V0TG9uZ2VzdEluaXRSZXNwb25zZVRpbWU9WS5wcm90b3R5cGUuc2I7ZnVuY3Rpb24gWmYoYSl7cmV0dXJuInYiPT09YS5jaGFyQXQoMCk/InZpZGVvIjoiYSI9PT1hLmNoYXJBdCgwKT8iYXVkaW8iOm51bGx9WS5wcm90b3R5cGUuVGM9ZnVuY3Rpb24oKXt2YXIgYT15KHt0eXBlOiJuZXR3b3JraW50ZXJydXB0ZWQiLGJ1YmJsZXM6ITB9KTt0aGlzLmRpc3BhdGNoRXZlbnQoYSk7dGhpcy5UPXRoaXMuVHx8RGF0ZS5ub3coKTt0aGlzLiQmJnRoaXMuaiYmY2xlYXJUaW1lb3V0KHRoaXMuail9OwpZLnByb3RvdHlwZS5VYz1mdW5jdGlvbigpe3ZhciBhPXkoe3R5cGU6Im5ldHdvcmtyZXN1bWVkIixidWJibGVzOiEwfSk7dGhpcy5kaXNwYXRjaEV2ZW50KGEpO2E9dGhpcy5hLmdldE51bWJlcigibWF4X25ldHdvcmtfaW50ZXJydXB0ZWRfdGltZV9iZWZvcmVfc2VlayIsMUU0KTtudWxsIT09dGhpcy5UJiZEYXRlLm5vdygpLXRoaXMuVD49YSYmKHRoaXMuVD1udWxsLHRoaXMuZWE9ITApO3RoaXMuYS5nZXRCb29sKCJmaXhfbmV0d29ya19pbnRlcnJ1cHRlZF9zdGFydF9ub3RfbnVsbGVkIiwhMSkmJih0aGlzLlQ9bnVsbCk7dGhpcy4kJiZwZyh0aGlzLHRoaXMuZ2IpfTtZLnByb3RvdHlwZS5WYz1mdW5jdGlvbigpe3RoaXMuZWE9ITB9O2Z1bmN0aW9uIFBmKGEpe2EuYS5nZXRCb29sKCJkZWNvdXBsZV9tcGRfdXBkYXRlX2xvb3BfZnJvbV9yZXF1ZXN0X2xvb3AiLCExKXx8S2YoYSwwKX1ZLnByb3RvdHlwZS5xYz1mdW5jdGlvbihhKXt0aGlzLm5hPWF9OwpZLnByb3RvdHlwZS5zZXRFbmFibGVMaXZlaGVhZENhdGNodXA9WS5wcm90b3R5cGUucWM7WS5wcm90b3R5cGUuemQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uYX07WS5wcm90b3R5cGUuaXNMaXZlaGVhZENhdGNodXBFbmFibGVkPVkucHJvdG90eXBlLnpkO1kucHJvdG90eXBlLlNjPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYy52aWRlbz90aGlzLmMudmlkZW8uYy5pOm51bGx9O1kucHJvdG90eXBlLmdldFZpZGVvU3RyZWFtUHJvZ3Jlc3NUcmFja2VyPVkucHJvdG90eXBlLlNjO1kucHJvdG90eXBlLnFiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYy52aWRlbz90aGlzLmMudmlkZW8ucWIoKTpudWxsfTtZLnByb3RvdHlwZS5nZXRCdWZmZXJWZWxvY2l0eT1ZLnByb3RvdHlwZS5xYjtmdW5jdGlvbiBSZihhLGIpe2Zvcih2YXIgYyBpbiBhLmMpYS5jW2NdLm5hPWJ9CmZ1bmN0aW9uIGlnKGEpe3ZhciBiPVtdO2lmKG51bGwhPT1hLmNhKXt2YXIgYz1hLmNhLGQ7Zm9yKGQgaW4gYS5jKWIucHVzaChyZShhLmNbZF0sYS5jYSkpO1Byb21pc2UuYWxsKGIpLnRoZW4oSihhLGZ1bmN0aW9uKCl7aWYoYyl7Zm9yKHZhciBhIGluIHRoaXMuYyl7dmFyIGI9dGhpcy5jW2FdO2IuSz1udWxsO2IuVj0hMTtiLkk9bnVsbH1jPnRoaXMudmlkZW8uY3VycmVudFRpbWUmJih0aGlzLnZpZGVvLmN1cnJlbnRUaW1lPWMpfX0pKX1hLmNhPW51bGx9O2Z1bmN0aW9uIFooYSxiLGMsZCxlLGYsZyl7ZHx8KGQ9bmV3IEcpO2V8fChlPW5ldyBYKTtZLmNhbGwodGhpcyxudWxsLGIsZCxlKTsic3RyaW5nIj09PXR5cGVvZiBhP3RoaXMuamM9YTp0aGlzLk5iPWE7dGhpcy5hPWI7dGhpcy5GPW51bGw7dGhpcy50YT1jO3RoaXMuRGE9W107dGhpcy5RYj1bXTt0aGlzLlJiPVtdO3RoaXMuSGE9MDt0aGlzLlk9bnVsbDt0aGlzLk1iPWd8fG51bGx9cihaLFkpO3EoInNoYWthLnBsYXllci5EYXNoVmlkZW9Tb3VyY2UiLFopO1oucHJvdG90eXBlLkpkPWZ1bmN0aW9uKGEpe3RoaXMuRj1hO3RoaXMuSmIoITAsITApfTtaLnByb3RvdHlwZS51cGRhdGVNYW5pZmVzdD1aLnByb3RvdHlwZS5KZDtaLnByb3RvdHlwZS5PYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLk5ifHx0aGlzLkZ9O1oucHJvdG90eXBlLmdldE1hbmlmZXN0PVoucHJvdG90eXBlLk9iO1oucHJvdG90eXBlLlRiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuT2IoKX07CloucHJvdG90eXBlLmRlYnVnR2V0TWFuaWZlc3Q9Wi5wcm90b3R5cGUuVGI7Wi5wcm90b3R5cGUuWmM9ZnVuY3Rpb24oYSxiLGMpe3RoaXMuRGEucHVzaChhKTt0aGlzLlFiLnB1c2goYnx8IiIpO3RoaXMuUmIucHVzaChjfHwiIil9O1oucHJvdG90eXBlLmFkZEV4dGVybmFsQ2FwdGlvbnM9Wi5wcm90b3R5cGUuWmM7Wi5wcm90b3R5cGUudGQ9ZnVuY3Rpb24oYSl7dGhpcy5ZPWF9O1oucHJvdG90eXBlLnNldE5ldHdvcmtDYWxsYmFjaz1aLnByb3RvdHlwZS50ZDtaLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5GPXRoaXMuWT10aGlzLnRhPW51bGw7WS5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpfTsKWi5wcm90b3R5cGUud2I9ZnVuY3Rpb24oKXt2YXIgYTt0aGlzLmwmJihhPXRoaXMubC5nZXRPcGVyYXRpb25Mb2dnZXIoInNvdXJjZV9sb2FkIikuc3RhcnQoKSk7dmFyIGIsYz1KKHRoaXMsZnVuY3Rpb24oYSl7aWYodGhpcy5hLmdldEJvb2woImVuYWJsZV9kb3VibGVfaW5nZXN0X29uX2luaXRpYWxfbXBkIiwhMSkpc3dpdGNoKGEuc3RhdHVzKXtjYXNlIDIwMDpjYXNlIDQxNzppZihhLnJlc3BvbnNlSGVhZGVycyYmbnVsbCE9YS5yZXNwb25zZUhlYWRlcnNbIngtZmItdmlkZW8tcmVwbGljYSJdKXJldHVybiB0aGlzLmRpc3BhdGNoRXZlbnQoeSh7dHlwZToicmVwbGljYXN3aXRjaCIsYnViYmxlczohMCxyZXBsaWNhOmEucmVzcG9uc2VIZWFkZXJzWyJ4LWZiLXZpZGVvLXJlcGxpY2EiXX0pKSxuZXcgUHJvbWlzZShmdW5jdGlvbigpe30pfXRocm93IGE7fSksZD1KKHRoaXMsZnVuY3Rpb24oYyl7dGhpcy5MYSgiTVBERmV0Y2hEdXJhdGlvbiIsKERhdGUubm93KCktYikvMUUzKTt0aGlzLkY9CmM7Zm9yKHZhciBkPTA7ZDx0aGlzLkRhLmxlbmd0aDtkKyspTGMoYyx0aGlzLkRhW2RdLHRoaXMuUWJbZF0sdGhpcy5SYltkXSk7dmFyIGQ9bmV3IHllKHRoaXMuYSx0aGlzLnRhLHRoaXMubCx0aGlzLk1iKSxlO3RoaXMubCYmKGU9dGhpcy5sLmdldE9wZXJhdGlvbkxvZ2dlcigicHJvY2Vzc19tYW5pZmVzdCIpLnN0YXJ0KCkpO3RoaXMuYj16ZShkLGMsdGhpcy5ZKTtlJiZlLmxvZygpO2EmJmEuc2V0TWFuaWZlc3RUeXBlKHRoaXMuYi5iPyJkeW5hbWljIjoic3RhdGljIik7cmV0dXJuIFkucHJvdG90eXBlLndiLmNhbGwodGhpcykudGhlbihmdW5jdGlvbigpe2EmJmEubG9nKCl9KX0pO2lmKHRoaXMuTmIpcmV0dXJuIGI9RGF0ZS5ub3coKSxkKHRoaXMuTmIpO3ZhciBlPVtuZXcgTCh0aGlzLmpjKV0sZjtpZih0aGlzLnJhKXt2YXIgZz1uZXcgVmlkZW9QdXNoUGFyYW1ldGVyc0hlbHBlcih0aGlzLmpjKTtnLnNldFN0cmVhbUVuZE9mZnNldChNYXRoLmZsb29yKExmKHRoaXMpLzEpKTsKdGhpcy5PYSYmZy5zZXRQdXNoVmlkZW9SZXByZXNlbnRhdGlvbklEKHRoaXMuT2EpO3RoaXMucGEmJmcuc2V0UHVzaEF1ZGlvUmVwcmVzZW50YXRpb25JRCh0aGlzLnBhKTt0aGlzLm1hJiZnLnNldFVzZUxvbmdDYWNoZUZvck1hbmlmZXN0KHRoaXMubWEpO2Y9bmV3IGZkKG51bGwpO2YuYT1nfWU9bmV3IEsodGhpcy5ZLGUsdm9pZCAwLHZvaWQgMCx2b2lkIDAsdGhpcy5NYik7Zj1uZXcgZGQoZSx0aGlzLkxiLGYsdGhpcy5kYSk7Yj1EYXRlLm5vdygpO3JldHVybiBlZChmLHRoaXMubCkudGhlbihkLGMpfTsKWi5wcm90b3R5cGUudmM9ZnVuY3Rpb24oKXtpZih0aGlzLlViKXt2YXIgYT10aGlzLmI7aWYoYT0oYT1hJiZhLmEpJiZhWzBdKXt2YXIgYT1hLmEucmVkdWNlKGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuY29uY2F0KGIudil9LFtdKSxiPWZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hfTtQcm9taXNlLmFsbChhLm1hcChmdW5jdGlvbihhKXthPWEuTTtyZXR1cm4gYS5RYz9hLlJhOmEuY3JlYXRlKCl9KSkudGhlbihmdW5jdGlvbihhKXthPWEuZmlsdGVyKGIpO3RoaXMuTGEoIkluaXRpYWxTZWdtZW50SW5kZXhlcyIsYSl9LmJpbmQodGhpcykpO1Byb21pc2UuYWxsKGEubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLmFhfSkpLnRoZW4oZnVuY3Rpb24oYSl7YT1hLmZpbHRlcihiKTt0aGlzLkxhKCJTZWdtZW50SW5pdFNvdXJjZXMiLGEpfS5iaW5kKHRoaXMpKX19fTsKWi5wcm90b3R5cGUueWM9ZnVuY3Rpb24oYSxiLGMpe2lmKHRoaXMudmlkZW8ucGF1c2VkJiZ0aGlzLkhhKzFFND5EYXRlLm5vdygpJiZ0aGlzLmIpcmV0dXJuIFByb21pc2UucmVqZWN0KHt0eXBlOiJkZWxheSJ9KTt2YXIgZDtpZihiJiZ2b2lkIDAhPWMpZD1uZXcgZmQoYiksZC5mPWMsYj1TZih0aGlzKSxudWxsIT1iJiYoZC5jPWIuc3RyZWFtSW5mb0lELGQuYj10aGlzLnBhKTtlbHNlIGZvcihiPWEuYyxjPTA7YzxiLmxlbmd0aDtjKyspe3ZhciBlPW5ldyBWaWRlb1B1c2hQYXJhbWV0ZXJzSGVscGVyKGJbY10udG9TdHJpbmcoKSk7dGhpcy5tYSYmZS5zZXRVc2VMb25nQ2FjaGVGb3JNYW5pZmVzdCh0aGlzLm1hKTtiW2NdPW5ldyBMKGUuZ2V0VVJMKCkpfWE9bmV3IGRkKGEsdGhpcy5MYixkLHRoaXMuZGEpO3ZhciBmPURhdGUubm93KCk7cmV0dXJuIGVkKGEsdGhpcy5sKS50aGVuKEoodGhpcyxmdW5jdGlvbihhKXt0aGlzLkhhPURhdGUubm93KCk7dGhpcy5MYSgiTVBERmV0Y2hEdXJhdGlvbiIsCih0aGlzLkhhLWYpLzFFMyk7dGhpcy5hLmdldEJvb2woInRyZWF0X2xpdmVfc3RhdGljX21hbmlmZXN0X2FzX2R5bmFtaWMiLCExKSYmKGEubWFuaWZlc3RJc0xpdmVTdHJlYW1pbmc9ImR5bmFtaWMiPT09KHRoaXMuRj90aGlzLkYudHlwZTphLnR5cGUpKTt0aGlzLkY9YTt2YXIgYj1uZXcgeWUodGhpcy5hLHRoaXMudGEsdGhpcy5sLHRoaXMuTWIpO2lmKHRoaXMubCl2YXIgYz10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJwcm9jZXNzX21hbmlmZXN0Iikuc3RhcnQoKTthPXplKGIsYSx0aGlzLlkpO2MmJmMubG9nKCk7cmV0dXJuIFByb21pc2UucmVzb2x2ZShhKX0pKX07Wi5wcm90b3R5cGUueGM9ZnVuY3Rpb24oKXt2YXIgYT16ZShuZXcgeWUodGhpcy5hLHRoaXMudGEpLHRoaXMuRix0aGlzLlkpO3JldHVybiBQcm9taXNlLnJlc29sdmUoYSl9O30uYmluZChnLCBnbG9iYWwpKSgpOwoKbW9kdWxlLmV4cG9ydHMgPSBnLnNoYWthOwoKCi8qICAqL30pLG51bGwpOwovLyMgc291cmNlVVJMPWZiOGIxNmM4YjU3NjdkNTE4ODYwZGFiMjgzMGM1MGYyLmpzCg==, line 416: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript error: data:application/x-javascript;charset=utf-8;base64,aWYgKHNlbGYuQ2F2YWxyeUxvZ2dlcikgeyBDYXZhbHJ5TG9nZ2VyLnN0YXJ0X2pzKFsiKzRzV3kiXSk7IH0KLyoqCiAqIEBwcm92aWRlc01vZHVsZSBTaGFrYQogKiBAcHJlc2VydmUtd2hpdGVzcGFjZQogKiBAbm9wYWNrYWdlCiAqIEBnZW5lcmF0ZWQKICovCl9fZCgiU2hha2EiLFsiUHJvbWlzZSIsIkV2ZW50TGlzdGVuZXIiLCJWaWRlb1BsYXllclNoYWthUGVyZm9ybWFuY2VMb2dnZXIiLCJWaWRlb1B1c2hQYXJhbWV0ZXJzSGVscGVyIiwiVGltZVNsaWNlIiwiVmlkZW9QbGF5ZXJMb2NhbEJhbmR3aWR0aEVzdGltYXRvciIsIlZpZGVvUGxheWVyUmVzb3VyY2VUaW1lciIsIlNoYWthU2VnbWVudFJlZmVyZW5jZUhlbHBlciIsIlNlZ21lbnRSZXF1ZXN0TWFuYWdlciIsImNvbmNhdEFycmF5QnVmZmVyIiwiQnVmZmVyUmVwbGFjZW1lbnRIZWxwZXIiLCJsb2dMb25nQWthbWFpUmVxdWVzdCIsInRocm90dGxlIiwiVmlld3BvcnRQcmlvcml0eUFkanVzdGVyIiwiRmlyc3RMb2FkZWRWaWRlb1ByaW9yaXR5QWRqdXN0ZXIiLCJWaWRlb1ByaW9yaXR5Q2FsY3VsYXRvciIsIlZpZGVvU3RyZWFtaW5nTWFuYWdlciIsIk11bHRpcGxlU2VnbWVudHNQcm92aWRlciIsIkxvY2FsQml0cmF0ZUhlbHBlciIsIlVuaXRDb25zdGFudHMiLCJCdWZmZXJWZWxvY2l0eSIsIlZpZGVvUGxheWVyQml0cmF0ZUVzdGltYXRvciIsIlZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWciLCJnZXRTZWVrUmFuZ2VHYXBzRnJvbVNoYWthUmVmZXJlbmNlcyIsIm1lcmdlU2Vla1JhbmdlR2FwcyIsIk5ldHdvcmtTdGF0dXNEZXRlY3RvciIsIk1vc1V0aWxzIiwiQmFuemFpT0RTIiwiVmlkZW9EYXNoUHJlZmV0Y2hDYWNoZSIsIlZpZGVvQ2xpZW50RWRnZUNvb3BlcmF0aW9uIiwiVmlkZW9TdHJlYW1pbmdUYXNrUXVldWVQcm92aWRlciIsIkJpbmFyeVNlYXJjaCIsIlNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscyIsImdreCIsInNldFRpbWVvdXRBY3Jvc3NUcmFuc2l0aW9ucyIsInNldFRpbWVvdXQiLCJzZXRJbnRlcnZhbEFjcm9zc1RyYW5zaXRpb25zIiwic2V0SW50ZXJ2YWwiLCJzZXRJbW1lZGlhdGVBY3Jvc3NUcmFuc2l0aW9ucyIsInNldEltbWVkaWF0ZSIsImNsZWFyVGltZW91dCIsImNsZWFySW50ZXJ2YWwiLCJjbGVhckltbWVkaWF0ZSIsImRpc3BhdGNoRXZlbnQiLCJFdmVudExpc3RlbmVyIiwiRXZlbnQiLCJleHRyYWN0Q0VBNjA4IiwicGVyZm9ybWFuY2VOb3ciLCJwYXJzZUhlYWRlcnMiLCJjYW5Vc2VGZXRjaFN0cmVhbSIsIlN1YnNjcmlwdGlvbnNIYW5kbGVyIiwiVmlkZW9QdXNoVHJhY2tlciJdLChmdW5jdGlvbiAkbW9kdWxlX1NoYWthKGdsb2JhbCxyZXF1aXJlLHJlcXVpcmVEeW5hbWljLHJlcXVpcmVMYXp5LG1vZHVsZSxleHBvcnRzKXsKCi8vIHJ1biBgYXJjIHJlYnVpbGQgc2hha2EtcGxheWVyYCB0byByZWdlbmVyYXRlIFNoYWthLmpzIGFmdGVyIG1vZGlmeWluZyB0aGlzCi8vIGZpbGUKCnZhciBQcm9taXNlID0gcmVxdWlyZSgnUHJvbWlzZScpOwp2YXIgRXZlbnRMaXN0ZW5lciA9IHJlcXVpcmUoJ0V2ZW50TGlzdGVuZXInKTsKdmFyIFZpZGVvUGxheWVyU2hha2FQZXJmb3JtYW5jZUxvZ2dlciA9IHJlcXVpcmUoJ1ZpZGVvUGxheWVyU2hha2FQZXJmb3JtYW5jZUxvZ2dlcicpOwp2YXIgVmlkZW9QdXNoUGFyYW1ldGVyc0hlbHBlciA9IHJlcXVpcmUoJ1ZpZGVvUHVzaFBhcmFtZXRlcnNIZWxwZXInKTsKdmFyIFRpbWVTbGljZSA9IHJlcXVpcmUoJ1RpbWVTbGljZScpOwp2YXIgVmlkZW9QbGF5ZXJMb2NhbEJhbmR3aWR0aEVzdGltYXRvciA9IHJlcXVpcmUoJ1ZpZGVvUGxheWVyTG9jYWxCYW5kd2lkdGhFc3RpbWF0b3InKTsKdmFyIFZpZGVvUGxheWVyUmVzb3VyY2VUaW1lciA9IHJlcXVpcmUoJ1ZpZGVvUGxheWVyUmVzb3VyY2VUaW1lcicpOwp2YXIgU2hha2FTZWdtZW50UmVmZXJlbmNlSGVscGVyID0gcmVxdWlyZSgnU2hha2FTZWdtZW50UmVmZXJlbmNlSGVscGVyJyk7CnZhciBTZWdtZW50UmVxdWVzdE1hbmFnZXIgPSByZXF1aXJlKCdTZWdtZW50UmVxdWVzdE1hbmFnZXInKTsKdmFyIGNvbmNhdEFycmF5QnVmZmVyID0gcmVxdWlyZSgnY29uY2F0QXJyYXlCdWZmZXInKTsKdmFyIEJ1ZmZlclJlcGxhY2VtZW50SGVscGVyID0gcmVxdWlyZSgnQnVmZmVyUmVwbGFjZW1lbnRIZWxwZXInKTsKdmFyIGxvZ0xvbmdBa2FtYWlSZXF1ZXN0ID0gcmVxdWlyZSgnbG9nTG9uZ0FrYW1haVJlcXVlc3QnKTsKdmFyIHRocm90dGxlID0gcmVxdWlyZSgndGhyb3R0bGUnKTsKdmFyIFZpZXdwb3J0UHJpb3JpdHlBZGp1c3RlciA9IHJlcXVpcmUoJ1ZpZXdwb3J0UHJpb3JpdHlBZGp1c3RlcicpOwp2YXIgRmlyc3RMb2FkZWRWaWRlb1ByaW9yaXR5QWRqdXN0ZXIgPSByZXF1aXJlKCdGaXJzdExvYWRlZFZpZGVvUHJpb3JpdHlBZGp1c3RlcicpOwp2YXIgVmlkZW9Qcmlvcml0eUNhbGN1bGF0b3IgPSByZXF1aXJlKCdWaWRlb1ByaW9yaXR5Q2FsY3VsYXRvcicpOwp2YXIgVmlkZW9TdHJlYW1pbmdNYW5hZ2VyID0gcmVxdWlyZSgnVmlkZW9TdHJlYW1pbmdNYW5hZ2VyJyk7CnZhciBNdWx0aXBsZVNlZ21lbnRzUHJvdmlkZXIgPSByZXF1aXJlKCdNdWx0aXBsZVNlZ21lbnRzUHJvdmlkZXInKTsKdmFyIExvY2FsQml0cmF0ZUhlbHBlciA9IHJlcXVpcmUoJ0xvY2FsQml0cmF0ZUhlbHBlcicpOwp2YXIgVW5pdENvbnN0YW50cyA9IHJlcXVpcmUoJ1VuaXRDb25zdGFudHMnKTsKdmFyIEJ1ZmZlclZlbG9jaXR5ID0gcmVxdWlyZSgnQnVmZmVyVmVsb2NpdHknKTsKdmFyIFZpZGVvUGxheWVyQml0cmF0ZUVzdGltYXRvciA9IHJlcXVpcmUoJ1ZpZGVvUGxheWVyQml0cmF0ZUVzdGltYXRvcicpOwp2YXIgVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZyA9IHJlcXVpcmUoJ1ZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcnKTsKdmFyIGdldFNlZWtSYW5nZUdhcHNGcm9tU2hha2FSZWZlcmVuY2VzID0gcmVxdWlyZSgnZ2V0U2Vla1JhbmdlR2Fwc0Zyb21TaGFrYVJlZmVyZW5jZXMnKTsKdmFyIG1lcmdlU2Vla1JhbmdlR2FwcyA9IHJlcXVpcmUoJ21lcmdlU2Vla1JhbmdlR2FwcycpOwp2YXIgTmV0d29ya1N0YXR1c0RldGVjdG9yID0gcmVxdWlyZSgnTmV0d29ya1N0YXR1c0RldGVjdG9yJyk7CnZhciBNb3NVdGlscyA9IHJlcXVpcmUoJ01vc1V0aWxzJyk7CnZhciBCYW56YWlPRFMgPSByZXF1aXJlKCdCYW56YWlPRFMnKTsKdmFyIFZpZGVvRGFzaFByZWZldGNoQ2FjaGUgPSByZXF1aXJlKCdWaWRlb0Rhc2hQcmVmZXRjaENhY2hlJyk7CnZhciBWaWRlb0NsaWVudEVkZ2VDb29wZXJhdGlvbiA9IHJlcXVpcmUoJ1ZpZGVvQ2xpZW50RWRnZUNvb3BlcmF0aW9uJyk7CnZhciBWaWRlb1N0cmVhbWluZ1Rhc2tRdWV1ZVByb3ZpZGVyID0gcmVxdWlyZSgnVmlkZW9TdHJlYW1pbmdUYXNrUXVldWVQcm92aWRlcicpOwp2YXIgQmluYXJ5U2VhcmNoID0gcmVxdWlyZSgnQmluYXJ5U2VhcmNoJyk7CnZhciBTaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMgPSByZXF1aXJlKCdTaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMnKTsKdmFyIGdreCA9IHJlcXVpcmUoJ2dreCcpOwoKdmFyIHNldFRpbWVvdXQgPSBWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woCiAgICAndGltZW91dHNfcGVyc2lzdF9vbl9wYWdlX3RyYW5zaXRpb24nLAogICAgdHJ1ZQogICkgPwogIHJlcXVpcmUoJ3NldFRpbWVvdXRBY3Jvc3NUcmFuc2l0aW9ucycpIDoKICByZXF1aXJlKCdzZXRUaW1lb3V0Jyk7CnZhciBzZXRJbnRlcnZhbCA9IFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgKICAgICd0aW1lb3V0c19wZXJzaXN0X29uX3BhZ2VfdHJhbnNpdGlvbicsCiAgICB0cnVlCiAgKSA/CiAgcmVxdWlyZSgnc2V0SW50ZXJ2YWxBY3Jvc3NUcmFuc2l0aW9ucycpIDoKICByZXF1aXJlKCdzZXRJbnRlcnZhbCcpOwp2YXIgc2V0SW1tZWRpYXRlID0gVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKAogICAgJ3RpbWVvdXRzX3BlcnNpc3Rfb25fcGFnZV90cmFuc2l0aW9uJywKICAgIHRydWUKICApID8KICByZXF1aXJlKCdzZXRJbW1lZGlhdGVBY3Jvc3NUcmFuc2l0aW9ucycpIDoKICByZXF1aXJlKCdzZXRJbW1lZGlhdGUnKTsKdmFyIGNsZWFyVGltZW91dCA9IHJlcXVpcmUoJ2NsZWFyVGltZW91dCcpOwp2YXIgY2xlYXJJbnRlcnZhbCA9IHJlcXVpcmUoJ2NsZWFySW50ZXJ2YWwnKTsKdmFyIGNsZWFySW1tZWRpYXRlID0gcmVxdWlyZSgnY2xlYXJJbW1lZGlhdGUnKTsKdmFyIGRpc3BhdGNoRG9tRXZlbnQgPSByZXF1aXJlKCdkaXNwYXRjaEV2ZW50Jyk7CnZhciBldmVudExpc3RlbmVyQ2FwdHVyZSA9IHJlcXVpcmUoJ0V2ZW50TGlzdGVuZXInKS5jYXB0dXJlOwp2YXIgZXZlbnRLaWxsID0gcmVxdWlyZSgnRXZlbnQnKS5raWxsOwp2YXIgZXh0cmFjdENFQTYwOCA9IHJlcXVpcmUoJ2V4dHJhY3RDRUE2MDgnKTsKdmFyIHBlcmZvcm1hbmNlTm93ID0gcmVxdWlyZSgncGVyZm9ybWFuY2VOb3cnKTsKdmFyIHBhcnNlSGVhZGVycyA9IHJlcXVpcmUoJ3BhcnNlSGVhZGVycycpOwp2YXIgY2FuVXNlRmV0Y2hTdHJlYW0gPSByZXF1aXJlKCdjYW5Vc2VGZXRjaFN0cmVhbScpOwp2YXIgU3Vic2NyaXB0aW9uc0hhbmRsZXIgPSByZXF1aXJlKCdTdWJzY3JpcHRpb25zSGFuZGxlcicpOwp2YXIgVmlkZW9QdXNoVHJhY2tlciA9IHJlcXVpcmUoJ1ZpZGVvUHVzaFRyYWNrZXInKTsKCmZ1bmN0aW9uIHNldEV2ZW50UHJvcGVydHkob2JqLCBuYW1lLCBoYW5kbGVyKSB7CiAgb2JqW25hbWVdID0gVGltZVNsaWNlLmd1YXJkKGhhbmRsZXIsICdzaGFrYSAnICsgbmFtZSk7Cn07CgppZiAoCiAgVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCdzaGFrYV9uYXRpdmVfcHJvbWlzZScsIGZhbHNlKSAmJgogIFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgndXNlX25hdGl2ZV9wcm9taXNlJywgdHJ1ZSkKKSB7CiAgUHJvbWlzZSA9IHdpbmRvdy5Qcm9taXNlOwp9Cgp2YXIgZyA9IHt9OwoKKGZ1bmN0aW9uKHdpbmRvdyl7dmFyIG4sYWE9dGhpcztmdW5jdGlvbiBxKGEsYil7dmFyIGM9YS5zcGxpdCgiLiIpLGQ9YWE7Y1swXWluIGR8fCFkLmV4ZWNTY3JpcHR8fGQuZXhlY1NjcmlwdCgidmFyICIrY1swXSk7Zm9yKHZhciBlO2MubGVuZ3RoJiYoZT1jLnNoaWZ0KCkpOyljLmxlbmd0aHx8dm9pZCAwPT09Yj9kW2VdP2Q9ZFtlXTpkPWRbZV09e306ZFtlXT1ifWZ1bmN0aW9uIHIoYSxiKXtmdW5jdGlvbiBjKCl7fWMucHJvdG90eXBlPWIucHJvdG90eXBlO2EuUGQ9Yi5wcm90b3R5cGU7YS5wcm90b3R5cGU9bmV3IGM7YS5wcm90b3R5cGUuY29uc3RydWN0b3I9YTthLkxkPWZ1bmN0aW9uKGEsYyxmKXtyZXR1cm4gYi5wcm90b3R5cGVbY10uYXBwbHkoYSxBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMikpfX07LyoKCiBDb3B5cmlnaHQgMjAxNSBHb29nbGUgSW5jLgoKIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoKIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoqLwpmdW5jdGlvbiBiYSgpe307ZnVuY3Rpb24gY2EoYSl7dmFyIGI9Y29uc29sZVthXTtiP2IuYmluZHx8KGNvbnNvbGVbYV09ZnVuY3Rpb24oKXtiLmFwcGx5KGNvbnNvbGUsYXJndW1lbnRzKX0pOmNvbnNvbGVbYV09ZnVuY3Rpb24oKXt9fWNhKCJlcnJvciIpO2NhKCJ3YXJuIik7Y2EoImluZm8iKTtjYSgibG9nIik7Y2EoImRlYnVnIik7dmFyIHU9e3FhOmZ1bmN0aW9uKGEpe3UuSGJbYV09e3FhOnUud2MoKSxlbmQ6TmFOfX0sZW5kOmZ1bmN0aW9uKGEpe2lmKGE9dS5IYlthXSlhLmVuZD11LndjKCl9LE1kOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD11LmdldChhKSxlPXUuZ2V0KGIpO2lmKCFkfHwhZSlyZXR1cm4gTmFOO2QtPWU7Zm9yKGU9MjtlPGFyZ3VtZW50cy5sZW5ndGg7KytlKXt2YXIgZj11LmdldChhcmd1bWVudHNbZV0pO2lmKCFmKXJldHVybiBOYU47ZC09Zn1yZXR1cm4gZH0sZ2V0OmZ1bmN0aW9uKGEpe3JldHVybihhPXUuSGJbYV0pJiZhLmVuZD9hLmVuZC1hLnFhOk5hTn19O3Uud2M9d2luZG93LnBlcmZvcm1hbmNlJiZ3aW5kb3cucGVyZm9ybWFuY2Uubm93P3dpbmRvdy5wZXJmb3JtYW5jZS5ub3cuYmluZCh3aW5kb3cucGVyZm9ybWFuY2UpOkRhdGUubm93O3UuSGI9e307LyoKCiBDb3B5cmlnaHQgMjAwNC1wcmVzZW50IEZhY2Vib29rLiBBbGwgUmlnaHRzIFJlc2VydmVkLgoKKi8KZnVuY3Rpb24gZmEoYSxiLGMsZCxlLGYsZyxoKXt0aGlzLmlkPWE7dGhpcy5iYW5kd2lkdGg9Ynx8MDt0aGlzLmxhbmc9Y3x8InVua25vd24iO3RoaXMuc3RyZWFtSW5mb0lEPWQ7dGhpcy5taW1lVHlwZT1lfHwiIjt0aGlzLmNvZGVjcz1mfHwiIjt0aGlzLmNoYW5uZWxzPWd8fG51bGw7dGhpcy5zYW1wbGluZ1JhdGU9aHx8bnVsbDt0aGlzLmFjdGl2ZT0hMX1xKCJzaGFrYS5wbGF5ZXIuQXVkaW9UcmFjay5jb21wYXJlIixmdW5jdGlvbihhLGIpe3JldHVybiBhLmxhbmc8Yi5sYW5nPy0xOmEubGFuZz5iLmxhbmc/MTphLmJhbmR3aWR0aDxiLmJhbmR3aWR0aD8tMTphLmJhbmR3aWR0aD5iLmJhbmR3aWR0aD8xOjB9KTt2YXIgZ2E9VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoInNoYWthX2RlZmF1bHRfcmVxdWVzdF90aW1lb3V0X3RpbWVzY2FsZSIsMUUzKSxoYT1NYXRoLmZsb29yKFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJzaGFrYV9kZWZhdWx0X2FqYXhfcmVxdWVzdF90aW1lb3V0X21zIiwwKS9nYSksaWE9TWF0aC5mbG9vcihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigic2hha2FfZGVmYXVsdF9hamF4X3JlcXVlc3RfdGltZW91dF9tcyIsMCkvZ2EpLGphPU1hdGguZmxvb3IoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoInNoYWthX2RlZmF1bHRfYWpheF9yZXF1ZXN0X3RpbWVvdXRfbXMiLDApL2dhKTtmdW5jdGlvbiBrYSgpe3RoaXMubWluQmFuZHdpZHRoPXRoaXMubWF4QmFuZHdpZHRoPXRoaXMubWF4V2lkdGg9dGhpcy5taW5IZWlnaHQ9dGhpcy5tYXhIZWlnaHQ9bnVsbH1rYS5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYT1uZXcga2E7YS5tYXhIZWlnaHQ9dGhpcy5tYXhIZWlnaHQ7YS5taW5IZWlnaHQ9dGhpcy5taW5IZWlnaHQ7YS5tYXhXaWR0aD10aGlzLm1heFdpZHRoO2EubWF4QmFuZHdpZHRoPXRoaXMubWF4QmFuZHdpZHRoO2EubWluQmFuZHdpZHRoPXRoaXMubWluQmFuZHdpZHRoO3JldHVybiBhfTtmdW5jdGlvbiBsYSgpe3RoaXMuZm9udFNpemU9IjEwMCUiO3RoaXMuZm9udENvbG9yPW1hO3RoaXMuZm9udE9wYWNpdHk9b2E7dGhpcy5iYWNrZ3JvdW5kQ29sb3I9cGE7dGhpcy5iYWNrZ3JvdW5kT3BhY2l0eT1vYTt0aGlzLmZvbnRFZGdlPXFhfXEoInNoYWthLnBsYXllci5UZXh0U3R5bGUiLGxhKTsKZnVuY3Rpb24gcmEoYSl7dmFyIGI9W107Yi5wdXNoKCJmb250LXNpemU6ICIrYS5mb250U2l6ZSk7Yi5wdXNoKCJjb2xvcjogIitzYShhLmZvbnRDb2xvcixhLmZvbnRPcGFjaXR5KSk7Yi5wdXNoKCJiYWNrZ3JvdW5kLWNvbG9yOiAiK3NhKGEuYmFja2dyb3VuZENvbG9yLGEuYmFja2dyb3VuZE9wYWNpdHkpKTtmb3IodmFyIGM9W10sZD0wO2Q8YS5mb250RWRnZS5sZW5ndGg7KytkKXt2YXIgZT1hLmZvbnRFZGdlW2RdLnNsaWNlKDMsNik7Yy5wdXNoKHNhKGEuZm9udEVkZ2VbZF0uc2xpY2UoMCwzKSxhLmZvbnRPcGFjaXR5KSsiICIrZS5qb2luKCJweCAiKSsicHgiKX1iLnB1c2goInRleHQtc2hhZG93OiAiK2Muam9pbigiLCIpKTtyZXR1cm4gYi5qb2luKCI7ICIpfWZ1bmN0aW9uIHNhKGEsYil7cmV0dXJuInJnYmEoIithLmNvbmNhdChiKS5qb2luKCIsIikrIikifXZhciBtYT1bMjU1LDI1NSwyNTVdLHBhPVswLDAsMF07CmxhLlN0YW5kYXJkQ29sb3JzPXtXSElURTptYSxCTEFDSzpwYSxSRUQ6WzI1NSwwLDBdLEdSRUVOOlswLDI1NSwwXSxCTFVFOlswLDAsMjU1XSxZRUxMT1c6WzI1NSwyNTUsMF0sTUFHRU5UQTpbMjU1LDAsMjU1XSxDWUFOOlswLDI1NSwyNTVdfTt2YXIgb2E9MTtsYS5TdGFuZGFyZE9wYWNpdGllcz17T1BBUVVFOm9hLFNFTUlfSElHSDouNzUsU0VNSV9MT1c6LjI1LFRSQU5TUEFSRU5UOjB9O3ZhciBxYT1bXTsKbGEuRWRnZVN0eWxlcz17Tk9ORTpxYSxSQUlTRUQ6W1szNCwzNCwzNCwxLDEsMF0sWzM0LDM0LDM0LDIsMiwwXSxbMzQsMzQsMzQsMywzLDBdXSxERVBSRVNTRUQ6W1syMDQsMjA0LDIwNCwxLDEsMF0sWzIwNCwyMDQsMjA0LDAsMSwwXSxbMzQsMzQsMzQsLTEsLTEsMF0sWzM0LDM0LDM0LDAsLTEsMF1dLFVOSUZPUk06W1szNCwzNCwzNCwwLDAsNF0sWzM0LDM0LDM0LDAsMCw0XSxbMzQsMzQsMzQsMCwwLDRdLFszNCwzNCwzNCwwLDAsNF1dLERST1A6W1szNCwzNCwzNCwyLDIsM10sWzM0LDM0LDM0LDIsMiw0XSxbMzQsMzQsMzQsMiwyLDVdXX07ZnVuY3Rpb24gdGEoYSxiKXt0aGlzLmlkPWE7dGhpcy5sYW5nPWJ8fCJ1bmtub3duIjt0aGlzLmVuYWJsZWQ9dGhpcy5hY3RpdmU9ITF9cSgic2hha2EucGxheWVyLlRleHRUcmFjay5jb21wYXJlIixmdW5jdGlvbihhLGIpe3JldHVybiBhLmxhbmc8Yi5sYW5nPy0xOmEubGFuZz5iLmxhbmc/MTowfSk7ZnVuY3Rpb24gdWEoYSxiLGMsZCxlLGYsZyxoLGssbCxtLHAsdCl7dGhpcy5pZD1hO3RoaXMuYmFuZHdpZHRoPWJ8fDA7dGhpcy53aWR0aD1jfHwwO3RoaXMuaGVpZ2h0PWR8fDA7dGhpcy5zdHJlYW1JbmZvSUQ9ZTt0aGlzLmZiUXVhbGl0eUxhYmVsPWY7dGhpcy5mYlF1YWxpdHlDbGFzcz1nO2E9W107aCYmKGE9aC5zcGxpdCgiLCIpKTt0aGlzLmZyYW1lUmF0ZT1rfHwiIjt0aGlzLm1pbWVUeXBlPWx8fCIiO3RoaXMuY29kZWNzPW18fCIiO3RoaXMuaXNIVlE9LTE8YS5pbmRleE9mKCJodnEiKTt0aGlzLmlzSW5saW5lSFZRPS0xPGEuaW5kZXhPZigiaHZxX3d3d19pbmxpbmUiKTt0aGlzLmF2b2lkT25Qb29yQ29ubmVjdGlvbj0tMTxhLmluZGV4T2YoImF2b2lkX29uX3Bvb3JfY29ubmVjdGlvbiIpO3RoaXMuYWN0aXZlPSExO3RoaXMucGxheWJhY2tSZXNvbHV0aW9uTW9zPXB8fG51bGw7dGhpcy5wbGF5YmFja1Jlc29sdXRpb25Nb3NDb25maWRlbmNlTGV2ZWw9dHx8bnVsbH0KZnVuY3Rpb24gdmEoYSxiKXt2YXIgYz1hLndpZHRoKmEuaGVpZ2h0LGQ9Yi53aWR0aCpiLmhlaWdodDtyZXR1cm4gYzxkPy0xOmM+ZD8xOmEuYmFuZHdpZHRoPGIuYmFuZHdpZHRoPy0xOmEuYmFuZHdpZHRoPmIuYmFuZHdpZHRoPzE6MH1xKCJzaGFrYS5wbGF5ZXIuVmlkZW9UcmFjay5jb21wYXJlIix2YSk7ZnVuY3Rpb24gd2EoYSl7Zm9yKHZhciBiPXhhLGM9W10sZD0wO2Q8YS5sZW5ndGg7KytkKXtmb3IodmFyIGU9ITEsZj0wO2Y8Yy5sZW5ndGgmJiEoZT1iP2IoYVtkXSxjW2ZdKTphW2RdPT09Y1tmXSk7KytmKTtlfHxjLnB1c2goYVtkXSl9cmV0dXJuIGN9O2Z1bmN0aW9uIHlhKCl7cmV0dXJuIERhdGUubm93KCkremF9dmFyIHphPTA7ZnVuY3Rpb24gQmEoYSl7dGhpcy5iPWE7dGhpcy5jPTA9PUNhO3RoaXMuYT0wfXZhciBDYT0xO2Z1bmN0aW9uIERhKGEpe3JldHVybiBhLmE8YS5iLmJ5dGVMZW5ndGh9ZnVuY3Rpb24gRWEoYSl7dmFyIGI9YS5iLmdldFVpbnQ4KGEuYSk7YS5hKz0xO3JldHVybiBifWZ1bmN0aW9uIHYoYSl7dmFyIGI9YS5iLmdldFVpbnQzMihhLmEsYS5jKTthLmErPTQ7cmV0dXJuIGJ9ZnVuY3Rpb24gRmEoYSl7dmFyIGIsYzthLmM/KGI9YS5iLmdldFVpbnQzMihhLmEsITApLGM9YS5iLmdldFVpbnQzMihhLmErNCwhMCkpOihjPWEuYi5nZXRVaW50MzIoYS5hLCExKSxiPWEuYi5nZXRVaW50MzIoYS5hKzQsITEpKTtpZigyMDk3MTUxPGMpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkRhdGFWaWV3UmVhZGVyOiBPdmVyZmxvdyByZWFkaW5nIDY0LWJpdCB2YWx1ZS4iKTthLmErPTg7cmV0dXJuIGMqTWF0aC5wb3coMiwzMikrYn0KZnVuY3Rpb24gR2EoYSl7aWYoYS5hKzE2PmEuYi5ieXRlTGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKCJEYXRhVmlld1JlYWRlcjogUmVhZCBwYXN0IGVuZCBvZiBEYXRhVmlldy4iKTt2YXIgYj1uZXcgVWludDhBcnJheShhLmIuYnVmZmVyLGEuYSwxNik7YS5hKz0xNjtyZXR1cm4gYn1mdW5jdGlvbiBIYShhLGIpe2lmKGEuYStiPmEuYi5ieXRlTGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKCJEYXRhVmlld1JlYWRlcjogU2tpcCBwYXN0IGVuZCBvZiBEYXRhVmlldy4iKTthLmErPWJ9O2Z1bmN0aW9uIElhKGEpe3RoaXMuYj1hO3RoaXMuYT1uZXcgQmEoYSk7SmF8fChKYT1bbmV3IFVpbnQ4QXJyYXkoWzI1NV0pLG5ldyBVaW50OEFycmF5KFsxMjcsMjU1XSksbmV3IFVpbnQ4QXJyYXkoWzYzLDI1NSwyNTVdKSxuZXcgVWludDhBcnJheShbMzEsMjU1LDI1NSwyNTVdKSxuZXcgVWludDhBcnJheShbMTUsMjU1LDI1NSwyNTUsMjU1XSksbmV3IFVpbnQ4QXJyYXkoWzcsMjU1LDI1NSwyNTUsMjU1LDI1NV0pLG5ldyBVaW50OEFycmF5KFszLDI1NSwyNTUsMjU1LDI1NSwyNTUsMjU1XSksbmV3IFVpbnQ4QXJyYXkoWzEsMjU1LDI1NSwyNTUsMjU1LDI1NSwyNTUsMjU1XSldKX12YXIgSmE7CmZ1bmN0aW9uIEthKGEpe3ZhciBiO2I9TGEoYSk7aWYoNzxiLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiRWJtbFBhcnNlcjogRUJNTCBJRCBtdXN0IGJlIGF0IG1vc3QgNyBieXRlcy4iKTtmb3IodmFyIGM9MCxkPTA7ZDxiLmxlbmd0aDtkKyspYz0yNTYqYytiW2RdO2I9YztjPUxhKGEpO2E6e2ZvcihkPTA7ZDxKYS5sZW5ndGg7ZCsrKWlmKE1hKGMsSmFbZF0pKXtkPSEwO2JyZWFrIGF9ZD0hMX1pZihkKWM9YS5iLmJ5dGVMZW5ndGgtYS5hLmE7ZWxzZXtpZig4PT1jLmxlbmd0aCYmY1sxXSYyMjQpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkVibWxQYXJzZXI6IFZhcmlhYmxlIHNpemVkIGludGVnZXIgdmFsdWUgbXVzdCBiZSBhdCBtb3N0IDUzIGJpdHMuIik7Zm9yKHZhciBkPWNbMF0mKDE8PDgtYy5sZW5ndGgpLTEsZT0xO2U8Yy5sZW5ndGg7ZSsrKWQ9MjU2KmQrY1tlXTtjPWR9Yz1hLmEuYStjPD1hLmIuYnl0ZUxlbmd0aD9jOmEuYi5ieXRlTGVuZ3RoLWEuYS5hO2Q9bmV3IERhdGFWaWV3KGEuYi5idWZmZXIsCmEuYi5ieXRlT2Zmc2V0K2EuYS5hLGMpO0hhKGEuYSxjKTtyZXR1cm4gbmV3IE5hKGIsZCl9ZnVuY3Rpb24gTGEoYSl7dmFyIGI9RWEoYS5hKSxjO2ZvcihjPTE7OD49YyYmIShiJjE8PDgtYyk7YysrKTtpZig4PGMpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkVibWxQYXJzZXI6IFZhcmlhYmxlIHNpemVkIGludGVnZXIgbXVzdCBmaXQgd2l0aGluIDggYnl0ZXMuIik7dmFyIGQ9bmV3IFVpbnQ4QXJyYXkoYyk7ZFswXT1iO2ZvcihiPTE7YjxjO2IrKylkW2JdPUVhKGEuYSk7cmV0dXJuIGR9ZnVuY3Rpb24gTmEoYSxiKXt0aGlzLmlkPWE7dGhpcy5hPWJ9CmZ1bmN0aW9uIE9hKGEpe2lmKDg8YS5hLmJ5dGVMZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkVibWxFbGVtZW50OiBVbnNpZ25lZCBpbnRlZ2VyIGhhcyB0b28gbWFueSBieXRlcy4iKTtpZig4PT1hLmEuYnl0ZUxlbmd0aCYmYS5hLmdldFVpbnQ4KDApJjIyNCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiRWJtbFBhcnNlcjogVW5zaWduZWQgaW50ZWdlciBtdXN0IGJlIGF0IG1vc3QgNTMgYml0cy4iKTtmb3IodmFyIGI9MCxjPTA7YzxhLmEuYnl0ZUxlbmd0aDtjKyspdmFyIGQ9YS5hLmdldFVpbnQ4KGMpLGI9MjU2KmIrZDtyZXR1cm4gYn07dmFyIFBhPXsib3V0cHV0LXJlc3RyaWN0ZWQiOiJUaGUgcmVxdWlyZWQgb3V0cHV0IHByb3RlY3Rpb24gaXMgbm90IGF2YWlsYWJsZS4iLCJvdXRwdXQtbm90LWFsbG93ZWQiOiJUaGUgcmVxdWlyZWQgb3V0cHV0IHByb3RlY3Rpb24gaXMgbm90IGF2YWlsYWJsZS4iLGV4cGlyZWQ6IlRoZSBkZWNyeXB0aW9uIGtleSBoYXMgZXhwaXJlZC4iLCJpbnRlcm5hbC1lcnJvciI6IlRoZSBrZXkgc3lzdGVtIGhhcyBlbmNvdW50ZXJlZCBhbiB1bnNwZWNpZmllZCBlcnJvci4ifTtmdW5jdGlvbiB4KGEpe3RoaXMuYj1NYXRoLmV4cChNYXRoLmxvZyguNSkvYSk7dGhpcy55Yj10aGlzLiRhPXRoaXMuYT0wfXEoInNoYWthLnV0aWwuRVdNQSIseCk7eC5wcm90b3R5cGUuc2FtcGxlPWZ1bmN0aW9uKGEsYil7dmFyIGM9TWF0aC5wb3codGhpcy5iLGEpO3RoaXMuYT1iKigxLWMpK2MqdGhpcy5hO3RoaXMuJGErPWE7dGhpcy55Yis9MX07eC5wcm90b3R5cGUuc2FtcGxlPXgucHJvdG90eXBlLnNhbXBsZTt4LnByb3RvdHlwZS5jPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGF9O3gucHJvdG90eXBlLmdldFRvdGFsV2VpZ2h0PXgucHJvdG90eXBlLmM7eC5wcm90b3R5cGUuZ2V0RXN0aW1hdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLygxLU1hdGgucG93KHRoaXMuYix0aGlzLiRhKSl9O3gucHJvdG90eXBlLmdldEVzdGltYXRlPXgucHJvdG90eXBlLmdldEVzdGltYXRlO3gucHJvdG90eXBlLmY9ZnVuY3Rpb24oKXt0aGlzLnliPXRoaXMuJGE9dGhpcy5hPTB9Owp4LnByb3RvdHlwZS5yZXNldD14LnByb3RvdHlwZS5mO3ZhciBRYT13aW5kb3cuQ3VzdG9tRXZlbnQ7ImZ1bmN0aW9uIiE9PXR5cGVvZiBRYSYmKFFhPWZ1bmN0aW9uKGEsYil7Yj1ifHx7YnViYmxlczohMSxjYW5jZWxhYmxlOiExLGRldGFpbDp2b2lkIDB9O3ZhciBjPWRvY3VtZW50LmNyZWF0ZUV2ZW50KCJDdXN0b21FdmVudCIpO2MuaW5pdEN1c3RvbUV2ZW50KGEsYi5idWJibGVzLGIuY2FuY2VsYWJsZSxiLmRldGFpbCk7cmV0dXJuIGN9LFFhLnByb3RvdHlwZT13aW5kb3cuRXZlbnQucHJvdG90eXBlKTtmdW5jdGlvbiB5KGEpe3ZhciBiPW5ldyBRYShhLnR5cGUse2RldGFpbDphLmRldGFpbCxidWJibGVzOiEhYS5idWJibGVzfSksYztmb3IoYyBpbiBhKWMgaW4gYnx8KGJbY109YVtjXSk7cmV0dXJuIGJ9ZnVuY3Rpb24gQShhKXtyZXR1cm4gbmV3IFFhKCJlcnJvciIse2RldGFpbDphLGJ1YmJsZXM6ITB9KX07ZnVuY3Rpb24gUmEoYSxiLGMpe1NhKGIpO1NhKGMpO3JldHVybiBjPT1ifHxhPj1UYSYmYz09Yi5zcGxpdCgiLSIpWzBdfHxhPj1VYSYmYy5zcGxpdCgiLSIpWzBdPT1iLnNwbGl0KCItIilbMF0/ITA6ITF9dmFyIFRhPTEsVWE9MjtmdW5jdGlvbiBTYShhKXthPWEudG9Mb3dlckNhc2UoKS5zcGxpdCgiLSIpO3ZhciBiPVZhW2FbMF1dO2ImJihhWzBdPWIpO3JldHVybiBhLmpvaW4oIi0iKX0KdmFyIFZhPXthYXI6ImFhIixhYms6ImFiIixhZnI6ImFmIixha2E6ImFrIixhbGI6InNxIixhbWg6ImFtIixhcmE6ImFyIixhcmc6ImFuIixhcm06Imh5Iixhc206ImFzIixhdmE6ImF2IixhdmU6ImFlIixheW06ImF5IixhemU6ImF6IixiYWs6ImJhIixiYW06ImJtIixiYXE6ImV1IixiZWw6ImJlIixiZW46ImJuIixiaWg6ImJoIixiaXM6ImJpIixib2Q6ImJvIixib3M6ImJzIixicmU6ImJyIixidWw6ImJnIixidXI6Im15IixjYXQ6ImNhIixjZXM6ImNzIixjaGE6ImNoIixjaGU6ImNlIixjaGk6InpoIixjaHU6ImN1IixjaHY6ImN2Iixjb3I6Imt3Iixjb3M6ImNvIixjcmU6ImNyIixjeW06ImN5IixjemU6ImNzIixkYW46ImRhIixkZXU6ImRlIixkaXY6ImR2IixkdXQ6Im5sIixkem86ImR6IixlbGw6ImVsIixlbmc6ImVuIixlcG86ImVvIixlc3Q6ImV0IixldXM6ImV1Iixld2U6ImVlIixmYW86ImZvIixmYXM6ImZhIixmaWo6ImZqIixmaW46ImZpIixmcmE6ImZyIixmcmU6ImZyIiwKZnJ5OiJmeSIsZnVsOiJmZiIsZ2VvOiJrYSIsZ2VyOiJkZSIsZ2xhOiJnZCIsZ2xlOiJnYSIsZ2xnOiJnbCIsZ2x2OiJndiIsZ3JlOiJlbCIsZ3JuOiJnbiIsZ3VqOiJndSIsaGF0OiJodCIsaGF1OiJoYSIsaGViOiJoZSIsaGVyOiJoeiIsaGluOiJoaSIsaG1vOiJobyIsaHJ2OiJociIsaHVuOiJodSIsaHllOiJoeSIsaWJvOiJpZyIsaWNlOiJpcyIsaWRvOiJpbyIsaWlpOiJpaSIsaWt1OiJpdSIsaWxlOiJpZSIsaW5hOiJpYSIsaW5kOiJpZCIsaXBrOiJpayIsaXNsOiJpcyIsaXRhOiJpdCIsamF2OiJqdiIsanBuOiJqYSIsa2FsOiJrbCIsa2FuOiJrbiIsa2FzOiJrcyIsa2F0OiJrYSIsa2F1OiJrciIsa2F6OiJrayIsa2htOiJrbSIsa2lrOiJraSIsa2luOiJydyIsa2lyOiJreSIsa29tOiJrdiIsa29uOiJrZyIsa29yOiJrbyIsa3VhOiJraiIsa3VyOiJrdSIsbGFvOiJsbyIsbGF0OiJsYSIsbGF2OiJsdiIsbGltOiJsaSIsbGluOiJsbiIsbGl0OiJsdCIsbHR6OiJsYiIsbHViOiJsdSIsCmx1ZzoibGciLG1hYzoibWsiLG1haDoibWgiLG1hbDoibWwiLG1hbzoibWkiLG1hcjoibXIiLG1heToibXMiLG1rZDoibWsiLG1sZzoibWciLG1sdDoibXQiLG1vbjoibW4iLG1yaToibWkiLG1zYToibXMiLG15YToibXkiLG5hdToibmEiLG5hdjoibnYiLG5ibDoibnIiLG5kZToibmQiLG5kbzoibmciLG5lcDoibmUiLG5sZDoibmwiLG5ubzoibm4iLG5vYjoibmIiLG5vcjoibm8iLG55YToibnkiLG9jaToib2MiLG9qaToib2oiLG9yaToib3IiLG9ybToib20iLG9zczoib3MiLHBhbjoicGEiLHBlcjoiZmEiLHBsaToicGkiLHBvbDoicGwiLHBvcjoicHQiLHB1czoicHMiLHF1ZToicXUiLHJvaDoicm0iLHJvbjoicm8iLHJ1bToicm8iLHJ1bjoicm4iLHJ1czoicnUiLHNhZzoic2ciLHNhbjoic2EiLHNpbjoic2kiLHNsazoic2siLHNsbzoic2siLHNsdjoic2wiLHNtZToic2UiLHNtbzoic20iLHNuYToic24iLHNuZDoic2QiLHNvbToic28iLHNvdDoic3QiLHNwYToiZXMiLHNxaToic3EiLApzcmQ6InNjIixzcnA6InNyIixzc3c6InNzIixzdW46InN1Iixzd2E6InN3Iixzd2U6InN2Iix0YWg6InR5Iix0YW06InRhIix0YXQ6InR0Iix0ZWw6InRlIix0Z2s6InRnIix0Z2w6InRsIix0aGE6InRoIix0aWI6ImJvIix0aXI6InRpIix0b246InRvIix0c246InRuIix0c286InRzIix0dWs6InRrIix0dXI6InRyIix0d2k6InR3Iix1aWc6InVnIix1a3I6InVrIix1cmQ6InVyIix1emI6InV6Iix2ZW46InZlIix2aWU6InZpIix2b2w6InZvIix3ZWw6ImN5Iix3bG46IndhIix3b2w6IndvIix4aG86InhoIix5aWQ6InlpIix5b3I6InlvIix6aGE6InphIix6aG86InpoIix6dWw6Inp1In07ZnVuY3Rpb24gV2EoYSl7cmV0dXJuIE9iamVjdC5rZXlzKGEpLm1hcChmdW5jdGlvbihiKXtyZXR1cm4gYVtiXX0pfWZ1bmN0aW9uIEIoYSxiKXtyZXR1cm4gWGEoYSxiLCJib29sZWFuIil9ZnVuY3Rpb24gQyhhLGIsYyl7YT1YYShhLGIsIm51bWJlciIpO2lmKG51bGw9PWEpcmV0dXJuIG51bGw7aWYoaXNOYU4oYSl8fGE9PU51bWJlci5ORUdBVElWRV9JTkZJTklUWXx8YT09TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZKXRocm93IG5ldyBSYW5nZUVycm9yKCInIitiKyInIG11c3QgYmUgZmluaXRlLiIpO2lmKG51bGwhPWMmJmE8Yyl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiJyIrYisiJyBtdXN0IGJlID49ICIrYyk7cmV0dXJuIGF9ZnVuY3Rpb24gWWEoYSxiKXtyZXR1cm4gWGEoYSxiLCJzdHJpbmciKX0KZnVuY3Rpb24gWGEoYSxiLGMpe2E9YVtiXTtpZihudWxsPT1hKXJldHVybiBudWxsO2lmKHR5cGVvZiBhIT09Yyl0aHJvdyBuZXcgVHlwZUVycm9yKCInIitiKyInIG11c3QgYmUgYSAiK2MrIi4iKTtyZXR1cm4gYX1mdW5jdGlvbiBaYShhLGIsYyl7YT1hW2JdO2lmKG51bGw9PWEpcmV0dXJuIG51bGw7aWYoIShhIGluc3RhbmNlb2YgYykpdGhyb3cgbmV3IFR5cGVFcnJvcigiJyIrYisiJyBtdXN0IGJlIGFuIGluc3RhbmNlIG9mICIrYy5uYW1lKyIuIik7cmV0dXJuIGF9O2Z1bmN0aW9uIEQoKXt0aGlzLmE9e319RC5wcm90b3R5cGUucHVzaD1mdW5jdGlvbihhLGIpe3RoaXMuYS5oYXNPd25Qcm9wZXJ0eShhKT90aGlzLmFbYV0ucHVzaChiKTp0aGlzLmFbYV09W2JdfTtELnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24oYSxiKXt0aGlzLmFbYV09Yn07RC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGEpe3JldHVybihhPXRoaXMuYVthXSk/YS5zbGljZSgpOm51bGx9O2Z1bmN0aW9uICRhKGEpe3ZhciBiPVtdLGM7Zm9yKGMgaW4gYS5hKWIucHVzaC5hcHBseShiLGEuYVtjXSk7cmV0dXJuIGJ9RC5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5hW2FdO2lmKGMpZm9yKHZhciBkPTA7ZDxjLmxlbmd0aDsrK2QpY1tkXT09YiYmKGMuc3BsaWNlKGQsMSksLS1kKX07ZnVuY3Rpb24gYWIoYSl7dmFyIGI9W10sYztmb3IoYyBpbiBhLmEpYi5wdXNoKGMpO3JldHVybiBifTtmdW5jdGlvbiBiYigpe3RoaXMuYT1uZXcgRH1iYi5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe2RiKHRoaXMpO3RoaXMuYT1udWxsfTtmdW5jdGlvbiBFKGEsYixjLGQpe2I9bmV3IGViKGIsYyxkKTthLmEucHVzaChjLGIpfWJiLnByb3RvdHlwZS5hYj1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz10aGlzLmEuZ2V0KGIpfHxbXSxkPTA7ZDxjLmxlbmd0aDsrK2Qpe3ZhciBlPWNbZF07ZS50YXJnZXQ9PWEmJihlLmFiKCksdGhpcy5hLnJlbW92ZShiLGUpKX19O2Z1bmN0aW9uIGRiKGEpe2Zvcih2YXIgYj0kYShhLmEpLGM9MDtjPGIubGVuZ3RoOysrYyliW2NdLmFiKCk7YS5hLmE9e319ZnVuY3Rpb24gZWIoYSxiLGMpe3RoaXMudGFyZ2V0PWE7dGhpcy50eXBlPWI7dGhpcy5hPWM7dGhpcy50YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihiLGMsITEpfQplYi5wcm90b3R5cGUuYWI9ZnVuY3Rpb24oKXt0aGlzLnRhcmdldCYmKHRoaXMudGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIodGhpcy50eXBlLHRoaXMuYSwhMSksdGhpcy5hPXRoaXMudGFyZ2V0PW51bGwpfTtmdW5jdGlvbiBGKGEpe3RoaXMuRWI9bmV3IEQ7dGhpcy5KYT1hfXEoInNoYWthLnV0aWwuRmFrZUV2ZW50VGFyZ2V0IixGKTtuPUYucHJvdG90eXBlO24uYWRkRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbihhLGIpe3RoaXMuRWIucHVzaChhLGIpfTtuLnJlbW92ZUV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24oYSxiKXt0aGlzLkViLnJlbW92ZShhLGIpfTsKbi5kaXNwYXRjaEV2ZW50PWZ1bmN0aW9uKGEpe2EuaGFzT3duUHJvcGVydHkoInNyY0VsZW1lbnQiKXx8KGRlbGV0ZSBhLnNyY0VsZW1lbnQsT2JqZWN0LmRlZmluZVByb3BlcnR5KGEsInNyY0VsZW1lbnQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH19KSk7aWYoYS5oYXNPd25Qcm9wZXJ0eSgidGFyZ2V0IikpYS50YXJnZXQ9dGhpcztlbHNle2RlbGV0ZSBhLnRhcmdldDt2YXIgYj10aGlzO09iamVjdC5kZWZpbmVQcm9wZXJ0eShhLCJ0YXJnZXQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYn0sc2V0OmZ1bmN0aW9uKGEpe2I9YX19KX1pZihhLmhhc093blByb3BlcnR5KCJjdXJyZW50VGFyZ2V0IikpYS5jdXJyZW50VGFyZ2V0PW51bGw7ZWxzZXtkZWxldGUgYS5jdXJyZW50VGFyZ2V0O3ZhciBjPW51bGw7T2JqZWN0LmRlZmluZVByb3BlcnR5KGEsImN1cnJlbnRUYXJnZXQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY30sc2V0OmZ1bmN0aW9uKGEpe2M9YX19KX1yZXR1cm4gZmIodGhpcywKYSl9O24ub2M9ITE7bi5MYT1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmRpc3BhdGNoRXZlbnQoeSh7dHlwZToiZGVidWcvZGFzaFBsYXllckV2ZW50IixidWJibGVzOiEwLGRldGFpbDp7dHlwZTphLGV2ZW50OmJ9fSkpfTtmdW5jdGlvbiBmYihhLGIpe2IuY3VycmVudFRhcmdldD1hO2Zvcih2YXIgYz1hLkViLmdldChiLnR5cGUpfHxbXSxkPTA7ZDxjLmxlbmd0aDsrK2Qpe3ZhciBlPWNbZF07dHJ5e2UuaGFuZGxlRXZlbnQ/ZS5oYW5kbGVFdmVudChiKTplLmNhbGwoYSxiKX1jYXRjaChmKXt9fWEuSmEmJmIuYnViYmxlcyYmZmIoYS5KYSxiKTtyZXR1cm4gYi5kZWZhdWx0UHJldmVudGVkfTtmdW5jdGlvbiBHKGEpe0YuY2FsbCh0aGlzLG51bGwpO3RoaXMuYT17b2I6e1ZhOm5ldyB4KFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJmYXN0X21vdmluZ19hdmVyYWdlX2hhbGZfbGlmZSIsMykpLHhiOm5ldyB4KFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJzbG93X21vdmluZ19hdmVyYWdlX2hhbGZfbGlmZSIsMTApKX0sY2I6e1ZhOm5ldyB4KFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJhZ2dyZXNzaXZlX2Zhc3RfbW92aW5nX2F2ZXJhZ2VfaGFsZl9saWZlIiwxRS00KSkseGI6bmV3IHgoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoImFnZ3Jlc3NpdmVfc2xvd19tb3ZpbmdfYXZlcmFnZV9oYWxmX2xpZmUiLDkuMjMzNTA4NzkxNzc0NSkpfX07dGhpcy5oPWF8fDVFNTt0aGlzLmo9VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoIm1pbl9zYW1wbGVfY291bnQiLAoxRTQpO3RoaXMuYj0wO3RoaXMuYz1bXTt0aGlzLmk9VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoIm1heF9yZWNlbnRfYmFuZHdpZHRoX3NhbXBsZXMiLDApfXIoRyxGKTtxKCJzaGFrYS51dGlsLkVXTUFCYW5kd2lkdGhFc3RpbWF0b3IiLEcpO0cucHJvdG90eXBlLnNob3VsZEV4Y2x1ZGVTYW1wbGU9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJjaGFuZ2VfYWJyX2F1ZGlvX2V4Y2x1c2lvbl9sb2dpYyIsITApPyFiOjY1NTM2PmF9OwpHLnByb3RvdHlwZS5zYW1wbGU9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyl7aWYodGhpcy5zaG91bGRFeGNsdWRlU2FtcGxlKGIsYykpZSYmZS5zZXRFdmVudCgidW5zYW1wbGVkIikuc2V0UmVhc29uKCJhdWRpbyIpLmxvZygpO2Vsc2V7aWYoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJ1c2VfcmVzb3VyY2VfdGltaW5nX2VudHJ5X2Zvcl9iYW5kd2lkdGgiLCEwKSl7aWYoIWQpe2UmJmUuc2V0RXZlbnQoInVuc2FtcGxlZCIpLnNldFJlYXNvbigicmVzb3VyY2VfdGltaW5nX2VudHJ5X21pc3NpbmciKS5sb2coKTtyZXR1cm59YT1kLnRpbWVUb0xhc3RCeXRlO2lmKDA+YSl7ZSYmZS5zZXRFdmVudCgidW5zYW1wbGVkIikuc2V0UmVhc29uKCJyZXNvdXJjZV90aW1pbmdfZW50cnlfaW52YWxpZCIpLmxvZygpO3JldHVybn19YT1NYXRoLm1heChhLDUwKTtjPTFFMypVbml0Q29uc3RhbnRzLkJJVFNfSU5fQllURSpiL2E7dmFyIGg9YS8xRTM7dGhpcy5hLmNiLlZhLnNhbXBsZShoLApjLGQpO3RoaXMuYS5jYi54Yi5zYW1wbGUoaCxjLGQpO3RoaXMuYS5vYi5WYS5zYW1wbGUoaCxjLGQpO3RoaXMuYS5vYi54Yi5zYW1wbGUoaCxjLGQpO2d8fHRoaXMuZGlzcGF0Y2hFdmVudCh5KHt0eXBlOiJiYW5kd2lkdGgifSkpO3RoaXMuYj1EYXRlLm5vdygpO2Q9cGFyc2VJbnQoYSwxMCk7aWYoMDx0aGlzLmkpZm9yKHRoaXMuYy5wdXNoKFtiLGRdKTt0aGlzLmMubGVuZ3RoPnRoaXMuaTspdGhpcy5jLnNoaWZ0KCk7ZSYmZS5zZXRFdmVudCgic2FtcGxlZCIpLnNldEJ5dGVzKGIpLnNldERlbGF5TXMoZCkubG9nKCk7ZiYmZi5nZXRFdmVudExvZ2dlcigiYmFuZHdpZHRoX3NhbXBsZWQiKS5zZXRMZW5ndGgoYikuc2V0Q2xpZW50VGltZUJlZ2luKHRoaXMuYi1kKS5zZXRDbGllbnRUaW1lRW5kKHRoaXMuYikubG9nKCl9fTsKRy5wcm90b3R5cGUuZ2V0QmFuZHdpZHRoPWZ1bmN0aW9uKGEpe2E9ImFnZ3Jlc3NpdmUiPT09YT90aGlzLmEuY2I6dGhpcy5hLm9iO3JldHVybiB0aGlzLmNhblRydXN0RXN0aW1hdGUoKT9NYXRoLm1pbihhLlZhLmdldEVzdGltYXRlKCksYS54Yi5nZXRFc3RpbWF0ZSgpKTp0aGlzLmh9O0cucHJvdG90eXBlLmdldEZhc3RNb3ZpbmdCYW5kd2lkdGg9ZnVuY3Rpb24oYSl7YT0iYWdncmVzc2l2ZSI9PT1hP3RoaXMuYS5jYjp0aGlzLmEub2I7cmV0dXJuIHRoaXMuY2FuVHJ1c3RFc3RpbWF0ZSgpP2EuVmEuZ2V0RXN0aW1hdGUoKTp0aGlzLmh9O0cucHJvdG90eXBlLmdldERhdGFBZ2U9ZnVuY3Rpb24oKXtyZXR1cm4oRGF0ZS5ub3coKS10aGlzLmIpLzFFM307Ry5wcm90b3R5cGUuY2FuVHJ1c3RFc3RpbWF0ZT1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmEuY2IuVmE7cmV0dXJuIGIuJGE+PSh2b2lkIDA9PT1hPy41OmEpfHxiLnliPj10aGlzLmp9OwpHLnByb3RvdHlwZS5zdXBwb3J0c0NhY2hpbmc9ZnVuY3Rpb24oKXtyZXR1cm4hMX07Ry5wcm90b3R5cGUuc2V0UmVwcmVzZW50YXRpb25JRD1mdW5jdGlvbigpe307Ry5wcm90b3R5cGUuZmx1c2hBQlJFdmFsdWF0aW9uU2V0PWZ1bmN0aW9uKCl7cmV0dXJuW119O0cucHJvdG90eXBlLmdldFJlY2VudFNhbXBsZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jfTsvKgoKIENvcHlyaWdodCAyMDE1IEZhY2Vib29rIEluYy4KCiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoKICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KKi8KZnVuY3Rpb24gZ2IoYSxiLGMsZCl7Ry5jYWxsKHRoaXMsZCk7dGhpcy5nPWF8fDA7dGhpcy5mPXZvaWQgMD09PWI/SW5maW5pdHk6Yjt0aGlzLm09Y31yKGdiLEcpO3EoInNoYWthLnV0aWwuRVdNQUNhY2hlQmFuZHdpZHRoRXN0aW1hdG9yIixnYik7CmdiLnByb3RvdHlwZS5zYW1wbGU9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxoKXt2YXIgaz04RTMqYi9hO2UmJmUuc2V0Qnl0ZXMoYikuc2V0RGVsYXlNcyhwYXJzZUludChhLDEwKSk7YTw9dGhpcy5nJiZrPnRoaXMuZiYmIWg/KGUmJmUuc2V0RXZlbnQoInVuc2FtcGxlZCIpLnNldFJlYXNvbigiY2FjaGVkIikubG9nKCksZiYmIXRoaXMuc2hvdWxkRXhjbHVkZVNhbXBsZShiLGMpJiZmLmdldEV2ZW50TG9nZ2VyKCJiYW5kd2lkdGhfc2FtcGxlZCIpLnNldFJlc3VsdCgiYWJvcnRlZCIpLnNldExlbmd0aChiKS5zZXRDbGllbnRUaW1lQmVnaW4oRGF0ZS5ub3coKS1wYXJzZUludChhLDEwKSkuc2V0Q2xpZW50VGltZUVuZChEYXRlLm5vdygpKS5sb2coKSx0aGlzLm0oKSk6Ry5wcm90b3R5cGUuc2FtcGxlLmNhbGwodGhpcyxhLGIsYyxkLGUsZixnKX07Z2IucHJvdG90eXBlLnN1cHBvcnRzQ2FjaGluZz1mdW5jdGlvbigpe3JldHVybiBJbmZpbml0eSE9PXRoaXMuZiYmISF0aGlzLmd9OwpnYi5wcm90b3R5cGUuc2V0UmVwcmVzZW50YXRpb25JRD1mdW5jdGlvbigpe307Z2IucHJvdG90eXBlLmZsdXNoQUJSRXZhbHVhdGlvblNldD1mdW5jdGlvbigpe3JldHVybltdfTtmdW5jdGlvbiBoYigpe0cuY2FsbCh0aGlzKX1yKGhiLEcpO3EoInNoYWthLnV0aWwuRVdNQVNpZ25lZFVSTEJhbmR3aWR0aEVzdGltYXRvciIsaGIpO2hiLnByb3RvdHlwZS5zdXBwb3J0c0NhY2hpbmc9ZnVuY3Rpb24oKXtyZXR1cm4hMH07ZnVuY3Rpb24gSSgpe3ZhciBhLGIsYz1uZXcgUHJvbWlzZShmdW5jdGlvbihjLGUpe2E9YztiPWV9KTtjLnJlc29sdmU9YTtjLnJlamVjdD1iO2MuZGVzdHJveT1JLnByb3RvdHlwZS5kZXN0cm95O3JldHVybiBjfUkucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmNhdGNoKGZ1bmN0aW9uKCl7fSk7dmFyIGE9RXJyb3IoIkRlc3Ryb3llZCEiKTthLnR5cGU9ImRlc3Ryb3kiO3RoaXMucmVqZWN0KGEpfTtmdW5jdGlvbiBpYihhKXthLnNwbGl0KCIiKS5yZWR1Y2UoZnVuY3Rpb24oYSxjLGQpe3JldHVybiBhKyhkJiYwPT1kJTQ/IiAiK2M6Yyl9KX07ZnVuY3Rpb24gamIoKXt0aGlzLmxiPW5ldyBJO3RoaXMuYz0hMTt0aGlzLkFhPW51bGw7dGhpcy5hPVtdO3RoaXMuYj1udWxsfWZ1bmN0aW9uIGtiKGEsYil7aWYoYS5jKXRocm93IEVycm9yKCJDYW5ub3QgYXBwZW5kIHRvIGEgcnVubmluZyB0YXNrISIpO2EuYS5wdXNoKGIpfWpiLnByb3RvdHlwZS5zdGFydD1mdW5jdGlvbigpe2lmKHRoaXMuYyl0aHJvdyBFcnJvcigiVGFzayBhbHJlYWR5IHN0YXJ0ZWQhIik7dGhpcy5jPSEwO3RoaXMuYS51bnNoaWZ0KGZ1bmN0aW9uKCl7fSk7bGIodGhpcyx2b2lkIDApfTtqYi5wcm90b3R5cGUuYWJvcnQ9ZnVuY3Rpb24oKXtpZih0aGlzLkFhKXJldHVybiB0aGlzLkFhO2lmKCF0aGlzLmMpcmV0dXJuIHRoaXMuYz0hMCxQcm9taXNlLnJlc29sdmUoKTt0aGlzLmImJih0aGlzLmY9dGhpcy5iKCkpO3JldHVybiB0aGlzLkFhPW5ldyBJfTtqYi5wcm90b3R5cGUuZW5kPWZ1bmN0aW9uKCl7dGhpcy5hLnNwbGljZSgxKX07CmZ1bmN0aW9uIGxiKGEsYil7dmFyIGM9YS5hWzBdKGIpLGQ7Yz8oZD1jWzBdLGEuYj1jWzFdKTooZD1Qcm9taXNlLnJlc29sdmUoKSxhLmI9bnVsbCk7ZC50aGVuKEooYSxmdW5jdGlvbihhKXt0aGlzLkFhPyh0aGlzLmE9W10sdGhpcy5iPW51bGwsbWIodGhpcykpOih0aGlzLmEuc2hpZnQoKSx0aGlzLmEubGVuZ3RoP2xiKHRoaXMsYSk6KHRoaXMubGIucmVzb2x2ZShhKSx0aGlzLmI9bnVsbCkpfSkpLmNhdGNoKEooYSxmdW5jdGlvbihhKXt0aGlzLmE9W107dGhpcy5iPW51bGw7dGhpcy5BYT9tYih0aGlzKTp0aGlzLmxiLnJlamVjdChhKX0pKX0KZnVuY3Rpb24gbWIoYSl7ZnVuY3Rpb24gYigpe3ZhciBhPUVycm9yKCJUYXNrIGFib3J0ZWQuIik7YS50eXBlPSJhYm9ydGVkIjt0aGlzLmxiLnJlamVjdChhKTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhpcy5BYS5yZXNvbHZlKCk7dGhpcy5BYT1udWxsfS5iaW5kKHRoaXMpLDUpfWEuZj9hLmYudGhlbihmdW5jdGlvbigpe3RoaXMuZj1udWxsO2IuY2FsbCh0aGlzKX0uYmluZChhKSk6Yi5jYWxsKGEpfTtmdW5jdGlvbiBKKGEsYil7cmV0dXJuIGIuYmluZChhKX07ZnVuY3Rpb24gbmIoYSxiLGMsZCxlLGYsZyl7TWVkaWFTb3VyY2UuaXNUeXBlU3VwcG9ydGVkKGMpO0YuY2FsbCh0aGlzLGUpO2U9Yi5hZGRTb3VyY2VCdWZmZXIoYyk7dGhpcy5oPWE7dGhpcy5BPWI7dGhpcy5hPWU7dGhpcy5KPWQ7dGhpcy5CPW5ldyBiYjt0aGlzLkk9dGhpcy5sPXRoaXMuWT10aGlzLmk9bnVsbDt0aGlzLlI9ITE7dGhpcy5QPXRoaXMuSz10aGlzLk89MDt0aGlzLkc9bnVsbDt0aGlzLlY9dGhpcy5GPSExO3RoaXMuWj1mO3RoaXMuRD1udWxsO3RoaXMuJD1nP2c6bnVsbDt0aGlzLmI9W107dGhpcy5VPTA7dGhpcy5tPXRoaXMuYz10aGlzLmY9bnVsbDt0aGlzLlQ9amE7dGhpcy5vPXRoaXMudT0wO3RoaXMudz10aGlzLlM9ITE7dGhpcy5nPWMmJmMuY2hhckF0KDApO0UodGhpcy5CLHRoaXMuYSwidXBkYXRlZW5kIix0aGlzLm5kLmJpbmQodGhpcykpO3RoaXMuaC5nZXRCb29sKCJsaXN0ZW5fZm9yX2FzeW5jX2FwcGVuZF9idWZmZXJfZXJyb3JzIiwhMCkmJkUodGhpcy5CLAp0aGlzLmEsImVycm9yIix0aGlzLmFkLmJpbmQodGhpcykpO3RoaXMuaj1udWxsfXIobmIsRik7bmIucHJvdG90eXBlLkJhPWZ1bmN0aW9uKCl7cmV0dXJue1NvdXJjZUJ1ZmZlcjp0aGlzLmF9fTtmdW5jdGlvbiBvYihhLGIsYyl7YS5vYyYmYS5MYShiLHt0eXBlOmEuZy5jaGFyQXQoMCksc2VnbWVudDpjLHNvdXJjZUJ1ZmZlcjphLmF9KX12YXIgcGI9MS82MDtuYi5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuYWJvcnQoKS5jYXRjaChmdW5jdGlvbigpe30pO3RoaXMuYyYmdGhpcy5jLmRlc3Ryb3koKTt0aGlzLmI9dGhpcy5mPXRoaXMuYz1udWxsO3RoaXMuQi5kZXN0cm95KCk7dGhpcy5BPXRoaXMuYT10aGlzLkQ9dGhpcy5CPW51bGx9O2Z1bmN0aW9uIHFiKGEpe3ZhciBiPWEuYi5sZW5ndGg7cmV0dXJuIDA8Yj9hLmJbYi0xXTpudWxsfQpmdW5jdGlvbiByYihhLGIpe2Zvcih2YXIgYz1hLmEuYnVmZmVyZWQsZD0wO2Q8Yy5sZW5ndGg7KytkKXt2YXIgZT1jLnN0YXJ0KGQpLXBiLGY9Yy5lbmQoZCkrcGI7aWYoYj49ZSYmYjw9ZilyZXR1cm4gYy5lbmQoZCktYn1yZXR1cm4gMH1mdW5jdGlvbiBzYihhLGIsYyl7dmFyIGQ9Yi5lbmRUaW1lP2IuZW5kVGltZS1iLnN0YXJ0VGltZToxLGU9bmV3IHRiO2UuTmE9MztlLmM9MUUzKmQ7ZS5iPTFFMyphLlQ7ZS51PWEuWTtlLmo9YztlLmRhPWEuWjtlLm1pbWVUeXBlPWEuZztlLmg9YS4kO2Uubz1iLmlzUHJlZGljdGl2ZTtyZXR1cm4gZX1uPW5iLnByb3RvdHlwZTsKbi5mZXRjaD1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGgpe3ZhciBrLGw9Zj8icmVwbGFjaW5nX2xvd2VyX3F1YWxpdHlfYnVmZmVyIjpudWxsO2lmKHRoaXMubCl7dmFyIG09dGhpcy5iW3RoaXMuYi5sZW5ndGgtMV0scD1udWxsO20mJihwPTFFMyooYS5zdGFydFRpbWUtbS5lbmRUaW1lKSk7az10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJmZXRjaCIpLnNldFJlYXNvbihsKS5zZXRSZXNvdXJjZSh1YihhLnVybCkpLnNldFR5cGUodmIodGhpcykpLnNldExlbmd0aChNYXRoLnJvdW5kKDFFMyooYS5lbmRUaW1lLWEuc3RhcnRUaW1lKSkpLnNldFNlZ21lbnRTdGFydFRpbWUoMUUzKmEuc3RhcnRUaW1lKS5zZXRTZWdtZW50RW5kVGltZSgxRTMqYS5lbmRUaW1lKS5zZXRTZWdtZW50VGltZUdhcChwKS5zdGFydCgpfXRoaXMuaj1rO2lmKHRoaXMuZil7aWYodGhpcy5oLmdldEJvb2woInNibV9lbmFibGVfY29uY3VycmVudF9mZXRjaF9yZXF1ZXN0cyIsITEpKXt2YXIgdD1bXS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7CnJldHVybiB0aGlzLmYubGIudGhlbihKKHRoaXMsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mZXRjaC5hcHBseSh0aGlzLHQpfSksZnVuY3Rpb24oYSl7dGhyb3cgYTt9KX1tPUVycm9yKCJDYW5ub3QgZmV0Y2ggKCIrdGhpcy5nKyIpOiBwcmV2aW91cyBvcGVyYXRpb24gbm90IGNvbXBsZXRlLiIpO3RoaXMudT49dGhpcy5PPyhtLnR5cGU9InN0cmVhbSIsayYmay5zZXRFcnJvcihtKS5sb2coKSx0aGlzLnU9MCk6KHRoaXMudSsrLG0udHlwZT0iYWJvcnRlZCIpO3JldHVybiBQcm9taXNlLnJlamVjdChtKX10aGlzLmY9bmV3IGpiO2MhPXRoaXMuYS50aW1lc3RhbXBPZmZzZXQmJih0aGlzLmEudGltZXN0YW1wT2Zmc2V0PWMpO3ZhciBtPXNiKHRoaXMsYSxlKSxwPXRoaXMuaC5nZXRCb29sKCJlbmFibGVfc3RyZWFtaW5nX2NvZGVfcGF0aCIsITApLHc7dz1wP2EudXJsLnN0cmVhbShtLHRoaXMuSix0aGlzLmwsdGhpcy5qLHRoaXMuSSx2Yih0aGlzKSxsLGcsaCk6YS51cmwuZmV0Y2gobSwKdGhpcy5KLHRoaXMubCx0aGlzLmosdGhpcy5JLHZiKHRoaXMpLGwsZyk7b2IodGhpcywiU2VnbWVudEZldGNoaW5nIixhKTt2YXIgej1LLnByb3RvdHlwZS5LYS5iaW5kKGEudXJsKTt0aGlzLkcmJnRoaXMuRiYmKGQ9dGhpcy5HKTt2YXIgSD0wLGRhPW51bGw7ZCYmKHRoaXMuRz1kLHRoaXMuRj0hMSxrYih0aGlzLmYsZnVuY3Rpb24oKXtyZXR1cm5bZC50aGVuKGZ1bmN0aW9uKGEpe2EuWWE+SCYmKEg9YS5ZYSk7cmV0dXJuIHdiKHRoaXMsYSxudWxsKX0uYmluZCh0aGlzKSksdGhpcy5iYi5iaW5kKHRoaXMpXX0uYmluZCh0aGlzKSkpO3ZhciBlYT1mdW5jdGlvbihhKXthLllhPkgmJihIPWEuWWEpO2RhPWEuYnl0ZUxlbmd0aDt0aGlzLkouZ2V0QmFuZHdpZHRoKCk7dGhpcy5TJiZ0aGlzLmRpc3BhdGNoRXZlbnQoeSh7dHlwZToiY2VhNjA4Q2FwdGlvbnNCeXRlc1JlY2VpdmVkIixidWJibGVzOiEwLGRldGFpbDp7dGltZXNjYWxlOmIsdmlkZW9CeXRlczphfX0pKX0uYmluZCh0aGlzKTsKcD8oaCYmKG09aC5nZXRQcm9ncmVzc1RyYWNrZXIoKSx0aGlzLmkhPT1tJiYodGhpcy5pPW0pKSxrYih0aGlzLmYsSih0aGlzLGZ1bmN0aW9uKCl7dmFyIGI9bnVsbCxjPU1hdGgubWF4KDAsKGEudXJsLmVuZEJ5dGV8fDApLWEudXJsLnN0YXJ0Qnl0ZSksZD10aGlzLmguZ2V0TnVtYmVyKCJzdHJlYW1pbmdfYXBwZW5kX3Blcl9zZWdtZW50IiwzKSxlPTA9PT1kPzA6Yy9kO3JldHVyblt3LnRoZW4oZnVuY3Rpb24oYyl7Yj1jO3RoaXMudz0hMTtyZXR1cm4geGIodGhpcyxjLGEsZSl9LmJpbmQodGhpcykpLnRoZW4oZnVuY3Rpb24oYSl7Yj1udWxsO3JldHVybiBhfSkudGhlbihlYSkuY2F0Y2goZnVuY3Rpb24oYSl7dGhpcy5oLmdldEJvb2woImFib3J0X2ZldGNoX29uX25ldF9lcnJvciIsITEpJiZoJiYodGhpcy5hLmFib3J0KCksdGhpcy53PSEwKTtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYSl9LmJpbmQodGhpcykpLGZ1bmN0aW9uKCl7b2IodGhpcywiU2VnbWVudEZhaWxlZCIsYSk7CmImJihiLmNhbmNlbCgiYWJvcnQiKSxiPW51bGwsaCYmKHRoaXMuYS5hYm9ydCgpLHRoaXMudz0hMCkpO3ooKTtyZXR1cm4gdGhpcy5iYigpfS5iaW5kKHRoaXMpXX0pKSk6a2IodGhpcy5mLEoodGhpcyxmdW5jdGlvbigpe3JldHVyblt3LnRoZW4oZnVuY3Rpb24oYil7b2IodGhpcywiU2VnbWVudEZldGNoZWQiLGEpO2VhKGIpO3JldHVybiB3Yih0aGlzLGIsYSxsKX0uYmluZCh0aGlzKSksZnVuY3Rpb24oKXtvYih0aGlzLCJTZWdtZW50RmFpbGVkIixhKTt6KCk7cmV0dXJuIHRoaXMuYmIoKX0uYmluZCh0aGlzKV19KSk7dmFyIEFhPTA9PXRoaXMuYS5idWZmZXJlZC5sZW5ndGgmJjA9PXRoaXMuYi5sZW5ndGgsY2I9bnVsbDtrYih0aGlzLmYsZnVuY3Rpb24oKXtpZigwPT10aGlzLmEuYnVmZmVyZWQubGVuZ3RoJiYhdGhpcy5WKXt2YXIgYj1FcnJvcigiRmFpbGVkIHRvIGJ1ZmZlciBzZWdtZW50ICgiK3RoaXMuZysiKS4iKTtiLnR5cGU9InN0cmVhbSI7cmV0dXJuW1Byb21pc2UucmVqZWN0KGIpXX10aGlzLmEuYnVmZmVyZWQubGVuZ3RoJiYKQWEmJihiPWEuc3RhcnRUaW1lLGNiPXRoaXMuYS5idWZmZXJlZC5zdGFydCgwKS1iKTtiPXliKHRoaXMuYixhLnN0YXJ0VGltZSk7MDw9Yj90aGlzLmIuc3BsaWNlKGIrMSwwLGEpOnRoaXMuYi5wdXNoKGEpfS5iaW5kKHRoaXMpKTt0aGlzLnU9MDtyZXR1cm4gemIodGhpcykudGhlbihmdW5jdGlvbigpe2smJmsubG9nKCk7cmV0dXJuIFByb21pc2UucmVzb2x2ZSh7VzpjYixXYzpILEg6YS5lbmRUaW1lLWEuc3RhcnRUaW1lLERjOmRhfSl9LmJpbmQodGhpcyksZnVuY3Rpb24oYSl7ayYmay5zZXRFcnJvcihhKS5sb2coKTthPUFiKGEsInRhc2siLCJBbiB1bmtub3duIHRhc2sgZXJyb3Igb2NjdXJyZWQuIik7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfS5iaW5kKHRoaXMpKX07CmZ1bmN0aW9uIHhiKGEsYixjLGQpe3ZhciBlPW5ldyBBcnJheUJ1ZmZlcigwKSxmPW5ldyBBcnJheUJ1ZmZlcigwKSxnPWZ1bmN0aW9uKCl7cmV0dXJuIGIucmVhZCgpLnRoZW4oZnVuY3Rpb24oYSl7dmFyIGI9YS52YWx1ZTthPWEuZG9uZTtpZih0aGlzLnd8fGEmJjA9PT1mLmJ5dGVMZW5ndGgpcmV0dXJuIGU7aWYoIWEmJiFiKXJldHVybiBnKCk7YiYmKGIgaW5zdGFuY2VvZiBVaW50OEFycmF5JiYoYj1iLmJ1ZmZlciksZj1jb25jYXRBcnJheUJ1ZmZlcihmLGIpKTtyZXR1cm4gZi5ieXRlTGVuZ3RoPj1kfHxhPyh0aGlzLmkmJnRoaXMuaS5ub3RpZnlCeXRlc0NvbnN1bWVkKGYuYnl0ZUxlbmd0aCksb2IodGhpcywiU2VnbWVudEZldGNoZWQiLGMpLGU9Y29uY2F0QXJyYXlCdWZmZXIoZSxmKSxiPWYsZj1uZXcgQXJyYXlCdWZmZXIoMCksd2IodGhpcyxiLGMpLnRoZW4oZykpOmcoKX0uYmluZCh0aGlzKSl9LmJpbmQoYSk7cmV0dXJuIGcoKX0KZnVuY3Rpb24gQmIoYSl7aWYoYS5mKXt2YXIgYj1FcnJvcigiQ2Fubm90IGNsZWFyICgiK2EuZysiKTogcHJldmlvdXMgb3BlcmF0aW9uIG5vdCBjb21wbGV0ZS4iKTthLm8+PWEuSz8oYi50eXBlPSJzdHJlYW0iLGEubz0wKTooYS5vKyssYi50eXBlPSJhYm9ydGVkIik7cmV0dXJuIFByb21pc2UucmVqZWN0KGIpfWEuZj1uZXcgamI7a2IoYS5mLGZ1bmN0aW9uKCl7dmFyIGE7YTppZigwPT10aGlzLmEuYnVmZmVyZWQubGVuZ3RoKWE9UHJvbWlzZS5yZXNvbHZlKCk7ZWxzZXt0cnl7dGhpcy5hLnJlbW92ZSgwLHRoaXMuQS5kdXJhdGlvbil9Y2F0Y2goYil7Yj1BYihiLCJjbGVhcl9idWZmZXIiLCJBbiBlcnJvciBvY2N1cmVkIHdoZW4gY2xlYXJpbmcgdGhlIGJ1ZmZlci4iKTthPVByb21pc2UucmVqZWN0KGIpO2JyZWFrIGF9dGhpcy5iPVtdO2E9dGhpcy5jPW5ldyBJfXJldHVyblthLHRoaXMuYmIuYmluZCh0aGlzKV19LmJpbmQoYSkpO2Eubz0wO3JldHVybiB6YihhKX0KZnVuY3Rpb24gQ2IoYSxiKXtpZihhLmYpe3ZhciBjPUVycm9yKCJDYW5ub3QgY2xlYXJBZnRlciAoIithLmcrIik6IHByZXZpb3VzIG9wZXJhdGlvbiBub3QgY29tcGxldGUuIik7Yy50eXBlPSJzdHJlYW0iO3JldHVybiBQcm9taXNlLnJlamVjdChjKX1hLmY9bmV3IGpiO2tiKGEuZixmdW5jdGlvbigpe3JldHVybltEYih0aGlzLGIpLHRoaXMuYmIuYmluZCh0aGlzKV19LmJpbmQoYSkpO3JldHVybiB6YihhKX1mdW5jdGlvbiBFYihhLGIpe2EuYz1uZXcgSTt2YXIgYz1iLTU7aWYoMDxjKXt0cnl7YS5hLnJlbW92ZSgwLGMpfWNhdGNoKGQpe3JldHVybiBkPUFiKGQsImNsZWFyX2J1ZmZlciIsIkFuIGVycm9yIG9jY3VyZWQgd2hlbiBjbGVhcmluZyB0aGUgYnVmZmVyLiIpLFByb21pc2UucmVqZWN0KGQpfWM9RmIoYSxjKTswPGMmJihhLmI9YS5iLnNsaWNlKGMsYS5iLmxlbmd0aCkpfWVsc2UgYS5jLnJlc29sdmUoKTtyZXR1cm4gYS5jfQpuLmFib3J0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZj90aGlzLmYuYWJvcnQoKTpQcm9taXNlLnJlc29sdmUoKX07ZnVuY3Rpb24gR2IoYSl7Zm9yKHZhciBiPWEuY3VycmVudFRpbWUsYz1iLGQ9MDtkPGEuYnVmZmVyZWQubGVuZ3RoO2QrKylpZihiPD1hLmJ1ZmZlcmVkLnN0YXJ0KGQpKXtjPWEuYnVmZmVyZWQuc3RhcnQoZCk7YnJlYWt9cmV0dXJuIGN9ZnVuY3Rpb24gSGIoYSxiKXtmb3IodmFyIGM9Yi5jdXJyZW50VGltZSxkPTA7ZDxiLmJ1ZmZlcmVkLmxlbmd0aDtkKyspaWYoYz49Yi5idWZmZXJlZC5zdGFydChkKSYmYzw9Yi5idWZmZXJlZC5lbmQoZCktYS5QKXJldHVybiExO3JldHVybiEwfQpmdW5jdGlvbiB6YihhKXthLmYuc3RhcnQoKTtyZXR1cm4gYS5mLmxiLnRoZW4oSihhLGZ1bmN0aW9uKCl7dGhpcy5mPW51bGx9KSkuY2F0Y2goSihhLGZ1bmN0aW9uKGEpe3RoaXMuZj1udWxsO2E9QWIoYSwidGFzayIsIkFuIHVua25vd24gdGFzayBlcnJvciBvY2N1cnJlZC4iKTtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYSl9KSl9CmZ1bmN0aW9uIHdiKGEsYixjLGQpe3ZhciBlO2lmKGEubCl7dmFyIGY9Yz91YihjLnVybCk6ImluaXQiO2U9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigiYXBwZW5kIikuc2V0UmVhc29uKGQpLnNldFJlc291cmNlKGYpLnNldFR5cGUodmIoYSkpLnNldExlbmd0aChiLmJ5dGVMZW5ndGgpLnN0YXJ0KCk7bnVsbCE9PWMmJihlPWUuc2V0U2VnbWVudFN0YXJ0VGltZSgxRTMqYy5zdGFydFRpbWUpLnNldFNlZ21lbnRFbmRUaW1lKDFFMypjLmVuZFRpbWUpKTthLmomJihlPWUuc2V0UGFyZW50TG9nZ2VyKGEuaikpfXRyeXthLmEuYXBwZW5kQnVmZmVyKGIpfWNhdGNoKGcpe3JldHVybiBhLmguZ2V0Qm9vbCgibnVrZV9zb3VyY2VfYnVmZmVyX29uX3F1b3RhX2V4Y2VlZGVkX2VyciIsITApJiZnIGluc3RhbmNlb2YgRE9NRXhjZXB0aW9uJiZnLmNvZGU9PT1ET01FeGNlcHRpb24uUVVPVEFfRVhDRUVERURfRVJSJiZnLm1lc3NhZ2UubWF0Y2goL14uKlNvdXJjZUJ1ZmZlci4qZnVsbC4qZnJlZVxzc3BhY2UuKiQvKSYmCihnLnR5cGU9InNvdXJjZWJ1ZmZlcl9mdWxsIiksZSYmZS5zZXRFcnJvcihnKS5sb2coKSxQcm9taXNlLnJlamVjdChnKX1hLmM9bmV3IEk7YS5tPWM7cmV0dXJuIGEuYy50aGVuKGZ1bmN0aW9uKCl7ZSYmZS5sb2coKX0sZnVuY3Rpb24oYSl7ZSYmZS5zZXRFcnJvcihhKS5sb2coKTtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYSl9KX1uLmFkPWZ1bmN0aW9uKGEpe2E9YS5lcnJvcnx8RXJyb3IoIkNhbGwgdG8gYXBwZW5kQnVmZmVyIGZhaWxlZCB0byBhcHBlbmQgdGhlIHNlZ21lbnQuIik7YT1BYihhLCJzdHJlYW0iLCJDYWxsIHRvIGFwcGVuZEJ1ZmZlciBmYWlsZWQgdG8gYXBwZW5kIHRoZSBzZWdtZW50LiIpO3RoaXMuYyYmdGhpcy5jLnJlamVjdChhKX07CmZ1bmN0aW9uIERiKGEsYil7aWYoMD09YS5hLmJ1ZmZlcmVkLmxlbmd0aClyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7dmFyIGM9RmIoYSxiKTtpZigtMT09Y3x8Yz09YS5iLmxlbmd0aC0xKXJldHVybiBQcm9taXNlLnJlc29sdmUoKTt0cnl7YS5hLnJlbW92ZShhLmJbYysxXS5zdGFydFRpbWUsYS5BLmR1cmF0aW9uKX1jYXRjaChkKXtyZXR1cm4gUHJvbWlzZS5yZWplY3QoZCl9YS5iPWEuYi5zbGljZSgwLGMrMSk7YS5jPW5ldyBJO3JldHVybiBhLmN9bi5iYj1mdW5jdGlvbigpe2lmKHRoaXMuYyl7aWYoIm9wZW4iPT10aGlzLkEucmVhZHlTdGF0ZSl7dmFyIGE9RXJyb3IoIlByZXZpb3VzIG9wZXJhdGlvbiBhYm9ydGVkLiIpO2EudHlwZT0iYWJvcnRlZCI7dGhpcy5jLnJlamVjdChhKTt0aGlzLmEuYWJvcnQoKTt0aGlzLlImJih0aGlzLkY9ITApO3RoaXMuYz1uZXcgSX1yZXR1cm4gdGhpcy5jfXJldHVybiBQcm9taXNlLnJlc29sdmUoKX07Cm4ubmQ9ZnVuY3Rpb24oKXt0aGlzLmMmJih0aGlzLm0mJihvYih0aGlzLCJTZWdtZW50QXBwZW5kZWQiLHRoaXMubSksdGhpcy5tPW51bGwpLHRoaXMuYy5yZXNvbHZlKCksdGhpcy5jPW51bGwpfTtuLkRkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaX07bmIucHJvdG90eXBlLmdldFN0cmVhbVByb2dyZXNzVHJhY2tlcj1uYi5wcm90b3R5cGUuRGQ7ZnVuY3Rpb24gdmIoYSl7cmV0dXJuInYiPT09YS5nLmNoYXJBdCgwKT8idmlkZW8iOiJhIj09PWEuZy5jaGFyQXQoMCk/ImF1ZGlvIjpudWxsfWZ1bmN0aW9uIEFiKGEsYixjKXthfHwoYT1FcnJvcihjKSk7YS50eXBlfHwoYS50eXBlPWIpO2EubWVzc2FnZXx8KGEubWVzc2FnZT1jKTtyZXR1cm4gYX0KZnVuY3Rpb24gRmIoYSxiKXtpZihhLmguZ2V0Qm9vbCgic2JtX3VzZV9zZWdtZW50X2luZGV4X3RvX2ZpbmRfdGltZXN0YW1wcyIsITEpJiZhLkQpe3ZhciBjPWEuRC5maW5kKGIpO2lmKGMpcmV0dXJuIHliKGEuYixjLnN0YXJ0VGltZSl9ZWxzZSByZXR1cm4geWIoYS5iLGIpO3JldHVybi0xfTtmdW5jdGlvbiBJYihhKXtyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLGEpfXEoInNoYWthLnV0aWwuVWludDhBcnJheVV0aWxzLnRvU3RyaW5nIixJYik7ZnVuY3Rpb24gSmIoYSl7Zm9yKHZhciBiPW5ldyBVaW50OEFycmF5KGEubGVuZ3RoKSxjPTA7YzxhLmxlbmd0aDsrK2MpYltjXT1hLmNoYXJDb2RlQXQoYyk7cmV0dXJuIGJ9cSgic2hha2EudXRpbC5VaW50OEFycmF5VXRpbHMuZnJvbVN0cmluZyIsSmIpO3EoInNoYWthLnV0aWwuVWludDhBcnJheVV0aWxzLnRvQmFzZTY0IixmdW5jdGlvbihhLGIpe3ZhciBjPXZvaWQgMD09Yj8hMDpiLGQ9d2luZG93LmJ0b2EoSWIoYSkpLnJlcGxhY2UoL1wrL2csIi0iKS5yZXBsYWNlKC9cLy9nLCJfIik7cmV0dXJuIGM/ZDpkLnJlcGxhY2UoLz0qJC8sIiIpfSk7ZnVuY3Rpb24gS2IoYSl7cmV0dXJuIEpiKHdpbmRvdy5hdG9iKGEucmVwbGFjZSgvLS9nLCIrIikucmVwbGFjZSgvXy9nLCIvIikpKX0KcSgic2hha2EudXRpbC5VaW50OEFycmF5VXRpbHMuZnJvbUJhc2U2NCIsS2IpO3EoInNoYWthLnV0aWwuVWludDhBcnJheVV0aWxzLmZyb21IZXgiLGZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1uZXcgVWludDhBcnJheShhLmxlbmd0aC8yKSxjPTA7YzxhLmxlbmd0aDtjKz0yKWJbYy8yXT13aW5kb3cucGFyc2VJbnQoYS5zdWJzdHIoYywyKSwxNik7cmV0dXJuIGJ9KTtmdW5jdGlvbiBMYihhKXtmb3IodmFyIGI9IiIsYz0wO2M8YS5sZW5ndGg7KytjKXt2YXIgZD1hW2NdLnRvU3RyaW5nKDE2KTsxPT1kLmxlbmd0aCYmKGQ9IjAiK2QpO2IrPWR9cmV0dXJuIGJ9cSgic2hha2EudXRpbC5VaW50OEFycmF5VXRpbHMudG9IZXgiLExiKTtmdW5jdGlvbiBNYShhLGIpe2lmKCFhJiYhYilyZXR1cm4hMDtpZighYXx8IWJ8fGEubGVuZ3RoIT1iLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIGM9MDtjPGEubGVuZ3RoOysrYylpZihhW2NdIT1iW2NdKXJldHVybiExO3JldHVybiEwfTtmdW5jdGlvbiBNYigpe3RoaXMuaT10aGlzLmE9IiI7dGhpcy53aXRoQ3JlZGVudGlhbHM9ITE7dGhpcy5vPXRoaXMuZj1udWxsO3RoaXMuaj10aGlzLmg9ITE7dGhpcy5tPXRoaXMuZz0iIjt0aGlzLmM9bnVsbDt0aGlzLmI9W119ZnVuY3Rpb24gTmIoYSxiKXt2YXIgYz1uZXcgTWI7Yy5hPWEuYTtjLmk9YS5pO2Mud2l0aENyZWRlbnRpYWxzPWEud2l0aENyZWRlbnRpYWxzO2MuZj1hLmY7Yy5vPWEubztjLmg9YS5oO2Muaj1hLmo7Yy5nPWEuZztjLm09YS5tO2MuYz1hLmM/bmV3IFVpbnQ4QXJyYXkoYS5jLmJ1ZmZlcik6bnVsbDtPYihjLGEuYik7T2IoYyxiLmIpO3JldHVybiBjfWZ1bmN0aW9uIE9iKGEsYil7dmFyIGM9YS5iLmNvbmNhdChiLm1hcChmdW5jdGlvbihhKXtyZXR1cm57aW5pdERhdGE6bmV3IFVpbnQ4QXJyYXkoYS5pbml0RGF0YS5idWZmZXIpLGluaXREYXRhVHlwZTphLmluaXREYXRhVHlwZX19KSk7YS5iPXdhKGMpfQpmdW5jdGlvbiB4YShhLGIpe3JldHVybiBhLmluaXREYXRhVHlwZT09Yi5pbml0RGF0YVR5cGUmJk1hKGEuaW5pdERhdGEsYi5pbml0RGF0YSl9O2Z1bmN0aW9uIFBiKGEsYixjLGQpe3RoaXMud2l0aENyZWRlbnRpYWxzPWM7dGhpcy5hPVtdO2QmJnRoaXMuYS5wdXNoKGQpfXEoInNoYWthLnBsYXllci5Ecm1TY2hlbWVJbmZvIixQYik7UGIuRGlzdGluY3RpdmVJZGVudGlmaWVyPXtPUFRJT05BTDowLFJFUVVJUkVEOjF9O1BiLlBlcnNpc3RlbnRTdGF0ZT17T1BUSU9OQUw6MCxSRVFVSVJFRDoxfTtQYi5jcmVhdGVVbmVuY3J5cHRlZD1mdW5jdGlvbigpe3JldHVybiBuZXcgUGIoMCwwLCExLG51bGwpfTtmdW5jdGlvbiBRYihhKXt0aGlzLnN5c3RlbUlkcz1bXTt0aGlzLmNlbmNLZXlJZHM9W107dGhpcy5hPVtdO2E9bmV3IEJhKG5ldyBEYXRhVmlldyhhLmJ1ZmZlcikpO3RyeXtmb3IoO0RhKGEpOyl7dmFyIGI9YS5hLGM9dihhKSxkPXYoYSk7MT09Yz9jPUZhKGEpOjA9PWMmJihjPWEuYi5ieXRlTGVuZ3RoLWIpO2lmKDE4ODY2MTQzNzYhPWQpSGEoYSxjLShhLmEtYikpO2Vsc2V7dmFyIGU9RWEoYSk7aWYoMTxlKUhhKGEsYy0oYS5hLWIpKTtlbHNle0hhKGEsMyk7dmFyIGY9TGIoR2EoYSkpLGc9W107aWYoMDxlKWZvcih2YXIgaD12KGEpLGs9MDtrPGg7KytrKXt2YXIgbD1MYihHYShhKSk7Zy5wdXNoKGwpfXZhciBtPXYoYSk7SGEoYSxtKTt0aGlzLmNlbmNLZXlJZHMucHVzaC5hcHBseSh0aGlzLmNlbmNLZXlJZHMsZyk7dGhpcy5zeXN0ZW1JZHMucHVzaChmKTt0aGlzLmEucHVzaCh7c3RhcnQ6YixlbmQ6YS5hLTF9KTthLmEhPWIrYyYmSGEoYSxjLShhLmEtYikpfX19fWNhdGNoKHApe319Cjt2YXIgUmI9L14oPzooW146Lz8jLl0rKTopPyg/OlwvXC8oPzooW14vPyNdKilAKT8oW14vIz9dKj8pKD86OihbMC05XSspKT8oPz1bLyM/XXwkKSk/KFtePyNdKyk/KD86XD8oW14jXSopKT8oPzojKC4qKSk/JC87ZnVuY3Rpb24gTChhKXt2YXIgYjthIGluc3RhbmNlb2YgTD8oU2IodGhpcyxhLnphKSx0aGlzLlVhPWEuVWEsdGhpcy5oYT1hLmhhLFRiKHRoaXMsYS5YYSksdGhpcy51YT1hLnVhLFViKHRoaXMsYS5hLmNsb25lKCkpLHRoaXMuTWE9YS5NYSk6YSYmKGI9U3RyaW5nKGEpLm1hdGNoKFJiKSk/KFNiKHRoaXMsYlsxXXx8IiIsITApLHRoaXMuVWE9VmIoYlsyXXx8IiIpLHRoaXMuaGE9VmIoYlszXXx8IiIsITApLFRiKHRoaXMsYls0XSksdGhpcy51YT1WYihiWzVdfHwiIiwhMCksVWIodGhpcyxiWzZdfHwiIiwhMCksdGhpcy5NYT1WYihiWzddfHwiIikpOnRoaXMuYT1uZXcgV2IobnVsbCl9bj1MLnByb3RvdHlwZTtuLnphPSIiO24uVWE9IiI7bi5oYT0iIjtuLlhhPW51bGw7bi51YT0iIjtuLk1hPSIiOwpuLnRvU3RyaW5nPWZ1bmN0aW9uKCl7dmFyIGE9W10sYj10aGlzLnphO2ImJmEucHVzaChYYihiLFliLCEwKSwiOiIpO2lmKGI9dGhpcy5oYSl7YS5wdXNoKCIvLyIpO3ZhciBjPXRoaXMuVWE7YyYmYS5wdXNoKFhiKGMsWWIsITApLCJAIik7YS5wdXNoKGVuY29kZVVSSUNvbXBvbmVudChiKS5yZXBsYWNlKC8lMjUoWzAtOWEtZkEtRl17Mn0pL2csIiUkMSIpKTtiPXRoaXMuWGE7bnVsbCE9YiYmYS5wdXNoKCI6IixTdHJpbmcoYikpfWlmKGI9dGhpcy51YSl0aGlzLmhhJiYiLyIhPWIuY2hhckF0KDApJiZhLnB1c2goIi8iKSxhLnB1c2goWGIoYiwiLyI9PWIuY2hhckF0KDApP1piOiRiLCEwKSk7KGI9dGhpcy5hLnRvU3RyaW5nKCkpJiZhLnB1c2goIj8iLGIpOyhiPXRoaXMuTWEpJiZhLnB1c2goIiMiLFhiKGIsYWMpKTtyZXR1cm4gYS5qb2luKCIiKX07Cm4ucmVzb2x2ZT1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmNsb25lKCk7ImRhdGEiPT09Yi56YSYmKGI9bmV3IEwpO3ZhciBjPSEhYS56YTtjP1NiKGIsYS56YSk6Yz0hIWEuVWE7Yz9iLlVhPWEuVWE6Yz0hIWEuaGE7Yz9iLmhhPWEuaGE6Yz1udWxsIT1hLlhhO3ZhciBkPWEudWE7aWYoYylUYihiLGEuWGEpO2Vsc2UgaWYoYz0hIWEudWEpe2lmKCIvIiE9ZC5jaGFyQXQoMCkpaWYodGhpcy5oYSYmIXRoaXMudWEpZD0iLyIrZDtlbHNle3ZhciBlPWIudWEubGFzdEluZGV4T2YoIi8iKTstMSE9ZSYmKGQ9Yi51YS5zdWJzdHIoMCxlKzEpK2QpfWlmKCIuLiI9PWR8fCIuIj09ZClkPSIiO2Vsc2UgaWYoLTEhPWQuaW5kZXhPZigiLi8iKXx8LTEhPWQuaW5kZXhPZigiLy4iKSl7Zm9yKHZhciBlPTA9PWQubGFzdEluZGV4T2YoIi8iLDApLGQ9ZC5zcGxpdCgiLyIpLGY9W10sZz0wO2c8ZC5sZW5ndGg7KXt2YXIgaD1kW2crK107Ii4iPT1oP2UmJmc9PWQubGVuZ3RoJiZmLnB1c2goIiIpOiIuLiI9PQpoPygoMTxmLmxlbmd0aHx8MT09Zi5sZW5ndGgmJiIiIT1mWzBdKSYmZi5wb3AoKSxlJiZnPT1kLmxlbmd0aCYmZi5wdXNoKCIiKSk6KGYucHVzaChoKSxlPSEwKX1kPWYuam9pbigiLyIpfX1jP2IudWE9ZDpjPSIiIT09YS5hLnRvU3RyaW5nKCk7Yz9VYihiLGEuYS5jbG9uZSgpKTpjPSEhYS5NYTtjJiYoYi5NYT1hLk1hKTtyZXR1cm4gYn07bi5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgTCh0aGlzKX07ZnVuY3Rpb24gU2IoYSxiLGMpe2EuemE9Yz9WYihiLCEwKTpiO2EuemEmJihhLnphPWEuemEucmVwbGFjZSgvOiQvLCIiKSl9ZnVuY3Rpb24gVGIoYSxiKXtpZihiKXtiPU51bWJlcihiKTtpZihpc05hTihiKXx8MD5iKXRocm93IEVycm9yKCJCYWQgcG9ydCBudW1iZXIgIitiKTthLlhhPWJ9ZWxzZSBhLlhhPW51bGx9ZnVuY3Rpb24gVWIoYSxiLGMpe2IgaW5zdGFuY2VvZiBXYj9hLmE9YjooY3x8KGI9WGIoYixiYykpLGEuYT1uZXcgV2IoYikpfQpmdW5jdGlvbiBWYihhLGIpe3JldHVybiBhP2I/ZGVjb2RlVVJJKGEpOmRlY29kZVVSSUNvbXBvbmVudChhKToiIn1mdW5jdGlvbiBYYihhLGIsYyl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBhPyhhPWVuY29kZVVSSShhKS5yZXBsYWNlKGIsY2MpLGMmJihhPWEucmVwbGFjZSgvJTI1KFswLTlhLWZBLUZdezJ9KS9nLCIlJDEiKSksYSk6bnVsbH1mdW5jdGlvbiBjYyhhKXthPWEuY2hhckNvZGVBdCgwKTtyZXR1cm4iJSIrKGE+PjQmMTUpLnRvU3RyaW5nKDE2KSsoYSYxNSkudG9TdHJpbmcoMTYpfXZhciBZYj0vWyNcL1w/QF0vZywkYj0vW1wjXD86XS9nLFpiPS9bXCNcP10vZyxiYz0vW1wjXD9AXS9nLGFjPS8jL2c7ZnVuY3Rpb24gV2IoYSl7dGhpcy5iPWF8fG51bGx9V2IucHJvdG90eXBlLmE9bnVsbDtXYi5wcm90b3R5cGUuYz1udWxsOwpmdW5jdGlvbiBkYyhhLGIsYyl7aWYoIWEuYSYmKGEuYT17fSxhLmM9MCxhLmIpKWZvcih2YXIgZD1hLmIuc3BsaXQoIiYiKSxlPTA7ZTxkLmxlbmd0aDtlKyspe3ZhciBmPWRbZV0uaW5kZXhPZigiPSIpLGc9bnVsbCxoPW51bGw7MDw9Zj8oZz1kW2VdLnN1YnN0cmluZygwLGYpLGg9ZFtlXS5zdWJzdHJpbmcoZisxKSk6Zz1kW2VdO2c9ZGVjb2RlVVJJQ29tcG9uZW50KGcucmVwbGFjZSgvXCsvZywiICIpKTtoPWh8fCIiO2RjKGEsZyxkZWNvZGVVUklDb21wb25lbnQoaC5yZXBsYWNlKC9cKy9nLCIgIikpKX1hLmI9bnVsbDsoZD1hLmEuaGFzT3duUHJvcGVydHkoYikmJmEuYVtiXSl8fChhLmFbYl09ZD1bXSk7ZC5wdXNoKGMpO2EuYysrfQpXYi5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtpZih0aGlzLmIpcmV0dXJuIHRoaXMuYjtpZighdGhpcy5hKXJldHVybiIiO3ZhciBhPVtdLGI7Zm9yKGIgaW4gdGhpcy5hKWZvcih2YXIgYz1lbmNvZGVVUklDb21wb25lbnQoYiksZD10aGlzLmFbYl0sZT0wO2U8ZC5sZW5ndGg7ZSsrKXt2YXIgZj1jOyIiIT09ZFtlXSYmKGYrPSI9IitlbmNvZGVVUklDb21wb25lbnQoZFtlXSkpO2EucHVzaChmKX1yZXR1cm4gdGhpcy5iPWEuam9pbigiJiIpfTtXYi5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgV2I7YS5iPXRoaXMuYjtpZih0aGlzLmEpe3ZhciBiPXt9LGM7Zm9yKGMgaW4gdGhpcy5hKWJbY109dGhpcy5hW2NdLmNvbmNhdCgpO2EuYT1iO2EuYz10aGlzLmN9cmV0dXJuIGF9O2Z1bmN0aW9uIGVjKGEsYixjKXt2YXIgZD1hLmluZGV4T2YoIjw/eG1sIik7MDw9ZCYmKGE9YS5zdWJzdHIoZCkpO2E9KG5ldyBET01QYXJzZXIpLnBhcnNlRnJvbVN0cmluZyhhLCJ0ZXh0L3htbCIpO2lmKCFhKXJldHVybiBudWxsOyJzdHJpbmciPT09dHlwZW9mIGImJihiPVtuZXcgTChiKV0pO2I9Ynx8W25ldyBMKCIiKV07Yz1jfHxbbmV3IEwoIiIpXTtyZXR1cm4gTSh7QWM6YixiYXNlVXJsOmN9LGEsZmMpfXEoInNoYWthLmRhc2gubXBkLnBhcnNlTXBkIixlYyk7CmZ1bmN0aW9uIGZjKCl7dGhpcy5pZD10aGlzLnVybD1udWxsO3RoaXMudHlwZT0ic3RhdGljIjt0aGlzLkZCSXNMaXZlVGVtcGxhdGVkPXRoaXMuRkJXYXNMaXZlPXRoaXMubWFuaWZlc3RJc0xpdmVTdHJlYW1pbmc9ITE7dGhpcy5GQk1hbmlmZXN0SWRlbnRpZmllcj0iIjt0aGlzLkZCTVM9ITE7dGhpcy51PXRoaXMuYmFzZVVybD10aGlzLkFjPW51bGw7dGhpcy5qPXRoaXMuaT10aGlzLmg9MDt0aGlzLmI9bnVsbDt0aGlzLm09NTt0aGlzLmY9dGhpcy5jPXRoaXMuZz1udWxsO3RoaXMubz0xO3RoaXMubGFzdFZpZGVvRnJhbWVUcz10aGlzLmN1cnJlbnRTZXJ2ZXJUaW1lTXM9MDt0aGlzLmE9W119ZnVuY3Rpb24gZ2MoKXt0aGlzLmY9dGhpcy5jPXRoaXMuYj10aGlzLmJhc2VVcmw9dGhpcy5kdXJhdGlvbj10aGlzLnN0YXJ0PXRoaXMuaWQ9bnVsbDt0aGlzLmE9W119CmZ1bmN0aW9uIGhjKCl7dGhpcy5jPXRoaXMuY29kZWNzPXRoaXMubWltZVR5cGU9dGhpcy5oZWlnaHQ9dGhpcy53aWR0aD10aGlzLmNvbnRlbnRUeXBlPXRoaXMubGFuZz10aGlzLmdyb3VwPXRoaXMuaWQ9bnVsbDt0aGlzLmY9ITE7dGhpcy5pPXRoaXMuaD10aGlzLmc9dGhpcy5iYXNlVXJsPW51bGw7dGhpcy5qPVtdO3RoaXMuYT1bXTt0aGlzLmI9bnVsbH1mdW5jdGlvbiBpYygpe3RoaXMudmFsdWU9bnVsbH1mdW5jdGlvbiBqYygpe3RoaXMubGFuZz10aGlzLmE9bnVsbH1mdW5jdGlvbiBrYygpe3RoaXMuY29udGVudFR5cGU9dGhpcy5sYW5nPXRoaXMuaWQ9bnVsbH1mdW5jdGlvbiBsYygpe3RoaXMuZGF0YT1udWxsfWZ1bmN0aW9uIG1jKCl7dGhpcy5kYXRhPW51bGx9CmZ1bmN0aW9uIG5jKCl7dGhpcy5hPXRoaXMuYj10aGlzLmY9dGhpcy5pPXRoaXMuYmFzZVVybD10aGlzLmo9dGhpcy5mcmFtZVJhdGU9dGhpcy51PXRoaXMubz10aGlzLm09dGhpcy5mYlF1YWxpdHlDbGFzcz10aGlzLmZiUXVhbGl0eUxhYmVsPXRoaXMuaD10aGlzLmc9dGhpcy5jb2RlY3M9dGhpcy5taW1lVHlwZT10aGlzLmhlaWdodD10aGlzLndpZHRoPXRoaXMuYmFuZHdpZHRoPXRoaXMubGFuZz10aGlzLmlkPW51bGw7dGhpcy5jPVtdfWZ1bmN0aW9uIG9jKCl7dGhpcy52YWx1ZT10aGlzLmE9bnVsbH1vYy5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgb2M7YS5hPXRoaXMuYTthLnZhbHVlPXRoaXMudmFsdWU7cmV0dXJuIGF9O29jLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMuYT1OKGIsInNjaGVtZUlkVXJpIixPLHRoaXMuYSk7dGhpcy52YWx1ZT1OKGIsInZhbHVlIixPLHRoaXMudmFsdWUpfTsKZnVuY3Rpb24gcGMoKXt0aGlzLmI9dGhpcy5hPXRoaXMuZj10aGlzLmM9bnVsbH1mdW5jdGlvbiBxYygpe3RoaXMucGFyc2VkUHNzaD10aGlzLnBzc2hCb3g9bnVsbH1mdW5jdGlvbiByYygpe3RoaXMudXJsPW51bGx9ZnVuY3Rpb24gc2MoKXt0aGlzLnVybD1udWxsfWZ1bmN0aW9uIHRjKCl7dGhpcy5iYXNlVXJsPW51bGw7dGhpcy5zPTE7dGhpcy5jPXRoaXMuYj10aGlzLmY9dGhpcy5hPXRoaXMuTD1udWxsfXRjLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyB0YzthLmJhc2VVcmw9dWModGhpcy5iYXNlVXJsKTthLnM9dGhpcy5zO2EuTD10aGlzLkw7YS5hPXZjKHRoaXMuYSk7YS5mPXZjKHRoaXMuZik7YS5iPXZjKHRoaXMuYik7YS5jPXZjKHRoaXMuYyk7cmV0dXJuIGF9O2Z1bmN0aW9uIHdjKCl7dGhpcy5hPXRoaXMudXJsPW51bGx9CndjLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyB3YzthLnVybD11Yyh0aGlzLnVybCk7YS5hPXZjKHRoaXMuYSk7cmV0dXJuIGF9O2Z1bmN0aW9uIHhjKCl7dGhpcy5hPXRoaXMudXJsPW51bGx9eGMucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IHhjO2EudXJsPXVjKHRoaXMudXJsKTthLmE9dmModGhpcy5hKTtyZXR1cm4gYX07ZnVuY3Rpb24geWMoKXt0aGlzLmJhc2VVcmw9bnVsbDt0aGlzLnM9MTt0aGlzLkg9dGhpcy5MPW51bGw7dGhpcy5jPTA7dGhpcy5iPW51bGw7dGhpcy5hPVtdO3RoaXMuQz1udWxsfXljLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyB5YzthLmJhc2VVcmw9dWModGhpcy5iYXNlVXJsKTthLnM9dGhpcy5zO2EuTD10aGlzLkw7YS5IPXRoaXMuSDthLmM9dGhpcy5jO2EuYj12Yyh0aGlzLmIpO2EuYT11Yyh0aGlzLmEpfHxbXTthLkM9dmModGhpcy5DKTtyZXR1cm4gYX07CmZ1bmN0aW9uIHpjKCl7dGhpcy5hPXRoaXMuYj1udWxsfXpjLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyB6YzthLmI9dWModGhpcy5iKTthLmE9dmModGhpcy5hKTtyZXR1cm4gYX07ZnVuY3Rpb24gQWMoKXt0aGlzLnM9MTt0aGlzLkg9dGhpcy5MPW51bGw7dGhpcy5iPTA7dGhpcy5DPXRoaXMuYz10aGlzLmE9dGhpcy5mPW51bGx9QWMucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IEFjO2Eucz10aGlzLnM7YS5MPXRoaXMuTDthLkg9dGhpcy5IO2EuYj10aGlzLmI7YS5mPXRoaXMuZjthLmE9dGhpcy5hO2EuYz10aGlzLmM7YS5DPXZjKHRoaXMuQyk7cmV0dXJuIGF9O2Z1bmN0aW9uIEJjKCl7dGhpcy5iPXRoaXMuYT1udWxsO3RoaXMuTj1bXX1CYy5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgQmM7YS5hPXRoaXMuYTthLmI9dGhpcy5iO2EuTj11Yyh0aGlzLk4pfHxbXTtyZXR1cm4gYX07CmZ1bmN0aW9uIENjKCl7dGhpcy5zdGFydFNlZ21lbnRJbmRleD10aGlzLnJlcGVhdD10aGlzLmR1cmF0aW9uPXRoaXMuc3RhcnRUaW1lPW51bGx9Q2MucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IENjO2Euc3RhcnRUaW1lPXRoaXMuc3RhcnRUaW1lO2EuZHVyYXRpb249dGhpcy5kdXJhdGlvbjthLnJlcGVhdD10aGlzLnJlcGVhdDtyZXR1cm4gYX07ZnVuY3Rpb24gRGMoYSxiKXt0aGlzLnFhPWE7dGhpcy5lbmQ9Yn1EYy5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IERjKHRoaXMucWEsdGhpcy5lbmQpfTtmYy5UQUdfTkFNRT0iTVBEIjtnYy5UQUdfTkFNRT0iUGVyaW9kIjtoYy5UQUdfTkFNRT0iQWRhcHRhdGlvblNldCI7aWMuVEFHX05BTUU9IlJvbGUiO2pjLlRBR19OQU1FPSJBY2Nlc3NpYmlsaXR5IjtrYy5UQUdfTkFNRT0iQ29udGVudENvbXBvbmVudCI7bmMuVEFHX05BTUU9IlJlcHJlc2VudGF0aW9uIjtwYy5UQUdfTkFNRT0iQ29udGVudFByb3RlY3Rpb24iOwpxYy5UQUdfTkFNRT0iY2VuYzpwc3NoIjtyYy5UQUdfTkFNRT0iQmFzZVVSTCI7b2MuVEFHX05BTUU9IkF1ZGlvQ2hhbm5lbENvbmZpZ3VyYXRpb24iO3NjLlRBR19OQU1FPSJMb2NhdGlvbiI7dGMuVEFHX05BTUU9IlNlZ21lbnRCYXNlIjt3Yy5UQUdfTkFNRT0iUmVwcmVzZW50YXRpb25JbmRleCI7bGMuVEFHX05BTUU9IkZCSW5pdGlhbGl6YXRpb25CaW5hcnkiO21jLlRBR19OQU1FPSJGQlNlZ21lbnRJbmRleEJpbmFyeSI7eGMuVEFHX05BTUU9IkluaXRpYWxpemF0aW9uIjt5Yy5UQUdfTkFNRT0iU2VnbWVudExpc3QiO3pjLlRBR19OQU1FPSJTZWdtZW50VVJMIjtBYy5UQUdfTkFNRT0iU2VnbWVudFRlbXBsYXRlIjtCYy5UQUdfTkFNRT0iU2VnbWVudFRpbWVsaW5lIjtDYy5UQUdfTkFNRT0iUyI7CmZjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMudXJsPWEuQWM7dGhpcy5pZD1OKGIsImlkIixPKTt0aGlzLnR5cGU9TihiLCJ0eXBlIixPKXx8InN0YXRpYyI7dGhpcy5tYW5pZmVzdElzTGl2ZVN0cmVhbWluZz0iZHluYW1pYyI9PT10aGlzLnR5cGU7dGhpcy5GQldhc0xpdmU9TihiLCJGQldhc0xpdmUiLEVjKXx8ITE7dGhpcy5GQklzTGl2ZVRlbXBsYXRlZD1OKGIsIkZCSXNMaXZlVGVtcGxhdGVkIixFYyl8fCExO3RoaXMuRkJNYW5pZmVzdElkZW50aWZpZXI9TihiLCJGQk1hbmlmZXN0SWRlbnRpZmllciIsTyl8fCIiO3RoaXMuRkJNUz1OKGIsIkZCTVMiLEVjKXx8ITE7VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJvdmVycmlkZV9mYl9pc19saXZlX3RlbXBsYXRlZCIsITEpJiYodGhpcy5GQklzTGl2ZVRlbXBsYXRlZD0hMSk7dGhpcy5iPU4oYiwibWVkaWFQcmVzZW50YXRpb25EdXJhdGlvbiIsRmMpO3RoaXMubT1OKGIsIm1pbkJ1ZmZlclRpbWUiLApGYyx0aGlzLm0pO3RoaXMuZz1OKGIsIm1pbmltdW1VcGRhdGVQZXJpb2QiLEZjLHRoaXMuZyk7dGhpcy5jPU4oYiwiYXZhaWxhYmlsaXR5U3RhcnRUaW1lIixHYyx0aGlzLmMpO3RoaXMuZj1OKGIsInRpbWVTaGlmdEJ1ZmZlckRlcHRoIixGYyx0aGlzLmYpO3RoaXMuY3VycmVudFNlcnZlclRpbWVNcz1OKGIsImN1cnJlbnRTZXJ2ZXJUaW1lTXMiLFApO04oYiwiZmlyc3RBdlRpbWVNcyIsUCk7dGhpcy5sYXN0VmlkZW9GcmFtZVRzPU4oYiwibGFzdFZpZGVvRnJhbWVUcyIsUCk7dGhpcy5mPW51bGw7dGhpcy5vPU4oYiwic3VnZ2VzdGVkUHJlc2VudGF0aW9uRGVsYXkiLEZjLHRoaXMubyk7dGhpcy5oPU4oYiwibG9hcFN0cmVhbVR5cGUiLEhjLHRoaXMuaCk7dGhpcy5pPU4oYiwidXNpbmdBU1JDYXB0aW9ucyIsSGMsdGhpcy5pKTt0aGlzLmo9TihiLCJpc1VzaW5nQXNyQ2FwdGlvbnNFbXBsb3llZURvZ2Zvb2RpbmciLEhjLHRoaXMuaik7dmFyIGM9YS5iYXNlVXJsLGQ9SWModGhpcywKYixyYyk7dGhpcy5iYXNlVXJsPUpjKGMsZCk7aWYoZD1NKHRoaXMsYixzYykpdGhpcy51PUtjKGMsZC51cmwpO3RoaXMuYT1JYyh0aGlzLGIsZ2MpfTtmdW5jdGlvbiBMYyhhLGIsYyxkKXtpZigwIT09YS5hLmxlbmd0aCl7dmFyIGU9bmV3IGhjO2UuY29udGVudFR5cGU9InRleHQiO2UubGFuZz1jfHwiZW4iO2UuZj0hMDtjPW5ldyBuYztjLmJhbmR3aWR0aD0wO2MubWltZVR5cGU9ZHx8InRleHQvdnR0IjtjLmJhc2VVcmw9W25ldyBMKGIpXTtlLmEucHVzaChjKTthLmFbMF0uYS5wdXNoKGUpO01jKGEuYVswXSl9fQpnYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt0aGlzLmlkPU4oYiwiaWQiLE8pO3RoaXMuc3RhcnQ9TihiLCJzdGFydCIsRmMpO3RoaXMuZHVyYXRpb249TihiLCJkdXJhdGlvbiIsRmMpO3ZhciBjPUljKHRoaXMsYixyYyk7dGhpcy5iYXNlVXJsPUpjKGEuYmFzZVVybCxjKTt0aGlzLmI9TSh0aGlzLGIsdGMpO3RoaXMuYz1NKHRoaXMsYix5Yyk7dGhpcy5mPU0odGhpcyxiLEFjKTt0aGlzLmE9SWModGhpcyxiLGhjKTtNYyh0aGlzKX07ZnVuY3Rpb24gTWMoYSl7Zm9yKHZhciBiPVtdLGM9MDtjPGEuYS5sZW5ndGg7KytjKXt2YXIgZD1hLmFbY107bnVsbCE9ZC5ncm91cCYmKGJbZC5ncm91cF09ITApfWZvcihjPTA7YzxhLmEubGVuZ3RoOysrYylpZihkPWEuYVtjXSxudWxsPT1kLmdyb3VwKXtmb3IodmFyIGU9MTsxPT1iW2VdOykrK2U7YltlXT0hMDtkLmdyb3VwPWV9fQpoYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt2YXIgYz1NKHRoaXMsYixrYyl8fHt9LGQ9TSh0aGlzLGIsaWMpO3RoaXMuaWQ9TihiLCJpZCIsTyk7dGhpcy5ncm91cD1OKGIsImdyb3VwIixQKTt0aGlzLmxhbmc9TihiLCJsYW5nIixPLGMubGFuZyk7dGhpcy5jb250ZW50VHlwZT1OKGIsImNvbnRlbnRUeXBlIixPLGMuY29udGVudFR5cGUpO3RoaXMud2lkdGg9TihiLCJ3aWR0aCIsUSk7dGhpcy5oZWlnaHQ9TihiLCJoZWlnaHQiLFEpO3RoaXMubWltZVR5cGU9TihiLCJtaW1lVHlwZSIsTyk7dGhpcy5jb2RlY3M9TihiLCJjb2RlY3MiLE8pO3RoaXMuYz1OKGIsIkZCUHJvamVjdGlvbiIsTyk7dGhpcy5mPWQmJiJtYWluIj09ZC52YWx1ZTt0aGlzLmxhbmcmJih0aGlzLmxhbmc9U2EodGhpcy5sYW5nKSk7Yz1JYyh0aGlzLGIscmMpO3RoaXMuYmFzZVVybD1KYyhhLmJhc2VVcmwsYyk7dGhpcy5qPUljKHRoaXMsYixwYyk7IXRoaXMuY29udGVudFR5cGUmJnRoaXMubWltZVR5cGUmJgoodGhpcy5jb250ZW50VHlwZT10aGlzLm1pbWVUeXBlLnNwbGl0KCIvIilbMF0pO3RoaXMuZz1hLmI/T2ModGhpcyxiLGEuYik6TSh0aGlzLGIsdGMpO3RoaXMuaD1hLmM/T2ModGhpcyxiLGEuYyk6TSh0aGlzLGIseWMpO3RoaXMuaT1hLmY/T2ModGhpcyxiLGEuZik6TSh0aGlzLGIsQWMpO3RoaXMuYT1JYyh0aGlzLGIsbmMpO3RoaXMuYj1NKHRoaXMsYixqYyk7IXRoaXMubWltZVR5cGUmJnRoaXMuYS5sZW5ndGgmJih0aGlzLm1pbWVUeXBlPXRoaXMuYVswXS5taW1lVHlwZSwhdGhpcy5jb250ZW50VHlwZSYmdGhpcy5taW1lVHlwZSYmKHRoaXMuY29udGVudFR5cGU9dGhpcy5taW1lVHlwZS5zcGxpdCgiLyIpWzBdKSl9O2ljLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMudmFsdWU9TihiLCJ2YWx1ZSIsTyl9O2pjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMuYT1OKGIsInNjaGVtZUlkVXJpIixPKTt0aGlzLmxhbmc9TihiLCJsYW5nIixPKX07CmtjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMuaWQ9TihiLCJpZCIsTyk7dGhpcy5sYW5nPU4oYiwibGFuZyIsTyk7dGhpcy5jb250ZW50VHlwZT1OKGIsImNvbnRlbnRUeXBlIixPKTt0aGlzLmxhbmcmJih0aGlzLmxhbmc9U2EodGhpcy5sYW5nKSl9OwpuYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt0aGlzLmlkPU4oYiwiaWQiLE8pO3RoaXMuYmFuZHdpZHRoPU4oYiwiYmFuZHdpZHRoIixRKTt0aGlzLndpZHRoPU4oYiwid2lkdGgiLFEsYS53aWR0aCk7dGhpcy5oZWlnaHQ9TihiLCJoZWlnaHQiLFEsYS5oZWlnaHQpO3RoaXMubWltZVR5cGU9TihiLCJtaW1lVHlwZSIsTyxhLm1pbWVUeXBlKTt0aGlzLmNvZGVjcz1OKGIsImNvZGVjcyIsTyxhLmNvZGVjcyk7dGhpcy5mYlF1YWxpdHlMYWJlbD1OKGIsIkZCUXVhbGl0eUxhYmVsIixPKTt0aGlzLmZiUXVhbGl0eUNsYXNzPU4oYiwiRkJRdWFsaXR5Q2xhc3MiLE8pO3RoaXMubT1OKGIsIkZCQWJyUG9saWN5VGFncyIsTyk7VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJtcGRfcGFyc2VfbW9zX2F0dHJpYnV0ZXMiLCExKSYmKHRoaXMubz1OKGIsIkZCUGxheWJhY2tSZXNvbHV0aW9uTW9zIixNb3NVdGlscy5wYXJzZVBsYXliYWNrTW9zKSx0aGlzLnU9TihiLAoiRkJQbGF5YmFja1Jlc29sdXRpb25Nb3NDb25maWRlbmNlTGV2ZWwiLE8pKTtWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woIm1wZF9wYXJzZV9mcmFtZV9hbmRfYXVkaW9fc2FtcGxpbmdfcmF0ZSIsITEpJiYodGhpcy5mcmFtZVJhdGU9TihiLCJmcmFtZVJhdGUiLE8pLHRoaXMuaj1OKGIsImF1ZGlvU2FtcGxpbmdSYXRlIixRKSk7dGhpcy5sYW5nPWEubGFuZzt2YXIgYz1JYyh0aGlzLGIscmMpO3RoaXMuYmFzZVVybD1KYyhhLmJhc2VVcmwsYyk7VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJhZGRfaW5saW5lX2luaXRpYWxpemF0aW9uX3Jlc291cmNlcyIsITEpJiYodGhpcy5nPU0odGhpcyxiLGxjKSx0aGlzLmg9TSh0aGlzLGIsbWMpKTt0aGlzLmM9SWModGhpcyxiLHBjKTt0aGlzLmk9TSh0aGlzLGIsb2MpO3RoaXMuZj1hLmc/T2ModGhpcyxiLGEuZyk6TSh0aGlzLGIsdGMpO3RoaXMuYj1hLmg/T2ModGhpcyxiLGEuaCk6TSh0aGlzLGIsCnljKTt0aGlzLmE9YS5pP09jKHRoaXMsYixhLmkpOk0odGhpcyxiLEFjKTt0aGlzLmM9dGhpcy5jLmNvbmNhdChhLmopfTtsYy5wcm90b3R5cGUucGFyc2U9bWMucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7aWYoYiYmYi5maXJzdENoaWxkKXt2YXIgYz1QYyhiKTtudWxsIT1jJiYodGhpcy5kYXRhPUtiKGMpLmJ1ZmZlcil9fTtwYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt0aGlzLmM9Yjt0aGlzLmY9TihiLCJzY2hlbWVJZFVyaSIsTyk7dmFyIGM9TihiLCJjZW5jOmRlZmF1bHRfS0lEIixPKTtjJiYodGhpcy5iPWMucmVwbGFjZSgvWy1dL2csIiIpKTt0aGlzLmE9TSh0aGlzLGIscWMpfTsKcWMucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dmFyIGM9UGMoYik7aWYoYyl7dGhpcy5wc3NoQm94PUtiKGMpO3RyeXt0aGlzLnBhcnNlZFBzc2g9bmV3IFFiKHRoaXMucHNzaEJveCl9Y2F0Y2goZCl7aWYoIShkIGluc3RhbmNlb2YgUmFuZ2VFcnJvcikpdGhyb3cgZDt9fX07cmMucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dmFyIGM9Yi5jaGlsZE5vZGVzLGQ9IiI7aWYoMT09Yy5sZW5ndGgpZD1QYyhiKTtlbHNlIGZvcih2YXIgZT0wO2U8Yy5sZW5ndGg7ZSsrKWNbZV0ubm9kZVR5cGU9PU5vZGUuVEVYVF9OT0RFJiYoZCs9Y1tlXS5ub2RlVmFsdWUpO3RoaXMudXJsPWR9O3NjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMudXJsPVBjKGIpfTsKdGMucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dGhpcy5iYXNlVXJsPWEuYmFzZVVybHx8dGhpcy5iYXNlVXJsO3RoaXMucz1OKGIsInRpbWVzY2FsZSIsUSx0aGlzLnMpO3RoaXMuTD1OKGIsInByZXNlbnRhdGlvblRpbWVPZmZzZXQiLFAsdGhpcy5MKTt0aGlzLmE9TihiLCJpbmRleFJhbmdlIixRYyx0aGlzLmEpO3RoaXMuZj1OKGIsIkZCRmlyc3RTZWdtZW50UmFuZ2UiLFFjLHRoaXMuZik7dGhpcy5iPU0odGhpcyxiLHdjKXx8dGhpcy5iO3RoaXMuYz1NKHRoaXMsYix4Yyl8fHRoaXMuY307d2MucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dmFyIGM9TihiLCJzb3VyY2VVUkwiLE8pO3RoaXMudXJsPUtjKGEuYmFzZVVybCxjKTt0aGlzLmE9TihiLCJyYW5nZSIsUWMsdmMoYS5hKSl9Owp4Yy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt2YXIgYz1OKGIsInNvdXJjZVVSTCIsTyk7dGhpcy51cmw9S2MoYS5iYXNlVXJsLGMpO3RoaXMuYT1OKGIsInJhbmdlIixRYyl9Owp5Yy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt0aGlzLmJhc2VVcmw9YS5iYXNlVXJsfHx0aGlzLmJhc2VVcmw7dGhpcy5zPU4oYiwidGltZXNjYWxlIixRLHRoaXMucyk7dGhpcy5MPU4oYiwicHJlc2VudGF0aW9uVGltZU9mZnNldCIsUCx0aGlzLkwpO3RoaXMuSD1OKGIsImR1cmF0aW9uIixRLHRoaXMuSCk7dmFyIGM9TihiLCJzdGFydE51bWJlciIsUSk7bnVsbCE9YyYmKHRoaXMuYz1jKTt0aGlzLmI9TSh0aGlzLGIseGMpfHx0aGlzLmI7dGhpcy5hPShjPUljKHRoaXMsYix6YykpJiYwPGMubGVuZ3RoP2M6dGhpcy5hO3RoaXMuQz1NKHRoaXMsYixCYyl8fHRoaXMuQztWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImNhbGN1bGF0ZV9xdWlja19kYXNoX3ByZXNlbnRhdGlvbl90aW1lX29mZnNldF9mcm9tX3RpbWVsaW5lIiwhMSkmJihjPVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJjYWxjdWxhdGVfcXVpY2tfZGFzaF9wcmVzZW50YXRpb25fdGltZV9vZmZzZXRfZXBzaWxvbl9tcyIsCjI1MCksdGhpcy5DJiZ0aGlzLkMuTlswXSYmKHRoaXMuTD0xRTM8dGhpcy5DLk5bMF0uc3RhcnRUaW1lP3RoaXMuQy5OWzBdLnN0YXJ0VGltZS1jOnRoaXMuTCkpfTt6Yy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt2YXIgYz1OKGIsIm1lZGlhIixPKTt0aGlzLmI9S2MoYS5iYXNlVXJsLGMpO3RoaXMuYT1OKGIsIm1lZGlhUmFuZ2UiLFFjKX07CkFjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMucz1OKGIsInRpbWVzY2FsZSIsUSx0aGlzLnMpO3RoaXMuTD1OKGIsInByZXNlbnRhdGlvblRpbWVPZmZzZXQiLFAsdGhpcy5MKTt0aGlzLkg9TihiLCJkdXJhdGlvbiIsUSx0aGlzLkgpO3ZhciBjPU4oYiwic3RhcnROdW1iZXIiLFApO251bGwhPWMmJih0aGlzLmI9Yyk7dGhpcy5mPU4oYiwibWVkaWEiLE8sdGhpcy5mKTt0aGlzLmE9TihiLCJpbmRleCIsTyx0aGlzLmEpO3RoaXMuYz1OKGIsImluaXRpYWxpemF0aW9uIixPLHRoaXMuYyk7dGhpcy5DPU0odGhpcyxiLEJjKXx8dGhpcy5DfTtCYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt0aGlzLmE9TihiLCJGQlByZWRpY3RlZE1lZGlhIixPLHRoaXMuYSk7dGhpcy5iPU4oYiwiRkJQcmVkaWN0ZWRNZWRpYUVuZE51bWJlciIsUSk7dGhpcy5OPUljKHRoaXMsYixDYyl9OwpDYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt0aGlzLnN0YXJ0VGltZT1OKGIsInQiLFApO3RoaXMuZHVyYXRpb249TihiLCJkIixQKTt0aGlzLnJlcGVhdD1OKGIsInIiLEhjKX07ZnVuY3Rpb24gSmMoYSxiKXtpZighYnx8MD09PWIubGVuZ3RoKXJldHVybiBhO2Zvcih2YXIgYz1bXSxkPTA7ZDxiLmxlbmd0aDtkKyspe3ZhciBlPWJbZF0udXJsO251bGw9PWF8fDA9PT1hLmxlbmd0aD9jLnB1c2gobmV3IEwoZSkpOihlPUtjKGEuc2xpY2UoMCwxKSxlKSxjLnB1c2goZVswXSkpfXJldHVybiBjfWZ1bmN0aW9uIEtjKGEsYil7aWYoIWIpcmV0dXJuIGE7dmFyIGM9bmV3IEwoYik7cmV0dXJuIGE/YS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVzb2x2ZShjKX0pOltjXX1mdW5jdGlvbiBPYyhhLGIsYyl7dmFyIGQ9dmMoYyk7KGI9UmMoYixjLmNvbnN0cnVjdG9yLlRBR19OQU1FKSkmJmQucGFyc2UoYSxiKTtyZXR1cm4gZH0KZnVuY3Rpb24gTShhLGIsYyl7dmFyIGQ9bnVsbDtpZihiPVJjKGIsYy5UQUdfTkFNRSkpZD1uZXcgYyxkLnBhcnNlKGEsYik7cmV0dXJuIGR9ZnVuY3Rpb24gUmMoYSxiKXtmb3IodmFyIGM9bnVsbCxkPTA7ZDxhLmNoaWxkTm9kZXMubGVuZ3RoO2QrKylpZihhLmNoaWxkTm9kZXNbZF0udGFnTmFtZT09Yil7aWYoYylyZXR1cm4gbnVsbDtjPWEuY2hpbGROb2Rlc1tkXX1yZXR1cm4gY31mdW5jdGlvbiBJYyhhLGIsYyl7Zm9yKHZhciBkPVtdLGU9MDtlPGIuY2hpbGROb2Rlcy5sZW5ndGg7ZSsrKWlmKGIuY2hpbGROb2Rlc1tlXS50YWdOYW1lPT1jLlRBR19OQU1FKXt2YXIgZj1uZXcgYztmLnBhcnNlLmNhbGwoZixhLGIuY2hpbGROb2Rlc1tlXSk7ZC5wdXNoKGYpfXJldHVybiBkfWZ1bmN0aW9uIFBjKGEpe2E9YS5maXJzdENoaWxkO3JldHVybiBhLm5vZGVUeXBlIT1Ob2RlLlRFWFRfTk9ERT9udWxsOmEubm9kZVZhbHVlfQpmdW5jdGlvbiB1YyhhKXtyZXR1cm4gYT9hLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS5jbG9uZSgpfSk6bnVsbH1mdW5jdGlvbiB2YyhhKXtyZXR1cm4gYT9hLmNsb25lKCk6bnVsbH1mdW5jdGlvbiBOKGEsYixjLGQpe2E9YS5oYXNBdHRyaWJ1dGUoYik/YyhhLmdldEF0dHJpYnV0ZShiKSk6bnVsbDtyZXR1cm4gbnVsbCE9YT9hOnZvaWQgMCE9PWQ/ZDpudWxsfWZ1bmN0aW9uIEdjKGEpe2lmKCFhKXJldHVybiBudWxsO2E9RGF0ZS5wYXJzZShhKTtyZXR1cm4gaXNOYU4oYSk/bnVsbDpNYXRoLmZsb29yKGEvMUUzKX0KZnVuY3Rpb24gRmMoYSl7aWYoIWEpcmV0dXJuIG51bGw7dmFyIGI9L15QKD86KFswLTldKilZKT8oPzooWzAtOV0qKU0pPyg/OihbMC05XSopRCk/KD86VCg/OihbMC05XSopSCk/KD86KFswLTldKilNKT8oPzooWzAtOS5dKilTKT8pPyQvLmV4ZWMoYSk7aWYoIWIpcmV0dXJuIG51bGw7YT0wO3ZhciBjPVAoYlsxXSk7YyYmKGErPTMxNTM2RTMqYyk7KGM9UChiWzJdKSkmJihhKz0yNTkyRTMqYyk7KGM9UChiWzNdKSkmJihhKz04NjQwMCpjKTsoYz1QKGJbNF0pKSYmKGErPTM2MDAqYyk7KGM9UChiWzVdKSkmJihhKz02MCpjKTtiPXdpbmRvdy5wYXJzZUZsb2F0KGJbNl0pOyhiPWlzTmFOKGIpP251bGw6YikmJihhKz1iKTtyZXR1cm4gYX0KZnVuY3Rpb24gUWMoYSl7dmFyIGI9LyhbMC05XSspLShbMC05XSspLy5leGVjKGEpO2lmKCFiKXJldHVybiBudWxsO2E9UChiWzFdKTtpZihudWxsPT1hKXJldHVybiBudWxsO2I9UChiWzJdKTtyZXR1cm4gbnVsbD09Yj9udWxsOm5ldyBEYyhhLGIpfWZ1bmN0aW9uIEhjKGEpe2E9d2luZG93LnBhcnNlSW50KGEsMTApO3JldHVybiBpc05hTihhKT9udWxsOmF9ZnVuY3Rpb24gUShhKXthPXdpbmRvdy5wYXJzZUludChhLDEwKTtyZXR1cm4gMDxhP2E6bnVsbH1mdW5jdGlvbiBQKGEpe2E9d2luZG93LnBhcnNlSW50KGEsMTApO3JldHVybiAwPD1hP2E6bnVsbH1mdW5jdGlvbiBFYyhhKXtzd2l0Y2goYS50b0xvd2VyQ2FzZSgpKXtjYXNlICJ0cnVlIjpyZXR1cm4hMDtjYXNlICJmYWxzZSI6cmV0dXJuITE7ZGVmYXVsdDpyZXR1cm4gbnVsbH19ZnVuY3Rpb24gTyhhKXtyZXR1cm4gYX07ZnVuY3Rpb24gU2MoYSxiKXt0aGlzLnVybD1hO3RoaXMuYj1ifHxuZXcgdGI7dGhpcy5qPTA7dGhpcy5nPS0xO3RoaXMuaD10aGlzLmk9MDt0aGlzLmE9bnVsbDt0aGlzLmM9bmV3IEk7dGhpcy5mPW51bGw7dGhpcy5vPXRoaXMuYi5pO3RoaXMubD10aGlzLmIubX1xKCJzaGFrYS51dGlsLkFqYXhSZXF1ZXN0IixTYyk7CmZ1bmN0aW9uIHRiKCl7dGhpcy5ib2R5PW51bGw7dGhpcy5OYT0xO3RoaXMuYz0xRTM7dGhpcy5iPTA7dGhpcy5tZXRob2Q9IkdFVCI7dGhpcy5yZXNwb25zZVR5cGU9ImFycmF5YnVmZmVyIjt0aGlzLlFhPXt9O3RoaXMuZz10aGlzLndpdGhDcmVkZW50aWFscz0hMTt0aGlzLmRhPXRoaXMuYT10aGlzLnU9bnVsbDt0aGlzLmo9ITE7dGhpcy5oPXRoaXMubT10aGlzLmk9dGhpcy5taW1lVHlwZT1udWxsO3RoaXMubz0hMTt0aGlzLnc9LyguKilcLih4eHxmbmEpXC5mYmNkblwubmV0Lzt0aGlzLmY9L2xpdmVzdHJlYW0tbG9va2FzaWRlXC4oZmFjZWJvb2t8d29ya3BsYWNlKVwuY29tJC99dmFyIFRjPSEwO2Z1bmN0aW9uIFVjKGEpe1ZjKGEpO1djKGEpO2EuYi5ib2R5PW51bGw7YS5jLmRlc3Ryb3koKTthLmM9bnVsbDthLmY9bnVsbH0KZnVuY3Rpb24gV2MoYSl7YS5hJiYoYS5hLm9ubG9hZD1udWxsLGEuYS5vbnJlYWR5c3RhdGVjaGFuZ2U9bnVsbCxhLmEub25lcnJvcj1udWxsLGEuYS5vbnRpbWVvdXQ9bnVsbCk7YS5hPW51bGx9ZnVuY3Rpb24gVmMoYSl7LTEhPT1hLmcmJihjbGVhclRpbWVvdXQoYS5nKSxhLmc9LTEpfQpTYy5wcm90b3R5cGUubT1mdW5jdGlvbigpe2lmKHRoaXMuYSlyZXR1cm4gdGhpcy5jO2lmKDA9PXRoaXMudXJsLmxhc3RJbmRleE9mKCJkYXRhOiIsMCkpe3ZhciBhPXRoaXMudXJsLnNwbGl0KCI6IilbMV0uc3BsaXQoIjsiKS5wb3AoKS5zcGxpdCgiLCIpLGI9YS5wb3AoKSxiPSJiYXNlNjQiPT1hLnBvcCgpP3dpbmRvdy5hdG9iKGIucmVwbGFjZSgvLS9nLCIrIikucmVwbGFjZSgvXy9nLCIvIikpOndpbmRvdy5kZWNvZGVVUklDb21wb25lbnQoYik7ImFycmF5YnVmZmVyIj09dGhpcy5iLnJlc3BvbnNlVHlwZSYmKGI9SmIoYikuYnVmZmVyKTthPUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkobmV3IFhNTEh0dHBSZXF1ZXN0KSk7YS5yZXNwb25zZT1iO2EucmVzcG9uc2VUZXh0PWIudG9TdHJpbmcoKTtiPXRoaXMuYztiLnJlc29sdmUoYSk7VWModGhpcyk7cmV0dXJuIGJ9aWYoMD09dGhpcy51cmwubGFzdEluZGV4T2YoImlkYjoiLDApKXJldHVybiB0aGlzLnUoKTt0aGlzLmorKzsKdGhpcy5pPXBlcmZvcm1hbmNlTm93KCk7dGhpcy5ofHwodGhpcy5oPXRoaXMuYi5jKTt0aGlzLmE9bmV3IFhNTEh0dHBSZXF1ZXN0O3ZhciBjPXRoaXMudXJsLGE9bmV3IEwoYyk7VGMmJih0aGlzLmYmJiF0aGlzLmYuc3VwcG9ydHNDYWNoaW5nKCl8fHRoaXMuYi5nKSYmZGMoYS5hLCJfIixEYXRlLm5vdygpKTtjPXRoaXMuYi53LnRlc3QoYyk7aWYobnVsbCE9dGhpcy5iLmEmJmMpe3ZhciBkPXRoaXMuYi5hLGU9YS5hO251bGwhPWQuYSYmKGQuaD1kLmEuZ2V0U2VnbWVudHNUb1B1c2goKSxkLmY9ZC5hLmdldFNlZ21lbnRTdGFydFRpbWUoKSxkLmc9ZC5hLmdldFNlZ21lbnRPZmZzZXQoKSxkLmM9ZC5hLmdldFB1c2hWaWRlb1JlcHJlc2VudGF0aW9uSUQoKSxkLmI9ZC5hLmdldFB1c2hBdWRpb1JlcHJlc2VudGF0aW9uSUQoKSxkLmo9ZC5hLmdldFVzZUxvbmdDYWNoZUZvck1hbmlmZXN0KCkpO251bGwhPWQuaCYmZGMoZSwiX25jX3BfbiIsZC5oKTtudWxsIT1kLmY/ZGMoZSwiX25jX3BfdHMiLApkLmYpOm51bGwhPWQuZyYmZGMoZSwiX25jX3BfbyIsZC5nKTtudWxsIT1kLmMmJm51bGwhPWQuYiYmKGRjKGUsIl9uY19wX3JpZCIsZC5jKSxkYyhlLCJfbmNfcF9hcmlkIixkLmIpKTtkLmkmJmRjKGUsIl9uY19wX2RiZyIsIjEiKTtkLmomJmRjKGUsIl9uY19uYyIsIjEiKX0xPT10aGlzLmIuaiYmYyYmZGMoYS5hLCJfbmNfcGxheWluZyIsMSk7dGhpcy5iLm8mJmRjKGEuYSwiX25jX3NjIiwxKTtjPWEudG9TdHJpbmcoKTthPXRoaXMuYi5mLnRlc3QoYS5oYSk7dGhpcy5hLm9wZW4odGhpcy5iLm1ldGhvZCxjLCEwKTt0aGlzLmEucmVzcG9uc2VUeXBlPXRoaXMuYi5yZXNwb25zZVR5cGU7dGhpcy5hLnRpbWVvdXQ9dGhpcy5iLmI7dGhpcy5hLndpdGhDcmVkZW50aWFscz10aGlzLmIud2l0aENyZWRlbnRpYWxzfHxhO3NldEV2ZW50UHJvcGVydHkodGhpcy5hLCJvbmxvYWQiLHRoaXMuZmQuYmluZCh0aGlzKSk7c2V0RXZlbnRQcm9wZXJ0eSh0aGlzLmEsIm9ucmVhZHlzdGF0ZWNoYW5nZSIsCnRoaXMubGQuYmluZCh0aGlzKSk7c2V0RXZlbnRQcm9wZXJ0eSh0aGlzLmEsIm9uZXJyb3IiLHRoaXMuZGQuYmluZCh0aGlzKSk7c2V0RXZlbnRQcm9wZXJ0eSh0aGlzLmEsIm9udGltZW91dCIsdGhpcy5xZC5iaW5kKHRoaXMpKTtzZXRFdmVudFByb3BlcnR5KHRoaXMuYSwib25hYm9ydCIsdGhpcy4kYy5iaW5kKHRoaXMpKTtmb3IoYiBpbiB0aGlzLmIuUWEpdGhpcy5hLnNldFJlcXVlc3RIZWFkZXIoYix0aGlzLmIuUWFbYl0pO3RoaXMuYS5zZW5kKHRoaXMuYi5ib2R5KTtyZXR1cm4gdGhpcy5jfTtTYy5wcm90b3R5cGUuc2VuZD1TYy5wcm90b3R5cGUubTsKZnVuY3Rpb24gWGMoYSxiLGMpe2I9RXJyb3IoYik7Yi50eXBlPWM7Yi5zdGF0dXM9YS5hLnN0YXR1cztiLnVybD1hLnVybDtWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImVuYWJsZV9kb3VibGVfaW5nZXN0IiwhMSkmJihiLnJlc3BvbnNlSGVhZGVycz1wYXJzZUhlYWRlcnMoYS5hLmdldEFsbFJlc3BvbnNlSGVhZGVycygpKSk7Yi5tZXRob2Q9YS5iLm1ldGhvZDtiLmJvZHk9YS5iLmJvZHk7cmV0dXJuIGJ9bj1TYy5wcm90b3R5cGU7bi5hYm9ydD1mdW5jdGlvbigpe1ZjKHRoaXMpO2lmKHRoaXMuYSYmdGhpcy5hLnJlYWR5U3RhdGUhPVhNTEh0dHBSZXF1ZXN0LkRPTkUmJih0aGlzLmEuYWJvcnQoKSwhVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJmaXhfc2hha2FfdXRpbF9hamF4X3JlcXVlc3RfYWJvcnQiLCEwKSkpe3ZhciBhPVhjKHRoaXMsIlJlcXVlc3QgYWJvcnRlZC4iLCJhYm9ydGVkIik7dGhpcy5jLnJlamVjdChhKTtVYyh0aGlzKX19OwpuLiRjPWZ1bmN0aW9uKCl7aWYoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJmaXhfc2hha2FfdXRpbF9hamF4X3JlcXVlc3RfYWJvcnQiLCEwKSl7dmFyIGE9WGModGhpcywiUmVxdWVzdCBhYm9ydGVkLiIsImFib3J0ZWQiKTt0aGlzLmMucmVqZWN0KGEpO1VjKHRoaXMpfX07Cm4uZmQ9ZnVuY3Rpb24oYSl7aWYodGhpcy5mKXt2YXIgYj1WaWRlb1BsYXllclJlc291cmNlVGltZXIuZ2V0UmVzb3VyY2VUaW1pbmdFbnRyeSh0aGlzLnVybCx0aGlzLmkscGVyZm9ybWFuY2VOb3coKSk7dGhpcy5mLnNhbXBsZShwZXJmb3JtYW5jZU5vdygpLXRoaXMuaSxhLmxvYWRlZHx8dGhpcy5hLnJlc3BvbnNlJiZ0aGlzLmEucmVzcG9uc2UuYnl0ZUxlbmd0aHx8MCx0aGlzLmIubWltZVR5cGU/InYiPT09dGhpcy5iLm1pbWVUeXBlLmNoYXJBdCgwKTohMSxiLHRoaXMubyx0aGlzLmwsVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJldmFsdWF0ZV9hYnJfb25fZmV0Y2hfZW5kIiwhMSkpfWE9WzQwM107MjAwPD10aGlzLmEuc3RhdHVzJiYyOTk+PXRoaXMuYS5zdGF0dXM/KFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgiZW5hYmxlX2RvdWJsZV9pbmdlc3QiLCExKSYmbnVsbCE9cGFyc2VIZWFkZXJzKHRoaXMuYS5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSlbIngtZmItdmlkZW8tcmVwbGljYSJdPwooYT1YYyh0aGlzLCJIVFRQIGVycm9yLiIsIm5ldCIpLHRoaXMuYy5yZWplY3QoYSkpOnRoaXMuYy5yZXNvbHZlKHRoaXMuYSksVWModGhpcykpOiFWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInJlbW92ZV9hamF4X3Jlc2VuZF9pbnRlcm5hbCIsITApJiZ0aGlzLmo8dGhpcy5iLk5hJiYtMT09PWEuaW5kZXhPZih0aGlzLmEuc3RhdHVzKT9ZYyh0aGlzKTooYT1YYyh0aGlzLCJIVFRQIGVycm9yLiIsIm5ldCIpLHRoaXMuYy5yZWplY3QoYSksVWModGhpcykpfTsKbi5sZD1mdW5jdGlvbigpe2lmKHRoaXMuYS5yZWFkeVN0YXRlPT1YTUxIdHRwUmVxdWVzdC5IRUFERVJTX1JFQ0VJVkVEJiYodGhpcy5hLllhPURhdGUubm93KCktdGhpcy5pLHRoaXMuYi5hJiZ0aGlzLmIuZGEmJnRoaXMuYi5kYS5hZGRQdXNoRGF0YUZyb21YSFIodGhpcy5hKSx0aGlzLmIuaCYmdGhpcy5iLmguaGFuZGxlWEhSKHRoaXMuYSksVmlkZW9DbGllbnRFZGdlQ29vcGVyYXRpb24udXBkYXRlRnJvbVhIUih0aGlzLmEpLHRoaXMuYi5nKSl7dmFyIGE9RGF0ZS5wYXJzZSh0aGlzLmEuZ2V0UmVzcG9uc2VIZWFkZXIoIkRhdGUiKSk7YSYmKHphPWEtRGF0ZS5ub3coKSl9fTtuLmRkPWZ1bmN0aW9uKCl7dmFyIGE9WGModGhpcywiTmV0d29yayBmYWlsdXJlLiIsIm5ldCIpO3RoaXMuYy5yZWplY3QoYSk7VWModGhpcyl9OwpuLnFkPWZ1bmN0aW9uKCl7aWYoIVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgicmVtb3ZlX2FqYXhfcmVzZW5kX2ludGVybmFsIiwhMCkmJnRoaXMuajx0aGlzLmIuTmEpWWModGhpcyk7ZWxzZXt2YXIgYT1YYyh0aGlzLCJSZXF1ZXN0IHRpbWVkIG91dC4iLCJuZXQiKTt0aGlzLmMucmVqZWN0KGEpO1VjKHRoaXMpfX07ZnVuY3Rpb24gWWMoYSl7V2MoYSk7YS5nPXNldFRpbWVvdXQoZnVuY3Rpb24oKXt0aGlzLmc9LTE7dGhpcy5tKCl9LmJpbmQoYSksYS5oKigxKy41KigyKk1hdGgucmFuZG9tKCktMSkpKTthLmgqPTJ9O2Z1bmN0aW9uIEsoYSxiLGMsZCxlLGYpe3RoaXMuYz1iO3RoaXMuc3RhcnRCeXRlPWN8fDA7dGhpcy5iYXNlVXJsPXRoaXMudG9TdHJpbmcoKTt0aGlzLmVuZEJ5dGU9bnVsbCE9ZD9kOm51bGw7dGhpcy5pc1ByZWRpY3RpdmU9ZXx8ITE7dGhpcy5mPW51bGw7dGhpcy5tPTA7dGhpcy5BPSExO3RoaXMuTmM9dGhpcy5nPW51bGw7dGhpcy5vPWE7dGhpcy5pPW51bGw7dGhpcy5qPXRoaXMudT0hMTt0aGlzLmI9dGhpcy5hPW51bGw7dGhpcy5oPWZ8fG51bGx9cSgic2hha2EudXRpbC5GYWlsb3ZlclVyaSIsSyk7Sy5wcm90b3R5cGUudz1mdW5jdGlvbihhKXt0aGlzLkE9YX07Sy5wcm90b3R5cGUuc2V0U2hvdWxkUmVhZFhGYlZpZGVvQnJvYWRjYXN0RW5kZWRIZWFkZXI9Sy5wcm90b3R5cGUudztLLnByb3RvdHlwZS5EPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubX07Sy5wcm90b3R5cGUuZ2V0RmJWaWRlb0Jyb2FkY2FzdEVuZGVkUmVzcG9uc2VIZWFkZXI9Sy5wcm90b3R5cGUuRDsKSy5wcm90b3R5cGUuRj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YXJ0Qnl0ZX07Sy5wcm90b3R5cGUuZ2V0U3RhcnRCeXRlPUsucHJvdG90eXBlLkY7Sy5wcm90b3R5cGUuQj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVuZEJ5dGV9O0sucHJvdG90eXBlLmdldEVuZEJ5dGU9Sy5wcm90b3R5cGUuQjtmdW5jdGlvbiBaYyhhLGIpe3JldHVybiBhJiYwIT09YS5sZW5ndGg/YS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVzb2x2ZShiKX0pOltiXX1uPUsucHJvdG90eXBlO24uZmV0Y2g9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxoKXtyZXR1cm4gdGhpcy5mP3RoaXMuZjp0aGlzLmY9JGModGhpcywwLGF8fG5ldyB0YixiLGMsZCxlLGYsZyxoKX07bi5zdHJlYW09ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxoLGspe3JldHVybiBhZCh0aGlzLDAsYXx8bmV3IHRiLGIsYyxkLGUsZixnLGgsayl9OwpmdW5jdGlvbiAkYyhhLGIsYyxkLGUsZixnLGgsayxsKXtyZXR1cm4gYWQoYSxiLGMsZCxlLGYsZyxoLGssbCkudGhlbihmdW5jdGlvbihhKXt2YXIgYixjPWZ1bmN0aW9uKCl7cmV0dXJuIGEucmVhZCgpLnRoZW4oZnVuY3Rpb24oYSl7dmFyIGQ9YS52YWx1ZTtpZihhLmRvbmUpcmV0dXJuIGJ8fG5ldyBBcnJheUJ1ZmZlcigwKTtkJiYoInN0cmluZyI9PT10eXBlb2YgZD9iPShifHwiIikrZDpiPWNvbmNhdEFycmF5QnVmZmVyKGJ8fG5ldyBBcnJheUJ1ZmZlcigwKSxkKSk7cmV0dXJuIGMoKX0uYmluZCh0aGlzKSl9LmJpbmQodGhpcyk7cmV0dXJuIGMoKX0pfQpuLkthPWZ1bmN0aW9uKCl7dGhpcy5nJiYodGhpcy5hPXRoaXMuZj1udWxsLHRoaXMuZy5hYm9ydCgpLHRoaXMuaT10aGlzLmc9bnVsbCk7dGhpcy5OYyYmVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJlbmFibGVfcDJwX3N1cHBvcnQiLCExKSYmKHRoaXMuRy5hYm9ydCgpLHRoaXMuRz1udWxsKTt0aGlzLmImJih0aGlzLmIuYWJvcnRSZXF1ZXN0KGJkKHRoaXMpKSxWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImZpeGluZ19zY2hlZHVsZXJfZGlzYWJsZV9sZWFrcyIsITApJiYodGhpcy5iPW51bGwpKX07CmZ1bmN0aW9uIGFkKGEsYixjLGQsZSxmLGcsaCxrLGwsbSl7YS5iPWx8fG51bGw7dmFyIHA7ZSYmKGMuYSYmKGMuYS5pPSEwKSxsPTAsYy5kYSYmKGw9Yy5kYS5nZXRQdXNoQ291bnRGb3JVcmwoYS5jW2JdLnRvU3RyaW5nKCkpKSwocD1lLmdldE9wZXJhdGlvbkxvZ2dlcigicmVxdWVzdCIpKSYmcC5zZXRSZWFzb24oa3x8bnVsbCkuc2V0UHVzaGVkKGwpLnNldFR5cGUoaHx8bnVsbCkuc2V0SW5pdGlhdG9yKCJzaGFrYSIpLnN0YXJ0KCksZiYmKHA9cC5zZXRQYXJlbnRMb2dnZXIoZikpKTt2YXIgdD1wZXJmb3JtYW5jZU5vdygpO2EuYT1udWxsO2cmJihjLmk9Zyk7ZSYmKGMubT1lKTt2YXIgdz1jZChhLGEuY1tiXSxjKTtrPW51bGw7YS5qPSExO3ZhciB6PVZpZGVvRGFzaFByZWZldGNoQ2FjaGUuZ2V0Q2FjaGVWYWx1ZSh3KTt6JiYoaz16LGEuaj0hMCxwJiYocC5zZXRDb25uZWN0aW9uUXVhbGl0eUxldmVsKFZpZGVvRGFzaFByZWZldGNoQ2FjaGUuZ2V0Q29ubmVjdGlvblF1YWxpdHlMZXZlbCh3KSksCnAuc2V0SW5pdGlhdG9yKCJwcmVmZXRjaCIpKSk7aWYoIXomJm0pcmV0dXJuIG0uZ2V0U3RyZWFtKGJkKGEpKS50aGVuKGZ1bmN0aW9uKGEpe3JldHVybiBhLmdldFJlYWRlcigpfS5iaW5kKGEpKTttPW51bGw7aWYoYS5iJiYhYS5iLmlzRGlzYWJsZWQoKSYmIWspdHJ5eyhrPW09YS5iLmdldFByb21pc2UoYmQoYSkpKT9wPW51bGw6YS5iLmRpc2FibGUoKX1jYXRjaChIKXtlJiZlLmdldEV2ZW50TG9nZ2VyKCJyZXF1ZXN0X2luZm9fbm90X2ZvdW5kIikuc2V0UmVzb3VyY2UodykubG9nKCl9IWsmJmEuaCYmYS5oLmNyZWF0ZVByb21pc2UmJihtPW5ldyBMKHcpLG09Yy5mLnRlc3QobS5oYSksaz1hLmguY3JlYXRlUHJvbWlzZSh7dXJsOncscmVzcG9uc2VUeXBlOmMucmVzcG9uc2VUeXBlLE9kOmMuYyxLZDoyLE5hOmMuTmEsd2l0aENyZWRlbnRpYWxzOmMud2l0aENyZWRlbnRpYWxzfHxtLFFhOmMuUWF9LGZ1bmN0aW9uKGEpe3RoaXMuTmM9YTt2YXIgYj1wZXJmb3JtYW5jZU5vdygpOwphLm9ubG9hZD1mdW5jdGlvbihmKXtpZihkKXt2YXIgaD1WaWRlb1BsYXllclJlc291cmNlVGltZXIuZ2V0UmVzb3VyY2VUaW1pbmdFbnRyeSh3LGIscGVyZm9ybWFuY2VOb3coKSk7ZC5zYW1wbGUocGVyZm9ybWFuY2VOb3coKS1iLGYubG9hZGVkfHxhLnJlc3BvbnNlJiZhLnJlc3BvbnNlLmJ5dGVMZW5ndGh8fDAsYy5taW1lVHlwZT8idiI9PT1jLm1pbWVUeXBlLmNoYXJBdCgwKTohMSxoLGcsZSxWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImV2YWx1YXRlX2Ficl9vbl9mZXRjaF9lbmQiLCExKSl9fX0pKTtrfHwoYS5nPW5ldyBTYyh3LGMpLGEubT0wLGQmJihhLmcuZj1kKSxrPWEuZy5tKCkpO3AmJnAuc2V0UmVzb3VyY2Uodyk7ZiYmZi5zZXRSZXNvdXJjZSh3KTt2YXIgZGE9ITEsZWE9ay50aGVuKEooYSxmdW5jdGlvbihhKXt2YXIgYz10aGlzLmg/dGhpcy5oLm9uUmVxdWVzdFNlbmQ6bnVsbDshY3x8InZpZGVvIiE9aCYmImF1ZGlvIiE9aCYmIm1hbmlmZXN0IiE9Cmh8fGMoITAsaCxhLnJlc3BvbnNlLmJ5dGVMZW5ndGgpOyF0aGlzLmJ8fHRoaXMuYi5pc0Rpc2FibGVkKCl8fHRoaXMuYT90aGlzLmF8fCh0aGlzLmE9VmlkZW9QbGF5ZXJSZXNvdXJjZVRpbWVyLmdldFJlc291cmNlVGltaW5nRW50cnkodyx0aGlzLmo/MDp0LHBlcmZvcm1hbmNlTm93KCkpKTp0aGlzLmE9dGhpcy5iLmdldFJlc291cmNlVGltaW5nRW50cnkodyk7VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJzYW1wbGVfcHJlZmV0Y2hfYmFuZHdpZHRoIiwhMSkmJnomJnRoaXMuYSYmMDx0aGlzLmEudGltZVRvTGFzdEJ5dGUmJmQmJmQuc2FtcGxlKHRoaXMuYS50aW1lVG9MYXN0Qnl0ZSxhLnJlc3BvbnNlLmJ5dGVMZW5ndGgsInYiPT09aC5jaGFyQXQoMCksdGhpcy5hLGcsZSwhMCk7aWYodGhpcy5BKXRyeXt0aGlzLm09cGFyc2VJbnQoYS5nZXRSZXNwb25zZUhlYWRlcigieC1mYi12aWRlby1icm9hZGNhc3QtZW5kZWQiKSwxMCl9Y2F0Y2goZil7fXRoaXMuYj0KdGhpcy5pPXRoaXMuZz10aGlzLmY9bnVsbDthLmE/KHRoaXMuaT1uZXcgTChhLmEpLHRoaXMudT0hMCk6dGhpcy5pPXRoaXMuY1tiXTthLnJlc3BvbnNlLllhPWEuWWE7cCYmKHA9cC5zZXRMZW5ndGgoYS5yZXNwb25zZS5ieXRlTGVuZ3RofHxhLnJlc3BvbnNlLmxlbmd0aCkuc2V0V2FzUHJlZmV0Y2hDYWNoZUhpdCh0aGlzLmopLG51bGwhPXRoaXMuYSYmKHA9cC5zZXRUaW1lVG9MYXN0Qnl0ZShNYXRoLnJvdW5kKHRoaXMuYS50aW1lVG9MYXN0Qnl0ZSkpLnNldFRpbWVUb0ZpcnN0Qnl0ZShNYXRoLnJvdW5kKHRoaXMuYS50aW1lVG9GaXJzdEJ5dGUpKS5zZXRUaW1lVG9SZXF1ZXN0U3RhcnQoTWF0aC5yb3VuZCh0aGlzLmEudGltZVRvUmVxdWVzdFN0YXJ0KSksMkUzPD10aGlzLmEudGltZVRvRmlyc3RCeXRlJiYtMTx3LmluZGV4T2YoImFrYW1haWhkIikmJmxvZ0xvbmdBa2FtYWlSZXF1ZXN0KGEuZ2V0UmVzcG9uc2VIZWFkZXIoIkRlYnVnLUluZm8iKSsiLCBUVEZCLT4gIit0aGlzLmEudGltZVRvRmlyc3RCeXRlKwoiLCBUVFJTLT4gIit0aGlzLmEudGltZVRvUmVxdWVzdFN0YXJ0KSkscC5sb2coKSk7cmV0dXJuIFByb21pc2UucmVzb2x2ZSh7dmFsdWU6YS5yZXNwb25zZSxkb25lOiExfSl9KSksZWE9ZWEuY2F0Y2goSihhLGZ1bmN0aW9uKGEpe3ZhciBlPXRoaXMuaD90aGlzLmgub25SZXF1ZXN0U2VuZDpudWxsO2UmJmUoITEsaCwwKTtpZih0aGlzLmYmJmIrMTx0aGlzLmMubGVuZ3RoKXJldHVybiB0aGlzLmY9JGModGhpcyxiKzEsYyxkKTt0aGlzLmI9dGhpcy5hPXRoaXMuZj10aGlzLmc9bnVsbDtwJiZwLnNldEVycm9yKGEpLmxvZygpO3JldHVybiBQcm9taXNlLnJlamVjdChhKX0pKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtjYW5jZWw6ZnVuY3Rpb24oKXt9LHJlYWQ6ZnVuY3Rpb24oKXtyZXR1cm4gZGE/UHJvbWlzZS5yZXNvbHZlKHt2YWx1ZTpudWxsLGRvbmU6ITB9KTplYS50aGVuKGZ1bmN0aW9uKGEpe2RhPSEwO3JldHVybiBhfSl9LmJpbmQoYSl9KX0KZnVuY3Rpb24gYmQoYSl7cmV0dXJue2Jhc2VVcmw6YS50b1N0cmluZygpLGlzUHJlZGljdGl2ZTphLmlzUHJlZGljdGl2ZSxzdGFydEJ5dGU6YS5zdGFydEJ5dGUsZW5kQnl0ZTphLmVuZEJ5dGV9fW4uY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEsodGhpcy5vLHRoaXMuYy5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuY2xvbmUoKX0pLHRoaXMuc3RhcnRCeXRlLHRoaXMuZW5kQnl0ZSx0aGlzLmlzUHJlZGljdGl2ZSx0aGlzLmgpfTtuLmdldFJlc291cmNlVGltaW5nRW50cnk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hfTsKZnVuY3Rpb24gY2QoYSxiLGMpe3ZhciBkPWIudG9TdHJpbmcoKTtpZihhLnN0YXJ0Qnl0ZXx8YS5lbmRCeXRlKWI9Yi5oYSwhYi5lbmRzV2l0aCgiZmJjZG4ubmV0Iil8fGIuc3RhcnRzV2l0aCgiaW50ZXJuY2FjaGUiKXx8Yi5lbmRzV2l0aCgiYWsuZmJjZG4ubmV0Iik/YyYmKGMuUWEuUmFuZ2U9ImJ5dGVzPSIrKGEuc3RhcnRCeXRlKyItIisobnVsbCE9YS5lbmRCeXRlP2EuZW5kQnl0ZToiIikpKTooZCs9IiZieXRlc3RhcnQ9IithLnN0YXJ0Qnl0ZSxkKz1udWxsIT09YS5lbmRCeXRlPyImYnl0ZWVuZD0iK2EuZW5kQnl0ZToiIik7YS5vJiZjJiYoZD1hLm8oZCxjLlFhKXx8ZCk7cmV0dXJuIGR9ZnVuY3Rpb24gdWIoYSl7cmV0dXJuIGNkKGEsYS5jWzBdKX1uLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY1swXS50b1N0cmluZygpfTtmdW5jdGlvbiBkZChhLGIsYyxkKXt0aGlzLmE9bmV3IHRiO2I9bnVsbCE9Yj9iOmlhO3RoaXMuYS5yZXNwb25zZVR5cGU9InRleHQiO3RoaXMuYS5OYT0zO3RoaXMuYS5iPTFFMypiO2MmJih0aGlzLmEuYT1jKTtkJiYodGhpcy5hLmRhPWQpO3RoaXMuYS5nPSEwO3RoaXMuYS53aXRoQ3JlZGVudGlhbHM9dGhpcy5hLmYudGVzdChhKTt0aGlzLmI9YX0KZnVuY3Rpb24gZWQoYSxiKXt2YXIgYz1hLmIsZD1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImRldGVjdF9saXZlX3N0cmVhbV9lbmRlZF9mcm9tX3Jlc3BvbnNlX2hlYWRlcnMiLCExKTtjLncoZCk7cmV0dXJuIGMuZmV0Y2goYS5hLG51bGwsYixudWxsLG51bGwsIm1hbmlmZXN0IikudGhlbihmdW5jdGlvbihhKXthIGluc3RhbmNlb2YgQXJyYXlCdWZmZXImJihhPVN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCxuZXcgVWludDhBcnJheShhKSkpO3ZhciBmPWQmJiEhYy5tLGc7YiYmKGc9Yi5nZXRPcGVyYXRpb25Mb2dnZXIoInBhcnNlX21hbmlmZXN0Iikuc3RhcnQoKSk7YT1lYyhhLGMuYyxbYy5pXSk7ZyYmZy5sb2coKTthJiYiZHluYW1pYyI9PT1hLnR5cGUmJmYmJihhLnR5cGU9InN0YXRpYyIsYiYmQmFuemFpT0RTLmJ1bXBFbnRpdHlLZXkoMjk2NiwidmlkZW9zLnd3dy5zaGFrYSIsImNoYW5nZWRfbWFuaWZlc3RfdG9fZHluYW1pY19vZmZfaGVhZGVycyIpKTsKaWYoYSlyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGEpO2Y9RXJyb3IoIk1QRCBwYXJzZSBmYWlsdXJlLiIpO2YudHlwZT0iZGFzaCI7cmV0dXJuIFByb21pc2UucmVqZWN0KGYpfSl9ZnVuY3Rpb24gZmQoYSl7dGhpcy5hPW51bGw7dGhpcy5oPWE7dGhpcy5jPXRoaXMuZz10aGlzLmY9bnVsbDt0aGlzLmk9ITE7dGhpcy5qPXRoaXMuYj1udWxsfTtmdW5jdGlvbiBnZChhLGIpe3RoaXMuYT1hO3RoaXMuYj1ifHxudWxsfWdkLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5hJiYodGhpcy5hLkthKCksdGhpcy5hPW51bGwpO3RoaXMuYj1udWxsfTtnZC5wcm90b3R5cGUuY3JlYXRlPWZ1bmN0aW9uKGEsYil7dmFyIGM9bnVsbDtiJiYoYz1uZXcgdGIsYy5kYT1iKTtyZXR1cm4hdGhpcy5iJiZ0aGlzLmE/dGhpcy5hLmZldGNoKGMsbnVsbCxhLG51bGwsbnVsbCwiaW5pdCIpOlByb21pc2UucmVzb2x2ZSh0aGlzLmIpfTtnZC5wcm90b3R5cGUuYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmF9O2dkLnByb3RvdHlwZS5nZXRGYWlsb3ZlclVyaT1nZC5wcm90b3R5cGUuYztmdW5jdGlvbiBoZChhLGIpe3RoaXMuc2VnbWVudE9yaWdpbmFsRW5kVGltZT1hO3RoaXMuZ2FwRGlzdGFuY2U9Yn1mdW5jdGlvbiBpZChhLGIsYyxkLGUsZixnKXt0aGlzLnN0YXJ0VGltZT1hO3RoaXMuZW5kVGltZT1iO3RoaXMudXJsPWM7dGhpcy51bnNjYWxlZFN0YXJ0VGltZT1kO3RoaXMudW5zY2FsZWREdXJhdGlvbj1lO3RoaXMudGltZXNjYWxlZEdhcEluZm89Znx8bnVsbDt0aGlzLmlzUHJlZGljdGl2ZT1nfHwhMTt0aGlzLmRlYnVnSW5mbz10aGlzLnRpbWVzY2FsZWRHYXBJbmZvP3tlbmRUaW1lOnRoaXMudGltZXNjYWxlZEdhcEluZm8uc2VnbWVudE9yaWdpbmFsRW5kVGltZSxkZWx0YTp0aGlzLnRpbWVzY2FsZWRHYXBJbmZvLmdhcERpc3RhbmNlfTpudWxsfWZ1bmN0aW9uIGpkKGEsYixjKXtyZXR1cm4gbmV3IGlkKGIsYyxhLnVybCxhLnVuc2NhbGVkU3RhcnRUaW1lLGEudW5zY2FsZWREdXJhdGlvbixhLnRpbWVzY2FsZWRHYXBJbmZvLGEuaXNQcmVkaWN0aXZlKX0KZnVuY3Rpb24geWIoYSxiKXtpZihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInVzZV9iaW5hcnlfc2VhcmNoX3doZW5fZmluZGluZ19zZWdtZW50X3JlZmVyZW5jZXMiLCExKSlyZXR1cm4gQmluYXJ5U2VhcmNoLmZpbmRJbmRleEluQXJyYXkoYSxiLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGI+PWEuc3RhcnRUaW1lJiYobnVsbD09YS5lbmRUaW1lfHxiPGEuZW5kVGltZSk/MDphLnN0YXJ0VGltZS1ifSk7Zm9yKHZhciBjPWEubGVuZ3RoLTE7MDw9YzstLWMpe3ZhciBkPWFbY107aWYoYj49ZC5zdGFydFRpbWUmJihudWxsPT1kLmVuZFRpbWV8fGI8ZC5lbmRUaW1lKSlyZXR1cm4gY31yZXR1cm4tMX1mdW5jdGlvbiBrZChhLGIpe3JldHVybiBhLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gamQoYSxhLnN0YXJ0VGltZStiLG51bGwhPWEuZW5kVGltZT9hLmVuZFRpbWUrYjpudWxsKX0pfTtmdW5jdGlvbiBsZChhLGIsYyxkKXtmb3IodmFyIGU9Yi5hLGY9W10sZz0wO2c8ZDsrK2cpe3ZhciBoPWcrYyxrPShoLTEpKmUuSCxsPWsvZS5zLG09KGsrZS5IKS9lLnMsaD1tZChhLGIsZS5iK2gtMSxrKTtpZighaClyZXR1cm4gbnVsbDtmLnB1c2gobmV3IGlkKGwsbSxoLGssZS5IfHwwKSl9cmV0dXJuIGZ9ZnVuY3Rpb24gbWQoYSxiLGMsZCxlLGYpe2lmKCFiLmEpcmV0dXJuIG51bGw7ZT1lfHwhMTt2YXIgZz1iLmEuZixoPWIuYS5DLmE7aWYoIWcpcmV0dXJuIGIuYmFzZVVybD9uZXcgSyhhLGIuYmFzZVVybCwwLG51bGwsdm9pZCAwLGYpOm51bGw7Yz1uZChlJiZoP2g6ZyxiLmlkLGMsYi5iYW5kd2lkdGgsZCk7aWYoIWMpcmV0dXJuIG51bGw7Yj1aYyhiLmJhc2VVcmwsYyk7cmV0dXJuIG5ldyBLKGEsYiwwLG51bGwsZSxmKX0KZnVuY3Rpb24gbmQoYSxiLGMsZCxlKXt2YXIgZj17UmVwcmVzZW50YXRpb25JRDpiLE51bWJlcjpjLEJhbmR3aWR0aDpkLFRpbWU6ZX07YT1hLnJlcGxhY2UoL1wkKFJlcHJlc2VudGF0aW9uSUR8TnVtYmVyfEJhbmR3aWR0aHxUaW1lKT8oPzolMChbMC05XSspZCk/XCQvZyxmdW5jdGlvbihhLGIsYyl7aWYoIiQkIj09YSlyZXR1cm4iJCI7dmFyIGQ9ZltiXTtpZihudWxsPT1kKXJldHVybiBhOyJSZXByZXNlbnRhdGlvbklEIj09YiYmYyYmKGM9dm9pZCAwKTthPWQudG9TdHJpbmcoKTtjPXdpbmRvdy5wYXJzZUludChjLDEwKXx8MTtjPU1hdGgubWF4KDAsYy1hLmxlbmd0aCk7cmV0dXJuIEFycmF5KGMrMSkuam9pbigiMCIpK2F9KTt0cnl7cmV0dXJuIG5ldyBMKGEpfWNhdGNoKGcpe2lmKGcgaW5zdGFuY2VvZiBVUklFcnJvcilyZXR1cm4gbnVsbDt0aHJvdyBnO319CmZ1bmN0aW9uIG9kKGEsYixjLGQsZSxmKXt2YXIgZz0wLGg9YypiO2M9YS5OO3ZhciBrPWR8fDA7ZD1bXTt2YXIgbD1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigibGl2ZV9yZXdpbmRfdGVtcGxhdGVkX2xhc3RfeF9zZWdtZW50c19vbmx5IiwwKSxtPVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgidGVtcGxhdGVkX2xhc3RfeF90aW1lbGluZSIsITEpJiZlJiZudWxsIT1mLHA9ZSYmbT9WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigidGVtcGxhdGVkX2luZ2VzdF90aHJvdHRsZSIsMCk6MDtpZihsfHxtKXtmb3IoZT0wO2U8Yy5sZW5ndGg7KytlKXtpZighY1tlXS5kdXJhdGlvbilyZXR1cm4gZDt2YXIgdD1jW2VdLnN0YXJ0VGltZSx0PW51bGwhPXQ/dDpnLHc9Y1tlXS5yZXBlYXR8fDA7aWYoMD53KWlmKHc9Y1tlXS5kdXJhdGlvbixlKzE9PT1jLmxlbmd0aCl2YXIgej1jWzBdLnN0YXJ0VGltZStoLXQsdz1NYXRoLmNlaWwoei8KdyktMTtlbHNlIHo9Y1tlKzFdLnN0YXJ0VGltZSx3PU1hdGguY2VpbCgoei10KS93KS0xO2NbZV0uc3RhcnRUaW1lPXQ7Y1tlXS5yZXBlYXQ9dztnPWNbZV0uc3RhcnRUaW1lK2NbZV0uZHVyYXRpb24qKGNbZV0ucmVwZWF0KzEpfWZvcihlPWMubGVuZ3RoLTE7LTE8ZTstLWUpZm9yKHZhciBIPTA7SDw9Y1tlXS5yZXBlYXQ7KytIKWlmKHQ9Y1tlXS5zdGFydFRpbWUrY1tlXS5kdXJhdGlvbiooY1tlXS5yZXBlYXQtSCksZz10K2NbZV0uZHVyYXRpb24sYT1udWxsLGQubGVuZ3RoJiZnIT1kW2QubGVuZ3RoLTFdLnN0YXJ0JiYoej1kW2QubGVuZ3RoLTFdLnN0YXJ0LWcsYT1uZXcgaGQoZy9iLHovYiksZz1kW2QubGVuZ3RoLTFdLnN0YXJ0KSxkLnB1c2goe3N0YXJ0OnQsZW5kOmd9KSxhJiYoZFtkLmxlbmd0aC0xXS50aW1lc2NhbGVkR2FwSW5mbz1hKSxsKXtpZihkLmxlbmd0aD09PWwpcmV0dXJuIGQ9ZC5yZXZlcnNlKCl9ZWxzZSBpZihtJiZkW2QubGVuZ3RoLTFdLnN0YXJ0PD1mKXJldHVybiBkLnBvcCgpLApkPWQucmV2ZXJzZSgpLDA8cCYmKGQ9ZC5zbGljZSgwLHApKSxkO3JldHVybiBkLnJldmVyc2UoKX1mb3IoZT0wO2U8Yy5sZW5ndGg7KytlKXtpZighY1tlXS5kdXJhdGlvbilyZXR1cm4gZDt0PWNbZV0uc3RhcnRUaW1lO3Q9bnVsbCE9dD90Omc7dz1jW2VdLnJlcGVhdHx8MDswPncmJih3PWNbZV0uZHVyYXRpb24sZSsxPT09Yy5sZW5ndGg/KHo9Y1swXS5zdGFydFRpbWUraC10LHc9TWF0aC5jZWlsKHovdyktMSk6KHo9Y1tlKzFdLnN0YXJ0VGltZSx3PU1hdGguY2VpbCgoei10KS93KS0xKSk7MDxkLmxlbmd0aCYmdCE9ZyYmKHo9dC1nLGY9ZFtkLmxlbmd0aC0xXSxmLnRpbWVzY2FsZWRHYXBJbmZvPW5ldyBoZChnL2Isei9iKSxmLmVuZD10KTtmb3IoSD0wO0g8PXc7KytIKWc9dCtjW2VdLmR1cmF0aW9uLGQucHVzaCh7c3RhcnQ6dCxlbmQ6Z30pLHQ9Z31pZihhLmEmJjA8Yy5sZW5ndGgpZm9yKGI9Y1swXS5kdXJhdGlvbixmPTA7ZjxrO2YrKylkLnB1c2goe3N0YXJ0OnQrZipiLGVuZDp0KwooZisxKSpiLHVkOmEuYitmfSk7cmV0dXJuIGR9O2Z1bmN0aW9uIHBkKGEsYixjLGQsZSl7dGhpcy53PWE7dGhpcy5tPWI7dGhpcy5jPWM7dGhpcy5XPTA7dGhpcy5CPSEwO3RoaXMucz1jLnN8fDA7dGhpcy5BPSExO3RoaXMuZz1udWxsO3RoaXMudT1kO3RoaXMuaj1jLkx8fDA7dGhpcy5iPTA7dGhpcy5pPXRoaXMuaD1udWxsO2E6e2I9Yy5DO3ZhciBmPTA7YT0oYS5kdXJhdGlvbnx8MCkqdGhpcy5zO2M9Yi5OO2ZvcihkPTA7ZDxjLmxlbmd0aDsrK2Qpe2lmKCFjW2RdLmR1cmF0aW9uKXtiLk49Yy5zbGljZSgwLGQpO2JyZWFrIGF9dmFyIGc9Y1tkXS5zdGFydFRpbWUsZj1udWxsIT1nP2c6ZixnPWNbZF0ucmVwZWF0fHwwOzA+ZyYmKGc9Y1tkXS5kdXJhdGlvbixnPWQrMT09PWMubGVuZ3RoP01hdGguY2VpbCgoY1swXS5zdGFydFRpbWUrYS1mKS9nKS0xOk1hdGguY2VpbCgoY1tkKzFdLnN0YXJ0VGltZS1mKS9nKS0xKTtjW2RdLnN0YXJ0VGltZT1mO2NbZF0ucmVwZWF0PWc7Zj1jW2RdLnN0YXJ0VGltZStjW2RdLmR1cmF0aW9uKihjW2RdLnJlcGVhdCsKMSl9fXRoaXMuZj1bXTt0aGlzLm89VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoInRpbWVsaW5lX3NlZ21lbnRfaW5kZXhfbWF4X2luZGV4X2NhY2hlX2xlbmd0aCIsMCk7dGhpcy5iPVNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscy5sZW5ndGgodGhpcy5jLkMuTik7dGhpcy5EPWV8fG51bGx9cGQucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmI9dGhpcy5jPXRoaXMubT10aGlzLnc9bnVsbDt0aGlzLmc9ZnVuY3Rpb24oKXt9O3RoaXMuZj10aGlzLnU9bnVsbH07cGQucHJvdG90eXBlLmxlbmd0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmJ9O2Z1bmN0aW9uIHFkKGEsYil7Zm9yKHZhciBjPWEuZi5sZW5ndGgtMTstMTxjO2MtLSlpZihhLmZbY10uaW5kZXg9PT1iKXt2YXIgZD1hLmZbY107YS5mLnNwbGljZShjLDEpO2EuZi5wdXNoKGQpO3JldHVybiBkLnhkfXJldHVybiBudWxsfQpmdW5jdGlvbiByZChhLGIsYyl7dmFyIGQ9W107aWYoYS5vJiYxPT09Yy1iKXt2YXIgZT1xZChhLGIpO2lmKGUpcmV0dXJuW2VdfXZhciBmPS1hLmovYS5zK2EuVztTaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMuZ2V0U2VnbWVudHMoYixjLGEuYy5DLk4sZnVuY3Rpb24oYSxlLGssbCxtKXtpZihsKXt2YXIgcD1kW2QubGVuZ3RoLTFdO3AmJihwLnRpbWVzY2FsZWRHYXBJbmZvPW5ldyBoZChtL3RoaXMucyxsL3RoaXMucykscC5kZWJ1Z0luZm89e2VuZFRpbWU6cC50aW1lc2NhbGVkR2FwSW5mby5zZWdtZW50T3JpZ2luYWxFbmRUaW1lLGRlbHRhOnAudGltZXNjYWxlZEdhcEluZm8uZ2FwRGlzdGFuY2V9LGRbZC5sZW5ndGgtMV09amQocCxwLnN0YXJ0VGltZSxhL3RoaXMucytmKSl9az1tZCh0aGlzLnUsdGhpcy5tLGsrdGhpcy5jLmIsYSx2b2lkIDAsdGhpcy5EKTtpZighayl0aHJvdyBhPUVycm9yKCJGYWlsZWQgdG8gZ2VuZXJhdGUgbWVkaWEgVVJMLiIpLGEudHlwZT0iZGFzaCIsCmE7YT1uZXcgaWQoYS90aGlzLnMrZixlL3RoaXMucytmLGssYSxlLWEsbnVsbCk7ZT1iK2QubGVuZ3RoO2QucHVzaChhKTshdGhpcy5vfHwwIT09ZSYmZSE9PXRoaXMuYi0xJiYxIT09Yy1ifHxxZCh0aGlzLGUpfHwodGhpcy5mLmxlbmd0aCsxPnRoaXMubyYmdGhpcy5mLnNoaWZ0KCksdGhpcy5mLnB1c2goe2luZGV4OmUseGQ6YX0pKX0uYmluZChhKSk7cmV0dXJuIGR9CmZ1bmN0aW9uIHNkKGEsYil7dmFyIGM9Yi51bnNjYWxlZFN0YXJ0VGltZSxkPWIudW5zY2FsZWRFbmRUaW1lLGU9Yi5kZWx0YSxmPWIucHJldmlvdXNFbmRUaW1lO2lmKGUpdmFyIGc9bmV3IGhkKGYvYS5zLGUvYS5zKTtlPW1kKGEudSxhLm0sYi5zZWdtZW50UmVwbGFjZW1lbnQrYS5jLmIsYyx2b2lkIDAsYS5EKTtpZighZSl0aHJvdyBjPUVycm9yKCJGYWlsZWQgdG8gZ2VuZXJhdGUgbWVkaWEgVVJMLiIpLGMudHlwZT0iZGFzaCIsYztmPS1hLmovYS5zK2EuVztyZXR1cm4gbmV3IGlkKGMvYS5zK2YsZC9hLnMrZixlLGMsZC1jLGd8fG51bGwpfXBkLnByb3RvdHlwZS5nZXRTZWdtZW50cz1mdW5jdGlvbigpe3JldHVybiByZCh0aGlzLDAsdGhpcy5iKXx8W119OwpwZC5wcm90b3R5cGUuZmlyc3Q9ZnVuY3Rpb24oKXtpZighdGhpcy5iKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbmRleCBvdXQgb2YgcmFuZ2UuIik7aWYoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJvcHRpbWl6ZV9jb21tb25fc2VnbWVudF9nZW5lcmF0aW9ucyIsITEpKXtpZih0aGlzLmgpcmV0dXJuIHRoaXMuaDt2YXIgYT1TaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMuZmlyc3QodGhpcy5jLkMuTix0aGlzLmIpO3JldHVybiB0aGlzLmg9c2QodGhpcyxhKX1yZXR1cm4gcmQodGhpcywwLDEpWzBdfTsKcGQucHJvdG90eXBlLmxhc3Q9ZnVuY3Rpb24oKXtpZighdGhpcy5iKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbmRleCBvdXQgb2YgcmFuZ2UuIik7aWYoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJvcHRpbWl6ZV9jb21tb25fc2VnbWVudF9nZW5lcmF0aW9ucyIsITEpKXtpZih0aGlzLmkpcmV0dXJuIHRoaXMuaTt2YXIgYT1TaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMubGFzdCh0aGlzLmMuQy5OLHRoaXMuYik7cmV0dXJuIHRoaXMuaT1zZCh0aGlzLGEpfXJldHVybiByZCh0aGlzLHRoaXMuYi0xLHRoaXMuYilbMF19OwpwZC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGEpe2lmKCF0aGlzLmJ8fDA+YXx8YT49dGhpcy5iKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbmRleCBvdXQgb2YgcmFuZ2UuIik7cmV0dXJuIFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgib3B0aW1pemVfY29tbW9uX3NlZ21lbnRfZ2VuZXJhdGlvbnMiLCExKT8oYT1TaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMuZ2V0KHRoaXMuYy5DLk4sYSx0aGlzLmIpLHNkKHRoaXMsYSkpOnJkKHRoaXMsYSxhKzEpWzBdfTsKcGQucHJvdG90eXBlLmZpbmQ9ZnVuY3Rpb24oYSl7aWYoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJmaXhfY29tcG9zaXRlZF90aW1lX2luZGV4X2NhbGxzIiwhMSkpcmV0dXJuKGE9U2hha2FUaW1lbGluZVNlZ21lbnRJbmRleFV0aWxzLmZpbmQoYSx0aGlzLmMuQy5OLHRoaXMucywtdGhpcy5qL3RoaXMucyt0aGlzLlcpKT9zZCh0aGlzLGEpOm51bGw7YT10aGlzLmZpbmRJbmRleChhKTtyZXR1cm4gVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJvcHRpbWl6ZV9jb21tb25fc2VnbWVudF9nZW5lcmF0aW9ucyIsITEpPzA8PWE/dGhpcy5nZXQoYSk6bnVsbDowPD1hP3JkKHRoaXMsYSxhKzEpWzBdOm51bGx9O3BkLnByb3RvdHlwZS5maW5kSW5kZXg9ZnVuY3Rpb24oYSl7cmV0dXJuIFNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscy5maW5kSW5kZXgoYSx0aGlzLmMuQy5OLHRoaXMucywtdGhpcy5qL3RoaXMucyt0aGlzLlcpfTtuPXBkLnByb3RvdHlwZTsKbi5TYT1mdW5jdGlvbihhKXt2YXIgYj1hLmxlbmd0aCgpLGM9Yi10aGlzLmI7aWYoMCE9PWImJihiIT09dGhpcy5ifHwwIT09dGhpcy5iJiZhLmxhc3QoKS5lbmRUaW1lIT09dGhpcy5sYXN0KCkuZW5kVGltZSkmJiEoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJmaXhfaW50ZWdyYXRpb25fb25fZWFybGllcl9lbmR0aW1lIiwhMSkmJmEubGFzdCgpLmVuZFRpbWU8PXRoaXMubGFzdCgpLmVuZFRpbWUpKWlmKHRoaXMuQT0hMSxiPWEubGFzdCgpLG51bGwhPWIuZW5kVGltZSYmYi5lbmRUaW1lPHRoaXMubGFzdCgpLmVuZFRpbWUmJmIuZW5kVGltZTx0aGlzLmZpcnN0KCkuc3RhcnRUaW1lJiYodGhpcy5BPSEwKSxWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImludGVncmF0ZV9zZWdtZW50X3RpbWVsaW5lX3RpbWVfcG9pbnRzIiwhMSk/dGhpcy5jLkMuTj1TaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMuaW50ZWdyYXRlVGltZVBvaW50cyh0aGlzLmMuQy5OLAphLmMuQy5OKToodGhpcy53PWEudyx0aGlzLm09YS5tLHRoaXMuYz1hLmMsdGhpcy5qPXRoaXMuYy5MfHwwLHRoaXMucz10aGlzLmMuc3x8MCksdGhpcy5mPVtdLHRoaXMuaT10aGlzLmg9bnVsbCx0aGlzLmI9U2hha2FUaW1lbGluZVNlZ21lbnRJbmRleFV0aWxzLmxlbmd0aCh0aGlzLmMuQy5OKSx0aGlzLmZpcnN0KCksdGhpcy5sYXN0KCksVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJ0ZW1wbGF0ZWRfY2FsbF9vbl9zZWdtZW50c191cGRhdGVkX3dpdGhfZGVsdGFfc2VnbWVudHMiLCExKSl7dmFyIGQ9W10sYz10aGlzLmItYztmb3IoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJ0ZW1wbGF0ZWRfZHluYW1pY19pbmNsdWRlX3ByZXZpb3VzX2xhc3Rfc2VnbWVudF9pbl91cGRhdGVzIiwhMSkmJjA8YyYmYy0tO2M8dGhpcy5iOysrYylkLnB1c2godGhpcy5nZXQoYykpO3RoaXMuZyYmdGhpcy5nKGQpfWVsc2UgYz0hVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJub19wcm92aWRlX3NlZ21lbnRzX3RvX29uX3NlZ21lbnRzX3VwZGF0ZWRfbGlzdGVuZXJzIiwKITEpLHRoaXMuZyYmKGMmJihkPXRoaXMuZ2V0U2VnbWVudHMoKSksdGhpcy5nKGQpKX07bi5oYj1mdW5jdGlvbihhKXt2YXIgYj1hLXRoaXMuVztpZigwPT1iKXJldHVybiAwO3RoaXMuVz1hO3RoaXMuaT10aGlzLmg9bnVsbDt0aGlzLmY9W107cmV0dXJuIGJ9O24uaWI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iP3tzdGFydDp0aGlzLmZpcnN0KCkuc3RhcnRUaW1lLGVuZDp0aGlzLmxhc3QoKS5lbmRUaW1lfTp7c3RhcnQ6MCxlbmQ6MH19O24uZ2V0U2Vla1JhbmdlR2Fwcz1mdW5jdGlvbigpe3JldHVybiBTaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMuZ2V0U2Vla1JhbmdlR2Fwcyh0aGlzLmMuQy5OLHRoaXMucywtdGhpcy5qL3RoaXMucyt0aGlzLlcpfTtuLnJiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuQX07bi5HYz1mdW5jdGlvbihhKXt0aGlzLmc9YX07bi5GYz1mdW5jdGlvbigpe3RoaXMuZz1udWxsfTtuLklhPWZ1bmN0aW9uKCl7fTtmdW5jdGlvbiB0ZCgpe30KdGQucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9bnVsbDt0cnl7YTp7dmFyIGc9W10saD1uZXcgQmEoYSksaz12KGgpO2lmKDE5MzYyODY4NDAhPXYoaCkpZj1udWxsO2Vsc2V7MT09ayYmKGs9RmEoaCkpO3ZhciBsPUVhKGgpO0hhKGgsMyk7SGEoaCw0KTt2YXIgbT12KGgpO2lmKDA9PW0pZj1udWxsO2Vsc2V7dmFyIHAsdDswPT1sPyhwPXYoaCksdD12KGgpKToocD1GYShoKSx0PUZhKGgpKTtIYShoLDIpO3ZhciB3PWguYi5nZXRVaW50MTYoaC5hLGguYyk7aC5hKz0yO2E9cDtiPWIrayt0O2Zvcih0PWs9MDt0PHc7dCsrKXt2YXIgej12KGgpO3A9KHomMjE0NzQ4MzY0OCk+Pj4zMTt2YXIgbD16JjIxNDc0ODM2NDcsSD12KGgpO3YoaCk7aWYoMT09cCl7Zj1udWxsO2JyZWFrIGF9dmFyIGRhO2RhPTA9PXQmJmU/ZTpuZXcgSyhkLGMsYixiK2wtMSk7cD1hL207dmFyIGVhPShhK0gpL207MD09PXQmJihrPXApO2cucHVzaChuZXcgaWQocC1rLGVhLWssZGEsCmEsSCkpO2ErPUg7Yis9bH1nLnM9bTtmPWd9fX19Y2F0Y2goQWEpe2lmKCEoQWEgaW5zdGFuY2VvZiBSYW5nZUVycm9yKSl0aHJvdyBBYTt9cmV0dXJuIGZ9O2Z1bmN0aW9uIFIoYSl7dGhpcy5hPWE7dGhpcy5zPXRoaXMuYS5zO3RoaXMuSz10aGlzLmEuQjt0aGlzLmc9W119Ui5wcm90b3R5cGUuSj1mdW5jdGlvbigpe3JldHVybiEhdGhpcy5nW3RoaXMuZy5sZW5ndGgtMV19O1IucHJvdG90eXBlLmxhc3RQb2xsSGFkQ2hhbmdlcz1SLnByb3RvdHlwZS5KO1IucHJvdG90eXBlLkk9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmcsYj1hLmxhc3RJbmRleE9mKCEwKTtpZigxPmIpcmV0dXJuIDA7YT1hLmxhc3RJbmRleE9mKCEwLGItMSk7cmV0dXJuIDA+YT8wOmItYS0xfTtSLnByb3RvdHlwZS5nZXRGZXRjaGVzQmV0d2VlblJlY2VudENoYW5nZXM9Ui5wcm90b3R5cGUuSTtSLnByb3RvdHlwZS51PWZ1bmN0aW9uKCl7cmV0dXJuIE1hdGguZmxvb3IoKHRoaXMuZy5sZW5ndGgtMS10aGlzLmcubGFzdEluZGV4T2YoITApKS8yKX07Ui5wcm90b3R5cGUuZ2V0Q29uc2VjdXRpdmVVcGRhdGVzV2l0aG91dENoYW5nZXM9Ui5wcm90b3R5cGUudTsKUi5wcm90b3R5cGUuRz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmcubGVuZ3RoLTEtdGhpcy5nLmxhc3RJbmRleE9mKCExKX07Ui5wcm90b3R5cGUuZ2V0Q29uc2VjdXRpdmVVcGRhdGVzV2l0aENoYW5nZXM9Ui5wcm90b3R5cGUuRztSLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5hLmRlc3Ryb3koKTt0aGlzLmE9bnVsbH07Ui5wcm90b3R5cGUubGVuZ3RoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS5sZW5ndGgoKX07Ui5wcm90b3R5cGUuZ2V0U2VnbWVudHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLmdldFNlZ21lbnRzKCl9O1IucHJvdG90eXBlLmdldFNlZ21lbnRzPVIucHJvdG90eXBlLmdldFNlZ21lbnRzO1IucHJvdG90eXBlLmZpcnN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS5maXJzdCgpfTtSLnByb3RvdHlwZS5sYXN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS5sYXN0KCl9O1IucHJvdG90eXBlLmxhc3Q9Ui5wcm90b3R5cGUubGFzdDsKUi5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmEuZ2V0KGEpfTtSLnByb3RvdHlwZS5maW5kPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmEuZmluZChhKX07Ui5wcm90b3R5cGUuZmluZEluZGV4PWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmEuZmluZEluZGV4KGEpfTtSLnByb3RvdHlwZS5CPWZ1bmN0aW9uKGEpe3RoaXMuYS5TYShhLmEpO3JldHVybiEwfTtSLnByb3RvdHlwZS5UYT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5hLmhiKGEpfTtSLnByb3RvdHlwZS5BPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS5pYigpfTtSLnByb3RvdHlwZS5nZXRTZWVrUmFuZ2VHYXBzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS5nZXRTZWVrUmFuZ2VHYXBzKCl9O1IucHJvdG90eXBlLmdldFNlZWtSYW5nZUdhcHM9Ui5wcm90b3R5cGUuZ2V0U2Vla1JhbmdlR2FwcztSLnByb3RvdHlwZS5yYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmEucmIoKX07CmZ1bmN0aW9uIHVkKGEsYil7YS5hLkdjKGIpfTtmdW5jdGlvbiBTKGEsYixjLGQpe1IuY2FsbCh0aGlzLGEpO3RoaXMuaT1iO3RoaXMuRj1jO3RoaXMuaD1kO3RoaXMuZHVyYXRpb249dGhpcy5pLmJ8fHRoaXMuaS5hLnJlZHVjZShmdW5jdGlvbihhLGIpe3JldHVybiBudWxsPT1iLmR1cmF0aW9uP05hTjphK2IuZHVyYXRpb259LDApfHwwO3RoaXMuYj10aGlzLm89dGhpcy5mPW51bGw7eWQodGhpcyl9cihTLFIpO1MucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLkY9dGhpcy5pPW51bGw7Ui5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpfTtTLnByb3RvdHlwZS5maW5kPWZ1bmN0aW9uKGEpe3pkKHRoaXMseWEoKS8xRTMpO3JldHVybiBSLnByb3RvdHlwZS5maW5kLmNhbGwodGhpcyxhKX07ClMucHJvdG90eXBlLkI9ZnVuY3Rpb24oYSl7aWYoIShhIGluc3RhbmNlb2YgUykpcmV0dXJuITE7dGhpcy5hLlNhKGEuYSk7dGhpcy5kdXJhdGlvbj1NYXRoLm1heCh0aGlzLmR1cmF0aW9uLGEuZHVyYXRpb24pO251bGw9PXRoaXMuZj8odGhpcy5oPWEuaCx5ZCh0aGlzKSk6QWQodGhpcyk7cmV0dXJuITB9O2Z1bmN0aW9uIHlkKGEpe0FkKGEpO2lmKDAhPWEubGVuZ3RoKCkpe2EubGVuZ3RoKCk7dmFyIGI9bnVsbCE9YS5sYXN0KCkuZW5kVGltZT9hLmxhc3QoKS5lbmRUaW1lOmEubGFzdCgpLnN0YXJ0VGltZTtpZihhLmkuYz5hLmgpYS5mPWI7ZWxzZXt2YXIgYz1hLmgtKGEuaS5jK2EuRi5zdGFydCk7MD5jP2EuZj1iOmM8TWF0aC5tYXgoYS5sYXN0KCkuc3RhcnRUaW1lLGEubGFzdCgpLmVuZFRpbWV8fDApPyhhLmxhc3QoKSxhLmY9Yik6YS5mPWN9YS5vPWEubGFzdCgpLnN0YXJ0VGltZTthLmI9YS5maXJzdCgpLnN0YXJ0VGltZX19ClMucHJvdG90eXBlLlRhPWZ1bmN0aW9uKGEpe2E9Ui5wcm90b3R5cGUuVGEuY2FsbCh0aGlzLGEpO1ZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgibm9fY29ycmVjdF9kZWx0YV93YXJuaW5nIiwhMSl8fE1hdGgubWluLmFwcGx5KG51bGwsdGhpcy5nZXRTZWdtZW50cygpLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YS5lbmRUaW1lfSkubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLmVuZFRpbWUtYS5zdGFydFRpbWV9KSk7bnVsbCE9dGhpcy5mJiYodGhpcy5vKz1hLHRoaXMuYis9YSx0aGlzLmYrPWEpO3JldHVybiBhfTtTLnByb3RvdHlwZS5BPWZ1bmN0aW9uKCl7cmV0dXJuIEJkKHRoaXMseWEoKS8xRTMpfTsKZnVuY3Rpb24gQmQoYSxiKXt6ZChhLGIpO2lmKG51bGw9PWEuZnx8bnVsbD09YS5vfHxudWxsPT1hLmIpcmV0dXJue3N0YXJ0OjAsZW5kOjB9O3ZhciBjPU51bWJlci5QT1NJVElWRV9JTkZJTklUWTthLmR1cmF0aW9uJiYoYz1hLmR1cmF0aW9uKTt2YXIgZD1iLWEuaCxlPWEuZitkO251bGwhPWEuaS5mJiYoZT1lLWEuYi1hLmkuZiwwPGUmJihhLmIrPWUpKTthLmI9TWF0aC5taW4oYS5iLGMpO2Q9YS5vK2Q7aWYoZDxhLmIpcmV0dXJue3N0YXJ0OmEuYixlbmQ6YS5ifTtkPTA8YS5sZW5ndGgoKT9udWxsIT1hLmxhc3QoKS5lbmRUaW1lP01hdGgubWluKGQsYS5sYXN0KCkuZW5kVGltZSk6ZDphLmI7ZD1NYXRoLm1heChkLGEuYik7ZD1NYXRoLm1pbihkLGMpO3JldHVybntzdGFydDphLmIsZW5kOmR9fQpmdW5jdGlvbiB6ZChhLGIpe2lmKGEuYS5hJiYoQWQoYSksbnVsbCE9YS5pLmYpKWlmKG51bGw9PWEuZilhLmxlbmd0aCgpO2Vsc2V7Zm9yKHZhciBjPWEuZisoYi1hLmgpLGQ9MCxlPTA7ZTxhLmEuYS5sZW5ndGg7KytlKXt2YXIgZj1udWxsO2U8YS5hLmEubGVuZ3RoLTE/Zj1hLmEuYVtlKzFdLmVuZFRpbWU6KGY9YS5hLmFbZV0sZj1udWxsIT1mLmVuZFRpbWU/Zi5lbmRUaW1lKyhmLmVuZFRpbWUtZi5zdGFydFRpbWUpOm51bGwpO2lmKG51bGwhPWYmJmY8Yy1hLmkuZikrK2Q7ZWxzZSBicmVha30wPGQmJmEuYS5hLnNwbGljZSgwLGQpfX1mdW5jdGlvbiBBZChhKXtpZihhLmR1cmF0aW9uJiZhLmEuYSl7Zm9yKHZhciBiPTAsYz1hLmEuYS5sZW5ndGgtMTswPD1jOy0tYylpZihhLmEuYVtjXS5zdGFydFRpbWU+YS5kdXJhdGlvbikrK2I7ZWxzZSBicmVhazswPGImJmEuYS5hLnNwbGljZSgtYil9fTtmdW5jdGlvbiBUKGEsYixjKXt2YXIgZD1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigidGVtcGxhdGVkX3F1YXJhbnRpbmVfaWRsZV9yZWZlcmVuY2VzX3RocmVzaG9sZCIsMCk7dGhpcy5pPVtdO2lmKDA8ZCl7dmFyIGU9YTthPWUuc3BsaWNlKC1kKTt0aGlzLmk9ZX10aGlzLmE9YTt0aGlzLlc9MDt0aGlzLnM9Yjt0aGlzLmY9ITE7dGhpcy5oPWZ1bmN0aW9uKCl7fTt0aGlzLkI9Y3x8ITF9VC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuYT1udWxsfTtULnByb3RvdHlwZS5sZW5ndGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLmxlbmd0aH07VC5wcm90b3R5cGUuZ2V0U2VnbWVudHM9ZnVuY3Rpb24oKXtyZXR1cm4odGhpcy5hfHxbXSkuc2xpY2UoKX07VC5wcm90b3R5cGUuZ2V0U2VnbWVudHM9VC5wcm90b3R5cGUuZ2V0U2VnbWVudHM7ClQucHJvdG90eXBlLmZpcnN0PWZ1bmN0aW9uKCl7aWYoMD09dGhpcy5hLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiU2VnbWVudEluZGV4QmFzZTogVGhlcmUgaXMgbm8gZmlyc3QgU2VnbWVudFJlZmVyZW5jZS4iKTtyZXR1cm4gdGhpcy5hWzBdfTtULnByb3RvdHlwZS5sYXN0PWZ1bmN0aW9uKCl7aWYoMD09dGhpcy5hLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiU2VnbWVudEluZGV4QmFzZTogVGhlcmUgaXMgbm8gbGFzdCBTZWdtZW50UmVmZXJlbmNlLiIpO3JldHVybiB0aGlzLmFbdGhpcy5hLmxlbmd0aC0xXX07VC5wcm90b3R5cGUubGFzdD1ULnByb3RvdHlwZS5sYXN0O1QucHJvdG90eXBlLmdldD1mdW5jdGlvbihhKXtpZigwPmF8fGE+PXRoaXMuYS5sZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIlNlZ21lbnRJbmRleEJhc2U6IFRoZSBzcGVjaWZpZWQgaW5kZXggaXMgb3V0IG9mIHJhbmdlLiIpO3JldHVybiB0aGlzLmFbYV19OwpULnByb3RvdHlwZS5maW5kPWZ1bmN0aW9uKGEpe2E9dGhpcy5maW5kSW5kZXgoYSk7cmV0dXJuIDA8PWE/dGhpcy5hW2FdOm51bGx9O1QucHJvdG90eXBlLmZpbmRJbmRleD1mdW5jdGlvbihhKXtyZXR1cm4geWIodGhpcy5hLGEpfTsKVC5wcm90b3R5cGUuU2E9ZnVuY3Rpb24oYSl7dGhpcy5XIT1hLlcmJihhPW5ldyBUKGtkKGEuYSx0aGlzLlctYS5XKSxhLnMpKTtpZigwPT10aGlzLmxlbmd0aCgpKXRoaXMuYT1hLmEuc2xpY2UoMCksdGhpcy5JYSgpO2Vsc2UgaWYoMCE9YS5sZW5ndGgoKSYmbnVsbCE9dGhpcy5sYXN0KCkuZW5kVGltZSlpZihudWxsIT1hLmxhc3QoKS5lbmRUaW1lJiZhLmxhc3QoKS5lbmRUaW1lPHRoaXMubGFzdCgpLmVuZFRpbWUpVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJmaXhfbWFuaWZlc3Rfd3JhcHBlZCIsITApP2EubGFzdCgpLmVuZFRpbWU8dGhpcy5maXJzdCgpLnN0YXJ0VGltZSYmKHRoaXMuZj0hMCk6dGhpcy5mPSEwO2Vsc2V7dGhpcy5mPSExO2lmKHRoaXMubGFzdCgpLmVuZFRpbWU8PWEuZmlyc3QoKS5zdGFydFRpbWUpe3ZhciBiPWpkKHRoaXMubGFzdCgpLHRoaXMubGFzdCgpLnN0YXJ0VGltZSxhLmZpcnN0KCkuc3RhcnRUaW1lKSxjPXRoaXMubGFzdCgpLnVuc2NhbGVkU3RhcnRUaW1lKwp0aGlzLmxhc3QoKS51bnNjYWxlZER1cmF0aW9uO1ZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgiY2FsY3VsYXRlX21pc3NlZF9zZWdtZW50X2dhcF9pbmZvX29uX21lcmdlIiwhMSkmJmM8YS5maXJzdCgpLnVuc2NhbGVkU3RhcnRUaW1lJiZudWxsPT09dGhpcy5sYXN0KCkudGltZXNjYWxlZEdhcEluZm8mJihiLnRpbWVzY2FsZWRHYXBJbmZvPW5ldyBoZChjL3RoaXMucywoYS5maXJzdCgpLnVuc2NhbGVkU3RhcnRUaW1lLWMpL3RoaXMucykpO2lmKFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgidGVtcGxhdGVkX29wdGltaXplX21lcmdlX3RhcmdldF9hbGdvcyIsITEpKWZvcih0aGlzLmEucG9wKCksdGhpcy5hLnB1c2goYiksYz0wO2M8YS5hLmxlbmd0aDsrK2MpdGhpcy5hLnB1c2goYS5hW2NdKTtlbHNlIGI9dGhpcy5hLnNsaWNlKDAsLTEpLmNvbmNhdChbYl0pLHRoaXMuYT1iLmNvbmNhdChhLmEpfWVsc2V7Zm9yKGM9MDtjPHRoaXMuYS5sZW5ndGgmJgohKHRoaXMuYVtjXS5lbmRUaW1lPj1hLmZpcnN0KCkuc3RhcnRUaW1lKTsrK2MpO3RoaXMuYVtjXS5zdGFydFRpbWU8YS5maXJzdCgpLnN0YXJ0VGltZT8oYj1qZCh0aGlzLmFbY10sdGhpcy5hW2NdLnN0YXJ0VGltZSxhLmZpcnN0KCkuc3RhcnRUaW1lKSxiPXRoaXMuYS5zbGljZSgwLGMpLmNvbmNhdChbYl0pKToodGhpcy5maXJzdCgpLnN0YXJ0VGltZT5hLmZpcnN0KCkuc3RhcnRUaW1lfHxhLmZpcnN0KCksYj10aGlzLmEuc2xpY2UoMCxjKSk7dGhpcy5hPWIuY29uY2F0KGEuYSl9dGhpcy5oKGEuYSk7dGhpcy5JYSgpfX07VC5wcm90b3R5cGUuaGI9ZnVuY3Rpb24oYSl7dmFyIGI9YS10aGlzLlc7aWYoMD09YilyZXR1cm4gMDt0aGlzLmE9a2QodGhpcy5hLGIpO3RoaXMuSWEoKTt0aGlzLlc9YTtyZXR1cm4gYn07ClQucHJvdG90eXBlLmliPWZ1bmN0aW9uKCl7cmV0dXJuIDA8dGhpcy5sZW5ndGgoKT97c3RhcnQ6dGhpcy5maXJzdCgpLnN0YXJ0VGltZSxlbmQ6dGhpcy5sYXN0KCkuZW5kVGltZX06e3N0YXJ0OjAsZW5kOjB9fTtULnByb3RvdHlwZS5nZXRTZWVrUmFuZ2VHYXBzPWZ1bmN0aW9uKCl7cmV0dXJuIGdldFNlZWtSYW5nZUdhcHNGcm9tU2hha2FSZWZlcmVuY2VzKHRoaXMuYSx0aGlzLnMpfTtULnByb3RvdHlwZS5nZXRTZWVrUmFuZ2VHYXBzPVQucHJvdG90eXBlLmdldFNlZWtSYW5nZUdhcHM7VC5wcm90b3R5cGUucmI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mfTtULnByb3RvdHlwZS5HYz1mdW5jdGlvbihhKXt0aGlzLmg9YX07VC5wcm90b3R5cGUuRmM9ZnVuY3Rpb24oKXt0aGlzLmg9ZnVuY3Rpb24oKXt9fTtULnByb3RvdHlwZS5JYT1mdW5jdGlvbigpe307VC5wcm90b3R5cGUuZ2V0SWRsZVJlZmVyZW5jZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pfTtmdW5jdGlvbiBDZChhLGIsYyxkLGUpe3ZhciBmPTEsZz0wLGg7aWYoYS5jPmQpaD1udWxsO2Vsc2V7dmFyIGs9YS5vfHwwLGw9YS5mfHwwO2g9Yy5hO2g9aC5IL2guczt2YXIgbT1kLShhLmMrYi5zdGFydCk7MD5tP2g9bnVsbDoobD1tLTIqaC1sLDA+bCYmKGw9MCksbD1NYXRoLmNlaWwobC9oKSpoLG0tPWgsMD5tP2g9bnVsbDooaz1NYXRoLmZsb29yKG0vaCkqaC1rLDA+ayYmKGs9MCksaz1NYXRoLmZsb29yKGsvaCkqaCxoPXt0YzpsL2grMSxjdXJyZW50OihrPj1sP2s6bCkvaCsxfSkpfWgmJihmPWgudGMsZz1oLmN1cnJlbnQtaC50YysxKTtmPWxkKGUsYyxmLGcpO2lmKG51bGw9PWYpdGhyb3cgYT1FcnJvcigiRmFpbGVkIHRvIGdlbmVyYXRlIFNlZ21lbnRSZWZlcmVuY2VzLiIpLGEudHlwZT0ic3RyZWFtIixhO2Y9bmV3IFQoZixjLmEuc3x8MSk7Uy5jYWxsKHRoaXMsZixhLGIsZCk7dGhpcy53PWM7dGhpcy5tPXRoaXMuYz0wPHRoaXMubGVuZ3RoKCk/YS5jK2Iuc3RhcnQrdGhpcy5sYXN0KCkuZW5kVGltZToKbnVsbDt0aGlzLmo9aD9oLmN1cnJlbnQrMTpudWxsO3RoaXMuRD1lfXIoQ2QsUyk7Q2QucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLkQ9dGhpcy53PW51bGw7Uy5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpfTtDZC5wcm90b3R5cGUuZmluZD1mdW5jdGlvbihhKXt2YXIgYj15YSgpLzFFMztEZCh0aGlzLGIpO3pkKHRoaXMsYik7cmV0dXJuIFIucHJvdG90eXBlLmZpbmQuY2FsbCh0aGlzLGEpfTtDZC5wcm90b3R5cGUuQj1mdW5jdGlvbihhKXtpZihudWxsIT10aGlzLmN8fCEoYSBpbnN0YW5jZW9mIENkKXx8bnVsbD09YS5jKXJldHVybiExO3RoaXMuYz1hLmM7dGhpcy5tPWEubTt0aGlzLmo9YS5qO3RoaXMuaD1hLmg7dGhpcy5kdXJhdGlvbj1hLmR1cmF0aW9uO3RoaXMuYS5TYShhLmEpO0RkKHRoaXMseWEoKS8xRTMpO3lkKHRoaXMpO3JldHVybiEwfTsKQ2QucHJvdG90eXBlLlRhPWZ1bmN0aW9uKGEpe2E9Uy5wcm90b3R5cGUuVGEuY2FsbCh0aGlzLGEpO251bGwhPXRoaXMuYyYmKHRoaXMuYys9YSx0aGlzLm0rPWEpO3JldHVybiBhfTtDZC5wcm90b3R5cGUuQT1mdW5jdGlvbigpe3ZhciBhPXlhKCkvMUUzO0RkKHRoaXMsYSk7cmV0dXJuIEJkKHRoaXMsYSl9O2Z1bmN0aW9uIERkKGEsYil7aWYobnVsbCE9YS5jJiZudWxsIT1hLm0mJm51bGwhPWEuail7dmFyIGM9YS53LmEsYz1jLkgvYy5zLGQ9TWF0aC5mbG9vcigoYS5tKyhiLWEuaCktYS5jKS9jKTtpZigwIT1kKXt2YXIgZT1sZChhLkQsYS53LGEuaixkKTtBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShhLmEuYSxrZChlLGEuYS5XKSk7YS5hLklhKCk7YS5jKz1kKmM7YS5qKz1kfX19O2Z1bmN0aW9uIEVkKGEsYixjLGQsZSl7dGhpcy5nPWE7dGhpcy5mPWI7dGhpcy5iPWM7dGhpcy5pPWQ7dGhpcy5hPW51bGw7dGhpcy5oPWV9RWQucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmg9dGhpcy5iPXRoaXMuZj10aGlzLmc9bnVsbDt0aGlzLmEmJih0aGlzLmEuZGVzdHJveSgpLHRoaXMuYT1udWxsKX07CkVkLnByb3RvdHlwZS5jcmVhdGU9ZnVuY3Rpb24oKXtpZih0aGlzLmEpcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLmEpO2lmKCJkeW5hbWljIj09dGhpcy5nLnR5cGUpdHJ5e3RoaXMuYT1uZXcgQ2QodGhpcy5nLHRoaXMuZix0aGlzLmIsdGhpcy5pLHRoaXMuaCl9Y2F0Y2goYSl7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfWVsc2V7dmFyIGI7Yj10aGlzLmIuYTtpZihiPWxkKHRoaXMuaCx0aGlzLmIsMSxNYXRoLmNlaWwodGhpcy5mLmR1cmF0aW9uLyhiLkgvYi5zKSkpKXtpZigwPGIubGVuZ3RoKXt2YXIgYz1iW2IubGVuZ3RoLTFdO2JbYi5sZW5ndGgtMV09amQoYyxjLnN0YXJ0VGltZSx0aGlzLmYuZHVyYXRpb24pfWI9bmV3IFQoYix0aGlzLmIuYS5zfHwxKTtiPW5ldyBSKGIpfWVsc2UgYj1udWxsO3RoaXMuYT1iO2lmKCF0aGlzLmEpcmV0dXJuIGI9RXJyb3IoIkZhaWxlZCB0byBnZW5lcmF0ZSBTZWdtZW50UmVmZXJlbmNlcyIpLGIudHlwZT0ic3RyZWFtIixQcm9taXNlLnJlamVjdChiKX1yZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuYSl9OwpFZC5wcm90b3R5cGUuYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmF9O2Z1bmN0aW9uIEZkKGEsYixjLGQsZSxmKXt0aGlzLmY9YTt0aGlzLmI9Yjt0aGlzLmg9Yzt0aGlzLmE9bnVsbDt0aGlzLmk9ZDt0aGlzLmc9ZTt0aGlzLmo9Znx8bnVsbH1GZC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuZz10aGlzLmg9dGhpcy5iPXRoaXMuZj1udWxsO3RoaXMuYSYmKHRoaXMuYS5kZXN0cm95KCksdGhpcy5hPW51bGwpfTsKRmQucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbigpe2lmKHRoaXMuYSlyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuYSk7dmFyIGE9dGhpcy5oLmIsYj1bXTthLkMmJihiPW9kKGEuQyxhLnN8fDEsdGhpcy5iLmR1cmF0aW9ufHwwKSk7dmFyIGM9MDthLkgmJmEuYz9jPShhLmMtMSkqYS5IOjA8Yi5sZW5ndGgmJihjPWJbMF0uc3RhcnQtKGEuTHx8MCkpO3ZhciBkPWMsZT1hLmEubGVuZ3RoOzA8Yi5sZW5ndGgmJmIubGVuZ3RoIT1hLmEubGVuZ3RoJiYoZT1NYXRoLm1pbihiLmxlbmd0aCxhLmEubGVuZ3RoKSk7Zm9yKHZhciBmPVtdLGc9MDtnPGU7KytnKXt2YXIgaD1hLmFbZ10saz1jLGw9ay9hLnMsbT1jPW51bGwscDthLkg/KGM9aythLkgsbT1jL2Eucyk6MDxiLmxlbmd0aD8ocD1iW2ddLnRpbWVzY2FsZWRHYXBJbmZvLGM9YltnXS5lbmQtKGEuTHx8MCksbT1jL2Eucyk6KG09bCt0aGlzLmIuZHVyYXRpb24sYz1tKmEucyk7dmFyIHQ9MCx3PW51bGw7aC5hJiYodD1oLmEucWEsCnc9aC5hLmVuZCk7bT1NYXRoLm1pbih0aGlzLmIuZHVyYXRpb24rZC9hLnMsbSk7Zi5wdXNoKG5ldyBpZChsLG0sbmV3IEsodGhpcy5nLGguYix0LHcsdm9pZCAwLHRoaXMuaiksayxwfHxudWxsKSl9YT1uZXcgVChmLGEuc3x8MSk7ImR5bmFtaWMiPT10aGlzLmYudHlwZT90aGlzLmE9bmV3IFMoYSx0aGlzLmYsdGhpcy5iLHRoaXMuaSk6dGhpcy5hPW5ldyBSKGEpO3JldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5hKX07RmQucHJvdG90eXBlLmM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hfTtmdW5jdGlvbiBHZChhLGIsYyl7VC5jYWxsKHRoaXMsYSxjKTt0aGlzLmc9Yjt0aGlzLmI9ITE7dGhpcy5qPVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0U3RyaW5nKCJ0ZW1wbGF0ZWRfcGVyZl90ZXN0X21ldGhvZHNfdW5kZXJfdGVzdF9jc3Zfc3RyaW5nIiwiYWxsIikuc3BsaXQoIiwiKX1yKEdkLFQpO2Z1bmN0aW9uIEhkKGEsYil7aWYoISgtMTxhLmouaW5kZXhPZigiYWxsIil8fC0xPGEuai5pbmRleE9mKGIpKXx8YS5iKXJldHVybiBudWxsO3ZhciBjPWEuYTthLmE9YS5nO2EuYj0hMDtyZXR1cm4gY31mdW5jdGlvbiBJZChhLGIpe2EuYiYmKGEuZz1hLmEsYS5hPWIpfUdkLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7VC5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpO3RoaXMuZz1udWxsfTsKR2QucHJvdG90eXBlLmxlbmd0aD1mdW5jdGlvbigpe3ZhciBhPUhkKHRoaXMsImxlbmd0aCIpLGI9VC5wcm90b3R5cGUubGVuZ3RoLmNhbGwodGhpcyk7YSYmKElkKHRoaXMsYSksYj1ULnByb3RvdHlwZS5sZW5ndGguY2FsbCh0aGlzKSx0aGlzLmI9ITEpO3JldHVybiBifTtHZC5wcm90b3R5cGUuZ2V0U2VnbWVudHM9ZnVuY3Rpb24oKXt2YXIgYT1IZCh0aGlzLCJnZXRTZWdtZW50cyIpLGI9VC5wcm90b3R5cGUuZ2V0U2VnbWVudHMuY2FsbCh0aGlzKTthJiYoSWQodGhpcyxhKSxiPVQucHJvdG90eXBlLmdldFNlZ21lbnRzLmNhbGwodGhpcyksdGhpcy5iPSExKTtyZXR1cm4gYn07R2QucHJvdG90eXBlLmZpcnN0PWZ1bmN0aW9uKCl7dmFyIGE9SGQodGhpcywiZmlyc3QiKSxiPVQucHJvdG90eXBlLmZpcnN0LmNhbGwodGhpcyk7YSYmKElkKHRoaXMsYSksYj1ULnByb3RvdHlwZS5maXJzdC5jYWxsKHRoaXMpLHRoaXMuYj0hMSk7cmV0dXJuIGJ9OwpHZC5wcm90b3R5cGUubGFzdD1mdW5jdGlvbigpe3ZhciBhPUhkKHRoaXMsImxhc3QiKSxiPVQucHJvdG90eXBlLmxhc3QuY2FsbCh0aGlzKTthJiYoSWQodGhpcyxhKSxiPVQucHJvdG90eXBlLmxhc3QuY2FsbCh0aGlzKSx0aGlzLmI9ITEpO3JldHVybiBifTtHZC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGEpe3ZhciBiPUhkKHRoaXMsImdldCIpLGM7Yz1iP1QucHJvdG90eXBlLmdldC5jYWxsKHRoaXMsYSsodGhpcy5hLmxlbmd0aC1iLmxlbmd0aCkpOlQucHJvdG90eXBlLmdldC5jYWxsKHRoaXMsYSk7YiYmKElkKHRoaXMsYiksYz1ULnByb3RvdHlwZS5nZXQuY2FsbCh0aGlzLGEpLHRoaXMuYj0hMSk7cmV0dXJuIGN9O0dkLnByb3RvdHlwZS5maW5kPWZ1bmN0aW9uKGEpe3ZhciBiPUhkKHRoaXMsImZpbmQiKSxjPVQucHJvdG90eXBlLmZpbmQuY2FsbCh0aGlzLGEpO2ImJihJZCh0aGlzLGIpLGM9VC5wcm90b3R5cGUuZmluZC5jYWxsKHRoaXMsYSksdGhpcy5iPSExKTtyZXR1cm4gY307CkdkLnByb3RvdHlwZS5maW5kSW5kZXg9ZnVuY3Rpb24oYSl7dmFyIGI9SGQodGhpcywiZmluZEluZGV4IiksYz1ULnByb3RvdHlwZS5maW5kSW5kZXguY2FsbCh0aGlzLGEpO2ImJihJZCh0aGlzLGIpLGM9VC5wcm90b3R5cGUuZmluZEluZGV4LmNhbGwodGhpcyxhKSx0aGlzLmI9ITEpO3JldHVybiBjfTtuPUdkLnByb3RvdHlwZTtuLlNhPWZ1bmN0aW9uKGEpe3ZhciBiPUhkKHRoaXMsIm1lcmdlIiksYz1ULnByb3RvdHlwZS5TYS5jYWxsKHRoaXMsYSk7YiYmKElkKHRoaXMsYiksYz1ULnByb3RvdHlwZS5TYS5jYWxsKHRoaXMsYSksdGhpcy5iPSExKTtyZXR1cm4gY307bi5oYj1mdW5jdGlvbihhKXt2YXIgYj1IZCh0aGlzLCJjb3JyZWN0IiksYz1ULnByb3RvdHlwZS5oYi5jYWxsKHRoaXMsYSk7YiYmKElkKHRoaXMsYiksYz1ULnByb3RvdHlwZS5oYi5jYWxsKHRoaXMsYSksdGhpcy5iPSExKTtyZXR1cm4gY307Cm4uaWI9ZnVuY3Rpb24oKXt2YXIgYT1IZCh0aGlzLCJnZXRTZWVrUmFuZ2UiKSxiPVQucHJvdG90eXBlLmliLmNhbGwodGhpcyk7YSYmKElkKHRoaXMsYSksYj1ULnByb3RvdHlwZS5pYi5jYWxsKHRoaXMpLHRoaXMuYj0hMSk7cmV0dXJuIGJ9O24uZ2V0U2Vla1JhbmdlR2Fwcz1mdW5jdGlvbigpe3ZhciBhPUhkKHRoaXMsImdldFNlZWtSYW5nZUdhcHMiKSxiPVQucHJvdG90eXBlLmdldFNlZWtSYW5nZUdhcHMuY2FsbCh0aGlzKTthJiYoSWQodGhpcyxhKSxiPVQucHJvdG90eXBlLmdldFNlZWtSYW5nZUdhcHMuY2FsbCh0aGlzKSx0aGlzLmI9ITEpO3JldHVybiBifTtuLklhPWZ1bmN0aW9uKCl7dmFyIGE9SGQodGhpcywiYXNzZXJ0Q29ycmVjdFJlZmVyZW5jZXMiKTtULnByb3RvdHlwZS5JYS5jYWxsKHRoaXMpO2EmJihJZCh0aGlzLGEpLFQucHJvdG90eXBlLklhLmNhbGwodGhpcyksdGhpcy5iPSExKX07ZnVuY3Rpb24gSmQoYSxiLGMsZCxlLGYsZyxoKXt0aGlzLm09YTt0aGlzLmE9Yjt0aGlzLmc9Yzt0aGlzLmY9ZDt0aGlzLm89ZTt0aGlzLmI9bnVsbDt0aGlzLmk9Zjt0aGlzLmg9bnVsbDt0aGlzLmo9aHx8bnVsbH1KZC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuaT10aGlzLmY9dGhpcy5nPXRoaXMuYT1udWxsO3RoaXMuYiYmKHRoaXMuYi5kZXN0cm95KCksdGhpcy5iPW51bGwpfTsKSmQucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbigpe2lmKHRoaXMuYilyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuYik7dmFyIGE9VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJmYmxzX3VzZV90aW1lbGluZV9zZWdtZW50X2luZGV4IiwhMSk7aWYoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJ1c2VfdGltZWxpbmVfc2VnbWVudF9pbmRleCIsITEpJiYodGhpcy5hLkZCSXNMaXZlVGVtcGxhdGVkfHx0aGlzLmEuRkJXYXNMaXZlfHxhKSlhPW5ldyBwZCh0aGlzLmcsdGhpcy5mLHRoaXMuZi5hLHRoaXMuaSx0aGlzLmopO2Vsc2V7Zm9yKHZhciBhPXRoaXMuZi5hLGI9b2QoYS5DLGEuc3x8MSx0aGlzLmcuZHVyYXRpb258fDAsdGhpcy5tLmdldE51bWJlcigibnVtX3ByZWRpY3RpdmVfc2VnbWVudHMiLDApLHRoaXMuYS5GQklzTGl2ZVRlbXBsYXRlZHx8dGhpcy5hLkZCV2FzTGl2ZSx0aGlzLmgpLGM9W10sZD0wO2Q8Yi5sZW5ndGg7KytkKXt2YXIgZT0KYltkXS5zdGFydCxmPWJbZF0uZW5kLGc9YltkXS51ZHx8MCxoPWJbZF0udGltZXNjYWxlZEdhcEluZm8saz1lL2EucyxsPWYvYS5zLG09ZCthLmIscD1lLG09bWQodGhpcy5pLHRoaXMuZiwwPGc/ZzptLHAsMDxnPyEwOiExLHRoaXMuaik7aWYoIW0pcmV0dXJuIGE9RXJyb3IoIkZhaWxlZCB0byBnZW5lcmF0ZSBtZWRpYSBVUkwuIiksYS50eXBlPSJkYXNoIixQcm9taXNlLnJlamVjdChhKTt2YXIgdD0oYS5MfHwwKS9hLnM7Yy5wdXNoKG5ldyBpZChrLXQsbC10LG0scCxmLWUsaHx8bnVsbCwwPGcpKX1iPXRoaXMuYS5GQklzTGl2ZVRlbXBsYXRlZHx8dGhpcy5hLkZCV2FzTGl2ZTtWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigidGVtcGxhdGVkX3VzZV9wZXJmX3Rlc3Rfc2VnbWVudF9pbmRleF9iYXNlX2ludCIsMCkmJm51bGw9PXRoaXMuaCYmdGhpcy5hLkZCSXNMaXZlVGVtcGxhdGVkPyhiPWMsYz1iLnNsaWNlKC1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigidGVtcGxhdGVkX3VzZV9wZXJmX3Rlc3Rfc2VnbWVudF9pbmRleF9iYXNlX2ludCIsCjApKSxhPW5ldyBHZChjLGIsYS5zfHwxKSk6YT1uZXcgVChjLGEuc3x8MSxiKX10aGlzLmEubWFuaWZlc3RJc0xpdmVTdHJlYW1pbmc/dGhpcy5iPW5ldyBTKGEsdGhpcy5hLHRoaXMuZyx0aGlzLm8pOnRoaXMuYj1uZXcgUihhKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuYil9O0pkLnByb3RvdHlwZS5jPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYn07SmQucHJvdG90eXBlLkVjPWZ1bmN0aW9uKGEpe3RoaXMuaD1hfTtmdW5jdGlvbiBLZCgpe3RoaXMuWD1MZCsrO3RoaXMuaWQ9dGhpcy5hYT10aGlzLk09bnVsbDt0aGlzLmE9MDt0aGlzLmhlaWdodD10aGlzLndpZHRoPXRoaXMuYmFuZHdpZHRoPW51bGw7dGhpcy5jb2RlY3M9dGhpcy5taW1lVHlwZT0iIjt0aGlzLmY9dGhpcy5mYlF1YWxpdHlDbGFzcz10aGlzLmZiUXVhbGl0eUxhYmVsPW51bGw7dGhpcy5mcmFtZVJhdGU9IiI7dGhpcy5zd2l0Y2hSZWFzb249dGhpcy5oPXRoaXMuZz10aGlzLmM9bnVsbDt0aGlzLmI9W107dGhpcy5vYT0hMTt0aGlzLmZhPSEwfXZhciBMZD0wO0tkLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5NJiYodGhpcy5NLmRlc3Ryb3koKSx0aGlzLk09bnVsbCk7dGhpcy5hYSYmKHRoaXMuYWEuZGVzdHJveSgpLHRoaXMuYWE9bnVsbCl9O2Z1bmN0aW9uIE1kKGEpe3JldHVybiBhLm1pbWVUeXBlLnNwbGl0KCIvIilbMF19CmZ1bmN0aW9uIE5kKGEpe3ZhciBiPWEubWltZVR5cGV8fCIiO2EuY29kZWNzJiYoYis9JzsgY29kZWNzPSInK2EuY29kZWNzKyciJyk7cmV0dXJuIGJ9ZnVuY3Rpb24gT2QoKXt0aGlzLlg9UGQrKzt0aGlzLmlkPW51bGw7dGhpcy5jb250ZW50VHlwZT10aGlzLmxhbmc9IiI7dGhpcy5mPXRoaXMuYj0hMTt0aGlzLmM9bnVsbDt0aGlzLnY9W107dGhpcy5hPVtdfXZhciBQZD0wO09kLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7Zm9yKHZhciBhPTA7YTx0aGlzLnYubGVuZ3RoOysrYSl0aGlzLnZbYV0uZGVzdHJveSgpO3RoaXMuYT10aGlzLnY9bnVsbH07ZnVuY3Rpb24gUWQoYSl7Zm9yKHZhciBiPVtdLGM9MDtjPGEuYS5sZW5ndGg7KytjKXt2YXIgZD1uZXcgUmQ7ZC5pZD1hLlg7ZC5hPWEuYVtjXTtkLmNvbnRlbnRUeXBlPWEuY29udGVudFR5cGU7ZC5iPWEudi5sZW5ndGg/TmQoYS52WzBdKToiIjtiLnB1c2goZCl9cmV0dXJuIGJ9CmZ1bmN0aW9uIFNkKCl7dGhpcy5pZD1udWxsO3RoaXMuc3RhcnQ9MDt0aGlzLmR1cmF0aW9uPW51bGw7dGhpcy5hPVtdfVNkLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7Zm9yKHZhciBhPTA7YTx0aGlzLmEubGVuZ3RoOysrYSl0aGlzLmFbYV0uZGVzdHJveSgpO3RoaXMuYT1udWxsfTtmdW5jdGlvbiBUZCgpe3RoaXMuQT10aGlzLmY9dGhpcy5iPSExO3RoaXMubz10aGlzLm09dGhpcy5CPTA7dGhpcy5qPXRoaXMuaT10aGlzLmM9bnVsbDt0aGlzLmc9MDt0aGlzLmE9W107dGhpcy5oPSExO3RoaXMudz0ibm9uZSI7dGhpcy51PW51bGx9VGQucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXtmb3IodmFyIGE9MDthPHRoaXMuYS5sZW5ndGg7KythKXRoaXMuYVthXS5kZXN0cm95KCk7dGhpcy5hPW51bGx9O2Z1bmN0aW9uIFJkKCl7dGhpcy5pZD0wO3RoaXMuYT1udWxsO3RoaXMuYj10aGlzLmNvbnRlbnRUeXBlPSIifTtmdW5jdGlvbiBVKGEsYixjLGQsZSxmLGcsaCxrLGwsbSxwLHQsdyl7Ri5jYWxsKHRoaXMsYSk7dGhpcy5iPWI7dGhpcy5hPWM7dGhpcy5jPW5ldyBuYihjLGQsZSxmLHRoaXMsaCx3KTt0aGlzLlBhPWg7dGhpcy5vPXt9O3RoaXMucmE9Zjt0aGlzLnlhPTA7dGhpcy5tYT10aGlzLmY9dGhpcy5nPW51bGw7dGhpcy50YT0hMTt0aGlzLnc9dGhpcy5jYT1udWxsO3RoaXMuUz0hMTt0aGlzLmphPTA7dGhpcy5rYT0hMTt0aGlzLkQ9bnVsbDt0aGlzLlo9dGhpcy5lYT10aGlzLmg9ITE7dGhpcy5PPW5ldyBJO3RoaXMuRz10aGlzLlQ9dGhpcy5CPSExO3RoaXMuUj0wO3RoaXMuZ2E9MTU7dGhpcy5HYT10aGlzLnZhPXRoaXMuVT0hMTt0aGlzLm5hPTE7dGhpcy4kPWc7dGhpcy54YT0hMTt0aGlzLmw9bnVsbDt0aGlzLkhhPSExO3RoaXMuST10aGlzLko9dGhpcy5LPW51bGw7dGhpcy5WPSExO3RoaXMudT1tfHxudWxsO3RoaXMuRj1wfHxudWxsO3RoaXMuaj10fHxudWxsO3RoaXMuWT1udWxsO3RoaXMuYmE9CiExO3RoaXMuRGE9e307dGhpcy5GYT1rO3RoaXMuaT1udWxsO3RoaXMuaWE9ITE7dGhpcy5FYT0wO3RoaXMuQ2E9ZT9lLnNwbGl0KCI7IilbMF06IiI7dGhpcy5QPSExO3RoaXMud2E9MDt0aGlzLnNhPWw7dGhpcy5BPXRoaXMubT1udWxsfXIoVSxGKTtVLnByb3RvdHlwZS5CYT1mdW5jdGlvbigpe3JldHVybntTb3VyY2VCdWZmZXJNYW5hZ2VyOnRoaXMuY319O1UucHJvdG90eXBlLmdldERlYnVnPVUucHJvdG90eXBlLkJhO2Z1bmN0aW9uIFVkKGEsYil7cmV0dXJuIG5ldyBWaWRlb1BsYXllckJpdHJhdGVFc3RpbWF0b3IobmV3IHgoYS5hLmdldE51bWJlcigibGl2ZV9iaXRyYXRlX2VzdGltYXRlc19oYWxmX2xpZmUiLDIpKSxiLGEuYS5nZXROdW1iZXIoImxpdmVfYml0cmF0ZV9lc3RpbWF0ZXNfbWluaW11bV9zYW1wbGVfY291bnQiLDEpLGEuYS5nZXROdW1iZXIoImxpdmVfYml0cmF0ZV9lc3RpbWF0ZXNfbGFyZ2Vfc2FtcGxlX3dlaWdodF9mYWN0b3IiLDEwKSl9ClUucHJvdG90eXBlLnBhPWZ1bmN0aW9uKGEpe251bGwhPWEuaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemUmJih0aGlzLlI9TnVtYmVyKGEuaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemUpKTt2YXIgYj10aGlzLmEuZ2V0TnVtYmVyKCJpbml0aWFsX3N0cmVhbV9idWZmZXJfc2l6ZV9mb3JfdmlkZW9fc3RyZWFtIiwwKTswPGImJi0xIT09dGhpcy5DYS5pbmRleE9mKCJ2IikmJih0aGlzLlI9Yik7bnVsbCE9YS5keW5hbWljU3RyZWFtQnVmZmVyU2l6ZSYmKHRoaXMuamE9TnVtYmVyKGEuZHluYW1pY1N0cmVhbUJ1ZmZlclNpemUpKTtudWxsIT1hLnNtYXJ0QnVmZmVyQWRqdXN0bWVudFBhcmFtcyYmKHRoaXMuRGE9YS5zbWFydEJ1ZmZlckFkanVzdG1lbnRQYXJhbXMpO251bGwhPWEuc21hcnRCdWZmZXJBZGp1c3RtZW50RW5hYmxlZCYmKHRoaXMuYmE9Qm9vbGVhbihhLnNtYXJ0QnVmZmVyQWRqdXN0bWVudEVuYWJsZWQpKTtudWxsIT1hLnN0cmVhbUJ1ZmZlclNpemUmJih0aGlzLmdhPU51bWJlcihhLnN0cmVhbUJ1ZmZlclNpemUpKTsKbnVsbCE9YS5maXhCdWZmZXJpbmdHb2FsRGV0ZXJtaW5hdGlvbiYmKHRoaXMuVT1Cb29sZWFuKGEuZml4QnVmZmVyaW5nR29hbERldGVybWluYXRpb24pKTtudWxsIT1hLmFkZENkbkRlYnVnUXVlcnlQYXJhbWV0ZXJzJiYodGhpcy52YT1Cb29sZWFuKGEuYWRkQ2RuRGVidWdRdWVyeVBhcmFtZXRlcnMpKTtudWxsIT1hLnVzZUluaXRpYWxCdWZmZXJTaXplV2hlblBhdXNlZCYmKHRoaXMuR2E9Qm9vbGVhbihhLnVzZUluaXRpYWxCdWZmZXJTaXplV2hlblBhdXNlZCkpO251bGwhPWEuc2VnbWVudFJlcXVlc3RUaW1lb3V0JiYodGhpcy5jLlQ9TnVtYmVyKGEuc2VnbWVudFJlcXVlc3RUaW1lb3V0KSk7bnVsbCE9YS5yZXNvbHZlVmlkZW9UaW1lVXBkYXRlT25GcmFnbWVudGVkVGltZVJhbmdlcyYmKHRoaXMueGE9Qm9vbGVhbihhLnJlc29sdmVWaWRlb1RpbWVVcGRhdGVPbkZyYWdtZW50ZWRUaW1lUmFuZ2VzKSk7bnVsbCE9YS5wZXJmb3JtYW5jZUxvZ2dlciYmKHRoaXMubD10aGlzLm8ucGVyZm9ybWFuY2VMb2dnZXI9CmEucGVyZm9ybWFuY2VMb2dnZXIpO251bGwhPWEuYWJyTG9nZ2VyJiYodGhpcy5vLmFickxvZ2dlcj1hLmFickxvZ2dlcik7bnVsbCE9YS5yZWFwcGVuZEluaXRTZWdtZW50QWZ0ZXJBYm9ydCYmKHRoaXMuby5yZWFwcGVuZEluaXRTZWdtZW50QWZ0ZXJBYm9ydD1Cb29sZWFuKGEucmVhcHBlbmRJbml0U2VnbWVudEFmdGVyQWJvcnQpKTtudWxsIT1hLmxpdmVEYXRhRmV0Y2hNYXhSZXRyaWVzJiYodGhpcy5vLmxpdmVEYXRhRmV0Y2hNYXhSZXRyaWVzPU51bWJlcihhLmxpdmVEYXRhRmV0Y2hNYXhSZXRyaWVzKSk7bnVsbCE9YS5saXZlU291cmNlQnVmZmVyQ2xlYXJNYXhSZXRyaWVzJiYodGhpcy5vLmxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXM9TnVtYmVyKGEubGl2ZVNvdXJjZUJ1ZmZlckNsZWFyTWF4UmV0cmllcykpO251bGwhPWEuc2tpcEVtcHR5U2VnbWVudHMmJih0aGlzLm8uc2tpcEVtcHR5U2VnbWVudHM9Qm9vbGVhbihhLnNraXBFbXB0eVNlZ21lbnRzKSk7bnVsbCE9CmEucGxheWhlYWRGcmFnbWVudGVkR2FwRGlmZkFsbG93YW5jZSYmKHRoaXMuby5wbGF5aGVhZEZyYWdtZW50ZWRHYXBEaWZmQWxsb3dhbmNlPU51bWJlcihhLnBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2UpKTtudWxsIT1hLnVzZU1pY3JvVGFza1RpbWVvdXRzJiYodGhpcy5IYT1Cb29sZWFuKGEudXNlTWljcm9UYXNrVGltZW91dHMpKTthPXRoaXMuYztiPXRoaXMubztudWxsIT1iLnJlYXBwZW5kSW5pdFNlZ21lbnRBZnRlckFib3J0JiYoYS5SPUJvb2xlYW4oYi5yZWFwcGVuZEluaXRTZWdtZW50QWZ0ZXJBYm9ydCkpO251bGwhPWIucGVyZm9ybWFuY2VMb2dnZXImJihhLmw9Yi5wZXJmb3JtYW5jZUxvZ2dlcik7bnVsbCE9Yi5hYnJMb2dnZXImJihhLkk9Yi5hYnJMb2dnZXIpO251bGwhPWIubGl2ZURhdGFGZXRjaE1heFJldHJpZXMmJihhLk89Yi5saXZlRGF0YUZldGNoTWF4UmV0cmllcyk7bnVsbCE9Yi5saXZlU291cmNlQnVmZmVyQ2xlYXJNYXhSZXRyaWVzJiYoYS5LPQpiLmxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXMpO251bGwhPWIucGxheWhlYWRGcmFnbWVudGVkR2FwRGlmZkFsbG93YW5jZSYmKGEuUD1iLnBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2UpO251bGwhPWIuc2tpcEVtcHR5U2VnbWVudHMmJihhLlY9Yi5za2lwRW1wdHlTZWdtZW50cyl9O1UucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXtWZCh0aGlzKTt0aGlzLk8uZGVzdHJveSgpO3RoaXMucmE9dGhpcy5nPXRoaXMuTz1udWxsO3RoaXMuYy5kZXN0cm95KCk7dGhpcy5iPXRoaXMuYz1udWxsO3RoaXMuYS5nZXRCb29sKCJmaXhpbmdfc2NoZWR1bGVyX2Rpc2FibGVfbGVha3MiLCEwKSYmKHRoaXMudT1udWxsKTt0aGlzLkphPW51bGx9O249VS5wcm90b3R5cGU7bi5XYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmd9O24uRmI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mfTsKbi5LYz1mdW5jdGlvbihhKXt0aGlzLkJ8fGEudGhlbihmdW5jdGlvbigpe3RoaXMuQj0hMDt0aGlzLnd8fFYodGhpcywwKX0uYmluZCh0aGlzKSkuY2F0Y2goZnVuY3Rpb24oKXt9KTtyZXR1cm4gdGhpcy5PfTtuLkNiPWZ1bmN0aW9uKCl7dGhpcy5HPSEwO1dkKHRoaXMpfTtuLmZiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuR307Cm4uamI9ZnVuY3Rpb24oYSxiLGMsZCxlKXtpZihhIT10aGlzLmcpe3ZhciBmPTE7dGhpcy5hLmdldEJvb2woInVzZV9saXZlX2JpdHJhdGVfZXN0aW1hdGVzIiwhMSkmJm51bGwhPT10aGlzLm0mJjA8dGhpcy5nLmJhbmR3aWR0aCYmKGY9dGhpcy5tLmdldEVzdGltYXRlKCkvdGhpcy5nLmJhbmR3aWR0aCk7dmFyIGc9YS5hYTtnJiYodGhpcy5tYT1nLmNyZWF0ZSh0aGlzLmwsdGhpcy5QYSkpO3RoaXMuWj0hMDthLk0uY3JlYXRlKCkudGhlbihKKHRoaXMsZnVuY3Rpb24oZyl7aWYodGhpcy5iKXt0aGlzLlo9ITE7dmFyIGs9dGhpcy5nO3RoaXMuZz1hO3RoaXMuYS5nZXRCb29sKCJ1c2VfbGl2ZV9iaXRyYXRlX2VzdGltYXRlcyIsITEpJiYodGhpcy5tPVVkKHRoaXMsKGEuYmFuZHdpZHRofHwwKSpmKSk7dmFyIGw9dGhpcy5mO3RoaXMuZj1nO3RoaXMuYy5EPXRoaXMuZjtsJiZsLmEuRmMoKTt1ZCh0aGlzLmYsZnVuY3Rpb24oYSl7dmFyIGI9YTt0aGlzLmomJnRoaXMuai5zZXRTZWdtZW50cyh0aGlzLmYuZ2V0U2VnbWVudHMoKSk7CnRoaXMudSYmKGE9YSYmdGhpcy5hLmdldEJvb2woIm9wdGltaXplX3N0cmVhbV9nZXRfc2VnbWVudHNfY2FsbHMiLCExKT9hOnRoaXMuZi5nZXRTZWdtZW50cygpLHRoaXMuYS5nZXRCb29sKCJ0ZW1wbGF0ZWRfdXBkYXRlX3NybV9ieV9kZWx0YV9vZl9jaGFuZ2VkX3JlZmVyZW5jZXNfYm9vbCIsITEpJiZ0aGlzLmYuSyYmYi5sZW5ndGg8dGhpcy5mLmdldFNlZ21lbnRzKCkubGVuZ3RoJiYoYT10aGlzLmYuZ2V0U2VnbWVudHMoKS5zbGljZSgtKGIubGVuZ3RoKzEpKSksWGQodGhpcyx0aGlzLmcuaWR8fCIiLGEpKX0uYmluZCh0aGlzKSk7dGhpcy5qJiZ0aGlzLmouc2V0U2VnbWVudHModGhpcy5mLmdldFNlZ21lbnRzKCkpO2lmKHRoaXMudSl7dmFyIGw9W10sbT10aGlzLmEuZ2V0TnVtYmVyKCJ0ZW1wbGF0ZWRfY2h1bmtlZF9zZWdtZW50X3VwZGF0ZV9saW1pdF9pbnQiLDApO2lmKG0pe2c9dGhpcy5mLmxlbmd0aCgpO2Zvcih2YXIgbT1NYXRoLm1pbihnLG0pLHA9MTtwPD1tOysrcClsLnB1c2godGhpcy5mLmdldChnLQpwKSl9ZWxzZSBsPWcuZ2V0U2VnbWVudHMoKTtYZCh0aGlzLGEuaWR8fCIiLGwpfXRoaXMudGE9ITA7dGhpcy5jYT1kP2Q6bnVsbDt0aGlzLlN8fCh0aGlzLmEuZ2V0Qm9vbCgibWFrZV9lYXJseV90cmFja19zZWxlY3Rpb24iLCExKSYmdGhpcy5oJiYhdGhpcy5QJiYhdGhpcy53P1YodGhpcywwKTprP2I/WWQodGhpcywhMCxjKTplJiZZZCh0aGlzLCExKTpWKHRoaXMsMCkpfX0pKS5jYXRjaChKKHRoaXMsZnVuY3Rpb24oYSl7dGhpcy5aPSExOyJhYm9ydGVkIiE9YS50eXBlJiYodGhpcy5CPyhhPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGEpKTp0aGlzLk8ucmVqZWN0KGEpKX0pKX19O24uQ2M9ZnVuY3Rpb24oYSl7cmV0dXJuIFlkKHRoaXMsISFhKX07bi5IYz1mdW5jdGlvbigpe3RoaXMua2E9ITB9O24uSmM9ZnVuY3Rpb24oYSl7dGhpcy5FYT1hfTsKZnVuY3Rpb24gWGQoYSxiLGMpe2EuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9jaHVua2VkX3NlZ21lbnRfdXBkYXRlX2xpbWl0X2ludCIsMCkmJmEudS51cGRhdGVTZWdtZW50SW5kZXgoYixhLmYpO2EuYS5nZXRCb29sKCJ1c2VfdXBkYXRlX3NlZ21lbnRzX2J5X3NoYWthX3JlZmVyZW5jZSIsITApJiZhLnUudXBkYXRlU2VnbWVudHNCeVNoYWthUmVmZXJlbmNlcyhiLGMpfQpmdW5jdGlvbiBZZChhLGIsYyl7YS5nJiYhYS5TJiYoYS5TPSEwLFZkKGEpLGEuVD0hMSxudWxsIT09YS5BJiZhLkEucmVzZXQoKSxhLmMuYWJvcnQoKS50aGVuKEooYSxmdW5jdGlvbigpe3ZhciBhPXRoaXMuYi5jdXJyZW50VGltZTt0aGlzLmEuZ2V0Qm9vbCgic2V0X2N1cnJlbnRfdGltZV9pbl9yZXN5bmMiLCExKSYmMD09YT8odGhpcy5sJiZCYW56YWlPRFMuYnVtcEVudGl0eUtleSgyOTY2LCJ2aWRlb3Mud3d3LnNoYWthIiwic2V0X2N1cnJlbnRfdGltZV9pbl9yZXN5bmMiKSxhPXRoaXMuZi5maXJzdCgpLnN0YXJ0VGltZSk6dGhpcy5hLmdldEJvb2woImJldHRlcl9zZXRfY3VycmVudF90aW1lX2luX3Jlc3luYyIsITEpJiZhPHRoaXMuZi5maXJzdCgpLnN0YXJ0VGltZSYmKEJhbnphaU9EUy5idW1wRW50aXR5S2V5KDI5NjYsInZpZGVvcy53d3cuc2hha2EiLCJzZXRfY3VycmVudF90aW1lX2luX3Jlc3luYyIpLGE9dGhpcy5mLmZpcnN0KCkuc3RhcnRUaW1lK3RoaXMuYS5nZXROdW1iZXIoInJlc3luY19zZXRfY3VycmVudF90aW1lX2Z1ZGdlX2ZhY3RvciIsCjApKTtpZighYiYmMDxyYih0aGlzLmMsYSkmJjA8PUZiKHRoaXMuYyxhKSlyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7aWYoYylyZXR1cm4gQ2IodGhpcy5jLHRoaXMuYi5jdXJyZW50VGltZStjKTt0aGlzLmlhPSEwO3JldHVybiBCYih0aGlzLmMpfSkpLnRoZW4oSihhLGZ1bmN0aW9uKCl7dGhpcy5TPSExO1YodGhpcywwKX0pKS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7dGhpcy5TPSExOyJhYm9ydGVkIiE9YS50eXBlJiYodGhpcy5CPyhhPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGEpKTp0aGlzLk8ucmVqZWN0KGEpKX0pKSl9bi5JYz1mdW5jdGlvbihhKXtyZXR1cm4gMDxyYih0aGlzLmMsYSkmJjA8PUZiKHRoaXMuYyxhKX07bi52Yj1mdW5jdGlvbigpe307bi5EYj1mdW5jdGlvbigpe3JldHVybiEwfTsKZnVuY3Rpb24gWmQoYSl7YS5lYT1hLmVhfHwhYS5iLnBhdXNlZDthLmIucGF1c2VkfHxhLmJhfHwoYS5ZPURhdGUubm93KCksYS5iYT0hMCk7dmFyIGI9YS5EYSxjPW51bGw7aWYoYi5pbkV4cGVyaW1lbnQpaWYoYi51c2VTbWFydEJ1ZmZlcmluZyl7aWYoYS5iYSYmYS5ZKXt2YXIgYz0oRGF0ZS5ub3coKS1hLlkpLzFFMyxkPW51bGw7MT5jP2M9bnVsbDooZD0zPmM/Yi5idWZmZXJTaXplXzAwX3RvXzAzOjEwPmM/Yi5idWZmZXJTaXplXzAzX3RvXzEwOjMwPmM/Yi5idWZmZXJTaXplXzEwX3RvXzMwOjYwPmM/Yi5idWZmZXJTaXplXzMwX3RvXzYwOmIuYnVmZmVyU2l6ZV9hYm92ZV82MCxjPU1hdGgubWluKGQsYS5iLmR1cmF0aW9uKSl9fWVsc2UgYS5ZJiYoYz1iLm5vblNtYXJ0QnVmZmVyU2l6ZSk7Y3x8KGM9YS5HYSYmYS5iLnBhdXNlZD9hLlI6YS5nYSxhLmIucGF1c2VkJiYxPGEubmEmJihjKj1hLm5hKSxhLmphJiYhYS5iLnBhdXNlZCYmKGM9TWF0aC5tYXgoTWF0aC5taW4oYS5mLmxhc3QoKS5lbmRUaW1lLQphLmIuY3VycmVudFRpbWUsYS5qYSksYS5nYSkpKTtjPShhLlU/YS5oJiZhLmVhOmEuaCk/TWF0aC5tYXgoYS5SLGMpOmEuUjswPGEuYS5nZXROdW1iZXIoImF1ZGlvX3ZpZGVvX2J1ZmZlcl9kaWZmX3RocmVzaG9sZCIsMTQ0MDApJiYoYj1hLmIuYnVmZmVyZWQubGVuZ3RoP2EuYi5idWZmZXJlZC5lbmQoYS5iLmJ1ZmZlcmVkLmxlbmd0aC0xKTowLGI9TWF0aC5tYXgoMCxiLWEuYi5jdXJyZW50VGltZSksYz1NYXRoLm1pbihjLGIrYS5hLmdldE51bWJlcigiYXVkaW9fdmlkZW9fYnVmZmVyX2RpZmZfdGhyZXNob2xkIiwxNDQwMCkpKTtyZXR1cm4gY30KZnVuY3Rpb24gJGQoYSl7dmFyIGI9YS5hLmdldE51bWJlcigic3RhcnRfc3RyZWFtX2J1ZmZlcl9zaXplIiwxKSxjPWEuYS5nZXROdW1iZXIoImxvd19zdGFydF9zdHJlYW1fYnVmZmVyX3NpemUiLDEpO2lmKGIhPT1jKXt2YXIgZD1hLmEuZ2V0TnVtYmVyKCJsb3dfYmFuZHdpZHRoX3N0YXJ0X3N0cmVhbV9idWZmZXJfc2l6ZV90aHJlc2hvbGQiLDApLGU9YS5hLmdldE51bWJlcigic2NoZWR1bGVkX3ZpZGVvc19zdGFydF9zdHJlYW1fYnVmZmVyX3NpemVfdGhyZXNob2xkIiwwKTtpZigwPGQmJmEucmEuZ2V0QmFuZHdpZHRoKCk8ZCYmVmlkZW9TdHJlYW1pbmdUYXNrUXVldWVQcm92aWRlci5nZXRRdWV1ZVNpemUoInZpZGVvIik+PWUpcmV0dXJuIGN9cmV0dXJuIGJ9ZnVuY3Rpb24gYWUoYSxiKXtyZXR1cm4gcmIoYS5jLGEuaD9iOmIrKGEuRHx8MCkpfQpmdW5jdGlvbiBiZShhKXtpZihhLmgmJiFhLkJ8fGEuYS5nZXRCb29sKCJtYWtlX2Vhcmx5X3RyYWNrX3NlbGVjdGlvbiIsITEpJiZhLlp8fGEuYS5nZXRCb29sKCJwcmV2ZW50X2ZldGNoX3doaWxlX2ZldGNoaW5nX2luX3N0cmVhbSIsITEpJiZhLlApcmV0dXJuIGEudz1udWxsLFByb21pc2UucmVzb2x2ZSgpO3ZhciBiO2lmKGI9YS5CJiYhYS5HKWI9MTxhLmMuYS5idWZmZXJlZC5sZW5ndGg/ITA6ITE7aWYoYiYmKGEua2F8fEhiKGEuYyxhLmIpKSlyZXR1cm4gYS54YSYmKGEuYi5jdXJyZW50VGltZT1HYihhLmIpKSxudWxsPT09YS5LJiYoYS5rYT0hMSxZZChhLCEwKSksUHJvbWlzZS5yZXNvbHZlKCk7YS5hLmdldE51bWJlcigiZGVjb3VwbGVfc3RyZWFtX29uX3VwZGF0ZV9sb29wX2Zyb21fcmVxdWVzdF9sb29wX2ludCIsMCl8fChhLnc9bnVsbCk7Yj1hLmc7dmFyIGM9YS5mLGQ9YS5iLmN1cnJlbnRUaW1lO2EuYS5nZXRCb29sKCJ1c2VfcGVuZGluZ19zZWVrX3Bvc2l0aW9uX2Zvcl9yZWZlcmVuY2UiLAohMSkmJjA9PT1hLmIucmVhZHlTdGF0ZSYmIWQmJmEuSiYmKGQ9YS5KKTtpZihhLlUmJiFhLmgmJmFlKGEsZCk+PSRkKGEpKXJldHVybiBhLmEuZ2V0Qm9vbCgiZml4X2Nocm9tZV9tc2VfcmVncmVzc2lvbiIsITEpJiYxPT09YS5iLnJlYWR5U3RhdGUmJjA8YS5iLmJ1ZmZlcmVkLmxlbmd0aCYmKGEuYi5jdXJyZW50VGltZT1hLmIuY3VycmVudFRpbWUpLGNlKGEpLFYoYSwwKSxQcm9taXNlLnJlc29sdmUoKTt2YXIgZT1udWxsLGY9W107bnVsbCE9PWEuSyYmKGQ9YS5LKTtpZihhZShhLGQpPj1aZChhKSlpZihhLlQ9ITAsbnVsbCE9PWEuSSYmYS5JLnJlc29sdmUoKSxhLlV8fGNlKGEpLGY9ZGUoYSk/amUoYSxkKTpbXSwwPGYubGVuZ3RoKWU9ZlswXTtlbHNlIHJldHVybiBWKGEsMUUzLyg1KihNYXRoLmFicyhhLmIucGxheWJhY2tSYXRlKXx8MSkpKSxQcm9taXNlLnJlc29sdmUoKTtlbHNle3ZhciBnPTE7YS5qJiYoZz1hLmouZ2V0TnVtYmVyT2ZTZWdtZW50cygpKTt2YXIgaD1xYihhLmMpOwphLlYmJihoPW51bGwsbnVsbCE9PWEuSyYmKGEuVj0hMSkpO2EuYS5nZXRCb29sKCJmaW5kX2xhc3RfaW5zZXJ0ZWRfc2VnbWVudF9pbl9zZWdtZW50X2luZGV4IiwhMSkmJmgmJiFjLmEuYSYmKGg9Yy5maW5kKGguc3RhcnRUaW1lKSk7YS5hLmdldEJvb2woInNldF9wZW5kaW5nX3NlZWtfb25fc2V0X2N1cnJlbnRfdGltZV9mYWlsdXJlIiwhMSkmJm51bGwhPWEuSiYmKGQ9YS5KLGEuSj1udWxsKTtnPWtlKGEsZCxjLGcsaCk7ZT1nWzBdO2EuaiYmKGEuai5zZXRGdXR1cmVTZWdtZW50cyhnKSxhLmouc2V0QnVmZmVyaW5nR29hbChaZChhKS1hZShhLGQpKSk7IWUmJmRlKGEpJiYoZj1qZShhLGQpLDA8Zi5sZW5ndGgmJihlPWZbMF0pKX1pZighZSlyZXR1cm4gY2UoYSksYS5CJiYhYS5HJiYoYS5HPSEwLFdkKGEpKSxWKGEsMjAwKSxQcm9taXNlLnJlc29sdmUoKTthLmEuZ2V0Qm9vbCgiY3JlYXRlX293bl9zZWdtZW50X3JlZmVyZW5jZV9mb3Jfc2JtIiwhMSkmJihlPWpkKGUsZS5zdGFydFRpbWUsCmUuZW5kVGltZSkpO2xlKGEsbWUoYSxkLGYpLGIuaWR8fCIiKTtuZShhLG1lKGEsZCxmKSk7YS5hLmdldEJvb2woInJlZnJlc2hfc2VnbWVudF9yZWZlcmVuY2VfZmFpbG92ZXJfdXJpIiwhMCkmJihlLnVybD1lLnVybC5jbG9uZSgpKTthLlA9ITA7YS53YT1EYXRlLm5vdygpOyJ2aWRlbyI9PT1iLm1pbWVUeXBlLnNwbGl0KCIvIilbMF0mJmEucmEuc2V0UmVwcmVzZW50YXRpb25JRChiLmlkKTtjPWEuYy5mZXRjaChlLGMucyxiLmErYS5FYSxhLm1hLGEudmEmJiFhLmIucGF1c2VkLDA8Zi5sZW5ndGgsYS51LGEuRik7Yz1jLnRoZW4oSihhLGZ1bmN0aW9uKGEpe3RoaXMuYS5nZXRCb29sKCJ1cGRhdGVzX3ByaW9yaXR5X29uX2ZldGNoX2NvbXBsZXRlIiwhMSkmJm5lKHRoaXMsbWUodGhpcyxkLFtdKSk7dGhpcy5zYS5pbmZvcm1OZXR3b3JrUmVzdW1lZCgpO3JldHVybiBhfSkpO2EuJCYmInZpZGVvIj09PWIubWltZVR5cGUuc3BsaXQoIi8iKVswXSYmYS4kLmFkZChlLnN0YXJ0VGltZXx8CjAsZS5lbmRUaW1lfHwwLHtpZDpiLmlkLHJlYXNvbjphLmNhLHBlcmZvcm1hbmNlTG9nZ2VyOmEubD9hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJzdHJlYW1fc3dpdGNoIik6bnVsbH0pO2EubWE9bnVsbDthLnRhJiYoYS50YT0hMSxmPWEuY2EsYS5jYT1udWxsLG9lKGEsYixmLGEubGEoKSkpO2EuRz0hMTtyZXR1cm4gYy50aGVuKEooYSxmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5hLmdldEJvb2woImNsZWFyX29sZF9idWZmZXIiLCExKT9FYih0aGlzLmMsdGhpcy5iLmN1cnJlbnRUaW1lKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGF9KTphfSkpLnRoZW4oSihhLGZ1bmN0aW9uKGEpe3ZhciBiPWEuVyxjPWEuV2M7dGhpcy5ofHwodGhpcy55YT1jKTt0aGlzLmEuZ2V0Qm9vbCgidXNlX2xpdmVfYml0cmF0ZV9lc3RpbWF0ZXMiLCExKSYmbnVsbCE9YSYmMDxhLkRjJiYwPGEuSCYmKG51bGw9PT10aGlzLm0mJih0aGlzLm09VWQodGhpcyx0aGlzLmcuYmFuZHdpZHRofHwwKSksdGhpcy5tLnNhbXBsZSg4KgphLkRjLGEuSCkpO2E9dGhpcy5hLmdldE51bWJlcigiYnVmZmVyX3ZlbG9jaXR5X3RpbWVfaW5fcGFzdF90b19jb25zaWRlciIsMCk7MDxhJiZudWxsIT09dGhpcy5nJiYidmlkZW8iPT09TWQodGhpcy5nKSYmKG51bGw9PT10aGlzLkEmJih0aGlzLkE9bmV3IEJ1ZmZlclZlbG9jaXR5KGEpKSx0aGlzLkEucmVjb3JkQnVmZmVyQWhlYWQocmIodGhpcy5jLHRoaXMuYi5jdXJyZW50VGltZSkpKTt0aGlzLlA9ITE7InZpZGVvIj09PSh0aGlzLmc/dGhpcy5nLm1pbWVUeXBlLnNwbGl0KCIvIilbMF06bnVsbCkmJnRoaXMuZGlzcGF0Y2hFdmVudCh5KHt0eXBlOiJmZXRjaF9lbmQiLGJ1YmJsZXM6ITAsZGV0YWlsOntzdHJlYW1fZmV0Y2hfdGltZV9tczpEYXRlLm5vdygpLXRoaXMud2Esc2VnbWVudF9sZW5ndGhfbXM6MUUzKihlLmVuZFRpbWUtZS5zdGFydFRpbWUpfX0pKTtudWxsPT10aGlzLkQmJih0aGlzLkQ9Yik7dGhpcy5pYSYmMDxyYih0aGlzLmMsZCkmJih0aGlzLmlhPSExLHRoaXMuYS5nZXRCb29sKCJkaXNhYmxlX251ZGdlIiwKITEpfHwoYj15KHt0eXBlOiJzaG91bGRfbnVkZ2UifSksdGhpcy5kaXNwYXRjaEV2ZW50KGIpKSk7Vih0aGlzLDApfSkpLmNhdGNoKEooYSxmdW5jdGlvbihhKXt0aGlzLlA9ITE7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfSkpfWZ1bmN0aW9uIG1lKGEsYixjKXt2YXIgZD1hLmg/YjpiKyhhLkR8fDApO3JldHVybnthZGRpdGlvbmFsU2VnbWVudHNSZXF1aXJlZDpjLHBsYXloZWFkOmIsYnVmZmVyU3RhcnQ6ZCxidWZmZXJFbmQ6YWUoYSxiKStkLGJ1ZmZlcmluZ0dvYWw6WmQoYSksaXNQbGF5aW5nOiFhLmIucGF1c2VkfX1mdW5jdGlvbiBsZShhLGIsYyl7YS51JiZhLnUudXBkYXRlUGxheWVyU3RhdGUoYyxiKX1mdW5jdGlvbiBuZShhLGIpe2EuRiYmYS5GLnVwZGF0ZVBsYXllclN0YXRlKGIpfQpmdW5jdGlvbiBwZShhLGIsYyl7dmFyIGQ9bnVsbCE9PWEuaSYmLTE8YS5pJiZhLmk8Yy5sZW5ndGgoKS0xP2MuZ2V0KGEuaSk6bnVsbCxlPW51bGw7aWYobnVsbD09PWEuaXx8IWR8fGQuc3RhcnRUaW1lPmIpcmV0dXJuIGU9Yy5maW5kSW5kZXgoYiksYS5pPWU7Zm9yKGQ9YS5pO2Q8PWEuaSsxO2QrKylpZihlPWMuZ2V0KGQpLGUuc3RhcnRUaW1lPD1iJiZlLmVuZFRpbWU+YilyZXR1cm4gYS5pPWQ7ZT1jLmZpbmRJbmRleChiKTtyZXR1cm4oYS5pPWUpfHwtMX1mdW5jdGlvbiBkZShhKXtyZXR1cm4gYS5hLmdldEJvb2woInJlcGxhY2VfbG93ZXJfcXVhbGl0eV9idWZmZXIiLCExKSYmbnVsbD09PWEuRiYmYS5lYSYmbnVsbCE9PWEuJCYmInZpZGVvIj09PU1kKGEuZykmJm51bGwhPT1hLmZ9CmZ1bmN0aW9uIGplKGEsYil7aWYoIWEuRmF8fCFhLmcuaWR8fCFhLmYpcmV0dXJuW107dmFyIGM9cGUoYSxiLGEuZik7cmV0dXJuLTE9PT1jP1tdOkJ1ZmZlclJlcGxhY2VtZW50SGVscGVyLmdldFNlZ21lbnRzVG9SZXBsYWNlTG93ZXJRdWFsaXR5KGEuZi5nZXRTZWdtZW50cygpLGIsYyxhLmcuaWQsYS5GYSxhLiQse3RocmVzaG9sZEJlZm9yZTphLmEuZ2V0TnVtYmVyKCJidWZmZXJfcmVwbGFjZW1lbnRfYmVoaW5kX3RocmVzaG9sZCIsNSksdGhyZXNob2xkQWZ0ZXI6YS5hLmdldE51bWJlcigiYnVmZmVyX3JlcGxhY2VtZW50X2FoZWFkX3RocmVzaG9sZCIsMTUpLHdyYXBSZXBsYWNlbWVudFBhc3RFbmQ6YS5hLmdldEJvb2woIndyYXBfcmVwbGFjZW1lbnRfcGFzdF9lbmQiLCExKX0pfQpuLnpjPWZ1bmN0aW9uKCl7dmFyIGE7aWYodGhpcy5sKXt2YXIgYj10aGlzLmEuZ2V0TnVtYmVyKCJzdHJlYW1fb251cGRhdGVfc2FtcGxpbmciLDApO2ImJjA9PT1NYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqYikmJihhPXRoaXMubC5nZXRPcGVyYXRpb25Mb2dnZXIoInN0cmVhbV9vbnVwZGF0ZSIpLnN0YXJ0KCkpfXZhciBjO3RoaXMuYS5nZXROdW1iZXIoImRlY291cGxlX3N0cmVhbV9vbl91cGRhdGVfbG9vcF9mcm9tX3JlcXVlc3RfbG9vcF9pbnQiLDApJiZWKHRoaXMsdGhpcy5hLmdldE51bWJlcigiZGVjb3VwbGVfc3RyZWFtX29uX3VwZGF0ZV9sb29wX2Zyb21fcmVxdWVzdF9sb29wX2ludCIsMCkpO2lmKHRoaXMuYS5nZXRCb29sKCJjYXRjaF9zdHJlYW1fdXBkYXRlX3N5bmNfY29kZV9lcnJvciIsITEpKXRyeXtjPWJlKHRoaXMpfWNhdGNoKGQpe2QudHlwZT0idW5jYXVnaHQiLGEmJmEuc2V0RXJyb3IoZCksYz1Qcm9taXNlLnJlamVjdChkKX1lbHNlIGM9YmUodGhpcyk7Yy5jYXRjaChKKHRoaXMsCmZ1bmN0aW9uKGEpe2lmKCJhYm9ydGVkIiE9YS50eXBlKXtpZigic291cmNlYnVmZmVyX2Z1bGwiPT09YS50eXBlKXJldHVybiBCYih0aGlzLmMpLnRoZW4oSih0aGlzLGZ1bmN0aW9uKCl7Vih0aGlzLDApfSkpO3ZhciBiPVswLDQwNCw0MTAsNTAyLDUwMyw1MDRdO3RoaXMuYS5nZXRCb29sKCJlbmFibGVfZG91YmxlX2luZ2VzdCIsITEpJiZiLnB1c2goNDE3LDIwMCk7Yj0tMT09PWIuaW5kZXhPZihhLnN0YXR1cyk7aWYoIm5ldCI9PT1hLnR5cGUmJiFiJiZ0aGlzLmcpaWYodGhpcy5hLmdldEJvb2woImFsbG93X2luZmluaXRlX3JldHJ5X29uX25ldF9lcnIiLCEwKSlzd2l0Y2goYS5zdGF0dXMpe2Nhc2UgNDA0OlYodGhpcywyRTMpO2JyZWFrO2Nhc2UgNDEwOnRoaXMuYS5nZXRCb29sKCJlbmRfYWxsX3N0cmVhbXNfb25fNDEwIiwhMSk/cWUodGhpcyk6dGhpcy5DYigpO2JyZWFrO2Nhc2UgNDE3OmNhc2UgMjAwOmEucmVzcG9uc2VIZWFkZXJzJiZudWxsIT1hLnJlc3BvbnNlSGVhZGVyc1sieC1mYi12aWRlby1yZXBsaWNhIl0/CnRoaXMuZGlzcGF0Y2hFdmVudCh5KHt0eXBlOiJyZXBsaWNhc3dpdGNoIixidWJibGVzOiEwLHJlcGxpY2E6YS5yZXNwb25zZUhlYWRlcnNbIngtZmItdmlkZW8tcmVwbGljYSJdLHVybDphLnVybCxzdGF0dXM6YS5zdGF0dXN9KSk6Yj0hMDticmVhaztkZWZhdWx0OlYodGhpcywxRTMpfWVsc2UgVih0aGlzLDFFMyksYj0hMDswPT09YS5zdGF0dXM/dGhpcy5zYS5pbmZvcm1OZXR3b3JrSW50ZXJydXB0ZWQoKTp0aGlzLnNhLmluZm9ybU5ldHdvcmtSZXN1bWVkKCk7aWYoIXRoaXMuYS5nZXRCb29sKCJhbGxvd19pbmZpbml0ZV9yZXRyeV9vbl9uZXRfZXJyIiwhMCl8fGIpYj1BKGEpLHRoaXMuZGlzcGF0Y2hFdmVudChiKSx0aGlzLmwmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgYj10aGlzLmwuZ2V0RXZlbnRMb2dnZXIoInN0cmVhbV9lcnJvcl9mYWxsYmFjayIpLnNldEVycm9yKGEpLnNldFR5cGUodGhpcy5DYS5zcGxpdCgiLyIpWzBdKTt0aGlzLmI/Yi5zZXRSZXN1bHQoImZhaWxlZCIpOgpiLnNldFJlc3VsdCgic3VjY2VzcyIpO2IubG9nKCl9LmJpbmQodGhpcyksMCl9fSkpO2EmJmEubG9nKCl9O2Z1bmN0aW9uIGtlKGEsYixjLGQsZSl7dmFyIGY9LTE7aWYoYS5hLmdldEJvb2woInRlbXBsYXRlZF9mYXN0ZXJfc3RyZWFtX2dldF9uZXh0X24iLCExKSYmMT09PWQmJm51bGwhPWUmJm51bGwhPWUuZW5kVGltZSlyZXR1cm4oYz1jLmZpbmQoZS5lbmRUaW1lKSk/W2NdOltdO251bGwhPWU/Zj1udWxsIT1lLmVuZFRpbWU/Yy5maW5kSW5kZXgoZS5lbmRUaW1lKTotMTooZj1wZShhLGIsYyksMD5mJiYoZj1jLmxlbmd0aCgpP2MubGVuZ3RoKCktMTotMSkpO2E9W107aWYoMDw9Zilmb3IoYj1mO2I8ZitkJiZiPGMubGVuZ3RoKCk7YisrKWEucHVzaChjLmdldChiKSk7cmV0dXJuIGF9CmZ1bmN0aW9uIGNlKGEpe2lmKCFhLmgmJm51bGwhPWEuRCl7YS5oPSEwO3ZhciBiPWEuYyxjPWEuRCxkPWMtYi5VOzAhPWQmJihiLmI9a2QoYi5iLGQpLGIuVT1jKTthLk8ucmVzb2x2ZShhLkQpfX1uLkVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaH07VS5wcm90b3R5cGUuaGFzU3RhcnRlZD1VLnByb3RvdHlwZS5FZDtVLnByb3RvdHlwZS5rYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLlR9O1UucHJvdG90eXBlLmhhc0hpdEJ1ZmZlcmluZ0dvYWw9VS5wcm90b3R5cGUua2I7VS5wcm90b3R5cGUubGE9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09PXRoaXMubT9udWxsOnRoaXMubS5nZXRFc3RpbWF0ZSgpfTtVLnByb3RvdHlwZS5nZXRCaXRyYXRlRXN0aW1hdGU9VS5wcm90b3R5cGUubGE7VS5wcm90b3R5cGUucWI9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09PXRoaXMuQT9udWxsOnRoaXMuQS5nZXRWZWxvY2l0eSgpfTtVLnByb3RvdHlwZS5nZXRCdWZmZXJWZWxvY2l0eT1VLnByb3RvdHlwZS5xYjsKZnVuY3Rpb24gb2UoYSxiLGMsZCl7dmFyIGU9Yi5taW1lVHlwZS5zcGxpdCgiLyIpWzBdO2I9eSh7dHlwZToiYWRhcHRhdGlvbiIsaWQ6Yi5pZCxidWJibGVzOiEwLGNvbnRlbnRUeXBlOmUsc2l6ZToidmlkZW8iIT1lP251bGw6e3dpZHRoOmIud2lkdGgsaGVpZ2h0OmIuaGVpZ2h0fSxiYW5kd2lkdGg6ZHx8Yi5iYW5kd2lkdGgscmVhc29uOmN9KTthLmRpc3BhdGNoRXZlbnQoYil9ZnVuY3Rpb24gcWUoYSl7dmFyIGI9eSh7dHlwZToic2hvdWxkX2VuZF9hbGxfc3RyZWFtcyJ9KTthLmRpc3BhdGNoRXZlbnQoYil9ZnVuY3Rpb24gV2QoYSl7dmFyIGI9eSh7dHlwZToiZW5kZWQifSk7YS5kaXNwYXRjaEV2ZW50KGIpfVUucHJvdG90eXBlLk9hPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuRn07VS5wcm90b3R5cGUuZ2V0VmlkZW9TdHJlYW1pbmdNYW5hZ2VyPVUucHJvdG90eXBlLk9hOwpmdW5jdGlvbiBWKGEsYil7VmQoYSk7IWImJmEuSGE/UHJvbWlzZS5yZXNvbHZlKCkudGhlbihhLnpjLmJpbmQoYSkpOmEudz1zZXRUaW1lb3V0KGEuemMuYmluZChhKSxiKX1mdW5jdGlvbiBWZChhKXtudWxsIT1hLncmJihjbGVhclRpbWVvdXQoYS53KSxhLnc9bnVsbCl9VS5wcm90b3R5cGUuc2I9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy55YX07VS5wcm90b3R5cGUuZ2I9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jLml9O1UucHJvdG90eXBlLmdldFN0cmVhbVByb2dyZXNzVHJhY2tlcj1VLnByb3RvdHlwZS5nYjtmdW5jdGlvbiByZShhLGIpe2EuSz1iO2EuVj0hMDthLkl8fChhLkk9bmV3IEkpO3JldHVybiBhLkl9O2Z1bmN0aW9uIHNlKGEpe3RoaXMuYj1hO3RoaXMuYT1udWxsfXNlLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5hJiYodGhpcy5hLmRlc3Ryb3koKSx0aGlzLmE9bnVsbCl9O3NlLnByb3RvdHlwZS5jcmVhdGU9ZnVuY3Rpb24oKXtpZih0aGlzLmEpcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLmEpO3ZhciBhPW5ldyBpZCgwLG51bGwsdGhpcy5iLDAsMCksYT1uZXcgVChbYV0sMSk7dGhpcy5hPW5ldyBSKGEpO3JldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5hKX07c2UucHJvdG90eXBlLmM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hfTtmdW5jdGlvbiB0ZShhLGIpe0YuY2FsbCh0aGlzLGEpO3RoaXMuYj1iO3RoaXMuaj0hMDt0aGlzLm09dGhpcy5nPW51bGw7dGhpcy5mPW5ldyBJO3RoaXMuYT1udWxsfXIodGUsRik7dGUucHJvdG90eXBlLnBhPWZ1bmN0aW9uKCl7fTt0ZS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuYSYmdGhpcy5iLnJlbW92ZUNoaWxkKHRoaXMuYSk7dGhpcy5mLmRlc3Ryb3koKTt0aGlzLkphPXRoaXMuYj10aGlzLmc9dGhpcy5tPXRoaXMuYT10aGlzLmY9bnVsbH07bj10ZS5wcm90b3R5cGU7bi5XYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmd9O24uRmI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tfTtuLktjPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZn07bi5mYj1mdW5jdGlvbigpe3JldHVybiEwfTtuLkNiPWZ1bmN0aW9uKCl7fTsKbi5qYj1mdW5jdGlvbihhKXthLk0uY3JlYXRlKCkudGhlbihKKHRoaXMsZnVuY3Rpb24oYil7aWYodGhpcy5iKXtpZigwPT1iLmxlbmd0aCgpKXJldHVybiBQcm9taXNlLnJlamVjdChFcnJvcigiTm8gc3VidGl0bGVzIFVSTCBhdmFpbGFibGUuIikpO3ZhciBjPXRoaXMuZzt0aGlzLmc9YTt0aGlzLm09YjtiPWIuZmlyc3QoKS51cmwuY1swXS50b1N0cmluZygpO3ZhciBkPXRoaXMuRGIoKTt0aGlzLmEmJih0aGlzLnZiKCExKSx0aGlzLmIucmVtb3ZlQ2hpbGQodGhpcy5hKSk7dGhpcy5hPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRyYWNrIik7dGhpcy5iLmFwcGVuZENoaWxkKHRoaXMuYSk7dGhpcy5hLnNyYz1iO3RoaXMudmIoZCk7Yj15KHt0eXBlOiJhZGFwdGF0aW9uIixidWJibGVzOiEwLGNvbnRlbnRUeXBlOiJ0ZXh0IixzaXplOm51bGwsYmFuZHdpZHRoOmEuYmFuZHdpZHRofSk7dGhpcy5kaXNwYXRjaEV2ZW50KGIpO2N8fHRoaXMuZi5yZXNvbHZlKDApfX0pKX07bi5DYz1mdW5jdGlvbigpe307Cm4uSGM9ZnVuY3Rpb24oKXt9O24uSWM9ZnVuY3Rpb24oKXtyZXR1cm4hMH07bi52Yj1mdW5jdGlvbihhKXt0aGlzLmo9YTt0aGlzLmEmJih0aGlzLmEudHJhY2subW9kZT1hPyJzaG93aW5nIjoiZGlzYWJsZWQiKX07bi5EYj1mdW5jdGlvbigpe3RoaXMuYSYmKHRoaXMuaj0ic2hvd2luZyI9PXRoaXMuYS50cmFjay5tb2RlKTtyZXR1cm4gdGhpcy5qfTtuLnNiPWZ1bmN0aW9uKCl7cmV0dXJuIDB9O24uSmM9ZnVuY3Rpb24oKXt9O2Z1bmN0aW9uIHVlKCl7fQp1ZS5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9bnVsbDt0cnl7dmFyIGY7dmFyIGc9bmV3IElhKGIpO2lmKDQ0MDc4Njg1MSE9S2EoZykuaWQpZj1udWxsO2Vsc2V7dmFyIGg9S2EoZyk7aWYoNDA4MTI1NTQzIT1oLmlkKWY9bnVsbDtlbHNle3ZhciBrPWguYS5ieXRlT2Zmc2V0LGw7dmFyIG09bmV3IElhKGguYSk7Zm9yKGI9bnVsbDtEYShtLmEpOyl7dmFyIHA9S2EobSk7aWYoMzU3MTQ5MDMwPT1wLmlkKXtiPXA7YnJlYWt9fWlmKGIpe2Zvcih2YXIgdD1uZXcgSWEoYi5hKSxwPTFFNixtPW51bGw7RGEodC5hKTspe3ZhciB3PUthKHQpO2lmKDI4MDc3Mjk9PXcuaWQpcD1PYSh3KTtlbHNlIGlmKDE3NTQ1PT13LmlkKWlmKGI9dyw0PT1iLmEuYnl0ZUxlbmd0aCltPWIuYS5nZXRGbG9hdDMyKDApO2Vsc2UgaWYoOD09Yi5hLmJ5dGVMZW5ndGgpbT1iLmEuZ2V0RmxvYXQ2NCgwKTtlbHNlIHRocm93IG5ldyBSYW5nZUVycm9yKCJFYm1sRWxlbWVudDogZmxvYXRpbmcgcG9pbnQgbnVtYmVycyBtdXN0IGJlIDQgb3IgOCBieXRlcy4iKTt9bnVsbD09Cm0/bD1udWxsOih0PXAvMUU5LGw9e0diOnQsZHVyYXRpb246bSp0fSl9ZWxzZSBsPW51bGw7Zj1sP3tBZDprLEdiOmwuR2IsZHVyYXRpb246bC5kdXJhdGlvbn06bnVsbH19aWYoZil7dmFyIHo9S2EobmV3IElhKGEpKTtpZig0NzUyNDk1MTUhPXouaWQpZT1udWxsO2Vsc2V7dmFyIEg9Zi5BZCxkYT1mLkdiLGVhPWYuZHVyYXRpb247YT1bXTtmb3IodmFyIEFhPW5ldyBJYSh6LmEpLGs9Zj16PS0xO0RhKEFhLmEpOyl7dmFyIGNiPUthKEFhKTtpZigxODc9PWNiLmlkKXt2YXIgbmE7dmFyIHZkPW5ldyBJYShjYi5hKSx3ZD1LYSh2ZCk7aWYoMTc5IT13ZC5pZCluYT1udWxsO2Vsc2V7dmFyIFllPU9hKHdkKSx4ZD1LYSh2ZCk7aWYoMTgzIT14ZC5pZCluYT1udWxsO2Vsc2V7dmFyIGVlPW5ldyBJYSh4ZC5hKTtmb3IobD0wO0RhKGVlLmEpOyl7dmFyIGZlPUthKGVlKTtpZigyNDE9PWZlLmlkKXtsPU9hKGZlKTticmVha319bmE9e3piOlllLHlkOmx9fX1pZihuYSl7dmFyIGdlPWRhKm5hLnpiLApoZT1IK25hLnlkO2lmKDA8PXope3ZhciBOYz1uZXcgSyhkLGMsayxoZS0xKSxBZj1uYS56Yi1mO2EucHVzaChuZXcgaWQoeixnZSxOYyxuYS56YixBZikpfXo9Z2U7Zj1uYS56YjtrPWhlfX19MDw9eiYmKE5jPW5ldyBLKGQsYyxrLG51bGwpLGEucHVzaChuZXcgaWQoeixlYSxOYyxmLGVhL2RhLWYpKSk7ZT1hfX1lbHNlIGU9bnVsbH1jYXRjaChpZSl7aWYoIShpZSBpbnN0YW5jZW9mIFJhbmdlRXJyb3IpKXRocm93IGllO31yZXR1cm4gZX07ZnVuY3Rpb24gdmUoYSxiLGMsZCxlLGYsZyxoLGssbCxtKXt0aGlzLmg9YTt0aGlzLm89Yjt0aGlzLmI9Yzt0aGlzLm09bHx8bnVsbDt0aGlzLmo9bXx8bnVsbDt0aGlzLmE9ZDt0aGlzLmc9ZTt0aGlzLmY9Zjt0aGlzLnc9Zzt0aGlzLlJhPW51bGw7dGhpcy5pPWg7dGhpcy5sPWt8fG51bGw7dGhpcy51PW51bGx9dmUucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmk9dGhpcy5vPXRoaXMuaD1udWxsO3RoaXMuYS5LYSgpO3RoaXMuYT1udWxsO3RoaXMuZiYmKHRoaXMuZi5LYSgpLHRoaXMuZj1udWxsKTt0aGlzLmcmJih0aGlzLmcuS2EoKSx0aGlzLmc9bnVsbCk7dGhpcy5SYT1udWxsfTt2ZS5wcm90b3R5cGUuUWM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5SYX07dmUucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbigpe3JldHVybiB3ZSh0aGlzKX07dmUucHJvdG90eXBlLnBiPWZ1bmN0aW9uKCl7cmV0dXJuIHdlKHRoaXMpfTsKZnVuY3Rpb24gd2UoYSl7aWYoYS5SYSlyZXR1cm4gYS5SYTt2YXIgYj1udWxsO2EubCYmKGI9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigiY3JlYXRlX2NvbnRhaW5lcl9zZWdtZW50X2luZGV4X3NvdXJjZSIpLnN0YXJ0KCkpO2lmKG51bGwhPT1hLm0mJihudWxsIT09YS5qfHwid2VibSIhPT1hLmIpKXJldHVybiB4ZShhLGEubSxhLmosYik7dmFyIGM9W2EuYS5mZXRjaChudWxsLG51bGwsYS5sLGIpXTsid2VibSI9PWEuYiYmYy5wdXNoKGEuZy5mZXRjaChudWxsLG51bGwsYS5sLGIpKTthLlJhPVByb21pc2UuYWxsKGMpLnRoZW4oSihhLGZ1bmN0aW9uKGEpe3JldHVybiB4ZSh0aGlzLGFbMF0sYVsxXXx8bnVsbCxiKX0pKTtyZXR1cm4gYS5SYX0KZnVuY3Rpb24geGUoYSxiLGMsZCl7dmFyIGU9bnVsbDsibXA0Ij09YS5iPyhlPW5ldyB0ZCxlPWUucGFyc2UobmV3IERhdGFWaWV3KGIpLGEuYS5zdGFydEJ5dGUsYS5hLmMsYS5pLGEuZikpOiJ3ZWJtIj09YS5iJiYoZT1uZXcgdWUsZT1lLnBhcnNlKG5ldyBEYXRhVmlldyhiKSxuZXcgRGF0YVZpZXcoYyksYS5hLmMsYS5pKSk7aWYoIWUpcmV0dXJuIGE9RXJyb3IoIkZhaWxlZCB0byBwYXJzZSBTZWdtZW50UmVmZXJlbmNlcyBmcm9tICIrYS5hLnRvU3RyaW5nKCkrIiAob3Igb25lIG9mIGl0cyBmYWxsYmFja3MpLiIpLGEudHlwZT0ic3RyZWFtIixQcm9taXNlLnJlamVjdChhKTtiPW5ldyBUKGUsZS5zKTt2YXIgZjsiZHluYW1pYyI9PWEuaC50eXBlP2Y9bmV3IFMoYixhLmgsYS5vLGEudyk6Zj1uZXcgUihiKTtkJiZkLmxvZygpO2EudT1mO3JldHVybiBQcm9taXNlLnJlc29sdmUoZil9dmUucHJvdG90eXBlLmM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51fTtmdW5jdGlvbiB5ZShhLGIsYyxkKXt0aGlzLmM9YTt0aGlzLmI9Yjt0aGlzLmw9Y3x8bnVsbDt0aGlzLmE9ZHx8bnVsbH0KZnVuY3Rpb24gemUoYSxiLGMpe2Zvcih2YXIgZD15YSgpLzFFMyxlPTA7ZTxiLmEubGVuZ3RoOysrZSlmb3IodmFyIGY9Yi5hW2VdLGc9MDtnPGYuYS5sZW5ndGg7KytnKXt2YXIgaD1mLmFbZ107aWYoInRleHQiIT1oLmNvbnRlbnRUeXBlKWZvcih2YXIgaz0wO2s8aC5hLmxlbmd0aDsrK2spe3ZhciBsPWguYVtrXSxtPTAsbT1tKyhsLmY/MTowKSxtPW0rKGwuYj8xOjApLG09bSsobC5hPzE6MCk7MD09bT8oaC5hLnNwbGljZShrLDEpLC0tayk6MSE9bSYmKGwuZj8obC5iPW51bGwsbC5hPW51bGwpOmwuYiYmKGwuYT1udWxsKSl9fUFlKGIpO2ZvcihlPTA7ZTxiLmEubGVuZ3RoOysrZSlmb3IoZj1iLmFbZV0sZz0wO2c8Zi5hLmxlbmd0aDsrK2cpe2s9aD1mLmFbZ107bD1udWxsO2ZvcihtPTA7bTxrLmEubGVuZ3RoOysrbSl7dmFyIHA9ay5hW21dLm1pbWVUeXBlfHwiIjtsP3AhPWwmJihrLmEuc3BsaWNlKG0sMSksLS1tKTpsPXB9MD09aC5hLmxlbmd0aCYmKGYuYS5zcGxpY2UoZywxKSwKLS1nKX1iLm1hbmlmZXN0SXNMaXZlU3RyZWFtaW5nJiZudWxsPT1iLmMmJihiLmM9ZCk7ZT1uZXcgVGQ7ImR5bmFtaWMiPT1iLnR5cGUmJihlLmI9ITAsZS5jPWIuZyxlLmk9bmV3IEsoYyxiLnV8fGIudXJsLHZvaWQgMCx2b2lkIDAsdm9pZCAwLGEuYSksZS5qPWIuYyk7ZS5CPWIuaHx8MDtlLm09Yi5pfHwwO2Uubz1iLmp8fDA7ZS5nPWIubXx8NTtmb3IoZj0wO2Y8Yi5hLmxlbmd0aDsrK2Ype2c9Yi5hW2ZdO2lmKG51bGw9PWcuc3RhcnQpYnJlYWs7Zz1CZShhLGIsZyxkLGMpO2UuYS5wdXNoKGcpfWUuZj1iLkZCSXNMaXZlVGVtcGxhdGVkO2EubCYmYS5sLnNldElzVGVtcGxhdGVkTWFuaWZlc3QoYi5GQklzTGl2ZVRlbXBsYXRlZCk7ZS5BPWIuRkJXYXNMaXZlO2E9bnVsbDtjPSJub25lIjtmb3IoZj0wO2Y8Yi5hLmxlbmd0aDtmKyspZm9yKGc9Yi5hW2ZdLGQ9MDtkPGcuYS5sZW5ndGg7ZCsrKWZvcihoPWcuYVtkXSxrPTA7azxoLmEubGVuZ3RoO2srKylsPWguYVtrXS5pLG51bGwhPQpsJiZudWxsIT1sLnZhbHVlJiYoYT1jPWwudmFsdWUsInVybjptcGVnOmRhc2g6MjMwMDM6MzphdWRpb19jaGFubmVsX2NvbmZpZ3VyYXRpb246MjAxMSI9PT1sLmEmJigiMSI9PT1hP2M9Im1vbm8iOiIyIj09PWEmJihjPSJzdGVyZW8iKSkpO2Uudz1jO2E9cGFyc2VJbnQoYSwxMCk7ZS51PTA8YT9hOm51bGw7cmV0dXJuIGV9CmZ1bmN0aW9uIEFlKGEpe2lmKGEuYS5sZW5ndGgpe251bGw9PWEuYVswXS5zdGFydCYmKGEuYVswXS5zdGFydD0wKTt2YXIgYj1mdW5jdGlvbihhKXtyZXR1cm4gMD09YXx8ISFhfTthLm1hbmlmZXN0SXNMaXZlU3RyZWFtaW5nJiYoYS5iPW51bGwpO2IoYS5iKSYmMT09YS5hLmxlbmd0aCYmIWIoYS5hWzBdLmR1cmF0aW9uKSYmKGEuYVswXS5kdXJhdGlvbj1hLmIpO2Zvcih2YXIgYz0wLGQ9ITAsZT0wO2U8YS5hLmxlbmd0aDsrK2Upe3ZhciBmPWEuYVtlLTFdLGc9YS5hW2VdLGg9YS5hW2UrMV18fHtzdGFydDphLmJ9OyFiKGcuc3RhcnQpJiZmJiZiKGYuc3RhcnQpJiZiKGYuZHVyYXRpb24pJiYoZy5zdGFydD1mLnN0YXJ0K2YuZHVyYXRpb24pOyFiKGcuZHVyYXRpb24pJiZiKGguc3RhcnQpJiYoZy5kdXJhdGlvbj1oLnN0YXJ0LWcuc3RhcnQpO251bGwhPWcuc3RhcnQmJm51bGwhPWcuZHVyYXRpb24/Yys9Zy5kdXJhdGlvbjpkPSExfWIoYS5iKXx8KGU9YS5hW2EuYS5sZW5ndGgtMV0sCmQ/YS5iPWM6YihlLnN0YXJ0KSYmYihlLmR1cmF0aW9uKT9hLmI9ZS5zdGFydCtlLmR1cmF0aW9uOmEubWFuaWZlc3RJc0xpdmVTdHJlYW1pbmd8fChhLmI9YykpfX0KZnVuY3Rpb24gQmUoYSxiLGMsZCxlKXt2YXIgZj1uZXcgU2Q7Zi5pZD1jLmlkO2Yuc3RhcnQ9Yy5zdGFydDtmLmR1cmF0aW9uPWMuZHVyYXRpb247dmFyIGc9bmV3IEQ7Yy5hLmZvckVhY2goZnVuY3Rpb24oYSl7Zy5wdXNoKGEuY29udGVudFR5cGV8fCIiLGEpfSk7Zm9yKHZhciBoPWFiKGcpLGs9MDtrPGgubGVuZ3RoOysrayl7dmFyIGw9bmV3IEQ7Zy5nZXQoaFtrXSkuZm9yRWFjaChmdW5jdGlvbihhKXtsLnB1c2goYS5ncm91cCxhKX0pO2Zvcih2YXIgbT1hYihsKSxwPTA7cDxtLmxlbmd0aDsrK3Ape3ZhciB0PW5ldyBEO2wuZ2V0KG1bcF0pLmZvckVhY2goZnVuY3Rpb24oYSl7dC5wdXNoKGEubGFuZyxhKX0pO2Zvcih2YXIgdz1hYih0KSx6PTA7ejx3Lmxlbmd0aDsrK3ope3ZhciBIPXQuZ2V0KHdbel0pLEg9Q2UoYSxiLGMsSCxkLGUpO2YuYS5wdXNoKEgpfX19cmV0dXJuIGZ9CmZ1bmN0aW9uIENlKGEsYixjLGQsZSxmKXtiYShkLmV2ZXJ5KGZ1bmN0aW9uKGEpe3JldHVybiBhLmdyb3VwPT1kWzBdLmdyb3VwJiYoYS5sYW5nfHwiIik9PShkWzBdLmxhbmd8fCIiKSYmKGEuY29udGVudFR5cGV8fCIiKT09KGRbMF0uY29udGVudFR5cGV8fCIiKX0pKTt2YXIgZz1uZXcgT2QsaD1kLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YS5pZH0pO2gubGVuZ3RoPT1kLmxlbmd0aCYmKGcuaWQ9aC5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuaWR9KS5zb3J0KCkucmVkdWNlKGZ1bmN0aW9uKGEsYil7cmV0dXJuIGErIiwiK2J9KSk7Zy5iPSEoIWRbMF0uYnx8InVybjpzY3RlOmRhc2g6Y2M6Y2VhLTYwODoyMDE1IiE9PWRbMF0uYi5hKTtnLmxhbmc9ZFswXS5sYW5nfHwiIjtnLmNvbnRlbnRUeXBlPWRbMF0uY29udGVudFR5cGV8fCIiO2cuZj1kLnNvbWUoZnVuY3Rpb24oYSl7cmV0dXJuIGEuZn0pO2Zvcih2YXIgaD17fSxrPTA7azxkLmxlbmd0aDsrK2spe3ZhciBsPQpkW2tdO2wuYyYmKGcuYz1sLmMpO2Zvcih2YXIgbT0wO208bC5hLmxlbmd0aDsrK20pe3ZhciBwPWwuYVttXSx0PURlKGEscCksdz1nLmEuc2xpY2UoMCk7RWUodCx3KTswPT13Lmxlbmd0aCYmMDxnLmEubGVuZ3RofHwhKHA9RmUoYSxiLGMscCxlLGYpKXx8KGcudi5wdXNoKHApLGcuYT13LGhbcC5YXT1sKX19aWYoZy5hLnNvbWUoZnVuY3Rpb24oYSl7cmV0dXJuIiI9PWEuYX0pKXJldHVybiBnLnYuZm9yRWFjaChmdW5jdGlvbihhKXthLm9hPSEwfSksZzthPUdlKGQpO2ZvcihrPTA7azxnLnYubGVuZ3RoOysraylwPWcudltrXSxsPWhbcC5YXSxsPT1hJiYocC5vYT0hMCk7cmV0dXJuIGd9CmZ1bmN0aW9uIEdlKGEpe2Zvcih2YXIgYj1udWxsLGM9bnVsbCxkPTA7ZDxhLmxlbmd0aDsrK2QpZm9yKHZhciBlPWFbZF0sZj0wO2Y8ZS5hLmxlbmd0aDsrK2Ype3ZhciBnPWUuYVtmXSxnPShnLndpZHRofHwxKSooZy5oZWlnaHR8fDEpKihnLmJhbmR3aWR0aHx8MSk7aWYobnVsbD09Ynx8ZzxiKWI9ZyxjPWV9cmV0dXJuIGN9ZnVuY3Rpb24gRWUoYSxiKXtpZigwPT1iLmxlbmd0aClBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShiLGEpO2Vsc2UgZm9yKHZhciBjPTA7YzxiLmxlbmd0aDsrK2Mpe2Zvcih2YXIgZD0hMSxlPTA7ZTxhLmxlbmd0aDsrK2Upe3ZhciBmPWJbY10sZz1hW2VdO2lmKGYuYT09Zy5hJiZmLmk9PWcuaSYmZi53aXRoQ3JlZGVudGlhbHM9PWcud2l0aENyZWRlbnRpYWxzJiZmLmg9PWcuaCYmZi5qPT1nLmomJmYuZz09Zy5nJiZmLm09PWcubSYmTWEoZi5jLGcuYykpe2Q9ITA7T2IoYltjXSxhW2VdLmIpO2JyZWFrfX1kfHwoYi5zcGxpY2UoYywxKSwtLWMpfX0KZnVuY3Rpb24gRGUoYSxiKXt2YXIgYz1bXTtpZigwPT1iLmMubGVuZ3RoKWMucHVzaChuZXcgTWIpO2Vsc2UgaWYoYS5iKWZvcih2YXIgZD0wO2Q8Yi5jLmxlbmd0aDsrK2QpYy5wdXNoLmFwcGx5KGMsSGUoYSxiLmNbZF0pKTtyZXR1cm4gY30KZnVuY3Rpb24gSGUoYSxiKXt2YXIgYz1bXTtpZigyIT1hLmIubGVuZ3RoKXJldHVybltdO3ZhciBkPWEuYihiLmZ8fCIiLGIuYyk7aWYoIShkJiZkIGluc3RhbmNlb2YgQXJyYXkpKXJldHVybltdO2Zvcih2YXIgZT0wO2U8ZC5sZW5ndGg7KytlKXt2YXIgZjt2YXIgZz1kW2VdO2Y9bmV3IE1iO2lmKGcpe3ZhciBoPVlhKGcsImtleVN5c3RlbSIpO2lmKG51bGwhPWgpZi5hPWg7ZWxzZSB0aHJvdyBFcnJvcigiJ2tleVN5c3RlbScgY2Fubm90IGJlIG51bGwuIik7dmFyIGs9WWEoZywibGljZW5zZVNlcnZlclVybCIpO2lmKG51bGwhPWspZi5pPWs7ZWxzZSBpZihoKXRocm93IEVycm9yKCJGb3IgZW5jcnlwdGVkIHN0cmVhbWluZyBjb250ZW50LCAnbGljZW5zZVNlcnZlclVybCcgY2Fubm90IGJlIG51bGwgb3IgZW1wdHkuIik7aD1CKGcsIndpdGhDcmVkZW50aWFscyIpO251bGwhPWgmJihmLndpdGhDcmVkZW50aWFscz1oKTtoPVphKGcsImxpY2Vuc2VQb3N0UHJvY2Vzc29yIixGdW5jdGlvbik7Cm51bGwhPWgmJihmLmY9aCk7aD1aYShnLCJsaWNlbnNlUHJlUHJvY2Vzc29yIixGdW5jdGlvbik7bnVsbCE9aCYmKGYubz1oKTtoPUIoZywiZGlzdGluY3RpdmVJZGVudGlmaWVyUmVxdWlyZWQiKTtudWxsIT1oJiYoZi5oPWgpO2g9QihnLCJwZXJzaXN0ZW50U3RhdGVSZXF1aXJlZCIpO251bGwhPWgmJihmLmo9aCk7aD1ZYShnLCJhdWRpb1JvYnVzdG5lc3MiKTtudWxsIT1oJiYoZi5nPWgpO2g9WWEoZywidmlkZW9Sb2J1c3RuZXNzIik7bnVsbCE9aCYmKGYubT1oKTtoPVphKGcsInNlcnZlckNlcnRpZmljYXRlIixVaW50OEFycmF5KTtudWxsIT1oJiYoZi5jPWgpO2lmKGg9WmEoZywiaW5pdERhdGEiLE9iamVjdCkpe2c9WmEoaCwiaW5pdERhdGEiLFVpbnQ4QXJyYXkpO2lmKG51bGw9PWcpdGhyb3cgRXJyb3IoIidpbml0RGF0YS5pbml0RGF0YScgY2Fubm90IGJlIG51bGwuIik7aD1ZYShoLCJpbml0RGF0YVR5cGUiKTtpZihudWxsPT1oKXRocm93IEVycm9yKCInaW5pdERhdGEuaW5pdERhdGFUeXBlJyBjYW5ub3QgYmUgbnVsbC4iKTsKZi5iLnB1c2goe2luaXREYXRhOm5ldyBVaW50OEFycmF5KGcuYnVmZmVyKSxpbml0RGF0YVR5cGU6aH0pfX0wPT1mLmIubGVuZ3RoJiZiLmEmJmIuYS5wc3NoQm94JiZPYihmLFt7aW5pdERhdGE6Yi5hLnBzc2hCb3gsaW5pdERhdGFUeXBlOiJjZW5jIn1dKTtjLnB1c2goZil9cmV0dXJuIGN9CmZ1bmN0aW9uIEZlKGEsYixjLGQsZSxmKXtpZighZC5iYXNlVXJsfHwwPT09ZC5iYXNlVXJsLmxlbmd0aClyZXR1cm4gbnVsbDt2YXIgZz1udWxsLGg9MSxrPTA7aWYoZC5mKXtnPWQubWltZVR5cGUuc3BsaXQoIi8iKVsxXTtpZigibXA0IiE9ZyYmIndlYm0iIT1nKWc9bnVsbDtlbHNle3ZhciBsPWQuZjtpZigid2VibSIhPWd8fGwuYylpZihsLmF8fGwuYiYmbC5iLmEpe2g9bC5iO2h8fChoPW5ldyB3YyxoLnVybD1kLmJhc2VVcmwsaC5hPWwuYT9sLmEuY2xvbmUoKTpudWxsKTtrPUllKGEsaCxmKTtoPWwuYz9JZShhLGwuYyxmKTpudWxsO2wuZj8obD1sLmYsbD1uZXcgSyhmLGQuYmFzZVVybCxsLnFhLGwuZW5kLHZvaWQgMCxhLmEpKTpsPW51bGw7dmFyIG09bCxwPVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgiYWRkX2lubGluZV9pbml0aWFsaXphdGlvbl9yZXNvdXJjZXMiLCExKSYmZC5oJiZkLmguZGF0YT9kLmguZGF0YTpudWxsLGw9VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJhZGRfaW5saW5lX2luaXRpYWxpemF0aW9uX3Jlc291cmNlcyIsCiExKSYmZC5nJiZkLmcuZGF0YT9kLmcuZGF0YTpudWxsO2E9bmV3IHZlKGIsYyxnLGssaCxtLGUsZixhLmwscCxsKTtiPW5ldyBnZChoLGwpO2M9bmV3IEtkO2MuTT1hO2MuYWE9YjtnPWN9ZWxzZSBnPW51bGw7ZWxzZSBnPW51bGx9aD1kLmYucztrPWQuZi5MfWVsc2UgaWYoZC5iKWc9ZC5iLCFnLkgmJiFnLkMmJjE8Zy5hLmxlbmd0aD9nPW51bGw6Zy5IfHxjLmR1cmF0aW9ufHxnLkN8fDEhPWcuYS5sZW5ndGg/Zy5DJiYwPT09Zy5DLk4ubGVuZ3RoP2c9bnVsbDooZz1nLmI/SWUoYSxnLmIsZik6bnVsbCxhPW5ldyBGZChiLGMsZCxlLGYsYS5hKSxiPW5ldyBnZChnKSxjPW5ldyBLZCxjLk09YSxjLmFhPWIsZz1jKTpnPW51bGwsaD1kLmIucyxrPWQuYi5MO2Vsc2UgaWYoZC5hKXthOmlmKGc9ZC5hLGg9MCsoZy5hPzE6MCksaCs9Zy5DPzE6MCxoKz1nLkg/MTowLDA9PWg/aD0hMTooMSE9aCYmKGcuYT8oZy5DPW51bGwsZy5IPW51bGwpOmcuQyYmKGcuSD1udWxsKSksaD0hMCksaCl7aD0KbnVsbDtpZihnLmMmJihoPShnPWQuYS5jKT9KZShkLGcseGMpOm51bGwsIWgpKXtnPW51bGw7YnJlYWsgYX1nPWg/SWUoYSxoLGYpOm51bGw7aD1kLmE7aC5hPyhoPWQubWltZVR5cGUuc3BsaXQoIi8iKVsxXSwibXA0IiE9aCYmIndlYm0iIT1oP2E9bnVsbDoid2VibSIhPWh8fGc/bWQoZixkLDEsMCx2b2lkIDAsYS5hKT8oaz0oaz1kLmEuYSk/SmUoZCxrLHdjKTpudWxsKT8oaz1JZShhLGssZiksYT1uZXcgdmUoYixjLGgsayxnLG51bGwsZSxmLGEubCkpOmE9bnVsbDphPW51bGw6YT1udWxsKTphPWguZj9oLkM/bmV3IEpkKGEuYyxiLGMsZCxlLGYsMCxhLmEpOmguSD9iLm1hbmlmZXN0SXNMaXZlU3RyZWFtaW5nfHxudWxsIT1jLmR1cmF0aW9uP25ldyBFZChiLGMsZCxlLGYpOm51bGw6bnVsbDpudWxsO2E/KGI9bmV3IGdkKGcpLGM9bmV3IEtkLGMuTT1hLGMuYWE9YixnPWMpOmc9bnVsbH1lbHNlIGc9bnVsbDtoPWQuYS5zO2s9ZC5hLkx9ZWxzZSJ0ZXh0Ij09ZC5taW1lVHlwZS5zcGxpdCgiLyIpWzBdJiYKKGc9bmV3IEtkLGcuTT1uZXcgc2UobmV3IEsoZixkLmJhc2VVcmwpKSk7aWYoIWcpcmV0dXJuIG51bGw7Zy5pZD1kLmlkO2smJihnLmE9LTEqay9oKTtnLmJhbmR3aWR0aD1kLmJhbmR3aWR0aDtnLndpZHRoPWQud2lkdGg7Zy5oZWlnaHQ9ZC5oZWlnaHQ7Zy5taW1lVHlwZT1kLm1pbWVUeXBlfHwiIjtnLmNvZGVjcz1kLmNvZGVjc3x8IiI7Zy5nPWQub3x8bnVsbDtnLmg9ZC51fHxudWxsO2cuZmJRdWFsaXR5TGFiZWw9ZC5mYlF1YWxpdHlMYWJlbHx8bnVsbDtnLmZiUXVhbGl0eUNsYXNzPWQuZmJRdWFsaXR5Q2xhc3N8fG51bGw7Zy5mPWQubXx8bnVsbDtnLmZyYW1lUmF0ZT1kLmZyYW1lUmF0ZXx8IiI7Zy5jPWQuanx8bnVsbDtmb3IoYT0wO2E8ZC5jLmxlbmd0aDsrK2EpYj1kLmNbYV0sYi5iJiZnLmIucHVzaChiLmIpO3JldHVybiBnfQpmdW5jdGlvbiBKZShhLGIsYyl7Yj1uZChiLGEuaWQsbnVsbCxhLmJhbmR3aWR0aCxudWxsKTtpZighYilyZXR1cm4gbnVsbDtjPW5ldyBjO2MudXJsPVpjKGEuYmFzZVVybCxiKTtyZXR1cm4gY31mdW5jdGlvbiBJZShhLGIsYyl7dmFyIGQ9Yi51cmwsZT0wLGY9bnVsbDtiLmEmJihlPWIuYS5xYSxmPWIuYS5lbmQpO3JldHVybiBuZXcgSyhjLGQsZSxmLHZvaWQgMCxhLmEpfTtmdW5jdGlvbiBLZShhLGIsYyxkLGUsZixnKXt0aGlzLmI9bmV3IEsobnVsbCxbbmV3IEwoYSldKTt0aGlzLmw9ZTt0aGlzLmY9Yjt0aGlzLmM9MTt0aGlzLmc9YTt0aGlzLmE9bmV3IHRiO3RoaXMuYS5ib2R5PWI7dGhpcy5hLm1ldGhvZD1jO3RoaXMuYS5OYT0zO3RoaXMuYS53aXRoQ3JlZGVudGlhbHM9ZDt0aGlzLmEuYj0xRTMqKG51bGwhPWc/ZzpoYSk7YT1mfHx7fTtmb3IodmFyIGggaW4gYSl0aGlzLmEuUWFbaF09YVtoXX0KZnVuY3Rpb24gTGUoYSl7cmV0dXJuIGEuYi5mZXRjaChhLmEpLnRoZW4oZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYi51JiYwPHRoaXMuYz8odGhpcy5jLS0sbnVsbCE9PXRoaXMubCYmbnVsbCE9PXRoaXMuYi5pJiZ0aGlzLmwuc2V0UmVhc29uKCJSZWRpcmVjdGVkIHRvIFVSTDogIit0aGlzLmIuaS50b1N0cmluZygpKSx0aGlzLmI9bmV3IEsobnVsbCxbbmV3IEwodGhpcy5nKV0pLHRoaXMuYS5ib2R5PXRoaXMuZixMZSh0aGlzKSk6UHJvbWlzZS5yZXNvbHZlKG5ldyBVaW50OEFycmF5KGEpKX0uYmluZChhKSl9O2Z1bmN0aW9uIE1lKGEsYixjLGQpe0YuY2FsbCh0aGlzLGEpO3RoaXMuYz1iO3RoaXMuaj1jO3RoaXMuYT10aGlzLmg9bnVsbDt0aGlzLmk9bmV3IGJiO3RoaXMuYj1bXTt0aGlzLmY9W107dGhpcy5tPTA7dGhpcy5nPW5ldyBJO3RoaXMubz1udWxsO3RoaXMuQT1oYTt0aGlzLmw9ZH1yKE1lLEYpO01lLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5KYT1udWxsO2Zvcih2YXIgYT0wO2E8dGhpcy5mLmxlbmd0aDsrK2EpdGhpcy5mW2FdLmNsb3NlKCkuY2F0Y2goZnVuY3Rpb24oKXt9KTt0aGlzLmY9W107dGhpcy5iPXRoaXMuYT10aGlzLmg9bnVsbDt0aGlzLmcuZGVzdHJveSgpO3RoaXMuZz1udWxsO3RoaXMuaS5kZXN0cm95KCk7dGhpcy5pPW51bGw7dGhpcy5vJiYoY2xlYXJUaW1lb3V0KHRoaXMubyksdGhpcy5vPW51bGwpO3RoaXMuYz10aGlzLmo9bnVsbH07Ck1lLnByb3RvdHlwZS5pbml0aWFsaXplPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPW5ldyBELGI9TmUodGhpcy5qKSxjPTA7YzxiLmxlbmd0aDsrK2Mpe3ZhciBkPWJbY107ZC5hLmF8fGQuYiYmIU9lKGQuYil8fGEucHVzaChkLmNvbnRlbnRUeXBlLGQpfWZvcih2YXIgYz17fSxkPSExLGU9MDtlPGIubGVuZ3RoOysrZSl7dmFyIGY9YltlXTtpZihmLmEuYSYmIWEuYS5oYXNPd25Qcm9wZXJ0eShmLmNvbnRlbnRUeXBlKSl7dmFyIGc9Zi5hLmEsaD1jW2ddO2h8fChoPWYuYSxoPXthdWRpb0NhcGFiaWxpdGllczp2b2lkIDAsdmlkZW9DYXBhYmlsaXRpZXM6dm9pZCAwLGluaXREYXRhVHlwZXM6dm9pZCAwLGRpc3RpbmN0aXZlSWRlbnRpZmllcjpoLmg/InJlcXVpcmVkIjoib3B0aW9uYWwiLHBlcnNpc3RlbnRTdGF0ZTpoLmo/InJlcXVpcmVkIjoib3B0aW9uYWwiLHNlc3Npb25UeXBlczpbInRlbXBvcmFyeSJdfSxjW2ddPWgpO2lmKGYuYiYmKGc9Zi5jb250ZW50VHlwZSsiQ2FwYWJpbGl0aWVzIiwKZyBpbiBoKSl7ZD0hMDtoW2ddfHwoaFtnXT1bXSk7dmFyIGs7ImF1ZGlvIj09Zi5jb250ZW50VHlwZT9rPWYuYS5nOiJ2aWRlbyI9PWYuY29udGVudFR5cGUmJihrPWYuYS5tKTtoW2ddLnB1c2goe2NvbnRlbnRUeXBlOmYuYixyb2J1c3RuZXNzOmt9KX19fWlmKCFkKWlmKGIubGVuZ3RoKXRoaXMuYT1iWzBdLmE7ZWxzZSB0aHJvdyBhPUVycm9yKCJObyBEcm1JbmZvIGV4aXN0cyEiKSxhLnR5cGU9ImRybSIsYTtpZigwPT1PYmplY3Qua2V5cyhjKS5sZW5ndGgpcmV0dXJuIFBlKHRoaXMuaixhKSx0aGlzLmcucmVzb2x2ZSgpLFByb21pc2UucmVzb2x2ZSgpO2s9bmV3IEk7Yz1RZShjLGspO2M9Yy50aGVuKHRoaXMudy5iaW5kKHRoaXMsYixhKSk7ay5yZWplY3QobnVsbCk7dGhpcy5sJiZ0aGlzLmwuZ2V0RXZlbnRMb2dnZXIoImVtZV9pbml0IikubG9nKCk7cmV0dXJuIGN9OwpmdW5jdGlvbiBRZShhLGIpe2Zvcih2YXIgYyBpbiBhKWI9Yi5jYXRjaChmdW5jdGlvbihhLGIpe3JldHVybiBuYXZpZ2F0b3IucmVxdWVzdE1lZGlhS2V5U3lzdGVtQWNjZXNzKGEsW2JdKX0uYmluZChudWxsLGMsYVtjXSkpO3JldHVybiBifQpNZS5wcm90b3R5cGUudz1mdW5jdGlvbihhLGIsYyl7aWYoIXRoaXMuYylyZXR1cm4gUmUoKTtmb3IodmFyIGQ9Yy5rZXlTeXN0ZW0sZT1jLmdldENvbmZpZ3VyYXRpb24oKSxmPVsiYXVkaW8iLCJ2aWRlbyJdLGc9MDtnPGYubGVuZ3RoOysrZyl7dmFyIGg9ZltnXTtpZighYi5hLmhhc093blByb3BlcnR5KGgpKXt2YXIgaz1lW2grIkNhcGFiaWxpdGllcyJdO2lmKGspe2Zvcih2YXIgaz1rWzBdLGw9W10sbT17fSxwPTA7cDxhLmxlbmd0aDsrK3Ape3ZhciB0PWFbcF0sdz1rP3QuYj09ay5jb250ZW50VHlwZTp0LmNvbnRlbnRUeXBlPT1oO3QuYS5hIT1kfHwhd3x8dC5pZCBpbiBtfHwobC5wdXNoKHQpLG1bdC5pZF09ITAsdGhpcy5hPXRoaXMuYT9OYih0aGlzLmEsdC5hKTp0LmEpfWIuc2V0KGgsbCl9fX1QZSh0aGlzLmosYik7aWYodGhpcy5jLm1lZGlhS2V5cyl0aGlzLmg9dGhpcy5jLm1lZGlhS2V5cztlbHNlIHJldHVybiBjLmNyZWF0ZU1lZGlhS2V5cygpLnRoZW4oZnVuY3Rpb24oYSl7dGhpcy5oPQphfS5iaW5kKHRoaXMpKX07ZnVuY3Rpb24gU2UoYSl7cmV0dXJuIGEuYz9hLmg/YS5jLnNldE1lZGlhS2V5cyhhLmgpLnRoZW4oSihhLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYz90aGlzLmEuYz90aGlzLmguc2V0U2VydmVyQ2VydGlmaWNhdGUodGhpcy5hLmMpOlByb21pc2UucmVzb2x2ZSgpOlJlKCl9KSkudGhlbihKKGEsZnVuY3Rpb24oKXtpZighdGhpcy5jKXJldHVybiBSZSgpO2Zvcih2YXIgYT0wO2E8dGhpcy5hLmIubGVuZ3RoOysrYSl7dmFyIGM9dGhpcy5hLmJbYV07dGhpcy51KHt0eXBlOiJlbmNyeXB0ZWQiLGluaXREYXRhVHlwZTpjLmluaXREYXRhVHlwZSxpbml0RGF0YTpjLmluaXREYXRhfSl9MD09dGhpcy5hLmIubGVuZ3RoJiZFKHRoaXMuaSx0aGlzLmMsImVuY3J5cHRlZCIsdGhpcy51LmJpbmQodGhpcykpfSkpOlByb21pc2UucmVzb2x2ZSgpOlJlKCl9CmZ1bmN0aW9uIFJlKCl7dmFyIGE9RXJyb3IoIkVtZU1hbmFnZXIgZGVzdHJveWVkIik7YS50eXBlPSJkZXN0cm95IjtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYSl9Ck1lLnByb3RvdHlwZS51PWZ1bmN0aW9uKGEpe3ZhciBiPW5ldyBVaW50OEFycmF5KGEuaW5pdERhdGEpO3RoaXMubCYmdGhpcy5sLmdldEV2ZW50TG9nZ2VyKCJlbmNyeXB0ZWRfc2FtcGxlIikubG9nKCk7Zm9yKHZhciBjPTA7Yzx0aGlzLmIubGVuZ3RoOysrYylpZihNYShiLHRoaXMuYltjXS5kYXRhKSlyZXR1cm47dHJ5e3ZhciBkPVRlKHRoaXMpfWNhdGNoKGUpe2I9QShlKTt0aGlzLmRpc3BhdGNoRXZlbnQoYik7dGhpcy5sJiZ0aGlzLmwuZ2V0RXZlbnRMb2dnZXIoImVtZV9lcnJvciIpLnNldEVycm9yKGUpLmxvZygpO3RoaXMuZy5yZWplY3QoZSk7cmV0dXJufWE9ZC5nZW5lcmF0ZVJlcXVlc3QoYS5pbml0RGF0YVR5cGUsYS5pbml0RGF0YSk7dGhpcy5iLnB1c2goe2RhdGE6Yix1YjpkfSk7YS5jYXRjaChKKHRoaXMsZnVuY3Rpb24oYSl7aWYodGhpcy5jKXtmb3IodmFyIGI9MDtiPHRoaXMuYi5sZW5ndGg7KytiKWlmKHRoaXMuYltiXS51Yj09ZCl7dGhpcy5iLnNwbGljZShiLAoxKTticmVha31iPUEoYSk7dGhpcy5kaXNwYXRjaEV2ZW50KGIpO3RoaXMubCYmdGhpcy5sLmdldEV2ZW50TG9nZ2VyKCJlbWVfZXJyb3IiKS5zZXRFcnJvcihhKS5sb2coKTt0aGlzLmcucmVqZWN0KGEpfX0pKTt0aGlzLmYucHVzaChkKX07ZnVuY3Rpb24gVWUoYSl7Zm9yKHZhciBiPVtdLGM9MDtjPGIubGVuZ3RoOysrYyl7dmFyIGQ9VGUoYSksZT1kLmxvYWQoYltjXSk7YS5mLnB1c2goZCk7ZS50aGVuKEooYSxmdW5jdGlvbigpe3RoaXMubSsrO3RoaXMubT49dGhpcy5mLmxlbmd0aCYmdGhpcy5nLnJlc29sdmUoKX0pKS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7dmFyIGI9QShhKTt0aGlzLmRpc3BhdGNoRXZlbnQoYik7dGhpcy5sJiZ0aGlzLmwuZ2V0RXZlbnRMb2dnZXIoImVtZV9lcnJvciIpLnNldEVycm9yKGEpLmxvZygpfSkpfX0KZnVuY3Rpb24gVGUoYSl7dmFyIGI9bnVsbCxiPWEuaC5jcmVhdGVTZXNzaW9uKCk7RShhLmksYiwibWVzc2FnZSIsYS5ELmJpbmQoYSkpO0UoYS5pLGIsImtleXN0YXR1c2VzY2hhbmdlIixhLkIuYmluZChhKSk7cmV0dXJuIGJ9TWUucHJvdG90eXBlLkQ9ZnVuY3Rpb24oYSl7VmUodGhpcyxhLnRhcmdldCx0aGlzLmEsYS5tZXNzYWdlKX07Ck1lLnByb3RvdHlwZS5CPWZ1bmN0aW9uKGEpe2E9YS50YXJnZXQ7dmFyIGI9e307YS5rZXlTdGF0dXNlcy5mb3JFYWNoKGZ1bmN0aW9uKGEsYyl7aWYoInN0cmluZyI9PT10eXBlb2YgYSl7dmFyIGY9YTthPWM7Yz1mfWlmKCJjb20ubWljcm9zb2Z0LnBsYXlyZWFkeSI9PXRoaXMuYS5hJiYxNj09YS5ieXRlTGVuZ3RoKXt2YXIgZj1uZXcgRGF0YVZpZXcoYSksZz1mLmdldFVpbnQzMigwLCEwKSxoPWYuZ2V0VWludDE2KDQsITApLGs9Zi5nZXRVaW50MTYoNiwhMCk7Zi5zZXRVaW50MzIoMCxnLCExKTtmLnNldFVpbnQxNig0LGgsITEpO2Yuc2V0VWludDE2KDYsaywhMSl9Zj1MYihuZXcgVWludDhBcnJheShhKSk7YltmXT1jfS5iaW5kKHRoaXMpKTtpZihhLmV4cGlyYXRpb248RGF0ZS5ub3coKSl7Zm9yKHZhciBjPTA7Yzx0aGlzLmIubGVuZ3RoOysrYylpZih0aGlzLmJbY10udWI9PWEpe3RoaXMuYi5zcGxpY2UoYywxKTticmVha31hLmNsb3NlKCk7dGhpcy5mLnNwbGljZSh0aGlzLmYuaW5kZXhPZihhKSwKMSl9dGhpcy5sJiZ0aGlzLmwuZ2V0RXZlbnRMb2dnZXIoImVtZV9rZXlfc3RhdHVzX2NoYW5nZSIpLmxvZygpO1dlKHRoaXMuaixiKX07CmZ1bmN0aW9uIFZlKGEsYixjLGQpe2Q9WGUoYyxkKTt2YXIgZT1udWxsO2EubCYmKGU9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigibGljZW5zZV9yZXF1ZXN0Iikuc3RhcnQoKSk7TGUobmV3IEtlKGQudXJsLGQuYm9keSxkLm1ldGhvZCxjLndpdGhDcmVkZW50aWFscyxlLGQuaGVhZGVycyxhLkEpKS50aGVuKEooYSxmdW5jdGlvbihhKXtlJiYoZS5zZXRSZXN1bHQoInN1Y2Nlc3MiKSxlLmxvZygpKTtjLmYmJihhPWMuZihhKSk7ZT1udWxsO3RoaXMubCYmKGU9dGhpcy5sLmdldE9wZXJhdGlvbkxvZ2dlcigiZW1lX3Bvc3RfbGljZW5zZV9zZXNzaW9uX3VwZGF0ZSIpLnN0YXJ0KCkpO251bGw9PT1hfHx2b2lkIDA9PT1hfHwwPT09YS5ieXRlTGVuZ3RoP251bGwhPT1lJiYoZS5zZXRFcnJvcigiZW1wdHkgbGljZW5zZSIpLGUuc2V0UmVzdWx0KCJmYWlsZWQiKS5sb2coKSk6Yi51cGRhdGUoYSkudGhlbihKKHRoaXMsZnVuY3Rpb24oKXtlJiYoZS5zZXRSZXN1bHQoInN1Y2Nlc3MiKSxlLmxvZygpKTsKdmFyIGE9eSh7dHlwZToic2Vzc2lvblJlYWR5IixkZXRhaWw6Yn0pO3RoaXMuZGlzcGF0Y2hFdmVudChhKTt0aGlzLm0rKzt0aGlzLm0+PXRoaXMuZi5sZW5ndGgmJnRoaXMuZy5yZXNvbHZlKCl9KSkuY2F0Y2goSih0aGlzLGZ1bmN0aW9uKGEpe2EudWI9Yjt2YXIgYz1BKGEpO2UmJihlLnNldFJlc3VsdCgiZmFpbGVkIiksZS5zZXRFcnJvcihhKS5sb2coKSk7dGhpcy5kaXNwYXRjaEV2ZW50KGMpfSkpfSkpLmNhdGNoKEooYSxmdW5jdGlvbihhKXtpZihjLmYpe3ZhciBkPUpTT04uc3RyaW5naWZ5KHtkYXRhOlt7ZXJyb3I6YX1dfSksZD1uZXcgVWludDhBcnJheShkLnNwbGl0KCIiKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuY2hhckNvZGVBdCgwKX0pKTtjLmYoZCl9YS51Yj1iO2Q9QShhKTtlJiZlLnNldEVycm9yKGEpLmxvZygpO3RoaXMuZGlzcGF0Y2hFdmVudChkKX0pKX0KZnVuY3Rpb24gWGUoYSxiKXt2YXIgYz17dXJsOmEuaSxib2R5OmIuc2xpY2UoMCksbWV0aG9kOiJQT1NUIixoZWFkZXJzOnt9LGtleV9zeXN0ZW06YS5hfTtpZigiY29tLm1pY3Jvc29mdC5wbGF5cmVhZHkiPT09YS5hKXtmb3IodmFyIGQ9U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLG5ldyBVaW50MTZBcnJheShjLmJvZHkpKSxkPShuZXcgRE9NUGFyc2VyKS5wYXJzZUZyb21TdHJpbmcoZCwiYXBwbGljYXRpb24veG1sIiksZT1kLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJuYW1lIiksZj1kLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJ2YWx1ZSIpLGc9MDtnPGUubGVuZ3RoO2crKyljLmhlYWRlcnNbZVtnXS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZV09ZltnXS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZTtjLmJvZHk9d2luZG93LmF0b2IoZC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiQ2hhbGxlbmdlIilbMF0uY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUpfWlmKCFhLm8pcmV0dXJuIGM7CmEubyhjKTtjLnVybD1ZYShjLCJ1cmwiKTtpZihudWxsPT1jLnVybCl0aHJvdyBFcnJvcigiJ3VybCcgY2Fubm90IGJlIG51bGwuIik7aWYoIShjLmJvZHkgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcnx8InN0cmluZyI9PT10eXBlb2YgYy5ib2R5fHxudWxsPT1jLmJvZHkpKXRocm93IG5ldyBUeXBlRXJyb3IoIidib2R5JyBtdXN0IGJlIGFuIEFycmF5QnVmZmVyLCBhIHN0cmluZywgb3IgbnVsbC4iKTtjLm1ldGhvZD1ZYShjLCJtZXRob2QiKTtpZigiR0VUIiE9Yy5tZXRob2QmJiJQT1NUIiE9Yy5tZXRob2QpdGhyb3cgRXJyb3IoIidtZXRob2QnIG11c3QgYmUgZWl0aGVyICdHRVQnIG9yICdQT1NUJy4iKTtjLmhlYWRlcnM9WmEoYywiaGVhZGVycyIsT2JqZWN0KTtpZihudWxsPT1jLmhlYWRlcnMpdGhyb3cgRXJyb3IoIidoZWFkZXJzJyBjYW5ub3QgYmUgbnVsbC4iKTtyZXR1cm4gY307ZnVuY3Rpb24gVyhhLGIsYyxkLGUsZixnKXtGLmNhbGwodGhpcyxudWxsKTt0aGlzLmI9YTt0aGlzLmY9Yjt0aGlzLmE9bnVsbDt0aGlzLmc9bmV3IGJiO3RoaXMubT10aGlzLmk9bnVsbDt0aGlzLkY9MDt0aGlzLlM9dGhpcy5aPXRoaXMuJD1udWxsO3RoaXMuYmE9Zzt0aGlzLko9bnVsbDt0aGlzLk89dGhpcy5oPSExO3RoaXMuVj10aGlzLlk9ITA7dGhpcy5LPSExO3RoaXMuYz17ZW5hYmxlQWRhcHRhdGlvbjohMCxzdHJlYW1CdWZmZXJTaXplOjE1LGxpdmVTdHJlYW1FbmRUaW1lb3V0OjE1LGxpY2Vuc2VSZXF1ZXN0VGltZW91dDpoYSxtcGRSZXF1ZXN0VGltZW91dDppYSxzZWdtZW50UmVxdWVzdFRpbWVvdXQ6amEscHJlZmVycmVkTGFuZ3VhZ2U6ImVuIixyZXN0cmljdGlvbnM6bmV3IGthfTt0aGlzLmw9Yzt0aGlzLkc9ZDt0aGlzLmNhPWU7dGhpcy5nYT1mO3RoaXMubz1udWxsO3RoaXMuaj0xO3RoaXMuVD1udWxsO3RoaXMudT10aGlzLkE9dGhpcy53PSExO3RoaXMuUj10aGlzLkI9Cm51bGx9cihXLEYpO3EoInNoYWthLnBsYXllci5QbGF5ZXIiLFcpO1cudmVyc2lvbj0idjEuNi40LWZiIjtXLmlzQnJvd3NlclN1cHBvcnRlZD1mdW5jdGlvbigpe3JldHVybiEhd2luZG93Lk1lZGlhU291cmNlJiYhIXdpbmRvdy5VaW50OEFycmF5fTsKVy5wcm90b3R5cGUuQmE9ZnVuY3Rpb24oKXt2YXIgYT17fSxiPXRoaXMuYTtpZihiKXt2YXIgYz1iLlhiKCk7YS5CYW5kd2lkdGhFc3RpbWF0b3I9Yy5CYW5kd2lkdGhFc3RpbWF0b3I7dmFyIGQ9Yy5WaWRlb1NvdXJjZVN0cmVhbTtkJiYoYS5WaWRlb1NvdXJjZVN0cmVhbT1kLChkPWEuVmlkZW9CdWZmZXJNYW5hZ2VyPWQuQmEoKS5Tb3VyY2VCdWZmZXJNYW5hZ2VyKSYmKGEuVmlkZW9Tb3VyY2VCdWZmZXI9ZC5CYSgpLlNvdXJjZUJ1ZmZlcikpOyhkPWEuQXVkaW9Tb3VyY2VTdHJlYW09Yy5BdWRpb1NvdXJjZVN0cmVhbSkmJihkPWEuQXVkaW9CdWZmZXJNYW5hZ2VyPWQuQmEoKS5Tb3VyY2VCdWZmZXJNYW5hZ2VyKSYmKGEuQXVkaW9Tb3VyY2VCdWZmZXI9ZC5CYSgpLlNvdXJjZUJ1ZmZlcik7YS5UZXh0U291cmNlU3RyZWFtPWMuVGV4dFNvdXJjZVN0cmVhbTthLmdldE1hbmlmZXN0PWIuVGIuYmluZChiKX1lbHNlIGEuZ2V0TWFuaWZlc3Q9ZnVuY3Rpb24oKXt9O2EuTmQ9ITA7cmV0dXJuIGF9OwpXLnByb3RvdHlwZS5nZXREZWJ1Zz1XLnByb3RvdHlwZS5CYTtXLnByb3RvdHlwZS5zYT1mdW5jdGlvbihhKXt0aGlzLlk9YX07Vy5wcm90b3R5cGUuc2V0UmVzdW1lQWZ0ZXJCdWZmZXJpbmc9Vy5wcm90b3R5cGUuc2E7ZnVuY3Rpb24gT2UoYSl7cmV0dXJuInRleHQvdnR0Ij09YT8hIXdpbmRvdy5WVFRDdWU6TWVkaWFTb3VyY2UuaXNUeXBlU3VwcG9ydGVkKGEpfVcuaXNUeXBlU3VwcG9ydGVkPU9lO1cuc2V0VGV4dFN0eWxlPWZ1bmN0aW9uKGEpe3ZhciBiPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJTaGFrYVBsYXllclRleHRTdHlsZSIpO2J8fChiPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInN0eWxlIiksYi5pZD0iU2hha2FQbGF5ZXJUZXh0U3R5bGUiLGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoYikpO2ZvcihiPWIuc2hlZXQ7Yi5jc3NSdWxlcy5sZW5ndGg7KWIuZGVsZXRlUnVsZSgwKTtiLmluc2VydFJ1bGUoIjo6Y3VlIHsgIityYShhKSsiIH0iLDApfTsKVy5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3JldHVybiB0aGlzLlUoKS50aGVuKEoodGhpcyxmdW5jdGlvbigpe3RoaXMuZy5kZXN0cm95KCk7dGhpcy5iPXRoaXMuZz1udWxsO3RoaXMuUiYmdGhpcy5SLnJlbW92ZSgpfSkpLmNhdGNoKGZ1bmN0aW9uKCl7fSl9O1cucHJvdG90eXBlLmRlc3Ryb3k9Vy5wcm90b3R5cGUuZGVzdHJveTtXLnByb3RvdHlwZS5VPWZ1bmN0aW9uKCl7dGhpcy5LPSEwO3JldHVybiBaZSh0aGlzKX07Vy5wcm90b3R5cGUudW5sb2FkPVcucHJvdG90eXBlLlU7CmZ1bmN0aW9uIFplKGEpe3ZhciBiO2EubCYmKGI9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigidW5sb2FkIikuc3RhcnQoKSk7aWYoIWEuYSlyZXR1cm4gYiYmYi5sb2coKSxQcm9taXNlLnJlc29sdmUoKTthLmgmJiRlKGEsInVubG9hZGluZyIpO2EuYi5wYXVzZSgpO2RiKGEuZyk7YWYoYSk7YmYoYSk7YS5pJiYoYS5pLmRlc3Ryb3koKSxhLmk9bnVsbCk7YS5hJiYoYS5hLmRlc3Ryb3koKSxhLmE9bnVsbCk7YS5mLmdldEJvb2woInd3d192aWRlb3NfcGxheWJhY2tfcmVtb3ZlX3NyY19hdHRyX29uX3VubG9hZCIsITEpP2EuYi5yZW1vdmVBdHRyaWJ1dGUoInNyYyIpOmEuYi5zcmM9IiI7dmFyIGM9YS5mLmdldEJvb2woInd3d19zaGFrYV9jbGVhcl9tZWRpYV9rZXlzX29uX3VubG9hZCIsITEpJiZhLmIuc2V0TWVkaWFLZXlzJiYiZnVuY3Rpb24iPT09dHlwZW9mIGEuYi5zZXRNZWRpYUtleXM/YS5iLnNldE1lZGlhS2V5cyhudWxsKTpQcm9taXNlLnJlc29sdmUoKSxjPWMudGhlbihmdW5jdGlvbigpe2ImJgpiLmxvZygpO2lmKGEuZi5nZXRCb29sKCJlbmFibGVfcDJwX3N1cHBvcnQiLCExKSl7dmFyIGM9eSh7dHlwZToidW5sb2FkIn0pO2EuZGlzcGF0Y2hFdmVudChjKX19KTthLmg9ITE7YS5PPSExO2EuQT0hMTthLnU9ITE7cmV0dXJuIGN9ZnVuY3Rpb24gY2YoYSxiKXtmb3IodmFyIGM9MDtjPGEubGVuZ3RoO2MrKyliLnB1c2goYVtjXS5jb250ZW50VHlwZSxhW2NdKX1XLnByb3RvdHlwZS5GYT1mdW5jdGlvbihhKXtyZXR1cm4gZGYodGhpcyxhKX07Vy5wcm90b3R5cGUubG9hZD1XLnByb3RvdHlwZS5GYTsKZnVuY3Rpb24gZGYoYSxiKXt2YXIgYzthLmwmJihjPWEubC5nZXRPcGVyYXRpb25Mb2dnZXIoImxvYWQiKS5zZXRTdGF0ZSgibG9hZGluZyIpLnN0YXJ0KCksYi5sPWIuZy5wZXJmb3JtYW5jZUxvZ2dlcj1hLmwpO2EuRyYmKGIuQWI9Yi5nLmFickxvZ2dlcj1hLkcpO2EuYmEmJihiLmlhPWEuYmEpO2EuY2EmJihiLkk9YS5jYSk7YS5nYSYmYi5VLnB1c2goYS5nYSk7ZWYoYixhLmIpO3ZhciBkPW51bGw7YS5LPSExO0UoYS5nLGIsInJlcGxpY2Fzd2l0Y2giLGEubmEuYmluZChhKSk7YS5hJiYoZD1aZShhKS50aGVuKEooYSxmdW5jdGlvbigpe3JldHVybiBiLndiKCl9KSkpO2EuYi5hdXRvcGxheSYmKHUucWEoImxvYWQiKSxFKGEuZyxhLmIsInRpbWV1cGRhdGUiLGEuZWQuYmluZChhKSkpO2IubGMoYS5jKTtiLmxhPWEuVDthLlQ9bnVsbDtkfHwoZD1iLndiKCkpO2EuZi5nZXRCb29sKCJmaXhfc2hha2FfcGxheWVyX2xvYWRfcmFjZV9jb25kaXRpb24iLCExKSYmKGEuYT1iKTtkLmNhdGNoKEooYSwKZnVuY3Rpb24oYSl7Yi5kZXN0cm95KCk7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfSkpO3JldHVybiBkLnRoZW4oSihhLGZ1bmN0aW9uKCl7aWYoZmYodGhpcyxiKSlyZXR1cm4gZ2YoKTt0aGlzLmE9Yjt0aGlzLmcuYWIodGhpcy5hLCJyZXBsaWNhc3dpdGNoIik7RSh0aGlzLmcsdGhpcy5hLCJzZWVrcmFuZ2VjaGFuZ2VkIix0aGlzLnBhLmJpbmQodGhpcykpO0UodGhpcy5nLHRoaXMuYSwiYWxsU3RyZWFtc1N0YXJ0ZWQiLHRoaXMuRmQuYmluZCh0aGlzKSk7dmFyIGE9bmV3IEQ7Y2YoTmUodGhpcy5hKSxhKTtQZSh0aGlzLmEsYSk7YT10aGlzLmVhKCk7YyYmMDxhLmxlbmd0aCYmKGE9YS5yZWR1Y2UoZnVuY3Rpb24oYSxiKXtpZihudWxsPT09YXx8Yi5iYW5kd2lkdGg8YS5iYW5kd2lkdGgpYT1iO3JldHVybiBhfSxudWxsKSxjLnNldExvd2VzdFF1YWxpdHlSZXByZXNlbnRhdGlvbklEKGEuc3RyZWFtSW5mb0lEKSk7aWYoIXRoaXMuYy5lbmFibGVDb250ZW50UHJvdGVjdGlvbilyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7CnRoaXMuaT1uZXcgTWUodGhpcyx0aGlzLmIsdGhpcy5hLHRoaXMubCk7cmV0dXJuIHRoaXMuaS5pbml0aWFsaXplKCl9KSkudGhlbihKKGEsZnVuY3Rpb24oKXtpZihmZih0aGlzLGIpKXJldHVybiBnZigpO2hmKHRoaXMpO0UodGhpcy5nLHRoaXMuYiwicGxheWluZyIsdGhpcy5rZC5iaW5kKHRoaXMpKTtFKHRoaXMuZyx0aGlzLmIsInBhdXNlIix0aGlzLm1hLmJpbmQodGhpcykpO0UodGhpcy5nLHRoaXMuYiwid2FpdGluZyIsdGhpcy5zZC5iaW5kKHRoaXMpKTtFKHRoaXMuZyx0aGlzLmIsInBsYXkiLHRoaXMuaWEuYmluZCh0aGlzKSk7cmV0dXJuIGpmKHRoaXMuYSx0aGlzLHRoaXMuYil9KSkudGhlbihKKGEsZnVuY3Rpb24oKXtpZihmZih0aGlzLGIpKXJldHVybiBnZigpO2lmKHRoaXMuYy5lbmFibGVDb250ZW50UHJvdGVjdGlvbil7dmFyIGE7dGhpcy5sJiYoYT10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJlbWVfYXR0YWNoIikpO3JldHVybiBTZSh0aGlzLmkpLnRoZW4oZnVuY3Rpb24oKXthJiYKYS5sb2coKX0pfXJldHVybiBQcm9taXNlLnJlc29sdmUoKX0pKS50aGVuKEooYSxmdW5jdGlvbigpe2lmKGZmKHRoaXMsYikpcmV0dXJuIGdmKCk7a2YodGhpcyk7YyYmYy51cGRhdGVTdGF0ZSgicmVhZHkiKS5sb2coKX0pKS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7YyYmYy5zZXRFcnJvcihKU09OLnN0cmluZ2lmeShhKSkubG9nKCk7aWYoZmYodGhpcyxiKSlyZXR1cm4gZ2YoKTtpZigiZGVzdHJveSIhPWEudHlwZSl7dmFyIGQ9QShhKTt0aGlzLmRpc3BhdGNoRXZlbnQoZCl9cmV0dXJuIHRoaXMuVSgpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYSl9KX0pKX1mdW5jdGlvbiBmZihhLGIpe3JldHVybiFhLmJ8fGEuS3x8YS5mLmdldEJvb2woImZpeF9zaGFrYV9wbGF5ZXJfbG9hZF9yYWNlX2NvbmRpdGlvbiIsITEpJiZiIT09YS5hfW49Vy5wcm90b3R5cGU7Cm4uRmQ9ZnVuY3Rpb24oKXt2YXIgYSxiO3RoaXMuZi5nZXRCb29sKCJ3d3dfdmlkZW9zX2V4dGVuZGVkX3NwbF9sb2dnaW5nX2Zvcl9jb25uZWN0ZWRfdHYiLCExKSYmdGhpcy5sJiYoYT10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJvbl9hbGxfc3RyZWFtc19zdGFydGVkIiksYj10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJyZXN0b3JlX3ZpZGVvX3BsYXliYWNrX3JhdGUiKSk7dGhpcy5PPSEwO3RoaXMuaD90aGlzLkQoKToodGhpcy5iLnBsYXliYWNrUmF0ZT10aGlzLmosYiYmYi5sb2coKSk7YSYmYS5sb2coKX07ZnVuY3Rpb24gZ2YoKXt2YXIgYT1FcnJvcigiUGxheWVyIGRlc3Ryb3llZCIpO2EudHlwZT0iZGVzdHJveSI7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfQpmdW5jdGlvbiBoZihhKXt2YXIgYj1hLmIucGFyZW50Tm9kZTtiJiZhLmYuZ2V0Qm9vbCgicHJldmVudF9wbGF5aW5nX29uX2luc3VmZmljaWVudF9idWZmZXIiLCExKSYmKGEuUj1ldmVudExpc3RlbmVyQ2FwdHVyZShiLCJwbGF5aW5nIixmdW5jdGlvbihhKXthLnRhcmdldD09PXRoaXMuYiYmdGhpcy5EKGEpfS5iaW5kKGEpKSl9bi5lZD1mdW5jdGlvbigpe3UuZW5kKCJsb2FkIik7dGhpcy5nLmFiKHRoaXMuYiwidGltZXVwZGF0ZSIpfTtuLnNkPWZ1bmN0aW9uKGEpe2xmKHRoaXMpO3RoaXMuZi5nZXRCb29sKCJ1bmlmeV9zdHJlYW1fc3RhcnRfd2l0aF9idWZmZXJfZGV0ZWN0b3IiLCExKSYmIXRoaXMuaCYmdGhpcy5EKGEpfTsKbi5rZD1mdW5jdGlvbigpe3UucWEoInBsYXlpbmciKTt0aGlzLmwmJnRoaXMubC5nZXRFdmVudExvZ2dlcigicGxheWluZyIpLnNldFN0YXRlKCJwbGF5aW5nIikubG9nKCk7IXRoaXMubSYmMD50aGlzLmomJih0aGlzLmIucGxheWJhY2tSYXRlPTAsdGhpcy5QKHRoaXMuYi5jdXJyZW50VGltZSxEYXRlLm5vdygpLHRoaXMuaikpO3RoaXMuaCYmIXRoaXMuViYmJGUodGhpcywicGxheWluZyIpfTtuLkJkPWZ1bmN0aW9uKGEpe3RoaXMudT1hfTtXLnByb3RvdHlwZS5zZXRQZW5kaW5nUGxheVJlcXVlc3Q9Vy5wcm90b3R5cGUuQmQ7Vy5wcm90b3R5cGUuaWE9ZnVuY3Rpb24oKXt0aGlzLnU9ITB9O1cucHJvdG90eXBlLm1hPWZ1bmN0aW9uKCl7dGhpcy5sJiZ0aGlzLmwuZ2V0RXZlbnRMb2dnZXIoInBhdXNlIikuc2V0U3RhdGUoInBhdXNlZCIpLmxvZygpO3UuZW5kKCJwbGF5aW5nIik7dS5nZXQoInBsYXlpbmciKTtiZih0aGlzKX07ClcucHJvdG90eXBlLnBhPWZ1bmN0aW9uKGEpe3RoaXMuRj1hLnN0YXJ0O3RoaXMuJD1hLmxhc3Q7dGhpcy5aPWEuZW5kO3RoaXMuUz1hLnNlZWtSYW5nZUdhcHM7dGhpcy5mLmdldEJvb2woIm5vX3NraXBfZ2Fwc19vbl9zZWVrX3JhbmdlX2NoYW5nZWQiLCExKXx8bGYodGhpcyl9O1cucHJvdG90eXBlLmVhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYT90aGlzLmEuWigpOltdfTtXLnByb3RvdHlwZS5nZXRWaWRlb1RyYWNrcz1XLnByb3RvdHlwZS5lYTtXLnByb3RvdHlwZS54YT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmE/dGhpcy5hLnZhKCk6W119O1cucHJvdG90eXBlLmdldEF1ZGlvVHJhY2tzPVcucHJvdG90eXBlLnhhO1cucHJvdG90eXBlLkRhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYT90aGlzLmEubWMoKTpbXX07Vy5wcm90b3R5cGUuZ2V0VGV4dFRyYWNrcz1XLnByb3RvdHlwZS5EYTsKVy5wcm90b3R5cGUuc2VsZWN0VmlkZW9UcmFjaz1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmE/dGhpcy5hLnNlbGVjdFZpZGVvVHJhY2soYSx2b2lkIDA9PWI/ITA6Yik6ITF9O1cucHJvdG90eXBlLnNlbGVjdFZpZGVvVHJhY2s9Vy5wcm90b3R5cGUuc2VsZWN0VmlkZW9UcmFjaztXLnByb3RvdHlwZS5HYT1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIHRoaXMuYT9tZih0aGlzLmEsImF1ZGlvIixhLHZvaWQgMD09Yj8hMDpiLGMpOiExfTtXLnByb3RvdHlwZS5zZWxlY3RBdWRpb1RyYWNrPVcucHJvdG90eXBlLkdhO1cucHJvdG90eXBlLkhhPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmE/bWYodGhpcy5hLCJ0ZXh0IixhLCExKTohMX07Vy5wcm90b3R5cGUuc2VsZWN0VGV4dFRyYWNrPVcucHJvdG90eXBlLkhhO1cucHJvdG90eXBlLndhPWZ1bmN0aW9uKGEpe3RoaXMuYSYmbmYodGhpcy5hLGEpfTtXLnByb3RvdHlwZS5lbmFibGVUZXh0VHJhY2s9Vy5wcm90b3R5cGUud2E7ClcucHJvdG90eXBlLnJhPWZ1bmN0aW9uKGEpe2JmKHRoaXMpO3RoaXMudyYmdGhpcy5ofHwhKDA8PWEpP3RoaXMuYi5wYXVzZWR8fCh0aGlzLmIucGxheWJhY2tSYXRlPTAsdGhpcy5QKHRoaXMuYi5jdXJyZW50VGltZSxEYXRlLm5vdygpLGEpKTp0aGlzLmIucGxheWJhY2tSYXRlPWE7dGhpcy5qPWF9O1cucHJvdG90eXBlLnNldFBsYXliYWNrUmF0ZT1XLnByb3RvdHlwZS5yYTtXLnByb3RvdHlwZS5rYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmp9O1cucHJvdG90eXBlLmdldFBsYXliYWNrUmF0ZT1XLnByb3RvdHlwZS5rYTtXLnByb3RvdHlwZS5DYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmE/dGhpcy5hLk9iKCk6bnVsbH07Vy5wcm90b3R5cGUuZ2V0TWFuaWZlc3Q9Vy5wcm90b3R5cGUuQ2E7Vy5wcm90b3R5cGUuUGE9ZnVuY3Rpb24oYSl7dGhpcy5UPWF9O1cucHJvdG90eXBlLnNldFBsYXliYWNrU3RhcnRUaW1lPVcucHJvdG90eXBlLlBhOwpXLnByb3RvdHlwZS5JPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYT8hIXRoaXMuYS5QKCk6ITF9O1cucHJvdG90eXBlLmlzTGl2ZT1XLnByb3RvdHlwZS5JOwpXLnByb3RvdHlwZS52YT1mdW5jdGlvbihhKXtpZihhKXt2YXIgYj1CKGEsImVuYWJsZUFkYXB0YXRpb24iKTtudWxsIT1iJiYodGhpcy5jLmVuYWJsZUFkYXB0YXRpb249Yik7Yj1CKGEsImVuZEJ1ZmZlcmluZ09uUGxheWluZyIpO251bGwhPWImJih0aGlzLlY9Yik7Yj1CKGEsInVzZVBsYXliYWNrUmF0ZUZvckJ1ZmZlcmluZyIpO251bGwhPWImJih0aGlzLnc9Yik7Yj1DKGEsInN0cmVhbUJ1ZmZlclNpemUiLDApO251bGwhPWImJih0aGlzLmMuc3RyZWFtQnVmZmVyU2l6ZT1iKTtiPUMoYSwiZHluYW1pY1N0cmVhbUJ1ZmZlclNpemUiLDApO251bGwhPWImJih0aGlzLmMuZHluYW1pY1N0cmVhbUJ1ZmZlclNpemU9Yik7bnVsbCE9YS5zbWFydEJ1ZmZlckFkanVzdG1lbnRQYXJhbXMmJih0aGlzLmMuc21hcnRCdWZmZXJBZGp1c3RtZW50UGFyYW1zPWEuc21hcnRCdWZmZXJBZGp1c3RtZW50UGFyYW1zKTtiPUIoYSwiYWRkQ2RuRGVidWdRdWVyeVBhcmFtZXRlcnMiKTtudWxsIT1iJiYKKHRoaXMuYy5hZGRDZG5EZWJ1Z1F1ZXJ5UGFyYW1ldGVycz1iKTtiPUMoYSwiaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemUiLDApO251bGwhPWImJih0aGlzLmMuaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemU9Yik7Yj1CKGEsImluY2x1ZGVTdHJlYW1CdWZmZXJTaXplSW5TdGFydE9mZnNldCIpO251bGwhPWImJih0aGlzLmMuaW5jbHVkZVN0cmVhbUJ1ZmZlclNpemVJblN0YXJ0T2Zmc2V0PWIpO2I9QyhhLCJqdW1wVG9MaXZlVGhyZXNob2xkIik7bnVsbCE9YiYmKHRoaXMuYy5qdW1wVG9MaXZlVGhyZXNob2xkPWIpO2I9QyhhLCJsaXZlU3RyZWFtRW5kVGltZW91dCIsMCk7bnVsbCE9YiYmKHRoaXMuYy5saXZlU3RyZWFtRW5kVGltZW91dD1iKTtiPUMoYSwibGljZW5zZVJlcXVlc3RUaW1lb3V0IiwwKTtudWxsIT1iJiYodGhpcy5jLmxpY2Vuc2VSZXF1ZXN0VGltZW91dD1iKTtiPUMoYSwibXBkUmVxdWVzdFRpbWVvdXQiLDApO251bGwhPWImJih0aGlzLmMubXBkUmVxdWVzdFRpbWVvdXQ9CmIpO2I9QyhhLCJtaW5NcGRSZWZyZXNoSW50ZXJ2YWwiLDApO251bGwhPWImJih0aGlzLmMubWluTXBkUmVmcmVzaEludGVydmFsPWIpO2I9QihhLCJlbmFibGVMaXZlSW50ZXJydXB0aW9uRGV0ZWN0aW9uIik7bnVsbCE9YiYmKHRoaXMuYy5lbmFibGVMaXZlSW50ZXJydXB0aW9uRGV0ZWN0aW9uPWIpO2I9QihhLCJlbmFibGVNYW5pZmVzdERlYnVnIik7bnVsbCE9YiYmKHRoaXMuYy5lbmFibGVNYW5pZmVzdERlYnVnPWIsRi5wcm90b3R5cGUub2M9YixifHwoRi5wcm90b3R5cGUuTGE9ZnVuY3Rpb24oKXt9KSk7Yj1CKGEsInJlc29sdmVWaWRlb1RpbWVVcGRhdGVPbkZyYWdtZW50ZWRUaW1lUmFuZ2VzIik7bnVsbCE9YiYmKHRoaXMuYy5yZXNvbHZlVmlkZW9UaW1lVXBkYXRlT25GcmFnbWVudGVkVGltZVJhbmdlcz1iKTtiPUMoYSwibGl2ZUludGVycnVwdGlvbkNvbnNlY3V0aXZlVXBkYXRlc1dpdGhvdXRDaGFuZ2UiKTtudWxsIT1iJiYodGhpcy5jLmxpdmVJbnRlcnJ1cHRpb25Db25zZWN1dGl2ZVVwZGF0ZXNXaXRob3V0Q2hhbmdlPQpiKTtiPUMoYSwibGl2ZUludGVycnVwdGlvbkNvbnNlY3V0aXZlVXBkYXRlc1dpdGhDaGFuZ2UiKTtudWxsIT1iJiYodGhpcy5jLmxpdmVJbnRlcnJ1cHRpb25Db25zZWN1dGl2ZVVwZGF0ZXNXaXRoQ2hhbmdlPWIpO2I9QihhLCJyZWFwcGVuZEluaXRTZWdtZW50QWZ0ZXJBYm9ydCIpO251bGwhPWImJih0aGlzLmMucmVhcHBlbmRJbml0U2VnbWVudEFmdGVyQWJvcnQ9Yik7Yj1CKGEsImxpdmVTZW5kUHVzaEhlYWRlcnMiKTtudWxsIT1iJiYodGhpcy5jLmxpdmVTZW5kUHVzaEhlYWRlcnM9Yik7Yj1DKGEsImxpdmVNYXhNYW5pZmVzdEZldGNoZXNXaXRoUHVzaCIpO251bGwhPWImJih0aGlzLmMubGl2ZU1heE1hbmlmZXN0RmV0Y2hlc1dpdGhQdXNoPWIpO2I9QyhhLCJsaXZlTWF4U2VnbWVudHNUb1B1c2giKTtudWxsIT1iJiYodGhpcy5jLmxpdmVNYXhTZWdtZW50c1RvUHVzaD1iKTtiPUMoYSwic2VnbWVudFJlcXVlc3RUaW1lb3V0IiwwKTtudWxsIT1iJiYodGhpcy5jLnNlZ21lbnRSZXF1ZXN0VGltZW91dD0KYik7Yj1ZYShhLCJwcmVmZXJyZWRMYW5ndWFnZSIpO251bGwhPWImJih0aGlzLmMucHJlZmVycmVkTGFuZ3VhZ2U9Yik7Yj1aYShhLCJyZXN0cmljdGlvbnMiLGthKTtudWxsIT1iJiYodGhpcy5jLnJlc3RyaWN0aW9ucz1iLmNsb25lKCkpO2I9YS5saXZlSW5pdGlhbFB1c2hSZXByZXNlbnRhdGlvbjtudWxsIT1iJiYodGhpcy5jLmxpdmVJbml0aWFsUHVzaFJlcHJlc2VudGF0aW9uPWIpO2I9YS5saXZlQXVkaW9QdXNoUmVwcmVzZW50YXRpb247bnVsbCE9YiYmKHRoaXMuYy5saXZlQXVkaW9QdXNoUmVwcmVzZW50YXRpb249Yik7Yj1hLnVzZUlubGluZUluaXRTZWdtZW50O251bGwhPWImJih0aGlzLmMudXNlSW5saW5lSW5pdFNlZ21lbnQ9Yik7Yj1CKGEsImRpc2FibGVDYWNoZUJ1c3RpbmdFdmVuVGhvdWdoSXRNYXlBZmZlY3RCYW5kd2lkdGhFc3RpbWF0aW9uIik7bnVsbCE9YiYmKFRjPSFiKTtiPUIoYSwiY3VycmVudFRpbWVEdXJpbmdSZWFkeVN0YXRlWmVyb1Rocm93cyIpO251bGwhPQpiJiYodGhpcy5jLmN1cnJlbnRUaW1lRHVyaW5nUmVhZHlTdGF0ZVplcm9UaHJvd3M9Yik7Yj1DKGEsImxpdmVEYXRhRmV0Y2hNYXhSZXRyaWVzIik7bnVsbCE9YiYmKHRoaXMuYy5saXZlRGF0YUZldGNoTWF4UmV0cmllcz1iKTtiPUMoYSwibGl2ZVNvdXJjZUJ1ZmZlckNsZWFyTWF4UmV0cmllcyIpO251bGwhPWImJih0aGlzLmMubGl2ZVNvdXJjZUJ1ZmZlckNsZWFyTWF4UmV0cmllcz1iKTtiPUIoYSwidXNlTG9uZ0NhY2hlRm9yTWFuaWZlc3QiKTtudWxsIT1iJiYodGhpcy5jLnVzZUxvbmdDYWNoZUZvck1hbmlmZXN0PWIpO2I9QihhLCJqdW1wVG9FYXJsaWVzdFBvc2l0aW9uSW5DdXJyZW50QmxvY2siKTtudWxsIT1iJiYodGhpcy5jLmp1bXBUb0VhcmxpZXN0UG9zaXRpb25JbkN1cnJlbnRCbG9jaz1iKTtiPUIoYSwiaWdub3JlTWluQnVmZmVyVGltZSIpO251bGwhPWImJih0aGlzLmMuaWdub3JlTWluQnVmZmVyVGltZT1iKTtiPUMoYSwicGxheWhlYWRGcmFnbWVudGVkR2FwRGlmZkFsbG93YW5jZSIpOwpudWxsIT1iJiYodGhpcy5jLnBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2U9Yik7Yj1CKGEsImZpeEJ1ZmZlcmluZ0dvYWxEZXRlcm1pbmF0aW9uIik7bnVsbCE9YiYmKHRoaXMuYy5maXhCdWZmZXJpbmdHb2FsRGV0ZXJtaW5hdGlvbj1iKTtiPUIoYSwic2tpcEVtcHR5U2VnbWVudHMiKTtudWxsIT1iJiYodGhpcy5jLnNraXBFbXB0eVNlZ21lbnRzPWIpOyhiPUIoYSwidXNlTWljcm9UYXNrVGltZW91dHMiKSkmJih0aGlzLmMudXNlTWljcm9UYXNrVGltZW91dHM9Yik7KGI9QihhLCJlbmFibGVSZXF1ZXN0UGlwZWxpbmluZyIpKSYmKHRoaXMuYy5lbmFibGVSZXF1ZXN0UGlwZWxpbmluZz1iKTsoYj1CKGEsImVuYWJsZVN0cmVhbWluZyIpKSYmKHRoaXMuYy5lbmFibGVTdHJlYW1pbmc9Yik7KGE9QihhLCJlbmFibGVDb250ZW50UHJvdGVjdGlvbiIpKSYmKHRoaXMuYy5lbmFibGVDb250ZW50UHJvdGVjdGlvbj1hKTt0aGlzLmEmJnRoaXMuYS5sYyh0aGlzLmMpfX07ClcucHJvdG90eXBlLmNvbmZpZ3VyZT1XLnByb3RvdHlwZS52YTtXLnByb3RvdHlwZS5PYT1mdW5jdGlvbihhKXt0aGlzLmEmJnRoaXMuYS5xYyhhKX07Vy5wcm90b3R5cGUuc2V0RW5hYmxlTGl2ZWhlYWRDYXRjaHVwPVcucHJvdG90eXBlLk9hO1cucHJvdG90eXBlLkVhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYT90aGlzLmEubmE6ITF9O1cucHJvdG90eXBlLmlzTGl2ZWhlYWRDYXRjaHVwRW5hYmxlZD1XLnByb3RvdHlwZS5FYTsKZnVuY3Rpb24gbGYoYSl7aWYoYS5mLmdldEJvb2woInNraXBfbWFuaWZlc3RfZ2FwX2Jhc2VkX29uX3N0cmVhbV9saW1pdHMiLCExKSYmKCFhLkkoKXx8IWEuZi5nZXRCb29sKCJub19za2lwX21hbmlmZXN0X2dhcHNfaWZfbGl2ZSIsITEpKSl7dmFyIGI7YS5mLmdldEJvb2woInNraXBfbWFuaWZlc3RfZ2Fwc191c2VfY2FjaGVkX3N0cmVhbV9saW1pdHMiLCExKT9hLmEmJm51bGwhPT1hLlM/Yj17c3RhcnQ6YS5GLGVuZDphLlosbGFzdDphLiQsWmE6YS5TfTpiPWEuYT9hLmEubmIoKTpudWxsOmI9YS5hP2EuYS5uYigpOm51bGw7aWYoYilmb3IodmFyIGM9YS5mLmdldE51bWJlcigic2tpcF9tYW5pZmVzdF9nYXBfYm91bmRhcnlfcHJlY2lzaW9uX21zIiwxRTMpLzFFMyxkPWIuWmEsZT1hLmIucGxheWJhY2tSYXRlLGY9YS5iLmN1cnJlbnRUaW1lLGc9MDtnPGQubGVuZ3RoOysrZyl7dmFyIGg9ZFtnXS5zdGFydFRpbWUtYyxrPWRbZ10uZW5kVGltZStjO2Y8PWsmJmY+PWgmJihhLmYuZ2V0Qm9vbCgiZml4X3NlZWtfcmFuZ2VfZ2FwX2JvdW5kYXJ5IiwKITEpfHwoaD1kW2ddLnN0YXJ0VGltZSxrPWRbZ10uZW5kVGltZSksMDw9ZT9iLmVuZD5rJiYoYS5iLmN1cnJlbnRUaW1lPWspOmIuc3RhcnQ8aCYmKGEuYi5jdXJyZW50VGltZT1oKSl9fX1XLnByb3RvdHlwZS5sYT1mdW5jdGlvbigpe3ZhciBhPXRoaXMuYSYmdGhpcy5hLm5iKCk7cmV0dXJuKGE9YSYme3N0YXJ0OmEuc3RhcnQsZW5kOmEuZW5kLGxhc3Q6YS5sYXN0LHNlZWtSYW5nZUdhcHM6YS5aYX0pfHxudWxsfTtXLnByb3RvdHlwZS5nZXRWaWRlb1NvdXJjZVN0cmVhbUxpbWl0cz1XLnByb3RvdHlwZS5sYTtXLnByb3RvdHlwZS55YT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmN9O1cucHJvdG90eXBlLmdldENvbmZpZ3VyYXRpb249Vy5wcm90b3R5cGUueWE7ZnVuY3Rpb24gYmYoYSl7YS5tJiYoY2xlYXJUaW1lb3V0KGEubSksYS5tPW51bGwpfQpmdW5jdGlvbiBrZihhKXt2YXIgYjthLmYuZ2V0Qm9vbCgid3d3X3ZpZGVvc19leHRlbmRlZF9zcGxfbG9nZ2luZ19mb3JfY29ubmVjdGVkX3R2IiwhMSkmJmEubCYmKGI9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigic3RhcnRfd2F0Y2hkb2ciKSk7YWYoYSk7YS5KPXNldFRpbWVvdXQoYS5ELmJpbmQoYSksMTAwKTtiJiZiLmxvZygpfWZ1bmN0aW9uIGFmKGEpe3ZhciBiO2EuZi5nZXRCb29sKCJ3d3dfdmlkZW9zX2V4dGVuZGVkX3NwbF9sb2dnaW5nX2Zvcl9jb25uZWN0ZWRfdHYiLCExKSYmYS5sJiYoYj1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJjYW5jZWxfd2F0Y2hkb2ciKSk7YS5KJiYoY2xlYXJUaW1lb3V0KGEuSiksYS5KPW51bGwpO2ImJmIubG9nKCl9ClcucHJvdG90eXBlLlA9ZnVuY3Rpb24oYSxiLGMpe3RoaXMubT1udWxsO3ZhciBkPShEYXRlLm5vdygpLWIpLzFFMypjO3RoaXMuYi5jdXJyZW50VGltZTx0aGlzLkYrKHRoaXMuSSgpPzE6LjA1KT90aGlzLmIucGF1c2UoKTooZD1NYXRoLm1heCh0aGlzLkYsYStkKSx0aGlzLmIuY3VycmVudFRpbWU9ZCx0aGlzLm09c2V0VGltZW91dCh0aGlzLlAuYmluZCh0aGlzLGEsYixjKSwyNTApKX07ZnVuY3Rpb24gb2YoYSl7cmV0dXJuIGEuZi5nZXRCb29sKCJ1bmlmeV9zdHJlYW1fc3RhcnRfd2l0aF9idWZmZXJfZGV0ZWN0b3IiLCExKSYmIWEuT30KZnVuY3Rpb24gJGUoYSxiKXtpZighb2YoYSkpe3UuZW5kKCJidWZmZXJpbmciKTtudWxsIT09YS5CJiYoYS5CPW51bGwpO2EubyYmKGEuby5zZXRDb25jbHVkZXIoYikubG9nKCksYS5vPW51bGwpO2lmKGEuRyl7dmFyIGM9RGF0ZS5ub3coKTthLkcuc2V0RXZlbnQoImJ1ZmZlcmluZyIpLnNldENsaWVudFRpbWVCZWdpbihNYXRoLnJvdW5kKGMtdS5nZXQoImJ1ZmZlcmluZyIpKSkuc2V0Q2xpZW50VGltZUVuZChNYXRoLnJvdW5kKGMpKS5sb2coKX1hLncmJihhLmIucGxheWJhY2tSYXRlPWEuaik7YS5oPSExO2EuZGlzcGF0Y2hFdmVudCh5KHt0eXBlOiJidWZmZXJpbmdFbmQifSkpO2EuQSYmKGEuQT0hMSxkaXNwYXRjaERvbUV2ZW50KGEuYiwicGxheWluZyIpKTthLnU9ITF9fVcucHJvdG90eXBlLmphPWZ1bmN0aW9uKGEpe3RoaXMuZGlzcGF0Y2hFdmVudCh5KGEpKX07Vy5wcm90b3R5cGUuZGlzcGF0Y2hFdmVudEV4dGVybj1XLnByb3RvdHlwZS5qYTsKZnVuY3Rpb24gcGYoYSl7dmFyIGI9YS5iLmJ1ZmZlcmVkO2lmKDE9PT1iLmxlbmd0aCliPWIuZW5kKDApO2Vsc2UgaWYoMD09PWIubGVuZ3RoKWI9MDtlbHNle2Zvcih2YXIgYz0wLGQ9MDtkPGIubGVuZ3RoOysrZCliLmVuZChkKT49YS5iLmN1cnJlbnRUaW1lJiYoYz1iLnN0YXJ0KGQpPD1hLmIuY3VycmVudFRpbWU/YysoYi5lbmQoZCktYS5iLmN1cnJlbnRUaW1lKTpjKyhiLmVuZChkKS1iLnN0YXJ0KGQpKSk7cmV0dXJuIGN9cmV0dXJuIE1hdGgubWF4KGItYS5iLmN1cnJlbnRUaW1lLDApfQpXLnByb3RvdHlwZS5EPWZ1bmN0aW9uKGEpe2lmKCF0aGlzLmYuZ2V0Qm9vbCgicHJldmVudF9wbGF5aW5nX29uX2luc3VmZmljaWVudF9idWZmZXIiLCExKXx8IXRoaXMuSyl7a2YodGhpcyk7dmFyIGI9YT9hLnR5cGU6IiIsYz0id2FpdGluZyI9PT1iO2lmKCF0aGlzLmIuZW5kZWQmJiF0aGlzLmIuc2Vla2luZ3x8Yyl7dmFyIGQ7dGhpcy5mLmdldEJvb2woInd3d192aWRlb3NfZXh0ZW5kZWRfc3BsX2xvZ2dpbmdfZm9yX2Nvbm5lY3RlZF90diIsITEpJiZ0aGlzLmwmJihkPXRoaXMubC5nZXRPcGVyYXRpb25Mb2dnZXIoIndhdGNoZG9nIikpO3ZhciBlPXRoaXMuYi5idWZmZXJlZCxmPWUubGVuZ3RoP2UuZW5kKGUubGVuZ3RoLTEpOjAsZzt0aGlzLmYuZ2V0Qm9vbCgiZml4X3Vuc3RhbGxfYnVmZmVyX2NhbGN1bGF0aW9uIiwhMSk/Zz1wZih0aGlzKTpnPU1hdGgubWF4KGYtdGhpcy5iLmN1cnJlbnRUaW1lLDApO3ZhciBoPXRoaXMuYi5jdXJyZW50VGltZSxlPXRoaXMuSSgpP3RoaXMuZi5nZXROdW1iZXIoImxpdmVfYnVmZmVyaW5nX3VuZGVyZmxvd190aHJlc2hvbGQiLAouNSk6dGhpcy5mLmdldE51bWJlcigiYnVmZmVyaW5nX3VuZGVyZmxvd190aHJlc2hvbGQiLDApLGs9dGhpcy5iLmR1cmF0aW9uLGs9aXNOYU4oayk/MDpNYXRoLm1heChrLS4wNSwwKSxmPWY+PWt8fGg+PWssYj1ifHwid2F0Y2hkb2dfdGltZXIiO2lmKHRoaXMuaCl7cWYodGhpcyxhKTthPXJmKHRoaXMuYSk7dmFyIGw9MDxhP2cvYTowO2c+YXx8c2YodGhpcy5hKXx8dGhpcy5mLmdldEJvb2woImZpeF9idWZmZXJpbmdfYXRfdGhlX2VuZF9vZl9wbGF5YmFjayIsITApJiZmPygkZSh0aGlzLGIpLHRoaXMuWSYmIXRoaXMudyYmdGhpcy5iLnBsYXkoKSk6dGhpcy5CIT09bCYmKHRoaXMuQj1sLHRoaXMuZGlzcGF0Y2hFdmVudCh5KHt0eXBlOiJidWZmZXJpbmdQcm9ncmVzcyIscHJvZ3Jlc3M6bH0pKSl9ZWxzZSB0aGlzLmIucGF1c2VkJiYhY3x8ISghZiYmZzxlfHxvZih0aGlzKSl8fCh0aGlzLmg9ITAsdGhpcy53P3RoaXMuYi5wbGF5YmFja1JhdGU9MDp0aGlzLmIucGF1c2UoKSx0aGlzLmwmJgohdGhpcy5vJiYoZz10aGlzLmIuYnVmZmVyZWQsZz1nLmxlbmd0aD9nLmVuZChnLmxlbmd0aC0xKTowLHRoaXMuZi5nZXRCb29sKCJmaXhfdW5zdGFsbF9idWZmZXJfY2FsY3VsYXRpb24iLCExKT9sPXBmKHRoaXMpOmw9TWF0aC5tYXgoZy10aGlzLmIuY3VycmVudFRpbWUsMCksZz0xRTMqKHJmKHRoaXMuYSktbCksdGhpcy5vPXRoaXMubC5nZXRPcGVyYXRpb25Mb2dnZXIoImJ1ZmZlcmluZyIpLnNldExlbmd0aChNYXRoLnJvdW5kKGcpKS5zZXRUeXBlKHRoaXMudT8ic3RhcnQvdW5wYXVzZSI6ImluX3BsYXkiKS5zZXRJbml0aWF0b3IoYikuc3RhcnQoKSksdS5xYSgiYnVmZmVyaW5nIiksdGhpcy5kaXNwYXRjaEV2ZW50KHkoe3R5cGU6ImJ1ZmZlcmluZ1N0YXJ0In0pKSx0aGlzLmYuZ2V0Qm9vbCgibm9fc2tpcF9nYXBzX29uX2J1ZmZlcmluZyIsITEpfHxsZih0aGlzKSxxZih0aGlzLGEpKSxzZih0aGlzLmEpJiYkZSh0aGlzLGIpO2QmJmQubG9nKCl9ZWxzZSB0aGlzLmYuZ2V0Qm9vbCgiZml4X2ZmX2luX3BsYXlfc3RhbGxfdXBvbl9zZWVrIiwKITEpJiZxZih0aGlzLGEpfX07Vy5wcm90b3R5cGUubmE9ZnVuY3Rpb24oYSl7dGhpcy5kaXNwYXRjaEV2ZW50KGEpfTtmdW5jdGlvbiBxZihhLGIpe2ImJiJwbGF5aW5nIj09PWIudHlwZSYmKGEuQT0hMCxldmVudEtpbGwoYikpfVcucHJvdG90eXBlLnRhPWZ1bmN0aW9uKGEpe2lmKHRoaXMuYSl7dmFyIGI9dGhpcy5hO2IuYy52aWRlbyYmYi5jLnZpZGVvLkpjKGEpfX07Vy5wcm90b3R5cGUuc2V0VmlkZW9TdHJlYW1PZmZzZXQ9Vy5wcm90b3R5cGUudGE7ZnVuY3Rpb24gdGYoYSl7Zm9yKHZhciBiPTA7YjxhLmxlbmd0aDsrK2IpZm9yKHZhciBjPWFbYl0sZD0wO2Q8Yy5hLmxlbmd0aDsrK2Qpe2Zvcih2YXIgZT1jLmFbZF0sZj1lLGc9L3ZpZGVvXC93ZWJtOyBjb2RlY3M9ImF2MDEuKiIvLGg9ITEsaz0wO2s8Zi52Lmxlbmd0aDsrK2spe3ZhciBsPWYudltrXTtPZShOZChsKSk/Zy50ZXN0KE5kKGwpKSYmKGg9ITApOihmLnYuc3BsaWNlKGssMSksLS1rKX1pZihoKWZvcihrPTA7azxmLnYubGVuZ3RoOysraylsPWYudltrXSxnLnRlc3QoTmQobCkpfHwoZi52LnNwbGljZShrLDEpLC0tayk7MD09ZS52Lmxlbmd0aCYmKGMuYS5zcGxpY2UoZCwxKSwtLWQpfWZvcihiPTA7YjxhLmxlbmd0aDsrK2IpZm9yKGM9YVtiXSxkPTA7ZDxjLmEubGVuZ3RoOysrZCljLmFbZF0udi5zb3J0KHVmKX0KZnVuY3Rpb24gdWYoYSxiKXt2YXIgYz1hLmJhbmR3aWR0aHx8TnVtYmVyLk1BWF9WQUxVRSxkPWIuYmFuZHdpZHRofHxOdW1iZXIuTUFYX1ZBTFVFO3JldHVybiBjPGQ/LTE6Yz5kPzE6MH07ZnVuY3Rpb24gdmYoYSl7dGhpcy5hPWF9dmYucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmEuZGVzdHJveSgpO3RoaXMuYT1udWxsfTt2Zi5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKGEpe3ZhciBiPXdmKGEsbnVsbCksYz13Zih0aGlzLmEsYSk7cmV0dXJuIFByb21pc2UuYWxsKFtiLGNdKS50aGVuKEoodGhpcyxmdW5jdGlvbihiKXt2YXIgYz1iWzBdO2I9YlsxXTt0Zih0aGlzLmEuYSk7YS5iJiYhdGhpcy5hLmImJihhLmg9ITApO2EuYz10aGlzLmEuYzthLmk9dGhpcy5hLmk/dGhpcy5hLmkuY2xvbmUoKTpudWxsO2EuZz10aGlzLmEuZzt2YXIgZj1bXTt4ZihhLHRoaXMuYSxjLGIsZik7dGYoYS5hKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGYpfSkpfTsKZnVuY3Rpb24gd2YoYSxiKXtmdW5jdGlvbiBjKGEsYil7cmV0dXJuIGEuY29uY2F0KGIpfXZhciBkPWEuYS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuYX0pLnJlZHVjZShjLFtdKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEudn0pLnJlZHVjZShjLFtdKTtpZihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInRlbXBsYXRlZF9sYXN0X3hfdGltZWxpbmUiLCExKSYmYil2YXIgZT1iLmEubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLmF9KS5yZWR1Y2UoYyxbXSkubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLnZ9KS5yZWR1Y2UoYyxbXSkubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLk0uY3JlYXRlKCl9KSxlPVByb21pc2UuYWxsKGUpLnRoZW4oZnVuY3Rpb24oYSl7Zm9yKHZhciBiPU51bWJlci5QT1NJVElWRV9JTkZJTklUWSxjPTA7YzxhLmxlbmd0aDsrK2Mpe3ZhciBlPWFbY107ZS5sZW5ndGgoKSYmZS5sYXN0KCkudW5zY2FsZWRTdGFydFRpbWU8YiYmKGI9ZS5sYXN0KCkudW5zY2FsZWRTdGFydFRpbWUpfWI9CmEubGVuZ3RoP2I6bnVsbDthPWQubWFwKGZ1bmN0aW9uKGEpe2EuTS5FYyYmYS5NLkVjKGIpO3JldHVybiBhLk0uY3JlYXRlKCl9KTtyZXR1cm4gUHJvbWlzZS5hbGwoYSl9KTtlbHNlIGU9ZC5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuTS5jcmVhdGUoKX0pLGU9UHJvbWlzZS5hbGwoZSk7cmV0dXJuIGUudGhlbihmdW5jdGlvbihhKXtmb3IodmFyIGI9e30sYz0wO2M8ZC5sZW5ndGg7KytjKWJbZFtjXS5YXT1hW2NdO3JldHVybiBQcm9taXNlLnJlc29sdmUoYil9KX0KZnVuY3Rpb24geGYoYSxiLGMsZCxlKXt2YXIgZj1uZXcgRDthLmEuZm9yRWFjaChmdW5jdGlvbihhLGIpe2YucHVzaChhLmlkfHwiIitiLGEpfSk7dmFyIGc9bmV3IEQ7Yi5hLmZvckVhY2goZnVuY3Rpb24oYSxiKXtnLnB1c2goYS5pZHx8IiIrYixhKX0pO2E9YWIoZik7Zm9yKGI9MDtiPGEubGVuZ3RoOysrYil7dmFyIGg9YVtiXSxrPWYuZ2V0KGgpOzE8ay5sZW5ndGh8fChoPWcuZ2V0KGgpKSYmMCE9aC5sZW5ndGgmJjE9PWgubGVuZ3RoJiYoeWYoa1swXSxoWzBdLGMsZCxlKSxrWzBdLmR1cmF0aW9uPWhbMF0uZHVyYXRpb24pfX0KZnVuY3Rpb24geWYoYSxiLGMsZCxlKXt2YXIgZj1uZXcgRDthLmEuZm9yRWFjaChmdW5jdGlvbihhLGIpe2YucHVzaChhLmlkfHwiIitiLGEpfSk7dmFyIGc9bmV3IEQ7Yi5hLmZvckVhY2goZnVuY3Rpb24oYSxiKXtnLnB1c2goYS5pZHx8IiIrYixhKX0pO2E9YWIoZik7Zm9yKGI9MDtiPGEubGVuZ3RoOysrYil7dmFyIGg9YVtiXSxrPWYuZ2V0KGgpOzE8ay5sZW5ndGh8fChoPWcuZ2V0KGgpKSYmMCE9aC5sZW5ndGgmJjE9PWgubGVuZ3RoJiZ6ZihrWzBdLGhbMF0sYyxkLGUpfX0KZnVuY3Rpb24gemYoYSxiLGMsZCxlKXt2YXIgZj1uZXcgRDthLnYuZm9yRWFjaChmdW5jdGlvbihhLGIpe2YucHVzaChhLmlkfHwiIitiLGEpfSk7dmFyIGc9bmV3IEQ7Yi52LmZvckVhY2goZnVuY3Rpb24oYSxiKXtnLnB1c2goYS5pZHx8IiIrYixhKX0pO2I9e307Zm9yKHZhciBoPWFiKGYpLGs9MDtrPGgubGVuZ3RoOysrayl7dmFyIGw9aFtrXTtiW2xdPWw7dmFyIG09Zi5nZXQobCk7MTxtLmxlbmd0aHx8KChsPWcuZ2V0KGwpKSYmMCE9bC5sZW5ndGg/MT09bC5sZW5ndGgmJihCZihtWzBdLGxbMF0sYyxkKSxtWzBdLmFhPWxbMF0uYWEsbFswXS5hYT1udWxsLG1bMF0uYT1sWzBdLmEsVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJyZWZyZXNoX2JhbmR3aWR0aF9mcm9tX2xpdmVfbWFuaWZlc3QiLCExKSYmKG1bMF0uYmFuZHdpZHRoPWxbMF0uYmFuZHdpZHRoKSk6KGUucHVzaChtWzBdKSxhLnYuc3BsaWNlKGEudi5pbmRleE9mKG1bMF0pLDEpKSl9aD1hYihnKTsKZm9yKGs9MDtrPGgubGVuZ3RoOysraylsPWhba10sYltsXXx8KGJbbF09bCxsPWcuZ2V0KGwpLGEudi5wdXNoKGxbMF0pKX1mdW5jdGlvbiBCZihhLGIsYyxkKXthPWNbYS5YXTtjPWRbYi5YXTtkPShiPWEubGVuZ3RoKCkpP2EubGFzdCgpLmVuZFRpbWU6MDtpZihhLkIoYykpe2M9YS5sZW5ndGgoKTt2YXIgZT0hMTtWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInJvYnVzdF9jb3VudF9jaGFuZ2VzIiwhMSkmJihlPSEhYyYmYS5sYXN0KCkuZW5kVGltZT5kKTthLmcucHVzaChiIT09Y3x8ZSk7NTA8YS5nLmxlbmd0aCYmYS5nLnNoaWZ0KCl9fTtmdW5jdGlvbiBYKCl7dGhpcy5hPXRoaXMuYj1udWxsO3RoaXMuZj1uZXcgYmI7dGhpcy5jPU51bWJlci5QT1NJVElWRV9JTkZJTklUWTt0aGlzLmk9ITA7dGhpcy5nPSExfXEoInNoYWthLm1lZGlhLlNpbXBsZUFick1hbmFnZXIiLFgpO1gucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmYuZGVzdHJveSgpO3RoaXMuYT10aGlzLmI9dGhpcy5mPW51bGx9O1gucHJvdG90eXBlLmluaXRpYWxpemU9ZnVuY3Rpb24oYSxiKXt0aGlzLmJ8fHRoaXMuYXx8KHRoaXMuYj1hLHRoaXMuYT1iKX07ClgucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKCl7dGhpcy5iJiZ0aGlzLmEmJiF0aGlzLmcmJih0aGlzLmM9RGF0ZS5ub3coKSs0RTMsRSh0aGlzLmYsdGhpcy5iLmdldEVzdGltYXRvcigpLCJiYW5kd2lkdGgiLHRoaXMubS5iaW5kKHRoaXMpKSxFKHRoaXMuZix0aGlzLmEsImFkYXB0YXRpb24iLHRoaXMuai5iaW5kKHRoaXMpKSxFKHRoaXMuZix0aGlzLmEsInRyYWNrc2NoYW5nZWQiLHRoaXMuaC5iaW5kKHRoaXMpKSx0aGlzLmc9ITApfTtYLnByb3RvdHlwZS5lbmFibGU9ZnVuY3Rpb24oYSl7dGhpcy5pPWF9O1gucHJvdG90eXBlLmdldEluaXRpYWxWaWRlb1RyYWNrSWQ9ZnVuY3Rpb24oKXtpZighdGhpcy5ifHwhdGhpcy5hKXJldHVybiBudWxsO3ZhciBhPUNmKHRoaXMpO3JldHVybiBhP2EuaWQ6bnVsbH07WC5wcm90b3R5cGUuZ2V0SW5pdGlhbFN3aXRjaFJlYXNvbj1mdW5jdGlvbigpe3JldHVybiBudWxsfTtYLnByb3RvdHlwZS5nZXRJbml0aWFsQXVkaW9UcmFja0lkPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9OwpYLnByb3RvdHlwZS5zZWxlY3RWaWRlb1RyYWNrPWZ1bmN0aW9uKGEsYixjKXt0aGlzLmcmJnRoaXMuYS5zZWxlY3RWaWRlb1RyYWNrKGEuaWQsYixjKX07WC5wcm90b3R5cGUubT1mdW5jdGlvbigpe0RhdGUubm93KCk8dGhpcy5jfHx0aGlzLmgoKX07WC5wcm90b3R5cGUuaD1mdW5jdGlvbigpe2lmKHRoaXMuaSl7dmFyIGE9Q2YodGhpcyk7aWYoYSl7aWYoYS5hY3RpdmUpe3RoaXMuYz1EYXRlLm5vdygpKzNFMztyZXR1cm59dGhpcy5zZWxlY3RWaWRlb1RyYWNrKGEsITEpfXRoaXMuYz1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFl9fTtYLnByb3RvdHlwZS5qPWZ1bmN0aW9uKCl7dGhpcy5jPT1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkmJih0aGlzLmM9RGF0ZS5ub3coKSszRTQpfTsKZnVuY3Rpb24gQ2YoYSl7dmFyIGI9YS5hLlooKTtpZigwPT1iLmxlbmd0aClyZXR1cm4gbnVsbDtiLnNvcnQodmEpO3ZhciBjO2E6e2M9YS5hLnZhKCk7Zm9yKHZhciBkPTA7ZDxjLmxlbmd0aDsrK2QpaWYoY1tkXS5hY3RpdmUpe2M9Y1tkXTticmVhayBhfWM9bnVsbH1jPWM/Yy5iYW5kd2lkdGg6MDthPWEuYi5nZXRCYW5kd2lkdGgoKTtmb3IodmFyIGQ9YlswXSxlPTA7ZTxiLmxlbmd0aDsrK2Upe3ZhciBmPWJbZV0sZz1lKzE8Yi5sZW5ndGg/YltlKzFdOntiYW5kd2lkdGg6TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZfTtpZihmLmJhbmR3aWR0aCYmKGc9KGcuYmFuZHdpZHRoK2MpLy44NSxhPj0oZi5iYW5kd2lkdGgrYykvLjk1JiZhPD1nJiYoZD1mLGQuYWN0aXZlKSkpYnJlYWt9cmV0dXJuIGR9O2Z1bmN0aW9uIFkoYSxiLGMsZCl7Ri5jYWxsKHRoaXMsbnVsbCk7dGhpcy5iPWE7dGhpcy5hPWI7dGhpcy53YT1jO3RoaXMua2I9bmV3IFZpZGVvUGxheWVyTG9jYWxCYW5kd2lkdGhFc3RpbWF0b3IodGhpcyxjLGIpO3RoaXMuaD1uZXcgYmI7dGhpcy5pPW5ldyBNZWRpYVNvdXJjZTt0aGlzLmJhPXRoaXMudmlkZW89bnVsbDt0aGlzLkJiPTA7dGhpcy5uYz10aGlzLlpiPSExO3RoaXMuTGI9aWE7dGhpcy5BYj10aGlzLlY9dGhpcy5pYT10aGlzLmw9bnVsbDt0aGlzLktiPTM7dGhpcy5yYT10aGlzLiRiPXRoaXMuRmE9dGhpcy5FYT0hMTt0aGlzLlBhPTA7dGhpcy5kYT1uZXcgVmlkZW9QdXNoVHJhY2tlcjt0aGlzLmdhPW51bGw7dGhpcy5pYz0xO3RoaXMuZ2M9SW5maW5pdHk7dGhpcy5VYj10aGlzLlNiPSExO3RoaXMucGE9dGhpcy5PYT1udWxsO3RoaXMuV2I9dGhpcy5WYj10aGlzLkdhPXRoaXMuY2M9dGhpcy5tYT0hMTt0aGlzLmY9bmV3IEQ7dGhpcy5BPWQ7dGhpcy5BLmluaXRpYWxpemUodGhpcy5rYiwKdGhpcyk7dGhpcy5PPSExO3RoaXMuUz0iZW4iO3RoaXMueWE9ITE7dGhpcy5KPW5ldyBJO3RoaXMuSWI9bmV3IEk7dGhpcy5tPW5ldyBrYTt0aGlzLkQ9bnVsbDt0aGlzLmtjPTE7dGhpcy5jPXt9O3RoaXMuc2E9bmV3IEk7dGhpcy5qYT0wO3RoaXMuZ2I9MTVFMzt0aGlzLmo9bnVsbDt0aGlzLmVjPSExO3RoaXMuZGM9MDt0aGlzLkNhPSExO3RoaXMuQj17fTt0aGlzLmxhPXRoaXMua2E9dGhpcy51PW51bGw7dGhpcy5nPXt9O3RoaXMuJD0hMTt0aGlzLmZjPTA7dGhpcy5LPXRoaXMuYS5nZXROdW1iZXIoImJ1ZmZlcmluZ19vdmVyZmxvd190aHJlc2hvbGQiLDApO3RoaXMucGM9bnVsbDt0aGlzLm89e307dGhpcy53PXt9O3RoaXMuUj1udWxsO3RoaXMuVT1bXTt0aGlzLlQ9dGhpcy5JPW51bGw7dGhpcy5HPW5ldyBOZXR3b3JrU3RhdHVzRGV0ZWN0b3I7dGhpcy5oYz0hMTt0aGlzLm5hPSEwO3RoaXMuZWE9ITE7dGhpcy51Yz1uZXcgU3Vic2NyaXB0aW9uc0hhbmRsZXI7dGhpcy5ZYj0hMTsKdGhpcy54YT0xO3RoaXMuSWQ9dGhpcy5hLmdldE51bWJlcigic3RyZWFtX21heGltdW1fb25wYXVzZV9idWZmZXJfc2l6ZV9tdWx0aXBsaWVyIiwwKTt0aGlzLmNhPW51bGw7dGhpcy5hLmdldEJvb2woImFsbG93X2luZmluaXRlX3JldHJ5X29uX25ldF9lcnIiLCEwKSYmdGhpcy51Yy5hZGRTdWJzY3JpcHRpb25zKHRoaXMuRy5hZGRMaXN0ZW5lcigibmV0d29ya0ludGVycnVwdGVkIix0aGlzLlRjLHRoaXMpLHRoaXMuRy5hZGRMaXN0ZW5lcigibmV0d29ya1Jlc3VtZWQiLHRoaXMuVWMsdGhpcyksdGhpcy5HLmFkZExpc3RlbmVyKCJzeXN0ZW1XYWtlIix0aGlzLlZjLHRoaXMpKX1yKFksRik7cSgic2hha2EucGxheWVyLlN0cmVhbVZpZGVvU291cmNlIixZKTtZLnByb3RvdHlwZS5YYj1mdW5jdGlvbigpe3JldHVybntWaWRlb1NvdXJjZVN0cmVhbTp0aGlzLmMudmlkZW8sQXVkaW9Tb3VyY2VTdHJlYW06dGhpcy5jLmF1ZGlvLFRleHRTb3VyY2VTdHJlYW06dGhpcy5jLnRleHQsQmFuZHdpZHRoRXN0aW1hdG9yOnRoaXMud2F9fTsKWS5wcm90b3R5cGUuZ2V0U3RyZWFtRGVidWc9WS5wcm90b3R5cGUuWGI7WS5wcm90b3R5cGUuUGM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iP3RoaXMuYi53OiJub25lIn07WS5wcm90b3R5cGUuZ2V0TXBkQXVkaW9Db25maWc9WS5wcm90b3R5cGUuUGM7ClkucHJvdG90eXBlLmxjPWZ1bmN0aW9uKGEpe251bGwhPWEuc3RyZWFtQnVmZmVyU2l6ZSYmKHRoaXMuZy5zdHJlYW1CdWZmZXJTaXplPWEuc3RyZWFtQnVmZmVyU2l6ZSk7bnVsbCE9YS5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZSYmKHRoaXMuZy5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZT1hLmluaXRpYWxTdHJlYW1CdWZmZXJTaXplKTtudWxsIT1hLmR5bmFtaWNTdHJlYW1CdWZmZXJTaXplJiYodGhpcy5nLmR5bmFtaWNTdHJlYW1CdWZmZXJTaXplPWEuZHluYW1pY1N0cmVhbUJ1ZmZlclNpemUpO251bGwhPWEuc21hcnRCdWZmZXJBZGp1c3RtZW50UGFyYW1zJiYodGhpcy5nLnNtYXJ0QnVmZmVyQWRqdXN0bWVudFBhcmFtcz1hLnNtYXJ0QnVmZmVyQWRqdXN0bWVudFBhcmFtcyk7bnVsbCE9YS5hZGRDZG5EZWJ1Z1F1ZXJ5UGFyYW1ldGVycyYmKHRoaXMuZy5hZGRDZG5EZWJ1Z1F1ZXJ5UGFyYW1ldGVycz1hLmFkZENkbkRlYnVnUXVlcnlQYXJhbWV0ZXJzKTtudWxsIT1hLnNlZ21lbnRSZXF1ZXN0VGltZW91dCYmCih0aGlzLmcuc2VnbWVudFJlcXVlc3RUaW1lb3V0PWEuc2VnbWVudFJlcXVlc3RUaW1lb3V0KTtudWxsIT1hLnJlc29sdmVWaWRlb1RpbWVVcGRhdGVPbkZyYWdtZW50ZWRUaW1lUmFuZ2VzJiYodGhpcy5nLnJlc29sdmVWaWRlb1RpbWVVcGRhdGVPbkZyYWdtZW50ZWRUaW1lUmFuZ2VzPWEucmVzb2x2ZVZpZGVvVGltZVVwZGF0ZU9uRnJhZ21lbnRlZFRpbWVSYW5nZXMpO251bGwhPWEucmVhcHBlbmRJbml0U2VnbWVudEFmdGVyQWJvcnQmJih0aGlzLmcucmVhcHBlbmRJbml0U2VnbWVudEFmdGVyQWJvcnQ9YS5yZWFwcGVuZEluaXRTZWdtZW50QWZ0ZXJBYm9ydCk7bnVsbCE9YS5saXZlRGF0YUZldGNoTWF4UmV0cmllcyYmKHRoaXMuZy5saXZlRGF0YUZldGNoTWF4UmV0cmllcz1hLmxpdmVEYXRhRmV0Y2hNYXhSZXRyaWVzKTtudWxsIT1hLmxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXMmJih0aGlzLmcubGl2ZVNvdXJjZUJ1ZmZlckNsZWFyTWF4UmV0cmllcz1hLmxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXMpOwpudWxsIT1hLnBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2UmJih0aGlzLmcucGxheWhlYWRGcmFnbWVudGVkR2FwRGlmZkFsbG93YW5jZT1hLnBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2UpO251bGwhPWEuZml4QnVmZmVyaW5nR29hbERldGVybWluYXRpb24mJih0aGlzLmcuZml4QnVmZmVyaW5nR29hbERldGVybWluYXRpb249YS5maXhCdWZmZXJpbmdHb2FsRGV0ZXJtaW5hdGlvbik7bnVsbCE9YS5za2lwRW1wdHlTZWdtZW50cyYmKHRoaXMuZy5za2lwRW1wdHlTZWdtZW50cz1hLnNraXBFbXB0eVNlZ21lbnRzKTtudWxsIT1hLnVzZU1pY3JvVGFza1RpbWVvdXRzJiYodGhpcy5nLnVzZU1pY3JvVGFza1RpbWVvdXRzPWEudXNlTWljcm9UYXNrVGltZW91dHMpO0RmKHRoaXMpO251bGwhPWEuaW5jbHVkZVN0cmVhbUJ1ZmZlclNpemVJblN0YXJ0T2Zmc2V0JiYodGhpcy5aYj1Cb29sZWFuKGEuaW5jbHVkZVN0cmVhbUJ1ZmZlclNpemVJblN0YXJ0T2Zmc2V0KSk7Cm51bGwhPWEubGl2ZUF1ZGlvUHVzaFJlcHJlc2VudGF0aW9uJiYodGhpcy5wYT1TdHJpbmcoYS5saXZlQXVkaW9QdXNoUmVwcmVzZW50YXRpb24pKTtudWxsIT1hLmxpdmVJbml0aWFsUHVzaFJlcHJlc2VudGF0aW9uJiYodGhpcy5PYT1TdHJpbmcoYS5saXZlSW5pdGlhbFB1c2hSZXByZXNlbnRhdGlvbikpO251bGwhPWEuZW5hYmxlQWRhcHRhdGlvbiYmdGhpcy5BLmVuYWJsZShCb29sZWFuKGEuZW5hYmxlQWRhcHRhdGlvbikpO251bGwhPWEubXBkUmVxdWVzdFRpbWVvdXQmJih0aGlzLkxiPU51bWJlcihhLm1wZFJlcXVlc3RUaW1lb3V0KSk7bnVsbCE9YS5taW5NcGRSZWZyZXNoSW50ZXJ2YWwmJih0aGlzLktiPU51bWJlcihhLm1pbk1wZFJlZnJlc2hJbnRlcnZhbCkvMUUzKTtudWxsIT1hLmVuYWJsZU1hbmlmZXN0RGVidWcmJih0aGlzLlViPSEhYS5lbmFibGVNYW5pZmVzdERlYnVnKTtudWxsIT1hLmxpdmVTdHJlYW1FbmRUaW1lb3V0JiYodGhpcy5nYj1OdW1iZXIoYS5saXZlU3RyZWFtRW5kVGltZW91dCkpOwpudWxsIT1hLnByZWZlcnJlZExhbmd1YWdlJiYodGhpcy5TPVNhKFN0cmluZyhhLnByZWZlcnJlZExhbmd1YWdlKSkpO251bGwhPWEubGl2ZVNlbmRQdXNoSGVhZGVycyYmKHRoaXMucmE9Qm9vbGVhbihhLmxpdmVTZW5kUHVzaEhlYWRlcnMpKTtudWxsIT1hLmxpdmVNYXhNYW5pZmVzdEZldGNoZXNXaXRoUHVzaCYmKHRoaXMuUGE9TnVtYmVyKGEubGl2ZU1heE1hbmlmZXN0RmV0Y2hlc1dpdGhQdXNoKSk7bnVsbCE9YS5jdXJyZW50VGltZUR1cmluZ1JlYWR5U3RhdGVaZXJvVGhyb3dzJiYodGhpcy5TYj1Cb29sZWFuKGEuY3VycmVudFRpbWVEdXJpbmdSZWFkeVN0YXRlWmVyb1Rocm93cykpO251bGwhPWEubGl2ZU1heFNlZ21lbnRzVG9QdXNoJiYodGhpcy5nYz1OdW1iZXIoYS5saXZlTWF4U2VnbWVudHNUb1B1c2gpKTtudWxsIT1hLmp1bXBUb0xpdmVUaHJlc2hvbGQmJih0aGlzLmRjPU51bWJlcihhLmp1bXBUb0xpdmVUaHJlc2hvbGQpKTtudWxsIT1hLnJlc3RyaWN0aW9ucyYmKHRoaXMubT0KYS5yZXN0cmljdGlvbnMsdGhpcy5PJiZFZih0aGlzKSk7bnVsbCE9YS51c2VMb25nQ2FjaGVGb3JNYW5pZmVzdCYmKHRoaXMubWE9Qm9vbGVhbihhLnVzZUxvbmdDYWNoZUZvck1hbmlmZXN0KSk7bnVsbCE9YS5qdW1wVG9FYXJsaWVzdFBvc2l0aW9uSW5DdXJyZW50QmxvY2smJih0aGlzLmNjPUJvb2xlYW4oYS5qdW1wVG9FYXJsaWVzdFBvc2l0aW9uSW5DdXJyZW50QmxvY2spKTtudWxsIT1hLmlnbm9yZU1pbkJ1ZmZlclRpbWUmJih0aGlzLkdhPUJvb2xlYW4oYS5pZ25vcmVNaW5CdWZmZXJUaW1lKSk7bnVsbCE9PWEuZW5hYmxlUmVxdWVzdFBpcGVsaW5pbmcmJih0aGlzLlZiPUJvb2xlYW4oYS5lbmFibGVSZXF1ZXN0UGlwZWxpbmluZykpO251bGwhPT1hLmVuYWJsZVN0cmVhbWluZyYmKHRoaXMuV2I9Qm9vbGVhbihhLmVuYWJsZVN0cmVhbWluZykpfTsKWS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuSi5kZXN0cm95KCk7dGhpcy5zYS5kZXN0cm95KCk7dGhpcy5zYT10aGlzLko9bnVsbDt0aGlzLmthJiYoY2xlYXJUaW1lb3V0KHRoaXMua2EpLHRoaXMua2E9bnVsbCk7dGhpcy51JiYoY2xlYXJUaW1lb3V0KHRoaXMudSksdGhpcy51PW51bGwpO3RoaXMuQj1udWxsO3RoaXMuaC5kZXN0cm95KCk7dGhpcy5oPW51bGw7V2EodGhpcy5jKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2EuZGVzdHJveSgpfSk7dGhpcy5mPXRoaXMuYz1udWxsO3RoaXMuYiYmKHRoaXMuYi5kZXN0cm95KCksdGhpcy5iPW51bGwpO3RoaXMuQS5kZXN0cm95KCk7dGhpcy5KYT10aGlzLm09dGhpcy52aWRlbz10aGlzLmk9dGhpcy53YT10aGlzLkE9bnVsbDt0aGlzLmEuZ2V0Qm9vbCgiZml4aW5nX3NjaGVkdWxlcl9kaXNhYmxlX2xlYWtzIiwhMCkmJihPYmplY3Qua2V5cyh0aGlzLm8pLmZvckVhY2goZnVuY3Rpb24oYSl7KGE9dGhpcy5vW2FdKSYmYS5kaXNhYmxlKCl9LmJpbmQodGhpcykpLAp0aGlzLm89e30pO09iamVjdC5rZXlzKHRoaXMudykuZm9yRWFjaChmdW5jdGlvbihhKXsoYT10aGlzLndbYV0pJiZhLmRlc3Ryb3koKX0uYmluZCh0aGlzKSk7dGhpcy53PXt9O3RoaXMuSSYmKHRoaXMuSS5kaXNhYmxlKCksdGhpcy5JPW51bGwpO3RoaXMuUiYmKHRoaXMuUi5jbGVhbnVwKCksdGhpcy5SPW51bGwpO2Zvcih2YXIgYT0wO2E8dGhpcy5VLmxlbmd0aDthKyspdGhpcy5VW2FdLmNsZWFudXAoKTt0aGlzLlU9W107dGhpcy51Yy5yZWxlYXNlKCl9O2Z1bmN0aW9uIGVmKGEsYil7aWYoYS5sKXt2YXIgYz1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJtZWRpYV9zb3VyY2Vfb3BlbiIpLnN0YXJ0KCk7YS5JYi50aGVuKGZ1bmN0aW9uKCl7Yy5sb2coKX0pfUUoYS5oLGEuaSwic291cmNlb3BlbiIsYS5oZC5iaW5kKGEpKTtiLnNyYz13aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChhLmkpfW49WS5wcm90b3R5cGU7bi52Yz1mdW5jdGlvbigpe307CmZ1bmN0aW9uIGpmKGEsYixjKXt2YXIgZDthLmwmJihkPWEubC5nZXRPcGVyYXRpb25Mb2dnZXIoInNvdXJjZV9hdHRhY2giKS5zdGFydCgpKTtpZighYS5PKXJldHVybiBhPUVycm9yKCJDYW5ub3QgY2FsbCBhdHRhY2goKSByaWdodCBub3cuIiksYS50eXBlPSJhcHAiLGQmJmQuc2V0RXJyb3IoYSkubG9nKCksUHJvbWlzZS5yZWplY3QoYSk7YS5KYT1iO2EudmlkZW89YzthLmJhPW51bGw7YS5hLmdldEJvb2woImVuYWJsZV92aWV3cG9ydF9wcmlvcml0eV9hZGp1c3RtZW50IiwhMSkmJihhLlI9bmV3IFZpZXdwb3J0UHJpb3JpdHlBZGp1c3RlcihhLnZpZGVvKSxhLlIuc2V0T25Qcmlvcml0eUNoYW5nZWQoZnVuY3Rpb24oYSl7T2JqZWN0LmtleXModGhpcy5vKS5mb3JFYWNoKGZ1bmN0aW9uKGIpe3RoaXMub1tiXS51cGRhdGVQcmlvcml0eVdpdGhOZXdBZGp1c3RtZW50KGEpfS5iaW5kKHRoaXMpKX0uYmluZChhKSkpO2EuYS5nZXRCb29sKCJlbmFibGVfZmlyc3RfdmlkZW9fcHJpb3JpdHlfYWRqdXN0bWVudCIsCiExKSYmYS5VLnB1c2gobmV3IEZpcnN0TG9hZGVkVmlkZW9Qcmlvcml0eUFkanVzdGVyKGEudmlkZW8pKTtFKGEuaCxhLnZpZGVvLCJsb2FkZWRtZXRhZGF0YSIsYS5nZC5iaW5kKGEpKTtFKGEuaCxhLndhLCJiYW5kd2lkdGgiLGEuR2QuYmluZChhKSk7aWYoYS5iLmJ8fGEuYS5nZXRCb29sKCJiYWNrX29mZl9idWZmZXJpbmdfb3ZlcmZsb3ciLCExKSlFKGEuaCxiLCJidWZmZXJpbmdTdGFydCIsYS5jZC5iaW5kKGEpKSxFKGEuaCxiLCJidWZmZXJpbmdFbmQiLGEuYmQuYmluZChhKSk7Yj1hLmEuZ2V0Qm9vbCgiZW5hYmxlX2NvbnRlbnRfcHJvdGVjdGlvbiIsITEpPyhiPWEudmlkZW8ubWVkaWFLZXlzKSYmYS52aWRlby5zZXRNZWRpYUtleXM/YS52aWRlby5zZXRNZWRpYUtleXMoYik6UHJvbWlzZS5yZXNvbHZlKCk6UHJvbWlzZS5yZXNvbHZlKCk7RmYoYSkudGhlbihKKGEsZnVuY3Rpb24oKXtkJiZ0aGlzLlAoKSYmZC5zZXRMaXZlaGVhZFBvc2l0aW9uKEdmKEhmKHRoaXMpKSk7dGhpcy5KJiYKdGhpcy5KLnJlc29sdmUoKTt0aGlzLnZjKCl9KSkuY2F0Y2goSihhLGZ1bmN0aW9uKGEpe3RoaXMuSiYmdGhpcy5KLnJlamVjdChhKX0pKTtyZXR1cm4gUHJvbWlzZS5hbGwoW2EuSixiXSkudGhlbihmdW5jdGlvbigpe2QmJmQubG9nKCl9KX0Kbi53Yj1mdW5jdGlvbigpe2lmKHRoaXMuTyl7dmFyIGE9RXJyb3IoIkNhbm5vdCBjYWxsIGxvYWQoKSByaWdodCBub3cuIik7YS50eXBlPSJhcHAiO3JldHVybiBQcm9taXNlLnJlamVjdChhKX1pZighdGhpcy5ifHwwPT10aGlzLmIuYS5sZW5ndGgpcmV0dXJuIGE9RXJyb3IoIlRoZSBtYW5pZmVzdCBkb2VzIG5vdCBzcGVjaWZ5IGFueSBjb250ZW50LiIpLGEudHlwZT0ic3RyZWFtIixQcm9taXNlLnJlamVjdChhKTt0Zih0aGlzLmIuYSk7aWYoMD09dGhpcy5iLmEubGVuZ3RofHwwPT10aGlzLmIuYVswXS5hLmxlbmd0aHx8IXRoaXMuYi5hWzBdLmEuc29tZShmdW5jdGlvbihhKXtyZXR1cm4idmlkZW8iPT09YS5jb250ZW50VHlwZX0pKXJldHVybiBhPUVycm9yKCJUaGUgbWFuaWZlc3Qgc3BlY2lmaWVzIGNvbnRlbnQgdGhhdCBjYW5ub3QgYmUgZGlzcGxheWVkIG9uIHRoaXMgYnJvd3Nlci9wbGF0Zm9ybS4iKSxhLnR5cGU9InN0cmVhbSIsUHJvbWlzZS5yZWplY3QoYSk7dGhpcy5PPQohMDt0aGlzLkdhfHwodGhpcy5nLmluaXRpYWxTdHJlYW1CdWZmZXJTaXplPU1hdGgubWF4KHRoaXMuZy5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZXx8MCx0aGlzLmIuZykpO3RoaXMuaWEmJnRoaXMuaWEuc2V0U3RyZWFtVHlwZSh0aGlzLmIuQik7RGYodGhpcyk7RWYodGhpcyk7cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpfTtmdW5jdGlvbiBJZihhKXt2YXIgYj15KHt0eXBlOiJtYW5pZmVzdHdyYXBwZWQiLGJ1YmJsZXM6ITB9KTthLmRpc3BhdGNoRXZlbnQoYil9ZnVuY3Rpb24gSmYoYSxiKXt2YXIgYz15KHt0eXBlOiJsaXZlaGVhZElkbGVBdCIsc2Vjb25kczpiLGJ1YmJsZXM6ITB9KTthLmRpc3BhdGNoRXZlbnQoYyl9ZnVuY3Rpb24gR2YoYSl7cmV0dXJuIE1hdGgubWluLmFwcGx5KE1hdGgsYS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEubGVuZ3RoKCk/YS5sYXN0KCkuZW5kVGltZTpudWxsfSkuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiEhYX0pKX0Kbi5KYj1mdW5jdGlvbihhLGIpe3ZhciBjO3RoaXMuYS5nZXRCb29sKCJkZWNvdXBsZV9tcGRfdXBkYXRlX2xvb3BfZnJvbV9yZXF1ZXN0X2xvb3AiLCExKSYmS2YodGhpcywwKTt0aGlzLlYmJih0aGlzLlYubG9nKCksdGhpcy5WPW51bGwpO3RoaXMubCYmKGM9dGhpcy5sLmdldE9wZXJhdGlvbkxvZ2dlcigidXBkYXRlX21hbmlmZXN0Iikuc3RhcnQoKSk7aWYoIWJ8fHRoaXMuTyl7dmFyIGQ9RGF0ZS5ub3coKTt0aGlzLmEuZ2V0Qm9vbCgiZGVjb3VwbGVfbXBkX3VwZGF0ZV9sb29wX2Zyb21fcmVxdWVzdF9sb29wIiwhMSl8fCh0aGlzLnU9bnVsbCk7dmFyIGU9bnVsbCxmLGc7aWYodGhpcy5yYSYmKCF0aGlzLlBhfHx0aGlzLlBhPnRoaXMuaWMpKXtmPU1hdGguZmxvb3IoTGYodGhpcykpKzE7Zj1NYXRoLm1pbihmLHRoaXMuZ2MpO3ZhciBoPXRoaXMuYy52aWRlbztpZihoPWg/aC5GYigpOm51bGwpaD1oLmxhc3QoKSxudWxsIT1oLnVuc2NhbGVkU3RhcnRUaW1lJiYoZz1oLnVuc2NhbGVkU3RhcnRUaW1lKTsKaWYodGhpcy52aWRlby5wYXVzZWR8fHRoaXMuJClmPTB9ZiYmdGhpcy5pYysrO2g9dGhpcy5iLmk7aD10aGlzLmEuZ2V0Qm9vbCgiZW5hYmxlX2NsZWFuX2ZhaWxvdmVyX3VyaV9vbl9tcGRfcmVxdWVzdHMiLCEwKT9oLmNsb25lKCk6aDtjJiYhYSYmYy5zZXRSZXNvdXJjZShoLnRvU3RyaW5nKCkpOyhhP3RoaXMueGMoKTp0aGlzLnljKGgsZixnKSkudGhlbihKKHRoaXMsZnVuY3Rpb24oYil7YXx8dGhpcy5HLmluZm9ybU5ldHdvcmtSZXN1bWVkKCk7ZT1uZXcgdmYoYik7dmFyIGM7dGhpcy5sJiYoYz10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJ1cGRhdGVfbWFuaWZlc3RfaW5mbyIpLnN0YXJ0KCkpO2I9ZS51cGRhdGUodGhpcy5iKTtiLnRoZW4oZnVuY3Rpb24oKXtjJiZjLmxvZygpfSxmdW5jdGlvbihhKXtjJiZjLnNldEVycm9yKGEpLmxvZygpfSkuY2F0Y2goZnVuY3Rpb24oKXt9KTtyZXR1cm4gYn0pKS50aGVuKEoodGhpcyxmdW5jdGlvbihhKXtlLmRlc3Ryb3koKTtlPW51bGw7CnZhciBmPUhmKHRoaXMpO3RoaXMuTGEoIlNlZ21lbnRJbmRleGVzVXBkYXRlZCIsZik7aWYodGhpcy5hLmdldEJvb2woImVtaXRfbGl2ZV9wbGF5aGVhZF9pZGxlX2Zyb21fY2xpZW50IiwhMCkpe3ZhciBnPXRoaXMuYS5nZXROdW1iZXIoImxpdmVfcGxheWhlYWRfaWRsZV9hbGxfc3RyZWFtX3RocmVzaG9sZCIsNCksaD10aGlzLmEuZ2V0TnVtYmVyKCJsaXZlX3BsYXloZWFkX2lkbGVfc2luZ2xlX3N0cmVhbV90aHJlc2hvbGQiLDUpO2lmKEhmKHRoaXMpLmV2ZXJ5KGZ1bmN0aW9uKGEpe3JldHVybiBhLnUoKT49Z30pfHxIZih0aGlzKS5zb21lKGZ1bmN0aW9uKGEpe3JldHVybiBhLnUoKT49aH0pKXt2YXIgdD1HZihmKTtKZih0aGlzLHQpfX1mLnNvbWUoZnVuY3Rpb24oYSl7cmV0dXJuIGEucmIoKX0pJiZJZih0aGlzKTt0PU1mKHRoaXMsZik7YyYmdGhpcy5QKCkmJmMuc2V0TGl2ZWhlYWRQb3NpdGlvbihHZihmKSk7YyYmYy5zZXRNYW5pZmVzdFR5cGUodGhpcy5iLmI/ImR5bmFtaWMiOgoic3RhdGljIikuc2V0VXBkYXRlUGVyaW9kKG51bGw9PT10aGlzLmIuYz9udWxsOk1hdGguY2VpbCgxRTMqdGhpcy5iLmMpKTt0aGlzLm5hJiZOZih0aGlzLHQpO3RoaXMuYS5nZXRCb29sKCJza2lwX3JlbWFpbmluZ19idWZmZXJlZF9vbl9zdHJlYW1fZW5kIiwhMSkmJnQmJnRoaXMuYi5iJiZ0aGlzLmIuaCYmdGhpcy52aWRlby5wYXVzZWQmJih0aGlzLnZpZGVvLmN1cnJlbnRUaW1lPXRoaXMuamEtLjEpO2lmKHNmKHRoaXMpKXJldHVybiBjJiZjLmxvZygpLHRoaXMuZWIoKTtmb3IoZj0wO2Y8YS5sZW5ndGg7KytmKU9mKHRoaXMsYVtmXSk7dGhpcy5HYXx8KHRoaXMuZy5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZT1NYXRoLm1heCh0aGlzLmcuaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemV8fDAsdGhpcy5iLmcpKTt0aGlzLmcudXNlSW5pdGlhbEJ1ZmZlclNpemVXaGVuUGF1c2VkPXRoaXMuYi5iO0RmKHRoaXMpO0VmKHRoaXMpOzA9PU9iamVjdC5rZXlzKHRoaXMuYykubGVuZ3RoP0ZmKHRoaXMpOgooYT1EYXRlLm5vdygpLGJ8fEtmKHRoaXMsKGEtZCkvMUUzKSk7YyYmYy5sb2coKTt0aGlzLnRiKCkmJmV4dHJhY3RDRUE2MDgucHJlcGFyZSgpO3RoaXMuYS5nZXRCb29sKCJ1cGRhdGVfY2VhNjA4X2F2YWlsYWJpbGl0eV9vbl9tcGRfcGFyc2luZyIsITEpJiYoYT10aGlzLnRiKCksdGhpcy5ZYiE9PWEmJihmPXkoe3R5cGU6ImNlYTYwOEF2YWlsYWJpbGl0eUNoYW5nZWQiLGJ1YmJsZXM6ITB9KSx0aGlzLmRpc3BhdGNoRXZlbnQoZiksdGhpcy5ZYj1hKSl9KSkuY2F0Y2goSih0aGlzLGZ1bmN0aW9uKGEpe2MmJmMuc2V0RXJyb3IoYSkubG9nKCk7ZSYmKGUuZGVzdHJveSgpLGU9bnVsbCk7aWYoIWIpe3ZhciBkPXRoaXMuYi5mfHx0aGlzLmEuZ2V0Qm9vbCgicmV0cnlfZWdyZXNzXzUwMHMiLCExKSxmPVswLDQxMF07dGhpcy5hLmdldEJvb2woImVuYWJsZV9kb3VibGVfaW5nZXN0IiwhMSkmJmYucHVzaCg0MTcsMjAwKTshdGhpcy5hLmdldEJvb2woIm5vX3JldHJ5X29uXzUwMl81MDMiLAohMSkmJmQmJihmPWYuY29uY2F0KFs1MDIsNTAzXSkpO2Q9dGhpcy5hLmdldEJvb2woImZpeF9saXZlX3N0cmVhbV9nb25lX29uX21hbmlmZXN0X3VwZGF0ZSIsITApPy0xPT09Zi5pbmRleE9mKGEuc3RhdHVzKTowIT09YS5zdGF0dXM7aWYodGhpcy5hLmdldEJvb2woImFsbG93X2luZmluaXRlX3JldHJ5X29uX25ldF9lcnIiLCEwKSYmIm5ldCI9PT1hLnR5cGUmJiFkKXN3aXRjaChhLnN0YXR1cyl7Y2FzZSA0MTA6dGhpcy5oYz0hMDt0aGlzLmomJihjbGVhclRpbWVvdXQodGhpcy5qKSx0aGlzLmo9bnVsbCk7dGhpcy5lYigpO2JyZWFrO2Nhc2UgMjAwOmNhc2UgNDE3OmEucmVzcG9uc2VIZWFkZXJzJiZudWxsIT1hLnJlc3BvbnNlSGVhZGVyc1sieC1mYi12aWRlby1yZXBsaWNhIl0/dGhpcy5kaXNwYXRjaEV2ZW50KHkoe3R5cGU6InJlcGxpY2Fzd2l0Y2giLGJ1YmJsZXM6ITAscmVwbGljYTphLnJlc3BvbnNlSGVhZGVyc1sieC1mYi12aWRlby1yZXBsaWNhIl0sdXJsOmEudXJsLHN0YXR1czphLnN0YXR1c30pKToKZD0hMDticmVhaztkZWZhdWx0OlBmKHRoaXMpfTA9PT1hLnN0YXR1cz90aGlzLkcuaW5mb3JtTmV0d29ya0ludGVycnVwdGVkKCk6dGhpcy5HLmluZm9ybU5ldHdvcmtSZXN1bWVkKCk7aWYoImRlbGF5Ij09YS50eXBlKXJldHVybiBQZih0aGlzKTt0aGlzLmEuZ2V0Qm9vbCgiYWxsb3dfaW5maW5pdGVfcmV0cnlfb25fbmV0X2VyciIsITApJiYhZHx8ImFib3J0ZWQiPT1hLnR5cGV8fChhPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGEpLHRoaXMuYiYmUGYodGhpcykpfX0pKX19O24ueWM9ZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZWplY3QoIkNhbm5vdCB1cGRhdGUgbWFuaWZlc3Qgd2l0aCB0aGlzIFZpZGVvU291cmNlIGltcGxlbWVudGF0aW9uLiIpfTtuLnhjPWZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVqZWN0KCJDYW5ub3QgdXBkYXRlIG1hbmlmZXN0IHdpdGggdGhpcyBWaWRlb1NvdXJjZSBpbXBsZW1lbnRhdGlvbi4iKX07CmZ1bmN0aW9uIE5mKGEsYil7aWYoYiYmYS5iJiZhLmIuYilpZihhLmEuZ2V0Qm9vbCgic2Vla19vdmVyX3VuYXZhaWxhYmxlX3NlZ21lbnRzX29uX21hbmlmZXN0X3VwZGF0ZSIsITEpJiZhLmVhKWIuZW5kPmEudmlkZW8uY3VycmVudFRpbWUrMTAmJihhLmVhPSExLGEudmlkZW8uY3VycmVudFRpbWU9Yi5lbmQsUWYoYSkpO2Vsc2UgaWYoYS52aWRlby5wYXVzZWQmJmIuZW5kPmEudmlkZW8uY3VycmVudFRpbWUrMTApaWYoYS5hLmdldEJvb2woImVuYWJsZV9sYXp5X2xpdmVoZWFkX2NhdGNodXAiLCExKSl7dmFyIGM9YS54YTtjPGEuSWQmJihhLnhhPSsrYyk7UmYoYSxjKTthLmNhPWIuZW5kfWVsc2UgYS5lYT0hMSxhLnZpZGVvLmN1cnJlbnRUaW1lPWIuZW5kLFFmKGEpfQpmdW5jdGlvbiBLZihhLGIpe2lmKG51bGw9PWEuYi5jKUJhbnphaU9EUy5idW1wRW50aXR5S2V5KDI5NjYsInZpZGVvcy53d3cubGl2ZSIsInVwZGF0ZV9wZXJpb2RfaXNfbnVsbCIpO2Vsc2UgaWYoIWEuRmEpe2lmKGEuYS5nZXRCb29sKCJkZWNvdXBsZV9tcGRfdXBkYXRlX2xvb3BfZnJvbV9yZXF1ZXN0X2xvb3AiLCExKSYmKGEudSYmKGNsZWFyVGltZW91dChhLnUpLGEudT1udWxsKSxzZihhKSkpcmV0dXJuO3ZhciBjPU1hdGgubWF4KGEuYi5jLGEuS2IpLGM9TWF0aC5tYXgoYy1iLDApLGQ9YS5KYi5iaW5kKGEsITEpOyFjJiZhLmcudXNlTWljcm9UYXNrVGltZW91dHM/UHJvbWlzZS5yZXNvbHZlKCkudGhlbihkKTooYS5WJiZhLlYuc2V0UmVzdWx0KCJmYWlsZWQiKS5sb2coKSxhLmwmJihhLlY9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigic2NoZWR1bGVfbWFuaWZlc3RfdXBkYXRlIikuc3RhcnQoKS5zZXRVcGRhdGVQZXJpb2QoTWF0aC5jZWlsKDFFMypjKSkpLGEudT1zZXRUaW1lb3V0KGQsCjFFMypjKSl9fWZ1bmN0aW9uIE9mKGEsYil7dmFyIGM9TWQoYiksZD1hLmNbY107aWYoZCYmZC5XYSgpPT1iKXt2YXIgZT1hLmYuZ2V0KE1kKGIpKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEudn0pLnJlZHVjZShmdW5jdGlvbihhLGIpe3JldHVybiBhLmNvbmNhdChiKX0sW10pLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gYS5vYSYmYS5mYX0pO2lmKDA9PWUubGVuZ3RoKXtjPUVycm9yKCJBbGwgdXNhYmxlIHN0cmVhbXMgaGF2ZSBiZWVuIHJlbW92ZWQgZnJvbSB0aGUgbWFuaWZlc3QuIik7Yy50eXBlPSJhcHAiO2M9QShjKTthLmRpc3BhdGNoRXZlbnQoYyk7cmV0dXJufWEuQltjXS5MYz09YiYmZGVsZXRlIGEuQltjXTtkLmpiKGVbMF0sITApO2IuZGVzdHJveSgpfWIuZGVzdHJveSgpfW4uQ2Q9ZnVuY3Rpb24oYSl7dGhpcy5wYz1hfTtZLnByb3RvdHlwZS5zZXRUYWdnZWRUaW1lUmFuZ2VzPVkucHJvdG90eXBlLkNkOwpZLnByb3RvdHlwZS53ZD1mdW5jdGlvbigpe3JldHVybiAwPT09T2JqZWN0LmtleXModGhpcy5jKS5sZW5ndGg/ITE6WyJhdWRpbyIsInZpZGVvIl0uZXZlcnkoSih0aGlzLGZ1bmN0aW9uKGEpe3JldHVybiF0aGlzLmNbYV18fHRoaXMuY1thXS5UfSkpfTtZLnByb3RvdHlwZS5oYXNIaXRCdWZmZXJpbmdHb2FsPVkucHJvdG90eXBlLndkOwpZLnByb3RvdHlwZS5aPWZ1bmN0aW9uKGEpe2lmKCF0aGlzLmZ8fCF0aGlzLmYuYS5oYXNPd25Qcm9wZXJ0eSgidmlkZW8iKSlyZXR1cm5bXTthPWEmJmEudXNlTG9jYWxCaXRyYXRlfHwhMTt2YXIgYj10aGlzLmMudmlkZW8sYz1iP2IuV2EoKTpudWxsLGQ9Yz9jLlg6MCxlPTEsZj1udWxsO3RoaXMuYS5nZXRCb29sKCJ1c2VfbGl2ZV9iaXRyYXRlX2VzdGltYXRlcyIsITEpJiZ0aGlzLlAoKSYmbnVsbCE9YiYmKGY9Yi5sYSgpLG51bGwhPWMmJjA8Yy5iYW5kd2lkdGgmJihlPWYvYy5iYW5kd2lkdGgpKTtmb3IodmFyIGM9W10sZz10aGlzLmYuZ2V0KCJ2aWRlbyIpLGg9MDtoPGcubGVuZ3RoOysraClmb3IodmFyIGs9Z1toXSxsPTA7bDxrLnYubGVuZ3RoOysrbCl7dmFyIG09ay52W2xdO2lmKG0ub2EmJm0uZmEpe3ZhciBwPW51bGw7aWYoYSYmbnVsbCE9PW0uTSl7dmFyIHQ9bS5NLmMoKSx3PWI7aWYodGhpcy5QKCl8fG51bGw9PT10fHxudWxsPT09dylwPW51bGw7ZWxzZXt2YXIgcD0KcGUodyx0aGlzLnZpZGVvLmN1cnJlbnRUaW1lLHQpLHo9dC5nZXRTZWdtZW50cygpO3RoaXMuYS5nZXRCb29sKCJzdGFydF9sb2NhbF9iaXRyYXRlX2F0X2J1ZmZlcl9lbmQiLCExKSYmKHc9TG9jYWxCaXRyYXRlSGVscGVyLmdldEJ1ZmZlckVuZFNlZ21lbnRJbmRleCh6LHAsdGhpcy52aWRlby5jdXJyZW50VGltZSthZSh3LHRoaXMudmlkZW8uY3VycmVudFRpbWUpKSxudWxsIT09dyYmKHA9dykpO3A9TG9jYWxCaXRyYXRlSGVscGVyLmdldExvY2FsQml0cmF0ZSh0LmdldFNlZ21lbnRzKCkscCx0aGlzLmEuZ2V0TnVtYmVyKCJsb2NhbF9iaXRyYXRlX3NlZ21lbnRzX2FoZWFkIiwxMCkpfXRoaXMuYS5nZXRCb29sKCJ1c2VfbWF4X2xvY2FsX2JpdHJhdGUiLCExKSYmKHA9TWF0aC5tYXgocCxtLmJhbmR3aWR0aCkpfXQ9bS5YO3A9cHx8bS5iYW5kd2lkdGg7dGhpcy5hLmdldEJvb2woInVzZV9saXZlX2JpdHJhdGVfZXN0aW1hdGVzIiwhMSkmJm51bGwhPWYmJih0PT09ZD9wPU1hdGgubWF4KHAsCmYpOjE8ZSYmKHA9cCplKSxwPU1hdGgucm91bmQocCkpO209bmV3IHVhKHQscCxtLndpZHRoLG0uaGVpZ2h0LG0uaWQsbS5mYlF1YWxpdHlMYWJlbCxtLmZiUXVhbGl0eUNsYXNzLG0uZixtLmZyYW1lUmF0ZSxtLm1pbWVUeXBlLG0uY29kZWNzLG0uZyxtLmgpO3Q9PWQmJihtLmFjdGl2ZT0hMCk7Yy5wdXNoKG0pfX1yZXR1cm4gY307WS5wcm90b3R5cGUuZ2V0VmlkZW9UcmFja3M9WS5wcm90b3R5cGUuWjtZLnByb3RvdHlwZS5SYz1mdW5jdGlvbigpe2lmKHRoaXMuZ2EpcmV0dXJuIHRoaXMuZ2E7aWYoIXRoaXMuYilyZXR1cm4gbnVsbDtmb3IodmFyIGE9MDthPHRoaXMuYi5hLmxlbmd0aDsrK2EpZm9yKHZhciBiPXRoaXMuYi5hW2FdLGM9MDtjPGIuYS5sZW5ndGg7KytjKWlmKHRoaXMuZ2E9Yi5hW2NdLmMpcmV0dXJuIHRoaXMuZ2E7cmV0dXJuIG51bGx9O1kucHJvdG90eXBlLmdldFZpZGVvUHJvamVjdGlvbj1ZLnByb3RvdHlwZS5SYztZLnByb3RvdHlwZS5PYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmtifTsKWS5wcm90b3R5cGUuZ2V0TG9jYWxFc3RpbWF0b3I9WS5wcm90b3R5cGUuT2M7ZnVuY3Rpb24gU2YoYSl7YT1hLlooKTtmb3IodmFyIGI9MDtiPGEubGVuZ3RoO2IrKylpZihhW2JdLmFjdGl2ZSlyZXR1cm4gYVtiXX1ZLnByb3RvdHlwZS52YT1mdW5jdGlvbigpe2lmKCF0aGlzLmZ8fCF0aGlzLmYuYS5oYXNPd25Qcm9wZXJ0eSgiYXVkaW8iKSlyZXR1cm5bXTtmb3IodmFyIGE9dGhpcy5jLmF1ZGlvLGE9KGE9YT9hLldhKCk6bnVsbCk/YS5YOjAsYj1bXSxjPXRoaXMuZi5nZXQoImF1ZGlvIiksZD0wO2Q8Yy5sZW5ndGg7KytkKWZvcih2YXIgZT1jW2RdLGY9ZS5sYW5nLGc9MDtnPGUudi5sZW5ndGg7KytnKXt2YXIgaD1lLnZbZ107aWYoaC5vYSYmaC5mYSl7dmFyIGs9aC5YLGg9bmV3IGZhKGssaC5iYW5kd2lkdGgsZixoLmlkLGgubWltZVR5cGUsaC5jb2RlY3MsdGhpcy5iLnUsaC5jKTtrPT1hJiYoaC5hY3RpdmU9ITApO2IucHVzaChoKX19cmV0dXJuIGJ9OwpZLnByb3RvdHlwZS5nZXRBdWRpb1RyYWNrcz1ZLnByb3RvdHlwZS52YTtZLnByb3RvdHlwZS5tYz1mdW5jdGlvbigpe2lmKCF0aGlzLmZ8fCF0aGlzLmYuYS5oYXNPd25Qcm9wZXJ0eSgidGV4dCIpKXJldHVybltdO2Zvcih2YXIgYT10aGlzLmMudGV4dCxiPWE/YS5XYSgpOm51bGwsYj1iP2IuWDowLGM9W10sZD10aGlzLmYuZ2V0KCJ0ZXh0IiksZT0wO2U8ZC5sZW5ndGg7KytlKWZvcih2YXIgZj1kW2VdLGc9Zi5sYW5nLGg9MDtoPGYudi5sZW5ndGg7KytoKXt2YXIgaz1mLnZbaF0uWCxsPW5ldyB0YShrLGcpO2s9PWImJihsLmFjdGl2ZT0hMCxsLmVuYWJsZWQ9YS5EYigpKTtjLnB1c2gobCl9cmV0dXJuIGN9O1kucHJvdG90eXBlLmdldFRleHRUcmFja3M9WS5wcm90b3R5cGUubWM7WS5wcm90b3R5cGUuYWM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iJiZ0aGlzLmIubSYmMDx0aGlzLmIubT8hMDohMX07WS5wcm90b3R5cGUuaXNVc2luZ0FTUkNhcHRpb25zPVkucHJvdG90eXBlLmFjOwpZLnByb3RvdHlwZS5iYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmImJnRoaXMuYi5vJiYwPHRoaXMuYi5vJiZna3goIjExNzYyNTEiKT8hMDohMX07WS5wcm90b3R5cGUuaXNVc2luZ0FTUkNhcHRpb25zRW1wbG95ZWVEb2dmb29kaW5nPVkucHJvdG90eXBlLmJjO2Z1bmN0aW9uIHJmKGEpe3ZhciBiPU51bWJlcihhLmcuaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemUpO2EuZy5maXhCdWZmZXJpbmdHb2FsRGV0ZXJtaW5hdGlvbiYmKGI9MSk7aWYoYS5hLmdldEJvb2woImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvdyIsITEpKWI9YS5LO2Vsc2V7dmFyIGM9YS5hLmdldE51bWJlcigiYnVmZmVyaW5nX292ZXJmbG93X3RocmVzaG9sZCIsMCk7MDxjJiYoYj1jKX1yZXR1cm4gYS4kYj9OdW1iZXIoYS5nLnN0cmVhbUJ1ZmZlclNpemUpOmJ9CmZ1bmN0aW9uIE5lKGEpe2lmKGEuTyl7YT1hLmIuYVswXTtmb3IodmFyIGI9W10sYz0wO2M8YS5hLmxlbmd0aDsrK2MpYi5wdXNoLmFwcGx5KGIsUWQoYS5hW2NdKSk7YT1ifWVsc2UgYT1bXTtyZXR1cm4gYX0KZnVuY3Rpb24gUGUoYSxiKXtpZihhLk8pe2Zvcih2YXIgYz17fSxkPWEuYi5hWzBdLGU9MDtlPGQuYS5sZW5ndGg7KytlKXt2YXIgZj1kLmFbZV07Y1tmLlhdPWZ9YS5mLmE9e307ZD1hYihiKTtmb3IoZT0wO2U8ZC5sZW5ndGg7KytlKXt2YXIgZj1kW2VdLGc9Yi5nZXQoZik7aWYoInZpZGVvIj09Zil7dmFyIGg9Z1swXS5pZDthLmYucHVzaChmLGNbaF0pfWVsc2UgaWYoImF1ZGlvIj09Zil7aWYoMDxnLmxlbmd0aClmb3IodmFyIGg9Z1swXS5iLnNwbGl0KCI7IilbMF0saz0wO2s8Zy5sZW5ndGg7KytrKXt2YXIgbD1nW2tdO2wuYi5zcGxpdCgiOyIpWzBdPT1oJiZhLmYucHVzaChmLGNbbC5pZF0pfX1lbHNlIGZvcihrPTA7azxnLmxlbmd0aDsrK2spaD1nW2tdLmlkLGEuZi5wdXNoKGYsY1toXSl9YS55YT0hMDtpZihjPWEuZi5nZXQoImF1ZGlvIikpVGYoYSxjKSxhLmYuc2V0KCJhdWRpbyIsYyksYz1jWzBdLmxhbmd8fGEuUyxSYSgyLGEuUyxjKSYmKGEueWE9ITEpO2lmKGM9YS5mLmdldCgidGV4dCIpKVRmKGEsCmMpLGEuZi5zZXQoInRleHQiLGMpLGM9Y1swXS5sYW5nfHxhLlMsUmEoMixhLlMsYyl8fChhLnlhPSExKX19WS5wcm90b3R5cGUuWGM9ZnVuY3Rpb24oKXt0aGlzLkVhPSEwfTtZLnByb3RvdHlwZS5zZXRDbGVhckJ1ZmZlckFmdGVyU2Vla2luZz1ZLnByb3RvdHlwZS5YYztZLnByb3RvdHlwZS5zZWxlY3RWaWRlb1RyYWNrPWZ1bmN0aW9uKGEsYixjLGQsZSl7cmV0dXJuIG1mKHRoaXMsInZpZGVvIixhLGIsYyxkLGUpfTtZLnByb3RvdHlwZS5yZXN1bWVWaWRlb0ZldGNoaW5nPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5jLnZpZGVvP3RoaXMuYy52aWRlby5GOm51bGw7YSYmYS5yZXN1bWVWaWRlb0ZldGNoaW5nKCl9O1kucHJvdG90eXBlLnJlc3VtZVZpZGVvRmV0Y2hpbmc9WS5wcm90b3R5cGUucmVzdW1lVmlkZW9GZXRjaGluZztZLnByb3RvdHlwZS5IZD1mdW5jdGlvbigpe3ZhciBhPXRoaXMuYy52aWRlbz90aGlzLmMudmlkZW8uRjpudWxsO2EmJmEuc3RvcFVudGlsU2VnbWVudHNVcGRhdGUoKX07ClkucHJvdG90eXBlLnN0b3BVbnRpbFZpZGVvU3RyZWFtU3dpdGNoPVkucHJvdG90eXBlLkhkO2Z1bmN0aW9uIG5mKGEsYil7dmFyIGM9YS5jLnRleHQ7YyYmYy52YihiKX0KZnVuY3Rpb24gRWYoYSl7aWYoYS5tKXtmb3IodmFyIGI9ITEsYz0wO2M8YS5iLmEubGVuZ3RoOysrYylmb3IodmFyIGQ9YS5iLmFbY10sZT0wO2U8ZC5hLmxlbmd0aDsrK2Upe3ZhciBmPWQuYVtlXTtpZigidmlkZW8iPT1mLmNvbnRlbnRUeXBlKWZvcih2YXIgZz0wO2c8Zi52Lmxlbmd0aDsrK2cpe3ZhciBoPWYudltnXSxrPWguZmE7aC5mYT0hMDthLm0ubWF4V2lkdGgmJmgud2lkdGg+YS5tLm1heFdpZHRoJiYoaC5mYT0hMSk7YS5tLm1heEhlaWdodCYmaC5oZWlnaHQ+YS5tLm1heEhlaWdodCYmKGguZmE9ITEpO2EubS5taW5IZWlnaHQmJmguaGVpZ2h0PGEubS5taW5IZWlnaHQmJihoLmZhPSExKTthLm0ubWF4QmFuZHdpZHRoJiZoLmJhbmR3aWR0aD5hLm0ubWF4QmFuZHdpZHRoJiYoaC5mYT0hMSk7YS5tLm1pbkJhbmR3aWR0aCYmaC5iYW5kd2lkdGg8YS5tLm1pbkJhbmR3aWR0aCYmKGguZmE9ITEpO2shPWguZmEmJihiPSEwKX19MCE9JGEoYS5mKS5sZW5ndGgmJmImJihVZihhKSwKMDxhLlooKS5sZW5ndGh8fChiPUVycm9yKCJUaGUgYXBwbGljYXRpb24gaGFzIHJlc3RyaWN0ZWQgYWxsIHZpZGVvIHRyYWNrcyEiKSxiLnR5cGU9ImFwcCIsYj1BKGIpLGEuZGlzcGF0Y2hFdmVudChiKSkpfX1ZLnByb3RvdHlwZS5QPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYj90aGlzLmIuYjpudWxsfTtZLnByb3RvdHlwZS5pc0xpdmU9WS5wcm90b3R5cGUuUDtZLnByb3RvdHlwZS5ZYz1mdW5jdGlvbihhKXt0aGlzLiRiPWF9O1kucHJvdG90eXBlLnNldElzTGl2ZUludGVycnVwdGVkPVkucHJvdG90eXBlLlljO1kucHJvdG90eXBlLnZkPWZ1bmN0aW9uKCl7Zm9yKHZhciBhIGluIHRoaXMuYyl0aGlzLmNbYV0uSGMoKX07WS5wcm90b3R5cGUuZm9yY2VSZXN5bmNWaWRlb0J1ZmZlcj1ZLnByb3RvdHlwZS52ZDsKZnVuY3Rpb24gV2UoYSxiKXtmb3IodmFyIGMsZD0hMSxlPW5ldyBELGY9JGEoYS5mKSxnPTA7ZzxmLmxlbmd0aDsrK2cpZm9yKHZhciBoPWZbZ10saz0wO2s8aC52Lmxlbmd0aDsrK2spe3ZhciBsPWgudltrXTtsLmIuZm9yRWFjaChmdW5jdGlvbihhKXtlLnB1c2goYSxsKX0pfWZvcihjIGluIGIpaWYoZj1QYVtiW2NdXXx8bnVsbCxoPWUuZ2V0KGMpKWZvcihnPTA7ZzxoLmxlbmd0aDsrK2cpbD1oW2ddLGs9bC5vYSxsLm9hPSFmLGshPWwub2EmJihkPSEwKTtlbHNlIGliKGMpO2QmJihVZihhKSxkPWEudmEoKSxjPWEuWigpLGQ9YS5mLmEuaGFzT3duUHJvcGVydHkoImF1ZGlvIikmJjA9PWQubGVuZ3RoLGM9YS5mLmEuaGFzT3duUHJvcGVydHkoInZpZGVvIikmJjA9PWMubGVuZ3RoLGR8fGMpJiYoYz1FcnJvcigiVGhlIGtleSBzeXN0ZW0gaGFzIHJlc3RyaWN0ZWQgYWxsICIrKGQmJmM/ImF1ZGlvIGFuZCB2aWRlbyB0cmFja3MuIjpkPyJhdWRpbyB0cmFja3MuIjoidmlkZW8gdHJhY2tzLiIpKSwKYy50eXBlPSJkcm0iLGM9QShjKSxhLmRpc3BhdGNoRXZlbnQoYykpfWZ1bmN0aW9uIFVmKGEpe3ZhciBiPXkoe3R5cGU6InRyYWNrc2NoYW5nZWQiLGJ1YmJsZXM6ITB9KTthLmRpc3BhdGNoRXZlbnQoYil9ZnVuY3Rpb24gbWYoYSxiLGMsZCxlLGYsZyl7Zz0hIWc7aWYoIWEuZi5hLmhhc093blByb3BlcnR5KGIpfHwhYS5jW2JdKXJldHVybiExO2Zvcih2YXIgaD1hLmYuZ2V0KGIpLGs9MDtrPGgubGVuZ3RoOysraylmb3IodmFyIGw9aFtrXSxtPTA7bTxsLnYubGVuZ3RoOysrbSl7dmFyIHA9bC52W21dO2lmKHAuWD09Yyl7aWYoIXAub2F8fCFwLmZhKXJldHVybiExO2lmKCJ0ZXh0IiE9YiYmIWEuQ2EpcmV0dXJuIGM9YS5CW2JdLGEuQltiXT17TGM6cCxyYzpudWxsIT1jJiZjLnJjfHxkLHNjOm51bGwhPWMmJmMuc2N8fGUsc3dpdGNoUmVhc29uOmYsS2E6Z30sITA7YS5jW2JdLmpiKHAsZCxlLGYsZyk7cmV0dXJuITB9fXJldHVybiExfQpmdW5jdGlvbiBUZihhLGIpe2Zvcih2YXIgYz0wOzI+PWM7KytjKWZvcih2YXIgZD0wO2Q8Yi5sZW5ndGg7KytkKXt2YXIgZT1iW2RdO2lmKFJhKGMsYS5TLGUubGFuZykpe2Iuc3BsaWNlKGQsMSk7Yi5zcGxpY2UoMCwwLGUpO3JldHVybn19Zm9yKGQ9MDtkPGIubGVuZ3RoOysrZClpZihlPWJbZF0sZS5mKXtiLnNwbGljZShkLDEpO2Iuc3BsaWNlKDAsMCxlKTticmVha319bj1ZLnByb3RvdHlwZTtuLmhkPWZ1bmN0aW9uKCl7dGhpcy5oLmFiKHRoaXMuaSwic291cmNlb3BlbiIpO3RoaXMuSWIucmVzb2x2ZSgpfTsKZnVuY3Rpb24gRmYoYSl7dmFyIGI7YS5sJiYoYj1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJzdGFydF9zdHJlYW1zIikuc3RhcnQoKSk7Zm9yKHZhciBjPVtdLGQ9WyJhdWRpbyIsInZpZGVvIiwidGV4dCJdLGU9MDtlPGQubGVuZ3RoOysrZSl7dmFyIGY9ZFtlXTthLmYuYS5oYXNPd25Qcm9wZXJ0eShmKSYmYy5wdXNoKGEuZi5nZXQoZilbMF0pfWZvcih2YXIgZz1WZihhLGMpLGU9MDtlPGQubGVuZ3RoOysrZSlpZihmPWRbZV0sYS5mLmEuaGFzT3duUHJvcGVydHkoZikmJiFnW2ZdKXJldHVybiBhPUVycm9yKCJVbmFibGUgdG8gc2VsZWN0IGFuIGluaXRpYWwgIitmKyIgc3RyZWFtOiBhbGwgIitmKyIgc3RyZWFtcyBoYXZlIGJlZW4gcmVzdHJpY3RlZCAoYnkgdGhlIGFwcGxpY2F0aW9uIG9yIGJ5IHRoZSBrZXkgc3lzdGVtKS4iKSxhLnR5cGU9InN0cmVhbSIsYiYmYi5zZXRFcnJvcihhKS5sb2coKSxQcm9taXNlLnJlamVjdChhKTtjPVdhKGcpLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS5NLmNyZWF0ZSgpfSk7CmMucHVzaChhLkliKTtyZXR1cm4gUHJvbWlzZS5hbGwoYykudGhlbihKKGEsZnVuY3Rpb24oYSl7YS5wb3AoKTtpZighYS5ldmVyeShmdW5jdGlvbihhKXtyZXR1cm4gYS5sZW5ndGgoKX0pKXJldHVybiBhPUVycm9yKCJTb21lIHN0cmVhbXMgYXJlIG5vdCBhdmFpbGFibGUuIiksYS50eXBlPSJzdHJlYW0iLFByb21pc2UucmVqZWN0KGEpO2E9TWYodGhpcyxhKTtpZighYSlyZXR1cm4gYT1FcnJvcigiU29tZSBzdHJlYW1zIGFyZSBub3QgYXZhaWxhYmxlLiIpLGEudHlwZT0ic3RyZWFtIixQcm9taXNlLnJlamVjdChhKTtpZighV2YodGhpcyxnKSlyZXR1cm4gYT1FcnJvcigiRmFpbGVkIHRvIGNyZWF0ZSBTdHJlYW0gb2JqZWN0cy4iKSxhLnR5cGU9InN0cmVhbSIsUHJvbWlzZS5yZWplY3QoYSk7dGhpcy5BLnN0YXJ0KCk7WGYodGhpcyxnLGEpO3JldHVybiBQcm9taXNlLnJlc29sdmUoKX0pKS50aGVuKGZ1bmN0aW9uKCl7YiYmYi5sb2coKX0pLmNhdGNoKEooYSxmdW5jdGlvbihhKXtpZigiYWJvcnRlZCI9PQphLnR5cGUpYiYmYi5zZXRFcnJvcihhKS5sb2coKTtlbHNle09iamVjdC5rZXlzKHRoaXMuYyk7aWYodGhpcy5iLmIpcmV0dXJuIHlhKCk8dGhpcy5iLmo/KGE9TWF0aC5tYXgodGhpcy5iLmotRGF0ZS5ub3coKS8xRTMsdGhpcy5LYiksdGhpcy51PXNldFRpbWVvdXQodGhpcy5KYi5iaW5kKHRoaXMsITApLDFFMyphKSk6S2YodGhpcywwKSxiJiZiLmxvZygpLFByb21pc2UucmVzb2x2ZSgpO2ImJmIuc2V0RXJyb3IoYSkubG9nKCk7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfX0pKX0KZnVuY3Rpb24gVmYoYSxiKXtmb3IodmFyIGM9e30sZD0wO2Q8Yi5sZW5ndGg7KytkKXt2YXIgZT1iW2RdLGY9bnVsbDtpZigidmlkZW8iPT1lLmNvbnRlbnRUeXBlKXt2YXIgZz1hLkEuZ2V0SW5pdGlhbFZpZGVvVHJhY2tJZCgpO2lmKG51bGw9PWcpY29udGludWU7Zj1lLnYuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiBhLlg9PWd9KTtpZigwPT1mLmxlbmd0aCljb250aW51ZTtmPWZbMF19ZWxzZSBpZigiYXVkaW8iPT1lLmNvbnRlbnRUeXBlKWlmKGc9YS5BLmdldEluaXRpYWxBdWRpb1RyYWNrSWQoKSxmPWUudi5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIGEuWD09Z30pLDA9PWYubGVuZ3RoKXtmPWUudi5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIGEub2EmJmEuZmF9KTtpZigwPT1mLmxlbmd0aCljb250aW51ZTtmPWUudltNYXRoLmZsb29yKGYubGVuZ3RoLzIpXX1lbHNlIGY9ZlswXTtlbHNlIDA8ZS52Lmxlbmd0aCYmKGY9ZS52WzBdKTtjW2UuY29udGVudFR5cGVdPWZ9cmV0dXJuIGN9CmZ1bmN0aW9uIFdmKGEsYil7dmFyIGM9e30sZDtmb3IoZCBpbiBiKXt2YXIgZT1iW2RdLGU9InRleHQiPT1kP25ldyB0ZShhLGEudmlkZW8pOllmKGEsZSk7aWYoIWUpcmV0dXJuIFdhKGMpLmZvckVhY2goZnVuY3Rpb24oYSl7YS5kZXN0cm95KCl9KSwhMTtjW2RdPWV9YS5QYihhLm5jKTthLmM9YztyZXR1cm4hMH0KZnVuY3Rpb24gWWYoYSxiKXt2YXIgYz1OZChiKSxkPVpmKGMuc3BsaXQoIjsiKVswXSksZT1udWxsLGY9YS5hLmdldEJvb2woInVzZV9sb2NhbF9lc3RpbWF0b3JfZm9yX2Ficl9zYW1wbGluZyIsITApP2Eua2I6YS53YSxnPW51bGwsaD1udWxsLGs9YS5iLmZ8fGEuYi5BLGs9YS5hLmdldEJvb2woInNraXBfc2VnbWVudF9yZXF1ZXN0X21hbmFnZXIiLCExKSYmazthLldiJiZjYW5Vc2VGZXRjaFN0cmVhbSgpPyhoPW5ldyBNdWx0aXBsZVNlZ21lbnRzUHJvdmlkZXIoYS5hLmdldE51bWJlcigic3RyZWFtaW5nX3NlZ21lbnRfc2l6ZSIsNCkpLGc9JGYoYSxoLGQsZikpOmEuVmImJiFrJiYoZT1hZyhhLGQsZikpO3ZhciBrPW51bGwsbD1hLmYuZ2V0KGQpOyJ2aWRlbyI9PT1kJiYwPGwubGVuZ3RoJiYoaz1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz1udWxsLGQ9bnVsbCxlPTA7ZTxsWzBdLnYubGVuZ3RoO2UrKylsWzBdLnZbZV0uaWQ9PT1hP2M9bFswXS52W2VdOmxbMF0udltlXS5pZD09PQpiJiYoZD1sWzBdLnZbZV0pO3JldHVybiBudWxsPT09Y3x8bnVsbD09PWQ/MDpjLmJhbmR3aWR0aD5kLmJhbmR3aWR0aD8xOi0xfSk7Yz1uZXcgVShhLGEudmlkZW8sYS5hLGEuaSxjLGYsYS5wYyxhLmRhLGssYS5HLGUsZyxoLGEuaWEpO2MucGEoYS5nKTtyZXR1cm4gY30KZnVuY3Rpb24gJGYoYSxiLGMsZCl7dmFyIGU9YS53W2NdLGY9ImF1ZGlvIiE9PWN8fGEuYS5nZXRCb29sKCJlbmFibGVfYXVkaW9fc3RyZWFtaW5nIiwhMSk7aWYoIWUmJmYpe3ZhciBlPW5ldyBWaWRlb1N0cmVhbWluZ01hbmFnZXIoYS5hLGIsYyxhLmwsYS5VKSxnPSJ2aWRlbyI9PT1jO2cmJmUuYWRkTGlzdGVuZXIoImJhbmR3aWR0aFVwZGF0ZSIsZnVuY3Rpb24oYSl7ZC5zYW1wbGUoYS50aW1lVGFrZW4sYS5ieXRlc1JlYWQsZyx7dGltZVRvTGFzdEJ5dGU6YS50aW1lVGFrZW59LHRoaXMuQWIsdGhpcy5sLCF0aGlzLmEuZ2V0Qm9vbCgiZXZhbHVhdGVfYWJyX29uX3N0cmVhbV9iYW5kd2lkdGhfc2FtcGxlIiwhMCkpfS5iaW5kKGEpKX1lJiYoYS53W2NdPWUpO3JldHVybiBlfHxudWxsfQpmdW5jdGlvbiBhZyhhLGIsYyl7aWYoInZpZGVvIj09PWJ8fCJhdWRpbyI9PT1iJiZhLmEuZ2V0Qm9vbCgiZW5hYmxlX3JlcXVlc3RfcGlwZWxpbmluZ19mb3Jfdm9kX2F1ZGlvcyIsITEpKXt2YXIgZD1hLm9bYl07ZHx8KGQ9bmV3IFNlZ21lbnRSZXF1ZXN0TWFuYWdlcihhLmEsYixhLlAoKT9WaWRlb1ByaW9yaXR5Q2FsY3VsYXRvci5jYWxjdWxhdGVMaXZlOlZpZGVvUHJpb3JpdHlDYWxjdWxhdG9yLmNhbGN1bGF0ZSxhLmwsYyxhLkFiLGEuZGEsYS5pYSksYS5SJiZkLnVwZGF0ZVByaW9yaXR5V2l0aE5ld0FkanVzdG1lbnQoYS5SLmdldFByaW9yaXR5QWRqdXN0bWVudCgpKSxhLm9bYl09ZCk7cmV0dXJuIGR9cmV0dXJuIG51bGx9ZnVuY3Rpb24gYmcoYSxiKXthLnZpZGVvLmN1cnJlbnRUaW1lPWI7YS5hLmdldEJvb2woInNldF9wZW5kaW5nX3NlZWtfb25fc2V0X2N1cnJlbnRfdGltZV9mYWlsdXJlIiwhMSkmJmEudmlkZW8uY3VycmVudFRpbWUrMTxiJiZjZyhhLGIpO2EuRD1ifQpmdW5jdGlvbiBYZihhLGIsYyl7YS5rYz1hLnZpZGVvLnBsYXliYWNrUmF0ZTthLnZpZGVvLnBsYXliYWNrUmF0ZT0wO2RnKGEsYyk7dmFyIGQ7ZD1hLmIuZjsoIWEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9hZGp1c3Rfc3RyZWFtX2xpbWl0c19zdGFydF9vZmZzZXRfaW50IiwwKSYmIWEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9qdW1wX3RvX2xpdmVfc2lkeF9lbmRfb2Zmc2V0IiwwKXx8IWQpJiZhLmxhJiZhLmxhPD1jLmVuZCYmYS5sYT49Yy5zdGFydD9kPWEubGE6YS5iLmI/KGQ9ZWcoYSxjKSxhLmVjPSEwKTpkPWMuc3RhcnQ7RShhLmgsYS52aWRlbywic2Vla2luZyIsYS5tZC5iaW5kKGEpKTthLkk/KGEuSS5zZXRPblBsYXlpbmcoYS5tYi5iaW5kKGEsITApKSxhLkkuc2V0T25QYXVzZWQoYS5tYi5iaW5kKGEsITEpKSxhLkkuZW5hYmxlKCkpOihFKGEuaCxhLnZpZGVvLCJwbGF5aW5nIixhLm1iLmJpbmQoYSwhMCkpLGEuYS5nZXRCb29sKCJ1cGRhdGVfcHJpb3JpdHlfb25fcGxheV9ldmVudCIsCiEwKSYmRShhLmgsYS52aWRlbywicGxheSIsYS5tYi5iaW5kKGEsITApKSxFKGEuaCxhLnZpZGVvLCJwYXVzZSIsYS5tYi5iaW5kKGEsITEpKSk7RShhLmgsYS52aWRlbywic2Vla2luZyIsYS5NYy5iaW5kKGEpKTtFKGEuaCxhLnZpZGVvLCJ0aW1ldXBkYXRlIix0aHJvdHRsZShhLk1jLmJpbmQoYSksYS5hLmdldE51bWJlcigic2NoZWR1bGVyX3ByaW9yaXR5X3VwZGF0ZV9pbnRlcnZhbCIsMUUzKSkpO2lmKGEudmlkZW8uY3VycmVudFRpbWUhPWQpaWYoYS5TYikwIT09YS52aWRlby5yZWFkeVN0YXRlP2JnKGEsZCk6Y2coYSxkKTtlbHNlIHRyeXtiZyhhLGQpfWNhdGNoKGUpe2NnKGEsZCl9ZmcoYSxjLnN0YXJ0LGMuZW5kLGMubGFzdCxjLlphKTt2YXIgZj1bXSxnO2ZvcihnIGluIGEuYyl7Yz1hLmNbZ107SihhLGZ1bmN0aW9uKGEpe2YucHVzaChhLktjKHRoaXMuc2EpLnRoZW4oSih0aGlzLGZ1bmN0aW9uKGIpe3ZhciBjPWEuc2IoKTtjPnRoaXMuQmImJih0aGlzLkJiPWMpO3JldHVybiBifSkpKX0pKGMpOwpFKGEuaCxjLCJlbmRlZCIsYS5vZC5iaW5kKGEpKTtFKGEuaCxjLCJzaG91bGRfZW5kX2FsbF9zdHJlYW1zIixhLnBkLmJpbmQoYSkpO0UoYS5oLGMsInNob3VsZF9udWRnZSIsYS5qZC5iaW5kKGEpKTtkPWJbZ107dmFyIGg9YS5BLmdldEluaXRpYWxTd2l0Y2hSZWFzb24oKXx8dm9pZCAwO2MuamIoZCwhMSx2b2lkIDAsaCl9UHJvbWlzZS5hbGwoZikudGhlbihKKGEsZnVuY3Rpb24oYSl7dGhpcy5hLmdldEJvb2woInByZXZlbnRfc3RyZWFtX3N0YXJ0X2lmX3N0cmVhbXNfY2hhbmdlIiwhMSkmJiFnZyh0aGlzKXx8aGcodGhpcyxhKX0pKS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7ImRlc3Ryb3kiIT1hLnR5cGUmJihhPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGEpKX0pKTtuZihhLGEueWEpfQpuLm1iPWZ1bmN0aW9uKGEpe09iamVjdC5rZXlzKHRoaXMubykuZm9yRWFjaChmdW5jdGlvbihiKXt0aGlzLm9bYl0udXBkYXRlUHJpb3JpdHlXaXRoTmV3UGxheWluZ1N0YXRlKGEpfS5iaW5kKHRoaXMpKTtPYmplY3Qua2V5cyh0aGlzLncpLmZvckVhY2goZnVuY3Rpb24oYil7dGhpcy53W2JdLmdldFByaW9yaXR5VXBkYXRlcigpLnVwZGF0ZVByaW9yaXR5V2l0aE5ld1BsYXlpbmdTdGF0ZShhKX0uYmluZCh0aGlzKSk7aWYodGhpcy5sKXt2YXIgYj1NZih0aGlzLEhmKHRoaXMpKTtiJiZ0aGlzLnZpZGVvLmN1cnJlbnRUaW1lPGIuc3RhcnQmJkJhbnphaU9EUy5idW1wRW50aXR5S2V5KDI5NjYsInZpZGVvcy53d3cuc2hha2EiLCJjdXJyZW50X3RpbWVfYXRfcGxheWluZ19sZXNzX3RoYW5fc3RyZWFtX2xpbWl0c19zdGFydCIpfWEmJm51bGwhPT10aGlzLmNhJiYodGhpcy54YT0xLFJmKHRoaXMsdGhpcy54YSksaWcodGhpcykpfTsKbi5NYz1mdW5jdGlvbigpe3RoaXMudmlkZW8mJihPYmplY3Qua2V5cyh0aGlzLm8pLmZvckVhY2goZnVuY3Rpb24oYSl7dGhpcy5vW2FdLnVwZGF0ZVByaW9yaXR5V2l0aE5ld1BsYXloZWFkKHRoaXMudmlkZW8uY3VycmVudFRpbWUpfS5iaW5kKHRoaXMpKSxPYmplY3Qua2V5cyh0aGlzLncpLmZvckVhY2goZnVuY3Rpb24oYSl7dGhpcy53W2FdLmdldFByaW9yaXR5VXBkYXRlcigpLnVwZGF0ZVByaW9yaXR5V2l0aE5ld1BsYXloZWFkKHRoaXMudmlkZW8uY3VycmVudFRpbWUpfS5iaW5kKHRoaXMpKSl9O2Z1bmN0aW9uIFFmKGEpe2lmKGEuYS5nZXRCb29sKCJjbGVhcl9jdXJyZW50X3NlZ21lbnRfaW5kZXhlc19kdXJpbmdfbGl2ZWhlYWRfY2F0Y2h1cCIsITEpKWZvcih2YXIgYiBpbiBhLmMpYS5jW2JdLmk9bnVsbH1mdW5jdGlvbiBjZyhhLGIpe2EuYmE9Yjtmb3IodmFyIGMgaW4gYS5jKXt2YXIgZD1hLmNbY107YS5iYSYmKGQuSj1hLmJhKX19CmZ1bmN0aW9uIGdnKGEpe3JldHVybiFPYmplY3Qua2V5cyhhLmMpLnNvbWUoSihhLGZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNbYV0mJiF0aGlzLmNbYV0uaH0pKX0KZnVuY3Rpb24gaGcoYSxiKXtiYShiJiZiLmxlbmd0aD09T2JqZWN0LmtleXMoYS5jKS5sZW5ndGgpO2Zvcih2YXIgYz1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksZD1OdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFksZT0wO2U8Yi5sZW5ndGg7KytlKXZhciBmPWJbZV0sYz1NYXRoLm1pbihjLGYpLGQ9TWF0aC5tYXgoZCxmKTtjPUhmKGEpO2ZvcihlPTA7ZTxjLmxlbmd0aDsrK2UpY1tlXS5UYShkKTthLmEuZ2V0Qm9vbCgicHJvY2Vzc19kZWZlcnJlZF9zd2l0Y2hlc19lYXJseSIsITEpJiZqZyhhKTtrZyhhLGMsZCk7dmFyIGc9V2EoYS5jKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuV2EoKS5pZH0pO2EuYS5nZXRCb29sKCJzZXF1ZW50aWFsbHlfbG9hZF9zdHJlYW1zIiwhMSk/bGcoYSxnLGQpOihlPSRhKGEuZikubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLnZ9KS5yZWR1Y2UoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5jb25jYXQoYil9LFtdKS5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIX5nLmluZGV4T2YoYS5pZCl9KS5tYXAoSihhLApmdW5jdGlvbihhKXt2YXIgYj1bYS5NLnBiP2EuTS5wYigpOmEuTS5jcmVhdGUoKV07YS5hYSYmYi5wdXNoKGEuYWEuY3JlYXRlKHRoaXMubCx0aGlzLmRhKSk7cmV0dXJuIFByb21pc2UuYWxsKGIpfSkpLFByb21pc2UuYWxsKGUpLnRoZW4oSihhLGZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7KytiKWFbYl1bMF0uVGEoZCk7dGhpcy5DYT0hMDtqZyh0aGlzKX0pKS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7ImFib3J0ZWQiIT1hLnR5cGUmJihhPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGEpKX0pKSl9CmZ1bmN0aW9uIGxnKGEsYixjKXt2YXIgZD1Qcm9taXNlLnJlc29sdmUoKTskYShhLmYpLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS52fSkucmVkdWNlKGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuY29uY2F0KGIpfSxbXSkuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiF+Yi5pbmRleE9mKGEuaWQpfSkuZm9yRWFjaChmdW5jdGlvbihhKXtkPWQudGhlbihKKHRoaXMsZnVuY3Rpb24oYil7YiYmYlswXS5UYShjKTtiPVthLk0ucGI/YS5NLnBiKCk6YS5NLmNyZWF0ZSgpXTthLmFhJiZiLnB1c2goYS5hYS5jcmVhdGUodGhpcy5sLHRoaXMuZGEpKTtyZXR1cm4gUHJvbWlzZS5hbGwoYil9KSkuY2F0Y2goZnVuY3Rpb24oYSl7dGhyb3cgYTt9KX0pO2QudGhlbihKKGEsZnVuY3Rpb24oKXt0aGlzLkNhPSEwO2pnKHRoaXMpfSkpLmNhdGNoKEooYSxmdW5jdGlvbihhKXsiYWJvcnRlZCIhPWEudHlwZSYmKGE9QShhKSx0aGlzLmRpc3BhdGNoRXZlbnQoYSkpfSkpfQpmdW5jdGlvbiBqZyhhKXtmb3IodmFyIGIgaW4gYS5CKXt2YXIgYz1hLkJbYl07YS5jW2JdLmpiKGMuTGMsYy5yYyxjLnNjLGMuc3dpdGNoUmVhc29uLGMuS2EpfWEuQj17fX0KZnVuY3Rpb24ga2coYSxiLGMpe3ZhciBkO2EuYS5nZXRCb29sKCJ3d3dfdmlkZW9zX2V4dGVuZGVkX3NwbF9sb2dnaW5nX2Zvcl9jb25uZWN0ZWRfdHYiLCExKSYmYS5sJiYoZD1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJzdHJlYW1fdmlkZW9fc291cmNlX2JlZ2luX3BsYXliYWNrIikpO2lmKGI9TWYoYSxiKSlkZyhhLGIpLGZnKGEsYi5zdGFydCxiLmVuZCxiLmxhc3QsYi5aYSk7MCE9Yz8oYz1hLnZpZGVvLmN1cnJlbnRUaW1lK2MsYS5hLmdldE51bWJlcigid3d3X3ZpZGVvc19udWRnZV90aW1lc3RhbXBfY29ycmVjdGlvbl9zIiwwKSYmKGMrPWEuYS5nZXROdW1iZXIoInd3d192aWRlb3NfbnVkZ2VfdGltZXN0YW1wX2NvcnJlY3Rpb25fcyIsMCkpLGEudmlkZW8uY3VycmVudFRpbWU9YyxhLkQ9Yyk6YS5lYyYmYiYmKGM9ZWcoYSxiKSxNYXRoLmFicyhjLWEudmlkZW8uY3VycmVudFRpbWUpPj1hLmRjJiYoYS52aWRlby5jdXJyZW50VGltZT1jKSk7YS5hLmdldEJvb2woInVuaWZ5X3N0cmVhbV9zdGFydF93aXRoX2J1ZmZlcl9kZXRlY3RvciIsCiExKT8oYz15KHt0eXBlOiJhbGxTdHJlYW1zU3RhcnRlZCIsYnViYmxlczohMH0pLGEuZGlzcGF0Y2hFdmVudChjKSk6YS52aWRlby5wbGF5YmFja1JhdGU9YS5rYzthLmIuYiYmbnVsbCE9YS5iLmMmJktmKGEsMCk7bWcoYSk7YS5zYS5yZXNvbHZlKCk7ZCYmZC5sb2coKX0KZnVuY3Rpb24gZWcoYSxiKXt2YXIgYz1iLmVuZDt2b2lkIDAhPT1iLkJjJiYoYz1iLkJjKTtpZihhLmEuZ2V0Qm9vbCgidGVtcGxhdGVkX2Fsd2F5c19qdW1wX3RvX3N0cmVhbV9saW1pdHNfZW5kIiwhMSkmJmEuYiYmYS5iLmYpcmV0dXJuIGIuZW5kO2lmKGEuY2Mpe3ZhciBkPWEudmlkZW8uY3VycmVudFRpbWUsZT1iLnN0YXJ0O2lmKGEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9hZGp1c3Rfc3RyZWFtX2xpbWl0c19zdGFydF9vZmZzZXRfaW50IiwwKSYmYS5iJiZhLmIuZil7Zm9yKHZhciBmPUhmKGEpLGc9MCxoPTA7aDxmLmxlbmd0aDsrK2gpe3ZhciBrPWZbaF0sbD1NYXRoLm1pbihhLmEuZ2V0TnVtYmVyKCJ0ZW1wbGF0ZWRfYWRqdXN0X3N0cmVhbV9saW1pdHNfc3RhcnRfb2Zmc2V0X2ludCIsMCksay5sZW5ndGgoKSk7ay5sZW5ndGgoKSYmMDxsJiZsPD1rLmxlbmd0aCgpJiYoZz1NYXRoLm1heChrLmdldChrLmxlbmd0aCgpLWwpLnN0YXJ0VGltZSxnKSl9ZT1NYXRoLm1heChlLApnKX1pZihkPj1lJiZkPD1iLmVuZCYmZDxjKWlmKGEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9qdW1wX3RvX2xpdmVfc2lkeF9lbmRfb2Zmc2V0IiwwKSYmYS5iJiZhLmIuZil7Zj1IZihhKTtrPW51bGw7ZT1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7Zm9yKGg9MDtoPGYubGVuZ3RoOysraClmW2hdLmxlbmd0aCgpPGUmJihlPWZbaF0ubGVuZ3RoKCksaz1mW2hdKTtrJiZlPmEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9qdW1wX3RvX2xpdmVfc2lkeF9lbmRfb2Zmc2V0IiwwKSYmKGY9ay5nZXQoay5sZW5ndGgoKS1hLmEuZ2V0TnVtYmVyKCJ0ZW1wbGF0ZWRfanVtcF90b19saXZlX3NpZHhfZW5kX29mZnNldCIsMCkpLnN0YXJ0VGltZSxkPj1mJiYoYz1kKSl9ZWxzZSBjPWR9cmV0dXJuIGN9CmZ1bmN0aW9uIGRnKGEsYil7aWYoYS5iLmIpaXNOYU4oYS5pLmR1cmF0aW9uKSYmKGEuaS5kdXJhdGlvbj1iLmVuZCsyNTkyRTMpO2Vsc2UgaWYoaXNOYU4oYS5pLmR1cmF0aW9uKXx8Yi5lbmQ+YS5pLmR1cmF0aW9uKWlmKGEuaS5kdXJhdGlvbj1iLmVuZCwhYS5hLmdldEJvb2woImRpc2FibGVfYXBwZW5kX3dpbmRvd19lbmQiLCExKSlmb3IodmFyIGM9YS5hLmdldE51bWJlcigiYXBwZW5kX3dpbmRvd19lbmRfZnVkZ2VfZmFjdG9yIiwwKSxkPTA7ZDxhLmkuc291cmNlQnVmZmVycy5sZW5ndGg7KytkKWEuaS5zb3VyY2VCdWZmZXJzW2RdLmFwcGVuZFdpbmRvd0VuZD1iLmVuZCtjfQpuLnJkPWZ1bmN0aW9uKCl7dGhpcy5rYT1udWxsO21nKHRoaXMpO3ZhciBhPU1mKHRoaXMsSGYodGhpcykpO2lmKGEpe3ZhciBiPXRoaXMuYi5iO3RoaXMuYS5nZXRCb29sKCJ0cmVhdF9saXZlX3N0YXRpY19tYW5pZmVzdF9hc19keW5hbWljIiwhMSkmJihiPWJ8fHRoaXMuYi5oKTtiJiZ0aGlzLmphIT1hLmxhc3QmJih0aGlzLmphPWEubGFzdCxudWxsIT10aGlzLmomJihjbGVhclRpbWVvdXQodGhpcy5qKSx0aGlzLmo9bnVsbCkpO2ZnKHRoaXMsYS5zdGFydCxhLmVuZCxhLmxhc3QsYS5aYSk7dGhpcy52aWRlby5wYXVzZWR8fG5nKHRoaXMsdGhpcy52aWRlby5jdXJyZW50VGltZSxhLnN0YXJ0LGEuZW5kKX19O2Z1bmN0aW9uIGZnKGEsYixjLGQsZSl7Yj15KHt0eXBlOiJzZWVrcmFuZ2VjaGFuZ2VkIixidWJibGVzOiEwLHN0YXJ0OmIsZW5kOmMsbGFzdDpkLHNlZWtSYW5nZUdhcHM6ZX0pO2EuZGlzcGF0Y2hFdmVudChiKX0Kbi5tZD1mdW5jdGlvbigpe3ZhciBhPXRoaXMudmlkZW8uY3VycmVudFRpbWUsYj1NZih0aGlzLEhmKHRoaXMpKTt0aGlzLmwmJmImJmE8Yi5zdGFydCYmQmFuemFpT0RTLmJ1bXBFbnRpdHlLZXkoMjk2NiwidmlkZW9zLnd3dy5zaGFrYSIsImN1cnJlbnRfdGltZV9hdF9zZWVrX2xlc3NfdGhhbl9zdHJlYW1fbGltaXRzX3N0YXJ0Iik7aWYobnVsbCE9dGhpcy5EKXtpZihhPj10aGlzLkQtLjAxJiZhPD10aGlzLkQrLjAxKXt0aGlzLkQ9bnVsbDt0aGlzLmwmJmImJmE8Yi5zdGFydCYmQmFuemFpT0RTLmJ1bXBFbnRpdHlLZXkoMjk2NiwidmlkZW9zLnd3dy5zaGFrYSIsImlnbm9yZWRfc2Vla193aGVuX2N1cnJlbnRfdGltZV9hdF9zZWVrX2xlc3NfdGhhbl9zdHJlYW1fbGltaXRzX3N0YXJ0Iik7cmV0dXJufXRoaXMuRD1udWxsfWlmKGIpe3ZhciBjPWIuc3RhcnQsZD1iLmVuZDt0aGlzLmEuZ2V0Qm9vbCgic2tpcF9yZW1haW5pbmdfYnVmZmVyZWRfb25fc3RyZWFtX2VuZCIsITEpJiZ0aGlzLmIuYiYmCnRoaXMuYi5oJiZ0aGlzLnZpZGVvLnBhdXNlZCYmKGQ9dGhpcy5qYSk7KGM9bmcodGhpcyxhLGMsZCkpfHwoYTw9ZCsuMDF8fHRoaXMuYi5iJiYhb2codGhpcyxkKT9jPSExOih0aGlzLnZpZGVvLmN1cnJlbnRUaW1lPWQsYz0hMCkpO2lmKGMpdGhpcy5sJiZhPGIuc3RhcnQmJkJhbnphaU9EUy5idW1wRW50aXR5S2V5KDI5NjYsInZpZGVvcy53d3cuc2hha2EiLCJjbGFtcF9wbGF5aGVhZF93aGVuX2N1cnJlbnRfdGltZV9hdF9zZWVrX2xlc3NfdGhhbl9zdHJlYW1fbGltaXRzX3N0YXJ0Iik7ZWxzZXtmb3IodmFyIGUgaW4gdGhpcy5jKXRoaXMuY1tlXS5DYyh0aGlzLkVhKTt0aGlzLkVhPSExfX19O2Z1bmN0aW9uIG5nKGEsYixjLGQpe2lmKGI+PWMtLjAxKXJldHVybiExO2I9MDthLmIuYiYmKGI9LjUsb2coYSxjK2IpfHwoYj1hLmIuZykpO2EudmlkZW8uY3VycmVudFRpbWU9TWF0aC5taW4oYytiLGQpO3JldHVybiEwfQpmdW5jdGlvbiBvZyhhLGIpe2Zvcih2YXIgYyBpbiBhLmMpaWYoIWEuY1tjXS5JYyhiKSlyZXR1cm4hMTtyZXR1cm4hMH1uLm9kPWZ1bmN0aW9uKCl7aWYoIXRoaXMuYi5ifHx0aGlzLkZhKXtmb3IodmFyIGEgaW4gdGhpcy5jKWlmKCF0aGlzLmNbYV0uZmIoKSlyZXR1cm47dGhpcy5lYigpfX07bi5wZD1mdW5jdGlvbigpe2NsZWFyVGltZW91dCh0aGlzLnUpO3RoaXMuRmE9ITA7Zm9yKHZhciBhIGluIHRoaXMuYyl0aGlzLmNbYV0uZmIoKXx8dGhpcy5jW2FdLkNiKCl9O24uamQ9ZnVuY3Rpb24oKXt0aGlzLmEuZ2V0Qm9vbCgiaWdub3JlX3NlZWtfd2hlbl9udWRnaW5nIiwhMCkmJih0aGlzLkQ9dGhpcy52aWRlby5jdXJyZW50VGltZSk7dGhpcy52aWRlby5jdXJyZW50VGltZSs9LjAwMX07Cm4udGI9ZnVuY3Rpb24oKXtpZih0aGlzLmFjKCl8fHRoaXMuYmMoKSlyZXR1cm4hMDt2YXIgYT10aGlzLmIsYj1udWxsLGM9bnVsbDthJiZhLmEmJmEuYVswXSYmKGI9YS5hWzBdKTtiJiZiLmEmJmIuYVswXSYmKGM9Yi5hWzBdKTtyZXR1cm4hIWMmJmMuYn07WS5wcm90b3R5cGUuaGFzSW5saW5lZENlYTYwOFN1YnRpdGxlcz1ZLnByb3RvdHlwZS50YjtZLnByb3RvdHlwZS5QYj1mdW5jdGlvbihhKXt0aGlzLm5jPWE7dmFyIGI9dGhpcy5jOyJ2aWRlbyJpbiBiJiYoYT1hJiZ0aGlzLnRiKCksYi52aWRlby5jLlM9YSl9O1kucHJvdG90eXBlLnNldEVuYWJsZUNlYTYwOFBhcnNpbmc9WS5wcm90b3R5cGUuUGI7CmZ1bmN0aW9uIHNmKGEpe3ZhciBiPWEuYS5nZXROdW1iZXIoImxpdmVfYnVmZmVyaW5nX3VuZGVyZmxvd190aHJlc2hvbGQiLC41KSxjPWEuYS5nZXRCb29sKCJmaXhfbGl2ZV9zdHJlYW1fZ29uZV9vbl9tYW5pZmVzdF91cGRhdGUiLCEwKSYmYS5oYyxkPSExO2lmKGEuYi5oKXt2YXIgZD1hLmEuZ2V0TnVtYmVyKCJsaXZlX3N0cmVhbV9lbmRfc2xhY2siLDApLGU7Zm9yKGUgaW4gYS5jKWEuY1tlXS5mYigpfHwoZD0wKTtkPWEudmlkZW8uY3VycmVudFRpbWUrYitkPmEuamF9cmV0dXJuIGN8fGR9bj1ZLnByb3RvdHlwZTsKbi5jZD1mdW5jdGlvbigpe3RoaXMuJD0hMDtpZih0aGlzLmImJnRoaXMuYi5iKXtpZihzZih0aGlzKSlyZXR1cm4gdGhpcy5lYigpO3RoaXMuYS5nZXRCb29sKCJhbGxvd19pbmZpbml0ZV9yZXRyeV9vbl9uZXRfZXJyIiwhMCkmJnRoaXMuRy5pc05ldHdvcmtJbnRlcnJ1cHRlZCgpfHwhV2EodGhpcy5jKS5ldmVyeShmdW5jdGlvbihhKXtyZXR1cm4gYS5mYigpfSl8fHBnKHRoaXMsdGhpcy5nYil9dGhpcy5hLmdldEJvb2woImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvdyIsITEpJiYobnVsbD09PXRoaXMuS3x8RGF0ZS5ub3coKS10aGlzLmZjPnRoaXMuYS5nZXROdW1iZXIoImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvd190aW1lX3dpbmRvdyIsMkUzKT90aGlzLks9dGhpcy5hLmdldE51bWJlcigiYnVmZmVyaW5nX292ZXJmbG93X3RocmVzaG9sZCIsMCk6dGhpcy5LKj10aGlzLmEuZ2V0TnVtYmVyKCJiYWNrX29mZl9idWZmZXJpbmdfb3ZlcmZsb3dfdGltZV9mYWN0b3IiLDIpLAp0aGlzLks9TWF0aC5taW4odGhpcy5LLHRoaXMuYS5nZXROdW1iZXIoImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvd19tYXgiLDUpKSl9O2Z1bmN0aW9uIHBnKGEsYil7YS5qPXNldFRpbWVvdXQoYS5lYi5iaW5kKGEpLGIpfW4uYmQ9ZnVuY3Rpb24oKXt0aGlzLiQ9ITE7dGhpcy5hLmdldEJvb2woImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvdyIsITEpJiYodGhpcy5mYz1EYXRlLm5vdygpKTtudWxsIT10aGlzLmomJihjbGVhclRpbWVvdXQodGhpcy5qKSx0aGlzLmo9bnVsbCl9O24uZ2Q9ZnVuY3Rpb24oKXtudWxsIT09dGhpcy5iYSYmKGJnKHRoaXMsdGhpcy5iYSksY2codGhpcyxudWxsKSl9O24uR2Q9ZnVuY3Rpb24oKXt9OwpuLmViPWZ1bmN0aW9uKCl7dGhpcy4kPSExO3RoaXMuaj1udWxsO3ZhciBhO2lmKGE9dGhpcy5hLmdldEJvb2woInRlc3Rfc291cmNlX2J1ZmZlcnNfbm90X3VwZGF0aW5nX2VuZF9vZl9zdHJlYW0iLCExKSlhOntmb3IoYT0wO2E8dGhpcy5pLnNvdXJjZUJ1ZmZlcnMubGVuZ3RoOysrYSlpZih0aGlzLmkuc291cmNlQnVmZmVyc1thXS51cGRhdGluZyl7YT0hMDticmVhayBhfWE9ITF9aWYoYSlyZXR1cm4gcGcodGhpcywxRTMpOyJvcGVuIj09dGhpcy5pLnJlYWR5U3RhdGUmJnRoaXMuaS5lbmRPZlN0cmVhbSgpfTtmdW5jdGlvbiBIZihhKXtyZXR1cm4gV2EoYS5jKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuRmIoKX0pLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YX0pfWZ1bmN0aW9uIExmKGEpe3JldHVybiBNYXRoLm1heChhLmI/YS5iLmc6MSxhLlpiP2EuZy5zdHJlYW1CdWZmZXJTaXplfHwwOjApfQpmdW5jdGlvbiBNZihhLGIpe2Zvcih2YXIgYz0wLGQ9TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLGU9TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLGY9W10sZz0hVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJub19zZWVrX3JhbmdlX2dhcHNfZHVyaW5nX2NvbXB1dGVfc3RyZWFtX2xpbWl0cyIsITEpLGg9MDtoPGIubGVuZ3RoOysraCl7dmFyIGs9YltoXS5BKCk7ZyYmKGY9Zi5jb25jYXQoYltoXS5nZXRTZWVrUmFuZ2VHYXBzKCkpKTtjPU1hdGgubWF4KGMsay5zdGFydCk7bnVsbCE9ay5lbmQmJihkPU1hdGgubWluKGQsay5lbmQpKTtiW2hdLmxlbmd0aCgpJiYoZT1NYXRoLm1pbihlLGJbaF0ubGFzdCgpLmVuZFRpbWUpKX1nJiYoZj1tZXJnZVNlZWtSYW5nZUdhcHMoZikpO2lmKGQ9PU51bWJlci5QT1NJVElWRV9JTkZJTklUWSlpZihkPWEuYi5hWzBdLGQuZHVyYXRpb24pZD0oZC5zdGFydHx8MCkrZC5kdXJhdGlvbjtlbHNlIHJldHVybiBudWxsO2lmKGEuYi5iKXt2YXIgZz0KTGYoYSksZD1NYXRoLm1heChkLWcsYyksbDthLnJhJiZhLmEuZ2V0Qm9vbCgibGl2ZV9qdW1wX3RvX3B1c2hlZF9zZWdtZW50IiwhMSkmJmIubGVuZ3RoJiYoaD1NYXRoLmZsb29yKExmKGEpLzEpKzEsZz1iWzBdLGg9Zy5sZW5ndGgoKS1oLChnPWcuZ2V0KGgpKSYmKGw9Zy5zdGFydFRpbWUpKX1pZihjPmQpcmV0dXJuIG51bGw7ZD1NYXRoLmZsb29yKDFFNSpkKS8xRTU7cmV0dXJue3N0YXJ0OmMsZW5kOmQsbGFzdDplLFphOmYsQmM6bH19bi5uYj1mdW5jdGlvbigpe3JldHVybiBNZih0aGlzLEhmKHRoaXMpKX07WS5wcm90b3R5cGUuY29tcHV0ZVN0cmVhbUxpbWl0cz1ZLnByb3RvdHlwZS5uYjtmdW5jdGlvbiBtZyhhKXthLmIuYiYmKGEua2E9c2V0VGltZW91dChhLnJkLmJpbmQoYSksMUUzKSl9ZnVuY3Rpb24gRGYoYSl7Zm9yKHZhciBiIGluIGEuYylhLmNbYl0ucGEoYS5nKX1ZLnByb3RvdHlwZS5zYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLkJifTsKWS5wcm90b3R5cGUuZ2V0TG9uZ2VzdEluaXRSZXNwb25zZVRpbWU9WS5wcm90b3R5cGUuc2I7ZnVuY3Rpb24gWmYoYSl7cmV0dXJuInYiPT09YS5jaGFyQXQoMCk/InZpZGVvIjoiYSI9PT1hLmNoYXJBdCgwKT8iYXVkaW8iOm51bGx9WS5wcm90b3R5cGUuVGM9ZnVuY3Rpb24oKXt2YXIgYT15KHt0eXBlOiJuZXR3b3JraW50ZXJydXB0ZWQiLGJ1YmJsZXM6ITB9KTt0aGlzLmRpc3BhdGNoRXZlbnQoYSk7dGhpcy5UPXRoaXMuVHx8RGF0ZS5ub3coKTt0aGlzLiQmJnRoaXMuaiYmY2xlYXJUaW1lb3V0KHRoaXMuail9OwpZLnByb3RvdHlwZS5VYz1mdW5jdGlvbigpe3ZhciBhPXkoe3R5cGU6Im5ldHdvcmtyZXN1bWVkIixidWJibGVzOiEwfSk7dGhpcy5kaXNwYXRjaEV2ZW50KGEpO2E9dGhpcy5hLmdldE51bWJlcigibWF4X25ldHdvcmtfaW50ZXJydXB0ZWRfdGltZV9iZWZvcmVfc2VlayIsMUU0KTtudWxsIT09dGhpcy5UJiZEYXRlLm5vdygpLXRoaXMuVD49YSYmKHRoaXMuVD1udWxsLHRoaXMuZWE9ITApO3RoaXMuYS5nZXRCb29sKCJmaXhfbmV0d29ya19pbnRlcnJ1cHRlZF9zdGFydF9ub3RfbnVsbGVkIiwhMSkmJih0aGlzLlQ9bnVsbCk7dGhpcy4kJiZwZyh0aGlzLHRoaXMuZ2IpfTtZLnByb3RvdHlwZS5WYz1mdW5jdGlvbigpe3RoaXMuZWE9ITB9O2Z1bmN0aW9uIFBmKGEpe2EuYS5nZXRCb29sKCJkZWNvdXBsZV9tcGRfdXBkYXRlX2xvb3BfZnJvbV9yZXF1ZXN0X2xvb3AiLCExKXx8S2YoYSwwKX1ZLnByb3RvdHlwZS5xYz1mdW5jdGlvbihhKXt0aGlzLm5hPWF9OwpZLnByb3RvdHlwZS5zZXRFbmFibGVMaXZlaGVhZENhdGNodXA9WS5wcm90b3R5cGUucWM7WS5wcm90b3R5cGUuemQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uYX07WS5wcm90b3R5cGUuaXNMaXZlaGVhZENhdGNodXBFbmFibGVkPVkucHJvdG90eXBlLnpkO1kucHJvdG90eXBlLlNjPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYy52aWRlbz90aGlzLmMudmlkZW8uYy5pOm51bGx9O1kucHJvdG90eXBlLmdldFZpZGVvU3RyZWFtUHJvZ3Jlc3NUcmFja2VyPVkucHJvdG90eXBlLlNjO1kucHJvdG90eXBlLnFiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYy52aWRlbz90aGlzLmMudmlkZW8ucWIoKTpudWxsfTtZLnByb3RvdHlwZS5nZXRCdWZmZXJWZWxvY2l0eT1ZLnByb3RvdHlwZS5xYjtmdW5jdGlvbiBSZihhLGIpe2Zvcih2YXIgYyBpbiBhLmMpYS5jW2NdLm5hPWJ9CmZ1bmN0aW9uIGlnKGEpe3ZhciBiPVtdO2lmKG51bGwhPT1hLmNhKXt2YXIgYz1hLmNhLGQ7Zm9yKGQgaW4gYS5jKWIucHVzaChyZShhLmNbZF0sYS5jYSkpO1Byb21pc2UuYWxsKGIpLnRoZW4oSihhLGZ1bmN0aW9uKCl7aWYoYyl7Zm9yKHZhciBhIGluIHRoaXMuYyl7dmFyIGI9dGhpcy5jW2FdO2IuSz1udWxsO2IuVj0hMTtiLkk9bnVsbH1jPnRoaXMudmlkZW8uY3VycmVudFRpbWUmJih0aGlzLnZpZGVvLmN1cnJlbnRUaW1lPWMpfX0pKX1hLmNhPW51bGx9O2Z1bmN0aW9uIFooYSxiLGMsZCxlLGYsZyl7ZHx8KGQ9bmV3IEcpO2V8fChlPW5ldyBYKTtZLmNhbGwodGhpcyxudWxsLGIsZCxlKTsic3RyaW5nIj09PXR5cGVvZiBhP3RoaXMuamM9YTp0aGlzLk5iPWE7dGhpcy5hPWI7dGhpcy5GPW51bGw7dGhpcy50YT1jO3RoaXMuRGE9W107dGhpcy5RYj1bXTt0aGlzLlJiPVtdO3RoaXMuSGE9MDt0aGlzLlk9bnVsbDt0aGlzLk1iPWd8fG51bGx9cihaLFkpO3EoInNoYWthLnBsYXllci5EYXNoVmlkZW9Tb3VyY2UiLFopO1oucHJvdG90eXBlLkpkPWZ1bmN0aW9uKGEpe3RoaXMuRj1hO3RoaXMuSmIoITAsITApfTtaLnByb3RvdHlwZS51cGRhdGVNYW5pZmVzdD1aLnByb3RvdHlwZS5KZDtaLnByb3RvdHlwZS5PYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLk5ifHx0aGlzLkZ9O1oucHJvdG90eXBlLmdldE1hbmlmZXN0PVoucHJvdG90eXBlLk9iO1oucHJvdG90eXBlLlRiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuT2IoKX07CloucHJvdG90eXBlLmRlYnVnR2V0TWFuaWZlc3Q9Wi5wcm90b3R5cGUuVGI7Wi5wcm90b3R5cGUuWmM9ZnVuY3Rpb24oYSxiLGMpe3RoaXMuRGEucHVzaChhKTt0aGlzLlFiLnB1c2goYnx8IiIpO3RoaXMuUmIucHVzaChjfHwiIil9O1oucHJvdG90eXBlLmFkZEV4dGVybmFsQ2FwdGlvbnM9Wi5wcm90b3R5cGUuWmM7Wi5wcm90b3R5cGUudGQ9ZnVuY3Rpb24oYSl7dGhpcy5ZPWF9O1oucHJvdG90eXBlLnNldE5ldHdvcmtDYWxsYmFjaz1aLnByb3RvdHlwZS50ZDtaLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5GPXRoaXMuWT10aGlzLnRhPW51bGw7WS5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpfTsKWi5wcm90b3R5cGUud2I9ZnVuY3Rpb24oKXt2YXIgYTt0aGlzLmwmJihhPXRoaXMubC5nZXRPcGVyYXRpb25Mb2dnZXIoInNvdXJjZV9sb2FkIikuc3RhcnQoKSk7dmFyIGIsYz1KKHRoaXMsZnVuY3Rpb24oYSl7aWYodGhpcy5hLmdldEJvb2woImVuYWJsZV9kb3VibGVfaW5nZXN0X29uX2luaXRpYWxfbXBkIiwhMSkpc3dpdGNoKGEuc3RhdHVzKXtjYXNlIDIwMDpjYXNlIDQxNzppZihhLnJlc3BvbnNlSGVhZGVycyYmbnVsbCE9YS5yZXNwb25zZUhlYWRlcnNbIngtZmItdmlkZW8tcmVwbGljYSJdKXJldHVybiB0aGlzLmRpc3BhdGNoRXZlbnQoeSh7dHlwZToicmVwbGljYXN3aXRjaCIsYnViYmxlczohMCxyZXBsaWNhOmEucmVzcG9uc2VIZWFkZXJzWyJ4LWZiLXZpZGVvLXJlcGxpY2EiXX0pKSxuZXcgUHJvbWlzZShmdW5jdGlvbigpe30pfXRocm93IGE7fSksZD1KKHRoaXMsZnVuY3Rpb24oYyl7dGhpcy5MYSgiTVBERmV0Y2hEdXJhdGlvbiIsKERhdGUubm93KCktYikvMUUzKTt0aGlzLkY9CmM7Zm9yKHZhciBkPTA7ZDx0aGlzLkRhLmxlbmd0aDtkKyspTGMoYyx0aGlzLkRhW2RdLHRoaXMuUWJbZF0sdGhpcy5SYltkXSk7dmFyIGQ9bmV3IHllKHRoaXMuYSx0aGlzLnRhLHRoaXMubCx0aGlzLk1iKSxlO3RoaXMubCYmKGU9dGhpcy5sLmdldE9wZXJhdGlvbkxvZ2dlcigicHJvY2Vzc19tYW5pZmVzdCIpLnN0YXJ0KCkpO3RoaXMuYj16ZShkLGMsdGhpcy5ZKTtlJiZlLmxvZygpO2EmJmEuc2V0TWFuaWZlc3RUeXBlKHRoaXMuYi5iPyJkeW5hbWljIjoic3RhdGljIik7cmV0dXJuIFkucHJvdG90eXBlLndiLmNhbGwodGhpcykudGhlbihmdW5jdGlvbigpe2EmJmEubG9nKCl9KX0pO2lmKHRoaXMuTmIpcmV0dXJuIGI9RGF0ZS5ub3coKSxkKHRoaXMuTmIpO3ZhciBlPVtuZXcgTCh0aGlzLmpjKV0sZjtpZih0aGlzLnJhKXt2YXIgZz1uZXcgVmlkZW9QdXNoUGFyYW1ldGVyc0hlbHBlcih0aGlzLmpjKTtnLnNldFN0cmVhbUVuZE9mZnNldChNYXRoLmZsb29yKExmKHRoaXMpLzEpKTsKdGhpcy5PYSYmZy5zZXRQdXNoVmlkZW9SZXByZXNlbnRhdGlvbklEKHRoaXMuT2EpO3RoaXMucGEmJmcuc2V0UHVzaEF1ZGlvUmVwcmVzZW50YXRpb25JRCh0aGlzLnBhKTt0aGlzLm1hJiZnLnNldFVzZUxvbmdDYWNoZUZvck1hbmlmZXN0KHRoaXMubWEpO2Y9bmV3IGZkKG51bGwpO2YuYT1nfWU9bmV3IEsodGhpcy5ZLGUsdm9pZCAwLHZvaWQgMCx2b2lkIDAsdGhpcy5NYik7Zj1uZXcgZGQoZSx0aGlzLkxiLGYsdGhpcy5kYSk7Yj1EYXRlLm5vdygpO3JldHVybiBlZChmLHRoaXMubCkudGhlbihkLGMpfTsKWi5wcm90b3R5cGUudmM9ZnVuY3Rpb24oKXtpZih0aGlzLlViKXt2YXIgYT10aGlzLmI7aWYoYT0oYT1hJiZhLmEpJiZhWzBdKXt2YXIgYT1hLmEucmVkdWNlKGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuY29uY2F0KGIudil9LFtdKSxiPWZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hfTtQcm9taXNlLmFsbChhLm1hcChmdW5jdGlvbihhKXthPWEuTTtyZXR1cm4gYS5RYz9hLlJhOmEuY3JlYXRlKCl9KSkudGhlbihmdW5jdGlvbihhKXthPWEuZmlsdGVyKGIpO3RoaXMuTGEoIkluaXRpYWxTZWdtZW50SW5kZXhlcyIsYSl9LmJpbmQodGhpcykpO1Byb21pc2UuYWxsKGEubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLmFhfSkpLnRoZW4oZnVuY3Rpb24oYSl7YT1hLmZpbHRlcihiKTt0aGlzLkxhKCJTZWdtZW50SW5pdFNvdXJjZXMiLGEpfS5iaW5kKHRoaXMpKX19fTsKWi5wcm90b3R5cGUueWM9ZnVuY3Rpb24oYSxiLGMpe2lmKHRoaXMudmlkZW8ucGF1c2VkJiZ0aGlzLkhhKzFFND5EYXRlLm5vdygpJiZ0aGlzLmIpcmV0dXJuIFByb21pc2UucmVqZWN0KHt0eXBlOiJkZWxheSJ9KTt2YXIgZDtpZihiJiZ2b2lkIDAhPWMpZD1uZXcgZmQoYiksZC5mPWMsYj1TZih0aGlzKSxudWxsIT1iJiYoZC5jPWIuc3RyZWFtSW5mb0lELGQuYj10aGlzLnBhKTtlbHNlIGZvcihiPWEuYyxjPTA7YzxiLmxlbmd0aDtjKyspe3ZhciBlPW5ldyBWaWRlb1B1c2hQYXJhbWV0ZXJzSGVscGVyKGJbY10udG9TdHJpbmcoKSk7dGhpcy5tYSYmZS5zZXRVc2VMb25nQ2FjaGVGb3JNYW5pZmVzdCh0aGlzLm1hKTtiW2NdPW5ldyBMKGUuZ2V0VVJMKCkpfWE9bmV3IGRkKGEsdGhpcy5MYixkLHRoaXMuZGEpO3ZhciBmPURhdGUubm93KCk7cmV0dXJuIGVkKGEsdGhpcy5sKS50aGVuKEoodGhpcyxmdW5jdGlvbihhKXt0aGlzLkhhPURhdGUubm93KCk7dGhpcy5MYSgiTVBERmV0Y2hEdXJhdGlvbiIsCih0aGlzLkhhLWYpLzFFMyk7dGhpcy5hLmdldEJvb2woInRyZWF0X2xpdmVfc3RhdGljX21hbmlmZXN0X2FzX2R5bmFtaWMiLCExKSYmKGEubWFuaWZlc3RJc0xpdmVTdHJlYW1pbmc9ImR5bmFtaWMiPT09KHRoaXMuRj90aGlzLkYudHlwZTphLnR5cGUpKTt0aGlzLkY9YTt2YXIgYj1uZXcgeWUodGhpcy5hLHRoaXMudGEsdGhpcy5sLHRoaXMuTWIpO2lmKHRoaXMubCl2YXIgYz10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJwcm9jZXNzX21hbmlmZXN0Iikuc3RhcnQoKTthPXplKGIsYSx0aGlzLlkpO2MmJmMubG9nKCk7cmV0dXJuIFByb21pc2UucmVzb2x2ZShhKX0pKX07Wi5wcm90b3R5cGUueGM9ZnVuY3Rpb24oKXt2YXIgYT16ZShuZXcgeWUodGhpcy5hLHRoaXMudGEpLHRoaXMuRix0aGlzLlkpO3JldHVybiBQcm9taXNlLnJlc29sdmUoYSl9O30uYmluZChnLCBnbG9iYWwpKSgpOwoKbW9kdWxlLmV4cG9ydHMgPSBnLnNoYWthOwoKCi8qICAqL30pLG51bGwpOwovLyMgc291cmNlVVJMPWZiOGIxNmM4YjU3NjdkNTE4ODYwZGFiMjgzMGM1MGYyLmpzCg==, line 416: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript error: https://www.facebook.com/rsrc.php/v3/yz/r/XpFFWCF_B8_.js?_nc_x=F-xmOkya9-Y, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
1578566658191	mozrunner::runner	INFO	Running command: "/usr/bin/firefox" "-marionette" "-foreground" "-no-remote" "-profile" "/tmp/rust_mozprofilelTSzBc"
1578566659133	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: mozillaAddons
1578566659133	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: telemetry
1578566659133	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: resource://pdf.js/
1578566659133	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: about:reader*
1578566661619	Marionette	INFO	Listening on port 44109
1578566661707	Marionette	WARN	TLS certificate errors will be ignored for this session
JavaScript error: data:application/x-javascript;charset=utf-8;base64,aWYgKHNlbGYuQ2F2YWxyeUxvZ2dlcikgeyBDYXZhbHJ5TG9nZ2VyLnN0YXJ0X2pzKFsiKzRzV3kiXSk7IH0KLyoqCiAqIEBwcm92aWRlc01vZHVsZSBTaGFrYQogKiBAcHJlc2VydmUtd2hpdGVzcGFjZQogKiBAbm9wYWNrYWdlCiAqIEBnZW5lcmF0ZWQKICovCl9fZCgiU2hha2EiLFsiUHJvbWlzZSIsIkV2ZW50TGlzdGVuZXIiLCJWaWRlb1BsYXllclNoYWthUGVyZm9ybWFuY2VMb2dnZXIiLCJWaWRlb1B1c2hQYXJhbWV0ZXJzSGVscGVyIiwiVGltZVNsaWNlIiwiVmlkZW9QbGF5ZXJMb2NhbEJhbmR3aWR0aEVzdGltYXRvciIsIlZpZGVvUGxheWVyUmVzb3VyY2VUaW1lciIsIlNoYWthU2VnbWVudFJlZmVyZW5jZUhlbHBlciIsIlNlZ21lbnRSZXF1ZXN0TWFuYWdlciIsImNvbmNhdEFycmF5QnVmZmVyIiwiQnVmZmVyUmVwbGFjZW1lbnRIZWxwZXIiLCJsb2dMb25nQWthbWFpUmVxdWVzdCIsInRocm90dGxlIiwiVmlld3BvcnRQcmlvcml0eUFkanVzdGVyIiwiRmlyc3RMb2FkZWRWaWRlb1ByaW9yaXR5QWRqdXN0ZXIiLCJWaWRlb1ByaW9yaXR5Q2FsY3VsYXRvciIsIlZpZGVvU3RyZWFtaW5nTWFuYWdlciIsIk11bHRpcGxlU2VnbWVudHNQcm92aWRlciIsIkxvY2FsQml0cmF0ZUhlbHBlciIsIlVuaXRDb25zdGFudHMiLCJCdWZmZXJWZWxvY2l0eSIsIlZpZGVvUGxheWVyQml0cmF0ZUVzdGltYXRvciIsIlZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWciLCJnZXRTZWVrUmFuZ2VHYXBzRnJvbVNoYWthUmVmZXJlbmNlcyIsIm1lcmdlU2Vla1JhbmdlR2FwcyIsIk5ldHdvcmtTdGF0dXNEZXRlY3RvciIsIk1vc1V0aWxzIiwiQmFuemFpT0RTIiwiVmlkZW9EYXNoUHJlZmV0Y2hDYWNoZSIsIlZpZGVvQ2xpZW50RWRnZUNvb3BlcmF0aW9uIiwiVmlkZW9TdHJlYW1pbmdUYXNrUXVldWVQcm92aWRlciIsIkJpbmFyeVNlYXJjaCIsIlNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscyIsImdreCIsInNldFRpbWVvdXRBY3Jvc3NUcmFuc2l0aW9ucyIsInNldFRpbWVvdXQiLCJzZXRJbnRlcnZhbEFjcm9zc1RyYW5zaXRpb25zIiwic2V0SW50ZXJ2YWwiLCJzZXRJbW1lZGlhdGVBY3Jvc3NUcmFuc2l0aW9ucyIsInNldEltbWVkaWF0ZSIsImNsZWFyVGltZW91dCIsImNsZWFySW50ZXJ2YWwiLCJjbGVhckltbWVkaWF0ZSIsImRpc3BhdGNoRXZlbnQiLCJFdmVudExpc3RlbmVyIiwiRXZlbnQiLCJleHRyYWN0Q0VBNjA4IiwicGVyZm9ybWFuY2VOb3ciLCJwYXJzZUhlYWRlcnMiLCJjYW5Vc2VGZXRjaFN0cmVhbSIsIlN1YnNjcmlwdGlvbnNIYW5kbGVyIiwiVmlkZW9QdXNoVHJhY2tlciJdLChmdW5jdGlvbiAkbW9kdWxlX1NoYWthKGdsb2JhbCxyZXF1aXJlLHJlcXVpcmVEeW5hbWljLHJlcXVpcmVMYXp5LG1vZHVsZSxleHBvcnRzKXsKCi8vIHJ1biBgYXJjIHJlYnVpbGQgc2hha2EtcGxheWVyYCB0byByZWdlbmVyYXRlIFNoYWthLmpzIGFmdGVyIG1vZGlmeWluZyB0aGlzCi8vIGZpbGUKCnZhciBQcm9taXNlID0gcmVxdWlyZSgnUHJvbWlzZScpOwp2YXIgRXZlbnRMaXN0ZW5lciA9IHJlcXVpcmUoJ0V2ZW50TGlzdGVuZXInKTsKdmFyIFZpZGVvUGxheWVyU2hha2FQZXJmb3JtYW5jZUxvZ2dlciA9IHJlcXVpcmUoJ1ZpZGVvUGxheWVyU2hha2FQZXJmb3JtYW5jZUxvZ2dlcicpOwp2YXIgVmlkZW9QdXNoUGFyYW1ldGVyc0hlbHBlciA9IHJlcXVpcmUoJ1ZpZGVvUHVzaFBhcmFtZXRlcnNIZWxwZXInKTsKdmFyIFRpbWVTbGljZSA9IHJlcXVpcmUoJ1RpbWVTbGljZScpOwp2YXIgVmlkZW9QbGF5ZXJMb2NhbEJhbmR3aWR0aEVzdGltYXRvciA9IHJlcXVpcmUoJ1ZpZGVvUGxheWVyTG9jYWxCYW5kd2lkdGhFc3RpbWF0b3InKTsKdmFyIFZpZGVvUGxheWVyUmVzb3VyY2VUaW1lciA9IHJlcXVpcmUoJ1ZpZGVvUGxheWVyUmVzb3VyY2VUaW1lcicpOwp2YXIgU2hha2FTZWdtZW50UmVmZXJlbmNlSGVscGVyID0gcmVxdWlyZSgnU2hha2FTZWdtZW50UmVmZXJlbmNlSGVscGVyJyk7CnZhciBTZWdtZW50UmVxdWVzdE1hbmFnZXIgPSByZXF1aXJlKCdTZWdtZW50UmVxdWVzdE1hbmFnZXInKTsKdmFyIGNvbmNhdEFycmF5QnVmZmVyID0gcmVxdWlyZSgnY29uY2F0QXJyYXlCdWZmZXInKTsKdmFyIEJ1ZmZlclJlcGxhY2VtZW50SGVscGVyID0gcmVxdWlyZSgnQnVmZmVyUmVwbGFjZW1lbnRIZWxwZXInKTsKdmFyIGxvZ0xvbmdBa2FtYWlSZXF1ZXN0ID0gcmVxdWlyZSgnbG9nTG9uZ0FrYW1haVJlcXVlc3QnKTsKdmFyIHRocm90dGxlID0gcmVxdWlyZSgndGhyb3R0bGUnKTsKdmFyIFZpZXdwb3J0UHJpb3JpdHlBZGp1c3RlciA9IHJlcXVpcmUoJ1ZpZXdwb3J0UHJpb3JpdHlBZGp1c3RlcicpOwp2YXIgRmlyc3RMb2FkZWRWaWRlb1ByaW9yaXR5QWRqdXN0ZXIgPSByZXF1aXJlKCdGaXJzdExvYWRlZFZpZGVvUHJpb3JpdHlBZGp1c3RlcicpOwp2YXIgVmlkZW9Qcmlvcml0eUNhbGN1bGF0b3IgPSByZXF1aXJlKCdWaWRlb1ByaW9yaXR5Q2FsY3VsYXRvcicpOwp2YXIgVmlkZW9TdHJlYW1pbmdNYW5hZ2VyID0gcmVxdWlyZSgnVmlkZW9TdHJlYW1pbmdNYW5hZ2VyJyk7CnZhciBNdWx0aXBsZVNlZ21lbnRzUHJvdmlkZXIgPSByZXF1aXJlKCdNdWx0aXBsZVNlZ21lbnRzUHJvdmlkZXInKTsKdmFyIExvY2FsQml0cmF0ZUhlbHBlciA9IHJlcXVpcmUoJ0xvY2FsQml0cmF0ZUhlbHBlcicpOwp2YXIgVW5pdENvbnN0YW50cyA9IHJlcXVpcmUoJ1VuaXRDb25zdGFudHMnKTsKdmFyIEJ1ZmZlclZlbG9jaXR5ID0gcmVxdWlyZSgnQnVmZmVyVmVsb2NpdHknKTsKdmFyIFZpZGVvUGxheWVyQml0cmF0ZUVzdGltYXRvciA9IHJlcXVpcmUoJ1ZpZGVvUGxheWVyQml0cmF0ZUVzdGltYXRvcicpOwp2YXIgVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZyA9IHJlcXVpcmUoJ1ZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcnKTsKdmFyIGdldFNlZWtSYW5nZUdhcHNGcm9tU2hha2FSZWZlcmVuY2VzID0gcmVxdWlyZSgnZ2V0U2Vla1JhbmdlR2Fwc0Zyb21TaGFrYVJlZmVyZW5jZXMnKTsKdmFyIG1lcmdlU2Vla1JhbmdlR2FwcyA9IHJlcXVpcmUoJ21lcmdlU2Vla1JhbmdlR2FwcycpOwp2YXIgTmV0d29ya1N0YXR1c0RldGVjdG9yID0gcmVxdWlyZSgnTmV0d29ya1N0YXR1c0RldGVjdG9yJyk7CnZhciBNb3NVdGlscyA9IHJlcXVpcmUoJ01vc1V0aWxzJyk7CnZhciBCYW56YWlPRFMgPSByZXF1aXJlKCdCYW56YWlPRFMnKTsKdmFyIFZpZGVvRGFzaFByZWZldGNoQ2FjaGUgPSByZXF1aXJlKCdWaWRlb0Rhc2hQcmVmZXRjaENhY2hlJyk7CnZhciBWaWRlb0NsaWVudEVkZ2VDb29wZXJhdGlvbiA9IHJlcXVpcmUoJ1ZpZGVvQ2xpZW50RWRnZUNvb3BlcmF0aW9uJyk7CnZhciBWaWRlb1N0cmVhbWluZ1Rhc2tRdWV1ZVByb3ZpZGVyID0gcmVxdWlyZSgnVmlkZW9TdHJlYW1pbmdUYXNrUXVldWVQcm92aWRlcicpOwp2YXIgQmluYXJ5U2VhcmNoID0gcmVxdWlyZSgnQmluYXJ5U2VhcmNoJyk7CnZhciBTaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMgPSByZXF1aXJlKCdTaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMnKTsKdmFyIGdreCA9IHJlcXVpcmUoJ2dreCcpOwoKdmFyIHNldFRpbWVvdXQgPSBWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woCiAgICAndGltZW91dHNfcGVyc2lzdF9vbl9wYWdlX3RyYW5zaXRpb24nLAogICAgdHJ1ZQogICkgPwogIHJlcXVpcmUoJ3NldFRpbWVvdXRBY3Jvc3NUcmFuc2l0aW9ucycpIDoKICByZXF1aXJlKCdzZXRUaW1lb3V0Jyk7CnZhciBzZXRJbnRlcnZhbCA9IFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgKICAgICd0aW1lb3V0c19wZXJzaXN0X29uX3BhZ2VfdHJhbnNpdGlvbicsCiAgICB0cnVlCiAgKSA/CiAgcmVxdWlyZSgnc2V0SW50ZXJ2YWxBY3Jvc3NUcmFuc2l0aW9ucycpIDoKICByZXF1aXJlKCdzZXRJbnRlcnZhbCcpOwp2YXIgc2V0SW1tZWRpYXRlID0gVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKAogICAgJ3RpbWVvdXRzX3BlcnNpc3Rfb25fcGFnZV90cmFuc2l0aW9uJywKICAgIHRydWUKICApID8KICByZXF1aXJlKCdzZXRJbW1lZGlhdGVBY3Jvc3NUcmFuc2l0aW9ucycpIDoKICByZXF1aXJlKCdzZXRJbW1lZGlhdGUnKTsKdmFyIGNsZWFyVGltZW91dCA9IHJlcXVpcmUoJ2NsZWFyVGltZW91dCcpOwp2YXIgY2xlYXJJbnRlcnZhbCA9IHJlcXVpcmUoJ2NsZWFySW50ZXJ2YWwnKTsKdmFyIGNsZWFySW1tZWRpYXRlID0gcmVxdWlyZSgnY2xlYXJJbW1lZGlhdGUnKTsKdmFyIGRpc3BhdGNoRG9tRXZlbnQgPSByZXF1aXJlKCdkaXNwYXRjaEV2ZW50Jyk7CnZhciBldmVudExpc3RlbmVyQ2FwdHVyZSA9IHJlcXVpcmUoJ0V2ZW50TGlzdGVuZXInKS5jYXB0dXJlOwp2YXIgZXZlbnRLaWxsID0gcmVxdWlyZSgnRXZlbnQnKS5raWxsOwp2YXIgZXh0cmFjdENFQTYwOCA9IHJlcXVpcmUoJ2V4dHJhY3RDRUE2MDgnKTsKdmFyIHBlcmZvcm1hbmNlTm93ID0gcmVxdWlyZSgncGVyZm9ybWFuY2VOb3cnKTsKdmFyIHBhcnNlSGVhZGVycyA9IHJlcXVpcmUoJ3BhcnNlSGVhZGVycycpOwp2YXIgY2FuVXNlRmV0Y2hTdHJlYW0gPSByZXF1aXJlKCdjYW5Vc2VGZXRjaFN0cmVhbScpOwp2YXIgU3Vic2NyaXB0aW9uc0hhbmRsZXIgPSByZXF1aXJlKCdTdWJzY3JpcHRpb25zSGFuZGxlcicpOwp2YXIgVmlkZW9QdXNoVHJhY2tlciA9IHJlcXVpcmUoJ1ZpZGVvUHVzaFRyYWNrZXInKTsKCmZ1bmN0aW9uIHNldEV2ZW50UHJvcGVydHkob2JqLCBuYW1lLCBoYW5kbGVyKSB7CiAgb2JqW25hbWVdID0gVGltZVNsaWNlLmd1YXJkKGhhbmRsZXIsICdzaGFrYSAnICsgbmFtZSk7Cn07CgppZiAoCiAgVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCdzaGFrYV9uYXRpdmVfcHJvbWlzZScsIGZhbHNlKSAmJgogIFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgndXNlX25hdGl2ZV9wcm9taXNlJywgdHJ1ZSkKKSB7CiAgUHJvbWlzZSA9IHdpbmRvdy5Qcm9taXNlOwp9Cgp2YXIgZyA9IHt9OwoKKGZ1bmN0aW9uKHdpbmRvdyl7dmFyIG4sYWE9dGhpcztmdW5jdGlvbiBxKGEsYil7dmFyIGM9YS5zcGxpdCgiLiIpLGQ9YWE7Y1swXWluIGR8fCFkLmV4ZWNTY3JpcHR8fGQuZXhlY1NjcmlwdCgidmFyICIrY1swXSk7Zm9yKHZhciBlO2MubGVuZ3RoJiYoZT1jLnNoaWZ0KCkpOyljLmxlbmd0aHx8dm9pZCAwPT09Yj9kW2VdP2Q9ZFtlXTpkPWRbZV09e306ZFtlXT1ifWZ1bmN0aW9uIHIoYSxiKXtmdW5jdGlvbiBjKCl7fWMucHJvdG90eXBlPWIucHJvdG90eXBlO2EuUGQ9Yi5wcm90b3R5cGU7YS5wcm90b3R5cGU9bmV3IGM7YS5wcm90b3R5cGUuY29uc3RydWN0b3I9YTthLkxkPWZ1bmN0aW9uKGEsYyxmKXtyZXR1cm4gYi5wcm90b3R5cGVbY10uYXBwbHkoYSxBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMikpfX07LyoKCiBDb3B5cmlnaHQgMjAxNSBHb29nbGUgSW5jLgoKIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoKIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoqLwpmdW5jdGlvbiBiYSgpe307ZnVuY3Rpb24gY2EoYSl7dmFyIGI9Y29uc29sZVthXTtiP2IuYmluZHx8KGNvbnNvbGVbYV09ZnVuY3Rpb24oKXtiLmFwcGx5KGNvbnNvbGUsYXJndW1lbnRzKX0pOmNvbnNvbGVbYV09ZnVuY3Rpb24oKXt9fWNhKCJlcnJvciIpO2NhKCJ3YXJuIik7Y2EoImluZm8iKTtjYSgibG9nIik7Y2EoImRlYnVnIik7dmFyIHU9e3FhOmZ1bmN0aW9uKGEpe3UuSGJbYV09e3FhOnUud2MoKSxlbmQ6TmFOfX0sZW5kOmZ1bmN0aW9uKGEpe2lmKGE9dS5IYlthXSlhLmVuZD11LndjKCl9LE1kOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD11LmdldChhKSxlPXUuZ2V0KGIpO2lmKCFkfHwhZSlyZXR1cm4gTmFOO2QtPWU7Zm9yKGU9MjtlPGFyZ3VtZW50cy5sZW5ndGg7KytlKXt2YXIgZj11LmdldChhcmd1bWVudHNbZV0pO2lmKCFmKXJldHVybiBOYU47ZC09Zn1yZXR1cm4gZH0sZ2V0OmZ1bmN0aW9uKGEpe3JldHVybihhPXUuSGJbYV0pJiZhLmVuZD9hLmVuZC1hLnFhOk5hTn19O3Uud2M9d2luZG93LnBlcmZvcm1hbmNlJiZ3aW5kb3cucGVyZm9ybWFuY2Uubm93P3dpbmRvdy5wZXJmb3JtYW5jZS5ub3cuYmluZCh3aW5kb3cucGVyZm9ybWFuY2UpOkRhdGUubm93O3UuSGI9e307LyoKCiBDb3B5cmlnaHQgMjAwNC1wcmVzZW50IEZhY2Vib29rLiBBbGwgUmlnaHRzIFJlc2VydmVkLgoKKi8KZnVuY3Rpb24gZmEoYSxiLGMsZCxlLGYsZyxoKXt0aGlzLmlkPWE7dGhpcy5iYW5kd2lkdGg9Ynx8MDt0aGlzLmxhbmc9Y3x8InVua25vd24iO3RoaXMuc3RyZWFtSW5mb0lEPWQ7dGhpcy5taW1lVHlwZT1lfHwiIjt0aGlzLmNvZGVjcz1mfHwiIjt0aGlzLmNoYW5uZWxzPWd8fG51bGw7dGhpcy5zYW1wbGluZ1JhdGU9aHx8bnVsbDt0aGlzLmFjdGl2ZT0hMX1xKCJzaGFrYS5wbGF5ZXIuQXVkaW9UcmFjay5jb21wYXJlIixmdW5jdGlvbihhLGIpe3JldHVybiBhLmxhbmc8Yi5sYW5nPy0xOmEubGFuZz5iLmxhbmc/MTphLmJhbmR3aWR0aDxiLmJhbmR3aWR0aD8tMTphLmJhbmR3aWR0aD5iLmJhbmR3aWR0aD8xOjB9KTt2YXIgZ2E9VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoInNoYWthX2RlZmF1bHRfcmVxdWVzdF90aW1lb3V0X3RpbWVzY2FsZSIsMUUzKSxoYT1NYXRoLmZsb29yKFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJzaGFrYV9kZWZhdWx0X2FqYXhfcmVxdWVzdF90aW1lb3V0X21zIiwwKS9nYSksaWE9TWF0aC5mbG9vcihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigic2hha2FfZGVmYXVsdF9hamF4X3JlcXVlc3RfdGltZW91dF9tcyIsMCkvZ2EpLGphPU1hdGguZmxvb3IoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoInNoYWthX2RlZmF1bHRfYWpheF9yZXF1ZXN0X3RpbWVvdXRfbXMiLDApL2dhKTtmdW5jdGlvbiBrYSgpe3RoaXMubWluQmFuZHdpZHRoPXRoaXMubWF4QmFuZHdpZHRoPXRoaXMubWF4V2lkdGg9dGhpcy5taW5IZWlnaHQ9dGhpcy5tYXhIZWlnaHQ9bnVsbH1rYS5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYT1uZXcga2E7YS5tYXhIZWlnaHQ9dGhpcy5tYXhIZWlnaHQ7YS5taW5IZWlnaHQ9dGhpcy5taW5IZWlnaHQ7YS5tYXhXaWR0aD10aGlzLm1heFdpZHRoO2EubWF4QmFuZHdpZHRoPXRoaXMubWF4QmFuZHdpZHRoO2EubWluQmFuZHdpZHRoPXRoaXMubWluQmFuZHdpZHRoO3JldHVybiBhfTtmdW5jdGlvbiBsYSgpe3RoaXMuZm9udFNpemU9IjEwMCUiO3RoaXMuZm9udENvbG9yPW1hO3RoaXMuZm9udE9wYWNpdHk9b2E7dGhpcy5iYWNrZ3JvdW5kQ29sb3I9cGE7dGhpcy5iYWNrZ3JvdW5kT3BhY2l0eT1vYTt0aGlzLmZvbnRFZGdlPXFhfXEoInNoYWthLnBsYXllci5UZXh0U3R5bGUiLGxhKTsKZnVuY3Rpb24gcmEoYSl7dmFyIGI9W107Yi5wdXNoKCJmb250LXNpemU6ICIrYS5mb250U2l6ZSk7Yi5wdXNoKCJjb2xvcjogIitzYShhLmZvbnRDb2xvcixhLmZvbnRPcGFjaXR5KSk7Yi5wdXNoKCJiYWNrZ3JvdW5kLWNvbG9yOiAiK3NhKGEuYmFja2dyb3VuZENvbG9yLGEuYmFja2dyb3VuZE9wYWNpdHkpKTtmb3IodmFyIGM9W10sZD0wO2Q8YS5mb250RWRnZS5sZW5ndGg7KytkKXt2YXIgZT1hLmZvbnRFZGdlW2RdLnNsaWNlKDMsNik7Yy5wdXNoKHNhKGEuZm9udEVkZ2VbZF0uc2xpY2UoMCwzKSxhLmZvbnRPcGFjaXR5KSsiICIrZS5qb2luKCJweCAiKSsicHgiKX1iLnB1c2goInRleHQtc2hhZG93OiAiK2Muam9pbigiLCIpKTtyZXR1cm4gYi5qb2luKCI7ICIpfWZ1bmN0aW9uIHNhKGEsYil7cmV0dXJuInJnYmEoIithLmNvbmNhdChiKS5qb2luKCIsIikrIikifXZhciBtYT1bMjU1LDI1NSwyNTVdLHBhPVswLDAsMF07CmxhLlN0YW5kYXJkQ29sb3JzPXtXSElURTptYSxCTEFDSzpwYSxSRUQ6WzI1NSwwLDBdLEdSRUVOOlswLDI1NSwwXSxCTFVFOlswLDAsMjU1XSxZRUxMT1c6WzI1NSwyNTUsMF0sTUFHRU5UQTpbMjU1LDAsMjU1XSxDWUFOOlswLDI1NSwyNTVdfTt2YXIgb2E9MTtsYS5TdGFuZGFyZE9wYWNpdGllcz17T1BBUVVFOm9hLFNFTUlfSElHSDouNzUsU0VNSV9MT1c6LjI1LFRSQU5TUEFSRU5UOjB9O3ZhciBxYT1bXTsKbGEuRWRnZVN0eWxlcz17Tk9ORTpxYSxSQUlTRUQ6W1szNCwzNCwzNCwxLDEsMF0sWzM0LDM0LDM0LDIsMiwwXSxbMzQsMzQsMzQsMywzLDBdXSxERVBSRVNTRUQ6W1syMDQsMjA0LDIwNCwxLDEsMF0sWzIwNCwyMDQsMjA0LDAsMSwwXSxbMzQsMzQsMzQsLTEsLTEsMF0sWzM0LDM0LDM0LDAsLTEsMF1dLFVOSUZPUk06W1szNCwzNCwzNCwwLDAsNF0sWzM0LDM0LDM0LDAsMCw0XSxbMzQsMzQsMzQsMCwwLDRdLFszNCwzNCwzNCwwLDAsNF1dLERST1A6W1szNCwzNCwzNCwyLDIsM10sWzM0LDM0LDM0LDIsMiw0XSxbMzQsMzQsMzQsMiwyLDVdXX07ZnVuY3Rpb24gdGEoYSxiKXt0aGlzLmlkPWE7dGhpcy5sYW5nPWJ8fCJ1bmtub3duIjt0aGlzLmVuYWJsZWQ9dGhpcy5hY3RpdmU9ITF9cSgic2hha2EucGxheWVyLlRleHRUcmFjay5jb21wYXJlIixmdW5jdGlvbihhLGIpe3JldHVybiBhLmxhbmc8Yi5sYW5nPy0xOmEubGFuZz5iLmxhbmc/MTowfSk7ZnVuY3Rpb24gdWEoYSxiLGMsZCxlLGYsZyxoLGssbCxtLHAsdCl7dGhpcy5pZD1hO3RoaXMuYmFuZHdpZHRoPWJ8fDA7dGhpcy53aWR0aD1jfHwwO3RoaXMuaGVpZ2h0PWR8fDA7dGhpcy5zdHJlYW1JbmZvSUQ9ZTt0aGlzLmZiUXVhbGl0eUxhYmVsPWY7dGhpcy5mYlF1YWxpdHlDbGFzcz1nO2E9W107aCYmKGE9aC5zcGxpdCgiLCIpKTt0aGlzLmZyYW1lUmF0ZT1rfHwiIjt0aGlzLm1pbWVUeXBlPWx8fCIiO3RoaXMuY29kZWNzPW18fCIiO3RoaXMuaXNIVlE9LTE8YS5pbmRleE9mKCJodnEiKTt0aGlzLmlzSW5saW5lSFZRPS0xPGEuaW5kZXhPZigiaHZxX3d3d19pbmxpbmUiKTt0aGlzLmF2b2lkT25Qb29yQ29ubmVjdGlvbj0tMTxhLmluZGV4T2YoImF2b2lkX29uX3Bvb3JfY29ubmVjdGlvbiIpO3RoaXMuYWN0aXZlPSExO3RoaXMucGxheWJhY2tSZXNvbHV0aW9uTW9zPXB8fG51bGw7dGhpcy5wbGF5YmFja1Jlc29sdXRpb25Nb3NDb25maWRlbmNlTGV2ZWw9dHx8bnVsbH0KZnVuY3Rpb24gdmEoYSxiKXt2YXIgYz1hLndpZHRoKmEuaGVpZ2h0LGQ9Yi53aWR0aCpiLmhlaWdodDtyZXR1cm4gYzxkPy0xOmM+ZD8xOmEuYmFuZHdpZHRoPGIuYmFuZHdpZHRoPy0xOmEuYmFuZHdpZHRoPmIuYmFuZHdpZHRoPzE6MH1xKCJzaGFrYS5wbGF5ZXIuVmlkZW9UcmFjay5jb21wYXJlIix2YSk7ZnVuY3Rpb24gd2EoYSl7Zm9yKHZhciBiPXhhLGM9W10sZD0wO2Q8YS5sZW5ndGg7KytkKXtmb3IodmFyIGU9ITEsZj0wO2Y8Yy5sZW5ndGgmJiEoZT1iP2IoYVtkXSxjW2ZdKTphW2RdPT09Y1tmXSk7KytmKTtlfHxjLnB1c2goYVtkXSl9cmV0dXJuIGN9O2Z1bmN0aW9uIHlhKCl7cmV0dXJuIERhdGUubm93KCkremF9dmFyIHphPTA7ZnVuY3Rpb24gQmEoYSl7dGhpcy5iPWE7dGhpcy5jPTA9PUNhO3RoaXMuYT0wfXZhciBDYT0xO2Z1bmN0aW9uIERhKGEpe3JldHVybiBhLmE8YS5iLmJ5dGVMZW5ndGh9ZnVuY3Rpb24gRWEoYSl7dmFyIGI9YS5iLmdldFVpbnQ4KGEuYSk7YS5hKz0xO3JldHVybiBifWZ1bmN0aW9uIHYoYSl7dmFyIGI9YS5iLmdldFVpbnQzMihhLmEsYS5jKTthLmErPTQ7cmV0dXJuIGJ9ZnVuY3Rpb24gRmEoYSl7dmFyIGIsYzthLmM/KGI9YS5iLmdldFVpbnQzMihhLmEsITApLGM9YS5iLmdldFVpbnQzMihhLmErNCwhMCkpOihjPWEuYi5nZXRVaW50MzIoYS5hLCExKSxiPWEuYi5nZXRVaW50MzIoYS5hKzQsITEpKTtpZigyMDk3MTUxPGMpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkRhdGFWaWV3UmVhZGVyOiBPdmVyZmxvdyByZWFkaW5nIDY0LWJpdCB2YWx1ZS4iKTthLmErPTg7cmV0dXJuIGMqTWF0aC5wb3coMiwzMikrYn0KZnVuY3Rpb24gR2EoYSl7aWYoYS5hKzE2PmEuYi5ieXRlTGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKCJEYXRhVmlld1JlYWRlcjogUmVhZCBwYXN0IGVuZCBvZiBEYXRhVmlldy4iKTt2YXIgYj1uZXcgVWludDhBcnJheShhLmIuYnVmZmVyLGEuYSwxNik7YS5hKz0xNjtyZXR1cm4gYn1mdW5jdGlvbiBIYShhLGIpe2lmKGEuYStiPmEuYi5ieXRlTGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKCJEYXRhVmlld1JlYWRlcjogU2tpcCBwYXN0IGVuZCBvZiBEYXRhVmlldy4iKTthLmErPWJ9O2Z1bmN0aW9uIElhKGEpe3RoaXMuYj1hO3RoaXMuYT1uZXcgQmEoYSk7SmF8fChKYT1bbmV3IFVpbnQ4QXJyYXkoWzI1NV0pLG5ldyBVaW50OEFycmF5KFsxMjcsMjU1XSksbmV3IFVpbnQ4QXJyYXkoWzYzLDI1NSwyNTVdKSxuZXcgVWludDhBcnJheShbMzEsMjU1LDI1NSwyNTVdKSxuZXcgVWludDhBcnJheShbMTUsMjU1LDI1NSwyNTUsMjU1XSksbmV3IFVpbnQ4QXJyYXkoWzcsMjU1LDI1NSwyNTUsMjU1LDI1NV0pLG5ldyBVaW50OEFycmF5KFszLDI1NSwyNTUsMjU1LDI1NSwyNTUsMjU1XSksbmV3IFVpbnQ4QXJyYXkoWzEsMjU1LDI1NSwyNTUsMjU1LDI1NSwyNTUsMjU1XSldKX12YXIgSmE7CmZ1bmN0aW9uIEthKGEpe3ZhciBiO2I9TGEoYSk7aWYoNzxiLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiRWJtbFBhcnNlcjogRUJNTCBJRCBtdXN0IGJlIGF0IG1vc3QgNyBieXRlcy4iKTtmb3IodmFyIGM9MCxkPTA7ZDxiLmxlbmd0aDtkKyspYz0yNTYqYytiW2RdO2I9YztjPUxhKGEpO2E6e2ZvcihkPTA7ZDxKYS5sZW5ndGg7ZCsrKWlmKE1hKGMsSmFbZF0pKXtkPSEwO2JyZWFrIGF9ZD0hMX1pZihkKWM9YS5iLmJ5dGVMZW5ndGgtYS5hLmE7ZWxzZXtpZig4PT1jLmxlbmd0aCYmY1sxXSYyMjQpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkVibWxQYXJzZXI6IFZhcmlhYmxlIHNpemVkIGludGVnZXIgdmFsdWUgbXVzdCBiZSBhdCBtb3N0IDUzIGJpdHMuIik7Zm9yKHZhciBkPWNbMF0mKDE8PDgtYy5sZW5ndGgpLTEsZT0xO2U8Yy5sZW5ndGg7ZSsrKWQ9MjU2KmQrY1tlXTtjPWR9Yz1hLmEuYStjPD1hLmIuYnl0ZUxlbmd0aD9jOmEuYi5ieXRlTGVuZ3RoLWEuYS5hO2Q9bmV3IERhdGFWaWV3KGEuYi5idWZmZXIsCmEuYi5ieXRlT2Zmc2V0K2EuYS5hLGMpO0hhKGEuYSxjKTtyZXR1cm4gbmV3IE5hKGIsZCl9ZnVuY3Rpb24gTGEoYSl7dmFyIGI9RWEoYS5hKSxjO2ZvcihjPTE7OD49YyYmIShiJjE8PDgtYyk7YysrKTtpZig4PGMpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkVibWxQYXJzZXI6IFZhcmlhYmxlIHNpemVkIGludGVnZXIgbXVzdCBmaXQgd2l0aGluIDggYnl0ZXMuIik7dmFyIGQ9bmV3IFVpbnQ4QXJyYXkoYyk7ZFswXT1iO2ZvcihiPTE7YjxjO2IrKylkW2JdPUVhKGEuYSk7cmV0dXJuIGR9ZnVuY3Rpb24gTmEoYSxiKXt0aGlzLmlkPWE7dGhpcy5hPWJ9CmZ1bmN0aW9uIE9hKGEpe2lmKDg8YS5hLmJ5dGVMZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkVibWxFbGVtZW50OiBVbnNpZ25lZCBpbnRlZ2VyIGhhcyB0b28gbWFueSBieXRlcy4iKTtpZig4PT1hLmEuYnl0ZUxlbmd0aCYmYS5hLmdldFVpbnQ4KDApJjIyNCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiRWJtbFBhcnNlcjogVW5zaWduZWQgaW50ZWdlciBtdXN0IGJlIGF0IG1vc3QgNTMgYml0cy4iKTtmb3IodmFyIGI9MCxjPTA7YzxhLmEuYnl0ZUxlbmd0aDtjKyspdmFyIGQ9YS5hLmdldFVpbnQ4KGMpLGI9MjU2KmIrZDtyZXR1cm4gYn07dmFyIFBhPXsib3V0cHV0LXJlc3RyaWN0ZWQiOiJUaGUgcmVxdWlyZWQgb3V0cHV0IHByb3RlY3Rpb24gaXMgbm90IGF2YWlsYWJsZS4iLCJvdXRwdXQtbm90LWFsbG93ZWQiOiJUaGUgcmVxdWlyZWQgb3V0cHV0IHByb3RlY3Rpb24gaXMgbm90IGF2YWlsYWJsZS4iLGV4cGlyZWQ6IlRoZSBkZWNyeXB0aW9uIGtleSBoYXMgZXhwaXJlZC4iLCJpbnRlcm5hbC1lcnJvciI6IlRoZSBrZXkgc3lzdGVtIGhhcyBlbmNvdW50ZXJlZCBhbiB1bnNwZWNpZmllZCBlcnJvci4ifTtmdW5jdGlvbiB4KGEpe3RoaXMuYj1NYXRoLmV4cChNYXRoLmxvZyguNSkvYSk7dGhpcy55Yj10aGlzLiRhPXRoaXMuYT0wfXEoInNoYWthLnV0aWwuRVdNQSIseCk7eC5wcm90b3R5cGUuc2FtcGxlPWZ1bmN0aW9uKGEsYil7dmFyIGM9TWF0aC5wb3codGhpcy5iLGEpO3RoaXMuYT1iKigxLWMpK2MqdGhpcy5hO3RoaXMuJGErPWE7dGhpcy55Yis9MX07eC5wcm90b3R5cGUuc2FtcGxlPXgucHJvdG90eXBlLnNhbXBsZTt4LnByb3RvdHlwZS5jPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGF9O3gucHJvdG90eXBlLmdldFRvdGFsV2VpZ2h0PXgucHJvdG90eXBlLmM7eC5wcm90b3R5cGUuZ2V0RXN0aW1hdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLygxLU1hdGgucG93KHRoaXMuYix0aGlzLiRhKSl9O3gucHJvdG90eXBlLmdldEVzdGltYXRlPXgucHJvdG90eXBlLmdldEVzdGltYXRlO3gucHJvdG90eXBlLmY9ZnVuY3Rpb24oKXt0aGlzLnliPXRoaXMuJGE9dGhpcy5hPTB9Owp4LnByb3RvdHlwZS5yZXNldD14LnByb3RvdHlwZS5mO3ZhciBRYT13aW5kb3cuQ3VzdG9tRXZlbnQ7ImZ1bmN0aW9uIiE9PXR5cGVvZiBRYSYmKFFhPWZ1bmN0aW9uKGEsYil7Yj1ifHx7YnViYmxlczohMSxjYW5jZWxhYmxlOiExLGRldGFpbDp2b2lkIDB9O3ZhciBjPWRvY3VtZW50LmNyZWF0ZUV2ZW50KCJDdXN0b21FdmVudCIpO2MuaW5pdEN1c3RvbUV2ZW50KGEsYi5idWJibGVzLGIuY2FuY2VsYWJsZSxiLmRldGFpbCk7cmV0dXJuIGN9LFFhLnByb3RvdHlwZT13aW5kb3cuRXZlbnQucHJvdG90eXBlKTtmdW5jdGlvbiB5KGEpe3ZhciBiPW5ldyBRYShhLnR5cGUse2RldGFpbDphLmRldGFpbCxidWJibGVzOiEhYS5idWJibGVzfSksYztmb3IoYyBpbiBhKWMgaW4gYnx8KGJbY109YVtjXSk7cmV0dXJuIGJ9ZnVuY3Rpb24gQShhKXtyZXR1cm4gbmV3IFFhKCJlcnJvciIse2RldGFpbDphLGJ1YmJsZXM6ITB9KX07ZnVuY3Rpb24gUmEoYSxiLGMpe1NhKGIpO1NhKGMpO3JldHVybiBjPT1ifHxhPj1UYSYmYz09Yi5zcGxpdCgiLSIpWzBdfHxhPj1VYSYmYy5zcGxpdCgiLSIpWzBdPT1iLnNwbGl0KCItIilbMF0/ITA6ITF9dmFyIFRhPTEsVWE9MjtmdW5jdGlvbiBTYShhKXthPWEudG9Mb3dlckNhc2UoKS5zcGxpdCgiLSIpO3ZhciBiPVZhW2FbMF1dO2ImJihhWzBdPWIpO3JldHVybiBhLmpvaW4oIi0iKX0KdmFyIFZhPXthYXI6ImFhIixhYms6ImFiIixhZnI6ImFmIixha2E6ImFrIixhbGI6InNxIixhbWg6ImFtIixhcmE6ImFyIixhcmc6ImFuIixhcm06Imh5Iixhc206ImFzIixhdmE6ImF2IixhdmU6ImFlIixheW06ImF5IixhemU6ImF6IixiYWs6ImJhIixiYW06ImJtIixiYXE6ImV1IixiZWw6ImJlIixiZW46ImJuIixiaWg6ImJoIixiaXM6ImJpIixib2Q6ImJvIixib3M6ImJzIixicmU6ImJyIixidWw6ImJnIixidXI6Im15IixjYXQ6ImNhIixjZXM6ImNzIixjaGE6ImNoIixjaGU6ImNlIixjaGk6InpoIixjaHU6ImN1IixjaHY6ImN2Iixjb3I6Imt3Iixjb3M6ImNvIixjcmU6ImNyIixjeW06ImN5IixjemU6ImNzIixkYW46ImRhIixkZXU6ImRlIixkaXY6ImR2IixkdXQ6Im5sIixkem86ImR6IixlbGw6ImVsIixlbmc6ImVuIixlcG86ImVvIixlc3Q6ImV0IixldXM6ImV1Iixld2U6ImVlIixmYW86ImZvIixmYXM6ImZhIixmaWo6ImZqIixmaW46ImZpIixmcmE6ImZyIixmcmU6ImZyIiwKZnJ5OiJmeSIsZnVsOiJmZiIsZ2VvOiJrYSIsZ2VyOiJkZSIsZ2xhOiJnZCIsZ2xlOiJnYSIsZ2xnOiJnbCIsZ2x2OiJndiIsZ3JlOiJlbCIsZ3JuOiJnbiIsZ3VqOiJndSIsaGF0OiJodCIsaGF1OiJoYSIsaGViOiJoZSIsaGVyOiJoeiIsaGluOiJoaSIsaG1vOiJobyIsaHJ2OiJociIsaHVuOiJodSIsaHllOiJoeSIsaWJvOiJpZyIsaWNlOiJpcyIsaWRvOiJpbyIsaWlpOiJpaSIsaWt1OiJpdSIsaWxlOiJpZSIsaW5hOiJpYSIsaW5kOiJpZCIsaXBrOiJpayIsaXNsOiJpcyIsaXRhOiJpdCIsamF2OiJqdiIsanBuOiJqYSIsa2FsOiJrbCIsa2FuOiJrbiIsa2FzOiJrcyIsa2F0OiJrYSIsa2F1OiJrciIsa2F6OiJrayIsa2htOiJrbSIsa2lrOiJraSIsa2luOiJydyIsa2lyOiJreSIsa29tOiJrdiIsa29uOiJrZyIsa29yOiJrbyIsa3VhOiJraiIsa3VyOiJrdSIsbGFvOiJsbyIsbGF0OiJsYSIsbGF2OiJsdiIsbGltOiJsaSIsbGluOiJsbiIsbGl0OiJsdCIsbHR6OiJsYiIsbHViOiJsdSIsCmx1ZzoibGciLG1hYzoibWsiLG1haDoibWgiLG1hbDoibWwiLG1hbzoibWkiLG1hcjoibXIiLG1heToibXMiLG1rZDoibWsiLG1sZzoibWciLG1sdDoibXQiLG1vbjoibW4iLG1yaToibWkiLG1zYToibXMiLG15YToibXkiLG5hdToibmEiLG5hdjoibnYiLG5ibDoibnIiLG5kZToibmQiLG5kbzoibmciLG5lcDoibmUiLG5sZDoibmwiLG5ubzoibm4iLG5vYjoibmIiLG5vcjoibm8iLG55YToibnkiLG9jaToib2MiLG9qaToib2oiLG9yaToib3IiLG9ybToib20iLG9zczoib3MiLHBhbjoicGEiLHBlcjoiZmEiLHBsaToicGkiLHBvbDoicGwiLHBvcjoicHQiLHB1czoicHMiLHF1ZToicXUiLHJvaDoicm0iLHJvbjoicm8iLHJ1bToicm8iLHJ1bjoicm4iLHJ1czoicnUiLHNhZzoic2ciLHNhbjoic2EiLHNpbjoic2kiLHNsazoic2siLHNsbzoic2siLHNsdjoic2wiLHNtZToic2UiLHNtbzoic20iLHNuYToic24iLHNuZDoic2QiLHNvbToic28iLHNvdDoic3QiLHNwYToiZXMiLHNxaToic3EiLApzcmQ6InNjIixzcnA6InNyIixzc3c6InNzIixzdW46InN1Iixzd2E6InN3Iixzd2U6InN2Iix0YWg6InR5Iix0YW06InRhIix0YXQ6InR0Iix0ZWw6InRlIix0Z2s6InRnIix0Z2w6InRsIix0aGE6InRoIix0aWI6ImJvIix0aXI6InRpIix0b246InRvIix0c246InRuIix0c286InRzIix0dWs6InRrIix0dXI6InRyIix0d2k6InR3Iix1aWc6InVnIix1a3I6InVrIix1cmQ6InVyIix1emI6InV6Iix2ZW46InZlIix2aWU6InZpIix2b2w6InZvIix3ZWw6ImN5Iix3bG46IndhIix3b2w6IndvIix4aG86InhoIix5aWQ6InlpIix5b3I6InlvIix6aGE6InphIix6aG86InpoIix6dWw6Inp1In07ZnVuY3Rpb24gV2EoYSl7cmV0dXJuIE9iamVjdC5rZXlzKGEpLm1hcChmdW5jdGlvbihiKXtyZXR1cm4gYVtiXX0pfWZ1bmN0aW9uIEIoYSxiKXtyZXR1cm4gWGEoYSxiLCJib29sZWFuIil9ZnVuY3Rpb24gQyhhLGIsYyl7YT1YYShhLGIsIm51bWJlciIpO2lmKG51bGw9PWEpcmV0dXJuIG51bGw7aWYoaXNOYU4oYSl8fGE9PU51bWJlci5ORUdBVElWRV9JTkZJTklUWXx8YT09TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZKXRocm93IG5ldyBSYW5nZUVycm9yKCInIitiKyInIG11c3QgYmUgZmluaXRlLiIpO2lmKG51bGwhPWMmJmE8Yyl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiJyIrYisiJyBtdXN0IGJlID49ICIrYyk7cmV0dXJuIGF9ZnVuY3Rpb24gWWEoYSxiKXtyZXR1cm4gWGEoYSxiLCJzdHJpbmciKX0KZnVuY3Rpb24gWGEoYSxiLGMpe2E9YVtiXTtpZihudWxsPT1hKXJldHVybiBudWxsO2lmKHR5cGVvZiBhIT09Yyl0aHJvdyBuZXcgVHlwZUVycm9yKCInIitiKyInIG11c3QgYmUgYSAiK2MrIi4iKTtyZXR1cm4gYX1mdW5jdGlvbiBaYShhLGIsYyl7YT1hW2JdO2lmKG51bGw9PWEpcmV0dXJuIG51bGw7aWYoIShhIGluc3RhbmNlb2YgYykpdGhyb3cgbmV3IFR5cGVFcnJvcigiJyIrYisiJyBtdXN0IGJlIGFuIGluc3RhbmNlIG9mICIrYy5uYW1lKyIuIik7cmV0dXJuIGF9O2Z1bmN0aW9uIEQoKXt0aGlzLmE9e319RC5wcm90b3R5cGUucHVzaD1mdW5jdGlvbihhLGIpe3RoaXMuYS5oYXNPd25Qcm9wZXJ0eShhKT90aGlzLmFbYV0ucHVzaChiKTp0aGlzLmFbYV09W2JdfTtELnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24oYSxiKXt0aGlzLmFbYV09Yn07RC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGEpe3JldHVybihhPXRoaXMuYVthXSk/YS5zbGljZSgpOm51bGx9O2Z1bmN0aW9uICRhKGEpe3ZhciBiPVtdLGM7Zm9yKGMgaW4gYS5hKWIucHVzaC5hcHBseShiLGEuYVtjXSk7cmV0dXJuIGJ9RC5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5hW2FdO2lmKGMpZm9yKHZhciBkPTA7ZDxjLmxlbmd0aDsrK2QpY1tkXT09YiYmKGMuc3BsaWNlKGQsMSksLS1kKX07ZnVuY3Rpb24gYWIoYSl7dmFyIGI9W10sYztmb3IoYyBpbiBhLmEpYi5wdXNoKGMpO3JldHVybiBifTtmdW5jdGlvbiBiYigpe3RoaXMuYT1uZXcgRH1iYi5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe2RiKHRoaXMpO3RoaXMuYT1udWxsfTtmdW5jdGlvbiBFKGEsYixjLGQpe2I9bmV3IGViKGIsYyxkKTthLmEucHVzaChjLGIpfWJiLnByb3RvdHlwZS5hYj1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz10aGlzLmEuZ2V0KGIpfHxbXSxkPTA7ZDxjLmxlbmd0aDsrK2Qpe3ZhciBlPWNbZF07ZS50YXJnZXQ9PWEmJihlLmFiKCksdGhpcy5hLnJlbW92ZShiLGUpKX19O2Z1bmN0aW9uIGRiKGEpe2Zvcih2YXIgYj0kYShhLmEpLGM9MDtjPGIubGVuZ3RoOysrYyliW2NdLmFiKCk7YS5hLmE9e319ZnVuY3Rpb24gZWIoYSxiLGMpe3RoaXMudGFyZ2V0PWE7dGhpcy50eXBlPWI7dGhpcy5hPWM7dGhpcy50YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihiLGMsITEpfQplYi5wcm90b3R5cGUuYWI9ZnVuY3Rpb24oKXt0aGlzLnRhcmdldCYmKHRoaXMudGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIodGhpcy50eXBlLHRoaXMuYSwhMSksdGhpcy5hPXRoaXMudGFyZ2V0PW51bGwpfTtmdW5jdGlvbiBGKGEpe3RoaXMuRWI9bmV3IEQ7dGhpcy5KYT1hfXEoInNoYWthLnV0aWwuRmFrZUV2ZW50VGFyZ2V0IixGKTtuPUYucHJvdG90eXBlO24uYWRkRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbihhLGIpe3RoaXMuRWIucHVzaChhLGIpfTtuLnJlbW92ZUV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24oYSxiKXt0aGlzLkViLnJlbW92ZShhLGIpfTsKbi5kaXNwYXRjaEV2ZW50PWZ1bmN0aW9uKGEpe2EuaGFzT3duUHJvcGVydHkoInNyY0VsZW1lbnQiKXx8KGRlbGV0ZSBhLnNyY0VsZW1lbnQsT2JqZWN0LmRlZmluZVByb3BlcnR5KGEsInNyY0VsZW1lbnQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH19KSk7aWYoYS5oYXNPd25Qcm9wZXJ0eSgidGFyZ2V0IikpYS50YXJnZXQ9dGhpcztlbHNle2RlbGV0ZSBhLnRhcmdldDt2YXIgYj10aGlzO09iamVjdC5kZWZpbmVQcm9wZXJ0eShhLCJ0YXJnZXQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYn0sc2V0OmZ1bmN0aW9uKGEpe2I9YX19KX1pZihhLmhhc093blByb3BlcnR5KCJjdXJyZW50VGFyZ2V0IikpYS5jdXJyZW50VGFyZ2V0PW51bGw7ZWxzZXtkZWxldGUgYS5jdXJyZW50VGFyZ2V0O3ZhciBjPW51bGw7T2JqZWN0LmRlZmluZVByb3BlcnR5KGEsImN1cnJlbnRUYXJnZXQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY30sc2V0OmZ1bmN0aW9uKGEpe2M9YX19KX1yZXR1cm4gZmIodGhpcywKYSl9O24ub2M9ITE7bi5MYT1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmRpc3BhdGNoRXZlbnQoeSh7dHlwZToiZGVidWcvZGFzaFBsYXllckV2ZW50IixidWJibGVzOiEwLGRldGFpbDp7dHlwZTphLGV2ZW50OmJ9fSkpfTtmdW5jdGlvbiBmYihhLGIpe2IuY3VycmVudFRhcmdldD1hO2Zvcih2YXIgYz1hLkViLmdldChiLnR5cGUpfHxbXSxkPTA7ZDxjLmxlbmd0aDsrK2Qpe3ZhciBlPWNbZF07dHJ5e2UuaGFuZGxlRXZlbnQ/ZS5oYW5kbGVFdmVudChiKTplLmNhbGwoYSxiKX1jYXRjaChmKXt9fWEuSmEmJmIuYnViYmxlcyYmZmIoYS5KYSxiKTtyZXR1cm4gYi5kZWZhdWx0UHJldmVudGVkfTtmdW5jdGlvbiBHKGEpe0YuY2FsbCh0aGlzLG51bGwpO3RoaXMuYT17b2I6e1ZhOm5ldyB4KFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJmYXN0X21vdmluZ19hdmVyYWdlX2hhbGZfbGlmZSIsMykpLHhiOm5ldyB4KFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJzbG93X21vdmluZ19hdmVyYWdlX2hhbGZfbGlmZSIsMTApKX0sY2I6e1ZhOm5ldyB4KFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJhZ2dyZXNzaXZlX2Zhc3RfbW92aW5nX2F2ZXJhZ2VfaGFsZl9saWZlIiwxRS00KSkseGI6bmV3IHgoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoImFnZ3Jlc3NpdmVfc2xvd19tb3ZpbmdfYXZlcmFnZV9oYWxmX2xpZmUiLDkuMjMzNTA4NzkxNzc0NSkpfX07dGhpcy5oPWF8fDVFNTt0aGlzLmo9VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoIm1pbl9zYW1wbGVfY291bnQiLAoxRTQpO3RoaXMuYj0wO3RoaXMuYz1bXTt0aGlzLmk9VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoIm1heF9yZWNlbnRfYmFuZHdpZHRoX3NhbXBsZXMiLDApfXIoRyxGKTtxKCJzaGFrYS51dGlsLkVXTUFCYW5kd2lkdGhFc3RpbWF0b3IiLEcpO0cucHJvdG90eXBlLnNob3VsZEV4Y2x1ZGVTYW1wbGU9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJjaGFuZ2VfYWJyX2F1ZGlvX2V4Y2x1c2lvbl9sb2dpYyIsITApPyFiOjY1NTM2PmF9OwpHLnByb3RvdHlwZS5zYW1wbGU9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyl7aWYodGhpcy5zaG91bGRFeGNsdWRlU2FtcGxlKGIsYykpZSYmZS5zZXRFdmVudCgidW5zYW1wbGVkIikuc2V0UmVhc29uKCJhdWRpbyIpLmxvZygpO2Vsc2V7aWYoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJ1c2VfcmVzb3VyY2VfdGltaW5nX2VudHJ5X2Zvcl9iYW5kd2lkdGgiLCEwKSl7aWYoIWQpe2UmJmUuc2V0RXZlbnQoInVuc2FtcGxlZCIpLnNldFJlYXNvbigicmVzb3VyY2VfdGltaW5nX2VudHJ5X21pc3NpbmciKS5sb2coKTtyZXR1cm59YT1kLnRpbWVUb0xhc3RCeXRlO2lmKDA+YSl7ZSYmZS5zZXRFdmVudCgidW5zYW1wbGVkIikuc2V0UmVhc29uKCJyZXNvdXJjZV90aW1pbmdfZW50cnlfaW52YWxpZCIpLmxvZygpO3JldHVybn19YT1NYXRoLm1heChhLDUwKTtjPTFFMypVbml0Q29uc3RhbnRzLkJJVFNfSU5fQllURSpiL2E7dmFyIGg9YS8xRTM7dGhpcy5hLmNiLlZhLnNhbXBsZShoLApjLGQpO3RoaXMuYS5jYi54Yi5zYW1wbGUoaCxjLGQpO3RoaXMuYS5vYi5WYS5zYW1wbGUoaCxjLGQpO3RoaXMuYS5vYi54Yi5zYW1wbGUoaCxjLGQpO2d8fHRoaXMuZGlzcGF0Y2hFdmVudCh5KHt0eXBlOiJiYW5kd2lkdGgifSkpO3RoaXMuYj1EYXRlLm5vdygpO2Q9cGFyc2VJbnQoYSwxMCk7aWYoMDx0aGlzLmkpZm9yKHRoaXMuYy5wdXNoKFtiLGRdKTt0aGlzLmMubGVuZ3RoPnRoaXMuaTspdGhpcy5jLnNoaWZ0KCk7ZSYmZS5zZXRFdmVudCgic2FtcGxlZCIpLnNldEJ5dGVzKGIpLnNldERlbGF5TXMoZCkubG9nKCk7ZiYmZi5nZXRFdmVudExvZ2dlcigiYmFuZHdpZHRoX3NhbXBsZWQiKS5zZXRMZW5ndGgoYikuc2V0Q2xpZW50VGltZUJlZ2luKHRoaXMuYi1kKS5zZXRDbGllbnRUaW1lRW5kKHRoaXMuYikubG9nKCl9fTsKRy5wcm90b3R5cGUuZ2V0QmFuZHdpZHRoPWZ1bmN0aW9uKGEpe2E9ImFnZ3Jlc3NpdmUiPT09YT90aGlzLmEuY2I6dGhpcy5hLm9iO3JldHVybiB0aGlzLmNhblRydXN0RXN0aW1hdGUoKT9NYXRoLm1pbihhLlZhLmdldEVzdGltYXRlKCksYS54Yi5nZXRFc3RpbWF0ZSgpKTp0aGlzLmh9O0cucHJvdG90eXBlLmdldEZhc3RNb3ZpbmdCYW5kd2lkdGg9ZnVuY3Rpb24oYSl7YT0iYWdncmVzc2l2ZSI9PT1hP3RoaXMuYS5jYjp0aGlzLmEub2I7cmV0dXJuIHRoaXMuY2FuVHJ1c3RFc3RpbWF0ZSgpP2EuVmEuZ2V0RXN0aW1hdGUoKTp0aGlzLmh9O0cucHJvdG90eXBlLmdldERhdGFBZ2U9ZnVuY3Rpb24oKXtyZXR1cm4oRGF0ZS5ub3coKS10aGlzLmIpLzFFM307Ry5wcm90b3R5cGUuY2FuVHJ1c3RFc3RpbWF0ZT1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmEuY2IuVmE7cmV0dXJuIGIuJGE+PSh2b2lkIDA9PT1hPy41OmEpfHxiLnliPj10aGlzLmp9OwpHLnByb3RvdHlwZS5zdXBwb3J0c0NhY2hpbmc9ZnVuY3Rpb24oKXtyZXR1cm4hMX07Ry5wcm90b3R5cGUuc2V0UmVwcmVzZW50YXRpb25JRD1mdW5jdGlvbigpe307Ry5wcm90b3R5cGUuZmx1c2hBQlJFdmFsdWF0aW9uU2V0PWZ1bmN0aW9uKCl7cmV0dXJuW119O0cucHJvdG90eXBlLmdldFJlY2VudFNhbXBsZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jfTsvKgoKIENvcHlyaWdodCAyMDE1IEZhY2Vib29rIEluYy4KCiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoKICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KKi8KZnVuY3Rpb24gZ2IoYSxiLGMsZCl7Ry5jYWxsKHRoaXMsZCk7dGhpcy5nPWF8fDA7dGhpcy5mPXZvaWQgMD09PWI/SW5maW5pdHk6Yjt0aGlzLm09Y31yKGdiLEcpO3EoInNoYWthLnV0aWwuRVdNQUNhY2hlQmFuZHdpZHRoRXN0aW1hdG9yIixnYik7CmdiLnByb3RvdHlwZS5zYW1wbGU9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxoKXt2YXIgaz04RTMqYi9hO2UmJmUuc2V0Qnl0ZXMoYikuc2V0RGVsYXlNcyhwYXJzZUludChhLDEwKSk7YTw9dGhpcy5nJiZrPnRoaXMuZiYmIWg/KGUmJmUuc2V0RXZlbnQoInVuc2FtcGxlZCIpLnNldFJlYXNvbigiY2FjaGVkIikubG9nKCksZiYmIXRoaXMuc2hvdWxkRXhjbHVkZVNhbXBsZShiLGMpJiZmLmdldEV2ZW50TG9nZ2VyKCJiYW5kd2lkdGhfc2FtcGxlZCIpLnNldFJlc3VsdCgiYWJvcnRlZCIpLnNldExlbmd0aChiKS5zZXRDbGllbnRUaW1lQmVnaW4oRGF0ZS5ub3coKS1wYXJzZUludChhLDEwKSkuc2V0Q2xpZW50VGltZUVuZChEYXRlLm5vdygpKS5sb2coKSx0aGlzLm0oKSk6Ry5wcm90b3R5cGUuc2FtcGxlLmNhbGwodGhpcyxhLGIsYyxkLGUsZixnKX07Z2IucHJvdG90eXBlLnN1cHBvcnRzQ2FjaGluZz1mdW5jdGlvbigpe3JldHVybiBJbmZpbml0eSE9PXRoaXMuZiYmISF0aGlzLmd9OwpnYi5wcm90b3R5cGUuc2V0UmVwcmVzZW50YXRpb25JRD1mdW5jdGlvbigpe307Z2IucHJvdG90eXBlLmZsdXNoQUJSRXZhbHVhdGlvblNldD1mdW5jdGlvbigpe3JldHVybltdfTtmdW5jdGlvbiBoYigpe0cuY2FsbCh0aGlzKX1yKGhiLEcpO3EoInNoYWthLnV0aWwuRVdNQVNpZ25lZFVSTEJhbmR3aWR0aEVzdGltYXRvciIsaGIpO2hiLnByb3RvdHlwZS5zdXBwb3J0c0NhY2hpbmc9ZnVuY3Rpb24oKXtyZXR1cm4hMH07ZnVuY3Rpb24gSSgpe3ZhciBhLGIsYz1uZXcgUHJvbWlzZShmdW5jdGlvbihjLGUpe2E9YztiPWV9KTtjLnJlc29sdmU9YTtjLnJlamVjdD1iO2MuZGVzdHJveT1JLnByb3RvdHlwZS5kZXN0cm95O3JldHVybiBjfUkucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmNhdGNoKGZ1bmN0aW9uKCl7fSk7dmFyIGE9RXJyb3IoIkRlc3Ryb3llZCEiKTthLnR5cGU9ImRlc3Ryb3kiO3RoaXMucmVqZWN0KGEpfTtmdW5jdGlvbiBpYihhKXthLnNwbGl0KCIiKS5yZWR1Y2UoZnVuY3Rpb24oYSxjLGQpe3JldHVybiBhKyhkJiYwPT1kJTQ/IiAiK2M6Yyl9KX07ZnVuY3Rpb24gamIoKXt0aGlzLmxiPW5ldyBJO3RoaXMuYz0hMTt0aGlzLkFhPW51bGw7dGhpcy5hPVtdO3RoaXMuYj1udWxsfWZ1bmN0aW9uIGtiKGEsYil7aWYoYS5jKXRocm93IEVycm9yKCJDYW5ub3QgYXBwZW5kIHRvIGEgcnVubmluZyB0YXNrISIpO2EuYS5wdXNoKGIpfWpiLnByb3RvdHlwZS5zdGFydD1mdW5jdGlvbigpe2lmKHRoaXMuYyl0aHJvdyBFcnJvcigiVGFzayBhbHJlYWR5IHN0YXJ0ZWQhIik7dGhpcy5jPSEwO3RoaXMuYS51bnNoaWZ0KGZ1bmN0aW9uKCl7fSk7bGIodGhpcyx2b2lkIDApfTtqYi5wcm90b3R5cGUuYWJvcnQ9ZnVuY3Rpb24oKXtpZih0aGlzLkFhKXJldHVybiB0aGlzLkFhO2lmKCF0aGlzLmMpcmV0dXJuIHRoaXMuYz0hMCxQcm9taXNlLnJlc29sdmUoKTt0aGlzLmImJih0aGlzLmY9dGhpcy5iKCkpO3JldHVybiB0aGlzLkFhPW5ldyBJfTtqYi5wcm90b3R5cGUuZW5kPWZ1bmN0aW9uKCl7dGhpcy5hLnNwbGljZSgxKX07CmZ1bmN0aW9uIGxiKGEsYil7dmFyIGM9YS5hWzBdKGIpLGQ7Yz8oZD1jWzBdLGEuYj1jWzFdKTooZD1Qcm9taXNlLnJlc29sdmUoKSxhLmI9bnVsbCk7ZC50aGVuKEooYSxmdW5jdGlvbihhKXt0aGlzLkFhPyh0aGlzLmE9W10sdGhpcy5iPW51bGwsbWIodGhpcykpOih0aGlzLmEuc2hpZnQoKSx0aGlzLmEubGVuZ3RoP2xiKHRoaXMsYSk6KHRoaXMubGIucmVzb2x2ZShhKSx0aGlzLmI9bnVsbCkpfSkpLmNhdGNoKEooYSxmdW5jdGlvbihhKXt0aGlzLmE9W107dGhpcy5iPW51bGw7dGhpcy5BYT9tYih0aGlzKTp0aGlzLmxiLnJlamVjdChhKX0pKX0KZnVuY3Rpb24gbWIoYSl7ZnVuY3Rpb24gYigpe3ZhciBhPUVycm9yKCJUYXNrIGFib3J0ZWQuIik7YS50eXBlPSJhYm9ydGVkIjt0aGlzLmxiLnJlamVjdChhKTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhpcy5BYS5yZXNvbHZlKCk7dGhpcy5BYT1udWxsfS5iaW5kKHRoaXMpLDUpfWEuZj9hLmYudGhlbihmdW5jdGlvbigpe3RoaXMuZj1udWxsO2IuY2FsbCh0aGlzKX0uYmluZChhKSk6Yi5jYWxsKGEpfTtmdW5jdGlvbiBKKGEsYil7cmV0dXJuIGIuYmluZChhKX07ZnVuY3Rpb24gbmIoYSxiLGMsZCxlLGYsZyl7TWVkaWFTb3VyY2UuaXNUeXBlU3VwcG9ydGVkKGMpO0YuY2FsbCh0aGlzLGUpO2U9Yi5hZGRTb3VyY2VCdWZmZXIoYyk7dGhpcy5oPWE7dGhpcy5BPWI7dGhpcy5hPWU7dGhpcy5KPWQ7dGhpcy5CPW5ldyBiYjt0aGlzLkk9dGhpcy5sPXRoaXMuWT10aGlzLmk9bnVsbDt0aGlzLlI9ITE7dGhpcy5QPXRoaXMuSz10aGlzLk89MDt0aGlzLkc9bnVsbDt0aGlzLlY9dGhpcy5GPSExO3RoaXMuWj1mO3RoaXMuRD1udWxsO3RoaXMuJD1nP2c6bnVsbDt0aGlzLmI9W107dGhpcy5VPTA7dGhpcy5tPXRoaXMuYz10aGlzLmY9bnVsbDt0aGlzLlQ9amE7dGhpcy5vPXRoaXMudT0wO3RoaXMudz10aGlzLlM9ITE7dGhpcy5nPWMmJmMuY2hhckF0KDApO0UodGhpcy5CLHRoaXMuYSwidXBkYXRlZW5kIix0aGlzLm5kLmJpbmQodGhpcykpO3RoaXMuaC5nZXRCb29sKCJsaXN0ZW5fZm9yX2FzeW5jX2FwcGVuZF9idWZmZXJfZXJyb3JzIiwhMCkmJkUodGhpcy5CLAp0aGlzLmEsImVycm9yIix0aGlzLmFkLmJpbmQodGhpcykpO3RoaXMuaj1udWxsfXIobmIsRik7bmIucHJvdG90eXBlLkJhPWZ1bmN0aW9uKCl7cmV0dXJue1NvdXJjZUJ1ZmZlcjp0aGlzLmF9fTtmdW5jdGlvbiBvYihhLGIsYyl7YS5vYyYmYS5MYShiLHt0eXBlOmEuZy5jaGFyQXQoMCksc2VnbWVudDpjLHNvdXJjZUJ1ZmZlcjphLmF9KX12YXIgcGI9MS82MDtuYi5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuYWJvcnQoKS5jYXRjaChmdW5jdGlvbigpe30pO3RoaXMuYyYmdGhpcy5jLmRlc3Ryb3koKTt0aGlzLmI9dGhpcy5mPXRoaXMuYz1udWxsO3RoaXMuQi5kZXN0cm95KCk7dGhpcy5BPXRoaXMuYT10aGlzLkQ9dGhpcy5CPW51bGx9O2Z1bmN0aW9uIHFiKGEpe3ZhciBiPWEuYi5sZW5ndGg7cmV0dXJuIDA8Yj9hLmJbYi0xXTpudWxsfQpmdW5jdGlvbiByYihhLGIpe2Zvcih2YXIgYz1hLmEuYnVmZmVyZWQsZD0wO2Q8Yy5sZW5ndGg7KytkKXt2YXIgZT1jLnN0YXJ0KGQpLXBiLGY9Yy5lbmQoZCkrcGI7aWYoYj49ZSYmYjw9ZilyZXR1cm4gYy5lbmQoZCktYn1yZXR1cm4gMH1mdW5jdGlvbiBzYihhLGIsYyl7dmFyIGQ9Yi5lbmRUaW1lP2IuZW5kVGltZS1iLnN0YXJ0VGltZToxLGU9bmV3IHRiO2UuTmE9MztlLmM9MUUzKmQ7ZS5iPTFFMyphLlQ7ZS51PWEuWTtlLmo9YztlLmRhPWEuWjtlLm1pbWVUeXBlPWEuZztlLmg9YS4kO2Uubz1iLmlzUHJlZGljdGl2ZTtyZXR1cm4gZX1uPW5iLnByb3RvdHlwZTsKbi5mZXRjaD1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGgpe3ZhciBrLGw9Zj8icmVwbGFjaW5nX2xvd2VyX3F1YWxpdHlfYnVmZmVyIjpudWxsO2lmKHRoaXMubCl7dmFyIG09dGhpcy5iW3RoaXMuYi5sZW5ndGgtMV0scD1udWxsO20mJihwPTFFMyooYS5zdGFydFRpbWUtbS5lbmRUaW1lKSk7az10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJmZXRjaCIpLnNldFJlYXNvbihsKS5zZXRSZXNvdXJjZSh1YihhLnVybCkpLnNldFR5cGUodmIodGhpcykpLnNldExlbmd0aChNYXRoLnJvdW5kKDFFMyooYS5lbmRUaW1lLWEuc3RhcnRUaW1lKSkpLnNldFNlZ21lbnRTdGFydFRpbWUoMUUzKmEuc3RhcnRUaW1lKS5zZXRTZWdtZW50RW5kVGltZSgxRTMqYS5lbmRUaW1lKS5zZXRTZWdtZW50VGltZUdhcChwKS5zdGFydCgpfXRoaXMuaj1rO2lmKHRoaXMuZil7aWYodGhpcy5oLmdldEJvb2woInNibV9lbmFibGVfY29uY3VycmVudF9mZXRjaF9yZXF1ZXN0cyIsITEpKXt2YXIgdD1bXS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7CnJldHVybiB0aGlzLmYubGIudGhlbihKKHRoaXMsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mZXRjaC5hcHBseSh0aGlzLHQpfSksZnVuY3Rpb24oYSl7dGhyb3cgYTt9KX1tPUVycm9yKCJDYW5ub3QgZmV0Y2ggKCIrdGhpcy5nKyIpOiBwcmV2aW91cyBvcGVyYXRpb24gbm90IGNvbXBsZXRlLiIpO3RoaXMudT49dGhpcy5PPyhtLnR5cGU9InN0cmVhbSIsayYmay5zZXRFcnJvcihtKS5sb2coKSx0aGlzLnU9MCk6KHRoaXMudSsrLG0udHlwZT0iYWJvcnRlZCIpO3JldHVybiBQcm9taXNlLnJlamVjdChtKX10aGlzLmY9bmV3IGpiO2MhPXRoaXMuYS50aW1lc3RhbXBPZmZzZXQmJih0aGlzLmEudGltZXN0YW1wT2Zmc2V0PWMpO3ZhciBtPXNiKHRoaXMsYSxlKSxwPXRoaXMuaC5nZXRCb29sKCJlbmFibGVfc3RyZWFtaW5nX2NvZGVfcGF0aCIsITApLHc7dz1wP2EudXJsLnN0cmVhbShtLHRoaXMuSix0aGlzLmwsdGhpcy5qLHRoaXMuSSx2Yih0aGlzKSxsLGcsaCk6YS51cmwuZmV0Y2gobSwKdGhpcy5KLHRoaXMubCx0aGlzLmosdGhpcy5JLHZiKHRoaXMpLGwsZyk7b2IodGhpcywiU2VnbWVudEZldGNoaW5nIixhKTt2YXIgej1LLnByb3RvdHlwZS5LYS5iaW5kKGEudXJsKTt0aGlzLkcmJnRoaXMuRiYmKGQ9dGhpcy5HKTt2YXIgSD0wLGRhPW51bGw7ZCYmKHRoaXMuRz1kLHRoaXMuRj0hMSxrYih0aGlzLmYsZnVuY3Rpb24oKXtyZXR1cm5bZC50aGVuKGZ1bmN0aW9uKGEpe2EuWWE+SCYmKEg9YS5ZYSk7cmV0dXJuIHdiKHRoaXMsYSxudWxsKX0uYmluZCh0aGlzKSksdGhpcy5iYi5iaW5kKHRoaXMpXX0uYmluZCh0aGlzKSkpO3ZhciBlYT1mdW5jdGlvbihhKXthLllhPkgmJihIPWEuWWEpO2RhPWEuYnl0ZUxlbmd0aDt0aGlzLkouZ2V0QmFuZHdpZHRoKCk7dGhpcy5TJiZ0aGlzLmRpc3BhdGNoRXZlbnQoeSh7dHlwZToiY2VhNjA4Q2FwdGlvbnNCeXRlc1JlY2VpdmVkIixidWJibGVzOiEwLGRldGFpbDp7dGltZXNjYWxlOmIsdmlkZW9CeXRlczphfX0pKX0uYmluZCh0aGlzKTsKcD8oaCYmKG09aC5nZXRQcm9ncmVzc1RyYWNrZXIoKSx0aGlzLmkhPT1tJiYodGhpcy5pPW0pKSxrYih0aGlzLmYsSih0aGlzLGZ1bmN0aW9uKCl7dmFyIGI9bnVsbCxjPU1hdGgubWF4KDAsKGEudXJsLmVuZEJ5dGV8fDApLWEudXJsLnN0YXJ0Qnl0ZSksZD10aGlzLmguZ2V0TnVtYmVyKCJzdHJlYW1pbmdfYXBwZW5kX3Blcl9zZWdtZW50IiwzKSxlPTA9PT1kPzA6Yy9kO3JldHVyblt3LnRoZW4oZnVuY3Rpb24oYyl7Yj1jO3RoaXMudz0hMTtyZXR1cm4geGIodGhpcyxjLGEsZSl9LmJpbmQodGhpcykpLnRoZW4oZnVuY3Rpb24oYSl7Yj1udWxsO3JldHVybiBhfSkudGhlbihlYSkuY2F0Y2goZnVuY3Rpb24oYSl7dGhpcy5oLmdldEJvb2woImFib3J0X2ZldGNoX29uX25ldF9lcnJvciIsITEpJiZoJiYodGhpcy5hLmFib3J0KCksdGhpcy53PSEwKTtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYSl9LmJpbmQodGhpcykpLGZ1bmN0aW9uKCl7b2IodGhpcywiU2VnbWVudEZhaWxlZCIsYSk7CmImJihiLmNhbmNlbCgiYWJvcnQiKSxiPW51bGwsaCYmKHRoaXMuYS5hYm9ydCgpLHRoaXMudz0hMCkpO3ooKTtyZXR1cm4gdGhpcy5iYigpfS5iaW5kKHRoaXMpXX0pKSk6a2IodGhpcy5mLEoodGhpcyxmdW5jdGlvbigpe3JldHVyblt3LnRoZW4oZnVuY3Rpb24oYil7b2IodGhpcywiU2VnbWVudEZldGNoZWQiLGEpO2VhKGIpO3JldHVybiB3Yih0aGlzLGIsYSxsKX0uYmluZCh0aGlzKSksZnVuY3Rpb24oKXtvYih0aGlzLCJTZWdtZW50RmFpbGVkIixhKTt6KCk7cmV0dXJuIHRoaXMuYmIoKX0uYmluZCh0aGlzKV19KSk7dmFyIEFhPTA9PXRoaXMuYS5idWZmZXJlZC5sZW5ndGgmJjA9PXRoaXMuYi5sZW5ndGgsY2I9bnVsbDtrYih0aGlzLmYsZnVuY3Rpb24oKXtpZigwPT10aGlzLmEuYnVmZmVyZWQubGVuZ3RoJiYhdGhpcy5WKXt2YXIgYj1FcnJvcigiRmFpbGVkIHRvIGJ1ZmZlciBzZWdtZW50ICgiK3RoaXMuZysiKS4iKTtiLnR5cGU9InN0cmVhbSI7cmV0dXJuW1Byb21pc2UucmVqZWN0KGIpXX10aGlzLmEuYnVmZmVyZWQubGVuZ3RoJiYKQWEmJihiPWEuc3RhcnRUaW1lLGNiPXRoaXMuYS5idWZmZXJlZC5zdGFydCgwKS1iKTtiPXliKHRoaXMuYixhLnN0YXJ0VGltZSk7MDw9Yj90aGlzLmIuc3BsaWNlKGIrMSwwLGEpOnRoaXMuYi5wdXNoKGEpfS5iaW5kKHRoaXMpKTt0aGlzLnU9MDtyZXR1cm4gemIodGhpcykudGhlbihmdW5jdGlvbigpe2smJmsubG9nKCk7cmV0dXJuIFByb21pc2UucmVzb2x2ZSh7VzpjYixXYzpILEg6YS5lbmRUaW1lLWEuc3RhcnRUaW1lLERjOmRhfSl9LmJpbmQodGhpcyksZnVuY3Rpb24oYSl7ayYmay5zZXRFcnJvcihhKS5sb2coKTthPUFiKGEsInRhc2siLCJBbiB1bmtub3duIHRhc2sgZXJyb3Igb2NjdXJyZWQuIik7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfS5iaW5kKHRoaXMpKX07CmZ1bmN0aW9uIHhiKGEsYixjLGQpe3ZhciBlPW5ldyBBcnJheUJ1ZmZlcigwKSxmPW5ldyBBcnJheUJ1ZmZlcigwKSxnPWZ1bmN0aW9uKCl7cmV0dXJuIGIucmVhZCgpLnRoZW4oZnVuY3Rpb24oYSl7dmFyIGI9YS52YWx1ZTthPWEuZG9uZTtpZih0aGlzLnd8fGEmJjA9PT1mLmJ5dGVMZW5ndGgpcmV0dXJuIGU7aWYoIWEmJiFiKXJldHVybiBnKCk7YiYmKGIgaW5zdGFuY2VvZiBVaW50OEFycmF5JiYoYj1iLmJ1ZmZlciksZj1jb25jYXRBcnJheUJ1ZmZlcihmLGIpKTtyZXR1cm4gZi5ieXRlTGVuZ3RoPj1kfHxhPyh0aGlzLmkmJnRoaXMuaS5ub3RpZnlCeXRlc0NvbnN1bWVkKGYuYnl0ZUxlbmd0aCksb2IodGhpcywiU2VnbWVudEZldGNoZWQiLGMpLGU9Y29uY2F0QXJyYXlCdWZmZXIoZSxmKSxiPWYsZj1uZXcgQXJyYXlCdWZmZXIoMCksd2IodGhpcyxiLGMpLnRoZW4oZykpOmcoKX0uYmluZCh0aGlzKSl9LmJpbmQoYSk7cmV0dXJuIGcoKX0KZnVuY3Rpb24gQmIoYSl7aWYoYS5mKXt2YXIgYj1FcnJvcigiQ2Fubm90IGNsZWFyICgiK2EuZysiKTogcHJldmlvdXMgb3BlcmF0aW9uIG5vdCBjb21wbGV0ZS4iKTthLm8+PWEuSz8oYi50eXBlPSJzdHJlYW0iLGEubz0wKTooYS5vKyssYi50eXBlPSJhYm9ydGVkIik7cmV0dXJuIFByb21pc2UucmVqZWN0KGIpfWEuZj1uZXcgamI7a2IoYS5mLGZ1bmN0aW9uKCl7dmFyIGE7YTppZigwPT10aGlzLmEuYnVmZmVyZWQubGVuZ3RoKWE9UHJvbWlzZS5yZXNvbHZlKCk7ZWxzZXt0cnl7dGhpcy5hLnJlbW92ZSgwLHRoaXMuQS5kdXJhdGlvbil9Y2F0Y2goYil7Yj1BYihiLCJjbGVhcl9idWZmZXIiLCJBbiBlcnJvciBvY2N1cmVkIHdoZW4gY2xlYXJpbmcgdGhlIGJ1ZmZlci4iKTthPVByb21pc2UucmVqZWN0KGIpO2JyZWFrIGF9dGhpcy5iPVtdO2E9dGhpcy5jPW5ldyBJfXJldHVyblthLHRoaXMuYmIuYmluZCh0aGlzKV19LmJpbmQoYSkpO2Eubz0wO3JldHVybiB6YihhKX0KZnVuY3Rpb24gQ2IoYSxiKXtpZihhLmYpe3ZhciBjPUVycm9yKCJDYW5ub3QgY2xlYXJBZnRlciAoIithLmcrIik6IHByZXZpb3VzIG9wZXJhdGlvbiBub3QgY29tcGxldGUuIik7Yy50eXBlPSJzdHJlYW0iO3JldHVybiBQcm9taXNlLnJlamVjdChjKX1hLmY9bmV3IGpiO2tiKGEuZixmdW5jdGlvbigpe3JldHVybltEYih0aGlzLGIpLHRoaXMuYmIuYmluZCh0aGlzKV19LmJpbmQoYSkpO3JldHVybiB6YihhKX1mdW5jdGlvbiBFYihhLGIpe2EuYz1uZXcgSTt2YXIgYz1iLTU7aWYoMDxjKXt0cnl7YS5hLnJlbW92ZSgwLGMpfWNhdGNoKGQpe3JldHVybiBkPUFiKGQsImNsZWFyX2J1ZmZlciIsIkFuIGVycm9yIG9jY3VyZWQgd2hlbiBjbGVhcmluZyB0aGUgYnVmZmVyLiIpLFByb21pc2UucmVqZWN0KGQpfWM9RmIoYSxjKTswPGMmJihhLmI9YS5iLnNsaWNlKGMsYS5iLmxlbmd0aCkpfWVsc2UgYS5jLnJlc29sdmUoKTtyZXR1cm4gYS5jfQpuLmFib3J0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZj90aGlzLmYuYWJvcnQoKTpQcm9taXNlLnJlc29sdmUoKX07ZnVuY3Rpb24gR2IoYSl7Zm9yKHZhciBiPWEuY3VycmVudFRpbWUsYz1iLGQ9MDtkPGEuYnVmZmVyZWQubGVuZ3RoO2QrKylpZihiPD1hLmJ1ZmZlcmVkLnN0YXJ0KGQpKXtjPWEuYnVmZmVyZWQuc3RhcnQoZCk7YnJlYWt9cmV0dXJuIGN9ZnVuY3Rpb24gSGIoYSxiKXtmb3IodmFyIGM9Yi5jdXJyZW50VGltZSxkPTA7ZDxiLmJ1ZmZlcmVkLmxlbmd0aDtkKyspaWYoYz49Yi5idWZmZXJlZC5zdGFydChkKSYmYzw9Yi5idWZmZXJlZC5lbmQoZCktYS5QKXJldHVybiExO3JldHVybiEwfQpmdW5jdGlvbiB6YihhKXthLmYuc3RhcnQoKTtyZXR1cm4gYS5mLmxiLnRoZW4oSihhLGZ1bmN0aW9uKCl7dGhpcy5mPW51bGx9KSkuY2F0Y2goSihhLGZ1bmN0aW9uKGEpe3RoaXMuZj1udWxsO2E9QWIoYSwidGFzayIsIkFuIHVua25vd24gdGFzayBlcnJvciBvY2N1cnJlZC4iKTtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYSl9KSl9CmZ1bmN0aW9uIHdiKGEsYixjLGQpe3ZhciBlO2lmKGEubCl7dmFyIGY9Yz91YihjLnVybCk6ImluaXQiO2U9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigiYXBwZW5kIikuc2V0UmVhc29uKGQpLnNldFJlc291cmNlKGYpLnNldFR5cGUodmIoYSkpLnNldExlbmd0aChiLmJ5dGVMZW5ndGgpLnN0YXJ0KCk7bnVsbCE9PWMmJihlPWUuc2V0U2VnbWVudFN0YXJ0VGltZSgxRTMqYy5zdGFydFRpbWUpLnNldFNlZ21lbnRFbmRUaW1lKDFFMypjLmVuZFRpbWUpKTthLmomJihlPWUuc2V0UGFyZW50TG9nZ2VyKGEuaikpfXRyeXthLmEuYXBwZW5kQnVmZmVyKGIpfWNhdGNoKGcpe3JldHVybiBhLmguZ2V0Qm9vbCgibnVrZV9zb3VyY2VfYnVmZmVyX29uX3F1b3RhX2V4Y2VlZGVkX2VyciIsITApJiZnIGluc3RhbmNlb2YgRE9NRXhjZXB0aW9uJiZnLmNvZGU9PT1ET01FeGNlcHRpb24uUVVPVEFfRVhDRUVERURfRVJSJiZnLm1lc3NhZ2UubWF0Y2goL14uKlNvdXJjZUJ1ZmZlci4qZnVsbC4qZnJlZVxzc3BhY2UuKiQvKSYmCihnLnR5cGU9InNvdXJjZWJ1ZmZlcl9mdWxsIiksZSYmZS5zZXRFcnJvcihnKS5sb2coKSxQcm9taXNlLnJlamVjdChnKX1hLmM9bmV3IEk7YS5tPWM7cmV0dXJuIGEuYy50aGVuKGZ1bmN0aW9uKCl7ZSYmZS5sb2coKX0sZnVuY3Rpb24oYSl7ZSYmZS5zZXRFcnJvcihhKS5sb2coKTtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYSl9KX1uLmFkPWZ1bmN0aW9uKGEpe2E9YS5lcnJvcnx8RXJyb3IoIkNhbGwgdG8gYXBwZW5kQnVmZmVyIGZhaWxlZCB0byBhcHBlbmQgdGhlIHNlZ21lbnQuIik7YT1BYihhLCJzdHJlYW0iLCJDYWxsIHRvIGFwcGVuZEJ1ZmZlciBmYWlsZWQgdG8gYXBwZW5kIHRoZSBzZWdtZW50LiIpO3RoaXMuYyYmdGhpcy5jLnJlamVjdChhKX07CmZ1bmN0aW9uIERiKGEsYil7aWYoMD09YS5hLmJ1ZmZlcmVkLmxlbmd0aClyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7dmFyIGM9RmIoYSxiKTtpZigtMT09Y3x8Yz09YS5iLmxlbmd0aC0xKXJldHVybiBQcm9taXNlLnJlc29sdmUoKTt0cnl7YS5hLnJlbW92ZShhLmJbYysxXS5zdGFydFRpbWUsYS5BLmR1cmF0aW9uKX1jYXRjaChkKXtyZXR1cm4gUHJvbWlzZS5yZWplY3QoZCl9YS5iPWEuYi5zbGljZSgwLGMrMSk7YS5jPW5ldyBJO3JldHVybiBhLmN9bi5iYj1mdW5jdGlvbigpe2lmKHRoaXMuYyl7aWYoIm9wZW4iPT10aGlzLkEucmVhZHlTdGF0ZSl7dmFyIGE9RXJyb3IoIlByZXZpb3VzIG9wZXJhdGlvbiBhYm9ydGVkLiIpO2EudHlwZT0iYWJvcnRlZCI7dGhpcy5jLnJlamVjdChhKTt0aGlzLmEuYWJvcnQoKTt0aGlzLlImJih0aGlzLkY9ITApO3RoaXMuYz1uZXcgSX1yZXR1cm4gdGhpcy5jfXJldHVybiBQcm9taXNlLnJlc29sdmUoKX07Cm4ubmQ9ZnVuY3Rpb24oKXt0aGlzLmMmJih0aGlzLm0mJihvYih0aGlzLCJTZWdtZW50QXBwZW5kZWQiLHRoaXMubSksdGhpcy5tPW51bGwpLHRoaXMuYy5yZXNvbHZlKCksdGhpcy5jPW51bGwpfTtuLkRkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaX07bmIucHJvdG90eXBlLmdldFN0cmVhbVByb2dyZXNzVHJhY2tlcj1uYi5wcm90b3R5cGUuRGQ7ZnVuY3Rpb24gdmIoYSl7cmV0dXJuInYiPT09YS5nLmNoYXJBdCgwKT8idmlkZW8iOiJhIj09PWEuZy5jaGFyQXQoMCk/ImF1ZGlvIjpudWxsfWZ1bmN0aW9uIEFiKGEsYixjKXthfHwoYT1FcnJvcihjKSk7YS50eXBlfHwoYS50eXBlPWIpO2EubWVzc2FnZXx8KGEubWVzc2FnZT1jKTtyZXR1cm4gYX0KZnVuY3Rpb24gRmIoYSxiKXtpZihhLmguZ2V0Qm9vbCgic2JtX3VzZV9zZWdtZW50X2luZGV4X3RvX2ZpbmRfdGltZXN0YW1wcyIsITEpJiZhLkQpe3ZhciBjPWEuRC5maW5kKGIpO2lmKGMpcmV0dXJuIHliKGEuYixjLnN0YXJ0VGltZSl9ZWxzZSByZXR1cm4geWIoYS5iLGIpO3JldHVybi0xfTtmdW5jdGlvbiBJYihhKXtyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLGEpfXEoInNoYWthLnV0aWwuVWludDhBcnJheVV0aWxzLnRvU3RyaW5nIixJYik7ZnVuY3Rpb24gSmIoYSl7Zm9yKHZhciBiPW5ldyBVaW50OEFycmF5KGEubGVuZ3RoKSxjPTA7YzxhLmxlbmd0aDsrK2MpYltjXT1hLmNoYXJDb2RlQXQoYyk7cmV0dXJuIGJ9cSgic2hha2EudXRpbC5VaW50OEFycmF5VXRpbHMuZnJvbVN0cmluZyIsSmIpO3EoInNoYWthLnV0aWwuVWludDhBcnJheVV0aWxzLnRvQmFzZTY0IixmdW5jdGlvbihhLGIpe3ZhciBjPXZvaWQgMD09Yj8hMDpiLGQ9d2luZG93LmJ0b2EoSWIoYSkpLnJlcGxhY2UoL1wrL2csIi0iKS5yZXBsYWNlKC9cLy9nLCJfIik7cmV0dXJuIGM/ZDpkLnJlcGxhY2UoLz0qJC8sIiIpfSk7ZnVuY3Rpb24gS2IoYSl7cmV0dXJuIEpiKHdpbmRvdy5hdG9iKGEucmVwbGFjZSgvLS9nLCIrIikucmVwbGFjZSgvXy9nLCIvIikpKX0KcSgic2hha2EudXRpbC5VaW50OEFycmF5VXRpbHMuZnJvbUJhc2U2NCIsS2IpO3EoInNoYWthLnV0aWwuVWludDhBcnJheVV0aWxzLmZyb21IZXgiLGZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1uZXcgVWludDhBcnJheShhLmxlbmd0aC8yKSxjPTA7YzxhLmxlbmd0aDtjKz0yKWJbYy8yXT13aW5kb3cucGFyc2VJbnQoYS5zdWJzdHIoYywyKSwxNik7cmV0dXJuIGJ9KTtmdW5jdGlvbiBMYihhKXtmb3IodmFyIGI9IiIsYz0wO2M8YS5sZW5ndGg7KytjKXt2YXIgZD1hW2NdLnRvU3RyaW5nKDE2KTsxPT1kLmxlbmd0aCYmKGQ9IjAiK2QpO2IrPWR9cmV0dXJuIGJ9cSgic2hha2EudXRpbC5VaW50OEFycmF5VXRpbHMudG9IZXgiLExiKTtmdW5jdGlvbiBNYShhLGIpe2lmKCFhJiYhYilyZXR1cm4hMDtpZighYXx8IWJ8fGEubGVuZ3RoIT1iLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIGM9MDtjPGEubGVuZ3RoOysrYylpZihhW2NdIT1iW2NdKXJldHVybiExO3JldHVybiEwfTtmdW5jdGlvbiBNYigpe3RoaXMuaT10aGlzLmE9IiI7dGhpcy53aXRoQ3JlZGVudGlhbHM9ITE7dGhpcy5vPXRoaXMuZj1udWxsO3RoaXMuaj10aGlzLmg9ITE7dGhpcy5tPXRoaXMuZz0iIjt0aGlzLmM9bnVsbDt0aGlzLmI9W119ZnVuY3Rpb24gTmIoYSxiKXt2YXIgYz1uZXcgTWI7Yy5hPWEuYTtjLmk9YS5pO2Mud2l0aENyZWRlbnRpYWxzPWEud2l0aENyZWRlbnRpYWxzO2MuZj1hLmY7Yy5vPWEubztjLmg9YS5oO2Muaj1hLmo7Yy5nPWEuZztjLm09YS5tO2MuYz1hLmM/bmV3IFVpbnQ4QXJyYXkoYS5jLmJ1ZmZlcik6bnVsbDtPYihjLGEuYik7T2IoYyxiLmIpO3JldHVybiBjfWZ1bmN0aW9uIE9iKGEsYil7dmFyIGM9YS5iLmNvbmNhdChiLm1hcChmdW5jdGlvbihhKXtyZXR1cm57aW5pdERhdGE6bmV3IFVpbnQ4QXJyYXkoYS5pbml0RGF0YS5idWZmZXIpLGluaXREYXRhVHlwZTphLmluaXREYXRhVHlwZX19KSk7YS5iPXdhKGMpfQpmdW5jdGlvbiB4YShhLGIpe3JldHVybiBhLmluaXREYXRhVHlwZT09Yi5pbml0RGF0YVR5cGUmJk1hKGEuaW5pdERhdGEsYi5pbml0RGF0YSl9O2Z1bmN0aW9uIFBiKGEsYixjLGQpe3RoaXMud2l0aENyZWRlbnRpYWxzPWM7dGhpcy5hPVtdO2QmJnRoaXMuYS5wdXNoKGQpfXEoInNoYWthLnBsYXllci5Ecm1TY2hlbWVJbmZvIixQYik7UGIuRGlzdGluY3RpdmVJZGVudGlmaWVyPXtPUFRJT05BTDowLFJFUVVJUkVEOjF9O1BiLlBlcnNpc3RlbnRTdGF0ZT17T1BUSU9OQUw6MCxSRVFVSVJFRDoxfTtQYi5jcmVhdGVVbmVuY3J5cHRlZD1mdW5jdGlvbigpe3JldHVybiBuZXcgUGIoMCwwLCExLG51bGwpfTtmdW5jdGlvbiBRYihhKXt0aGlzLnN5c3RlbUlkcz1bXTt0aGlzLmNlbmNLZXlJZHM9W107dGhpcy5hPVtdO2E9bmV3IEJhKG5ldyBEYXRhVmlldyhhLmJ1ZmZlcikpO3RyeXtmb3IoO0RhKGEpOyl7dmFyIGI9YS5hLGM9dihhKSxkPXYoYSk7MT09Yz9jPUZhKGEpOjA9PWMmJihjPWEuYi5ieXRlTGVuZ3RoLWIpO2lmKDE4ODY2MTQzNzYhPWQpSGEoYSxjLShhLmEtYikpO2Vsc2V7dmFyIGU9RWEoYSk7aWYoMTxlKUhhKGEsYy0oYS5hLWIpKTtlbHNle0hhKGEsMyk7dmFyIGY9TGIoR2EoYSkpLGc9W107aWYoMDxlKWZvcih2YXIgaD12KGEpLGs9MDtrPGg7KytrKXt2YXIgbD1MYihHYShhKSk7Zy5wdXNoKGwpfXZhciBtPXYoYSk7SGEoYSxtKTt0aGlzLmNlbmNLZXlJZHMucHVzaC5hcHBseSh0aGlzLmNlbmNLZXlJZHMsZyk7dGhpcy5zeXN0ZW1JZHMucHVzaChmKTt0aGlzLmEucHVzaCh7c3RhcnQ6YixlbmQ6YS5hLTF9KTthLmEhPWIrYyYmSGEoYSxjLShhLmEtYikpfX19fWNhdGNoKHApe319Cjt2YXIgUmI9L14oPzooW146Lz8jLl0rKTopPyg/OlwvXC8oPzooW14vPyNdKilAKT8oW14vIz9dKj8pKD86OihbMC05XSspKT8oPz1bLyM/XXwkKSk/KFtePyNdKyk/KD86XD8oW14jXSopKT8oPzojKC4qKSk/JC87ZnVuY3Rpb24gTChhKXt2YXIgYjthIGluc3RhbmNlb2YgTD8oU2IodGhpcyxhLnphKSx0aGlzLlVhPWEuVWEsdGhpcy5oYT1hLmhhLFRiKHRoaXMsYS5YYSksdGhpcy51YT1hLnVhLFViKHRoaXMsYS5hLmNsb25lKCkpLHRoaXMuTWE9YS5NYSk6YSYmKGI9U3RyaW5nKGEpLm1hdGNoKFJiKSk/KFNiKHRoaXMsYlsxXXx8IiIsITApLHRoaXMuVWE9VmIoYlsyXXx8IiIpLHRoaXMuaGE9VmIoYlszXXx8IiIsITApLFRiKHRoaXMsYls0XSksdGhpcy51YT1WYihiWzVdfHwiIiwhMCksVWIodGhpcyxiWzZdfHwiIiwhMCksdGhpcy5NYT1WYihiWzddfHwiIikpOnRoaXMuYT1uZXcgV2IobnVsbCl9bj1MLnByb3RvdHlwZTtuLnphPSIiO24uVWE9IiI7bi5oYT0iIjtuLlhhPW51bGw7bi51YT0iIjtuLk1hPSIiOwpuLnRvU3RyaW5nPWZ1bmN0aW9uKCl7dmFyIGE9W10sYj10aGlzLnphO2ImJmEucHVzaChYYihiLFliLCEwKSwiOiIpO2lmKGI9dGhpcy5oYSl7YS5wdXNoKCIvLyIpO3ZhciBjPXRoaXMuVWE7YyYmYS5wdXNoKFhiKGMsWWIsITApLCJAIik7YS5wdXNoKGVuY29kZVVSSUNvbXBvbmVudChiKS5yZXBsYWNlKC8lMjUoWzAtOWEtZkEtRl17Mn0pL2csIiUkMSIpKTtiPXRoaXMuWGE7bnVsbCE9YiYmYS5wdXNoKCI6IixTdHJpbmcoYikpfWlmKGI9dGhpcy51YSl0aGlzLmhhJiYiLyIhPWIuY2hhckF0KDApJiZhLnB1c2goIi8iKSxhLnB1c2goWGIoYiwiLyI9PWIuY2hhckF0KDApP1piOiRiLCEwKSk7KGI9dGhpcy5hLnRvU3RyaW5nKCkpJiZhLnB1c2goIj8iLGIpOyhiPXRoaXMuTWEpJiZhLnB1c2goIiMiLFhiKGIsYWMpKTtyZXR1cm4gYS5qb2luKCIiKX07Cm4ucmVzb2x2ZT1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmNsb25lKCk7ImRhdGEiPT09Yi56YSYmKGI9bmV3IEwpO3ZhciBjPSEhYS56YTtjP1NiKGIsYS56YSk6Yz0hIWEuVWE7Yz9iLlVhPWEuVWE6Yz0hIWEuaGE7Yz9iLmhhPWEuaGE6Yz1udWxsIT1hLlhhO3ZhciBkPWEudWE7aWYoYylUYihiLGEuWGEpO2Vsc2UgaWYoYz0hIWEudWEpe2lmKCIvIiE9ZC5jaGFyQXQoMCkpaWYodGhpcy5oYSYmIXRoaXMudWEpZD0iLyIrZDtlbHNle3ZhciBlPWIudWEubGFzdEluZGV4T2YoIi8iKTstMSE9ZSYmKGQ9Yi51YS5zdWJzdHIoMCxlKzEpK2QpfWlmKCIuLiI9PWR8fCIuIj09ZClkPSIiO2Vsc2UgaWYoLTEhPWQuaW5kZXhPZigiLi8iKXx8LTEhPWQuaW5kZXhPZigiLy4iKSl7Zm9yKHZhciBlPTA9PWQubGFzdEluZGV4T2YoIi8iLDApLGQ9ZC5zcGxpdCgiLyIpLGY9W10sZz0wO2c8ZC5sZW5ndGg7KXt2YXIgaD1kW2crK107Ii4iPT1oP2UmJmc9PWQubGVuZ3RoJiZmLnB1c2goIiIpOiIuLiI9PQpoPygoMTxmLmxlbmd0aHx8MT09Zi5sZW5ndGgmJiIiIT1mWzBdKSYmZi5wb3AoKSxlJiZnPT1kLmxlbmd0aCYmZi5wdXNoKCIiKSk6KGYucHVzaChoKSxlPSEwKX1kPWYuam9pbigiLyIpfX1jP2IudWE9ZDpjPSIiIT09YS5hLnRvU3RyaW5nKCk7Yz9VYihiLGEuYS5jbG9uZSgpKTpjPSEhYS5NYTtjJiYoYi5NYT1hLk1hKTtyZXR1cm4gYn07bi5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgTCh0aGlzKX07ZnVuY3Rpb24gU2IoYSxiLGMpe2EuemE9Yz9WYihiLCEwKTpiO2EuemEmJihhLnphPWEuemEucmVwbGFjZSgvOiQvLCIiKSl9ZnVuY3Rpb24gVGIoYSxiKXtpZihiKXtiPU51bWJlcihiKTtpZihpc05hTihiKXx8MD5iKXRocm93IEVycm9yKCJCYWQgcG9ydCBudW1iZXIgIitiKTthLlhhPWJ9ZWxzZSBhLlhhPW51bGx9ZnVuY3Rpb24gVWIoYSxiLGMpe2IgaW5zdGFuY2VvZiBXYj9hLmE9YjooY3x8KGI9WGIoYixiYykpLGEuYT1uZXcgV2IoYikpfQpmdW5jdGlvbiBWYihhLGIpe3JldHVybiBhP2I/ZGVjb2RlVVJJKGEpOmRlY29kZVVSSUNvbXBvbmVudChhKToiIn1mdW5jdGlvbiBYYihhLGIsYyl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBhPyhhPWVuY29kZVVSSShhKS5yZXBsYWNlKGIsY2MpLGMmJihhPWEucmVwbGFjZSgvJTI1KFswLTlhLWZBLUZdezJ9KS9nLCIlJDEiKSksYSk6bnVsbH1mdW5jdGlvbiBjYyhhKXthPWEuY2hhckNvZGVBdCgwKTtyZXR1cm4iJSIrKGE+PjQmMTUpLnRvU3RyaW5nKDE2KSsoYSYxNSkudG9TdHJpbmcoMTYpfXZhciBZYj0vWyNcL1w/QF0vZywkYj0vW1wjXD86XS9nLFpiPS9bXCNcP10vZyxiYz0vW1wjXD9AXS9nLGFjPS8jL2c7ZnVuY3Rpb24gV2IoYSl7dGhpcy5iPWF8fG51bGx9V2IucHJvdG90eXBlLmE9bnVsbDtXYi5wcm90b3R5cGUuYz1udWxsOwpmdW5jdGlvbiBkYyhhLGIsYyl7aWYoIWEuYSYmKGEuYT17fSxhLmM9MCxhLmIpKWZvcih2YXIgZD1hLmIuc3BsaXQoIiYiKSxlPTA7ZTxkLmxlbmd0aDtlKyspe3ZhciBmPWRbZV0uaW5kZXhPZigiPSIpLGc9bnVsbCxoPW51bGw7MDw9Zj8oZz1kW2VdLnN1YnN0cmluZygwLGYpLGg9ZFtlXS5zdWJzdHJpbmcoZisxKSk6Zz1kW2VdO2c9ZGVjb2RlVVJJQ29tcG9uZW50KGcucmVwbGFjZSgvXCsvZywiICIpKTtoPWh8fCIiO2RjKGEsZyxkZWNvZGVVUklDb21wb25lbnQoaC5yZXBsYWNlKC9cKy9nLCIgIikpKX1hLmI9bnVsbDsoZD1hLmEuaGFzT3duUHJvcGVydHkoYikmJmEuYVtiXSl8fChhLmFbYl09ZD1bXSk7ZC5wdXNoKGMpO2EuYysrfQpXYi5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtpZih0aGlzLmIpcmV0dXJuIHRoaXMuYjtpZighdGhpcy5hKXJldHVybiIiO3ZhciBhPVtdLGI7Zm9yKGIgaW4gdGhpcy5hKWZvcih2YXIgYz1lbmNvZGVVUklDb21wb25lbnQoYiksZD10aGlzLmFbYl0sZT0wO2U8ZC5sZW5ndGg7ZSsrKXt2YXIgZj1jOyIiIT09ZFtlXSYmKGYrPSI9IitlbmNvZGVVUklDb21wb25lbnQoZFtlXSkpO2EucHVzaChmKX1yZXR1cm4gdGhpcy5iPWEuam9pbigiJiIpfTtXYi5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgV2I7YS5iPXRoaXMuYjtpZih0aGlzLmEpe3ZhciBiPXt9LGM7Zm9yKGMgaW4gdGhpcy5hKWJbY109dGhpcy5hW2NdLmNvbmNhdCgpO2EuYT1iO2EuYz10aGlzLmN9cmV0dXJuIGF9O2Z1bmN0aW9uIGVjKGEsYixjKXt2YXIgZD1hLmluZGV4T2YoIjw/eG1sIik7MDw9ZCYmKGE9YS5zdWJzdHIoZCkpO2E9KG5ldyBET01QYXJzZXIpLnBhcnNlRnJvbVN0cmluZyhhLCJ0ZXh0L3htbCIpO2lmKCFhKXJldHVybiBudWxsOyJzdHJpbmciPT09dHlwZW9mIGImJihiPVtuZXcgTChiKV0pO2I9Ynx8W25ldyBMKCIiKV07Yz1jfHxbbmV3IEwoIiIpXTtyZXR1cm4gTSh7QWM6YixiYXNlVXJsOmN9LGEsZmMpfXEoInNoYWthLmRhc2gubXBkLnBhcnNlTXBkIixlYyk7CmZ1bmN0aW9uIGZjKCl7dGhpcy5pZD10aGlzLnVybD1udWxsO3RoaXMudHlwZT0ic3RhdGljIjt0aGlzLkZCSXNMaXZlVGVtcGxhdGVkPXRoaXMuRkJXYXNMaXZlPXRoaXMubWFuaWZlc3RJc0xpdmVTdHJlYW1pbmc9ITE7dGhpcy5GQk1hbmlmZXN0SWRlbnRpZmllcj0iIjt0aGlzLkZCTVM9ITE7dGhpcy51PXRoaXMuYmFzZVVybD10aGlzLkFjPW51bGw7dGhpcy5qPXRoaXMuaT10aGlzLmg9MDt0aGlzLmI9bnVsbDt0aGlzLm09NTt0aGlzLmY9dGhpcy5jPXRoaXMuZz1udWxsO3RoaXMubz0xO3RoaXMubGFzdFZpZGVvRnJhbWVUcz10aGlzLmN1cnJlbnRTZXJ2ZXJUaW1lTXM9MDt0aGlzLmE9W119ZnVuY3Rpb24gZ2MoKXt0aGlzLmY9dGhpcy5jPXRoaXMuYj10aGlzLmJhc2VVcmw9dGhpcy5kdXJhdGlvbj10aGlzLnN0YXJ0PXRoaXMuaWQ9bnVsbDt0aGlzLmE9W119CmZ1bmN0aW9uIGhjKCl7dGhpcy5jPXRoaXMuY29kZWNzPXRoaXMubWltZVR5cGU9dGhpcy5oZWlnaHQ9dGhpcy53aWR0aD10aGlzLmNvbnRlbnRUeXBlPXRoaXMubGFuZz10aGlzLmdyb3VwPXRoaXMuaWQ9bnVsbDt0aGlzLmY9ITE7dGhpcy5pPXRoaXMuaD10aGlzLmc9dGhpcy5iYXNlVXJsPW51bGw7dGhpcy5qPVtdO3RoaXMuYT1bXTt0aGlzLmI9bnVsbH1mdW5jdGlvbiBpYygpe3RoaXMudmFsdWU9bnVsbH1mdW5jdGlvbiBqYygpe3RoaXMubGFuZz10aGlzLmE9bnVsbH1mdW5jdGlvbiBrYygpe3RoaXMuY29udGVudFR5cGU9dGhpcy5sYW5nPXRoaXMuaWQ9bnVsbH1mdW5jdGlvbiBsYygpe3RoaXMuZGF0YT1udWxsfWZ1bmN0aW9uIG1jKCl7dGhpcy5kYXRhPW51bGx9CmZ1bmN0aW9uIG5jKCl7dGhpcy5hPXRoaXMuYj10aGlzLmY9dGhpcy5pPXRoaXMuYmFzZVVybD10aGlzLmo9dGhpcy5mcmFtZVJhdGU9dGhpcy51PXRoaXMubz10aGlzLm09dGhpcy5mYlF1YWxpdHlDbGFzcz10aGlzLmZiUXVhbGl0eUxhYmVsPXRoaXMuaD10aGlzLmc9dGhpcy5jb2RlY3M9dGhpcy5taW1lVHlwZT10aGlzLmhlaWdodD10aGlzLndpZHRoPXRoaXMuYmFuZHdpZHRoPXRoaXMubGFuZz10aGlzLmlkPW51bGw7dGhpcy5jPVtdfWZ1bmN0aW9uIG9jKCl7dGhpcy52YWx1ZT10aGlzLmE9bnVsbH1vYy5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgb2M7YS5hPXRoaXMuYTthLnZhbHVlPXRoaXMudmFsdWU7cmV0dXJuIGF9O29jLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMuYT1OKGIsInNjaGVtZUlkVXJpIixPLHRoaXMuYSk7dGhpcy52YWx1ZT1OKGIsInZhbHVlIixPLHRoaXMudmFsdWUpfTsKZnVuY3Rpb24gcGMoKXt0aGlzLmI9dGhpcy5hPXRoaXMuZj10aGlzLmM9bnVsbH1mdW5jdGlvbiBxYygpe3RoaXMucGFyc2VkUHNzaD10aGlzLnBzc2hCb3g9bnVsbH1mdW5jdGlvbiByYygpe3RoaXMudXJsPW51bGx9ZnVuY3Rpb24gc2MoKXt0aGlzLnVybD1udWxsfWZ1bmN0aW9uIHRjKCl7dGhpcy5iYXNlVXJsPW51bGw7dGhpcy5zPTE7dGhpcy5jPXRoaXMuYj10aGlzLmY9dGhpcy5hPXRoaXMuTD1udWxsfXRjLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyB0YzthLmJhc2VVcmw9dWModGhpcy5iYXNlVXJsKTthLnM9dGhpcy5zO2EuTD10aGlzLkw7YS5hPXZjKHRoaXMuYSk7YS5mPXZjKHRoaXMuZik7YS5iPXZjKHRoaXMuYik7YS5jPXZjKHRoaXMuYyk7cmV0dXJuIGF9O2Z1bmN0aW9uIHdjKCl7dGhpcy5hPXRoaXMudXJsPW51bGx9CndjLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyB3YzthLnVybD11Yyh0aGlzLnVybCk7YS5hPXZjKHRoaXMuYSk7cmV0dXJuIGF9O2Z1bmN0aW9uIHhjKCl7dGhpcy5hPXRoaXMudXJsPW51bGx9eGMucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IHhjO2EudXJsPXVjKHRoaXMudXJsKTthLmE9dmModGhpcy5hKTtyZXR1cm4gYX07ZnVuY3Rpb24geWMoKXt0aGlzLmJhc2VVcmw9bnVsbDt0aGlzLnM9MTt0aGlzLkg9dGhpcy5MPW51bGw7dGhpcy5jPTA7dGhpcy5iPW51bGw7dGhpcy5hPVtdO3RoaXMuQz1udWxsfXljLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyB5YzthLmJhc2VVcmw9dWModGhpcy5iYXNlVXJsKTthLnM9dGhpcy5zO2EuTD10aGlzLkw7YS5IPXRoaXMuSDthLmM9dGhpcy5jO2EuYj12Yyh0aGlzLmIpO2EuYT11Yyh0aGlzLmEpfHxbXTthLkM9dmModGhpcy5DKTtyZXR1cm4gYX07CmZ1bmN0aW9uIHpjKCl7dGhpcy5hPXRoaXMuYj1udWxsfXpjLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyB6YzthLmI9dWModGhpcy5iKTthLmE9dmModGhpcy5hKTtyZXR1cm4gYX07ZnVuY3Rpb24gQWMoKXt0aGlzLnM9MTt0aGlzLkg9dGhpcy5MPW51bGw7dGhpcy5iPTA7dGhpcy5DPXRoaXMuYz10aGlzLmE9dGhpcy5mPW51bGx9QWMucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IEFjO2Eucz10aGlzLnM7YS5MPXRoaXMuTDthLkg9dGhpcy5IO2EuYj10aGlzLmI7YS5mPXRoaXMuZjthLmE9dGhpcy5hO2EuYz10aGlzLmM7YS5DPXZjKHRoaXMuQyk7cmV0dXJuIGF9O2Z1bmN0aW9uIEJjKCl7dGhpcy5iPXRoaXMuYT1udWxsO3RoaXMuTj1bXX1CYy5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgQmM7YS5hPXRoaXMuYTthLmI9dGhpcy5iO2EuTj11Yyh0aGlzLk4pfHxbXTtyZXR1cm4gYX07CmZ1bmN0aW9uIENjKCl7dGhpcy5zdGFydFNlZ21lbnRJbmRleD10aGlzLnJlcGVhdD10aGlzLmR1cmF0aW9uPXRoaXMuc3RhcnRUaW1lPW51bGx9Q2MucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IENjO2Euc3RhcnRUaW1lPXRoaXMuc3RhcnRUaW1lO2EuZHVyYXRpb249dGhpcy5kdXJhdGlvbjthLnJlcGVhdD10aGlzLnJlcGVhdDtyZXR1cm4gYX07ZnVuY3Rpb24gRGMoYSxiKXt0aGlzLnFhPWE7dGhpcy5lbmQ9Yn1EYy5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IERjKHRoaXMucWEsdGhpcy5lbmQpfTtmYy5UQUdfTkFNRT0iTVBEIjtnYy5UQUdfTkFNRT0iUGVyaW9kIjtoYy5UQUdfTkFNRT0iQWRhcHRhdGlvblNldCI7aWMuVEFHX05BTUU9IlJvbGUiO2pjLlRBR19OQU1FPSJBY2Nlc3NpYmlsaXR5IjtrYy5UQUdfTkFNRT0iQ29udGVudENvbXBvbmVudCI7bmMuVEFHX05BTUU9IlJlcHJlc2VudGF0aW9uIjtwYy5UQUdfTkFNRT0iQ29udGVudFByb3RlY3Rpb24iOwpxYy5UQUdfTkFNRT0iY2VuYzpwc3NoIjtyYy5UQUdfTkFNRT0iQmFzZVVSTCI7b2MuVEFHX05BTUU9IkF1ZGlvQ2hhbm5lbENvbmZpZ3VyYXRpb24iO3NjLlRBR19OQU1FPSJMb2NhdGlvbiI7dGMuVEFHX05BTUU9IlNlZ21lbnRCYXNlIjt3Yy5UQUdfTkFNRT0iUmVwcmVzZW50YXRpb25JbmRleCI7bGMuVEFHX05BTUU9IkZCSW5pdGlhbGl6YXRpb25CaW5hcnkiO21jLlRBR19OQU1FPSJGQlNlZ21lbnRJbmRleEJpbmFyeSI7eGMuVEFHX05BTUU9IkluaXRpYWxpemF0aW9uIjt5Yy5UQUdfTkFNRT0iU2VnbWVudExpc3QiO3pjLlRBR19OQU1FPSJTZWdtZW50VVJMIjtBYy5UQUdfTkFNRT0iU2VnbWVudFRlbXBsYXRlIjtCYy5UQUdfTkFNRT0iU2VnbWVudFRpbWVsaW5lIjtDYy5UQUdfTkFNRT0iUyI7CmZjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMudXJsPWEuQWM7dGhpcy5pZD1OKGIsImlkIixPKTt0aGlzLnR5cGU9TihiLCJ0eXBlIixPKXx8InN0YXRpYyI7dGhpcy5tYW5pZmVzdElzTGl2ZVN0cmVhbWluZz0iZHluYW1pYyI9PT10aGlzLnR5cGU7dGhpcy5GQldhc0xpdmU9TihiLCJGQldhc0xpdmUiLEVjKXx8ITE7dGhpcy5GQklzTGl2ZVRlbXBsYXRlZD1OKGIsIkZCSXNMaXZlVGVtcGxhdGVkIixFYyl8fCExO3RoaXMuRkJNYW5pZmVzdElkZW50aWZpZXI9TihiLCJGQk1hbmlmZXN0SWRlbnRpZmllciIsTyl8fCIiO3RoaXMuRkJNUz1OKGIsIkZCTVMiLEVjKXx8ITE7VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJvdmVycmlkZV9mYl9pc19saXZlX3RlbXBsYXRlZCIsITEpJiYodGhpcy5GQklzTGl2ZVRlbXBsYXRlZD0hMSk7dGhpcy5iPU4oYiwibWVkaWFQcmVzZW50YXRpb25EdXJhdGlvbiIsRmMpO3RoaXMubT1OKGIsIm1pbkJ1ZmZlclRpbWUiLApGYyx0aGlzLm0pO3RoaXMuZz1OKGIsIm1pbmltdW1VcGRhdGVQZXJpb2QiLEZjLHRoaXMuZyk7dGhpcy5jPU4oYiwiYXZhaWxhYmlsaXR5U3RhcnRUaW1lIixHYyx0aGlzLmMpO3RoaXMuZj1OKGIsInRpbWVTaGlmdEJ1ZmZlckRlcHRoIixGYyx0aGlzLmYpO3RoaXMuY3VycmVudFNlcnZlclRpbWVNcz1OKGIsImN1cnJlbnRTZXJ2ZXJUaW1lTXMiLFApO04oYiwiZmlyc3RBdlRpbWVNcyIsUCk7dGhpcy5sYXN0VmlkZW9GcmFtZVRzPU4oYiwibGFzdFZpZGVvRnJhbWVUcyIsUCk7dGhpcy5mPW51bGw7dGhpcy5vPU4oYiwic3VnZ2VzdGVkUHJlc2VudGF0aW9uRGVsYXkiLEZjLHRoaXMubyk7dGhpcy5oPU4oYiwibG9hcFN0cmVhbVR5cGUiLEhjLHRoaXMuaCk7dGhpcy5pPU4oYiwidXNpbmdBU1JDYXB0aW9ucyIsSGMsdGhpcy5pKTt0aGlzLmo9TihiLCJpc1VzaW5nQXNyQ2FwdGlvbnNFbXBsb3llZURvZ2Zvb2RpbmciLEhjLHRoaXMuaik7dmFyIGM9YS5iYXNlVXJsLGQ9SWModGhpcywKYixyYyk7dGhpcy5iYXNlVXJsPUpjKGMsZCk7aWYoZD1NKHRoaXMsYixzYykpdGhpcy51PUtjKGMsZC51cmwpO3RoaXMuYT1JYyh0aGlzLGIsZ2MpfTtmdW5jdGlvbiBMYyhhLGIsYyxkKXtpZigwIT09YS5hLmxlbmd0aCl7dmFyIGU9bmV3IGhjO2UuY29udGVudFR5cGU9InRleHQiO2UubGFuZz1jfHwiZW4iO2UuZj0hMDtjPW5ldyBuYztjLmJhbmR3aWR0aD0wO2MubWltZVR5cGU9ZHx8InRleHQvdnR0IjtjLmJhc2VVcmw9W25ldyBMKGIpXTtlLmEucHVzaChjKTthLmFbMF0uYS5wdXNoKGUpO01jKGEuYVswXSl9fQpnYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt0aGlzLmlkPU4oYiwiaWQiLE8pO3RoaXMuc3RhcnQ9TihiLCJzdGFydCIsRmMpO3RoaXMuZHVyYXRpb249TihiLCJkdXJhdGlvbiIsRmMpO3ZhciBjPUljKHRoaXMsYixyYyk7dGhpcy5iYXNlVXJsPUpjKGEuYmFzZVVybCxjKTt0aGlzLmI9TSh0aGlzLGIsdGMpO3RoaXMuYz1NKHRoaXMsYix5Yyk7dGhpcy5mPU0odGhpcyxiLEFjKTt0aGlzLmE9SWModGhpcyxiLGhjKTtNYyh0aGlzKX07ZnVuY3Rpb24gTWMoYSl7Zm9yKHZhciBiPVtdLGM9MDtjPGEuYS5sZW5ndGg7KytjKXt2YXIgZD1hLmFbY107bnVsbCE9ZC5ncm91cCYmKGJbZC5ncm91cF09ITApfWZvcihjPTA7YzxhLmEubGVuZ3RoOysrYylpZihkPWEuYVtjXSxudWxsPT1kLmdyb3VwKXtmb3IodmFyIGU9MTsxPT1iW2VdOykrK2U7YltlXT0hMDtkLmdyb3VwPWV9fQpoYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt2YXIgYz1NKHRoaXMsYixrYyl8fHt9LGQ9TSh0aGlzLGIsaWMpO3RoaXMuaWQ9TihiLCJpZCIsTyk7dGhpcy5ncm91cD1OKGIsImdyb3VwIixQKTt0aGlzLmxhbmc9TihiLCJsYW5nIixPLGMubGFuZyk7dGhpcy5jb250ZW50VHlwZT1OKGIsImNvbnRlbnRUeXBlIixPLGMuY29udGVudFR5cGUpO3RoaXMud2lkdGg9TihiLCJ3aWR0aCIsUSk7dGhpcy5oZWlnaHQ9TihiLCJoZWlnaHQiLFEpO3RoaXMubWltZVR5cGU9TihiLCJtaW1lVHlwZSIsTyk7dGhpcy5jb2RlY3M9TihiLCJjb2RlY3MiLE8pO3RoaXMuYz1OKGIsIkZCUHJvamVjdGlvbiIsTyk7dGhpcy5mPWQmJiJtYWluIj09ZC52YWx1ZTt0aGlzLmxhbmcmJih0aGlzLmxhbmc9U2EodGhpcy5sYW5nKSk7Yz1JYyh0aGlzLGIscmMpO3RoaXMuYmFzZVVybD1KYyhhLmJhc2VVcmwsYyk7dGhpcy5qPUljKHRoaXMsYixwYyk7IXRoaXMuY29udGVudFR5cGUmJnRoaXMubWltZVR5cGUmJgoodGhpcy5jb250ZW50VHlwZT10aGlzLm1pbWVUeXBlLnNwbGl0KCIvIilbMF0pO3RoaXMuZz1hLmI/T2ModGhpcyxiLGEuYik6TSh0aGlzLGIsdGMpO3RoaXMuaD1hLmM/T2ModGhpcyxiLGEuYyk6TSh0aGlzLGIseWMpO3RoaXMuaT1hLmY/T2ModGhpcyxiLGEuZik6TSh0aGlzLGIsQWMpO3RoaXMuYT1JYyh0aGlzLGIsbmMpO3RoaXMuYj1NKHRoaXMsYixqYyk7IXRoaXMubWltZVR5cGUmJnRoaXMuYS5sZW5ndGgmJih0aGlzLm1pbWVUeXBlPXRoaXMuYVswXS5taW1lVHlwZSwhdGhpcy5jb250ZW50VHlwZSYmdGhpcy5taW1lVHlwZSYmKHRoaXMuY29udGVudFR5cGU9dGhpcy5taW1lVHlwZS5zcGxpdCgiLyIpWzBdKSl9O2ljLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMudmFsdWU9TihiLCJ2YWx1ZSIsTyl9O2pjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMuYT1OKGIsInNjaGVtZUlkVXJpIixPKTt0aGlzLmxhbmc9TihiLCJsYW5nIixPKX07CmtjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMuaWQ9TihiLCJpZCIsTyk7dGhpcy5sYW5nPU4oYiwibGFuZyIsTyk7dGhpcy5jb250ZW50VHlwZT1OKGIsImNvbnRlbnRUeXBlIixPKTt0aGlzLmxhbmcmJih0aGlzLmxhbmc9U2EodGhpcy5sYW5nKSl9OwpuYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt0aGlzLmlkPU4oYiwiaWQiLE8pO3RoaXMuYmFuZHdpZHRoPU4oYiwiYmFuZHdpZHRoIixRKTt0aGlzLndpZHRoPU4oYiwid2lkdGgiLFEsYS53aWR0aCk7dGhpcy5oZWlnaHQ9TihiLCJoZWlnaHQiLFEsYS5oZWlnaHQpO3RoaXMubWltZVR5cGU9TihiLCJtaW1lVHlwZSIsTyxhLm1pbWVUeXBlKTt0aGlzLmNvZGVjcz1OKGIsImNvZGVjcyIsTyxhLmNvZGVjcyk7dGhpcy5mYlF1YWxpdHlMYWJlbD1OKGIsIkZCUXVhbGl0eUxhYmVsIixPKTt0aGlzLmZiUXVhbGl0eUNsYXNzPU4oYiwiRkJRdWFsaXR5Q2xhc3MiLE8pO3RoaXMubT1OKGIsIkZCQWJyUG9saWN5VGFncyIsTyk7VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJtcGRfcGFyc2VfbW9zX2F0dHJpYnV0ZXMiLCExKSYmKHRoaXMubz1OKGIsIkZCUGxheWJhY2tSZXNvbHV0aW9uTW9zIixNb3NVdGlscy5wYXJzZVBsYXliYWNrTW9zKSx0aGlzLnU9TihiLAoiRkJQbGF5YmFja1Jlc29sdXRpb25Nb3NDb25maWRlbmNlTGV2ZWwiLE8pKTtWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woIm1wZF9wYXJzZV9mcmFtZV9hbmRfYXVkaW9fc2FtcGxpbmdfcmF0ZSIsITEpJiYodGhpcy5mcmFtZVJhdGU9TihiLCJmcmFtZVJhdGUiLE8pLHRoaXMuaj1OKGIsImF1ZGlvU2FtcGxpbmdSYXRlIixRKSk7dGhpcy5sYW5nPWEubGFuZzt2YXIgYz1JYyh0aGlzLGIscmMpO3RoaXMuYmFzZVVybD1KYyhhLmJhc2VVcmwsYyk7VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJhZGRfaW5saW5lX2luaXRpYWxpemF0aW9uX3Jlc291cmNlcyIsITEpJiYodGhpcy5nPU0odGhpcyxiLGxjKSx0aGlzLmg9TSh0aGlzLGIsbWMpKTt0aGlzLmM9SWModGhpcyxiLHBjKTt0aGlzLmk9TSh0aGlzLGIsb2MpO3RoaXMuZj1hLmc/T2ModGhpcyxiLGEuZyk6TSh0aGlzLGIsdGMpO3RoaXMuYj1hLmg/T2ModGhpcyxiLGEuaCk6TSh0aGlzLGIsCnljKTt0aGlzLmE9YS5pP09jKHRoaXMsYixhLmkpOk0odGhpcyxiLEFjKTt0aGlzLmM9dGhpcy5jLmNvbmNhdChhLmopfTtsYy5wcm90b3R5cGUucGFyc2U9bWMucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7aWYoYiYmYi5maXJzdENoaWxkKXt2YXIgYz1QYyhiKTtudWxsIT1jJiYodGhpcy5kYXRhPUtiKGMpLmJ1ZmZlcil9fTtwYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt0aGlzLmM9Yjt0aGlzLmY9TihiLCJzY2hlbWVJZFVyaSIsTyk7dmFyIGM9TihiLCJjZW5jOmRlZmF1bHRfS0lEIixPKTtjJiYodGhpcy5iPWMucmVwbGFjZSgvWy1dL2csIiIpKTt0aGlzLmE9TSh0aGlzLGIscWMpfTsKcWMucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dmFyIGM9UGMoYik7aWYoYyl7dGhpcy5wc3NoQm94PUtiKGMpO3RyeXt0aGlzLnBhcnNlZFBzc2g9bmV3IFFiKHRoaXMucHNzaEJveCl9Y2F0Y2goZCl7aWYoIShkIGluc3RhbmNlb2YgUmFuZ2VFcnJvcikpdGhyb3cgZDt9fX07cmMucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dmFyIGM9Yi5jaGlsZE5vZGVzLGQ9IiI7aWYoMT09Yy5sZW5ndGgpZD1QYyhiKTtlbHNlIGZvcih2YXIgZT0wO2U8Yy5sZW5ndGg7ZSsrKWNbZV0ubm9kZVR5cGU9PU5vZGUuVEVYVF9OT0RFJiYoZCs9Y1tlXS5ub2RlVmFsdWUpO3RoaXMudXJsPWR9O3NjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMudXJsPVBjKGIpfTsKdGMucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dGhpcy5iYXNlVXJsPWEuYmFzZVVybHx8dGhpcy5iYXNlVXJsO3RoaXMucz1OKGIsInRpbWVzY2FsZSIsUSx0aGlzLnMpO3RoaXMuTD1OKGIsInByZXNlbnRhdGlvblRpbWVPZmZzZXQiLFAsdGhpcy5MKTt0aGlzLmE9TihiLCJpbmRleFJhbmdlIixRYyx0aGlzLmEpO3RoaXMuZj1OKGIsIkZCRmlyc3RTZWdtZW50UmFuZ2UiLFFjLHRoaXMuZik7dGhpcy5iPU0odGhpcyxiLHdjKXx8dGhpcy5iO3RoaXMuYz1NKHRoaXMsYix4Yyl8fHRoaXMuY307d2MucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dmFyIGM9TihiLCJzb3VyY2VVUkwiLE8pO3RoaXMudXJsPUtjKGEuYmFzZVVybCxjKTt0aGlzLmE9TihiLCJyYW5nZSIsUWMsdmMoYS5hKSl9Owp4Yy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt2YXIgYz1OKGIsInNvdXJjZVVSTCIsTyk7dGhpcy51cmw9S2MoYS5iYXNlVXJsLGMpO3RoaXMuYT1OKGIsInJhbmdlIixRYyl9Owp5Yy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt0aGlzLmJhc2VVcmw9YS5iYXNlVXJsfHx0aGlzLmJhc2VVcmw7dGhpcy5zPU4oYiwidGltZXNjYWxlIixRLHRoaXMucyk7dGhpcy5MPU4oYiwicHJlc2VudGF0aW9uVGltZU9mZnNldCIsUCx0aGlzLkwpO3RoaXMuSD1OKGIsImR1cmF0aW9uIixRLHRoaXMuSCk7dmFyIGM9TihiLCJzdGFydE51bWJlciIsUSk7bnVsbCE9YyYmKHRoaXMuYz1jKTt0aGlzLmI9TSh0aGlzLGIseGMpfHx0aGlzLmI7dGhpcy5hPShjPUljKHRoaXMsYix6YykpJiYwPGMubGVuZ3RoP2M6dGhpcy5hO3RoaXMuQz1NKHRoaXMsYixCYyl8fHRoaXMuQztWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImNhbGN1bGF0ZV9xdWlja19kYXNoX3ByZXNlbnRhdGlvbl90aW1lX29mZnNldF9mcm9tX3RpbWVsaW5lIiwhMSkmJihjPVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJjYWxjdWxhdGVfcXVpY2tfZGFzaF9wcmVzZW50YXRpb25fdGltZV9vZmZzZXRfZXBzaWxvbl9tcyIsCjI1MCksdGhpcy5DJiZ0aGlzLkMuTlswXSYmKHRoaXMuTD0xRTM8dGhpcy5DLk5bMF0uc3RhcnRUaW1lP3RoaXMuQy5OWzBdLnN0YXJ0VGltZS1jOnRoaXMuTCkpfTt6Yy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt2YXIgYz1OKGIsIm1lZGlhIixPKTt0aGlzLmI9S2MoYS5iYXNlVXJsLGMpO3RoaXMuYT1OKGIsIm1lZGlhUmFuZ2UiLFFjKX07CkFjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMucz1OKGIsInRpbWVzY2FsZSIsUSx0aGlzLnMpO3RoaXMuTD1OKGIsInByZXNlbnRhdGlvblRpbWVPZmZzZXQiLFAsdGhpcy5MKTt0aGlzLkg9TihiLCJkdXJhdGlvbiIsUSx0aGlzLkgpO3ZhciBjPU4oYiwic3RhcnROdW1iZXIiLFApO251bGwhPWMmJih0aGlzLmI9Yyk7dGhpcy5mPU4oYiwibWVkaWEiLE8sdGhpcy5mKTt0aGlzLmE9TihiLCJpbmRleCIsTyx0aGlzLmEpO3RoaXMuYz1OKGIsImluaXRpYWxpemF0aW9uIixPLHRoaXMuYyk7dGhpcy5DPU0odGhpcyxiLEJjKXx8dGhpcy5DfTtCYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt0aGlzLmE9TihiLCJGQlByZWRpY3RlZE1lZGlhIixPLHRoaXMuYSk7dGhpcy5iPU4oYiwiRkJQcmVkaWN0ZWRNZWRpYUVuZE51bWJlciIsUSk7dGhpcy5OPUljKHRoaXMsYixDYyl9OwpDYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt0aGlzLnN0YXJ0VGltZT1OKGIsInQiLFApO3RoaXMuZHVyYXRpb249TihiLCJkIixQKTt0aGlzLnJlcGVhdD1OKGIsInIiLEhjKX07ZnVuY3Rpb24gSmMoYSxiKXtpZighYnx8MD09PWIubGVuZ3RoKXJldHVybiBhO2Zvcih2YXIgYz1bXSxkPTA7ZDxiLmxlbmd0aDtkKyspe3ZhciBlPWJbZF0udXJsO251bGw9PWF8fDA9PT1hLmxlbmd0aD9jLnB1c2gobmV3IEwoZSkpOihlPUtjKGEuc2xpY2UoMCwxKSxlKSxjLnB1c2goZVswXSkpfXJldHVybiBjfWZ1bmN0aW9uIEtjKGEsYil7aWYoIWIpcmV0dXJuIGE7dmFyIGM9bmV3IEwoYik7cmV0dXJuIGE/YS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVzb2x2ZShjKX0pOltjXX1mdW5jdGlvbiBPYyhhLGIsYyl7dmFyIGQ9dmMoYyk7KGI9UmMoYixjLmNvbnN0cnVjdG9yLlRBR19OQU1FKSkmJmQucGFyc2UoYSxiKTtyZXR1cm4gZH0KZnVuY3Rpb24gTShhLGIsYyl7dmFyIGQ9bnVsbDtpZihiPVJjKGIsYy5UQUdfTkFNRSkpZD1uZXcgYyxkLnBhcnNlKGEsYik7cmV0dXJuIGR9ZnVuY3Rpb24gUmMoYSxiKXtmb3IodmFyIGM9bnVsbCxkPTA7ZDxhLmNoaWxkTm9kZXMubGVuZ3RoO2QrKylpZihhLmNoaWxkTm9kZXNbZF0udGFnTmFtZT09Yil7aWYoYylyZXR1cm4gbnVsbDtjPWEuY2hpbGROb2Rlc1tkXX1yZXR1cm4gY31mdW5jdGlvbiBJYyhhLGIsYyl7Zm9yKHZhciBkPVtdLGU9MDtlPGIuY2hpbGROb2Rlcy5sZW5ndGg7ZSsrKWlmKGIuY2hpbGROb2Rlc1tlXS50YWdOYW1lPT1jLlRBR19OQU1FKXt2YXIgZj1uZXcgYztmLnBhcnNlLmNhbGwoZixhLGIuY2hpbGROb2Rlc1tlXSk7ZC5wdXNoKGYpfXJldHVybiBkfWZ1bmN0aW9uIFBjKGEpe2E9YS5maXJzdENoaWxkO3JldHVybiBhLm5vZGVUeXBlIT1Ob2RlLlRFWFRfTk9ERT9udWxsOmEubm9kZVZhbHVlfQpmdW5jdGlvbiB1YyhhKXtyZXR1cm4gYT9hLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS5jbG9uZSgpfSk6bnVsbH1mdW5jdGlvbiB2YyhhKXtyZXR1cm4gYT9hLmNsb25lKCk6bnVsbH1mdW5jdGlvbiBOKGEsYixjLGQpe2E9YS5oYXNBdHRyaWJ1dGUoYik/YyhhLmdldEF0dHJpYnV0ZShiKSk6bnVsbDtyZXR1cm4gbnVsbCE9YT9hOnZvaWQgMCE9PWQ/ZDpudWxsfWZ1bmN0aW9uIEdjKGEpe2lmKCFhKXJldHVybiBudWxsO2E9RGF0ZS5wYXJzZShhKTtyZXR1cm4gaXNOYU4oYSk/bnVsbDpNYXRoLmZsb29yKGEvMUUzKX0KZnVuY3Rpb24gRmMoYSl7aWYoIWEpcmV0dXJuIG51bGw7dmFyIGI9L15QKD86KFswLTldKilZKT8oPzooWzAtOV0qKU0pPyg/OihbMC05XSopRCk/KD86VCg/OihbMC05XSopSCk/KD86KFswLTldKilNKT8oPzooWzAtOS5dKilTKT8pPyQvLmV4ZWMoYSk7aWYoIWIpcmV0dXJuIG51bGw7YT0wO3ZhciBjPVAoYlsxXSk7YyYmKGErPTMxNTM2RTMqYyk7KGM9UChiWzJdKSkmJihhKz0yNTkyRTMqYyk7KGM9UChiWzNdKSkmJihhKz04NjQwMCpjKTsoYz1QKGJbNF0pKSYmKGErPTM2MDAqYyk7KGM9UChiWzVdKSkmJihhKz02MCpjKTtiPXdpbmRvdy5wYXJzZUZsb2F0KGJbNl0pOyhiPWlzTmFOKGIpP251bGw6YikmJihhKz1iKTtyZXR1cm4gYX0KZnVuY3Rpb24gUWMoYSl7dmFyIGI9LyhbMC05XSspLShbMC05XSspLy5leGVjKGEpO2lmKCFiKXJldHVybiBudWxsO2E9UChiWzFdKTtpZihudWxsPT1hKXJldHVybiBudWxsO2I9UChiWzJdKTtyZXR1cm4gbnVsbD09Yj9udWxsOm5ldyBEYyhhLGIpfWZ1bmN0aW9uIEhjKGEpe2E9d2luZG93LnBhcnNlSW50KGEsMTApO3JldHVybiBpc05hTihhKT9udWxsOmF9ZnVuY3Rpb24gUShhKXthPXdpbmRvdy5wYXJzZUludChhLDEwKTtyZXR1cm4gMDxhP2E6bnVsbH1mdW5jdGlvbiBQKGEpe2E9d2luZG93LnBhcnNlSW50KGEsMTApO3JldHVybiAwPD1hP2E6bnVsbH1mdW5jdGlvbiBFYyhhKXtzd2l0Y2goYS50b0xvd2VyQ2FzZSgpKXtjYXNlICJ0cnVlIjpyZXR1cm4hMDtjYXNlICJmYWxzZSI6cmV0dXJuITE7ZGVmYXVsdDpyZXR1cm4gbnVsbH19ZnVuY3Rpb24gTyhhKXtyZXR1cm4gYX07ZnVuY3Rpb24gU2MoYSxiKXt0aGlzLnVybD1hO3RoaXMuYj1ifHxuZXcgdGI7dGhpcy5qPTA7dGhpcy5nPS0xO3RoaXMuaD10aGlzLmk9MDt0aGlzLmE9bnVsbDt0aGlzLmM9bmV3IEk7dGhpcy5mPW51bGw7dGhpcy5vPXRoaXMuYi5pO3RoaXMubD10aGlzLmIubX1xKCJzaGFrYS51dGlsLkFqYXhSZXF1ZXN0IixTYyk7CmZ1bmN0aW9uIHRiKCl7dGhpcy5ib2R5PW51bGw7dGhpcy5OYT0xO3RoaXMuYz0xRTM7dGhpcy5iPTA7dGhpcy5tZXRob2Q9IkdFVCI7dGhpcy5yZXNwb25zZVR5cGU9ImFycmF5YnVmZmVyIjt0aGlzLlFhPXt9O3RoaXMuZz10aGlzLndpdGhDcmVkZW50aWFscz0hMTt0aGlzLmRhPXRoaXMuYT10aGlzLnU9bnVsbDt0aGlzLmo9ITE7dGhpcy5oPXRoaXMubT10aGlzLmk9dGhpcy5taW1lVHlwZT1udWxsO3RoaXMubz0hMTt0aGlzLnc9LyguKilcLih4eHxmbmEpXC5mYmNkblwubmV0Lzt0aGlzLmY9L2xpdmVzdHJlYW0tbG9va2FzaWRlXC4oZmFjZWJvb2t8d29ya3BsYWNlKVwuY29tJC99dmFyIFRjPSEwO2Z1bmN0aW9uIFVjKGEpe1ZjKGEpO1djKGEpO2EuYi5ib2R5PW51bGw7YS5jLmRlc3Ryb3koKTthLmM9bnVsbDthLmY9bnVsbH0KZnVuY3Rpb24gV2MoYSl7YS5hJiYoYS5hLm9ubG9hZD1udWxsLGEuYS5vbnJlYWR5c3RhdGVjaGFuZ2U9bnVsbCxhLmEub25lcnJvcj1udWxsLGEuYS5vbnRpbWVvdXQ9bnVsbCk7YS5hPW51bGx9ZnVuY3Rpb24gVmMoYSl7LTEhPT1hLmcmJihjbGVhclRpbWVvdXQoYS5nKSxhLmc9LTEpfQpTYy5wcm90b3R5cGUubT1mdW5jdGlvbigpe2lmKHRoaXMuYSlyZXR1cm4gdGhpcy5jO2lmKDA9PXRoaXMudXJsLmxhc3RJbmRleE9mKCJkYXRhOiIsMCkpe3ZhciBhPXRoaXMudXJsLnNwbGl0KCI6IilbMV0uc3BsaXQoIjsiKS5wb3AoKS5zcGxpdCgiLCIpLGI9YS5wb3AoKSxiPSJiYXNlNjQiPT1hLnBvcCgpP3dpbmRvdy5hdG9iKGIucmVwbGFjZSgvLS9nLCIrIikucmVwbGFjZSgvXy9nLCIvIikpOndpbmRvdy5kZWNvZGVVUklDb21wb25lbnQoYik7ImFycmF5YnVmZmVyIj09dGhpcy5iLnJlc3BvbnNlVHlwZSYmKGI9SmIoYikuYnVmZmVyKTthPUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkobmV3IFhNTEh0dHBSZXF1ZXN0KSk7YS5yZXNwb25zZT1iO2EucmVzcG9uc2VUZXh0PWIudG9TdHJpbmcoKTtiPXRoaXMuYztiLnJlc29sdmUoYSk7VWModGhpcyk7cmV0dXJuIGJ9aWYoMD09dGhpcy51cmwubGFzdEluZGV4T2YoImlkYjoiLDApKXJldHVybiB0aGlzLnUoKTt0aGlzLmorKzsKdGhpcy5pPXBlcmZvcm1hbmNlTm93KCk7dGhpcy5ofHwodGhpcy5oPXRoaXMuYi5jKTt0aGlzLmE9bmV3IFhNTEh0dHBSZXF1ZXN0O3ZhciBjPXRoaXMudXJsLGE9bmV3IEwoYyk7VGMmJih0aGlzLmYmJiF0aGlzLmYuc3VwcG9ydHNDYWNoaW5nKCl8fHRoaXMuYi5nKSYmZGMoYS5hLCJfIixEYXRlLm5vdygpKTtjPXRoaXMuYi53LnRlc3QoYyk7aWYobnVsbCE9dGhpcy5iLmEmJmMpe3ZhciBkPXRoaXMuYi5hLGU9YS5hO251bGwhPWQuYSYmKGQuaD1kLmEuZ2V0U2VnbWVudHNUb1B1c2goKSxkLmY9ZC5hLmdldFNlZ21lbnRTdGFydFRpbWUoKSxkLmc9ZC5hLmdldFNlZ21lbnRPZmZzZXQoKSxkLmM9ZC5hLmdldFB1c2hWaWRlb1JlcHJlc2VudGF0aW9uSUQoKSxkLmI9ZC5hLmdldFB1c2hBdWRpb1JlcHJlc2VudGF0aW9uSUQoKSxkLmo9ZC5hLmdldFVzZUxvbmdDYWNoZUZvck1hbmlmZXN0KCkpO251bGwhPWQuaCYmZGMoZSwiX25jX3BfbiIsZC5oKTtudWxsIT1kLmY/ZGMoZSwiX25jX3BfdHMiLApkLmYpOm51bGwhPWQuZyYmZGMoZSwiX25jX3BfbyIsZC5nKTtudWxsIT1kLmMmJm51bGwhPWQuYiYmKGRjKGUsIl9uY19wX3JpZCIsZC5jKSxkYyhlLCJfbmNfcF9hcmlkIixkLmIpKTtkLmkmJmRjKGUsIl9uY19wX2RiZyIsIjEiKTtkLmomJmRjKGUsIl9uY19uYyIsIjEiKX0xPT10aGlzLmIuaiYmYyYmZGMoYS5hLCJfbmNfcGxheWluZyIsMSk7dGhpcy5iLm8mJmRjKGEuYSwiX25jX3NjIiwxKTtjPWEudG9TdHJpbmcoKTthPXRoaXMuYi5mLnRlc3QoYS5oYSk7dGhpcy5hLm9wZW4odGhpcy5iLm1ldGhvZCxjLCEwKTt0aGlzLmEucmVzcG9uc2VUeXBlPXRoaXMuYi5yZXNwb25zZVR5cGU7dGhpcy5hLnRpbWVvdXQ9dGhpcy5iLmI7dGhpcy5hLndpdGhDcmVkZW50aWFscz10aGlzLmIud2l0aENyZWRlbnRpYWxzfHxhO3NldEV2ZW50UHJvcGVydHkodGhpcy5hLCJvbmxvYWQiLHRoaXMuZmQuYmluZCh0aGlzKSk7c2V0RXZlbnRQcm9wZXJ0eSh0aGlzLmEsIm9ucmVhZHlzdGF0ZWNoYW5nZSIsCnRoaXMubGQuYmluZCh0aGlzKSk7c2V0RXZlbnRQcm9wZXJ0eSh0aGlzLmEsIm9uZXJyb3IiLHRoaXMuZGQuYmluZCh0aGlzKSk7c2V0RXZlbnRQcm9wZXJ0eSh0aGlzLmEsIm9udGltZW91dCIsdGhpcy5xZC5iaW5kKHRoaXMpKTtzZXRFdmVudFByb3BlcnR5KHRoaXMuYSwib25hYm9ydCIsdGhpcy4kYy5iaW5kKHRoaXMpKTtmb3IoYiBpbiB0aGlzLmIuUWEpdGhpcy5hLnNldFJlcXVlc3RIZWFkZXIoYix0aGlzLmIuUWFbYl0pO3RoaXMuYS5zZW5kKHRoaXMuYi5ib2R5KTtyZXR1cm4gdGhpcy5jfTtTYy5wcm90b3R5cGUuc2VuZD1TYy5wcm90b3R5cGUubTsKZnVuY3Rpb24gWGMoYSxiLGMpe2I9RXJyb3IoYik7Yi50eXBlPWM7Yi5zdGF0dXM9YS5hLnN0YXR1cztiLnVybD1hLnVybDtWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImVuYWJsZV9kb3VibGVfaW5nZXN0IiwhMSkmJihiLnJlc3BvbnNlSGVhZGVycz1wYXJzZUhlYWRlcnMoYS5hLmdldEFsbFJlc3BvbnNlSGVhZGVycygpKSk7Yi5tZXRob2Q9YS5iLm1ldGhvZDtiLmJvZHk9YS5iLmJvZHk7cmV0dXJuIGJ9bj1TYy5wcm90b3R5cGU7bi5hYm9ydD1mdW5jdGlvbigpe1ZjKHRoaXMpO2lmKHRoaXMuYSYmdGhpcy5hLnJlYWR5U3RhdGUhPVhNTEh0dHBSZXF1ZXN0LkRPTkUmJih0aGlzLmEuYWJvcnQoKSwhVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJmaXhfc2hha2FfdXRpbF9hamF4X3JlcXVlc3RfYWJvcnQiLCEwKSkpe3ZhciBhPVhjKHRoaXMsIlJlcXVlc3QgYWJvcnRlZC4iLCJhYm9ydGVkIik7dGhpcy5jLnJlamVjdChhKTtVYyh0aGlzKX19OwpuLiRjPWZ1bmN0aW9uKCl7aWYoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJmaXhfc2hha2FfdXRpbF9hamF4X3JlcXVlc3RfYWJvcnQiLCEwKSl7dmFyIGE9WGModGhpcywiUmVxdWVzdCBhYm9ydGVkLiIsImFib3J0ZWQiKTt0aGlzLmMucmVqZWN0KGEpO1VjKHRoaXMpfX07Cm4uZmQ9ZnVuY3Rpb24oYSl7aWYodGhpcy5mKXt2YXIgYj1WaWRlb1BsYXllclJlc291cmNlVGltZXIuZ2V0UmVzb3VyY2VUaW1pbmdFbnRyeSh0aGlzLnVybCx0aGlzLmkscGVyZm9ybWFuY2VOb3coKSk7dGhpcy5mLnNhbXBsZShwZXJmb3JtYW5jZU5vdygpLXRoaXMuaSxhLmxvYWRlZHx8dGhpcy5hLnJlc3BvbnNlJiZ0aGlzLmEucmVzcG9uc2UuYnl0ZUxlbmd0aHx8MCx0aGlzLmIubWltZVR5cGU/InYiPT09dGhpcy5iLm1pbWVUeXBlLmNoYXJBdCgwKTohMSxiLHRoaXMubyx0aGlzLmwsVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJldmFsdWF0ZV9hYnJfb25fZmV0Y2hfZW5kIiwhMSkpfWE9WzQwM107MjAwPD10aGlzLmEuc3RhdHVzJiYyOTk+PXRoaXMuYS5zdGF0dXM/KFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgiZW5hYmxlX2RvdWJsZV9pbmdlc3QiLCExKSYmbnVsbCE9cGFyc2VIZWFkZXJzKHRoaXMuYS5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSlbIngtZmItdmlkZW8tcmVwbGljYSJdPwooYT1YYyh0aGlzLCJIVFRQIGVycm9yLiIsIm5ldCIpLHRoaXMuYy5yZWplY3QoYSkpOnRoaXMuYy5yZXNvbHZlKHRoaXMuYSksVWModGhpcykpOiFWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInJlbW92ZV9hamF4X3Jlc2VuZF9pbnRlcm5hbCIsITApJiZ0aGlzLmo8dGhpcy5iLk5hJiYtMT09PWEuaW5kZXhPZih0aGlzLmEuc3RhdHVzKT9ZYyh0aGlzKTooYT1YYyh0aGlzLCJIVFRQIGVycm9yLiIsIm5ldCIpLHRoaXMuYy5yZWplY3QoYSksVWModGhpcykpfTsKbi5sZD1mdW5jdGlvbigpe2lmKHRoaXMuYS5yZWFkeVN0YXRlPT1YTUxIdHRwUmVxdWVzdC5IRUFERVJTX1JFQ0VJVkVEJiYodGhpcy5hLllhPURhdGUubm93KCktdGhpcy5pLHRoaXMuYi5hJiZ0aGlzLmIuZGEmJnRoaXMuYi5kYS5hZGRQdXNoRGF0YUZyb21YSFIodGhpcy5hKSx0aGlzLmIuaCYmdGhpcy5iLmguaGFuZGxlWEhSKHRoaXMuYSksVmlkZW9DbGllbnRFZGdlQ29vcGVyYXRpb24udXBkYXRlRnJvbVhIUih0aGlzLmEpLHRoaXMuYi5nKSl7dmFyIGE9RGF0ZS5wYXJzZSh0aGlzLmEuZ2V0UmVzcG9uc2VIZWFkZXIoIkRhdGUiKSk7YSYmKHphPWEtRGF0ZS5ub3coKSl9fTtuLmRkPWZ1bmN0aW9uKCl7dmFyIGE9WGModGhpcywiTmV0d29yayBmYWlsdXJlLiIsIm5ldCIpO3RoaXMuYy5yZWplY3QoYSk7VWModGhpcyl9OwpuLnFkPWZ1bmN0aW9uKCl7aWYoIVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgicmVtb3ZlX2FqYXhfcmVzZW5kX2ludGVybmFsIiwhMCkmJnRoaXMuajx0aGlzLmIuTmEpWWModGhpcyk7ZWxzZXt2YXIgYT1YYyh0aGlzLCJSZXF1ZXN0IHRpbWVkIG91dC4iLCJuZXQiKTt0aGlzLmMucmVqZWN0KGEpO1VjKHRoaXMpfX07ZnVuY3Rpb24gWWMoYSl7V2MoYSk7YS5nPXNldFRpbWVvdXQoZnVuY3Rpb24oKXt0aGlzLmc9LTE7dGhpcy5tKCl9LmJpbmQoYSksYS5oKigxKy41KigyKk1hdGgucmFuZG9tKCktMSkpKTthLmgqPTJ9O2Z1bmN0aW9uIEsoYSxiLGMsZCxlLGYpe3RoaXMuYz1iO3RoaXMuc3RhcnRCeXRlPWN8fDA7dGhpcy5iYXNlVXJsPXRoaXMudG9TdHJpbmcoKTt0aGlzLmVuZEJ5dGU9bnVsbCE9ZD9kOm51bGw7dGhpcy5pc1ByZWRpY3RpdmU9ZXx8ITE7dGhpcy5mPW51bGw7dGhpcy5tPTA7dGhpcy5BPSExO3RoaXMuTmM9dGhpcy5nPW51bGw7dGhpcy5vPWE7dGhpcy5pPW51bGw7dGhpcy5qPXRoaXMudT0hMTt0aGlzLmI9dGhpcy5hPW51bGw7dGhpcy5oPWZ8fG51bGx9cSgic2hha2EudXRpbC5GYWlsb3ZlclVyaSIsSyk7Sy5wcm90b3R5cGUudz1mdW5jdGlvbihhKXt0aGlzLkE9YX07Sy5wcm90b3R5cGUuc2V0U2hvdWxkUmVhZFhGYlZpZGVvQnJvYWRjYXN0RW5kZWRIZWFkZXI9Sy5wcm90b3R5cGUudztLLnByb3RvdHlwZS5EPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubX07Sy5wcm90b3R5cGUuZ2V0RmJWaWRlb0Jyb2FkY2FzdEVuZGVkUmVzcG9uc2VIZWFkZXI9Sy5wcm90b3R5cGUuRDsKSy5wcm90b3R5cGUuRj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YXJ0Qnl0ZX07Sy5wcm90b3R5cGUuZ2V0U3RhcnRCeXRlPUsucHJvdG90eXBlLkY7Sy5wcm90b3R5cGUuQj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVuZEJ5dGV9O0sucHJvdG90eXBlLmdldEVuZEJ5dGU9Sy5wcm90b3R5cGUuQjtmdW5jdGlvbiBaYyhhLGIpe3JldHVybiBhJiYwIT09YS5sZW5ndGg/YS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVzb2x2ZShiKX0pOltiXX1uPUsucHJvdG90eXBlO24uZmV0Y2g9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxoKXtyZXR1cm4gdGhpcy5mP3RoaXMuZjp0aGlzLmY9JGModGhpcywwLGF8fG5ldyB0YixiLGMsZCxlLGYsZyxoKX07bi5zdHJlYW09ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxoLGspe3JldHVybiBhZCh0aGlzLDAsYXx8bmV3IHRiLGIsYyxkLGUsZixnLGgsayl9OwpmdW5jdGlvbiAkYyhhLGIsYyxkLGUsZixnLGgsayxsKXtyZXR1cm4gYWQoYSxiLGMsZCxlLGYsZyxoLGssbCkudGhlbihmdW5jdGlvbihhKXt2YXIgYixjPWZ1bmN0aW9uKCl7cmV0dXJuIGEucmVhZCgpLnRoZW4oZnVuY3Rpb24oYSl7dmFyIGQ9YS52YWx1ZTtpZihhLmRvbmUpcmV0dXJuIGJ8fG5ldyBBcnJheUJ1ZmZlcigwKTtkJiYoInN0cmluZyI9PT10eXBlb2YgZD9iPShifHwiIikrZDpiPWNvbmNhdEFycmF5QnVmZmVyKGJ8fG5ldyBBcnJheUJ1ZmZlcigwKSxkKSk7cmV0dXJuIGMoKX0uYmluZCh0aGlzKSl9LmJpbmQodGhpcyk7cmV0dXJuIGMoKX0pfQpuLkthPWZ1bmN0aW9uKCl7dGhpcy5nJiYodGhpcy5hPXRoaXMuZj1udWxsLHRoaXMuZy5hYm9ydCgpLHRoaXMuaT10aGlzLmc9bnVsbCk7dGhpcy5OYyYmVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJlbmFibGVfcDJwX3N1cHBvcnQiLCExKSYmKHRoaXMuRy5hYm9ydCgpLHRoaXMuRz1udWxsKTt0aGlzLmImJih0aGlzLmIuYWJvcnRSZXF1ZXN0KGJkKHRoaXMpKSxWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImZpeGluZ19zY2hlZHVsZXJfZGlzYWJsZV9sZWFrcyIsITApJiYodGhpcy5iPW51bGwpKX07CmZ1bmN0aW9uIGFkKGEsYixjLGQsZSxmLGcsaCxrLGwsbSl7YS5iPWx8fG51bGw7dmFyIHA7ZSYmKGMuYSYmKGMuYS5pPSEwKSxsPTAsYy5kYSYmKGw9Yy5kYS5nZXRQdXNoQ291bnRGb3JVcmwoYS5jW2JdLnRvU3RyaW5nKCkpKSwocD1lLmdldE9wZXJhdGlvbkxvZ2dlcigicmVxdWVzdCIpKSYmcC5zZXRSZWFzb24oa3x8bnVsbCkuc2V0UHVzaGVkKGwpLnNldFR5cGUoaHx8bnVsbCkuc2V0SW5pdGlhdG9yKCJzaGFrYSIpLnN0YXJ0KCksZiYmKHA9cC5zZXRQYXJlbnRMb2dnZXIoZikpKTt2YXIgdD1wZXJmb3JtYW5jZU5vdygpO2EuYT1udWxsO2cmJihjLmk9Zyk7ZSYmKGMubT1lKTt2YXIgdz1jZChhLGEuY1tiXSxjKTtrPW51bGw7YS5qPSExO3ZhciB6PVZpZGVvRGFzaFByZWZldGNoQ2FjaGUuZ2V0Q2FjaGVWYWx1ZSh3KTt6JiYoaz16LGEuaj0hMCxwJiYocC5zZXRDb25uZWN0aW9uUXVhbGl0eUxldmVsKFZpZGVvRGFzaFByZWZldGNoQ2FjaGUuZ2V0Q29ubmVjdGlvblF1YWxpdHlMZXZlbCh3KSksCnAuc2V0SW5pdGlhdG9yKCJwcmVmZXRjaCIpKSk7aWYoIXomJm0pcmV0dXJuIG0uZ2V0U3RyZWFtKGJkKGEpKS50aGVuKGZ1bmN0aW9uKGEpe3JldHVybiBhLmdldFJlYWRlcigpfS5iaW5kKGEpKTttPW51bGw7aWYoYS5iJiYhYS5iLmlzRGlzYWJsZWQoKSYmIWspdHJ5eyhrPW09YS5iLmdldFByb21pc2UoYmQoYSkpKT9wPW51bGw6YS5iLmRpc2FibGUoKX1jYXRjaChIKXtlJiZlLmdldEV2ZW50TG9nZ2VyKCJyZXF1ZXN0X2luZm9fbm90X2ZvdW5kIikuc2V0UmVzb3VyY2UodykubG9nKCl9IWsmJmEuaCYmYS5oLmNyZWF0ZVByb21pc2UmJihtPW5ldyBMKHcpLG09Yy5mLnRlc3QobS5oYSksaz1hLmguY3JlYXRlUHJvbWlzZSh7dXJsOncscmVzcG9uc2VUeXBlOmMucmVzcG9uc2VUeXBlLE9kOmMuYyxLZDoyLE5hOmMuTmEsd2l0aENyZWRlbnRpYWxzOmMud2l0aENyZWRlbnRpYWxzfHxtLFFhOmMuUWF9LGZ1bmN0aW9uKGEpe3RoaXMuTmM9YTt2YXIgYj1wZXJmb3JtYW5jZU5vdygpOwphLm9ubG9hZD1mdW5jdGlvbihmKXtpZihkKXt2YXIgaD1WaWRlb1BsYXllclJlc291cmNlVGltZXIuZ2V0UmVzb3VyY2VUaW1pbmdFbnRyeSh3LGIscGVyZm9ybWFuY2VOb3coKSk7ZC5zYW1wbGUocGVyZm9ybWFuY2VOb3coKS1iLGYubG9hZGVkfHxhLnJlc3BvbnNlJiZhLnJlc3BvbnNlLmJ5dGVMZW5ndGh8fDAsYy5taW1lVHlwZT8idiI9PT1jLm1pbWVUeXBlLmNoYXJBdCgwKTohMSxoLGcsZSxWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImV2YWx1YXRlX2Ficl9vbl9mZXRjaF9lbmQiLCExKSl9fX0pKTtrfHwoYS5nPW5ldyBTYyh3LGMpLGEubT0wLGQmJihhLmcuZj1kKSxrPWEuZy5tKCkpO3AmJnAuc2V0UmVzb3VyY2Uodyk7ZiYmZi5zZXRSZXNvdXJjZSh3KTt2YXIgZGE9ITEsZWE9ay50aGVuKEooYSxmdW5jdGlvbihhKXt2YXIgYz10aGlzLmg/dGhpcy5oLm9uUmVxdWVzdFNlbmQ6bnVsbDshY3x8InZpZGVvIiE9aCYmImF1ZGlvIiE9aCYmIm1hbmlmZXN0IiE9Cmh8fGMoITAsaCxhLnJlc3BvbnNlLmJ5dGVMZW5ndGgpOyF0aGlzLmJ8fHRoaXMuYi5pc0Rpc2FibGVkKCl8fHRoaXMuYT90aGlzLmF8fCh0aGlzLmE9VmlkZW9QbGF5ZXJSZXNvdXJjZVRpbWVyLmdldFJlc291cmNlVGltaW5nRW50cnkodyx0aGlzLmo/MDp0LHBlcmZvcm1hbmNlTm93KCkpKTp0aGlzLmE9dGhpcy5iLmdldFJlc291cmNlVGltaW5nRW50cnkodyk7VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJzYW1wbGVfcHJlZmV0Y2hfYmFuZHdpZHRoIiwhMSkmJnomJnRoaXMuYSYmMDx0aGlzLmEudGltZVRvTGFzdEJ5dGUmJmQmJmQuc2FtcGxlKHRoaXMuYS50aW1lVG9MYXN0Qnl0ZSxhLnJlc3BvbnNlLmJ5dGVMZW5ndGgsInYiPT09aC5jaGFyQXQoMCksdGhpcy5hLGcsZSwhMCk7aWYodGhpcy5BKXRyeXt0aGlzLm09cGFyc2VJbnQoYS5nZXRSZXNwb25zZUhlYWRlcigieC1mYi12aWRlby1icm9hZGNhc3QtZW5kZWQiKSwxMCl9Y2F0Y2goZil7fXRoaXMuYj0KdGhpcy5pPXRoaXMuZz10aGlzLmY9bnVsbDthLmE/KHRoaXMuaT1uZXcgTChhLmEpLHRoaXMudT0hMCk6dGhpcy5pPXRoaXMuY1tiXTthLnJlc3BvbnNlLllhPWEuWWE7cCYmKHA9cC5zZXRMZW5ndGgoYS5yZXNwb25zZS5ieXRlTGVuZ3RofHxhLnJlc3BvbnNlLmxlbmd0aCkuc2V0V2FzUHJlZmV0Y2hDYWNoZUhpdCh0aGlzLmopLG51bGwhPXRoaXMuYSYmKHA9cC5zZXRUaW1lVG9MYXN0Qnl0ZShNYXRoLnJvdW5kKHRoaXMuYS50aW1lVG9MYXN0Qnl0ZSkpLnNldFRpbWVUb0ZpcnN0Qnl0ZShNYXRoLnJvdW5kKHRoaXMuYS50aW1lVG9GaXJzdEJ5dGUpKS5zZXRUaW1lVG9SZXF1ZXN0U3RhcnQoTWF0aC5yb3VuZCh0aGlzLmEudGltZVRvUmVxdWVzdFN0YXJ0KSksMkUzPD10aGlzLmEudGltZVRvRmlyc3RCeXRlJiYtMTx3LmluZGV4T2YoImFrYW1haWhkIikmJmxvZ0xvbmdBa2FtYWlSZXF1ZXN0KGEuZ2V0UmVzcG9uc2VIZWFkZXIoIkRlYnVnLUluZm8iKSsiLCBUVEZCLT4gIit0aGlzLmEudGltZVRvRmlyc3RCeXRlKwoiLCBUVFJTLT4gIit0aGlzLmEudGltZVRvUmVxdWVzdFN0YXJ0KSkscC5sb2coKSk7cmV0dXJuIFByb21pc2UucmVzb2x2ZSh7dmFsdWU6YS5yZXNwb25zZSxkb25lOiExfSl9KSksZWE9ZWEuY2F0Y2goSihhLGZ1bmN0aW9uKGEpe3ZhciBlPXRoaXMuaD90aGlzLmgub25SZXF1ZXN0U2VuZDpudWxsO2UmJmUoITEsaCwwKTtpZih0aGlzLmYmJmIrMTx0aGlzLmMubGVuZ3RoKXJldHVybiB0aGlzLmY9JGModGhpcyxiKzEsYyxkKTt0aGlzLmI9dGhpcy5hPXRoaXMuZj10aGlzLmc9bnVsbDtwJiZwLnNldEVycm9yKGEpLmxvZygpO3JldHVybiBQcm9taXNlLnJlamVjdChhKX0pKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtjYW5jZWw6ZnVuY3Rpb24oKXt9LHJlYWQ6ZnVuY3Rpb24oKXtyZXR1cm4gZGE/UHJvbWlzZS5yZXNvbHZlKHt2YWx1ZTpudWxsLGRvbmU6ITB9KTplYS50aGVuKGZ1bmN0aW9uKGEpe2RhPSEwO3JldHVybiBhfSl9LmJpbmQoYSl9KX0KZnVuY3Rpb24gYmQoYSl7cmV0dXJue2Jhc2VVcmw6YS50b1N0cmluZygpLGlzUHJlZGljdGl2ZTphLmlzUHJlZGljdGl2ZSxzdGFydEJ5dGU6YS5zdGFydEJ5dGUsZW5kQnl0ZTphLmVuZEJ5dGV9fW4uY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEsodGhpcy5vLHRoaXMuYy5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuY2xvbmUoKX0pLHRoaXMuc3RhcnRCeXRlLHRoaXMuZW5kQnl0ZSx0aGlzLmlzUHJlZGljdGl2ZSx0aGlzLmgpfTtuLmdldFJlc291cmNlVGltaW5nRW50cnk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hfTsKZnVuY3Rpb24gY2QoYSxiLGMpe3ZhciBkPWIudG9TdHJpbmcoKTtpZihhLnN0YXJ0Qnl0ZXx8YS5lbmRCeXRlKWI9Yi5oYSwhYi5lbmRzV2l0aCgiZmJjZG4ubmV0Iil8fGIuc3RhcnRzV2l0aCgiaW50ZXJuY2FjaGUiKXx8Yi5lbmRzV2l0aCgiYWsuZmJjZG4ubmV0Iik/YyYmKGMuUWEuUmFuZ2U9ImJ5dGVzPSIrKGEuc3RhcnRCeXRlKyItIisobnVsbCE9YS5lbmRCeXRlP2EuZW5kQnl0ZToiIikpKTooZCs9IiZieXRlc3RhcnQ9IithLnN0YXJ0Qnl0ZSxkKz1udWxsIT09YS5lbmRCeXRlPyImYnl0ZWVuZD0iK2EuZW5kQnl0ZToiIik7YS5vJiZjJiYoZD1hLm8oZCxjLlFhKXx8ZCk7cmV0dXJuIGR9ZnVuY3Rpb24gdWIoYSl7cmV0dXJuIGNkKGEsYS5jWzBdKX1uLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY1swXS50b1N0cmluZygpfTtmdW5jdGlvbiBkZChhLGIsYyxkKXt0aGlzLmE9bmV3IHRiO2I9bnVsbCE9Yj9iOmlhO3RoaXMuYS5yZXNwb25zZVR5cGU9InRleHQiO3RoaXMuYS5OYT0zO3RoaXMuYS5iPTFFMypiO2MmJih0aGlzLmEuYT1jKTtkJiYodGhpcy5hLmRhPWQpO3RoaXMuYS5nPSEwO3RoaXMuYS53aXRoQ3JlZGVudGlhbHM9dGhpcy5hLmYudGVzdChhKTt0aGlzLmI9YX0KZnVuY3Rpb24gZWQoYSxiKXt2YXIgYz1hLmIsZD1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImRldGVjdF9saXZlX3N0cmVhbV9lbmRlZF9mcm9tX3Jlc3BvbnNlX2hlYWRlcnMiLCExKTtjLncoZCk7cmV0dXJuIGMuZmV0Y2goYS5hLG51bGwsYixudWxsLG51bGwsIm1hbmlmZXN0IikudGhlbihmdW5jdGlvbihhKXthIGluc3RhbmNlb2YgQXJyYXlCdWZmZXImJihhPVN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCxuZXcgVWludDhBcnJheShhKSkpO3ZhciBmPWQmJiEhYy5tLGc7YiYmKGc9Yi5nZXRPcGVyYXRpb25Mb2dnZXIoInBhcnNlX21hbmlmZXN0Iikuc3RhcnQoKSk7YT1lYyhhLGMuYyxbYy5pXSk7ZyYmZy5sb2coKTthJiYiZHluYW1pYyI9PT1hLnR5cGUmJmYmJihhLnR5cGU9InN0YXRpYyIsYiYmQmFuemFpT0RTLmJ1bXBFbnRpdHlLZXkoMjk2NiwidmlkZW9zLnd3dy5zaGFrYSIsImNoYW5nZWRfbWFuaWZlc3RfdG9fZHluYW1pY19vZmZfaGVhZGVycyIpKTsKaWYoYSlyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGEpO2Y9RXJyb3IoIk1QRCBwYXJzZSBmYWlsdXJlLiIpO2YudHlwZT0iZGFzaCI7cmV0dXJuIFByb21pc2UucmVqZWN0KGYpfSl9ZnVuY3Rpb24gZmQoYSl7dGhpcy5hPW51bGw7dGhpcy5oPWE7dGhpcy5jPXRoaXMuZz10aGlzLmY9bnVsbDt0aGlzLmk9ITE7dGhpcy5qPXRoaXMuYj1udWxsfTtmdW5jdGlvbiBnZChhLGIpe3RoaXMuYT1hO3RoaXMuYj1ifHxudWxsfWdkLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5hJiYodGhpcy5hLkthKCksdGhpcy5hPW51bGwpO3RoaXMuYj1udWxsfTtnZC5wcm90b3R5cGUuY3JlYXRlPWZ1bmN0aW9uKGEsYil7dmFyIGM9bnVsbDtiJiYoYz1uZXcgdGIsYy5kYT1iKTtyZXR1cm4hdGhpcy5iJiZ0aGlzLmE/dGhpcy5hLmZldGNoKGMsbnVsbCxhLG51bGwsbnVsbCwiaW5pdCIpOlByb21pc2UucmVzb2x2ZSh0aGlzLmIpfTtnZC5wcm90b3R5cGUuYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmF9O2dkLnByb3RvdHlwZS5nZXRGYWlsb3ZlclVyaT1nZC5wcm90b3R5cGUuYztmdW5jdGlvbiBoZChhLGIpe3RoaXMuc2VnbWVudE9yaWdpbmFsRW5kVGltZT1hO3RoaXMuZ2FwRGlzdGFuY2U9Yn1mdW5jdGlvbiBpZChhLGIsYyxkLGUsZixnKXt0aGlzLnN0YXJ0VGltZT1hO3RoaXMuZW5kVGltZT1iO3RoaXMudXJsPWM7dGhpcy51bnNjYWxlZFN0YXJ0VGltZT1kO3RoaXMudW5zY2FsZWREdXJhdGlvbj1lO3RoaXMudGltZXNjYWxlZEdhcEluZm89Znx8bnVsbDt0aGlzLmlzUHJlZGljdGl2ZT1nfHwhMTt0aGlzLmRlYnVnSW5mbz10aGlzLnRpbWVzY2FsZWRHYXBJbmZvP3tlbmRUaW1lOnRoaXMudGltZXNjYWxlZEdhcEluZm8uc2VnbWVudE9yaWdpbmFsRW5kVGltZSxkZWx0YTp0aGlzLnRpbWVzY2FsZWRHYXBJbmZvLmdhcERpc3RhbmNlfTpudWxsfWZ1bmN0aW9uIGpkKGEsYixjKXtyZXR1cm4gbmV3IGlkKGIsYyxhLnVybCxhLnVuc2NhbGVkU3RhcnRUaW1lLGEudW5zY2FsZWREdXJhdGlvbixhLnRpbWVzY2FsZWRHYXBJbmZvLGEuaXNQcmVkaWN0aXZlKX0KZnVuY3Rpb24geWIoYSxiKXtpZihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInVzZV9iaW5hcnlfc2VhcmNoX3doZW5fZmluZGluZ19zZWdtZW50X3JlZmVyZW5jZXMiLCExKSlyZXR1cm4gQmluYXJ5U2VhcmNoLmZpbmRJbmRleEluQXJyYXkoYSxiLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGI+PWEuc3RhcnRUaW1lJiYobnVsbD09YS5lbmRUaW1lfHxiPGEuZW5kVGltZSk/MDphLnN0YXJ0VGltZS1ifSk7Zm9yKHZhciBjPWEubGVuZ3RoLTE7MDw9YzstLWMpe3ZhciBkPWFbY107aWYoYj49ZC5zdGFydFRpbWUmJihudWxsPT1kLmVuZFRpbWV8fGI8ZC5lbmRUaW1lKSlyZXR1cm4gY31yZXR1cm4tMX1mdW5jdGlvbiBrZChhLGIpe3JldHVybiBhLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gamQoYSxhLnN0YXJ0VGltZStiLG51bGwhPWEuZW5kVGltZT9hLmVuZFRpbWUrYjpudWxsKX0pfTtmdW5jdGlvbiBsZChhLGIsYyxkKXtmb3IodmFyIGU9Yi5hLGY9W10sZz0wO2c8ZDsrK2cpe3ZhciBoPWcrYyxrPShoLTEpKmUuSCxsPWsvZS5zLG09KGsrZS5IKS9lLnMsaD1tZChhLGIsZS5iK2gtMSxrKTtpZighaClyZXR1cm4gbnVsbDtmLnB1c2gobmV3IGlkKGwsbSxoLGssZS5IfHwwKSl9cmV0dXJuIGZ9ZnVuY3Rpb24gbWQoYSxiLGMsZCxlLGYpe2lmKCFiLmEpcmV0dXJuIG51bGw7ZT1lfHwhMTt2YXIgZz1iLmEuZixoPWIuYS5DLmE7aWYoIWcpcmV0dXJuIGIuYmFzZVVybD9uZXcgSyhhLGIuYmFzZVVybCwwLG51bGwsdm9pZCAwLGYpOm51bGw7Yz1uZChlJiZoP2g6ZyxiLmlkLGMsYi5iYW5kd2lkdGgsZCk7aWYoIWMpcmV0dXJuIG51bGw7Yj1aYyhiLmJhc2VVcmwsYyk7cmV0dXJuIG5ldyBLKGEsYiwwLG51bGwsZSxmKX0KZnVuY3Rpb24gbmQoYSxiLGMsZCxlKXt2YXIgZj17UmVwcmVzZW50YXRpb25JRDpiLE51bWJlcjpjLEJhbmR3aWR0aDpkLFRpbWU6ZX07YT1hLnJlcGxhY2UoL1wkKFJlcHJlc2VudGF0aW9uSUR8TnVtYmVyfEJhbmR3aWR0aHxUaW1lKT8oPzolMChbMC05XSspZCk/XCQvZyxmdW5jdGlvbihhLGIsYyl7aWYoIiQkIj09YSlyZXR1cm4iJCI7dmFyIGQ9ZltiXTtpZihudWxsPT1kKXJldHVybiBhOyJSZXByZXNlbnRhdGlvbklEIj09YiYmYyYmKGM9dm9pZCAwKTthPWQudG9TdHJpbmcoKTtjPXdpbmRvdy5wYXJzZUludChjLDEwKXx8MTtjPU1hdGgubWF4KDAsYy1hLmxlbmd0aCk7cmV0dXJuIEFycmF5KGMrMSkuam9pbigiMCIpK2F9KTt0cnl7cmV0dXJuIG5ldyBMKGEpfWNhdGNoKGcpe2lmKGcgaW5zdGFuY2VvZiBVUklFcnJvcilyZXR1cm4gbnVsbDt0aHJvdyBnO319CmZ1bmN0aW9uIG9kKGEsYixjLGQsZSxmKXt2YXIgZz0wLGg9YypiO2M9YS5OO3ZhciBrPWR8fDA7ZD1bXTt2YXIgbD1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigibGl2ZV9yZXdpbmRfdGVtcGxhdGVkX2xhc3RfeF9zZWdtZW50c19vbmx5IiwwKSxtPVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgidGVtcGxhdGVkX2xhc3RfeF90aW1lbGluZSIsITEpJiZlJiZudWxsIT1mLHA9ZSYmbT9WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigidGVtcGxhdGVkX2luZ2VzdF90aHJvdHRsZSIsMCk6MDtpZihsfHxtKXtmb3IoZT0wO2U8Yy5sZW5ndGg7KytlKXtpZighY1tlXS5kdXJhdGlvbilyZXR1cm4gZDt2YXIgdD1jW2VdLnN0YXJ0VGltZSx0PW51bGwhPXQ/dDpnLHc9Y1tlXS5yZXBlYXR8fDA7aWYoMD53KWlmKHc9Y1tlXS5kdXJhdGlvbixlKzE9PT1jLmxlbmd0aCl2YXIgej1jWzBdLnN0YXJ0VGltZStoLXQsdz1NYXRoLmNlaWwoei8KdyktMTtlbHNlIHo9Y1tlKzFdLnN0YXJ0VGltZSx3PU1hdGguY2VpbCgoei10KS93KS0xO2NbZV0uc3RhcnRUaW1lPXQ7Y1tlXS5yZXBlYXQ9dztnPWNbZV0uc3RhcnRUaW1lK2NbZV0uZHVyYXRpb24qKGNbZV0ucmVwZWF0KzEpfWZvcihlPWMubGVuZ3RoLTE7LTE8ZTstLWUpZm9yKHZhciBIPTA7SDw9Y1tlXS5yZXBlYXQ7KytIKWlmKHQ9Y1tlXS5zdGFydFRpbWUrY1tlXS5kdXJhdGlvbiooY1tlXS5yZXBlYXQtSCksZz10K2NbZV0uZHVyYXRpb24sYT1udWxsLGQubGVuZ3RoJiZnIT1kW2QubGVuZ3RoLTFdLnN0YXJ0JiYoej1kW2QubGVuZ3RoLTFdLnN0YXJ0LWcsYT1uZXcgaGQoZy9iLHovYiksZz1kW2QubGVuZ3RoLTFdLnN0YXJ0KSxkLnB1c2goe3N0YXJ0OnQsZW5kOmd9KSxhJiYoZFtkLmxlbmd0aC0xXS50aW1lc2NhbGVkR2FwSW5mbz1hKSxsKXtpZihkLmxlbmd0aD09PWwpcmV0dXJuIGQ9ZC5yZXZlcnNlKCl9ZWxzZSBpZihtJiZkW2QubGVuZ3RoLTFdLnN0YXJ0PD1mKXJldHVybiBkLnBvcCgpLApkPWQucmV2ZXJzZSgpLDA8cCYmKGQ9ZC5zbGljZSgwLHApKSxkO3JldHVybiBkLnJldmVyc2UoKX1mb3IoZT0wO2U8Yy5sZW5ndGg7KytlKXtpZighY1tlXS5kdXJhdGlvbilyZXR1cm4gZDt0PWNbZV0uc3RhcnRUaW1lO3Q9bnVsbCE9dD90Omc7dz1jW2VdLnJlcGVhdHx8MDswPncmJih3PWNbZV0uZHVyYXRpb24sZSsxPT09Yy5sZW5ndGg/KHo9Y1swXS5zdGFydFRpbWUraC10LHc9TWF0aC5jZWlsKHovdyktMSk6KHo9Y1tlKzFdLnN0YXJ0VGltZSx3PU1hdGguY2VpbCgoei10KS93KS0xKSk7MDxkLmxlbmd0aCYmdCE9ZyYmKHo9dC1nLGY9ZFtkLmxlbmd0aC0xXSxmLnRpbWVzY2FsZWRHYXBJbmZvPW5ldyBoZChnL2Isei9iKSxmLmVuZD10KTtmb3IoSD0wO0g8PXc7KytIKWc9dCtjW2VdLmR1cmF0aW9uLGQucHVzaCh7c3RhcnQ6dCxlbmQ6Z30pLHQ9Z31pZihhLmEmJjA8Yy5sZW5ndGgpZm9yKGI9Y1swXS5kdXJhdGlvbixmPTA7ZjxrO2YrKylkLnB1c2goe3N0YXJ0OnQrZipiLGVuZDp0KwooZisxKSpiLHVkOmEuYitmfSk7cmV0dXJuIGR9O2Z1bmN0aW9uIHBkKGEsYixjLGQsZSl7dGhpcy53PWE7dGhpcy5tPWI7dGhpcy5jPWM7dGhpcy5XPTA7dGhpcy5CPSEwO3RoaXMucz1jLnN8fDA7dGhpcy5BPSExO3RoaXMuZz1udWxsO3RoaXMudT1kO3RoaXMuaj1jLkx8fDA7dGhpcy5iPTA7dGhpcy5pPXRoaXMuaD1udWxsO2E6e2I9Yy5DO3ZhciBmPTA7YT0oYS5kdXJhdGlvbnx8MCkqdGhpcy5zO2M9Yi5OO2ZvcihkPTA7ZDxjLmxlbmd0aDsrK2Qpe2lmKCFjW2RdLmR1cmF0aW9uKXtiLk49Yy5zbGljZSgwLGQpO2JyZWFrIGF9dmFyIGc9Y1tkXS5zdGFydFRpbWUsZj1udWxsIT1nP2c6ZixnPWNbZF0ucmVwZWF0fHwwOzA+ZyYmKGc9Y1tkXS5kdXJhdGlvbixnPWQrMT09PWMubGVuZ3RoP01hdGguY2VpbCgoY1swXS5zdGFydFRpbWUrYS1mKS9nKS0xOk1hdGguY2VpbCgoY1tkKzFdLnN0YXJ0VGltZS1mKS9nKS0xKTtjW2RdLnN0YXJ0VGltZT1mO2NbZF0ucmVwZWF0PWc7Zj1jW2RdLnN0YXJ0VGltZStjW2RdLmR1cmF0aW9uKihjW2RdLnJlcGVhdCsKMSl9fXRoaXMuZj1bXTt0aGlzLm89VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoInRpbWVsaW5lX3NlZ21lbnRfaW5kZXhfbWF4X2luZGV4X2NhY2hlX2xlbmd0aCIsMCk7dGhpcy5iPVNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscy5sZW5ndGgodGhpcy5jLkMuTik7dGhpcy5EPWV8fG51bGx9cGQucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmI9dGhpcy5jPXRoaXMubT10aGlzLnc9bnVsbDt0aGlzLmc9ZnVuY3Rpb24oKXt9O3RoaXMuZj10aGlzLnU9bnVsbH07cGQucHJvdG90eXBlLmxlbmd0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmJ9O2Z1bmN0aW9uIHFkKGEsYil7Zm9yKHZhciBjPWEuZi5sZW5ndGgtMTstMTxjO2MtLSlpZihhLmZbY10uaW5kZXg9PT1iKXt2YXIgZD1hLmZbY107YS5mLnNwbGljZShjLDEpO2EuZi5wdXNoKGQpO3JldHVybiBkLnhkfXJldHVybiBudWxsfQpmdW5jdGlvbiByZChhLGIsYyl7dmFyIGQ9W107aWYoYS5vJiYxPT09Yy1iKXt2YXIgZT1xZChhLGIpO2lmKGUpcmV0dXJuW2VdfXZhciBmPS1hLmovYS5zK2EuVztTaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMuZ2V0U2VnbWVudHMoYixjLGEuYy5DLk4sZnVuY3Rpb24oYSxlLGssbCxtKXtpZihsKXt2YXIgcD1kW2QubGVuZ3RoLTFdO3AmJihwLnRpbWVzY2FsZWRHYXBJbmZvPW5ldyBoZChtL3RoaXMucyxsL3RoaXMucykscC5kZWJ1Z0luZm89e2VuZFRpbWU6cC50aW1lc2NhbGVkR2FwSW5mby5zZWdtZW50T3JpZ2luYWxFbmRUaW1lLGRlbHRhOnAudGltZXNjYWxlZEdhcEluZm8uZ2FwRGlzdGFuY2V9LGRbZC5sZW5ndGgtMV09amQocCxwLnN0YXJ0VGltZSxhL3RoaXMucytmKSl9az1tZCh0aGlzLnUsdGhpcy5tLGsrdGhpcy5jLmIsYSx2b2lkIDAsdGhpcy5EKTtpZighayl0aHJvdyBhPUVycm9yKCJGYWlsZWQgdG8gZ2VuZXJhdGUgbWVkaWEgVVJMLiIpLGEudHlwZT0iZGFzaCIsCmE7YT1uZXcgaWQoYS90aGlzLnMrZixlL3RoaXMucytmLGssYSxlLWEsbnVsbCk7ZT1iK2QubGVuZ3RoO2QucHVzaChhKTshdGhpcy5vfHwwIT09ZSYmZSE9PXRoaXMuYi0xJiYxIT09Yy1ifHxxZCh0aGlzLGUpfHwodGhpcy5mLmxlbmd0aCsxPnRoaXMubyYmdGhpcy5mLnNoaWZ0KCksdGhpcy5mLnB1c2goe2luZGV4OmUseGQ6YX0pKX0uYmluZChhKSk7cmV0dXJuIGR9CmZ1bmN0aW9uIHNkKGEsYil7dmFyIGM9Yi51bnNjYWxlZFN0YXJ0VGltZSxkPWIudW5zY2FsZWRFbmRUaW1lLGU9Yi5kZWx0YSxmPWIucHJldmlvdXNFbmRUaW1lO2lmKGUpdmFyIGc9bmV3IGhkKGYvYS5zLGUvYS5zKTtlPW1kKGEudSxhLm0sYi5zZWdtZW50UmVwbGFjZW1lbnQrYS5jLmIsYyx2b2lkIDAsYS5EKTtpZighZSl0aHJvdyBjPUVycm9yKCJGYWlsZWQgdG8gZ2VuZXJhdGUgbWVkaWEgVVJMLiIpLGMudHlwZT0iZGFzaCIsYztmPS1hLmovYS5zK2EuVztyZXR1cm4gbmV3IGlkKGMvYS5zK2YsZC9hLnMrZixlLGMsZC1jLGd8fG51bGwpfXBkLnByb3RvdHlwZS5nZXRTZWdtZW50cz1mdW5jdGlvbigpe3JldHVybiByZCh0aGlzLDAsdGhpcy5iKXx8W119OwpwZC5wcm90b3R5cGUuZmlyc3Q9ZnVuY3Rpb24oKXtpZighdGhpcy5iKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbmRleCBvdXQgb2YgcmFuZ2UuIik7aWYoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJvcHRpbWl6ZV9jb21tb25fc2VnbWVudF9nZW5lcmF0aW9ucyIsITEpKXtpZih0aGlzLmgpcmV0dXJuIHRoaXMuaDt2YXIgYT1TaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMuZmlyc3QodGhpcy5jLkMuTix0aGlzLmIpO3JldHVybiB0aGlzLmg9c2QodGhpcyxhKX1yZXR1cm4gcmQodGhpcywwLDEpWzBdfTsKcGQucHJvdG90eXBlLmxhc3Q9ZnVuY3Rpb24oKXtpZighdGhpcy5iKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbmRleCBvdXQgb2YgcmFuZ2UuIik7aWYoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJvcHRpbWl6ZV9jb21tb25fc2VnbWVudF9nZW5lcmF0aW9ucyIsITEpKXtpZih0aGlzLmkpcmV0dXJuIHRoaXMuaTt2YXIgYT1TaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMubGFzdCh0aGlzLmMuQy5OLHRoaXMuYik7cmV0dXJuIHRoaXMuaT1zZCh0aGlzLGEpfXJldHVybiByZCh0aGlzLHRoaXMuYi0xLHRoaXMuYilbMF19OwpwZC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGEpe2lmKCF0aGlzLmJ8fDA+YXx8YT49dGhpcy5iKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbmRleCBvdXQgb2YgcmFuZ2UuIik7cmV0dXJuIFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgib3B0aW1pemVfY29tbW9uX3NlZ21lbnRfZ2VuZXJhdGlvbnMiLCExKT8oYT1TaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMuZ2V0KHRoaXMuYy5DLk4sYSx0aGlzLmIpLHNkKHRoaXMsYSkpOnJkKHRoaXMsYSxhKzEpWzBdfTsKcGQucHJvdG90eXBlLmZpbmQ9ZnVuY3Rpb24oYSl7aWYoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJmaXhfY29tcG9zaXRlZF90aW1lX2luZGV4X2NhbGxzIiwhMSkpcmV0dXJuKGE9U2hha2FUaW1lbGluZVNlZ21lbnRJbmRleFV0aWxzLmZpbmQoYSx0aGlzLmMuQy5OLHRoaXMucywtdGhpcy5qL3RoaXMucyt0aGlzLlcpKT9zZCh0aGlzLGEpOm51bGw7YT10aGlzLmZpbmRJbmRleChhKTtyZXR1cm4gVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJvcHRpbWl6ZV9jb21tb25fc2VnbWVudF9nZW5lcmF0aW9ucyIsITEpPzA8PWE/dGhpcy5nZXQoYSk6bnVsbDowPD1hP3JkKHRoaXMsYSxhKzEpWzBdOm51bGx9O3BkLnByb3RvdHlwZS5maW5kSW5kZXg9ZnVuY3Rpb24oYSl7cmV0dXJuIFNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscy5maW5kSW5kZXgoYSx0aGlzLmMuQy5OLHRoaXMucywtdGhpcy5qL3RoaXMucyt0aGlzLlcpfTtuPXBkLnByb3RvdHlwZTsKbi5TYT1mdW5jdGlvbihhKXt2YXIgYj1hLmxlbmd0aCgpLGM9Yi10aGlzLmI7aWYoMCE9PWImJihiIT09dGhpcy5ifHwwIT09dGhpcy5iJiZhLmxhc3QoKS5lbmRUaW1lIT09dGhpcy5sYXN0KCkuZW5kVGltZSkmJiEoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJmaXhfaW50ZWdyYXRpb25fb25fZWFybGllcl9lbmR0aW1lIiwhMSkmJmEubGFzdCgpLmVuZFRpbWU8PXRoaXMubGFzdCgpLmVuZFRpbWUpKWlmKHRoaXMuQT0hMSxiPWEubGFzdCgpLG51bGwhPWIuZW5kVGltZSYmYi5lbmRUaW1lPHRoaXMubGFzdCgpLmVuZFRpbWUmJmIuZW5kVGltZTx0aGlzLmZpcnN0KCkuc3RhcnRUaW1lJiYodGhpcy5BPSEwKSxWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImludGVncmF0ZV9zZWdtZW50X3RpbWVsaW5lX3RpbWVfcG9pbnRzIiwhMSk/dGhpcy5jLkMuTj1TaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMuaW50ZWdyYXRlVGltZVBvaW50cyh0aGlzLmMuQy5OLAphLmMuQy5OKToodGhpcy53PWEudyx0aGlzLm09YS5tLHRoaXMuYz1hLmMsdGhpcy5qPXRoaXMuYy5MfHwwLHRoaXMucz10aGlzLmMuc3x8MCksdGhpcy5mPVtdLHRoaXMuaT10aGlzLmg9bnVsbCx0aGlzLmI9U2hha2FUaW1lbGluZVNlZ21lbnRJbmRleFV0aWxzLmxlbmd0aCh0aGlzLmMuQy5OKSx0aGlzLmZpcnN0KCksdGhpcy5sYXN0KCksVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJ0ZW1wbGF0ZWRfY2FsbF9vbl9zZWdtZW50c191cGRhdGVkX3dpdGhfZGVsdGFfc2VnbWVudHMiLCExKSl7dmFyIGQ9W10sYz10aGlzLmItYztmb3IoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJ0ZW1wbGF0ZWRfZHluYW1pY19pbmNsdWRlX3ByZXZpb3VzX2xhc3Rfc2VnbWVudF9pbl91cGRhdGVzIiwhMSkmJjA8YyYmYy0tO2M8dGhpcy5iOysrYylkLnB1c2godGhpcy5nZXQoYykpO3RoaXMuZyYmdGhpcy5nKGQpfWVsc2UgYz0hVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJub19wcm92aWRlX3NlZ21lbnRzX3RvX29uX3NlZ21lbnRzX3VwZGF0ZWRfbGlzdGVuZXJzIiwKITEpLHRoaXMuZyYmKGMmJihkPXRoaXMuZ2V0U2VnbWVudHMoKSksdGhpcy5nKGQpKX07bi5oYj1mdW5jdGlvbihhKXt2YXIgYj1hLXRoaXMuVztpZigwPT1iKXJldHVybiAwO3RoaXMuVz1hO3RoaXMuaT10aGlzLmg9bnVsbDt0aGlzLmY9W107cmV0dXJuIGJ9O24uaWI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iP3tzdGFydDp0aGlzLmZpcnN0KCkuc3RhcnRUaW1lLGVuZDp0aGlzLmxhc3QoKS5lbmRUaW1lfTp7c3RhcnQ6MCxlbmQ6MH19O24uZ2V0U2Vla1JhbmdlR2Fwcz1mdW5jdGlvbigpe3JldHVybiBTaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMuZ2V0U2Vla1JhbmdlR2Fwcyh0aGlzLmMuQy5OLHRoaXMucywtdGhpcy5qL3RoaXMucyt0aGlzLlcpfTtuLnJiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuQX07bi5HYz1mdW5jdGlvbihhKXt0aGlzLmc9YX07bi5GYz1mdW5jdGlvbigpe3RoaXMuZz1udWxsfTtuLklhPWZ1bmN0aW9uKCl7fTtmdW5jdGlvbiB0ZCgpe30KdGQucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9bnVsbDt0cnl7YTp7dmFyIGc9W10saD1uZXcgQmEoYSksaz12KGgpO2lmKDE5MzYyODY4NDAhPXYoaCkpZj1udWxsO2Vsc2V7MT09ayYmKGs9RmEoaCkpO3ZhciBsPUVhKGgpO0hhKGgsMyk7SGEoaCw0KTt2YXIgbT12KGgpO2lmKDA9PW0pZj1udWxsO2Vsc2V7dmFyIHAsdDswPT1sPyhwPXYoaCksdD12KGgpKToocD1GYShoKSx0PUZhKGgpKTtIYShoLDIpO3ZhciB3PWguYi5nZXRVaW50MTYoaC5hLGguYyk7aC5hKz0yO2E9cDtiPWIrayt0O2Zvcih0PWs9MDt0PHc7dCsrKXt2YXIgej12KGgpO3A9KHomMjE0NzQ4MzY0OCk+Pj4zMTt2YXIgbD16JjIxNDc0ODM2NDcsSD12KGgpO3YoaCk7aWYoMT09cCl7Zj1udWxsO2JyZWFrIGF9dmFyIGRhO2RhPTA9PXQmJmU/ZTpuZXcgSyhkLGMsYixiK2wtMSk7cD1hL207dmFyIGVhPShhK0gpL207MD09PXQmJihrPXApO2cucHVzaChuZXcgaWQocC1rLGVhLWssZGEsCmEsSCkpO2ErPUg7Yis9bH1nLnM9bTtmPWd9fX19Y2F0Y2goQWEpe2lmKCEoQWEgaW5zdGFuY2VvZiBSYW5nZUVycm9yKSl0aHJvdyBBYTt9cmV0dXJuIGZ9O2Z1bmN0aW9uIFIoYSl7dGhpcy5hPWE7dGhpcy5zPXRoaXMuYS5zO3RoaXMuSz10aGlzLmEuQjt0aGlzLmc9W119Ui5wcm90b3R5cGUuSj1mdW5jdGlvbigpe3JldHVybiEhdGhpcy5nW3RoaXMuZy5sZW5ndGgtMV19O1IucHJvdG90eXBlLmxhc3RQb2xsSGFkQ2hhbmdlcz1SLnByb3RvdHlwZS5KO1IucHJvdG90eXBlLkk9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmcsYj1hLmxhc3RJbmRleE9mKCEwKTtpZigxPmIpcmV0dXJuIDA7YT1hLmxhc3RJbmRleE9mKCEwLGItMSk7cmV0dXJuIDA+YT8wOmItYS0xfTtSLnByb3RvdHlwZS5nZXRGZXRjaGVzQmV0d2VlblJlY2VudENoYW5nZXM9Ui5wcm90b3R5cGUuSTtSLnByb3RvdHlwZS51PWZ1bmN0aW9uKCl7cmV0dXJuIE1hdGguZmxvb3IoKHRoaXMuZy5sZW5ndGgtMS10aGlzLmcubGFzdEluZGV4T2YoITApKS8yKX07Ui5wcm90b3R5cGUuZ2V0Q29uc2VjdXRpdmVVcGRhdGVzV2l0aG91dENoYW5nZXM9Ui5wcm90b3R5cGUudTsKUi5wcm90b3R5cGUuRz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmcubGVuZ3RoLTEtdGhpcy5nLmxhc3RJbmRleE9mKCExKX07Ui5wcm90b3R5cGUuZ2V0Q29uc2VjdXRpdmVVcGRhdGVzV2l0aENoYW5nZXM9Ui5wcm90b3R5cGUuRztSLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5hLmRlc3Ryb3koKTt0aGlzLmE9bnVsbH07Ui5wcm90b3R5cGUubGVuZ3RoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS5sZW5ndGgoKX07Ui5wcm90b3R5cGUuZ2V0U2VnbWVudHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLmdldFNlZ21lbnRzKCl9O1IucHJvdG90eXBlLmdldFNlZ21lbnRzPVIucHJvdG90eXBlLmdldFNlZ21lbnRzO1IucHJvdG90eXBlLmZpcnN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS5maXJzdCgpfTtSLnByb3RvdHlwZS5sYXN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS5sYXN0KCl9O1IucHJvdG90eXBlLmxhc3Q9Ui5wcm90b3R5cGUubGFzdDsKUi5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmEuZ2V0KGEpfTtSLnByb3RvdHlwZS5maW5kPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmEuZmluZChhKX07Ui5wcm90b3R5cGUuZmluZEluZGV4PWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmEuZmluZEluZGV4KGEpfTtSLnByb3RvdHlwZS5CPWZ1bmN0aW9uKGEpe3RoaXMuYS5TYShhLmEpO3JldHVybiEwfTtSLnByb3RvdHlwZS5UYT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5hLmhiKGEpfTtSLnByb3RvdHlwZS5BPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS5pYigpfTtSLnByb3RvdHlwZS5nZXRTZWVrUmFuZ2VHYXBzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS5nZXRTZWVrUmFuZ2VHYXBzKCl9O1IucHJvdG90eXBlLmdldFNlZWtSYW5nZUdhcHM9Ui5wcm90b3R5cGUuZ2V0U2Vla1JhbmdlR2FwcztSLnByb3RvdHlwZS5yYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmEucmIoKX07CmZ1bmN0aW9uIHVkKGEsYil7YS5hLkdjKGIpfTtmdW5jdGlvbiBTKGEsYixjLGQpe1IuY2FsbCh0aGlzLGEpO3RoaXMuaT1iO3RoaXMuRj1jO3RoaXMuaD1kO3RoaXMuZHVyYXRpb249dGhpcy5pLmJ8fHRoaXMuaS5hLnJlZHVjZShmdW5jdGlvbihhLGIpe3JldHVybiBudWxsPT1iLmR1cmF0aW9uP05hTjphK2IuZHVyYXRpb259LDApfHwwO3RoaXMuYj10aGlzLm89dGhpcy5mPW51bGw7eWQodGhpcyl9cihTLFIpO1MucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLkY9dGhpcy5pPW51bGw7Ui5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpfTtTLnByb3RvdHlwZS5maW5kPWZ1bmN0aW9uKGEpe3pkKHRoaXMseWEoKS8xRTMpO3JldHVybiBSLnByb3RvdHlwZS5maW5kLmNhbGwodGhpcyxhKX07ClMucHJvdG90eXBlLkI9ZnVuY3Rpb24oYSl7aWYoIShhIGluc3RhbmNlb2YgUykpcmV0dXJuITE7dGhpcy5hLlNhKGEuYSk7dGhpcy5kdXJhdGlvbj1NYXRoLm1heCh0aGlzLmR1cmF0aW9uLGEuZHVyYXRpb24pO251bGw9PXRoaXMuZj8odGhpcy5oPWEuaCx5ZCh0aGlzKSk6QWQodGhpcyk7cmV0dXJuITB9O2Z1bmN0aW9uIHlkKGEpe0FkKGEpO2lmKDAhPWEubGVuZ3RoKCkpe2EubGVuZ3RoKCk7dmFyIGI9bnVsbCE9YS5sYXN0KCkuZW5kVGltZT9hLmxhc3QoKS5lbmRUaW1lOmEubGFzdCgpLnN0YXJ0VGltZTtpZihhLmkuYz5hLmgpYS5mPWI7ZWxzZXt2YXIgYz1hLmgtKGEuaS5jK2EuRi5zdGFydCk7MD5jP2EuZj1iOmM8TWF0aC5tYXgoYS5sYXN0KCkuc3RhcnRUaW1lLGEubGFzdCgpLmVuZFRpbWV8fDApPyhhLmxhc3QoKSxhLmY9Yik6YS5mPWN9YS5vPWEubGFzdCgpLnN0YXJ0VGltZTthLmI9YS5maXJzdCgpLnN0YXJ0VGltZX19ClMucHJvdG90eXBlLlRhPWZ1bmN0aW9uKGEpe2E9Ui5wcm90b3R5cGUuVGEuY2FsbCh0aGlzLGEpO1ZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgibm9fY29ycmVjdF9kZWx0YV93YXJuaW5nIiwhMSl8fE1hdGgubWluLmFwcGx5KG51bGwsdGhpcy5nZXRTZWdtZW50cygpLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YS5lbmRUaW1lfSkubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLmVuZFRpbWUtYS5zdGFydFRpbWV9KSk7bnVsbCE9dGhpcy5mJiYodGhpcy5vKz1hLHRoaXMuYis9YSx0aGlzLmYrPWEpO3JldHVybiBhfTtTLnByb3RvdHlwZS5BPWZ1bmN0aW9uKCl7cmV0dXJuIEJkKHRoaXMseWEoKS8xRTMpfTsKZnVuY3Rpb24gQmQoYSxiKXt6ZChhLGIpO2lmKG51bGw9PWEuZnx8bnVsbD09YS5vfHxudWxsPT1hLmIpcmV0dXJue3N0YXJ0OjAsZW5kOjB9O3ZhciBjPU51bWJlci5QT1NJVElWRV9JTkZJTklUWTthLmR1cmF0aW9uJiYoYz1hLmR1cmF0aW9uKTt2YXIgZD1iLWEuaCxlPWEuZitkO251bGwhPWEuaS5mJiYoZT1lLWEuYi1hLmkuZiwwPGUmJihhLmIrPWUpKTthLmI9TWF0aC5taW4oYS5iLGMpO2Q9YS5vK2Q7aWYoZDxhLmIpcmV0dXJue3N0YXJ0OmEuYixlbmQ6YS5ifTtkPTA8YS5sZW5ndGgoKT9udWxsIT1hLmxhc3QoKS5lbmRUaW1lP01hdGgubWluKGQsYS5sYXN0KCkuZW5kVGltZSk6ZDphLmI7ZD1NYXRoLm1heChkLGEuYik7ZD1NYXRoLm1pbihkLGMpO3JldHVybntzdGFydDphLmIsZW5kOmR9fQpmdW5jdGlvbiB6ZChhLGIpe2lmKGEuYS5hJiYoQWQoYSksbnVsbCE9YS5pLmYpKWlmKG51bGw9PWEuZilhLmxlbmd0aCgpO2Vsc2V7Zm9yKHZhciBjPWEuZisoYi1hLmgpLGQ9MCxlPTA7ZTxhLmEuYS5sZW5ndGg7KytlKXt2YXIgZj1udWxsO2U8YS5hLmEubGVuZ3RoLTE/Zj1hLmEuYVtlKzFdLmVuZFRpbWU6KGY9YS5hLmFbZV0sZj1udWxsIT1mLmVuZFRpbWU/Zi5lbmRUaW1lKyhmLmVuZFRpbWUtZi5zdGFydFRpbWUpOm51bGwpO2lmKG51bGwhPWYmJmY8Yy1hLmkuZikrK2Q7ZWxzZSBicmVha30wPGQmJmEuYS5hLnNwbGljZSgwLGQpfX1mdW5jdGlvbiBBZChhKXtpZihhLmR1cmF0aW9uJiZhLmEuYSl7Zm9yKHZhciBiPTAsYz1hLmEuYS5sZW5ndGgtMTswPD1jOy0tYylpZihhLmEuYVtjXS5zdGFydFRpbWU+YS5kdXJhdGlvbikrK2I7ZWxzZSBicmVhazswPGImJmEuYS5hLnNwbGljZSgtYil9fTtmdW5jdGlvbiBUKGEsYixjKXt2YXIgZD1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigidGVtcGxhdGVkX3F1YXJhbnRpbmVfaWRsZV9yZWZlcmVuY2VzX3RocmVzaG9sZCIsMCk7dGhpcy5pPVtdO2lmKDA8ZCl7dmFyIGU9YTthPWUuc3BsaWNlKC1kKTt0aGlzLmk9ZX10aGlzLmE9YTt0aGlzLlc9MDt0aGlzLnM9Yjt0aGlzLmY9ITE7dGhpcy5oPWZ1bmN0aW9uKCl7fTt0aGlzLkI9Y3x8ITF9VC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuYT1udWxsfTtULnByb3RvdHlwZS5sZW5ndGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLmxlbmd0aH07VC5wcm90b3R5cGUuZ2V0U2VnbWVudHM9ZnVuY3Rpb24oKXtyZXR1cm4odGhpcy5hfHxbXSkuc2xpY2UoKX07VC5wcm90b3R5cGUuZ2V0U2VnbWVudHM9VC5wcm90b3R5cGUuZ2V0U2VnbWVudHM7ClQucHJvdG90eXBlLmZpcnN0PWZ1bmN0aW9uKCl7aWYoMD09dGhpcy5hLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiU2VnbWVudEluZGV4QmFzZTogVGhlcmUgaXMgbm8gZmlyc3QgU2VnbWVudFJlZmVyZW5jZS4iKTtyZXR1cm4gdGhpcy5hWzBdfTtULnByb3RvdHlwZS5sYXN0PWZ1bmN0aW9uKCl7aWYoMD09dGhpcy5hLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiU2VnbWVudEluZGV4QmFzZTogVGhlcmUgaXMgbm8gbGFzdCBTZWdtZW50UmVmZXJlbmNlLiIpO3JldHVybiB0aGlzLmFbdGhpcy5hLmxlbmd0aC0xXX07VC5wcm90b3R5cGUubGFzdD1ULnByb3RvdHlwZS5sYXN0O1QucHJvdG90eXBlLmdldD1mdW5jdGlvbihhKXtpZigwPmF8fGE+PXRoaXMuYS5sZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIlNlZ21lbnRJbmRleEJhc2U6IFRoZSBzcGVjaWZpZWQgaW5kZXggaXMgb3V0IG9mIHJhbmdlLiIpO3JldHVybiB0aGlzLmFbYV19OwpULnByb3RvdHlwZS5maW5kPWZ1bmN0aW9uKGEpe2E9dGhpcy5maW5kSW5kZXgoYSk7cmV0dXJuIDA8PWE/dGhpcy5hW2FdOm51bGx9O1QucHJvdG90eXBlLmZpbmRJbmRleD1mdW5jdGlvbihhKXtyZXR1cm4geWIodGhpcy5hLGEpfTsKVC5wcm90b3R5cGUuU2E9ZnVuY3Rpb24oYSl7dGhpcy5XIT1hLlcmJihhPW5ldyBUKGtkKGEuYSx0aGlzLlctYS5XKSxhLnMpKTtpZigwPT10aGlzLmxlbmd0aCgpKXRoaXMuYT1hLmEuc2xpY2UoMCksdGhpcy5JYSgpO2Vsc2UgaWYoMCE9YS5sZW5ndGgoKSYmbnVsbCE9dGhpcy5sYXN0KCkuZW5kVGltZSlpZihudWxsIT1hLmxhc3QoKS5lbmRUaW1lJiZhLmxhc3QoKS5lbmRUaW1lPHRoaXMubGFzdCgpLmVuZFRpbWUpVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJmaXhfbWFuaWZlc3Rfd3JhcHBlZCIsITApP2EubGFzdCgpLmVuZFRpbWU8dGhpcy5maXJzdCgpLnN0YXJ0VGltZSYmKHRoaXMuZj0hMCk6dGhpcy5mPSEwO2Vsc2V7dGhpcy5mPSExO2lmKHRoaXMubGFzdCgpLmVuZFRpbWU8PWEuZmlyc3QoKS5zdGFydFRpbWUpe3ZhciBiPWpkKHRoaXMubGFzdCgpLHRoaXMubGFzdCgpLnN0YXJ0VGltZSxhLmZpcnN0KCkuc3RhcnRUaW1lKSxjPXRoaXMubGFzdCgpLnVuc2NhbGVkU3RhcnRUaW1lKwp0aGlzLmxhc3QoKS51bnNjYWxlZER1cmF0aW9uO1ZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgiY2FsY3VsYXRlX21pc3NlZF9zZWdtZW50X2dhcF9pbmZvX29uX21lcmdlIiwhMSkmJmM8YS5maXJzdCgpLnVuc2NhbGVkU3RhcnRUaW1lJiZudWxsPT09dGhpcy5sYXN0KCkudGltZXNjYWxlZEdhcEluZm8mJihiLnRpbWVzY2FsZWRHYXBJbmZvPW5ldyBoZChjL3RoaXMucywoYS5maXJzdCgpLnVuc2NhbGVkU3RhcnRUaW1lLWMpL3RoaXMucykpO2lmKFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgidGVtcGxhdGVkX29wdGltaXplX21lcmdlX3RhcmdldF9hbGdvcyIsITEpKWZvcih0aGlzLmEucG9wKCksdGhpcy5hLnB1c2goYiksYz0wO2M8YS5hLmxlbmd0aDsrK2MpdGhpcy5hLnB1c2goYS5hW2NdKTtlbHNlIGI9dGhpcy5hLnNsaWNlKDAsLTEpLmNvbmNhdChbYl0pLHRoaXMuYT1iLmNvbmNhdChhLmEpfWVsc2V7Zm9yKGM9MDtjPHRoaXMuYS5sZW5ndGgmJgohKHRoaXMuYVtjXS5lbmRUaW1lPj1hLmZpcnN0KCkuc3RhcnRUaW1lKTsrK2MpO3RoaXMuYVtjXS5zdGFydFRpbWU8YS5maXJzdCgpLnN0YXJ0VGltZT8oYj1qZCh0aGlzLmFbY10sdGhpcy5hW2NdLnN0YXJ0VGltZSxhLmZpcnN0KCkuc3RhcnRUaW1lKSxiPXRoaXMuYS5zbGljZSgwLGMpLmNvbmNhdChbYl0pKToodGhpcy5maXJzdCgpLnN0YXJ0VGltZT5hLmZpcnN0KCkuc3RhcnRUaW1lfHxhLmZpcnN0KCksYj10aGlzLmEuc2xpY2UoMCxjKSk7dGhpcy5hPWIuY29uY2F0KGEuYSl9dGhpcy5oKGEuYSk7dGhpcy5JYSgpfX07VC5wcm90b3R5cGUuaGI9ZnVuY3Rpb24oYSl7dmFyIGI9YS10aGlzLlc7aWYoMD09YilyZXR1cm4gMDt0aGlzLmE9a2QodGhpcy5hLGIpO3RoaXMuSWEoKTt0aGlzLlc9YTtyZXR1cm4gYn07ClQucHJvdG90eXBlLmliPWZ1bmN0aW9uKCl7cmV0dXJuIDA8dGhpcy5sZW5ndGgoKT97c3RhcnQ6dGhpcy5maXJzdCgpLnN0YXJ0VGltZSxlbmQ6dGhpcy5sYXN0KCkuZW5kVGltZX06e3N0YXJ0OjAsZW5kOjB9fTtULnByb3RvdHlwZS5nZXRTZWVrUmFuZ2VHYXBzPWZ1bmN0aW9uKCl7cmV0dXJuIGdldFNlZWtSYW5nZUdhcHNGcm9tU2hha2FSZWZlcmVuY2VzKHRoaXMuYSx0aGlzLnMpfTtULnByb3RvdHlwZS5nZXRTZWVrUmFuZ2VHYXBzPVQucHJvdG90eXBlLmdldFNlZWtSYW5nZUdhcHM7VC5wcm90b3R5cGUucmI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mfTtULnByb3RvdHlwZS5HYz1mdW5jdGlvbihhKXt0aGlzLmg9YX07VC5wcm90b3R5cGUuRmM9ZnVuY3Rpb24oKXt0aGlzLmg9ZnVuY3Rpb24oKXt9fTtULnByb3RvdHlwZS5JYT1mdW5jdGlvbigpe307VC5wcm90b3R5cGUuZ2V0SWRsZVJlZmVyZW5jZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pfTtmdW5jdGlvbiBDZChhLGIsYyxkLGUpe3ZhciBmPTEsZz0wLGg7aWYoYS5jPmQpaD1udWxsO2Vsc2V7dmFyIGs9YS5vfHwwLGw9YS5mfHwwO2g9Yy5hO2g9aC5IL2guczt2YXIgbT1kLShhLmMrYi5zdGFydCk7MD5tP2g9bnVsbDoobD1tLTIqaC1sLDA+bCYmKGw9MCksbD1NYXRoLmNlaWwobC9oKSpoLG0tPWgsMD5tP2g9bnVsbDooaz1NYXRoLmZsb29yKG0vaCkqaC1rLDA+ayYmKGs9MCksaz1NYXRoLmZsb29yKGsvaCkqaCxoPXt0YzpsL2grMSxjdXJyZW50OihrPj1sP2s6bCkvaCsxfSkpfWgmJihmPWgudGMsZz1oLmN1cnJlbnQtaC50YysxKTtmPWxkKGUsYyxmLGcpO2lmKG51bGw9PWYpdGhyb3cgYT1FcnJvcigiRmFpbGVkIHRvIGdlbmVyYXRlIFNlZ21lbnRSZWZlcmVuY2VzLiIpLGEudHlwZT0ic3RyZWFtIixhO2Y9bmV3IFQoZixjLmEuc3x8MSk7Uy5jYWxsKHRoaXMsZixhLGIsZCk7dGhpcy53PWM7dGhpcy5tPXRoaXMuYz0wPHRoaXMubGVuZ3RoKCk/YS5jK2Iuc3RhcnQrdGhpcy5sYXN0KCkuZW5kVGltZToKbnVsbDt0aGlzLmo9aD9oLmN1cnJlbnQrMTpudWxsO3RoaXMuRD1lfXIoQ2QsUyk7Q2QucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLkQ9dGhpcy53PW51bGw7Uy5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpfTtDZC5wcm90b3R5cGUuZmluZD1mdW5jdGlvbihhKXt2YXIgYj15YSgpLzFFMztEZCh0aGlzLGIpO3pkKHRoaXMsYik7cmV0dXJuIFIucHJvdG90eXBlLmZpbmQuY2FsbCh0aGlzLGEpfTtDZC5wcm90b3R5cGUuQj1mdW5jdGlvbihhKXtpZihudWxsIT10aGlzLmN8fCEoYSBpbnN0YW5jZW9mIENkKXx8bnVsbD09YS5jKXJldHVybiExO3RoaXMuYz1hLmM7dGhpcy5tPWEubTt0aGlzLmo9YS5qO3RoaXMuaD1hLmg7dGhpcy5kdXJhdGlvbj1hLmR1cmF0aW9uO3RoaXMuYS5TYShhLmEpO0RkKHRoaXMseWEoKS8xRTMpO3lkKHRoaXMpO3JldHVybiEwfTsKQ2QucHJvdG90eXBlLlRhPWZ1bmN0aW9uKGEpe2E9Uy5wcm90b3R5cGUuVGEuY2FsbCh0aGlzLGEpO251bGwhPXRoaXMuYyYmKHRoaXMuYys9YSx0aGlzLm0rPWEpO3JldHVybiBhfTtDZC5wcm90b3R5cGUuQT1mdW5jdGlvbigpe3ZhciBhPXlhKCkvMUUzO0RkKHRoaXMsYSk7cmV0dXJuIEJkKHRoaXMsYSl9O2Z1bmN0aW9uIERkKGEsYil7aWYobnVsbCE9YS5jJiZudWxsIT1hLm0mJm51bGwhPWEuail7dmFyIGM9YS53LmEsYz1jLkgvYy5zLGQ9TWF0aC5mbG9vcigoYS5tKyhiLWEuaCktYS5jKS9jKTtpZigwIT1kKXt2YXIgZT1sZChhLkQsYS53LGEuaixkKTtBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShhLmEuYSxrZChlLGEuYS5XKSk7YS5hLklhKCk7YS5jKz1kKmM7YS5qKz1kfX19O2Z1bmN0aW9uIEVkKGEsYixjLGQsZSl7dGhpcy5nPWE7dGhpcy5mPWI7dGhpcy5iPWM7dGhpcy5pPWQ7dGhpcy5hPW51bGw7dGhpcy5oPWV9RWQucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmg9dGhpcy5iPXRoaXMuZj10aGlzLmc9bnVsbDt0aGlzLmEmJih0aGlzLmEuZGVzdHJveSgpLHRoaXMuYT1udWxsKX07CkVkLnByb3RvdHlwZS5jcmVhdGU9ZnVuY3Rpb24oKXtpZih0aGlzLmEpcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLmEpO2lmKCJkeW5hbWljIj09dGhpcy5nLnR5cGUpdHJ5e3RoaXMuYT1uZXcgQ2QodGhpcy5nLHRoaXMuZix0aGlzLmIsdGhpcy5pLHRoaXMuaCl9Y2F0Y2goYSl7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfWVsc2V7dmFyIGI7Yj10aGlzLmIuYTtpZihiPWxkKHRoaXMuaCx0aGlzLmIsMSxNYXRoLmNlaWwodGhpcy5mLmR1cmF0aW9uLyhiLkgvYi5zKSkpKXtpZigwPGIubGVuZ3RoKXt2YXIgYz1iW2IubGVuZ3RoLTFdO2JbYi5sZW5ndGgtMV09amQoYyxjLnN0YXJ0VGltZSx0aGlzLmYuZHVyYXRpb24pfWI9bmV3IFQoYix0aGlzLmIuYS5zfHwxKTtiPW5ldyBSKGIpfWVsc2UgYj1udWxsO3RoaXMuYT1iO2lmKCF0aGlzLmEpcmV0dXJuIGI9RXJyb3IoIkZhaWxlZCB0byBnZW5lcmF0ZSBTZWdtZW50UmVmZXJlbmNlcyIpLGIudHlwZT0ic3RyZWFtIixQcm9taXNlLnJlamVjdChiKX1yZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuYSl9OwpFZC5wcm90b3R5cGUuYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmF9O2Z1bmN0aW9uIEZkKGEsYixjLGQsZSxmKXt0aGlzLmY9YTt0aGlzLmI9Yjt0aGlzLmg9Yzt0aGlzLmE9bnVsbDt0aGlzLmk9ZDt0aGlzLmc9ZTt0aGlzLmo9Znx8bnVsbH1GZC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuZz10aGlzLmg9dGhpcy5iPXRoaXMuZj1udWxsO3RoaXMuYSYmKHRoaXMuYS5kZXN0cm95KCksdGhpcy5hPW51bGwpfTsKRmQucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbigpe2lmKHRoaXMuYSlyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuYSk7dmFyIGE9dGhpcy5oLmIsYj1bXTthLkMmJihiPW9kKGEuQyxhLnN8fDEsdGhpcy5iLmR1cmF0aW9ufHwwKSk7dmFyIGM9MDthLkgmJmEuYz9jPShhLmMtMSkqYS5IOjA8Yi5sZW5ndGgmJihjPWJbMF0uc3RhcnQtKGEuTHx8MCkpO3ZhciBkPWMsZT1hLmEubGVuZ3RoOzA8Yi5sZW5ndGgmJmIubGVuZ3RoIT1hLmEubGVuZ3RoJiYoZT1NYXRoLm1pbihiLmxlbmd0aCxhLmEubGVuZ3RoKSk7Zm9yKHZhciBmPVtdLGc9MDtnPGU7KytnKXt2YXIgaD1hLmFbZ10saz1jLGw9ay9hLnMsbT1jPW51bGwscDthLkg/KGM9aythLkgsbT1jL2Eucyk6MDxiLmxlbmd0aD8ocD1iW2ddLnRpbWVzY2FsZWRHYXBJbmZvLGM9YltnXS5lbmQtKGEuTHx8MCksbT1jL2Eucyk6KG09bCt0aGlzLmIuZHVyYXRpb24sYz1tKmEucyk7dmFyIHQ9MCx3PW51bGw7aC5hJiYodD1oLmEucWEsCnc9aC5hLmVuZCk7bT1NYXRoLm1pbih0aGlzLmIuZHVyYXRpb24rZC9hLnMsbSk7Zi5wdXNoKG5ldyBpZChsLG0sbmV3IEsodGhpcy5nLGguYix0LHcsdm9pZCAwLHRoaXMuaiksayxwfHxudWxsKSl9YT1uZXcgVChmLGEuc3x8MSk7ImR5bmFtaWMiPT10aGlzLmYudHlwZT90aGlzLmE9bmV3IFMoYSx0aGlzLmYsdGhpcy5iLHRoaXMuaSk6dGhpcy5hPW5ldyBSKGEpO3JldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5hKX07RmQucHJvdG90eXBlLmM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hfTtmdW5jdGlvbiBHZChhLGIsYyl7VC5jYWxsKHRoaXMsYSxjKTt0aGlzLmc9Yjt0aGlzLmI9ITE7dGhpcy5qPVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0U3RyaW5nKCJ0ZW1wbGF0ZWRfcGVyZl90ZXN0X21ldGhvZHNfdW5kZXJfdGVzdF9jc3Zfc3RyaW5nIiwiYWxsIikuc3BsaXQoIiwiKX1yKEdkLFQpO2Z1bmN0aW9uIEhkKGEsYil7aWYoISgtMTxhLmouaW5kZXhPZigiYWxsIil8fC0xPGEuai5pbmRleE9mKGIpKXx8YS5iKXJldHVybiBudWxsO3ZhciBjPWEuYTthLmE9YS5nO2EuYj0hMDtyZXR1cm4gY31mdW5jdGlvbiBJZChhLGIpe2EuYiYmKGEuZz1hLmEsYS5hPWIpfUdkLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7VC5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpO3RoaXMuZz1udWxsfTsKR2QucHJvdG90eXBlLmxlbmd0aD1mdW5jdGlvbigpe3ZhciBhPUhkKHRoaXMsImxlbmd0aCIpLGI9VC5wcm90b3R5cGUubGVuZ3RoLmNhbGwodGhpcyk7YSYmKElkKHRoaXMsYSksYj1ULnByb3RvdHlwZS5sZW5ndGguY2FsbCh0aGlzKSx0aGlzLmI9ITEpO3JldHVybiBifTtHZC5wcm90b3R5cGUuZ2V0U2VnbWVudHM9ZnVuY3Rpb24oKXt2YXIgYT1IZCh0aGlzLCJnZXRTZWdtZW50cyIpLGI9VC5wcm90b3R5cGUuZ2V0U2VnbWVudHMuY2FsbCh0aGlzKTthJiYoSWQodGhpcyxhKSxiPVQucHJvdG90eXBlLmdldFNlZ21lbnRzLmNhbGwodGhpcyksdGhpcy5iPSExKTtyZXR1cm4gYn07R2QucHJvdG90eXBlLmZpcnN0PWZ1bmN0aW9uKCl7dmFyIGE9SGQodGhpcywiZmlyc3QiKSxiPVQucHJvdG90eXBlLmZpcnN0LmNhbGwodGhpcyk7YSYmKElkKHRoaXMsYSksYj1ULnByb3RvdHlwZS5maXJzdC5jYWxsKHRoaXMpLHRoaXMuYj0hMSk7cmV0dXJuIGJ9OwpHZC5wcm90b3R5cGUubGFzdD1mdW5jdGlvbigpe3ZhciBhPUhkKHRoaXMsImxhc3QiKSxiPVQucHJvdG90eXBlLmxhc3QuY2FsbCh0aGlzKTthJiYoSWQodGhpcyxhKSxiPVQucHJvdG90eXBlLmxhc3QuY2FsbCh0aGlzKSx0aGlzLmI9ITEpO3JldHVybiBifTtHZC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGEpe3ZhciBiPUhkKHRoaXMsImdldCIpLGM7Yz1iP1QucHJvdG90eXBlLmdldC5jYWxsKHRoaXMsYSsodGhpcy5hLmxlbmd0aC1iLmxlbmd0aCkpOlQucHJvdG90eXBlLmdldC5jYWxsKHRoaXMsYSk7YiYmKElkKHRoaXMsYiksYz1ULnByb3RvdHlwZS5nZXQuY2FsbCh0aGlzLGEpLHRoaXMuYj0hMSk7cmV0dXJuIGN9O0dkLnByb3RvdHlwZS5maW5kPWZ1bmN0aW9uKGEpe3ZhciBiPUhkKHRoaXMsImZpbmQiKSxjPVQucHJvdG90eXBlLmZpbmQuY2FsbCh0aGlzLGEpO2ImJihJZCh0aGlzLGIpLGM9VC5wcm90b3R5cGUuZmluZC5jYWxsKHRoaXMsYSksdGhpcy5iPSExKTtyZXR1cm4gY307CkdkLnByb3RvdHlwZS5maW5kSW5kZXg9ZnVuY3Rpb24oYSl7dmFyIGI9SGQodGhpcywiZmluZEluZGV4IiksYz1ULnByb3RvdHlwZS5maW5kSW5kZXguY2FsbCh0aGlzLGEpO2ImJihJZCh0aGlzLGIpLGM9VC5wcm90b3R5cGUuZmluZEluZGV4LmNhbGwodGhpcyxhKSx0aGlzLmI9ITEpO3JldHVybiBjfTtuPUdkLnByb3RvdHlwZTtuLlNhPWZ1bmN0aW9uKGEpe3ZhciBiPUhkKHRoaXMsIm1lcmdlIiksYz1ULnByb3RvdHlwZS5TYS5jYWxsKHRoaXMsYSk7YiYmKElkKHRoaXMsYiksYz1ULnByb3RvdHlwZS5TYS5jYWxsKHRoaXMsYSksdGhpcy5iPSExKTtyZXR1cm4gY307bi5oYj1mdW5jdGlvbihhKXt2YXIgYj1IZCh0aGlzLCJjb3JyZWN0IiksYz1ULnByb3RvdHlwZS5oYi5jYWxsKHRoaXMsYSk7YiYmKElkKHRoaXMsYiksYz1ULnByb3RvdHlwZS5oYi5jYWxsKHRoaXMsYSksdGhpcy5iPSExKTtyZXR1cm4gY307Cm4uaWI9ZnVuY3Rpb24oKXt2YXIgYT1IZCh0aGlzLCJnZXRTZWVrUmFuZ2UiKSxiPVQucHJvdG90eXBlLmliLmNhbGwodGhpcyk7YSYmKElkKHRoaXMsYSksYj1ULnByb3RvdHlwZS5pYi5jYWxsKHRoaXMpLHRoaXMuYj0hMSk7cmV0dXJuIGJ9O24uZ2V0U2Vla1JhbmdlR2Fwcz1mdW5jdGlvbigpe3ZhciBhPUhkKHRoaXMsImdldFNlZWtSYW5nZUdhcHMiKSxiPVQucHJvdG90eXBlLmdldFNlZWtSYW5nZUdhcHMuY2FsbCh0aGlzKTthJiYoSWQodGhpcyxhKSxiPVQucHJvdG90eXBlLmdldFNlZWtSYW5nZUdhcHMuY2FsbCh0aGlzKSx0aGlzLmI9ITEpO3JldHVybiBifTtuLklhPWZ1bmN0aW9uKCl7dmFyIGE9SGQodGhpcywiYXNzZXJ0Q29ycmVjdFJlZmVyZW5jZXMiKTtULnByb3RvdHlwZS5JYS5jYWxsKHRoaXMpO2EmJihJZCh0aGlzLGEpLFQucHJvdG90eXBlLklhLmNhbGwodGhpcyksdGhpcy5iPSExKX07ZnVuY3Rpb24gSmQoYSxiLGMsZCxlLGYsZyxoKXt0aGlzLm09YTt0aGlzLmE9Yjt0aGlzLmc9Yzt0aGlzLmY9ZDt0aGlzLm89ZTt0aGlzLmI9bnVsbDt0aGlzLmk9Zjt0aGlzLmg9bnVsbDt0aGlzLmo9aHx8bnVsbH1KZC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuaT10aGlzLmY9dGhpcy5nPXRoaXMuYT1udWxsO3RoaXMuYiYmKHRoaXMuYi5kZXN0cm95KCksdGhpcy5iPW51bGwpfTsKSmQucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbigpe2lmKHRoaXMuYilyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuYik7dmFyIGE9VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJmYmxzX3VzZV90aW1lbGluZV9zZWdtZW50X2luZGV4IiwhMSk7aWYoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJ1c2VfdGltZWxpbmVfc2VnbWVudF9pbmRleCIsITEpJiYodGhpcy5hLkZCSXNMaXZlVGVtcGxhdGVkfHx0aGlzLmEuRkJXYXNMaXZlfHxhKSlhPW5ldyBwZCh0aGlzLmcsdGhpcy5mLHRoaXMuZi5hLHRoaXMuaSx0aGlzLmopO2Vsc2V7Zm9yKHZhciBhPXRoaXMuZi5hLGI9b2QoYS5DLGEuc3x8MSx0aGlzLmcuZHVyYXRpb258fDAsdGhpcy5tLmdldE51bWJlcigibnVtX3ByZWRpY3RpdmVfc2VnbWVudHMiLDApLHRoaXMuYS5GQklzTGl2ZVRlbXBsYXRlZHx8dGhpcy5hLkZCV2FzTGl2ZSx0aGlzLmgpLGM9W10sZD0wO2Q8Yi5sZW5ndGg7KytkKXt2YXIgZT0KYltkXS5zdGFydCxmPWJbZF0uZW5kLGc9YltkXS51ZHx8MCxoPWJbZF0udGltZXNjYWxlZEdhcEluZm8saz1lL2EucyxsPWYvYS5zLG09ZCthLmIscD1lLG09bWQodGhpcy5pLHRoaXMuZiwwPGc/ZzptLHAsMDxnPyEwOiExLHRoaXMuaik7aWYoIW0pcmV0dXJuIGE9RXJyb3IoIkZhaWxlZCB0byBnZW5lcmF0ZSBtZWRpYSBVUkwuIiksYS50eXBlPSJkYXNoIixQcm9taXNlLnJlamVjdChhKTt2YXIgdD0oYS5MfHwwKS9hLnM7Yy5wdXNoKG5ldyBpZChrLXQsbC10LG0scCxmLWUsaHx8bnVsbCwwPGcpKX1iPXRoaXMuYS5GQklzTGl2ZVRlbXBsYXRlZHx8dGhpcy5hLkZCV2FzTGl2ZTtWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigidGVtcGxhdGVkX3VzZV9wZXJmX3Rlc3Rfc2VnbWVudF9pbmRleF9iYXNlX2ludCIsMCkmJm51bGw9PXRoaXMuaCYmdGhpcy5hLkZCSXNMaXZlVGVtcGxhdGVkPyhiPWMsYz1iLnNsaWNlKC1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigidGVtcGxhdGVkX3VzZV9wZXJmX3Rlc3Rfc2VnbWVudF9pbmRleF9iYXNlX2ludCIsCjApKSxhPW5ldyBHZChjLGIsYS5zfHwxKSk6YT1uZXcgVChjLGEuc3x8MSxiKX10aGlzLmEubWFuaWZlc3RJc0xpdmVTdHJlYW1pbmc/dGhpcy5iPW5ldyBTKGEsdGhpcy5hLHRoaXMuZyx0aGlzLm8pOnRoaXMuYj1uZXcgUihhKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuYil9O0pkLnByb3RvdHlwZS5jPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYn07SmQucHJvdG90eXBlLkVjPWZ1bmN0aW9uKGEpe3RoaXMuaD1hfTtmdW5jdGlvbiBLZCgpe3RoaXMuWD1MZCsrO3RoaXMuaWQ9dGhpcy5hYT10aGlzLk09bnVsbDt0aGlzLmE9MDt0aGlzLmhlaWdodD10aGlzLndpZHRoPXRoaXMuYmFuZHdpZHRoPW51bGw7dGhpcy5jb2RlY3M9dGhpcy5taW1lVHlwZT0iIjt0aGlzLmY9dGhpcy5mYlF1YWxpdHlDbGFzcz10aGlzLmZiUXVhbGl0eUxhYmVsPW51bGw7dGhpcy5mcmFtZVJhdGU9IiI7dGhpcy5zd2l0Y2hSZWFzb249dGhpcy5oPXRoaXMuZz10aGlzLmM9bnVsbDt0aGlzLmI9W107dGhpcy5vYT0hMTt0aGlzLmZhPSEwfXZhciBMZD0wO0tkLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5NJiYodGhpcy5NLmRlc3Ryb3koKSx0aGlzLk09bnVsbCk7dGhpcy5hYSYmKHRoaXMuYWEuZGVzdHJveSgpLHRoaXMuYWE9bnVsbCl9O2Z1bmN0aW9uIE1kKGEpe3JldHVybiBhLm1pbWVUeXBlLnNwbGl0KCIvIilbMF19CmZ1bmN0aW9uIE5kKGEpe3ZhciBiPWEubWltZVR5cGV8fCIiO2EuY29kZWNzJiYoYis9JzsgY29kZWNzPSInK2EuY29kZWNzKyciJyk7cmV0dXJuIGJ9ZnVuY3Rpb24gT2QoKXt0aGlzLlg9UGQrKzt0aGlzLmlkPW51bGw7dGhpcy5jb250ZW50VHlwZT10aGlzLmxhbmc9IiI7dGhpcy5mPXRoaXMuYj0hMTt0aGlzLmM9bnVsbDt0aGlzLnY9W107dGhpcy5hPVtdfXZhciBQZD0wO09kLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7Zm9yKHZhciBhPTA7YTx0aGlzLnYubGVuZ3RoOysrYSl0aGlzLnZbYV0uZGVzdHJveSgpO3RoaXMuYT10aGlzLnY9bnVsbH07ZnVuY3Rpb24gUWQoYSl7Zm9yKHZhciBiPVtdLGM9MDtjPGEuYS5sZW5ndGg7KytjKXt2YXIgZD1uZXcgUmQ7ZC5pZD1hLlg7ZC5hPWEuYVtjXTtkLmNvbnRlbnRUeXBlPWEuY29udGVudFR5cGU7ZC5iPWEudi5sZW5ndGg/TmQoYS52WzBdKToiIjtiLnB1c2goZCl9cmV0dXJuIGJ9CmZ1bmN0aW9uIFNkKCl7dGhpcy5pZD1udWxsO3RoaXMuc3RhcnQ9MDt0aGlzLmR1cmF0aW9uPW51bGw7dGhpcy5hPVtdfVNkLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7Zm9yKHZhciBhPTA7YTx0aGlzLmEubGVuZ3RoOysrYSl0aGlzLmFbYV0uZGVzdHJveSgpO3RoaXMuYT1udWxsfTtmdW5jdGlvbiBUZCgpe3RoaXMuQT10aGlzLmY9dGhpcy5iPSExO3RoaXMubz10aGlzLm09dGhpcy5CPTA7dGhpcy5qPXRoaXMuaT10aGlzLmM9bnVsbDt0aGlzLmc9MDt0aGlzLmE9W107dGhpcy5oPSExO3RoaXMudz0ibm9uZSI7dGhpcy51PW51bGx9VGQucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXtmb3IodmFyIGE9MDthPHRoaXMuYS5sZW5ndGg7KythKXRoaXMuYVthXS5kZXN0cm95KCk7dGhpcy5hPW51bGx9O2Z1bmN0aW9uIFJkKCl7dGhpcy5pZD0wO3RoaXMuYT1udWxsO3RoaXMuYj10aGlzLmNvbnRlbnRUeXBlPSIifTtmdW5jdGlvbiBVKGEsYixjLGQsZSxmLGcsaCxrLGwsbSxwLHQsdyl7Ri5jYWxsKHRoaXMsYSk7dGhpcy5iPWI7dGhpcy5hPWM7dGhpcy5jPW5ldyBuYihjLGQsZSxmLHRoaXMsaCx3KTt0aGlzLlBhPWg7dGhpcy5vPXt9O3RoaXMucmE9Zjt0aGlzLnlhPTA7dGhpcy5tYT10aGlzLmY9dGhpcy5nPW51bGw7dGhpcy50YT0hMTt0aGlzLnc9dGhpcy5jYT1udWxsO3RoaXMuUz0hMTt0aGlzLmphPTA7dGhpcy5rYT0hMTt0aGlzLkQ9bnVsbDt0aGlzLlo9dGhpcy5lYT10aGlzLmg9ITE7dGhpcy5PPW5ldyBJO3RoaXMuRz10aGlzLlQ9dGhpcy5CPSExO3RoaXMuUj0wO3RoaXMuZ2E9MTU7dGhpcy5HYT10aGlzLnZhPXRoaXMuVT0hMTt0aGlzLm5hPTE7dGhpcy4kPWc7dGhpcy54YT0hMTt0aGlzLmw9bnVsbDt0aGlzLkhhPSExO3RoaXMuST10aGlzLko9dGhpcy5LPW51bGw7dGhpcy5WPSExO3RoaXMudT1tfHxudWxsO3RoaXMuRj1wfHxudWxsO3RoaXMuaj10fHxudWxsO3RoaXMuWT1udWxsO3RoaXMuYmE9CiExO3RoaXMuRGE9e307dGhpcy5GYT1rO3RoaXMuaT1udWxsO3RoaXMuaWE9ITE7dGhpcy5FYT0wO3RoaXMuQ2E9ZT9lLnNwbGl0KCI7IilbMF06IiI7dGhpcy5QPSExO3RoaXMud2E9MDt0aGlzLnNhPWw7dGhpcy5BPXRoaXMubT1udWxsfXIoVSxGKTtVLnByb3RvdHlwZS5CYT1mdW5jdGlvbigpe3JldHVybntTb3VyY2VCdWZmZXJNYW5hZ2VyOnRoaXMuY319O1UucHJvdG90eXBlLmdldERlYnVnPVUucHJvdG90eXBlLkJhO2Z1bmN0aW9uIFVkKGEsYil7cmV0dXJuIG5ldyBWaWRlb1BsYXllckJpdHJhdGVFc3RpbWF0b3IobmV3IHgoYS5hLmdldE51bWJlcigibGl2ZV9iaXRyYXRlX2VzdGltYXRlc19oYWxmX2xpZmUiLDIpKSxiLGEuYS5nZXROdW1iZXIoImxpdmVfYml0cmF0ZV9lc3RpbWF0ZXNfbWluaW11bV9zYW1wbGVfY291bnQiLDEpLGEuYS5nZXROdW1iZXIoImxpdmVfYml0cmF0ZV9lc3RpbWF0ZXNfbGFyZ2Vfc2FtcGxlX3dlaWdodF9mYWN0b3IiLDEwKSl9ClUucHJvdG90eXBlLnBhPWZ1bmN0aW9uKGEpe251bGwhPWEuaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemUmJih0aGlzLlI9TnVtYmVyKGEuaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemUpKTt2YXIgYj10aGlzLmEuZ2V0TnVtYmVyKCJpbml0aWFsX3N0cmVhbV9idWZmZXJfc2l6ZV9mb3JfdmlkZW9fc3RyZWFtIiwwKTswPGImJi0xIT09dGhpcy5DYS5pbmRleE9mKCJ2IikmJih0aGlzLlI9Yik7bnVsbCE9YS5keW5hbWljU3RyZWFtQnVmZmVyU2l6ZSYmKHRoaXMuamE9TnVtYmVyKGEuZHluYW1pY1N0cmVhbUJ1ZmZlclNpemUpKTtudWxsIT1hLnNtYXJ0QnVmZmVyQWRqdXN0bWVudFBhcmFtcyYmKHRoaXMuRGE9YS5zbWFydEJ1ZmZlckFkanVzdG1lbnRQYXJhbXMpO251bGwhPWEuc21hcnRCdWZmZXJBZGp1c3RtZW50RW5hYmxlZCYmKHRoaXMuYmE9Qm9vbGVhbihhLnNtYXJ0QnVmZmVyQWRqdXN0bWVudEVuYWJsZWQpKTtudWxsIT1hLnN0cmVhbUJ1ZmZlclNpemUmJih0aGlzLmdhPU51bWJlcihhLnN0cmVhbUJ1ZmZlclNpemUpKTsKbnVsbCE9YS5maXhCdWZmZXJpbmdHb2FsRGV0ZXJtaW5hdGlvbiYmKHRoaXMuVT1Cb29sZWFuKGEuZml4QnVmZmVyaW5nR29hbERldGVybWluYXRpb24pKTtudWxsIT1hLmFkZENkbkRlYnVnUXVlcnlQYXJhbWV0ZXJzJiYodGhpcy52YT1Cb29sZWFuKGEuYWRkQ2RuRGVidWdRdWVyeVBhcmFtZXRlcnMpKTtudWxsIT1hLnVzZUluaXRpYWxCdWZmZXJTaXplV2hlblBhdXNlZCYmKHRoaXMuR2E9Qm9vbGVhbihhLnVzZUluaXRpYWxCdWZmZXJTaXplV2hlblBhdXNlZCkpO251bGwhPWEuc2VnbWVudFJlcXVlc3RUaW1lb3V0JiYodGhpcy5jLlQ9TnVtYmVyKGEuc2VnbWVudFJlcXVlc3RUaW1lb3V0KSk7bnVsbCE9YS5yZXNvbHZlVmlkZW9UaW1lVXBkYXRlT25GcmFnbWVudGVkVGltZVJhbmdlcyYmKHRoaXMueGE9Qm9vbGVhbihhLnJlc29sdmVWaWRlb1RpbWVVcGRhdGVPbkZyYWdtZW50ZWRUaW1lUmFuZ2VzKSk7bnVsbCE9YS5wZXJmb3JtYW5jZUxvZ2dlciYmKHRoaXMubD10aGlzLm8ucGVyZm9ybWFuY2VMb2dnZXI9CmEucGVyZm9ybWFuY2VMb2dnZXIpO251bGwhPWEuYWJyTG9nZ2VyJiYodGhpcy5vLmFickxvZ2dlcj1hLmFickxvZ2dlcik7bnVsbCE9YS5yZWFwcGVuZEluaXRTZWdtZW50QWZ0ZXJBYm9ydCYmKHRoaXMuby5yZWFwcGVuZEluaXRTZWdtZW50QWZ0ZXJBYm9ydD1Cb29sZWFuKGEucmVhcHBlbmRJbml0U2VnbWVudEFmdGVyQWJvcnQpKTtudWxsIT1hLmxpdmVEYXRhRmV0Y2hNYXhSZXRyaWVzJiYodGhpcy5vLmxpdmVEYXRhRmV0Y2hNYXhSZXRyaWVzPU51bWJlcihhLmxpdmVEYXRhRmV0Y2hNYXhSZXRyaWVzKSk7bnVsbCE9YS5saXZlU291cmNlQnVmZmVyQ2xlYXJNYXhSZXRyaWVzJiYodGhpcy5vLmxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXM9TnVtYmVyKGEubGl2ZVNvdXJjZUJ1ZmZlckNsZWFyTWF4UmV0cmllcykpO251bGwhPWEuc2tpcEVtcHR5U2VnbWVudHMmJih0aGlzLm8uc2tpcEVtcHR5U2VnbWVudHM9Qm9vbGVhbihhLnNraXBFbXB0eVNlZ21lbnRzKSk7bnVsbCE9CmEucGxheWhlYWRGcmFnbWVudGVkR2FwRGlmZkFsbG93YW5jZSYmKHRoaXMuby5wbGF5aGVhZEZyYWdtZW50ZWRHYXBEaWZmQWxsb3dhbmNlPU51bWJlcihhLnBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2UpKTtudWxsIT1hLnVzZU1pY3JvVGFza1RpbWVvdXRzJiYodGhpcy5IYT1Cb29sZWFuKGEudXNlTWljcm9UYXNrVGltZW91dHMpKTthPXRoaXMuYztiPXRoaXMubztudWxsIT1iLnJlYXBwZW5kSW5pdFNlZ21lbnRBZnRlckFib3J0JiYoYS5SPUJvb2xlYW4oYi5yZWFwcGVuZEluaXRTZWdtZW50QWZ0ZXJBYm9ydCkpO251bGwhPWIucGVyZm9ybWFuY2VMb2dnZXImJihhLmw9Yi5wZXJmb3JtYW5jZUxvZ2dlcik7bnVsbCE9Yi5hYnJMb2dnZXImJihhLkk9Yi5hYnJMb2dnZXIpO251bGwhPWIubGl2ZURhdGFGZXRjaE1heFJldHJpZXMmJihhLk89Yi5saXZlRGF0YUZldGNoTWF4UmV0cmllcyk7bnVsbCE9Yi5saXZlU291cmNlQnVmZmVyQ2xlYXJNYXhSZXRyaWVzJiYoYS5LPQpiLmxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXMpO251bGwhPWIucGxheWhlYWRGcmFnbWVudGVkR2FwRGlmZkFsbG93YW5jZSYmKGEuUD1iLnBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2UpO251bGwhPWIuc2tpcEVtcHR5U2VnbWVudHMmJihhLlY9Yi5za2lwRW1wdHlTZWdtZW50cyl9O1UucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXtWZCh0aGlzKTt0aGlzLk8uZGVzdHJveSgpO3RoaXMucmE9dGhpcy5nPXRoaXMuTz1udWxsO3RoaXMuYy5kZXN0cm95KCk7dGhpcy5iPXRoaXMuYz1udWxsO3RoaXMuYS5nZXRCb29sKCJmaXhpbmdfc2NoZWR1bGVyX2Rpc2FibGVfbGVha3MiLCEwKSYmKHRoaXMudT1udWxsKTt0aGlzLkphPW51bGx9O249VS5wcm90b3R5cGU7bi5XYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmd9O24uRmI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mfTsKbi5LYz1mdW5jdGlvbihhKXt0aGlzLkJ8fGEudGhlbihmdW5jdGlvbigpe3RoaXMuQj0hMDt0aGlzLnd8fFYodGhpcywwKX0uYmluZCh0aGlzKSkuY2F0Y2goZnVuY3Rpb24oKXt9KTtyZXR1cm4gdGhpcy5PfTtuLkNiPWZ1bmN0aW9uKCl7dGhpcy5HPSEwO1dkKHRoaXMpfTtuLmZiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuR307Cm4uamI9ZnVuY3Rpb24oYSxiLGMsZCxlKXtpZihhIT10aGlzLmcpe3ZhciBmPTE7dGhpcy5hLmdldEJvb2woInVzZV9saXZlX2JpdHJhdGVfZXN0aW1hdGVzIiwhMSkmJm51bGwhPT10aGlzLm0mJjA8dGhpcy5nLmJhbmR3aWR0aCYmKGY9dGhpcy5tLmdldEVzdGltYXRlKCkvdGhpcy5nLmJhbmR3aWR0aCk7dmFyIGc9YS5hYTtnJiYodGhpcy5tYT1nLmNyZWF0ZSh0aGlzLmwsdGhpcy5QYSkpO3RoaXMuWj0hMDthLk0uY3JlYXRlKCkudGhlbihKKHRoaXMsZnVuY3Rpb24oZyl7aWYodGhpcy5iKXt0aGlzLlo9ITE7dmFyIGs9dGhpcy5nO3RoaXMuZz1hO3RoaXMuYS5nZXRCb29sKCJ1c2VfbGl2ZV9iaXRyYXRlX2VzdGltYXRlcyIsITEpJiYodGhpcy5tPVVkKHRoaXMsKGEuYmFuZHdpZHRofHwwKSpmKSk7dmFyIGw9dGhpcy5mO3RoaXMuZj1nO3RoaXMuYy5EPXRoaXMuZjtsJiZsLmEuRmMoKTt1ZCh0aGlzLmYsZnVuY3Rpb24oYSl7dmFyIGI9YTt0aGlzLmomJnRoaXMuai5zZXRTZWdtZW50cyh0aGlzLmYuZ2V0U2VnbWVudHMoKSk7CnRoaXMudSYmKGE9YSYmdGhpcy5hLmdldEJvb2woIm9wdGltaXplX3N0cmVhbV9nZXRfc2VnbWVudHNfY2FsbHMiLCExKT9hOnRoaXMuZi5nZXRTZWdtZW50cygpLHRoaXMuYS5nZXRCb29sKCJ0ZW1wbGF0ZWRfdXBkYXRlX3NybV9ieV9kZWx0YV9vZl9jaGFuZ2VkX3JlZmVyZW5jZXNfYm9vbCIsITEpJiZ0aGlzLmYuSyYmYi5sZW5ndGg8dGhpcy5mLmdldFNlZ21lbnRzKCkubGVuZ3RoJiYoYT10aGlzLmYuZ2V0U2VnbWVudHMoKS5zbGljZSgtKGIubGVuZ3RoKzEpKSksWGQodGhpcyx0aGlzLmcuaWR8fCIiLGEpKX0uYmluZCh0aGlzKSk7dGhpcy5qJiZ0aGlzLmouc2V0U2VnbWVudHModGhpcy5mLmdldFNlZ21lbnRzKCkpO2lmKHRoaXMudSl7dmFyIGw9W10sbT10aGlzLmEuZ2V0TnVtYmVyKCJ0ZW1wbGF0ZWRfY2h1bmtlZF9zZWdtZW50X3VwZGF0ZV9saW1pdF9pbnQiLDApO2lmKG0pe2c9dGhpcy5mLmxlbmd0aCgpO2Zvcih2YXIgbT1NYXRoLm1pbihnLG0pLHA9MTtwPD1tOysrcClsLnB1c2godGhpcy5mLmdldChnLQpwKSl9ZWxzZSBsPWcuZ2V0U2VnbWVudHMoKTtYZCh0aGlzLGEuaWR8fCIiLGwpfXRoaXMudGE9ITA7dGhpcy5jYT1kP2Q6bnVsbDt0aGlzLlN8fCh0aGlzLmEuZ2V0Qm9vbCgibWFrZV9lYXJseV90cmFja19zZWxlY3Rpb24iLCExKSYmdGhpcy5oJiYhdGhpcy5QJiYhdGhpcy53P1YodGhpcywwKTprP2I/WWQodGhpcywhMCxjKTplJiZZZCh0aGlzLCExKTpWKHRoaXMsMCkpfX0pKS5jYXRjaChKKHRoaXMsZnVuY3Rpb24oYSl7dGhpcy5aPSExOyJhYm9ydGVkIiE9YS50eXBlJiYodGhpcy5CPyhhPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGEpKTp0aGlzLk8ucmVqZWN0KGEpKX0pKX19O24uQ2M9ZnVuY3Rpb24oYSl7cmV0dXJuIFlkKHRoaXMsISFhKX07bi5IYz1mdW5jdGlvbigpe3RoaXMua2E9ITB9O24uSmM9ZnVuY3Rpb24oYSl7dGhpcy5FYT1hfTsKZnVuY3Rpb24gWGQoYSxiLGMpe2EuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9jaHVua2VkX3NlZ21lbnRfdXBkYXRlX2xpbWl0X2ludCIsMCkmJmEudS51cGRhdGVTZWdtZW50SW5kZXgoYixhLmYpO2EuYS5nZXRCb29sKCJ1c2VfdXBkYXRlX3NlZ21lbnRzX2J5X3NoYWthX3JlZmVyZW5jZSIsITApJiZhLnUudXBkYXRlU2VnbWVudHNCeVNoYWthUmVmZXJlbmNlcyhiLGMpfQpmdW5jdGlvbiBZZChhLGIsYyl7YS5nJiYhYS5TJiYoYS5TPSEwLFZkKGEpLGEuVD0hMSxudWxsIT09YS5BJiZhLkEucmVzZXQoKSxhLmMuYWJvcnQoKS50aGVuKEooYSxmdW5jdGlvbigpe3ZhciBhPXRoaXMuYi5jdXJyZW50VGltZTt0aGlzLmEuZ2V0Qm9vbCgic2V0X2N1cnJlbnRfdGltZV9pbl9yZXN5bmMiLCExKSYmMD09YT8odGhpcy5sJiZCYW56YWlPRFMuYnVtcEVudGl0eUtleSgyOTY2LCJ2aWRlb3Mud3d3LnNoYWthIiwic2V0X2N1cnJlbnRfdGltZV9pbl9yZXN5bmMiKSxhPXRoaXMuZi5maXJzdCgpLnN0YXJ0VGltZSk6dGhpcy5hLmdldEJvb2woImJldHRlcl9zZXRfY3VycmVudF90aW1lX2luX3Jlc3luYyIsITEpJiZhPHRoaXMuZi5maXJzdCgpLnN0YXJ0VGltZSYmKEJhbnphaU9EUy5idW1wRW50aXR5S2V5KDI5NjYsInZpZGVvcy53d3cuc2hha2EiLCJzZXRfY3VycmVudF90aW1lX2luX3Jlc3luYyIpLGE9dGhpcy5mLmZpcnN0KCkuc3RhcnRUaW1lK3RoaXMuYS5nZXROdW1iZXIoInJlc3luY19zZXRfY3VycmVudF90aW1lX2Z1ZGdlX2ZhY3RvciIsCjApKTtpZighYiYmMDxyYih0aGlzLmMsYSkmJjA8PUZiKHRoaXMuYyxhKSlyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7aWYoYylyZXR1cm4gQ2IodGhpcy5jLHRoaXMuYi5jdXJyZW50VGltZStjKTt0aGlzLmlhPSEwO3JldHVybiBCYih0aGlzLmMpfSkpLnRoZW4oSihhLGZ1bmN0aW9uKCl7dGhpcy5TPSExO1YodGhpcywwKX0pKS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7dGhpcy5TPSExOyJhYm9ydGVkIiE9YS50eXBlJiYodGhpcy5CPyhhPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGEpKTp0aGlzLk8ucmVqZWN0KGEpKX0pKSl9bi5JYz1mdW5jdGlvbihhKXtyZXR1cm4gMDxyYih0aGlzLmMsYSkmJjA8PUZiKHRoaXMuYyxhKX07bi52Yj1mdW5jdGlvbigpe307bi5EYj1mdW5jdGlvbigpe3JldHVybiEwfTsKZnVuY3Rpb24gWmQoYSl7YS5lYT1hLmVhfHwhYS5iLnBhdXNlZDthLmIucGF1c2VkfHxhLmJhfHwoYS5ZPURhdGUubm93KCksYS5iYT0hMCk7dmFyIGI9YS5EYSxjPW51bGw7aWYoYi5pbkV4cGVyaW1lbnQpaWYoYi51c2VTbWFydEJ1ZmZlcmluZyl7aWYoYS5iYSYmYS5ZKXt2YXIgYz0oRGF0ZS5ub3coKS1hLlkpLzFFMyxkPW51bGw7MT5jP2M9bnVsbDooZD0zPmM/Yi5idWZmZXJTaXplXzAwX3RvXzAzOjEwPmM/Yi5idWZmZXJTaXplXzAzX3RvXzEwOjMwPmM/Yi5idWZmZXJTaXplXzEwX3RvXzMwOjYwPmM/Yi5idWZmZXJTaXplXzMwX3RvXzYwOmIuYnVmZmVyU2l6ZV9hYm92ZV82MCxjPU1hdGgubWluKGQsYS5iLmR1cmF0aW9uKSl9fWVsc2UgYS5ZJiYoYz1iLm5vblNtYXJ0QnVmZmVyU2l6ZSk7Y3x8KGM9YS5HYSYmYS5iLnBhdXNlZD9hLlI6YS5nYSxhLmIucGF1c2VkJiYxPGEubmEmJihjKj1hLm5hKSxhLmphJiYhYS5iLnBhdXNlZCYmKGM9TWF0aC5tYXgoTWF0aC5taW4oYS5mLmxhc3QoKS5lbmRUaW1lLQphLmIuY3VycmVudFRpbWUsYS5qYSksYS5nYSkpKTtjPShhLlU/YS5oJiZhLmVhOmEuaCk/TWF0aC5tYXgoYS5SLGMpOmEuUjswPGEuYS5nZXROdW1iZXIoImF1ZGlvX3ZpZGVvX2J1ZmZlcl9kaWZmX3RocmVzaG9sZCIsMTQ0MDApJiYoYj1hLmIuYnVmZmVyZWQubGVuZ3RoP2EuYi5idWZmZXJlZC5lbmQoYS5iLmJ1ZmZlcmVkLmxlbmd0aC0xKTowLGI9TWF0aC5tYXgoMCxiLWEuYi5jdXJyZW50VGltZSksYz1NYXRoLm1pbihjLGIrYS5hLmdldE51bWJlcigiYXVkaW9fdmlkZW9fYnVmZmVyX2RpZmZfdGhyZXNob2xkIiwxNDQwMCkpKTtyZXR1cm4gY30KZnVuY3Rpb24gJGQoYSl7dmFyIGI9YS5hLmdldE51bWJlcigic3RhcnRfc3RyZWFtX2J1ZmZlcl9zaXplIiwxKSxjPWEuYS5nZXROdW1iZXIoImxvd19zdGFydF9zdHJlYW1fYnVmZmVyX3NpemUiLDEpO2lmKGIhPT1jKXt2YXIgZD1hLmEuZ2V0TnVtYmVyKCJsb3dfYmFuZHdpZHRoX3N0YXJ0X3N0cmVhbV9idWZmZXJfc2l6ZV90aHJlc2hvbGQiLDApLGU9YS5hLmdldE51bWJlcigic2NoZWR1bGVkX3ZpZGVvc19zdGFydF9zdHJlYW1fYnVmZmVyX3NpemVfdGhyZXNob2xkIiwwKTtpZigwPGQmJmEucmEuZ2V0QmFuZHdpZHRoKCk8ZCYmVmlkZW9TdHJlYW1pbmdUYXNrUXVldWVQcm92aWRlci5nZXRRdWV1ZVNpemUoInZpZGVvIik+PWUpcmV0dXJuIGN9cmV0dXJuIGJ9ZnVuY3Rpb24gYWUoYSxiKXtyZXR1cm4gcmIoYS5jLGEuaD9iOmIrKGEuRHx8MCkpfQpmdW5jdGlvbiBiZShhKXtpZihhLmgmJiFhLkJ8fGEuYS5nZXRCb29sKCJtYWtlX2Vhcmx5X3RyYWNrX3NlbGVjdGlvbiIsITEpJiZhLlp8fGEuYS5nZXRCb29sKCJwcmV2ZW50X2ZldGNoX3doaWxlX2ZldGNoaW5nX2luX3N0cmVhbSIsITEpJiZhLlApcmV0dXJuIGEudz1udWxsLFByb21pc2UucmVzb2x2ZSgpO3ZhciBiO2lmKGI9YS5CJiYhYS5HKWI9MTxhLmMuYS5idWZmZXJlZC5sZW5ndGg/ITA6ITE7aWYoYiYmKGEua2F8fEhiKGEuYyxhLmIpKSlyZXR1cm4gYS54YSYmKGEuYi5jdXJyZW50VGltZT1HYihhLmIpKSxudWxsPT09YS5LJiYoYS5rYT0hMSxZZChhLCEwKSksUHJvbWlzZS5yZXNvbHZlKCk7YS5hLmdldE51bWJlcigiZGVjb3VwbGVfc3RyZWFtX29uX3VwZGF0ZV9sb29wX2Zyb21fcmVxdWVzdF9sb29wX2ludCIsMCl8fChhLnc9bnVsbCk7Yj1hLmc7dmFyIGM9YS5mLGQ9YS5iLmN1cnJlbnRUaW1lO2EuYS5nZXRCb29sKCJ1c2VfcGVuZGluZ19zZWVrX3Bvc2l0aW9uX2Zvcl9yZWZlcmVuY2UiLAohMSkmJjA9PT1hLmIucmVhZHlTdGF0ZSYmIWQmJmEuSiYmKGQ9YS5KKTtpZihhLlUmJiFhLmgmJmFlKGEsZCk+PSRkKGEpKXJldHVybiBhLmEuZ2V0Qm9vbCgiZml4X2Nocm9tZV9tc2VfcmVncmVzc2lvbiIsITEpJiYxPT09YS5iLnJlYWR5U3RhdGUmJjA8YS5iLmJ1ZmZlcmVkLmxlbmd0aCYmKGEuYi5jdXJyZW50VGltZT1hLmIuY3VycmVudFRpbWUpLGNlKGEpLFYoYSwwKSxQcm9taXNlLnJlc29sdmUoKTt2YXIgZT1udWxsLGY9W107bnVsbCE9PWEuSyYmKGQ9YS5LKTtpZihhZShhLGQpPj1aZChhKSlpZihhLlQ9ITAsbnVsbCE9PWEuSSYmYS5JLnJlc29sdmUoKSxhLlV8fGNlKGEpLGY9ZGUoYSk/amUoYSxkKTpbXSwwPGYubGVuZ3RoKWU9ZlswXTtlbHNlIHJldHVybiBWKGEsMUUzLyg1KihNYXRoLmFicyhhLmIucGxheWJhY2tSYXRlKXx8MSkpKSxQcm9taXNlLnJlc29sdmUoKTtlbHNle3ZhciBnPTE7YS5qJiYoZz1hLmouZ2V0TnVtYmVyT2ZTZWdtZW50cygpKTt2YXIgaD1xYihhLmMpOwphLlYmJihoPW51bGwsbnVsbCE9PWEuSyYmKGEuVj0hMSkpO2EuYS5nZXRCb29sKCJmaW5kX2xhc3RfaW5zZXJ0ZWRfc2VnbWVudF9pbl9zZWdtZW50X2luZGV4IiwhMSkmJmgmJiFjLmEuYSYmKGg9Yy5maW5kKGguc3RhcnRUaW1lKSk7YS5hLmdldEJvb2woInNldF9wZW5kaW5nX3NlZWtfb25fc2V0X2N1cnJlbnRfdGltZV9mYWlsdXJlIiwhMSkmJm51bGwhPWEuSiYmKGQ9YS5KLGEuSj1udWxsKTtnPWtlKGEsZCxjLGcsaCk7ZT1nWzBdO2EuaiYmKGEuai5zZXRGdXR1cmVTZWdtZW50cyhnKSxhLmouc2V0QnVmZmVyaW5nR29hbChaZChhKS1hZShhLGQpKSk7IWUmJmRlKGEpJiYoZj1qZShhLGQpLDA8Zi5sZW5ndGgmJihlPWZbMF0pKX1pZighZSlyZXR1cm4gY2UoYSksYS5CJiYhYS5HJiYoYS5HPSEwLFdkKGEpKSxWKGEsMjAwKSxQcm9taXNlLnJlc29sdmUoKTthLmEuZ2V0Qm9vbCgiY3JlYXRlX293bl9zZWdtZW50X3JlZmVyZW5jZV9mb3Jfc2JtIiwhMSkmJihlPWpkKGUsZS5zdGFydFRpbWUsCmUuZW5kVGltZSkpO2xlKGEsbWUoYSxkLGYpLGIuaWR8fCIiKTtuZShhLG1lKGEsZCxmKSk7YS5hLmdldEJvb2woInJlZnJlc2hfc2VnbWVudF9yZWZlcmVuY2VfZmFpbG92ZXJfdXJpIiwhMCkmJihlLnVybD1lLnVybC5jbG9uZSgpKTthLlA9ITA7YS53YT1EYXRlLm5vdygpOyJ2aWRlbyI9PT1iLm1pbWVUeXBlLnNwbGl0KCIvIilbMF0mJmEucmEuc2V0UmVwcmVzZW50YXRpb25JRChiLmlkKTtjPWEuYy5mZXRjaChlLGMucyxiLmErYS5FYSxhLm1hLGEudmEmJiFhLmIucGF1c2VkLDA8Zi5sZW5ndGgsYS51LGEuRik7Yz1jLnRoZW4oSihhLGZ1bmN0aW9uKGEpe3RoaXMuYS5nZXRCb29sKCJ1cGRhdGVzX3ByaW9yaXR5X29uX2ZldGNoX2NvbXBsZXRlIiwhMSkmJm5lKHRoaXMsbWUodGhpcyxkLFtdKSk7dGhpcy5zYS5pbmZvcm1OZXR3b3JrUmVzdW1lZCgpO3JldHVybiBhfSkpO2EuJCYmInZpZGVvIj09PWIubWltZVR5cGUuc3BsaXQoIi8iKVswXSYmYS4kLmFkZChlLnN0YXJ0VGltZXx8CjAsZS5lbmRUaW1lfHwwLHtpZDpiLmlkLHJlYXNvbjphLmNhLHBlcmZvcm1hbmNlTG9nZ2VyOmEubD9hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJzdHJlYW1fc3dpdGNoIik6bnVsbH0pO2EubWE9bnVsbDthLnRhJiYoYS50YT0hMSxmPWEuY2EsYS5jYT1udWxsLG9lKGEsYixmLGEubGEoKSkpO2EuRz0hMTtyZXR1cm4gYy50aGVuKEooYSxmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5hLmdldEJvb2woImNsZWFyX29sZF9idWZmZXIiLCExKT9FYih0aGlzLmMsdGhpcy5iLmN1cnJlbnRUaW1lKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGF9KTphfSkpLnRoZW4oSihhLGZ1bmN0aW9uKGEpe3ZhciBiPWEuVyxjPWEuV2M7dGhpcy5ofHwodGhpcy55YT1jKTt0aGlzLmEuZ2V0Qm9vbCgidXNlX2xpdmVfYml0cmF0ZV9lc3RpbWF0ZXMiLCExKSYmbnVsbCE9YSYmMDxhLkRjJiYwPGEuSCYmKG51bGw9PT10aGlzLm0mJih0aGlzLm09VWQodGhpcyx0aGlzLmcuYmFuZHdpZHRofHwwKSksdGhpcy5tLnNhbXBsZSg4KgphLkRjLGEuSCkpO2E9dGhpcy5hLmdldE51bWJlcigiYnVmZmVyX3ZlbG9jaXR5X3RpbWVfaW5fcGFzdF90b19jb25zaWRlciIsMCk7MDxhJiZudWxsIT09dGhpcy5nJiYidmlkZW8iPT09TWQodGhpcy5nKSYmKG51bGw9PT10aGlzLkEmJih0aGlzLkE9bmV3IEJ1ZmZlclZlbG9jaXR5KGEpKSx0aGlzLkEucmVjb3JkQnVmZmVyQWhlYWQocmIodGhpcy5jLHRoaXMuYi5jdXJyZW50VGltZSkpKTt0aGlzLlA9ITE7InZpZGVvIj09PSh0aGlzLmc/dGhpcy5nLm1pbWVUeXBlLnNwbGl0KCIvIilbMF06bnVsbCkmJnRoaXMuZGlzcGF0Y2hFdmVudCh5KHt0eXBlOiJmZXRjaF9lbmQiLGJ1YmJsZXM6ITAsZGV0YWlsOntzdHJlYW1fZmV0Y2hfdGltZV9tczpEYXRlLm5vdygpLXRoaXMud2Esc2VnbWVudF9sZW5ndGhfbXM6MUUzKihlLmVuZFRpbWUtZS5zdGFydFRpbWUpfX0pKTtudWxsPT10aGlzLkQmJih0aGlzLkQ9Yik7dGhpcy5pYSYmMDxyYih0aGlzLmMsZCkmJih0aGlzLmlhPSExLHRoaXMuYS5nZXRCb29sKCJkaXNhYmxlX251ZGdlIiwKITEpfHwoYj15KHt0eXBlOiJzaG91bGRfbnVkZ2UifSksdGhpcy5kaXNwYXRjaEV2ZW50KGIpKSk7Vih0aGlzLDApfSkpLmNhdGNoKEooYSxmdW5jdGlvbihhKXt0aGlzLlA9ITE7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfSkpfWZ1bmN0aW9uIG1lKGEsYixjKXt2YXIgZD1hLmg/YjpiKyhhLkR8fDApO3JldHVybnthZGRpdGlvbmFsU2VnbWVudHNSZXF1aXJlZDpjLHBsYXloZWFkOmIsYnVmZmVyU3RhcnQ6ZCxidWZmZXJFbmQ6YWUoYSxiKStkLGJ1ZmZlcmluZ0dvYWw6WmQoYSksaXNQbGF5aW5nOiFhLmIucGF1c2VkfX1mdW5jdGlvbiBsZShhLGIsYyl7YS51JiZhLnUudXBkYXRlUGxheWVyU3RhdGUoYyxiKX1mdW5jdGlvbiBuZShhLGIpe2EuRiYmYS5GLnVwZGF0ZVBsYXllclN0YXRlKGIpfQpmdW5jdGlvbiBwZShhLGIsYyl7dmFyIGQ9bnVsbCE9PWEuaSYmLTE8YS5pJiZhLmk8Yy5sZW5ndGgoKS0xP2MuZ2V0KGEuaSk6bnVsbCxlPW51bGw7aWYobnVsbD09PWEuaXx8IWR8fGQuc3RhcnRUaW1lPmIpcmV0dXJuIGU9Yy5maW5kSW5kZXgoYiksYS5pPWU7Zm9yKGQ9YS5pO2Q8PWEuaSsxO2QrKylpZihlPWMuZ2V0KGQpLGUuc3RhcnRUaW1lPD1iJiZlLmVuZFRpbWU+YilyZXR1cm4gYS5pPWQ7ZT1jLmZpbmRJbmRleChiKTtyZXR1cm4oYS5pPWUpfHwtMX1mdW5jdGlvbiBkZShhKXtyZXR1cm4gYS5hLmdldEJvb2woInJlcGxhY2VfbG93ZXJfcXVhbGl0eV9idWZmZXIiLCExKSYmbnVsbD09PWEuRiYmYS5lYSYmbnVsbCE9PWEuJCYmInZpZGVvIj09PU1kKGEuZykmJm51bGwhPT1hLmZ9CmZ1bmN0aW9uIGplKGEsYil7aWYoIWEuRmF8fCFhLmcuaWR8fCFhLmYpcmV0dXJuW107dmFyIGM9cGUoYSxiLGEuZik7cmV0dXJuLTE9PT1jP1tdOkJ1ZmZlclJlcGxhY2VtZW50SGVscGVyLmdldFNlZ21lbnRzVG9SZXBsYWNlTG93ZXJRdWFsaXR5KGEuZi5nZXRTZWdtZW50cygpLGIsYyxhLmcuaWQsYS5GYSxhLiQse3RocmVzaG9sZEJlZm9yZTphLmEuZ2V0TnVtYmVyKCJidWZmZXJfcmVwbGFjZW1lbnRfYmVoaW5kX3RocmVzaG9sZCIsNSksdGhyZXNob2xkQWZ0ZXI6YS5hLmdldE51bWJlcigiYnVmZmVyX3JlcGxhY2VtZW50X2FoZWFkX3RocmVzaG9sZCIsMTUpLHdyYXBSZXBsYWNlbWVudFBhc3RFbmQ6YS5hLmdldEJvb2woIndyYXBfcmVwbGFjZW1lbnRfcGFzdF9lbmQiLCExKX0pfQpuLnpjPWZ1bmN0aW9uKCl7dmFyIGE7aWYodGhpcy5sKXt2YXIgYj10aGlzLmEuZ2V0TnVtYmVyKCJzdHJlYW1fb251cGRhdGVfc2FtcGxpbmciLDApO2ImJjA9PT1NYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqYikmJihhPXRoaXMubC5nZXRPcGVyYXRpb25Mb2dnZXIoInN0cmVhbV9vbnVwZGF0ZSIpLnN0YXJ0KCkpfXZhciBjO3RoaXMuYS5nZXROdW1iZXIoImRlY291cGxlX3N0cmVhbV9vbl91cGRhdGVfbG9vcF9mcm9tX3JlcXVlc3RfbG9vcF9pbnQiLDApJiZWKHRoaXMsdGhpcy5hLmdldE51bWJlcigiZGVjb3VwbGVfc3RyZWFtX29uX3VwZGF0ZV9sb29wX2Zyb21fcmVxdWVzdF9sb29wX2ludCIsMCkpO2lmKHRoaXMuYS5nZXRCb29sKCJjYXRjaF9zdHJlYW1fdXBkYXRlX3N5bmNfY29kZV9lcnJvciIsITEpKXRyeXtjPWJlKHRoaXMpfWNhdGNoKGQpe2QudHlwZT0idW5jYXVnaHQiLGEmJmEuc2V0RXJyb3IoZCksYz1Qcm9taXNlLnJlamVjdChkKX1lbHNlIGM9YmUodGhpcyk7Yy5jYXRjaChKKHRoaXMsCmZ1bmN0aW9uKGEpe2lmKCJhYm9ydGVkIiE9YS50eXBlKXtpZigic291cmNlYnVmZmVyX2Z1bGwiPT09YS50eXBlKXJldHVybiBCYih0aGlzLmMpLnRoZW4oSih0aGlzLGZ1bmN0aW9uKCl7Vih0aGlzLDApfSkpO3ZhciBiPVswLDQwNCw0MTAsNTAyLDUwMyw1MDRdO3RoaXMuYS5nZXRCb29sKCJlbmFibGVfZG91YmxlX2luZ2VzdCIsITEpJiZiLnB1c2goNDE3LDIwMCk7Yj0tMT09PWIuaW5kZXhPZihhLnN0YXR1cyk7aWYoIm5ldCI9PT1hLnR5cGUmJiFiJiZ0aGlzLmcpaWYodGhpcy5hLmdldEJvb2woImFsbG93X2luZmluaXRlX3JldHJ5X29uX25ldF9lcnIiLCEwKSlzd2l0Y2goYS5zdGF0dXMpe2Nhc2UgNDA0OlYodGhpcywyRTMpO2JyZWFrO2Nhc2UgNDEwOnRoaXMuYS5nZXRCb29sKCJlbmRfYWxsX3N0cmVhbXNfb25fNDEwIiwhMSk/cWUodGhpcyk6dGhpcy5DYigpO2JyZWFrO2Nhc2UgNDE3OmNhc2UgMjAwOmEucmVzcG9uc2VIZWFkZXJzJiZudWxsIT1hLnJlc3BvbnNlSGVhZGVyc1sieC1mYi12aWRlby1yZXBsaWNhIl0/CnRoaXMuZGlzcGF0Y2hFdmVudCh5KHt0eXBlOiJyZXBsaWNhc3dpdGNoIixidWJibGVzOiEwLHJlcGxpY2E6YS5yZXNwb25zZUhlYWRlcnNbIngtZmItdmlkZW8tcmVwbGljYSJdLHVybDphLnVybCxzdGF0dXM6YS5zdGF0dXN9KSk6Yj0hMDticmVhaztkZWZhdWx0OlYodGhpcywxRTMpfWVsc2UgVih0aGlzLDFFMyksYj0hMDswPT09YS5zdGF0dXM/dGhpcy5zYS5pbmZvcm1OZXR3b3JrSW50ZXJydXB0ZWQoKTp0aGlzLnNhLmluZm9ybU5ldHdvcmtSZXN1bWVkKCk7aWYoIXRoaXMuYS5nZXRCb29sKCJhbGxvd19pbmZpbml0ZV9yZXRyeV9vbl9uZXRfZXJyIiwhMCl8fGIpYj1BKGEpLHRoaXMuZGlzcGF0Y2hFdmVudChiKSx0aGlzLmwmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgYj10aGlzLmwuZ2V0RXZlbnRMb2dnZXIoInN0cmVhbV9lcnJvcl9mYWxsYmFjayIpLnNldEVycm9yKGEpLnNldFR5cGUodGhpcy5DYS5zcGxpdCgiLyIpWzBdKTt0aGlzLmI/Yi5zZXRSZXN1bHQoImZhaWxlZCIpOgpiLnNldFJlc3VsdCgic3VjY2VzcyIpO2IubG9nKCl9LmJpbmQodGhpcyksMCl9fSkpO2EmJmEubG9nKCl9O2Z1bmN0aW9uIGtlKGEsYixjLGQsZSl7dmFyIGY9LTE7aWYoYS5hLmdldEJvb2woInRlbXBsYXRlZF9mYXN0ZXJfc3RyZWFtX2dldF9uZXh0X24iLCExKSYmMT09PWQmJm51bGwhPWUmJm51bGwhPWUuZW5kVGltZSlyZXR1cm4oYz1jLmZpbmQoZS5lbmRUaW1lKSk/W2NdOltdO251bGwhPWU/Zj1udWxsIT1lLmVuZFRpbWU/Yy5maW5kSW5kZXgoZS5lbmRUaW1lKTotMTooZj1wZShhLGIsYyksMD5mJiYoZj1jLmxlbmd0aCgpP2MubGVuZ3RoKCktMTotMSkpO2E9W107aWYoMDw9Zilmb3IoYj1mO2I8ZitkJiZiPGMubGVuZ3RoKCk7YisrKWEucHVzaChjLmdldChiKSk7cmV0dXJuIGF9CmZ1bmN0aW9uIGNlKGEpe2lmKCFhLmgmJm51bGwhPWEuRCl7YS5oPSEwO3ZhciBiPWEuYyxjPWEuRCxkPWMtYi5VOzAhPWQmJihiLmI9a2QoYi5iLGQpLGIuVT1jKTthLk8ucmVzb2x2ZShhLkQpfX1uLkVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaH07VS5wcm90b3R5cGUuaGFzU3RhcnRlZD1VLnByb3RvdHlwZS5FZDtVLnByb3RvdHlwZS5rYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLlR9O1UucHJvdG90eXBlLmhhc0hpdEJ1ZmZlcmluZ0dvYWw9VS5wcm90b3R5cGUua2I7VS5wcm90b3R5cGUubGE9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09PXRoaXMubT9udWxsOnRoaXMubS5nZXRFc3RpbWF0ZSgpfTtVLnByb3RvdHlwZS5nZXRCaXRyYXRlRXN0aW1hdGU9VS5wcm90b3R5cGUubGE7VS5wcm90b3R5cGUucWI9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09PXRoaXMuQT9udWxsOnRoaXMuQS5nZXRWZWxvY2l0eSgpfTtVLnByb3RvdHlwZS5nZXRCdWZmZXJWZWxvY2l0eT1VLnByb3RvdHlwZS5xYjsKZnVuY3Rpb24gb2UoYSxiLGMsZCl7dmFyIGU9Yi5taW1lVHlwZS5zcGxpdCgiLyIpWzBdO2I9eSh7dHlwZToiYWRhcHRhdGlvbiIsaWQ6Yi5pZCxidWJibGVzOiEwLGNvbnRlbnRUeXBlOmUsc2l6ZToidmlkZW8iIT1lP251bGw6e3dpZHRoOmIud2lkdGgsaGVpZ2h0OmIuaGVpZ2h0fSxiYW5kd2lkdGg6ZHx8Yi5iYW5kd2lkdGgscmVhc29uOmN9KTthLmRpc3BhdGNoRXZlbnQoYil9ZnVuY3Rpb24gcWUoYSl7dmFyIGI9eSh7dHlwZToic2hvdWxkX2VuZF9hbGxfc3RyZWFtcyJ9KTthLmRpc3BhdGNoRXZlbnQoYil9ZnVuY3Rpb24gV2QoYSl7dmFyIGI9eSh7dHlwZToiZW5kZWQifSk7YS5kaXNwYXRjaEV2ZW50KGIpfVUucHJvdG90eXBlLk9hPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuRn07VS5wcm90b3R5cGUuZ2V0VmlkZW9TdHJlYW1pbmdNYW5hZ2VyPVUucHJvdG90eXBlLk9hOwpmdW5jdGlvbiBWKGEsYil7VmQoYSk7IWImJmEuSGE/UHJvbWlzZS5yZXNvbHZlKCkudGhlbihhLnpjLmJpbmQoYSkpOmEudz1zZXRUaW1lb3V0KGEuemMuYmluZChhKSxiKX1mdW5jdGlvbiBWZChhKXtudWxsIT1hLncmJihjbGVhclRpbWVvdXQoYS53KSxhLnc9bnVsbCl9VS5wcm90b3R5cGUuc2I9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy55YX07VS5wcm90b3R5cGUuZ2I9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jLml9O1UucHJvdG90eXBlLmdldFN0cmVhbVByb2dyZXNzVHJhY2tlcj1VLnByb3RvdHlwZS5nYjtmdW5jdGlvbiByZShhLGIpe2EuSz1iO2EuVj0hMDthLkl8fChhLkk9bmV3IEkpO3JldHVybiBhLkl9O2Z1bmN0aW9uIHNlKGEpe3RoaXMuYj1hO3RoaXMuYT1udWxsfXNlLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5hJiYodGhpcy5hLmRlc3Ryb3koKSx0aGlzLmE9bnVsbCl9O3NlLnByb3RvdHlwZS5jcmVhdGU9ZnVuY3Rpb24oKXtpZih0aGlzLmEpcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLmEpO3ZhciBhPW5ldyBpZCgwLG51bGwsdGhpcy5iLDAsMCksYT1uZXcgVChbYV0sMSk7dGhpcy5hPW5ldyBSKGEpO3JldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5hKX07c2UucHJvdG90eXBlLmM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hfTtmdW5jdGlvbiB0ZShhLGIpe0YuY2FsbCh0aGlzLGEpO3RoaXMuYj1iO3RoaXMuaj0hMDt0aGlzLm09dGhpcy5nPW51bGw7dGhpcy5mPW5ldyBJO3RoaXMuYT1udWxsfXIodGUsRik7dGUucHJvdG90eXBlLnBhPWZ1bmN0aW9uKCl7fTt0ZS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuYSYmdGhpcy5iLnJlbW92ZUNoaWxkKHRoaXMuYSk7dGhpcy5mLmRlc3Ryb3koKTt0aGlzLkphPXRoaXMuYj10aGlzLmc9dGhpcy5tPXRoaXMuYT10aGlzLmY9bnVsbH07bj10ZS5wcm90b3R5cGU7bi5XYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmd9O24uRmI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tfTtuLktjPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZn07bi5mYj1mdW5jdGlvbigpe3JldHVybiEwfTtuLkNiPWZ1bmN0aW9uKCl7fTsKbi5qYj1mdW5jdGlvbihhKXthLk0uY3JlYXRlKCkudGhlbihKKHRoaXMsZnVuY3Rpb24oYil7aWYodGhpcy5iKXtpZigwPT1iLmxlbmd0aCgpKXJldHVybiBQcm9taXNlLnJlamVjdChFcnJvcigiTm8gc3VidGl0bGVzIFVSTCBhdmFpbGFibGUuIikpO3ZhciBjPXRoaXMuZzt0aGlzLmc9YTt0aGlzLm09YjtiPWIuZmlyc3QoKS51cmwuY1swXS50b1N0cmluZygpO3ZhciBkPXRoaXMuRGIoKTt0aGlzLmEmJih0aGlzLnZiKCExKSx0aGlzLmIucmVtb3ZlQ2hpbGQodGhpcy5hKSk7dGhpcy5hPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRyYWNrIik7dGhpcy5iLmFwcGVuZENoaWxkKHRoaXMuYSk7dGhpcy5hLnNyYz1iO3RoaXMudmIoZCk7Yj15KHt0eXBlOiJhZGFwdGF0aW9uIixidWJibGVzOiEwLGNvbnRlbnRUeXBlOiJ0ZXh0IixzaXplOm51bGwsYmFuZHdpZHRoOmEuYmFuZHdpZHRofSk7dGhpcy5kaXNwYXRjaEV2ZW50KGIpO2N8fHRoaXMuZi5yZXNvbHZlKDApfX0pKX07bi5DYz1mdW5jdGlvbigpe307Cm4uSGM9ZnVuY3Rpb24oKXt9O24uSWM9ZnVuY3Rpb24oKXtyZXR1cm4hMH07bi52Yj1mdW5jdGlvbihhKXt0aGlzLmo9YTt0aGlzLmEmJih0aGlzLmEudHJhY2subW9kZT1hPyJzaG93aW5nIjoiZGlzYWJsZWQiKX07bi5EYj1mdW5jdGlvbigpe3RoaXMuYSYmKHRoaXMuaj0ic2hvd2luZyI9PXRoaXMuYS50cmFjay5tb2RlKTtyZXR1cm4gdGhpcy5qfTtuLnNiPWZ1bmN0aW9uKCl7cmV0dXJuIDB9O24uSmM9ZnVuY3Rpb24oKXt9O2Z1bmN0aW9uIHVlKCl7fQp1ZS5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9bnVsbDt0cnl7dmFyIGY7dmFyIGc9bmV3IElhKGIpO2lmKDQ0MDc4Njg1MSE9S2EoZykuaWQpZj1udWxsO2Vsc2V7dmFyIGg9S2EoZyk7aWYoNDA4MTI1NTQzIT1oLmlkKWY9bnVsbDtlbHNle3ZhciBrPWguYS5ieXRlT2Zmc2V0LGw7dmFyIG09bmV3IElhKGguYSk7Zm9yKGI9bnVsbDtEYShtLmEpOyl7dmFyIHA9S2EobSk7aWYoMzU3MTQ5MDMwPT1wLmlkKXtiPXA7YnJlYWt9fWlmKGIpe2Zvcih2YXIgdD1uZXcgSWEoYi5hKSxwPTFFNixtPW51bGw7RGEodC5hKTspe3ZhciB3PUthKHQpO2lmKDI4MDc3Mjk9PXcuaWQpcD1PYSh3KTtlbHNlIGlmKDE3NTQ1PT13LmlkKWlmKGI9dyw0PT1iLmEuYnl0ZUxlbmd0aCltPWIuYS5nZXRGbG9hdDMyKDApO2Vsc2UgaWYoOD09Yi5hLmJ5dGVMZW5ndGgpbT1iLmEuZ2V0RmxvYXQ2NCgwKTtlbHNlIHRocm93IG5ldyBSYW5nZUVycm9yKCJFYm1sRWxlbWVudDogZmxvYXRpbmcgcG9pbnQgbnVtYmVycyBtdXN0IGJlIDQgb3IgOCBieXRlcy4iKTt9bnVsbD09Cm0/bD1udWxsOih0PXAvMUU5LGw9e0diOnQsZHVyYXRpb246bSp0fSl9ZWxzZSBsPW51bGw7Zj1sP3tBZDprLEdiOmwuR2IsZHVyYXRpb246bC5kdXJhdGlvbn06bnVsbH19aWYoZil7dmFyIHo9S2EobmV3IElhKGEpKTtpZig0NzUyNDk1MTUhPXouaWQpZT1udWxsO2Vsc2V7dmFyIEg9Zi5BZCxkYT1mLkdiLGVhPWYuZHVyYXRpb247YT1bXTtmb3IodmFyIEFhPW5ldyBJYSh6LmEpLGs9Zj16PS0xO0RhKEFhLmEpOyl7dmFyIGNiPUthKEFhKTtpZigxODc9PWNiLmlkKXt2YXIgbmE7dmFyIHZkPW5ldyBJYShjYi5hKSx3ZD1LYSh2ZCk7aWYoMTc5IT13ZC5pZCluYT1udWxsO2Vsc2V7dmFyIFllPU9hKHdkKSx4ZD1LYSh2ZCk7aWYoMTgzIT14ZC5pZCluYT1udWxsO2Vsc2V7dmFyIGVlPW5ldyBJYSh4ZC5hKTtmb3IobD0wO0RhKGVlLmEpOyl7dmFyIGZlPUthKGVlKTtpZigyNDE9PWZlLmlkKXtsPU9hKGZlKTticmVha319bmE9e3piOlllLHlkOmx9fX1pZihuYSl7dmFyIGdlPWRhKm5hLnpiLApoZT1IK25hLnlkO2lmKDA8PXope3ZhciBOYz1uZXcgSyhkLGMsayxoZS0xKSxBZj1uYS56Yi1mO2EucHVzaChuZXcgaWQoeixnZSxOYyxuYS56YixBZikpfXo9Z2U7Zj1uYS56YjtrPWhlfX19MDw9eiYmKE5jPW5ldyBLKGQsYyxrLG51bGwpLGEucHVzaChuZXcgaWQoeixlYSxOYyxmLGVhL2RhLWYpKSk7ZT1hfX1lbHNlIGU9bnVsbH1jYXRjaChpZSl7aWYoIShpZSBpbnN0YW5jZW9mIFJhbmdlRXJyb3IpKXRocm93IGllO31yZXR1cm4gZX07ZnVuY3Rpb24gdmUoYSxiLGMsZCxlLGYsZyxoLGssbCxtKXt0aGlzLmg9YTt0aGlzLm89Yjt0aGlzLmI9Yzt0aGlzLm09bHx8bnVsbDt0aGlzLmo9bXx8bnVsbDt0aGlzLmE9ZDt0aGlzLmc9ZTt0aGlzLmY9Zjt0aGlzLnc9Zzt0aGlzLlJhPW51bGw7dGhpcy5pPWg7dGhpcy5sPWt8fG51bGw7dGhpcy51PW51bGx9dmUucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmk9dGhpcy5vPXRoaXMuaD1udWxsO3RoaXMuYS5LYSgpO3RoaXMuYT1udWxsO3RoaXMuZiYmKHRoaXMuZi5LYSgpLHRoaXMuZj1udWxsKTt0aGlzLmcmJih0aGlzLmcuS2EoKSx0aGlzLmc9bnVsbCk7dGhpcy5SYT1udWxsfTt2ZS5wcm90b3R5cGUuUWM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5SYX07dmUucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbigpe3JldHVybiB3ZSh0aGlzKX07dmUucHJvdG90eXBlLnBiPWZ1bmN0aW9uKCl7cmV0dXJuIHdlKHRoaXMpfTsKZnVuY3Rpb24gd2UoYSl7aWYoYS5SYSlyZXR1cm4gYS5SYTt2YXIgYj1udWxsO2EubCYmKGI9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigiY3JlYXRlX2NvbnRhaW5lcl9zZWdtZW50X2luZGV4X3NvdXJjZSIpLnN0YXJ0KCkpO2lmKG51bGwhPT1hLm0mJihudWxsIT09YS5qfHwid2VibSIhPT1hLmIpKXJldHVybiB4ZShhLGEubSxhLmosYik7dmFyIGM9W2EuYS5mZXRjaChudWxsLG51bGwsYS5sLGIpXTsid2VibSI9PWEuYiYmYy5wdXNoKGEuZy5mZXRjaChudWxsLG51bGwsYS5sLGIpKTthLlJhPVByb21pc2UuYWxsKGMpLnRoZW4oSihhLGZ1bmN0aW9uKGEpe3JldHVybiB4ZSh0aGlzLGFbMF0sYVsxXXx8bnVsbCxiKX0pKTtyZXR1cm4gYS5SYX0KZnVuY3Rpb24geGUoYSxiLGMsZCl7dmFyIGU9bnVsbDsibXA0Ij09YS5iPyhlPW5ldyB0ZCxlPWUucGFyc2UobmV3IERhdGFWaWV3KGIpLGEuYS5zdGFydEJ5dGUsYS5hLmMsYS5pLGEuZikpOiJ3ZWJtIj09YS5iJiYoZT1uZXcgdWUsZT1lLnBhcnNlKG5ldyBEYXRhVmlldyhiKSxuZXcgRGF0YVZpZXcoYyksYS5hLmMsYS5pKSk7aWYoIWUpcmV0dXJuIGE9RXJyb3IoIkZhaWxlZCB0byBwYXJzZSBTZWdtZW50UmVmZXJlbmNlcyBmcm9tICIrYS5hLnRvU3RyaW5nKCkrIiAob3Igb25lIG9mIGl0cyBmYWxsYmFja3MpLiIpLGEudHlwZT0ic3RyZWFtIixQcm9taXNlLnJlamVjdChhKTtiPW5ldyBUKGUsZS5zKTt2YXIgZjsiZHluYW1pYyI9PWEuaC50eXBlP2Y9bmV3IFMoYixhLmgsYS5vLGEudyk6Zj1uZXcgUihiKTtkJiZkLmxvZygpO2EudT1mO3JldHVybiBQcm9taXNlLnJlc29sdmUoZil9dmUucHJvdG90eXBlLmM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51fTtmdW5jdGlvbiB5ZShhLGIsYyxkKXt0aGlzLmM9YTt0aGlzLmI9Yjt0aGlzLmw9Y3x8bnVsbDt0aGlzLmE9ZHx8bnVsbH0KZnVuY3Rpb24gemUoYSxiLGMpe2Zvcih2YXIgZD15YSgpLzFFMyxlPTA7ZTxiLmEubGVuZ3RoOysrZSlmb3IodmFyIGY9Yi5hW2VdLGc9MDtnPGYuYS5sZW5ndGg7KytnKXt2YXIgaD1mLmFbZ107aWYoInRleHQiIT1oLmNvbnRlbnRUeXBlKWZvcih2YXIgaz0wO2s8aC5hLmxlbmd0aDsrK2spe3ZhciBsPWguYVtrXSxtPTAsbT1tKyhsLmY/MTowKSxtPW0rKGwuYj8xOjApLG09bSsobC5hPzE6MCk7MD09bT8oaC5hLnNwbGljZShrLDEpLC0tayk6MSE9bSYmKGwuZj8obC5iPW51bGwsbC5hPW51bGwpOmwuYiYmKGwuYT1udWxsKSl9fUFlKGIpO2ZvcihlPTA7ZTxiLmEubGVuZ3RoOysrZSlmb3IoZj1iLmFbZV0sZz0wO2c8Zi5hLmxlbmd0aDsrK2cpe2s9aD1mLmFbZ107bD1udWxsO2ZvcihtPTA7bTxrLmEubGVuZ3RoOysrbSl7dmFyIHA9ay5hW21dLm1pbWVUeXBlfHwiIjtsP3AhPWwmJihrLmEuc3BsaWNlKG0sMSksLS1tKTpsPXB9MD09aC5hLmxlbmd0aCYmKGYuYS5zcGxpY2UoZywxKSwKLS1nKX1iLm1hbmlmZXN0SXNMaXZlU3RyZWFtaW5nJiZudWxsPT1iLmMmJihiLmM9ZCk7ZT1uZXcgVGQ7ImR5bmFtaWMiPT1iLnR5cGUmJihlLmI9ITAsZS5jPWIuZyxlLmk9bmV3IEsoYyxiLnV8fGIudXJsLHZvaWQgMCx2b2lkIDAsdm9pZCAwLGEuYSksZS5qPWIuYyk7ZS5CPWIuaHx8MDtlLm09Yi5pfHwwO2Uubz1iLmp8fDA7ZS5nPWIubXx8NTtmb3IoZj0wO2Y8Yi5hLmxlbmd0aDsrK2Ype2c9Yi5hW2ZdO2lmKG51bGw9PWcuc3RhcnQpYnJlYWs7Zz1CZShhLGIsZyxkLGMpO2UuYS5wdXNoKGcpfWUuZj1iLkZCSXNMaXZlVGVtcGxhdGVkO2EubCYmYS5sLnNldElzVGVtcGxhdGVkTWFuaWZlc3QoYi5GQklzTGl2ZVRlbXBsYXRlZCk7ZS5BPWIuRkJXYXNMaXZlO2E9bnVsbDtjPSJub25lIjtmb3IoZj0wO2Y8Yi5hLmxlbmd0aDtmKyspZm9yKGc9Yi5hW2ZdLGQ9MDtkPGcuYS5sZW5ndGg7ZCsrKWZvcihoPWcuYVtkXSxrPTA7azxoLmEubGVuZ3RoO2srKylsPWguYVtrXS5pLG51bGwhPQpsJiZudWxsIT1sLnZhbHVlJiYoYT1jPWwudmFsdWUsInVybjptcGVnOmRhc2g6MjMwMDM6MzphdWRpb19jaGFubmVsX2NvbmZpZ3VyYXRpb246MjAxMSI9PT1sLmEmJigiMSI9PT1hP2M9Im1vbm8iOiIyIj09PWEmJihjPSJzdGVyZW8iKSkpO2Uudz1jO2E9cGFyc2VJbnQoYSwxMCk7ZS51PTA8YT9hOm51bGw7cmV0dXJuIGV9CmZ1bmN0aW9uIEFlKGEpe2lmKGEuYS5sZW5ndGgpe251bGw9PWEuYVswXS5zdGFydCYmKGEuYVswXS5zdGFydD0wKTt2YXIgYj1mdW5jdGlvbihhKXtyZXR1cm4gMD09YXx8ISFhfTthLm1hbmlmZXN0SXNMaXZlU3RyZWFtaW5nJiYoYS5iPW51bGwpO2IoYS5iKSYmMT09YS5hLmxlbmd0aCYmIWIoYS5hWzBdLmR1cmF0aW9uKSYmKGEuYVswXS5kdXJhdGlvbj1hLmIpO2Zvcih2YXIgYz0wLGQ9ITAsZT0wO2U8YS5hLmxlbmd0aDsrK2Upe3ZhciBmPWEuYVtlLTFdLGc9YS5hW2VdLGg9YS5hW2UrMV18fHtzdGFydDphLmJ9OyFiKGcuc3RhcnQpJiZmJiZiKGYuc3RhcnQpJiZiKGYuZHVyYXRpb24pJiYoZy5zdGFydD1mLnN0YXJ0K2YuZHVyYXRpb24pOyFiKGcuZHVyYXRpb24pJiZiKGguc3RhcnQpJiYoZy5kdXJhdGlvbj1oLnN0YXJ0LWcuc3RhcnQpO251bGwhPWcuc3RhcnQmJm51bGwhPWcuZHVyYXRpb24/Yys9Zy5kdXJhdGlvbjpkPSExfWIoYS5iKXx8KGU9YS5hW2EuYS5sZW5ndGgtMV0sCmQ/YS5iPWM6YihlLnN0YXJ0KSYmYihlLmR1cmF0aW9uKT9hLmI9ZS5zdGFydCtlLmR1cmF0aW9uOmEubWFuaWZlc3RJc0xpdmVTdHJlYW1pbmd8fChhLmI9YykpfX0KZnVuY3Rpb24gQmUoYSxiLGMsZCxlKXt2YXIgZj1uZXcgU2Q7Zi5pZD1jLmlkO2Yuc3RhcnQ9Yy5zdGFydDtmLmR1cmF0aW9uPWMuZHVyYXRpb247dmFyIGc9bmV3IEQ7Yy5hLmZvckVhY2goZnVuY3Rpb24oYSl7Zy5wdXNoKGEuY29udGVudFR5cGV8fCIiLGEpfSk7Zm9yKHZhciBoPWFiKGcpLGs9MDtrPGgubGVuZ3RoOysrayl7dmFyIGw9bmV3IEQ7Zy5nZXQoaFtrXSkuZm9yRWFjaChmdW5jdGlvbihhKXtsLnB1c2goYS5ncm91cCxhKX0pO2Zvcih2YXIgbT1hYihsKSxwPTA7cDxtLmxlbmd0aDsrK3Ape3ZhciB0PW5ldyBEO2wuZ2V0KG1bcF0pLmZvckVhY2goZnVuY3Rpb24oYSl7dC5wdXNoKGEubGFuZyxhKX0pO2Zvcih2YXIgdz1hYih0KSx6PTA7ejx3Lmxlbmd0aDsrK3ope3ZhciBIPXQuZ2V0KHdbel0pLEg9Q2UoYSxiLGMsSCxkLGUpO2YuYS5wdXNoKEgpfX19cmV0dXJuIGZ9CmZ1bmN0aW9uIENlKGEsYixjLGQsZSxmKXtiYShkLmV2ZXJ5KGZ1bmN0aW9uKGEpe3JldHVybiBhLmdyb3VwPT1kWzBdLmdyb3VwJiYoYS5sYW5nfHwiIik9PShkWzBdLmxhbmd8fCIiKSYmKGEuY29udGVudFR5cGV8fCIiKT09KGRbMF0uY29udGVudFR5cGV8fCIiKX0pKTt2YXIgZz1uZXcgT2QsaD1kLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YS5pZH0pO2gubGVuZ3RoPT1kLmxlbmd0aCYmKGcuaWQ9aC5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuaWR9KS5zb3J0KCkucmVkdWNlKGZ1bmN0aW9uKGEsYil7cmV0dXJuIGErIiwiK2J9KSk7Zy5iPSEoIWRbMF0uYnx8InVybjpzY3RlOmRhc2g6Y2M6Y2VhLTYwODoyMDE1IiE9PWRbMF0uYi5hKTtnLmxhbmc9ZFswXS5sYW5nfHwiIjtnLmNvbnRlbnRUeXBlPWRbMF0uY29udGVudFR5cGV8fCIiO2cuZj1kLnNvbWUoZnVuY3Rpb24oYSl7cmV0dXJuIGEuZn0pO2Zvcih2YXIgaD17fSxrPTA7azxkLmxlbmd0aDsrK2spe3ZhciBsPQpkW2tdO2wuYyYmKGcuYz1sLmMpO2Zvcih2YXIgbT0wO208bC5hLmxlbmd0aDsrK20pe3ZhciBwPWwuYVttXSx0PURlKGEscCksdz1nLmEuc2xpY2UoMCk7RWUodCx3KTswPT13Lmxlbmd0aCYmMDxnLmEubGVuZ3RofHwhKHA9RmUoYSxiLGMscCxlLGYpKXx8KGcudi5wdXNoKHApLGcuYT13LGhbcC5YXT1sKX19aWYoZy5hLnNvbWUoZnVuY3Rpb24oYSl7cmV0dXJuIiI9PWEuYX0pKXJldHVybiBnLnYuZm9yRWFjaChmdW5jdGlvbihhKXthLm9hPSEwfSksZzthPUdlKGQpO2ZvcihrPTA7azxnLnYubGVuZ3RoOysraylwPWcudltrXSxsPWhbcC5YXSxsPT1hJiYocC5vYT0hMCk7cmV0dXJuIGd9CmZ1bmN0aW9uIEdlKGEpe2Zvcih2YXIgYj1udWxsLGM9bnVsbCxkPTA7ZDxhLmxlbmd0aDsrK2QpZm9yKHZhciBlPWFbZF0sZj0wO2Y8ZS5hLmxlbmd0aDsrK2Ype3ZhciBnPWUuYVtmXSxnPShnLndpZHRofHwxKSooZy5oZWlnaHR8fDEpKihnLmJhbmR3aWR0aHx8MSk7aWYobnVsbD09Ynx8ZzxiKWI9ZyxjPWV9cmV0dXJuIGN9ZnVuY3Rpb24gRWUoYSxiKXtpZigwPT1iLmxlbmd0aClBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShiLGEpO2Vsc2UgZm9yKHZhciBjPTA7YzxiLmxlbmd0aDsrK2Mpe2Zvcih2YXIgZD0hMSxlPTA7ZTxhLmxlbmd0aDsrK2Upe3ZhciBmPWJbY10sZz1hW2VdO2lmKGYuYT09Zy5hJiZmLmk9PWcuaSYmZi53aXRoQ3JlZGVudGlhbHM9PWcud2l0aENyZWRlbnRpYWxzJiZmLmg9PWcuaCYmZi5qPT1nLmomJmYuZz09Zy5nJiZmLm09PWcubSYmTWEoZi5jLGcuYykpe2Q9ITA7T2IoYltjXSxhW2VdLmIpO2JyZWFrfX1kfHwoYi5zcGxpY2UoYywxKSwtLWMpfX0KZnVuY3Rpb24gRGUoYSxiKXt2YXIgYz1bXTtpZigwPT1iLmMubGVuZ3RoKWMucHVzaChuZXcgTWIpO2Vsc2UgaWYoYS5iKWZvcih2YXIgZD0wO2Q8Yi5jLmxlbmd0aDsrK2QpYy5wdXNoLmFwcGx5KGMsSGUoYSxiLmNbZF0pKTtyZXR1cm4gY30KZnVuY3Rpb24gSGUoYSxiKXt2YXIgYz1bXTtpZigyIT1hLmIubGVuZ3RoKXJldHVybltdO3ZhciBkPWEuYihiLmZ8fCIiLGIuYyk7aWYoIShkJiZkIGluc3RhbmNlb2YgQXJyYXkpKXJldHVybltdO2Zvcih2YXIgZT0wO2U8ZC5sZW5ndGg7KytlKXt2YXIgZjt2YXIgZz1kW2VdO2Y9bmV3IE1iO2lmKGcpe3ZhciBoPVlhKGcsImtleVN5c3RlbSIpO2lmKG51bGwhPWgpZi5hPWg7ZWxzZSB0aHJvdyBFcnJvcigiJ2tleVN5c3RlbScgY2Fubm90IGJlIG51bGwuIik7dmFyIGs9WWEoZywibGljZW5zZVNlcnZlclVybCIpO2lmKG51bGwhPWspZi5pPWs7ZWxzZSBpZihoKXRocm93IEVycm9yKCJGb3IgZW5jcnlwdGVkIHN0cmVhbWluZyBjb250ZW50LCAnbGljZW5zZVNlcnZlclVybCcgY2Fubm90IGJlIG51bGwgb3IgZW1wdHkuIik7aD1CKGcsIndpdGhDcmVkZW50aWFscyIpO251bGwhPWgmJihmLndpdGhDcmVkZW50aWFscz1oKTtoPVphKGcsImxpY2Vuc2VQb3N0UHJvY2Vzc29yIixGdW5jdGlvbik7Cm51bGwhPWgmJihmLmY9aCk7aD1aYShnLCJsaWNlbnNlUHJlUHJvY2Vzc29yIixGdW5jdGlvbik7bnVsbCE9aCYmKGYubz1oKTtoPUIoZywiZGlzdGluY3RpdmVJZGVudGlmaWVyUmVxdWlyZWQiKTtudWxsIT1oJiYoZi5oPWgpO2g9QihnLCJwZXJzaXN0ZW50U3RhdGVSZXF1aXJlZCIpO251bGwhPWgmJihmLmo9aCk7aD1ZYShnLCJhdWRpb1JvYnVzdG5lc3MiKTtudWxsIT1oJiYoZi5nPWgpO2g9WWEoZywidmlkZW9Sb2J1c3RuZXNzIik7bnVsbCE9aCYmKGYubT1oKTtoPVphKGcsInNlcnZlckNlcnRpZmljYXRlIixVaW50OEFycmF5KTtudWxsIT1oJiYoZi5jPWgpO2lmKGg9WmEoZywiaW5pdERhdGEiLE9iamVjdCkpe2c9WmEoaCwiaW5pdERhdGEiLFVpbnQ4QXJyYXkpO2lmKG51bGw9PWcpdGhyb3cgRXJyb3IoIidpbml0RGF0YS5pbml0RGF0YScgY2Fubm90IGJlIG51bGwuIik7aD1ZYShoLCJpbml0RGF0YVR5cGUiKTtpZihudWxsPT1oKXRocm93IEVycm9yKCInaW5pdERhdGEuaW5pdERhdGFUeXBlJyBjYW5ub3QgYmUgbnVsbC4iKTsKZi5iLnB1c2goe2luaXREYXRhOm5ldyBVaW50OEFycmF5KGcuYnVmZmVyKSxpbml0RGF0YVR5cGU6aH0pfX0wPT1mLmIubGVuZ3RoJiZiLmEmJmIuYS5wc3NoQm94JiZPYihmLFt7aW5pdERhdGE6Yi5hLnBzc2hCb3gsaW5pdERhdGFUeXBlOiJjZW5jIn1dKTtjLnB1c2goZil9cmV0dXJuIGN9CmZ1bmN0aW9uIEZlKGEsYixjLGQsZSxmKXtpZighZC5iYXNlVXJsfHwwPT09ZC5iYXNlVXJsLmxlbmd0aClyZXR1cm4gbnVsbDt2YXIgZz1udWxsLGg9MSxrPTA7aWYoZC5mKXtnPWQubWltZVR5cGUuc3BsaXQoIi8iKVsxXTtpZigibXA0IiE9ZyYmIndlYm0iIT1nKWc9bnVsbDtlbHNle3ZhciBsPWQuZjtpZigid2VibSIhPWd8fGwuYylpZihsLmF8fGwuYiYmbC5iLmEpe2g9bC5iO2h8fChoPW5ldyB3YyxoLnVybD1kLmJhc2VVcmwsaC5hPWwuYT9sLmEuY2xvbmUoKTpudWxsKTtrPUllKGEsaCxmKTtoPWwuYz9JZShhLGwuYyxmKTpudWxsO2wuZj8obD1sLmYsbD1uZXcgSyhmLGQuYmFzZVVybCxsLnFhLGwuZW5kLHZvaWQgMCxhLmEpKTpsPW51bGw7dmFyIG09bCxwPVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgiYWRkX2lubGluZV9pbml0aWFsaXphdGlvbl9yZXNvdXJjZXMiLCExKSYmZC5oJiZkLmguZGF0YT9kLmguZGF0YTpudWxsLGw9VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJhZGRfaW5saW5lX2luaXRpYWxpemF0aW9uX3Jlc291cmNlcyIsCiExKSYmZC5nJiZkLmcuZGF0YT9kLmcuZGF0YTpudWxsO2E9bmV3IHZlKGIsYyxnLGssaCxtLGUsZixhLmwscCxsKTtiPW5ldyBnZChoLGwpO2M9bmV3IEtkO2MuTT1hO2MuYWE9YjtnPWN9ZWxzZSBnPW51bGw7ZWxzZSBnPW51bGx9aD1kLmYucztrPWQuZi5MfWVsc2UgaWYoZC5iKWc9ZC5iLCFnLkgmJiFnLkMmJjE8Zy5hLmxlbmd0aD9nPW51bGw6Zy5IfHxjLmR1cmF0aW9ufHxnLkN8fDEhPWcuYS5sZW5ndGg/Zy5DJiYwPT09Zy5DLk4ubGVuZ3RoP2c9bnVsbDooZz1nLmI/SWUoYSxnLmIsZik6bnVsbCxhPW5ldyBGZChiLGMsZCxlLGYsYS5hKSxiPW5ldyBnZChnKSxjPW5ldyBLZCxjLk09YSxjLmFhPWIsZz1jKTpnPW51bGwsaD1kLmIucyxrPWQuYi5MO2Vsc2UgaWYoZC5hKXthOmlmKGc9ZC5hLGg9MCsoZy5hPzE6MCksaCs9Zy5DPzE6MCxoKz1nLkg/MTowLDA9PWg/aD0hMTooMSE9aCYmKGcuYT8oZy5DPW51bGwsZy5IPW51bGwpOmcuQyYmKGcuSD1udWxsKSksaD0hMCksaCl7aD0KbnVsbDtpZihnLmMmJihoPShnPWQuYS5jKT9KZShkLGcseGMpOm51bGwsIWgpKXtnPW51bGw7YnJlYWsgYX1nPWg/SWUoYSxoLGYpOm51bGw7aD1kLmE7aC5hPyhoPWQubWltZVR5cGUuc3BsaXQoIi8iKVsxXSwibXA0IiE9aCYmIndlYm0iIT1oP2E9bnVsbDoid2VibSIhPWh8fGc/bWQoZixkLDEsMCx2b2lkIDAsYS5hKT8oaz0oaz1kLmEuYSk/SmUoZCxrLHdjKTpudWxsKT8oaz1JZShhLGssZiksYT1uZXcgdmUoYixjLGgsayxnLG51bGwsZSxmLGEubCkpOmE9bnVsbDphPW51bGw6YT1udWxsKTphPWguZj9oLkM/bmV3IEpkKGEuYyxiLGMsZCxlLGYsMCxhLmEpOmguSD9iLm1hbmlmZXN0SXNMaXZlU3RyZWFtaW5nfHxudWxsIT1jLmR1cmF0aW9uP25ldyBFZChiLGMsZCxlLGYpOm51bGw6bnVsbDpudWxsO2E/KGI9bmV3IGdkKGcpLGM9bmV3IEtkLGMuTT1hLGMuYWE9YixnPWMpOmc9bnVsbH1lbHNlIGc9bnVsbDtoPWQuYS5zO2s9ZC5hLkx9ZWxzZSJ0ZXh0Ij09ZC5taW1lVHlwZS5zcGxpdCgiLyIpWzBdJiYKKGc9bmV3IEtkLGcuTT1uZXcgc2UobmV3IEsoZixkLmJhc2VVcmwpKSk7aWYoIWcpcmV0dXJuIG51bGw7Zy5pZD1kLmlkO2smJihnLmE9LTEqay9oKTtnLmJhbmR3aWR0aD1kLmJhbmR3aWR0aDtnLndpZHRoPWQud2lkdGg7Zy5oZWlnaHQ9ZC5oZWlnaHQ7Zy5taW1lVHlwZT1kLm1pbWVUeXBlfHwiIjtnLmNvZGVjcz1kLmNvZGVjc3x8IiI7Zy5nPWQub3x8bnVsbDtnLmg9ZC51fHxudWxsO2cuZmJRdWFsaXR5TGFiZWw9ZC5mYlF1YWxpdHlMYWJlbHx8bnVsbDtnLmZiUXVhbGl0eUNsYXNzPWQuZmJRdWFsaXR5Q2xhc3N8fG51bGw7Zy5mPWQubXx8bnVsbDtnLmZyYW1lUmF0ZT1kLmZyYW1lUmF0ZXx8IiI7Zy5jPWQuanx8bnVsbDtmb3IoYT0wO2E8ZC5jLmxlbmd0aDsrK2EpYj1kLmNbYV0sYi5iJiZnLmIucHVzaChiLmIpO3JldHVybiBnfQpmdW5jdGlvbiBKZShhLGIsYyl7Yj1uZChiLGEuaWQsbnVsbCxhLmJhbmR3aWR0aCxudWxsKTtpZighYilyZXR1cm4gbnVsbDtjPW5ldyBjO2MudXJsPVpjKGEuYmFzZVVybCxiKTtyZXR1cm4gY31mdW5jdGlvbiBJZShhLGIsYyl7dmFyIGQ9Yi51cmwsZT0wLGY9bnVsbDtiLmEmJihlPWIuYS5xYSxmPWIuYS5lbmQpO3JldHVybiBuZXcgSyhjLGQsZSxmLHZvaWQgMCxhLmEpfTtmdW5jdGlvbiBLZShhLGIsYyxkLGUsZixnKXt0aGlzLmI9bmV3IEsobnVsbCxbbmV3IEwoYSldKTt0aGlzLmw9ZTt0aGlzLmY9Yjt0aGlzLmM9MTt0aGlzLmc9YTt0aGlzLmE9bmV3IHRiO3RoaXMuYS5ib2R5PWI7dGhpcy5hLm1ldGhvZD1jO3RoaXMuYS5OYT0zO3RoaXMuYS53aXRoQ3JlZGVudGlhbHM9ZDt0aGlzLmEuYj0xRTMqKG51bGwhPWc/ZzpoYSk7YT1mfHx7fTtmb3IodmFyIGggaW4gYSl0aGlzLmEuUWFbaF09YVtoXX0KZnVuY3Rpb24gTGUoYSl7cmV0dXJuIGEuYi5mZXRjaChhLmEpLnRoZW4oZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYi51JiYwPHRoaXMuYz8odGhpcy5jLS0sbnVsbCE9PXRoaXMubCYmbnVsbCE9PXRoaXMuYi5pJiZ0aGlzLmwuc2V0UmVhc29uKCJSZWRpcmVjdGVkIHRvIFVSTDogIit0aGlzLmIuaS50b1N0cmluZygpKSx0aGlzLmI9bmV3IEsobnVsbCxbbmV3IEwodGhpcy5nKV0pLHRoaXMuYS5ib2R5PXRoaXMuZixMZSh0aGlzKSk6UHJvbWlzZS5yZXNvbHZlKG5ldyBVaW50OEFycmF5KGEpKX0uYmluZChhKSl9O2Z1bmN0aW9uIE1lKGEsYixjLGQpe0YuY2FsbCh0aGlzLGEpO3RoaXMuYz1iO3RoaXMuaj1jO3RoaXMuYT10aGlzLmg9bnVsbDt0aGlzLmk9bmV3IGJiO3RoaXMuYj1bXTt0aGlzLmY9W107dGhpcy5tPTA7dGhpcy5nPW5ldyBJO3RoaXMubz1udWxsO3RoaXMuQT1oYTt0aGlzLmw9ZH1yKE1lLEYpO01lLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5KYT1udWxsO2Zvcih2YXIgYT0wO2E8dGhpcy5mLmxlbmd0aDsrK2EpdGhpcy5mW2FdLmNsb3NlKCkuY2F0Y2goZnVuY3Rpb24oKXt9KTt0aGlzLmY9W107dGhpcy5iPXRoaXMuYT10aGlzLmg9bnVsbDt0aGlzLmcuZGVzdHJveSgpO3RoaXMuZz1udWxsO3RoaXMuaS5kZXN0cm95KCk7dGhpcy5pPW51bGw7dGhpcy5vJiYoY2xlYXJUaW1lb3V0KHRoaXMubyksdGhpcy5vPW51bGwpO3RoaXMuYz10aGlzLmo9bnVsbH07Ck1lLnByb3RvdHlwZS5pbml0aWFsaXplPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPW5ldyBELGI9TmUodGhpcy5qKSxjPTA7YzxiLmxlbmd0aDsrK2Mpe3ZhciBkPWJbY107ZC5hLmF8fGQuYiYmIU9lKGQuYil8fGEucHVzaChkLmNvbnRlbnRUeXBlLGQpfWZvcih2YXIgYz17fSxkPSExLGU9MDtlPGIubGVuZ3RoOysrZSl7dmFyIGY9YltlXTtpZihmLmEuYSYmIWEuYS5oYXNPd25Qcm9wZXJ0eShmLmNvbnRlbnRUeXBlKSl7dmFyIGc9Zi5hLmEsaD1jW2ddO2h8fChoPWYuYSxoPXthdWRpb0NhcGFiaWxpdGllczp2b2lkIDAsdmlkZW9DYXBhYmlsaXRpZXM6dm9pZCAwLGluaXREYXRhVHlwZXM6dm9pZCAwLGRpc3RpbmN0aXZlSWRlbnRpZmllcjpoLmg/InJlcXVpcmVkIjoib3B0aW9uYWwiLHBlcnNpc3RlbnRTdGF0ZTpoLmo/InJlcXVpcmVkIjoib3B0aW9uYWwiLHNlc3Npb25UeXBlczpbInRlbXBvcmFyeSJdfSxjW2ddPWgpO2lmKGYuYiYmKGc9Zi5jb250ZW50VHlwZSsiQ2FwYWJpbGl0aWVzIiwKZyBpbiBoKSl7ZD0hMDtoW2ddfHwoaFtnXT1bXSk7dmFyIGs7ImF1ZGlvIj09Zi5jb250ZW50VHlwZT9rPWYuYS5nOiJ2aWRlbyI9PWYuY29udGVudFR5cGUmJihrPWYuYS5tKTtoW2ddLnB1c2goe2NvbnRlbnRUeXBlOmYuYixyb2J1c3RuZXNzOmt9KX19fWlmKCFkKWlmKGIubGVuZ3RoKXRoaXMuYT1iWzBdLmE7ZWxzZSB0aHJvdyBhPUVycm9yKCJObyBEcm1JbmZvIGV4aXN0cyEiKSxhLnR5cGU9ImRybSIsYTtpZigwPT1PYmplY3Qua2V5cyhjKS5sZW5ndGgpcmV0dXJuIFBlKHRoaXMuaixhKSx0aGlzLmcucmVzb2x2ZSgpLFByb21pc2UucmVzb2x2ZSgpO2s9bmV3IEk7Yz1RZShjLGspO2M9Yy50aGVuKHRoaXMudy5iaW5kKHRoaXMsYixhKSk7ay5yZWplY3QobnVsbCk7dGhpcy5sJiZ0aGlzLmwuZ2V0RXZlbnRMb2dnZXIoImVtZV9pbml0IikubG9nKCk7cmV0dXJuIGN9OwpmdW5jdGlvbiBRZShhLGIpe2Zvcih2YXIgYyBpbiBhKWI9Yi5jYXRjaChmdW5jdGlvbihhLGIpe3JldHVybiBuYXZpZ2F0b3IucmVxdWVzdE1lZGlhS2V5U3lzdGVtQWNjZXNzKGEsW2JdKX0uYmluZChudWxsLGMsYVtjXSkpO3JldHVybiBifQpNZS5wcm90b3R5cGUudz1mdW5jdGlvbihhLGIsYyl7aWYoIXRoaXMuYylyZXR1cm4gUmUoKTtmb3IodmFyIGQ9Yy5rZXlTeXN0ZW0sZT1jLmdldENvbmZpZ3VyYXRpb24oKSxmPVsiYXVkaW8iLCJ2aWRlbyJdLGc9MDtnPGYubGVuZ3RoOysrZyl7dmFyIGg9ZltnXTtpZighYi5hLmhhc093blByb3BlcnR5KGgpKXt2YXIgaz1lW2grIkNhcGFiaWxpdGllcyJdO2lmKGspe2Zvcih2YXIgaz1rWzBdLGw9W10sbT17fSxwPTA7cDxhLmxlbmd0aDsrK3Ape3ZhciB0PWFbcF0sdz1rP3QuYj09ay5jb250ZW50VHlwZTp0LmNvbnRlbnRUeXBlPT1oO3QuYS5hIT1kfHwhd3x8dC5pZCBpbiBtfHwobC5wdXNoKHQpLG1bdC5pZF09ITAsdGhpcy5hPXRoaXMuYT9OYih0aGlzLmEsdC5hKTp0LmEpfWIuc2V0KGgsbCl9fX1QZSh0aGlzLmosYik7aWYodGhpcy5jLm1lZGlhS2V5cyl0aGlzLmg9dGhpcy5jLm1lZGlhS2V5cztlbHNlIHJldHVybiBjLmNyZWF0ZU1lZGlhS2V5cygpLnRoZW4oZnVuY3Rpb24oYSl7dGhpcy5oPQphfS5iaW5kKHRoaXMpKX07ZnVuY3Rpb24gU2UoYSl7cmV0dXJuIGEuYz9hLmg/YS5jLnNldE1lZGlhS2V5cyhhLmgpLnRoZW4oSihhLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYz90aGlzLmEuYz90aGlzLmguc2V0U2VydmVyQ2VydGlmaWNhdGUodGhpcy5hLmMpOlByb21pc2UucmVzb2x2ZSgpOlJlKCl9KSkudGhlbihKKGEsZnVuY3Rpb24oKXtpZighdGhpcy5jKXJldHVybiBSZSgpO2Zvcih2YXIgYT0wO2E8dGhpcy5hLmIubGVuZ3RoOysrYSl7dmFyIGM9dGhpcy5hLmJbYV07dGhpcy51KHt0eXBlOiJlbmNyeXB0ZWQiLGluaXREYXRhVHlwZTpjLmluaXREYXRhVHlwZSxpbml0RGF0YTpjLmluaXREYXRhfSl9MD09dGhpcy5hLmIubGVuZ3RoJiZFKHRoaXMuaSx0aGlzLmMsImVuY3J5cHRlZCIsdGhpcy51LmJpbmQodGhpcykpfSkpOlByb21pc2UucmVzb2x2ZSgpOlJlKCl9CmZ1bmN0aW9uIFJlKCl7dmFyIGE9RXJyb3IoIkVtZU1hbmFnZXIgZGVzdHJveWVkIik7YS50eXBlPSJkZXN0cm95IjtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYSl9Ck1lLnByb3RvdHlwZS51PWZ1bmN0aW9uKGEpe3ZhciBiPW5ldyBVaW50OEFycmF5KGEuaW5pdERhdGEpO3RoaXMubCYmdGhpcy5sLmdldEV2ZW50TG9nZ2VyKCJlbmNyeXB0ZWRfc2FtcGxlIikubG9nKCk7Zm9yKHZhciBjPTA7Yzx0aGlzLmIubGVuZ3RoOysrYylpZihNYShiLHRoaXMuYltjXS5kYXRhKSlyZXR1cm47dHJ5e3ZhciBkPVRlKHRoaXMpfWNhdGNoKGUpe2I9QShlKTt0aGlzLmRpc3BhdGNoRXZlbnQoYik7dGhpcy5sJiZ0aGlzLmwuZ2V0RXZlbnRMb2dnZXIoImVtZV9lcnJvciIpLnNldEVycm9yKGUpLmxvZygpO3RoaXMuZy5yZWplY3QoZSk7cmV0dXJufWE9ZC5nZW5lcmF0ZVJlcXVlc3QoYS5pbml0RGF0YVR5cGUsYS5pbml0RGF0YSk7dGhpcy5iLnB1c2goe2RhdGE6Yix1YjpkfSk7YS5jYXRjaChKKHRoaXMsZnVuY3Rpb24oYSl7aWYodGhpcy5jKXtmb3IodmFyIGI9MDtiPHRoaXMuYi5sZW5ndGg7KytiKWlmKHRoaXMuYltiXS51Yj09ZCl7dGhpcy5iLnNwbGljZShiLAoxKTticmVha31iPUEoYSk7dGhpcy5kaXNwYXRjaEV2ZW50KGIpO3RoaXMubCYmdGhpcy5sLmdldEV2ZW50TG9nZ2VyKCJlbWVfZXJyb3IiKS5zZXRFcnJvcihhKS5sb2coKTt0aGlzLmcucmVqZWN0KGEpfX0pKTt0aGlzLmYucHVzaChkKX07ZnVuY3Rpb24gVWUoYSl7Zm9yKHZhciBiPVtdLGM9MDtjPGIubGVuZ3RoOysrYyl7dmFyIGQ9VGUoYSksZT1kLmxvYWQoYltjXSk7YS5mLnB1c2goZCk7ZS50aGVuKEooYSxmdW5jdGlvbigpe3RoaXMubSsrO3RoaXMubT49dGhpcy5mLmxlbmd0aCYmdGhpcy5nLnJlc29sdmUoKX0pKS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7dmFyIGI9QShhKTt0aGlzLmRpc3BhdGNoRXZlbnQoYik7dGhpcy5sJiZ0aGlzLmwuZ2V0RXZlbnRMb2dnZXIoImVtZV9lcnJvciIpLnNldEVycm9yKGEpLmxvZygpfSkpfX0KZnVuY3Rpb24gVGUoYSl7dmFyIGI9bnVsbCxiPWEuaC5jcmVhdGVTZXNzaW9uKCk7RShhLmksYiwibWVzc2FnZSIsYS5ELmJpbmQoYSkpO0UoYS5pLGIsImtleXN0YXR1c2VzY2hhbmdlIixhLkIuYmluZChhKSk7cmV0dXJuIGJ9TWUucHJvdG90eXBlLkQ9ZnVuY3Rpb24oYSl7VmUodGhpcyxhLnRhcmdldCx0aGlzLmEsYS5tZXNzYWdlKX07Ck1lLnByb3RvdHlwZS5CPWZ1bmN0aW9uKGEpe2E9YS50YXJnZXQ7dmFyIGI9e307YS5rZXlTdGF0dXNlcy5mb3JFYWNoKGZ1bmN0aW9uKGEsYyl7aWYoInN0cmluZyI9PT10eXBlb2YgYSl7dmFyIGY9YTthPWM7Yz1mfWlmKCJjb20ubWljcm9zb2Z0LnBsYXlyZWFkeSI9PXRoaXMuYS5hJiYxNj09YS5ieXRlTGVuZ3RoKXt2YXIgZj1uZXcgRGF0YVZpZXcoYSksZz1mLmdldFVpbnQzMigwLCEwKSxoPWYuZ2V0VWludDE2KDQsITApLGs9Zi5nZXRVaW50MTYoNiwhMCk7Zi5zZXRVaW50MzIoMCxnLCExKTtmLnNldFVpbnQxNig0LGgsITEpO2Yuc2V0VWludDE2KDYsaywhMSl9Zj1MYihuZXcgVWludDhBcnJheShhKSk7YltmXT1jfS5iaW5kKHRoaXMpKTtpZihhLmV4cGlyYXRpb248RGF0ZS5ub3coKSl7Zm9yKHZhciBjPTA7Yzx0aGlzLmIubGVuZ3RoOysrYylpZih0aGlzLmJbY10udWI9PWEpe3RoaXMuYi5zcGxpY2UoYywxKTticmVha31hLmNsb3NlKCk7dGhpcy5mLnNwbGljZSh0aGlzLmYuaW5kZXhPZihhKSwKMSl9dGhpcy5sJiZ0aGlzLmwuZ2V0RXZlbnRMb2dnZXIoImVtZV9rZXlfc3RhdHVzX2NoYW5nZSIpLmxvZygpO1dlKHRoaXMuaixiKX07CmZ1bmN0aW9uIFZlKGEsYixjLGQpe2Q9WGUoYyxkKTt2YXIgZT1udWxsO2EubCYmKGU9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigibGljZW5zZV9yZXF1ZXN0Iikuc3RhcnQoKSk7TGUobmV3IEtlKGQudXJsLGQuYm9keSxkLm1ldGhvZCxjLndpdGhDcmVkZW50aWFscyxlLGQuaGVhZGVycyxhLkEpKS50aGVuKEooYSxmdW5jdGlvbihhKXtlJiYoZS5zZXRSZXN1bHQoInN1Y2Nlc3MiKSxlLmxvZygpKTtjLmYmJihhPWMuZihhKSk7ZT1udWxsO3RoaXMubCYmKGU9dGhpcy5sLmdldE9wZXJhdGlvbkxvZ2dlcigiZW1lX3Bvc3RfbGljZW5zZV9zZXNzaW9uX3VwZGF0ZSIpLnN0YXJ0KCkpO251bGw9PT1hfHx2b2lkIDA9PT1hfHwwPT09YS5ieXRlTGVuZ3RoP251bGwhPT1lJiYoZS5zZXRFcnJvcigiZW1wdHkgbGljZW5zZSIpLGUuc2V0UmVzdWx0KCJmYWlsZWQiKS5sb2coKSk6Yi51cGRhdGUoYSkudGhlbihKKHRoaXMsZnVuY3Rpb24oKXtlJiYoZS5zZXRSZXN1bHQoInN1Y2Nlc3MiKSxlLmxvZygpKTsKdmFyIGE9eSh7dHlwZToic2Vzc2lvblJlYWR5IixkZXRhaWw6Yn0pO3RoaXMuZGlzcGF0Y2hFdmVudChhKTt0aGlzLm0rKzt0aGlzLm0+PXRoaXMuZi5sZW5ndGgmJnRoaXMuZy5yZXNvbHZlKCl9KSkuY2F0Y2goSih0aGlzLGZ1bmN0aW9uKGEpe2EudWI9Yjt2YXIgYz1BKGEpO2UmJihlLnNldFJlc3VsdCgiZmFpbGVkIiksZS5zZXRFcnJvcihhKS5sb2coKSk7dGhpcy5kaXNwYXRjaEV2ZW50KGMpfSkpfSkpLmNhdGNoKEooYSxmdW5jdGlvbihhKXtpZihjLmYpe3ZhciBkPUpTT04uc3RyaW5naWZ5KHtkYXRhOlt7ZXJyb3I6YX1dfSksZD1uZXcgVWludDhBcnJheShkLnNwbGl0KCIiKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuY2hhckNvZGVBdCgwKX0pKTtjLmYoZCl9YS51Yj1iO2Q9QShhKTtlJiZlLnNldEVycm9yKGEpLmxvZygpO3RoaXMuZGlzcGF0Y2hFdmVudChkKX0pKX0KZnVuY3Rpb24gWGUoYSxiKXt2YXIgYz17dXJsOmEuaSxib2R5OmIuc2xpY2UoMCksbWV0aG9kOiJQT1NUIixoZWFkZXJzOnt9LGtleV9zeXN0ZW06YS5hfTtpZigiY29tLm1pY3Jvc29mdC5wbGF5cmVhZHkiPT09YS5hKXtmb3IodmFyIGQ9U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLG5ldyBVaW50MTZBcnJheShjLmJvZHkpKSxkPShuZXcgRE9NUGFyc2VyKS5wYXJzZUZyb21TdHJpbmcoZCwiYXBwbGljYXRpb24veG1sIiksZT1kLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJuYW1lIiksZj1kLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJ2YWx1ZSIpLGc9MDtnPGUubGVuZ3RoO2crKyljLmhlYWRlcnNbZVtnXS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZV09ZltnXS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZTtjLmJvZHk9d2luZG93LmF0b2IoZC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiQ2hhbGxlbmdlIilbMF0uY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUpfWlmKCFhLm8pcmV0dXJuIGM7CmEubyhjKTtjLnVybD1ZYShjLCJ1cmwiKTtpZihudWxsPT1jLnVybCl0aHJvdyBFcnJvcigiJ3VybCcgY2Fubm90IGJlIG51bGwuIik7aWYoIShjLmJvZHkgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcnx8InN0cmluZyI9PT10eXBlb2YgYy5ib2R5fHxudWxsPT1jLmJvZHkpKXRocm93IG5ldyBUeXBlRXJyb3IoIidib2R5JyBtdXN0IGJlIGFuIEFycmF5QnVmZmVyLCBhIHN0cmluZywgb3IgbnVsbC4iKTtjLm1ldGhvZD1ZYShjLCJtZXRob2QiKTtpZigiR0VUIiE9Yy5tZXRob2QmJiJQT1NUIiE9Yy5tZXRob2QpdGhyb3cgRXJyb3IoIidtZXRob2QnIG11c3QgYmUgZWl0aGVyICdHRVQnIG9yICdQT1NUJy4iKTtjLmhlYWRlcnM9WmEoYywiaGVhZGVycyIsT2JqZWN0KTtpZihudWxsPT1jLmhlYWRlcnMpdGhyb3cgRXJyb3IoIidoZWFkZXJzJyBjYW5ub3QgYmUgbnVsbC4iKTtyZXR1cm4gY307ZnVuY3Rpb24gVyhhLGIsYyxkLGUsZixnKXtGLmNhbGwodGhpcyxudWxsKTt0aGlzLmI9YTt0aGlzLmY9Yjt0aGlzLmE9bnVsbDt0aGlzLmc9bmV3IGJiO3RoaXMubT10aGlzLmk9bnVsbDt0aGlzLkY9MDt0aGlzLlM9dGhpcy5aPXRoaXMuJD1udWxsO3RoaXMuYmE9Zzt0aGlzLko9bnVsbDt0aGlzLk89dGhpcy5oPSExO3RoaXMuVj10aGlzLlk9ITA7dGhpcy5LPSExO3RoaXMuYz17ZW5hYmxlQWRhcHRhdGlvbjohMCxzdHJlYW1CdWZmZXJTaXplOjE1LGxpdmVTdHJlYW1FbmRUaW1lb3V0OjE1LGxpY2Vuc2VSZXF1ZXN0VGltZW91dDpoYSxtcGRSZXF1ZXN0VGltZW91dDppYSxzZWdtZW50UmVxdWVzdFRpbWVvdXQ6amEscHJlZmVycmVkTGFuZ3VhZ2U6ImVuIixyZXN0cmljdGlvbnM6bmV3IGthfTt0aGlzLmw9Yzt0aGlzLkc9ZDt0aGlzLmNhPWU7dGhpcy5nYT1mO3RoaXMubz1udWxsO3RoaXMuaj0xO3RoaXMuVD1udWxsO3RoaXMudT10aGlzLkE9dGhpcy53PSExO3RoaXMuUj10aGlzLkI9Cm51bGx9cihXLEYpO3EoInNoYWthLnBsYXllci5QbGF5ZXIiLFcpO1cudmVyc2lvbj0idjEuNi40LWZiIjtXLmlzQnJvd3NlclN1cHBvcnRlZD1mdW5jdGlvbigpe3JldHVybiEhd2luZG93Lk1lZGlhU291cmNlJiYhIXdpbmRvdy5VaW50OEFycmF5fTsKVy5wcm90b3R5cGUuQmE9ZnVuY3Rpb24oKXt2YXIgYT17fSxiPXRoaXMuYTtpZihiKXt2YXIgYz1iLlhiKCk7YS5CYW5kd2lkdGhFc3RpbWF0b3I9Yy5CYW5kd2lkdGhFc3RpbWF0b3I7dmFyIGQ9Yy5WaWRlb1NvdXJjZVN0cmVhbTtkJiYoYS5WaWRlb1NvdXJjZVN0cmVhbT1kLChkPWEuVmlkZW9CdWZmZXJNYW5hZ2VyPWQuQmEoKS5Tb3VyY2VCdWZmZXJNYW5hZ2VyKSYmKGEuVmlkZW9Tb3VyY2VCdWZmZXI9ZC5CYSgpLlNvdXJjZUJ1ZmZlcikpOyhkPWEuQXVkaW9Tb3VyY2VTdHJlYW09Yy5BdWRpb1NvdXJjZVN0cmVhbSkmJihkPWEuQXVkaW9CdWZmZXJNYW5hZ2VyPWQuQmEoKS5Tb3VyY2VCdWZmZXJNYW5hZ2VyKSYmKGEuQXVkaW9Tb3VyY2VCdWZmZXI9ZC5CYSgpLlNvdXJjZUJ1ZmZlcik7YS5UZXh0U291cmNlU3RyZWFtPWMuVGV4dFNvdXJjZVN0cmVhbTthLmdldE1hbmlmZXN0PWIuVGIuYmluZChiKX1lbHNlIGEuZ2V0TWFuaWZlc3Q9ZnVuY3Rpb24oKXt9O2EuTmQ9ITA7cmV0dXJuIGF9OwpXLnByb3RvdHlwZS5nZXREZWJ1Zz1XLnByb3RvdHlwZS5CYTtXLnByb3RvdHlwZS5zYT1mdW5jdGlvbihhKXt0aGlzLlk9YX07Vy5wcm90b3R5cGUuc2V0UmVzdW1lQWZ0ZXJCdWZmZXJpbmc9Vy5wcm90b3R5cGUuc2E7ZnVuY3Rpb24gT2UoYSl7cmV0dXJuInRleHQvdnR0Ij09YT8hIXdpbmRvdy5WVFRDdWU6TWVkaWFTb3VyY2UuaXNUeXBlU3VwcG9ydGVkKGEpfVcuaXNUeXBlU3VwcG9ydGVkPU9lO1cuc2V0VGV4dFN0eWxlPWZ1bmN0aW9uKGEpe3ZhciBiPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJTaGFrYVBsYXllclRleHRTdHlsZSIpO2J8fChiPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInN0eWxlIiksYi5pZD0iU2hha2FQbGF5ZXJUZXh0U3R5bGUiLGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoYikpO2ZvcihiPWIuc2hlZXQ7Yi5jc3NSdWxlcy5sZW5ndGg7KWIuZGVsZXRlUnVsZSgwKTtiLmluc2VydFJ1bGUoIjo6Y3VlIHsgIityYShhKSsiIH0iLDApfTsKVy5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3JldHVybiB0aGlzLlUoKS50aGVuKEoodGhpcyxmdW5jdGlvbigpe3RoaXMuZy5kZXN0cm95KCk7dGhpcy5iPXRoaXMuZz1udWxsO3RoaXMuUiYmdGhpcy5SLnJlbW92ZSgpfSkpLmNhdGNoKGZ1bmN0aW9uKCl7fSl9O1cucHJvdG90eXBlLmRlc3Ryb3k9Vy5wcm90b3R5cGUuZGVzdHJveTtXLnByb3RvdHlwZS5VPWZ1bmN0aW9uKCl7dGhpcy5LPSEwO3JldHVybiBaZSh0aGlzKX07Vy5wcm90b3R5cGUudW5sb2FkPVcucHJvdG90eXBlLlU7CmZ1bmN0aW9uIFplKGEpe3ZhciBiO2EubCYmKGI9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigidW5sb2FkIikuc3RhcnQoKSk7aWYoIWEuYSlyZXR1cm4gYiYmYi5sb2coKSxQcm9taXNlLnJlc29sdmUoKTthLmgmJiRlKGEsInVubG9hZGluZyIpO2EuYi5wYXVzZSgpO2RiKGEuZyk7YWYoYSk7YmYoYSk7YS5pJiYoYS5pLmRlc3Ryb3koKSxhLmk9bnVsbCk7YS5hJiYoYS5hLmRlc3Ryb3koKSxhLmE9bnVsbCk7YS5mLmdldEJvb2woInd3d192aWRlb3NfcGxheWJhY2tfcmVtb3ZlX3NyY19hdHRyX29uX3VubG9hZCIsITEpP2EuYi5yZW1vdmVBdHRyaWJ1dGUoInNyYyIpOmEuYi5zcmM9IiI7dmFyIGM9YS5mLmdldEJvb2woInd3d19zaGFrYV9jbGVhcl9tZWRpYV9rZXlzX29uX3VubG9hZCIsITEpJiZhLmIuc2V0TWVkaWFLZXlzJiYiZnVuY3Rpb24iPT09dHlwZW9mIGEuYi5zZXRNZWRpYUtleXM/YS5iLnNldE1lZGlhS2V5cyhudWxsKTpQcm9taXNlLnJlc29sdmUoKSxjPWMudGhlbihmdW5jdGlvbigpe2ImJgpiLmxvZygpO2lmKGEuZi5nZXRCb29sKCJlbmFibGVfcDJwX3N1cHBvcnQiLCExKSl7dmFyIGM9eSh7dHlwZToidW5sb2FkIn0pO2EuZGlzcGF0Y2hFdmVudChjKX19KTthLmg9ITE7YS5PPSExO2EuQT0hMTthLnU9ITE7cmV0dXJuIGN9ZnVuY3Rpb24gY2YoYSxiKXtmb3IodmFyIGM9MDtjPGEubGVuZ3RoO2MrKyliLnB1c2goYVtjXS5jb250ZW50VHlwZSxhW2NdKX1XLnByb3RvdHlwZS5GYT1mdW5jdGlvbihhKXtyZXR1cm4gZGYodGhpcyxhKX07Vy5wcm90b3R5cGUubG9hZD1XLnByb3RvdHlwZS5GYTsKZnVuY3Rpb24gZGYoYSxiKXt2YXIgYzthLmwmJihjPWEubC5nZXRPcGVyYXRpb25Mb2dnZXIoImxvYWQiKS5zZXRTdGF0ZSgibG9hZGluZyIpLnN0YXJ0KCksYi5sPWIuZy5wZXJmb3JtYW5jZUxvZ2dlcj1hLmwpO2EuRyYmKGIuQWI9Yi5nLmFickxvZ2dlcj1hLkcpO2EuYmEmJihiLmlhPWEuYmEpO2EuY2EmJihiLkk9YS5jYSk7YS5nYSYmYi5VLnB1c2goYS5nYSk7ZWYoYixhLmIpO3ZhciBkPW51bGw7YS5LPSExO0UoYS5nLGIsInJlcGxpY2Fzd2l0Y2giLGEubmEuYmluZChhKSk7YS5hJiYoZD1aZShhKS50aGVuKEooYSxmdW5jdGlvbigpe3JldHVybiBiLndiKCl9KSkpO2EuYi5hdXRvcGxheSYmKHUucWEoImxvYWQiKSxFKGEuZyxhLmIsInRpbWV1cGRhdGUiLGEuZWQuYmluZChhKSkpO2IubGMoYS5jKTtiLmxhPWEuVDthLlQ9bnVsbDtkfHwoZD1iLndiKCkpO2EuZi5nZXRCb29sKCJmaXhfc2hha2FfcGxheWVyX2xvYWRfcmFjZV9jb25kaXRpb24iLCExKSYmKGEuYT1iKTtkLmNhdGNoKEooYSwKZnVuY3Rpb24oYSl7Yi5kZXN0cm95KCk7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfSkpO3JldHVybiBkLnRoZW4oSihhLGZ1bmN0aW9uKCl7aWYoZmYodGhpcyxiKSlyZXR1cm4gZ2YoKTt0aGlzLmE9Yjt0aGlzLmcuYWIodGhpcy5hLCJyZXBsaWNhc3dpdGNoIik7RSh0aGlzLmcsdGhpcy5hLCJzZWVrcmFuZ2VjaGFuZ2VkIix0aGlzLnBhLmJpbmQodGhpcykpO0UodGhpcy5nLHRoaXMuYSwiYWxsU3RyZWFtc1N0YXJ0ZWQiLHRoaXMuRmQuYmluZCh0aGlzKSk7dmFyIGE9bmV3IEQ7Y2YoTmUodGhpcy5hKSxhKTtQZSh0aGlzLmEsYSk7YT10aGlzLmVhKCk7YyYmMDxhLmxlbmd0aCYmKGE9YS5yZWR1Y2UoZnVuY3Rpb24oYSxiKXtpZihudWxsPT09YXx8Yi5iYW5kd2lkdGg8YS5iYW5kd2lkdGgpYT1iO3JldHVybiBhfSxudWxsKSxjLnNldExvd2VzdFF1YWxpdHlSZXByZXNlbnRhdGlvbklEKGEuc3RyZWFtSW5mb0lEKSk7aWYoIXRoaXMuYy5lbmFibGVDb250ZW50UHJvdGVjdGlvbilyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7CnRoaXMuaT1uZXcgTWUodGhpcyx0aGlzLmIsdGhpcy5hLHRoaXMubCk7cmV0dXJuIHRoaXMuaS5pbml0aWFsaXplKCl9KSkudGhlbihKKGEsZnVuY3Rpb24oKXtpZihmZih0aGlzLGIpKXJldHVybiBnZigpO2hmKHRoaXMpO0UodGhpcy5nLHRoaXMuYiwicGxheWluZyIsdGhpcy5rZC5iaW5kKHRoaXMpKTtFKHRoaXMuZyx0aGlzLmIsInBhdXNlIix0aGlzLm1hLmJpbmQodGhpcykpO0UodGhpcy5nLHRoaXMuYiwid2FpdGluZyIsdGhpcy5zZC5iaW5kKHRoaXMpKTtFKHRoaXMuZyx0aGlzLmIsInBsYXkiLHRoaXMuaWEuYmluZCh0aGlzKSk7cmV0dXJuIGpmKHRoaXMuYSx0aGlzLHRoaXMuYil9KSkudGhlbihKKGEsZnVuY3Rpb24oKXtpZihmZih0aGlzLGIpKXJldHVybiBnZigpO2lmKHRoaXMuYy5lbmFibGVDb250ZW50UHJvdGVjdGlvbil7dmFyIGE7dGhpcy5sJiYoYT10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJlbWVfYXR0YWNoIikpO3JldHVybiBTZSh0aGlzLmkpLnRoZW4oZnVuY3Rpb24oKXthJiYKYS5sb2coKX0pfXJldHVybiBQcm9taXNlLnJlc29sdmUoKX0pKS50aGVuKEooYSxmdW5jdGlvbigpe2lmKGZmKHRoaXMsYikpcmV0dXJuIGdmKCk7a2YodGhpcyk7YyYmYy51cGRhdGVTdGF0ZSgicmVhZHkiKS5sb2coKX0pKS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7YyYmYy5zZXRFcnJvcihKU09OLnN0cmluZ2lmeShhKSkubG9nKCk7aWYoZmYodGhpcyxiKSlyZXR1cm4gZ2YoKTtpZigiZGVzdHJveSIhPWEudHlwZSl7dmFyIGQ9QShhKTt0aGlzLmRpc3BhdGNoRXZlbnQoZCl9cmV0dXJuIHRoaXMuVSgpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYSl9KX0pKX1mdW5jdGlvbiBmZihhLGIpe3JldHVybiFhLmJ8fGEuS3x8YS5mLmdldEJvb2woImZpeF9zaGFrYV9wbGF5ZXJfbG9hZF9yYWNlX2NvbmRpdGlvbiIsITEpJiZiIT09YS5hfW49Vy5wcm90b3R5cGU7Cm4uRmQ9ZnVuY3Rpb24oKXt2YXIgYSxiO3RoaXMuZi5nZXRCb29sKCJ3d3dfdmlkZW9zX2V4dGVuZGVkX3NwbF9sb2dnaW5nX2Zvcl9jb25uZWN0ZWRfdHYiLCExKSYmdGhpcy5sJiYoYT10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJvbl9hbGxfc3RyZWFtc19zdGFydGVkIiksYj10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJyZXN0b3JlX3ZpZGVvX3BsYXliYWNrX3JhdGUiKSk7dGhpcy5PPSEwO3RoaXMuaD90aGlzLkQoKToodGhpcy5iLnBsYXliYWNrUmF0ZT10aGlzLmosYiYmYi5sb2coKSk7YSYmYS5sb2coKX07ZnVuY3Rpb24gZ2YoKXt2YXIgYT1FcnJvcigiUGxheWVyIGRlc3Ryb3llZCIpO2EudHlwZT0iZGVzdHJveSI7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfQpmdW5jdGlvbiBoZihhKXt2YXIgYj1hLmIucGFyZW50Tm9kZTtiJiZhLmYuZ2V0Qm9vbCgicHJldmVudF9wbGF5aW5nX29uX2luc3VmZmljaWVudF9idWZmZXIiLCExKSYmKGEuUj1ldmVudExpc3RlbmVyQ2FwdHVyZShiLCJwbGF5aW5nIixmdW5jdGlvbihhKXthLnRhcmdldD09PXRoaXMuYiYmdGhpcy5EKGEpfS5iaW5kKGEpKSl9bi5lZD1mdW5jdGlvbigpe3UuZW5kKCJsb2FkIik7dGhpcy5nLmFiKHRoaXMuYiwidGltZXVwZGF0ZSIpfTtuLnNkPWZ1bmN0aW9uKGEpe2xmKHRoaXMpO3RoaXMuZi5nZXRCb29sKCJ1bmlmeV9zdHJlYW1fc3RhcnRfd2l0aF9idWZmZXJfZGV0ZWN0b3IiLCExKSYmIXRoaXMuaCYmdGhpcy5EKGEpfTsKbi5rZD1mdW5jdGlvbigpe3UucWEoInBsYXlpbmciKTt0aGlzLmwmJnRoaXMubC5nZXRFdmVudExvZ2dlcigicGxheWluZyIpLnNldFN0YXRlKCJwbGF5aW5nIikubG9nKCk7IXRoaXMubSYmMD50aGlzLmomJih0aGlzLmIucGxheWJhY2tSYXRlPTAsdGhpcy5QKHRoaXMuYi5jdXJyZW50VGltZSxEYXRlLm5vdygpLHRoaXMuaikpO3RoaXMuaCYmIXRoaXMuViYmJGUodGhpcywicGxheWluZyIpfTtuLkJkPWZ1bmN0aW9uKGEpe3RoaXMudT1hfTtXLnByb3RvdHlwZS5zZXRQZW5kaW5nUGxheVJlcXVlc3Q9Vy5wcm90b3R5cGUuQmQ7Vy5wcm90b3R5cGUuaWE9ZnVuY3Rpb24oKXt0aGlzLnU9ITB9O1cucHJvdG90eXBlLm1hPWZ1bmN0aW9uKCl7dGhpcy5sJiZ0aGlzLmwuZ2V0RXZlbnRMb2dnZXIoInBhdXNlIikuc2V0U3RhdGUoInBhdXNlZCIpLmxvZygpO3UuZW5kKCJwbGF5aW5nIik7dS5nZXQoInBsYXlpbmciKTtiZih0aGlzKX07ClcucHJvdG90eXBlLnBhPWZ1bmN0aW9uKGEpe3RoaXMuRj1hLnN0YXJ0O3RoaXMuJD1hLmxhc3Q7dGhpcy5aPWEuZW5kO3RoaXMuUz1hLnNlZWtSYW5nZUdhcHM7dGhpcy5mLmdldEJvb2woIm5vX3NraXBfZ2Fwc19vbl9zZWVrX3JhbmdlX2NoYW5nZWQiLCExKXx8bGYodGhpcyl9O1cucHJvdG90eXBlLmVhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYT90aGlzLmEuWigpOltdfTtXLnByb3RvdHlwZS5nZXRWaWRlb1RyYWNrcz1XLnByb3RvdHlwZS5lYTtXLnByb3RvdHlwZS54YT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmE/dGhpcy5hLnZhKCk6W119O1cucHJvdG90eXBlLmdldEF1ZGlvVHJhY2tzPVcucHJvdG90eXBlLnhhO1cucHJvdG90eXBlLkRhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYT90aGlzLmEubWMoKTpbXX07Vy5wcm90b3R5cGUuZ2V0VGV4dFRyYWNrcz1XLnByb3RvdHlwZS5EYTsKVy5wcm90b3R5cGUuc2VsZWN0VmlkZW9UcmFjaz1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmE/dGhpcy5hLnNlbGVjdFZpZGVvVHJhY2soYSx2b2lkIDA9PWI/ITA6Yik6ITF9O1cucHJvdG90eXBlLnNlbGVjdFZpZGVvVHJhY2s9Vy5wcm90b3R5cGUuc2VsZWN0VmlkZW9UcmFjaztXLnByb3RvdHlwZS5HYT1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIHRoaXMuYT9tZih0aGlzLmEsImF1ZGlvIixhLHZvaWQgMD09Yj8hMDpiLGMpOiExfTtXLnByb3RvdHlwZS5zZWxlY3RBdWRpb1RyYWNrPVcucHJvdG90eXBlLkdhO1cucHJvdG90eXBlLkhhPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmE/bWYodGhpcy5hLCJ0ZXh0IixhLCExKTohMX07Vy5wcm90b3R5cGUuc2VsZWN0VGV4dFRyYWNrPVcucHJvdG90eXBlLkhhO1cucHJvdG90eXBlLndhPWZ1bmN0aW9uKGEpe3RoaXMuYSYmbmYodGhpcy5hLGEpfTtXLnByb3RvdHlwZS5lbmFibGVUZXh0VHJhY2s9Vy5wcm90b3R5cGUud2E7ClcucHJvdG90eXBlLnJhPWZ1bmN0aW9uKGEpe2JmKHRoaXMpO3RoaXMudyYmdGhpcy5ofHwhKDA8PWEpP3RoaXMuYi5wYXVzZWR8fCh0aGlzLmIucGxheWJhY2tSYXRlPTAsdGhpcy5QKHRoaXMuYi5jdXJyZW50VGltZSxEYXRlLm5vdygpLGEpKTp0aGlzLmIucGxheWJhY2tSYXRlPWE7dGhpcy5qPWF9O1cucHJvdG90eXBlLnNldFBsYXliYWNrUmF0ZT1XLnByb3RvdHlwZS5yYTtXLnByb3RvdHlwZS5rYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmp9O1cucHJvdG90eXBlLmdldFBsYXliYWNrUmF0ZT1XLnByb3RvdHlwZS5rYTtXLnByb3RvdHlwZS5DYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmE/dGhpcy5hLk9iKCk6bnVsbH07Vy5wcm90b3R5cGUuZ2V0TWFuaWZlc3Q9Vy5wcm90b3R5cGUuQ2E7Vy5wcm90b3R5cGUuUGE9ZnVuY3Rpb24oYSl7dGhpcy5UPWF9O1cucHJvdG90eXBlLnNldFBsYXliYWNrU3RhcnRUaW1lPVcucHJvdG90eXBlLlBhOwpXLnByb3RvdHlwZS5JPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYT8hIXRoaXMuYS5QKCk6ITF9O1cucHJvdG90eXBlLmlzTGl2ZT1XLnByb3RvdHlwZS5JOwpXLnByb3RvdHlwZS52YT1mdW5jdGlvbihhKXtpZihhKXt2YXIgYj1CKGEsImVuYWJsZUFkYXB0YXRpb24iKTtudWxsIT1iJiYodGhpcy5jLmVuYWJsZUFkYXB0YXRpb249Yik7Yj1CKGEsImVuZEJ1ZmZlcmluZ09uUGxheWluZyIpO251bGwhPWImJih0aGlzLlY9Yik7Yj1CKGEsInVzZVBsYXliYWNrUmF0ZUZvckJ1ZmZlcmluZyIpO251bGwhPWImJih0aGlzLnc9Yik7Yj1DKGEsInN0cmVhbUJ1ZmZlclNpemUiLDApO251bGwhPWImJih0aGlzLmMuc3RyZWFtQnVmZmVyU2l6ZT1iKTtiPUMoYSwiZHluYW1pY1N0cmVhbUJ1ZmZlclNpemUiLDApO251bGwhPWImJih0aGlzLmMuZHluYW1pY1N0cmVhbUJ1ZmZlclNpemU9Yik7bnVsbCE9YS5zbWFydEJ1ZmZlckFkanVzdG1lbnRQYXJhbXMmJih0aGlzLmMuc21hcnRCdWZmZXJBZGp1c3RtZW50UGFyYW1zPWEuc21hcnRCdWZmZXJBZGp1c3RtZW50UGFyYW1zKTtiPUIoYSwiYWRkQ2RuRGVidWdRdWVyeVBhcmFtZXRlcnMiKTtudWxsIT1iJiYKKHRoaXMuYy5hZGRDZG5EZWJ1Z1F1ZXJ5UGFyYW1ldGVycz1iKTtiPUMoYSwiaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemUiLDApO251bGwhPWImJih0aGlzLmMuaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemU9Yik7Yj1CKGEsImluY2x1ZGVTdHJlYW1CdWZmZXJTaXplSW5TdGFydE9mZnNldCIpO251bGwhPWImJih0aGlzLmMuaW5jbHVkZVN0cmVhbUJ1ZmZlclNpemVJblN0YXJ0T2Zmc2V0PWIpO2I9QyhhLCJqdW1wVG9MaXZlVGhyZXNob2xkIik7bnVsbCE9YiYmKHRoaXMuYy5qdW1wVG9MaXZlVGhyZXNob2xkPWIpO2I9QyhhLCJsaXZlU3RyZWFtRW5kVGltZW91dCIsMCk7bnVsbCE9YiYmKHRoaXMuYy5saXZlU3RyZWFtRW5kVGltZW91dD1iKTtiPUMoYSwibGljZW5zZVJlcXVlc3RUaW1lb3V0IiwwKTtudWxsIT1iJiYodGhpcy5jLmxpY2Vuc2VSZXF1ZXN0VGltZW91dD1iKTtiPUMoYSwibXBkUmVxdWVzdFRpbWVvdXQiLDApO251bGwhPWImJih0aGlzLmMubXBkUmVxdWVzdFRpbWVvdXQ9CmIpO2I9QyhhLCJtaW5NcGRSZWZyZXNoSW50ZXJ2YWwiLDApO251bGwhPWImJih0aGlzLmMubWluTXBkUmVmcmVzaEludGVydmFsPWIpO2I9QihhLCJlbmFibGVMaXZlSW50ZXJydXB0aW9uRGV0ZWN0aW9uIik7bnVsbCE9YiYmKHRoaXMuYy5lbmFibGVMaXZlSW50ZXJydXB0aW9uRGV0ZWN0aW9uPWIpO2I9QihhLCJlbmFibGVNYW5pZmVzdERlYnVnIik7bnVsbCE9YiYmKHRoaXMuYy5lbmFibGVNYW5pZmVzdERlYnVnPWIsRi5wcm90b3R5cGUub2M9YixifHwoRi5wcm90b3R5cGUuTGE9ZnVuY3Rpb24oKXt9KSk7Yj1CKGEsInJlc29sdmVWaWRlb1RpbWVVcGRhdGVPbkZyYWdtZW50ZWRUaW1lUmFuZ2VzIik7bnVsbCE9YiYmKHRoaXMuYy5yZXNvbHZlVmlkZW9UaW1lVXBkYXRlT25GcmFnbWVudGVkVGltZVJhbmdlcz1iKTtiPUMoYSwibGl2ZUludGVycnVwdGlvbkNvbnNlY3V0aXZlVXBkYXRlc1dpdGhvdXRDaGFuZ2UiKTtudWxsIT1iJiYodGhpcy5jLmxpdmVJbnRlcnJ1cHRpb25Db25zZWN1dGl2ZVVwZGF0ZXNXaXRob3V0Q2hhbmdlPQpiKTtiPUMoYSwibGl2ZUludGVycnVwdGlvbkNvbnNlY3V0aXZlVXBkYXRlc1dpdGhDaGFuZ2UiKTtudWxsIT1iJiYodGhpcy5jLmxpdmVJbnRlcnJ1cHRpb25Db25zZWN1dGl2ZVVwZGF0ZXNXaXRoQ2hhbmdlPWIpO2I9QihhLCJyZWFwcGVuZEluaXRTZWdtZW50QWZ0ZXJBYm9ydCIpO251bGwhPWImJih0aGlzLmMucmVhcHBlbmRJbml0U2VnbWVudEFmdGVyQWJvcnQ9Yik7Yj1CKGEsImxpdmVTZW5kUHVzaEhlYWRlcnMiKTtudWxsIT1iJiYodGhpcy5jLmxpdmVTZW5kUHVzaEhlYWRlcnM9Yik7Yj1DKGEsImxpdmVNYXhNYW5pZmVzdEZldGNoZXNXaXRoUHVzaCIpO251bGwhPWImJih0aGlzLmMubGl2ZU1heE1hbmlmZXN0RmV0Y2hlc1dpdGhQdXNoPWIpO2I9QyhhLCJsaXZlTWF4U2VnbWVudHNUb1B1c2giKTtudWxsIT1iJiYodGhpcy5jLmxpdmVNYXhTZWdtZW50c1RvUHVzaD1iKTtiPUMoYSwic2VnbWVudFJlcXVlc3RUaW1lb3V0IiwwKTtudWxsIT1iJiYodGhpcy5jLnNlZ21lbnRSZXF1ZXN0VGltZW91dD0KYik7Yj1ZYShhLCJwcmVmZXJyZWRMYW5ndWFnZSIpO251bGwhPWImJih0aGlzLmMucHJlZmVycmVkTGFuZ3VhZ2U9Yik7Yj1aYShhLCJyZXN0cmljdGlvbnMiLGthKTtudWxsIT1iJiYodGhpcy5jLnJlc3RyaWN0aW9ucz1iLmNsb25lKCkpO2I9YS5saXZlSW5pdGlhbFB1c2hSZXByZXNlbnRhdGlvbjtudWxsIT1iJiYodGhpcy5jLmxpdmVJbml0aWFsUHVzaFJlcHJlc2VudGF0aW9uPWIpO2I9YS5saXZlQXVkaW9QdXNoUmVwcmVzZW50YXRpb247bnVsbCE9YiYmKHRoaXMuYy5saXZlQXVkaW9QdXNoUmVwcmVzZW50YXRpb249Yik7Yj1hLnVzZUlubGluZUluaXRTZWdtZW50O251bGwhPWImJih0aGlzLmMudXNlSW5saW5lSW5pdFNlZ21lbnQ9Yik7Yj1CKGEsImRpc2FibGVDYWNoZUJ1c3RpbmdFdmVuVGhvdWdoSXRNYXlBZmZlY3RCYW5kd2lkdGhFc3RpbWF0aW9uIik7bnVsbCE9YiYmKFRjPSFiKTtiPUIoYSwiY3VycmVudFRpbWVEdXJpbmdSZWFkeVN0YXRlWmVyb1Rocm93cyIpO251bGwhPQpiJiYodGhpcy5jLmN1cnJlbnRUaW1lRHVyaW5nUmVhZHlTdGF0ZVplcm9UaHJvd3M9Yik7Yj1DKGEsImxpdmVEYXRhRmV0Y2hNYXhSZXRyaWVzIik7bnVsbCE9YiYmKHRoaXMuYy5saXZlRGF0YUZldGNoTWF4UmV0cmllcz1iKTtiPUMoYSwibGl2ZVNvdXJjZUJ1ZmZlckNsZWFyTWF4UmV0cmllcyIpO251bGwhPWImJih0aGlzLmMubGl2ZVNvdXJjZUJ1ZmZlckNsZWFyTWF4UmV0cmllcz1iKTtiPUIoYSwidXNlTG9uZ0NhY2hlRm9yTWFuaWZlc3QiKTtudWxsIT1iJiYodGhpcy5jLnVzZUxvbmdDYWNoZUZvck1hbmlmZXN0PWIpO2I9QihhLCJqdW1wVG9FYXJsaWVzdFBvc2l0aW9uSW5DdXJyZW50QmxvY2siKTtudWxsIT1iJiYodGhpcy5jLmp1bXBUb0VhcmxpZXN0UG9zaXRpb25JbkN1cnJlbnRCbG9jaz1iKTtiPUIoYSwiaWdub3JlTWluQnVmZmVyVGltZSIpO251bGwhPWImJih0aGlzLmMuaWdub3JlTWluQnVmZmVyVGltZT1iKTtiPUMoYSwicGxheWhlYWRGcmFnbWVudGVkR2FwRGlmZkFsbG93YW5jZSIpOwpudWxsIT1iJiYodGhpcy5jLnBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2U9Yik7Yj1CKGEsImZpeEJ1ZmZlcmluZ0dvYWxEZXRlcm1pbmF0aW9uIik7bnVsbCE9YiYmKHRoaXMuYy5maXhCdWZmZXJpbmdHb2FsRGV0ZXJtaW5hdGlvbj1iKTtiPUIoYSwic2tpcEVtcHR5U2VnbWVudHMiKTtudWxsIT1iJiYodGhpcy5jLnNraXBFbXB0eVNlZ21lbnRzPWIpOyhiPUIoYSwidXNlTWljcm9UYXNrVGltZW91dHMiKSkmJih0aGlzLmMudXNlTWljcm9UYXNrVGltZW91dHM9Yik7KGI9QihhLCJlbmFibGVSZXF1ZXN0UGlwZWxpbmluZyIpKSYmKHRoaXMuYy5lbmFibGVSZXF1ZXN0UGlwZWxpbmluZz1iKTsoYj1CKGEsImVuYWJsZVN0cmVhbWluZyIpKSYmKHRoaXMuYy5lbmFibGVTdHJlYW1pbmc9Yik7KGE9QihhLCJlbmFibGVDb250ZW50UHJvdGVjdGlvbiIpKSYmKHRoaXMuYy5lbmFibGVDb250ZW50UHJvdGVjdGlvbj1hKTt0aGlzLmEmJnRoaXMuYS5sYyh0aGlzLmMpfX07ClcucHJvdG90eXBlLmNvbmZpZ3VyZT1XLnByb3RvdHlwZS52YTtXLnByb3RvdHlwZS5PYT1mdW5jdGlvbihhKXt0aGlzLmEmJnRoaXMuYS5xYyhhKX07Vy5wcm90b3R5cGUuc2V0RW5hYmxlTGl2ZWhlYWRDYXRjaHVwPVcucHJvdG90eXBlLk9hO1cucHJvdG90eXBlLkVhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYT90aGlzLmEubmE6ITF9O1cucHJvdG90eXBlLmlzTGl2ZWhlYWRDYXRjaHVwRW5hYmxlZD1XLnByb3RvdHlwZS5FYTsKZnVuY3Rpb24gbGYoYSl7aWYoYS5mLmdldEJvb2woInNraXBfbWFuaWZlc3RfZ2FwX2Jhc2VkX29uX3N0cmVhbV9saW1pdHMiLCExKSYmKCFhLkkoKXx8IWEuZi5nZXRCb29sKCJub19za2lwX21hbmlmZXN0X2dhcHNfaWZfbGl2ZSIsITEpKSl7dmFyIGI7YS5mLmdldEJvb2woInNraXBfbWFuaWZlc3RfZ2Fwc191c2VfY2FjaGVkX3N0cmVhbV9saW1pdHMiLCExKT9hLmEmJm51bGwhPT1hLlM/Yj17c3RhcnQ6YS5GLGVuZDphLlosbGFzdDphLiQsWmE6YS5TfTpiPWEuYT9hLmEubmIoKTpudWxsOmI9YS5hP2EuYS5uYigpOm51bGw7aWYoYilmb3IodmFyIGM9YS5mLmdldE51bWJlcigic2tpcF9tYW5pZmVzdF9nYXBfYm91bmRhcnlfcHJlY2lzaW9uX21zIiwxRTMpLzFFMyxkPWIuWmEsZT1hLmIucGxheWJhY2tSYXRlLGY9YS5iLmN1cnJlbnRUaW1lLGc9MDtnPGQubGVuZ3RoOysrZyl7dmFyIGg9ZFtnXS5zdGFydFRpbWUtYyxrPWRbZ10uZW5kVGltZStjO2Y8PWsmJmY+PWgmJihhLmYuZ2V0Qm9vbCgiZml4X3NlZWtfcmFuZ2VfZ2FwX2JvdW5kYXJ5IiwKITEpfHwoaD1kW2ddLnN0YXJ0VGltZSxrPWRbZ10uZW5kVGltZSksMDw9ZT9iLmVuZD5rJiYoYS5iLmN1cnJlbnRUaW1lPWspOmIuc3RhcnQ8aCYmKGEuYi5jdXJyZW50VGltZT1oKSl9fX1XLnByb3RvdHlwZS5sYT1mdW5jdGlvbigpe3ZhciBhPXRoaXMuYSYmdGhpcy5hLm5iKCk7cmV0dXJuKGE9YSYme3N0YXJ0OmEuc3RhcnQsZW5kOmEuZW5kLGxhc3Q6YS5sYXN0LHNlZWtSYW5nZUdhcHM6YS5aYX0pfHxudWxsfTtXLnByb3RvdHlwZS5nZXRWaWRlb1NvdXJjZVN0cmVhbUxpbWl0cz1XLnByb3RvdHlwZS5sYTtXLnByb3RvdHlwZS55YT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmN9O1cucHJvdG90eXBlLmdldENvbmZpZ3VyYXRpb249Vy5wcm90b3R5cGUueWE7ZnVuY3Rpb24gYmYoYSl7YS5tJiYoY2xlYXJUaW1lb3V0KGEubSksYS5tPW51bGwpfQpmdW5jdGlvbiBrZihhKXt2YXIgYjthLmYuZ2V0Qm9vbCgid3d3X3ZpZGVvc19leHRlbmRlZF9zcGxfbG9nZ2luZ19mb3JfY29ubmVjdGVkX3R2IiwhMSkmJmEubCYmKGI9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigic3RhcnRfd2F0Y2hkb2ciKSk7YWYoYSk7YS5KPXNldFRpbWVvdXQoYS5ELmJpbmQoYSksMTAwKTtiJiZiLmxvZygpfWZ1bmN0aW9uIGFmKGEpe3ZhciBiO2EuZi5nZXRCb29sKCJ3d3dfdmlkZW9zX2V4dGVuZGVkX3NwbF9sb2dnaW5nX2Zvcl9jb25uZWN0ZWRfdHYiLCExKSYmYS5sJiYoYj1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJjYW5jZWxfd2F0Y2hkb2ciKSk7YS5KJiYoY2xlYXJUaW1lb3V0KGEuSiksYS5KPW51bGwpO2ImJmIubG9nKCl9ClcucHJvdG90eXBlLlA9ZnVuY3Rpb24oYSxiLGMpe3RoaXMubT1udWxsO3ZhciBkPShEYXRlLm5vdygpLWIpLzFFMypjO3RoaXMuYi5jdXJyZW50VGltZTx0aGlzLkYrKHRoaXMuSSgpPzE6LjA1KT90aGlzLmIucGF1c2UoKTooZD1NYXRoLm1heCh0aGlzLkYsYStkKSx0aGlzLmIuY3VycmVudFRpbWU9ZCx0aGlzLm09c2V0VGltZW91dCh0aGlzLlAuYmluZCh0aGlzLGEsYixjKSwyNTApKX07ZnVuY3Rpb24gb2YoYSl7cmV0dXJuIGEuZi5nZXRCb29sKCJ1bmlmeV9zdHJlYW1fc3RhcnRfd2l0aF9idWZmZXJfZGV0ZWN0b3IiLCExKSYmIWEuT30KZnVuY3Rpb24gJGUoYSxiKXtpZighb2YoYSkpe3UuZW5kKCJidWZmZXJpbmciKTtudWxsIT09YS5CJiYoYS5CPW51bGwpO2EubyYmKGEuby5zZXRDb25jbHVkZXIoYikubG9nKCksYS5vPW51bGwpO2lmKGEuRyl7dmFyIGM9RGF0ZS5ub3coKTthLkcuc2V0RXZlbnQoImJ1ZmZlcmluZyIpLnNldENsaWVudFRpbWVCZWdpbihNYXRoLnJvdW5kKGMtdS5nZXQoImJ1ZmZlcmluZyIpKSkuc2V0Q2xpZW50VGltZUVuZChNYXRoLnJvdW5kKGMpKS5sb2coKX1hLncmJihhLmIucGxheWJhY2tSYXRlPWEuaik7YS5oPSExO2EuZGlzcGF0Y2hFdmVudCh5KHt0eXBlOiJidWZmZXJpbmdFbmQifSkpO2EuQSYmKGEuQT0hMSxkaXNwYXRjaERvbUV2ZW50KGEuYiwicGxheWluZyIpKTthLnU9ITF9fVcucHJvdG90eXBlLmphPWZ1bmN0aW9uKGEpe3RoaXMuZGlzcGF0Y2hFdmVudCh5KGEpKX07Vy5wcm90b3R5cGUuZGlzcGF0Y2hFdmVudEV4dGVybj1XLnByb3RvdHlwZS5qYTsKZnVuY3Rpb24gcGYoYSl7dmFyIGI9YS5iLmJ1ZmZlcmVkO2lmKDE9PT1iLmxlbmd0aCliPWIuZW5kKDApO2Vsc2UgaWYoMD09PWIubGVuZ3RoKWI9MDtlbHNle2Zvcih2YXIgYz0wLGQ9MDtkPGIubGVuZ3RoOysrZCliLmVuZChkKT49YS5iLmN1cnJlbnRUaW1lJiYoYz1iLnN0YXJ0KGQpPD1hLmIuY3VycmVudFRpbWU/YysoYi5lbmQoZCktYS5iLmN1cnJlbnRUaW1lKTpjKyhiLmVuZChkKS1iLnN0YXJ0KGQpKSk7cmV0dXJuIGN9cmV0dXJuIE1hdGgubWF4KGItYS5iLmN1cnJlbnRUaW1lLDApfQpXLnByb3RvdHlwZS5EPWZ1bmN0aW9uKGEpe2lmKCF0aGlzLmYuZ2V0Qm9vbCgicHJldmVudF9wbGF5aW5nX29uX2luc3VmZmljaWVudF9idWZmZXIiLCExKXx8IXRoaXMuSyl7a2YodGhpcyk7dmFyIGI9YT9hLnR5cGU6IiIsYz0id2FpdGluZyI9PT1iO2lmKCF0aGlzLmIuZW5kZWQmJiF0aGlzLmIuc2Vla2luZ3x8Yyl7dmFyIGQ7dGhpcy5mLmdldEJvb2woInd3d192aWRlb3NfZXh0ZW5kZWRfc3BsX2xvZ2dpbmdfZm9yX2Nvbm5lY3RlZF90diIsITEpJiZ0aGlzLmwmJihkPXRoaXMubC5nZXRPcGVyYXRpb25Mb2dnZXIoIndhdGNoZG9nIikpO3ZhciBlPXRoaXMuYi5idWZmZXJlZCxmPWUubGVuZ3RoP2UuZW5kKGUubGVuZ3RoLTEpOjAsZzt0aGlzLmYuZ2V0Qm9vbCgiZml4X3Vuc3RhbGxfYnVmZmVyX2NhbGN1bGF0aW9uIiwhMSk/Zz1wZih0aGlzKTpnPU1hdGgubWF4KGYtdGhpcy5iLmN1cnJlbnRUaW1lLDApO3ZhciBoPXRoaXMuYi5jdXJyZW50VGltZSxlPXRoaXMuSSgpP3RoaXMuZi5nZXROdW1iZXIoImxpdmVfYnVmZmVyaW5nX3VuZGVyZmxvd190aHJlc2hvbGQiLAouNSk6dGhpcy5mLmdldE51bWJlcigiYnVmZmVyaW5nX3VuZGVyZmxvd190aHJlc2hvbGQiLDApLGs9dGhpcy5iLmR1cmF0aW9uLGs9aXNOYU4oayk/MDpNYXRoLm1heChrLS4wNSwwKSxmPWY+PWt8fGg+PWssYj1ifHwid2F0Y2hkb2dfdGltZXIiO2lmKHRoaXMuaCl7cWYodGhpcyxhKTthPXJmKHRoaXMuYSk7dmFyIGw9MDxhP2cvYTowO2c+YXx8c2YodGhpcy5hKXx8dGhpcy5mLmdldEJvb2woImZpeF9idWZmZXJpbmdfYXRfdGhlX2VuZF9vZl9wbGF5YmFjayIsITApJiZmPygkZSh0aGlzLGIpLHRoaXMuWSYmIXRoaXMudyYmdGhpcy5iLnBsYXkoKSk6dGhpcy5CIT09bCYmKHRoaXMuQj1sLHRoaXMuZGlzcGF0Y2hFdmVudCh5KHt0eXBlOiJidWZmZXJpbmdQcm9ncmVzcyIscHJvZ3Jlc3M6bH0pKSl9ZWxzZSB0aGlzLmIucGF1c2VkJiYhY3x8ISghZiYmZzxlfHxvZih0aGlzKSl8fCh0aGlzLmg9ITAsdGhpcy53P3RoaXMuYi5wbGF5YmFja1JhdGU9MDp0aGlzLmIucGF1c2UoKSx0aGlzLmwmJgohdGhpcy5vJiYoZz10aGlzLmIuYnVmZmVyZWQsZz1nLmxlbmd0aD9nLmVuZChnLmxlbmd0aC0xKTowLHRoaXMuZi5nZXRCb29sKCJmaXhfdW5zdGFsbF9idWZmZXJfY2FsY3VsYXRpb24iLCExKT9sPXBmKHRoaXMpOmw9TWF0aC5tYXgoZy10aGlzLmIuY3VycmVudFRpbWUsMCksZz0xRTMqKHJmKHRoaXMuYSktbCksdGhpcy5vPXRoaXMubC5nZXRPcGVyYXRpb25Mb2dnZXIoImJ1ZmZlcmluZyIpLnNldExlbmd0aChNYXRoLnJvdW5kKGcpKS5zZXRUeXBlKHRoaXMudT8ic3RhcnQvdW5wYXVzZSI6ImluX3BsYXkiKS5zZXRJbml0aWF0b3IoYikuc3RhcnQoKSksdS5xYSgiYnVmZmVyaW5nIiksdGhpcy5kaXNwYXRjaEV2ZW50KHkoe3R5cGU6ImJ1ZmZlcmluZ1N0YXJ0In0pKSx0aGlzLmYuZ2V0Qm9vbCgibm9fc2tpcF9nYXBzX29uX2J1ZmZlcmluZyIsITEpfHxsZih0aGlzKSxxZih0aGlzLGEpKSxzZih0aGlzLmEpJiYkZSh0aGlzLGIpO2QmJmQubG9nKCl9ZWxzZSB0aGlzLmYuZ2V0Qm9vbCgiZml4X2ZmX2luX3BsYXlfc3RhbGxfdXBvbl9zZWVrIiwKITEpJiZxZih0aGlzLGEpfX07Vy5wcm90b3R5cGUubmE9ZnVuY3Rpb24oYSl7dGhpcy5kaXNwYXRjaEV2ZW50KGEpfTtmdW5jdGlvbiBxZihhLGIpe2ImJiJwbGF5aW5nIj09PWIudHlwZSYmKGEuQT0hMCxldmVudEtpbGwoYikpfVcucHJvdG90eXBlLnRhPWZ1bmN0aW9uKGEpe2lmKHRoaXMuYSl7dmFyIGI9dGhpcy5hO2IuYy52aWRlbyYmYi5jLnZpZGVvLkpjKGEpfX07Vy5wcm90b3R5cGUuc2V0VmlkZW9TdHJlYW1PZmZzZXQ9Vy5wcm90b3R5cGUudGE7ZnVuY3Rpb24gdGYoYSl7Zm9yKHZhciBiPTA7YjxhLmxlbmd0aDsrK2IpZm9yKHZhciBjPWFbYl0sZD0wO2Q8Yy5hLmxlbmd0aDsrK2Qpe2Zvcih2YXIgZT1jLmFbZF0sZj1lLGc9L3ZpZGVvXC93ZWJtOyBjb2RlY3M9ImF2MDEuKiIvLGg9ITEsaz0wO2s8Zi52Lmxlbmd0aDsrK2spe3ZhciBsPWYudltrXTtPZShOZChsKSk/Zy50ZXN0KE5kKGwpKSYmKGg9ITApOihmLnYuc3BsaWNlKGssMSksLS1rKX1pZihoKWZvcihrPTA7azxmLnYubGVuZ3RoOysraylsPWYudltrXSxnLnRlc3QoTmQobCkpfHwoZi52LnNwbGljZShrLDEpLC0tayk7MD09ZS52Lmxlbmd0aCYmKGMuYS5zcGxpY2UoZCwxKSwtLWQpfWZvcihiPTA7YjxhLmxlbmd0aDsrK2IpZm9yKGM9YVtiXSxkPTA7ZDxjLmEubGVuZ3RoOysrZCljLmFbZF0udi5zb3J0KHVmKX0KZnVuY3Rpb24gdWYoYSxiKXt2YXIgYz1hLmJhbmR3aWR0aHx8TnVtYmVyLk1BWF9WQUxVRSxkPWIuYmFuZHdpZHRofHxOdW1iZXIuTUFYX1ZBTFVFO3JldHVybiBjPGQ/LTE6Yz5kPzE6MH07ZnVuY3Rpb24gdmYoYSl7dGhpcy5hPWF9dmYucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmEuZGVzdHJveSgpO3RoaXMuYT1udWxsfTt2Zi5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKGEpe3ZhciBiPXdmKGEsbnVsbCksYz13Zih0aGlzLmEsYSk7cmV0dXJuIFByb21pc2UuYWxsKFtiLGNdKS50aGVuKEoodGhpcyxmdW5jdGlvbihiKXt2YXIgYz1iWzBdO2I9YlsxXTt0Zih0aGlzLmEuYSk7YS5iJiYhdGhpcy5hLmImJihhLmg9ITApO2EuYz10aGlzLmEuYzthLmk9dGhpcy5hLmk/dGhpcy5hLmkuY2xvbmUoKTpudWxsO2EuZz10aGlzLmEuZzt2YXIgZj1bXTt4ZihhLHRoaXMuYSxjLGIsZik7dGYoYS5hKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGYpfSkpfTsKZnVuY3Rpb24gd2YoYSxiKXtmdW5jdGlvbiBjKGEsYil7cmV0dXJuIGEuY29uY2F0KGIpfXZhciBkPWEuYS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuYX0pLnJlZHVjZShjLFtdKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEudn0pLnJlZHVjZShjLFtdKTtpZihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInRlbXBsYXRlZF9sYXN0X3hfdGltZWxpbmUiLCExKSYmYil2YXIgZT1iLmEubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLmF9KS5yZWR1Y2UoYyxbXSkubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLnZ9KS5yZWR1Y2UoYyxbXSkubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLk0uY3JlYXRlKCl9KSxlPVByb21pc2UuYWxsKGUpLnRoZW4oZnVuY3Rpb24oYSl7Zm9yKHZhciBiPU51bWJlci5QT1NJVElWRV9JTkZJTklUWSxjPTA7YzxhLmxlbmd0aDsrK2Mpe3ZhciBlPWFbY107ZS5sZW5ndGgoKSYmZS5sYXN0KCkudW5zY2FsZWRTdGFydFRpbWU8YiYmKGI9ZS5sYXN0KCkudW5zY2FsZWRTdGFydFRpbWUpfWI9CmEubGVuZ3RoP2I6bnVsbDthPWQubWFwKGZ1bmN0aW9uKGEpe2EuTS5FYyYmYS5NLkVjKGIpO3JldHVybiBhLk0uY3JlYXRlKCl9KTtyZXR1cm4gUHJvbWlzZS5hbGwoYSl9KTtlbHNlIGU9ZC5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuTS5jcmVhdGUoKX0pLGU9UHJvbWlzZS5hbGwoZSk7cmV0dXJuIGUudGhlbihmdW5jdGlvbihhKXtmb3IodmFyIGI9e30sYz0wO2M8ZC5sZW5ndGg7KytjKWJbZFtjXS5YXT1hW2NdO3JldHVybiBQcm9taXNlLnJlc29sdmUoYil9KX0KZnVuY3Rpb24geGYoYSxiLGMsZCxlKXt2YXIgZj1uZXcgRDthLmEuZm9yRWFjaChmdW5jdGlvbihhLGIpe2YucHVzaChhLmlkfHwiIitiLGEpfSk7dmFyIGc9bmV3IEQ7Yi5hLmZvckVhY2goZnVuY3Rpb24oYSxiKXtnLnB1c2goYS5pZHx8IiIrYixhKX0pO2E9YWIoZik7Zm9yKGI9MDtiPGEubGVuZ3RoOysrYil7dmFyIGg9YVtiXSxrPWYuZ2V0KGgpOzE8ay5sZW5ndGh8fChoPWcuZ2V0KGgpKSYmMCE9aC5sZW5ndGgmJjE9PWgubGVuZ3RoJiYoeWYoa1swXSxoWzBdLGMsZCxlKSxrWzBdLmR1cmF0aW9uPWhbMF0uZHVyYXRpb24pfX0KZnVuY3Rpb24geWYoYSxiLGMsZCxlKXt2YXIgZj1uZXcgRDthLmEuZm9yRWFjaChmdW5jdGlvbihhLGIpe2YucHVzaChhLmlkfHwiIitiLGEpfSk7dmFyIGc9bmV3IEQ7Yi5hLmZvckVhY2goZnVuY3Rpb24oYSxiKXtnLnB1c2goYS5pZHx8IiIrYixhKX0pO2E9YWIoZik7Zm9yKGI9MDtiPGEubGVuZ3RoOysrYil7dmFyIGg9YVtiXSxrPWYuZ2V0KGgpOzE8ay5sZW5ndGh8fChoPWcuZ2V0KGgpKSYmMCE9aC5sZW5ndGgmJjE9PWgubGVuZ3RoJiZ6ZihrWzBdLGhbMF0sYyxkLGUpfX0KZnVuY3Rpb24gemYoYSxiLGMsZCxlKXt2YXIgZj1uZXcgRDthLnYuZm9yRWFjaChmdW5jdGlvbihhLGIpe2YucHVzaChhLmlkfHwiIitiLGEpfSk7dmFyIGc9bmV3IEQ7Yi52LmZvckVhY2goZnVuY3Rpb24oYSxiKXtnLnB1c2goYS5pZHx8IiIrYixhKX0pO2I9e307Zm9yKHZhciBoPWFiKGYpLGs9MDtrPGgubGVuZ3RoOysrayl7dmFyIGw9aFtrXTtiW2xdPWw7dmFyIG09Zi5nZXQobCk7MTxtLmxlbmd0aHx8KChsPWcuZ2V0KGwpKSYmMCE9bC5sZW5ndGg/MT09bC5sZW5ndGgmJihCZihtWzBdLGxbMF0sYyxkKSxtWzBdLmFhPWxbMF0uYWEsbFswXS5hYT1udWxsLG1bMF0uYT1sWzBdLmEsVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJyZWZyZXNoX2JhbmR3aWR0aF9mcm9tX2xpdmVfbWFuaWZlc3QiLCExKSYmKG1bMF0uYmFuZHdpZHRoPWxbMF0uYmFuZHdpZHRoKSk6KGUucHVzaChtWzBdKSxhLnYuc3BsaWNlKGEudi5pbmRleE9mKG1bMF0pLDEpKSl9aD1hYihnKTsKZm9yKGs9MDtrPGgubGVuZ3RoOysraylsPWhba10sYltsXXx8KGJbbF09bCxsPWcuZ2V0KGwpLGEudi5wdXNoKGxbMF0pKX1mdW5jdGlvbiBCZihhLGIsYyxkKXthPWNbYS5YXTtjPWRbYi5YXTtkPShiPWEubGVuZ3RoKCkpP2EubGFzdCgpLmVuZFRpbWU6MDtpZihhLkIoYykpe2M9YS5sZW5ndGgoKTt2YXIgZT0hMTtWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInJvYnVzdF9jb3VudF9jaGFuZ2VzIiwhMSkmJihlPSEhYyYmYS5sYXN0KCkuZW5kVGltZT5kKTthLmcucHVzaChiIT09Y3x8ZSk7NTA8YS5nLmxlbmd0aCYmYS5nLnNoaWZ0KCl9fTtmdW5jdGlvbiBYKCl7dGhpcy5hPXRoaXMuYj1udWxsO3RoaXMuZj1uZXcgYmI7dGhpcy5jPU51bWJlci5QT1NJVElWRV9JTkZJTklUWTt0aGlzLmk9ITA7dGhpcy5nPSExfXEoInNoYWthLm1lZGlhLlNpbXBsZUFick1hbmFnZXIiLFgpO1gucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmYuZGVzdHJveSgpO3RoaXMuYT10aGlzLmI9dGhpcy5mPW51bGx9O1gucHJvdG90eXBlLmluaXRpYWxpemU9ZnVuY3Rpb24oYSxiKXt0aGlzLmJ8fHRoaXMuYXx8KHRoaXMuYj1hLHRoaXMuYT1iKX07ClgucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKCl7dGhpcy5iJiZ0aGlzLmEmJiF0aGlzLmcmJih0aGlzLmM9RGF0ZS5ub3coKSs0RTMsRSh0aGlzLmYsdGhpcy5iLmdldEVzdGltYXRvcigpLCJiYW5kd2lkdGgiLHRoaXMubS5iaW5kKHRoaXMpKSxFKHRoaXMuZix0aGlzLmEsImFkYXB0YXRpb24iLHRoaXMuai5iaW5kKHRoaXMpKSxFKHRoaXMuZix0aGlzLmEsInRyYWNrc2NoYW5nZWQiLHRoaXMuaC5iaW5kKHRoaXMpKSx0aGlzLmc9ITApfTtYLnByb3RvdHlwZS5lbmFibGU9ZnVuY3Rpb24oYSl7dGhpcy5pPWF9O1gucHJvdG90eXBlLmdldEluaXRpYWxWaWRlb1RyYWNrSWQ9ZnVuY3Rpb24oKXtpZighdGhpcy5ifHwhdGhpcy5hKXJldHVybiBudWxsO3ZhciBhPUNmKHRoaXMpO3JldHVybiBhP2EuaWQ6bnVsbH07WC5wcm90b3R5cGUuZ2V0SW5pdGlhbFN3aXRjaFJlYXNvbj1mdW5jdGlvbigpe3JldHVybiBudWxsfTtYLnByb3RvdHlwZS5nZXRJbml0aWFsQXVkaW9UcmFja0lkPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9OwpYLnByb3RvdHlwZS5zZWxlY3RWaWRlb1RyYWNrPWZ1bmN0aW9uKGEsYixjKXt0aGlzLmcmJnRoaXMuYS5zZWxlY3RWaWRlb1RyYWNrKGEuaWQsYixjKX07WC5wcm90b3R5cGUubT1mdW5jdGlvbigpe0RhdGUubm93KCk8dGhpcy5jfHx0aGlzLmgoKX07WC5wcm90b3R5cGUuaD1mdW5jdGlvbigpe2lmKHRoaXMuaSl7dmFyIGE9Q2YodGhpcyk7aWYoYSl7aWYoYS5hY3RpdmUpe3RoaXMuYz1EYXRlLm5vdygpKzNFMztyZXR1cm59dGhpcy5zZWxlY3RWaWRlb1RyYWNrKGEsITEpfXRoaXMuYz1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFl9fTtYLnByb3RvdHlwZS5qPWZ1bmN0aW9uKCl7dGhpcy5jPT1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkmJih0aGlzLmM9RGF0ZS5ub3coKSszRTQpfTsKZnVuY3Rpb24gQ2YoYSl7dmFyIGI9YS5hLlooKTtpZigwPT1iLmxlbmd0aClyZXR1cm4gbnVsbDtiLnNvcnQodmEpO3ZhciBjO2E6e2M9YS5hLnZhKCk7Zm9yKHZhciBkPTA7ZDxjLmxlbmd0aDsrK2QpaWYoY1tkXS5hY3RpdmUpe2M9Y1tkXTticmVhayBhfWM9bnVsbH1jPWM/Yy5iYW5kd2lkdGg6MDthPWEuYi5nZXRCYW5kd2lkdGgoKTtmb3IodmFyIGQ9YlswXSxlPTA7ZTxiLmxlbmd0aDsrK2Upe3ZhciBmPWJbZV0sZz1lKzE8Yi5sZW5ndGg/YltlKzFdOntiYW5kd2lkdGg6TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZfTtpZihmLmJhbmR3aWR0aCYmKGc9KGcuYmFuZHdpZHRoK2MpLy44NSxhPj0oZi5iYW5kd2lkdGgrYykvLjk1JiZhPD1nJiYoZD1mLGQuYWN0aXZlKSkpYnJlYWt9cmV0dXJuIGR9O2Z1bmN0aW9uIFkoYSxiLGMsZCl7Ri5jYWxsKHRoaXMsbnVsbCk7dGhpcy5iPWE7dGhpcy5hPWI7dGhpcy53YT1jO3RoaXMua2I9bmV3IFZpZGVvUGxheWVyTG9jYWxCYW5kd2lkdGhFc3RpbWF0b3IodGhpcyxjLGIpO3RoaXMuaD1uZXcgYmI7dGhpcy5pPW5ldyBNZWRpYVNvdXJjZTt0aGlzLmJhPXRoaXMudmlkZW89bnVsbDt0aGlzLkJiPTA7dGhpcy5uYz10aGlzLlpiPSExO3RoaXMuTGI9aWE7dGhpcy5BYj10aGlzLlY9dGhpcy5pYT10aGlzLmw9bnVsbDt0aGlzLktiPTM7dGhpcy5yYT10aGlzLiRiPXRoaXMuRmE9dGhpcy5FYT0hMTt0aGlzLlBhPTA7dGhpcy5kYT1uZXcgVmlkZW9QdXNoVHJhY2tlcjt0aGlzLmdhPW51bGw7dGhpcy5pYz0xO3RoaXMuZ2M9SW5maW5pdHk7dGhpcy5VYj10aGlzLlNiPSExO3RoaXMucGE9dGhpcy5PYT1udWxsO3RoaXMuV2I9dGhpcy5WYj10aGlzLkdhPXRoaXMuY2M9dGhpcy5tYT0hMTt0aGlzLmY9bmV3IEQ7dGhpcy5BPWQ7dGhpcy5BLmluaXRpYWxpemUodGhpcy5rYiwKdGhpcyk7dGhpcy5PPSExO3RoaXMuUz0iZW4iO3RoaXMueWE9ITE7dGhpcy5KPW5ldyBJO3RoaXMuSWI9bmV3IEk7dGhpcy5tPW5ldyBrYTt0aGlzLkQ9bnVsbDt0aGlzLmtjPTE7dGhpcy5jPXt9O3RoaXMuc2E9bmV3IEk7dGhpcy5qYT0wO3RoaXMuZ2I9MTVFMzt0aGlzLmo9bnVsbDt0aGlzLmVjPSExO3RoaXMuZGM9MDt0aGlzLkNhPSExO3RoaXMuQj17fTt0aGlzLmxhPXRoaXMua2E9dGhpcy51PW51bGw7dGhpcy5nPXt9O3RoaXMuJD0hMTt0aGlzLmZjPTA7dGhpcy5LPXRoaXMuYS5nZXROdW1iZXIoImJ1ZmZlcmluZ19vdmVyZmxvd190aHJlc2hvbGQiLDApO3RoaXMucGM9bnVsbDt0aGlzLm89e307dGhpcy53PXt9O3RoaXMuUj1udWxsO3RoaXMuVT1bXTt0aGlzLlQ9dGhpcy5JPW51bGw7dGhpcy5HPW5ldyBOZXR3b3JrU3RhdHVzRGV0ZWN0b3I7dGhpcy5oYz0hMTt0aGlzLm5hPSEwO3RoaXMuZWE9ITE7dGhpcy51Yz1uZXcgU3Vic2NyaXB0aW9uc0hhbmRsZXI7dGhpcy5ZYj0hMTsKdGhpcy54YT0xO3RoaXMuSWQ9dGhpcy5hLmdldE51bWJlcigic3RyZWFtX21heGltdW1fb25wYXVzZV9idWZmZXJfc2l6ZV9tdWx0aXBsaWVyIiwwKTt0aGlzLmNhPW51bGw7dGhpcy5hLmdldEJvb2woImFsbG93X2luZmluaXRlX3JldHJ5X29uX25ldF9lcnIiLCEwKSYmdGhpcy51Yy5hZGRTdWJzY3JpcHRpb25zKHRoaXMuRy5hZGRMaXN0ZW5lcigibmV0d29ya0ludGVycnVwdGVkIix0aGlzLlRjLHRoaXMpLHRoaXMuRy5hZGRMaXN0ZW5lcigibmV0d29ya1Jlc3VtZWQiLHRoaXMuVWMsdGhpcyksdGhpcy5HLmFkZExpc3RlbmVyKCJzeXN0ZW1XYWtlIix0aGlzLlZjLHRoaXMpKX1yKFksRik7cSgic2hha2EucGxheWVyLlN0cmVhbVZpZGVvU291cmNlIixZKTtZLnByb3RvdHlwZS5YYj1mdW5jdGlvbigpe3JldHVybntWaWRlb1NvdXJjZVN0cmVhbTp0aGlzLmMudmlkZW8sQXVkaW9Tb3VyY2VTdHJlYW06dGhpcy5jLmF1ZGlvLFRleHRTb3VyY2VTdHJlYW06dGhpcy5jLnRleHQsQmFuZHdpZHRoRXN0aW1hdG9yOnRoaXMud2F9fTsKWS5wcm90b3R5cGUuZ2V0U3RyZWFtRGVidWc9WS5wcm90b3R5cGUuWGI7WS5wcm90b3R5cGUuUGM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iP3RoaXMuYi53OiJub25lIn07WS5wcm90b3R5cGUuZ2V0TXBkQXVkaW9Db25maWc9WS5wcm90b3R5cGUuUGM7ClkucHJvdG90eXBlLmxjPWZ1bmN0aW9uKGEpe251bGwhPWEuc3RyZWFtQnVmZmVyU2l6ZSYmKHRoaXMuZy5zdHJlYW1CdWZmZXJTaXplPWEuc3RyZWFtQnVmZmVyU2l6ZSk7bnVsbCE9YS5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZSYmKHRoaXMuZy5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZT1hLmluaXRpYWxTdHJlYW1CdWZmZXJTaXplKTtudWxsIT1hLmR5bmFtaWNTdHJlYW1CdWZmZXJTaXplJiYodGhpcy5nLmR5bmFtaWNTdHJlYW1CdWZmZXJTaXplPWEuZHluYW1pY1N0cmVhbUJ1ZmZlclNpemUpO251bGwhPWEuc21hcnRCdWZmZXJBZGp1c3RtZW50UGFyYW1zJiYodGhpcy5nLnNtYXJ0QnVmZmVyQWRqdXN0bWVudFBhcmFtcz1hLnNtYXJ0QnVmZmVyQWRqdXN0bWVudFBhcmFtcyk7bnVsbCE9YS5hZGRDZG5EZWJ1Z1F1ZXJ5UGFyYW1ldGVycyYmKHRoaXMuZy5hZGRDZG5EZWJ1Z1F1ZXJ5UGFyYW1ldGVycz1hLmFkZENkbkRlYnVnUXVlcnlQYXJhbWV0ZXJzKTtudWxsIT1hLnNlZ21lbnRSZXF1ZXN0VGltZW91dCYmCih0aGlzLmcuc2VnbWVudFJlcXVlc3RUaW1lb3V0PWEuc2VnbWVudFJlcXVlc3RUaW1lb3V0KTtudWxsIT1hLnJlc29sdmVWaWRlb1RpbWVVcGRhdGVPbkZyYWdtZW50ZWRUaW1lUmFuZ2VzJiYodGhpcy5nLnJlc29sdmVWaWRlb1RpbWVVcGRhdGVPbkZyYWdtZW50ZWRUaW1lUmFuZ2VzPWEucmVzb2x2ZVZpZGVvVGltZVVwZGF0ZU9uRnJhZ21lbnRlZFRpbWVSYW5nZXMpO251bGwhPWEucmVhcHBlbmRJbml0U2VnbWVudEFmdGVyQWJvcnQmJih0aGlzLmcucmVhcHBlbmRJbml0U2VnbWVudEFmdGVyQWJvcnQ9YS5yZWFwcGVuZEluaXRTZWdtZW50QWZ0ZXJBYm9ydCk7bnVsbCE9YS5saXZlRGF0YUZldGNoTWF4UmV0cmllcyYmKHRoaXMuZy5saXZlRGF0YUZldGNoTWF4UmV0cmllcz1hLmxpdmVEYXRhRmV0Y2hNYXhSZXRyaWVzKTtudWxsIT1hLmxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXMmJih0aGlzLmcubGl2ZVNvdXJjZUJ1ZmZlckNsZWFyTWF4UmV0cmllcz1hLmxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXMpOwpudWxsIT1hLnBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2UmJih0aGlzLmcucGxheWhlYWRGcmFnbWVudGVkR2FwRGlmZkFsbG93YW5jZT1hLnBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2UpO251bGwhPWEuZml4QnVmZmVyaW5nR29hbERldGVybWluYXRpb24mJih0aGlzLmcuZml4QnVmZmVyaW5nR29hbERldGVybWluYXRpb249YS5maXhCdWZmZXJpbmdHb2FsRGV0ZXJtaW5hdGlvbik7bnVsbCE9YS5za2lwRW1wdHlTZWdtZW50cyYmKHRoaXMuZy5za2lwRW1wdHlTZWdtZW50cz1hLnNraXBFbXB0eVNlZ21lbnRzKTtudWxsIT1hLnVzZU1pY3JvVGFza1RpbWVvdXRzJiYodGhpcy5nLnVzZU1pY3JvVGFza1RpbWVvdXRzPWEudXNlTWljcm9UYXNrVGltZW91dHMpO0RmKHRoaXMpO251bGwhPWEuaW5jbHVkZVN0cmVhbUJ1ZmZlclNpemVJblN0YXJ0T2Zmc2V0JiYodGhpcy5aYj1Cb29sZWFuKGEuaW5jbHVkZVN0cmVhbUJ1ZmZlclNpemVJblN0YXJ0T2Zmc2V0KSk7Cm51bGwhPWEubGl2ZUF1ZGlvUHVzaFJlcHJlc2VudGF0aW9uJiYodGhpcy5wYT1TdHJpbmcoYS5saXZlQXVkaW9QdXNoUmVwcmVzZW50YXRpb24pKTtudWxsIT1hLmxpdmVJbml0aWFsUHVzaFJlcHJlc2VudGF0aW9uJiYodGhpcy5PYT1TdHJpbmcoYS5saXZlSW5pdGlhbFB1c2hSZXByZXNlbnRhdGlvbikpO251bGwhPWEuZW5hYmxlQWRhcHRhdGlvbiYmdGhpcy5BLmVuYWJsZShCb29sZWFuKGEuZW5hYmxlQWRhcHRhdGlvbikpO251bGwhPWEubXBkUmVxdWVzdFRpbWVvdXQmJih0aGlzLkxiPU51bWJlcihhLm1wZFJlcXVlc3RUaW1lb3V0KSk7bnVsbCE9YS5taW5NcGRSZWZyZXNoSW50ZXJ2YWwmJih0aGlzLktiPU51bWJlcihhLm1pbk1wZFJlZnJlc2hJbnRlcnZhbCkvMUUzKTtudWxsIT1hLmVuYWJsZU1hbmlmZXN0RGVidWcmJih0aGlzLlViPSEhYS5lbmFibGVNYW5pZmVzdERlYnVnKTtudWxsIT1hLmxpdmVTdHJlYW1FbmRUaW1lb3V0JiYodGhpcy5nYj1OdW1iZXIoYS5saXZlU3RyZWFtRW5kVGltZW91dCkpOwpudWxsIT1hLnByZWZlcnJlZExhbmd1YWdlJiYodGhpcy5TPVNhKFN0cmluZyhhLnByZWZlcnJlZExhbmd1YWdlKSkpO251bGwhPWEubGl2ZVNlbmRQdXNoSGVhZGVycyYmKHRoaXMucmE9Qm9vbGVhbihhLmxpdmVTZW5kUHVzaEhlYWRlcnMpKTtudWxsIT1hLmxpdmVNYXhNYW5pZmVzdEZldGNoZXNXaXRoUHVzaCYmKHRoaXMuUGE9TnVtYmVyKGEubGl2ZU1heE1hbmlmZXN0RmV0Y2hlc1dpdGhQdXNoKSk7bnVsbCE9YS5jdXJyZW50VGltZUR1cmluZ1JlYWR5U3RhdGVaZXJvVGhyb3dzJiYodGhpcy5TYj1Cb29sZWFuKGEuY3VycmVudFRpbWVEdXJpbmdSZWFkeVN0YXRlWmVyb1Rocm93cykpO251bGwhPWEubGl2ZU1heFNlZ21lbnRzVG9QdXNoJiYodGhpcy5nYz1OdW1iZXIoYS5saXZlTWF4U2VnbWVudHNUb1B1c2gpKTtudWxsIT1hLmp1bXBUb0xpdmVUaHJlc2hvbGQmJih0aGlzLmRjPU51bWJlcihhLmp1bXBUb0xpdmVUaHJlc2hvbGQpKTtudWxsIT1hLnJlc3RyaWN0aW9ucyYmKHRoaXMubT0KYS5yZXN0cmljdGlvbnMsdGhpcy5PJiZFZih0aGlzKSk7bnVsbCE9YS51c2VMb25nQ2FjaGVGb3JNYW5pZmVzdCYmKHRoaXMubWE9Qm9vbGVhbihhLnVzZUxvbmdDYWNoZUZvck1hbmlmZXN0KSk7bnVsbCE9YS5qdW1wVG9FYXJsaWVzdFBvc2l0aW9uSW5DdXJyZW50QmxvY2smJih0aGlzLmNjPUJvb2xlYW4oYS5qdW1wVG9FYXJsaWVzdFBvc2l0aW9uSW5DdXJyZW50QmxvY2spKTtudWxsIT1hLmlnbm9yZU1pbkJ1ZmZlclRpbWUmJih0aGlzLkdhPUJvb2xlYW4oYS5pZ25vcmVNaW5CdWZmZXJUaW1lKSk7bnVsbCE9PWEuZW5hYmxlUmVxdWVzdFBpcGVsaW5pbmcmJih0aGlzLlZiPUJvb2xlYW4oYS5lbmFibGVSZXF1ZXN0UGlwZWxpbmluZykpO251bGwhPT1hLmVuYWJsZVN0cmVhbWluZyYmKHRoaXMuV2I9Qm9vbGVhbihhLmVuYWJsZVN0cmVhbWluZykpfTsKWS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuSi5kZXN0cm95KCk7dGhpcy5zYS5kZXN0cm95KCk7dGhpcy5zYT10aGlzLko9bnVsbDt0aGlzLmthJiYoY2xlYXJUaW1lb3V0KHRoaXMua2EpLHRoaXMua2E9bnVsbCk7dGhpcy51JiYoY2xlYXJUaW1lb3V0KHRoaXMudSksdGhpcy51PW51bGwpO3RoaXMuQj1udWxsO3RoaXMuaC5kZXN0cm95KCk7dGhpcy5oPW51bGw7V2EodGhpcy5jKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2EuZGVzdHJveSgpfSk7dGhpcy5mPXRoaXMuYz1udWxsO3RoaXMuYiYmKHRoaXMuYi5kZXN0cm95KCksdGhpcy5iPW51bGwpO3RoaXMuQS5kZXN0cm95KCk7dGhpcy5KYT10aGlzLm09dGhpcy52aWRlbz10aGlzLmk9dGhpcy53YT10aGlzLkE9bnVsbDt0aGlzLmEuZ2V0Qm9vbCgiZml4aW5nX3NjaGVkdWxlcl9kaXNhYmxlX2xlYWtzIiwhMCkmJihPYmplY3Qua2V5cyh0aGlzLm8pLmZvckVhY2goZnVuY3Rpb24oYSl7KGE9dGhpcy5vW2FdKSYmYS5kaXNhYmxlKCl9LmJpbmQodGhpcykpLAp0aGlzLm89e30pO09iamVjdC5rZXlzKHRoaXMudykuZm9yRWFjaChmdW5jdGlvbihhKXsoYT10aGlzLndbYV0pJiZhLmRlc3Ryb3koKX0uYmluZCh0aGlzKSk7dGhpcy53PXt9O3RoaXMuSSYmKHRoaXMuSS5kaXNhYmxlKCksdGhpcy5JPW51bGwpO3RoaXMuUiYmKHRoaXMuUi5jbGVhbnVwKCksdGhpcy5SPW51bGwpO2Zvcih2YXIgYT0wO2E8dGhpcy5VLmxlbmd0aDthKyspdGhpcy5VW2FdLmNsZWFudXAoKTt0aGlzLlU9W107dGhpcy51Yy5yZWxlYXNlKCl9O2Z1bmN0aW9uIGVmKGEsYil7aWYoYS5sKXt2YXIgYz1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJtZWRpYV9zb3VyY2Vfb3BlbiIpLnN0YXJ0KCk7YS5JYi50aGVuKGZ1bmN0aW9uKCl7Yy5sb2coKX0pfUUoYS5oLGEuaSwic291cmNlb3BlbiIsYS5oZC5iaW5kKGEpKTtiLnNyYz13aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChhLmkpfW49WS5wcm90b3R5cGU7bi52Yz1mdW5jdGlvbigpe307CmZ1bmN0aW9uIGpmKGEsYixjKXt2YXIgZDthLmwmJihkPWEubC5nZXRPcGVyYXRpb25Mb2dnZXIoInNvdXJjZV9hdHRhY2giKS5zdGFydCgpKTtpZighYS5PKXJldHVybiBhPUVycm9yKCJDYW5ub3QgY2FsbCBhdHRhY2goKSByaWdodCBub3cuIiksYS50eXBlPSJhcHAiLGQmJmQuc2V0RXJyb3IoYSkubG9nKCksUHJvbWlzZS5yZWplY3QoYSk7YS5KYT1iO2EudmlkZW89YzthLmJhPW51bGw7YS5hLmdldEJvb2woImVuYWJsZV92aWV3cG9ydF9wcmlvcml0eV9hZGp1c3RtZW50IiwhMSkmJihhLlI9bmV3IFZpZXdwb3J0UHJpb3JpdHlBZGp1c3RlcihhLnZpZGVvKSxhLlIuc2V0T25Qcmlvcml0eUNoYW5nZWQoZnVuY3Rpb24oYSl7T2JqZWN0LmtleXModGhpcy5vKS5mb3JFYWNoKGZ1bmN0aW9uKGIpe3RoaXMub1tiXS51cGRhdGVQcmlvcml0eVdpdGhOZXdBZGp1c3RtZW50KGEpfS5iaW5kKHRoaXMpKX0uYmluZChhKSkpO2EuYS5nZXRCb29sKCJlbmFibGVfZmlyc3RfdmlkZW9fcHJpb3JpdHlfYWRqdXN0bWVudCIsCiExKSYmYS5VLnB1c2gobmV3IEZpcnN0TG9hZGVkVmlkZW9Qcmlvcml0eUFkanVzdGVyKGEudmlkZW8pKTtFKGEuaCxhLnZpZGVvLCJsb2FkZWRtZXRhZGF0YSIsYS5nZC5iaW5kKGEpKTtFKGEuaCxhLndhLCJiYW5kd2lkdGgiLGEuR2QuYmluZChhKSk7aWYoYS5iLmJ8fGEuYS5nZXRCb29sKCJiYWNrX29mZl9idWZmZXJpbmdfb3ZlcmZsb3ciLCExKSlFKGEuaCxiLCJidWZmZXJpbmdTdGFydCIsYS5jZC5iaW5kKGEpKSxFKGEuaCxiLCJidWZmZXJpbmdFbmQiLGEuYmQuYmluZChhKSk7Yj1hLmEuZ2V0Qm9vbCgiZW5hYmxlX2NvbnRlbnRfcHJvdGVjdGlvbiIsITEpPyhiPWEudmlkZW8ubWVkaWFLZXlzKSYmYS52aWRlby5zZXRNZWRpYUtleXM/YS52aWRlby5zZXRNZWRpYUtleXMoYik6UHJvbWlzZS5yZXNvbHZlKCk6UHJvbWlzZS5yZXNvbHZlKCk7RmYoYSkudGhlbihKKGEsZnVuY3Rpb24oKXtkJiZ0aGlzLlAoKSYmZC5zZXRMaXZlaGVhZFBvc2l0aW9uKEdmKEhmKHRoaXMpKSk7dGhpcy5KJiYKdGhpcy5KLnJlc29sdmUoKTt0aGlzLnZjKCl9KSkuY2F0Y2goSihhLGZ1bmN0aW9uKGEpe3RoaXMuSiYmdGhpcy5KLnJlamVjdChhKX0pKTtyZXR1cm4gUHJvbWlzZS5hbGwoW2EuSixiXSkudGhlbihmdW5jdGlvbigpe2QmJmQubG9nKCl9KX0Kbi53Yj1mdW5jdGlvbigpe2lmKHRoaXMuTyl7dmFyIGE9RXJyb3IoIkNhbm5vdCBjYWxsIGxvYWQoKSByaWdodCBub3cuIik7YS50eXBlPSJhcHAiO3JldHVybiBQcm9taXNlLnJlamVjdChhKX1pZighdGhpcy5ifHwwPT10aGlzLmIuYS5sZW5ndGgpcmV0dXJuIGE9RXJyb3IoIlRoZSBtYW5pZmVzdCBkb2VzIG5vdCBzcGVjaWZ5IGFueSBjb250ZW50LiIpLGEudHlwZT0ic3RyZWFtIixQcm9taXNlLnJlamVjdChhKTt0Zih0aGlzLmIuYSk7aWYoMD09dGhpcy5iLmEubGVuZ3RofHwwPT10aGlzLmIuYVswXS5hLmxlbmd0aHx8IXRoaXMuYi5hWzBdLmEuc29tZShmdW5jdGlvbihhKXtyZXR1cm4idmlkZW8iPT09YS5jb250ZW50VHlwZX0pKXJldHVybiBhPUVycm9yKCJUaGUgbWFuaWZlc3Qgc3BlY2lmaWVzIGNvbnRlbnQgdGhhdCBjYW5ub3QgYmUgZGlzcGxheWVkIG9uIHRoaXMgYnJvd3Nlci9wbGF0Zm9ybS4iKSxhLnR5cGU9InN0cmVhbSIsUHJvbWlzZS5yZWplY3QoYSk7dGhpcy5PPQohMDt0aGlzLkdhfHwodGhpcy5nLmluaXRpYWxTdHJlYW1CdWZmZXJTaXplPU1hdGgubWF4KHRoaXMuZy5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZXx8MCx0aGlzLmIuZykpO3RoaXMuaWEmJnRoaXMuaWEuc2V0U3RyZWFtVHlwZSh0aGlzLmIuQik7RGYodGhpcyk7RWYodGhpcyk7cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpfTtmdW5jdGlvbiBJZihhKXt2YXIgYj15KHt0eXBlOiJtYW5pZmVzdHdyYXBwZWQiLGJ1YmJsZXM6ITB9KTthLmRpc3BhdGNoRXZlbnQoYil9ZnVuY3Rpb24gSmYoYSxiKXt2YXIgYz15KHt0eXBlOiJsaXZlaGVhZElkbGVBdCIsc2Vjb25kczpiLGJ1YmJsZXM6ITB9KTthLmRpc3BhdGNoRXZlbnQoYyl9ZnVuY3Rpb24gR2YoYSl7cmV0dXJuIE1hdGgubWluLmFwcGx5KE1hdGgsYS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEubGVuZ3RoKCk/YS5sYXN0KCkuZW5kVGltZTpudWxsfSkuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiEhYX0pKX0Kbi5KYj1mdW5jdGlvbihhLGIpe3ZhciBjO3RoaXMuYS5nZXRCb29sKCJkZWNvdXBsZV9tcGRfdXBkYXRlX2xvb3BfZnJvbV9yZXF1ZXN0X2xvb3AiLCExKSYmS2YodGhpcywwKTt0aGlzLlYmJih0aGlzLlYubG9nKCksdGhpcy5WPW51bGwpO3RoaXMubCYmKGM9dGhpcy5sLmdldE9wZXJhdGlvbkxvZ2dlcigidXBkYXRlX21hbmlmZXN0Iikuc3RhcnQoKSk7aWYoIWJ8fHRoaXMuTyl7dmFyIGQ9RGF0ZS5ub3coKTt0aGlzLmEuZ2V0Qm9vbCgiZGVjb3VwbGVfbXBkX3VwZGF0ZV9sb29wX2Zyb21fcmVxdWVzdF9sb29wIiwhMSl8fCh0aGlzLnU9bnVsbCk7dmFyIGU9bnVsbCxmLGc7aWYodGhpcy5yYSYmKCF0aGlzLlBhfHx0aGlzLlBhPnRoaXMuaWMpKXtmPU1hdGguZmxvb3IoTGYodGhpcykpKzE7Zj1NYXRoLm1pbihmLHRoaXMuZ2MpO3ZhciBoPXRoaXMuYy52aWRlbztpZihoPWg/aC5GYigpOm51bGwpaD1oLmxhc3QoKSxudWxsIT1oLnVuc2NhbGVkU3RhcnRUaW1lJiYoZz1oLnVuc2NhbGVkU3RhcnRUaW1lKTsKaWYodGhpcy52aWRlby5wYXVzZWR8fHRoaXMuJClmPTB9ZiYmdGhpcy5pYysrO2g9dGhpcy5iLmk7aD10aGlzLmEuZ2V0Qm9vbCgiZW5hYmxlX2NsZWFuX2ZhaWxvdmVyX3VyaV9vbl9tcGRfcmVxdWVzdHMiLCEwKT9oLmNsb25lKCk6aDtjJiYhYSYmYy5zZXRSZXNvdXJjZShoLnRvU3RyaW5nKCkpOyhhP3RoaXMueGMoKTp0aGlzLnljKGgsZixnKSkudGhlbihKKHRoaXMsZnVuY3Rpb24oYil7YXx8dGhpcy5HLmluZm9ybU5ldHdvcmtSZXN1bWVkKCk7ZT1uZXcgdmYoYik7dmFyIGM7dGhpcy5sJiYoYz10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJ1cGRhdGVfbWFuaWZlc3RfaW5mbyIpLnN0YXJ0KCkpO2I9ZS51cGRhdGUodGhpcy5iKTtiLnRoZW4oZnVuY3Rpb24oKXtjJiZjLmxvZygpfSxmdW5jdGlvbihhKXtjJiZjLnNldEVycm9yKGEpLmxvZygpfSkuY2F0Y2goZnVuY3Rpb24oKXt9KTtyZXR1cm4gYn0pKS50aGVuKEoodGhpcyxmdW5jdGlvbihhKXtlLmRlc3Ryb3koKTtlPW51bGw7CnZhciBmPUhmKHRoaXMpO3RoaXMuTGEoIlNlZ21lbnRJbmRleGVzVXBkYXRlZCIsZik7aWYodGhpcy5hLmdldEJvb2woImVtaXRfbGl2ZV9wbGF5aGVhZF9pZGxlX2Zyb21fY2xpZW50IiwhMCkpe3ZhciBnPXRoaXMuYS5nZXROdW1iZXIoImxpdmVfcGxheWhlYWRfaWRsZV9hbGxfc3RyZWFtX3RocmVzaG9sZCIsNCksaD10aGlzLmEuZ2V0TnVtYmVyKCJsaXZlX3BsYXloZWFkX2lkbGVfc2luZ2xlX3N0cmVhbV90aHJlc2hvbGQiLDUpO2lmKEhmKHRoaXMpLmV2ZXJ5KGZ1bmN0aW9uKGEpe3JldHVybiBhLnUoKT49Z30pfHxIZih0aGlzKS5zb21lKGZ1bmN0aW9uKGEpe3JldHVybiBhLnUoKT49aH0pKXt2YXIgdD1HZihmKTtKZih0aGlzLHQpfX1mLnNvbWUoZnVuY3Rpb24oYSl7cmV0dXJuIGEucmIoKX0pJiZJZih0aGlzKTt0PU1mKHRoaXMsZik7YyYmdGhpcy5QKCkmJmMuc2V0TGl2ZWhlYWRQb3NpdGlvbihHZihmKSk7YyYmYy5zZXRNYW5pZmVzdFR5cGUodGhpcy5iLmI/ImR5bmFtaWMiOgoic3RhdGljIikuc2V0VXBkYXRlUGVyaW9kKG51bGw9PT10aGlzLmIuYz9udWxsOk1hdGguY2VpbCgxRTMqdGhpcy5iLmMpKTt0aGlzLm5hJiZOZih0aGlzLHQpO3RoaXMuYS5nZXRCb29sKCJza2lwX3JlbWFpbmluZ19idWZmZXJlZF9vbl9zdHJlYW1fZW5kIiwhMSkmJnQmJnRoaXMuYi5iJiZ0aGlzLmIuaCYmdGhpcy52aWRlby5wYXVzZWQmJih0aGlzLnZpZGVvLmN1cnJlbnRUaW1lPXRoaXMuamEtLjEpO2lmKHNmKHRoaXMpKXJldHVybiBjJiZjLmxvZygpLHRoaXMuZWIoKTtmb3IoZj0wO2Y8YS5sZW5ndGg7KytmKU9mKHRoaXMsYVtmXSk7dGhpcy5HYXx8KHRoaXMuZy5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZT1NYXRoLm1heCh0aGlzLmcuaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemV8fDAsdGhpcy5iLmcpKTt0aGlzLmcudXNlSW5pdGlhbEJ1ZmZlclNpemVXaGVuUGF1c2VkPXRoaXMuYi5iO0RmKHRoaXMpO0VmKHRoaXMpOzA9PU9iamVjdC5rZXlzKHRoaXMuYykubGVuZ3RoP0ZmKHRoaXMpOgooYT1EYXRlLm5vdygpLGJ8fEtmKHRoaXMsKGEtZCkvMUUzKSk7YyYmYy5sb2coKTt0aGlzLnRiKCkmJmV4dHJhY3RDRUE2MDgucHJlcGFyZSgpO3RoaXMuYS5nZXRCb29sKCJ1cGRhdGVfY2VhNjA4X2F2YWlsYWJpbGl0eV9vbl9tcGRfcGFyc2luZyIsITEpJiYoYT10aGlzLnRiKCksdGhpcy5ZYiE9PWEmJihmPXkoe3R5cGU6ImNlYTYwOEF2YWlsYWJpbGl0eUNoYW5nZWQiLGJ1YmJsZXM6ITB9KSx0aGlzLmRpc3BhdGNoRXZlbnQoZiksdGhpcy5ZYj1hKSl9KSkuY2F0Y2goSih0aGlzLGZ1bmN0aW9uKGEpe2MmJmMuc2V0RXJyb3IoYSkubG9nKCk7ZSYmKGUuZGVzdHJveSgpLGU9bnVsbCk7aWYoIWIpe3ZhciBkPXRoaXMuYi5mfHx0aGlzLmEuZ2V0Qm9vbCgicmV0cnlfZWdyZXNzXzUwMHMiLCExKSxmPVswLDQxMF07dGhpcy5hLmdldEJvb2woImVuYWJsZV9kb3VibGVfaW5nZXN0IiwhMSkmJmYucHVzaCg0MTcsMjAwKTshdGhpcy5hLmdldEJvb2woIm5vX3JldHJ5X29uXzUwMl81MDMiLAohMSkmJmQmJihmPWYuY29uY2F0KFs1MDIsNTAzXSkpO2Q9dGhpcy5hLmdldEJvb2woImZpeF9saXZlX3N0cmVhbV9nb25lX29uX21hbmlmZXN0X3VwZGF0ZSIsITApPy0xPT09Zi5pbmRleE9mKGEuc3RhdHVzKTowIT09YS5zdGF0dXM7aWYodGhpcy5hLmdldEJvb2woImFsbG93X2luZmluaXRlX3JldHJ5X29uX25ldF9lcnIiLCEwKSYmIm5ldCI9PT1hLnR5cGUmJiFkKXN3aXRjaChhLnN0YXR1cyl7Y2FzZSA0MTA6dGhpcy5oYz0hMDt0aGlzLmomJihjbGVhclRpbWVvdXQodGhpcy5qKSx0aGlzLmo9bnVsbCk7dGhpcy5lYigpO2JyZWFrO2Nhc2UgMjAwOmNhc2UgNDE3OmEucmVzcG9uc2VIZWFkZXJzJiZudWxsIT1hLnJlc3BvbnNlSGVhZGVyc1sieC1mYi12aWRlby1yZXBsaWNhIl0/dGhpcy5kaXNwYXRjaEV2ZW50KHkoe3R5cGU6InJlcGxpY2Fzd2l0Y2giLGJ1YmJsZXM6ITAscmVwbGljYTphLnJlc3BvbnNlSGVhZGVyc1sieC1mYi12aWRlby1yZXBsaWNhIl0sdXJsOmEudXJsLHN0YXR1czphLnN0YXR1c30pKToKZD0hMDticmVhaztkZWZhdWx0OlBmKHRoaXMpfTA9PT1hLnN0YXR1cz90aGlzLkcuaW5mb3JtTmV0d29ya0ludGVycnVwdGVkKCk6dGhpcy5HLmluZm9ybU5ldHdvcmtSZXN1bWVkKCk7aWYoImRlbGF5Ij09YS50eXBlKXJldHVybiBQZih0aGlzKTt0aGlzLmEuZ2V0Qm9vbCgiYWxsb3dfaW5maW5pdGVfcmV0cnlfb25fbmV0X2VyciIsITApJiYhZHx8ImFib3J0ZWQiPT1hLnR5cGV8fChhPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGEpLHRoaXMuYiYmUGYodGhpcykpfX0pKX19O24ueWM9ZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZWplY3QoIkNhbm5vdCB1cGRhdGUgbWFuaWZlc3Qgd2l0aCB0aGlzIFZpZGVvU291cmNlIGltcGxlbWVudGF0aW9uLiIpfTtuLnhjPWZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVqZWN0KCJDYW5ub3QgdXBkYXRlIG1hbmlmZXN0IHdpdGggdGhpcyBWaWRlb1NvdXJjZSBpbXBsZW1lbnRhdGlvbi4iKX07CmZ1bmN0aW9uIE5mKGEsYil7aWYoYiYmYS5iJiZhLmIuYilpZihhLmEuZ2V0Qm9vbCgic2Vla19vdmVyX3VuYXZhaWxhYmxlX3NlZ21lbnRzX29uX21hbmlmZXN0X3VwZGF0ZSIsITEpJiZhLmVhKWIuZW5kPmEudmlkZW8uY3VycmVudFRpbWUrMTAmJihhLmVhPSExLGEudmlkZW8uY3VycmVudFRpbWU9Yi5lbmQsUWYoYSkpO2Vsc2UgaWYoYS52aWRlby5wYXVzZWQmJmIuZW5kPmEudmlkZW8uY3VycmVudFRpbWUrMTApaWYoYS5hLmdldEJvb2woImVuYWJsZV9sYXp5X2xpdmVoZWFkX2NhdGNodXAiLCExKSl7dmFyIGM9YS54YTtjPGEuSWQmJihhLnhhPSsrYyk7UmYoYSxjKTthLmNhPWIuZW5kfWVsc2UgYS5lYT0hMSxhLnZpZGVvLmN1cnJlbnRUaW1lPWIuZW5kLFFmKGEpfQpmdW5jdGlvbiBLZihhLGIpe2lmKG51bGw9PWEuYi5jKUJhbnphaU9EUy5idW1wRW50aXR5S2V5KDI5NjYsInZpZGVvcy53d3cubGl2ZSIsInVwZGF0ZV9wZXJpb2RfaXNfbnVsbCIpO2Vsc2UgaWYoIWEuRmEpe2lmKGEuYS5nZXRCb29sKCJkZWNvdXBsZV9tcGRfdXBkYXRlX2xvb3BfZnJvbV9yZXF1ZXN0X2xvb3AiLCExKSYmKGEudSYmKGNsZWFyVGltZW91dChhLnUpLGEudT1udWxsKSxzZihhKSkpcmV0dXJuO3ZhciBjPU1hdGgubWF4KGEuYi5jLGEuS2IpLGM9TWF0aC5tYXgoYy1iLDApLGQ9YS5KYi5iaW5kKGEsITEpOyFjJiZhLmcudXNlTWljcm9UYXNrVGltZW91dHM/UHJvbWlzZS5yZXNvbHZlKCkudGhlbihkKTooYS5WJiZhLlYuc2V0UmVzdWx0KCJmYWlsZWQiKS5sb2coKSxhLmwmJihhLlY9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigic2NoZWR1bGVfbWFuaWZlc3RfdXBkYXRlIikuc3RhcnQoKS5zZXRVcGRhdGVQZXJpb2QoTWF0aC5jZWlsKDFFMypjKSkpLGEudT1zZXRUaW1lb3V0KGQsCjFFMypjKSl9fWZ1bmN0aW9uIE9mKGEsYil7dmFyIGM9TWQoYiksZD1hLmNbY107aWYoZCYmZC5XYSgpPT1iKXt2YXIgZT1hLmYuZ2V0KE1kKGIpKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEudn0pLnJlZHVjZShmdW5jdGlvbihhLGIpe3JldHVybiBhLmNvbmNhdChiKX0sW10pLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gYS5vYSYmYS5mYX0pO2lmKDA9PWUubGVuZ3RoKXtjPUVycm9yKCJBbGwgdXNhYmxlIHN0cmVhbXMgaGF2ZSBiZWVuIHJlbW92ZWQgZnJvbSB0aGUgbWFuaWZlc3QuIik7Yy50eXBlPSJhcHAiO2M9QShjKTthLmRpc3BhdGNoRXZlbnQoYyk7cmV0dXJufWEuQltjXS5MYz09YiYmZGVsZXRlIGEuQltjXTtkLmpiKGVbMF0sITApO2IuZGVzdHJveSgpfWIuZGVzdHJveSgpfW4uQ2Q9ZnVuY3Rpb24oYSl7dGhpcy5wYz1hfTtZLnByb3RvdHlwZS5zZXRUYWdnZWRUaW1lUmFuZ2VzPVkucHJvdG90eXBlLkNkOwpZLnByb3RvdHlwZS53ZD1mdW5jdGlvbigpe3JldHVybiAwPT09T2JqZWN0LmtleXModGhpcy5jKS5sZW5ndGg/ITE6WyJhdWRpbyIsInZpZGVvIl0uZXZlcnkoSih0aGlzLGZ1bmN0aW9uKGEpe3JldHVybiF0aGlzLmNbYV18fHRoaXMuY1thXS5UfSkpfTtZLnByb3RvdHlwZS5oYXNIaXRCdWZmZXJpbmdHb2FsPVkucHJvdG90eXBlLndkOwpZLnByb3RvdHlwZS5aPWZ1bmN0aW9uKGEpe2lmKCF0aGlzLmZ8fCF0aGlzLmYuYS5oYXNPd25Qcm9wZXJ0eSgidmlkZW8iKSlyZXR1cm5bXTthPWEmJmEudXNlTG9jYWxCaXRyYXRlfHwhMTt2YXIgYj10aGlzLmMudmlkZW8sYz1iP2IuV2EoKTpudWxsLGQ9Yz9jLlg6MCxlPTEsZj1udWxsO3RoaXMuYS5nZXRCb29sKCJ1c2VfbGl2ZV9iaXRyYXRlX2VzdGltYXRlcyIsITEpJiZ0aGlzLlAoKSYmbnVsbCE9YiYmKGY9Yi5sYSgpLG51bGwhPWMmJjA8Yy5iYW5kd2lkdGgmJihlPWYvYy5iYW5kd2lkdGgpKTtmb3IodmFyIGM9W10sZz10aGlzLmYuZ2V0KCJ2aWRlbyIpLGg9MDtoPGcubGVuZ3RoOysraClmb3IodmFyIGs9Z1toXSxsPTA7bDxrLnYubGVuZ3RoOysrbCl7dmFyIG09ay52W2xdO2lmKG0ub2EmJm0uZmEpe3ZhciBwPW51bGw7aWYoYSYmbnVsbCE9PW0uTSl7dmFyIHQ9bS5NLmMoKSx3PWI7aWYodGhpcy5QKCl8fG51bGw9PT10fHxudWxsPT09dylwPW51bGw7ZWxzZXt2YXIgcD0KcGUodyx0aGlzLnZpZGVvLmN1cnJlbnRUaW1lLHQpLHo9dC5nZXRTZWdtZW50cygpO3RoaXMuYS5nZXRCb29sKCJzdGFydF9sb2NhbF9iaXRyYXRlX2F0X2J1ZmZlcl9lbmQiLCExKSYmKHc9TG9jYWxCaXRyYXRlSGVscGVyLmdldEJ1ZmZlckVuZFNlZ21lbnRJbmRleCh6LHAsdGhpcy52aWRlby5jdXJyZW50VGltZSthZSh3LHRoaXMudmlkZW8uY3VycmVudFRpbWUpKSxudWxsIT09dyYmKHA9dykpO3A9TG9jYWxCaXRyYXRlSGVscGVyLmdldExvY2FsQml0cmF0ZSh0LmdldFNlZ21lbnRzKCkscCx0aGlzLmEuZ2V0TnVtYmVyKCJsb2NhbF9iaXRyYXRlX3NlZ21lbnRzX2FoZWFkIiwxMCkpfXRoaXMuYS5nZXRCb29sKCJ1c2VfbWF4X2xvY2FsX2JpdHJhdGUiLCExKSYmKHA9TWF0aC5tYXgocCxtLmJhbmR3aWR0aCkpfXQ9bS5YO3A9cHx8bS5iYW5kd2lkdGg7dGhpcy5hLmdldEJvb2woInVzZV9saXZlX2JpdHJhdGVfZXN0aW1hdGVzIiwhMSkmJm51bGwhPWYmJih0PT09ZD9wPU1hdGgubWF4KHAsCmYpOjE8ZSYmKHA9cCplKSxwPU1hdGgucm91bmQocCkpO209bmV3IHVhKHQscCxtLndpZHRoLG0uaGVpZ2h0LG0uaWQsbS5mYlF1YWxpdHlMYWJlbCxtLmZiUXVhbGl0eUNsYXNzLG0uZixtLmZyYW1lUmF0ZSxtLm1pbWVUeXBlLG0uY29kZWNzLG0uZyxtLmgpO3Q9PWQmJihtLmFjdGl2ZT0hMCk7Yy5wdXNoKG0pfX1yZXR1cm4gY307WS5wcm90b3R5cGUuZ2V0VmlkZW9UcmFja3M9WS5wcm90b3R5cGUuWjtZLnByb3RvdHlwZS5SYz1mdW5jdGlvbigpe2lmKHRoaXMuZ2EpcmV0dXJuIHRoaXMuZ2E7aWYoIXRoaXMuYilyZXR1cm4gbnVsbDtmb3IodmFyIGE9MDthPHRoaXMuYi5hLmxlbmd0aDsrK2EpZm9yKHZhciBiPXRoaXMuYi5hW2FdLGM9MDtjPGIuYS5sZW5ndGg7KytjKWlmKHRoaXMuZ2E9Yi5hW2NdLmMpcmV0dXJuIHRoaXMuZ2E7cmV0dXJuIG51bGx9O1kucHJvdG90eXBlLmdldFZpZGVvUHJvamVjdGlvbj1ZLnByb3RvdHlwZS5SYztZLnByb3RvdHlwZS5PYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmtifTsKWS5wcm90b3R5cGUuZ2V0TG9jYWxFc3RpbWF0b3I9WS5wcm90b3R5cGUuT2M7ZnVuY3Rpb24gU2YoYSl7YT1hLlooKTtmb3IodmFyIGI9MDtiPGEubGVuZ3RoO2IrKylpZihhW2JdLmFjdGl2ZSlyZXR1cm4gYVtiXX1ZLnByb3RvdHlwZS52YT1mdW5jdGlvbigpe2lmKCF0aGlzLmZ8fCF0aGlzLmYuYS5oYXNPd25Qcm9wZXJ0eSgiYXVkaW8iKSlyZXR1cm5bXTtmb3IodmFyIGE9dGhpcy5jLmF1ZGlvLGE9KGE9YT9hLldhKCk6bnVsbCk/YS5YOjAsYj1bXSxjPXRoaXMuZi5nZXQoImF1ZGlvIiksZD0wO2Q8Yy5sZW5ndGg7KytkKWZvcih2YXIgZT1jW2RdLGY9ZS5sYW5nLGc9MDtnPGUudi5sZW5ndGg7KytnKXt2YXIgaD1lLnZbZ107aWYoaC5vYSYmaC5mYSl7dmFyIGs9aC5YLGg9bmV3IGZhKGssaC5iYW5kd2lkdGgsZixoLmlkLGgubWltZVR5cGUsaC5jb2RlY3MsdGhpcy5iLnUsaC5jKTtrPT1hJiYoaC5hY3RpdmU9ITApO2IucHVzaChoKX19cmV0dXJuIGJ9OwpZLnByb3RvdHlwZS5nZXRBdWRpb1RyYWNrcz1ZLnByb3RvdHlwZS52YTtZLnByb3RvdHlwZS5tYz1mdW5jdGlvbigpe2lmKCF0aGlzLmZ8fCF0aGlzLmYuYS5oYXNPd25Qcm9wZXJ0eSgidGV4dCIpKXJldHVybltdO2Zvcih2YXIgYT10aGlzLmMudGV4dCxiPWE/YS5XYSgpOm51bGwsYj1iP2IuWDowLGM9W10sZD10aGlzLmYuZ2V0KCJ0ZXh0IiksZT0wO2U8ZC5sZW5ndGg7KytlKWZvcih2YXIgZj1kW2VdLGc9Zi5sYW5nLGg9MDtoPGYudi5sZW5ndGg7KytoKXt2YXIgaz1mLnZbaF0uWCxsPW5ldyB0YShrLGcpO2s9PWImJihsLmFjdGl2ZT0hMCxsLmVuYWJsZWQ9YS5EYigpKTtjLnB1c2gobCl9cmV0dXJuIGN9O1kucHJvdG90eXBlLmdldFRleHRUcmFja3M9WS5wcm90b3R5cGUubWM7WS5wcm90b3R5cGUuYWM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iJiZ0aGlzLmIubSYmMDx0aGlzLmIubT8hMDohMX07WS5wcm90b3R5cGUuaXNVc2luZ0FTUkNhcHRpb25zPVkucHJvdG90eXBlLmFjOwpZLnByb3RvdHlwZS5iYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmImJnRoaXMuYi5vJiYwPHRoaXMuYi5vJiZna3goIjExNzYyNTEiKT8hMDohMX07WS5wcm90b3R5cGUuaXNVc2luZ0FTUkNhcHRpb25zRW1wbG95ZWVEb2dmb29kaW5nPVkucHJvdG90eXBlLmJjO2Z1bmN0aW9uIHJmKGEpe3ZhciBiPU51bWJlcihhLmcuaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemUpO2EuZy5maXhCdWZmZXJpbmdHb2FsRGV0ZXJtaW5hdGlvbiYmKGI9MSk7aWYoYS5hLmdldEJvb2woImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvdyIsITEpKWI9YS5LO2Vsc2V7dmFyIGM9YS5hLmdldE51bWJlcigiYnVmZmVyaW5nX292ZXJmbG93X3RocmVzaG9sZCIsMCk7MDxjJiYoYj1jKX1yZXR1cm4gYS4kYj9OdW1iZXIoYS5nLnN0cmVhbUJ1ZmZlclNpemUpOmJ9CmZ1bmN0aW9uIE5lKGEpe2lmKGEuTyl7YT1hLmIuYVswXTtmb3IodmFyIGI9W10sYz0wO2M8YS5hLmxlbmd0aDsrK2MpYi5wdXNoLmFwcGx5KGIsUWQoYS5hW2NdKSk7YT1ifWVsc2UgYT1bXTtyZXR1cm4gYX0KZnVuY3Rpb24gUGUoYSxiKXtpZihhLk8pe2Zvcih2YXIgYz17fSxkPWEuYi5hWzBdLGU9MDtlPGQuYS5sZW5ndGg7KytlKXt2YXIgZj1kLmFbZV07Y1tmLlhdPWZ9YS5mLmE9e307ZD1hYihiKTtmb3IoZT0wO2U8ZC5sZW5ndGg7KytlKXt2YXIgZj1kW2VdLGc9Yi5nZXQoZik7aWYoInZpZGVvIj09Zil7dmFyIGg9Z1swXS5pZDthLmYucHVzaChmLGNbaF0pfWVsc2UgaWYoImF1ZGlvIj09Zil7aWYoMDxnLmxlbmd0aClmb3IodmFyIGg9Z1swXS5iLnNwbGl0KCI7IilbMF0saz0wO2s8Zy5sZW5ndGg7KytrKXt2YXIgbD1nW2tdO2wuYi5zcGxpdCgiOyIpWzBdPT1oJiZhLmYucHVzaChmLGNbbC5pZF0pfX1lbHNlIGZvcihrPTA7azxnLmxlbmd0aDsrK2spaD1nW2tdLmlkLGEuZi5wdXNoKGYsY1toXSl9YS55YT0hMDtpZihjPWEuZi5nZXQoImF1ZGlvIikpVGYoYSxjKSxhLmYuc2V0KCJhdWRpbyIsYyksYz1jWzBdLmxhbmd8fGEuUyxSYSgyLGEuUyxjKSYmKGEueWE9ITEpO2lmKGM9YS5mLmdldCgidGV4dCIpKVRmKGEsCmMpLGEuZi5zZXQoInRleHQiLGMpLGM9Y1swXS5sYW5nfHxhLlMsUmEoMixhLlMsYyl8fChhLnlhPSExKX19WS5wcm90b3R5cGUuWGM9ZnVuY3Rpb24oKXt0aGlzLkVhPSEwfTtZLnByb3RvdHlwZS5zZXRDbGVhckJ1ZmZlckFmdGVyU2Vla2luZz1ZLnByb3RvdHlwZS5YYztZLnByb3RvdHlwZS5zZWxlY3RWaWRlb1RyYWNrPWZ1bmN0aW9uKGEsYixjLGQsZSl7cmV0dXJuIG1mKHRoaXMsInZpZGVvIixhLGIsYyxkLGUpfTtZLnByb3RvdHlwZS5yZXN1bWVWaWRlb0ZldGNoaW5nPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5jLnZpZGVvP3RoaXMuYy52aWRlby5GOm51bGw7YSYmYS5yZXN1bWVWaWRlb0ZldGNoaW5nKCl9O1kucHJvdG90eXBlLnJlc3VtZVZpZGVvRmV0Y2hpbmc9WS5wcm90b3R5cGUucmVzdW1lVmlkZW9GZXRjaGluZztZLnByb3RvdHlwZS5IZD1mdW5jdGlvbigpe3ZhciBhPXRoaXMuYy52aWRlbz90aGlzLmMudmlkZW8uRjpudWxsO2EmJmEuc3RvcFVudGlsU2VnbWVudHNVcGRhdGUoKX07ClkucHJvdG90eXBlLnN0b3BVbnRpbFZpZGVvU3RyZWFtU3dpdGNoPVkucHJvdG90eXBlLkhkO2Z1bmN0aW9uIG5mKGEsYil7dmFyIGM9YS5jLnRleHQ7YyYmYy52YihiKX0KZnVuY3Rpb24gRWYoYSl7aWYoYS5tKXtmb3IodmFyIGI9ITEsYz0wO2M8YS5iLmEubGVuZ3RoOysrYylmb3IodmFyIGQ9YS5iLmFbY10sZT0wO2U8ZC5hLmxlbmd0aDsrK2Upe3ZhciBmPWQuYVtlXTtpZigidmlkZW8iPT1mLmNvbnRlbnRUeXBlKWZvcih2YXIgZz0wO2c8Zi52Lmxlbmd0aDsrK2cpe3ZhciBoPWYudltnXSxrPWguZmE7aC5mYT0hMDthLm0ubWF4V2lkdGgmJmgud2lkdGg+YS5tLm1heFdpZHRoJiYoaC5mYT0hMSk7YS5tLm1heEhlaWdodCYmaC5oZWlnaHQ+YS5tLm1heEhlaWdodCYmKGguZmE9ITEpO2EubS5taW5IZWlnaHQmJmguaGVpZ2h0PGEubS5taW5IZWlnaHQmJihoLmZhPSExKTthLm0ubWF4QmFuZHdpZHRoJiZoLmJhbmR3aWR0aD5hLm0ubWF4QmFuZHdpZHRoJiYoaC5mYT0hMSk7YS5tLm1pbkJhbmR3aWR0aCYmaC5iYW5kd2lkdGg8YS5tLm1pbkJhbmR3aWR0aCYmKGguZmE9ITEpO2shPWguZmEmJihiPSEwKX19MCE9JGEoYS5mKS5sZW5ndGgmJmImJihVZihhKSwKMDxhLlooKS5sZW5ndGh8fChiPUVycm9yKCJUaGUgYXBwbGljYXRpb24gaGFzIHJlc3RyaWN0ZWQgYWxsIHZpZGVvIHRyYWNrcyEiKSxiLnR5cGU9ImFwcCIsYj1BKGIpLGEuZGlzcGF0Y2hFdmVudChiKSkpfX1ZLnByb3RvdHlwZS5QPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYj90aGlzLmIuYjpudWxsfTtZLnByb3RvdHlwZS5pc0xpdmU9WS5wcm90b3R5cGUuUDtZLnByb3RvdHlwZS5ZYz1mdW5jdGlvbihhKXt0aGlzLiRiPWF9O1kucHJvdG90eXBlLnNldElzTGl2ZUludGVycnVwdGVkPVkucHJvdG90eXBlLlljO1kucHJvdG90eXBlLnZkPWZ1bmN0aW9uKCl7Zm9yKHZhciBhIGluIHRoaXMuYyl0aGlzLmNbYV0uSGMoKX07WS5wcm90b3R5cGUuZm9yY2VSZXN5bmNWaWRlb0J1ZmZlcj1ZLnByb3RvdHlwZS52ZDsKZnVuY3Rpb24gV2UoYSxiKXtmb3IodmFyIGMsZD0hMSxlPW5ldyBELGY9JGEoYS5mKSxnPTA7ZzxmLmxlbmd0aDsrK2cpZm9yKHZhciBoPWZbZ10saz0wO2s8aC52Lmxlbmd0aDsrK2spe3ZhciBsPWgudltrXTtsLmIuZm9yRWFjaChmdW5jdGlvbihhKXtlLnB1c2goYSxsKX0pfWZvcihjIGluIGIpaWYoZj1QYVtiW2NdXXx8bnVsbCxoPWUuZ2V0KGMpKWZvcihnPTA7ZzxoLmxlbmd0aDsrK2cpbD1oW2ddLGs9bC5vYSxsLm9hPSFmLGshPWwub2EmJihkPSEwKTtlbHNlIGliKGMpO2QmJihVZihhKSxkPWEudmEoKSxjPWEuWigpLGQ9YS5mLmEuaGFzT3duUHJvcGVydHkoImF1ZGlvIikmJjA9PWQubGVuZ3RoLGM9YS5mLmEuaGFzT3duUHJvcGVydHkoInZpZGVvIikmJjA9PWMubGVuZ3RoLGR8fGMpJiYoYz1FcnJvcigiVGhlIGtleSBzeXN0ZW0gaGFzIHJlc3RyaWN0ZWQgYWxsICIrKGQmJmM/ImF1ZGlvIGFuZCB2aWRlbyB0cmFja3MuIjpkPyJhdWRpbyB0cmFja3MuIjoidmlkZW8gdHJhY2tzLiIpKSwKYy50eXBlPSJkcm0iLGM9QShjKSxhLmRpc3BhdGNoRXZlbnQoYykpfWZ1bmN0aW9uIFVmKGEpe3ZhciBiPXkoe3R5cGU6InRyYWNrc2NoYW5nZWQiLGJ1YmJsZXM6ITB9KTthLmRpc3BhdGNoRXZlbnQoYil9ZnVuY3Rpb24gbWYoYSxiLGMsZCxlLGYsZyl7Zz0hIWc7aWYoIWEuZi5hLmhhc093blByb3BlcnR5KGIpfHwhYS5jW2JdKXJldHVybiExO2Zvcih2YXIgaD1hLmYuZ2V0KGIpLGs9MDtrPGgubGVuZ3RoOysraylmb3IodmFyIGw9aFtrXSxtPTA7bTxsLnYubGVuZ3RoOysrbSl7dmFyIHA9bC52W21dO2lmKHAuWD09Yyl7aWYoIXAub2F8fCFwLmZhKXJldHVybiExO2lmKCJ0ZXh0IiE9YiYmIWEuQ2EpcmV0dXJuIGM9YS5CW2JdLGEuQltiXT17TGM6cCxyYzpudWxsIT1jJiZjLnJjfHxkLHNjOm51bGwhPWMmJmMuc2N8fGUsc3dpdGNoUmVhc29uOmYsS2E6Z30sITA7YS5jW2JdLmpiKHAsZCxlLGYsZyk7cmV0dXJuITB9fXJldHVybiExfQpmdW5jdGlvbiBUZihhLGIpe2Zvcih2YXIgYz0wOzI+PWM7KytjKWZvcih2YXIgZD0wO2Q8Yi5sZW5ndGg7KytkKXt2YXIgZT1iW2RdO2lmKFJhKGMsYS5TLGUubGFuZykpe2Iuc3BsaWNlKGQsMSk7Yi5zcGxpY2UoMCwwLGUpO3JldHVybn19Zm9yKGQ9MDtkPGIubGVuZ3RoOysrZClpZihlPWJbZF0sZS5mKXtiLnNwbGljZShkLDEpO2Iuc3BsaWNlKDAsMCxlKTticmVha319bj1ZLnByb3RvdHlwZTtuLmhkPWZ1bmN0aW9uKCl7dGhpcy5oLmFiKHRoaXMuaSwic291cmNlb3BlbiIpO3RoaXMuSWIucmVzb2x2ZSgpfTsKZnVuY3Rpb24gRmYoYSl7dmFyIGI7YS5sJiYoYj1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJzdGFydF9zdHJlYW1zIikuc3RhcnQoKSk7Zm9yKHZhciBjPVtdLGQ9WyJhdWRpbyIsInZpZGVvIiwidGV4dCJdLGU9MDtlPGQubGVuZ3RoOysrZSl7dmFyIGY9ZFtlXTthLmYuYS5oYXNPd25Qcm9wZXJ0eShmKSYmYy5wdXNoKGEuZi5nZXQoZilbMF0pfWZvcih2YXIgZz1WZihhLGMpLGU9MDtlPGQubGVuZ3RoOysrZSlpZihmPWRbZV0sYS5mLmEuaGFzT3duUHJvcGVydHkoZikmJiFnW2ZdKXJldHVybiBhPUVycm9yKCJVbmFibGUgdG8gc2VsZWN0IGFuIGluaXRpYWwgIitmKyIgc3RyZWFtOiBhbGwgIitmKyIgc3RyZWFtcyBoYXZlIGJlZW4gcmVzdHJpY3RlZCAoYnkgdGhlIGFwcGxpY2F0aW9uIG9yIGJ5IHRoZSBrZXkgc3lzdGVtKS4iKSxhLnR5cGU9InN0cmVhbSIsYiYmYi5zZXRFcnJvcihhKS5sb2coKSxQcm9taXNlLnJlamVjdChhKTtjPVdhKGcpLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS5NLmNyZWF0ZSgpfSk7CmMucHVzaChhLkliKTtyZXR1cm4gUHJvbWlzZS5hbGwoYykudGhlbihKKGEsZnVuY3Rpb24oYSl7YS5wb3AoKTtpZighYS5ldmVyeShmdW5jdGlvbihhKXtyZXR1cm4gYS5sZW5ndGgoKX0pKXJldHVybiBhPUVycm9yKCJTb21lIHN0cmVhbXMgYXJlIG5vdCBhdmFpbGFibGUuIiksYS50eXBlPSJzdHJlYW0iLFByb21pc2UucmVqZWN0KGEpO2E9TWYodGhpcyxhKTtpZighYSlyZXR1cm4gYT1FcnJvcigiU29tZSBzdHJlYW1zIGFyZSBub3QgYXZhaWxhYmxlLiIpLGEudHlwZT0ic3RyZWFtIixQcm9taXNlLnJlamVjdChhKTtpZighV2YodGhpcyxnKSlyZXR1cm4gYT1FcnJvcigiRmFpbGVkIHRvIGNyZWF0ZSBTdHJlYW0gb2JqZWN0cy4iKSxhLnR5cGU9InN0cmVhbSIsUHJvbWlzZS5yZWplY3QoYSk7dGhpcy5BLnN0YXJ0KCk7WGYodGhpcyxnLGEpO3JldHVybiBQcm9taXNlLnJlc29sdmUoKX0pKS50aGVuKGZ1bmN0aW9uKCl7YiYmYi5sb2coKX0pLmNhdGNoKEooYSxmdW5jdGlvbihhKXtpZigiYWJvcnRlZCI9PQphLnR5cGUpYiYmYi5zZXRFcnJvcihhKS5sb2coKTtlbHNle09iamVjdC5rZXlzKHRoaXMuYyk7aWYodGhpcy5iLmIpcmV0dXJuIHlhKCk8dGhpcy5iLmo/KGE9TWF0aC5tYXgodGhpcy5iLmotRGF0ZS5ub3coKS8xRTMsdGhpcy5LYiksdGhpcy51PXNldFRpbWVvdXQodGhpcy5KYi5iaW5kKHRoaXMsITApLDFFMyphKSk6S2YodGhpcywwKSxiJiZiLmxvZygpLFByb21pc2UucmVzb2x2ZSgpO2ImJmIuc2V0RXJyb3IoYSkubG9nKCk7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfX0pKX0KZnVuY3Rpb24gVmYoYSxiKXtmb3IodmFyIGM9e30sZD0wO2Q8Yi5sZW5ndGg7KytkKXt2YXIgZT1iW2RdLGY9bnVsbDtpZigidmlkZW8iPT1lLmNvbnRlbnRUeXBlKXt2YXIgZz1hLkEuZ2V0SW5pdGlhbFZpZGVvVHJhY2tJZCgpO2lmKG51bGw9PWcpY29udGludWU7Zj1lLnYuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiBhLlg9PWd9KTtpZigwPT1mLmxlbmd0aCljb250aW51ZTtmPWZbMF19ZWxzZSBpZigiYXVkaW8iPT1lLmNvbnRlbnRUeXBlKWlmKGc9YS5BLmdldEluaXRpYWxBdWRpb1RyYWNrSWQoKSxmPWUudi5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIGEuWD09Z30pLDA9PWYubGVuZ3RoKXtmPWUudi5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIGEub2EmJmEuZmF9KTtpZigwPT1mLmxlbmd0aCljb250aW51ZTtmPWUudltNYXRoLmZsb29yKGYubGVuZ3RoLzIpXX1lbHNlIGY9ZlswXTtlbHNlIDA8ZS52Lmxlbmd0aCYmKGY9ZS52WzBdKTtjW2UuY29udGVudFR5cGVdPWZ9cmV0dXJuIGN9CmZ1bmN0aW9uIFdmKGEsYil7dmFyIGM9e30sZDtmb3IoZCBpbiBiKXt2YXIgZT1iW2RdLGU9InRleHQiPT1kP25ldyB0ZShhLGEudmlkZW8pOllmKGEsZSk7aWYoIWUpcmV0dXJuIFdhKGMpLmZvckVhY2goZnVuY3Rpb24oYSl7YS5kZXN0cm95KCl9KSwhMTtjW2RdPWV9YS5QYihhLm5jKTthLmM9YztyZXR1cm4hMH0KZnVuY3Rpb24gWWYoYSxiKXt2YXIgYz1OZChiKSxkPVpmKGMuc3BsaXQoIjsiKVswXSksZT1udWxsLGY9YS5hLmdldEJvb2woInVzZV9sb2NhbF9lc3RpbWF0b3JfZm9yX2Ficl9zYW1wbGluZyIsITApP2Eua2I6YS53YSxnPW51bGwsaD1udWxsLGs9YS5iLmZ8fGEuYi5BLGs9YS5hLmdldEJvb2woInNraXBfc2VnbWVudF9yZXF1ZXN0X21hbmFnZXIiLCExKSYmazthLldiJiZjYW5Vc2VGZXRjaFN0cmVhbSgpPyhoPW5ldyBNdWx0aXBsZVNlZ21lbnRzUHJvdmlkZXIoYS5hLmdldE51bWJlcigic3RyZWFtaW5nX3NlZ21lbnRfc2l6ZSIsNCkpLGc9JGYoYSxoLGQsZikpOmEuVmImJiFrJiYoZT1hZyhhLGQsZikpO3ZhciBrPW51bGwsbD1hLmYuZ2V0KGQpOyJ2aWRlbyI9PT1kJiYwPGwubGVuZ3RoJiYoaz1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz1udWxsLGQ9bnVsbCxlPTA7ZTxsWzBdLnYubGVuZ3RoO2UrKylsWzBdLnZbZV0uaWQ9PT1hP2M9bFswXS52W2VdOmxbMF0udltlXS5pZD09PQpiJiYoZD1sWzBdLnZbZV0pO3JldHVybiBudWxsPT09Y3x8bnVsbD09PWQ/MDpjLmJhbmR3aWR0aD5kLmJhbmR3aWR0aD8xOi0xfSk7Yz1uZXcgVShhLGEudmlkZW8sYS5hLGEuaSxjLGYsYS5wYyxhLmRhLGssYS5HLGUsZyxoLGEuaWEpO2MucGEoYS5nKTtyZXR1cm4gY30KZnVuY3Rpb24gJGYoYSxiLGMsZCl7dmFyIGU9YS53W2NdLGY9ImF1ZGlvIiE9PWN8fGEuYS5nZXRCb29sKCJlbmFibGVfYXVkaW9fc3RyZWFtaW5nIiwhMSk7aWYoIWUmJmYpe3ZhciBlPW5ldyBWaWRlb1N0cmVhbWluZ01hbmFnZXIoYS5hLGIsYyxhLmwsYS5VKSxnPSJ2aWRlbyI9PT1jO2cmJmUuYWRkTGlzdGVuZXIoImJhbmR3aWR0aFVwZGF0ZSIsZnVuY3Rpb24oYSl7ZC5zYW1wbGUoYS50aW1lVGFrZW4sYS5ieXRlc1JlYWQsZyx7dGltZVRvTGFzdEJ5dGU6YS50aW1lVGFrZW59LHRoaXMuQWIsdGhpcy5sLCF0aGlzLmEuZ2V0Qm9vbCgiZXZhbHVhdGVfYWJyX29uX3N0cmVhbV9iYW5kd2lkdGhfc2FtcGxlIiwhMCkpfS5iaW5kKGEpKX1lJiYoYS53W2NdPWUpO3JldHVybiBlfHxudWxsfQpmdW5jdGlvbiBhZyhhLGIsYyl7aWYoInZpZGVvIj09PWJ8fCJhdWRpbyI9PT1iJiZhLmEuZ2V0Qm9vbCgiZW5hYmxlX3JlcXVlc3RfcGlwZWxpbmluZ19mb3Jfdm9kX2F1ZGlvcyIsITEpKXt2YXIgZD1hLm9bYl07ZHx8KGQ9bmV3IFNlZ21lbnRSZXF1ZXN0TWFuYWdlcihhLmEsYixhLlAoKT9WaWRlb1ByaW9yaXR5Q2FsY3VsYXRvci5jYWxjdWxhdGVMaXZlOlZpZGVvUHJpb3JpdHlDYWxjdWxhdG9yLmNhbGN1bGF0ZSxhLmwsYyxhLkFiLGEuZGEsYS5pYSksYS5SJiZkLnVwZGF0ZVByaW9yaXR5V2l0aE5ld0FkanVzdG1lbnQoYS5SLmdldFByaW9yaXR5QWRqdXN0bWVudCgpKSxhLm9bYl09ZCk7cmV0dXJuIGR9cmV0dXJuIG51bGx9ZnVuY3Rpb24gYmcoYSxiKXthLnZpZGVvLmN1cnJlbnRUaW1lPWI7YS5hLmdldEJvb2woInNldF9wZW5kaW5nX3NlZWtfb25fc2V0X2N1cnJlbnRfdGltZV9mYWlsdXJlIiwhMSkmJmEudmlkZW8uY3VycmVudFRpbWUrMTxiJiZjZyhhLGIpO2EuRD1ifQpmdW5jdGlvbiBYZihhLGIsYyl7YS5rYz1hLnZpZGVvLnBsYXliYWNrUmF0ZTthLnZpZGVvLnBsYXliYWNrUmF0ZT0wO2RnKGEsYyk7dmFyIGQ7ZD1hLmIuZjsoIWEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9hZGp1c3Rfc3RyZWFtX2xpbWl0c19zdGFydF9vZmZzZXRfaW50IiwwKSYmIWEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9qdW1wX3RvX2xpdmVfc2lkeF9lbmRfb2Zmc2V0IiwwKXx8IWQpJiZhLmxhJiZhLmxhPD1jLmVuZCYmYS5sYT49Yy5zdGFydD9kPWEubGE6YS5iLmI/KGQ9ZWcoYSxjKSxhLmVjPSEwKTpkPWMuc3RhcnQ7RShhLmgsYS52aWRlbywic2Vla2luZyIsYS5tZC5iaW5kKGEpKTthLkk/KGEuSS5zZXRPblBsYXlpbmcoYS5tYi5iaW5kKGEsITApKSxhLkkuc2V0T25QYXVzZWQoYS5tYi5iaW5kKGEsITEpKSxhLkkuZW5hYmxlKCkpOihFKGEuaCxhLnZpZGVvLCJwbGF5aW5nIixhLm1iLmJpbmQoYSwhMCkpLGEuYS5nZXRCb29sKCJ1cGRhdGVfcHJpb3JpdHlfb25fcGxheV9ldmVudCIsCiEwKSYmRShhLmgsYS52aWRlbywicGxheSIsYS5tYi5iaW5kKGEsITApKSxFKGEuaCxhLnZpZGVvLCJwYXVzZSIsYS5tYi5iaW5kKGEsITEpKSk7RShhLmgsYS52aWRlbywic2Vla2luZyIsYS5NYy5iaW5kKGEpKTtFKGEuaCxhLnZpZGVvLCJ0aW1ldXBkYXRlIix0aHJvdHRsZShhLk1jLmJpbmQoYSksYS5hLmdldE51bWJlcigic2NoZWR1bGVyX3ByaW9yaXR5X3VwZGF0ZV9pbnRlcnZhbCIsMUUzKSkpO2lmKGEudmlkZW8uY3VycmVudFRpbWUhPWQpaWYoYS5TYikwIT09YS52aWRlby5yZWFkeVN0YXRlP2JnKGEsZCk6Y2coYSxkKTtlbHNlIHRyeXtiZyhhLGQpfWNhdGNoKGUpe2NnKGEsZCl9ZmcoYSxjLnN0YXJ0LGMuZW5kLGMubGFzdCxjLlphKTt2YXIgZj1bXSxnO2ZvcihnIGluIGEuYyl7Yz1hLmNbZ107SihhLGZ1bmN0aW9uKGEpe2YucHVzaChhLktjKHRoaXMuc2EpLnRoZW4oSih0aGlzLGZ1bmN0aW9uKGIpe3ZhciBjPWEuc2IoKTtjPnRoaXMuQmImJih0aGlzLkJiPWMpO3JldHVybiBifSkpKX0pKGMpOwpFKGEuaCxjLCJlbmRlZCIsYS5vZC5iaW5kKGEpKTtFKGEuaCxjLCJzaG91bGRfZW5kX2FsbF9zdHJlYW1zIixhLnBkLmJpbmQoYSkpO0UoYS5oLGMsInNob3VsZF9udWRnZSIsYS5qZC5iaW5kKGEpKTtkPWJbZ107dmFyIGg9YS5BLmdldEluaXRpYWxTd2l0Y2hSZWFzb24oKXx8dm9pZCAwO2MuamIoZCwhMSx2b2lkIDAsaCl9UHJvbWlzZS5hbGwoZikudGhlbihKKGEsZnVuY3Rpb24oYSl7dGhpcy5hLmdldEJvb2woInByZXZlbnRfc3RyZWFtX3N0YXJ0X2lmX3N0cmVhbXNfY2hhbmdlIiwhMSkmJiFnZyh0aGlzKXx8aGcodGhpcyxhKX0pKS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7ImRlc3Ryb3kiIT1hLnR5cGUmJihhPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGEpKX0pKTtuZihhLGEueWEpfQpuLm1iPWZ1bmN0aW9uKGEpe09iamVjdC5rZXlzKHRoaXMubykuZm9yRWFjaChmdW5jdGlvbihiKXt0aGlzLm9bYl0udXBkYXRlUHJpb3JpdHlXaXRoTmV3UGxheWluZ1N0YXRlKGEpfS5iaW5kKHRoaXMpKTtPYmplY3Qua2V5cyh0aGlzLncpLmZvckVhY2goZnVuY3Rpb24oYil7dGhpcy53W2JdLmdldFByaW9yaXR5VXBkYXRlcigpLnVwZGF0ZVByaW9yaXR5V2l0aE5ld1BsYXlpbmdTdGF0ZShhKX0uYmluZCh0aGlzKSk7aWYodGhpcy5sKXt2YXIgYj1NZih0aGlzLEhmKHRoaXMpKTtiJiZ0aGlzLnZpZGVvLmN1cnJlbnRUaW1lPGIuc3RhcnQmJkJhbnphaU9EUy5idW1wRW50aXR5S2V5KDI5NjYsInZpZGVvcy53d3cuc2hha2EiLCJjdXJyZW50X3RpbWVfYXRfcGxheWluZ19sZXNzX3RoYW5fc3RyZWFtX2xpbWl0c19zdGFydCIpfWEmJm51bGwhPT10aGlzLmNhJiYodGhpcy54YT0xLFJmKHRoaXMsdGhpcy54YSksaWcodGhpcykpfTsKbi5NYz1mdW5jdGlvbigpe3RoaXMudmlkZW8mJihPYmplY3Qua2V5cyh0aGlzLm8pLmZvckVhY2goZnVuY3Rpb24oYSl7dGhpcy5vW2FdLnVwZGF0ZVByaW9yaXR5V2l0aE5ld1BsYXloZWFkKHRoaXMudmlkZW8uY3VycmVudFRpbWUpfS5iaW5kKHRoaXMpKSxPYmplY3Qua2V5cyh0aGlzLncpLmZvckVhY2goZnVuY3Rpb24oYSl7dGhpcy53W2FdLmdldFByaW9yaXR5VXBkYXRlcigpLnVwZGF0ZVByaW9yaXR5V2l0aE5ld1BsYXloZWFkKHRoaXMudmlkZW8uY3VycmVudFRpbWUpfS5iaW5kKHRoaXMpKSl9O2Z1bmN0aW9uIFFmKGEpe2lmKGEuYS5nZXRCb29sKCJjbGVhcl9jdXJyZW50X3NlZ21lbnRfaW5kZXhlc19kdXJpbmdfbGl2ZWhlYWRfY2F0Y2h1cCIsITEpKWZvcih2YXIgYiBpbiBhLmMpYS5jW2JdLmk9bnVsbH1mdW5jdGlvbiBjZyhhLGIpe2EuYmE9Yjtmb3IodmFyIGMgaW4gYS5jKXt2YXIgZD1hLmNbY107YS5iYSYmKGQuSj1hLmJhKX19CmZ1bmN0aW9uIGdnKGEpe3JldHVybiFPYmplY3Qua2V5cyhhLmMpLnNvbWUoSihhLGZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNbYV0mJiF0aGlzLmNbYV0uaH0pKX0KZnVuY3Rpb24gaGcoYSxiKXtiYShiJiZiLmxlbmd0aD09T2JqZWN0LmtleXMoYS5jKS5sZW5ndGgpO2Zvcih2YXIgYz1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksZD1OdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFksZT0wO2U8Yi5sZW5ndGg7KytlKXZhciBmPWJbZV0sYz1NYXRoLm1pbihjLGYpLGQ9TWF0aC5tYXgoZCxmKTtjPUhmKGEpO2ZvcihlPTA7ZTxjLmxlbmd0aDsrK2UpY1tlXS5UYShkKTthLmEuZ2V0Qm9vbCgicHJvY2Vzc19kZWZlcnJlZF9zd2l0Y2hlc19lYXJseSIsITEpJiZqZyhhKTtrZyhhLGMsZCk7dmFyIGc9V2EoYS5jKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuV2EoKS5pZH0pO2EuYS5nZXRCb29sKCJzZXF1ZW50aWFsbHlfbG9hZF9zdHJlYW1zIiwhMSk/bGcoYSxnLGQpOihlPSRhKGEuZikubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLnZ9KS5yZWR1Y2UoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5jb25jYXQoYil9LFtdKS5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIX5nLmluZGV4T2YoYS5pZCl9KS5tYXAoSihhLApmdW5jdGlvbihhKXt2YXIgYj1bYS5NLnBiP2EuTS5wYigpOmEuTS5jcmVhdGUoKV07YS5hYSYmYi5wdXNoKGEuYWEuY3JlYXRlKHRoaXMubCx0aGlzLmRhKSk7cmV0dXJuIFByb21pc2UuYWxsKGIpfSkpLFByb21pc2UuYWxsKGUpLnRoZW4oSihhLGZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7KytiKWFbYl1bMF0uVGEoZCk7dGhpcy5DYT0hMDtqZyh0aGlzKX0pKS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7ImFib3J0ZWQiIT1hLnR5cGUmJihhPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGEpKX0pKSl9CmZ1bmN0aW9uIGxnKGEsYixjKXt2YXIgZD1Qcm9taXNlLnJlc29sdmUoKTskYShhLmYpLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS52fSkucmVkdWNlKGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuY29uY2F0KGIpfSxbXSkuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiF+Yi5pbmRleE9mKGEuaWQpfSkuZm9yRWFjaChmdW5jdGlvbihhKXtkPWQudGhlbihKKHRoaXMsZnVuY3Rpb24oYil7YiYmYlswXS5UYShjKTtiPVthLk0ucGI/YS5NLnBiKCk6YS5NLmNyZWF0ZSgpXTthLmFhJiZiLnB1c2goYS5hYS5jcmVhdGUodGhpcy5sLHRoaXMuZGEpKTtyZXR1cm4gUHJvbWlzZS5hbGwoYil9KSkuY2F0Y2goZnVuY3Rpb24oYSl7dGhyb3cgYTt9KX0pO2QudGhlbihKKGEsZnVuY3Rpb24oKXt0aGlzLkNhPSEwO2pnKHRoaXMpfSkpLmNhdGNoKEooYSxmdW5jdGlvbihhKXsiYWJvcnRlZCIhPWEudHlwZSYmKGE9QShhKSx0aGlzLmRpc3BhdGNoRXZlbnQoYSkpfSkpfQpmdW5jdGlvbiBqZyhhKXtmb3IodmFyIGIgaW4gYS5CKXt2YXIgYz1hLkJbYl07YS5jW2JdLmpiKGMuTGMsYy5yYyxjLnNjLGMuc3dpdGNoUmVhc29uLGMuS2EpfWEuQj17fX0KZnVuY3Rpb24ga2coYSxiLGMpe3ZhciBkO2EuYS5nZXRCb29sKCJ3d3dfdmlkZW9zX2V4dGVuZGVkX3NwbF9sb2dnaW5nX2Zvcl9jb25uZWN0ZWRfdHYiLCExKSYmYS5sJiYoZD1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJzdHJlYW1fdmlkZW9fc291cmNlX2JlZ2luX3BsYXliYWNrIikpO2lmKGI9TWYoYSxiKSlkZyhhLGIpLGZnKGEsYi5zdGFydCxiLmVuZCxiLmxhc3QsYi5aYSk7MCE9Yz8oYz1hLnZpZGVvLmN1cnJlbnRUaW1lK2MsYS5hLmdldE51bWJlcigid3d3X3ZpZGVvc19udWRnZV90aW1lc3RhbXBfY29ycmVjdGlvbl9zIiwwKSYmKGMrPWEuYS5nZXROdW1iZXIoInd3d192aWRlb3NfbnVkZ2VfdGltZXN0YW1wX2NvcnJlY3Rpb25fcyIsMCkpLGEudmlkZW8uY3VycmVudFRpbWU9YyxhLkQ9Yyk6YS5lYyYmYiYmKGM9ZWcoYSxiKSxNYXRoLmFicyhjLWEudmlkZW8uY3VycmVudFRpbWUpPj1hLmRjJiYoYS52aWRlby5jdXJyZW50VGltZT1jKSk7YS5hLmdldEJvb2woInVuaWZ5X3N0cmVhbV9zdGFydF93aXRoX2J1ZmZlcl9kZXRlY3RvciIsCiExKT8oYz15KHt0eXBlOiJhbGxTdHJlYW1zU3RhcnRlZCIsYnViYmxlczohMH0pLGEuZGlzcGF0Y2hFdmVudChjKSk6YS52aWRlby5wbGF5YmFja1JhdGU9YS5rYzthLmIuYiYmbnVsbCE9YS5iLmMmJktmKGEsMCk7bWcoYSk7YS5zYS5yZXNvbHZlKCk7ZCYmZC5sb2coKX0KZnVuY3Rpb24gZWcoYSxiKXt2YXIgYz1iLmVuZDt2b2lkIDAhPT1iLkJjJiYoYz1iLkJjKTtpZihhLmEuZ2V0Qm9vbCgidGVtcGxhdGVkX2Fsd2F5c19qdW1wX3RvX3N0cmVhbV9saW1pdHNfZW5kIiwhMSkmJmEuYiYmYS5iLmYpcmV0dXJuIGIuZW5kO2lmKGEuY2Mpe3ZhciBkPWEudmlkZW8uY3VycmVudFRpbWUsZT1iLnN0YXJ0O2lmKGEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9hZGp1c3Rfc3RyZWFtX2xpbWl0c19zdGFydF9vZmZzZXRfaW50IiwwKSYmYS5iJiZhLmIuZil7Zm9yKHZhciBmPUhmKGEpLGc9MCxoPTA7aDxmLmxlbmd0aDsrK2gpe3ZhciBrPWZbaF0sbD1NYXRoLm1pbihhLmEuZ2V0TnVtYmVyKCJ0ZW1wbGF0ZWRfYWRqdXN0X3N0cmVhbV9saW1pdHNfc3RhcnRfb2Zmc2V0X2ludCIsMCksay5sZW5ndGgoKSk7ay5sZW5ndGgoKSYmMDxsJiZsPD1rLmxlbmd0aCgpJiYoZz1NYXRoLm1heChrLmdldChrLmxlbmd0aCgpLWwpLnN0YXJ0VGltZSxnKSl9ZT1NYXRoLm1heChlLApnKX1pZihkPj1lJiZkPD1iLmVuZCYmZDxjKWlmKGEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9qdW1wX3RvX2xpdmVfc2lkeF9lbmRfb2Zmc2V0IiwwKSYmYS5iJiZhLmIuZil7Zj1IZihhKTtrPW51bGw7ZT1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7Zm9yKGg9MDtoPGYubGVuZ3RoOysraClmW2hdLmxlbmd0aCgpPGUmJihlPWZbaF0ubGVuZ3RoKCksaz1mW2hdKTtrJiZlPmEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9qdW1wX3RvX2xpdmVfc2lkeF9lbmRfb2Zmc2V0IiwwKSYmKGY9ay5nZXQoay5sZW5ndGgoKS1hLmEuZ2V0TnVtYmVyKCJ0ZW1wbGF0ZWRfanVtcF90b19saXZlX3NpZHhfZW5kX29mZnNldCIsMCkpLnN0YXJ0VGltZSxkPj1mJiYoYz1kKSl9ZWxzZSBjPWR9cmV0dXJuIGN9CmZ1bmN0aW9uIGRnKGEsYil7aWYoYS5iLmIpaXNOYU4oYS5pLmR1cmF0aW9uKSYmKGEuaS5kdXJhdGlvbj1iLmVuZCsyNTkyRTMpO2Vsc2UgaWYoaXNOYU4oYS5pLmR1cmF0aW9uKXx8Yi5lbmQ+YS5pLmR1cmF0aW9uKWlmKGEuaS5kdXJhdGlvbj1iLmVuZCwhYS5hLmdldEJvb2woImRpc2FibGVfYXBwZW5kX3dpbmRvd19lbmQiLCExKSlmb3IodmFyIGM9YS5hLmdldE51bWJlcigiYXBwZW5kX3dpbmRvd19lbmRfZnVkZ2VfZmFjdG9yIiwwKSxkPTA7ZDxhLmkuc291cmNlQnVmZmVycy5sZW5ndGg7KytkKWEuaS5zb3VyY2VCdWZmZXJzW2RdLmFwcGVuZFdpbmRvd0VuZD1iLmVuZCtjfQpuLnJkPWZ1bmN0aW9uKCl7dGhpcy5rYT1udWxsO21nKHRoaXMpO3ZhciBhPU1mKHRoaXMsSGYodGhpcykpO2lmKGEpe3ZhciBiPXRoaXMuYi5iO3RoaXMuYS5nZXRCb29sKCJ0cmVhdF9saXZlX3N0YXRpY19tYW5pZmVzdF9hc19keW5hbWljIiwhMSkmJihiPWJ8fHRoaXMuYi5oKTtiJiZ0aGlzLmphIT1hLmxhc3QmJih0aGlzLmphPWEubGFzdCxudWxsIT10aGlzLmomJihjbGVhclRpbWVvdXQodGhpcy5qKSx0aGlzLmo9bnVsbCkpO2ZnKHRoaXMsYS5zdGFydCxhLmVuZCxhLmxhc3QsYS5aYSk7dGhpcy52aWRlby5wYXVzZWR8fG5nKHRoaXMsdGhpcy52aWRlby5jdXJyZW50VGltZSxhLnN0YXJ0LGEuZW5kKX19O2Z1bmN0aW9uIGZnKGEsYixjLGQsZSl7Yj15KHt0eXBlOiJzZWVrcmFuZ2VjaGFuZ2VkIixidWJibGVzOiEwLHN0YXJ0OmIsZW5kOmMsbGFzdDpkLHNlZWtSYW5nZUdhcHM6ZX0pO2EuZGlzcGF0Y2hFdmVudChiKX0Kbi5tZD1mdW5jdGlvbigpe3ZhciBhPXRoaXMudmlkZW8uY3VycmVudFRpbWUsYj1NZih0aGlzLEhmKHRoaXMpKTt0aGlzLmwmJmImJmE8Yi5zdGFydCYmQmFuemFpT0RTLmJ1bXBFbnRpdHlLZXkoMjk2NiwidmlkZW9zLnd3dy5zaGFrYSIsImN1cnJlbnRfdGltZV9hdF9zZWVrX2xlc3NfdGhhbl9zdHJlYW1fbGltaXRzX3N0YXJ0Iik7aWYobnVsbCE9dGhpcy5EKXtpZihhPj10aGlzLkQtLjAxJiZhPD10aGlzLkQrLjAxKXt0aGlzLkQ9bnVsbDt0aGlzLmwmJmImJmE8Yi5zdGFydCYmQmFuemFpT0RTLmJ1bXBFbnRpdHlLZXkoMjk2NiwidmlkZW9zLnd3dy5zaGFrYSIsImlnbm9yZWRfc2Vla193aGVuX2N1cnJlbnRfdGltZV9hdF9zZWVrX2xlc3NfdGhhbl9zdHJlYW1fbGltaXRzX3N0YXJ0Iik7cmV0dXJufXRoaXMuRD1udWxsfWlmKGIpe3ZhciBjPWIuc3RhcnQsZD1iLmVuZDt0aGlzLmEuZ2V0Qm9vbCgic2tpcF9yZW1haW5pbmdfYnVmZmVyZWRfb25fc3RyZWFtX2VuZCIsITEpJiZ0aGlzLmIuYiYmCnRoaXMuYi5oJiZ0aGlzLnZpZGVvLnBhdXNlZCYmKGQ9dGhpcy5qYSk7KGM9bmcodGhpcyxhLGMsZCkpfHwoYTw9ZCsuMDF8fHRoaXMuYi5iJiYhb2codGhpcyxkKT9jPSExOih0aGlzLnZpZGVvLmN1cnJlbnRUaW1lPWQsYz0hMCkpO2lmKGMpdGhpcy5sJiZhPGIuc3RhcnQmJkJhbnphaU9EUy5idW1wRW50aXR5S2V5KDI5NjYsInZpZGVvcy53d3cuc2hha2EiLCJjbGFtcF9wbGF5aGVhZF93aGVuX2N1cnJlbnRfdGltZV9hdF9zZWVrX2xlc3NfdGhhbl9zdHJlYW1fbGltaXRzX3N0YXJ0Iik7ZWxzZXtmb3IodmFyIGUgaW4gdGhpcy5jKXRoaXMuY1tlXS5DYyh0aGlzLkVhKTt0aGlzLkVhPSExfX19O2Z1bmN0aW9uIG5nKGEsYixjLGQpe2lmKGI+PWMtLjAxKXJldHVybiExO2I9MDthLmIuYiYmKGI9LjUsb2coYSxjK2IpfHwoYj1hLmIuZykpO2EudmlkZW8uY3VycmVudFRpbWU9TWF0aC5taW4oYytiLGQpO3JldHVybiEwfQpmdW5jdGlvbiBvZyhhLGIpe2Zvcih2YXIgYyBpbiBhLmMpaWYoIWEuY1tjXS5JYyhiKSlyZXR1cm4hMTtyZXR1cm4hMH1uLm9kPWZ1bmN0aW9uKCl7aWYoIXRoaXMuYi5ifHx0aGlzLkZhKXtmb3IodmFyIGEgaW4gdGhpcy5jKWlmKCF0aGlzLmNbYV0uZmIoKSlyZXR1cm47dGhpcy5lYigpfX07bi5wZD1mdW5jdGlvbigpe2NsZWFyVGltZW91dCh0aGlzLnUpO3RoaXMuRmE9ITA7Zm9yKHZhciBhIGluIHRoaXMuYyl0aGlzLmNbYV0uZmIoKXx8dGhpcy5jW2FdLkNiKCl9O24uamQ9ZnVuY3Rpb24oKXt0aGlzLmEuZ2V0Qm9vbCgiaWdub3JlX3NlZWtfd2hlbl9udWRnaW5nIiwhMCkmJih0aGlzLkQ9dGhpcy52aWRlby5jdXJyZW50VGltZSk7dGhpcy52aWRlby5jdXJyZW50VGltZSs9LjAwMX07Cm4udGI9ZnVuY3Rpb24oKXtpZih0aGlzLmFjKCl8fHRoaXMuYmMoKSlyZXR1cm4hMDt2YXIgYT10aGlzLmIsYj1udWxsLGM9bnVsbDthJiZhLmEmJmEuYVswXSYmKGI9YS5hWzBdKTtiJiZiLmEmJmIuYVswXSYmKGM9Yi5hWzBdKTtyZXR1cm4hIWMmJmMuYn07WS5wcm90b3R5cGUuaGFzSW5saW5lZENlYTYwOFN1YnRpdGxlcz1ZLnByb3RvdHlwZS50YjtZLnByb3RvdHlwZS5QYj1mdW5jdGlvbihhKXt0aGlzLm5jPWE7dmFyIGI9dGhpcy5jOyJ2aWRlbyJpbiBiJiYoYT1hJiZ0aGlzLnRiKCksYi52aWRlby5jLlM9YSl9O1kucHJvdG90eXBlLnNldEVuYWJsZUNlYTYwOFBhcnNpbmc9WS5wcm90b3R5cGUuUGI7CmZ1bmN0aW9uIHNmKGEpe3ZhciBiPWEuYS5nZXROdW1iZXIoImxpdmVfYnVmZmVyaW5nX3VuZGVyZmxvd190aHJlc2hvbGQiLC41KSxjPWEuYS5nZXRCb29sKCJmaXhfbGl2ZV9zdHJlYW1fZ29uZV9vbl9tYW5pZmVzdF91cGRhdGUiLCEwKSYmYS5oYyxkPSExO2lmKGEuYi5oKXt2YXIgZD1hLmEuZ2V0TnVtYmVyKCJsaXZlX3N0cmVhbV9lbmRfc2xhY2siLDApLGU7Zm9yKGUgaW4gYS5jKWEuY1tlXS5mYigpfHwoZD0wKTtkPWEudmlkZW8uY3VycmVudFRpbWUrYitkPmEuamF9cmV0dXJuIGN8fGR9bj1ZLnByb3RvdHlwZTsKbi5jZD1mdW5jdGlvbigpe3RoaXMuJD0hMDtpZih0aGlzLmImJnRoaXMuYi5iKXtpZihzZih0aGlzKSlyZXR1cm4gdGhpcy5lYigpO3RoaXMuYS5nZXRCb29sKCJhbGxvd19pbmZpbml0ZV9yZXRyeV9vbl9uZXRfZXJyIiwhMCkmJnRoaXMuRy5pc05ldHdvcmtJbnRlcnJ1cHRlZCgpfHwhV2EodGhpcy5jKS5ldmVyeShmdW5jdGlvbihhKXtyZXR1cm4gYS5mYigpfSl8fHBnKHRoaXMsdGhpcy5nYil9dGhpcy5hLmdldEJvb2woImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvdyIsITEpJiYobnVsbD09PXRoaXMuS3x8RGF0ZS5ub3coKS10aGlzLmZjPnRoaXMuYS5nZXROdW1iZXIoImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvd190aW1lX3dpbmRvdyIsMkUzKT90aGlzLks9dGhpcy5hLmdldE51bWJlcigiYnVmZmVyaW5nX292ZXJmbG93X3RocmVzaG9sZCIsMCk6dGhpcy5LKj10aGlzLmEuZ2V0TnVtYmVyKCJiYWNrX29mZl9idWZmZXJpbmdfb3ZlcmZsb3dfdGltZV9mYWN0b3IiLDIpLAp0aGlzLks9TWF0aC5taW4odGhpcy5LLHRoaXMuYS5nZXROdW1iZXIoImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvd19tYXgiLDUpKSl9O2Z1bmN0aW9uIHBnKGEsYil7YS5qPXNldFRpbWVvdXQoYS5lYi5iaW5kKGEpLGIpfW4uYmQ9ZnVuY3Rpb24oKXt0aGlzLiQ9ITE7dGhpcy5hLmdldEJvb2woImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvdyIsITEpJiYodGhpcy5mYz1EYXRlLm5vdygpKTtudWxsIT10aGlzLmomJihjbGVhclRpbWVvdXQodGhpcy5qKSx0aGlzLmo9bnVsbCl9O24uZ2Q9ZnVuY3Rpb24oKXtudWxsIT09dGhpcy5iYSYmKGJnKHRoaXMsdGhpcy5iYSksY2codGhpcyxudWxsKSl9O24uR2Q9ZnVuY3Rpb24oKXt9OwpuLmViPWZ1bmN0aW9uKCl7dGhpcy4kPSExO3RoaXMuaj1udWxsO3ZhciBhO2lmKGE9dGhpcy5hLmdldEJvb2woInRlc3Rfc291cmNlX2J1ZmZlcnNfbm90X3VwZGF0aW5nX2VuZF9vZl9zdHJlYW0iLCExKSlhOntmb3IoYT0wO2E8dGhpcy5pLnNvdXJjZUJ1ZmZlcnMubGVuZ3RoOysrYSlpZih0aGlzLmkuc291cmNlQnVmZmVyc1thXS51cGRhdGluZyl7YT0hMDticmVhayBhfWE9ITF9aWYoYSlyZXR1cm4gcGcodGhpcywxRTMpOyJvcGVuIj09dGhpcy5pLnJlYWR5U3RhdGUmJnRoaXMuaS5lbmRPZlN0cmVhbSgpfTtmdW5jdGlvbiBIZihhKXtyZXR1cm4gV2EoYS5jKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuRmIoKX0pLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YX0pfWZ1bmN0aW9uIExmKGEpe3JldHVybiBNYXRoLm1heChhLmI/YS5iLmc6MSxhLlpiP2EuZy5zdHJlYW1CdWZmZXJTaXplfHwwOjApfQpmdW5jdGlvbiBNZihhLGIpe2Zvcih2YXIgYz0wLGQ9TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLGU9TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLGY9W10sZz0hVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJub19zZWVrX3JhbmdlX2dhcHNfZHVyaW5nX2NvbXB1dGVfc3RyZWFtX2xpbWl0cyIsITEpLGg9MDtoPGIubGVuZ3RoOysraCl7dmFyIGs9YltoXS5BKCk7ZyYmKGY9Zi5jb25jYXQoYltoXS5nZXRTZWVrUmFuZ2VHYXBzKCkpKTtjPU1hdGgubWF4KGMsay5zdGFydCk7bnVsbCE9ay5lbmQmJihkPU1hdGgubWluKGQsay5lbmQpKTtiW2hdLmxlbmd0aCgpJiYoZT1NYXRoLm1pbihlLGJbaF0ubGFzdCgpLmVuZFRpbWUpKX1nJiYoZj1tZXJnZVNlZWtSYW5nZUdhcHMoZikpO2lmKGQ9PU51bWJlci5QT1NJVElWRV9JTkZJTklUWSlpZihkPWEuYi5hWzBdLGQuZHVyYXRpb24pZD0oZC5zdGFydHx8MCkrZC5kdXJhdGlvbjtlbHNlIHJldHVybiBudWxsO2lmKGEuYi5iKXt2YXIgZz0KTGYoYSksZD1NYXRoLm1heChkLWcsYyksbDthLnJhJiZhLmEuZ2V0Qm9vbCgibGl2ZV9qdW1wX3RvX3B1c2hlZF9zZWdtZW50IiwhMSkmJmIubGVuZ3RoJiYoaD1NYXRoLmZsb29yKExmKGEpLzEpKzEsZz1iWzBdLGg9Zy5sZW5ndGgoKS1oLChnPWcuZ2V0KGgpKSYmKGw9Zy5zdGFydFRpbWUpKX1pZihjPmQpcmV0dXJuIG51bGw7ZD1NYXRoLmZsb29yKDFFNSpkKS8xRTU7cmV0dXJue3N0YXJ0OmMsZW5kOmQsbGFzdDplLFphOmYsQmM6bH19bi5uYj1mdW5jdGlvbigpe3JldHVybiBNZih0aGlzLEhmKHRoaXMpKX07WS5wcm90b3R5cGUuY29tcHV0ZVN0cmVhbUxpbWl0cz1ZLnByb3RvdHlwZS5uYjtmdW5jdGlvbiBtZyhhKXthLmIuYiYmKGEua2E9c2V0VGltZW91dChhLnJkLmJpbmQoYSksMUUzKSl9ZnVuY3Rpb24gRGYoYSl7Zm9yKHZhciBiIGluIGEuYylhLmNbYl0ucGEoYS5nKX1ZLnByb3RvdHlwZS5zYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLkJifTsKWS5wcm90b3R5cGUuZ2V0TG9uZ2VzdEluaXRSZXNwb25zZVRpbWU9WS5wcm90b3R5cGUuc2I7ZnVuY3Rpb24gWmYoYSl7cmV0dXJuInYiPT09YS5jaGFyQXQoMCk/InZpZGVvIjoiYSI9PT1hLmNoYXJBdCgwKT8iYXVkaW8iOm51bGx9WS5wcm90b3R5cGUuVGM9ZnVuY3Rpb24oKXt2YXIgYT15KHt0eXBlOiJuZXR3b3JraW50ZXJydXB0ZWQiLGJ1YmJsZXM6ITB9KTt0aGlzLmRpc3BhdGNoRXZlbnQoYSk7dGhpcy5UPXRoaXMuVHx8RGF0ZS5ub3coKTt0aGlzLiQmJnRoaXMuaiYmY2xlYXJUaW1lb3V0KHRoaXMuail9OwpZLnByb3RvdHlwZS5VYz1mdW5jdGlvbigpe3ZhciBhPXkoe3R5cGU6Im5ldHdvcmtyZXN1bWVkIixidWJibGVzOiEwfSk7dGhpcy5kaXNwYXRjaEV2ZW50KGEpO2E9dGhpcy5hLmdldE51bWJlcigibWF4X25ldHdvcmtfaW50ZXJydXB0ZWRfdGltZV9iZWZvcmVfc2VlayIsMUU0KTtudWxsIT09dGhpcy5UJiZEYXRlLm5vdygpLXRoaXMuVD49YSYmKHRoaXMuVD1udWxsLHRoaXMuZWE9ITApO3RoaXMuYS5nZXRCb29sKCJmaXhfbmV0d29ya19pbnRlcnJ1cHRlZF9zdGFydF9ub3RfbnVsbGVkIiwhMSkmJih0aGlzLlQ9bnVsbCk7dGhpcy4kJiZwZyh0aGlzLHRoaXMuZ2IpfTtZLnByb3RvdHlwZS5WYz1mdW5jdGlvbigpe3RoaXMuZWE9ITB9O2Z1bmN0aW9uIFBmKGEpe2EuYS5nZXRCb29sKCJkZWNvdXBsZV9tcGRfdXBkYXRlX2xvb3BfZnJvbV9yZXF1ZXN0X2xvb3AiLCExKXx8S2YoYSwwKX1ZLnByb3RvdHlwZS5xYz1mdW5jdGlvbihhKXt0aGlzLm5hPWF9OwpZLnByb3RvdHlwZS5zZXRFbmFibGVMaXZlaGVhZENhdGNodXA9WS5wcm90b3R5cGUucWM7WS5wcm90b3R5cGUuemQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uYX07WS5wcm90b3R5cGUuaXNMaXZlaGVhZENhdGNodXBFbmFibGVkPVkucHJvdG90eXBlLnpkO1kucHJvdG90eXBlLlNjPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYy52aWRlbz90aGlzLmMudmlkZW8uYy5pOm51bGx9O1kucHJvdG90eXBlLmdldFZpZGVvU3RyZWFtUHJvZ3Jlc3NUcmFja2VyPVkucHJvdG90eXBlLlNjO1kucHJvdG90eXBlLnFiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYy52aWRlbz90aGlzLmMudmlkZW8ucWIoKTpudWxsfTtZLnByb3RvdHlwZS5nZXRCdWZmZXJWZWxvY2l0eT1ZLnByb3RvdHlwZS5xYjtmdW5jdGlvbiBSZihhLGIpe2Zvcih2YXIgYyBpbiBhLmMpYS5jW2NdLm5hPWJ9CmZ1bmN0aW9uIGlnKGEpe3ZhciBiPVtdO2lmKG51bGwhPT1hLmNhKXt2YXIgYz1hLmNhLGQ7Zm9yKGQgaW4gYS5jKWIucHVzaChyZShhLmNbZF0sYS5jYSkpO1Byb21pc2UuYWxsKGIpLnRoZW4oSihhLGZ1bmN0aW9uKCl7aWYoYyl7Zm9yKHZhciBhIGluIHRoaXMuYyl7dmFyIGI9dGhpcy5jW2FdO2IuSz1udWxsO2IuVj0hMTtiLkk9bnVsbH1jPnRoaXMudmlkZW8uY3VycmVudFRpbWUmJih0aGlzLnZpZGVvLmN1cnJlbnRUaW1lPWMpfX0pKX1hLmNhPW51bGx9O2Z1bmN0aW9uIFooYSxiLGMsZCxlLGYsZyl7ZHx8KGQ9bmV3IEcpO2V8fChlPW5ldyBYKTtZLmNhbGwodGhpcyxudWxsLGIsZCxlKTsic3RyaW5nIj09PXR5cGVvZiBhP3RoaXMuamM9YTp0aGlzLk5iPWE7dGhpcy5hPWI7dGhpcy5GPW51bGw7dGhpcy50YT1jO3RoaXMuRGE9W107dGhpcy5RYj1bXTt0aGlzLlJiPVtdO3RoaXMuSGE9MDt0aGlzLlk9bnVsbDt0aGlzLk1iPWd8fG51bGx9cihaLFkpO3EoInNoYWthLnBsYXllci5EYXNoVmlkZW9Tb3VyY2UiLFopO1oucHJvdG90eXBlLkpkPWZ1bmN0aW9uKGEpe3RoaXMuRj1hO3RoaXMuSmIoITAsITApfTtaLnByb3RvdHlwZS51cGRhdGVNYW5pZmVzdD1aLnByb3RvdHlwZS5KZDtaLnByb3RvdHlwZS5PYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLk5ifHx0aGlzLkZ9O1oucHJvdG90eXBlLmdldE1hbmlmZXN0PVoucHJvdG90eXBlLk9iO1oucHJvdG90eXBlLlRiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuT2IoKX07CloucHJvdG90eXBlLmRlYnVnR2V0TWFuaWZlc3Q9Wi5wcm90b3R5cGUuVGI7Wi5wcm90b3R5cGUuWmM9ZnVuY3Rpb24oYSxiLGMpe3RoaXMuRGEucHVzaChhKTt0aGlzLlFiLnB1c2goYnx8IiIpO3RoaXMuUmIucHVzaChjfHwiIil9O1oucHJvdG90eXBlLmFkZEV4dGVybmFsQ2FwdGlvbnM9Wi5wcm90b3R5cGUuWmM7Wi5wcm90b3R5cGUudGQ9ZnVuY3Rpb24oYSl7dGhpcy5ZPWF9O1oucHJvdG90eXBlLnNldE5ldHdvcmtDYWxsYmFjaz1aLnByb3RvdHlwZS50ZDtaLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5GPXRoaXMuWT10aGlzLnRhPW51bGw7WS5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpfTsKWi5wcm90b3R5cGUud2I9ZnVuY3Rpb24oKXt2YXIgYTt0aGlzLmwmJihhPXRoaXMubC5nZXRPcGVyYXRpb25Mb2dnZXIoInNvdXJjZV9sb2FkIikuc3RhcnQoKSk7dmFyIGIsYz1KKHRoaXMsZnVuY3Rpb24oYSl7aWYodGhpcy5hLmdldEJvb2woImVuYWJsZV9kb3VibGVfaW5nZXN0X29uX2luaXRpYWxfbXBkIiwhMSkpc3dpdGNoKGEuc3RhdHVzKXtjYXNlIDIwMDpjYXNlIDQxNzppZihhLnJlc3BvbnNlSGVhZGVycyYmbnVsbCE9YS5yZXNwb25zZUhlYWRlcnNbIngtZmItdmlkZW8tcmVwbGljYSJdKXJldHVybiB0aGlzLmRpc3BhdGNoRXZlbnQoeSh7dHlwZToicmVwbGljYXN3aXRjaCIsYnViYmxlczohMCxyZXBsaWNhOmEucmVzcG9uc2VIZWFkZXJzWyJ4LWZiLXZpZGVvLXJlcGxpY2EiXX0pKSxuZXcgUHJvbWlzZShmdW5jdGlvbigpe30pfXRocm93IGE7fSksZD1KKHRoaXMsZnVuY3Rpb24oYyl7dGhpcy5MYSgiTVBERmV0Y2hEdXJhdGlvbiIsKERhdGUubm93KCktYikvMUUzKTt0aGlzLkY9CmM7Zm9yKHZhciBkPTA7ZDx0aGlzLkRhLmxlbmd0aDtkKyspTGMoYyx0aGlzLkRhW2RdLHRoaXMuUWJbZF0sdGhpcy5SYltkXSk7dmFyIGQ9bmV3IHllKHRoaXMuYSx0aGlzLnRhLHRoaXMubCx0aGlzLk1iKSxlO3RoaXMubCYmKGU9dGhpcy5sLmdldE9wZXJhdGlvbkxvZ2dlcigicHJvY2Vzc19tYW5pZmVzdCIpLnN0YXJ0KCkpO3RoaXMuYj16ZShkLGMsdGhpcy5ZKTtlJiZlLmxvZygpO2EmJmEuc2V0TWFuaWZlc3RUeXBlKHRoaXMuYi5iPyJkeW5hbWljIjoic3RhdGljIik7cmV0dXJuIFkucHJvdG90eXBlLndiLmNhbGwodGhpcykudGhlbihmdW5jdGlvbigpe2EmJmEubG9nKCl9KX0pO2lmKHRoaXMuTmIpcmV0dXJuIGI9RGF0ZS5ub3coKSxkKHRoaXMuTmIpO3ZhciBlPVtuZXcgTCh0aGlzLmpjKV0sZjtpZih0aGlzLnJhKXt2YXIgZz1uZXcgVmlkZW9QdXNoUGFyYW1ldGVyc0hlbHBlcih0aGlzLmpjKTtnLnNldFN0cmVhbUVuZE9mZnNldChNYXRoLmZsb29yKExmKHRoaXMpLzEpKTsKdGhpcy5PYSYmZy5zZXRQdXNoVmlkZW9SZXByZXNlbnRhdGlvbklEKHRoaXMuT2EpO3RoaXMucGEmJmcuc2V0UHVzaEF1ZGlvUmVwcmVzZW50YXRpb25JRCh0aGlzLnBhKTt0aGlzLm1hJiZnLnNldFVzZUxvbmdDYWNoZUZvck1hbmlmZXN0KHRoaXMubWEpO2Y9bmV3IGZkKG51bGwpO2YuYT1nfWU9bmV3IEsodGhpcy5ZLGUsdm9pZCAwLHZvaWQgMCx2b2lkIDAsdGhpcy5NYik7Zj1uZXcgZGQoZSx0aGlzLkxiLGYsdGhpcy5kYSk7Yj1EYXRlLm5vdygpO3JldHVybiBlZChmLHRoaXMubCkudGhlbihkLGMpfTsKWi5wcm90b3R5cGUudmM9ZnVuY3Rpb24oKXtpZih0aGlzLlViKXt2YXIgYT10aGlzLmI7aWYoYT0oYT1hJiZhLmEpJiZhWzBdKXt2YXIgYT1hLmEucmVkdWNlKGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuY29uY2F0KGIudil9LFtdKSxiPWZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hfTtQcm9taXNlLmFsbChhLm1hcChmdW5jdGlvbihhKXthPWEuTTtyZXR1cm4gYS5RYz9hLlJhOmEuY3JlYXRlKCl9KSkudGhlbihmdW5jdGlvbihhKXthPWEuZmlsdGVyKGIpO3RoaXMuTGEoIkluaXRpYWxTZWdtZW50SW5kZXhlcyIsYSl9LmJpbmQodGhpcykpO1Byb21pc2UuYWxsKGEubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLmFhfSkpLnRoZW4oZnVuY3Rpb24oYSl7YT1hLmZpbHRlcihiKTt0aGlzLkxhKCJTZWdtZW50SW5pdFNvdXJjZXMiLGEpfS5iaW5kKHRoaXMpKX19fTsKWi5wcm90b3R5cGUueWM9ZnVuY3Rpb24oYSxiLGMpe2lmKHRoaXMudmlkZW8ucGF1c2VkJiZ0aGlzLkhhKzFFND5EYXRlLm5vdygpJiZ0aGlzLmIpcmV0dXJuIFByb21pc2UucmVqZWN0KHt0eXBlOiJkZWxheSJ9KTt2YXIgZDtpZihiJiZ2b2lkIDAhPWMpZD1uZXcgZmQoYiksZC5mPWMsYj1TZih0aGlzKSxudWxsIT1iJiYoZC5jPWIuc3RyZWFtSW5mb0lELGQuYj10aGlzLnBhKTtlbHNlIGZvcihiPWEuYyxjPTA7YzxiLmxlbmd0aDtjKyspe3ZhciBlPW5ldyBWaWRlb1B1c2hQYXJhbWV0ZXJzSGVscGVyKGJbY10udG9TdHJpbmcoKSk7dGhpcy5tYSYmZS5zZXRVc2VMb25nQ2FjaGVGb3JNYW5pZmVzdCh0aGlzLm1hKTtiW2NdPW5ldyBMKGUuZ2V0VVJMKCkpfWE9bmV3IGRkKGEsdGhpcy5MYixkLHRoaXMuZGEpO3ZhciBmPURhdGUubm93KCk7cmV0dXJuIGVkKGEsdGhpcy5sKS50aGVuKEoodGhpcyxmdW5jdGlvbihhKXt0aGlzLkhhPURhdGUubm93KCk7dGhpcy5MYSgiTVBERmV0Y2hEdXJhdGlvbiIsCih0aGlzLkhhLWYpLzFFMyk7dGhpcy5hLmdldEJvb2woInRyZWF0X2xpdmVfc3RhdGljX21hbmlmZXN0X2FzX2R5bmFtaWMiLCExKSYmKGEubWFuaWZlc3RJc0xpdmVTdHJlYW1pbmc9ImR5bmFtaWMiPT09KHRoaXMuRj90aGlzLkYudHlwZTphLnR5cGUpKTt0aGlzLkY9YTt2YXIgYj1uZXcgeWUodGhpcy5hLHRoaXMudGEsdGhpcy5sLHRoaXMuTWIpO2lmKHRoaXMubCl2YXIgYz10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJwcm9jZXNzX21hbmlmZXN0Iikuc3RhcnQoKTthPXplKGIsYSx0aGlzLlkpO2MmJmMubG9nKCk7cmV0dXJuIFByb21pc2UucmVzb2x2ZShhKX0pKX07Wi5wcm90b3R5cGUueGM9ZnVuY3Rpb24oKXt2YXIgYT16ZShuZXcgeWUodGhpcy5hLHRoaXMudGEpLHRoaXMuRix0aGlzLlkpO3JldHVybiBQcm9taXNlLnJlc29sdmUoYSl9O30uYmluZChnLCBnbG9iYWwpKSgpOwoKbW9kdWxlLmV4cG9ydHMgPSBnLnNoYWthOwoKCi8qICAqL30pLG51bGwpOwovLyMgc291cmNlVVJMPWZiOGIxNmM4YjU3NjdkNTE4ODYwZGFiMjgzMGM1MGYyLmpzCg==, line 416: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript error: data:application/x-javascript;charset=utf-8;base64,aWYgKHNlbGYuQ2F2YWxyeUxvZ2dlcikgeyBDYXZhbHJ5TG9nZ2VyLnN0YXJ0X2pzKFsiKzRzV3kiXSk7IH0KLyoqCiAqIEBwcm92aWRlc01vZHVsZSBTaGFrYQogKiBAcHJlc2VydmUtd2hpdGVzcGFjZQogKiBAbm9wYWNrYWdlCiAqIEBnZW5lcmF0ZWQKICovCl9fZCgiU2hha2EiLFsiUHJvbWlzZSIsIkV2ZW50TGlzdGVuZXIiLCJWaWRlb1BsYXllclNoYWthUGVyZm9ybWFuY2VMb2dnZXIiLCJWaWRlb1B1c2hQYXJhbWV0ZXJzSGVscGVyIiwiVGltZVNsaWNlIiwiVmlkZW9QbGF5ZXJMb2NhbEJhbmR3aWR0aEVzdGltYXRvciIsIlZpZGVvUGxheWVyUmVzb3VyY2VUaW1lciIsIlNoYWthU2VnbWVudFJlZmVyZW5jZUhlbHBlciIsIlNlZ21lbnRSZXF1ZXN0TWFuYWdlciIsImNvbmNhdEFycmF5QnVmZmVyIiwiQnVmZmVyUmVwbGFjZW1lbnRIZWxwZXIiLCJsb2dMb25nQWthbWFpUmVxdWVzdCIsInRocm90dGxlIiwiVmlld3BvcnRQcmlvcml0eUFkanVzdGVyIiwiRmlyc3RMb2FkZWRWaWRlb1ByaW9yaXR5QWRqdXN0ZXIiLCJWaWRlb1ByaW9yaXR5Q2FsY3VsYXRvciIsIlZpZGVvU3RyZWFtaW5nTWFuYWdlciIsIk11bHRpcGxlU2VnbWVudHNQcm92aWRlciIsIkxvY2FsQml0cmF0ZUhlbHBlciIsIlVuaXRDb25zdGFudHMiLCJCdWZmZXJWZWxvY2l0eSIsIlZpZGVvUGxheWVyQml0cmF0ZUVzdGltYXRvciIsIlZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWciLCJnZXRTZWVrUmFuZ2VHYXBzRnJvbVNoYWthUmVmZXJlbmNlcyIsIm1lcmdlU2Vla1JhbmdlR2FwcyIsIk5ldHdvcmtTdGF0dXNEZXRlY3RvciIsIk1vc1V0aWxzIiwiQmFuemFpT0RTIiwiVmlkZW9EYXNoUHJlZmV0Y2hDYWNoZSIsIlZpZGVvQ2xpZW50RWRnZUNvb3BlcmF0aW9uIiwiVmlkZW9TdHJlYW1pbmdUYXNrUXVldWVQcm92aWRlciIsIkJpbmFyeVNlYXJjaCIsIlNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscyIsImdreCIsInNldFRpbWVvdXRBY3Jvc3NUcmFuc2l0aW9ucyIsInNldFRpbWVvdXQiLCJzZXRJbnRlcnZhbEFjcm9zc1RyYW5zaXRpb25zIiwic2V0SW50ZXJ2YWwiLCJzZXRJbW1lZGlhdGVBY3Jvc3NUcmFuc2l0aW9ucyIsInNldEltbWVkaWF0ZSIsImNsZWFyVGltZW91dCIsImNsZWFySW50ZXJ2YWwiLCJjbGVhckltbWVkaWF0ZSIsImRpc3BhdGNoRXZlbnQiLCJFdmVudExpc3RlbmVyIiwiRXZlbnQiLCJleHRyYWN0Q0VBNjA4IiwicGVyZm9ybWFuY2VOb3ciLCJwYXJzZUhlYWRlcnMiLCJjYW5Vc2VGZXRjaFN0cmVhbSIsIlN1YnNjcmlwdGlvbnNIYW5kbGVyIiwiVmlkZW9QdXNoVHJhY2tlciJdLChmdW5jdGlvbiAkbW9kdWxlX1NoYWthKGdsb2JhbCxyZXF1aXJlLHJlcXVpcmVEeW5hbWljLHJlcXVpcmVMYXp5LG1vZHVsZSxleHBvcnRzKXsKCi8vIHJ1biBgYXJjIHJlYnVpbGQgc2hha2EtcGxheWVyYCB0byByZWdlbmVyYXRlIFNoYWthLmpzIGFmdGVyIG1vZGlmeWluZyB0aGlzCi8vIGZpbGUKCnZhciBQcm9taXNlID0gcmVxdWlyZSgnUHJvbWlzZScpOwp2YXIgRXZlbnRMaXN0ZW5lciA9IHJlcXVpcmUoJ0V2ZW50TGlzdGVuZXInKTsKdmFyIFZpZGVvUGxheWVyU2hha2FQZXJmb3JtYW5jZUxvZ2dlciA9IHJlcXVpcmUoJ1ZpZGVvUGxheWVyU2hha2FQZXJmb3JtYW5jZUxvZ2dlcicpOwp2YXIgVmlkZW9QdXNoUGFyYW1ldGVyc0hlbHBlciA9IHJlcXVpcmUoJ1ZpZGVvUHVzaFBhcmFtZXRlcnNIZWxwZXInKTsKdmFyIFRpbWVTbGljZSA9IHJlcXVpcmUoJ1RpbWVTbGljZScpOwp2YXIgVmlkZW9QbGF5ZXJMb2NhbEJhbmR3aWR0aEVzdGltYXRvciA9IHJlcXVpcmUoJ1ZpZGVvUGxheWVyTG9jYWxCYW5kd2lkdGhFc3RpbWF0b3InKTsKdmFyIFZpZGVvUGxheWVyUmVzb3VyY2VUaW1lciA9IHJlcXVpcmUoJ1ZpZGVvUGxheWVyUmVzb3VyY2VUaW1lcicpOwp2YXIgU2hha2FTZWdtZW50UmVmZXJlbmNlSGVscGVyID0gcmVxdWlyZSgnU2hha2FTZWdtZW50UmVmZXJlbmNlSGVscGVyJyk7CnZhciBTZWdtZW50UmVxdWVzdE1hbmFnZXIgPSByZXF1aXJlKCdTZWdtZW50UmVxdWVzdE1hbmFnZXInKTsKdmFyIGNvbmNhdEFycmF5QnVmZmVyID0gcmVxdWlyZSgnY29uY2F0QXJyYXlCdWZmZXInKTsKdmFyIEJ1ZmZlclJlcGxhY2VtZW50SGVscGVyID0gcmVxdWlyZSgnQnVmZmVyUmVwbGFjZW1lbnRIZWxwZXInKTsKdmFyIGxvZ0xvbmdBa2FtYWlSZXF1ZXN0ID0gcmVxdWlyZSgnbG9nTG9uZ0FrYW1haVJlcXVlc3QnKTsKdmFyIHRocm90dGxlID0gcmVxdWlyZSgndGhyb3R0bGUnKTsKdmFyIFZpZXdwb3J0UHJpb3JpdHlBZGp1c3RlciA9IHJlcXVpcmUoJ1ZpZXdwb3J0UHJpb3JpdHlBZGp1c3RlcicpOwp2YXIgRmlyc3RMb2FkZWRWaWRlb1ByaW9yaXR5QWRqdXN0ZXIgPSByZXF1aXJlKCdGaXJzdExvYWRlZFZpZGVvUHJpb3JpdHlBZGp1c3RlcicpOwp2YXIgVmlkZW9Qcmlvcml0eUNhbGN1bGF0b3IgPSByZXF1aXJlKCdWaWRlb1ByaW9yaXR5Q2FsY3VsYXRvcicpOwp2YXIgVmlkZW9TdHJlYW1pbmdNYW5hZ2VyID0gcmVxdWlyZSgnVmlkZW9TdHJlYW1pbmdNYW5hZ2VyJyk7CnZhciBNdWx0aXBsZVNlZ21lbnRzUHJvdmlkZXIgPSByZXF1aXJlKCdNdWx0aXBsZVNlZ21lbnRzUHJvdmlkZXInKTsKdmFyIExvY2FsQml0cmF0ZUhlbHBlciA9IHJlcXVpcmUoJ0xvY2FsQml0cmF0ZUhlbHBlcicpOwp2YXIgVW5pdENvbnN0YW50cyA9IHJlcXVpcmUoJ1VuaXRDb25zdGFudHMnKTsKdmFyIEJ1ZmZlclZlbG9jaXR5ID0gcmVxdWlyZSgnQnVmZmVyVmVsb2NpdHknKTsKdmFyIFZpZGVvUGxheWVyQml0cmF0ZUVzdGltYXRvciA9IHJlcXVpcmUoJ1ZpZGVvUGxheWVyQml0cmF0ZUVzdGltYXRvcicpOwp2YXIgVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZyA9IHJlcXVpcmUoJ1ZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcnKTsKdmFyIGdldFNlZWtSYW5nZUdhcHNGcm9tU2hha2FSZWZlcmVuY2VzID0gcmVxdWlyZSgnZ2V0U2Vla1JhbmdlR2Fwc0Zyb21TaGFrYVJlZmVyZW5jZXMnKTsKdmFyIG1lcmdlU2Vla1JhbmdlR2FwcyA9IHJlcXVpcmUoJ21lcmdlU2Vla1JhbmdlR2FwcycpOwp2YXIgTmV0d29ya1N0YXR1c0RldGVjdG9yID0gcmVxdWlyZSgnTmV0d29ya1N0YXR1c0RldGVjdG9yJyk7CnZhciBNb3NVdGlscyA9IHJlcXVpcmUoJ01vc1V0aWxzJyk7CnZhciBCYW56YWlPRFMgPSByZXF1aXJlKCdCYW56YWlPRFMnKTsKdmFyIFZpZGVvRGFzaFByZWZldGNoQ2FjaGUgPSByZXF1aXJlKCdWaWRlb0Rhc2hQcmVmZXRjaENhY2hlJyk7CnZhciBWaWRlb0NsaWVudEVkZ2VDb29wZXJhdGlvbiA9IHJlcXVpcmUoJ1ZpZGVvQ2xpZW50RWRnZUNvb3BlcmF0aW9uJyk7CnZhciBWaWRlb1N0cmVhbWluZ1Rhc2tRdWV1ZVByb3ZpZGVyID0gcmVxdWlyZSgnVmlkZW9TdHJlYW1pbmdUYXNrUXVldWVQcm92aWRlcicpOwp2YXIgQmluYXJ5U2VhcmNoID0gcmVxdWlyZSgnQmluYXJ5U2VhcmNoJyk7CnZhciBTaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMgPSByZXF1aXJlKCdTaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMnKTsKdmFyIGdreCA9IHJlcXVpcmUoJ2dreCcpOwoKdmFyIHNldFRpbWVvdXQgPSBWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woCiAgICAndGltZW91dHNfcGVyc2lzdF9vbl9wYWdlX3RyYW5zaXRpb24nLAogICAgdHJ1ZQogICkgPwogIHJlcXVpcmUoJ3NldFRpbWVvdXRBY3Jvc3NUcmFuc2l0aW9ucycpIDoKICByZXF1aXJlKCdzZXRUaW1lb3V0Jyk7CnZhciBzZXRJbnRlcnZhbCA9IFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgKICAgICd0aW1lb3V0c19wZXJzaXN0X29uX3BhZ2VfdHJhbnNpdGlvbicsCiAgICB0cnVlCiAgKSA/CiAgcmVxdWlyZSgnc2V0SW50ZXJ2YWxBY3Jvc3NUcmFuc2l0aW9ucycpIDoKICByZXF1aXJlKCdzZXRJbnRlcnZhbCcpOwp2YXIgc2V0SW1tZWRpYXRlID0gVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKAogICAgJ3RpbWVvdXRzX3BlcnNpc3Rfb25fcGFnZV90cmFuc2l0aW9uJywKICAgIHRydWUKICApID8KICByZXF1aXJlKCdzZXRJbW1lZGlhdGVBY3Jvc3NUcmFuc2l0aW9ucycpIDoKICByZXF1aXJlKCdzZXRJbW1lZGlhdGUnKTsKdmFyIGNsZWFyVGltZW91dCA9IHJlcXVpcmUoJ2NsZWFyVGltZW91dCcpOwp2YXIgY2xlYXJJbnRlcnZhbCA9IHJlcXVpcmUoJ2NsZWFySW50ZXJ2YWwnKTsKdmFyIGNsZWFySW1tZWRpYXRlID0gcmVxdWlyZSgnY2xlYXJJbW1lZGlhdGUnKTsKdmFyIGRpc3BhdGNoRG9tRXZlbnQgPSByZXF1aXJlKCdkaXNwYXRjaEV2ZW50Jyk7CnZhciBldmVudExpc3RlbmVyQ2FwdHVyZSA9IHJlcXVpcmUoJ0V2ZW50TGlzdGVuZXInKS5jYXB0dXJlOwp2YXIgZXZlbnRLaWxsID0gcmVxdWlyZSgnRXZlbnQnKS5raWxsOwp2YXIgZXh0cmFjdENFQTYwOCA9IHJlcXVpcmUoJ2V4dHJhY3RDRUE2MDgnKTsKdmFyIHBlcmZvcm1hbmNlTm93ID0gcmVxdWlyZSgncGVyZm9ybWFuY2VOb3cnKTsKdmFyIHBhcnNlSGVhZGVycyA9IHJlcXVpcmUoJ3BhcnNlSGVhZGVycycpOwp2YXIgY2FuVXNlRmV0Y2hTdHJlYW0gPSByZXF1aXJlKCdjYW5Vc2VGZXRjaFN0cmVhbScpOwp2YXIgU3Vic2NyaXB0aW9uc0hhbmRsZXIgPSByZXF1aXJlKCdTdWJzY3JpcHRpb25zSGFuZGxlcicpOwp2YXIgVmlkZW9QdXNoVHJhY2tlciA9IHJlcXVpcmUoJ1ZpZGVvUHVzaFRyYWNrZXInKTsKCmZ1bmN0aW9uIHNldEV2ZW50UHJvcGVydHkob2JqLCBuYW1lLCBoYW5kbGVyKSB7CiAgb2JqW25hbWVdID0gVGltZVNsaWNlLmd1YXJkKGhhbmRsZXIsICdzaGFrYSAnICsgbmFtZSk7Cn07CgppZiAoCiAgVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCdzaGFrYV9uYXRpdmVfcHJvbWlzZScsIGZhbHNlKSAmJgogIFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgndXNlX25hdGl2ZV9wcm9taXNlJywgdHJ1ZSkKKSB7CiAgUHJvbWlzZSA9IHdpbmRvdy5Qcm9taXNlOwp9Cgp2YXIgZyA9IHt9OwoKKGZ1bmN0aW9uKHdpbmRvdyl7dmFyIG4sYWE9dGhpcztmdW5jdGlvbiBxKGEsYil7dmFyIGM9YS5zcGxpdCgiLiIpLGQ9YWE7Y1swXWluIGR8fCFkLmV4ZWNTY3JpcHR8fGQuZXhlY1NjcmlwdCgidmFyICIrY1swXSk7Zm9yKHZhciBlO2MubGVuZ3RoJiYoZT1jLnNoaWZ0KCkpOyljLmxlbmd0aHx8dm9pZCAwPT09Yj9kW2VdP2Q9ZFtlXTpkPWRbZV09e306ZFtlXT1ifWZ1bmN0aW9uIHIoYSxiKXtmdW5jdGlvbiBjKCl7fWMucHJvdG90eXBlPWIucHJvdG90eXBlO2EuUGQ9Yi5wcm90b3R5cGU7YS5wcm90b3R5cGU9bmV3IGM7YS5wcm90b3R5cGUuY29uc3RydWN0b3I9YTthLkxkPWZ1bmN0aW9uKGEsYyxmKXtyZXR1cm4gYi5wcm90b3R5cGVbY10uYXBwbHkoYSxBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMikpfX07LyoKCiBDb3B5cmlnaHQgMjAxNSBHb29nbGUgSW5jLgoKIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoKIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoqLwpmdW5jdGlvbiBiYSgpe307ZnVuY3Rpb24gY2EoYSl7dmFyIGI9Y29uc29sZVthXTtiP2IuYmluZHx8KGNvbnNvbGVbYV09ZnVuY3Rpb24oKXtiLmFwcGx5KGNvbnNvbGUsYXJndW1lbnRzKX0pOmNvbnNvbGVbYV09ZnVuY3Rpb24oKXt9fWNhKCJlcnJvciIpO2NhKCJ3YXJuIik7Y2EoImluZm8iKTtjYSgibG9nIik7Y2EoImRlYnVnIik7dmFyIHU9e3FhOmZ1bmN0aW9uKGEpe3UuSGJbYV09e3FhOnUud2MoKSxlbmQ6TmFOfX0sZW5kOmZ1bmN0aW9uKGEpe2lmKGE9dS5IYlthXSlhLmVuZD11LndjKCl9LE1kOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD11LmdldChhKSxlPXUuZ2V0KGIpO2lmKCFkfHwhZSlyZXR1cm4gTmFOO2QtPWU7Zm9yKGU9MjtlPGFyZ3VtZW50cy5sZW5ndGg7KytlKXt2YXIgZj11LmdldChhcmd1bWVudHNbZV0pO2lmKCFmKXJldHVybiBOYU47ZC09Zn1yZXR1cm4gZH0sZ2V0OmZ1bmN0aW9uKGEpe3JldHVybihhPXUuSGJbYV0pJiZhLmVuZD9hLmVuZC1hLnFhOk5hTn19O3Uud2M9d2luZG93LnBlcmZvcm1hbmNlJiZ3aW5kb3cucGVyZm9ybWFuY2Uubm93P3dpbmRvdy5wZXJmb3JtYW5jZS5ub3cuYmluZCh3aW5kb3cucGVyZm9ybWFuY2UpOkRhdGUubm93O3UuSGI9e307LyoKCiBDb3B5cmlnaHQgMjAwNC1wcmVzZW50IEZhY2Vib29rLiBBbGwgUmlnaHRzIFJlc2VydmVkLgoKKi8KZnVuY3Rpb24gZmEoYSxiLGMsZCxlLGYsZyxoKXt0aGlzLmlkPWE7dGhpcy5iYW5kd2lkdGg9Ynx8MDt0aGlzLmxhbmc9Y3x8InVua25vd24iO3RoaXMuc3RyZWFtSW5mb0lEPWQ7dGhpcy5taW1lVHlwZT1lfHwiIjt0aGlzLmNvZGVjcz1mfHwiIjt0aGlzLmNoYW5uZWxzPWd8fG51bGw7dGhpcy5zYW1wbGluZ1JhdGU9aHx8bnVsbDt0aGlzLmFjdGl2ZT0hMX1xKCJzaGFrYS5wbGF5ZXIuQXVkaW9UcmFjay5jb21wYXJlIixmdW5jdGlvbihhLGIpe3JldHVybiBhLmxhbmc8Yi5sYW5nPy0xOmEubGFuZz5iLmxhbmc/MTphLmJhbmR3aWR0aDxiLmJhbmR3aWR0aD8tMTphLmJhbmR3aWR0aD5iLmJhbmR3aWR0aD8xOjB9KTt2YXIgZ2E9VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoInNoYWthX2RlZmF1bHRfcmVxdWVzdF90aW1lb3V0X3RpbWVzY2FsZSIsMUUzKSxoYT1NYXRoLmZsb29yKFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJzaGFrYV9kZWZhdWx0X2FqYXhfcmVxdWVzdF90aW1lb3V0X21zIiwwKS9nYSksaWE9TWF0aC5mbG9vcihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigic2hha2FfZGVmYXVsdF9hamF4X3JlcXVlc3RfdGltZW91dF9tcyIsMCkvZ2EpLGphPU1hdGguZmxvb3IoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoInNoYWthX2RlZmF1bHRfYWpheF9yZXF1ZXN0X3RpbWVvdXRfbXMiLDApL2dhKTtmdW5jdGlvbiBrYSgpe3RoaXMubWluQmFuZHdpZHRoPXRoaXMubWF4QmFuZHdpZHRoPXRoaXMubWF4V2lkdGg9dGhpcy5taW5IZWlnaHQ9dGhpcy5tYXhIZWlnaHQ9bnVsbH1rYS5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYT1uZXcga2E7YS5tYXhIZWlnaHQ9dGhpcy5tYXhIZWlnaHQ7YS5taW5IZWlnaHQ9dGhpcy5taW5IZWlnaHQ7YS5tYXhXaWR0aD10aGlzLm1heFdpZHRoO2EubWF4QmFuZHdpZHRoPXRoaXMubWF4QmFuZHdpZHRoO2EubWluQmFuZHdpZHRoPXRoaXMubWluQmFuZHdpZHRoO3JldHVybiBhfTtmdW5jdGlvbiBsYSgpe3RoaXMuZm9udFNpemU9IjEwMCUiO3RoaXMuZm9udENvbG9yPW1hO3RoaXMuZm9udE9wYWNpdHk9b2E7dGhpcy5iYWNrZ3JvdW5kQ29sb3I9cGE7dGhpcy5iYWNrZ3JvdW5kT3BhY2l0eT1vYTt0aGlzLmZvbnRFZGdlPXFhfXEoInNoYWthLnBsYXllci5UZXh0U3R5bGUiLGxhKTsKZnVuY3Rpb24gcmEoYSl7dmFyIGI9W107Yi5wdXNoKCJmb250LXNpemU6ICIrYS5mb250U2l6ZSk7Yi5wdXNoKCJjb2xvcjogIitzYShhLmZvbnRDb2xvcixhLmZvbnRPcGFjaXR5KSk7Yi5wdXNoKCJiYWNrZ3JvdW5kLWNvbG9yOiAiK3NhKGEuYmFja2dyb3VuZENvbG9yLGEuYmFja2dyb3VuZE9wYWNpdHkpKTtmb3IodmFyIGM9W10sZD0wO2Q8YS5mb250RWRnZS5sZW5ndGg7KytkKXt2YXIgZT1hLmZvbnRFZGdlW2RdLnNsaWNlKDMsNik7Yy5wdXNoKHNhKGEuZm9udEVkZ2VbZF0uc2xpY2UoMCwzKSxhLmZvbnRPcGFjaXR5KSsiICIrZS5qb2luKCJweCAiKSsicHgiKX1iLnB1c2goInRleHQtc2hhZG93OiAiK2Muam9pbigiLCIpKTtyZXR1cm4gYi5qb2luKCI7ICIpfWZ1bmN0aW9uIHNhKGEsYil7cmV0dXJuInJnYmEoIithLmNvbmNhdChiKS5qb2luKCIsIikrIikifXZhciBtYT1bMjU1LDI1NSwyNTVdLHBhPVswLDAsMF07CmxhLlN0YW5kYXJkQ29sb3JzPXtXSElURTptYSxCTEFDSzpwYSxSRUQ6WzI1NSwwLDBdLEdSRUVOOlswLDI1NSwwXSxCTFVFOlswLDAsMjU1XSxZRUxMT1c6WzI1NSwyNTUsMF0sTUFHRU5UQTpbMjU1LDAsMjU1XSxDWUFOOlswLDI1NSwyNTVdfTt2YXIgb2E9MTtsYS5TdGFuZGFyZE9wYWNpdGllcz17T1BBUVVFOm9hLFNFTUlfSElHSDouNzUsU0VNSV9MT1c6LjI1LFRSQU5TUEFSRU5UOjB9O3ZhciBxYT1bXTsKbGEuRWRnZVN0eWxlcz17Tk9ORTpxYSxSQUlTRUQ6W1szNCwzNCwzNCwxLDEsMF0sWzM0LDM0LDM0LDIsMiwwXSxbMzQsMzQsMzQsMywzLDBdXSxERVBSRVNTRUQ6W1syMDQsMjA0LDIwNCwxLDEsMF0sWzIwNCwyMDQsMjA0LDAsMSwwXSxbMzQsMzQsMzQsLTEsLTEsMF0sWzM0LDM0LDM0LDAsLTEsMF1dLFVOSUZPUk06W1szNCwzNCwzNCwwLDAsNF0sWzM0LDM0LDM0LDAsMCw0XSxbMzQsMzQsMzQsMCwwLDRdLFszNCwzNCwzNCwwLDAsNF1dLERST1A6W1szNCwzNCwzNCwyLDIsM10sWzM0LDM0LDM0LDIsMiw0XSxbMzQsMzQsMzQsMiwyLDVdXX07ZnVuY3Rpb24gdGEoYSxiKXt0aGlzLmlkPWE7dGhpcy5sYW5nPWJ8fCJ1bmtub3duIjt0aGlzLmVuYWJsZWQ9dGhpcy5hY3RpdmU9ITF9cSgic2hha2EucGxheWVyLlRleHRUcmFjay5jb21wYXJlIixmdW5jdGlvbihhLGIpe3JldHVybiBhLmxhbmc8Yi5sYW5nPy0xOmEubGFuZz5iLmxhbmc/MTowfSk7ZnVuY3Rpb24gdWEoYSxiLGMsZCxlLGYsZyxoLGssbCxtLHAsdCl7dGhpcy5pZD1hO3RoaXMuYmFuZHdpZHRoPWJ8fDA7dGhpcy53aWR0aD1jfHwwO3RoaXMuaGVpZ2h0PWR8fDA7dGhpcy5zdHJlYW1JbmZvSUQ9ZTt0aGlzLmZiUXVhbGl0eUxhYmVsPWY7dGhpcy5mYlF1YWxpdHlDbGFzcz1nO2E9W107aCYmKGE9aC5zcGxpdCgiLCIpKTt0aGlzLmZyYW1lUmF0ZT1rfHwiIjt0aGlzLm1pbWVUeXBlPWx8fCIiO3RoaXMuY29kZWNzPW18fCIiO3RoaXMuaXNIVlE9LTE8YS5pbmRleE9mKCJodnEiKTt0aGlzLmlzSW5saW5lSFZRPS0xPGEuaW5kZXhPZigiaHZxX3d3d19pbmxpbmUiKTt0aGlzLmF2b2lkT25Qb29yQ29ubmVjdGlvbj0tMTxhLmluZGV4T2YoImF2b2lkX29uX3Bvb3JfY29ubmVjdGlvbiIpO3RoaXMuYWN0aXZlPSExO3RoaXMucGxheWJhY2tSZXNvbHV0aW9uTW9zPXB8fG51bGw7dGhpcy5wbGF5YmFja1Jlc29sdXRpb25Nb3NDb25maWRlbmNlTGV2ZWw9dHx8bnVsbH0KZnVuY3Rpb24gdmEoYSxiKXt2YXIgYz1hLndpZHRoKmEuaGVpZ2h0LGQ9Yi53aWR0aCpiLmhlaWdodDtyZXR1cm4gYzxkPy0xOmM+ZD8xOmEuYmFuZHdpZHRoPGIuYmFuZHdpZHRoPy0xOmEuYmFuZHdpZHRoPmIuYmFuZHdpZHRoPzE6MH1xKCJzaGFrYS5wbGF5ZXIuVmlkZW9UcmFjay5jb21wYXJlIix2YSk7ZnVuY3Rpb24gd2EoYSl7Zm9yKHZhciBiPXhhLGM9W10sZD0wO2Q8YS5sZW5ndGg7KytkKXtmb3IodmFyIGU9ITEsZj0wO2Y8Yy5sZW5ndGgmJiEoZT1iP2IoYVtkXSxjW2ZdKTphW2RdPT09Y1tmXSk7KytmKTtlfHxjLnB1c2goYVtkXSl9cmV0dXJuIGN9O2Z1bmN0aW9uIHlhKCl7cmV0dXJuIERhdGUubm93KCkremF9dmFyIHphPTA7ZnVuY3Rpb24gQmEoYSl7dGhpcy5iPWE7dGhpcy5jPTA9PUNhO3RoaXMuYT0wfXZhciBDYT0xO2Z1bmN0aW9uIERhKGEpe3JldHVybiBhLmE8YS5iLmJ5dGVMZW5ndGh9ZnVuY3Rpb24gRWEoYSl7dmFyIGI9YS5iLmdldFVpbnQ4KGEuYSk7YS5hKz0xO3JldHVybiBifWZ1bmN0aW9uIHYoYSl7dmFyIGI9YS5iLmdldFVpbnQzMihhLmEsYS5jKTthLmErPTQ7cmV0dXJuIGJ9ZnVuY3Rpb24gRmEoYSl7dmFyIGIsYzthLmM/KGI9YS5iLmdldFVpbnQzMihhLmEsITApLGM9YS5iLmdldFVpbnQzMihhLmErNCwhMCkpOihjPWEuYi5nZXRVaW50MzIoYS5hLCExKSxiPWEuYi5nZXRVaW50MzIoYS5hKzQsITEpKTtpZigyMDk3MTUxPGMpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkRhdGFWaWV3UmVhZGVyOiBPdmVyZmxvdyByZWFkaW5nIDY0LWJpdCB2YWx1ZS4iKTthLmErPTg7cmV0dXJuIGMqTWF0aC5wb3coMiwzMikrYn0KZnVuY3Rpb24gR2EoYSl7aWYoYS5hKzE2PmEuYi5ieXRlTGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKCJEYXRhVmlld1JlYWRlcjogUmVhZCBwYXN0IGVuZCBvZiBEYXRhVmlldy4iKTt2YXIgYj1uZXcgVWludDhBcnJheShhLmIuYnVmZmVyLGEuYSwxNik7YS5hKz0xNjtyZXR1cm4gYn1mdW5jdGlvbiBIYShhLGIpe2lmKGEuYStiPmEuYi5ieXRlTGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKCJEYXRhVmlld1JlYWRlcjogU2tpcCBwYXN0IGVuZCBvZiBEYXRhVmlldy4iKTthLmErPWJ9O2Z1bmN0aW9uIElhKGEpe3RoaXMuYj1hO3RoaXMuYT1uZXcgQmEoYSk7SmF8fChKYT1bbmV3IFVpbnQ4QXJyYXkoWzI1NV0pLG5ldyBVaW50OEFycmF5KFsxMjcsMjU1XSksbmV3IFVpbnQ4QXJyYXkoWzYzLDI1NSwyNTVdKSxuZXcgVWludDhBcnJheShbMzEsMjU1LDI1NSwyNTVdKSxuZXcgVWludDhBcnJheShbMTUsMjU1LDI1NSwyNTUsMjU1XSksbmV3IFVpbnQ4QXJyYXkoWzcsMjU1LDI1NSwyNTUsMjU1LDI1NV0pLG5ldyBVaW50OEFycmF5KFszLDI1NSwyNTUsMjU1LDI1NSwyNTUsMjU1XSksbmV3IFVpbnQ4QXJyYXkoWzEsMjU1LDI1NSwyNTUsMjU1LDI1NSwyNTUsMjU1XSldKX12YXIgSmE7CmZ1bmN0aW9uIEthKGEpe3ZhciBiO2I9TGEoYSk7aWYoNzxiLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiRWJtbFBhcnNlcjogRUJNTCBJRCBtdXN0IGJlIGF0IG1vc3QgNyBieXRlcy4iKTtmb3IodmFyIGM9MCxkPTA7ZDxiLmxlbmd0aDtkKyspYz0yNTYqYytiW2RdO2I9YztjPUxhKGEpO2E6e2ZvcihkPTA7ZDxKYS5sZW5ndGg7ZCsrKWlmKE1hKGMsSmFbZF0pKXtkPSEwO2JyZWFrIGF9ZD0hMX1pZihkKWM9YS5iLmJ5dGVMZW5ndGgtYS5hLmE7ZWxzZXtpZig4PT1jLmxlbmd0aCYmY1sxXSYyMjQpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkVibWxQYXJzZXI6IFZhcmlhYmxlIHNpemVkIGludGVnZXIgdmFsdWUgbXVzdCBiZSBhdCBtb3N0IDUzIGJpdHMuIik7Zm9yKHZhciBkPWNbMF0mKDE8PDgtYy5sZW5ndGgpLTEsZT0xO2U8Yy5sZW5ndGg7ZSsrKWQ9MjU2KmQrY1tlXTtjPWR9Yz1hLmEuYStjPD1hLmIuYnl0ZUxlbmd0aD9jOmEuYi5ieXRlTGVuZ3RoLWEuYS5hO2Q9bmV3IERhdGFWaWV3KGEuYi5idWZmZXIsCmEuYi5ieXRlT2Zmc2V0K2EuYS5hLGMpO0hhKGEuYSxjKTtyZXR1cm4gbmV3IE5hKGIsZCl9ZnVuY3Rpb24gTGEoYSl7dmFyIGI9RWEoYS5hKSxjO2ZvcihjPTE7OD49YyYmIShiJjE8PDgtYyk7YysrKTtpZig4PGMpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkVibWxQYXJzZXI6IFZhcmlhYmxlIHNpemVkIGludGVnZXIgbXVzdCBmaXQgd2l0aGluIDggYnl0ZXMuIik7dmFyIGQ9bmV3IFVpbnQ4QXJyYXkoYyk7ZFswXT1iO2ZvcihiPTE7YjxjO2IrKylkW2JdPUVhKGEuYSk7cmV0dXJuIGR9ZnVuY3Rpb24gTmEoYSxiKXt0aGlzLmlkPWE7dGhpcy5hPWJ9CmZ1bmN0aW9uIE9hKGEpe2lmKDg8YS5hLmJ5dGVMZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkVibWxFbGVtZW50OiBVbnNpZ25lZCBpbnRlZ2VyIGhhcyB0b28gbWFueSBieXRlcy4iKTtpZig4PT1hLmEuYnl0ZUxlbmd0aCYmYS5hLmdldFVpbnQ4KDApJjIyNCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiRWJtbFBhcnNlcjogVW5zaWduZWQgaW50ZWdlciBtdXN0IGJlIGF0IG1vc3QgNTMgYml0cy4iKTtmb3IodmFyIGI9MCxjPTA7YzxhLmEuYnl0ZUxlbmd0aDtjKyspdmFyIGQ9YS5hLmdldFVpbnQ4KGMpLGI9MjU2KmIrZDtyZXR1cm4gYn07dmFyIFBhPXsib3V0cHV0LXJlc3RyaWN0ZWQiOiJUaGUgcmVxdWlyZWQgb3V0cHV0IHByb3RlY3Rpb24gaXMgbm90IGF2YWlsYWJsZS4iLCJvdXRwdXQtbm90LWFsbG93ZWQiOiJUaGUgcmVxdWlyZWQgb3V0cHV0IHByb3RlY3Rpb24gaXMgbm90IGF2YWlsYWJsZS4iLGV4cGlyZWQ6IlRoZSBkZWNyeXB0aW9uIGtleSBoYXMgZXhwaXJlZC4iLCJpbnRlcm5hbC1lcnJvciI6IlRoZSBrZXkgc3lzdGVtIGhhcyBlbmNvdW50ZXJlZCBhbiB1bnNwZWNpZmllZCBlcnJvci4ifTtmdW5jdGlvbiB4KGEpe3RoaXMuYj1NYXRoLmV4cChNYXRoLmxvZyguNSkvYSk7dGhpcy55Yj10aGlzLiRhPXRoaXMuYT0wfXEoInNoYWthLnV0aWwuRVdNQSIseCk7eC5wcm90b3R5cGUuc2FtcGxlPWZ1bmN0aW9uKGEsYil7dmFyIGM9TWF0aC5wb3codGhpcy5iLGEpO3RoaXMuYT1iKigxLWMpK2MqdGhpcy5hO3RoaXMuJGErPWE7dGhpcy55Yis9MX07eC5wcm90b3R5cGUuc2FtcGxlPXgucHJvdG90eXBlLnNhbXBsZTt4LnByb3RvdHlwZS5jPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGF9O3gucHJvdG90eXBlLmdldFRvdGFsV2VpZ2h0PXgucHJvdG90eXBlLmM7eC5wcm90b3R5cGUuZ2V0RXN0aW1hdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLygxLU1hdGgucG93KHRoaXMuYix0aGlzLiRhKSl9O3gucHJvdG90eXBlLmdldEVzdGltYXRlPXgucHJvdG90eXBlLmdldEVzdGltYXRlO3gucHJvdG90eXBlLmY9ZnVuY3Rpb24oKXt0aGlzLnliPXRoaXMuJGE9dGhpcy5hPTB9Owp4LnByb3RvdHlwZS5yZXNldD14LnByb3RvdHlwZS5mO3ZhciBRYT13aW5kb3cuQ3VzdG9tRXZlbnQ7ImZ1bmN0aW9uIiE9PXR5cGVvZiBRYSYmKFFhPWZ1bmN0aW9uKGEsYil7Yj1ifHx7YnViYmxlczohMSxjYW5jZWxhYmxlOiExLGRldGFpbDp2b2lkIDB9O3ZhciBjPWRvY3VtZW50LmNyZWF0ZUV2ZW50KCJDdXN0b21FdmVudCIpO2MuaW5pdEN1c3RvbUV2ZW50KGEsYi5idWJibGVzLGIuY2FuY2VsYWJsZSxiLmRldGFpbCk7cmV0dXJuIGN9LFFhLnByb3RvdHlwZT13aW5kb3cuRXZlbnQucHJvdG90eXBlKTtmdW5jdGlvbiB5KGEpe3ZhciBiPW5ldyBRYShhLnR5cGUse2RldGFpbDphLmRldGFpbCxidWJibGVzOiEhYS5idWJibGVzfSksYztmb3IoYyBpbiBhKWMgaW4gYnx8KGJbY109YVtjXSk7cmV0dXJuIGJ9ZnVuY3Rpb24gQShhKXtyZXR1cm4gbmV3IFFhKCJlcnJvciIse2RldGFpbDphLGJ1YmJsZXM6ITB9KX07ZnVuY3Rpb24gUmEoYSxiLGMpe1NhKGIpO1NhKGMpO3JldHVybiBjPT1ifHxhPj1UYSYmYz09Yi5zcGxpdCgiLSIpWzBdfHxhPj1VYSYmYy5zcGxpdCgiLSIpWzBdPT1iLnNwbGl0KCItIilbMF0/ITA6ITF9dmFyIFRhPTEsVWE9MjtmdW5jdGlvbiBTYShhKXthPWEudG9Mb3dlckNhc2UoKS5zcGxpdCgiLSIpO3ZhciBiPVZhW2FbMF1dO2ImJihhWzBdPWIpO3JldHVybiBhLmpvaW4oIi0iKX0KdmFyIFZhPXthYXI6ImFhIixhYms6ImFiIixhZnI6ImFmIixha2E6ImFrIixhbGI6InNxIixhbWg6ImFtIixhcmE6ImFyIixhcmc6ImFuIixhcm06Imh5Iixhc206ImFzIixhdmE6ImF2IixhdmU6ImFlIixheW06ImF5IixhemU6ImF6IixiYWs6ImJhIixiYW06ImJtIixiYXE6ImV1IixiZWw6ImJlIixiZW46ImJuIixiaWg6ImJoIixiaXM6ImJpIixib2Q6ImJvIixib3M6ImJzIixicmU6ImJyIixidWw6ImJnIixidXI6Im15IixjYXQ6ImNhIixjZXM6ImNzIixjaGE6ImNoIixjaGU6ImNlIixjaGk6InpoIixjaHU6ImN1IixjaHY6ImN2Iixjb3I6Imt3Iixjb3M6ImNvIixjcmU6ImNyIixjeW06ImN5IixjemU6ImNzIixkYW46ImRhIixkZXU6ImRlIixkaXY6ImR2IixkdXQ6Im5sIixkem86ImR6IixlbGw6ImVsIixlbmc6ImVuIixlcG86ImVvIixlc3Q6ImV0IixldXM6ImV1Iixld2U6ImVlIixmYW86ImZvIixmYXM6ImZhIixmaWo6ImZqIixmaW46ImZpIixmcmE6ImZyIixmcmU6ImZyIiwKZnJ5OiJmeSIsZnVsOiJmZiIsZ2VvOiJrYSIsZ2VyOiJkZSIsZ2xhOiJnZCIsZ2xlOiJnYSIsZ2xnOiJnbCIsZ2x2OiJndiIsZ3JlOiJlbCIsZ3JuOiJnbiIsZ3VqOiJndSIsaGF0OiJodCIsaGF1OiJoYSIsaGViOiJoZSIsaGVyOiJoeiIsaGluOiJoaSIsaG1vOiJobyIsaHJ2OiJociIsaHVuOiJodSIsaHllOiJoeSIsaWJvOiJpZyIsaWNlOiJpcyIsaWRvOiJpbyIsaWlpOiJpaSIsaWt1OiJpdSIsaWxlOiJpZSIsaW5hOiJpYSIsaW5kOiJpZCIsaXBrOiJpayIsaXNsOiJpcyIsaXRhOiJpdCIsamF2OiJqdiIsanBuOiJqYSIsa2FsOiJrbCIsa2FuOiJrbiIsa2FzOiJrcyIsa2F0OiJrYSIsa2F1OiJrciIsa2F6OiJrayIsa2htOiJrbSIsa2lrOiJraSIsa2luOiJydyIsa2lyOiJreSIsa29tOiJrdiIsa29uOiJrZyIsa29yOiJrbyIsa3VhOiJraiIsa3VyOiJrdSIsbGFvOiJsbyIsbGF0OiJsYSIsbGF2OiJsdiIsbGltOiJsaSIsbGluOiJsbiIsbGl0OiJsdCIsbHR6OiJsYiIsbHViOiJsdSIsCmx1ZzoibGciLG1hYzoibWsiLG1haDoibWgiLG1hbDoibWwiLG1hbzoibWkiLG1hcjoibXIiLG1heToibXMiLG1rZDoibWsiLG1sZzoibWciLG1sdDoibXQiLG1vbjoibW4iLG1yaToibWkiLG1zYToibXMiLG15YToibXkiLG5hdToibmEiLG5hdjoibnYiLG5ibDoibnIiLG5kZToibmQiLG5kbzoibmciLG5lcDoibmUiLG5sZDoibmwiLG5ubzoibm4iLG5vYjoibmIiLG5vcjoibm8iLG55YToibnkiLG9jaToib2MiLG9qaToib2oiLG9yaToib3IiLG9ybToib20iLG9zczoib3MiLHBhbjoicGEiLHBlcjoiZmEiLHBsaToicGkiLHBvbDoicGwiLHBvcjoicHQiLHB1czoicHMiLHF1ZToicXUiLHJvaDoicm0iLHJvbjoicm8iLHJ1bToicm8iLHJ1bjoicm4iLHJ1czoicnUiLHNhZzoic2ciLHNhbjoic2EiLHNpbjoic2kiLHNsazoic2siLHNsbzoic2siLHNsdjoic2wiLHNtZToic2UiLHNtbzoic20iLHNuYToic24iLHNuZDoic2QiLHNvbToic28iLHNvdDoic3QiLHNwYToiZXMiLHNxaToic3EiLApzcmQ6InNjIixzcnA6InNyIixzc3c6InNzIixzdW46InN1Iixzd2E6InN3Iixzd2U6InN2Iix0YWg6InR5Iix0YW06InRhIix0YXQ6InR0Iix0ZWw6InRlIix0Z2s6InRnIix0Z2w6InRsIix0aGE6InRoIix0aWI6ImJvIix0aXI6InRpIix0b246InRvIix0c246InRuIix0c286InRzIix0dWs6InRrIix0dXI6InRyIix0d2k6InR3Iix1aWc6InVnIix1a3I6InVrIix1cmQ6InVyIix1emI6InV6Iix2ZW46InZlIix2aWU6InZpIix2b2w6InZvIix3ZWw6ImN5Iix3bG46IndhIix3b2w6IndvIix4aG86InhoIix5aWQ6InlpIix5b3I6InlvIix6aGE6InphIix6aG86InpoIix6dWw6Inp1In07ZnVuY3Rpb24gV2EoYSl7cmV0dXJuIE9iamVjdC5rZXlzKGEpLm1hcChmdW5jdGlvbihiKXtyZXR1cm4gYVtiXX0pfWZ1bmN0aW9uIEIoYSxiKXtyZXR1cm4gWGEoYSxiLCJib29sZWFuIil9ZnVuY3Rpb24gQyhhLGIsYyl7YT1YYShhLGIsIm51bWJlciIpO2lmKG51bGw9PWEpcmV0dXJuIG51bGw7aWYoaXNOYU4oYSl8fGE9PU51bWJlci5ORUdBVElWRV9JTkZJTklUWXx8YT09TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZKXRocm93IG5ldyBSYW5nZUVycm9yKCInIitiKyInIG11c3QgYmUgZmluaXRlLiIpO2lmKG51bGwhPWMmJmE8Yyl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiJyIrYisiJyBtdXN0IGJlID49ICIrYyk7cmV0dXJuIGF9ZnVuY3Rpb24gWWEoYSxiKXtyZXR1cm4gWGEoYSxiLCJzdHJpbmciKX0KZnVuY3Rpb24gWGEoYSxiLGMpe2E9YVtiXTtpZihudWxsPT1hKXJldHVybiBudWxsO2lmKHR5cGVvZiBhIT09Yyl0aHJvdyBuZXcgVHlwZUVycm9yKCInIitiKyInIG11c3QgYmUgYSAiK2MrIi4iKTtyZXR1cm4gYX1mdW5jdGlvbiBaYShhLGIsYyl7YT1hW2JdO2lmKG51bGw9PWEpcmV0dXJuIG51bGw7aWYoIShhIGluc3RhbmNlb2YgYykpdGhyb3cgbmV3IFR5cGVFcnJvcigiJyIrYisiJyBtdXN0IGJlIGFuIGluc3RhbmNlIG9mICIrYy5uYW1lKyIuIik7cmV0dXJuIGF9O2Z1bmN0aW9uIEQoKXt0aGlzLmE9e319RC5wcm90b3R5cGUucHVzaD1mdW5jdGlvbihhLGIpe3RoaXMuYS5oYXNPd25Qcm9wZXJ0eShhKT90aGlzLmFbYV0ucHVzaChiKTp0aGlzLmFbYV09W2JdfTtELnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24oYSxiKXt0aGlzLmFbYV09Yn07RC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGEpe3JldHVybihhPXRoaXMuYVthXSk/YS5zbGljZSgpOm51bGx9O2Z1bmN0aW9uICRhKGEpe3ZhciBiPVtdLGM7Zm9yKGMgaW4gYS5hKWIucHVzaC5hcHBseShiLGEuYVtjXSk7cmV0dXJuIGJ9RC5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5hW2FdO2lmKGMpZm9yKHZhciBkPTA7ZDxjLmxlbmd0aDsrK2QpY1tkXT09YiYmKGMuc3BsaWNlKGQsMSksLS1kKX07ZnVuY3Rpb24gYWIoYSl7dmFyIGI9W10sYztmb3IoYyBpbiBhLmEpYi5wdXNoKGMpO3JldHVybiBifTtmdW5jdGlvbiBiYigpe3RoaXMuYT1uZXcgRH1iYi5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe2RiKHRoaXMpO3RoaXMuYT1udWxsfTtmdW5jdGlvbiBFKGEsYixjLGQpe2I9bmV3IGViKGIsYyxkKTthLmEucHVzaChjLGIpfWJiLnByb3RvdHlwZS5hYj1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz10aGlzLmEuZ2V0KGIpfHxbXSxkPTA7ZDxjLmxlbmd0aDsrK2Qpe3ZhciBlPWNbZF07ZS50YXJnZXQ9PWEmJihlLmFiKCksdGhpcy5hLnJlbW92ZShiLGUpKX19O2Z1bmN0aW9uIGRiKGEpe2Zvcih2YXIgYj0kYShhLmEpLGM9MDtjPGIubGVuZ3RoOysrYyliW2NdLmFiKCk7YS5hLmE9e319ZnVuY3Rpb24gZWIoYSxiLGMpe3RoaXMudGFyZ2V0PWE7dGhpcy50eXBlPWI7dGhpcy5hPWM7dGhpcy50YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihiLGMsITEpfQplYi5wcm90b3R5cGUuYWI9ZnVuY3Rpb24oKXt0aGlzLnRhcmdldCYmKHRoaXMudGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIodGhpcy50eXBlLHRoaXMuYSwhMSksdGhpcy5hPXRoaXMudGFyZ2V0PW51bGwpfTtmdW5jdGlvbiBGKGEpe3RoaXMuRWI9bmV3IEQ7dGhpcy5KYT1hfXEoInNoYWthLnV0aWwuRmFrZUV2ZW50VGFyZ2V0IixGKTtuPUYucHJvdG90eXBlO24uYWRkRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbihhLGIpe3RoaXMuRWIucHVzaChhLGIpfTtuLnJlbW92ZUV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24oYSxiKXt0aGlzLkViLnJlbW92ZShhLGIpfTsKbi5kaXNwYXRjaEV2ZW50PWZ1bmN0aW9uKGEpe2EuaGFzT3duUHJvcGVydHkoInNyY0VsZW1lbnQiKXx8KGRlbGV0ZSBhLnNyY0VsZW1lbnQsT2JqZWN0LmRlZmluZVByb3BlcnR5KGEsInNyY0VsZW1lbnQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH19KSk7aWYoYS5oYXNPd25Qcm9wZXJ0eSgidGFyZ2V0IikpYS50YXJnZXQ9dGhpcztlbHNle2RlbGV0ZSBhLnRhcmdldDt2YXIgYj10aGlzO09iamVjdC5kZWZpbmVQcm9wZXJ0eShhLCJ0YXJnZXQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYn0sc2V0OmZ1bmN0aW9uKGEpe2I9YX19KX1pZihhLmhhc093blByb3BlcnR5KCJjdXJyZW50VGFyZ2V0IikpYS5jdXJyZW50VGFyZ2V0PW51bGw7ZWxzZXtkZWxldGUgYS5jdXJyZW50VGFyZ2V0O3ZhciBjPW51bGw7T2JqZWN0LmRlZmluZVByb3BlcnR5KGEsImN1cnJlbnRUYXJnZXQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY30sc2V0OmZ1bmN0aW9uKGEpe2M9YX19KX1yZXR1cm4gZmIodGhpcywKYSl9O24ub2M9ITE7bi5MYT1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmRpc3BhdGNoRXZlbnQoeSh7dHlwZToiZGVidWcvZGFzaFBsYXllckV2ZW50IixidWJibGVzOiEwLGRldGFpbDp7dHlwZTphLGV2ZW50OmJ9fSkpfTtmdW5jdGlvbiBmYihhLGIpe2IuY3VycmVudFRhcmdldD1hO2Zvcih2YXIgYz1hLkViLmdldChiLnR5cGUpfHxbXSxkPTA7ZDxjLmxlbmd0aDsrK2Qpe3ZhciBlPWNbZF07dHJ5e2UuaGFuZGxlRXZlbnQ/ZS5oYW5kbGVFdmVudChiKTplLmNhbGwoYSxiKX1jYXRjaChmKXt9fWEuSmEmJmIuYnViYmxlcyYmZmIoYS5KYSxiKTtyZXR1cm4gYi5kZWZhdWx0UHJldmVudGVkfTtmdW5jdGlvbiBHKGEpe0YuY2FsbCh0aGlzLG51bGwpO3RoaXMuYT17b2I6e1ZhOm5ldyB4KFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJmYXN0X21vdmluZ19hdmVyYWdlX2hhbGZfbGlmZSIsMykpLHhiOm5ldyB4KFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJzbG93X21vdmluZ19hdmVyYWdlX2hhbGZfbGlmZSIsMTApKX0sY2I6e1ZhOm5ldyB4KFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJhZ2dyZXNzaXZlX2Zhc3RfbW92aW5nX2F2ZXJhZ2VfaGFsZl9saWZlIiwxRS00KSkseGI6bmV3IHgoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoImFnZ3Jlc3NpdmVfc2xvd19tb3ZpbmdfYXZlcmFnZV9oYWxmX2xpZmUiLDkuMjMzNTA4NzkxNzc0NSkpfX07dGhpcy5oPWF8fDVFNTt0aGlzLmo9VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoIm1pbl9zYW1wbGVfY291bnQiLAoxRTQpO3RoaXMuYj0wO3RoaXMuYz1bXTt0aGlzLmk9VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoIm1heF9yZWNlbnRfYmFuZHdpZHRoX3NhbXBsZXMiLDApfXIoRyxGKTtxKCJzaGFrYS51dGlsLkVXTUFCYW5kd2lkdGhFc3RpbWF0b3IiLEcpO0cucHJvdG90eXBlLnNob3VsZEV4Y2x1ZGVTYW1wbGU9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJjaGFuZ2VfYWJyX2F1ZGlvX2V4Y2x1c2lvbl9sb2dpYyIsITApPyFiOjY1NTM2PmF9OwpHLnByb3RvdHlwZS5zYW1wbGU9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyl7aWYodGhpcy5zaG91bGRFeGNsdWRlU2FtcGxlKGIsYykpZSYmZS5zZXRFdmVudCgidW5zYW1wbGVkIikuc2V0UmVhc29uKCJhdWRpbyIpLmxvZygpO2Vsc2V7aWYoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJ1c2VfcmVzb3VyY2VfdGltaW5nX2VudHJ5X2Zvcl9iYW5kd2lkdGgiLCEwKSl7aWYoIWQpe2UmJmUuc2V0RXZlbnQoInVuc2FtcGxlZCIpLnNldFJlYXNvbigicmVzb3VyY2VfdGltaW5nX2VudHJ5X21pc3NpbmciKS5sb2coKTtyZXR1cm59YT1kLnRpbWVUb0xhc3RCeXRlO2lmKDA+YSl7ZSYmZS5zZXRFdmVudCgidW5zYW1wbGVkIikuc2V0UmVhc29uKCJyZXNvdXJjZV90aW1pbmdfZW50cnlfaW52YWxpZCIpLmxvZygpO3JldHVybn19YT1NYXRoLm1heChhLDUwKTtjPTFFMypVbml0Q29uc3RhbnRzLkJJVFNfSU5fQllURSpiL2E7dmFyIGg9YS8xRTM7dGhpcy5hLmNiLlZhLnNhbXBsZShoLApjLGQpO3RoaXMuYS5jYi54Yi5zYW1wbGUoaCxjLGQpO3RoaXMuYS5vYi5WYS5zYW1wbGUoaCxjLGQpO3RoaXMuYS5vYi54Yi5zYW1wbGUoaCxjLGQpO2d8fHRoaXMuZGlzcGF0Y2hFdmVudCh5KHt0eXBlOiJiYW5kd2lkdGgifSkpO3RoaXMuYj1EYXRlLm5vdygpO2Q9cGFyc2VJbnQoYSwxMCk7aWYoMDx0aGlzLmkpZm9yKHRoaXMuYy5wdXNoKFtiLGRdKTt0aGlzLmMubGVuZ3RoPnRoaXMuaTspdGhpcy5jLnNoaWZ0KCk7ZSYmZS5zZXRFdmVudCgic2FtcGxlZCIpLnNldEJ5dGVzKGIpLnNldERlbGF5TXMoZCkubG9nKCk7ZiYmZi5nZXRFdmVudExvZ2dlcigiYmFuZHdpZHRoX3NhbXBsZWQiKS5zZXRMZW5ndGgoYikuc2V0Q2xpZW50VGltZUJlZ2luKHRoaXMuYi1kKS5zZXRDbGllbnRUaW1lRW5kKHRoaXMuYikubG9nKCl9fTsKRy5wcm90b3R5cGUuZ2V0QmFuZHdpZHRoPWZ1bmN0aW9uKGEpe2E9ImFnZ3Jlc3NpdmUiPT09YT90aGlzLmEuY2I6dGhpcy5hLm9iO3JldHVybiB0aGlzLmNhblRydXN0RXN0aW1hdGUoKT9NYXRoLm1pbihhLlZhLmdldEVzdGltYXRlKCksYS54Yi5nZXRFc3RpbWF0ZSgpKTp0aGlzLmh9O0cucHJvdG90eXBlLmdldEZhc3RNb3ZpbmdCYW5kd2lkdGg9ZnVuY3Rpb24oYSl7YT0iYWdncmVzc2l2ZSI9PT1hP3RoaXMuYS5jYjp0aGlzLmEub2I7cmV0dXJuIHRoaXMuY2FuVHJ1c3RFc3RpbWF0ZSgpP2EuVmEuZ2V0RXN0aW1hdGUoKTp0aGlzLmh9O0cucHJvdG90eXBlLmdldERhdGFBZ2U9ZnVuY3Rpb24oKXtyZXR1cm4oRGF0ZS5ub3coKS10aGlzLmIpLzFFM307Ry5wcm90b3R5cGUuY2FuVHJ1c3RFc3RpbWF0ZT1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmEuY2IuVmE7cmV0dXJuIGIuJGE+PSh2b2lkIDA9PT1hPy41OmEpfHxiLnliPj10aGlzLmp9OwpHLnByb3RvdHlwZS5zdXBwb3J0c0NhY2hpbmc9ZnVuY3Rpb24oKXtyZXR1cm4hMX07Ry5wcm90b3R5cGUuc2V0UmVwcmVzZW50YXRpb25JRD1mdW5jdGlvbigpe307Ry5wcm90b3R5cGUuZmx1c2hBQlJFdmFsdWF0aW9uU2V0PWZ1bmN0aW9uKCl7cmV0dXJuW119O0cucHJvdG90eXBlLmdldFJlY2VudFNhbXBsZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jfTsvKgoKIENvcHlyaWdodCAyMDE1IEZhY2Vib29rIEluYy4KCiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoKICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KKi8KZnVuY3Rpb24gZ2IoYSxiLGMsZCl7Ry5jYWxsKHRoaXMsZCk7dGhpcy5nPWF8fDA7dGhpcy5mPXZvaWQgMD09PWI/SW5maW5pdHk6Yjt0aGlzLm09Y31yKGdiLEcpO3EoInNoYWthLnV0aWwuRVdNQUNhY2hlQmFuZHdpZHRoRXN0aW1hdG9yIixnYik7CmdiLnByb3RvdHlwZS5zYW1wbGU9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxoKXt2YXIgaz04RTMqYi9hO2UmJmUuc2V0Qnl0ZXMoYikuc2V0RGVsYXlNcyhwYXJzZUludChhLDEwKSk7YTw9dGhpcy5nJiZrPnRoaXMuZiYmIWg/KGUmJmUuc2V0RXZlbnQoInVuc2FtcGxlZCIpLnNldFJlYXNvbigiY2FjaGVkIikubG9nKCksZiYmIXRoaXMuc2hvdWxkRXhjbHVkZVNhbXBsZShiLGMpJiZmLmdldEV2ZW50TG9nZ2VyKCJiYW5kd2lkdGhfc2FtcGxlZCIpLnNldFJlc3VsdCgiYWJvcnRlZCIpLnNldExlbmd0aChiKS5zZXRDbGllbnRUaW1lQmVnaW4oRGF0ZS5ub3coKS1wYXJzZUludChhLDEwKSkuc2V0Q2xpZW50VGltZUVuZChEYXRlLm5vdygpKS5sb2coKSx0aGlzLm0oKSk6Ry5wcm90b3R5cGUuc2FtcGxlLmNhbGwodGhpcyxhLGIsYyxkLGUsZixnKX07Z2IucHJvdG90eXBlLnN1cHBvcnRzQ2FjaGluZz1mdW5jdGlvbigpe3JldHVybiBJbmZpbml0eSE9PXRoaXMuZiYmISF0aGlzLmd9OwpnYi5wcm90b3R5cGUuc2V0UmVwcmVzZW50YXRpb25JRD1mdW5jdGlvbigpe307Z2IucHJvdG90eXBlLmZsdXNoQUJSRXZhbHVhdGlvblNldD1mdW5jdGlvbigpe3JldHVybltdfTtmdW5jdGlvbiBoYigpe0cuY2FsbCh0aGlzKX1yKGhiLEcpO3EoInNoYWthLnV0aWwuRVdNQVNpZ25lZFVSTEJhbmR3aWR0aEVzdGltYXRvciIsaGIpO2hiLnByb3RvdHlwZS5zdXBwb3J0c0NhY2hpbmc9ZnVuY3Rpb24oKXtyZXR1cm4hMH07ZnVuY3Rpb24gSSgpe3ZhciBhLGIsYz1uZXcgUHJvbWlzZShmdW5jdGlvbihjLGUpe2E9YztiPWV9KTtjLnJlc29sdmU9YTtjLnJlamVjdD1iO2MuZGVzdHJveT1JLnByb3RvdHlwZS5kZXN0cm95O3JldHVybiBjfUkucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmNhdGNoKGZ1bmN0aW9uKCl7fSk7dmFyIGE9RXJyb3IoIkRlc3Ryb3llZCEiKTthLnR5cGU9ImRlc3Ryb3kiO3RoaXMucmVqZWN0KGEpfTtmdW5jdGlvbiBpYihhKXthLnNwbGl0KCIiKS5yZWR1Y2UoZnVuY3Rpb24oYSxjLGQpe3JldHVybiBhKyhkJiYwPT1kJTQ/IiAiK2M6Yyl9KX07ZnVuY3Rpb24gamIoKXt0aGlzLmxiPW5ldyBJO3RoaXMuYz0hMTt0aGlzLkFhPW51bGw7dGhpcy5hPVtdO3RoaXMuYj1udWxsfWZ1bmN0aW9uIGtiKGEsYil7aWYoYS5jKXRocm93IEVycm9yKCJDYW5ub3QgYXBwZW5kIHRvIGEgcnVubmluZyB0YXNrISIpO2EuYS5wdXNoKGIpfWpiLnByb3RvdHlwZS5zdGFydD1mdW5jdGlvbigpe2lmKHRoaXMuYyl0aHJvdyBFcnJvcigiVGFzayBhbHJlYWR5IHN0YXJ0ZWQhIik7dGhpcy5jPSEwO3RoaXMuYS51bnNoaWZ0KGZ1bmN0aW9uKCl7fSk7bGIodGhpcyx2b2lkIDApfTtqYi5wcm90b3R5cGUuYWJvcnQ9ZnVuY3Rpb24oKXtpZih0aGlzLkFhKXJldHVybiB0aGlzLkFhO2lmKCF0aGlzLmMpcmV0dXJuIHRoaXMuYz0hMCxQcm9taXNlLnJlc29sdmUoKTt0aGlzLmImJih0aGlzLmY9dGhpcy5iKCkpO3JldHVybiB0aGlzLkFhPW5ldyBJfTtqYi5wcm90b3R5cGUuZW5kPWZ1bmN0aW9uKCl7dGhpcy5hLnNwbGljZSgxKX07CmZ1bmN0aW9uIGxiKGEsYil7dmFyIGM9YS5hWzBdKGIpLGQ7Yz8oZD1jWzBdLGEuYj1jWzFdKTooZD1Qcm9taXNlLnJlc29sdmUoKSxhLmI9bnVsbCk7ZC50aGVuKEooYSxmdW5jdGlvbihhKXt0aGlzLkFhPyh0aGlzLmE9W10sdGhpcy5iPW51bGwsbWIodGhpcykpOih0aGlzLmEuc2hpZnQoKSx0aGlzLmEubGVuZ3RoP2xiKHRoaXMsYSk6KHRoaXMubGIucmVzb2x2ZShhKSx0aGlzLmI9bnVsbCkpfSkpLmNhdGNoKEooYSxmdW5jdGlvbihhKXt0aGlzLmE9W107dGhpcy5iPW51bGw7dGhpcy5BYT9tYih0aGlzKTp0aGlzLmxiLnJlamVjdChhKX0pKX0KZnVuY3Rpb24gbWIoYSl7ZnVuY3Rpb24gYigpe3ZhciBhPUVycm9yKCJUYXNrIGFib3J0ZWQuIik7YS50eXBlPSJhYm9ydGVkIjt0aGlzLmxiLnJlamVjdChhKTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhpcy5BYS5yZXNvbHZlKCk7dGhpcy5BYT1udWxsfS5iaW5kKHRoaXMpLDUpfWEuZj9hLmYudGhlbihmdW5jdGlvbigpe3RoaXMuZj1udWxsO2IuY2FsbCh0aGlzKX0uYmluZChhKSk6Yi5jYWxsKGEpfTtmdW5jdGlvbiBKKGEsYil7cmV0dXJuIGIuYmluZChhKX07ZnVuY3Rpb24gbmIoYSxiLGMsZCxlLGYsZyl7TWVkaWFTb3VyY2UuaXNUeXBlU3VwcG9ydGVkKGMpO0YuY2FsbCh0aGlzLGUpO2U9Yi5hZGRTb3VyY2VCdWZmZXIoYyk7dGhpcy5oPWE7dGhpcy5BPWI7dGhpcy5hPWU7dGhpcy5KPWQ7dGhpcy5CPW5ldyBiYjt0aGlzLkk9dGhpcy5sPXRoaXMuWT10aGlzLmk9bnVsbDt0aGlzLlI9ITE7dGhpcy5QPXRoaXMuSz10aGlzLk89MDt0aGlzLkc9bnVsbDt0aGlzLlY9dGhpcy5GPSExO3RoaXMuWj1mO3RoaXMuRD1udWxsO3RoaXMuJD1nP2c6bnVsbDt0aGlzLmI9W107dGhpcy5VPTA7dGhpcy5tPXRoaXMuYz10aGlzLmY9bnVsbDt0aGlzLlQ9amE7dGhpcy5vPXRoaXMudT0wO3RoaXMudz10aGlzLlM9ITE7dGhpcy5nPWMmJmMuY2hhckF0KDApO0UodGhpcy5CLHRoaXMuYSwidXBkYXRlZW5kIix0aGlzLm5kLmJpbmQodGhpcykpO3RoaXMuaC5nZXRCb29sKCJsaXN0ZW5fZm9yX2FzeW5jX2FwcGVuZF9idWZmZXJfZXJyb3JzIiwhMCkmJkUodGhpcy5CLAp0aGlzLmEsImVycm9yIix0aGlzLmFkLmJpbmQodGhpcykpO3RoaXMuaj1udWxsfXIobmIsRik7bmIucHJvdG90eXBlLkJhPWZ1bmN0aW9uKCl7cmV0dXJue1NvdXJjZUJ1ZmZlcjp0aGlzLmF9fTtmdW5jdGlvbiBvYihhLGIsYyl7YS5vYyYmYS5MYShiLHt0eXBlOmEuZy5jaGFyQXQoMCksc2VnbWVudDpjLHNvdXJjZUJ1ZmZlcjphLmF9KX12YXIgcGI9MS82MDtuYi5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuYWJvcnQoKS5jYXRjaChmdW5jdGlvbigpe30pO3RoaXMuYyYmdGhpcy5jLmRlc3Ryb3koKTt0aGlzLmI9dGhpcy5mPXRoaXMuYz1udWxsO3RoaXMuQi5kZXN0cm95KCk7dGhpcy5BPXRoaXMuYT10aGlzLkQ9dGhpcy5CPW51bGx9O2Z1bmN0aW9uIHFiKGEpe3ZhciBiPWEuYi5sZW5ndGg7cmV0dXJuIDA8Yj9hLmJbYi0xXTpudWxsfQpmdW5jdGlvbiByYihhLGIpe2Zvcih2YXIgYz1hLmEuYnVmZmVyZWQsZD0wO2Q8Yy5sZW5ndGg7KytkKXt2YXIgZT1jLnN0YXJ0KGQpLXBiLGY9Yy5lbmQoZCkrcGI7aWYoYj49ZSYmYjw9ZilyZXR1cm4gYy5lbmQoZCktYn1yZXR1cm4gMH1mdW5jdGlvbiBzYihhLGIsYyl7dmFyIGQ9Yi5lbmRUaW1lP2IuZW5kVGltZS1iLnN0YXJ0VGltZToxLGU9bmV3IHRiO2UuTmE9MztlLmM9MUUzKmQ7ZS5iPTFFMyphLlQ7ZS51PWEuWTtlLmo9YztlLmRhPWEuWjtlLm1pbWVUeXBlPWEuZztlLmg9YS4kO2Uubz1iLmlzUHJlZGljdGl2ZTtyZXR1cm4gZX1uPW5iLnByb3RvdHlwZTsKbi5mZXRjaD1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGgpe3ZhciBrLGw9Zj8icmVwbGFjaW5nX2xvd2VyX3F1YWxpdHlfYnVmZmVyIjpudWxsO2lmKHRoaXMubCl7dmFyIG09dGhpcy5iW3RoaXMuYi5sZW5ndGgtMV0scD1udWxsO20mJihwPTFFMyooYS5zdGFydFRpbWUtbS5lbmRUaW1lKSk7az10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJmZXRjaCIpLnNldFJlYXNvbihsKS5zZXRSZXNvdXJjZSh1YihhLnVybCkpLnNldFR5cGUodmIodGhpcykpLnNldExlbmd0aChNYXRoLnJvdW5kKDFFMyooYS5lbmRUaW1lLWEuc3RhcnRUaW1lKSkpLnNldFNlZ21lbnRTdGFydFRpbWUoMUUzKmEuc3RhcnRUaW1lKS5zZXRTZWdtZW50RW5kVGltZSgxRTMqYS5lbmRUaW1lKS5zZXRTZWdtZW50VGltZUdhcChwKS5zdGFydCgpfXRoaXMuaj1rO2lmKHRoaXMuZil7aWYodGhpcy5oLmdldEJvb2woInNibV9lbmFibGVfY29uY3VycmVudF9mZXRjaF9yZXF1ZXN0cyIsITEpKXt2YXIgdD1bXS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7CnJldHVybiB0aGlzLmYubGIudGhlbihKKHRoaXMsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mZXRjaC5hcHBseSh0aGlzLHQpfSksZnVuY3Rpb24oYSl7dGhyb3cgYTt9KX1tPUVycm9yKCJDYW5ub3QgZmV0Y2ggKCIrdGhpcy5nKyIpOiBwcmV2aW91cyBvcGVyYXRpb24gbm90IGNvbXBsZXRlLiIpO3RoaXMudT49dGhpcy5PPyhtLnR5cGU9InN0cmVhbSIsayYmay5zZXRFcnJvcihtKS5sb2coKSx0aGlzLnU9MCk6KHRoaXMudSsrLG0udHlwZT0iYWJvcnRlZCIpO3JldHVybiBQcm9taXNlLnJlamVjdChtKX10aGlzLmY9bmV3IGpiO2MhPXRoaXMuYS50aW1lc3RhbXBPZmZzZXQmJih0aGlzLmEudGltZXN0YW1wT2Zmc2V0PWMpO3ZhciBtPXNiKHRoaXMsYSxlKSxwPXRoaXMuaC5nZXRCb29sKCJlbmFibGVfc3RyZWFtaW5nX2NvZGVfcGF0aCIsITApLHc7dz1wP2EudXJsLnN0cmVhbShtLHRoaXMuSix0aGlzLmwsdGhpcy5qLHRoaXMuSSx2Yih0aGlzKSxsLGcsaCk6YS51cmwuZmV0Y2gobSwKdGhpcy5KLHRoaXMubCx0aGlzLmosdGhpcy5JLHZiKHRoaXMpLGwsZyk7b2IodGhpcywiU2VnbWVudEZldGNoaW5nIixhKTt2YXIgej1LLnByb3RvdHlwZS5LYS5iaW5kKGEudXJsKTt0aGlzLkcmJnRoaXMuRiYmKGQ9dGhpcy5HKTt2YXIgSD0wLGRhPW51bGw7ZCYmKHRoaXMuRz1kLHRoaXMuRj0hMSxrYih0aGlzLmYsZnVuY3Rpb24oKXtyZXR1cm5bZC50aGVuKGZ1bmN0aW9uKGEpe2EuWWE+SCYmKEg9YS5ZYSk7cmV0dXJuIHdiKHRoaXMsYSxudWxsKX0uYmluZCh0aGlzKSksdGhpcy5iYi5iaW5kKHRoaXMpXX0uYmluZCh0aGlzKSkpO3ZhciBlYT1mdW5jdGlvbihhKXthLllhPkgmJihIPWEuWWEpO2RhPWEuYnl0ZUxlbmd0aDt0aGlzLkouZ2V0QmFuZHdpZHRoKCk7dGhpcy5TJiZ0aGlzLmRpc3BhdGNoRXZlbnQoeSh7dHlwZToiY2VhNjA4Q2FwdGlvbnNCeXRlc1JlY2VpdmVkIixidWJibGVzOiEwLGRldGFpbDp7dGltZXNjYWxlOmIsdmlkZW9CeXRlczphfX0pKX0uYmluZCh0aGlzKTsKcD8oaCYmKG09aC5nZXRQcm9ncmVzc1RyYWNrZXIoKSx0aGlzLmkhPT1tJiYodGhpcy5pPW0pKSxrYih0aGlzLmYsSih0aGlzLGZ1bmN0aW9uKCl7dmFyIGI9bnVsbCxjPU1hdGgubWF4KDAsKGEudXJsLmVuZEJ5dGV8fDApLWEudXJsLnN0YXJ0Qnl0ZSksZD10aGlzLmguZ2V0TnVtYmVyKCJzdHJlYW1pbmdfYXBwZW5kX3Blcl9zZWdtZW50IiwzKSxlPTA9PT1kPzA6Yy9kO3JldHVyblt3LnRoZW4oZnVuY3Rpb24oYyl7Yj1jO3RoaXMudz0hMTtyZXR1cm4geGIodGhpcyxjLGEsZSl9LmJpbmQodGhpcykpLnRoZW4oZnVuY3Rpb24oYSl7Yj1udWxsO3JldHVybiBhfSkudGhlbihlYSkuY2F0Y2goZnVuY3Rpb24oYSl7dGhpcy5oLmdldEJvb2woImFib3J0X2ZldGNoX29uX25ldF9lcnJvciIsITEpJiZoJiYodGhpcy5hLmFib3J0KCksdGhpcy53PSEwKTtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYSl9LmJpbmQodGhpcykpLGZ1bmN0aW9uKCl7b2IodGhpcywiU2VnbWVudEZhaWxlZCIsYSk7CmImJihiLmNhbmNlbCgiYWJvcnQiKSxiPW51bGwsaCYmKHRoaXMuYS5hYm9ydCgpLHRoaXMudz0hMCkpO3ooKTtyZXR1cm4gdGhpcy5iYigpfS5iaW5kKHRoaXMpXX0pKSk6a2IodGhpcy5mLEoodGhpcyxmdW5jdGlvbigpe3JldHVyblt3LnRoZW4oZnVuY3Rpb24oYil7b2IodGhpcywiU2VnbWVudEZldGNoZWQiLGEpO2VhKGIpO3JldHVybiB3Yih0aGlzLGIsYSxsKX0uYmluZCh0aGlzKSksZnVuY3Rpb24oKXtvYih0aGlzLCJTZWdtZW50RmFpbGVkIixhKTt6KCk7cmV0dXJuIHRoaXMuYmIoKX0uYmluZCh0aGlzKV19KSk7dmFyIEFhPTA9PXRoaXMuYS5idWZmZXJlZC5sZW5ndGgmJjA9PXRoaXMuYi5sZW5ndGgsY2I9bnVsbDtrYih0aGlzLmYsZnVuY3Rpb24oKXtpZigwPT10aGlzLmEuYnVmZmVyZWQubGVuZ3RoJiYhdGhpcy5WKXt2YXIgYj1FcnJvcigiRmFpbGVkIHRvIGJ1ZmZlciBzZWdtZW50ICgiK3RoaXMuZysiKS4iKTtiLnR5cGU9InN0cmVhbSI7cmV0dXJuW1Byb21pc2UucmVqZWN0KGIpXX10aGlzLmEuYnVmZmVyZWQubGVuZ3RoJiYKQWEmJihiPWEuc3RhcnRUaW1lLGNiPXRoaXMuYS5idWZmZXJlZC5zdGFydCgwKS1iKTtiPXliKHRoaXMuYixhLnN0YXJ0VGltZSk7MDw9Yj90aGlzLmIuc3BsaWNlKGIrMSwwLGEpOnRoaXMuYi5wdXNoKGEpfS5iaW5kKHRoaXMpKTt0aGlzLnU9MDtyZXR1cm4gemIodGhpcykudGhlbihmdW5jdGlvbigpe2smJmsubG9nKCk7cmV0dXJuIFByb21pc2UucmVzb2x2ZSh7VzpjYixXYzpILEg6YS5lbmRUaW1lLWEuc3RhcnRUaW1lLERjOmRhfSl9LmJpbmQodGhpcyksZnVuY3Rpb24oYSl7ayYmay5zZXRFcnJvcihhKS5sb2coKTthPUFiKGEsInRhc2siLCJBbiB1bmtub3duIHRhc2sgZXJyb3Igb2NjdXJyZWQuIik7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfS5iaW5kKHRoaXMpKX07CmZ1bmN0aW9uIHhiKGEsYixjLGQpe3ZhciBlPW5ldyBBcnJheUJ1ZmZlcigwKSxmPW5ldyBBcnJheUJ1ZmZlcigwKSxnPWZ1bmN0aW9uKCl7cmV0dXJuIGIucmVhZCgpLnRoZW4oZnVuY3Rpb24oYSl7dmFyIGI9YS52YWx1ZTthPWEuZG9uZTtpZih0aGlzLnd8fGEmJjA9PT1mLmJ5dGVMZW5ndGgpcmV0dXJuIGU7aWYoIWEmJiFiKXJldHVybiBnKCk7YiYmKGIgaW5zdGFuY2VvZiBVaW50OEFycmF5JiYoYj1iLmJ1ZmZlciksZj1jb25jYXRBcnJheUJ1ZmZlcihmLGIpKTtyZXR1cm4gZi5ieXRlTGVuZ3RoPj1kfHxhPyh0aGlzLmkmJnRoaXMuaS5ub3RpZnlCeXRlc0NvbnN1bWVkKGYuYnl0ZUxlbmd0aCksb2IodGhpcywiU2VnbWVudEZldGNoZWQiLGMpLGU9Y29uY2F0QXJyYXlCdWZmZXIoZSxmKSxiPWYsZj1uZXcgQXJyYXlCdWZmZXIoMCksd2IodGhpcyxiLGMpLnRoZW4oZykpOmcoKX0uYmluZCh0aGlzKSl9LmJpbmQoYSk7cmV0dXJuIGcoKX0KZnVuY3Rpb24gQmIoYSl7aWYoYS5mKXt2YXIgYj1FcnJvcigiQ2Fubm90IGNsZWFyICgiK2EuZysiKTogcHJldmlvdXMgb3BlcmF0aW9uIG5vdCBjb21wbGV0ZS4iKTthLm8+PWEuSz8oYi50eXBlPSJzdHJlYW0iLGEubz0wKTooYS5vKyssYi50eXBlPSJhYm9ydGVkIik7cmV0dXJuIFByb21pc2UucmVqZWN0KGIpfWEuZj1uZXcgamI7a2IoYS5mLGZ1bmN0aW9uKCl7dmFyIGE7YTppZigwPT10aGlzLmEuYnVmZmVyZWQubGVuZ3RoKWE9UHJvbWlzZS5yZXNvbHZlKCk7ZWxzZXt0cnl7dGhpcy5hLnJlbW92ZSgwLHRoaXMuQS5kdXJhdGlvbil9Y2F0Y2goYil7Yj1BYihiLCJjbGVhcl9idWZmZXIiLCJBbiBlcnJvciBvY2N1cmVkIHdoZW4gY2xlYXJpbmcgdGhlIGJ1ZmZlci4iKTthPVByb21pc2UucmVqZWN0KGIpO2JyZWFrIGF9dGhpcy5iPVtdO2E9dGhpcy5jPW5ldyBJfXJldHVyblthLHRoaXMuYmIuYmluZCh0aGlzKV19LmJpbmQoYSkpO2Eubz0wO3JldHVybiB6YihhKX0KZnVuY3Rpb24gQ2IoYSxiKXtpZihhLmYpe3ZhciBjPUVycm9yKCJDYW5ub3QgY2xlYXJBZnRlciAoIithLmcrIik6IHByZXZpb3VzIG9wZXJhdGlvbiBub3QgY29tcGxldGUuIik7Yy50eXBlPSJzdHJlYW0iO3JldHVybiBQcm9taXNlLnJlamVjdChjKX1hLmY9bmV3IGpiO2tiKGEuZixmdW5jdGlvbigpe3JldHVybltEYih0aGlzLGIpLHRoaXMuYmIuYmluZCh0aGlzKV19LmJpbmQoYSkpO3JldHVybiB6YihhKX1mdW5jdGlvbiBFYihhLGIpe2EuYz1uZXcgSTt2YXIgYz1iLTU7aWYoMDxjKXt0cnl7YS5hLnJlbW92ZSgwLGMpfWNhdGNoKGQpe3JldHVybiBkPUFiKGQsImNsZWFyX2J1ZmZlciIsIkFuIGVycm9yIG9jY3VyZWQgd2hlbiBjbGVhcmluZyB0aGUgYnVmZmVyLiIpLFByb21pc2UucmVqZWN0KGQpfWM9RmIoYSxjKTswPGMmJihhLmI9YS5iLnNsaWNlKGMsYS5iLmxlbmd0aCkpfWVsc2UgYS5jLnJlc29sdmUoKTtyZXR1cm4gYS5jfQpuLmFib3J0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZj90aGlzLmYuYWJvcnQoKTpQcm9taXNlLnJlc29sdmUoKX07ZnVuY3Rpb24gR2IoYSl7Zm9yKHZhciBiPWEuY3VycmVudFRpbWUsYz1iLGQ9MDtkPGEuYnVmZmVyZWQubGVuZ3RoO2QrKylpZihiPD1hLmJ1ZmZlcmVkLnN0YXJ0KGQpKXtjPWEuYnVmZmVyZWQuc3RhcnQoZCk7YnJlYWt9cmV0dXJuIGN9ZnVuY3Rpb24gSGIoYSxiKXtmb3IodmFyIGM9Yi5jdXJyZW50VGltZSxkPTA7ZDxiLmJ1ZmZlcmVkLmxlbmd0aDtkKyspaWYoYz49Yi5idWZmZXJlZC5zdGFydChkKSYmYzw9Yi5idWZmZXJlZC5lbmQoZCktYS5QKXJldHVybiExO3JldHVybiEwfQpmdW5jdGlvbiB6YihhKXthLmYuc3RhcnQoKTtyZXR1cm4gYS5mLmxiLnRoZW4oSihhLGZ1bmN0aW9uKCl7dGhpcy5mPW51bGx9KSkuY2F0Y2goSihhLGZ1bmN0aW9uKGEpe3RoaXMuZj1udWxsO2E9QWIoYSwidGFzayIsIkFuIHVua25vd24gdGFzayBlcnJvciBvY2N1cnJlZC4iKTtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYSl9KSl9CmZ1bmN0aW9uIHdiKGEsYixjLGQpe3ZhciBlO2lmKGEubCl7dmFyIGY9Yz91YihjLnVybCk6ImluaXQiO2U9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigiYXBwZW5kIikuc2V0UmVhc29uKGQpLnNldFJlc291cmNlKGYpLnNldFR5cGUodmIoYSkpLnNldExlbmd0aChiLmJ5dGVMZW5ndGgpLnN0YXJ0KCk7bnVsbCE9PWMmJihlPWUuc2V0U2VnbWVudFN0YXJ0VGltZSgxRTMqYy5zdGFydFRpbWUpLnNldFNlZ21lbnRFbmRUaW1lKDFFMypjLmVuZFRpbWUpKTthLmomJihlPWUuc2V0UGFyZW50TG9nZ2VyKGEuaikpfXRyeXthLmEuYXBwZW5kQnVmZmVyKGIpfWNhdGNoKGcpe3JldHVybiBhLmguZ2V0Qm9vbCgibnVrZV9zb3VyY2VfYnVmZmVyX29uX3F1b3RhX2V4Y2VlZGVkX2VyciIsITApJiZnIGluc3RhbmNlb2YgRE9NRXhjZXB0aW9uJiZnLmNvZGU9PT1ET01FeGNlcHRpb24uUVVPVEFfRVhDRUVERURfRVJSJiZnLm1lc3NhZ2UubWF0Y2goL14uKlNvdXJjZUJ1ZmZlci4qZnVsbC4qZnJlZVxzc3BhY2UuKiQvKSYmCihnLnR5cGU9InNvdXJjZWJ1ZmZlcl9mdWxsIiksZSYmZS5zZXRFcnJvcihnKS5sb2coKSxQcm9taXNlLnJlamVjdChnKX1hLmM9bmV3IEk7YS5tPWM7cmV0dXJuIGEuYy50aGVuKGZ1bmN0aW9uKCl7ZSYmZS5sb2coKX0sZnVuY3Rpb24oYSl7ZSYmZS5zZXRFcnJvcihhKS5sb2coKTtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYSl9KX1uLmFkPWZ1bmN0aW9uKGEpe2E9YS5lcnJvcnx8RXJyb3IoIkNhbGwgdG8gYXBwZW5kQnVmZmVyIGZhaWxlZCB0byBhcHBlbmQgdGhlIHNlZ21lbnQuIik7YT1BYihhLCJzdHJlYW0iLCJDYWxsIHRvIGFwcGVuZEJ1ZmZlciBmYWlsZWQgdG8gYXBwZW5kIHRoZSBzZWdtZW50LiIpO3RoaXMuYyYmdGhpcy5jLnJlamVjdChhKX07CmZ1bmN0aW9uIERiKGEsYil7aWYoMD09YS5hLmJ1ZmZlcmVkLmxlbmd0aClyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7dmFyIGM9RmIoYSxiKTtpZigtMT09Y3x8Yz09YS5iLmxlbmd0aC0xKXJldHVybiBQcm9taXNlLnJlc29sdmUoKTt0cnl7YS5hLnJlbW92ZShhLmJbYysxXS5zdGFydFRpbWUsYS5BLmR1cmF0aW9uKX1jYXRjaChkKXtyZXR1cm4gUHJvbWlzZS5yZWplY3QoZCl9YS5iPWEuYi5zbGljZSgwLGMrMSk7YS5jPW5ldyBJO3JldHVybiBhLmN9bi5iYj1mdW5jdGlvbigpe2lmKHRoaXMuYyl7aWYoIm9wZW4iPT10aGlzLkEucmVhZHlTdGF0ZSl7dmFyIGE9RXJyb3IoIlByZXZpb3VzIG9wZXJhdGlvbiBhYm9ydGVkLiIpO2EudHlwZT0iYWJvcnRlZCI7dGhpcy5jLnJlamVjdChhKTt0aGlzLmEuYWJvcnQoKTt0aGlzLlImJih0aGlzLkY9ITApO3RoaXMuYz1uZXcgSX1yZXR1cm4gdGhpcy5jfXJldHVybiBQcm9taXNlLnJlc29sdmUoKX07Cm4ubmQ9ZnVuY3Rpb24oKXt0aGlzLmMmJih0aGlzLm0mJihvYih0aGlzLCJTZWdtZW50QXBwZW5kZWQiLHRoaXMubSksdGhpcy5tPW51bGwpLHRoaXMuYy5yZXNvbHZlKCksdGhpcy5jPW51bGwpfTtuLkRkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaX07bmIucHJvdG90eXBlLmdldFN0cmVhbVByb2dyZXNzVHJhY2tlcj1uYi5wcm90b3R5cGUuRGQ7ZnVuY3Rpb24gdmIoYSl7cmV0dXJuInYiPT09YS5nLmNoYXJBdCgwKT8idmlkZW8iOiJhIj09PWEuZy5jaGFyQXQoMCk/ImF1ZGlvIjpudWxsfWZ1bmN0aW9uIEFiKGEsYixjKXthfHwoYT1FcnJvcihjKSk7YS50eXBlfHwoYS50eXBlPWIpO2EubWVzc2FnZXx8KGEubWVzc2FnZT1jKTtyZXR1cm4gYX0KZnVuY3Rpb24gRmIoYSxiKXtpZihhLmguZ2V0Qm9vbCgic2JtX3VzZV9zZWdtZW50X2luZGV4X3RvX2ZpbmRfdGltZXN0YW1wcyIsITEpJiZhLkQpe3ZhciBjPWEuRC5maW5kKGIpO2lmKGMpcmV0dXJuIHliKGEuYixjLnN0YXJ0VGltZSl9ZWxzZSByZXR1cm4geWIoYS5iLGIpO3JldHVybi0xfTtmdW5jdGlvbiBJYihhKXtyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLGEpfXEoInNoYWthLnV0aWwuVWludDhBcnJheVV0aWxzLnRvU3RyaW5nIixJYik7ZnVuY3Rpb24gSmIoYSl7Zm9yKHZhciBiPW5ldyBVaW50OEFycmF5KGEubGVuZ3RoKSxjPTA7YzxhLmxlbmd0aDsrK2MpYltjXT1hLmNoYXJDb2RlQXQoYyk7cmV0dXJuIGJ9cSgic2hha2EudXRpbC5VaW50OEFycmF5VXRpbHMuZnJvbVN0cmluZyIsSmIpO3EoInNoYWthLnV0aWwuVWludDhBcnJheVV0aWxzLnRvQmFzZTY0IixmdW5jdGlvbihhLGIpe3ZhciBjPXZvaWQgMD09Yj8hMDpiLGQ9d2luZG93LmJ0b2EoSWIoYSkpLnJlcGxhY2UoL1wrL2csIi0iKS5yZXBsYWNlKC9cLy9nLCJfIik7cmV0dXJuIGM/ZDpkLnJlcGxhY2UoLz0qJC8sIiIpfSk7ZnVuY3Rpb24gS2IoYSl7cmV0dXJuIEpiKHdpbmRvdy5hdG9iKGEucmVwbGFjZSgvLS9nLCIrIikucmVwbGFjZSgvXy9nLCIvIikpKX0KcSgic2hha2EudXRpbC5VaW50OEFycmF5VXRpbHMuZnJvbUJhc2U2NCIsS2IpO3EoInNoYWthLnV0aWwuVWludDhBcnJheVV0aWxzLmZyb21IZXgiLGZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1uZXcgVWludDhBcnJheShhLmxlbmd0aC8yKSxjPTA7YzxhLmxlbmd0aDtjKz0yKWJbYy8yXT13aW5kb3cucGFyc2VJbnQoYS5zdWJzdHIoYywyKSwxNik7cmV0dXJuIGJ9KTtmdW5jdGlvbiBMYihhKXtmb3IodmFyIGI9IiIsYz0wO2M8YS5sZW5ndGg7KytjKXt2YXIgZD1hW2NdLnRvU3RyaW5nKDE2KTsxPT1kLmxlbmd0aCYmKGQ9IjAiK2QpO2IrPWR9cmV0dXJuIGJ9cSgic2hha2EudXRpbC5VaW50OEFycmF5VXRpbHMudG9IZXgiLExiKTtmdW5jdGlvbiBNYShhLGIpe2lmKCFhJiYhYilyZXR1cm4hMDtpZighYXx8IWJ8fGEubGVuZ3RoIT1iLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIGM9MDtjPGEubGVuZ3RoOysrYylpZihhW2NdIT1iW2NdKXJldHVybiExO3JldHVybiEwfTtmdW5jdGlvbiBNYigpe3RoaXMuaT10aGlzLmE9IiI7dGhpcy53aXRoQ3JlZGVudGlhbHM9ITE7dGhpcy5vPXRoaXMuZj1udWxsO3RoaXMuaj10aGlzLmg9ITE7dGhpcy5tPXRoaXMuZz0iIjt0aGlzLmM9bnVsbDt0aGlzLmI9W119ZnVuY3Rpb24gTmIoYSxiKXt2YXIgYz1uZXcgTWI7Yy5hPWEuYTtjLmk9YS5pO2Mud2l0aENyZWRlbnRpYWxzPWEud2l0aENyZWRlbnRpYWxzO2MuZj1hLmY7Yy5vPWEubztjLmg9YS5oO2Muaj1hLmo7Yy5nPWEuZztjLm09YS5tO2MuYz1hLmM/bmV3IFVpbnQ4QXJyYXkoYS5jLmJ1ZmZlcik6bnVsbDtPYihjLGEuYik7T2IoYyxiLmIpO3JldHVybiBjfWZ1bmN0aW9uIE9iKGEsYil7dmFyIGM9YS5iLmNvbmNhdChiLm1hcChmdW5jdGlvbihhKXtyZXR1cm57aW5pdERhdGE6bmV3IFVpbnQ4QXJyYXkoYS5pbml0RGF0YS5idWZmZXIpLGluaXREYXRhVHlwZTphLmluaXREYXRhVHlwZX19KSk7YS5iPXdhKGMpfQpmdW5jdGlvbiB4YShhLGIpe3JldHVybiBhLmluaXREYXRhVHlwZT09Yi5pbml0RGF0YVR5cGUmJk1hKGEuaW5pdERhdGEsYi5pbml0RGF0YSl9O2Z1bmN0aW9uIFBiKGEsYixjLGQpe3RoaXMud2l0aENyZWRlbnRpYWxzPWM7dGhpcy5hPVtdO2QmJnRoaXMuYS5wdXNoKGQpfXEoInNoYWthLnBsYXllci5Ecm1TY2hlbWVJbmZvIixQYik7UGIuRGlzdGluY3RpdmVJZGVudGlmaWVyPXtPUFRJT05BTDowLFJFUVVJUkVEOjF9O1BiLlBlcnNpc3RlbnRTdGF0ZT17T1BUSU9OQUw6MCxSRVFVSVJFRDoxfTtQYi5jcmVhdGVVbmVuY3J5cHRlZD1mdW5jdGlvbigpe3JldHVybiBuZXcgUGIoMCwwLCExLG51bGwpfTtmdW5jdGlvbiBRYihhKXt0aGlzLnN5c3RlbUlkcz1bXTt0aGlzLmNlbmNLZXlJZHM9W107dGhpcy5hPVtdO2E9bmV3IEJhKG5ldyBEYXRhVmlldyhhLmJ1ZmZlcikpO3RyeXtmb3IoO0RhKGEpOyl7dmFyIGI9YS5hLGM9dihhKSxkPXYoYSk7MT09Yz9jPUZhKGEpOjA9PWMmJihjPWEuYi5ieXRlTGVuZ3RoLWIpO2lmKDE4ODY2MTQzNzYhPWQpSGEoYSxjLShhLmEtYikpO2Vsc2V7dmFyIGU9RWEoYSk7aWYoMTxlKUhhKGEsYy0oYS5hLWIpKTtlbHNle0hhKGEsMyk7dmFyIGY9TGIoR2EoYSkpLGc9W107aWYoMDxlKWZvcih2YXIgaD12KGEpLGs9MDtrPGg7KytrKXt2YXIgbD1MYihHYShhKSk7Zy5wdXNoKGwpfXZhciBtPXYoYSk7SGEoYSxtKTt0aGlzLmNlbmNLZXlJZHMucHVzaC5hcHBseSh0aGlzLmNlbmNLZXlJZHMsZyk7dGhpcy5zeXN0ZW1JZHMucHVzaChmKTt0aGlzLmEucHVzaCh7c3RhcnQ6YixlbmQ6YS5hLTF9KTthLmEhPWIrYyYmSGEoYSxjLShhLmEtYikpfX19fWNhdGNoKHApe319Cjt2YXIgUmI9L14oPzooW146Lz8jLl0rKTopPyg/OlwvXC8oPzooW14vPyNdKilAKT8oW14vIz9dKj8pKD86OihbMC05XSspKT8oPz1bLyM/XXwkKSk/KFtePyNdKyk/KD86XD8oW14jXSopKT8oPzojKC4qKSk/JC87ZnVuY3Rpb24gTChhKXt2YXIgYjthIGluc3RhbmNlb2YgTD8oU2IodGhpcyxhLnphKSx0aGlzLlVhPWEuVWEsdGhpcy5oYT1hLmhhLFRiKHRoaXMsYS5YYSksdGhpcy51YT1hLnVhLFViKHRoaXMsYS5hLmNsb25lKCkpLHRoaXMuTWE9YS5NYSk6YSYmKGI9U3RyaW5nKGEpLm1hdGNoKFJiKSk/KFNiKHRoaXMsYlsxXXx8IiIsITApLHRoaXMuVWE9VmIoYlsyXXx8IiIpLHRoaXMuaGE9VmIoYlszXXx8IiIsITApLFRiKHRoaXMsYls0XSksdGhpcy51YT1WYihiWzVdfHwiIiwhMCksVWIodGhpcyxiWzZdfHwiIiwhMCksdGhpcy5NYT1WYihiWzddfHwiIikpOnRoaXMuYT1uZXcgV2IobnVsbCl9bj1MLnByb3RvdHlwZTtuLnphPSIiO24uVWE9IiI7bi5oYT0iIjtuLlhhPW51bGw7bi51YT0iIjtuLk1hPSIiOwpuLnRvU3RyaW5nPWZ1bmN0aW9uKCl7dmFyIGE9W10sYj10aGlzLnphO2ImJmEucHVzaChYYihiLFliLCEwKSwiOiIpO2lmKGI9dGhpcy5oYSl7YS5wdXNoKCIvLyIpO3ZhciBjPXRoaXMuVWE7YyYmYS5wdXNoKFhiKGMsWWIsITApLCJAIik7YS5wdXNoKGVuY29kZVVSSUNvbXBvbmVudChiKS5yZXBsYWNlKC8lMjUoWzAtOWEtZkEtRl17Mn0pL2csIiUkMSIpKTtiPXRoaXMuWGE7bnVsbCE9YiYmYS5wdXNoKCI6IixTdHJpbmcoYikpfWlmKGI9dGhpcy51YSl0aGlzLmhhJiYiLyIhPWIuY2hhckF0KDApJiZhLnB1c2goIi8iKSxhLnB1c2goWGIoYiwiLyI9PWIuY2hhckF0KDApP1piOiRiLCEwKSk7KGI9dGhpcy5hLnRvU3RyaW5nKCkpJiZhLnB1c2goIj8iLGIpOyhiPXRoaXMuTWEpJiZhLnB1c2goIiMiLFhiKGIsYWMpKTtyZXR1cm4gYS5qb2luKCIiKX07Cm4ucmVzb2x2ZT1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmNsb25lKCk7ImRhdGEiPT09Yi56YSYmKGI9bmV3IEwpO3ZhciBjPSEhYS56YTtjP1NiKGIsYS56YSk6Yz0hIWEuVWE7Yz9iLlVhPWEuVWE6Yz0hIWEuaGE7Yz9iLmhhPWEuaGE6Yz1udWxsIT1hLlhhO3ZhciBkPWEudWE7aWYoYylUYihiLGEuWGEpO2Vsc2UgaWYoYz0hIWEudWEpe2lmKCIvIiE9ZC5jaGFyQXQoMCkpaWYodGhpcy5oYSYmIXRoaXMudWEpZD0iLyIrZDtlbHNle3ZhciBlPWIudWEubGFzdEluZGV4T2YoIi8iKTstMSE9ZSYmKGQ9Yi51YS5zdWJzdHIoMCxlKzEpK2QpfWlmKCIuLiI9PWR8fCIuIj09ZClkPSIiO2Vsc2UgaWYoLTEhPWQuaW5kZXhPZigiLi8iKXx8LTEhPWQuaW5kZXhPZigiLy4iKSl7Zm9yKHZhciBlPTA9PWQubGFzdEluZGV4T2YoIi8iLDApLGQ9ZC5zcGxpdCgiLyIpLGY9W10sZz0wO2c8ZC5sZW5ndGg7KXt2YXIgaD1kW2crK107Ii4iPT1oP2UmJmc9PWQubGVuZ3RoJiZmLnB1c2goIiIpOiIuLiI9PQpoPygoMTxmLmxlbmd0aHx8MT09Zi5sZW5ndGgmJiIiIT1mWzBdKSYmZi5wb3AoKSxlJiZnPT1kLmxlbmd0aCYmZi5wdXNoKCIiKSk6KGYucHVzaChoKSxlPSEwKX1kPWYuam9pbigiLyIpfX1jP2IudWE9ZDpjPSIiIT09YS5hLnRvU3RyaW5nKCk7Yz9VYihiLGEuYS5jbG9uZSgpKTpjPSEhYS5NYTtjJiYoYi5NYT1hLk1hKTtyZXR1cm4gYn07bi5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgTCh0aGlzKX07ZnVuY3Rpb24gU2IoYSxiLGMpe2EuemE9Yz9WYihiLCEwKTpiO2EuemEmJihhLnphPWEuemEucmVwbGFjZSgvOiQvLCIiKSl9ZnVuY3Rpb24gVGIoYSxiKXtpZihiKXtiPU51bWJlcihiKTtpZihpc05hTihiKXx8MD5iKXRocm93IEVycm9yKCJCYWQgcG9ydCBudW1iZXIgIitiKTthLlhhPWJ9ZWxzZSBhLlhhPW51bGx9ZnVuY3Rpb24gVWIoYSxiLGMpe2IgaW5zdGFuY2VvZiBXYj9hLmE9YjooY3x8KGI9WGIoYixiYykpLGEuYT1uZXcgV2IoYikpfQpmdW5jdGlvbiBWYihhLGIpe3JldHVybiBhP2I/ZGVjb2RlVVJJKGEpOmRlY29kZVVSSUNvbXBvbmVudChhKToiIn1mdW5jdGlvbiBYYihhLGIsYyl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBhPyhhPWVuY29kZVVSSShhKS5yZXBsYWNlKGIsY2MpLGMmJihhPWEucmVwbGFjZSgvJTI1KFswLTlhLWZBLUZdezJ9KS9nLCIlJDEiKSksYSk6bnVsbH1mdW5jdGlvbiBjYyhhKXthPWEuY2hhckNvZGVBdCgwKTtyZXR1cm4iJSIrKGE+PjQmMTUpLnRvU3RyaW5nKDE2KSsoYSYxNSkudG9TdHJpbmcoMTYpfXZhciBZYj0vWyNcL1w/QF0vZywkYj0vW1wjXD86XS9nLFpiPS9bXCNcP10vZyxiYz0vW1wjXD9AXS9nLGFjPS8jL2c7ZnVuY3Rpb24gV2IoYSl7dGhpcy5iPWF8fG51bGx9V2IucHJvdG90eXBlLmE9bnVsbDtXYi5wcm90b3R5cGUuYz1udWxsOwpmdW5jdGlvbiBkYyhhLGIsYyl7aWYoIWEuYSYmKGEuYT17fSxhLmM9MCxhLmIpKWZvcih2YXIgZD1hLmIuc3BsaXQoIiYiKSxlPTA7ZTxkLmxlbmd0aDtlKyspe3ZhciBmPWRbZV0uaW5kZXhPZigiPSIpLGc9bnVsbCxoPW51bGw7MDw9Zj8oZz1kW2VdLnN1YnN0cmluZygwLGYpLGg9ZFtlXS5zdWJzdHJpbmcoZisxKSk6Zz1kW2VdO2c9ZGVjb2RlVVJJQ29tcG9uZW50KGcucmVwbGFjZSgvXCsvZywiICIpKTtoPWh8fCIiO2RjKGEsZyxkZWNvZGVVUklDb21wb25lbnQoaC5yZXBsYWNlKC9cKy9nLCIgIikpKX1hLmI9bnVsbDsoZD1hLmEuaGFzT3duUHJvcGVydHkoYikmJmEuYVtiXSl8fChhLmFbYl09ZD1bXSk7ZC5wdXNoKGMpO2EuYysrfQpXYi5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtpZih0aGlzLmIpcmV0dXJuIHRoaXMuYjtpZighdGhpcy5hKXJldHVybiIiO3ZhciBhPVtdLGI7Zm9yKGIgaW4gdGhpcy5hKWZvcih2YXIgYz1lbmNvZGVVUklDb21wb25lbnQoYiksZD10aGlzLmFbYl0sZT0wO2U8ZC5sZW5ndGg7ZSsrKXt2YXIgZj1jOyIiIT09ZFtlXSYmKGYrPSI9IitlbmNvZGVVUklDb21wb25lbnQoZFtlXSkpO2EucHVzaChmKX1yZXR1cm4gdGhpcy5iPWEuam9pbigiJiIpfTtXYi5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgV2I7YS5iPXRoaXMuYjtpZih0aGlzLmEpe3ZhciBiPXt9LGM7Zm9yKGMgaW4gdGhpcy5hKWJbY109dGhpcy5hW2NdLmNvbmNhdCgpO2EuYT1iO2EuYz10aGlzLmN9cmV0dXJuIGF9O2Z1bmN0aW9uIGVjKGEsYixjKXt2YXIgZD1hLmluZGV4T2YoIjw/eG1sIik7MDw9ZCYmKGE9YS5zdWJzdHIoZCkpO2E9KG5ldyBET01QYXJzZXIpLnBhcnNlRnJvbVN0cmluZyhhLCJ0ZXh0L3htbCIpO2lmKCFhKXJldHVybiBudWxsOyJzdHJpbmciPT09dHlwZW9mIGImJihiPVtuZXcgTChiKV0pO2I9Ynx8W25ldyBMKCIiKV07Yz1jfHxbbmV3IEwoIiIpXTtyZXR1cm4gTSh7QWM6YixiYXNlVXJsOmN9LGEsZmMpfXEoInNoYWthLmRhc2gubXBkLnBhcnNlTXBkIixlYyk7CmZ1bmN0aW9uIGZjKCl7dGhpcy5pZD10aGlzLnVybD1udWxsO3RoaXMudHlwZT0ic3RhdGljIjt0aGlzLkZCSXNMaXZlVGVtcGxhdGVkPXRoaXMuRkJXYXNMaXZlPXRoaXMubWFuaWZlc3RJc0xpdmVTdHJlYW1pbmc9ITE7dGhpcy5GQk1hbmlmZXN0SWRlbnRpZmllcj0iIjt0aGlzLkZCTVM9ITE7dGhpcy51PXRoaXMuYmFzZVVybD10aGlzLkFjPW51bGw7dGhpcy5qPXRoaXMuaT10aGlzLmg9MDt0aGlzLmI9bnVsbDt0aGlzLm09NTt0aGlzLmY9dGhpcy5jPXRoaXMuZz1udWxsO3RoaXMubz0xO3RoaXMubGFzdFZpZGVvRnJhbWVUcz10aGlzLmN1cnJlbnRTZXJ2ZXJUaW1lTXM9MDt0aGlzLmE9W119ZnVuY3Rpb24gZ2MoKXt0aGlzLmY9dGhpcy5jPXRoaXMuYj10aGlzLmJhc2VVcmw9dGhpcy5kdXJhdGlvbj10aGlzLnN0YXJ0PXRoaXMuaWQ9bnVsbDt0aGlzLmE9W119CmZ1bmN0aW9uIGhjKCl7dGhpcy5jPXRoaXMuY29kZWNzPXRoaXMubWltZVR5cGU9dGhpcy5oZWlnaHQ9dGhpcy53aWR0aD10aGlzLmNvbnRlbnRUeXBlPXRoaXMubGFuZz10aGlzLmdyb3VwPXRoaXMuaWQ9bnVsbDt0aGlzLmY9ITE7dGhpcy5pPXRoaXMuaD10aGlzLmc9dGhpcy5iYXNlVXJsPW51bGw7dGhpcy5qPVtdO3RoaXMuYT1bXTt0aGlzLmI9bnVsbH1mdW5jdGlvbiBpYygpe3RoaXMudmFsdWU9bnVsbH1mdW5jdGlvbiBqYygpe3RoaXMubGFuZz10aGlzLmE9bnVsbH1mdW5jdGlvbiBrYygpe3RoaXMuY29udGVudFR5cGU9dGhpcy5sYW5nPXRoaXMuaWQ9bnVsbH1mdW5jdGlvbiBsYygpe3RoaXMuZGF0YT1udWxsfWZ1bmN0aW9uIG1jKCl7dGhpcy5kYXRhPW51bGx9CmZ1bmN0aW9uIG5jKCl7dGhpcy5hPXRoaXMuYj10aGlzLmY9dGhpcy5pPXRoaXMuYmFzZVVybD10aGlzLmo9dGhpcy5mcmFtZVJhdGU9dGhpcy51PXRoaXMubz10aGlzLm09dGhpcy5mYlF1YWxpdHlDbGFzcz10aGlzLmZiUXVhbGl0eUxhYmVsPXRoaXMuaD10aGlzLmc9dGhpcy5jb2RlY3M9dGhpcy5taW1lVHlwZT10aGlzLmhlaWdodD10aGlzLndpZHRoPXRoaXMuYmFuZHdpZHRoPXRoaXMubGFuZz10aGlzLmlkPW51bGw7dGhpcy5jPVtdfWZ1bmN0aW9uIG9jKCl7dGhpcy52YWx1ZT10aGlzLmE9bnVsbH1vYy5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgb2M7YS5hPXRoaXMuYTthLnZhbHVlPXRoaXMudmFsdWU7cmV0dXJuIGF9O29jLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMuYT1OKGIsInNjaGVtZUlkVXJpIixPLHRoaXMuYSk7dGhpcy52YWx1ZT1OKGIsInZhbHVlIixPLHRoaXMudmFsdWUpfTsKZnVuY3Rpb24gcGMoKXt0aGlzLmI9dGhpcy5hPXRoaXMuZj10aGlzLmM9bnVsbH1mdW5jdGlvbiBxYygpe3RoaXMucGFyc2VkUHNzaD10aGlzLnBzc2hCb3g9bnVsbH1mdW5jdGlvbiByYygpe3RoaXMudXJsPW51bGx9ZnVuY3Rpb24gc2MoKXt0aGlzLnVybD1udWxsfWZ1bmN0aW9uIHRjKCl7dGhpcy5iYXNlVXJsPW51bGw7dGhpcy5zPTE7dGhpcy5jPXRoaXMuYj10aGlzLmY9dGhpcy5hPXRoaXMuTD1udWxsfXRjLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyB0YzthLmJhc2VVcmw9dWModGhpcy5iYXNlVXJsKTthLnM9dGhpcy5zO2EuTD10aGlzLkw7YS5hPXZjKHRoaXMuYSk7YS5mPXZjKHRoaXMuZik7YS5iPXZjKHRoaXMuYik7YS5jPXZjKHRoaXMuYyk7cmV0dXJuIGF9O2Z1bmN0aW9uIHdjKCl7dGhpcy5hPXRoaXMudXJsPW51bGx9CndjLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyB3YzthLnVybD11Yyh0aGlzLnVybCk7YS5hPXZjKHRoaXMuYSk7cmV0dXJuIGF9O2Z1bmN0aW9uIHhjKCl7dGhpcy5hPXRoaXMudXJsPW51bGx9eGMucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IHhjO2EudXJsPXVjKHRoaXMudXJsKTthLmE9dmModGhpcy5hKTtyZXR1cm4gYX07ZnVuY3Rpb24geWMoKXt0aGlzLmJhc2VVcmw9bnVsbDt0aGlzLnM9MTt0aGlzLkg9dGhpcy5MPW51bGw7dGhpcy5jPTA7dGhpcy5iPW51bGw7dGhpcy5hPVtdO3RoaXMuQz1udWxsfXljLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyB5YzthLmJhc2VVcmw9dWModGhpcy5iYXNlVXJsKTthLnM9dGhpcy5zO2EuTD10aGlzLkw7YS5IPXRoaXMuSDthLmM9dGhpcy5jO2EuYj12Yyh0aGlzLmIpO2EuYT11Yyh0aGlzLmEpfHxbXTthLkM9dmModGhpcy5DKTtyZXR1cm4gYX07CmZ1bmN0aW9uIHpjKCl7dGhpcy5hPXRoaXMuYj1udWxsfXpjLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyB6YzthLmI9dWModGhpcy5iKTthLmE9dmModGhpcy5hKTtyZXR1cm4gYX07ZnVuY3Rpb24gQWMoKXt0aGlzLnM9MTt0aGlzLkg9dGhpcy5MPW51bGw7dGhpcy5iPTA7dGhpcy5DPXRoaXMuYz10aGlzLmE9dGhpcy5mPW51bGx9QWMucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IEFjO2Eucz10aGlzLnM7YS5MPXRoaXMuTDthLkg9dGhpcy5IO2EuYj10aGlzLmI7YS5mPXRoaXMuZjthLmE9dGhpcy5hO2EuYz10aGlzLmM7YS5DPXZjKHRoaXMuQyk7cmV0dXJuIGF9O2Z1bmN0aW9uIEJjKCl7dGhpcy5iPXRoaXMuYT1udWxsO3RoaXMuTj1bXX1CYy5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgQmM7YS5hPXRoaXMuYTthLmI9dGhpcy5iO2EuTj11Yyh0aGlzLk4pfHxbXTtyZXR1cm4gYX07CmZ1bmN0aW9uIENjKCl7dGhpcy5zdGFydFNlZ21lbnRJbmRleD10aGlzLnJlcGVhdD10aGlzLmR1cmF0aW9uPXRoaXMuc3RhcnRUaW1lPW51bGx9Q2MucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IENjO2Euc3RhcnRUaW1lPXRoaXMuc3RhcnRUaW1lO2EuZHVyYXRpb249dGhpcy5kdXJhdGlvbjthLnJlcGVhdD10aGlzLnJlcGVhdDtyZXR1cm4gYX07ZnVuY3Rpb24gRGMoYSxiKXt0aGlzLnFhPWE7dGhpcy5lbmQ9Yn1EYy5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IERjKHRoaXMucWEsdGhpcy5lbmQpfTtmYy5UQUdfTkFNRT0iTVBEIjtnYy5UQUdfTkFNRT0iUGVyaW9kIjtoYy5UQUdfTkFNRT0iQWRhcHRhdGlvblNldCI7aWMuVEFHX05BTUU9IlJvbGUiO2pjLlRBR19OQU1FPSJBY2Nlc3NpYmlsaXR5IjtrYy5UQUdfTkFNRT0iQ29udGVudENvbXBvbmVudCI7bmMuVEFHX05BTUU9IlJlcHJlc2VudGF0aW9uIjtwYy5UQUdfTkFNRT0iQ29udGVudFByb3RlY3Rpb24iOwpxYy5UQUdfTkFNRT0iY2VuYzpwc3NoIjtyYy5UQUdfTkFNRT0iQmFzZVVSTCI7b2MuVEFHX05BTUU9IkF1ZGlvQ2hhbm5lbENvbmZpZ3VyYXRpb24iO3NjLlRBR19OQU1FPSJMb2NhdGlvbiI7dGMuVEFHX05BTUU9IlNlZ21lbnRCYXNlIjt3Yy5UQUdfTkFNRT0iUmVwcmVzZW50YXRpb25JbmRleCI7bGMuVEFHX05BTUU9IkZCSW5pdGlhbGl6YXRpb25CaW5hcnkiO21jLlRBR19OQU1FPSJGQlNlZ21lbnRJbmRleEJpbmFyeSI7eGMuVEFHX05BTUU9IkluaXRpYWxpemF0aW9uIjt5Yy5UQUdfTkFNRT0iU2VnbWVudExpc3QiO3pjLlRBR19OQU1FPSJTZWdtZW50VVJMIjtBYy5UQUdfTkFNRT0iU2VnbWVudFRlbXBsYXRlIjtCYy5UQUdfTkFNRT0iU2VnbWVudFRpbWVsaW5lIjtDYy5UQUdfTkFNRT0iUyI7CmZjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMudXJsPWEuQWM7dGhpcy5pZD1OKGIsImlkIixPKTt0aGlzLnR5cGU9TihiLCJ0eXBlIixPKXx8InN0YXRpYyI7dGhpcy5tYW5pZmVzdElzTGl2ZVN0cmVhbWluZz0iZHluYW1pYyI9PT10aGlzLnR5cGU7dGhpcy5GQldhc0xpdmU9TihiLCJGQldhc0xpdmUiLEVjKXx8ITE7dGhpcy5GQklzTGl2ZVRlbXBsYXRlZD1OKGIsIkZCSXNMaXZlVGVtcGxhdGVkIixFYyl8fCExO3RoaXMuRkJNYW5pZmVzdElkZW50aWZpZXI9TihiLCJGQk1hbmlmZXN0SWRlbnRpZmllciIsTyl8fCIiO3RoaXMuRkJNUz1OKGIsIkZCTVMiLEVjKXx8ITE7VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJvdmVycmlkZV9mYl9pc19saXZlX3RlbXBsYXRlZCIsITEpJiYodGhpcy5GQklzTGl2ZVRlbXBsYXRlZD0hMSk7dGhpcy5iPU4oYiwibWVkaWFQcmVzZW50YXRpb25EdXJhdGlvbiIsRmMpO3RoaXMubT1OKGIsIm1pbkJ1ZmZlclRpbWUiLApGYyx0aGlzLm0pO3RoaXMuZz1OKGIsIm1pbmltdW1VcGRhdGVQZXJpb2QiLEZjLHRoaXMuZyk7dGhpcy5jPU4oYiwiYXZhaWxhYmlsaXR5U3RhcnRUaW1lIixHYyx0aGlzLmMpO3RoaXMuZj1OKGIsInRpbWVTaGlmdEJ1ZmZlckRlcHRoIixGYyx0aGlzLmYpO3RoaXMuY3VycmVudFNlcnZlclRpbWVNcz1OKGIsImN1cnJlbnRTZXJ2ZXJUaW1lTXMiLFApO04oYiwiZmlyc3RBdlRpbWVNcyIsUCk7dGhpcy5sYXN0VmlkZW9GcmFtZVRzPU4oYiwibGFzdFZpZGVvRnJhbWVUcyIsUCk7dGhpcy5mPW51bGw7dGhpcy5vPU4oYiwic3VnZ2VzdGVkUHJlc2VudGF0aW9uRGVsYXkiLEZjLHRoaXMubyk7dGhpcy5oPU4oYiwibG9hcFN0cmVhbVR5cGUiLEhjLHRoaXMuaCk7dGhpcy5pPU4oYiwidXNpbmdBU1JDYXB0aW9ucyIsSGMsdGhpcy5pKTt0aGlzLmo9TihiLCJpc1VzaW5nQXNyQ2FwdGlvbnNFbXBsb3llZURvZ2Zvb2RpbmciLEhjLHRoaXMuaik7dmFyIGM9YS5iYXNlVXJsLGQ9SWModGhpcywKYixyYyk7dGhpcy5iYXNlVXJsPUpjKGMsZCk7aWYoZD1NKHRoaXMsYixzYykpdGhpcy51PUtjKGMsZC51cmwpO3RoaXMuYT1JYyh0aGlzLGIsZ2MpfTtmdW5jdGlvbiBMYyhhLGIsYyxkKXtpZigwIT09YS5hLmxlbmd0aCl7dmFyIGU9bmV3IGhjO2UuY29udGVudFR5cGU9InRleHQiO2UubGFuZz1jfHwiZW4iO2UuZj0hMDtjPW5ldyBuYztjLmJhbmR3aWR0aD0wO2MubWltZVR5cGU9ZHx8InRleHQvdnR0IjtjLmJhc2VVcmw9W25ldyBMKGIpXTtlLmEucHVzaChjKTthLmFbMF0uYS5wdXNoKGUpO01jKGEuYVswXSl9fQpnYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt0aGlzLmlkPU4oYiwiaWQiLE8pO3RoaXMuc3RhcnQ9TihiLCJzdGFydCIsRmMpO3RoaXMuZHVyYXRpb249TihiLCJkdXJhdGlvbiIsRmMpO3ZhciBjPUljKHRoaXMsYixyYyk7dGhpcy5iYXNlVXJsPUpjKGEuYmFzZVVybCxjKTt0aGlzLmI9TSh0aGlzLGIsdGMpO3RoaXMuYz1NKHRoaXMsYix5Yyk7dGhpcy5mPU0odGhpcyxiLEFjKTt0aGlzLmE9SWModGhpcyxiLGhjKTtNYyh0aGlzKX07ZnVuY3Rpb24gTWMoYSl7Zm9yKHZhciBiPVtdLGM9MDtjPGEuYS5sZW5ndGg7KytjKXt2YXIgZD1hLmFbY107bnVsbCE9ZC5ncm91cCYmKGJbZC5ncm91cF09ITApfWZvcihjPTA7YzxhLmEubGVuZ3RoOysrYylpZihkPWEuYVtjXSxudWxsPT1kLmdyb3VwKXtmb3IodmFyIGU9MTsxPT1iW2VdOykrK2U7YltlXT0hMDtkLmdyb3VwPWV9fQpoYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt2YXIgYz1NKHRoaXMsYixrYyl8fHt9LGQ9TSh0aGlzLGIsaWMpO3RoaXMuaWQ9TihiLCJpZCIsTyk7dGhpcy5ncm91cD1OKGIsImdyb3VwIixQKTt0aGlzLmxhbmc9TihiLCJsYW5nIixPLGMubGFuZyk7dGhpcy5jb250ZW50VHlwZT1OKGIsImNvbnRlbnRUeXBlIixPLGMuY29udGVudFR5cGUpO3RoaXMud2lkdGg9TihiLCJ3aWR0aCIsUSk7dGhpcy5oZWlnaHQ9TihiLCJoZWlnaHQiLFEpO3RoaXMubWltZVR5cGU9TihiLCJtaW1lVHlwZSIsTyk7dGhpcy5jb2RlY3M9TihiLCJjb2RlY3MiLE8pO3RoaXMuYz1OKGIsIkZCUHJvamVjdGlvbiIsTyk7dGhpcy5mPWQmJiJtYWluIj09ZC52YWx1ZTt0aGlzLmxhbmcmJih0aGlzLmxhbmc9U2EodGhpcy5sYW5nKSk7Yz1JYyh0aGlzLGIscmMpO3RoaXMuYmFzZVVybD1KYyhhLmJhc2VVcmwsYyk7dGhpcy5qPUljKHRoaXMsYixwYyk7IXRoaXMuY29udGVudFR5cGUmJnRoaXMubWltZVR5cGUmJgoodGhpcy5jb250ZW50VHlwZT10aGlzLm1pbWVUeXBlLnNwbGl0KCIvIilbMF0pO3RoaXMuZz1hLmI/T2ModGhpcyxiLGEuYik6TSh0aGlzLGIsdGMpO3RoaXMuaD1hLmM/T2ModGhpcyxiLGEuYyk6TSh0aGlzLGIseWMpO3RoaXMuaT1hLmY/T2ModGhpcyxiLGEuZik6TSh0aGlzLGIsQWMpO3RoaXMuYT1JYyh0aGlzLGIsbmMpO3RoaXMuYj1NKHRoaXMsYixqYyk7IXRoaXMubWltZVR5cGUmJnRoaXMuYS5sZW5ndGgmJih0aGlzLm1pbWVUeXBlPXRoaXMuYVswXS5taW1lVHlwZSwhdGhpcy5jb250ZW50VHlwZSYmdGhpcy5taW1lVHlwZSYmKHRoaXMuY29udGVudFR5cGU9dGhpcy5taW1lVHlwZS5zcGxpdCgiLyIpWzBdKSl9O2ljLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMudmFsdWU9TihiLCJ2YWx1ZSIsTyl9O2pjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMuYT1OKGIsInNjaGVtZUlkVXJpIixPKTt0aGlzLmxhbmc9TihiLCJsYW5nIixPKX07CmtjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMuaWQ9TihiLCJpZCIsTyk7dGhpcy5sYW5nPU4oYiwibGFuZyIsTyk7dGhpcy5jb250ZW50VHlwZT1OKGIsImNvbnRlbnRUeXBlIixPKTt0aGlzLmxhbmcmJih0aGlzLmxhbmc9U2EodGhpcy5sYW5nKSl9OwpuYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt0aGlzLmlkPU4oYiwiaWQiLE8pO3RoaXMuYmFuZHdpZHRoPU4oYiwiYmFuZHdpZHRoIixRKTt0aGlzLndpZHRoPU4oYiwid2lkdGgiLFEsYS53aWR0aCk7dGhpcy5oZWlnaHQ9TihiLCJoZWlnaHQiLFEsYS5oZWlnaHQpO3RoaXMubWltZVR5cGU9TihiLCJtaW1lVHlwZSIsTyxhLm1pbWVUeXBlKTt0aGlzLmNvZGVjcz1OKGIsImNvZGVjcyIsTyxhLmNvZGVjcyk7dGhpcy5mYlF1YWxpdHlMYWJlbD1OKGIsIkZCUXVhbGl0eUxhYmVsIixPKTt0aGlzLmZiUXVhbGl0eUNsYXNzPU4oYiwiRkJRdWFsaXR5Q2xhc3MiLE8pO3RoaXMubT1OKGIsIkZCQWJyUG9saWN5VGFncyIsTyk7VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJtcGRfcGFyc2VfbW9zX2F0dHJpYnV0ZXMiLCExKSYmKHRoaXMubz1OKGIsIkZCUGxheWJhY2tSZXNvbHV0aW9uTW9zIixNb3NVdGlscy5wYXJzZVBsYXliYWNrTW9zKSx0aGlzLnU9TihiLAoiRkJQbGF5YmFja1Jlc29sdXRpb25Nb3NDb25maWRlbmNlTGV2ZWwiLE8pKTtWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woIm1wZF9wYXJzZV9mcmFtZV9hbmRfYXVkaW9fc2FtcGxpbmdfcmF0ZSIsITEpJiYodGhpcy5mcmFtZVJhdGU9TihiLCJmcmFtZVJhdGUiLE8pLHRoaXMuaj1OKGIsImF1ZGlvU2FtcGxpbmdSYXRlIixRKSk7dGhpcy5sYW5nPWEubGFuZzt2YXIgYz1JYyh0aGlzLGIscmMpO3RoaXMuYmFzZVVybD1KYyhhLmJhc2VVcmwsYyk7VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJhZGRfaW5saW5lX2luaXRpYWxpemF0aW9uX3Jlc291cmNlcyIsITEpJiYodGhpcy5nPU0odGhpcyxiLGxjKSx0aGlzLmg9TSh0aGlzLGIsbWMpKTt0aGlzLmM9SWModGhpcyxiLHBjKTt0aGlzLmk9TSh0aGlzLGIsb2MpO3RoaXMuZj1hLmc/T2ModGhpcyxiLGEuZyk6TSh0aGlzLGIsdGMpO3RoaXMuYj1hLmg/T2ModGhpcyxiLGEuaCk6TSh0aGlzLGIsCnljKTt0aGlzLmE9YS5pP09jKHRoaXMsYixhLmkpOk0odGhpcyxiLEFjKTt0aGlzLmM9dGhpcy5jLmNvbmNhdChhLmopfTtsYy5wcm90b3R5cGUucGFyc2U9bWMucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7aWYoYiYmYi5maXJzdENoaWxkKXt2YXIgYz1QYyhiKTtudWxsIT1jJiYodGhpcy5kYXRhPUtiKGMpLmJ1ZmZlcil9fTtwYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt0aGlzLmM9Yjt0aGlzLmY9TihiLCJzY2hlbWVJZFVyaSIsTyk7dmFyIGM9TihiLCJjZW5jOmRlZmF1bHRfS0lEIixPKTtjJiYodGhpcy5iPWMucmVwbGFjZSgvWy1dL2csIiIpKTt0aGlzLmE9TSh0aGlzLGIscWMpfTsKcWMucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dmFyIGM9UGMoYik7aWYoYyl7dGhpcy5wc3NoQm94PUtiKGMpO3RyeXt0aGlzLnBhcnNlZFBzc2g9bmV3IFFiKHRoaXMucHNzaEJveCl9Y2F0Y2goZCl7aWYoIShkIGluc3RhbmNlb2YgUmFuZ2VFcnJvcikpdGhyb3cgZDt9fX07cmMucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dmFyIGM9Yi5jaGlsZE5vZGVzLGQ9IiI7aWYoMT09Yy5sZW5ndGgpZD1QYyhiKTtlbHNlIGZvcih2YXIgZT0wO2U8Yy5sZW5ndGg7ZSsrKWNbZV0ubm9kZVR5cGU9PU5vZGUuVEVYVF9OT0RFJiYoZCs9Y1tlXS5ub2RlVmFsdWUpO3RoaXMudXJsPWR9O3NjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMudXJsPVBjKGIpfTsKdGMucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dGhpcy5iYXNlVXJsPWEuYmFzZVVybHx8dGhpcy5iYXNlVXJsO3RoaXMucz1OKGIsInRpbWVzY2FsZSIsUSx0aGlzLnMpO3RoaXMuTD1OKGIsInByZXNlbnRhdGlvblRpbWVPZmZzZXQiLFAsdGhpcy5MKTt0aGlzLmE9TihiLCJpbmRleFJhbmdlIixRYyx0aGlzLmEpO3RoaXMuZj1OKGIsIkZCRmlyc3RTZWdtZW50UmFuZ2UiLFFjLHRoaXMuZik7dGhpcy5iPU0odGhpcyxiLHdjKXx8dGhpcy5iO3RoaXMuYz1NKHRoaXMsYix4Yyl8fHRoaXMuY307d2MucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dmFyIGM9TihiLCJzb3VyY2VVUkwiLE8pO3RoaXMudXJsPUtjKGEuYmFzZVVybCxjKTt0aGlzLmE9TihiLCJyYW5nZSIsUWMsdmMoYS5hKSl9Owp4Yy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt2YXIgYz1OKGIsInNvdXJjZVVSTCIsTyk7dGhpcy51cmw9S2MoYS5iYXNlVXJsLGMpO3RoaXMuYT1OKGIsInJhbmdlIixRYyl9Owp5Yy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt0aGlzLmJhc2VVcmw9YS5iYXNlVXJsfHx0aGlzLmJhc2VVcmw7dGhpcy5zPU4oYiwidGltZXNjYWxlIixRLHRoaXMucyk7dGhpcy5MPU4oYiwicHJlc2VudGF0aW9uVGltZU9mZnNldCIsUCx0aGlzLkwpO3RoaXMuSD1OKGIsImR1cmF0aW9uIixRLHRoaXMuSCk7dmFyIGM9TihiLCJzdGFydE51bWJlciIsUSk7bnVsbCE9YyYmKHRoaXMuYz1jKTt0aGlzLmI9TSh0aGlzLGIseGMpfHx0aGlzLmI7dGhpcy5hPShjPUljKHRoaXMsYix6YykpJiYwPGMubGVuZ3RoP2M6dGhpcy5hO3RoaXMuQz1NKHRoaXMsYixCYyl8fHRoaXMuQztWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImNhbGN1bGF0ZV9xdWlja19kYXNoX3ByZXNlbnRhdGlvbl90aW1lX29mZnNldF9mcm9tX3RpbWVsaW5lIiwhMSkmJihjPVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJjYWxjdWxhdGVfcXVpY2tfZGFzaF9wcmVzZW50YXRpb25fdGltZV9vZmZzZXRfZXBzaWxvbl9tcyIsCjI1MCksdGhpcy5DJiZ0aGlzLkMuTlswXSYmKHRoaXMuTD0xRTM8dGhpcy5DLk5bMF0uc3RhcnRUaW1lP3RoaXMuQy5OWzBdLnN0YXJ0VGltZS1jOnRoaXMuTCkpfTt6Yy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt2YXIgYz1OKGIsIm1lZGlhIixPKTt0aGlzLmI9S2MoYS5iYXNlVXJsLGMpO3RoaXMuYT1OKGIsIm1lZGlhUmFuZ2UiLFFjKX07CkFjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMucz1OKGIsInRpbWVzY2FsZSIsUSx0aGlzLnMpO3RoaXMuTD1OKGIsInByZXNlbnRhdGlvblRpbWVPZmZzZXQiLFAsdGhpcy5MKTt0aGlzLkg9TihiLCJkdXJhdGlvbiIsUSx0aGlzLkgpO3ZhciBjPU4oYiwic3RhcnROdW1iZXIiLFApO251bGwhPWMmJih0aGlzLmI9Yyk7dGhpcy5mPU4oYiwibWVkaWEiLE8sdGhpcy5mKTt0aGlzLmE9TihiLCJpbmRleCIsTyx0aGlzLmEpO3RoaXMuYz1OKGIsImluaXRpYWxpemF0aW9uIixPLHRoaXMuYyk7dGhpcy5DPU0odGhpcyxiLEJjKXx8dGhpcy5DfTtCYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt0aGlzLmE9TihiLCJGQlByZWRpY3RlZE1lZGlhIixPLHRoaXMuYSk7dGhpcy5iPU4oYiwiRkJQcmVkaWN0ZWRNZWRpYUVuZE51bWJlciIsUSk7dGhpcy5OPUljKHRoaXMsYixDYyl9OwpDYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt0aGlzLnN0YXJ0VGltZT1OKGIsInQiLFApO3RoaXMuZHVyYXRpb249TihiLCJkIixQKTt0aGlzLnJlcGVhdD1OKGIsInIiLEhjKX07ZnVuY3Rpb24gSmMoYSxiKXtpZighYnx8MD09PWIubGVuZ3RoKXJldHVybiBhO2Zvcih2YXIgYz1bXSxkPTA7ZDxiLmxlbmd0aDtkKyspe3ZhciBlPWJbZF0udXJsO251bGw9PWF8fDA9PT1hLmxlbmd0aD9jLnB1c2gobmV3IEwoZSkpOihlPUtjKGEuc2xpY2UoMCwxKSxlKSxjLnB1c2goZVswXSkpfXJldHVybiBjfWZ1bmN0aW9uIEtjKGEsYil7aWYoIWIpcmV0dXJuIGE7dmFyIGM9bmV3IEwoYik7cmV0dXJuIGE/YS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVzb2x2ZShjKX0pOltjXX1mdW5jdGlvbiBPYyhhLGIsYyl7dmFyIGQ9dmMoYyk7KGI9UmMoYixjLmNvbnN0cnVjdG9yLlRBR19OQU1FKSkmJmQucGFyc2UoYSxiKTtyZXR1cm4gZH0KZnVuY3Rpb24gTShhLGIsYyl7dmFyIGQ9bnVsbDtpZihiPVJjKGIsYy5UQUdfTkFNRSkpZD1uZXcgYyxkLnBhcnNlKGEsYik7cmV0dXJuIGR9ZnVuY3Rpb24gUmMoYSxiKXtmb3IodmFyIGM9bnVsbCxkPTA7ZDxhLmNoaWxkTm9kZXMubGVuZ3RoO2QrKylpZihhLmNoaWxkTm9kZXNbZF0udGFnTmFtZT09Yil7aWYoYylyZXR1cm4gbnVsbDtjPWEuY2hpbGROb2Rlc1tkXX1yZXR1cm4gY31mdW5jdGlvbiBJYyhhLGIsYyl7Zm9yKHZhciBkPVtdLGU9MDtlPGIuY2hpbGROb2Rlcy5sZW5ndGg7ZSsrKWlmKGIuY2hpbGROb2Rlc1tlXS50YWdOYW1lPT1jLlRBR19OQU1FKXt2YXIgZj1uZXcgYztmLnBhcnNlLmNhbGwoZixhLGIuY2hpbGROb2Rlc1tlXSk7ZC5wdXNoKGYpfXJldHVybiBkfWZ1bmN0aW9uIFBjKGEpe2E9YS5maXJzdENoaWxkO3JldHVybiBhLm5vZGVUeXBlIT1Ob2RlLlRFWFRfTk9ERT9udWxsOmEubm9kZVZhbHVlfQpmdW5jdGlvbiB1YyhhKXtyZXR1cm4gYT9hLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS5jbG9uZSgpfSk6bnVsbH1mdW5jdGlvbiB2YyhhKXtyZXR1cm4gYT9hLmNsb25lKCk6bnVsbH1mdW5jdGlvbiBOKGEsYixjLGQpe2E9YS5oYXNBdHRyaWJ1dGUoYik/YyhhLmdldEF0dHJpYnV0ZShiKSk6bnVsbDtyZXR1cm4gbnVsbCE9YT9hOnZvaWQgMCE9PWQ/ZDpudWxsfWZ1bmN0aW9uIEdjKGEpe2lmKCFhKXJldHVybiBudWxsO2E9RGF0ZS5wYXJzZShhKTtyZXR1cm4gaXNOYU4oYSk/bnVsbDpNYXRoLmZsb29yKGEvMUUzKX0KZnVuY3Rpb24gRmMoYSl7aWYoIWEpcmV0dXJuIG51bGw7dmFyIGI9L15QKD86KFswLTldKilZKT8oPzooWzAtOV0qKU0pPyg/OihbMC05XSopRCk/KD86VCg/OihbMC05XSopSCk/KD86KFswLTldKilNKT8oPzooWzAtOS5dKilTKT8pPyQvLmV4ZWMoYSk7aWYoIWIpcmV0dXJuIG51bGw7YT0wO3ZhciBjPVAoYlsxXSk7YyYmKGErPTMxNTM2RTMqYyk7KGM9UChiWzJdKSkmJihhKz0yNTkyRTMqYyk7KGM9UChiWzNdKSkmJihhKz04NjQwMCpjKTsoYz1QKGJbNF0pKSYmKGErPTM2MDAqYyk7KGM9UChiWzVdKSkmJihhKz02MCpjKTtiPXdpbmRvdy5wYXJzZUZsb2F0KGJbNl0pOyhiPWlzTmFOKGIpP251bGw6YikmJihhKz1iKTtyZXR1cm4gYX0KZnVuY3Rpb24gUWMoYSl7dmFyIGI9LyhbMC05XSspLShbMC05XSspLy5leGVjKGEpO2lmKCFiKXJldHVybiBudWxsO2E9UChiWzFdKTtpZihudWxsPT1hKXJldHVybiBudWxsO2I9UChiWzJdKTtyZXR1cm4gbnVsbD09Yj9udWxsOm5ldyBEYyhhLGIpfWZ1bmN0aW9uIEhjKGEpe2E9d2luZG93LnBhcnNlSW50KGEsMTApO3JldHVybiBpc05hTihhKT9udWxsOmF9ZnVuY3Rpb24gUShhKXthPXdpbmRvdy5wYXJzZUludChhLDEwKTtyZXR1cm4gMDxhP2E6bnVsbH1mdW5jdGlvbiBQKGEpe2E9d2luZG93LnBhcnNlSW50KGEsMTApO3JldHVybiAwPD1hP2E6bnVsbH1mdW5jdGlvbiBFYyhhKXtzd2l0Y2goYS50b0xvd2VyQ2FzZSgpKXtjYXNlICJ0cnVlIjpyZXR1cm4hMDtjYXNlICJmYWxzZSI6cmV0dXJuITE7ZGVmYXVsdDpyZXR1cm4gbnVsbH19ZnVuY3Rpb24gTyhhKXtyZXR1cm4gYX07ZnVuY3Rpb24gU2MoYSxiKXt0aGlzLnVybD1hO3RoaXMuYj1ifHxuZXcgdGI7dGhpcy5qPTA7dGhpcy5nPS0xO3RoaXMuaD10aGlzLmk9MDt0aGlzLmE9bnVsbDt0aGlzLmM9bmV3IEk7dGhpcy5mPW51bGw7dGhpcy5vPXRoaXMuYi5pO3RoaXMubD10aGlzLmIubX1xKCJzaGFrYS51dGlsLkFqYXhSZXF1ZXN0IixTYyk7CmZ1bmN0aW9uIHRiKCl7dGhpcy5ib2R5PW51bGw7dGhpcy5OYT0xO3RoaXMuYz0xRTM7dGhpcy5iPTA7dGhpcy5tZXRob2Q9IkdFVCI7dGhpcy5yZXNwb25zZVR5cGU9ImFycmF5YnVmZmVyIjt0aGlzLlFhPXt9O3RoaXMuZz10aGlzLndpdGhDcmVkZW50aWFscz0hMTt0aGlzLmRhPXRoaXMuYT10aGlzLnU9bnVsbDt0aGlzLmo9ITE7dGhpcy5oPXRoaXMubT10aGlzLmk9dGhpcy5taW1lVHlwZT1udWxsO3RoaXMubz0hMTt0aGlzLnc9LyguKilcLih4eHxmbmEpXC5mYmNkblwubmV0Lzt0aGlzLmY9L2xpdmVzdHJlYW0tbG9va2FzaWRlXC4oZmFjZWJvb2t8d29ya3BsYWNlKVwuY29tJC99dmFyIFRjPSEwO2Z1bmN0aW9uIFVjKGEpe1ZjKGEpO1djKGEpO2EuYi5ib2R5PW51bGw7YS5jLmRlc3Ryb3koKTthLmM9bnVsbDthLmY9bnVsbH0KZnVuY3Rpb24gV2MoYSl7YS5hJiYoYS5hLm9ubG9hZD1udWxsLGEuYS5vbnJlYWR5c3RhdGVjaGFuZ2U9bnVsbCxhLmEub25lcnJvcj1udWxsLGEuYS5vbnRpbWVvdXQ9bnVsbCk7YS5hPW51bGx9ZnVuY3Rpb24gVmMoYSl7LTEhPT1hLmcmJihjbGVhclRpbWVvdXQoYS5nKSxhLmc9LTEpfQpTYy5wcm90b3R5cGUubT1mdW5jdGlvbigpe2lmKHRoaXMuYSlyZXR1cm4gdGhpcy5jO2lmKDA9PXRoaXMudXJsLmxhc3RJbmRleE9mKCJkYXRhOiIsMCkpe3ZhciBhPXRoaXMudXJsLnNwbGl0KCI6IilbMV0uc3BsaXQoIjsiKS5wb3AoKS5zcGxpdCgiLCIpLGI9YS5wb3AoKSxiPSJiYXNlNjQiPT1hLnBvcCgpP3dpbmRvdy5hdG9iKGIucmVwbGFjZSgvLS9nLCIrIikucmVwbGFjZSgvXy9nLCIvIikpOndpbmRvdy5kZWNvZGVVUklDb21wb25lbnQoYik7ImFycmF5YnVmZmVyIj09dGhpcy5iLnJlc3BvbnNlVHlwZSYmKGI9SmIoYikuYnVmZmVyKTthPUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkobmV3IFhNTEh0dHBSZXF1ZXN0KSk7YS5yZXNwb25zZT1iO2EucmVzcG9uc2VUZXh0PWIudG9TdHJpbmcoKTtiPXRoaXMuYztiLnJlc29sdmUoYSk7VWModGhpcyk7cmV0dXJuIGJ9aWYoMD09dGhpcy51cmwubGFzdEluZGV4T2YoImlkYjoiLDApKXJldHVybiB0aGlzLnUoKTt0aGlzLmorKzsKdGhpcy5pPXBlcmZvcm1hbmNlTm93KCk7dGhpcy5ofHwodGhpcy5oPXRoaXMuYi5jKTt0aGlzLmE9bmV3IFhNTEh0dHBSZXF1ZXN0O3ZhciBjPXRoaXMudXJsLGE9bmV3IEwoYyk7VGMmJih0aGlzLmYmJiF0aGlzLmYuc3VwcG9ydHNDYWNoaW5nKCl8fHRoaXMuYi5nKSYmZGMoYS5hLCJfIixEYXRlLm5vdygpKTtjPXRoaXMuYi53LnRlc3QoYyk7aWYobnVsbCE9dGhpcy5iLmEmJmMpe3ZhciBkPXRoaXMuYi5hLGU9YS5hO251bGwhPWQuYSYmKGQuaD1kLmEuZ2V0U2VnbWVudHNUb1B1c2goKSxkLmY9ZC5hLmdldFNlZ21lbnRTdGFydFRpbWUoKSxkLmc9ZC5hLmdldFNlZ21lbnRPZmZzZXQoKSxkLmM9ZC5hLmdldFB1c2hWaWRlb1JlcHJlc2VudGF0aW9uSUQoKSxkLmI9ZC5hLmdldFB1c2hBdWRpb1JlcHJlc2VudGF0aW9uSUQoKSxkLmo9ZC5hLmdldFVzZUxvbmdDYWNoZUZvck1hbmlmZXN0KCkpO251bGwhPWQuaCYmZGMoZSwiX25jX3BfbiIsZC5oKTtudWxsIT1kLmY/ZGMoZSwiX25jX3BfdHMiLApkLmYpOm51bGwhPWQuZyYmZGMoZSwiX25jX3BfbyIsZC5nKTtudWxsIT1kLmMmJm51bGwhPWQuYiYmKGRjKGUsIl9uY19wX3JpZCIsZC5jKSxkYyhlLCJfbmNfcF9hcmlkIixkLmIpKTtkLmkmJmRjKGUsIl9uY19wX2RiZyIsIjEiKTtkLmomJmRjKGUsIl9uY19uYyIsIjEiKX0xPT10aGlzLmIuaiYmYyYmZGMoYS5hLCJfbmNfcGxheWluZyIsMSk7dGhpcy5iLm8mJmRjKGEuYSwiX25jX3NjIiwxKTtjPWEudG9TdHJpbmcoKTthPXRoaXMuYi5mLnRlc3QoYS5oYSk7dGhpcy5hLm9wZW4odGhpcy5iLm1ldGhvZCxjLCEwKTt0aGlzLmEucmVzcG9uc2VUeXBlPXRoaXMuYi5yZXNwb25zZVR5cGU7dGhpcy5hLnRpbWVvdXQ9dGhpcy5iLmI7dGhpcy5hLndpdGhDcmVkZW50aWFscz10aGlzLmIud2l0aENyZWRlbnRpYWxzfHxhO3NldEV2ZW50UHJvcGVydHkodGhpcy5hLCJvbmxvYWQiLHRoaXMuZmQuYmluZCh0aGlzKSk7c2V0RXZlbnRQcm9wZXJ0eSh0aGlzLmEsIm9ucmVhZHlzdGF0ZWNoYW5nZSIsCnRoaXMubGQuYmluZCh0aGlzKSk7c2V0RXZlbnRQcm9wZXJ0eSh0aGlzLmEsIm9uZXJyb3IiLHRoaXMuZGQuYmluZCh0aGlzKSk7c2V0RXZlbnRQcm9wZXJ0eSh0aGlzLmEsIm9udGltZW91dCIsdGhpcy5xZC5iaW5kKHRoaXMpKTtzZXRFdmVudFByb3BlcnR5KHRoaXMuYSwib25hYm9ydCIsdGhpcy4kYy5iaW5kKHRoaXMpKTtmb3IoYiBpbiB0aGlzLmIuUWEpdGhpcy5hLnNldFJlcXVlc3RIZWFkZXIoYix0aGlzLmIuUWFbYl0pO3RoaXMuYS5zZW5kKHRoaXMuYi5ib2R5KTtyZXR1cm4gdGhpcy5jfTtTYy5wcm90b3R5cGUuc2VuZD1TYy5wcm90b3R5cGUubTsKZnVuY3Rpb24gWGMoYSxiLGMpe2I9RXJyb3IoYik7Yi50eXBlPWM7Yi5zdGF0dXM9YS5hLnN0YXR1cztiLnVybD1hLnVybDtWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImVuYWJsZV9kb3VibGVfaW5nZXN0IiwhMSkmJihiLnJlc3BvbnNlSGVhZGVycz1wYXJzZUhlYWRlcnMoYS5hLmdldEFsbFJlc3BvbnNlSGVhZGVycygpKSk7Yi5tZXRob2Q9YS5iLm1ldGhvZDtiLmJvZHk9YS5iLmJvZHk7cmV0dXJuIGJ9bj1TYy5wcm90b3R5cGU7bi5hYm9ydD1mdW5jdGlvbigpe1ZjKHRoaXMpO2lmKHRoaXMuYSYmdGhpcy5hLnJlYWR5U3RhdGUhPVhNTEh0dHBSZXF1ZXN0LkRPTkUmJih0aGlzLmEuYWJvcnQoKSwhVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJmaXhfc2hha2FfdXRpbF9hamF4X3JlcXVlc3RfYWJvcnQiLCEwKSkpe3ZhciBhPVhjKHRoaXMsIlJlcXVlc3QgYWJvcnRlZC4iLCJhYm9ydGVkIik7dGhpcy5jLnJlamVjdChhKTtVYyh0aGlzKX19OwpuLiRjPWZ1bmN0aW9uKCl7aWYoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJmaXhfc2hha2FfdXRpbF9hamF4X3JlcXVlc3RfYWJvcnQiLCEwKSl7dmFyIGE9WGModGhpcywiUmVxdWVzdCBhYm9ydGVkLiIsImFib3J0ZWQiKTt0aGlzLmMucmVqZWN0KGEpO1VjKHRoaXMpfX07Cm4uZmQ9ZnVuY3Rpb24oYSl7aWYodGhpcy5mKXt2YXIgYj1WaWRlb1BsYXllclJlc291cmNlVGltZXIuZ2V0UmVzb3VyY2VUaW1pbmdFbnRyeSh0aGlzLnVybCx0aGlzLmkscGVyZm9ybWFuY2VOb3coKSk7dGhpcy5mLnNhbXBsZShwZXJmb3JtYW5jZU5vdygpLXRoaXMuaSxhLmxvYWRlZHx8dGhpcy5hLnJlc3BvbnNlJiZ0aGlzLmEucmVzcG9uc2UuYnl0ZUxlbmd0aHx8MCx0aGlzLmIubWltZVR5cGU/InYiPT09dGhpcy5iLm1pbWVUeXBlLmNoYXJBdCgwKTohMSxiLHRoaXMubyx0aGlzLmwsVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJldmFsdWF0ZV9hYnJfb25fZmV0Y2hfZW5kIiwhMSkpfWE9WzQwM107MjAwPD10aGlzLmEuc3RhdHVzJiYyOTk+PXRoaXMuYS5zdGF0dXM/KFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgiZW5hYmxlX2RvdWJsZV9pbmdlc3QiLCExKSYmbnVsbCE9cGFyc2VIZWFkZXJzKHRoaXMuYS5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSlbIngtZmItdmlkZW8tcmVwbGljYSJdPwooYT1YYyh0aGlzLCJIVFRQIGVycm9yLiIsIm5ldCIpLHRoaXMuYy5yZWplY3QoYSkpOnRoaXMuYy5yZXNvbHZlKHRoaXMuYSksVWModGhpcykpOiFWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInJlbW92ZV9hamF4X3Jlc2VuZF9pbnRlcm5hbCIsITApJiZ0aGlzLmo8dGhpcy5iLk5hJiYtMT09PWEuaW5kZXhPZih0aGlzLmEuc3RhdHVzKT9ZYyh0aGlzKTooYT1YYyh0aGlzLCJIVFRQIGVycm9yLiIsIm5ldCIpLHRoaXMuYy5yZWplY3QoYSksVWModGhpcykpfTsKbi5sZD1mdW5jdGlvbigpe2lmKHRoaXMuYS5yZWFkeVN0YXRlPT1YTUxIdHRwUmVxdWVzdC5IRUFERVJTX1JFQ0VJVkVEJiYodGhpcy5hLllhPURhdGUubm93KCktdGhpcy5pLHRoaXMuYi5hJiZ0aGlzLmIuZGEmJnRoaXMuYi5kYS5hZGRQdXNoRGF0YUZyb21YSFIodGhpcy5hKSx0aGlzLmIuaCYmdGhpcy5iLmguaGFuZGxlWEhSKHRoaXMuYSksVmlkZW9DbGllbnRFZGdlQ29vcGVyYXRpb24udXBkYXRlRnJvbVhIUih0aGlzLmEpLHRoaXMuYi5nKSl7dmFyIGE9RGF0ZS5wYXJzZSh0aGlzLmEuZ2V0UmVzcG9uc2VIZWFkZXIoIkRhdGUiKSk7YSYmKHphPWEtRGF0ZS5ub3coKSl9fTtuLmRkPWZ1bmN0aW9uKCl7dmFyIGE9WGModGhpcywiTmV0d29yayBmYWlsdXJlLiIsIm5ldCIpO3RoaXMuYy5yZWplY3QoYSk7VWModGhpcyl9OwpuLnFkPWZ1bmN0aW9uKCl7aWYoIVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgicmVtb3ZlX2FqYXhfcmVzZW5kX2ludGVybmFsIiwhMCkmJnRoaXMuajx0aGlzLmIuTmEpWWModGhpcyk7ZWxzZXt2YXIgYT1YYyh0aGlzLCJSZXF1ZXN0IHRpbWVkIG91dC4iLCJuZXQiKTt0aGlzLmMucmVqZWN0KGEpO1VjKHRoaXMpfX07ZnVuY3Rpb24gWWMoYSl7V2MoYSk7YS5nPXNldFRpbWVvdXQoZnVuY3Rpb24oKXt0aGlzLmc9LTE7dGhpcy5tKCl9LmJpbmQoYSksYS5oKigxKy41KigyKk1hdGgucmFuZG9tKCktMSkpKTthLmgqPTJ9O2Z1bmN0aW9uIEsoYSxiLGMsZCxlLGYpe3RoaXMuYz1iO3RoaXMuc3RhcnRCeXRlPWN8fDA7dGhpcy5iYXNlVXJsPXRoaXMudG9TdHJpbmcoKTt0aGlzLmVuZEJ5dGU9bnVsbCE9ZD9kOm51bGw7dGhpcy5pc1ByZWRpY3RpdmU9ZXx8ITE7dGhpcy5mPW51bGw7dGhpcy5tPTA7dGhpcy5BPSExO3RoaXMuTmM9dGhpcy5nPW51bGw7dGhpcy5vPWE7dGhpcy5pPW51bGw7dGhpcy5qPXRoaXMudT0hMTt0aGlzLmI9dGhpcy5hPW51bGw7dGhpcy5oPWZ8fG51bGx9cSgic2hha2EudXRpbC5GYWlsb3ZlclVyaSIsSyk7Sy5wcm90b3R5cGUudz1mdW5jdGlvbihhKXt0aGlzLkE9YX07Sy5wcm90b3R5cGUuc2V0U2hvdWxkUmVhZFhGYlZpZGVvQnJvYWRjYXN0RW5kZWRIZWFkZXI9Sy5wcm90b3R5cGUudztLLnByb3RvdHlwZS5EPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubX07Sy5wcm90b3R5cGUuZ2V0RmJWaWRlb0Jyb2FkY2FzdEVuZGVkUmVzcG9uc2VIZWFkZXI9Sy5wcm90b3R5cGUuRDsKSy5wcm90b3R5cGUuRj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YXJ0Qnl0ZX07Sy5wcm90b3R5cGUuZ2V0U3RhcnRCeXRlPUsucHJvdG90eXBlLkY7Sy5wcm90b3R5cGUuQj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVuZEJ5dGV9O0sucHJvdG90eXBlLmdldEVuZEJ5dGU9Sy5wcm90b3R5cGUuQjtmdW5jdGlvbiBaYyhhLGIpe3JldHVybiBhJiYwIT09YS5sZW5ndGg/YS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVzb2x2ZShiKX0pOltiXX1uPUsucHJvdG90eXBlO24uZmV0Y2g9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxoKXtyZXR1cm4gdGhpcy5mP3RoaXMuZjp0aGlzLmY9JGModGhpcywwLGF8fG5ldyB0YixiLGMsZCxlLGYsZyxoKX07bi5zdHJlYW09ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxoLGspe3JldHVybiBhZCh0aGlzLDAsYXx8bmV3IHRiLGIsYyxkLGUsZixnLGgsayl9OwpmdW5jdGlvbiAkYyhhLGIsYyxkLGUsZixnLGgsayxsKXtyZXR1cm4gYWQoYSxiLGMsZCxlLGYsZyxoLGssbCkudGhlbihmdW5jdGlvbihhKXt2YXIgYixjPWZ1bmN0aW9uKCl7cmV0dXJuIGEucmVhZCgpLnRoZW4oZnVuY3Rpb24oYSl7dmFyIGQ9YS52YWx1ZTtpZihhLmRvbmUpcmV0dXJuIGJ8fG5ldyBBcnJheUJ1ZmZlcigwKTtkJiYoInN0cmluZyI9PT10eXBlb2YgZD9iPShifHwiIikrZDpiPWNvbmNhdEFycmF5QnVmZmVyKGJ8fG5ldyBBcnJheUJ1ZmZlcigwKSxkKSk7cmV0dXJuIGMoKX0uYmluZCh0aGlzKSl9LmJpbmQodGhpcyk7cmV0dXJuIGMoKX0pfQpuLkthPWZ1bmN0aW9uKCl7dGhpcy5nJiYodGhpcy5hPXRoaXMuZj1udWxsLHRoaXMuZy5hYm9ydCgpLHRoaXMuaT10aGlzLmc9bnVsbCk7dGhpcy5OYyYmVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJlbmFibGVfcDJwX3N1cHBvcnQiLCExKSYmKHRoaXMuRy5hYm9ydCgpLHRoaXMuRz1udWxsKTt0aGlzLmImJih0aGlzLmIuYWJvcnRSZXF1ZXN0KGJkKHRoaXMpKSxWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImZpeGluZ19zY2hlZHVsZXJfZGlzYWJsZV9sZWFrcyIsITApJiYodGhpcy5iPW51bGwpKX07CmZ1bmN0aW9uIGFkKGEsYixjLGQsZSxmLGcsaCxrLGwsbSl7YS5iPWx8fG51bGw7dmFyIHA7ZSYmKGMuYSYmKGMuYS5pPSEwKSxsPTAsYy5kYSYmKGw9Yy5kYS5nZXRQdXNoQ291bnRGb3JVcmwoYS5jW2JdLnRvU3RyaW5nKCkpKSwocD1lLmdldE9wZXJhdGlvbkxvZ2dlcigicmVxdWVzdCIpKSYmcC5zZXRSZWFzb24oa3x8bnVsbCkuc2V0UHVzaGVkKGwpLnNldFR5cGUoaHx8bnVsbCkuc2V0SW5pdGlhdG9yKCJzaGFrYSIpLnN0YXJ0KCksZiYmKHA9cC5zZXRQYXJlbnRMb2dnZXIoZikpKTt2YXIgdD1wZXJmb3JtYW5jZU5vdygpO2EuYT1udWxsO2cmJihjLmk9Zyk7ZSYmKGMubT1lKTt2YXIgdz1jZChhLGEuY1tiXSxjKTtrPW51bGw7YS5qPSExO3ZhciB6PVZpZGVvRGFzaFByZWZldGNoQ2FjaGUuZ2V0Q2FjaGVWYWx1ZSh3KTt6JiYoaz16LGEuaj0hMCxwJiYocC5zZXRDb25uZWN0aW9uUXVhbGl0eUxldmVsKFZpZGVvRGFzaFByZWZldGNoQ2FjaGUuZ2V0Q29ubmVjdGlvblF1YWxpdHlMZXZlbCh3KSksCnAuc2V0SW5pdGlhdG9yKCJwcmVmZXRjaCIpKSk7aWYoIXomJm0pcmV0dXJuIG0uZ2V0U3RyZWFtKGJkKGEpKS50aGVuKGZ1bmN0aW9uKGEpe3JldHVybiBhLmdldFJlYWRlcigpfS5iaW5kKGEpKTttPW51bGw7aWYoYS5iJiYhYS5iLmlzRGlzYWJsZWQoKSYmIWspdHJ5eyhrPW09YS5iLmdldFByb21pc2UoYmQoYSkpKT9wPW51bGw6YS5iLmRpc2FibGUoKX1jYXRjaChIKXtlJiZlLmdldEV2ZW50TG9nZ2VyKCJyZXF1ZXN0X2luZm9fbm90X2ZvdW5kIikuc2V0UmVzb3VyY2UodykubG9nKCl9IWsmJmEuaCYmYS5oLmNyZWF0ZVByb21pc2UmJihtPW5ldyBMKHcpLG09Yy5mLnRlc3QobS5oYSksaz1hLmguY3JlYXRlUHJvbWlzZSh7dXJsOncscmVzcG9uc2VUeXBlOmMucmVzcG9uc2VUeXBlLE9kOmMuYyxLZDoyLE5hOmMuTmEsd2l0aENyZWRlbnRpYWxzOmMud2l0aENyZWRlbnRpYWxzfHxtLFFhOmMuUWF9LGZ1bmN0aW9uKGEpe3RoaXMuTmM9YTt2YXIgYj1wZXJmb3JtYW5jZU5vdygpOwphLm9ubG9hZD1mdW5jdGlvbihmKXtpZihkKXt2YXIgaD1WaWRlb1BsYXllclJlc291cmNlVGltZXIuZ2V0UmVzb3VyY2VUaW1pbmdFbnRyeSh3LGIscGVyZm9ybWFuY2VOb3coKSk7ZC5zYW1wbGUocGVyZm9ybWFuY2VOb3coKS1iLGYubG9hZGVkfHxhLnJlc3BvbnNlJiZhLnJlc3BvbnNlLmJ5dGVMZW5ndGh8fDAsYy5taW1lVHlwZT8idiI9PT1jLm1pbWVUeXBlLmNoYXJBdCgwKTohMSxoLGcsZSxWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImV2YWx1YXRlX2Ficl9vbl9mZXRjaF9lbmQiLCExKSl9fX0pKTtrfHwoYS5nPW5ldyBTYyh3LGMpLGEubT0wLGQmJihhLmcuZj1kKSxrPWEuZy5tKCkpO3AmJnAuc2V0UmVzb3VyY2Uodyk7ZiYmZi5zZXRSZXNvdXJjZSh3KTt2YXIgZGE9ITEsZWE9ay50aGVuKEooYSxmdW5jdGlvbihhKXt2YXIgYz10aGlzLmg/dGhpcy5oLm9uUmVxdWVzdFNlbmQ6bnVsbDshY3x8InZpZGVvIiE9aCYmImF1ZGlvIiE9aCYmIm1hbmlmZXN0IiE9Cmh8fGMoITAsaCxhLnJlc3BvbnNlLmJ5dGVMZW5ndGgpOyF0aGlzLmJ8fHRoaXMuYi5pc0Rpc2FibGVkKCl8fHRoaXMuYT90aGlzLmF8fCh0aGlzLmE9VmlkZW9QbGF5ZXJSZXNvdXJjZVRpbWVyLmdldFJlc291cmNlVGltaW5nRW50cnkodyx0aGlzLmo/MDp0LHBlcmZvcm1hbmNlTm93KCkpKTp0aGlzLmE9dGhpcy5iLmdldFJlc291cmNlVGltaW5nRW50cnkodyk7VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJzYW1wbGVfcHJlZmV0Y2hfYmFuZHdpZHRoIiwhMSkmJnomJnRoaXMuYSYmMDx0aGlzLmEudGltZVRvTGFzdEJ5dGUmJmQmJmQuc2FtcGxlKHRoaXMuYS50aW1lVG9MYXN0Qnl0ZSxhLnJlc3BvbnNlLmJ5dGVMZW5ndGgsInYiPT09aC5jaGFyQXQoMCksdGhpcy5hLGcsZSwhMCk7aWYodGhpcy5BKXRyeXt0aGlzLm09cGFyc2VJbnQoYS5nZXRSZXNwb25zZUhlYWRlcigieC1mYi12aWRlby1icm9hZGNhc3QtZW5kZWQiKSwxMCl9Y2F0Y2goZil7fXRoaXMuYj0KdGhpcy5pPXRoaXMuZz10aGlzLmY9bnVsbDthLmE/KHRoaXMuaT1uZXcgTChhLmEpLHRoaXMudT0hMCk6dGhpcy5pPXRoaXMuY1tiXTthLnJlc3BvbnNlLllhPWEuWWE7cCYmKHA9cC5zZXRMZW5ndGgoYS5yZXNwb25zZS5ieXRlTGVuZ3RofHxhLnJlc3BvbnNlLmxlbmd0aCkuc2V0V2FzUHJlZmV0Y2hDYWNoZUhpdCh0aGlzLmopLG51bGwhPXRoaXMuYSYmKHA9cC5zZXRUaW1lVG9MYXN0Qnl0ZShNYXRoLnJvdW5kKHRoaXMuYS50aW1lVG9MYXN0Qnl0ZSkpLnNldFRpbWVUb0ZpcnN0Qnl0ZShNYXRoLnJvdW5kKHRoaXMuYS50aW1lVG9GaXJzdEJ5dGUpKS5zZXRUaW1lVG9SZXF1ZXN0U3RhcnQoTWF0aC5yb3VuZCh0aGlzLmEudGltZVRvUmVxdWVzdFN0YXJ0KSksMkUzPD10aGlzLmEudGltZVRvRmlyc3RCeXRlJiYtMTx3LmluZGV4T2YoImFrYW1haWhkIikmJmxvZ0xvbmdBa2FtYWlSZXF1ZXN0KGEuZ2V0UmVzcG9uc2VIZWFkZXIoIkRlYnVnLUluZm8iKSsiLCBUVEZCLT4gIit0aGlzLmEudGltZVRvRmlyc3RCeXRlKwoiLCBUVFJTLT4gIit0aGlzLmEudGltZVRvUmVxdWVzdFN0YXJ0KSkscC5sb2coKSk7cmV0dXJuIFByb21pc2UucmVzb2x2ZSh7dmFsdWU6YS5yZXNwb25zZSxkb25lOiExfSl9KSksZWE9ZWEuY2F0Y2goSihhLGZ1bmN0aW9uKGEpe3ZhciBlPXRoaXMuaD90aGlzLmgub25SZXF1ZXN0U2VuZDpudWxsO2UmJmUoITEsaCwwKTtpZih0aGlzLmYmJmIrMTx0aGlzLmMubGVuZ3RoKXJldHVybiB0aGlzLmY9JGModGhpcyxiKzEsYyxkKTt0aGlzLmI9dGhpcy5hPXRoaXMuZj10aGlzLmc9bnVsbDtwJiZwLnNldEVycm9yKGEpLmxvZygpO3JldHVybiBQcm9taXNlLnJlamVjdChhKX0pKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtjYW5jZWw6ZnVuY3Rpb24oKXt9LHJlYWQ6ZnVuY3Rpb24oKXtyZXR1cm4gZGE/UHJvbWlzZS5yZXNvbHZlKHt2YWx1ZTpudWxsLGRvbmU6ITB9KTplYS50aGVuKGZ1bmN0aW9uKGEpe2RhPSEwO3JldHVybiBhfSl9LmJpbmQoYSl9KX0KZnVuY3Rpb24gYmQoYSl7cmV0dXJue2Jhc2VVcmw6YS50b1N0cmluZygpLGlzUHJlZGljdGl2ZTphLmlzUHJlZGljdGl2ZSxzdGFydEJ5dGU6YS5zdGFydEJ5dGUsZW5kQnl0ZTphLmVuZEJ5dGV9fW4uY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEsodGhpcy5vLHRoaXMuYy5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuY2xvbmUoKX0pLHRoaXMuc3RhcnRCeXRlLHRoaXMuZW5kQnl0ZSx0aGlzLmlzUHJlZGljdGl2ZSx0aGlzLmgpfTtuLmdldFJlc291cmNlVGltaW5nRW50cnk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hfTsKZnVuY3Rpb24gY2QoYSxiLGMpe3ZhciBkPWIudG9TdHJpbmcoKTtpZihhLnN0YXJ0Qnl0ZXx8YS5lbmRCeXRlKWI9Yi5oYSwhYi5lbmRzV2l0aCgiZmJjZG4ubmV0Iil8fGIuc3RhcnRzV2l0aCgiaW50ZXJuY2FjaGUiKXx8Yi5lbmRzV2l0aCgiYWsuZmJjZG4ubmV0Iik/YyYmKGMuUWEuUmFuZ2U9ImJ5dGVzPSIrKGEuc3RhcnRCeXRlKyItIisobnVsbCE9YS5lbmRCeXRlP2EuZW5kQnl0ZToiIikpKTooZCs9IiZieXRlc3RhcnQ9IithLnN0YXJ0Qnl0ZSxkKz1udWxsIT09YS5lbmRCeXRlPyImYnl0ZWVuZD0iK2EuZW5kQnl0ZToiIik7YS5vJiZjJiYoZD1hLm8oZCxjLlFhKXx8ZCk7cmV0dXJuIGR9ZnVuY3Rpb24gdWIoYSl7cmV0dXJuIGNkKGEsYS5jWzBdKX1uLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY1swXS50b1N0cmluZygpfTtmdW5jdGlvbiBkZChhLGIsYyxkKXt0aGlzLmE9bmV3IHRiO2I9bnVsbCE9Yj9iOmlhO3RoaXMuYS5yZXNwb25zZVR5cGU9InRleHQiO3RoaXMuYS5OYT0zO3RoaXMuYS5iPTFFMypiO2MmJih0aGlzLmEuYT1jKTtkJiYodGhpcy5hLmRhPWQpO3RoaXMuYS5nPSEwO3RoaXMuYS53aXRoQ3JlZGVudGlhbHM9dGhpcy5hLmYudGVzdChhKTt0aGlzLmI9YX0KZnVuY3Rpb24gZWQoYSxiKXt2YXIgYz1hLmIsZD1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImRldGVjdF9saXZlX3N0cmVhbV9lbmRlZF9mcm9tX3Jlc3BvbnNlX2hlYWRlcnMiLCExKTtjLncoZCk7cmV0dXJuIGMuZmV0Y2goYS5hLG51bGwsYixudWxsLG51bGwsIm1hbmlmZXN0IikudGhlbihmdW5jdGlvbihhKXthIGluc3RhbmNlb2YgQXJyYXlCdWZmZXImJihhPVN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCxuZXcgVWludDhBcnJheShhKSkpO3ZhciBmPWQmJiEhYy5tLGc7YiYmKGc9Yi5nZXRPcGVyYXRpb25Mb2dnZXIoInBhcnNlX21hbmlmZXN0Iikuc3RhcnQoKSk7YT1lYyhhLGMuYyxbYy5pXSk7ZyYmZy5sb2coKTthJiYiZHluYW1pYyI9PT1hLnR5cGUmJmYmJihhLnR5cGU9InN0YXRpYyIsYiYmQmFuemFpT0RTLmJ1bXBFbnRpdHlLZXkoMjk2NiwidmlkZW9zLnd3dy5zaGFrYSIsImNoYW5nZWRfbWFuaWZlc3RfdG9fZHluYW1pY19vZmZfaGVhZGVycyIpKTsKaWYoYSlyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGEpO2Y9RXJyb3IoIk1QRCBwYXJzZSBmYWlsdXJlLiIpO2YudHlwZT0iZGFzaCI7cmV0dXJuIFByb21pc2UucmVqZWN0KGYpfSl9ZnVuY3Rpb24gZmQoYSl7dGhpcy5hPW51bGw7dGhpcy5oPWE7dGhpcy5jPXRoaXMuZz10aGlzLmY9bnVsbDt0aGlzLmk9ITE7dGhpcy5qPXRoaXMuYj1udWxsfTtmdW5jdGlvbiBnZChhLGIpe3RoaXMuYT1hO3RoaXMuYj1ifHxudWxsfWdkLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5hJiYodGhpcy5hLkthKCksdGhpcy5hPW51bGwpO3RoaXMuYj1udWxsfTtnZC5wcm90b3R5cGUuY3JlYXRlPWZ1bmN0aW9uKGEsYil7dmFyIGM9bnVsbDtiJiYoYz1uZXcgdGIsYy5kYT1iKTtyZXR1cm4hdGhpcy5iJiZ0aGlzLmE/dGhpcy5hLmZldGNoKGMsbnVsbCxhLG51bGwsbnVsbCwiaW5pdCIpOlByb21pc2UucmVzb2x2ZSh0aGlzLmIpfTtnZC5wcm90b3R5cGUuYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmF9O2dkLnByb3RvdHlwZS5nZXRGYWlsb3ZlclVyaT1nZC5wcm90b3R5cGUuYztmdW5jdGlvbiBoZChhLGIpe3RoaXMuc2VnbWVudE9yaWdpbmFsRW5kVGltZT1hO3RoaXMuZ2FwRGlzdGFuY2U9Yn1mdW5jdGlvbiBpZChhLGIsYyxkLGUsZixnKXt0aGlzLnN0YXJ0VGltZT1hO3RoaXMuZW5kVGltZT1iO3RoaXMudXJsPWM7dGhpcy51bnNjYWxlZFN0YXJ0VGltZT1kO3RoaXMudW5zY2FsZWREdXJhdGlvbj1lO3RoaXMudGltZXNjYWxlZEdhcEluZm89Znx8bnVsbDt0aGlzLmlzUHJlZGljdGl2ZT1nfHwhMTt0aGlzLmRlYnVnSW5mbz10aGlzLnRpbWVzY2FsZWRHYXBJbmZvP3tlbmRUaW1lOnRoaXMudGltZXNjYWxlZEdhcEluZm8uc2VnbWVudE9yaWdpbmFsRW5kVGltZSxkZWx0YTp0aGlzLnRpbWVzY2FsZWRHYXBJbmZvLmdhcERpc3RhbmNlfTpudWxsfWZ1bmN0aW9uIGpkKGEsYixjKXtyZXR1cm4gbmV3IGlkKGIsYyxhLnVybCxhLnVuc2NhbGVkU3RhcnRUaW1lLGEudW5zY2FsZWREdXJhdGlvbixhLnRpbWVzY2FsZWRHYXBJbmZvLGEuaXNQcmVkaWN0aXZlKX0KZnVuY3Rpb24geWIoYSxiKXtpZihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInVzZV9iaW5hcnlfc2VhcmNoX3doZW5fZmluZGluZ19zZWdtZW50X3JlZmVyZW5jZXMiLCExKSlyZXR1cm4gQmluYXJ5U2VhcmNoLmZpbmRJbmRleEluQXJyYXkoYSxiLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGI+PWEuc3RhcnRUaW1lJiYobnVsbD09YS5lbmRUaW1lfHxiPGEuZW5kVGltZSk/MDphLnN0YXJ0VGltZS1ifSk7Zm9yKHZhciBjPWEubGVuZ3RoLTE7MDw9YzstLWMpe3ZhciBkPWFbY107aWYoYj49ZC5zdGFydFRpbWUmJihudWxsPT1kLmVuZFRpbWV8fGI8ZC5lbmRUaW1lKSlyZXR1cm4gY31yZXR1cm4tMX1mdW5jdGlvbiBrZChhLGIpe3JldHVybiBhLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gamQoYSxhLnN0YXJ0VGltZStiLG51bGwhPWEuZW5kVGltZT9hLmVuZFRpbWUrYjpudWxsKX0pfTtmdW5jdGlvbiBsZChhLGIsYyxkKXtmb3IodmFyIGU9Yi5hLGY9W10sZz0wO2c8ZDsrK2cpe3ZhciBoPWcrYyxrPShoLTEpKmUuSCxsPWsvZS5zLG09KGsrZS5IKS9lLnMsaD1tZChhLGIsZS5iK2gtMSxrKTtpZighaClyZXR1cm4gbnVsbDtmLnB1c2gobmV3IGlkKGwsbSxoLGssZS5IfHwwKSl9cmV0dXJuIGZ9ZnVuY3Rpb24gbWQoYSxiLGMsZCxlLGYpe2lmKCFiLmEpcmV0dXJuIG51bGw7ZT1lfHwhMTt2YXIgZz1iLmEuZixoPWIuYS5DLmE7aWYoIWcpcmV0dXJuIGIuYmFzZVVybD9uZXcgSyhhLGIuYmFzZVVybCwwLG51bGwsdm9pZCAwLGYpOm51bGw7Yz1uZChlJiZoP2g6ZyxiLmlkLGMsYi5iYW5kd2lkdGgsZCk7aWYoIWMpcmV0dXJuIG51bGw7Yj1aYyhiLmJhc2VVcmwsYyk7cmV0dXJuIG5ldyBLKGEsYiwwLG51bGwsZSxmKX0KZnVuY3Rpb24gbmQoYSxiLGMsZCxlKXt2YXIgZj17UmVwcmVzZW50YXRpb25JRDpiLE51bWJlcjpjLEJhbmR3aWR0aDpkLFRpbWU6ZX07YT1hLnJlcGxhY2UoL1wkKFJlcHJlc2VudGF0aW9uSUR8TnVtYmVyfEJhbmR3aWR0aHxUaW1lKT8oPzolMChbMC05XSspZCk/XCQvZyxmdW5jdGlvbihhLGIsYyl7aWYoIiQkIj09YSlyZXR1cm4iJCI7dmFyIGQ9ZltiXTtpZihudWxsPT1kKXJldHVybiBhOyJSZXByZXNlbnRhdGlvbklEIj09YiYmYyYmKGM9dm9pZCAwKTthPWQudG9TdHJpbmcoKTtjPXdpbmRvdy5wYXJzZUludChjLDEwKXx8MTtjPU1hdGgubWF4KDAsYy1hLmxlbmd0aCk7cmV0dXJuIEFycmF5KGMrMSkuam9pbigiMCIpK2F9KTt0cnl7cmV0dXJuIG5ldyBMKGEpfWNhdGNoKGcpe2lmKGcgaW5zdGFuY2VvZiBVUklFcnJvcilyZXR1cm4gbnVsbDt0aHJvdyBnO319CmZ1bmN0aW9uIG9kKGEsYixjLGQsZSxmKXt2YXIgZz0wLGg9YypiO2M9YS5OO3ZhciBrPWR8fDA7ZD1bXTt2YXIgbD1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigibGl2ZV9yZXdpbmRfdGVtcGxhdGVkX2xhc3RfeF9zZWdtZW50c19vbmx5IiwwKSxtPVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgidGVtcGxhdGVkX2xhc3RfeF90aW1lbGluZSIsITEpJiZlJiZudWxsIT1mLHA9ZSYmbT9WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigidGVtcGxhdGVkX2luZ2VzdF90aHJvdHRsZSIsMCk6MDtpZihsfHxtKXtmb3IoZT0wO2U8Yy5sZW5ndGg7KytlKXtpZighY1tlXS5kdXJhdGlvbilyZXR1cm4gZDt2YXIgdD1jW2VdLnN0YXJ0VGltZSx0PW51bGwhPXQ/dDpnLHc9Y1tlXS5yZXBlYXR8fDA7aWYoMD53KWlmKHc9Y1tlXS5kdXJhdGlvbixlKzE9PT1jLmxlbmd0aCl2YXIgej1jWzBdLnN0YXJ0VGltZStoLXQsdz1NYXRoLmNlaWwoei8KdyktMTtlbHNlIHo9Y1tlKzFdLnN0YXJ0VGltZSx3PU1hdGguY2VpbCgoei10KS93KS0xO2NbZV0uc3RhcnRUaW1lPXQ7Y1tlXS5yZXBlYXQ9dztnPWNbZV0uc3RhcnRUaW1lK2NbZV0uZHVyYXRpb24qKGNbZV0ucmVwZWF0KzEpfWZvcihlPWMubGVuZ3RoLTE7LTE8ZTstLWUpZm9yKHZhciBIPTA7SDw9Y1tlXS5yZXBlYXQ7KytIKWlmKHQ9Y1tlXS5zdGFydFRpbWUrY1tlXS5kdXJhdGlvbiooY1tlXS5yZXBlYXQtSCksZz10K2NbZV0uZHVyYXRpb24sYT1udWxsLGQubGVuZ3RoJiZnIT1kW2QubGVuZ3RoLTFdLnN0YXJ0JiYoej1kW2QubGVuZ3RoLTFdLnN0YXJ0LWcsYT1uZXcgaGQoZy9iLHovYiksZz1kW2QubGVuZ3RoLTFdLnN0YXJ0KSxkLnB1c2goe3N0YXJ0OnQsZW5kOmd9KSxhJiYoZFtkLmxlbmd0aC0xXS50aW1lc2NhbGVkR2FwSW5mbz1hKSxsKXtpZihkLmxlbmd0aD09PWwpcmV0dXJuIGQ9ZC5yZXZlcnNlKCl9ZWxzZSBpZihtJiZkW2QubGVuZ3RoLTFdLnN0YXJ0PD1mKXJldHVybiBkLnBvcCgpLApkPWQucmV2ZXJzZSgpLDA8cCYmKGQ9ZC5zbGljZSgwLHApKSxkO3JldHVybiBkLnJldmVyc2UoKX1mb3IoZT0wO2U8Yy5sZW5ndGg7KytlKXtpZighY1tlXS5kdXJhdGlvbilyZXR1cm4gZDt0PWNbZV0uc3RhcnRUaW1lO3Q9bnVsbCE9dD90Omc7dz1jW2VdLnJlcGVhdHx8MDswPncmJih3PWNbZV0uZHVyYXRpb24sZSsxPT09Yy5sZW5ndGg/KHo9Y1swXS5zdGFydFRpbWUraC10LHc9TWF0aC5jZWlsKHovdyktMSk6KHo9Y1tlKzFdLnN0YXJ0VGltZSx3PU1hdGguY2VpbCgoei10KS93KS0xKSk7MDxkLmxlbmd0aCYmdCE9ZyYmKHo9dC1nLGY9ZFtkLmxlbmd0aC0xXSxmLnRpbWVzY2FsZWRHYXBJbmZvPW5ldyBoZChnL2Isei9iKSxmLmVuZD10KTtmb3IoSD0wO0g8PXc7KytIKWc9dCtjW2VdLmR1cmF0aW9uLGQucHVzaCh7c3RhcnQ6dCxlbmQ6Z30pLHQ9Z31pZihhLmEmJjA8Yy5sZW5ndGgpZm9yKGI9Y1swXS5kdXJhdGlvbixmPTA7ZjxrO2YrKylkLnB1c2goe3N0YXJ0OnQrZipiLGVuZDp0KwooZisxKSpiLHVkOmEuYitmfSk7cmV0dXJuIGR9O2Z1bmN0aW9uIHBkKGEsYixjLGQsZSl7dGhpcy53PWE7dGhpcy5tPWI7dGhpcy5jPWM7dGhpcy5XPTA7dGhpcy5CPSEwO3RoaXMucz1jLnN8fDA7dGhpcy5BPSExO3RoaXMuZz1udWxsO3RoaXMudT1kO3RoaXMuaj1jLkx8fDA7dGhpcy5iPTA7dGhpcy5pPXRoaXMuaD1udWxsO2E6e2I9Yy5DO3ZhciBmPTA7YT0oYS5kdXJhdGlvbnx8MCkqdGhpcy5zO2M9Yi5OO2ZvcihkPTA7ZDxjLmxlbmd0aDsrK2Qpe2lmKCFjW2RdLmR1cmF0aW9uKXtiLk49Yy5zbGljZSgwLGQpO2JyZWFrIGF9dmFyIGc9Y1tkXS5zdGFydFRpbWUsZj1udWxsIT1nP2c6ZixnPWNbZF0ucmVwZWF0fHwwOzA+ZyYmKGc9Y1tkXS5kdXJhdGlvbixnPWQrMT09PWMubGVuZ3RoP01hdGguY2VpbCgoY1swXS5zdGFydFRpbWUrYS1mKS9nKS0xOk1hdGguY2VpbCgoY1tkKzFdLnN0YXJ0VGltZS1mKS9nKS0xKTtjW2RdLnN0YXJ0VGltZT1mO2NbZF0ucmVwZWF0PWc7Zj1jW2RdLnN0YXJ0VGltZStjW2RdLmR1cmF0aW9uKihjW2RdLnJlcGVhdCsKMSl9fXRoaXMuZj1bXTt0aGlzLm89VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoInRpbWVsaW5lX3NlZ21lbnRfaW5kZXhfbWF4X2luZGV4X2NhY2hlX2xlbmd0aCIsMCk7dGhpcy5iPVNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscy5sZW5ndGgodGhpcy5jLkMuTik7dGhpcy5EPWV8fG51bGx9cGQucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmI9dGhpcy5jPXRoaXMubT10aGlzLnc9bnVsbDt0aGlzLmc9ZnVuY3Rpb24oKXt9O3RoaXMuZj10aGlzLnU9bnVsbH07cGQucHJvdG90eXBlLmxlbmd0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmJ9O2Z1bmN0aW9uIHFkKGEsYil7Zm9yKHZhciBjPWEuZi5sZW5ndGgtMTstMTxjO2MtLSlpZihhLmZbY10uaW5kZXg9PT1iKXt2YXIgZD1hLmZbY107YS5mLnNwbGljZShjLDEpO2EuZi5wdXNoKGQpO3JldHVybiBkLnhkfXJldHVybiBudWxsfQpmdW5jdGlvbiByZChhLGIsYyl7dmFyIGQ9W107aWYoYS5vJiYxPT09Yy1iKXt2YXIgZT1xZChhLGIpO2lmKGUpcmV0dXJuW2VdfXZhciBmPS1hLmovYS5zK2EuVztTaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMuZ2V0U2VnbWVudHMoYixjLGEuYy5DLk4sZnVuY3Rpb24oYSxlLGssbCxtKXtpZihsKXt2YXIgcD1kW2QubGVuZ3RoLTFdO3AmJihwLnRpbWVzY2FsZWRHYXBJbmZvPW5ldyBoZChtL3RoaXMucyxsL3RoaXMucykscC5kZWJ1Z0luZm89e2VuZFRpbWU6cC50aW1lc2NhbGVkR2FwSW5mby5zZWdtZW50T3JpZ2luYWxFbmRUaW1lLGRlbHRhOnAudGltZXNjYWxlZEdhcEluZm8uZ2FwRGlzdGFuY2V9LGRbZC5sZW5ndGgtMV09amQocCxwLnN0YXJ0VGltZSxhL3RoaXMucytmKSl9az1tZCh0aGlzLnUsdGhpcy5tLGsrdGhpcy5jLmIsYSx2b2lkIDAsdGhpcy5EKTtpZighayl0aHJvdyBhPUVycm9yKCJGYWlsZWQgdG8gZ2VuZXJhdGUgbWVkaWEgVVJMLiIpLGEudHlwZT0iZGFzaCIsCmE7YT1uZXcgaWQoYS90aGlzLnMrZixlL3RoaXMucytmLGssYSxlLWEsbnVsbCk7ZT1iK2QubGVuZ3RoO2QucHVzaChhKTshdGhpcy5vfHwwIT09ZSYmZSE9PXRoaXMuYi0xJiYxIT09Yy1ifHxxZCh0aGlzLGUpfHwodGhpcy5mLmxlbmd0aCsxPnRoaXMubyYmdGhpcy5mLnNoaWZ0KCksdGhpcy5mLnB1c2goe2luZGV4OmUseGQ6YX0pKX0uYmluZChhKSk7cmV0dXJuIGR9CmZ1bmN0aW9uIHNkKGEsYil7dmFyIGM9Yi51bnNjYWxlZFN0YXJ0VGltZSxkPWIudW5zY2FsZWRFbmRUaW1lLGU9Yi5kZWx0YSxmPWIucHJldmlvdXNFbmRUaW1lO2lmKGUpdmFyIGc9bmV3IGhkKGYvYS5zLGUvYS5zKTtlPW1kKGEudSxhLm0sYi5zZWdtZW50UmVwbGFjZW1lbnQrYS5jLmIsYyx2b2lkIDAsYS5EKTtpZighZSl0aHJvdyBjPUVycm9yKCJGYWlsZWQgdG8gZ2VuZXJhdGUgbWVkaWEgVVJMLiIpLGMudHlwZT0iZGFzaCIsYztmPS1hLmovYS5zK2EuVztyZXR1cm4gbmV3IGlkKGMvYS5zK2YsZC9hLnMrZixlLGMsZC1jLGd8fG51bGwpfXBkLnByb3RvdHlwZS5nZXRTZWdtZW50cz1mdW5jdGlvbigpe3JldHVybiByZCh0aGlzLDAsdGhpcy5iKXx8W119OwpwZC5wcm90b3R5cGUuZmlyc3Q9ZnVuY3Rpb24oKXtpZighdGhpcy5iKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbmRleCBvdXQgb2YgcmFuZ2UuIik7aWYoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJvcHRpbWl6ZV9jb21tb25fc2VnbWVudF9nZW5lcmF0aW9ucyIsITEpKXtpZih0aGlzLmgpcmV0dXJuIHRoaXMuaDt2YXIgYT1TaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMuZmlyc3QodGhpcy5jLkMuTix0aGlzLmIpO3JldHVybiB0aGlzLmg9c2QodGhpcyxhKX1yZXR1cm4gcmQodGhpcywwLDEpWzBdfTsKcGQucHJvdG90eXBlLmxhc3Q9ZnVuY3Rpb24oKXtpZighdGhpcy5iKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbmRleCBvdXQgb2YgcmFuZ2UuIik7aWYoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJvcHRpbWl6ZV9jb21tb25fc2VnbWVudF9nZW5lcmF0aW9ucyIsITEpKXtpZih0aGlzLmkpcmV0dXJuIHRoaXMuaTt2YXIgYT1TaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMubGFzdCh0aGlzLmMuQy5OLHRoaXMuYik7cmV0dXJuIHRoaXMuaT1zZCh0aGlzLGEpfXJldHVybiByZCh0aGlzLHRoaXMuYi0xLHRoaXMuYilbMF19OwpwZC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGEpe2lmKCF0aGlzLmJ8fDA+YXx8YT49dGhpcy5iKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbmRleCBvdXQgb2YgcmFuZ2UuIik7cmV0dXJuIFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgib3B0aW1pemVfY29tbW9uX3NlZ21lbnRfZ2VuZXJhdGlvbnMiLCExKT8oYT1TaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMuZ2V0KHRoaXMuYy5DLk4sYSx0aGlzLmIpLHNkKHRoaXMsYSkpOnJkKHRoaXMsYSxhKzEpWzBdfTsKcGQucHJvdG90eXBlLmZpbmQ9ZnVuY3Rpb24oYSl7aWYoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJmaXhfY29tcG9zaXRlZF90aW1lX2luZGV4X2NhbGxzIiwhMSkpcmV0dXJuKGE9U2hha2FUaW1lbGluZVNlZ21lbnRJbmRleFV0aWxzLmZpbmQoYSx0aGlzLmMuQy5OLHRoaXMucywtdGhpcy5qL3RoaXMucyt0aGlzLlcpKT9zZCh0aGlzLGEpOm51bGw7YT10aGlzLmZpbmRJbmRleChhKTtyZXR1cm4gVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJvcHRpbWl6ZV9jb21tb25fc2VnbWVudF9nZW5lcmF0aW9ucyIsITEpPzA8PWE/dGhpcy5nZXQoYSk6bnVsbDowPD1hP3JkKHRoaXMsYSxhKzEpWzBdOm51bGx9O3BkLnByb3RvdHlwZS5maW5kSW5kZXg9ZnVuY3Rpb24oYSl7cmV0dXJuIFNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscy5maW5kSW5kZXgoYSx0aGlzLmMuQy5OLHRoaXMucywtdGhpcy5qL3RoaXMucyt0aGlzLlcpfTtuPXBkLnByb3RvdHlwZTsKbi5TYT1mdW5jdGlvbihhKXt2YXIgYj1hLmxlbmd0aCgpLGM9Yi10aGlzLmI7aWYoMCE9PWImJihiIT09dGhpcy5ifHwwIT09dGhpcy5iJiZhLmxhc3QoKS5lbmRUaW1lIT09dGhpcy5sYXN0KCkuZW5kVGltZSkmJiEoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJmaXhfaW50ZWdyYXRpb25fb25fZWFybGllcl9lbmR0aW1lIiwhMSkmJmEubGFzdCgpLmVuZFRpbWU8PXRoaXMubGFzdCgpLmVuZFRpbWUpKWlmKHRoaXMuQT0hMSxiPWEubGFzdCgpLG51bGwhPWIuZW5kVGltZSYmYi5lbmRUaW1lPHRoaXMubGFzdCgpLmVuZFRpbWUmJmIuZW5kVGltZTx0aGlzLmZpcnN0KCkuc3RhcnRUaW1lJiYodGhpcy5BPSEwKSxWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImludGVncmF0ZV9zZWdtZW50X3RpbWVsaW5lX3RpbWVfcG9pbnRzIiwhMSk/dGhpcy5jLkMuTj1TaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMuaW50ZWdyYXRlVGltZVBvaW50cyh0aGlzLmMuQy5OLAphLmMuQy5OKToodGhpcy53PWEudyx0aGlzLm09YS5tLHRoaXMuYz1hLmMsdGhpcy5qPXRoaXMuYy5MfHwwLHRoaXMucz10aGlzLmMuc3x8MCksdGhpcy5mPVtdLHRoaXMuaT10aGlzLmg9bnVsbCx0aGlzLmI9U2hha2FUaW1lbGluZVNlZ21lbnRJbmRleFV0aWxzLmxlbmd0aCh0aGlzLmMuQy5OKSx0aGlzLmZpcnN0KCksdGhpcy5sYXN0KCksVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJ0ZW1wbGF0ZWRfY2FsbF9vbl9zZWdtZW50c191cGRhdGVkX3dpdGhfZGVsdGFfc2VnbWVudHMiLCExKSl7dmFyIGQ9W10sYz10aGlzLmItYztmb3IoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJ0ZW1wbGF0ZWRfZHluYW1pY19pbmNsdWRlX3ByZXZpb3VzX2xhc3Rfc2VnbWVudF9pbl91cGRhdGVzIiwhMSkmJjA8YyYmYy0tO2M8dGhpcy5iOysrYylkLnB1c2godGhpcy5nZXQoYykpO3RoaXMuZyYmdGhpcy5nKGQpfWVsc2UgYz0hVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJub19wcm92aWRlX3NlZ21lbnRzX3RvX29uX3NlZ21lbnRzX3VwZGF0ZWRfbGlzdGVuZXJzIiwKITEpLHRoaXMuZyYmKGMmJihkPXRoaXMuZ2V0U2VnbWVudHMoKSksdGhpcy5nKGQpKX07bi5oYj1mdW5jdGlvbihhKXt2YXIgYj1hLXRoaXMuVztpZigwPT1iKXJldHVybiAwO3RoaXMuVz1hO3RoaXMuaT10aGlzLmg9bnVsbDt0aGlzLmY9W107cmV0dXJuIGJ9O24uaWI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iP3tzdGFydDp0aGlzLmZpcnN0KCkuc3RhcnRUaW1lLGVuZDp0aGlzLmxhc3QoKS5lbmRUaW1lfTp7c3RhcnQ6MCxlbmQ6MH19O24uZ2V0U2Vla1JhbmdlR2Fwcz1mdW5jdGlvbigpe3JldHVybiBTaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMuZ2V0U2Vla1JhbmdlR2Fwcyh0aGlzLmMuQy5OLHRoaXMucywtdGhpcy5qL3RoaXMucyt0aGlzLlcpfTtuLnJiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuQX07bi5HYz1mdW5jdGlvbihhKXt0aGlzLmc9YX07bi5GYz1mdW5jdGlvbigpe3RoaXMuZz1udWxsfTtuLklhPWZ1bmN0aW9uKCl7fTtmdW5jdGlvbiB0ZCgpe30KdGQucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9bnVsbDt0cnl7YTp7dmFyIGc9W10saD1uZXcgQmEoYSksaz12KGgpO2lmKDE5MzYyODY4NDAhPXYoaCkpZj1udWxsO2Vsc2V7MT09ayYmKGs9RmEoaCkpO3ZhciBsPUVhKGgpO0hhKGgsMyk7SGEoaCw0KTt2YXIgbT12KGgpO2lmKDA9PW0pZj1udWxsO2Vsc2V7dmFyIHAsdDswPT1sPyhwPXYoaCksdD12KGgpKToocD1GYShoKSx0PUZhKGgpKTtIYShoLDIpO3ZhciB3PWguYi5nZXRVaW50MTYoaC5hLGguYyk7aC5hKz0yO2E9cDtiPWIrayt0O2Zvcih0PWs9MDt0PHc7dCsrKXt2YXIgej12KGgpO3A9KHomMjE0NzQ4MzY0OCk+Pj4zMTt2YXIgbD16JjIxNDc0ODM2NDcsSD12KGgpO3YoaCk7aWYoMT09cCl7Zj1udWxsO2JyZWFrIGF9dmFyIGRhO2RhPTA9PXQmJmU/ZTpuZXcgSyhkLGMsYixiK2wtMSk7cD1hL207dmFyIGVhPShhK0gpL207MD09PXQmJihrPXApO2cucHVzaChuZXcgaWQocC1rLGVhLWssZGEsCmEsSCkpO2ErPUg7Yis9bH1nLnM9bTtmPWd9fX19Y2F0Y2goQWEpe2lmKCEoQWEgaW5zdGFuY2VvZiBSYW5nZUVycm9yKSl0aHJvdyBBYTt9cmV0dXJuIGZ9O2Z1bmN0aW9uIFIoYSl7dGhpcy5hPWE7dGhpcy5zPXRoaXMuYS5zO3RoaXMuSz10aGlzLmEuQjt0aGlzLmc9W119Ui5wcm90b3R5cGUuSj1mdW5jdGlvbigpe3JldHVybiEhdGhpcy5nW3RoaXMuZy5sZW5ndGgtMV19O1IucHJvdG90eXBlLmxhc3RQb2xsSGFkQ2hhbmdlcz1SLnByb3RvdHlwZS5KO1IucHJvdG90eXBlLkk9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmcsYj1hLmxhc3RJbmRleE9mKCEwKTtpZigxPmIpcmV0dXJuIDA7YT1hLmxhc3RJbmRleE9mKCEwLGItMSk7cmV0dXJuIDA+YT8wOmItYS0xfTtSLnByb3RvdHlwZS5nZXRGZXRjaGVzQmV0d2VlblJlY2VudENoYW5nZXM9Ui5wcm90b3R5cGUuSTtSLnByb3RvdHlwZS51PWZ1bmN0aW9uKCl7cmV0dXJuIE1hdGguZmxvb3IoKHRoaXMuZy5sZW5ndGgtMS10aGlzLmcubGFzdEluZGV4T2YoITApKS8yKX07Ui5wcm90b3R5cGUuZ2V0Q29uc2VjdXRpdmVVcGRhdGVzV2l0aG91dENoYW5nZXM9Ui5wcm90b3R5cGUudTsKUi5wcm90b3R5cGUuRz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmcubGVuZ3RoLTEtdGhpcy5nLmxhc3RJbmRleE9mKCExKX07Ui5wcm90b3R5cGUuZ2V0Q29uc2VjdXRpdmVVcGRhdGVzV2l0aENoYW5nZXM9Ui5wcm90b3R5cGUuRztSLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5hLmRlc3Ryb3koKTt0aGlzLmE9bnVsbH07Ui5wcm90b3R5cGUubGVuZ3RoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS5sZW5ndGgoKX07Ui5wcm90b3R5cGUuZ2V0U2VnbWVudHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLmdldFNlZ21lbnRzKCl9O1IucHJvdG90eXBlLmdldFNlZ21lbnRzPVIucHJvdG90eXBlLmdldFNlZ21lbnRzO1IucHJvdG90eXBlLmZpcnN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS5maXJzdCgpfTtSLnByb3RvdHlwZS5sYXN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS5sYXN0KCl9O1IucHJvdG90eXBlLmxhc3Q9Ui5wcm90b3R5cGUubGFzdDsKUi5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmEuZ2V0KGEpfTtSLnByb3RvdHlwZS5maW5kPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmEuZmluZChhKX07Ui5wcm90b3R5cGUuZmluZEluZGV4PWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmEuZmluZEluZGV4KGEpfTtSLnByb3RvdHlwZS5CPWZ1bmN0aW9uKGEpe3RoaXMuYS5TYShhLmEpO3JldHVybiEwfTtSLnByb3RvdHlwZS5UYT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5hLmhiKGEpfTtSLnByb3RvdHlwZS5BPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS5pYigpfTtSLnByb3RvdHlwZS5nZXRTZWVrUmFuZ2VHYXBzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS5nZXRTZWVrUmFuZ2VHYXBzKCl9O1IucHJvdG90eXBlLmdldFNlZWtSYW5nZUdhcHM9Ui5wcm90b3R5cGUuZ2V0U2Vla1JhbmdlR2FwcztSLnByb3RvdHlwZS5yYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmEucmIoKX07CmZ1bmN0aW9uIHVkKGEsYil7YS5hLkdjKGIpfTtmdW5jdGlvbiBTKGEsYixjLGQpe1IuY2FsbCh0aGlzLGEpO3RoaXMuaT1iO3RoaXMuRj1jO3RoaXMuaD1kO3RoaXMuZHVyYXRpb249dGhpcy5pLmJ8fHRoaXMuaS5hLnJlZHVjZShmdW5jdGlvbihhLGIpe3JldHVybiBudWxsPT1iLmR1cmF0aW9uP05hTjphK2IuZHVyYXRpb259LDApfHwwO3RoaXMuYj10aGlzLm89dGhpcy5mPW51bGw7eWQodGhpcyl9cihTLFIpO1MucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLkY9dGhpcy5pPW51bGw7Ui5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpfTtTLnByb3RvdHlwZS5maW5kPWZ1bmN0aW9uKGEpe3pkKHRoaXMseWEoKS8xRTMpO3JldHVybiBSLnByb3RvdHlwZS5maW5kLmNhbGwodGhpcyxhKX07ClMucHJvdG90eXBlLkI9ZnVuY3Rpb24oYSl7aWYoIShhIGluc3RhbmNlb2YgUykpcmV0dXJuITE7dGhpcy5hLlNhKGEuYSk7dGhpcy5kdXJhdGlvbj1NYXRoLm1heCh0aGlzLmR1cmF0aW9uLGEuZHVyYXRpb24pO251bGw9PXRoaXMuZj8odGhpcy5oPWEuaCx5ZCh0aGlzKSk6QWQodGhpcyk7cmV0dXJuITB9O2Z1bmN0aW9uIHlkKGEpe0FkKGEpO2lmKDAhPWEubGVuZ3RoKCkpe2EubGVuZ3RoKCk7dmFyIGI9bnVsbCE9YS5sYXN0KCkuZW5kVGltZT9hLmxhc3QoKS5lbmRUaW1lOmEubGFzdCgpLnN0YXJ0VGltZTtpZihhLmkuYz5hLmgpYS5mPWI7ZWxzZXt2YXIgYz1hLmgtKGEuaS5jK2EuRi5zdGFydCk7MD5jP2EuZj1iOmM8TWF0aC5tYXgoYS5sYXN0KCkuc3RhcnRUaW1lLGEubGFzdCgpLmVuZFRpbWV8fDApPyhhLmxhc3QoKSxhLmY9Yik6YS5mPWN9YS5vPWEubGFzdCgpLnN0YXJ0VGltZTthLmI9YS5maXJzdCgpLnN0YXJ0VGltZX19ClMucHJvdG90eXBlLlRhPWZ1bmN0aW9uKGEpe2E9Ui5wcm90b3R5cGUuVGEuY2FsbCh0aGlzLGEpO1ZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgibm9fY29ycmVjdF9kZWx0YV93YXJuaW5nIiwhMSl8fE1hdGgubWluLmFwcGx5KG51bGwsdGhpcy5nZXRTZWdtZW50cygpLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YS5lbmRUaW1lfSkubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLmVuZFRpbWUtYS5zdGFydFRpbWV9KSk7bnVsbCE9dGhpcy5mJiYodGhpcy5vKz1hLHRoaXMuYis9YSx0aGlzLmYrPWEpO3JldHVybiBhfTtTLnByb3RvdHlwZS5BPWZ1bmN0aW9uKCl7cmV0dXJuIEJkKHRoaXMseWEoKS8xRTMpfTsKZnVuY3Rpb24gQmQoYSxiKXt6ZChhLGIpO2lmKG51bGw9PWEuZnx8bnVsbD09YS5vfHxudWxsPT1hLmIpcmV0dXJue3N0YXJ0OjAsZW5kOjB9O3ZhciBjPU51bWJlci5QT1NJVElWRV9JTkZJTklUWTthLmR1cmF0aW9uJiYoYz1hLmR1cmF0aW9uKTt2YXIgZD1iLWEuaCxlPWEuZitkO251bGwhPWEuaS5mJiYoZT1lLWEuYi1hLmkuZiwwPGUmJihhLmIrPWUpKTthLmI9TWF0aC5taW4oYS5iLGMpO2Q9YS5vK2Q7aWYoZDxhLmIpcmV0dXJue3N0YXJ0OmEuYixlbmQ6YS5ifTtkPTA8YS5sZW5ndGgoKT9udWxsIT1hLmxhc3QoKS5lbmRUaW1lP01hdGgubWluKGQsYS5sYXN0KCkuZW5kVGltZSk6ZDphLmI7ZD1NYXRoLm1heChkLGEuYik7ZD1NYXRoLm1pbihkLGMpO3JldHVybntzdGFydDphLmIsZW5kOmR9fQpmdW5jdGlvbiB6ZChhLGIpe2lmKGEuYS5hJiYoQWQoYSksbnVsbCE9YS5pLmYpKWlmKG51bGw9PWEuZilhLmxlbmd0aCgpO2Vsc2V7Zm9yKHZhciBjPWEuZisoYi1hLmgpLGQ9MCxlPTA7ZTxhLmEuYS5sZW5ndGg7KytlKXt2YXIgZj1udWxsO2U8YS5hLmEubGVuZ3RoLTE/Zj1hLmEuYVtlKzFdLmVuZFRpbWU6KGY9YS5hLmFbZV0sZj1udWxsIT1mLmVuZFRpbWU/Zi5lbmRUaW1lKyhmLmVuZFRpbWUtZi5zdGFydFRpbWUpOm51bGwpO2lmKG51bGwhPWYmJmY8Yy1hLmkuZikrK2Q7ZWxzZSBicmVha30wPGQmJmEuYS5hLnNwbGljZSgwLGQpfX1mdW5jdGlvbiBBZChhKXtpZihhLmR1cmF0aW9uJiZhLmEuYSl7Zm9yKHZhciBiPTAsYz1hLmEuYS5sZW5ndGgtMTswPD1jOy0tYylpZihhLmEuYVtjXS5zdGFydFRpbWU+YS5kdXJhdGlvbikrK2I7ZWxzZSBicmVhazswPGImJmEuYS5hLnNwbGljZSgtYil9fTtmdW5jdGlvbiBUKGEsYixjKXt2YXIgZD1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigidGVtcGxhdGVkX3F1YXJhbnRpbmVfaWRsZV9yZWZlcmVuY2VzX3RocmVzaG9sZCIsMCk7dGhpcy5pPVtdO2lmKDA8ZCl7dmFyIGU9YTthPWUuc3BsaWNlKC1kKTt0aGlzLmk9ZX10aGlzLmE9YTt0aGlzLlc9MDt0aGlzLnM9Yjt0aGlzLmY9ITE7dGhpcy5oPWZ1bmN0aW9uKCl7fTt0aGlzLkI9Y3x8ITF9VC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuYT1udWxsfTtULnByb3RvdHlwZS5sZW5ndGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLmxlbmd0aH07VC5wcm90b3R5cGUuZ2V0U2VnbWVudHM9ZnVuY3Rpb24oKXtyZXR1cm4odGhpcy5hfHxbXSkuc2xpY2UoKX07VC5wcm90b3R5cGUuZ2V0U2VnbWVudHM9VC5wcm90b3R5cGUuZ2V0U2VnbWVudHM7ClQucHJvdG90eXBlLmZpcnN0PWZ1bmN0aW9uKCl7aWYoMD09dGhpcy5hLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiU2VnbWVudEluZGV4QmFzZTogVGhlcmUgaXMgbm8gZmlyc3QgU2VnbWVudFJlZmVyZW5jZS4iKTtyZXR1cm4gdGhpcy5hWzBdfTtULnByb3RvdHlwZS5sYXN0PWZ1bmN0aW9uKCl7aWYoMD09dGhpcy5hLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiU2VnbWVudEluZGV4QmFzZTogVGhlcmUgaXMgbm8gbGFzdCBTZWdtZW50UmVmZXJlbmNlLiIpO3JldHVybiB0aGlzLmFbdGhpcy5hLmxlbmd0aC0xXX07VC5wcm90b3R5cGUubGFzdD1ULnByb3RvdHlwZS5sYXN0O1QucHJvdG90eXBlLmdldD1mdW5jdGlvbihhKXtpZigwPmF8fGE+PXRoaXMuYS5sZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIlNlZ21lbnRJbmRleEJhc2U6IFRoZSBzcGVjaWZpZWQgaW5kZXggaXMgb3V0IG9mIHJhbmdlLiIpO3JldHVybiB0aGlzLmFbYV19OwpULnByb3RvdHlwZS5maW5kPWZ1bmN0aW9uKGEpe2E9dGhpcy5maW5kSW5kZXgoYSk7cmV0dXJuIDA8PWE/dGhpcy5hW2FdOm51bGx9O1QucHJvdG90eXBlLmZpbmRJbmRleD1mdW5jdGlvbihhKXtyZXR1cm4geWIodGhpcy5hLGEpfTsKVC5wcm90b3R5cGUuU2E9ZnVuY3Rpb24oYSl7dGhpcy5XIT1hLlcmJihhPW5ldyBUKGtkKGEuYSx0aGlzLlctYS5XKSxhLnMpKTtpZigwPT10aGlzLmxlbmd0aCgpKXRoaXMuYT1hLmEuc2xpY2UoMCksdGhpcy5JYSgpO2Vsc2UgaWYoMCE9YS5sZW5ndGgoKSYmbnVsbCE9dGhpcy5sYXN0KCkuZW5kVGltZSlpZihudWxsIT1hLmxhc3QoKS5lbmRUaW1lJiZhLmxhc3QoKS5lbmRUaW1lPHRoaXMubGFzdCgpLmVuZFRpbWUpVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJmaXhfbWFuaWZlc3Rfd3JhcHBlZCIsITApP2EubGFzdCgpLmVuZFRpbWU8dGhpcy5maXJzdCgpLnN0YXJ0VGltZSYmKHRoaXMuZj0hMCk6dGhpcy5mPSEwO2Vsc2V7dGhpcy5mPSExO2lmKHRoaXMubGFzdCgpLmVuZFRpbWU8PWEuZmlyc3QoKS5zdGFydFRpbWUpe3ZhciBiPWpkKHRoaXMubGFzdCgpLHRoaXMubGFzdCgpLnN0YXJ0VGltZSxhLmZpcnN0KCkuc3RhcnRUaW1lKSxjPXRoaXMubGFzdCgpLnVuc2NhbGVkU3RhcnRUaW1lKwp0aGlzLmxhc3QoKS51bnNjYWxlZER1cmF0aW9uO1ZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgiY2FsY3VsYXRlX21pc3NlZF9zZWdtZW50X2dhcF9pbmZvX29uX21lcmdlIiwhMSkmJmM8YS5maXJzdCgpLnVuc2NhbGVkU3RhcnRUaW1lJiZudWxsPT09dGhpcy5sYXN0KCkudGltZXNjYWxlZEdhcEluZm8mJihiLnRpbWVzY2FsZWRHYXBJbmZvPW5ldyBoZChjL3RoaXMucywoYS5maXJzdCgpLnVuc2NhbGVkU3RhcnRUaW1lLWMpL3RoaXMucykpO2lmKFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgidGVtcGxhdGVkX29wdGltaXplX21lcmdlX3RhcmdldF9hbGdvcyIsITEpKWZvcih0aGlzLmEucG9wKCksdGhpcy5hLnB1c2goYiksYz0wO2M8YS5hLmxlbmd0aDsrK2MpdGhpcy5hLnB1c2goYS5hW2NdKTtlbHNlIGI9dGhpcy5hLnNsaWNlKDAsLTEpLmNvbmNhdChbYl0pLHRoaXMuYT1iLmNvbmNhdChhLmEpfWVsc2V7Zm9yKGM9MDtjPHRoaXMuYS5sZW5ndGgmJgohKHRoaXMuYVtjXS5lbmRUaW1lPj1hLmZpcnN0KCkuc3RhcnRUaW1lKTsrK2MpO3RoaXMuYVtjXS5zdGFydFRpbWU8YS5maXJzdCgpLnN0YXJ0VGltZT8oYj1qZCh0aGlzLmFbY10sdGhpcy5hW2NdLnN0YXJ0VGltZSxhLmZpcnN0KCkuc3RhcnRUaW1lKSxiPXRoaXMuYS5zbGljZSgwLGMpLmNvbmNhdChbYl0pKToodGhpcy5maXJzdCgpLnN0YXJ0VGltZT5hLmZpcnN0KCkuc3RhcnRUaW1lfHxhLmZpcnN0KCksYj10aGlzLmEuc2xpY2UoMCxjKSk7dGhpcy5hPWIuY29uY2F0KGEuYSl9dGhpcy5oKGEuYSk7dGhpcy5JYSgpfX07VC5wcm90b3R5cGUuaGI9ZnVuY3Rpb24oYSl7dmFyIGI9YS10aGlzLlc7aWYoMD09YilyZXR1cm4gMDt0aGlzLmE9a2QodGhpcy5hLGIpO3RoaXMuSWEoKTt0aGlzLlc9YTtyZXR1cm4gYn07ClQucHJvdG90eXBlLmliPWZ1bmN0aW9uKCl7cmV0dXJuIDA8dGhpcy5sZW5ndGgoKT97c3RhcnQ6dGhpcy5maXJzdCgpLnN0YXJ0VGltZSxlbmQ6dGhpcy5sYXN0KCkuZW5kVGltZX06e3N0YXJ0OjAsZW5kOjB9fTtULnByb3RvdHlwZS5nZXRTZWVrUmFuZ2VHYXBzPWZ1bmN0aW9uKCl7cmV0dXJuIGdldFNlZWtSYW5nZUdhcHNGcm9tU2hha2FSZWZlcmVuY2VzKHRoaXMuYSx0aGlzLnMpfTtULnByb3RvdHlwZS5nZXRTZWVrUmFuZ2VHYXBzPVQucHJvdG90eXBlLmdldFNlZWtSYW5nZUdhcHM7VC5wcm90b3R5cGUucmI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mfTtULnByb3RvdHlwZS5HYz1mdW5jdGlvbihhKXt0aGlzLmg9YX07VC5wcm90b3R5cGUuRmM9ZnVuY3Rpb24oKXt0aGlzLmg9ZnVuY3Rpb24oKXt9fTtULnByb3RvdHlwZS5JYT1mdW5jdGlvbigpe307VC5wcm90b3R5cGUuZ2V0SWRsZVJlZmVyZW5jZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pfTtmdW5jdGlvbiBDZChhLGIsYyxkLGUpe3ZhciBmPTEsZz0wLGg7aWYoYS5jPmQpaD1udWxsO2Vsc2V7dmFyIGs9YS5vfHwwLGw9YS5mfHwwO2g9Yy5hO2g9aC5IL2guczt2YXIgbT1kLShhLmMrYi5zdGFydCk7MD5tP2g9bnVsbDoobD1tLTIqaC1sLDA+bCYmKGw9MCksbD1NYXRoLmNlaWwobC9oKSpoLG0tPWgsMD5tP2g9bnVsbDooaz1NYXRoLmZsb29yKG0vaCkqaC1rLDA+ayYmKGs9MCksaz1NYXRoLmZsb29yKGsvaCkqaCxoPXt0YzpsL2grMSxjdXJyZW50OihrPj1sP2s6bCkvaCsxfSkpfWgmJihmPWgudGMsZz1oLmN1cnJlbnQtaC50YysxKTtmPWxkKGUsYyxmLGcpO2lmKG51bGw9PWYpdGhyb3cgYT1FcnJvcigiRmFpbGVkIHRvIGdlbmVyYXRlIFNlZ21lbnRSZWZlcmVuY2VzLiIpLGEudHlwZT0ic3RyZWFtIixhO2Y9bmV3IFQoZixjLmEuc3x8MSk7Uy5jYWxsKHRoaXMsZixhLGIsZCk7dGhpcy53PWM7dGhpcy5tPXRoaXMuYz0wPHRoaXMubGVuZ3RoKCk/YS5jK2Iuc3RhcnQrdGhpcy5sYXN0KCkuZW5kVGltZToKbnVsbDt0aGlzLmo9aD9oLmN1cnJlbnQrMTpudWxsO3RoaXMuRD1lfXIoQ2QsUyk7Q2QucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLkQ9dGhpcy53PW51bGw7Uy5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpfTtDZC5wcm90b3R5cGUuZmluZD1mdW5jdGlvbihhKXt2YXIgYj15YSgpLzFFMztEZCh0aGlzLGIpO3pkKHRoaXMsYik7cmV0dXJuIFIucHJvdG90eXBlLmZpbmQuY2FsbCh0aGlzLGEpfTtDZC5wcm90b3R5cGUuQj1mdW5jdGlvbihhKXtpZihudWxsIT10aGlzLmN8fCEoYSBpbnN0YW5jZW9mIENkKXx8bnVsbD09YS5jKXJldHVybiExO3RoaXMuYz1hLmM7dGhpcy5tPWEubTt0aGlzLmo9YS5qO3RoaXMuaD1hLmg7dGhpcy5kdXJhdGlvbj1hLmR1cmF0aW9uO3RoaXMuYS5TYShhLmEpO0RkKHRoaXMseWEoKS8xRTMpO3lkKHRoaXMpO3JldHVybiEwfTsKQ2QucHJvdG90eXBlLlRhPWZ1bmN0aW9uKGEpe2E9Uy5wcm90b3R5cGUuVGEuY2FsbCh0aGlzLGEpO251bGwhPXRoaXMuYyYmKHRoaXMuYys9YSx0aGlzLm0rPWEpO3JldHVybiBhfTtDZC5wcm90b3R5cGUuQT1mdW5jdGlvbigpe3ZhciBhPXlhKCkvMUUzO0RkKHRoaXMsYSk7cmV0dXJuIEJkKHRoaXMsYSl9O2Z1bmN0aW9uIERkKGEsYil7aWYobnVsbCE9YS5jJiZudWxsIT1hLm0mJm51bGwhPWEuail7dmFyIGM9YS53LmEsYz1jLkgvYy5zLGQ9TWF0aC5mbG9vcigoYS5tKyhiLWEuaCktYS5jKS9jKTtpZigwIT1kKXt2YXIgZT1sZChhLkQsYS53LGEuaixkKTtBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShhLmEuYSxrZChlLGEuYS5XKSk7YS5hLklhKCk7YS5jKz1kKmM7YS5qKz1kfX19O2Z1bmN0aW9uIEVkKGEsYixjLGQsZSl7dGhpcy5nPWE7dGhpcy5mPWI7dGhpcy5iPWM7dGhpcy5pPWQ7dGhpcy5hPW51bGw7dGhpcy5oPWV9RWQucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmg9dGhpcy5iPXRoaXMuZj10aGlzLmc9bnVsbDt0aGlzLmEmJih0aGlzLmEuZGVzdHJveSgpLHRoaXMuYT1udWxsKX07CkVkLnByb3RvdHlwZS5jcmVhdGU9ZnVuY3Rpb24oKXtpZih0aGlzLmEpcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLmEpO2lmKCJkeW5hbWljIj09dGhpcy5nLnR5cGUpdHJ5e3RoaXMuYT1uZXcgQ2QodGhpcy5nLHRoaXMuZix0aGlzLmIsdGhpcy5pLHRoaXMuaCl9Y2F0Y2goYSl7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfWVsc2V7dmFyIGI7Yj10aGlzLmIuYTtpZihiPWxkKHRoaXMuaCx0aGlzLmIsMSxNYXRoLmNlaWwodGhpcy5mLmR1cmF0aW9uLyhiLkgvYi5zKSkpKXtpZigwPGIubGVuZ3RoKXt2YXIgYz1iW2IubGVuZ3RoLTFdO2JbYi5sZW5ndGgtMV09amQoYyxjLnN0YXJ0VGltZSx0aGlzLmYuZHVyYXRpb24pfWI9bmV3IFQoYix0aGlzLmIuYS5zfHwxKTtiPW5ldyBSKGIpfWVsc2UgYj1udWxsO3RoaXMuYT1iO2lmKCF0aGlzLmEpcmV0dXJuIGI9RXJyb3IoIkZhaWxlZCB0byBnZW5lcmF0ZSBTZWdtZW50UmVmZXJlbmNlcyIpLGIudHlwZT0ic3RyZWFtIixQcm9taXNlLnJlamVjdChiKX1yZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuYSl9OwpFZC5wcm90b3R5cGUuYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmF9O2Z1bmN0aW9uIEZkKGEsYixjLGQsZSxmKXt0aGlzLmY9YTt0aGlzLmI9Yjt0aGlzLmg9Yzt0aGlzLmE9bnVsbDt0aGlzLmk9ZDt0aGlzLmc9ZTt0aGlzLmo9Znx8bnVsbH1GZC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuZz10aGlzLmg9dGhpcy5iPXRoaXMuZj1udWxsO3RoaXMuYSYmKHRoaXMuYS5kZXN0cm95KCksdGhpcy5hPW51bGwpfTsKRmQucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbigpe2lmKHRoaXMuYSlyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuYSk7dmFyIGE9dGhpcy5oLmIsYj1bXTthLkMmJihiPW9kKGEuQyxhLnN8fDEsdGhpcy5iLmR1cmF0aW9ufHwwKSk7dmFyIGM9MDthLkgmJmEuYz9jPShhLmMtMSkqYS5IOjA8Yi5sZW5ndGgmJihjPWJbMF0uc3RhcnQtKGEuTHx8MCkpO3ZhciBkPWMsZT1hLmEubGVuZ3RoOzA8Yi5sZW5ndGgmJmIubGVuZ3RoIT1hLmEubGVuZ3RoJiYoZT1NYXRoLm1pbihiLmxlbmd0aCxhLmEubGVuZ3RoKSk7Zm9yKHZhciBmPVtdLGc9MDtnPGU7KytnKXt2YXIgaD1hLmFbZ10saz1jLGw9ay9hLnMsbT1jPW51bGwscDthLkg/KGM9aythLkgsbT1jL2Eucyk6MDxiLmxlbmd0aD8ocD1iW2ddLnRpbWVzY2FsZWRHYXBJbmZvLGM9YltnXS5lbmQtKGEuTHx8MCksbT1jL2Eucyk6KG09bCt0aGlzLmIuZHVyYXRpb24sYz1tKmEucyk7dmFyIHQ9MCx3PW51bGw7aC5hJiYodD1oLmEucWEsCnc9aC5hLmVuZCk7bT1NYXRoLm1pbih0aGlzLmIuZHVyYXRpb24rZC9hLnMsbSk7Zi5wdXNoKG5ldyBpZChsLG0sbmV3IEsodGhpcy5nLGguYix0LHcsdm9pZCAwLHRoaXMuaiksayxwfHxudWxsKSl9YT1uZXcgVChmLGEuc3x8MSk7ImR5bmFtaWMiPT10aGlzLmYudHlwZT90aGlzLmE9bmV3IFMoYSx0aGlzLmYsdGhpcy5iLHRoaXMuaSk6dGhpcy5hPW5ldyBSKGEpO3JldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5hKX07RmQucHJvdG90eXBlLmM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hfTtmdW5jdGlvbiBHZChhLGIsYyl7VC5jYWxsKHRoaXMsYSxjKTt0aGlzLmc9Yjt0aGlzLmI9ITE7dGhpcy5qPVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0U3RyaW5nKCJ0ZW1wbGF0ZWRfcGVyZl90ZXN0X21ldGhvZHNfdW5kZXJfdGVzdF9jc3Zfc3RyaW5nIiwiYWxsIikuc3BsaXQoIiwiKX1yKEdkLFQpO2Z1bmN0aW9uIEhkKGEsYil7aWYoISgtMTxhLmouaW5kZXhPZigiYWxsIil8fC0xPGEuai5pbmRleE9mKGIpKXx8YS5iKXJldHVybiBudWxsO3ZhciBjPWEuYTthLmE9YS5nO2EuYj0hMDtyZXR1cm4gY31mdW5jdGlvbiBJZChhLGIpe2EuYiYmKGEuZz1hLmEsYS5hPWIpfUdkLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7VC5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpO3RoaXMuZz1udWxsfTsKR2QucHJvdG90eXBlLmxlbmd0aD1mdW5jdGlvbigpe3ZhciBhPUhkKHRoaXMsImxlbmd0aCIpLGI9VC5wcm90b3R5cGUubGVuZ3RoLmNhbGwodGhpcyk7YSYmKElkKHRoaXMsYSksYj1ULnByb3RvdHlwZS5sZW5ndGguY2FsbCh0aGlzKSx0aGlzLmI9ITEpO3JldHVybiBifTtHZC5wcm90b3R5cGUuZ2V0U2VnbWVudHM9ZnVuY3Rpb24oKXt2YXIgYT1IZCh0aGlzLCJnZXRTZWdtZW50cyIpLGI9VC5wcm90b3R5cGUuZ2V0U2VnbWVudHMuY2FsbCh0aGlzKTthJiYoSWQodGhpcyxhKSxiPVQucHJvdG90eXBlLmdldFNlZ21lbnRzLmNhbGwodGhpcyksdGhpcy5iPSExKTtyZXR1cm4gYn07R2QucHJvdG90eXBlLmZpcnN0PWZ1bmN0aW9uKCl7dmFyIGE9SGQodGhpcywiZmlyc3QiKSxiPVQucHJvdG90eXBlLmZpcnN0LmNhbGwodGhpcyk7YSYmKElkKHRoaXMsYSksYj1ULnByb3RvdHlwZS5maXJzdC5jYWxsKHRoaXMpLHRoaXMuYj0hMSk7cmV0dXJuIGJ9OwpHZC5wcm90b3R5cGUubGFzdD1mdW5jdGlvbigpe3ZhciBhPUhkKHRoaXMsImxhc3QiKSxiPVQucHJvdG90eXBlLmxhc3QuY2FsbCh0aGlzKTthJiYoSWQodGhpcyxhKSxiPVQucHJvdG90eXBlLmxhc3QuY2FsbCh0aGlzKSx0aGlzLmI9ITEpO3JldHVybiBifTtHZC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGEpe3ZhciBiPUhkKHRoaXMsImdldCIpLGM7Yz1iP1QucHJvdG90eXBlLmdldC5jYWxsKHRoaXMsYSsodGhpcy5hLmxlbmd0aC1iLmxlbmd0aCkpOlQucHJvdG90eXBlLmdldC5jYWxsKHRoaXMsYSk7YiYmKElkKHRoaXMsYiksYz1ULnByb3RvdHlwZS5nZXQuY2FsbCh0aGlzLGEpLHRoaXMuYj0hMSk7cmV0dXJuIGN9O0dkLnByb3RvdHlwZS5maW5kPWZ1bmN0aW9uKGEpe3ZhciBiPUhkKHRoaXMsImZpbmQiKSxjPVQucHJvdG90eXBlLmZpbmQuY2FsbCh0aGlzLGEpO2ImJihJZCh0aGlzLGIpLGM9VC5wcm90b3R5cGUuZmluZC5jYWxsKHRoaXMsYSksdGhpcy5iPSExKTtyZXR1cm4gY307CkdkLnByb3RvdHlwZS5maW5kSW5kZXg9ZnVuY3Rpb24oYSl7dmFyIGI9SGQodGhpcywiZmluZEluZGV4IiksYz1ULnByb3RvdHlwZS5maW5kSW5kZXguY2FsbCh0aGlzLGEpO2ImJihJZCh0aGlzLGIpLGM9VC5wcm90b3R5cGUuZmluZEluZGV4LmNhbGwodGhpcyxhKSx0aGlzLmI9ITEpO3JldHVybiBjfTtuPUdkLnByb3RvdHlwZTtuLlNhPWZ1bmN0aW9uKGEpe3ZhciBiPUhkKHRoaXMsIm1lcmdlIiksYz1ULnByb3RvdHlwZS5TYS5jYWxsKHRoaXMsYSk7YiYmKElkKHRoaXMsYiksYz1ULnByb3RvdHlwZS5TYS5jYWxsKHRoaXMsYSksdGhpcy5iPSExKTtyZXR1cm4gY307bi5oYj1mdW5jdGlvbihhKXt2YXIgYj1IZCh0aGlzLCJjb3JyZWN0IiksYz1ULnByb3RvdHlwZS5oYi5jYWxsKHRoaXMsYSk7YiYmKElkKHRoaXMsYiksYz1ULnByb3RvdHlwZS5oYi5jYWxsKHRoaXMsYSksdGhpcy5iPSExKTtyZXR1cm4gY307Cm4uaWI9ZnVuY3Rpb24oKXt2YXIgYT1IZCh0aGlzLCJnZXRTZWVrUmFuZ2UiKSxiPVQucHJvdG90eXBlLmliLmNhbGwodGhpcyk7YSYmKElkKHRoaXMsYSksYj1ULnByb3RvdHlwZS5pYi5jYWxsKHRoaXMpLHRoaXMuYj0hMSk7cmV0dXJuIGJ9O24uZ2V0U2Vla1JhbmdlR2Fwcz1mdW5jdGlvbigpe3ZhciBhPUhkKHRoaXMsImdldFNlZWtSYW5nZUdhcHMiKSxiPVQucHJvdG90eXBlLmdldFNlZWtSYW5nZUdhcHMuY2FsbCh0aGlzKTthJiYoSWQodGhpcyxhKSxiPVQucHJvdG90eXBlLmdldFNlZWtSYW5nZUdhcHMuY2FsbCh0aGlzKSx0aGlzLmI9ITEpO3JldHVybiBifTtuLklhPWZ1bmN0aW9uKCl7dmFyIGE9SGQodGhpcywiYXNzZXJ0Q29ycmVjdFJlZmVyZW5jZXMiKTtULnByb3RvdHlwZS5JYS5jYWxsKHRoaXMpO2EmJihJZCh0aGlzLGEpLFQucHJvdG90eXBlLklhLmNhbGwodGhpcyksdGhpcy5iPSExKX07ZnVuY3Rpb24gSmQoYSxiLGMsZCxlLGYsZyxoKXt0aGlzLm09YTt0aGlzLmE9Yjt0aGlzLmc9Yzt0aGlzLmY9ZDt0aGlzLm89ZTt0aGlzLmI9bnVsbDt0aGlzLmk9Zjt0aGlzLmg9bnVsbDt0aGlzLmo9aHx8bnVsbH1KZC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuaT10aGlzLmY9dGhpcy5nPXRoaXMuYT1udWxsO3RoaXMuYiYmKHRoaXMuYi5kZXN0cm95KCksdGhpcy5iPW51bGwpfTsKSmQucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbigpe2lmKHRoaXMuYilyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuYik7dmFyIGE9VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJmYmxzX3VzZV90aW1lbGluZV9zZWdtZW50X2luZGV4IiwhMSk7aWYoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJ1c2VfdGltZWxpbmVfc2VnbWVudF9pbmRleCIsITEpJiYodGhpcy5hLkZCSXNMaXZlVGVtcGxhdGVkfHx0aGlzLmEuRkJXYXNMaXZlfHxhKSlhPW5ldyBwZCh0aGlzLmcsdGhpcy5mLHRoaXMuZi5hLHRoaXMuaSx0aGlzLmopO2Vsc2V7Zm9yKHZhciBhPXRoaXMuZi5hLGI9b2QoYS5DLGEuc3x8MSx0aGlzLmcuZHVyYXRpb258fDAsdGhpcy5tLmdldE51bWJlcigibnVtX3ByZWRpY3RpdmVfc2VnbWVudHMiLDApLHRoaXMuYS5GQklzTGl2ZVRlbXBsYXRlZHx8dGhpcy5hLkZCV2FzTGl2ZSx0aGlzLmgpLGM9W10sZD0wO2Q8Yi5sZW5ndGg7KytkKXt2YXIgZT0KYltkXS5zdGFydCxmPWJbZF0uZW5kLGc9YltkXS51ZHx8MCxoPWJbZF0udGltZXNjYWxlZEdhcEluZm8saz1lL2EucyxsPWYvYS5zLG09ZCthLmIscD1lLG09bWQodGhpcy5pLHRoaXMuZiwwPGc/ZzptLHAsMDxnPyEwOiExLHRoaXMuaik7aWYoIW0pcmV0dXJuIGE9RXJyb3IoIkZhaWxlZCB0byBnZW5lcmF0ZSBtZWRpYSBVUkwuIiksYS50eXBlPSJkYXNoIixQcm9taXNlLnJlamVjdChhKTt2YXIgdD0oYS5MfHwwKS9hLnM7Yy5wdXNoKG5ldyBpZChrLXQsbC10LG0scCxmLWUsaHx8bnVsbCwwPGcpKX1iPXRoaXMuYS5GQklzTGl2ZVRlbXBsYXRlZHx8dGhpcy5hLkZCV2FzTGl2ZTtWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigidGVtcGxhdGVkX3VzZV9wZXJmX3Rlc3Rfc2VnbWVudF9pbmRleF9iYXNlX2ludCIsMCkmJm51bGw9PXRoaXMuaCYmdGhpcy5hLkZCSXNMaXZlVGVtcGxhdGVkPyhiPWMsYz1iLnNsaWNlKC1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigidGVtcGxhdGVkX3VzZV9wZXJmX3Rlc3Rfc2VnbWVudF9pbmRleF9iYXNlX2ludCIsCjApKSxhPW5ldyBHZChjLGIsYS5zfHwxKSk6YT1uZXcgVChjLGEuc3x8MSxiKX10aGlzLmEubWFuaWZlc3RJc0xpdmVTdHJlYW1pbmc/dGhpcy5iPW5ldyBTKGEsdGhpcy5hLHRoaXMuZyx0aGlzLm8pOnRoaXMuYj1uZXcgUihhKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuYil9O0pkLnByb3RvdHlwZS5jPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYn07SmQucHJvdG90eXBlLkVjPWZ1bmN0aW9uKGEpe3RoaXMuaD1hfTtmdW5jdGlvbiBLZCgpe3RoaXMuWD1MZCsrO3RoaXMuaWQ9dGhpcy5hYT10aGlzLk09bnVsbDt0aGlzLmE9MDt0aGlzLmhlaWdodD10aGlzLndpZHRoPXRoaXMuYmFuZHdpZHRoPW51bGw7dGhpcy5jb2RlY3M9dGhpcy5taW1lVHlwZT0iIjt0aGlzLmY9dGhpcy5mYlF1YWxpdHlDbGFzcz10aGlzLmZiUXVhbGl0eUxhYmVsPW51bGw7dGhpcy5mcmFtZVJhdGU9IiI7dGhpcy5zd2l0Y2hSZWFzb249dGhpcy5oPXRoaXMuZz10aGlzLmM9bnVsbDt0aGlzLmI9W107dGhpcy5vYT0hMTt0aGlzLmZhPSEwfXZhciBMZD0wO0tkLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5NJiYodGhpcy5NLmRlc3Ryb3koKSx0aGlzLk09bnVsbCk7dGhpcy5hYSYmKHRoaXMuYWEuZGVzdHJveSgpLHRoaXMuYWE9bnVsbCl9O2Z1bmN0aW9uIE1kKGEpe3JldHVybiBhLm1pbWVUeXBlLnNwbGl0KCIvIilbMF19CmZ1bmN0aW9uIE5kKGEpe3ZhciBiPWEubWltZVR5cGV8fCIiO2EuY29kZWNzJiYoYis9JzsgY29kZWNzPSInK2EuY29kZWNzKyciJyk7cmV0dXJuIGJ9ZnVuY3Rpb24gT2QoKXt0aGlzLlg9UGQrKzt0aGlzLmlkPW51bGw7dGhpcy5jb250ZW50VHlwZT10aGlzLmxhbmc9IiI7dGhpcy5mPXRoaXMuYj0hMTt0aGlzLmM9bnVsbDt0aGlzLnY9W107dGhpcy5hPVtdfXZhciBQZD0wO09kLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7Zm9yKHZhciBhPTA7YTx0aGlzLnYubGVuZ3RoOysrYSl0aGlzLnZbYV0uZGVzdHJveSgpO3RoaXMuYT10aGlzLnY9bnVsbH07ZnVuY3Rpb24gUWQoYSl7Zm9yKHZhciBiPVtdLGM9MDtjPGEuYS5sZW5ndGg7KytjKXt2YXIgZD1uZXcgUmQ7ZC5pZD1hLlg7ZC5hPWEuYVtjXTtkLmNvbnRlbnRUeXBlPWEuY29udGVudFR5cGU7ZC5iPWEudi5sZW5ndGg/TmQoYS52WzBdKToiIjtiLnB1c2goZCl9cmV0dXJuIGJ9CmZ1bmN0aW9uIFNkKCl7dGhpcy5pZD1udWxsO3RoaXMuc3RhcnQ9MDt0aGlzLmR1cmF0aW9uPW51bGw7dGhpcy5hPVtdfVNkLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7Zm9yKHZhciBhPTA7YTx0aGlzLmEubGVuZ3RoOysrYSl0aGlzLmFbYV0uZGVzdHJveSgpO3RoaXMuYT1udWxsfTtmdW5jdGlvbiBUZCgpe3RoaXMuQT10aGlzLmY9dGhpcy5iPSExO3RoaXMubz10aGlzLm09dGhpcy5CPTA7dGhpcy5qPXRoaXMuaT10aGlzLmM9bnVsbDt0aGlzLmc9MDt0aGlzLmE9W107dGhpcy5oPSExO3RoaXMudz0ibm9uZSI7dGhpcy51PW51bGx9VGQucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXtmb3IodmFyIGE9MDthPHRoaXMuYS5sZW5ndGg7KythKXRoaXMuYVthXS5kZXN0cm95KCk7dGhpcy5hPW51bGx9O2Z1bmN0aW9uIFJkKCl7dGhpcy5pZD0wO3RoaXMuYT1udWxsO3RoaXMuYj10aGlzLmNvbnRlbnRUeXBlPSIifTtmdW5jdGlvbiBVKGEsYixjLGQsZSxmLGcsaCxrLGwsbSxwLHQsdyl7Ri5jYWxsKHRoaXMsYSk7dGhpcy5iPWI7dGhpcy5hPWM7dGhpcy5jPW5ldyBuYihjLGQsZSxmLHRoaXMsaCx3KTt0aGlzLlBhPWg7dGhpcy5vPXt9O3RoaXMucmE9Zjt0aGlzLnlhPTA7dGhpcy5tYT10aGlzLmY9dGhpcy5nPW51bGw7dGhpcy50YT0hMTt0aGlzLnc9dGhpcy5jYT1udWxsO3RoaXMuUz0hMTt0aGlzLmphPTA7dGhpcy5rYT0hMTt0aGlzLkQ9bnVsbDt0aGlzLlo9dGhpcy5lYT10aGlzLmg9ITE7dGhpcy5PPW5ldyBJO3RoaXMuRz10aGlzLlQ9dGhpcy5CPSExO3RoaXMuUj0wO3RoaXMuZ2E9MTU7dGhpcy5HYT10aGlzLnZhPXRoaXMuVT0hMTt0aGlzLm5hPTE7dGhpcy4kPWc7dGhpcy54YT0hMTt0aGlzLmw9bnVsbDt0aGlzLkhhPSExO3RoaXMuST10aGlzLko9dGhpcy5LPW51bGw7dGhpcy5WPSExO3RoaXMudT1tfHxudWxsO3RoaXMuRj1wfHxudWxsO3RoaXMuaj10fHxudWxsO3RoaXMuWT1udWxsO3RoaXMuYmE9CiExO3RoaXMuRGE9e307dGhpcy5GYT1rO3RoaXMuaT1udWxsO3RoaXMuaWE9ITE7dGhpcy5FYT0wO3RoaXMuQ2E9ZT9lLnNwbGl0KCI7IilbMF06IiI7dGhpcy5QPSExO3RoaXMud2E9MDt0aGlzLnNhPWw7dGhpcy5BPXRoaXMubT1udWxsfXIoVSxGKTtVLnByb3RvdHlwZS5CYT1mdW5jdGlvbigpe3JldHVybntTb3VyY2VCdWZmZXJNYW5hZ2VyOnRoaXMuY319O1UucHJvdG90eXBlLmdldERlYnVnPVUucHJvdG90eXBlLkJhO2Z1bmN0aW9uIFVkKGEsYil7cmV0dXJuIG5ldyBWaWRlb1BsYXllckJpdHJhdGVFc3RpbWF0b3IobmV3IHgoYS5hLmdldE51bWJlcigibGl2ZV9iaXRyYXRlX2VzdGltYXRlc19oYWxmX2xpZmUiLDIpKSxiLGEuYS5nZXROdW1iZXIoImxpdmVfYml0cmF0ZV9lc3RpbWF0ZXNfbWluaW11bV9zYW1wbGVfY291bnQiLDEpLGEuYS5nZXROdW1iZXIoImxpdmVfYml0cmF0ZV9lc3RpbWF0ZXNfbGFyZ2Vfc2FtcGxlX3dlaWdodF9mYWN0b3IiLDEwKSl9ClUucHJvdG90eXBlLnBhPWZ1bmN0aW9uKGEpe251bGwhPWEuaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemUmJih0aGlzLlI9TnVtYmVyKGEuaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemUpKTt2YXIgYj10aGlzLmEuZ2V0TnVtYmVyKCJpbml0aWFsX3N0cmVhbV9idWZmZXJfc2l6ZV9mb3JfdmlkZW9fc3RyZWFtIiwwKTswPGImJi0xIT09dGhpcy5DYS5pbmRleE9mKCJ2IikmJih0aGlzLlI9Yik7bnVsbCE9YS5keW5hbWljU3RyZWFtQnVmZmVyU2l6ZSYmKHRoaXMuamE9TnVtYmVyKGEuZHluYW1pY1N0cmVhbUJ1ZmZlclNpemUpKTtudWxsIT1hLnNtYXJ0QnVmZmVyQWRqdXN0bWVudFBhcmFtcyYmKHRoaXMuRGE9YS5zbWFydEJ1ZmZlckFkanVzdG1lbnRQYXJhbXMpO251bGwhPWEuc21hcnRCdWZmZXJBZGp1c3RtZW50RW5hYmxlZCYmKHRoaXMuYmE9Qm9vbGVhbihhLnNtYXJ0QnVmZmVyQWRqdXN0bWVudEVuYWJsZWQpKTtudWxsIT1hLnN0cmVhbUJ1ZmZlclNpemUmJih0aGlzLmdhPU51bWJlcihhLnN0cmVhbUJ1ZmZlclNpemUpKTsKbnVsbCE9YS5maXhCdWZmZXJpbmdHb2FsRGV0ZXJtaW5hdGlvbiYmKHRoaXMuVT1Cb29sZWFuKGEuZml4QnVmZmVyaW5nR29hbERldGVybWluYXRpb24pKTtudWxsIT1hLmFkZENkbkRlYnVnUXVlcnlQYXJhbWV0ZXJzJiYodGhpcy52YT1Cb29sZWFuKGEuYWRkQ2RuRGVidWdRdWVyeVBhcmFtZXRlcnMpKTtudWxsIT1hLnVzZUluaXRpYWxCdWZmZXJTaXplV2hlblBhdXNlZCYmKHRoaXMuR2E9Qm9vbGVhbihhLnVzZUluaXRpYWxCdWZmZXJTaXplV2hlblBhdXNlZCkpO251bGwhPWEuc2VnbWVudFJlcXVlc3RUaW1lb3V0JiYodGhpcy5jLlQ9TnVtYmVyKGEuc2VnbWVudFJlcXVlc3RUaW1lb3V0KSk7bnVsbCE9YS5yZXNvbHZlVmlkZW9UaW1lVXBkYXRlT25GcmFnbWVudGVkVGltZVJhbmdlcyYmKHRoaXMueGE9Qm9vbGVhbihhLnJlc29sdmVWaWRlb1RpbWVVcGRhdGVPbkZyYWdtZW50ZWRUaW1lUmFuZ2VzKSk7bnVsbCE9YS5wZXJmb3JtYW5jZUxvZ2dlciYmKHRoaXMubD10aGlzLm8ucGVyZm9ybWFuY2VMb2dnZXI9CmEucGVyZm9ybWFuY2VMb2dnZXIpO251bGwhPWEuYWJyTG9nZ2VyJiYodGhpcy5vLmFickxvZ2dlcj1hLmFickxvZ2dlcik7bnVsbCE9YS5yZWFwcGVuZEluaXRTZWdtZW50QWZ0ZXJBYm9ydCYmKHRoaXMuby5yZWFwcGVuZEluaXRTZWdtZW50QWZ0ZXJBYm9ydD1Cb29sZWFuKGEucmVhcHBlbmRJbml0U2VnbWVudEFmdGVyQWJvcnQpKTtudWxsIT1hLmxpdmVEYXRhRmV0Y2hNYXhSZXRyaWVzJiYodGhpcy5vLmxpdmVEYXRhRmV0Y2hNYXhSZXRyaWVzPU51bWJlcihhLmxpdmVEYXRhRmV0Y2hNYXhSZXRyaWVzKSk7bnVsbCE9YS5saXZlU291cmNlQnVmZmVyQ2xlYXJNYXhSZXRyaWVzJiYodGhpcy5vLmxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXM9TnVtYmVyKGEubGl2ZVNvdXJjZUJ1ZmZlckNsZWFyTWF4UmV0cmllcykpO251bGwhPWEuc2tpcEVtcHR5U2VnbWVudHMmJih0aGlzLm8uc2tpcEVtcHR5U2VnbWVudHM9Qm9vbGVhbihhLnNraXBFbXB0eVNlZ21lbnRzKSk7bnVsbCE9CmEucGxheWhlYWRGcmFnbWVudGVkR2FwRGlmZkFsbG93YW5jZSYmKHRoaXMuby5wbGF5aGVhZEZyYWdtZW50ZWRHYXBEaWZmQWxsb3dhbmNlPU51bWJlcihhLnBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2UpKTtudWxsIT1hLnVzZU1pY3JvVGFza1RpbWVvdXRzJiYodGhpcy5IYT1Cb29sZWFuKGEudXNlTWljcm9UYXNrVGltZW91dHMpKTthPXRoaXMuYztiPXRoaXMubztudWxsIT1iLnJlYXBwZW5kSW5pdFNlZ21lbnRBZnRlckFib3J0JiYoYS5SPUJvb2xlYW4oYi5yZWFwcGVuZEluaXRTZWdtZW50QWZ0ZXJBYm9ydCkpO251bGwhPWIucGVyZm9ybWFuY2VMb2dnZXImJihhLmw9Yi5wZXJmb3JtYW5jZUxvZ2dlcik7bnVsbCE9Yi5hYnJMb2dnZXImJihhLkk9Yi5hYnJMb2dnZXIpO251bGwhPWIubGl2ZURhdGFGZXRjaE1heFJldHJpZXMmJihhLk89Yi5saXZlRGF0YUZldGNoTWF4UmV0cmllcyk7bnVsbCE9Yi5saXZlU291cmNlQnVmZmVyQ2xlYXJNYXhSZXRyaWVzJiYoYS5LPQpiLmxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXMpO251bGwhPWIucGxheWhlYWRGcmFnbWVudGVkR2FwRGlmZkFsbG93YW5jZSYmKGEuUD1iLnBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2UpO251bGwhPWIuc2tpcEVtcHR5U2VnbWVudHMmJihhLlY9Yi5za2lwRW1wdHlTZWdtZW50cyl9O1UucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXtWZCh0aGlzKTt0aGlzLk8uZGVzdHJveSgpO3RoaXMucmE9dGhpcy5nPXRoaXMuTz1udWxsO3RoaXMuYy5kZXN0cm95KCk7dGhpcy5iPXRoaXMuYz1udWxsO3RoaXMuYS5nZXRCb29sKCJmaXhpbmdfc2NoZWR1bGVyX2Rpc2FibGVfbGVha3MiLCEwKSYmKHRoaXMudT1udWxsKTt0aGlzLkphPW51bGx9O249VS5wcm90b3R5cGU7bi5XYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmd9O24uRmI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mfTsKbi5LYz1mdW5jdGlvbihhKXt0aGlzLkJ8fGEudGhlbihmdW5jdGlvbigpe3RoaXMuQj0hMDt0aGlzLnd8fFYodGhpcywwKX0uYmluZCh0aGlzKSkuY2F0Y2goZnVuY3Rpb24oKXt9KTtyZXR1cm4gdGhpcy5PfTtuLkNiPWZ1bmN0aW9uKCl7dGhpcy5HPSEwO1dkKHRoaXMpfTtuLmZiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuR307Cm4uamI9ZnVuY3Rpb24oYSxiLGMsZCxlKXtpZihhIT10aGlzLmcpe3ZhciBmPTE7dGhpcy5hLmdldEJvb2woInVzZV9saXZlX2JpdHJhdGVfZXN0aW1hdGVzIiwhMSkmJm51bGwhPT10aGlzLm0mJjA8dGhpcy5nLmJhbmR3aWR0aCYmKGY9dGhpcy5tLmdldEVzdGltYXRlKCkvdGhpcy5nLmJhbmR3aWR0aCk7dmFyIGc9YS5hYTtnJiYodGhpcy5tYT1nLmNyZWF0ZSh0aGlzLmwsdGhpcy5QYSkpO3RoaXMuWj0hMDthLk0uY3JlYXRlKCkudGhlbihKKHRoaXMsZnVuY3Rpb24oZyl7aWYodGhpcy5iKXt0aGlzLlo9ITE7dmFyIGs9dGhpcy5nO3RoaXMuZz1hO3RoaXMuYS5nZXRCb29sKCJ1c2VfbGl2ZV9iaXRyYXRlX2VzdGltYXRlcyIsITEpJiYodGhpcy5tPVVkKHRoaXMsKGEuYmFuZHdpZHRofHwwKSpmKSk7dmFyIGw9dGhpcy5mO3RoaXMuZj1nO3RoaXMuYy5EPXRoaXMuZjtsJiZsLmEuRmMoKTt1ZCh0aGlzLmYsZnVuY3Rpb24oYSl7dmFyIGI9YTt0aGlzLmomJnRoaXMuai5zZXRTZWdtZW50cyh0aGlzLmYuZ2V0U2VnbWVudHMoKSk7CnRoaXMudSYmKGE9YSYmdGhpcy5hLmdldEJvb2woIm9wdGltaXplX3N0cmVhbV9nZXRfc2VnbWVudHNfY2FsbHMiLCExKT9hOnRoaXMuZi5nZXRTZWdtZW50cygpLHRoaXMuYS5nZXRCb29sKCJ0ZW1wbGF0ZWRfdXBkYXRlX3NybV9ieV9kZWx0YV9vZl9jaGFuZ2VkX3JlZmVyZW5jZXNfYm9vbCIsITEpJiZ0aGlzLmYuSyYmYi5sZW5ndGg8dGhpcy5mLmdldFNlZ21lbnRzKCkubGVuZ3RoJiYoYT10aGlzLmYuZ2V0U2VnbWVudHMoKS5zbGljZSgtKGIubGVuZ3RoKzEpKSksWGQodGhpcyx0aGlzLmcuaWR8fCIiLGEpKX0uYmluZCh0aGlzKSk7dGhpcy5qJiZ0aGlzLmouc2V0U2VnbWVudHModGhpcy5mLmdldFNlZ21lbnRzKCkpO2lmKHRoaXMudSl7dmFyIGw9W10sbT10aGlzLmEuZ2V0TnVtYmVyKCJ0ZW1wbGF0ZWRfY2h1bmtlZF9zZWdtZW50X3VwZGF0ZV9saW1pdF9pbnQiLDApO2lmKG0pe2c9dGhpcy5mLmxlbmd0aCgpO2Zvcih2YXIgbT1NYXRoLm1pbihnLG0pLHA9MTtwPD1tOysrcClsLnB1c2godGhpcy5mLmdldChnLQpwKSl9ZWxzZSBsPWcuZ2V0U2VnbWVudHMoKTtYZCh0aGlzLGEuaWR8fCIiLGwpfXRoaXMudGE9ITA7dGhpcy5jYT1kP2Q6bnVsbDt0aGlzLlN8fCh0aGlzLmEuZ2V0Qm9vbCgibWFrZV9lYXJseV90cmFja19zZWxlY3Rpb24iLCExKSYmdGhpcy5oJiYhdGhpcy5QJiYhdGhpcy53P1YodGhpcywwKTprP2I/WWQodGhpcywhMCxjKTplJiZZZCh0aGlzLCExKTpWKHRoaXMsMCkpfX0pKS5jYXRjaChKKHRoaXMsZnVuY3Rpb24oYSl7dGhpcy5aPSExOyJhYm9ydGVkIiE9YS50eXBlJiYodGhpcy5CPyhhPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGEpKTp0aGlzLk8ucmVqZWN0KGEpKX0pKX19O24uQ2M9ZnVuY3Rpb24oYSl7cmV0dXJuIFlkKHRoaXMsISFhKX07bi5IYz1mdW5jdGlvbigpe3RoaXMua2E9ITB9O24uSmM9ZnVuY3Rpb24oYSl7dGhpcy5FYT1hfTsKZnVuY3Rpb24gWGQoYSxiLGMpe2EuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9jaHVua2VkX3NlZ21lbnRfdXBkYXRlX2xpbWl0X2ludCIsMCkmJmEudS51cGRhdGVTZWdtZW50SW5kZXgoYixhLmYpO2EuYS5nZXRCb29sKCJ1c2VfdXBkYXRlX3NlZ21lbnRzX2J5X3NoYWthX3JlZmVyZW5jZSIsITApJiZhLnUudXBkYXRlU2VnbWVudHNCeVNoYWthUmVmZXJlbmNlcyhiLGMpfQpmdW5jdGlvbiBZZChhLGIsYyl7YS5nJiYhYS5TJiYoYS5TPSEwLFZkKGEpLGEuVD0hMSxudWxsIT09YS5BJiZhLkEucmVzZXQoKSxhLmMuYWJvcnQoKS50aGVuKEooYSxmdW5jdGlvbigpe3ZhciBhPXRoaXMuYi5jdXJyZW50VGltZTt0aGlzLmEuZ2V0Qm9vbCgic2V0X2N1cnJlbnRfdGltZV9pbl9yZXN5bmMiLCExKSYmMD09YT8odGhpcy5sJiZCYW56YWlPRFMuYnVtcEVudGl0eUtleSgyOTY2LCJ2aWRlb3Mud3d3LnNoYWthIiwic2V0X2N1cnJlbnRfdGltZV9pbl9yZXN5bmMiKSxhPXRoaXMuZi5maXJzdCgpLnN0YXJ0VGltZSk6dGhpcy5hLmdldEJvb2woImJldHRlcl9zZXRfY3VycmVudF90aW1lX2luX3Jlc3luYyIsITEpJiZhPHRoaXMuZi5maXJzdCgpLnN0YXJ0VGltZSYmKEJhbnphaU9EUy5idW1wRW50aXR5S2V5KDI5NjYsInZpZGVvcy53d3cuc2hha2EiLCJzZXRfY3VycmVudF90aW1lX2luX3Jlc3luYyIpLGE9dGhpcy5mLmZpcnN0KCkuc3RhcnRUaW1lK3RoaXMuYS5nZXROdW1iZXIoInJlc3luY19zZXRfY3VycmVudF90aW1lX2Z1ZGdlX2ZhY3RvciIsCjApKTtpZighYiYmMDxyYih0aGlzLmMsYSkmJjA8PUZiKHRoaXMuYyxhKSlyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7aWYoYylyZXR1cm4gQ2IodGhpcy5jLHRoaXMuYi5jdXJyZW50VGltZStjKTt0aGlzLmlhPSEwO3JldHVybiBCYih0aGlzLmMpfSkpLnRoZW4oSihhLGZ1bmN0aW9uKCl7dGhpcy5TPSExO1YodGhpcywwKX0pKS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7dGhpcy5TPSExOyJhYm9ydGVkIiE9YS50eXBlJiYodGhpcy5CPyhhPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGEpKTp0aGlzLk8ucmVqZWN0KGEpKX0pKSl9bi5JYz1mdW5jdGlvbihhKXtyZXR1cm4gMDxyYih0aGlzLmMsYSkmJjA8PUZiKHRoaXMuYyxhKX07bi52Yj1mdW5jdGlvbigpe307bi5EYj1mdW5jdGlvbigpe3JldHVybiEwfTsKZnVuY3Rpb24gWmQoYSl7YS5lYT1hLmVhfHwhYS5iLnBhdXNlZDthLmIucGF1c2VkfHxhLmJhfHwoYS5ZPURhdGUubm93KCksYS5iYT0hMCk7dmFyIGI9YS5EYSxjPW51bGw7aWYoYi5pbkV4cGVyaW1lbnQpaWYoYi51c2VTbWFydEJ1ZmZlcmluZyl7aWYoYS5iYSYmYS5ZKXt2YXIgYz0oRGF0ZS5ub3coKS1hLlkpLzFFMyxkPW51bGw7MT5jP2M9bnVsbDooZD0zPmM/Yi5idWZmZXJTaXplXzAwX3RvXzAzOjEwPmM/Yi5idWZmZXJTaXplXzAzX3RvXzEwOjMwPmM/Yi5idWZmZXJTaXplXzEwX3RvXzMwOjYwPmM/Yi5idWZmZXJTaXplXzMwX3RvXzYwOmIuYnVmZmVyU2l6ZV9hYm92ZV82MCxjPU1hdGgubWluKGQsYS5iLmR1cmF0aW9uKSl9fWVsc2UgYS5ZJiYoYz1iLm5vblNtYXJ0QnVmZmVyU2l6ZSk7Y3x8KGM9YS5HYSYmYS5iLnBhdXNlZD9hLlI6YS5nYSxhLmIucGF1c2VkJiYxPGEubmEmJihjKj1hLm5hKSxhLmphJiYhYS5iLnBhdXNlZCYmKGM9TWF0aC5tYXgoTWF0aC5taW4oYS5mLmxhc3QoKS5lbmRUaW1lLQphLmIuY3VycmVudFRpbWUsYS5qYSksYS5nYSkpKTtjPShhLlU/YS5oJiZhLmVhOmEuaCk/TWF0aC5tYXgoYS5SLGMpOmEuUjswPGEuYS5nZXROdW1iZXIoImF1ZGlvX3ZpZGVvX2J1ZmZlcl9kaWZmX3RocmVzaG9sZCIsMTQ0MDApJiYoYj1hLmIuYnVmZmVyZWQubGVuZ3RoP2EuYi5idWZmZXJlZC5lbmQoYS5iLmJ1ZmZlcmVkLmxlbmd0aC0xKTowLGI9TWF0aC5tYXgoMCxiLWEuYi5jdXJyZW50VGltZSksYz1NYXRoLm1pbihjLGIrYS5hLmdldE51bWJlcigiYXVkaW9fdmlkZW9fYnVmZmVyX2RpZmZfdGhyZXNob2xkIiwxNDQwMCkpKTtyZXR1cm4gY30KZnVuY3Rpb24gJGQoYSl7dmFyIGI9YS5hLmdldE51bWJlcigic3RhcnRfc3RyZWFtX2J1ZmZlcl9zaXplIiwxKSxjPWEuYS5nZXROdW1iZXIoImxvd19zdGFydF9zdHJlYW1fYnVmZmVyX3NpemUiLDEpO2lmKGIhPT1jKXt2YXIgZD1hLmEuZ2V0TnVtYmVyKCJsb3dfYmFuZHdpZHRoX3N0YXJ0X3N0cmVhbV9idWZmZXJfc2l6ZV90aHJlc2hvbGQiLDApLGU9YS5hLmdldE51bWJlcigic2NoZWR1bGVkX3ZpZGVvc19zdGFydF9zdHJlYW1fYnVmZmVyX3NpemVfdGhyZXNob2xkIiwwKTtpZigwPGQmJmEucmEuZ2V0QmFuZHdpZHRoKCk8ZCYmVmlkZW9TdHJlYW1pbmdUYXNrUXVldWVQcm92aWRlci5nZXRRdWV1ZVNpemUoInZpZGVvIik+PWUpcmV0dXJuIGN9cmV0dXJuIGJ9ZnVuY3Rpb24gYWUoYSxiKXtyZXR1cm4gcmIoYS5jLGEuaD9iOmIrKGEuRHx8MCkpfQpmdW5jdGlvbiBiZShhKXtpZihhLmgmJiFhLkJ8fGEuYS5nZXRCb29sKCJtYWtlX2Vhcmx5X3RyYWNrX3NlbGVjdGlvbiIsITEpJiZhLlp8fGEuYS5nZXRCb29sKCJwcmV2ZW50X2ZldGNoX3doaWxlX2ZldGNoaW5nX2luX3N0cmVhbSIsITEpJiZhLlApcmV0dXJuIGEudz1udWxsLFByb21pc2UucmVzb2x2ZSgpO3ZhciBiO2lmKGI9YS5CJiYhYS5HKWI9MTxhLmMuYS5idWZmZXJlZC5sZW5ndGg/ITA6ITE7aWYoYiYmKGEua2F8fEhiKGEuYyxhLmIpKSlyZXR1cm4gYS54YSYmKGEuYi5jdXJyZW50VGltZT1HYihhLmIpKSxudWxsPT09YS5LJiYoYS5rYT0hMSxZZChhLCEwKSksUHJvbWlzZS5yZXNvbHZlKCk7YS5hLmdldE51bWJlcigiZGVjb3VwbGVfc3RyZWFtX29uX3VwZGF0ZV9sb29wX2Zyb21fcmVxdWVzdF9sb29wX2ludCIsMCl8fChhLnc9bnVsbCk7Yj1hLmc7dmFyIGM9YS5mLGQ9YS5iLmN1cnJlbnRUaW1lO2EuYS5nZXRCb29sKCJ1c2VfcGVuZGluZ19zZWVrX3Bvc2l0aW9uX2Zvcl9yZWZlcmVuY2UiLAohMSkmJjA9PT1hLmIucmVhZHlTdGF0ZSYmIWQmJmEuSiYmKGQ9YS5KKTtpZihhLlUmJiFhLmgmJmFlKGEsZCk+PSRkKGEpKXJldHVybiBhLmEuZ2V0Qm9vbCgiZml4X2Nocm9tZV9tc2VfcmVncmVzc2lvbiIsITEpJiYxPT09YS5iLnJlYWR5U3RhdGUmJjA8YS5iLmJ1ZmZlcmVkLmxlbmd0aCYmKGEuYi5jdXJyZW50VGltZT1hLmIuY3VycmVudFRpbWUpLGNlKGEpLFYoYSwwKSxQcm9taXNlLnJlc29sdmUoKTt2YXIgZT1udWxsLGY9W107bnVsbCE9PWEuSyYmKGQ9YS5LKTtpZihhZShhLGQpPj1aZChhKSlpZihhLlQ9ITAsbnVsbCE9PWEuSSYmYS5JLnJlc29sdmUoKSxhLlV8fGNlKGEpLGY9ZGUoYSk/amUoYSxkKTpbXSwwPGYubGVuZ3RoKWU9ZlswXTtlbHNlIHJldHVybiBWKGEsMUUzLyg1KihNYXRoLmFicyhhLmIucGxheWJhY2tSYXRlKXx8MSkpKSxQcm9taXNlLnJlc29sdmUoKTtlbHNle3ZhciBnPTE7YS5qJiYoZz1hLmouZ2V0TnVtYmVyT2ZTZWdtZW50cygpKTt2YXIgaD1xYihhLmMpOwphLlYmJihoPW51bGwsbnVsbCE9PWEuSyYmKGEuVj0hMSkpO2EuYS5nZXRCb29sKCJmaW5kX2xhc3RfaW5zZXJ0ZWRfc2VnbWVudF9pbl9zZWdtZW50X2luZGV4IiwhMSkmJmgmJiFjLmEuYSYmKGg9Yy5maW5kKGguc3RhcnRUaW1lKSk7YS5hLmdldEJvb2woInNldF9wZW5kaW5nX3NlZWtfb25fc2V0X2N1cnJlbnRfdGltZV9mYWlsdXJlIiwhMSkmJm51bGwhPWEuSiYmKGQ9YS5KLGEuSj1udWxsKTtnPWtlKGEsZCxjLGcsaCk7ZT1nWzBdO2EuaiYmKGEuai5zZXRGdXR1cmVTZWdtZW50cyhnKSxhLmouc2V0QnVmZmVyaW5nR29hbChaZChhKS1hZShhLGQpKSk7IWUmJmRlKGEpJiYoZj1qZShhLGQpLDA8Zi5sZW5ndGgmJihlPWZbMF0pKX1pZighZSlyZXR1cm4gY2UoYSksYS5CJiYhYS5HJiYoYS5HPSEwLFdkKGEpKSxWKGEsMjAwKSxQcm9taXNlLnJlc29sdmUoKTthLmEuZ2V0Qm9vbCgiY3JlYXRlX293bl9zZWdtZW50X3JlZmVyZW5jZV9mb3Jfc2JtIiwhMSkmJihlPWpkKGUsZS5zdGFydFRpbWUsCmUuZW5kVGltZSkpO2xlKGEsbWUoYSxkLGYpLGIuaWR8fCIiKTtuZShhLG1lKGEsZCxmKSk7YS5hLmdldEJvb2woInJlZnJlc2hfc2VnbWVudF9yZWZlcmVuY2VfZmFpbG92ZXJfdXJpIiwhMCkmJihlLnVybD1lLnVybC5jbG9uZSgpKTthLlA9ITA7YS53YT1EYXRlLm5vdygpOyJ2aWRlbyI9PT1iLm1pbWVUeXBlLnNwbGl0KCIvIilbMF0mJmEucmEuc2V0UmVwcmVzZW50YXRpb25JRChiLmlkKTtjPWEuYy5mZXRjaChlLGMucyxiLmErYS5FYSxhLm1hLGEudmEmJiFhLmIucGF1c2VkLDA8Zi5sZW5ndGgsYS51LGEuRik7Yz1jLnRoZW4oSihhLGZ1bmN0aW9uKGEpe3RoaXMuYS5nZXRCb29sKCJ1cGRhdGVzX3ByaW9yaXR5X29uX2ZldGNoX2NvbXBsZXRlIiwhMSkmJm5lKHRoaXMsbWUodGhpcyxkLFtdKSk7dGhpcy5zYS5pbmZvcm1OZXR3b3JrUmVzdW1lZCgpO3JldHVybiBhfSkpO2EuJCYmInZpZGVvIj09PWIubWltZVR5cGUuc3BsaXQoIi8iKVswXSYmYS4kLmFkZChlLnN0YXJ0VGltZXx8CjAsZS5lbmRUaW1lfHwwLHtpZDpiLmlkLHJlYXNvbjphLmNhLHBlcmZvcm1hbmNlTG9nZ2VyOmEubD9hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJzdHJlYW1fc3dpdGNoIik6bnVsbH0pO2EubWE9bnVsbDthLnRhJiYoYS50YT0hMSxmPWEuY2EsYS5jYT1udWxsLG9lKGEsYixmLGEubGEoKSkpO2EuRz0hMTtyZXR1cm4gYy50aGVuKEooYSxmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5hLmdldEJvb2woImNsZWFyX29sZF9idWZmZXIiLCExKT9FYih0aGlzLmMsdGhpcy5iLmN1cnJlbnRUaW1lKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGF9KTphfSkpLnRoZW4oSihhLGZ1bmN0aW9uKGEpe3ZhciBiPWEuVyxjPWEuV2M7dGhpcy5ofHwodGhpcy55YT1jKTt0aGlzLmEuZ2V0Qm9vbCgidXNlX2xpdmVfYml0cmF0ZV9lc3RpbWF0ZXMiLCExKSYmbnVsbCE9YSYmMDxhLkRjJiYwPGEuSCYmKG51bGw9PT10aGlzLm0mJih0aGlzLm09VWQodGhpcyx0aGlzLmcuYmFuZHdpZHRofHwwKSksdGhpcy5tLnNhbXBsZSg4KgphLkRjLGEuSCkpO2E9dGhpcy5hLmdldE51bWJlcigiYnVmZmVyX3ZlbG9jaXR5X3RpbWVfaW5fcGFzdF90b19jb25zaWRlciIsMCk7MDxhJiZudWxsIT09dGhpcy5nJiYidmlkZW8iPT09TWQodGhpcy5nKSYmKG51bGw9PT10aGlzLkEmJih0aGlzLkE9bmV3IEJ1ZmZlclZlbG9jaXR5KGEpKSx0aGlzLkEucmVjb3JkQnVmZmVyQWhlYWQocmIodGhpcy5jLHRoaXMuYi5jdXJyZW50VGltZSkpKTt0aGlzLlA9ITE7InZpZGVvIj09PSh0aGlzLmc/dGhpcy5nLm1pbWVUeXBlLnNwbGl0KCIvIilbMF06bnVsbCkmJnRoaXMuZGlzcGF0Y2hFdmVudCh5KHt0eXBlOiJmZXRjaF9lbmQiLGJ1YmJsZXM6ITAsZGV0YWlsOntzdHJlYW1fZmV0Y2hfdGltZV9tczpEYXRlLm5vdygpLXRoaXMud2Esc2VnbWVudF9sZW5ndGhfbXM6MUUzKihlLmVuZFRpbWUtZS5zdGFydFRpbWUpfX0pKTtudWxsPT10aGlzLkQmJih0aGlzLkQ9Yik7dGhpcy5pYSYmMDxyYih0aGlzLmMsZCkmJih0aGlzLmlhPSExLHRoaXMuYS5nZXRCb29sKCJkaXNhYmxlX251ZGdlIiwKITEpfHwoYj15KHt0eXBlOiJzaG91bGRfbnVkZ2UifSksdGhpcy5kaXNwYXRjaEV2ZW50KGIpKSk7Vih0aGlzLDApfSkpLmNhdGNoKEooYSxmdW5jdGlvbihhKXt0aGlzLlA9ITE7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfSkpfWZ1bmN0aW9uIG1lKGEsYixjKXt2YXIgZD1hLmg/YjpiKyhhLkR8fDApO3JldHVybnthZGRpdGlvbmFsU2VnbWVudHNSZXF1aXJlZDpjLHBsYXloZWFkOmIsYnVmZmVyU3RhcnQ6ZCxidWZmZXJFbmQ6YWUoYSxiKStkLGJ1ZmZlcmluZ0dvYWw6WmQoYSksaXNQbGF5aW5nOiFhLmIucGF1c2VkfX1mdW5jdGlvbiBsZShhLGIsYyl7YS51JiZhLnUudXBkYXRlUGxheWVyU3RhdGUoYyxiKX1mdW5jdGlvbiBuZShhLGIpe2EuRiYmYS5GLnVwZGF0ZVBsYXllclN0YXRlKGIpfQpmdW5jdGlvbiBwZShhLGIsYyl7dmFyIGQ9bnVsbCE9PWEuaSYmLTE8YS5pJiZhLmk8Yy5sZW5ndGgoKS0xP2MuZ2V0KGEuaSk6bnVsbCxlPW51bGw7aWYobnVsbD09PWEuaXx8IWR8fGQuc3RhcnRUaW1lPmIpcmV0dXJuIGU9Yy5maW5kSW5kZXgoYiksYS5pPWU7Zm9yKGQ9YS5pO2Q8PWEuaSsxO2QrKylpZihlPWMuZ2V0KGQpLGUuc3RhcnRUaW1lPD1iJiZlLmVuZFRpbWU+YilyZXR1cm4gYS5pPWQ7ZT1jLmZpbmRJbmRleChiKTtyZXR1cm4oYS5pPWUpfHwtMX1mdW5jdGlvbiBkZShhKXtyZXR1cm4gYS5hLmdldEJvb2woInJlcGxhY2VfbG93ZXJfcXVhbGl0eV9idWZmZXIiLCExKSYmbnVsbD09PWEuRiYmYS5lYSYmbnVsbCE9PWEuJCYmInZpZGVvIj09PU1kKGEuZykmJm51bGwhPT1hLmZ9CmZ1bmN0aW9uIGplKGEsYil7aWYoIWEuRmF8fCFhLmcuaWR8fCFhLmYpcmV0dXJuW107dmFyIGM9cGUoYSxiLGEuZik7cmV0dXJuLTE9PT1jP1tdOkJ1ZmZlclJlcGxhY2VtZW50SGVscGVyLmdldFNlZ21lbnRzVG9SZXBsYWNlTG93ZXJRdWFsaXR5KGEuZi5nZXRTZWdtZW50cygpLGIsYyxhLmcuaWQsYS5GYSxhLiQse3RocmVzaG9sZEJlZm9yZTphLmEuZ2V0TnVtYmVyKCJidWZmZXJfcmVwbGFjZW1lbnRfYmVoaW5kX3RocmVzaG9sZCIsNSksdGhyZXNob2xkQWZ0ZXI6YS5hLmdldE51bWJlcigiYnVmZmVyX3JlcGxhY2VtZW50X2FoZWFkX3RocmVzaG9sZCIsMTUpLHdyYXBSZXBsYWNlbWVudFBhc3RFbmQ6YS5hLmdldEJvb2woIndyYXBfcmVwbGFjZW1lbnRfcGFzdF9lbmQiLCExKX0pfQpuLnpjPWZ1bmN0aW9uKCl7dmFyIGE7aWYodGhpcy5sKXt2YXIgYj10aGlzLmEuZ2V0TnVtYmVyKCJzdHJlYW1fb251cGRhdGVfc2FtcGxpbmciLDApO2ImJjA9PT1NYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqYikmJihhPXRoaXMubC5nZXRPcGVyYXRpb25Mb2dnZXIoInN0cmVhbV9vbnVwZGF0ZSIpLnN0YXJ0KCkpfXZhciBjO3RoaXMuYS5nZXROdW1iZXIoImRlY291cGxlX3N0cmVhbV9vbl91cGRhdGVfbG9vcF9mcm9tX3JlcXVlc3RfbG9vcF9pbnQiLDApJiZWKHRoaXMsdGhpcy5hLmdldE51bWJlcigiZGVjb3VwbGVfc3RyZWFtX29uX3VwZGF0ZV9sb29wX2Zyb21fcmVxdWVzdF9sb29wX2ludCIsMCkpO2lmKHRoaXMuYS5nZXRCb29sKCJjYXRjaF9zdHJlYW1fdXBkYXRlX3N5bmNfY29kZV9lcnJvciIsITEpKXRyeXtjPWJlKHRoaXMpfWNhdGNoKGQpe2QudHlwZT0idW5jYXVnaHQiLGEmJmEuc2V0RXJyb3IoZCksYz1Qcm9taXNlLnJlamVjdChkKX1lbHNlIGM9YmUodGhpcyk7Yy5jYXRjaChKKHRoaXMsCmZ1bmN0aW9uKGEpe2lmKCJhYm9ydGVkIiE9YS50eXBlKXtpZigic291cmNlYnVmZmVyX2Z1bGwiPT09YS50eXBlKXJldHVybiBCYih0aGlzLmMpLnRoZW4oSih0aGlzLGZ1bmN0aW9uKCl7Vih0aGlzLDApfSkpO3ZhciBiPVswLDQwNCw0MTAsNTAyLDUwMyw1MDRdO3RoaXMuYS5nZXRCb29sKCJlbmFibGVfZG91YmxlX2luZ2VzdCIsITEpJiZiLnB1c2goNDE3LDIwMCk7Yj0tMT09PWIuaW5kZXhPZihhLnN0YXR1cyk7aWYoIm5ldCI9PT1hLnR5cGUmJiFiJiZ0aGlzLmcpaWYodGhpcy5hLmdldEJvb2woImFsbG93X2luZmluaXRlX3JldHJ5X29uX25ldF9lcnIiLCEwKSlzd2l0Y2goYS5zdGF0dXMpe2Nhc2UgNDA0OlYodGhpcywyRTMpO2JyZWFrO2Nhc2UgNDEwOnRoaXMuYS5nZXRCb29sKCJlbmRfYWxsX3N0cmVhbXNfb25fNDEwIiwhMSk/cWUodGhpcyk6dGhpcy5DYigpO2JyZWFrO2Nhc2UgNDE3OmNhc2UgMjAwOmEucmVzcG9uc2VIZWFkZXJzJiZudWxsIT1hLnJlc3BvbnNlSGVhZGVyc1sieC1mYi12aWRlby1yZXBsaWNhIl0/CnRoaXMuZGlzcGF0Y2hFdmVudCh5KHt0eXBlOiJyZXBsaWNhc3dpdGNoIixidWJibGVzOiEwLHJlcGxpY2E6YS5yZXNwb25zZUhlYWRlcnNbIngtZmItdmlkZW8tcmVwbGljYSJdLHVybDphLnVybCxzdGF0dXM6YS5zdGF0dXN9KSk6Yj0hMDticmVhaztkZWZhdWx0OlYodGhpcywxRTMpfWVsc2UgVih0aGlzLDFFMyksYj0hMDswPT09YS5zdGF0dXM/dGhpcy5zYS5pbmZvcm1OZXR3b3JrSW50ZXJydXB0ZWQoKTp0aGlzLnNhLmluZm9ybU5ldHdvcmtSZXN1bWVkKCk7aWYoIXRoaXMuYS5nZXRCb29sKCJhbGxvd19pbmZpbml0ZV9yZXRyeV9vbl9uZXRfZXJyIiwhMCl8fGIpYj1BKGEpLHRoaXMuZGlzcGF0Y2hFdmVudChiKSx0aGlzLmwmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgYj10aGlzLmwuZ2V0RXZlbnRMb2dnZXIoInN0cmVhbV9lcnJvcl9mYWxsYmFjayIpLnNldEVycm9yKGEpLnNldFR5cGUodGhpcy5DYS5zcGxpdCgiLyIpWzBdKTt0aGlzLmI/Yi5zZXRSZXN1bHQoImZhaWxlZCIpOgpiLnNldFJlc3VsdCgic3VjY2VzcyIpO2IubG9nKCl9LmJpbmQodGhpcyksMCl9fSkpO2EmJmEubG9nKCl9O2Z1bmN0aW9uIGtlKGEsYixjLGQsZSl7dmFyIGY9LTE7aWYoYS5hLmdldEJvb2woInRlbXBsYXRlZF9mYXN0ZXJfc3RyZWFtX2dldF9uZXh0X24iLCExKSYmMT09PWQmJm51bGwhPWUmJm51bGwhPWUuZW5kVGltZSlyZXR1cm4oYz1jLmZpbmQoZS5lbmRUaW1lKSk/W2NdOltdO251bGwhPWU/Zj1udWxsIT1lLmVuZFRpbWU/Yy5maW5kSW5kZXgoZS5lbmRUaW1lKTotMTooZj1wZShhLGIsYyksMD5mJiYoZj1jLmxlbmd0aCgpP2MubGVuZ3RoKCktMTotMSkpO2E9W107aWYoMDw9Zilmb3IoYj1mO2I8ZitkJiZiPGMubGVuZ3RoKCk7YisrKWEucHVzaChjLmdldChiKSk7cmV0dXJuIGF9CmZ1bmN0aW9uIGNlKGEpe2lmKCFhLmgmJm51bGwhPWEuRCl7YS5oPSEwO3ZhciBiPWEuYyxjPWEuRCxkPWMtYi5VOzAhPWQmJihiLmI9a2QoYi5iLGQpLGIuVT1jKTthLk8ucmVzb2x2ZShhLkQpfX1uLkVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaH07VS5wcm90b3R5cGUuaGFzU3RhcnRlZD1VLnByb3RvdHlwZS5FZDtVLnByb3RvdHlwZS5rYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLlR9O1UucHJvdG90eXBlLmhhc0hpdEJ1ZmZlcmluZ0dvYWw9VS5wcm90b3R5cGUua2I7VS5wcm90b3R5cGUubGE9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09PXRoaXMubT9udWxsOnRoaXMubS5nZXRFc3RpbWF0ZSgpfTtVLnByb3RvdHlwZS5nZXRCaXRyYXRlRXN0aW1hdGU9VS5wcm90b3R5cGUubGE7VS5wcm90b3R5cGUucWI9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09PXRoaXMuQT9udWxsOnRoaXMuQS5nZXRWZWxvY2l0eSgpfTtVLnByb3RvdHlwZS5nZXRCdWZmZXJWZWxvY2l0eT1VLnByb3RvdHlwZS5xYjsKZnVuY3Rpb24gb2UoYSxiLGMsZCl7dmFyIGU9Yi5taW1lVHlwZS5zcGxpdCgiLyIpWzBdO2I9eSh7dHlwZToiYWRhcHRhdGlvbiIsaWQ6Yi5pZCxidWJibGVzOiEwLGNvbnRlbnRUeXBlOmUsc2l6ZToidmlkZW8iIT1lP251bGw6e3dpZHRoOmIud2lkdGgsaGVpZ2h0OmIuaGVpZ2h0fSxiYW5kd2lkdGg6ZHx8Yi5iYW5kd2lkdGgscmVhc29uOmN9KTthLmRpc3BhdGNoRXZlbnQoYil9ZnVuY3Rpb24gcWUoYSl7dmFyIGI9eSh7dHlwZToic2hvdWxkX2VuZF9hbGxfc3RyZWFtcyJ9KTthLmRpc3BhdGNoRXZlbnQoYil9ZnVuY3Rpb24gV2QoYSl7dmFyIGI9eSh7dHlwZToiZW5kZWQifSk7YS5kaXNwYXRjaEV2ZW50KGIpfVUucHJvdG90eXBlLk9hPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuRn07VS5wcm90b3R5cGUuZ2V0VmlkZW9TdHJlYW1pbmdNYW5hZ2VyPVUucHJvdG90eXBlLk9hOwpmdW5jdGlvbiBWKGEsYil7VmQoYSk7IWImJmEuSGE/UHJvbWlzZS5yZXNvbHZlKCkudGhlbihhLnpjLmJpbmQoYSkpOmEudz1zZXRUaW1lb3V0KGEuemMuYmluZChhKSxiKX1mdW5jdGlvbiBWZChhKXtudWxsIT1hLncmJihjbGVhclRpbWVvdXQoYS53KSxhLnc9bnVsbCl9VS5wcm90b3R5cGUuc2I9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy55YX07VS5wcm90b3R5cGUuZ2I9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jLml9O1UucHJvdG90eXBlLmdldFN0cmVhbVByb2dyZXNzVHJhY2tlcj1VLnByb3RvdHlwZS5nYjtmdW5jdGlvbiByZShhLGIpe2EuSz1iO2EuVj0hMDthLkl8fChhLkk9bmV3IEkpO3JldHVybiBhLkl9O2Z1bmN0aW9uIHNlKGEpe3RoaXMuYj1hO3RoaXMuYT1udWxsfXNlLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5hJiYodGhpcy5hLmRlc3Ryb3koKSx0aGlzLmE9bnVsbCl9O3NlLnByb3RvdHlwZS5jcmVhdGU9ZnVuY3Rpb24oKXtpZih0aGlzLmEpcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLmEpO3ZhciBhPW5ldyBpZCgwLG51bGwsdGhpcy5iLDAsMCksYT1uZXcgVChbYV0sMSk7dGhpcy5hPW5ldyBSKGEpO3JldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5hKX07c2UucHJvdG90eXBlLmM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hfTtmdW5jdGlvbiB0ZShhLGIpe0YuY2FsbCh0aGlzLGEpO3RoaXMuYj1iO3RoaXMuaj0hMDt0aGlzLm09dGhpcy5nPW51bGw7dGhpcy5mPW5ldyBJO3RoaXMuYT1udWxsfXIodGUsRik7dGUucHJvdG90eXBlLnBhPWZ1bmN0aW9uKCl7fTt0ZS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuYSYmdGhpcy5iLnJlbW92ZUNoaWxkKHRoaXMuYSk7dGhpcy5mLmRlc3Ryb3koKTt0aGlzLkphPXRoaXMuYj10aGlzLmc9dGhpcy5tPXRoaXMuYT10aGlzLmY9bnVsbH07bj10ZS5wcm90b3R5cGU7bi5XYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmd9O24uRmI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tfTtuLktjPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZn07bi5mYj1mdW5jdGlvbigpe3JldHVybiEwfTtuLkNiPWZ1bmN0aW9uKCl7fTsKbi5qYj1mdW5jdGlvbihhKXthLk0uY3JlYXRlKCkudGhlbihKKHRoaXMsZnVuY3Rpb24oYil7aWYodGhpcy5iKXtpZigwPT1iLmxlbmd0aCgpKXJldHVybiBQcm9taXNlLnJlamVjdChFcnJvcigiTm8gc3VidGl0bGVzIFVSTCBhdmFpbGFibGUuIikpO3ZhciBjPXRoaXMuZzt0aGlzLmc9YTt0aGlzLm09YjtiPWIuZmlyc3QoKS51cmwuY1swXS50b1N0cmluZygpO3ZhciBkPXRoaXMuRGIoKTt0aGlzLmEmJih0aGlzLnZiKCExKSx0aGlzLmIucmVtb3ZlQ2hpbGQodGhpcy5hKSk7dGhpcy5hPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRyYWNrIik7dGhpcy5iLmFwcGVuZENoaWxkKHRoaXMuYSk7dGhpcy5hLnNyYz1iO3RoaXMudmIoZCk7Yj15KHt0eXBlOiJhZGFwdGF0aW9uIixidWJibGVzOiEwLGNvbnRlbnRUeXBlOiJ0ZXh0IixzaXplOm51bGwsYmFuZHdpZHRoOmEuYmFuZHdpZHRofSk7dGhpcy5kaXNwYXRjaEV2ZW50KGIpO2N8fHRoaXMuZi5yZXNvbHZlKDApfX0pKX07bi5DYz1mdW5jdGlvbigpe307Cm4uSGM9ZnVuY3Rpb24oKXt9O24uSWM9ZnVuY3Rpb24oKXtyZXR1cm4hMH07bi52Yj1mdW5jdGlvbihhKXt0aGlzLmo9YTt0aGlzLmEmJih0aGlzLmEudHJhY2subW9kZT1hPyJzaG93aW5nIjoiZGlzYWJsZWQiKX07bi5EYj1mdW5jdGlvbigpe3RoaXMuYSYmKHRoaXMuaj0ic2hvd2luZyI9PXRoaXMuYS50cmFjay5tb2RlKTtyZXR1cm4gdGhpcy5qfTtuLnNiPWZ1bmN0aW9uKCl7cmV0dXJuIDB9O24uSmM9ZnVuY3Rpb24oKXt9O2Z1bmN0aW9uIHVlKCl7fQp1ZS5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9bnVsbDt0cnl7dmFyIGY7dmFyIGc9bmV3IElhKGIpO2lmKDQ0MDc4Njg1MSE9S2EoZykuaWQpZj1udWxsO2Vsc2V7dmFyIGg9S2EoZyk7aWYoNDA4MTI1NTQzIT1oLmlkKWY9bnVsbDtlbHNle3ZhciBrPWguYS5ieXRlT2Zmc2V0LGw7dmFyIG09bmV3IElhKGguYSk7Zm9yKGI9bnVsbDtEYShtLmEpOyl7dmFyIHA9S2EobSk7aWYoMzU3MTQ5MDMwPT1wLmlkKXtiPXA7YnJlYWt9fWlmKGIpe2Zvcih2YXIgdD1uZXcgSWEoYi5hKSxwPTFFNixtPW51bGw7RGEodC5hKTspe3ZhciB3PUthKHQpO2lmKDI4MDc3Mjk9PXcuaWQpcD1PYSh3KTtlbHNlIGlmKDE3NTQ1PT13LmlkKWlmKGI9dyw0PT1iLmEuYnl0ZUxlbmd0aCltPWIuYS5nZXRGbG9hdDMyKDApO2Vsc2UgaWYoOD09Yi5hLmJ5dGVMZW5ndGgpbT1iLmEuZ2V0RmxvYXQ2NCgwKTtlbHNlIHRocm93IG5ldyBSYW5nZUVycm9yKCJFYm1sRWxlbWVudDogZmxvYXRpbmcgcG9pbnQgbnVtYmVycyBtdXN0IGJlIDQgb3IgOCBieXRlcy4iKTt9bnVsbD09Cm0/bD1udWxsOih0PXAvMUU5LGw9e0diOnQsZHVyYXRpb246bSp0fSl9ZWxzZSBsPW51bGw7Zj1sP3tBZDprLEdiOmwuR2IsZHVyYXRpb246bC5kdXJhdGlvbn06bnVsbH19aWYoZil7dmFyIHo9S2EobmV3IElhKGEpKTtpZig0NzUyNDk1MTUhPXouaWQpZT1udWxsO2Vsc2V7dmFyIEg9Zi5BZCxkYT1mLkdiLGVhPWYuZHVyYXRpb247YT1bXTtmb3IodmFyIEFhPW5ldyBJYSh6LmEpLGs9Zj16PS0xO0RhKEFhLmEpOyl7dmFyIGNiPUthKEFhKTtpZigxODc9PWNiLmlkKXt2YXIgbmE7dmFyIHZkPW5ldyBJYShjYi5hKSx3ZD1LYSh2ZCk7aWYoMTc5IT13ZC5pZCluYT1udWxsO2Vsc2V7dmFyIFllPU9hKHdkKSx4ZD1LYSh2ZCk7aWYoMTgzIT14ZC5pZCluYT1udWxsO2Vsc2V7dmFyIGVlPW5ldyBJYSh4ZC5hKTtmb3IobD0wO0RhKGVlLmEpOyl7dmFyIGZlPUthKGVlKTtpZigyNDE9PWZlLmlkKXtsPU9hKGZlKTticmVha319bmE9e3piOlllLHlkOmx9fX1pZihuYSl7dmFyIGdlPWRhKm5hLnpiLApoZT1IK25hLnlkO2lmKDA8PXope3ZhciBOYz1uZXcgSyhkLGMsayxoZS0xKSxBZj1uYS56Yi1mO2EucHVzaChuZXcgaWQoeixnZSxOYyxuYS56YixBZikpfXo9Z2U7Zj1uYS56YjtrPWhlfX19MDw9eiYmKE5jPW5ldyBLKGQsYyxrLG51bGwpLGEucHVzaChuZXcgaWQoeixlYSxOYyxmLGVhL2RhLWYpKSk7ZT1hfX1lbHNlIGU9bnVsbH1jYXRjaChpZSl7aWYoIShpZSBpbnN0YW5jZW9mIFJhbmdlRXJyb3IpKXRocm93IGllO31yZXR1cm4gZX07ZnVuY3Rpb24gdmUoYSxiLGMsZCxlLGYsZyxoLGssbCxtKXt0aGlzLmg9YTt0aGlzLm89Yjt0aGlzLmI9Yzt0aGlzLm09bHx8bnVsbDt0aGlzLmo9bXx8bnVsbDt0aGlzLmE9ZDt0aGlzLmc9ZTt0aGlzLmY9Zjt0aGlzLnc9Zzt0aGlzLlJhPW51bGw7dGhpcy5pPWg7dGhpcy5sPWt8fG51bGw7dGhpcy51PW51bGx9dmUucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmk9dGhpcy5vPXRoaXMuaD1udWxsO3RoaXMuYS5LYSgpO3RoaXMuYT1udWxsO3RoaXMuZiYmKHRoaXMuZi5LYSgpLHRoaXMuZj1udWxsKTt0aGlzLmcmJih0aGlzLmcuS2EoKSx0aGlzLmc9bnVsbCk7dGhpcy5SYT1udWxsfTt2ZS5wcm90b3R5cGUuUWM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5SYX07dmUucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbigpe3JldHVybiB3ZSh0aGlzKX07dmUucHJvdG90eXBlLnBiPWZ1bmN0aW9uKCl7cmV0dXJuIHdlKHRoaXMpfTsKZnVuY3Rpb24gd2UoYSl7aWYoYS5SYSlyZXR1cm4gYS5SYTt2YXIgYj1udWxsO2EubCYmKGI9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigiY3JlYXRlX2NvbnRhaW5lcl9zZWdtZW50X2luZGV4X3NvdXJjZSIpLnN0YXJ0KCkpO2lmKG51bGwhPT1hLm0mJihudWxsIT09YS5qfHwid2VibSIhPT1hLmIpKXJldHVybiB4ZShhLGEubSxhLmosYik7dmFyIGM9W2EuYS5mZXRjaChudWxsLG51bGwsYS5sLGIpXTsid2VibSI9PWEuYiYmYy5wdXNoKGEuZy5mZXRjaChudWxsLG51bGwsYS5sLGIpKTthLlJhPVByb21pc2UuYWxsKGMpLnRoZW4oSihhLGZ1bmN0aW9uKGEpe3JldHVybiB4ZSh0aGlzLGFbMF0sYVsxXXx8bnVsbCxiKX0pKTtyZXR1cm4gYS5SYX0KZnVuY3Rpb24geGUoYSxiLGMsZCl7dmFyIGU9bnVsbDsibXA0Ij09YS5iPyhlPW5ldyB0ZCxlPWUucGFyc2UobmV3IERhdGFWaWV3KGIpLGEuYS5zdGFydEJ5dGUsYS5hLmMsYS5pLGEuZikpOiJ3ZWJtIj09YS5iJiYoZT1uZXcgdWUsZT1lLnBhcnNlKG5ldyBEYXRhVmlldyhiKSxuZXcgRGF0YVZpZXcoYyksYS5hLmMsYS5pKSk7aWYoIWUpcmV0dXJuIGE9RXJyb3IoIkZhaWxlZCB0byBwYXJzZSBTZWdtZW50UmVmZXJlbmNlcyBmcm9tICIrYS5hLnRvU3RyaW5nKCkrIiAob3Igb25lIG9mIGl0cyBmYWxsYmFja3MpLiIpLGEudHlwZT0ic3RyZWFtIixQcm9taXNlLnJlamVjdChhKTtiPW5ldyBUKGUsZS5zKTt2YXIgZjsiZHluYW1pYyI9PWEuaC50eXBlP2Y9bmV3IFMoYixhLmgsYS5vLGEudyk6Zj1uZXcgUihiKTtkJiZkLmxvZygpO2EudT1mO3JldHVybiBQcm9taXNlLnJlc29sdmUoZil9dmUucHJvdG90eXBlLmM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51fTtmdW5jdGlvbiB5ZShhLGIsYyxkKXt0aGlzLmM9YTt0aGlzLmI9Yjt0aGlzLmw9Y3x8bnVsbDt0aGlzLmE9ZHx8bnVsbH0KZnVuY3Rpb24gemUoYSxiLGMpe2Zvcih2YXIgZD15YSgpLzFFMyxlPTA7ZTxiLmEubGVuZ3RoOysrZSlmb3IodmFyIGY9Yi5hW2VdLGc9MDtnPGYuYS5sZW5ndGg7KytnKXt2YXIgaD1mLmFbZ107aWYoInRleHQiIT1oLmNvbnRlbnRUeXBlKWZvcih2YXIgaz0wO2s8aC5hLmxlbmd0aDsrK2spe3ZhciBsPWguYVtrXSxtPTAsbT1tKyhsLmY/MTowKSxtPW0rKGwuYj8xOjApLG09bSsobC5hPzE6MCk7MD09bT8oaC5hLnNwbGljZShrLDEpLC0tayk6MSE9bSYmKGwuZj8obC5iPW51bGwsbC5hPW51bGwpOmwuYiYmKGwuYT1udWxsKSl9fUFlKGIpO2ZvcihlPTA7ZTxiLmEubGVuZ3RoOysrZSlmb3IoZj1iLmFbZV0sZz0wO2c8Zi5hLmxlbmd0aDsrK2cpe2s9aD1mLmFbZ107bD1udWxsO2ZvcihtPTA7bTxrLmEubGVuZ3RoOysrbSl7dmFyIHA9ay5hW21dLm1pbWVUeXBlfHwiIjtsP3AhPWwmJihrLmEuc3BsaWNlKG0sMSksLS1tKTpsPXB9MD09aC5hLmxlbmd0aCYmKGYuYS5zcGxpY2UoZywxKSwKLS1nKX1iLm1hbmlmZXN0SXNMaXZlU3RyZWFtaW5nJiZudWxsPT1iLmMmJihiLmM9ZCk7ZT1uZXcgVGQ7ImR5bmFtaWMiPT1iLnR5cGUmJihlLmI9ITAsZS5jPWIuZyxlLmk9bmV3IEsoYyxiLnV8fGIudXJsLHZvaWQgMCx2b2lkIDAsdm9pZCAwLGEuYSksZS5qPWIuYyk7ZS5CPWIuaHx8MDtlLm09Yi5pfHwwO2Uubz1iLmp8fDA7ZS5nPWIubXx8NTtmb3IoZj0wO2Y8Yi5hLmxlbmd0aDsrK2Ype2c9Yi5hW2ZdO2lmKG51bGw9PWcuc3RhcnQpYnJlYWs7Zz1CZShhLGIsZyxkLGMpO2UuYS5wdXNoKGcpfWUuZj1iLkZCSXNMaXZlVGVtcGxhdGVkO2EubCYmYS5sLnNldElzVGVtcGxhdGVkTWFuaWZlc3QoYi5GQklzTGl2ZVRlbXBsYXRlZCk7ZS5BPWIuRkJXYXNMaXZlO2E9bnVsbDtjPSJub25lIjtmb3IoZj0wO2Y8Yi5hLmxlbmd0aDtmKyspZm9yKGc9Yi5hW2ZdLGQ9MDtkPGcuYS5sZW5ndGg7ZCsrKWZvcihoPWcuYVtkXSxrPTA7azxoLmEubGVuZ3RoO2srKylsPWguYVtrXS5pLG51bGwhPQpsJiZudWxsIT1sLnZhbHVlJiYoYT1jPWwudmFsdWUsInVybjptcGVnOmRhc2g6MjMwMDM6MzphdWRpb19jaGFubmVsX2NvbmZpZ3VyYXRpb246MjAxMSI9PT1sLmEmJigiMSI9PT1hP2M9Im1vbm8iOiIyIj09PWEmJihjPSJzdGVyZW8iKSkpO2Uudz1jO2E9cGFyc2VJbnQoYSwxMCk7ZS51PTA8YT9hOm51bGw7cmV0dXJuIGV9CmZ1bmN0aW9uIEFlKGEpe2lmKGEuYS5sZW5ndGgpe251bGw9PWEuYVswXS5zdGFydCYmKGEuYVswXS5zdGFydD0wKTt2YXIgYj1mdW5jdGlvbihhKXtyZXR1cm4gMD09YXx8ISFhfTthLm1hbmlmZXN0SXNMaXZlU3RyZWFtaW5nJiYoYS5iPW51bGwpO2IoYS5iKSYmMT09YS5hLmxlbmd0aCYmIWIoYS5hWzBdLmR1cmF0aW9uKSYmKGEuYVswXS5kdXJhdGlvbj1hLmIpO2Zvcih2YXIgYz0wLGQ9ITAsZT0wO2U8YS5hLmxlbmd0aDsrK2Upe3ZhciBmPWEuYVtlLTFdLGc9YS5hW2VdLGg9YS5hW2UrMV18fHtzdGFydDphLmJ9OyFiKGcuc3RhcnQpJiZmJiZiKGYuc3RhcnQpJiZiKGYuZHVyYXRpb24pJiYoZy5zdGFydD1mLnN0YXJ0K2YuZHVyYXRpb24pOyFiKGcuZHVyYXRpb24pJiZiKGguc3RhcnQpJiYoZy5kdXJhdGlvbj1oLnN0YXJ0LWcuc3RhcnQpO251bGwhPWcuc3RhcnQmJm51bGwhPWcuZHVyYXRpb24/Yys9Zy5kdXJhdGlvbjpkPSExfWIoYS5iKXx8KGU9YS5hW2EuYS5sZW5ndGgtMV0sCmQ/YS5iPWM6YihlLnN0YXJ0KSYmYihlLmR1cmF0aW9uKT9hLmI9ZS5zdGFydCtlLmR1cmF0aW9uOmEubWFuaWZlc3RJc0xpdmVTdHJlYW1pbmd8fChhLmI9YykpfX0KZnVuY3Rpb24gQmUoYSxiLGMsZCxlKXt2YXIgZj1uZXcgU2Q7Zi5pZD1jLmlkO2Yuc3RhcnQ9Yy5zdGFydDtmLmR1cmF0aW9uPWMuZHVyYXRpb247dmFyIGc9bmV3IEQ7Yy5hLmZvckVhY2goZnVuY3Rpb24oYSl7Zy5wdXNoKGEuY29udGVudFR5cGV8fCIiLGEpfSk7Zm9yKHZhciBoPWFiKGcpLGs9MDtrPGgubGVuZ3RoOysrayl7dmFyIGw9bmV3IEQ7Zy5nZXQoaFtrXSkuZm9yRWFjaChmdW5jdGlvbihhKXtsLnB1c2goYS5ncm91cCxhKX0pO2Zvcih2YXIgbT1hYihsKSxwPTA7cDxtLmxlbmd0aDsrK3Ape3ZhciB0PW5ldyBEO2wuZ2V0KG1bcF0pLmZvckVhY2goZnVuY3Rpb24oYSl7dC5wdXNoKGEubGFuZyxhKX0pO2Zvcih2YXIgdz1hYih0KSx6PTA7ejx3Lmxlbmd0aDsrK3ope3ZhciBIPXQuZ2V0KHdbel0pLEg9Q2UoYSxiLGMsSCxkLGUpO2YuYS5wdXNoKEgpfX19cmV0dXJuIGZ9CmZ1bmN0aW9uIENlKGEsYixjLGQsZSxmKXtiYShkLmV2ZXJ5KGZ1bmN0aW9uKGEpe3JldHVybiBhLmdyb3VwPT1kWzBdLmdyb3VwJiYoYS5sYW5nfHwiIik9PShkWzBdLmxhbmd8fCIiKSYmKGEuY29udGVudFR5cGV8fCIiKT09KGRbMF0uY29udGVudFR5cGV8fCIiKX0pKTt2YXIgZz1uZXcgT2QsaD1kLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YS5pZH0pO2gubGVuZ3RoPT1kLmxlbmd0aCYmKGcuaWQ9aC5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuaWR9KS5zb3J0KCkucmVkdWNlKGZ1bmN0aW9uKGEsYil7cmV0dXJuIGErIiwiK2J9KSk7Zy5iPSEoIWRbMF0uYnx8InVybjpzY3RlOmRhc2g6Y2M6Y2VhLTYwODoyMDE1IiE9PWRbMF0uYi5hKTtnLmxhbmc9ZFswXS5sYW5nfHwiIjtnLmNvbnRlbnRUeXBlPWRbMF0uY29udGVudFR5cGV8fCIiO2cuZj1kLnNvbWUoZnVuY3Rpb24oYSl7cmV0dXJuIGEuZn0pO2Zvcih2YXIgaD17fSxrPTA7azxkLmxlbmd0aDsrK2spe3ZhciBsPQpkW2tdO2wuYyYmKGcuYz1sLmMpO2Zvcih2YXIgbT0wO208bC5hLmxlbmd0aDsrK20pe3ZhciBwPWwuYVttXSx0PURlKGEscCksdz1nLmEuc2xpY2UoMCk7RWUodCx3KTswPT13Lmxlbmd0aCYmMDxnLmEubGVuZ3RofHwhKHA9RmUoYSxiLGMscCxlLGYpKXx8KGcudi5wdXNoKHApLGcuYT13LGhbcC5YXT1sKX19aWYoZy5hLnNvbWUoZnVuY3Rpb24oYSl7cmV0dXJuIiI9PWEuYX0pKXJldHVybiBnLnYuZm9yRWFjaChmdW5jdGlvbihhKXthLm9hPSEwfSksZzthPUdlKGQpO2ZvcihrPTA7azxnLnYubGVuZ3RoOysraylwPWcudltrXSxsPWhbcC5YXSxsPT1hJiYocC5vYT0hMCk7cmV0dXJuIGd9CmZ1bmN0aW9uIEdlKGEpe2Zvcih2YXIgYj1udWxsLGM9bnVsbCxkPTA7ZDxhLmxlbmd0aDsrK2QpZm9yKHZhciBlPWFbZF0sZj0wO2Y8ZS5hLmxlbmd0aDsrK2Ype3ZhciBnPWUuYVtmXSxnPShnLndpZHRofHwxKSooZy5oZWlnaHR8fDEpKihnLmJhbmR3aWR0aHx8MSk7aWYobnVsbD09Ynx8ZzxiKWI9ZyxjPWV9cmV0dXJuIGN9ZnVuY3Rpb24gRWUoYSxiKXtpZigwPT1iLmxlbmd0aClBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShiLGEpO2Vsc2UgZm9yKHZhciBjPTA7YzxiLmxlbmd0aDsrK2Mpe2Zvcih2YXIgZD0hMSxlPTA7ZTxhLmxlbmd0aDsrK2Upe3ZhciBmPWJbY10sZz1hW2VdO2lmKGYuYT09Zy5hJiZmLmk9PWcuaSYmZi53aXRoQ3JlZGVudGlhbHM9PWcud2l0aENyZWRlbnRpYWxzJiZmLmg9PWcuaCYmZi5qPT1nLmomJmYuZz09Zy5nJiZmLm09PWcubSYmTWEoZi5jLGcuYykpe2Q9ITA7T2IoYltjXSxhW2VdLmIpO2JyZWFrfX1kfHwoYi5zcGxpY2UoYywxKSwtLWMpfX0KZnVuY3Rpb24gRGUoYSxiKXt2YXIgYz1bXTtpZigwPT1iLmMubGVuZ3RoKWMucHVzaChuZXcgTWIpO2Vsc2UgaWYoYS5iKWZvcih2YXIgZD0wO2Q8Yi5jLmxlbmd0aDsrK2QpYy5wdXNoLmFwcGx5KGMsSGUoYSxiLmNbZF0pKTtyZXR1cm4gY30KZnVuY3Rpb24gSGUoYSxiKXt2YXIgYz1bXTtpZigyIT1hLmIubGVuZ3RoKXJldHVybltdO3ZhciBkPWEuYihiLmZ8fCIiLGIuYyk7aWYoIShkJiZkIGluc3RhbmNlb2YgQXJyYXkpKXJldHVybltdO2Zvcih2YXIgZT0wO2U8ZC5sZW5ndGg7KytlKXt2YXIgZjt2YXIgZz1kW2VdO2Y9bmV3IE1iO2lmKGcpe3ZhciBoPVlhKGcsImtleVN5c3RlbSIpO2lmKG51bGwhPWgpZi5hPWg7ZWxzZSB0aHJvdyBFcnJvcigiJ2tleVN5c3RlbScgY2Fubm90IGJlIG51bGwuIik7dmFyIGs9WWEoZywibGljZW5zZVNlcnZlclVybCIpO2lmKG51bGwhPWspZi5pPWs7ZWxzZSBpZihoKXRocm93IEVycm9yKCJGb3IgZW5jcnlwdGVkIHN0cmVhbWluZyBjb250ZW50LCAnbGljZW5zZVNlcnZlclVybCcgY2Fubm90IGJlIG51bGwgb3IgZW1wdHkuIik7aD1CKGcsIndpdGhDcmVkZW50aWFscyIpO251bGwhPWgmJihmLndpdGhDcmVkZW50aWFscz1oKTtoPVphKGcsImxpY2Vuc2VQb3N0UHJvY2Vzc29yIixGdW5jdGlvbik7Cm51bGwhPWgmJihmLmY9aCk7aD1aYShnLCJsaWNlbnNlUHJlUHJvY2Vzc29yIixGdW5jdGlvbik7bnVsbCE9aCYmKGYubz1oKTtoPUIoZywiZGlzdGluY3RpdmVJZGVudGlmaWVyUmVxdWlyZWQiKTtudWxsIT1oJiYoZi5oPWgpO2g9QihnLCJwZXJzaXN0ZW50U3RhdGVSZXF1aXJlZCIpO251bGwhPWgmJihmLmo9aCk7aD1ZYShnLCJhdWRpb1JvYnVzdG5lc3MiKTtudWxsIT1oJiYoZi5nPWgpO2g9WWEoZywidmlkZW9Sb2J1c3RuZXNzIik7bnVsbCE9aCYmKGYubT1oKTtoPVphKGcsInNlcnZlckNlcnRpZmljYXRlIixVaW50OEFycmF5KTtudWxsIT1oJiYoZi5jPWgpO2lmKGg9WmEoZywiaW5pdERhdGEiLE9iamVjdCkpe2c9WmEoaCwiaW5pdERhdGEiLFVpbnQ4QXJyYXkpO2lmKG51bGw9PWcpdGhyb3cgRXJyb3IoIidpbml0RGF0YS5pbml0RGF0YScgY2Fubm90IGJlIG51bGwuIik7aD1ZYShoLCJpbml0RGF0YVR5cGUiKTtpZihudWxsPT1oKXRocm93IEVycm9yKCInaW5pdERhdGEuaW5pdERhdGFUeXBlJyBjYW5ub3QgYmUgbnVsbC4iKTsKZi5iLnB1c2goe2luaXREYXRhOm5ldyBVaW50OEFycmF5KGcuYnVmZmVyKSxpbml0RGF0YVR5cGU6aH0pfX0wPT1mLmIubGVuZ3RoJiZiLmEmJmIuYS5wc3NoQm94JiZPYihmLFt7aW5pdERhdGE6Yi5hLnBzc2hCb3gsaW5pdERhdGFUeXBlOiJjZW5jIn1dKTtjLnB1c2goZil9cmV0dXJuIGN9CmZ1bmN0aW9uIEZlKGEsYixjLGQsZSxmKXtpZighZC5iYXNlVXJsfHwwPT09ZC5iYXNlVXJsLmxlbmd0aClyZXR1cm4gbnVsbDt2YXIgZz1udWxsLGg9MSxrPTA7aWYoZC5mKXtnPWQubWltZVR5cGUuc3BsaXQoIi8iKVsxXTtpZigibXA0IiE9ZyYmIndlYm0iIT1nKWc9bnVsbDtlbHNle3ZhciBsPWQuZjtpZigid2VibSIhPWd8fGwuYylpZihsLmF8fGwuYiYmbC5iLmEpe2g9bC5iO2h8fChoPW5ldyB3YyxoLnVybD1kLmJhc2VVcmwsaC5hPWwuYT9sLmEuY2xvbmUoKTpudWxsKTtrPUllKGEsaCxmKTtoPWwuYz9JZShhLGwuYyxmKTpudWxsO2wuZj8obD1sLmYsbD1uZXcgSyhmLGQuYmFzZVVybCxsLnFhLGwuZW5kLHZvaWQgMCxhLmEpKTpsPW51bGw7dmFyIG09bCxwPVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgiYWRkX2lubGluZV9pbml0aWFsaXphdGlvbl9yZXNvdXJjZXMiLCExKSYmZC5oJiZkLmguZGF0YT9kLmguZGF0YTpudWxsLGw9VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJhZGRfaW5saW5lX2luaXRpYWxpemF0aW9uX3Jlc291cmNlcyIsCiExKSYmZC5nJiZkLmcuZGF0YT9kLmcuZGF0YTpudWxsO2E9bmV3IHZlKGIsYyxnLGssaCxtLGUsZixhLmwscCxsKTtiPW5ldyBnZChoLGwpO2M9bmV3IEtkO2MuTT1hO2MuYWE9YjtnPWN9ZWxzZSBnPW51bGw7ZWxzZSBnPW51bGx9aD1kLmYucztrPWQuZi5MfWVsc2UgaWYoZC5iKWc9ZC5iLCFnLkgmJiFnLkMmJjE8Zy5hLmxlbmd0aD9nPW51bGw6Zy5IfHxjLmR1cmF0aW9ufHxnLkN8fDEhPWcuYS5sZW5ndGg/Zy5DJiYwPT09Zy5DLk4ubGVuZ3RoP2c9bnVsbDooZz1nLmI/SWUoYSxnLmIsZik6bnVsbCxhPW5ldyBGZChiLGMsZCxlLGYsYS5hKSxiPW5ldyBnZChnKSxjPW5ldyBLZCxjLk09YSxjLmFhPWIsZz1jKTpnPW51bGwsaD1kLmIucyxrPWQuYi5MO2Vsc2UgaWYoZC5hKXthOmlmKGc9ZC5hLGg9MCsoZy5hPzE6MCksaCs9Zy5DPzE6MCxoKz1nLkg/MTowLDA9PWg/aD0hMTooMSE9aCYmKGcuYT8oZy5DPW51bGwsZy5IPW51bGwpOmcuQyYmKGcuSD1udWxsKSksaD0hMCksaCl7aD0KbnVsbDtpZihnLmMmJihoPShnPWQuYS5jKT9KZShkLGcseGMpOm51bGwsIWgpKXtnPW51bGw7YnJlYWsgYX1nPWg/SWUoYSxoLGYpOm51bGw7aD1kLmE7aC5hPyhoPWQubWltZVR5cGUuc3BsaXQoIi8iKVsxXSwibXA0IiE9aCYmIndlYm0iIT1oP2E9bnVsbDoid2VibSIhPWh8fGc/bWQoZixkLDEsMCx2b2lkIDAsYS5hKT8oaz0oaz1kLmEuYSk/SmUoZCxrLHdjKTpudWxsKT8oaz1JZShhLGssZiksYT1uZXcgdmUoYixjLGgsayxnLG51bGwsZSxmLGEubCkpOmE9bnVsbDphPW51bGw6YT1udWxsKTphPWguZj9oLkM/bmV3IEpkKGEuYyxiLGMsZCxlLGYsMCxhLmEpOmguSD9iLm1hbmlmZXN0SXNMaXZlU3RyZWFtaW5nfHxudWxsIT1jLmR1cmF0aW9uP25ldyBFZChiLGMsZCxlLGYpOm51bGw6bnVsbDpudWxsO2E/KGI9bmV3IGdkKGcpLGM9bmV3IEtkLGMuTT1hLGMuYWE9YixnPWMpOmc9bnVsbH1lbHNlIGc9bnVsbDtoPWQuYS5zO2s9ZC5hLkx9ZWxzZSJ0ZXh0Ij09ZC5taW1lVHlwZS5zcGxpdCgiLyIpWzBdJiYKKGc9bmV3IEtkLGcuTT1uZXcgc2UobmV3IEsoZixkLmJhc2VVcmwpKSk7aWYoIWcpcmV0dXJuIG51bGw7Zy5pZD1kLmlkO2smJihnLmE9LTEqay9oKTtnLmJhbmR3aWR0aD1kLmJhbmR3aWR0aDtnLndpZHRoPWQud2lkdGg7Zy5oZWlnaHQ9ZC5oZWlnaHQ7Zy5taW1lVHlwZT1kLm1pbWVUeXBlfHwiIjtnLmNvZGVjcz1kLmNvZGVjc3x8IiI7Zy5nPWQub3x8bnVsbDtnLmg9ZC51fHxudWxsO2cuZmJRdWFsaXR5TGFiZWw9ZC5mYlF1YWxpdHlMYWJlbHx8bnVsbDtnLmZiUXVhbGl0eUNsYXNzPWQuZmJRdWFsaXR5Q2xhc3N8fG51bGw7Zy5mPWQubXx8bnVsbDtnLmZyYW1lUmF0ZT1kLmZyYW1lUmF0ZXx8IiI7Zy5jPWQuanx8bnVsbDtmb3IoYT0wO2E8ZC5jLmxlbmd0aDsrK2EpYj1kLmNbYV0sYi5iJiZnLmIucHVzaChiLmIpO3JldHVybiBnfQpmdW5jdGlvbiBKZShhLGIsYyl7Yj1uZChiLGEuaWQsbnVsbCxhLmJhbmR3aWR0aCxudWxsKTtpZighYilyZXR1cm4gbnVsbDtjPW5ldyBjO2MudXJsPVpjKGEuYmFzZVVybCxiKTtyZXR1cm4gY31mdW5jdGlvbiBJZShhLGIsYyl7dmFyIGQ9Yi51cmwsZT0wLGY9bnVsbDtiLmEmJihlPWIuYS5xYSxmPWIuYS5lbmQpO3JldHVybiBuZXcgSyhjLGQsZSxmLHZvaWQgMCxhLmEpfTtmdW5jdGlvbiBLZShhLGIsYyxkLGUsZixnKXt0aGlzLmI9bmV3IEsobnVsbCxbbmV3IEwoYSldKTt0aGlzLmw9ZTt0aGlzLmY9Yjt0aGlzLmM9MTt0aGlzLmc9YTt0aGlzLmE9bmV3IHRiO3RoaXMuYS5ib2R5PWI7dGhpcy5hLm1ldGhvZD1jO3RoaXMuYS5OYT0zO3RoaXMuYS53aXRoQ3JlZGVudGlhbHM9ZDt0aGlzLmEuYj0xRTMqKG51bGwhPWc/ZzpoYSk7YT1mfHx7fTtmb3IodmFyIGggaW4gYSl0aGlzLmEuUWFbaF09YVtoXX0KZnVuY3Rpb24gTGUoYSl7cmV0dXJuIGEuYi5mZXRjaChhLmEpLnRoZW4oZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYi51JiYwPHRoaXMuYz8odGhpcy5jLS0sbnVsbCE9PXRoaXMubCYmbnVsbCE9PXRoaXMuYi5pJiZ0aGlzLmwuc2V0UmVhc29uKCJSZWRpcmVjdGVkIHRvIFVSTDogIit0aGlzLmIuaS50b1N0cmluZygpKSx0aGlzLmI9bmV3IEsobnVsbCxbbmV3IEwodGhpcy5nKV0pLHRoaXMuYS5ib2R5PXRoaXMuZixMZSh0aGlzKSk6UHJvbWlzZS5yZXNvbHZlKG5ldyBVaW50OEFycmF5KGEpKX0uYmluZChhKSl9O2Z1bmN0aW9uIE1lKGEsYixjLGQpe0YuY2FsbCh0aGlzLGEpO3RoaXMuYz1iO3RoaXMuaj1jO3RoaXMuYT10aGlzLmg9bnVsbDt0aGlzLmk9bmV3IGJiO3RoaXMuYj1bXTt0aGlzLmY9W107dGhpcy5tPTA7dGhpcy5nPW5ldyBJO3RoaXMubz1udWxsO3RoaXMuQT1oYTt0aGlzLmw9ZH1yKE1lLEYpO01lLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5KYT1udWxsO2Zvcih2YXIgYT0wO2E8dGhpcy5mLmxlbmd0aDsrK2EpdGhpcy5mW2FdLmNsb3NlKCkuY2F0Y2goZnVuY3Rpb24oKXt9KTt0aGlzLmY9W107dGhpcy5iPXRoaXMuYT10aGlzLmg9bnVsbDt0aGlzLmcuZGVzdHJveSgpO3RoaXMuZz1udWxsO3RoaXMuaS5kZXN0cm95KCk7dGhpcy5pPW51bGw7dGhpcy5vJiYoY2xlYXJUaW1lb3V0KHRoaXMubyksdGhpcy5vPW51bGwpO3RoaXMuYz10aGlzLmo9bnVsbH07Ck1lLnByb3RvdHlwZS5pbml0aWFsaXplPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPW5ldyBELGI9TmUodGhpcy5qKSxjPTA7YzxiLmxlbmd0aDsrK2Mpe3ZhciBkPWJbY107ZC5hLmF8fGQuYiYmIU9lKGQuYil8fGEucHVzaChkLmNvbnRlbnRUeXBlLGQpfWZvcih2YXIgYz17fSxkPSExLGU9MDtlPGIubGVuZ3RoOysrZSl7dmFyIGY9YltlXTtpZihmLmEuYSYmIWEuYS5oYXNPd25Qcm9wZXJ0eShmLmNvbnRlbnRUeXBlKSl7dmFyIGc9Zi5hLmEsaD1jW2ddO2h8fChoPWYuYSxoPXthdWRpb0NhcGFiaWxpdGllczp2b2lkIDAsdmlkZW9DYXBhYmlsaXRpZXM6dm9pZCAwLGluaXREYXRhVHlwZXM6dm9pZCAwLGRpc3RpbmN0aXZlSWRlbnRpZmllcjpoLmg/InJlcXVpcmVkIjoib3B0aW9uYWwiLHBlcnNpc3RlbnRTdGF0ZTpoLmo/InJlcXVpcmVkIjoib3B0aW9uYWwiLHNlc3Npb25UeXBlczpbInRlbXBvcmFyeSJdfSxjW2ddPWgpO2lmKGYuYiYmKGc9Zi5jb250ZW50VHlwZSsiQ2FwYWJpbGl0aWVzIiwKZyBpbiBoKSl7ZD0hMDtoW2ddfHwoaFtnXT1bXSk7dmFyIGs7ImF1ZGlvIj09Zi5jb250ZW50VHlwZT9rPWYuYS5nOiJ2aWRlbyI9PWYuY29udGVudFR5cGUmJihrPWYuYS5tKTtoW2ddLnB1c2goe2NvbnRlbnRUeXBlOmYuYixyb2J1c3RuZXNzOmt9KX19fWlmKCFkKWlmKGIubGVuZ3RoKXRoaXMuYT1iWzBdLmE7ZWxzZSB0aHJvdyBhPUVycm9yKCJObyBEcm1JbmZvIGV4aXN0cyEiKSxhLnR5cGU9ImRybSIsYTtpZigwPT1PYmplY3Qua2V5cyhjKS5sZW5ndGgpcmV0dXJuIFBlKHRoaXMuaixhKSx0aGlzLmcucmVzb2x2ZSgpLFByb21pc2UucmVzb2x2ZSgpO2s9bmV3IEk7Yz1RZShjLGspO2M9Yy50aGVuKHRoaXMudy5iaW5kKHRoaXMsYixhKSk7ay5yZWplY3QobnVsbCk7dGhpcy5sJiZ0aGlzLmwuZ2V0RXZlbnRMb2dnZXIoImVtZV9pbml0IikubG9nKCk7cmV0dXJuIGN9OwpmdW5jdGlvbiBRZShhLGIpe2Zvcih2YXIgYyBpbiBhKWI9Yi5jYXRjaChmdW5jdGlvbihhLGIpe3JldHVybiBuYXZpZ2F0b3IucmVxdWVzdE1lZGlhS2V5U3lzdGVtQWNjZXNzKGEsW2JdKX0uYmluZChudWxsLGMsYVtjXSkpO3JldHVybiBifQpNZS5wcm90b3R5cGUudz1mdW5jdGlvbihhLGIsYyl7aWYoIXRoaXMuYylyZXR1cm4gUmUoKTtmb3IodmFyIGQ9Yy5rZXlTeXN0ZW0sZT1jLmdldENvbmZpZ3VyYXRpb24oKSxmPVsiYXVkaW8iLCJ2aWRlbyJdLGc9MDtnPGYubGVuZ3RoOysrZyl7dmFyIGg9ZltnXTtpZighYi5hLmhhc093blByb3BlcnR5KGgpKXt2YXIgaz1lW2grIkNhcGFiaWxpdGllcyJdO2lmKGspe2Zvcih2YXIgaz1rWzBdLGw9W10sbT17fSxwPTA7cDxhLmxlbmd0aDsrK3Ape3ZhciB0PWFbcF0sdz1rP3QuYj09ay5jb250ZW50VHlwZTp0LmNvbnRlbnRUeXBlPT1oO3QuYS5hIT1kfHwhd3x8dC5pZCBpbiBtfHwobC5wdXNoKHQpLG1bdC5pZF09ITAsdGhpcy5hPXRoaXMuYT9OYih0aGlzLmEsdC5hKTp0LmEpfWIuc2V0KGgsbCl9fX1QZSh0aGlzLmosYik7aWYodGhpcy5jLm1lZGlhS2V5cyl0aGlzLmg9dGhpcy5jLm1lZGlhS2V5cztlbHNlIHJldHVybiBjLmNyZWF0ZU1lZGlhS2V5cygpLnRoZW4oZnVuY3Rpb24oYSl7dGhpcy5oPQphfS5iaW5kKHRoaXMpKX07ZnVuY3Rpb24gU2UoYSl7cmV0dXJuIGEuYz9hLmg/YS5jLnNldE1lZGlhS2V5cyhhLmgpLnRoZW4oSihhLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYz90aGlzLmEuYz90aGlzLmguc2V0U2VydmVyQ2VydGlmaWNhdGUodGhpcy5hLmMpOlByb21pc2UucmVzb2x2ZSgpOlJlKCl9KSkudGhlbihKKGEsZnVuY3Rpb24oKXtpZighdGhpcy5jKXJldHVybiBSZSgpO2Zvcih2YXIgYT0wO2E8dGhpcy5hLmIubGVuZ3RoOysrYSl7dmFyIGM9dGhpcy5hLmJbYV07dGhpcy51KHt0eXBlOiJlbmNyeXB0ZWQiLGluaXREYXRhVHlwZTpjLmluaXREYXRhVHlwZSxpbml0RGF0YTpjLmluaXREYXRhfSl9MD09dGhpcy5hLmIubGVuZ3RoJiZFKHRoaXMuaSx0aGlzLmMsImVuY3J5cHRlZCIsdGhpcy51LmJpbmQodGhpcykpfSkpOlByb21pc2UucmVzb2x2ZSgpOlJlKCl9CmZ1bmN0aW9uIFJlKCl7dmFyIGE9RXJyb3IoIkVtZU1hbmFnZXIgZGVzdHJveWVkIik7YS50eXBlPSJkZXN0cm95IjtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYSl9Ck1lLnByb3RvdHlwZS51PWZ1bmN0aW9uKGEpe3ZhciBiPW5ldyBVaW50OEFycmF5KGEuaW5pdERhdGEpO3RoaXMubCYmdGhpcy5sLmdldEV2ZW50TG9nZ2VyKCJlbmNyeXB0ZWRfc2FtcGxlIikubG9nKCk7Zm9yKHZhciBjPTA7Yzx0aGlzLmIubGVuZ3RoOysrYylpZihNYShiLHRoaXMuYltjXS5kYXRhKSlyZXR1cm47dHJ5e3ZhciBkPVRlKHRoaXMpfWNhdGNoKGUpe2I9QShlKTt0aGlzLmRpc3BhdGNoRXZlbnQoYik7dGhpcy5sJiZ0aGlzLmwuZ2V0RXZlbnRMb2dnZXIoImVtZV9lcnJvciIpLnNldEVycm9yKGUpLmxvZygpO3RoaXMuZy5yZWplY3QoZSk7cmV0dXJufWE9ZC5nZW5lcmF0ZVJlcXVlc3QoYS5pbml0RGF0YVR5cGUsYS5pbml0RGF0YSk7dGhpcy5iLnB1c2goe2RhdGE6Yix1YjpkfSk7YS5jYXRjaChKKHRoaXMsZnVuY3Rpb24oYSl7aWYodGhpcy5jKXtmb3IodmFyIGI9MDtiPHRoaXMuYi5sZW5ndGg7KytiKWlmKHRoaXMuYltiXS51Yj09ZCl7dGhpcy5iLnNwbGljZShiLAoxKTticmVha31iPUEoYSk7dGhpcy5kaXNwYXRjaEV2ZW50KGIpO3RoaXMubCYmdGhpcy5sLmdldEV2ZW50TG9nZ2VyKCJlbWVfZXJyb3IiKS5zZXRFcnJvcihhKS5sb2coKTt0aGlzLmcucmVqZWN0KGEpfX0pKTt0aGlzLmYucHVzaChkKX07ZnVuY3Rpb24gVWUoYSl7Zm9yKHZhciBiPVtdLGM9MDtjPGIubGVuZ3RoOysrYyl7dmFyIGQ9VGUoYSksZT1kLmxvYWQoYltjXSk7YS5mLnB1c2goZCk7ZS50aGVuKEooYSxmdW5jdGlvbigpe3RoaXMubSsrO3RoaXMubT49dGhpcy5mLmxlbmd0aCYmdGhpcy5nLnJlc29sdmUoKX0pKS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7dmFyIGI9QShhKTt0aGlzLmRpc3BhdGNoRXZlbnQoYik7dGhpcy5sJiZ0aGlzLmwuZ2V0RXZlbnRMb2dnZXIoImVtZV9lcnJvciIpLnNldEVycm9yKGEpLmxvZygpfSkpfX0KZnVuY3Rpb24gVGUoYSl7dmFyIGI9bnVsbCxiPWEuaC5jcmVhdGVTZXNzaW9uKCk7RShhLmksYiwibWVzc2FnZSIsYS5ELmJpbmQoYSkpO0UoYS5pLGIsImtleXN0YXR1c2VzY2hhbmdlIixhLkIuYmluZChhKSk7cmV0dXJuIGJ9TWUucHJvdG90eXBlLkQ9ZnVuY3Rpb24oYSl7VmUodGhpcyxhLnRhcmdldCx0aGlzLmEsYS5tZXNzYWdlKX07Ck1lLnByb3RvdHlwZS5CPWZ1bmN0aW9uKGEpe2E9YS50YXJnZXQ7dmFyIGI9e307YS5rZXlTdGF0dXNlcy5mb3JFYWNoKGZ1bmN0aW9uKGEsYyl7aWYoInN0cmluZyI9PT10eXBlb2YgYSl7dmFyIGY9YTthPWM7Yz1mfWlmKCJjb20ubWljcm9zb2Z0LnBsYXlyZWFkeSI9PXRoaXMuYS5hJiYxNj09YS5ieXRlTGVuZ3RoKXt2YXIgZj1uZXcgRGF0YVZpZXcoYSksZz1mLmdldFVpbnQzMigwLCEwKSxoPWYuZ2V0VWludDE2KDQsITApLGs9Zi5nZXRVaW50MTYoNiwhMCk7Zi5zZXRVaW50MzIoMCxnLCExKTtmLnNldFVpbnQxNig0LGgsITEpO2Yuc2V0VWludDE2KDYsaywhMSl9Zj1MYihuZXcgVWludDhBcnJheShhKSk7YltmXT1jfS5iaW5kKHRoaXMpKTtpZihhLmV4cGlyYXRpb248RGF0ZS5ub3coKSl7Zm9yKHZhciBjPTA7Yzx0aGlzLmIubGVuZ3RoOysrYylpZih0aGlzLmJbY10udWI9PWEpe3RoaXMuYi5zcGxpY2UoYywxKTticmVha31hLmNsb3NlKCk7dGhpcy5mLnNwbGljZSh0aGlzLmYuaW5kZXhPZihhKSwKMSl9dGhpcy5sJiZ0aGlzLmwuZ2V0RXZlbnRMb2dnZXIoImVtZV9rZXlfc3RhdHVzX2NoYW5nZSIpLmxvZygpO1dlKHRoaXMuaixiKX07CmZ1bmN0aW9uIFZlKGEsYixjLGQpe2Q9WGUoYyxkKTt2YXIgZT1udWxsO2EubCYmKGU9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigibGljZW5zZV9yZXF1ZXN0Iikuc3RhcnQoKSk7TGUobmV3IEtlKGQudXJsLGQuYm9keSxkLm1ldGhvZCxjLndpdGhDcmVkZW50aWFscyxlLGQuaGVhZGVycyxhLkEpKS50aGVuKEooYSxmdW5jdGlvbihhKXtlJiYoZS5zZXRSZXN1bHQoInN1Y2Nlc3MiKSxlLmxvZygpKTtjLmYmJihhPWMuZihhKSk7ZT1udWxsO3RoaXMubCYmKGU9dGhpcy5sLmdldE9wZXJhdGlvbkxvZ2dlcigiZW1lX3Bvc3RfbGljZW5zZV9zZXNzaW9uX3VwZGF0ZSIpLnN0YXJ0KCkpO251bGw9PT1hfHx2b2lkIDA9PT1hfHwwPT09YS5ieXRlTGVuZ3RoP251bGwhPT1lJiYoZS5zZXRFcnJvcigiZW1wdHkgbGljZW5zZSIpLGUuc2V0UmVzdWx0KCJmYWlsZWQiKS5sb2coKSk6Yi51cGRhdGUoYSkudGhlbihKKHRoaXMsZnVuY3Rpb24oKXtlJiYoZS5zZXRSZXN1bHQoInN1Y2Nlc3MiKSxlLmxvZygpKTsKdmFyIGE9eSh7dHlwZToic2Vzc2lvblJlYWR5IixkZXRhaWw6Yn0pO3RoaXMuZGlzcGF0Y2hFdmVudChhKTt0aGlzLm0rKzt0aGlzLm0+PXRoaXMuZi5sZW5ndGgmJnRoaXMuZy5yZXNvbHZlKCl9KSkuY2F0Y2goSih0aGlzLGZ1bmN0aW9uKGEpe2EudWI9Yjt2YXIgYz1BKGEpO2UmJihlLnNldFJlc3VsdCgiZmFpbGVkIiksZS5zZXRFcnJvcihhKS5sb2coKSk7dGhpcy5kaXNwYXRjaEV2ZW50KGMpfSkpfSkpLmNhdGNoKEooYSxmdW5jdGlvbihhKXtpZihjLmYpe3ZhciBkPUpTT04uc3RyaW5naWZ5KHtkYXRhOlt7ZXJyb3I6YX1dfSksZD1uZXcgVWludDhBcnJheShkLnNwbGl0KCIiKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuY2hhckNvZGVBdCgwKX0pKTtjLmYoZCl9YS51Yj1iO2Q9QShhKTtlJiZlLnNldEVycm9yKGEpLmxvZygpO3RoaXMuZGlzcGF0Y2hFdmVudChkKX0pKX0KZnVuY3Rpb24gWGUoYSxiKXt2YXIgYz17dXJsOmEuaSxib2R5OmIuc2xpY2UoMCksbWV0aG9kOiJQT1NUIixoZWFkZXJzOnt9LGtleV9zeXN0ZW06YS5hfTtpZigiY29tLm1pY3Jvc29mdC5wbGF5cmVhZHkiPT09YS5hKXtmb3IodmFyIGQ9U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLG5ldyBVaW50MTZBcnJheShjLmJvZHkpKSxkPShuZXcgRE9NUGFyc2VyKS5wYXJzZUZyb21TdHJpbmcoZCwiYXBwbGljYXRpb24veG1sIiksZT1kLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJuYW1lIiksZj1kLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJ2YWx1ZSIpLGc9MDtnPGUubGVuZ3RoO2crKyljLmhlYWRlcnNbZVtnXS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZV09ZltnXS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZTtjLmJvZHk9d2luZG93LmF0b2IoZC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiQ2hhbGxlbmdlIilbMF0uY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUpfWlmKCFhLm8pcmV0dXJuIGM7CmEubyhjKTtjLnVybD1ZYShjLCJ1cmwiKTtpZihudWxsPT1jLnVybCl0aHJvdyBFcnJvcigiJ3VybCcgY2Fubm90IGJlIG51bGwuIik7aWYoIShjLmJvZHkgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcnx8InN0cmluZyI9PT10eXBlb2YgYy5ib2R5fHxudWxsPT1jLmJvZHkpKXRocm93IG5ldyBUeXBlRXJyb3IoIidib2R5JyBtdXN0IGJlIGFuIEFycmF5QnVmZmVyLCBhIHN0cmluZywgb3IgbnVsbC4iKTtjLm1ldGhvZD1ZYShjLCJtZXRob2QiKTtpZigiR0VUIiE9Yy5tZXRob2QmJiJQT1NUIiE9Yy5tZXRob2QpdGhyb3cgRXJyb3IoIidtZXRob2QnIG11c3QgYmUgZWl0aGVyICdHRVQnIG9yICdQT1NUJy4iKTtjLmhlYWRlcnM9WmEoYywiaGVhZGVycyIsT2JqZWN0KTtpZihudWxsPT1jLmhlYWRlcnMpdGhyb3cgRXJyb3IoIidoZWFkZXJzJyBjYW5ub3QgYmUgbnVsbC4iKTtyZXR1cm4gY307ZnVuY3Rpb24gVyhhLGIsYyxkLGUsZixnKXtGLmNhbGwodGhpcyxudWxsKTt0aGlzLmI9YTt0aGlzLmY9Yjt0aGlzLmE9bnVsbDt0aGlzLmc9bmV3IGJiO3RoaXMubT10aGlzLmk9bnVsbDt0aGlzLkY9MDt0aGlzLlM9dGhpcy5aPXRoaXMuJD1udWxsO3RoaXMuYmE9Zzt0aGlzLko9bnVsbDt0aGlzLk89dGhpcy5oPSExO3RoaXMuVj10aGlzLlk9ITA7dGhpcy5LPSExO3RoaXMuYz17ZW5hYmxlQWRhcHRhdGlvbjohMCxzdHJlYW1CdWZmZXJTaXplOjE1LGxpdmVTdHJlYW1FbmRUaW1lb3V0OjE1LGxpY2Vuc2VSZXF1ZXN0VGltZW91dDpoYSxtcGRSZXF1ZXN0VGltZW91dDppYSxzZWdtZW50UmVxdWVzdFRpbWVvdXQ6amEscHJlZmVycmVkTGFuZ3VhZ2U6ImVuIixyZXN0cmljdGlvbnM6bmV3IGthfTt0aGlzLmw9Yzt0aGlzLkc9ZDt0aGlzLmNhPWU7dGhpcy5nYT1mO3RoaXMubz1udWxsO3RoaXMuaj0xO3RoaXMuVD1udWxsO3RoaXMudT10aGlzLkE9dGhpcy53PSExO3RoaXMuUj10aGlzLkI9Cm51bGx9cihXLEYpO3EoInNoYWthLnBsYXllci5QbGF5ZXIiLFcpO1cudmVyc2lvbj0idjEuNi40LWZiIjtXLmlzQnJvd3NlclN1cHBvcnRlZD1mdW5jdGlvbigpe3JldHVybiEhd2luZG93Lk1lZGlhU291cmNlJiYhIXdpbmRvdy5VaW50OEFycmF5fTsKVy5wcm90b3R5cGUuQmE9ZnVuY3Rpb24oKXt2YXIgYT17fSxiPXRoaXMuYTtpZihiKXt2YXIgYz1iLlhiKCk7YS5CYW5kd2lkdGhFc3RpbWF0b3I9Yy5CYW5kd2lkdGhFc3RpbWF0b3I7dmFyIGQ9Yy5WaWRlb1NvdXJjZVN0cmVhbTtkJiYoYS5WaWRlb1NvdXJjZVN0cmVhbT1kLChkPWEuVmlkZW9CdWZmZXJNYW5hZ2VyPWQuQmEoKS5Tb3VyY2VCdWZmZXJNYW5hZ2VyKSYmKGEuVmlkZW9Tb3VyY2VCdWZmZXI9ZC5CYSgpLlNvdXJjZUJ1ZmZlcikpOyhkPWEuQXVkaW9Tb3VyY2VTdHJlYW09Yy5BdWRpb1NvdXJjZVN0cmVhbSkmJihkPWEuQXVkaW9CdWZmZXJNYW5hZ2VyPWQuQmEoKS5Tb3VyY2VCdWZmZXJNYW5hZ2VyKSYmKGEuQXVkaW9Tb3VyY2VCdWZmZXI9ZC5CYSgpLlNvdXJjZUJ1ZmZlcik7YS5UZXh0U291cmNlU3RyZWFtPWMuVGV4dFNvdXJjZVN0cmVhbTthLmdldE1hbmlmZXN0PWIuVGIuYmluZChiKX1lbHNlIGEuZ2V0TWFuaWZlc3Q9ZnVuY3Rpb24oKXt9O2EuTmQ9ITA7cmV0dXJuIGF9OwpXLnByb3RvdHlwZS5nZXREZWJ1Zz1XLnByb3RvdHlwZS5CYTtXLnByb3RvdHlwZS5zYT1mdW5jdGlvbihhKXt0aGlzLlk9YX07Vy5wcm90b3R5cGUuc2V0UmVzdW1lQWZ0ZXJCdWZmZXJpbmc9Vy5wcm90b3R5cGUuc2E7ZnVuY3Rpb24gT2UoYSl7cmV0dXJuInRleHQvdnR0Ij09YT8hIXdpbmRvdy5WVFRDdWU6TWVkaWFTb3VyY2UuaXNUeXBlU3VwcG9ydGVkKGEpfVcuaXNUeXBlU3VwcG9ydGVkPU9lO1cuc2V0VGV4dFN0eWxlPWZ1bmN0aW9uKGEpe3ZhciBiPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJTaGFrYVBsYXllclRleHRTdHlsZSIpO2J8fChiPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInN0eWxlIiksYi5pZD0iU2hha2FQbGF5ZXJUZXh0U3R5bGUiLGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoYikpO2ZvcihiPWIuc2hlZXQ7Yi5jc3NSdWxlcy5sZW5ndGg7KWIuZGVsZXRlUnVsZSgwKTtiLmluc2VydFJ1bGUoIjo6Y3VlIHsgIityYShhKSsiIH0iLDApfTsKVy5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3JldHVybiB0aGlzLlUoKS50aGVuKEoodGhpcyxmdW5jdGlvbigpe3RoaXMuZy5kZXN0cm95KCk7dGhpcy5iPXRoaXMuZz1udWxsO3RoaXMuUiYmdGhpcy5SLnJlbW92ZSgpfSkpLmNhdGNoKGZ1bmN0aW9uKCl7fSl9O1cucHJvdG90eXBlLmRlc3Ryb3k9Vy5wcm90b3R5cGUuZGVzdHJveTtXLnByb3RvdHlwZS5VPWZ1bmN0aW9uKCl7dGhpcy5LPSEwO3JldHVybiBaZSh0aGlzKX07Vy5wcm90b3R5cGUudW5sb2FkPVcucHJvdG90eXBlLlU7CmZ1bmN0aW9uIFplKGEpe3ZhciBiO2EubCYmKGI9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigidW5sb2FkIikuc3RhcnQoKSk7aWYoIWEuYSlyZXR1cm4gYiYmYi5sb2coKSxQcm9taXNlLnJlc29sdmUoKTthLmgmJiRlKGEsInVubG9hZGluZyIpO2EuYi5wYXVzZSgpO2RiKGEuZyk7YWYoYSk7YmYoYSk7YS5pJiYoYS5pLmRlc3Ryb3koKSxhLmk9bnVsbCk7YS5hJiYoYS5hLmRlc3Ryb3koKSxhLmE9bnVsbCk7YS5mLmdldEJvb2woInd3d192aWRlb3NfcGxheWJhY2tfcmVtb3ZlX3NyY19hdHRyX29uX3VubG9hZCIsITEpP2EuYi5yZW1vdmVBdHRyaWJ1dGUoInNyYyIpOmEuYi5zcmM9IiI7dmFyIGM9YS5mLmdldEJvb2woInd3d19zaGFrYV9jbGVhcl9tZWRpYV9rZXlzX29uX3VubG9hZCIsITEpJiZhLmIuc2V0TWVkaWFLZXlzJiYiZnVuY3Rpb24iPT09dHlwZW9mIGEuYi5zZXRNZWRpYUtleXM/YS5iLnNldE1lZGlhS2V5cyhudWxsKTpQcm9taXNlLnJlc29sdmUoKSxjPWMudGhlbihmdW5jdGlvbigpe2ImJgpiLmxvZygpO2lmKGEuZi5nZXRCb29sKCJlbmFibGVfcDJwX3N1cHBvcnQiLCExKSl7dmFyIGM9eSh7dHlwZToidW5sb2FkIn0pO2EuZGlzcGF0Y2hFdmVudChjKX19KTthLmg9ITE7YS5PPSExO2EuQT0hMTthLnU9ITE7cmV0dXJuIGN9ZnVuY3Rpb24gY2YoYSxiKXtmb3IodmFyIGM9MDtjPGEubGVuZ3RoO2MrKyliLnB1c2goYVtjXS5jb250ZW50VHlwZSxhW2NdKX1XLnByb3RvdHlwZS5GYT1mdW5jdGlvbihhKXtyZXR1cm4gZGYodGhpcyxhKX07Vy5wcm90b3R5cGUubG9hZD1XLnByb3RvdHlwZS5GYTsKZnVuY3Rpb24gZGYoYSxiKXt2YXIgYzthLmwmJihjPWEubC5nZXRPcGVyYXRpb25Mb2dnZXIoImxvYWQiKS5zZXRTdGF0ZSgibG9hZGluZyIpLnN0YXJ0KCksYi5sPWIuZy5wZXJmb3JtYW5jZUxvZ2dlcj1hLmwpO2EuRyYmKGIuQWI9Yi5nLmFickxvZ2dlcj1hLkcpO2EuYmEmJihiLmlhPWEuYmEpO2EuY2EmJihiLkk9YS5jYSk7YS5nYSYmYi5VLnB1c2goYS5nYSk7ZWYoYixhLmIpO3ZhciBkPW51bGw7YS5LPSExO0UoYS5nLGIsInJlcGxpY2Fzd2l0Y2giLGEubmEuYmluZChhKSk7YS5hJiYoZD1aZShhKS50aGVuKEooYSxmdW5jdGlvbigpe3JldHVybiBiLndiKCl9KSkpO2EuYi5hdXRvcGxheSYmKHUucWEoImxvYWQiKSxFKGEuZyxhLmIsInRpbWV1cGRhdGUiLGEuZWQuYmluZChhKSkpO2IubGMoYS5jKTtiLmxhPWEuVDthLlQ9bnVsbDtkfHwoZD1iLndiKCkpO2EuZi5nZXRCb29sKCJmaXhfc2hha2FfcGxheWVyX2xvYWRfcmFjZV9jb25kaXRpb24iLCExKSYmKGEuYT1iKTtkLmNhdGNoKEooYSwKZnVuY3Rpb24oYSl7Yi5kZXN0cm95KCk7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfSkpO3JldHVybiBkLnRoZW4oSihhLGZ1bmN0aW9uKCl7aWYoZmYodGhpcyxiKSlyZXR1cm4gZ2YoKTt0aGlzLmE9Yjt0aGlzLmcuYWIodGhpcy5hLCJyZXBsaWNhc3dpdGNoIik7RSh0aGlzLmcsdGhpcy5hLCJzZWVrcmFuZ2VjaGFuZ2VkIix0aGlzLnBhLmJpbmQodGhpcykpO0UodGhpcy5nLHRoaXMuYSwiYWxsU3RyZWFtc1N0YXJ0ZWQiLHRoaXMuRmQuYmluZCh0aGlzKSk7dmFyIGE9bmV3IEQ7Y2YoTmUodGhpcy5hKSxhKTtQZSh0aGlzLmEsYSk7YT10aGlzLmVhKCk7YyYmMDxhLmxlbmd0aCYmKGE9YS5yZWR1Y2UoZnVuY3Rpb24oYSxiKXtpZihudWxsPT09YXx8Yi5iYW5kd2lkdGg8YS5iYW5kd2lkdGgpYT1iO3JldHVybiBhfSxudWxsKSxjLnNldExvd2VzdFF1YWxpdHlSZXByZXNlbnRhdGlvbklEKGEuc3RyZWFtSW5mb0lEKSk7aWYoIXRoaXMuYy5lbmFibGVDb250ZW50UHJvdGVjdGlvbilyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7CnRoaXMuaT1uZXcgTWUodGhpcyx0aGlzLmIsdGhpcy5hLHRoaXMubCk7cmV0dXJuIHRoaXMuaS5pbml0aWFsaXplKCl9KSkudGhlbihKKGEsZnVuY3Rpb24oKXtpZihmZih0aGlzLGIpKXJldHVybiBnZigpO2hmKHRoaXMpO0UodGhpcy5nLHRoaXMuYiwicGxheWluZyIsdGhpcy5rZC5iaW5kKHRoaXMpKTtFKHRoaXMuZyx0aGlzLmIsInBhdXNlIix0aGlzLm1hLmJpbmQodGhpcykpO0UodGhpcy5nLHRoaXMuYiwid2FpdGluZyIsdGhpcy5zZC5iaW5kKHRoaXMpKTtFKHRoaXMuZyx0aGlzLmIsInBsYXkiLHRoaXMuaWEuYmluZCh0aGlzKSk7cmV0dXJuIGpmKHRoaXMuYSx0aGlzLHRoaXMuYil9KSkudGhlbihKKGEsZnVuY3Rpb24oKXtpZihmZih0aGlzLGIpKXJldHVybiBnZigpO2lmKHRoaXMuYy5lbmFibGVDb250ZW50UHJvdGVjdGlvbil7dmFyIGE7dGhpcy5sJiYoYT10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJlbWVfYXR0YWNoIikpO3JldHVybiBTZSh0aGlzLmkpLnRoZW4oZnVuY3Rpb24oKXthJiYKYS5sb2coKX0pfXJldHVybiBQcm9taXNlLnJlc29sdmUoKX0pKS50aGVuKEooYSxmdW5jdGlvbigpe2lmKGZmKHRoaXMsYikpcmV0dXJuIGdmKCk7a2YodGhpcyk7YyYmYy51cGRhdGVTdGF0ZSgicmVhZHkiKS5sb2coKX0pKS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7YyYmYy5zZXRFcnJvcihKU09OLnN0cmluZ2lmeShhKSkubG9nKCk7aWYoZmYodGhpcyxiKSlyZXR1cm4gZ2YoKTtpZigiZGVzdHJveSIhPWEudHlwZSl7dmFyIGQ9QShhKTt0aGlzLmRpc3BhdGNoRXZlbnQoZCl9cmV0dXJuIHRoaXMuVSgpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYSl9KX0pKX1mdW5jdGlvbiBmZihhLGIpe3JldHVybiFhLmJ8fGEuS3x8YS5mLmdldEJvb2woImZpeF9zaGFrYV9wbGF5ZXJfbG9hZF9yYWNlX2NvbmRpdGlvbiIsITEpJiZiIT09YS5hfW49Vy5wcm90b3R5cGU7Cm4uRmQ9ZnVuY3Rpb24oKXt2YXIgYSxiO3RoaXMuZi5nZXRCb29sKCJ3d3dfdmlkZW9zX2V4dGVuZGVkX3NwbF9sb2dnaW5nX2Zvcl9jb25uZWN0ZWRfdHYiLCExKSYmdGhpcy5sJiYoYT10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJvbl9hbGxfc3RyZWFtc19zdGFydGVkIiksYj10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJyZXN0b3JlX3ZpZGVvX3BsYXliYWNrX3JhdGUiKSk7dGhpcy5PPSEwO3RoaXMuaD90aGlzLkQoKToodGhpcy5iLnBsYXliYWNrUmF0ZT10aGlzLmosYiYmYi5sb2coKSk7YSYmYS5sb2coKX07ZnVuY3Rpb24gZ2YoKXt2YXIgYT1FcnJvcigiUGxheWVyIGRlc3Ryb3llZCIpO2EudHlwZT0iZGVzdHJveSI7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfQpmdW5jdGlvbiBoZihhKXt2YXIgYj1hLmIucGFyZW50Tm9kZTtiJiZhLmYuZ2V0Qm9vbCgicHJldmVudF9wbGF5aW5nX29uX2luc3VmZmljaWVudF9idWZmZXIiLCExKSYmKGEuUj1ldmVudExpc3RlbmVyQ2FwdHVyZShiLCJwbGF5aW5nIixmdW5jdGlvbihhKXthLnRhcmdldD09PXRoaXMuYiYmdGhpcy5EKGEpfS5iaW5kKGEpKSl9bi5lZD1mdW5jdGlvbigpe3UuZW5kKCJsb2FkIik7dGhpcy5nLmFiKHRoaXMuYiwidGltZXVwZGF0ZSIpfTtuLnNkPWZ1bmN0aW9uKGEpe2xmKHRoaXMpO3RoaXMuZi5nZXRCb29sKCJ1bmlmeV9zdHJlYW1fc3RhcnRfd2l0aF9idWZmZXJfZGV0ZWN0b3IiLCExKSYmIXRoaXMuaCYmdGhpcy5EKGEpfTsKbi5rZD1mdW5jdGlvbigpe3UucWEoInBsYXlpbmciKTt0aGlzLmwmJnRoaXMubC5nZXRFdmVudExvZ2dlcigicGxheWluZyIpLnNldFN0YXRlKCJwbGF5aW5nIikubG9nKCk7IXRoaXMubSYmMD50aGlzLmomJih0aGlzLmIucGxheWJhY2tSYXRlPTAsdGhpcy5QKHRoaXMuYi5jdXJyZW50VGltZSxEYXRlLm5vdygpLHRoaXMuaikpO3RoaXMuaCYmIXRoaXMuViYmJGUodGhpcywicGxheWluZyIpfTtuLkJkPWZ1bmN0aW9uKGEpe3RoaXMudT1hfTtXLnByb3RvdHlwZS5zZXRQZW5kaW5nUGxheVJlcXVlc3Q9Vy5wcm90b3R5cGUuQmQ7Vy5wcm90b3R5cGUuaWE9ZnVuY3Rpb24oKXt0aGlzLnU9ITB9O1cucHJvdG90eXBlLm1hPWZ1bmN0aW9uKCl7dGhpcy5sJiZ0aGlzLmwuZ2V0RXZlbnRMb2dnZXIoInBhdXNlIikuc2V0U3RhdGUoInBhdXNlZCIpLmxvZygpO3UuZW5kKCJwbGF5aW5nIik7dS5nZXQoInBsYXlpbmciKTtiZih0aGlzKX07ClcucHJvdG90eXBlLnBhPWZ1bmN0aW9uKGEpe3RoaXMuRj1hLnN0YXJ0O3RoaXMuJD1hLmxhc3Q7dGhpcy5aPWEuZW5kO3RoaXMuUz1hLnNlZWtSYW5nZUdhcHM7dGhpcy5mLmdldEJvb2woIm5vX3NraXBfZ2Fwc19vbl9zZWVrX3JhbmdlX2NoYW5nZWQiLCExKXx8bGYodGhpcyl9O1cucHJvdG90eXBlLmVhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYT90aGlzLmEuWigpOltdfTtXLnByb3RvdHlwZS5nZXRWaWRlb1RyYWNrcz1XLnByb3RvdHlwZS5lYTtXLnByb3RvdHlwZS54YT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmE/dGhpcy5hLnZhKCk6W119O1cucHJvdG90eXBlLmdldEF1ZGlvVHJhY2tzPVcucHJvdG90eXBlLnhhO1cucHJvdG90eXBlLkRhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYT90aGlzLmEubWMoKTpbXX07Vy5wcm90b3R5cGUuZ2V0VGV4dFRyYWNrcz1XLnByb3RvdHlwZS5EYTsKVy5wcm90b3R5cGUuc2VsZWN0VmlkZW9UcmFjaz1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmE/dGhpcy5hLnNlbGVjdFZpZGVvVHJhY2soYSx2b2lkIDA9PWI/ITA6Yik6ITF9O1cucHJvdG90eXBlLnNlbGVjdFZpZGVvVHJhY2s9Vy5wcm90b3R5cGUuc2VsZWN0VmlkZW9UcmFjaztXLnByb3RvdHlwZS5HYT1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIHRoaXMuYT9tZih0aGlzLmEsImF1ZGlvIixhLHZvaWQgMD09Yj8hMDpiLGMpOiExfTtXLnByb3RvdHlwZS5zZWxlY3RBdWRpb1RyYWNrPVcucHJvdG90eXBlLkdhO1cucHJvdG90eXBlLkhhPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmE/bWYodGhpcy5hLCJ0ZXh0IixhLCExKTohMX07Vy5wcm90b3R5cGUuc2VsZWN0VGV4dFRyYWNrPVcucHJvdG90eXBlLkhhO1cucHJvdG90eXBlLndhPWZ1bmN0aW9uKGEpe3RoaXMuYSYmbmYodGhpcy5hLGEpfTtXLnByb3RvdHlwZS5lbmFibGVUZXh0VHJhY2s9Vy5wcm90b3R5cGUud2E7ClcucHJvdG90eXBlLnJhPWZ1bmN0aW9uKGEpe2JmKHRoaXMpO3RoaXMudyYmdGhpcy5ofHwhKDA8PWEpP3RoaXMuYi5wYXVzZWR8fCh0aGlzLmIucGxheWJhY2tSYXRlPTAsdGhpcy5QKHRoaXMuYi5jdXJyZW50VGltZSxEYXRlLm5vdygpLGEpKTp0aGlzLmIucGxheWJhY2tSYXRlPWE7dGhpcy5qPWF9O1cucHJvdG90eXBlLnNldFBsYXliYWNrUmF0ZT1XLnByb3RvdHlwZS5yYTtXLnByb3RvdHlwZS5rYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmp9O1cucHJvdG90eXBlLmdldFBsYXliYWNrUmF0ZT1XLnByb3RvdHlwZS5rYTtXLnByb3RvdHlwZS5DYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmE/dGhpcy5hLk9iKCk6bnVsbH07Vy5wcm90b3R5cGUuZ2V0TWFuaWZlc3Q9Vy5wcm90b3R5cGUuQ2E7Vy5wcm90b3R5cGUuUGE9ZnVuY3Rpb24oYSl7dGhpcy5UPWF9O1cucHJvdG90eXBlLnNldFBsYXliYWNrU3RhcnRUaW1lPVcucHJvdG90eXBlLlBhOwpXLnByb3RvdHlwZS5JPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYT8hIXRoaXMuYS5QKCk6ITF9O1cucHJvdG90eXBlLmlzTGl2ZT1XLnByb3RvdHlwZS5JOwpXLnByb3RvdHlwZS52YT1mdW5jdGlvbihhKXtpZihhKXt2YXIgYj1CKGEsImVuYWJsZUFkYXB0YXRpb24iKTtudWxsIT1iJiYodGhpcy5jLmVuYWJsZUFkYXB0YXRpb249Yik7Yj1CKGEsImVuZEJ1ZmZlcmluZ09uUGxheWluZyIpO251bGwhPWImJih0aGlzLlY9Yik7Yj1CKGEsInVzZVBsYXliYWNrUmF0ZUZvckJ1ZmZlcmluZyIpO251bGwhPWImJih0aGlzLnc9Yik7Yj1DKGEsInN0cmVhbUJ1ZmZlclNpemUiLDApO251bGwhPWImJih0aGlzLmMuc3RyZWFtQnVmZmVyU2l6ZT1iKTtiPUMoYSwiZHluYW1pY1N0cmVhbUJ1ZmZlclNpemUiLDApO251bGwhPWImJih0aGlzLmMuZHluYW1pY1N0cmVhbUJ1ZmZlclNpemU9Yik7bnVsbCE9YS5zbWFydEJ1ZmZlckFkanVzdG1lbnRQYXJhbXMmJih0aGlzLmMuc21hcnRCdWZmZXJBZGp1c3RtZW50UGFyYW1zPWEuc21hcnRCdWZmZXJBZGp1c3RtZW50UGFyYW1zKTtiPUIoYSwiYWRkQ2RuRGVidWdRdWVyeVBhcmFtZXRlcnMiKTtudWxsIT1iJiYKKHRoaXMuYy5hZGRDZG5EZWJ1Z1F1ZXJ5UGFyYW1ldGVycz1iKTtiPUMoYSwiaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemUiLDApO251bGwhPWImJih0aGlzLmMuaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemU9Yik7Yj1CKGEsImluY2x1ZGVTdHJlYW1CdWZmZXJTaXplSW5TdGFydE9mZnNldCIpO251bGwhPWImJih0aGlzLmMuaW5jbHVkZVN0cmVhbUJ1ZmZlclNpemVJblN0YXJ0T2Zmc2V0PWIpO2I9QyhhLCJqdW1wVG9MaXZlVGhyZXNob2xkIik7bnVsbCE9YiYmKHRoaXMuYy5qdW1wVG9MaXZlVGhyZXNob2xkPWIpO2I9QyhhLCJsaXZlU3RyZWFtRW5kVGltZW91dCIsMCk7bnVsbCE9YiYmKHRoaXMuYy5saXZlU3RyZWFtRW5kVGltZW91dD1iKTtiPUMoYSwibGljZW5zZVJlcXVlc3RUaW1lb3V0IiwwKTtudWxsIT1iJiYodGhpcy5jLmxpY2Vuc2VSZXF1ZXN0VGltZW91dD1iKTtiPUMoYSwibXBkUmVxdWVzdFRpbWVvdXQiLDApO251bGwhPWImJih0aGlzLmMubXBkUmVxdWVzdFRpbWVvdXQ9CmIpO2I9QyhhLCJtaW5NcGRSZWZyZXNoSW50ZXJ2YWwiLDApO251bGwhPWImJih0aGlzLmMubWluTXBkUmVmcmVzaEludGVydmFsPWIpO2I9QihhLCJlbmFibGVMaXZlSW50ZXJydXB0aW9uRGV0ZWN0aW9uIik7bnVsbCE9YiYmKHRoaXMuYy5lbmFibGVMaXZlSW50ZXJydXB0aW9uRGV0ZWN0aW9uPWIpO2I9QihhLCJlbmFibGVNYW5pZmVzdERlYnVnIik7bnVsbCE9YiYmKHRoaXMuYy5lbmFibGVNYW5pZmVzdERlYnVnPWIsRi5wcm90b3R5cGUub2M9YixifHwoRi5wcm90b3R5cGUuTGE9ZnVuY3Rpb24oKXt9KSk7Yj1CKGEsInJlc29sdmVWaWRlb1RpbWVVcGRhdGVPbkZyYWdtZW50ZWRUaW1lUmFuZ2VzIik7bnVsbCE9YiYmKHRoaXMuYy5yZXNvbHZlVmlkZW9UaW1lVXBkYXRlT25GcmFnbWVudGVkVGltZVJhbmdlcz1iKTtiPUMoYSwibGl2ZUludGVycnVwdGlvbkNvbnNlY3V0aXZlVXBkYXRlc1dpdGhvdXRDaGFuZ2UiKTtudWxsIT1iJiYodGhpcy5jLmxpdmVJbnRlcnJ1cHRpb25Db25zZWN1dGl2ZVVwZGF0ZXNXaXRob3V0Q2hhbmdlPQpiKTtiPUMoYSwibGl2ZUludGVycnVwdGlvbkNvbnNlY3V0aXZlVXBkYXRlc1dpdGhDaGFuZ2UiKTtudWxsIT1iJiYodGhpcy5jLmxpdmVJbnRlcnJ1cHRpb25Db25zZWN1dGl2ZVVwZGF0ZXNXaXRoQ2hhbmdlPWIpO2I9QihhLCJyZWFwcGVuZEluaXRTZWdtZW50QWZ0ZXJBYm9ydCIpO251bGwhPWImJih0aGlzLmMucmVhcHBlbmRJbml0U2VnbWVudEFmdGVyQWJvcnQ9Yik7Yj1CKGEsImxpdmVTZW5kUHVzaEhlYWRlcnMiKTtudWxsIT1iJiYodGhpcy5jLmxpdmVTZW5kUHVzaEhlYWRlcnM9Yik7Yj1DKGEsImxpdmVNYXhNYW5pZmVzdEZldGNoZXNXaXRoUHVzaCIpO251bGwhPWImJih0aGlzLmMubGl2ZU1heE1hbmlmZXN0RmV0Y2hlc1dpdGhQdXNoPWIpO2I9QyhhLCJsaXZlTWF4U2VnbWVudHNUb1B1c2giKTtudWxsIT1iJiYodGhpcy5jLmxpdmVNYXhTZWdtZW50c1RvUHVzaD1iKTtiPUMoYSwic2VnbWVudFJlcXVlc3RUaW1lb3V0IiwwKTtudWxsIT1iJiYodGhpcy5jLnNlZ21lbnRSZXF1ZXN0VGltZW91dD0KYik7Yj1ZYShhLCJwcmVmZXJyZWRMYW5ndWFnZSIpO251bGwhPWImJih0aGlzLmMucHJlZmVycmVkTGFuZ3VhZ2U9Yik7Yj1aYShhLCJyZXN0cmljdGlvbnMiLGthKTtudWxsIT1iJiYodGhpcy5jLnJlc3RyaWN0aW9ucz1iLmNsb25lKCkpO2I9YS5saXZlSW5pdGlhbFB1c2hSZXByZXNlbnRhdGlvbjtudWxsIT1iJiYodGhpcy5jLmxpdmVJbml0aWFsUHVzaFJlcHJlc2VudGF0aW9uPWIpO2I9YS5saXZlQXVkaW9QdXNoUmVwcmVzZW50YXRpb247bnVsbCE9YiYmKHRoaXMuYy5saXZlQXVkaW9QdXNoUmVwcmVzZW50YXRpb249Yik7Yj1hLnVzZUlubGluZUluaXRTZWdtZW50O251bGwhPWImJih0aGlzLmMudXNlSW5saW5lSW5pdFNlZ21lbnQ9Yik7Yj1CKGEsImRpc2FibGVDYWNoZUJ1c3RpbmdFdmVuVGhvdWdoSXRNYXlBZmZlY3RCYW5kd2lkdGhFc3RpbWF0aW9uIik7bnVsbCE9YiYmKFRjPSFiKTtiPUIoYSwiY3VycmVudFRpbWVEdXJpbmdSZWFkeVN0YXRlWmVyb1Rocm93cyIpO251bGwhPQpiJiYodGhpcy5jLmN1cnJlbnRUaW1lRHVyaW5nUmVhZHlTdGF0ZVplcm9UaHJvd3M9Yik7Yj1DKGEsImxpdmVEYXRhRmV0Y2hNYXhSZXRyaWVzIik7bnVsbCE9YiYmKHRoaXMuYy5saXZlRGF0YUZldGNoTWF4UmV0cmllcz1iKTtiPUMoYSwibGl2ZVNvdXJjZUJ1ZmZlckNsZWFyTWF4UmV0cmllcyIpO251bGwhPWImJih0aGlzLmMubGl2ZVNvdXJjZUJ1ZmZlckNsZWFyTWF4UmV0cmllcz1iKTtiPUIoYSwidXNlTG9uZ0NhY2hlRm9yTWFuaWZlc3QiKTtudWxsIT1iJiYodGhpcy5jLnVzZUxvbmdDYWNoZUZvck1hbmlmZXN0PWIpO2I9QihhLCJqdW1wVG9FYXJsaWVzdFBvc2l0aW9uSW5DdXJyZW50QmxvY2siKTtudWxsIT1iJiYodGhpcy5jLmp1bXBUb0VhcmxpZXN0UG9zaXRpb25JbkN1cnJlbnRCbG9jaz1iKTtiPUIoYSwiaWdub3JlTWluQnVmZmVyVGltZSIpO251bGwhPWImJih0aGlzLmMuaWdub3JlTWluQnVmZmVyVGltZT1iKTtiPUMoYSwicGxheWhlYWRGcmFnbWVudGVkR2FwRGlmZkFsbG93YW5jZSIpOwpudWxsIT1iJiYodGhpcy5jLnBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2U9Yik7Yj1CKGEsImZpeEJ1ZmZlcmluZ0dvYWxEZXRlcm1pbmF0aW9uIik7bnVsbCE9YiYmKHRoaXMuYy5maXhCdWZmZXJpbmdHb2FsRGV0ZXJtaW5hdGlvbj1iKTtiPUIoYSwic2tpcEVtcHR5U2VnbWVudHMiKTtudWxsIT1iJiYodGhpcy5jLnNraXBFbXB0eVNlZ21lbnRzPWIpOyhiPUIoYSwidXNlTWljcm9UYXNrVGltZW91dHMiKSkmJih0aGlzLmMudXNlTWljcm9UYXNrVGltZW91dHM9Yik7KGI9QihhLCJlbmFibGVSZXF1ZXN0UGlwZWxpbmluZyIpKSYmKHRoaXMuYy5lbmFibGVSZXF1ZXN0UGlwZWxpbmluZz1iKTsoYj1CKGEsImVuYWJsZVN0cmVhbWluZyIpKSYmKHRoaXMuYy5lbmFibGVTdHJlYW1pbmc9Yik7KGE9QihhLCJlbmFibGVDb250ZW50UHJvdGVjdGlvbiIpKSYmKHRoaXMuYy5lbmFibGVDb250ZW50UHJvdGVjdGlvbj1hKTt0aGlzLmEmJnRoaXMuYS5sYyh0aGlzLmMpfX07ClcucHJvdG90eXBlLmNvbmZpZ3VyZT1XLnByb3RvdHlwZS52YTtXLnByb3RvdHlwZS5PYT1mdW5jdGlvbihhKXt0aGlzLmEmJnRoaXMuYS5xYyhhKX07Vy5wcm90b3R5cGUuc2V0RW5hYmxlTGl2ZWhlYWRDYXRjaHVwPVcucHJvdG90eXBlLk9hO1cucHJvdG90eXBlLkVhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYT90aGlzLmEubmE6ITF9O1cucHJvdG90eXBlLmlzTGl2ZWhlYWRDYXRjaHVwRW5hYmxlZD1XLnByb3RvdHlwZS5FYTsKZnVuY3Rpb24gbGYoYSl7aWYoYS5mLmdldEJvb2woInNraXBfbWFuaWZlc3RfZ2FwX2Jhc2VkX29uX3N0cmVhbV9saW1pdHMiLCExKSYmKCFhLkkoKXx8IWEuZi5nZXRCb29sKCJub19za2lwX21hbmlmZXN0X2dhcHNfaWZfbGl2ZSIsITEpKSl7dmFyIGI7YS5mLmdldEJvb2woInNraXBfbWFuaWZlc3RfZ2Fwc191c2VfY2FjaGVkX3N0cmVhbV9saW1pdHMiLCExKT9hLmEmJm51bGwhPT1hLlM/Yj17c3RhcnQ6YS5GLGVuZDphLlosbGFzdDphLiQsWmE6YS5TfTpiPWEuYT9hLmEubmIoKTpudWxsOmI9YS5hP2EuYS5uYigpOm51bGw7aWYoYilmb3IodmFyIGM9YS5mLmdldE51bWJlcigic2tpcF9tYW5pZmVzdF9nYXBfYm91bmRhcnlfcHJlY2lzaW9uX21zIiwxRTMpLzFFMyxkPWIuWmEsZT1hLmIucGxheWJhY2tSYXRlLGY9YS5iLmN1cnJlbnRUaW1lLGc9MDtnPGQubGVuZ3RoOysrZyl7dmFyIGg9ZFtnXS5zdGFydFRpbWUtYyxrPWRbZ10uZW5kVGltZStjO2Y8PWsmJmY+PWgmJihhLmYuZ2V0Qm9vbCgiZml4X3NlZWtfcmFuZ2VfZ2FwX2JvdW5kYXJ5IiwKITEpfHwoaD1kW2ddLnN0YXJ0VGltZSxrPWRbZ10uZW5kVGltZSksMDw9ZT9iLmVuZD5rJiYoYS5iLmN1cnJlbnRUaW1lPWspOmIuc3RhcnQ8aCYmKGEuYi5jdXJyZW50VGltZT1oKSl9fX1XLnByb3RvdHlwZS5sYT1mdW5jdGlvbigpe3ZhciBhPXRoaXMuYSYmdGhpcy5hLm5iKCk7cmV0dXJuKGE9YSYme3N0YXJ0OmEuc3RhcnQsZW5kOmEuZW5kLGxhc3Q6YS5sYXN0LHNlZWtSYW5nZUdhcHM6YS5aYX0pfHxudWxsfTtXLnByb3RvdHlwZS5nZXRWaWRlb1NvdXJjZVN0cmVhbUxpbWl0cz1XLnByb3RvdHlwZS5sYTtXLnByb3RvdHlwZS55YT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmN9O1cucHJvdG90eXBlLmdldENvbmZpZ3VyYXRpb249Vy5wcm90b3R5cGUueWE7ZnVuY3Rpb24gYmYoYSl7YS5tJiYoY2xlYXJUaW1lb3V0KGEubSksYS5tPW51bGwpfQpmdW5jdGlvbiBrZihhKXt2YXIgYjthLmYuZ2V0Qm9vbCgid3d3X3ZpZGVvc19leHRlbmRlZF9zcGxfbG9nZ2luZ19mb3JfY29ubmVjdGVkX3R2IiwhMSkmJmEubCYmKGI9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigic3RhcnRfd2F0Y2hkb2ciKSk7YWYoYSk7YS5KPXNldFRpbWVvdXQoYS5ELmJpbmQoYSksMTAwKTtiJiZiLmxvZygpfWZ1bmN0aW9uIGFmKGEpe3ZhciBiO2EuZi5nZXRCb29sKCJ3d3dfdmlkZW9zX2V4dGVuZGVkX3NwbF9sb2dnaW5nX2Zvcl9jb25uZWN0ZWRfdHYiLCExKSYmYS5sJiYoYj1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJjYW5jZWxfd2F0Y2hkb2ciKSk7YS5KJiYoY2xlYXJUaW1lb3V0KGEuSiksYS5KPW51bGwpO2ImJmIubG9nKCl9ClcucHJvdG90eXBlLlA9ZnVuY3Rpb24oYSxiLGMpe3RoaXMubT1udWxsO3ZhciBkPShEYXRlLm5vdygpLWIpLzFFMypjO3RoaXMuYi5jdXJyZW50VGltZTx0aGlzLkYrKHRoaXMuSSgpPzE6LjA1KT90aGlzLmIucGF1c2UoKTooZD1NYXRoLm1heCh0aGlzLkYsYStkKSx0aGlzLmIuY3VycmVudFRpbWU9ZCx0aGlzLm09c2V0VGltZW91dCh0aGlzLlAuYmluZCh0aGlzLGEsYixjKSwyNTApKX07ZnVuY3Rpb24gb2YoYSl7cmV0dXJuIGEuZi5nZXRCb29sKCJ1bmlmeV9zdHJlYW1fc3RhcnRfd2l0aF9idWZmZXJfZGV0ZWN0b3IiLCExKSYmIWEuT30KZnVuY3Rpb24gJGUoYSxiKXtpZighb2YoYSkpe3UuZW5kKCJidWZmZXJpbmciKTtudWxsIT09YS5CJiYoYS5CPW51bGwpO2EubyYmKGEuby5zZXRDb25jbHVkZXIoYikubG9nKCksYS5vPW51bGwpO2lmKGEuRyl7dmFyIGM9RGF0ZS5ub3coKTthLkcuc2V0RXZlbnQoImJ1ZmZlcmluZyIpLnNldENsaWVudFRpbWVCZWdpbihNYXRoLnJvdW5kKGMtdS5nZXQoImJ1ZmZlcmluZyIpKSkuc2V0Q2xpZW50VGltZUVuZChNYXRoLnJvdW5kKGMpKS5sb2coKX1hLncmJihhLmIucGxheWJhY2tSYXRlPWEuaik7YS5oPSExO2EuZGlzcGF0Y2hFdmVudCh5KHt0eXBlOiJidWZmZXJpbmdFbmQifSkpO2EuQSYmKGEuQT0hMSxkaXNwYXRjaERvbUV2ZW50KGEuYiwicGxheWluZyIpKTthLnU9ITF9fVcucHJvdG90eXBlLmphPWZ1bmN0aW9uKGEpe3RoaXMuZGlzcGF0Y2hFdmVudCh5KGEpKX07Vy5wcm90b3R5cGUuZGlzcGF0Y2hFdmVudEV4dGVybj1XLnByb3RvdHlwZS5qYTsKZnVuY3Rpb24gcGYoYSl7dmFyIGI9YS5iLmJ1ZmZlcmVkO2lmKDE9PT1iLmxlbmd0aCliPWIuZW5kKDApO2Vsc2UgaWYoMD09PWIubGVuZ3RoKWI9MDtlbHNle2Zvcih2YXIgYz0wLGQ9MDtkPGIubGVuZ3RoOysrZCliLmVuZChkKT49YS5iLmN1cnJlbnRUaW1lJiYoYz1iLnN0YXJ0KGQpPD1hLmIuY3VycmVudFRpbWU/YysoYi5lbmQoZCktYS5iLmN1cnJlbnRUaW1lKTpjKyhiLmVuZChkKS1iLnN0YXJ0KGQpKSk7cmV0dXJuIGN9cmV0dXJuIE1hdGgubWF4KGItYS5iLmN1cnJlbnRUaW1lLDApfQpXLnByb3RvdHlwZS5EPWZ1bmN0aW9uKGEpe2lmKCF0aGlzLmYuZ2V0Qm9vbCgicHJldmVudF9wbGF5aW5nX29uX2luc3VmZmljaWVudF9idWZmZXIiLCExKXx8IXRoaXMuSyl7a2YodGhpcyk7dmFyIGI9YT9hLnR5cGU6IiIsYz0id2FpdGluZyI9PT1iO2lmKCF0aGlzLmIuZW5kZWQmJiF0aGlzLmIuc2Vla2luZ3x8Yyl7dmFyIGQ7dGhpcy5mLmdldEJvb2woInd3d192aWRlb3NfZXh0ZW5kZWRfc3BsX2xvZ2dpbmdfZm9yX2Nvbm5lY3RlZF90diIsITEpJiZ0aGlzLmwmJihkPXRoaXMubC5nZXRPcGVyYXRpb25Mb2dnZXIoIndhdGNoZG9nIikpO3ZhciBlPXRoaXMuYi5idWZmZXJlZCxmPWUubGVuZ3RoP2UuZW5kKGUubGVuZ3RoLTEpOjAsZzt0aGlzLmYuZ2V0Qm9vbCgiZml4X3Vuc3RhbGxfYnVmZmVyX2NhbGN1bGF0aW9uIiwhMSk/Zz1wZih0aGlzKTpnPU1hdGgubWF4KGYtdGhpcy5iLmN1cnJlbnRUaW1lLDApO3ZhciBoPXRoaXMuYi5jdXJyZW50VGltZSxlPXRoaXMuSSgpP3RoaXMuZi5nZXROdW1iZXIoImxpdmVfYnVmZmVyaW5nX3VuZGVyZmxvd190aHJlc2hvbGQiLAouNSk6dGhpcy5mLmdldE51bWJlcigiYnVmZmVyaW5nX3VuZGVyZmxvd190aHJlc2hvbGQiLDApLGs9dGhpcy5iLmR1cmF0aW9uLGs9aXNOYU4oayk/MDpNYXRoLm1heChrLS4wNSwwKSxmPWY+PWt8fGg+PWssYj1ifHwid2F0Y2hkb2dfdGltZXIiO2lmKHRoaXMuaCl7cWYodGhpcyxhKTthPXJmKHRoaXMuYSk7dmFyIGw9MDxhP2cvYTowO2c+YXx8c2YodGhpcy5hKXx8dGhpcy5mLmdldEJvb2woImZpeF9idWZmZXJpbmdfYXRfdGhlX2VuZF9vZl9wbGF5YmFjayIsITApJiZmPygkZSh0aGlzLGIpLHRoaXMuWSYmIXRoaXMudyYmdGhpcy5iLnBsYXkoKSk6dGhpcy5CIT09bCYmKHRoaXMuQj1sLHRoaXMuZGlzcGF0Y2hFdmVudCh5KHt0eXBlOiJidWZmZXJpbmdQcm9ncmVzcyIscHJvZ3Jlc3M6bH0pKSl9ZWxzZSB0aGlzLmIucGF1c2VkJiYhY3x8ISghZiYmZzxlfHxvZih0aGlzKSl8fCh0aGlzLmg9ITAsdGhpcy53P3RoaXMuYi5wbGF5YmFja1JhdGU9MDp0aGlzLmIucGF1c2UoKSx0aGlzLmwmJgohdGhpcy5vJiYoZz10aGlzLmIuYnVmZmVyZWQsZz1nLmxlbmd0aD9nLmVuZChnLmxlbmd0aC0xKTowLHRoaXMuZi5nZXRCb29sKCJmaXhfdW5zdGFsbF9idWZmZXJfY2FsY3VsYXRpb24iLCExKT9sPXBmKHRoaXMpOmw9TWF0aC5tYXgoZy10aGlzLmIuY3VycmVudFRpbWUsMCksZz0xRTMqKHJmKHRoaXMuYSktbCksdGhpcy5vPXRoaXMubC5nZXRPcGVyYXRpb25Mb2dnZXIoImJ1ZmZlcmluZyIpLnNldExlbmd0aChNYXRoLnJvdW5kKGcpKS5zZXRUeXBlKHRoaXMudT8ic3RhcnQvdW5wYXVzZSI6ImluX3BsYXkiKS5zZXRJbml0aWF0b3IoYikuc3RhcnQoKSksdS5xYSgiYnVmZmVyaW5nIiksdGhpcy5kaXNwYXRjaEV2ZW50KHkoe3R5cGU6ImJ1ZmZlcmluZ1N0YXJ0In0pKSx0aGlzLmYuZ2V0Qm9vbCgibm9fc2tpcF9nYXBzX29uX2J1ZmZlcmluZyIsITEpfHxsZih0aGlzKSxxZih0aGlzLGEpKSxzZih0aGlzLmEpJiYkZSh0aGlzLGIpO2QmJmQubG9nKCl9ZWxzZSB0aGlzLmYuZ2V0Qm9vbCgiZml4X2ZmX2luX3BsYXlfc3RhbGxfdXBvbl9zZWVrIiwKITEpJiZxZih0aGlzLGEpfX07Vy5wcm90b3R5cGUubmE9ZnVuY3Rpb24oYSl7dGhpcy5kaXNwYXRjaEV2ZW50KGEpfTtmdW5jdGlvbiBxZihhLGIpe2ImJiJwbGF5aW5nIj09PWIudHlwZSYmKGEuQT0hMCxldmVudEtpbGwoYikpfVcucHJvdG90eXBlLnRhPWZ1bmN0aW9uKGEpe2lmKHRoaXMuYSl7dmFyIGI9dGhpcy5hO2IuYy52aWRlbyYmYi5jLnZpZGVvLkpjKGEpfX07Vy5wcm90b3R5cGUuc2V0VmlkZW9TdHJlYW1PZmZzZXQ9Vy5wcm90b3R5cGUudGE7ZnVuY3Rpb24gdGYoYSl7Zm9yKHZhciBiPTA7YjxhLmxlbmd0aDsrK2IpZm9yKHZhciBjPWFbYl0sZD0wO2Q8Yy5hLmxlbmd0aDsrK2Qpe2Zvcih2YXIgZT1jLmFbZF0sZj1lLGc9L3ZpZGVvXC93ZWJtOyBjb2RlY3M9ImF2MDEuKiIvLGg9ITEsaz0wO2s8Zi52Lmxlbmd0aDsrK2spe3ZhciBsPWYudltrXTtPZShOZChsKSk/Zy50ZXN0KE5kKGwpKSYmKGg9ITApOihmLnYuc3BsaWNlKGssMSksLS1rKX1pZihoKWZvcihrPTA7azxmLnYubGVuZ3RoOysraylsPWYudltrXSxnLnRlc3QoTmQobCkpfHwoZi52LnNwbGljZShrLDEpLC0tayk7MD09ZS52Lmxlbmd0aCYmKGMuYS5zcGxpY2UoZCwxKSwtLWQpfWZvcihiPTA7YjxhLmxlbmd0aDsrK2IpZm9yKGM9YVtiXSxkPTA7ZDxjLmEubGVuZ3RoOysrZCljLmFbZF0udi5zb3J0KHVmKX0KZnVuY3Rpb24gdWYoYSxiKXt2YXIgYz1hLmJhbmR3aWR0aHx8TnVtYmVyLk1BWF9WQUxVRSxkPWIuYmFuZHdpZHRofHxOdW1iZXIuTUFYX1ZBTFVFO3JldHVybiBjPGQ/LTE6Yz5kPzE6MH07ZnVuY3Rpb24gdmYoYSl7dGhpcy5hPWF9dmYucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmEuZGVzdHJveSgpO3RoaXMuYT1udWxsfTt2Zi5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKGEpe3ZhciBiPXdmKGEsbnVsbCksYz13Zih0aGlzLmEsYSk7cmV0dXJuIFByb21pc2UuYWxsKFtiLGNdKS50aGVuKEoodGhpcyxmdW5jdGlvbihiKXt2YXIgYz1iWzBdO2I9YlsxXTt0Zih0aGlzLmEuYSk7YS5iJiYhdGhpcy5hLmImJihhLmg9ITApO2EuYz10aGlzLmEuYzthLmk9dGhpcy5hLmk/dGhpcy5hLmkuY2xvbmUoKTpudWxsO2EuZz10aGlzLmEuZzt2YXIgZj1bXTt4ZihhLHRoaXMuYSxjLGIsZik7dGYoYS5hKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGYpfSkpfTsKZnVuY3Rpb24gd2YoYSxiKXtmdW5jdGlvbiBjKGEsYil7cmV0dXJuIGEuY29uY2F0KGIpfXZhciBkPWEuYS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuYX0pLnJlZHVjZShjLFtdKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEudn0pLnJlZHVjZShjLFtdKTtpZihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInRlbXBsYXRlZF9sYXN0X3hfdGltZWxpbmUiLCExKSYmYil2YXIgZT1iLmEubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLmF9KS5yZWR1Y2UoYyxbXSkubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLnZ9KS5yZWR1Y2UoYyxbXSkubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLk0uY3JlYXRlKCl9KSxlPVByb21pc2UuYWxsKGUpLnRoZW4oZnVuY3Rpb24oYSl7Zm9yKHZhciBiPU51bWJlci5QT1NJVElWRV9JTkZJTklUWSxjPTA7YzxhLmxlbmd0aDsrK2Mpe3ZhciBlPWFbY107ZS5sZW5ndGgoKSYmZS5sYXN0KCkudW5zY2FsZWRTdGFydFRpbWU8YiYmKGI9ZS5sYXN0KCkudW5zY2FsZWRTdGFydFRpbWUpfWI9CmEubGVuZ3RoP2I6bnVsbDthPWQubWFwKGZ1bmN0aW9uKGEpe2EuTS5FYyYmYS5NLkVjKGIpO3JldHVybiBhLk0uY3JlYXRlKCl9KTtyZXR1cm4gUHJvbWlzZS5hbGwoYSl9KTtlbHNlIGU9ZC5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuTS5jcmVhdGUoKX0pLGU9UHJvbWlzZS5hbGwoZSk7cmV0dXJuIGUudGhlbihmdW5jdGlvbihhKXtmb3IodmFyIGI9e30sYz0wO2M8ZC5sZW5ndGg7KytjKWJbZFtjXS5YXT1hW2NdO3JldHVybiBQcm9taXNlLnJlc29sdmUoYil9KX0KZnVuY3Rpb24geGYoYSxiLGMsZCxlKXt2YXIgZj1uZXcgRDthLmEuZm9yRWFjaChmdW5jdGlvbihhLGIpe2YucHVzaChhLmlkfHwiIitiLGEpfSk7dmFyIGc9bmV3IEQ7Yi5hLmZvckVhY2goZnVuY3Rpb24oYSxiKXtnLnB1c2goYS5pZHx8IiIrYixhKX0pO2E9YWIoZik7Zm9yKGI9MDtiPGEubGVuZ3RoOysrYil7dmFyIGg9YVtiXSxrPWYuZ2V0KGgpOzE8ay5sZW5ndGh8fChoPWcuZ2V0KGgpKSYmMCE9aC5sZW5ndGgmJjE9PWgubGVuZ3RoJiYoeWYoa1swXSxoWzBdLGMsZCxlKSxrWzBdLmR1cmF0aW9uPWhbMF0uZHVyYXRpb24pfX0KZnVuY3Rpb24geWYoYSxiLGMsZCxlKXt2YXIgZj1uZXcgRDthLmEuZm9yRWFjaChmdW5jdGlvbihhLGIpe2YucHVzaChhLmlkfHwiIitiLGEpfSk7dmFyIGc9bmV3IEQ7Yi5hLmZvckVhY2goZnVuY3Rpb24oYSxiKXtnLnB1c2goYS5pZHx8IiIrYixhKX0pO2E9YWIoZik7Zm9yKGI9MDtiPGEubGVuZ3RoOysrYil7dmFyIGg9YVtiXSxrPWYuZ2V0KGgpOzE8ay5sZW5ndGh8fChoPWcuZ2V0KGgpKSYmMCE9aC5sZW5ndGgmJjE9PWgubGVuZ3RoJiZ6ZihrWzBdLGhbMF0sYyxkLGUpfX0KZnVuY3Rpb24gemYoYSxiLGMsZCxlKXt2YXIgZj1uZXcgRDthLnYuZm9yRWFjaChmdW5jdGlvbihhLGIpe2YucHVzaChhLmlkfHwiIitiLGEpfSk7dmFyIGc9bmV3IEQ7Yi52LmZvckVhY2goZnVuY3Rpb24oYSxiKXtnLnB1c2goYS5pZHx8IiIrYixhKX0pO2I9e307Zm9yKHZhciBoPWFiKGYpLGs9MDtrPGgubGVuZ3RoOysrayl7dmFyIGw9aFtrXTtiW2xdPWw7dmFyIG09Zi5nZXQobCk7MTxtLmxlbmd0aHx8KChsPWcuZ2V0KGwpKSYmMCE9bC5sZW5ndGg/MT09bC5sZW5ndGgmJihCZihtWzBdLGxbMF0sYyxkKSxtWzBdLmFhPWxbMF0uYWEsbFswXS5hYT1udWxsLG1bMF0uYT1sWzBdLmEsVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJyZWZyZXNoX2JhbmR3aWR0aF9mcm9tX2xpdmVfbWFuaWZlc3QiLCExKSYmKG1bMF0uYmFuZHdpZHRoPWxbMF0uYmFuZHdpZHRoKSk6KGUucHVzaChtWzBdKSxhLnYuc3BsaWNlKGEudi5pbmRleE9mKG1bMF0pLDEpKSl9aD1hYihnKTsKZm9yKGs9MDtrPGgubGVuZ3RoOysraylsPWhba10sYltsXXx8KGJbbF09bCxsPWcuZ2V0KGwpLGEudi5wdXNoKGxbMF0pKX1mdW5jdGlvbiBCZihhLGIsYyxkKXthPWNbYS5YXTtjPWRbYi5YXTtkPShiPWEubGVuZ3RoKCkpP2EubGFzdCgpLmVuZFRpbWU6MDtpZihhLkIoYykpe2M9YS5sZW5ndGgoKTt2YXIgZT0hMTtWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInJvYnVzdF9jb3VudF9jaGFuZ2VzIiwhMSkmJihlPSEhYyYmYS5sYXN0KCkuZW5kVGltZT5kKTthLmcucHVzaChiIT09Y3x8ZSk7NTA8YS5nLmxlbmd0aCYmYS5nLnNoaWZ0KCl9fTtmdW5jdGlvbiBYKCl7dGhpcy5hPXRoaXMuYj1udWxsO3RoaXMuZj1uZXcgYmI7dGhpcy5jPU51bWJlci5QT1NJVElWRV9JTkZJTklUWTt0aGlzLmk9ITA7dGhpcy5nPSExfXEoInNoYWthLm1lZGlhLlNpbXBsZUFick1hbmFnZXIiLFgpO1gucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmYuZGVzdHJveSgpO3RoaXMuYT10aGlzLmI9dGhpcy5mPW51bGx9O1gucHJvdG90eXBlLmluaXRpYWxpemU9ZnVuY3Rpb24oYSxiKXt0aGlzLmJ8fHRoaXMuYXx8KHRoaXMuYj1hLHRoaXMuYT1iKX07ClgucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKCl7dGhpcy5iJiZ0aGlzLmEmJiF0aGlzLmcmJih0aGlzLmM9RGF0ZS5ub3coKSs0RTMsRSh0aGlzLmYsdGhpcy5iLmdldEVzdGltYXRvcigpLCJiYW5kd2lkdGgiLHRoaXMubS5iaW5kKHRoaXMpKSxFKHRoaXMuZix0aGlzLmEsImFkYXB0YXRpb24iLHRoaXMuai5iaW5kKHRoaXMpKSxFKHRoaXMuZix0aGlzLmEsInRyYWNrc2NoYW5nZWQiLHRoaXMuaC5iaW5kKHRoaXMpKSx0aGlzLmc9ITApfTtYLnByb3RvdHlwZS5lbmFibGU9ZnVuY3Rpb24oYSl7dGhpcy5pPWF9O1gucHJvdG90eXBlLmdldEluaXRpYWxWaWRlb1RyYWNrSWQ9ZnVuY3Rpb24oKXtpZighdGhpcy5ifHwhdGhpcy5hKXJldHVybiBudWxsO3ZhciBhPUNmKHRoaXMpO3JldHVybiBhP2EuaWQ6bnVsbH07WC5wcm90b3R5cGUuZ2V0SW5pdGlhbFN3aXRjaFJlYXNvbj1mdW5jdGlvbigpe3JldHVybiBudWxsfTtYLnByb3RvdHlwZS5nZXRJbml0aWFsQXVkaW9UcmFja0lkPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9OwpYLnByb3RvdHlwZS5zZWxlY3RWaWRlb1RyYWNrPWZ1bmN0aW9uKGEsYixjKXt0aGlzLmcmJnRoaXMuYS5zZWxlY3RWaWRlb1RyYWNrKGEuaWQsYixjKX07WC5wcm90b3R5cGUubT1mdW5jdGlvbigpe0RhdGUubm93KCk8dGhpcy5jfHx0aGlzLmgoKX07WC5wcm90b3R5cGUuaD1mdW5jdGlvbigpe2lmKHRoaXMuaSl7dmFyIGE9Q2YodGhpcyk7aWYoYSl7aWYoYS5hY3RpdmUpe3RoaXMuYz1EYXRlLm5vdygpKzNFMztyZXR1cm59dGhpcy5zZWxlY3RWaWRlb1RyYWNrKGEsITEpfXRoaXMuYz1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFl9fTtYLnByb3RvdHlwZS5qPWZ1bmN0aW9uKCl7dGhpcy5jPT1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkmJih0aGlzLmM9RGF0ZS5ub3coKSszRTQpfTsKZnVuY3Rpb24gQ2YoYSl7dmFyIGI9YS5hLlooKTtpZigwPT1iLmxlbmd0aClyZXR1cm4gbnVsbDtiLnNvcnQodmEpO3ZhciBjO2E6e2M9YS5hLnZhKCk7Zm9yKHZhciBkPTA7ZDxjLmxlbmd0aDsrK2QpaWYoY1tkXS5hY3RpdmUpe2M9Y1tkXTticmVhayBhfWM9bnVsbH1jPWM/Yy5iYW5kd2lkdGg6MDthPWEuYi5nZXRCYW5kd2lkdGgoKTtmb3IodmFyIGQ9YlswXSxlPTA7ZTxiLmxlbmd0aDsrK2Upe3ZhciBmPWJbZV0sZz1lKzE8Yi5sZW5ndGg/YltlKzFdOntiYW5kd2lkdGg6TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZfTtpZihmLmJhbmR3aWR0aCYmKGc9KGcuYmFuZHdpZHRoK2MpLy44NSxhPj0oZi5iYW5kd2lkdGgrYykvLjk1JiZhPD1nJiYoZD1mLGQuYWN0aXZlKSkpYnJlYWt9cmV0dXJuIGR9O2Z1bmN0aW9uIFkoYSxiLGMsZCl7Ri5jYWxsKHRoaXMsbnVsbCk7dGhpcy5iPWE7dGhpcy5hPWI7dGhpcy53YT1jO3RoaXMua2I9bmV3IFZpZGVvUGxheWVyTG9jYWxCYW5kd2lkdGhFc3RpbWF0b3IodGhpcyxjLGIpO3RoaXMuaD1uZXcgYmI7dGhpcy5pPW5ldyBNZWRpYVNvdXJjZTt0aGlzLmJhPXRoaXMudmlkZW89bnVsbDt0aGlzLkJiPTA7dGhpcy5uYz10aGlzLlpiPSExO3RoaXMuTGI9aWE7dGhpcy5BYj10aGlzLlY9dGhpcy5pYT10aGlzLmw9bnVsbDt0aGlzLktiPTM7dGhpcy5yYT10aGlzLiRiPXRoaXMuRmE9dGhpcy5FYT0hMTt0aGlzLlBhPTA7dGhpcy5kYT1uZXcgVmlkZW9QdXNoVHJhY2tlcjt0aGlzLmdhPW51bGw7dGhpcy5pYz0xO3RoaXMuZ2M9SW5maW5pdHk7dGhpcy5VYj10aGlzLlNiPSExO3RoaXMucGE9dGhpcy5PYT1udWxsO3RoaXMuV2I9dGhpcy5WYj10aGlzLkdhPXRoaXMuY2M9dGhpcy5tYT0hMTt0aGlzLmY9bmV3IEQ7dGhpcy5BPWQ7dGhpcy5BLmluaXRpYWxpemUodGhpcy5rYiwKdGhpcyk7dGhpcy5PPSExO3RoaXMuUz0iZW4iO3RoaXMueWE9ITE7dGhpcy5KPW5ldyBJO3RoaXMuSWI9bmV3IEk7dGhpcy5tPW5ldyBrYTt0aGlzLkQ9bnVsbDt0aGlzLmtjPTE7dGhpcy5jPXt9O3RoaXMuc2E9bmV3IEk7dGhpcy5qYT0wO3RoaXMuZ2I9MTVFMzt0aGlzLmo9bnVsbDt0aGlzLmVjPSExO3RoaXMuZGM9MDt0aGlzLkNhPSExO3RoaXMuQj17fTt0aGlzLmxhPXRoaXMua2E9dGhpcy51PW51bGw7dGhpcy5nPXt9O3RoaXMuJD0hMTt0aGlzLmZjPTA7dGhpcy5LPXRoaXMuYS5nZXROdW1iZXIoImJ1ZmZlcmluZ19vdmVyZmxvd190aHJlc2hvbGQiLDApO3RoaXMucGM9bnVsbDt0aGlzLm89e307dGhpcy53PXt9O3RoaXMuUj1udWxsO3RoaXMuVT1bXTt0aGlzLlQ9dGhpcy5JPW51bGw7dGhpcy5HPW5ldyBOZXR3b3JrU3RhdHVzRGV0ZWN0b3I7dGhpcy5oYz0hMTt0aGlzLm5hPSEwO3RoaXMuZWE9ITE7dGhpcy51Yz1uZXcgU3Vic2NyaXB0aW9uc0hhbmRsZXI7dGhpcy5ZYj0hMTsKdGhpcy54YT0xO3RoaXMuSWQ9dGhpcy5hLmdldE51bWJlcigic3RyZWFtX21heGltdW1fb25wYXVzZV9idWZmZXJfc2l6ZV9tdWx0aXBsaWVyIiwwKTt0aGlzLmNhPW51bGw7dGhpcy5hLmdldEJvb2woImFsbG93X2luZmluaXRlX3JldHJ5X29uX25ldF9lcnIiLCEwKSYmdGhpcy51Yy5hZGRTdWJzY3JpcHRpb25zKHRoaXMuRy5hZGRMaXN0ZW5lcigibmV0d29ya0ludGVycnVwdGVkIix0aGlzLlRjLHRoaXMpLHRoaXMuRy5hZGRMaXN0ZW5lcigibmV0d29ya1Jlc3VtZWQiLHRoaXMuVWMsdGhpcyksdGhpcy5HLmFkZExpc3RlbmVyKCJzeXN0ZW1XYWtlIix0aGlzLlZjLHRoaXMpKX1yKFksRik7cSgic2hha2EucGxheWVyLlN0cmVhbVZpZGVvU291cmNlIixZKTtZLnByb3RvdHlwZS5YYj1mdW5jdGlvbigpe3JldHVybntWaWRlb1NvdXJjZVN0cmVhbTp0aGlzLmMudmlkZW8sQXVkaW9Tb3VyY2VTdHJlYW06dGhpcy5jLmF1ZGlvLFRleHRTb3VyY2VTdHJlYW06dGhpcy5jLnRleHQsQmFuZHdpZHRoRXN0aW1hdG9yOnRoaXMud2F9fTsKWS5wcm90b3R5cGUuZ2V0U3RyZWFtRGVidWc9WS5wcm90b3R5cGUuWGI7WS5wcm90b3R5cGUuUGM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iP3RoaXMuYi53OiJub25lIn07WS5wcm90b3R5cGUuZ2V0TXBkQXVkaW9Db25maWc9WS5wcm90b3R5cGUuUGM7ClkucHJvdG90eXBlLmxjPWZ1bmN0aW9uKGEpe251bGwhPWEuc3RyZWFtQnVmZmVyU2l6ZSYmKHRoaXMuZy5zdHJlYW1CdWZmZXJTaXplPWEuc3RyZWFtQnVmZmVyU2l6ZSk7bnVsbCE9YS5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZSYmKHRoaXMuZy5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZT1hLmluaXRpYWxTdHJlYW1CdWZmZXJTaXplKTtudWxsIT1hLmR5bmFtaWNTdHJlYW1CdWZmZXJTaXplJiYodGhpcy5nLmR5bmFtaWNTdHJlYW1CdWZmZXJTaXplPWEuZHluYW1pY1N0cmVhbUJ1ZmZlclNpemUpO251bGwhPWEuc21hcnRCdWZmZXJBZGp1c3RtZW50UGFyYW1zJiYodGhpcy5nLnNtYXJ0QnVmZmVyQWRqdXN0bWVudFBhcmFtcz1hLnNtYXJ0QnVmZmVyQWRqdXN0bWVudFBhcmFtcyk7bnVsbCE9YS5hZGRDZG5EZWJ1Z1F1ZXJ5UGFyYW1ldGVycyYmKHRoaXMuZy5hZGRDZG5EZWJ1Z1F1ZXJ5UGFyYW1ldGVycz1hLmFkZENkbkRlYnVnUXVlcnlQYXJhbWV0ZXJzKTtudWxsIT1hLnNlZ21lbnRSZXF1ZXN0VGltZW91dCYmCih0aGlzLmcuc2VnbWVudFJlcXVlc3RUaW1lb3V0PWEuc2VnbWVudFJlcXVlc3RUaW1lb3V0KTtudWxsIT1hLnJlc29sdmVWaWRlb1RpbWVVcGRhdGVPbkZyYWdtZW50ZWRUaW1lUmFuZ2VzJiYodGhpcy5nLnJlc29sdmVWaWRlb1RpbWVVcGRhdGVPbkZyYWdtZW50ZWRUaW1lUmFuZ2VzPWEucmVzb2x2ZVZpZGVvVGltZVVwZGF0ZU9uRnJhZ21lbnRlZFRpbWVSYW5nZXMpO251bGwhPWEucmVhcHBlbmRJbml0U2VnbWVudEFmdGVyQWJvcnQmJih0aGlzLmcucmVhcHBlbmRJbml0U2VnbWVudEFmdGVyQWJvcnQ9YS5yZWFwcGVuZEluaXRTZWdtZW50QWZ0ZXJBYm9ydCk7bnVsbCE9YS5saXZlRGF0YUZldGNoTWF4UmV0cmllcyYmKHRoaXMuZy5saXZlRGF0YUZldGNoTWF4UmV0cmllcz1hLmxpdmVEYXRhRmV0Y2hNYXhSZXRyaWVzKTtudWxsIT1hLmxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXMmJih0aGlzLmcubGl2ZVNvdXJjZUJ1ZmZlckNsZWFyTWF4UmV0cmllcz1hLmxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXMpOwpudWxsIT1hLnBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2UmJih0aGlzLmcucGxheWhlYWRGcmFnbWVudGVkR2FwRGlmZkFsbG93YW5jZT1hLnBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2UpO251bGwhPWEuZml4QnVmZmVyaW5nR29hbERldGVybWluYXRpb24mJih0aGlzLmcuZml4QnVmZmVyaW5nR29hbERldGVybWluYXRpb249YS5maXhCdWZmZXJpbmdHb2FsRGV0ZXJtaW5hdGlvbik7bnVsbCE9YS5za2lwRW1wdHlTZWdtZW50cyYmKHRoaXMuZy5za2lwRW1wdHlTZWdtZW50cz1hLnNraXBFbXB0eVNlZ21lbnRzKTtudWxsIT1hLnVzZU1pY3JvVGFza1RpbWVvdXRzJiYodGhpcy5nLnVzZU1pY3JvVGFza1RpbWVvdXRzPWEudXNlTWljcm9UYXNrVGltZW91dHMpO0RmKHRoaXMpO251bGwhPWEuaW5jbHVkZVN0cmVhbUJ1ZmZlclNpemVJblN0YXJ0T2Zmc2V0JiYodGhpcy5aYj1Cb29sZWFuKGEuaW5jbHVkZVN0cmVhbUJ1ZmZlclNpemVJblN0YXJ0T2Zmc2V0KSk7Cm51bGwhPWEubGl2ZUF1ZGlvUHVzaFJlcHJlc2VudGF0aW9uJiYodGhpcy5wYT1TdHJpbmcoYS5saXZlQXVkaW9QdXNoUmVwcmVzZW50YXRpb24pKTtudWxsIT1hLmxpdmVJbml0aWFsUHVzaFJlcHJlc2VudGF0aW9uJiYodGhpcy5PYT1TdHJpbmcoYS5saXZlSW5pdGlhbFB1c2hSZXByZXNlbnRhdGlvbikpO251bGwhPWEuZW5hYmxlQWRhcHRhdGlvbiYmdGhpcy5BLmVuYWJsZShCb29sZWFuKGEuZW5hYmxlQWRhcHRhdGlvbikpO251bGwhPWEubXBkUmVxdWVzdFRpbWVvdXQmJih0aGlzLkxiPU51bWJlcihhLm1wZFJlcXVlc3RUaW1lb3V0KSk7bnVsbCE9YS5taW5NcGRSZWZyZXNoSW50ZXJ2YWwmJih0aGlzLktiPU51bWJlcihhLm1pbk1wZFJlZnJlc2hJbnRlcnZhbCkvMUUzKTtudWxsIT1hLmVuYWJsZU1hbmlmZXN0RGVidWcmJih0aGlzLlViPSEhYS5lbmFibGVNYW5pZmVzdERlYnVnKTtudWxsIT1hLmxpdmVTdHJlYW1FbmRUaW1lb3V0JiYodGhpcy5nYj1OdW1iZXIoYS5saXZlU3RyZWFtRW5kVGltZW91dCkpOwpudWxsIT1hLnByZWZlcnJlZExhbmd1YWdlJiYodGhpcy5TPVNhKFN0cmluZyhhLnByZWZlcnJlZExhbmd1YWdlKSkpO251bGwhPWEubGl2ZVNlbmRQdXNoSGVhZGVycyYmKHRoaXMucmE9Qm9vbGVhbihhLmxpdmVTZW5kUHVzaEhlYWRlcnMpKTtudWxsIT1hLmxpdmVNYXhNYW5pZmVzdEZldGNoZXNXaXRoUHVzaCYmKHRoaXMuUGE9TnVtYmVyKGEubGl2ZU1heE1hbmlmZXN0RmV0Y2hlc1dpdGhQdXNoKSk7bnVsbCE9YS5jdXJyZW50VGltZUR1cmluZ1JlYWR5U3RhdGVaZXJvVGhyb3dzJiYodGhpcy5TYj1Cb29sZWFuKGEuY3VycmVudFRpbWVEdXJpbmdSZWFkeVN0YXRlWmVyb1Rocm93cykpO251bGwhPWEubGl2ZU1heFNlZ21lbnRzVG9QdXNoJiYodGhpcy5nYz1OdW1iZXIoYS5saXZlTWF4U2VnbWVudHNUb1B1c2gpKTtudWxsIT1hLmp1bXBUb0xpdmVUaHJlc2hvbGQmJih0aGlzLmRjPU51bWJlcihhLmp1bXBUb0xpdmVUaHJlc2hvbGQpKTtudWxsIT1hLnJlc3RyaWN0aW9ucyYmKHRoaXMubT0KYS5yZXN0cmljdGlvbnMsdGhpcy5PJiZFZih0aGlzKSk7bnVsbCE9YS51c2VMb25nQ2FjaGVGb3JNYW5pZmVzdCYmKHRoaXMubWE9Qm9vbGVhbihhLnVzZUxvbmdDYWNoZUZvck1hbmlmZXN0KSk7bnVsbCE9YS5qdW1wVG9FYXJsaWVzdFBvc2l0aW9uSW5DdXJyZW50QmxvY2smJih0aGlzLmNjPUJvb2xlYW4oYS5qdW1wVG9FYXJsaWVzdFBvc2l0aW9uSW5DdXJyZW50QmxvY2spKTtudWxsIT1hLmlnbm9yZU1pbkJ1ZmZlclRpbWUmJih0aGlzLkdhPUJvb2xlYW4oYS5pZ25vcmVNaW5CdWZmZXJUaW1lKSk7bnVsbCE9PWEuZW5hYmxlUmVxdWVzdFBpcGVsaW5pbmcmJih0aGlzLlZiPUJvb2xlYW4oYS5lbmFibGVSZXF1ZXN0UGlwZWxpbmluZykpO251bGwhPT1hLmVuYWJsZVN0cmVhbWluZyYmKHRoaXMuV2I9Qm9vbGVhbihhLmVuYWJsZVN0cmVhbWluZykpfTsKWS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuSi5kZXN0cm95KCk7dGhpcy5zYS5kZXN0cm95KCk7dGhpcy5zYT10aGlzLko9bnVsbDt0aGlzLmthJiYoY2xlYXJUaW1lb3V0KHRoaXMua2EpLHRoaXMua2E9bnVsbCk7dGhpcy51JiYoY2xlYXJUaW1lb3V0KHRoaXMudSksdGhpcy51PW51bGwpO3RoaXMuQj1udWxsO3RoaXMuaC5kZXN0cm95KCk7dGhpcy5oPW51bGw7V2EodGhpcy5jKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2EuZGVzdHJveSgpfSk7dGhpcy5mPXRoaXMuYz1udWxsO3RoaXMuYiYmKHRoaXMuYi5kZXN0cm95KCksdGhpcy5iPW51bGwpO3RoaXMuQS5kZXN0cm95KCk7dGhpcy5KYT10aGlzLm09dGhpcy52aWRlbz10aGlzLmk9dGhpcy53YT10aGlzLkE9bnVsbDt0aGlzLmEuZ2V0Qm9vbCgiZml4aW5nX3NjaGVkdWxlcl9kaXNhYmxlX2xlYWtzIiwhMCkmJihPYmplY3Qua2V5cyh0aGlzLm8pLmZvckVhY2goZnVuY3Rpb24oYSl7KGE9dGhpcy5vW2FdKSYmYS5kaXNhYmxlKCl9LmJpbmQodGhpcykpLAp0aGlzLm89e30pO09iamVjdC5rZXlzKHRoaXMudykuZm9yRWFjaChmdW5jdGlvbihhKXsoYT10aGlzLndbYV0pJiZhLmRlc3Ryb3koKX0uYmluZCh0aGlzKSk7dGhpcy53PXt9O3RoaXMuSSYmKHRoaXMuSS5kaXNhYmxlKCksdGhpcy5JPW51bGwpO3RoaXMuUiYmKHRoaXMuUi5jbGVhbnVwKCksdGhpcy5SPW51bGwpO2Zvcih2YXIgYT0wO2E8dGhpcy5VLmxlbmd0aDthKyspdGhpcy5VW2FdLmNsZWFudXAoKTt0aGlzLlU9W107dGhpcy51Yy5yZWxlYXNlKCl9O2Z1bmN0aW9uIGVmKGEsYil7aWYoYS5sKXt2YXIgYz1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJtZWRpYV9zb3VyY2Vfb3BlbiIpLnN0YXJ0KCk7YS5JYi50aGVuKGZ1bmN0aW9uKCl7Yy5sb2coKX0pfUUoYS5oLGEuaSwic291cmNlb3BlbiIsYS5oZC5iaW5kKGEpKTtiLnNyYz13aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChhLmkpfW49WS5wcm90b3R5cGU7bi52Yz1mdW5jdGlvbigpe307CmZ1bmN0aW9uIGpmKGEsYixjKXt2YXIgZDthLmwmJihkPWEubC5nZXRPcGVyYXRpb25Mb2dnZXIoInNvdXJjZV9hdHRhY2giKS5zdGFydCgpKTtpZighYS5PKXJldHVybiBhPUVycm9yKCJDYW5ub3QgY2FsbCBhdHRhY2goKSByaWdodCBub3cuIiksYS50eXBlPSJhcHAiLGQmJmQuc2V0RXJyb3IoYSkubG9nKCksUHJvbWlzZS5yZWplY3QoYSk7YS5KYT1iO2EudmlkZW89YzthLmJhPW51bGw7YS5hLmdldEJvb2woImVuYWJsZV92aWV3cG9ydF9wcmlvcml0eV9hZGp1c3RtZW50IiwhMSkmJihhLlI9bmV3IFZpZXdwb3J0UHJpb3JpdHlBZGp1c3RlcihhLnZpZGVvKSxhLlIuc2V0T25Qcmlvcml0eUNoYW5nZWQoZnVuY3Rpb24oYSl7T2JqZWN0LmtleXModGhpcy5vKS5mb3JFYWNoKGZ1bmN0aW9uKGIpe3RoaXMub1tiXS51cGRhdGVQcmlvcml0eVdpdGhOZXdBZGp1c3RtZW50KGEpfS5iaW5kKHRoaXMpKX0uYmluZChhKSkpO2EuYS5nZXRCb29sKCJlbmFibGVfZmlyc3RfdmlkZW9fcHJpb3JpdHlfYWRqdXN0bWVudCIsCiExKSYmYS5VLnB1c2gobmV3IEZpcnN0TG9hZGVkVmlkZW9Qcmlvcml0eUFkanVzdGVyKGEudmlkZW8pKTtFKGEuaCxhLnZpZGVvLCJsb2FkZWRtZXRhZGF0YSIsYS5nZC5iaW5kKGEpKTtFKGEuaCxhLndhLCJiYW5kd2lkdGgiLGEuR2QuYmluZChhKSk7aWYoYS5iLmJ8fGEuYS5nZXRCb29sKCJiYWNrX29mZl9idWZmZXJpbmdfb3ZlcmZsb3ciLCExKSlFKGEuaCxiLCJidWZmZXJpbmdTdGFydCIsYS5jZC5iaW5kKGEpKSxFKGEuaCxiLCJidWZmZXJpbmdFbmQiLGEuYmQuYmluZChhKSk7Yj1hLmEuZ2V0Qm9vbCgiZW5hYmxlX2NvbnRlbnRfcHJvdGVjdGlvbiIsITEpPyhiPWEudmlkZW8ubWVkaWFLZXlzKSYmYS52aWRlby5zZXRNZWRpYUtleXM/YS52aWRlby5zZXRNZWRpYUtleXMoYik6UHJvbWlzZS5yZXNvbHZlKCk6UHJvbWlzZS5yZXNvbHZlKCk7RmYoYSkudGhlbihKKGEsZnVuY3Rpb24oKXtkJiZ0aGlzLlAoKSYmZC5zZXRMaXZlaGVhZFBvc2l0aW9uKEdmKEhmKHRoaXMpKSk7dGhpcy5KJiYKdGhpcy5KLnJlc29sdmUoKTt0aGlzLnZjKCl9KSkuY2F0Y2goSihhLGZ1bmN0aW9uKGEpe3RoaXMuSiYmdGhpcy5KLnJlamVjdChhKX0pKTtyZXR1cm4gUHJvbWlzZS5hbGwoW2EuSixiXSkudGhlbihmdW5jdGlvbigpe2QmJmQubG9nKCl9KX0Kbi53Yj1mdW5jdGlvbigpe2lmKHRoaXMuTyl7dmFyIGE9RXJyb3IoIkNhbm5vdCBjYWxsIGxvYWQoKSByaWdodCBub3cuIik7YS50eXBlPSJhcHAiO3JldHVybiBQcm9taXNlLnJlamVjdChhKX1pZighdGhpcy5ifHwwPT10aGlzLmIuYS5sZW5ndGgpcmV0dXJuIGE9RXJyb3IoIlRoZSBtYW5pZmVzdCBkb2VzIG5vdCBzcGVjaWZ5IGFueSBjb250ZW50LiIpLGEudHlwZT0ic3RyZWFtIixQcm9taXNlLnJlamVjdChhKTt0Zih0aGlzLmIuYSk7aWYoMD09dGhpcy5iLmEubGVuZ3RofHwwPT10aGlzLmIuYVswXS5hLmxlbmd0aHx8IXRoaXMuYi5hWzBdLmEuc29tZShmdW5jdGlvbihhKXtyZXR1cm4idmlkZW8iPT09YS5jb250ZW50VHlwZX0pKXJldHVybiBhPUVycm9yKCJUaGUgbWFuaWZlc3Qgc3BlY2lmaWVzIGNvbnRlbnQgdGhhdCBjYW5ub3QgYmUgZGlzcGxheWVkIG9uIHRoaXMgYnJvd3Nlci9wbGF0Zm9ybS4iKSxhLnR5cGU9InN0cmVhbSIsUHJvbWlzZS5yZWplY3QoYSk7dGhpcy5PPQohMDt0aGlzLkdhfHwodGhpcy5nLmluaXRpYWxTdHJlYW1CdWZmZXJTaXplPU1hdGgubWF4KHRoaXMuZy5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZXx8MCx0aGlzLmIuZykpO3RoaXMuaWEmJnRoaXMuaWEuc2V0U3RyZWFtVHlwZSh0aGlzLmIuQik7RGYodGhpcyk7RWYodGhpcyk7cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpfTtmdW5jdGlvbiBJZihhKXt2YXIgYj15KHt0eXBlOiJtYW5pZmVzdHdyYXBwZWQiLGJ1YmJsZXM6ITB9KTthLmRpc3BhdGNoRXZlbnQoYil9ZnVuY3Rpb24gSmYoYSxiKXt2YXIgYz15KHt0eXBlOiJsaXZlaGVhZElkbGVBdCIsc2Vjb25kczpiLGJ1YmJsZXM6ITB9KTthLmRpc3BhdGNoRXZlbnQoYyl9ZnVuY3Rpb24gR2YoYSl7cmV0dXJuIE1hdGgubWluLmFwcGx5KE1hdGgsYS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEubGVuZ3RoKCk/YS5sYXN0KCkuZW5kVGltZTpudWxsfSkuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiEhYX0pKX0Kbi5KYj1mdW5jdGlvbihhLGIpe3ZhciBjO3RoaXMuYS5nZXRCb29sKCJkZWNvdXBsZV9tcGRfdXBkYXRlX2xvb3BfZnJvbV9yZXF1ZXN0X2xvb3AiLCExKSYmS2YodGhpcywwKTt0aGlzLlYmJih0aGlzLlYubG9nKCksdGhpcy5WPW51bGwpO3RoaXMubCYmKGM9dGhpcy5sLmdldE9wZXJhdGlvbkxvZ2dlcigidXBkYXRlX21hbmlmZXN0Iikuc3RhcnQoKSk7aWYoIWJ8fHRoaXMuTyl7dmFyIGQ9RGF0ZS5ub3coKTt0aGlzLmEuZ2V0Qm9vbCgiZGVjb3VwbGVfbXBkX3VwZGF0ZV9sb29wX2Zyb21fcmVxdWVzdF9sb29wIiwhMSl8fCh0aGlzLnU9bnVsbCk7dmFyIGU9bnVsbCxmLGc7aWYodGhpcy5yYSYmKCF0aGlzLlBhfHx0aGlzLlBhPnRoaXMuaWMpKXtmPU1hdGguZmxvb3IoTGYodGhpcykpKzE7Zj1NYXRoLm1pbihmLHRoaXMuZ2MpO3ZhciBoPXRoaXMuYy52aWRlbztpZihoPWg/aC5GYigpOm51bGwpaD1oLmxhc3QoKSxudWxsIT1oLnVuc2NhbGVkU3RhcnRUaW1lJiYoZz1oLnVuc2NhbGVkU3RhcnRUaW1lKTsKaWYodGhpcy52aWRlby5wYXVzZWR8fHRoaXMuJClmPTB9ZiYmdGhpcy5pYysrO2g9dGhpcy5iLmk7aD10aGlzLmEuZ2V0Qm9vbCgiZW5hYmxlX2NsZWFuX2ZhaWxvdmVyX3VyaV9vbl9tcGRfcmVxdWVzdHMiLCEwKT9oLmNsb25lKCk6aDtjJiYhYSYmYy5zZXRSZXNvdXJjZShoLnRvU3RyaW5nKCkpOyhhP3RoaXMueGMoKTp0aGlzLnljKGgsZixnKSkudGhlbihKKHRoaXMsZnVuY3Rpb24oYil7YXx8dGhpcy5HLmluZm9ybU5ldHdvcmtSZXN1bWVkKCk7ZT1uZXcgdmYoYik7dmFyIGM7dGhpcy5sJiYoYz10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJ1cGRhdGVfbWFuaWZlc3RfaW5mbyIpLnN0YXJ0KCkpO2I9ZS51cGRhdGUodGhpcy5iKTtiLnRoZW4oZnVuY3Rpb24oKXtjJiZjLmxvZygpfSxmdW5jdGlvbihhKXtjJiZjLnNldEVycm9yKGEpLmxvZygpfSkuY2F0Y2goZnVuY3Rpb24oKXt9KTtyZXR1cm4gYn0pKS50aGVuKEoodGhpcyxmdW5jdGlvbihhKXtlLmRlc3Ryb3koKTtlPW51bGw7CnZhciBmPUhmKHRoaXMpO3RoaXMuTGEoIlNlZ21lbnRJbmRleGVzVXBkYXRlZCIsZik7aWYodGhpcy5hLmdldEJvb2woImVtaXRfbGl2ZV9wbGF5aGVhZF9pZGxlX2Zyb21fY2xpZW50IiwhMCkpe3ZhciBnPXRoaXMuYS5nZXROdW1iZXIoImxpdmVfcGxheWhlYWRfaWRsZV9hbGxfc3RyZWFtX3RocmVzaG9sZCIsNCksaD10aGlzLmEuZ2V0TnVtYmVyKCJsaXZlX3BsYXloZWFkX2lkbGVfc2luZ2xlX3N0cmVhbV90aHJlc2hvbGQiLDUpO2lmKEhmKHRoaXMpLmV2ZXJ5KGZ1bmN0aW9uKGEpe3JldHVybiBhLnUoKT49Z30pfHxIZih0aGlzKS5zb21lKGZ1bmN0aW9uKGEpe3JldHVybiBhLnUoKT49aH0pKXt2YXIgdD1HZihmKTtKZih0aGlzLHQpfX1mLnNvbWUoZnVuY3Rpb24oYSl7cmV0dXJuIGEucmIoKX0pJiZJZih0aGlzKTt0PU1mKHRoaXMsZik7YyYmdGhpcy5QKCkmJmMuc2V0TGl2ZWhlYWRQb3NpdGlvbihHZihmKSk7YyYmYy5zZXRNYW5pZmVzdFR5cGUodGhpcy5iLmI/ImR5bmFtaWMiOgoic3RhdGljIikuc2V0VXBkYXRlUGVyaW9kKG51bGw9PT10aGlzLmIuYz9udWxsOk1hdGguY2VpbCgxRTMqdGhpcy5iLmMpKTt0aGlzLm5hJiZOZih0aGlzLHQpO3RoaXMuYS5nZXRCb29sKCJza2lwX3JlbWFpbmluZ19idWZmZXJlZF9vbl9zdHJlYW1fZW5kIiwhMSkmJnQmJnRoaXMuYi5iJiZ0aGlzLmIuaCYmdGhpcy52aWRlby5wYXVzZWQmJih0aGlzLnZpZGVvLmN1cnJlbnRUaW1lPXRoaXMuamEtLjEpO2lmKHNmKHRoaXMpKXJldHVybiBjJiZjLmxvZygpLHRoaXMuZWIoKTtmb3IoZj0wO2Y8YS5sZW5ndGg7KytmKU9mKHRoaXMsYVtmXSk7dGhpcy5HYXx8KHRoaXMuZy5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZT1NYXRoLm1heCh0aGlzLmcuaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemV8fDAsdGhpcy5iLmcpKTt0aGlzLmcudXNlSW5pdGlhbEJ1ZmZlclNpemVXaGVuUGF1c2VkPXRoaXMuYi5iO0RmKHRoaXMpO0VmKHRoaXMpOzA9PU9iamVjdC5rZXlzKHRoaXMuYykubGVuZ3RoP0ZmKHRoaXMpOgooYT1EYXRlLm5vdygpLGJ8fEtmKHRoaXMsKGEtZCkvMUUzKSk7YyYmYy5sb2coKTt0aGlzLnRiKCkmJmV4dHJhY3RDRUE2MDgucHJlcGFyZSgpO3RoaXMuYS5nZXRCb29sKCJ1cGRhdGVfY2VhNjA4X2F2YWlsYWJpbGl0eV9vbl9tcGRfcGFyc2luZyIsITEpJiYoYT10aGlzLnRiKCksdGhpcy5ZYiE9PWEmJihmPXkoe3R5cGU6ImNlYTYwOEF2YWlsYWJpbGl0eUNoYW5nZWQiLGJ1YmJsZXM6ITB9KSx0aGlzLmRpc3BhdGNoRXZlbnQoZiksdGhpcy5ZYj1hKSl9KSkuY2F0Y2goSih0aGlzLGZ1bmN0aW9uKGEpe2MmJmMuc2V0RXJyb3IoYSkubG9nKCk7ZSYmKGUuZGVzdHJveSgpLGU9bnVsbCk7aWYoIWIpe3ZhciBkPXRoaXMuYi5mfHx0aGlzLmEuZ2V0Qm9vbCgicmV0cnlfZWdyZXNzXzUwMHMiLCExKSxmPVswLDQxMF07dGhpcy5hLmdldEJvb2woImVuYWJsZV9kb3VibGVfaW5nZXN0IiwhMSkmJmYucHVzaCg0MTcsMjAwKTshdGhpcy5hLmdldEJvb2woIm5vX3JldHJ5X29uXzUwMl81MDMiLAohMSkmJmQmJihmPWYuY29uY2F0KFs1MDIsNTAzXSkpO2Q9dGhpcy5hLmdldEJvb2woImZpeF9saXZlX3N0cmVhbV9nb25lX29uX21hbmlmZXN0X3VwZGF0ZSIsITApPy0xPT09Zi5pbmRleE9mKGEuc3RhdHVzKTowIT09YS5zdGF0dXM7aWYodGhpcy5hLmdldEJvb2woImFsbG93X2luZmluaXRlX3JldHJ5X29uX25ldF9lcnIiLCEwKSYmIm5ldCI9PT1hLnR5cGUmJiFkKXN3aXRjaChhLnN0YXR1cyl7Y2FzZSA0MTA6dGhpcy5oYz0hMDt0aGlzLmomJihjbGVhclRpbWVvdXQodGhpcy5qKSx0aGlzLmo9bnVsbCk7dGhpcy5lYigpO2JyZWFrO2Nhc2UgMjAwOmNhc2UgNDE3OmEucmVzcG9uc2VIZWFkZXJzJiZudWxsIT1hLnJlc3BvbnNlSGVhZGVyc1sieC1mYi12aWRlby1yZXBsaWNhIl0/dGhpcy5kaXNwYXRjaEV2ZW50KHkoe3R5cGU6InJlcGxpY2Fzd2l0Y2giLGJ1YmJsZXM6ITAscmVwbGljYTphLnJlc3BvbnNlSGVhZGVyc1sieC1mYi12aWRlby1yZXBsaWNhIl0sdXJsOmEudXJsLHN0YXR1czphLnN0YXR1c30pKToKZD0hMDticmVhaztkZWZhdWx0OlBmKHRoaXMpfTA9PT1hLnN0YXR1cz90aGlzLkcuaW5mb3JtTmV0d29ya0ludGVycnVwdGVkKCk6dGhpcy5HLmluZm9ybU5ldHdvcmtSZXN1bWVkKCk7aWYoImRlbGF5Ij09YS50eXBlKXJldHVybiBQZih0aGlzKTt0aGlzLmEuZ2V0Qm9vbCgiYWxsb3dfaW5maW5pdGVfcmV0cnlfb25fbmV0X2VyciIsITApJiYhZHx8ImFib3J0ZWQiPT1hLnR5cGV8fChhPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGEpLHRoaXMuYiYmUGYodGhpcykpfX0pKX19O24ueWM9ZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZWplY3QoIkNhbm5vdCB1cGRhdGUgbWFuaWZlc3Qgd2l0aCB0aGlzIFZpZGVvU291cmNlIGltcGxlbWVudGF0aW9uLiIpfTtuLnhjPWZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVqZWN0KCJDYW5ub3QgdXBkYXRlIG1hbmlmZXN0IHdpdGggdGhpcyBWaWRlb1NvdXJjZSBpbXBsZW1lbnRhdGlvbi4iKX07CmZ1bmN0aW9uIE5mKGEsYil7aWYoYiYmYS5iJiZhLmIuYilpZihhLmEuZ2V0Qm9vbCgic2Vla19vdmVyX3VuYXZhaWxhYmxlX3NlZ21lbnRzX29uX21hbmlmZXN0X3VwZGF0ZSIsITEpJiZhLmVhKWIuZW5kPmEudmlkZW8uY3VycmVudFRpbWUrMTAmJihhLmVhPSExLGEudmlkZW8uY3VycmVudFRpbWU9Yi5lbmQsUWYoYSkpO2Vsc2UgaWYoYS52aWRlby5wYXVzZWQmJmIuZW5kPmEudmlkZW8uY3VycmVudFRpbWUrMTApaWYoYS5hLmdldEJvb2woImVuYWJsZV9sYXp5X2xpdmVoZWFkX2NhdGNodXAiLCExKSl7dmFyIGM9YS54YTtjPGEuSWQmJihhLnhhPSsrYyk7UmYoYSxjKTthLmNhPWIuZW5kfWVsc2UgYS5lYT0hMSxhLnZpZGVvLmN1cnJlbnRUaW1lPWIuZW5kLFFmKGEpfQpmdW5jdGlvbiBLZihhLGIpe2lmKG51bGw9PWEuYi5jKUJhbnphaU9EUy5idW1wRW50aXR5S2V5KDI5NjYsInZpZGVvcy53d3cubGl2ZSIsInVwZGF0ZV9wZXJpb2RfaXNfbnVsbCIpO2Vsc2UgaWYoIWEuRmEpe2lmKGEuYS5nZXRCb29sKCJkZWNvdXBsZV9tcGRfdXBkYXRlX2xvb3BfZnJvbV9yZXF1ZXN0X2xvb3AiLCExKSYmKGEudSYmKGNsZWFyVGltZW91dChhLnUpLGEudT1udWxsKSxzZihhKSkpcmV0dXJuO3ZhciBjPU1hdGgubWF4KGEuYi5jLGEuS2IpLGM9TWF0aC5tYXgoYy1iLDApLGQ9YS5KYi5iaW5kKGEsITEpOyFjJiZhLmcudXNlTWljcm9UYXNrVGltZW91dHM/UHJvbWlzZS5yZXNvbHZlKCkudGhlbihkKTooYS5WJiZhLlYuc2V0UmVzdWx0KCJmYWlsZWQiKS5sb2coKSxhLmwmJihhLlY9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigic2NoZWR1bGVfbWFuaWZlc3RfdXBkYXRlIikuc3RhcnQoKS5zZXRVcGRhdGVQZXJpb2QoTWF0aC5jZWlsKDFFMypjKSkpLGEudT1zZXRUaW1lb3V0KGQsCjFFMypjKSl9fWZ1bmN0aW9uIE9mKGEsYil7dmFyIGM9TWQoYiksZD1hLmNbY107aWYoZCYmZC5XYSgpPT1iKXt2YXIgZT1hLmYuZ2V0KE1kKGIpKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEudn0pLnJlZHVjZShmdW5jdGlvbihhLGIpe3JldHVybiBhLmNvbmNhdChiKX0sW10pLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gYS5vYSYmYS5mYX0pO2lmKDA9PWUubGVuZ3RoKXtjPUVycm9yKCJBbGwgdXNhYmxlIHN0cmVhbXMgaGF2ZSBiZWVuIHJlbW92ZWQgZnJvbSB0aGUgbWFuaWZlc3QuIik7Yy50eXBlPSJhcHAiO2M9QShjKTthLmRpc3BhdGNoRXZlbnQoYyk7cmV0dXJufWEuQltjXS5MYz09YiYmZGVsZXRlIGEuQltjXTtkLmpiKGVbMF0sITApO2IuZGVzdHJveSgpfWIuZGVzdHJveSgpfW4uQ2Q9ZnVuY3Rpb24oYSl7dGhpcy5wYz1hfTtZLnByb3RvdHlwZS5zZXRUYWdnZWRUaW1lUmFuZ2VzPVkucHJvdG90eXBlLkNkOwpZLnByb3RvdHlwZS53ZD1mdW5jdGlvbigpe3JldHVybiAwPT09T2JqZWN0LmtleXModGhpcy5jKS5sZW5ndGg/ITE6WyJhdWRpbyIsInZpZGVvIl0uZXZlcnkoSih0aGlzLGZ1bmN0aW9uKGEpe3JldHVybiF0aGlzLmNbYV18fHRoaXMuY1thXS5UfSkpfTtZLnByb3RvdHlwZS5oYXNIaXRCdWZmZXJpbmdHb2FsPVkucHJvdG90eXBlLndkOwpZLnByb3RvdHlwZS5aPWZ1bmN0aW9uKGEpe2lmKCF0aGlzLmZ8fCF0aGlzLmYuYS5oYXNPd25Qcm9wZXJ0eSgidmlkZW8iKSlyZXR1cm5bXTthPWEmJmEudXNlTG9jYWxCaXRyYXRlfHwhMTt2YXIgYj10aGlzLmMudmlkZW8sYz1iP2IuV2EoKTpudWxsLGQ9Yz9jLlg6MCxlPTEsZj1udWxsO3RoaXMuYS5nZXRCb29sKCJ1c2VfbGl2ZV9iaXRyYXRlX2VzdGltYXRlcyIsITEpJiZ0aGlzLlAoKSYmbnVsbCE9YiYmKGY9Yi5sYSgpLG51bGwhPWMmJjA8Yy5iYW5kd2lkdGgmJihlPWYvYy5iYW5kd2lkdGgpKTtmb3IodmFyIGM9W10sZz10aGlzLmYuZ2V0KCJ2aWRlbyIpLGg9MDtoPGcubGVuZ3RoOysraClmb3IodmFyIGs9Z1toXSxsPTA7bDxrLnYubGVuZ3RoOysrbCl7dmFyIG09ay52W2xdO2lmKG0ub2EmJm0uZmEpe3ZhciBwPW51bGw7aWYoYSYmbnVsbCE9PW0uTSl7dmFyIHQ9bS5NLmMoKSx3PWI7aWYodGhpcy5QKCl8fG51bGw9PT10fHxudWxsPT09dylwPW51bGw7ZWxzZXt2YXIgcD0KcGUodyx0aGlzLnZpZGVvLmN1cnJlbnRUaW1lLHQpLHo9dC5nZXRTZWdtZW50cygpO3RoaXMuYS5nZXRCb29sKCJzdGFydF9sb2NhbF9iaXRyYXRlX2F0X2J1ZmZlcl9lbmQiLCExKSYmKHc9TG9jYWxCaXRyYXRlSGVscGVyLmdldEJ1ZmZlckVuZFNlZ21lbnRJbmRleCh6LHAsdGhpcy52aWRlby5jdXJyZW50VGltZSthZSh3LHRoaXMudmlkZW8uY3VycmVudFRpbWUpKSxudWxsIT09dyYmKHA9dykpO3A9TG9jYWxCaXRyYXRlSGVscGVyLmdldExvY2FsQml0cmF0ZSh0LmdldFNlZ21lbnRzKCkscCx0aGlzLmEuZ2V0TnVtYmVyKCJsb2NhbF9iaXRyYXRlX3NlZ21lbnRzX2FoZWFkIiwxMCkpfXRoaXMuYS5nZXRCb29sKCJ1c2VfbWF4X2xvY2FsX2JpdHJhdGUiLCExKSYmKHA9TWF0aC5tYXgocCxtLmJhbmR3aWR0aCkpfXQ9bS5YO3A9cHx8bS5iYW5kd2lkdGg7dGhpcy5hLmdldEJvb2woInVzZV9saXZlX2JpdHJhdGVfZXN0aW1hdGVzIiwhMSkmJm51bGwhPWYmJih0PT09ZD9wPU1hdGgubWF4KHAsCmYpOjE8ZSYmKHA9cCplKSxwPU1hdGgucm91bmQocCkpO209bmV3IHVhKHQscCxtLndpZHRoLG0uaGVpZ2h0LG0uaWQsbS5mYlF1YWxpdHlMYWJlbCxtLmZiUXVhbGl0eUNsYXNzLG0uZixtLmZyYW1lUmF0ZSxtLm1pbWVUeXBlLG0uY29kZWNzLG0uZyxtLmgpO3Q9PWQmJihtLmFjdGl2ZT0hMCk7Yy5wdXNoKG0pfX1yZXR1cm4gY307WS5wcm90b3R5cGUuZ2V0VmlkZW9UcmFja3M9WS5wcm90b3R5cGUuWjtZLnByb3RvdHlwZS5SYz1mdW5jdGlvbigpe2lmKHRoaXMuZ2EpcmV0dXJuIHRoaXMuZ2E7aWYoIXRoaXMuYilyZXR1cm4gbnVsbDtmb3IodmFyIGE9MDthPHRoaXMuYi5hLmxlbmd0aDsrK2EpZm9yKHZhciBiPXRoaXMuYi5hW2FdLGM9MDtjPGIuYS5sZW5ndGg7KytjKWlmKHRoaXMuZ2E9Yi5hW2NdLmMpcmV0dXJuIHRoaXMuZ2E7cmV0dXJuIG51bGx9O1kucHJvdG90eXBlLmdldFZpZGVvUHJvamVjdGlvbj1ZLnByb3RvdHlwZS5SYztZLnByb3RvdHlwZS5PYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmtifTsKWS5wcm90b3R5cGUuZ2V0TG9jYWxFc3RpbWF0b3I9WS5wcm90b3R5cGUuT2M7ZnVuY3Rpb24gU2YoYSl7YT1hLlooKTtmb3IodmFyIGI9MDtiPGEubGVuZ3RoO2IrKylpZihhW2JdLmFjdGl2ZSlyZXR1cm4gYVtiXX1ZLnByb3RvdHlwZS52YT1mdW5jdGlvbigpe2lmKCF0aGlzLmZ8fCF0aGlzLmYuYS5oYXNPd25Qcm9wZXJ0eSgiYXVkaW8iKSlyZXR1cm5bXTtmb3IodmFyIGE9dGhpcy5jLmF1ZGlvLGE9KGE9YT9hLldhKCk6bnVsbCk/YS5YOjAsYj1bXSxjPXRoaXMuZi5nZXQoImF1ZGlvIiksZD0wO2Q8Yy5sZW5ndGg7KytkKWZvcih2YXIgZT1jW2RdLGY9ZS5sYW5nLGc9MDtnPGUudi5sZW5ndGg7KytnKXt2YXIgaD1lLnZbZ107aWYoaC5vYSYmaC5mYSl7dmFyIGs9aC5YLGg9bmV3IGZhKGssaC5iYW5kd2lkdGgsZixoLmlkLGgubWltZVR5cGUsaC5jb2RlY3MsdGhpcy5iLnUsaC5jKTtrPT1hJiYoaC5hY3RpdmU9ITApO2IucHVzaChoKX19cmV0dXJuIGJ9OwpZLnByb3RvdHlwZS5nZXRBdWRpb1RyYWNrcz1ZLnByb3RvdHlwZS52YTtZLnByb3RvdHlwZS5tYz1mdW5jdGlvbigpe2lmKCF0aGlzLmZ8fCF0aGlzLmYuYS5oYXNPd25Qcm9wZXJ0eSgidGV4dCIpKXJldHVybltdO2Zvcih2YXIgYT10aGlzLmMudGV4dCxiPWE/YS5XYSgpOm51bGwsYj1iP2IuWDowLGM9W10sZD10aGlzLmYuZ2V0KCJ0ZXh0IiksZT0wO2U8ZC5sZW5ndGg7KytlKWZvcih2YXIgZj1kW2VdLGc9Zi5sYW5nLGg9MDtoPGYudi5sZW5ndGg7KytoKXt2YXIgaz1mLnZbaF0uWCxsPW5ldyB0YShrLGcpO2s9PWImJihsLmFjdGl2ZT0hMCxsLmVuYWJsZWQ9YS5EYigpKTtjLnB1c2gobCl9cmV0dXJuIGN9O1kucHJvdG90eXBlLmdldFRleHRUcmFja3M9WS5wcm90b3R5cGUubWM7WS5wcm90b3R5cGUuYWM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iJiZ0aGlzLmIubSYmMDx0aGlzLmIubT8hMDohMX07WS5wcm90b3R5cGUuaXNVc2luZ0FTUkNhcHRpb25zPVkucHJvdG90eXBlLmFjOwpZLnByb3RvdHlwZS5iYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmImJnRoaXMuYi5vJiYwPHRoaXMuYi5vJiZna3goIjExNzYyNTEiKT8hMDohMX07WS5wcm90b3R5cGUuaXNVc2luZ0FTUkNhcHRpb25zRW1wbG95ZWVEb2dmb29kaW5nPVkucHJvdG90eXBlLmJjO2Z1bmN0aW9uIHJmKGEpe3ZhciBiPU51bWJlcihhLmcuaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemUpO2EuZy5maXhCdWZmZXJpbmdHb2FsRGV0ZXJtaW5hdGlvbiYmKGI9MSk7aWYoYS5hLmdldEJvb2woImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvdyIsITEpKWI9YS5LO2Vsc2V7dmFyIGM9YS5hLmdldE51bWJlcigiYnVmZmVyaW5nX292ZXJmbG93X3RocmVzaG9sZCIsMCk7MDxjJiYoYj1jKX1yZXR1cm4gYS4kYj9OdW1iZXIoYS5nLnN0cmVhbUJ1ZmZlclNpemUpOmJ9CmZ1bmN0aW9uIE5lKGEpe2lmKGEuTyl7YT1hLmIuYVswXTtmb3IodmFyIGI9W10sYz0wO2M8YS5hLmxlbmd0aDsrK2MpYi5wdXNoLmFwcGx5KGIsUWQoYS5hW2NdKSk7YT1ifWVsc2UgYT1bXTtyZXR1cm4gYX0KZnVuY3Rpb24gUGUoYSxiKXtpZihhLk8pe2Zvcih2YXIgYz17fSxkPWEuYi5hWzBdLGU9MDtlPGQuYS5sZW5ndGg7KytlKXt2YXIgZj1kLmFbZV07Y1tmLlhdPWZ9YS5mLmE9e307ZD1hYihiKTtmb3IoZT0wO2U8ZC5sZW5ndGg7KytlKXt2YXIgZj1kW2VdLGc9Yi5nZXQoZik7aWYoInZpZGVvIj09Zil7dmFyIGg9Z1swXS5pZDthLmYucHVzaChmLGNbaF0pfWVsc2UgaWYoImF1ZGlvIj09Zil7aWYoMDxnLmxlbmd0aClmb3IodmFyIGg9Z1swXS5iLnNwbGl0KCI7IilbMF0saz0wO2s8Zy5sZW5ndGg7KytrKXt2YXIgbD1nW2tdO2wuYi5zcGxpdCgiOyIpWzBdPT1oJiZhLmYucHVzaChmLGNbbC5pZF0pfX1lbHNlIGZvcihrPTA7azxnLmxlbmd0aDsrK2spaD1nW2tdLmlkLGEuZi5wdXNoKGYsY1toXSl9YS55YT0hMDtpZihjPWEuZi5nZXQoImF1ZGlvIikpVGYoYSxjKSxhLmYuc2V0KCJhdWRpbyIsYyksYz1jWzBdLmxhbmd8fGEuUyxSYSgyLGEuUyxjKSYmKGEueWE9ITEpO2lmKGM9YS5mLmdldCgidGV4dCIpKVRmKGEsCmMpLGEuZi5zZXQoInRleHQiLGMpLGM9Y1swXS5sYW5nfHxhLlMsUmEoMixhLlMsYyl8fChhLnlhPSExKX19WS5wcm90b3R5cGUuWGM9ZnVuY3Rpb24oKXt0aGlzLkVhPSEwfTtZLnByb3RvdHlwZS5zZXRDbGVhckJ1ZmZlckFmdGVyU2Vla2luZz1ZLnByb3RvdHlwZS5YYztZLnByb3RvdHlwZS5zZWxlY3RWaWRlb1RyYWNrPWZ1bmN0aW9uKGEsYixjLGQsZSl7cmV0dXJuIG1mKHRoaXMsInZpZGVvIixhLGIsYyxkLGUpfTtZLnByb3RvdHlwZS5yZXN1bWVWaWRlb0ZldGNoaW5nPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5jLnZpZGVvP3RoaXMuYy52aWRlby5GOm51bGw7YSYmYS5yZXN1bWVWaWRlb0ZldGNoaW5nKCl9O1kucHJvdG90eXBlLnJlc3VtZVZpZGVvRmV0Y2hpbmc9WS5wcm90b3R5cGUucmVzdW1lVmlkZW9GZXRjaGluZztZLnByb3RvdHlwZS5IZD1mdW5jdGlvbigpe3ZhciBhPXRoaXMuYy52aWRlbz90aGlzLmMudmlkZW8uRjpudWxsO2EmJmEuc3RvcFVudGlsU2VnbWVudHNVcGRhdGUoKX07ClkucHJvdG90eXBlLnN0b3BVbnRpbFZpZGVvU3RyZWFtU3dpdGNoPVkucHJvdG90eXBlLkhkO2Z1bmN0aW9uIG5mKGEsYil7dmFyIGM9YS5jLnRleHQ7YyYmYy52YihiKX0KZnVuY3Rpb24gRWYoYSl7aWYoYS5tKXtmb3IodmFyIGI9ITEsYz0wO2M8YS5iLmEubGVuZ3RoOysrYylmb3IodmFyIGQ9YS5iLmFbY10sZT0wO2U8ZC5hLmxlbmd0aDsrK2Upe3ZhciBmPWQuYVtlXTtpZigidmlkZW8iPT1mLmNvbnRlbnRUeXBlKWZvcih2YXIgZz0wO2c8Zi52Lmxlbmd0aDsrK2cpe3ZhciBoPWYudltnXSxrPWguZmE7aC5mYT0hMDthLm0ubWF4V2lkdGgmJmgud2lkdGg+YS5tLm1heFdpZHRoJiYoaC5mYT0hMSk7YS5tLm1heEhlaWdodCYmaC5oZWlnaHQ+YS5tLm1heEhlaWdodCYmKGguZmE9ITEpO2EubS5taW5IZWlnaHQmJmguaGVpZ2h0PGEubS5taW5IZWlnaHQmJihoLmZhPSExKTthLm0ubWF4QmFuZHdpZHRoJiZoLmJhbmR3aWR0aD5hLm0ubWF4QmFuZHdpZHRoJiYoaC5mYT0hMSk7YS5tLm1pbkJhbmR3aWR0aCYmaC5iYW5kd2lkdGg8YS5tLm1pbkJhbmR3aWR0aCYmKGguZmE9ITEpO2shPWguZmEmJihiPSEwKX19MCE9JGEoYS5mKS5sZW5ndGgmJmImJihVZihhKSwKMDxhLlooKS5sZW5ndGh8fChiPUVycm9yKCJUaGUgYXBwbGljYXRpb24gaGFzIHJlc3RyaWN0ZWQgYWxsIHZpZGVvIHRyYWNrcyEiKSxiLnR5cGU9ImFwcCIsYj1BKGIpLGEuZGlzcGF0Y2hFdmVudChiKSkpfX1ZLnByb3RvdHlwZS5QPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYj90aGlzLmIuYjpudWxsfTtZLnByb3RvdHlwZS5pc0xpdmU9WS5wcm90b3R5cGUuUDtZLnByb3RvdHlwZS5ZYz1mdW5jdGlvbihhKXt0aGlzLiRiPWF9O1kucHJvdG90eXBlLnNldElzTGl2ZUludGVycnVwdGVkPVkucHJvdG90eXBlLlljO1kucHJvdG90eXBlLnZkPWZ1bmN0aW9uKCl7Zm9yKHZhciBhIGluIHRoaXMuYyl0aGlzLmNbYV0uSGMoKX07WS5wcm90b3R5cGUuZm9yY2VSZXN5bmNWaWRlb0J1ZmZlcj1ZLnByb3RvdHlwZS52ZDsKZnVuY3Rpb24gV2UoYSxiKXtmb3IodmFyIGMsZD0hMSxlPW5ldyBELGY9JGEoYS5mKSxnPTA7ZzxmLmxlbmd0aDsrK2cpZm9yKHZhciBoPWZbZ10saz0wO2s8aC52Lmxlbmd0aDsrK2spe3ZhciBsPWgudltrXTtsLmIuZm9yRWFjaChmdW5jdGlvbihhKXtlLnB1c2goYSxsKX0pfWZvcihjIGluIGIpaWYoZj1QYVtiW2NdXXx8bnVsbCxoPWUuZ2V0KGMpKWZvcihnPTA7ZzxoLmxlbmd0aDsrK2cpbD1oW2ddLGs9bC5vYSxsLm9hPSFmLGshPWwub2EmJihkPSEwKTtlbHNlIGliKGMpO2QmJihVZihhKSxkPWEudmEoKSxjPWEuWigpLGQ9YS5mLmEuaGFzT3duUHJvcGVydHkoImF1ZGlvIikmJjA9PWQubGVuZ3RoLGM9YS5mLmEuaGFzT3duUHJvcGVydHkoInZpZGVvIikmJjA9PWMubGVuZ3RoLGR8fGMpJiYoYz1FcnJvcigiVGhlIGtleSBzeXN0ZW0gaGFzIHJlc3RyaWN0ZWQgYWxsICIrKGQmJmM/ImF1ZGlvIGFuZCB2aWRlbyB0cmFja3MuIjpkPyJhdWRpbyB0cmFja3MuIjoidmlkZW8gdHJhY2tzLiIpKSwKYy50eXBlPSJkcm0iLGM9QShjKSxhLmRpc3BhdGNoRXZlbnQoYykpfWZ1bmN0aW9uIFVmKGEpe3ZhciBiPXkoe3R5cGU6InRyYWNrc2NoYW5nZWQiLGJ1YmJsZXM6ITB9KTthLmRpc3BhdGNoRXZlbnQoYil9ZnVuY3Rpb24gbWYoYSxiLGMsZCxlLGYsZyl7Zz0hIWc7aWYoIWEuZi5hLmhhc093blByb3BlcnR5KGIpfHwhYS5jW2JdKXJldHVybiExO2Zvcih2YXIgaD1hLmYuZ2V0KGIpLGs9MDtrPGgubGVuZ3RoOysraylmb3IodmFyIGw9aFtrXSxtPTA7bTxsLnYubGVuZ3RoOysrbSl7dmFyIHA9bC52W21dO2lmKHAuWD09Yyl7aWYoIXAub2F8fCFwLmZhKXJldHVybiExO2lmKCJ0ZXh0IiE9YiYmIWEuQ2EpcmV0dXJuIGM9YS5CW2JdLGEuQltiXT17TGM6cCxyYzpudWxsIT1jJiZjLnJjfHxkLHNjOm51bGwhPWMmJmMuc2N8fGUsc3dpdGNoUmVhc29uOmYsS2E6Z30sITA7YS5jW2JdLmpiKHAsZCxlLGYsZyk7cmV0dXJuITB9fXJldHVybiExfQpmdW5jdGlvbiBUZihhLGIpe2Zvcih2YXIgYz0wOzI+PWM7KytjKWZvcih2YXIgZD0wO2Q8Yi5sZW5ndGg7KytkKXt2YXIgZT1iW2RdO2lmKFJhKGMsYS5TLGUubGFuZykpe2Iuc3BsaWNlKGQsMSk7Yi5zcGxpY2UoMCwwLGUpO3JldHVybn19Zm9yKGQ9MDtkPGIubGVuZ3RoOysrZClpZihlPWJbZF0sZS5mKXtiLnNwbGljZShkLDEpO2Iuc3BsaWNlKDAsMCxlKTticmVha319bj1ZLnByb3RvdHlwZTtuLmhkPWZ1bmN0aW9uKCl7dGhpcy5oLmFiKHRoaXMuaSwic291cmNlb3BlbiIpO3RoaXMuSWIucmVzb2x2ZSgpfTsKZnVuY3Rpb24gRmYoYSl7dmFyIGI7YS5sJiYoYj1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJzdGFydF9zdHJlYW1zIikuc3RhcnQoKSk7Zm9yKHZhciBjPVtdLGQ9WyJhdWRpbyIsInZpZGVvIiwidGV4dCJdLGU9MDtlPGQubGVuZ3RoOysrZSl7dmFyIGY9ZFtlXTthLmYuYS5oYXNPd25Qcm9wZXJ0eShmKSYmYy5wdXNoKGEuZi5nZXQoZilbMF0pfWZvcih2YXIgZz1WZihhLGMpLGU9MDtlPGQubGVuZ3RoOysrZSlpZihmPWRbZV0sYS5mLmEuaGFzT3duUHJvcGVydHkoZikmJiFnW2ZdKXJldHVybiBhPUVycm9yKCJVbmFibGUgdG8gc2VsZWN0IGFuIGluaXRpYWwgIitmKyIgc3RyZWFtOiBhbGwgIitmKyIgc3RyZWFtcyBoYXZlIGJlZW4gcmVzdHJpY3RlZCAoYnkgdGhlIGFwcGxpY2F0aW9uIG9yIGJ5IHRoZSBrZXkgc3lzdGVtKS4iKSxhLnR5cGU9InN0cmVhbSIsYiYmYi5zZXRFcnJvcihhKS5sb2coKSxQcm9taXNlLnJlamVjdChhKTtjPVdhKGcpLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS5NLmNyZWF0ZSgpfSk7CmMucHVzaChhLkliKTtyZXR1cm4gUHJvbWlzZS5hbGwoYykudGhlbihKKGEsZnVuY3Rpb24oYSl7YS5wb3AoKTtpZighYS5ldmVyeShmdW5jdGlvbihhKXtyZXR1cm4gYS5sZW5ndGgoKX0pKXJldHVybiBhPUVycm9yKCJTb21lIHN0cmVhbXMgYXJlIG5vdCBhdmFpbGFibGUuIiksYS50eXBlPSJzdHJlYW0iLFByb21pc2UucmVqZWN0KGEpO2E9TWYodGhpcyxhKTtpZighYSlyZXR1cm4gYT1FcnJvcigiU29tZSBzdHJlYW1zIGFyZSBub3QgYXZhaWxhYmxlLiIpLGEudHlwZT0ic3RyZWFtIixQcm9taXNlLnJlamVjdChhKTtpZighV2YodGhpcyxnKSlyZXR1cm4gYT1FcnJvcigiRmFpbGVkIHRvIGNyZWF0ZSBTdHJlYW0gb2JqZWN0cy4iKSxhLnR5cGU9InN0cmVhbSIsUHJvbWlzZS5yZWplY3QoYSk7dGhpcy5BLnN0YXJ0KCk7WGYodGhpcyxnLGEpO3JldHVybiBQcm9taXNlLnJlc29sdmUoKX0pKS50aGVuKGZ1bmN0aW9uKCl7YiYmYi5sb2coKX0pLmNhdGNoKEooYSxmdW5jdGlvbihhKXtpZigiYWJvcnRlZCI9PQphLnR5cGUpYiYmYi5zZXRFcnJvcihhKS5sb2coKTtlbHNle09iamVjdC5rZXlzKHRoaXMuYyk7aWYodGhpcy5iLmIpcmV0dXJuIHlhKCk8dGhpcy5iLmo/KGE9TWF0aC5tYXgodGhpcy5iLmotRGF0ZS5ub3coKS8xRTMsdGhpcy5LYiksdGhpcy51PXNldFRpbWVvdXQodGhpcy5KYi5iaW5kKHRoaXMsITApLDFFMyphKSk6S2YodGhpcywwKSxiJiZiLmxvZygpLFByb21pc2UucmVzb2x2ZSgpO2ImJmIuc2V0RXJyb3IoYSkubG9nKCk7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfX0pKX0KZnVuY3Rpb24gVmYoYSxiKXtmb3IodmFyIGM9e30sZD0wO2Q8Yi5sZW5ndGg7KytkKXt2YXIgZT1iW2RdLGY9bnVsbDtpZigidmlkZW8iPT1lLmNvbnRlbnRUeXBlKXt2YXIgZz1hLkEuZ2V0SW5pdGlhbFZpZGVvVHJhY2tJZCgpO2lmKG51bGw9PWcpY29udGludWU7Zj1lLnYuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiBhLlg9PWd9KTtpZigwPT1mLmxlbmd0aCljb250aW51ZTtmPWZbMF19ZWxzZSBpZigiYXVkaW8iPT1lLmNvbnRlbnRUeXBlKWlmKGc9YS5BLmdldEluaXRpYWxBdWRpb1RyYWNrSWQoKSxmPWUudi5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIGEuWD09Z30pLDA9PWYubGVuZ3RoKXtmPWUudi5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIGEub2EmJmEuZmF9KTtpZigwPT1mLmxlbmd0aCljb250aW51ZTtmPWUudltNYXRoLmZsb29yKGYubGVuZ3RoLzIpXX1lbHNlIGY9ZlswXTtlbHNlIDA8ZS52Lmxlbmd0aCYmKGY9ZS52WzBdKTtjW2UuY29udGVudFR5cGVdPWZ9cmV0dXJuIGN9CmZ1bmN0aW9uIFdmKGEsYil7dmFyIGM9e30sZDtmb3IoZCBpbiBiKXt2YXIgZT1iW2RdLGU9InRleHQiPT1kP25ldyB0ZShhLGEudmlkZW8pOllmKGEsZSk7aWYoIWUpcmV0dXJuIFdhKGMpLmZvckVhY2goZnVuY3Rpb24oYSl7YS5kZXN0cm95KCl9KSwhMTtjW2RdPWV9YS5QYihhLm5jKTthLmM9YztyZXR1cm4hMH0KZnVuY3Rpb24gWWYoYSxiKXt2YXIgYz1OZChiKSxkPVpmKGMuc3BsaXQoIjsiKVswXSksZT1udWxsLGY9YS5hLmdldEJvb2woInVzZV9sb2NhbF9lc3RpbWF0b3JfZm9yX2Ficl9zYW1wbGluZyIsITApP2Eua2I6YS53YSxnPW51bGwsaD1udWxsLGs9YS5iLmZ8fGEuYi5BLGs9YS5hLmdldEJvb2woInNraXBfc2VnbWVudF9yZXF1ZXN0X21hbmFnZXIiLCExKSYmazthLldiJiZjYW5Vc2VGZXRjaFN0cmVhbSgpPyhoPW5ldyBNdWx0aXBsZVNlZ21lbnRzUHJvdmlkZXIoYS5hLmdldE51bWJlcigic3RyZWFtaW5nX3NlZ21lbnRfc2l6ZSIsNCkpLGc9JGYoYSxoLGQsZikpOmEuVmImJiFrJiYoZT1hZyhhLGQsZikpO3ZhciBrPW51bGwsbD1hLmYuZ2V0KGQpOyJ2aWRlbyI9PT1kJiYwPGwubGVuZ3RoJiYoaz1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz1udWxsLGQ9bnVsbCxlPTA7ZTxsWzBdLnYubGVuZ3RoO2UrKylsWzBdLnZbZV0uaWQ9PT1hP2M9bFswXS52W2VdOmxbMF0udltlXS5pZD09PQpiJiYoZD1sWzBdLnZbZV0pO3JldHVybiBudWxsPT09Y3x8bnVsbD09PWQ/MDpjLmJhbmR3aWR0aD5kLmJhbmR3aWR0aD8xOi0xfSk7Yz1uZXcgVShhLGEudmlkZW8sYS5hLGEuaSxjLGYsYS5wYyxhLmRhLGssYS5HLGUsZyxoLGEuaWEpO2MucGEoYS5nKTtyZXR1cm4gY30KZnVuY3Rpb24gJGYoYSxiLGMsZCl7dmFyIGU9YS53W2NdLGY9ImF1ZGlvIiE9PWN8fGEuYS5nZXRCb29sKCJlbmFibGVfYXVkaW9fc3RyZWFtaW5nIiwhMSk7aWYoIWUmJmYpe3ZhciBlPW5ldyBWaWRlb1N0cmVhbWluZ01hbmFnZXIoYS5hLGIsYyxhLmwsYS5VKSxnPSJ2aWRlbyI9PT1jO2cmJmUuYWRkTGlzdGVuZXIoImJhbmR3aWR0aFVwZGF0ZSIsZnVuY3Rpb24oYSl7ZC5zYW1wbGUoYS50aW1lVGFrZW4sYS5ieXRlc1JlYWQsZyx7dGltZVRvTGFzdEJ5dGU6YS50aW1lVGFrZW59LHRoaXMuQWIsdGhpcy5sLCF0aGlzLmEuZ2V0Qm9vbCgiZXZhbHVhdGVfYWJyX29uX3N0cmVhbV9iYW5kd2lkdGhfc2FtcGxlIiwhMCkpfS5iaW5kKGEpKX1lJiYoYS53W2NdPWUpO3JldHVybiBlfHxudWxsfQpmdW5jdGlvbiBhZyhhLGIsYyl7aWYoInZpZGVvIj09PWJ8fCJhdWRpbyI9PT1iJiZhLmEuZ2V0Qm9vbCgiZW5hYmxlX3JlcXVlc3RfcGlwZWxpbmluZ19mb3Jfdm9kX2F1ZGlvcyIsITEpKXt2YXIgZD1hLm9bYl07ZHx8KGQ9bmV3IFNlZ21lbnRSZXF1ZXN0TWFuYWdlcihhLmEsYixhLlAoKT9WaWRlb1ByaW9yaXR5Q2FsY3VsYXRvci5jYWxjdWxhdGVMaXZlOlZpZGVvUHJpb3JpdHlDYWxjdWxhdG9yLmNhbGN1bGF0ZSxhLmwsYyxhLkFiLGEuZGEsYS5pYSksYS5SJiZkLnVwZGF0ZVByaW9yaXR5V2l0aE5ld0FkanVzdG1lbnQoYS5SLmdldFByaW9yaXR5QWRqdXN0bWVudCgpKSxhLm9bYl09ZCk7cmV0dXJuIGR9cmV0dXJuIG51bGx9ZnVuY3Rpb24gYmcoYSxiKXthLnZpZGVvLmN1cnJlbnRUaW1lPWI7YS5hLmdldEJvb2woInNldF9wZW5kaW5nX3NlZWtfb25fc2V0X2N1cnJlbnRfdGltZV9mYWlsdXJlIiwhMSkmJmEudmlkZW8uY3VycmVudFRpbWUrMTxiJiZjZyhhLGIpO2EuRD1ifQpmdW5jdGlvbiBYZihhLGIsYyl7YS5rYz1hLnZpZGVvLnBsYXliYWNrUmF0ZTthLnZpZGVvLnBsYXliYWNrUmF0ZT0wO2RnKGEsYyk7dmFyIGQ7ZD1hLmIuZjsoIWEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9hZGp1c3Rfc3RyZWFtX2xpbWl0c19zdGFydF9vZmZzZXRfaW50IiwwKSYmIWEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9qdW1wX3RvX2xpdmVfc2lkeF9lbmRfb2Zmc2V0IiwwKXx8IWQpJiZhLmxhJiZhLmxhPD1jLmVuZCYmYS5sYT49Yy5zdGFydD9kPWEubGE6YS5iLmI/KGQ9ZWcoYSxjKSxhLmVjPSEwKTpkPWMuc3RhcnQ7RShhLmgsYS52aWRlbywic2Vla2luZyIsYS5tZC5iaW5kKGEpKTthLkk/KGEuSS5zZXRPblBsYXlpbmcoYS5tYi5iaW5kKGEsITApKSxhLkkuc2V0T25QYXVzZWQoYS5tYi5iaW5kKGEsITEpKSxhLkkuZW5hYmxlKCkpOihFKGEuaCxhLnZpZGVvLCJwbGF5aW5nIixhLm1iLmJpbmQoYSwhMCkpLGEuYS5nZXRCb29sKCJ1cGRhdGVfcHJpb3JpdHlfb25fcGxheV9ldmVudCIsCiEwKSYmRShhLmgsYS52aWRlbywicGxheSIsYS5tYi5iaW5kKGEsITApKSxFKGEuaCxhLnZpZGVvLCJwYXVzZSIsYS5tYi5iaW5kKGEsITEpKSk7RShhLmgsYS52aWRlbywic2Vla2luZyIsYS5NYy5iaW5kKGEpKTtFKGEuaCxhLnZpZGVvLCJ0aW1ldXBkYXRlIix0aHJvdHRsZShhLk1jLmJpbmQoYSksYS5hLmdldE51bWJlcigic2NoZWR1bGVyX3ByaW9yaXR5X3VwZGF0ZV9pbnRlcnZhbCIsMUUzKSkpO2lmKGEudmlkZW8uY3VycmVudFRpbWUhPWQpaWYoYS5TYikwIT09YS52aWRlby5yZWFkeVN0YXRlP2JnKGEsZCk6Y2coYSxkKTtlbHNlIHRyeXtiZyhhLGQpfWNhdGNoKGUpe2NnKGEsZCl9ZmcoYSxjLnN0YXJ0LGMuZW5kLGMubGFzdCxjLlphKTt2YXIgZj1bXSxnO2ZvcihnIGluIGEuYyl7Yz1hLmNbZ107SihhLGZ1bmN0aW9uKGEpe2YucHVzaChhLktjKHRoaXMuc2EpLnRoZW4oSih0aGlzLGZ1bmN0aW9uKGIpe3ZhciBjPWEuc2IoKTtjPnRoaXMuQmImJih0aGlzLkJiPWMpO3JldHVybiBifSkpKX0pKGMpOwpFKGEuaCxjLCJlbmRlZCIsYS5vZC5iaW5kKGEpKTtFKGEuaCxjLCJzaG91bGRfZW5kX2FsbF9zdHJlYW1zIixhLnBkLmJpbmQoYSkpO0UoYS5oLGMsInNob3VsZF9udWRnZSIsYS5qZC5iaW5kKGEpKTtkPWJbZ107dmFyIGg9YS5BLmdldEluaXRpYWxTd2l0Y2hSZWFzb24oKXx8dm9pZCAwO2MuamIoZCwhMSx2b2lkIDAsaCl9UHJvbWlzZS5hbGwoZikudGhlbihKKGEsZnVuY3Rpb24oYSl7dGhpcy5hLmdldEJvb2woInByZXZlbnRfc3RyZWFtX3N0YXJ0X2lmX3N0cmVhbXNfY2hhbmdlIiwhMSkmJiFnZyh0aGlzKXx8aGcodGhpcyxhKX0pKS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7ImRlc3Ryb3kiIT1hLnR5cGUmJihhPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGEpKX0pKTtuZihhLGEueWEpfQpuLm1iPWZ1bmN0aW9uKGEpe09iamVjdC5rZXlzKHRoaXMubykuZm9yRWFjaChmdW5jdGlvbihiKXt0aGlzLm9bYl0udXBkYXRlUHJpb3JpdHlXaXRoTmV3UGxheWluZ1N0YXRlKGEpfS5iaW5kKHRoaXMpKTtPYmplY3Qua2V5cyh0aGlzLncpLmZvckVhY2goZnVuY3Rpb24oYil7dGhpcy53W2JdLmdldFByaW9yaXR5VXBkYXRlcigpLnVwZGF0ZVByaW9yaXR5V2l0aE5ld1BsYXlpbmdTdGF0ZShhKX0uYmluZCh0aGlzKSk7aWYodGhpcy5sKXt2YXIgYj1NZih0aGlzLEhmKHRoaXMpKTtiJiZ0aGlzLnZpZGVvLmN1cnJlbnRUaW1lPGIuc3RhcnQmJkJhbnphaU9EUy5idW1wRW50aXR5S2V5KDI5NjYsInZpZGVvcy53d3cuc2hha2EiLCJjdXJyZW50X3RpbWVfYXRfcGxheWluZ19sZXNzX3RoYW5fc3RyZWFtX2xpbWl0c19zdGFydCIpfWEmJm51bGwhPT10aGlzLmNhJiYodGhpcy54YT0xLFJmKHRoaXMsdGhpcy54YSksaWcodGhpcykpfTsKbi5NYz1mdW5jdGlvbigpe3RoaXMudmlkZW8mJihPYmplY3Qua2V5cyh0aGlzLm8pLmZvckVhY2goZnVuY3Rpb24oYSl7dGhpcy5vW2FdLnVwZGF0ZVByaW9yaXR5V2l0aE5ld1BsYXloZWFkKHRoaXMudmlkZW8uY3VycmVudFRpbWUpfS5iaW5kKHRoaXMpKSxPYmplY3Qua2V5cyh0aGlzLncpLmZvckVhY2goZnVuY3Rpb24oYSl7dGhpcy53W2FdLmdldFByaW9yaXR5VXBkYXRlcigpLnVwZGF0ZVByaW9yaXR5V2l0aE5ld1BsYXloZWFkKHRoaXMudmlkZW8uY3VycmVudFRpbWUpfS5iaW5kKHRoaXMpKSl9O2Z1bmN0aW9uIFFmKGEpe2lmKGEuYS5nZXRCb29sKCJjbGVhcl9jdXJyZW50X3NlZ21lbnRfaW5kZXhlc19kdXJpbmdfbGl2ZWhlYWRfY2F0Y2h1cCIsITEpKWZvcih2YXIgYiBpbiBhLmMpYS5jW2JdLmk9bnVsbH1mdW5jdGlvbiBjZyhhLGIpe2EuYmE9Yjtmb3IodmFyIGMgaW4gYS5jKXt2YXIgZD1hLmNbY107YS5iYSYmKGQuSj1hLmJhKX19CmZ1bmN0aW9uIGdnKGEpe3JldHVybiFPYmplY3Qua2V5cyhhLmMpLnNvbWUoSihhLGZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNbYV0mJiF0aGlzLmNbYV0uaH0pKX0KZnVuY3Rpb24gaGcoYSxiKXtiYShiJiZiLmxlbmd0aD09T2JqZWN0LmtleXMoYS5jKS5sZW5ndGgpO2Zvcih2YXIgYz1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksZD1OdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFksZT0wO2U8Yi5sZW5ndGg7KytlKXZhciBmPWJbZV0sYz1NYXRoLm1pbihjLGYpLGQ9TWF0aC5tYXgoZCxmKTtjPUhmKGEpO2ZvcihlPTA7ZTxjLmxlbmd0aDsrK2UpY1tlXS5UYShkKTthLmEuZ2V0Qm9vbCgicHJvY2Vzc19kZWZlcnJlZF9zd2l0Y2hlc19lYXJseSIsITEpJiZqZyhhKTtrZyhhLGMsZCk7dmFyIGc9V2EoYS5jKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuV2EoKS5pZH0pO2EuYS5nZXRCb29sKCJzZXF1ZW50aWFsbHlfbG9hZF9zdHJlYW1zIiwhMSk/bGcoYSxnLGQpOihlPSRhKGEuZikubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLnZ9KS5yZWR1Y2UoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5jb25jYXQoYil9LFtdKS5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIX5nLmluZGV4T2YoYS5pZCl9KS5tYXAoSihhLApmdW5jdGlvbihhKXt2YXIgYj1bYS5NLnBiP2EuTS5wYigpOmEuTS5jcmVhdGUoKV07YS5hYSYmYi5wdXNoKGEuYWEuY3JlYXRlKHRoaXMubCx0aGlzLmRhKSk7cmV0dXJuIFByb21pc2UuYWxsKGIpfSkpLFByb21pc2UuYWxsKGUpLnRoZW4oSihhLGZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7KytiKWFbYl1bMF0uVGEoZCk7dGhpcy5DYT0hMDtqZyh0aGlzKX0pKS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7ImFib3J0ZWQiIT1hLnR5cGUmJihhPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGEpKX0pKSl9CmZ1bmN0aW9uIGxnKGEsYixjKXt2YXIgZD1Qcm9taXNlLnJlc29sdmUoKTskYShhLmYpLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS52fSkucmVkdWNlKGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuY29uY2F0KGIpfSxbXSkuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiF+Yi5pbmRleE9mKGEuaWQpfSkuZm9yRWFjaChmdW5jdGlvbihhKXtkPWQudGhlbihKKHRoaXMsZnVuY3Rpb24oYil7YiYmYlswXS5UYShjKTtiPVthLk0ucGI/YS5NLnBiKCk6YS5NLmNyZWF0ZSgpXTthLmFhJiZiLnB1c2goYS5hYS5jcmVhdGUodGhpcy5sLHRoaXMuZGEpKTtyZXR1cm4gUHJvbWlzZS5hbGwoYil9KSkuY2F0Y2goZnVuY3Rpb24oYSl7dGhyb3cgYTt9KX0pO2QudGhlbihKKGEsZnVuY3Rpb24oKXt0aGlzLkNhPSEwO2pnKHRoaXMpfSkpLmNhdGNoKEooYSxmdW5jdGlvbihhKXsiYWJvcnRlZCIhPWEudHlwZSYmKGE9QShhKSx0aGlzLmRpc3BhdGNoRXZlbnQoYSkpfSkpfQpmdW5jdGlvbiBqZyhhKXtmb3IodmFyIGIgaW4gYS5CKXt2YXIgYz1hLkJbYl07YS5jW2JdLmpiKGMuTGMsYy5yYyxjLnNjLGMuc3dpdGNoUmVhc29uLGMuS2EpfWEuQj17fX0KZnVuY3Rpb24ga2coYSxiLGMpe3ZhciBkO2EuYS5nZXRCb29sKCJ3d3dfdmlkZW9zX2V4dGVuZGVkX3NwbF9sb2dnaW5nX2Zvcl9jb25uZWN0ZWRfdHYiLCExKSYmYS5sJiYoZD1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJzdHJlYW1fdmlkZW9fc291cmNlX2JlZ2luX3BsYXliYWNrIikpO2lmKGI9TWYoYSxiKSlkZyhhLGIpLGZnKGEsYi5zdGFydCxiLmVuZCxiLmxhc3QsYi5aYSk7MCE9Yz8oYz1hLnZpZGVvLmN1cnJlbnRUaW1lK2MsYS5hLmdldE51bWJlcigid3d3X3ZpZGVvc19udWRnZV90aW1lc3RhbXBfY29ycmVjdGlvbl9zIiwwKSYmKGMrPWEuYS5nZXROdW1iZXIoInd3d192aWRlb3NfbnVkZ2VfdGltZXN0YW1wX2NvcnJlY3Rpb25fcyIsMCkpLGEudmlkZW8uY3VycmVudFRpbWU9YyxhLkQ9Yyk6YS5lYyYmYiYmKGM9ZWcoYSxiKSxNYXRoLmFicyhjLWEudmlkZW8uY3VycmVudFRpbWUpPj1hLmRjJiYoYS52aWRlby5jdXJyZW50VGltZT1jKSk7YS5hLmdldEJvb2woInVuaWZ5X3N0cmVhbV9zdGFydF93aXRoX2J1ZmZlcl9kZXRlY3RvciIsCiExKT8oYz15KHt0eXBlOiJhbGxTdHJlYW1zU3RhcnRlZCIsYnViYmxlczohMH0pLGEuZGlzcGF0Y2hFdmVudChjKSk6YS52aWRlby5wbGF5YmFja1JhdGU9YS5rYzthLmIuYiYmbnVsbCE9YS5iLmMmJktmKGEsMCk7bWcoYSk7YS5zYS5yZXNvbHZlKCk7ZCYmZC5sb2coKX0KZnVuY3Rpb24gZWcoYSxiKXt2YXIgYz1iLmVuZDt2b2lkIDAhPT1iLkJjJiYoYz1iLkJjKTtpZihhLmEuZ2V0Qm9vbCgidGVtcGxhdGVkX2Fsd2F5c19qdW1wX3RvX3N0cmVhbV9saW1pdHNfZW5kIiwhMSkmJmEuYiYmYS5iLmYpcmV0dXJuIGIuZW5kO2lmKGEuY2Mpe3ZhciBkPWEudmlkZW8uY3VycmVudFRpbWUsZT1iLnN0YXJ0O2lmKGEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9hZGp1c3Rfc3RyZWFtX2xpbWl0c19zdGFydF9vZmZzZXRfaW50IiwwKSYmYS5iJiZhLmIuZil7Zm9yKHZhciBmPUhmKGEpLGc9MCxoPTA7aDxmLmxlbmd0aDsrK2gpe3ZhciBrPWZbaF0sbD1NYXRoLm1pbihhLmEuZ2V0TnVtYmVyKCJ0ZW1wbGF0ZWRfYWRqdXN0X3N0cmVhbV9saW1pdHNfc3RhcnRfb2Zmc2V0X2ludCIsMCksay5sZW5ndGgoKSk7ay5sZW5ndGgoKSYmMDxsJiZsPD1rLmxlbmd0aCgpJiYoZz1NYXRoLm1heChrLmdldChrLmxlbmd0aCgpLWwpLnN0YXJ0VGltZSxnKSl9ZT1NYXRoLm1heChlLApnKX1pZihkPj1lJiZkPD1iLmVuZCYmZDxjKWlmKGEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9qdW1wX3RvX2xpdmVfc2lkeF9lbmRfb2Zmc2V0IiwwKSYmYS5iJiZhLmIuZil7Zj1IZihhKTtrPW51bGw7ZT1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7Zm9yKGg9MDtoPGYubGVuZ3RoOysraClmW2hdLmxlbmd0aCgpPGUmJihlPWZbaF0ubGVuZ3RoKCksaz1mW2hdKTtrJiZlPmEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9qdW1wX3RvX2xpdmVfc2lkeF9lbmRfb2Zmc2V0IiwwKSYmKGY9ay5nZXQoay5sZW5ndGgoKS1hLmEuZ2V0TnVtYmVyKCJ0ZW1wbGF0ZWRfanVtcF90b19saXZlX3NpZHhfZW5kX29mZnNldCIsMCkpLnN0YXJ0VGltZSxkPj1mJiYoYz1kKSl9ZWxzZSBjPWR9cmV0dXJuIGN9CmZ1bmN0aW9uIGRnKGEsYil7aWYoYS5iLmIpaXNOYU4oYS5pLmR1cmF0aW9uKSYmKGEuaS5kdXJhdGlvbj1iLmVuZCsyNTkyRTMpO2Vsc2UgaWYoaXNOYU4oYS5pLmR1cmF0aW9uKXx8Yi5lbmQ+YS5pLmR1cmF0aW9uKWlmKGEuaS5kdXJhdGlvbj1iLmVuZCwhYS5hLmdldEJvb2woImRpc2FibGVfYXBwZW5kX3dpbmRvd19lbmQiLCExKSlmb3IodmFyIGM9YS5hLmdldE51bWJlcigiYXBwZW5kX3dpbmRvd19lbmRfZnVkZ2VfZmFjdG9yIiwwKSxkPTA7ZDxhLmkuc291cmNlQnVmZmVycy5sZW5ndGg7KytkKWEuaS5zb3VyY2VCdWZmZXJzW2RdLmFwcGVuZFdpbmRvd0VuZD1iLmVuZCtjfQpuLnJkPWZ1bmN0aW9uKCl7dGhpcy5rYT1udWxsO21nKHRoaXMpO3ZhciBhPU1mKHRoaXMsSGYodGhpcykpO2lmKGEpe3ZhciBiPXRoaXMuYi5iO3RoaXMuYS5nZXRCb29sKCJ0cmVhdF9saXZlX3N0YXRpY19tYW5pZmVzdF9hc19keW5hbWljIiwhMSkmJihiPWJ8fHRoaXMuYi5oKTtiJiZ0aGlzLmphIT1hLmxhc3QmJih0aGlzLmphPWEubGFzdCxudWxsIT10aGlzLmomJihjbGVhclRpbWVvdXQodGhpcy5qKSx0aGlzLmo9bnVsbCkpO2ZnKHRoaXMsYS5zdGFydCxhLmVuZCxhLmxhc3QsYS5aYSk7dGhpcy52aWRlby5wYXVzZWR8fG5nKHRoaXMsdGhpcy52aWRlby5jdXJyZW50VGltZSxhLnN0YXJ0LGEuZW5kKX19O2Z1bmN0aW9uIGZnKGEsYixjLGQsZSl7Yj15KHt0eXBlOiJzZWVrcmFuZ2VjaGFuZ2VkIixidWJibGVzOiEwLHN0YXJ0OmIsZW5kOmMsbGFzdDpkLHNlZWtSYW5nZUdhcHM6ZX0pO2EuZGlzcGF0Y2hFdmVudChiKX0Kbi5tZD1mdW5jdGlvbigpe3ZhciBhPXRoaXMudmlkZW8uY3VycmVudFRpbWUsYj1NZih0aGlzLEhmKHRoaXMpKTt0aGlzLmwmJmImJmE8Yi5zdGFydCYmQmFuemFpT0RTLmJ1bXBFbnRpdHlLZXkoMjk2NiwidmlkZW9zLnd3dy5zaGFrYSIsImN1cnJlbnRfdGltZV9hdF9zZWVrX2xlc3NfdGhhbl9zdHJlYW1fbGltaXRzX3N0YXJ0Iik7aWYobnVsbCE9dGhpcy5EKXtpZihhPj10aGlzLkQtLjAxJiZhPD10aGlzLkQrLjAxKXt0aGlzLkQ9bnVsbDt0aGlzLmwmJmImJmE8Yi5zdGFydCYmQmFuemFpT0RTLmJ1bXBFbnRpdHlLZXkoMjk2NiwidmlkZW9zLnd3dy5zaGFrYSIsImlnbm9yZWRfc2Vla193aGVuX2N1cnJlbnRfdGltZV9hdF9zZWVrX2xlc3NfdGhhbl9zdHJlYW1fbGltaXRzX3N0YXJ0Iik7cmV0dXJufXRoaXMuRD1udWxsfWlmKGIpe3ZhciBjPWIuc3RhcnQsZD1iLmVuZDt0aGlzLmEuZ2V0Qm9vbCgic2tpcF9yZW1haW5pbmdfYnVmZmVyZWRfb25fc3RyZWFtX2VuZCIsITEpJiZ0aGlzLmIuYiYmCnRoaXMuYi5oJiZ0aGlzLnZpZGVvLnBhdXNlZCYmKGQ9dGhpcy5qYSk7KGM9bmcodGhpcyxhLGMsZCkpfHwoYTw9ZCsuMDF8fHRoaXMuYi5iJiYhb2codGhpcyxkKT9jPSExOih0aGlzLnZpZGVvLmN1cnJlbnRUaW1lPWQsYz0hMCkpO2lmKGMpdGhpcy5sJiZhPGIuc3RhcnQmJkJhbnphaU9EUy5idW1wRW50aXR5S2V5KDI5NjYsInZpZGVvcy53d3cuc2hha2EiLCJjbGFtcF9wbGF5aGVhZF93aGVuX2N1cnJlbnRfdGltZV9hdF9zZWVrX2xlc3NfdGhhbl9zdHJlYW1fbGltaXRzX3N0YXJ0Iik7ZWxzZXtmb3IodmFyIGUgaW4gdGhpcy5jKXRoaXMuY1tlXS5DYyh0aGlzLkVhKTt0aGlzLkVhPSExfX19O2Z1bmN0aW9uIG5nKGEsYixjLGQpe2lmKGI+PWMtLjAxKXJldHVybiExO2I9MDthLmIuYiYmKGI9LjUsb2coYSxjK2IpfHwoYj1hLmIuZykpO2EudmlkZW8uY3VycmVudFRpbWU9TWF0aC5taW4oYytiLGQpO3JldHVybiEwfQpmdW5jdGlvbiBvZyhhLGIpe2Zvcih2YXIgYyBpbiBhLmMpaWYoIWEuY1tjXS5JYyhiKSlyZXR1cm4hMTtyZXR1cm4hMH1uLm9kPWZ1bmN0aW9uKCl7aWYoIXRoaXMuYi5ifHx0aGlzLkZhKXtmb3IodmFyIGEgaW4gdGhpcy5jKWlmKCF0aGlzLmNbYV0uZmIoKSlyZXR1cm47dGhpcy5lYigpfX07bi5wZD1mdW5jdGlvbigpe2NsZWFyVGltZW91dCh0aGlzLnUpO3RoaXMuRmE9ITA7Zm9yKHZhciBhIGluIHRoaXMuYyl0aGlzLmNbYV0uZmIoKXx8dGhpcy5jW2FdLkNiKCl9O24uamQ9ZnVuY3Rpb24oKXt0aGlzLmEuZ2V0Qm9vbCgiaWdub3JlX3NlZWtfd2hlbl9udWRnaW5nIiwhMCkmJih0aGlzLkQ9dGhpcy52aWRlby5jdXJyZW50VGltZSk7dGhpcy52aWRlby5jdXJyZW50VGltZSs9LjAwMX07Cm4udGI9ZnVuY3Rpb24oKXtpZih0aGlzLmFjKCl8fHRoaXMuYmMoKSlyZXR1cm4hMDt2YXIgYT10aGlzLmIsYj1udWxsLGM9bnVsbDthJiZhLmEmJmEuYVswXSYmKGI9YS5hWzBdKTtiJiZiLmEmJmIuYVswXSYmKGM9Yi5hWzBdKTtyZXR1cm4hIWMmJmMuYn07WS5wcm90b3R5cGUuaGFzSW5saW5lZENlYTYwOFN1YnRpdGxlcz1ZLnByb3RvdHlwZS50YjtZLnByb3RvdHlwZS5QYj1mdW5jdGlvbihhKXt0aGlzLm5jPWE7dmFyIGI9dGhpcy5jOyJ2aWRlbyJpbiBiJiYoYT1hJiZ0aGlzLnRiKCksYi52aWRlby5jLlM9YSl9O1kucHJvdG90eXBlLnNldEVuYWJsZUNlYTYwOFBhcnNpbmc9WS5wcm90b3R5cGUuUGI7CmZ1bmN0aW9uIHNmKGEpe3ZhciBiPWEuYS5nZXROdW1iZXIoImxpdmVfYnVmZmVyaW5nX3VuZGVyZmxvd190aHJlc2hvbGQiLC41KSxjPWEuYS5nZXRCb29sKCJmaXhfbGl2ZV9zdHJlYW1fZ29uZV9vbl9tYW5pZmVzdF91cGRhdGUiLCEwKSYmYS5oYyxkPSExO2lmKGEuYi5oKXt2YXIgZD1hLmEuZ2V0TnVtYmVyKCJsaXZlX3N0cmVhbV9lbmRfc2xhY2siLDApLGU7Zm9yKGUgaW4gYS5jKWEuY1tlXS5mYigpfHwoZD0wKTtkPWEudmlkZW8uY3VycmVudFRpbWUrYitkPmEuamF9cmV0dXJuIGN8fGR9bj1ZLnByb3RvdHlwZTsKbi5jZD1mdW5jdGlvbigpe3RoaXMuJD0hMDtpZih0aGlzLmImJnRoaXMuYi5iKXtpZihzZih0aGlzKSlyZXR1cm4gdGhpcy5lYigpO3RoaXMuYS5nZXRCb29sKCJhbGxvd19pbmZpbml0ZV9yZXRyeV9vbl9uZXRfZXJyIiwhMCkmJnRoaXMuRy5pc05ldHdvcmtJbnRlcnJ1cHRlZCgpfHwhV2EodGhpcy5jKS5ldmVyeShmdW5jdGlvbihhKXtyZXR1cm4gYS5mYigpfSl8fHBnKHRoaXMsdGhpcy5nYil9dGhpcy5hLmdldEJvb2woImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvdyIsITEpJiYobnVsbD09PXRoaXMuS3x8RGF0ZS5ub3coKS10aGlzLmZjPnRoaXMuYS5nZXROdW1iZXIoImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvd190aW1lX3dpbmRvdyIsMkUzKT90aGlzLks9dGhpcy5hLmdldE51bWJlcigiYnVmZmVyaW5nX292ZXJmbG93X3RocmVzaG9sZCIsMCk6dGhpcy5LKj10aGlzLmEuZ2V0TnVtYmVyKCJiYWNrX29mZl9idWZmZXJpbmdfb3ZlcmZsb3dfdGltZV9mYWN0b3IiLDIpLAp0aGlzLks9TWF0aC5taW4odGhpcy5LLHRoaXMuYS5nZXROdW1iZXIoImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvd19tYXgiLDUpKSl9O2Z1bmN0aW9uIHBnKGEsYil7YS5qPXNldFRpbWVvdXQoYS5lYi5iaW5kKGEpLGIpfW4uYmQ9ZnVuY3Rpb24oKXt0aGlzLiQ9ITE7dGhpcy5hLmdldEJvb2woImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvdyIsITEpJiYodGhpcy5mYz1EYXRlLm5vdygpKTtudWxsIT10aGlzLmomJihjbGVhclRpbWVvdXQodGhpcy5qKSx0aGlzLmo9bnVsbCl9O24uZ2Q9ZnVuY3Rpb24oKXtudWxsIT09dGhpcy5iYSYmKGJnKHRoaXMsdGhpcy5iYSksY2codGhpcyxudWxsKSl9O24uR2Q9ZnVuY3Rpb24oKXt9OwpuLmViPWZ1bmN0aW9uKCl7dGhpcy4kPSExO3RoaXMuaj1udWxsO3ZhciBhO2lmKGE9dGhpcy5hLmdldEJvb2woInRlc3Rfc291cmNlX2J1ZmZlcnNfbm90X3VwZGF0aW5nX2VuZF9vZl9zdHJlYW0iLCExKSlhOntmb3IoYT0wO2E8dGhpcy5pLnNvdXJjZUJ1ZmZlcnMubGVuZ3RoOysrYSlpZih0aGlzLmkuc291cmNlQnVmZmVyc1thXS51cGRhdGluZyl7YT0hMDticmVhayBhfWE9ITF9aWYoYSlyZXR1cm4gcGcodGhpcywxRTMpOyJvcGVuIj09dGhpcy5pLnJlYWR5U3RhdGUmJnRoaXMuaS5lbmRPZlN0cmVhbSgpfTtmdW5jdGlvbiBIZihhKXtyZXR1cm4gV2EoYS5jKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuRmIoKX0pLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YX0pfWZ1bmN0aW9uIExmKGEpe3JldHVybiBNYXRoLm1heChhLmI/YS5iLmc6MSxhLlpiP2EuZy5zdHJlYW1CdWZmZXJTaXplfHwwOjApfQpmdW5jdGlvbiBNZihhLGIpe2Zvcih2YXIgYz0wLGQ9TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLGU9TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLGY9W10sZz0hVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJub19zZWVrX3JhbmdlX2dhcHNfZHVyaW5nX2NvbXB1dGVfc3RyZWFtX2xpbWl0cyIsITEpLGg9MDtoPGIubGVuZ3RoOysraCl7dmFyIGs9YltoXS5BKCk7ZyYmKGY9Zi5jb25jYXQoYltoXS5nZXRTZWVrUmFuZ2VHYXBzKCkpKTtjPU1hdGgubWF4KGMsay5zdGFydCk7bnVsbCE9ay5lbmQmJihkPU1hdGgubWluKGQsay5lbmQpKTtiW2hdLmxlbmd0aCgpJiYoZT1NYXRoLm1pbihlLGJbaF0ubGFzdCgpLmVuZFRpbWUpKX1nJiYoZj1tZXJnZVNlZWtSYW5nZUdhcHMoZikpO2lmKGQ9PU51bWJlci5QT1NJVElWRV9JTkZJTklUWSlpZihkPWEuYi5hWzBdLGQuZHVyYXRpb24pZD0oZC5zdGFydHx8MCkrZC5kdXJhdGlvbjtlbHNlIHJldHVybiBudWxsO2lmKGEuYi5iKXt2YXIgZz0KTGYoYSksZD1NYXRoLm1heChkLWcsYyksbDthLnJhJiZhLmEuZ2V0Qm9vbCgibGl2ZV9qdW1wX3RvX3B1c2hlZF9zZWdtZW50IiwhMSkmJmIubGVuZ3RoJiYoaD1NYXRoLmZsb29yKExmKGEpLzEpKzEsZz1iWzBdLGg9Zy5sZW5ndGgoKS1oLChnPWcuZ2V0KGgpKSYmKGw9Zy5zdGFydFRpbWUpKX1pZihjPmQpcmV0dXJuIG51bGw7ZD1NYXRoLmZsb29yKDFFNSpkKS8xRTU7cmV0dXJue3N0YXJ0OmMsZW5kOmQsbGFzdDplLFphOmYsQmM6bH19bi5uYj1mdW5jdGlvbigpe3JldHVybiBNZih0aGlzLEhmKHRoaXMpKX07WS5wcm90b3R5cGUuY29tcHV0ZVN0cmVhbUxpbWl0cz1ZLnByb3RvdHlwZS5uYjtmdW5jdGlvbiBtZyhhKXthLmIuYiYmKGEua2E9c2V0VGltZW91dChhLnJkLmJpbmQoYSksMUUzKSl9ZnVuY3Rpb24gRGYoYSl7Zm9yKHZhciBiIGluIGEuYylhLmNbYl0ucGEoYS5nKX1ZLnByb3RvdHlwZS5zYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLkJifTsKWS5wcm90b3R5cGUuZ2V0TG9uZ2VzdEluaXRSZXNwb25zZVRpbWU9WS5wcm90b3R5cGUuc2I7ZnVuY3Rpb24gWmYoYSl7cmV0dXJuInYiPT09YS5jaGFyQXQoMCk/InZpZGVvIjoiYSI9PT1hLmNoYXJBdCgwKT8iYXVkaW8iOm51bGx9WS5wcm90b3R5cGUuVGM9ZnVuY3Rpb24oKXt2YXIgYT15KHt0eXBlOiJuZXR3b3JraW50ZXJydXB0ZWQiLGJ1YmJsZXM6ITB9KTt0aGlzLmRpc3BhdGNoRXZlbnQoYSk7dGhpcy5UPXRoaXMuVHx8RGF0ZS5ub3coKTt0aGlzLiQmJnRoaXMuaiYmY2xlYXJUaW1lb3V0KHRoaXMuail9OwpZLnByb3RvdHlwZS5VYz1mdW5jdGlvbigpe3ZhciBhPXkoe3R5cGU6Im5ldHdvcmtyZXN1bWVkIixidWJibGVzOiEwfSk7dGhpcy5kaXNwYXRjaEV2ZW50KGEpO2E9dGhpcy5hLmdldE51bWJlcigibWF4X25ldHdvcmtfaW50ZXJydXB0ZWRfdGltZV9iZWZvcmVfc2VlayIsMUU0KTtudWxsIT09dGhpcy5UJiZEYXRlLm5vdygpLXRoaXMuVD49YSYmKHRoaXMuVD1udWxsLHRoaXMuZWE9ITApO3RoaXMuYS5nZXRCb29sKCJmaXhfbmV0d29ya19pbnRlcnJ1cHRlZF9zdGFydF9ub3RfbnVsbGVkIiwhMSkmJih0aGlzLlQ9bnVsbCk7dGhpcy4kJiZwZyh0aGlzLHRoaXMuZ2IpfTtZLnByb3RvdHlwZS5WYz1mdW5jdGlvbigpe3RoaXMuZWE9ITB9O2Z1bmN0aW9uIFBmKGEpe2EuYS5nZXRCb29sKCJkZWNvdXBsZV9tcGRfdXBkYXRlX2xvb3BfZnJvbV9yZXF1ZXN0X2xvb3AiLCExKXx8S2YoYSwwKX1ZLnByb3RvdHlwZS5xYz1mdW5jdGlvbihhKXt0aGlzLm5hPWF9OwpZLnByb3RvdHlwZS5zZXRFbmFibGVMaXZlaGVhZENhdGNodXA9WS5wcm90b3R5cGUucWM7WS5wcm90b3R5cGUuemQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uYX07WS5wcm90b3R5cGUuaXNMaXZlaGVhZENhdGNodXBFbmFibGVkPVkucHJvdG90eXBlLnpkO1kucHJvdG90eXBlLlNjPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYy52aWRlbz90aGlzLmMudmlkZW8uYy5pOm51bGx9O1kucHJvdG90eXBlLmdldFZpZGVvU3RyZWFtUHJvZ3Jlc3NUcmFja2VyPVkucHJvdG90eXBlLlNjO1kucHJvdG90eXBlLnFiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYy52aWRlbz90aGlzLmMudmlkZW8ucWIoKTpudWxsfTtZLnByb3RvdHlwZS5nZXRCdWZmZXJWZWxvY2l0eT1ZLnByb3RvdHlwZS5xYjtmdW5jdGlvbiBSZihhLGIpe2Zvcih2YXIgYyBpbiBhLmMpYS5jW2NdLm5hPWJ9CmZ1bmN0aW9uIGlnKGEpe3ZhciBiPVtdO2lmKG51bGwhPT1hLmNhKXt2YXIgYz1hLmNhLGQ7Zm9yKGQgaW4gYS5jKWIucHVzaChyZShhLmNbZF0sYS5jYSkpO1Byb21pc2UuYWxsKGIpLnRoZW4oSihhLGZ1bmN0aW9uKCl7aWYoYyl7Zm9yKHZhciBhIGluIHRoaXMuYyl7dmFyIGI9dGhpcy5jW2FdO2IuSz1udWxsO2IuVj0hMTtiLkk9bnVsbH1jPnRoaXMudmlkZW8uY3VycmVudFRpbWUmJih0aGlzLnZpZGVvLmN1cnJlbnRUaW1lPWMpfX0pKX1hLmNhPW51bGx9O2Z1bmN0aW9uIFooYSxiLGMsZCxlLGYsZyl7ZHx8KGQ9bmV3IEcpO2V8fChlPW5ldyBYKTtZLmNhbGwodGhpcyxudWxsLGIsZCxlKTsic3RyaW5nIj09PXR5cGVvZiBhP3RoaXMuamM9YTp0aGlzLk5iPWE7dGhpcy5hPWI7dGhpcy5GPW51bGw7dGhpcy50YT1jO3RoaXMuRGE9W107dGhpcy5RYj1bXTt0aGlzLlJiPVtdO3RoaXMuSGE9MDt0aGlzLlk9bnVsbDt0aGlzLk1iPWd8fG51bGx9cihaLFkpO3EoInNoYWthLnBsYXllci5EYXNoVmlkZW9Tb3VyY2UiLFopO1oucHJvdG90eXBlLkpkPWZ1bmN0aW9uKGEpe3RoaXMuRj1hO3RoaXMuSmIoITAsITApfTtaLnByb3RvdHlwZS51cGRhdGVNYW5pZmVzdD1aLnByb3RvdHlwZS5KZDtaLnByb3RvdHlwZS5PYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLk5ifHx0aGlzLkZ9O1oucHJvdG90eXBlLmdldE1hbmlmZXN0PVoucHJvdG90eXBlLk9iO1oucHJvdG90eXBlLlRiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuT2IoKX07CloucHJvdG90eXBlLmRlYnVnR2V0TWFuaWZlc3Q9Wi5wcm90b3R5cGUuVGI7Wi5wcm90b3R5cGUuWmM9ZnVuY3Rpb24oYSxiLGMpe3RoaXMuRGEucHVzaChhKTt0aGlzLlFiLnB1c2goYnx8IiIpO3RoaXMuUmIucHVzaChjfHwiIil9O1oucHJvdG90eXBlLmFkZEV4dGVybmFsQ2FwdGlvbnM9Wi5wcm90b3R5cGUuWmM7Wi5wcm90b3R5cGUudGQ9ZnVuY3Rpb24oYSl7dGhpcy5ZPWF9O1oucHJvdG90eXBlLnNldE5ldHdvcmtDYWxsYmFjaz1aLnByb3RvdHlwZS50ZDtaLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5GPXRoaXMuWT10aGlzLnRhPW51bGw7WS5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpfTsKWi5wcm90b3R5cGUud2I9ZnVuY3Rpb24oKXt2YXIgYTt0aGlzLmwmJihhPXRoaXMubC5nZXRPcGVyYXRpb25Mb2dnZXIoInNvdXJjZV9sb2FkIikuc3RhcnQoKSk7dmFyIGIsYz1KKHRoaXMsZnVuY3Rpb24oYSl7aWYodGhpcy5hLmdldEJvb2woImVuYWJsZV9kb3VibGVfaW5nZXN0X29uX2luaXRpYWxfbXBkIiwhMSkpc3dpdGNoKGEuc3RhdHVzKXtjYXNlIDIwMDpjYXNlIDQxNzppZihhLnJlc3BvbnNlSGVhZGVycyYmbnVsbCE9YS5yZXNwb25zZUhlYWRlcnNbIngtZmItdmlkZW8tcmVwbGljYSJdKXJldHVybiB0aGlzLmRpc3BhdGNoRXZlbnQoeSh7dHlwZToicmVwbGljYXN3aXRjaCIsYnViYmxlczohMCxyZXBsaWNhOmEucmVzcG9uc2VIZWFkZXJzWyJ4LWZiLXZpZGVvLXJlcGxpY2EiXX0pKSxuZXcgUHJvbWlzZShmdW5jdGlvbigpe30pfXRocm93IGE7fSksZD1KKHRoaXMsZnVuY3Rpb24oYyl7dGhpcy5MYSgiTVBERmV0Y2hEdXJhdGlvbiIsKERhdGUubm93KCktYikvMUUzKTt0aGlzLkY9CmM7Zm9yKHZhciBkPTA7ZDx0aGlzLkRhLmxlbmd0aDtkKyspTGMoYyx0aGlzLkRhW2RdLHRoaXMuUWJbZF0sdGhpcy5SYltkXSk7dmFyIGQ9bmV3IHllKHRoaXMuYSx0aGlzLnRhLHRoaXMubCx0aGlzLk1iKSxlO3RoaXMubCYmKGU9dGhpcy5sLmdldE9wZXJhdGlvbkxvZ2dlcigicHJvY2Vzc19tYW5pZmVzdCIpLnN0YXJ0KCkpO3RoaXMuYj16ZShkLGMsdGhpcy5ZKTtlJiZlLmxvZygpO2EmJmEuc2V0TWFuaWZlc3RUeXBlKHRoaXMuYi5iPyJkeW5hbWljIjoic3RhdGljIik7cmV0dXJuIFkucHJvdG90eXBlLndiLmNhbGwodGhpcykudGhlbihmdW5jdGlvbigpe2EmJmEubG9nKCl9KX0pO2lmKHRoaXMuTmIpcmV0dXJuIGI9RGF0ZS5ub3coKSxkKHRoaXMuTmIpO3ZhciBlPVtuZXcgTCh0aGlzLmpjKV0sZjtpZih0aGlzLnJhKXt2YXIgZz1uZXcgVmlkZW9QdXNoUGFyYW1ldGVyc0hlbHBlcih0aGlzLmpjKTtnLnNldFN0cmVhbUVuZE9mZnNldChNYXRoLmZsb29yKExmKHRoaXMpLzEpKTsKdGhpcy5PYSYmZy5zZXRQdXNoVmlkZW9SZXByZXNlbnRhdGlvbklEKHRoaXMuT2EpO3RoaXMucGEmJmcuc2V0UHVzaEF1ZGlvUmVwcmVzZW50YXRpb25JRCh0aGlzLnBhKTt0aGlzLm1hJiZnLnNldFVzZUxvbmdDYWNoZUZvck1hbmlmZXN0KHRoaXMubWEpO2Y9bmV3IGZkKG51bGwpO2YuYT1nfWU9bmV3IEsodGhpcy5ZLGUsdm9pZCAwLHZvaWQgMCx2b2lkIDAsdGhpcy5NYik7Zj1uZXcgZGQoZSx0aGlzLkxiLGYsdGhpcy5kYSk7Yj1EYXRlLm5vdygpO3JldHVybiBlZChmLHRoaXMubCkudGhlbihkLGMpfTsKWi5wcm90b3R5cGUudmM9ZnVuY3Rpb24oKXtpZih0aGlzLlViKXt2YXIgYT10aGlzLmI7aWYoYT0oYT1hJiZhLmEpJiZhWzBdKXt2YXIgYT1hLmEucmVkdWNlKGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuY29uY2F0KGIudil9LFtdKSxiPWZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hfTtQcm9taXNlLmFsbChhLm1hcChmdW5jdGlvbihhKXthPWEuTTtyZXR1cm4gYS5RYz9hLlJhOmEuY3JlYXRlKCl9KSkudGhlbihmdW5jdGlvbihhKXthPWEuZmlsdGVyKGIpO3RoaXMuTGEoIkluaXRpYWxTZWdtZW50SW5kZXhlcyIsYSl9LmJpbmQodGhpcykpO1Byb21pc2UuYWxsKGEubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLmFhfSkpLnRoZW4oZnVuY3Rpb24oYSl7YT1hLmZpbHRlcihiKTt0aGlzLkxhKCJTZWdtZW50SW5pdFNvdXJjZXMiLGEpfS5iaW5kKHRoaXMpKX19fTsKWi5wcm90b3R5cGUueWM9ZnVuY3Rpb24oYSxiLGMpe2lmKHRoaXMudmlkZW8ucGF1c2VkJiZ0aGlzLkhhKzFFND5EYXRlLm5vdygpJiZ0aGlzLmIpcmV0dXJuIFByb21pc2UucmVqZWN0KHt0eXBlOiJkZWxheSJ9KTt2YXIgZDtpZihiJiZ2b2lkIDAhPWMpZD1uZXcgZmQoYiksZC5mPWMsYj1TZih0aGlzKSxudWxsIT1iJiYoZC5jPWIuc3RyZWFtSW5mb0lELGQuYj10aGlzLnBhKTtlbHNlIGZvcihiPWEuYyxjPTA7YzxiLmxlbmd0aDtjKyspe3ZhciBlPW5ldyBWaWRlb1B1c2hQYXJhbWV0ZXJzSGVscGVyKGJbY10udG9TdHJpbmcoKSk7dGhpcy5tYSYmZS5zZXRVc2VMb25nQ2FjaGVGb3JNYW5pZmVzdCh0aGlzLm1hKTtiW2NdPW5ldyBMKGUuZ2V0VVJMKCkpfWE9bmV3IGRkKGEsdGhpcy5MYixkLHRoaXMuZGEpO3ZhciBmPURhdGUubm93KCk7cmV0dXJuIGVkKGEsdGhpcy5sKS50aGVuKEoodGhpcyxmdW5jdGlvbihhKXt0aGlzLkhhPURhdGUubm93KCk7dGhpcy5MYSgiTVBERmV0Y2hEdXJhdGlvbiIsCih0aGlzLkhhLWYpLzFFMyk7dGhpcy5hLmdldEJvb2woInRyZWF0X2xpdmVfc3RhdGljX21hbmlmZXN0X2FzX2R5bmFtaWMiLCExKSYmKGEubWFuaWZlc3RJc0xpdmVTdHJlYW1pbmc9ImR5bmFtaWMiPT09KHRoaXMuRj90aGlzLkYudHlwZTphLnR5cGUpKTt0aGlzLkY9YTt2YXIgYj1uZXcgeWUodGhpcy5hLHRoaXMudGEsdGhpcy5sLHRoaXMuTWIpO2lmKHRoaXMubCl2YXIgYz10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJwcm9jZXNzX21hbmlmZXN0Iikuc3RhcnQoKTthPXplKGIsYSx0aGlzLlkpO2MmJmMubG9nKCk7cmV0dXJuIFByb21pc2UucmVzb2x2ZShhKX0pKX07Wi5wcm90b3R5cGUueGM9ZnVuY3Rpb24oKXt2YXIgYT16ZShuZXcgeWUodGhpcy5hLHRoaXMudGEpLHRoaXMuRix0aGlzLlkpO3JldHVybiBQcm9taXNlLnJlc29sdmUoYSl9O30uYmluZChnLCBnbG9iYWwpKSgpOwoKbW9kdWxlLmV4cG9ydHMgPSBnLnNoYWthOwoKCi8qICAqL30pLG51bGwpOwovLyMgc291cmNlVVJMPWZiOGIxNmM4YjU3NjdkNTE4ODYwZGFiMjgzMGM1MGYyLmpzCg==, line 416: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/yz/r/XpFFWCF_B8_.js?_nc_x=F-xmOkya9-Y, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
1578566747302	Marionette	WARN	TimedPromise timed out after 500 ms: stacktrace:
bail@chrome://marionette/content/sync.js:237:64
1578566748069	Marionette	WARN	TimedPromise timed out after 500 ms: stacktrace:
bail@chrome://marionette/content/sync.js:237:64
1578566867475	mozrunner::runner	INFO	Running command: "/usr/bin/firefox" "-marionette" "-foreground" "-no-remote" "-profile" "/tmp/rust_mozprofileCDxJmu"
1578566868874	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: mozillaAddons
1578566868874	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: telemetry
1578566868874	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: resource://pdf.js/
1578566868874	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: about:reader*
1578566871612	Marionette	INFO	Listening on port 38609
1578566871699	Marionette	WARN	TLS certificate errors will be ignored for this session
JavaScript error: data:application/x-javascript;charset=utf-8;base64,aWYgKHNlbGYuQ2F2YWxyeUxvZ2dlcikgeyBDYXZhbHJ5TG9nZ2VyLnN0YXJ0X2pzKFsiKzRzV3kiXSk7IH0KLyoqCiAqIEBwcm92aWRlc01vZHVsZSBTaGFrYQogKiBAcHJlc2VydmUtd2hpdGVzcGFjZQogKiBAbm9wYWNrYWdlCiAqIEBnZW5lcmF0ZWQKICovCl9fZCgiU2hha2EiLFsiUHJvbWlzZSIsIkV2ZW50TGlzdGVuZXIiLCJWaWRlb1BsYXllclNoYWthUGVyZm9ybWFuY2VMb2dnZXIiLCJWaWRlb1B1c2hQYXJhbWV0ZXJzSGVscGVyIiwiVGltZVNsaWNlIiwiVmlkZW9QbGF5ZXJMb2NhbEJhbmR3aWR0aEVzdGltYXRvciIsIlZpZGVvUGxheWVyUmVzb3VyY2VUaW1lciIsIlNoYWthU2VnbWVudFJlZmVyZW5jZUhlbHBlciIsIlNlZ21lbnRSZXF1ZXN0TWFuYWdlciIsImNvbmNhdEFycmF5QnVmZmVyIiwiQnVmZmVyUmVwbGFjZW1lbnRIZWxwZXIiLCJsb2dMb25nQWthbWFpUmVxdWVzdCIsInRocm90dGxlIiwiVmlld3BvcnRQcmlvcml0eUFkanVzdGVyIiwiRmlyc3RMb2FkZWRWaWRlb1ByaW9yaXR5QWRqdXN0ZXIiLCJWaWRlb1ByaW9yaXR5Q2FsY3VsYXRvciIsIlZpZGVvU3RyZWFtaW5nTWFuYWdlciIsIk11bHRpcGxlU2VnbWVudHNQcm92aWRlciIsIkxvY2FsQml0cmF0ZUhlbHBlciIsIlVuaXRDb25zdGFudHMiLCJCdWZmZXJWZWxvY2l0eSIsIlZpZGVvUGxheWVyQml0cmF0ZUVzdGltYXRvciIsIlZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWciLCJnZXRTZWVrUmFuZ2VHYXBzRnJvbVNoYWthUmVmZXJlbmNlcyIsIm1lcmdlU2Vla1JhbmdlR2FwcyIsIk5ldHdvcmtTdGF0dXNEZXRlY3RvciIsIk1vc1V0aWxzIiwiQmFuemFpT0RTIiwiVmlkZW9EYXNoUHJlZmV0Y2hDYWNoZSIsIlZpZGVvQ2xpZW50RWRnZUNvb3BlcmF0aW9uIiwiVmlkZW9TdHJlYW1pbmdUYXNrUXVldWVQcm92aWRlciIsIkJpbmFyeVNlYXJjaCIsIlNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscyIsImdreCIsInNldFRpbWVvdXRBY3Jvc3NUcmFuc2l0aW9ucyIsInNldFRpbWVvdXQiLCJzZXRJbnRlcnZhbEFjcm9zc1RyYW5zaXRpb25zIiwic2V0SW50ZXJ2YWwiLCJzZXRJbW1lZGlhdGVBY3Jvc3NUcmFuc2l0aW9ucyIsInNldEltbWVkaWF0ZSIsImNsZWFyVGltZW91dCIsImNsZWFySW50ZXJ2YWwiLCJjbGVhckltbWVkaWF0ZSIsImRpc3BhdGNoRXZlbnQiLCJFdmVudExpc3RlbmVyIiwiRXZlbnQiLCJleHRyYWN0Q0VBNjA4IiwicGVyZm9ybWFuY2VOb3ciLCJwYXJzZUhlYWRlcnMiLCJjYW5Vc2VGZXRjaFN0cmVhbSIsIlN1YnNjcmlwdGlvbnNIYW5kbGVyIiwiVmlkZW9QdXNoVHJhY2tlciJdLChmdW5jdGlvbiAkbW9kdWxlX1NoYWthKGdsb2JhbCxyZXF1aXJlLHJlcXVpcmVEeW5hbWljLHJlcXVpcmVMYXp5LG1vZHVsZSxleHBvcnRzKXsKCi8vIHJ1biBgYXJjIHJlYnVpbGQgc2hha2EtcGxheWVyYCB0byByZWdlbmVyYXRlIFNoYWthLmpzIGFmdGVyIG1vZGlmeWluZyB0aGlzCi8vIGZpbGUKCnZhciBQcm9taXNlID0gcmVxdWlyZSgnUHJvbWlzZScpOwp2YXIgRXZlbnRMaXN0ZW5lciA9IHJlcXVpcmUoJ0V2ZW50TGlzdGVuZXInKTsKdmFyIFZpZGVvUGxheWVyU2hha2FQZXJmb3JtYW5jZUxvZ2dlciA9IHJlcXVpcmUoJ1ZpZGVvUGxheWVyU2hha2FQZXJmb3JtYW5jZUxvZ2dlcicpOwp2YXIgVmlkZW9QdXNoUGFyYW1ldGVyc0hlbHBlciA9IHJlcXVpcmUoJ1ZpZGVvUHVzaFBhcmFtZXRlcnNIZWxwZXInKTsKdmFyIFRpbWVTbGljZSA9IHJlcXVpcmUoJ1RpbWVTbGljZScpOwp2YXIgVmlkZW9QbGF5ZXJMb2NhbEJhbmR3aWR0aEVzdGltYXRvciA9IHJlcXVpcmUoJ1ZpZGVvUGxheWVyTG9jYWxCYW5kd2lkdGhFc3RpbWF0b3InKTsKdmFyIFZpZGVvUGxheWVyUmVzb3VyY2VUaW1lciA9IHJlcXVpcmUoJ1ZpZGVvUGxheWVyUmVzb3VyY2VUaW1lcicpOwp2YXIgU2hha2FTZWdtZW50UmVmZXJlbmNlSGVscGVyID0gcmVxdWlyZSgnU2hha2FTZWdtZW50UmVmZXJlbmNlSGVscGVyJyk7CnZhciBTZWdtZW50UmVxdWVzdE1hbmFnZXIgPSByZXF1aXJlKCdTZWdtZW50UmVxdWVzdE1hbmFnZXInKTsKdmFyIGNvbmNhdEFycmF5QnVmZmVyID0gcmVxdWlyZSgnY29uY2F0QXJyYXlCdWZmZXInKTsKdmFyIEJ1ZmZlclJlcGxhY2VtZW50SGVscGVyID0gcmVxdWlyZSgnQnVmZmVyUmVwbGFjZW1lbnRIZWxwZXInKTsKdmFyIGxvZ0xvbmdBa2FtYWlSZXF1ZXN0ID0gcmVxdWlyZSgnbG9nTG9uZ0FrYW1haVJlcXVlc3QnKTsKdmFyIHRocm90dGxlID0gcmVxdWlyZSgndGhyb3R0bGUnKTsKdmFyIFZpZXdwb3J0UHJpb3JpdHlBZGp1c3RlciA9IHJlcXVpcmUoJ1ZpZXdwb3J0UHJpb3JpdHlBZGp1c3RlcicpOwp2YXIgRmlyc3RMb2FkZWRWaWRlb1ByaW9yaXR5QWRqdXN0ZXIgPSByZXF1aXJlKCdGaXJzdExvYWRlZFZpZGVvUHJpb3JpdHlBZGp1c3RlcicpOwp2YXIgVmlkZW9Qcmlvcml0eUNhbGN1bGF0b3IgPSByZXF1aXJlKCdWaWRlb1ByaW9yaXR5Q2FsY3VsYXRvcicpOwp2YXIgVmlkZW9TdHJlYW1pbmdNYW5hZ2VyID0gcmVxdWlyZSgnVmlkZW9TdHJlYW1pbmdNYW5hZ2VyJyk7CnZhciBNdWx0aXBsZVNlZ21lbnRzUHJvdmlkZXIgPSByZXF1aXJlKCdNdWx0aXBsZVNlZ21lbnRzUHJvdmlkZXInKTsKdmFyIExvY2FsQml0cmF0ZUhlbHBlciA9IHJlcXVpcmUoJ0xvY2FsQml0cmF0ZUhlbHBlcicpOwp2YXIgVW5pdENvbnN0YW50cyA9IHJlcXVpcmUoJ1VuaXRDb25zdGFudHMnKTsKdmFyIEJ1ZmZlclZlbG9jaXR5ID0gcmVxdWlyZSgnQnVmZmVyVmVsb2NpdHknKTsKdmFyIFZpZGVvUGxheWVyQml0cmF0ZUVzdGltYXRvciA9IHJlcXVpcmUoJ1ZpZGVvUGxheWVyQml0cmF0ZUVzdGltYXRvcicpOwp2YXIgVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZyA9IHJlcXVpcmUoJ1ZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcnKTsKdmFyIGdldFNlZWtSYW5nZUdhcHNGcm9tU2hha2FSZWZlcmVuY2VzID0gcmVxdWlyZSgnZ2V0U2Vla1JhbmdlR2Fwc0Zyb21TaGFrYVJlZmVyZW5jZXMnKTsKdmFyIG1lcmdlU2Vla1JhbmdlR2FwcyA9IHJlcXVpcmUoJ21lcmdlU2Vla1JhbmdlR2FwcycpOwp2YXIgTmV0d29ya1N0YXR1c0RldGVjdG9yID0gcmVxdWlyZSgnTmV0d29ya1N0YXR1c0RldGVjdG9yJyk7CnZhciBNb3NVdGlscyA9IHJlcXVpcmUoJ01vc1V0aWxzJyk7CnZhciBCYW56YWlPRFMgPSByZXF1aXJlKCdCYW56YWlPRFMnKTsKdmFyIFZpZGVvRGFzaFByZWZldGNoQ2FjaGUgPSByZXF1aXJlKCdWaWRlb0Rhc2hQcmVmZXRjaENhY2hlJyk7CnZhciBWaWRlb0NsaWVudEVkZ2VDb29wZXJhdGlvbiA9IHJlcXVpcmUoJ1ZpZGVvQ2xpZW50RWRnZUNvb3BlcmF0aW9uJyk7CnZhciBWaWRlb1N0cmVhbWluZ1Rhc2tRdWV1ZVByb3ZpZGVyID0gcmVxdWlyZSgnVmlkZW9TdHJlYW1pbmdUYXNrUXVldWVQcm92aWRlcicpOwp2YXIgQmluYXJ5U2VhcmNoID0gcmVxdWlyZSgnQmluYXJ5U2VhcmNoJyk7CnZhciBTaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMgPSByZXF1aXJlKCdTaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMnKTsKdmFyIGdreCA9IHJlcXVpcmUoJ2dreCcpOwoKdmFyIHNldFRpbWVvdXQgPSBWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woCiAgICAndGltZW91dHNfcGVyc2lzdF9vbl9wYWdlX3RyYW5zaXRpb24nLAogICAgdHJ1ZQogICkgPwogIHJlcXVpcmUoJ3NldFRpbWVvdXRBY3Jvc3NUcmFuc2l0aW9ucycpIDoKICByZXF1aXJlKCdzZXRUaW1lb3V0Jyk7CnZhciBzZXRJbnRlcnZhbCA9IFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgKICAgICd0aW1lb3V0c19wZXJzaXN0X29uX3BhZ2VfdHJhbnNpdGlvbicsCiAgICB0cnVlCiAgKSA/CiAgcmVxdWlyZSgnc2V0SW50ZXJ2YWxBY3Jvc3NUcmFuc2l0aW9ucycpIDoKICByZXF1aXJlKCdzZXRJbnRlcnZhbCcpOwp2YXIgc2V0SW1tZWRpYXRlID0gVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKAogICAgJ3RpbWVvdXRzX3BlcnNpc3Rfb25fcGFnZV90cmFuc2l0aW9uJywKICAgIHRydWUKICApID8KICByZXF1aXJlKCdzZXRJbW1lZGlhdGVBY3Jvc3NUcmFuc2l0aW9ucycpIDoKICByZXF1aXJlKCdzZXRJbW1lZGlhdGUnKTsKdmFyIGNsZWFyVGltZW91dCA9IHJlcXVpcmUoJ2NsZWFyVGltZW91dCcpOwp2YXIgY2xlYXJJbnRlcnZhbCA9IHJlcXVpcmUoJ2NsZWFySW50ZXJ2YWwnKTsKdmFyIGNsZWFySW1tZWRpYXRlID0gcmVxdWlyZSgnY2xlYXJJbW1lZGlhdGUnKTsKdmFyIGRpc3BhdGNoRG9tRXZlbnQgPSByZXF1aXJlKCdkaXNwYXRjaEV2ZW50Jyk7CnZhciBldmVudExpc3RlbmVyQ2FwdHVyZSA9IHJlcXVpcmUoJ0V2ZW50TGlzdGVuZXInKS5jYXB0dXJlOwp2YXIgZXZlbnRLaWxsID0gcmVxdWlyZSgnRXZlbnQnKS5raWxsOwp2YXIgZXh0cmFjdENFQTYwOCA9IHJlcXVpcmUoJ2V4dHJhY3RDRUE2MDgnKTsKdmFyIHBlcmZvcm1hbmNlTm93ID0gcmVxdWlyZSgncGVyZm9ybWFuY2VOb3cnKTsKdmFyIHBhcnNlSGVhZGVycyA9IHJlcXVpcmUoJ3BhcnNlSGVhZGVycycpOwp2YXIgY2FuVXNlRmV0Y2hTdHJlYW0gPSByZXF1aXJlKCdjYW5Vc2VGZXRjaFN0cmVhbScpOwp2YXIgU3Vic2NyaXB0aW9uc0hhbmRsZXIgPSByZXF1aXJlKCdTdWJzY3JpcHRpb25zSGFuZGxlcicpOwp2YXIgVmlkZW9QdXNoVHJhY2tlciA9IHJlcXVpcmUoJ1ZpZGVvUHVzaFRyYWNrZXInKTsKCmZ1bmN0aW9uIHNldEV2ZW50UHJvcGVydHkob2JqLCBuYW1lLCBoYW5kbGVyKSB7CiAgb2JqW25hbWVdID0gVGltZVNsaWNlLmd1YXJkKGhhbmRsZXIsICdzaGFrYSAnICsgbmFtZSk7Cn07CgppZiAoCiAgVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCdzaGFrYV9uYXRpdmVfcHJvbWlzZScsIGZhbHNlKSAmJgogIFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgndXNlX25hdGl2ZV9wcm9taXNlJywgdHJ1ZSkKKSB7CiAgUHJvbWlzZSA9IHdpbmRvdy5Qcm9taXNlOwp9Cgp2YXIgZyA9IHt9OwoKKGZ1bmN0aW9uKHdpbmRvdyl7dmFyIG4sYWE9dGhpcztmdW5jdGlvbiBxKGEsYil7dmFyIGM9YS5zcGxpdCgiLiIpLGQ9YWE7Y1swXWluIGR8fCFkLmV4ZWNTY3JpcHR8fGQuZXhlY1NjcmlwdCgidmFyICIrY1swXSk7Zm9yKHZhciBlO2MubGVuZ3RoJiYoZT1jLnNoaWZ0KCkpOyljLmxlbmd0aHx8dm9pZCAwPT09Yj9kW2VdP2Q9ZFtlXTpkPWRbZV09e306ZFtlXT1ifWZ1bmN0aW9uIHIoYSxiKXtmdW5jdGlvbiBjKCl7fWMucHJvdG90eXBlPWIucHJvdG90eXBlO2EuUGQ9Yi5wcm90b3R5cGU7YS5wcm90b3R5cGU9bmV3IGM7YS5wcm90b3R5cGUuY29uc3RydWN0b3I9YTthLkxkPWZ1bmN0aW9uKGEsYyxmKXtyZXR1cm4gYi5wcm90b3R5cGVbY10uYXBwbHkoYSxBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMikpfX07LyoKCiBDb3B5cmlnaHQgMjAxNSBHb29nbGUgSW5jLgoKIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoKIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoqLwpmdW5jdGlvbiBiYSgpe307ZnVuY3Rpb24gY2EoYSl7dmFyIGI9Y29uc29sZVthXTtiP2IuYmluZHx8KGNvbnNvbGVbYV09ZnVuY3Rpb24oKXtiLmFwcGx5KGNvbnNvbGUsYXJndW1lbnRzKX0pOmNvbnNvbGVbYV09ZnVuY3Rpb24oKXt9fWNhKCJlcnJvciIpO2NhKCJ3YXJuIik7Y2EoImluZm8iKTtjYSgibG9nIik7Y2EoImRlYnVnIik7dmFyIHU9e3FhOmZ1bmN0aW9uKGEpe3UuSGJbYV09e3FhOnUud2MoKSxlbmQ6TmFOfX0sZW5kOmZ1bmN0aW9uKGEpe2lmKGE9dS5IYlthXSlhLmVuZD11LndjKCl9LE1kOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD11LmdldChhKSxlPXUuZ2V0KGIpO2lmKCFkfHwhZSlyZXR1cm4gTmFOO2QtPWU7Zm9yKGU9MjtlPGFyZ3VtZW50cy5sZW5ndGg7KytlKXt2YXIgZj11LmdldChhcmd1bWVudHNbZV0pO2lmKCFmKXJldHVybiBOYU47ZC09Zn1yZXR1cm4gZH0sZ2V0OmZ1bmN0aW9uKGEpe3JldHVybihhPXUuSGJbYV0pJiZhLmVuZD9hLmVuZC1hLnFhOk5hTn19O3Uud2M9d2luZG93LnBlcmZvcm1hbmNlJiZ3aW5kb3cucGVyZm9ybWFuY2Uubm93P3dpbmRvdy5wZXJmb3JtYW5jZS5ub3cuYmluZCh3aW5kb3cucGVyZm9ybWFuY2UpOkRhdGUubm93O3UuSGI9e307LyoKCiBDb3B5cmlnaHQgMjAwNC1wcmVzZW50IEZhY2Vib29rLiBBbGwgUmlnaHRzIFJlc2VydmVkLgoKKi8KZnVuY3Rpb24gZmEoYSxiLGMsZCxlLGYsZyxoKXt0aGlzLmlkPWE7dGhpcy5iYW5kd2lkdGg9Ynx8MDt0aGlzLmxhbmc9Y3x8InVua25vd24iO3RoaXMuc3RyZWFtSW5mb0lEPWQ7dGhpcy5taW1lVHlwZT1lfHwiIjt0aGlzLmNvZGVjcz1mfHwiIjt0aGlzLmNoYW5uZWxzPWd8fG51bGw7dGhpcy5zYW1wbGluZ1JhdGU9aHx8bnVsbDt0aGlzLmFjdGl2ZT0hMX1xKCJzaGFrYS5wbGF5ZXIuQXVkaW9UcmFjay5jb21wYXJlIixmdW5jdGlvbihhLGIpe3JldHVybiBhLmxhbmc8Yi5sYW5nPy0xOmEubGFuZz5iLmxhbmc/MTphLmJhbmR3aWR0aDxiLmJhbmR3aWR0aD8tMTphLmJhbmR3aWR0aD5iLmJhbmR3aWR0aD8xOjB9KTt2YXIgZ2E9VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoInNoYWthX2RlZmF1bHRfcmVxdWVzdF90aW1lb3V0X3RpbWVzY2FsZSIsMUUzKSxoYT1NYXRoLmZsb29yKFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJzaGFrYV9kZWZhdWx0X2FqYXhfcmVxdWVzdF90aW1lb3V0X21zIiwwKS9nYSksaWE9TWF0aC5mbG9vcihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigic2hha2FfZGVmYXVsdF9hamF4X3JlcXVlc3RfdGltZW91dF9tcyIsMCkvZ2EpLGphPU1hdGguZmxvb3IoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoInNoYWthX2RlZmF1bHRfYWpheF9yZXF1ZXN0X3RpbWVvdXRfbXMiLDApL2dhKTtmdW5jdGlvbiBrYSgpe3RoaXMubWluQmFuZHdpZHRoPXRoaXMubWF4QmFuZHdpZHRoPXRoaXMubWF4V2lkdGg9dGhpcy5taW5IZWlnaHQ9dGhpcy5tYXhIZWlnaHQ9bnVsbH1rYS5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYT1uZXcga2E7YS5tYXhIZWlnaHQ9dGhpcy5tYXhIZWlnaHQ7YS5taW5IZWlnaHQ9dGhpcy5taW5IZWlnaHQ7YS5tYXhXaWR0aD10aGlzLm1heFdpZHRoO2EubWF4QmFuZHdpZHRoPXRoaXMubWF4QmFuZHdpZHRoO2EubWluQmFuZHdpZHRoPXRoaXMubWluQmFuZHdpZHRoO3JldHVybiBhfTtmdW5jdGlvbiBsYSgpe3RoaXMuZm9udFNpemU9IjEwMCUiO3RoaXMuZm9udENvbG9yPW1hO3RoaXMuZm9udE9wYWNpdHk9b2E7dGhpcy5iYWNrZ3JvdW5kQ29sb3I9cGE7dGhpcy5iYWNrZ3JvdW5kT3BhY2l0eT1vYTt0aGlzLmZvbnRFZGdlPXFhfXEoInNoYWthLnBsYXllci5UZXh0U3R5bGUiLGxhKTsKZnVuY3Rpb24gcmEoYSl7dmFyIGI9W107Yi5wdXNoKCJmb250LXNpemU6ICIrYS5mb250U2l6ZSk7Yi5wdXNoKCJjb2xvcjogIitzYShhLmZvbnRDb2xvcixhLmZvbnRPcGFjaXR5KSk7Yi5wdXNoKCJiYWNrZ3JvdW5kLWNvbG9yOiAiK3NhKGEuYmFja2dyb3VuZENvbG9yLGEuYmFja2dyb3VuZE9wYWNpdHkpKTtmb3IodmFyIGM9W10sZD0wO2Q8YS5mb250RWRnZS5sZW5ndGg7KytkKXt2YXIgZT1hLmZvbnRFZGdlW2RdLnNsaWNlKDMsNik7Yy5wdXNoKHNhKGEuZm9udEVkZ2VbZF0uc2xpY2UoMCwzKSxhLmZvbnRPcGFjaXR5KSsiICIrZS5qb2luKCJweCAiKSsicHgiKX1iLnB1c2goInRleHQtc2hhZG93OiAiK2Muam9pbigiLCIpKTtyZXR1cm4gYi5qb2luKCI7ICIpfWZ1bmN0aW9uIHNhKGEsYil7cmV0dXJuInJnYmEoIithLmNvbmNhdChiKS5qb2luKCIsIikrIikifXZhciBtYT1bMjU1LDI1NSwyNTVdLHBhPVswLDAsMF07CmxhLlN0YW5kYXJkQ29sb3JzPXtXSElURTptYSxCTEFDSzpwYSxSRUQ6WzI1NSwwLDBdLEdSRUVOOlswLDI1NSwwXSxCTFVFOlswLDAsMjU1XSxZRUxMT1c6WzI1NSwyNTUsMF0sTUFHRU5UQTpbMjU1LDAsMjU1XSxDWUFOOlswLDI1NSwyNTVdfTt2YXIgb2E9MTtsYS5TdGFuZGFyZE9wYWNpdGllcz17T1BBUVVFOm9hLFNFTUlfSElHSDouNzUsU0VNSV9MT1c6LjI1LFRSQU5TUEFSRU5UOjB9O3ZhciBxYT1bXTsKbGEuRWRnZVN0eWxlcz17Tk9ORTpxYSxSQUlTRUQ6W1szNCwzNCwzNCwxLDEsMF0sWzM0LDM0LDM0LDIsMiwwXSxbMzQsMzQsMzQsMywzLDBdXSxERVBSRVNTRUQ6W1syMDQsMjA0LDIwNCwxLDEsMF0sWzIwNCwyMDQsMjA0LDAsMSwwXSxbMzQsMzQsMzQsLTEsLTEsMF0sWzM0LDM0LDM0LDAsLTEsMF1dLFVOSUZPUk06W1szNCwzNCwzNCwwLDAsNF0sWzM0LDM0LDM0LDAsMCw0XSxbMzQsMzQsMzQsMCwwLDRdLFszNCwzNCwzNCwwLDAsNF1dLERST1A6W1szNCwzNCwzNCwyLDIsM10sWzM0LDM0LDM0LDIsMiw0XSxbMzQsMzQsMzQsMiwyLDVdXX07ZnVuY3Rpb24gdGEoYSxiKXt0aGlzLmlkPWE7dGhpcy5sYW5nPWJ8fCJ1bmtub3duIjt0aGlzLmVuYWJsZWQ9dGhpcy5hY3RpdmU9ITF9cSgic2hha2EucGxheWVyLlRleHRUcmFjay5jb21wYXJlIixmdW5jdGlvbihhLGIpe3JldHVybiBhLmxhbmc8Yi5sYW5nPy0xOmEubGFuZz5iLmxhbmc/MTowfSk7ZnVuY3Rpb24gdWEoYSxiLGMsZCxlLGYsZyxoLGssbCxtLHAsdCl7dGhpcy5pZD1hO3RoaXMuYmFuZHdpZHRoPWJ8fDA7dGhpcy53aWR0aD1jfHwwO3RoaXMuaGVpZ2h0PWR8fDA7dGhpcy5zdHJlYW1JbmZvSUQ9ZTt0aGlzLmZiUXVhbGl0eUxhYmVsPWY7dGhpcy5mYlF1YWxpdHlDbGFzcz1nO2E9W107aCYmKGE9aC5zcGxpdCgiLCIpKTt0aGlzLmZyYW1lUmF0ZT1rfHwiIjt0aGlzLm1pbWVUeXBlPWx8fCIiO3RoaXMuY29kZWNzPW18fCIiO3RoaXMuaXNIVlE9LTE8YS5pbmRleE9mKCJodnEiKTt0aGlzLmlzSW5saW5lSFZRPS0xPGEuaW5kZXhPZigiaHZxX3d3d19pbmxpbmUiKTt0aGlzLmF2b2lkT25Qb29yQ29ubmVjdGlvbj0tMTxhLmluZGV4T2YoImF2b2lkX29uX3Bvb3JfY29ubmVjdGlvbiIpO3RoaXMuYWN0aXZlPSExO3RoaXMucGxheWJhY2tSZXNvbHV0aW9uTW9zPXB8fG51bGw7dGhpcy5wbGF5YmFja1Jlc29sdXRpb25Nb3NDb25maWRlbmNlTGV2ZWw9dHx8bnVsbH0KZnVuY3Rpb24gdmEoYSxiKXt2YXIgYz1hLndpZHRoKmEuaGVpZ2h0LGQ9Yi53aWR0aCpiLmhlaWdodDtyZXR1cm4gYzxkPy0xOmM+ZD8xOmEuYmFuZHdpZHRoPGIuYmFuZHdpZHRoPy0xOmEuYmFuZHdpZHRoPmIuYmFuZHdpZHRoPzE6MH1xKCJzaGFrYS5wbGF5ZXIuVmlkZW9UcmFjay5jb21wYXJlIix2YSk7ZnVuY3Rpb24gd2EoYSl7Zm9yKHZhciBiPXhhLGM9W10sZD0wO2Q8YS5sZW5ndGg7KytkKXtmb3IodmFyIGU9ITEsZj0wO2Y8Yy5sZW5ndGgmJiEoZT1iP2IoYVtkXSxjW2ZdKTphW2RdPT09Y1tmXSk7KytmKTtlfHxjLnB1c2goYVtkXSl9cmV0dXJuIGN9O2Z1bmN0aW9uIHlhKCl7cmV0dXJuIERhdGUubm93KCkremF9dmFyIHphPTA7ZnVuY3Rpb24gQmEoYSl7dGhpcy5iPWE7dGhpcy5jPTA9PUNhO3RoaXMuYT0wfXZhciBDYT0xO2Z1bmN0aW9uIERhKGEpe3JldHVybiBhLmE8YS5iLmJ5dGVMZW5ndGh9ZnVuY3Rpb24gRWEoYSl7dmFyIGI9YS5iLmdldFVpbnQ4KGEuYSk7YS5hKz0xO3JldHVybiBifWZ1bmN0aW9uIHYoYSl7dmFyIGI9YS5iLmdldFVpbnQzMihhLmEsYS5jKTthLmErPTQ7cmV0dXJuIGJ9ZnVuY3Rpb24gRmEoYSl7dmFyIGIsYzthLmM/KGI9YS5iLmdldFVpbnQzMihhLmEsITApLGM9YS5iLmdldFVpbnQzMihhLmErNCwhMCkpOihjPWEuYi5nZXRVaW50MzIoYS5hLCExKSxiPWEuYi5nZXRVaW50MzIoYS5hKzQsITEpKTtpZigyMDk3MTUxPGMpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkRhdGFWaWV3UmVhZGVyOiBPdmVyZmxvdyByZWFkaW5nIDY0LWJpdCB2YWx1ZS4iKTthLmErPTg7cmV0dXJuIGMqTWF0aC5wb3coMiwzMikrYn0KZnVuY3Rpb24gR2EoYSl7aWYoYS5hKzE2PmEuYi5ieXRlTGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKCJEYXRhVmlld1JlYWRlcjogUmVhZCBwYXN0IGVuZCBvZiBEYXRhVmlldy4iKTt2YXIgYj1uZXcgVWludDhBcnJheShhLmIuYnVmZmVyLGEuYSwxNik7YS5hKz0xNjtyZXR1cm4gYn1mdW5jdGlvbiBIYShhLGIpe2lmKGEuYStiPmEuYi5ieXRlTGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKCJEYXRhVmlld1JlYWRlcjogU2tpcCBwYXN0IGVuZCBvZiBEYXRhVmlldy4iKTthLmErPWJ9O2Z1bmN0aW9uIElhKGEpe3RoaXMuYj1hO3RoaXMuYT1uZXcgQmEoYSk7SmF8fChKYT1bbmV3IFVpbnQ4QXJyYXkoWzI1NV0pLG5ldyBVaW50OEFycmF5KFsxMjcsMjU1XSksbmV3IFVpbnQ4QXJyYXkoWzYzLDI1NSwyNTVdKSxuZXcgVWludDhBcnJheShbMzEsMjU1LDI1NSwyNTVdKSxuZXcgVWludDhBcnJheShbMTUsMjU1LDI1NSwyNTUsMjU1XSksbmV3IFVpbnQ4QXJyYXkoWzcsMjU1LDI1NSwyNTUsMjU1LDI1NV0pLG5ldyBVaW50OEFycmF5KFszLDI1NSwyNTUsMjU1LDI1NSwyNTUsMjU1XSksbmV3IFVpbnQ4QXJyYXkoWzEsMjU1LDI1NSwyNTUsMjU1LDI1NSwyNTUsMjU1XSldKX12YXIgSmE7CmZ1bmN0aW9uIEthKGEpe3ZhciBiO2I9TGEoYSk7aWYoNzxiLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiRWJtbFBhcnNlcjogRUJNTCBJRCBtdXN0IGJlIGF0IG1vc3QgNyBieXRlcy4iKTtmb3IodmFyIGM9MCxkPTA7ZDxiLmxlbmd0aDtkKyspYz0yNTYqYytiW2RdO2I9YztjPUxhKGEpO2E6e2ZvcihkPTA7ZDxKYS5sZW5ndGg7ZCsrKWlmKE1hKGMsSmFbZF0pKXtkPSEwO2JyZWFrIGF9ZD0hMX1pZihkKWM9YS5iLmJ5dGVMZW5ndGgtYS5hLmE7ZWxzZXtpZig4PT1jLmxlbmd0aCYmY1sxXSYyMjQpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkVibWxQYXJzZXI6IFZhcmlhYmxlIHNpemVkIGludGVnZXIgdmFsdWUgbXVzdCBiZSBhdCBtb3N0IDUzIGJpdHMuIik7Zm9yKHZhciBkPWNbMF0mKDE8PDgtYy5sZW5ndGgpLTEsZT0xO2U8Yy5sZW5ndGg7ZSsrKWQ9MjU2KmQrY1tlXTtjPWR9Yz1hLmEuYStjPD1hLmIuYnl0ZUxlbmd0aD9jOmEuYi5ieXRlTGVuZ3RoLWEuYS5hO2Q9bmV3IERhdGFWaWV3KGEuYi5idWZmZXIsCmEuYi5ieXRlT2Zmc2V0K2EuYS5hLGMpO0hhKGEuYSxjKTtyZXR1cm4gbmV3IE5hKGIsZCl9ZnVuY3Rpb24gTGEoYSl7dmFyIGI9RWEoYS5hKSxjO2ZvcihjPTE7OD49YyYmIShiJjE8PDgtYyk7YysrKTtpZig4PGMpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkVibWxQYXJzZXI6IFZhcmlhYmxlIHNpemVkIGludGVnZXIgbXVzdCBmaXQgd2l0aGluIDggYnl0ZXMuIik7dmFyIGQ9bmV3IFVpbnQ4QXJyYXkoYyk7ZFswXT1iO2ZvcihiPTE7YjxjO2IrKylkW2JdPUVhKGEuYSk7cmV0dXJuIGR9ZnVuY3Rpb24gTmEoYSxiKXt0aGlzLmlkPWE7dGhpcy5hPWJ9CmZ1bmN0aW9uIE9hKGEpe2lmKDg8YS5hLmJ5dGVMZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkVibWxFbGVtZW50OiBVbnNpZ25lZCBpbnRlZ2VyIGhhcyB0b28gbWFueSBieXRlcy4iKTtpZig4PT1hLmEuYnl0ZUxlbmd0aCYmYS5hLmdldFVpbnQ4KDApJjIyNCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiRWJtbFBhcnNlcjogVW5zaWduZWQgaW50ZWdlciBtdXN0IGJlIGF0IG1vc3QgNTMgYml0cy4iKTtmb3IodmFyIGI9MCxjPTA7YzxhLmEuYnl0ZUxlbmd0aDtjKyspdmFyIGQ9YS5hLmdldFVpbnQ4KGMpLGI9MjU2KmIrZDtyZXR1cm4gYn07dmFyIFBhPXsib3V0cHV0LXJlc3RyaWN0ZWQiOiJUaGUgcmVxdWlyZWQgb3V0cHV0IHByb3RlY3Rpb24gaXMgbm90IGF2YWlsYWJsZS4iLCJvdXRwdXQtbm90LWFsbG93ZWQiOiJUaGUgcmVxdWlyZWQgb3V0cHV0IHByb3RlY3Rpb24gaXMgbm90IGF2YWlsYWJsZS4iLGV4cGlyZWQ6IlRoZSBkZWNyeXB0aW9uIGtleSBoYXMgZXhwaXJlZC4iLCJpbnRlcm5hbC1lcnJvciI6IlRoZSBrZXkgc3lzdGVtIGhhcyBlbmNvdW50ZXJlZCBhbiB1bnNwZWNpZmllZCBlcnJvci4ifTtmdW5jdGlvbiB4KGEpe3RoaXMuYj1NYXRoLmV4cChNYXRoLmxvZyguNSkvYSk7dGhpcy55Yj10aGlzLiRhPXRoaXMuYT0wfXEoInNoYWthLnV0aWwuRVdNQSIseCk7eC5wcm90b3R5cGUuc2FtcGxlPWZ1bmN0aW9uKGEsYil7dmFyIGM9TWF0aC5wb3codGhpcy5iLGEpO3RoaXMuYT1iKigxLWMpK2MqdGhpcy5hO3RoaXMuJGErPWE7dGhpcy55Yis9MX07eC5wcm90b3R5cGUuc2FtcGxlPXgucHJvdG90eXBlLnNhbXBsZTt4LnByb3RvdHlwZS5jPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGF9O3gucHJvdG90eXBlLmdldFRvdGFsV2VpZ2h0PXgucHJvdG90eXBlLmM7eC5wcm90b3R5cGUuZ2V0RXN0aW1hdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLygxLU1hdGgucG93KHRoaXMuYix0aGlzLiRhKSl9O3gucHJvdG90eXBlLmdldEVzdGltYXRlPXgucHJvdG90eXBlLmdldEVzdGltYXRlO3gucHJvdG90eXBlLmY9ZnVuY3Rpb24oKXt0aGlzLnliPXRoaXMuJGE9dGhpcy5hPTB9Owp4LnByb3RvdHlwZS5yZXNldD14LnByb3RvdHlwZS5mO3ZhciBRYT13aW5kb3cuQ3VzdG9tRXZlbnQ7ImZ1bmN0aW9uIiE9PXR5cGVvZiBRYSYmKFFhPWZ1bmN0aW9uKGEsYil7Yj1ifHx7YnViYmxlczohMSxjYW5jZWxhYmxlOiExLGRldGFpbDp2b2lkIDB9O3ZhciBjPWRvY3VtZW50LmNyZWF0ZUV2ZW50KCJDdXN0b21FdmVudCIpO2MuaW5pdEN1c3RvbUV2ZW50KGEsYi5idWJibGVzLGIuY2FuY2VsYWJsZSxiLmRldGFpbCk7cmV0dXJuIGN9LFFhLnByb3RvdHlwZT13aW5kb3cuRXZlbnQucHJvdG90eXBlKTtmdW5jdGlvbiB5KGEpe3ZhciBiPW5ldyBRYShhLnR5cGUse2RldGFpbDphLmRldGFpbCxidWJibGVzOiEhYS5idWJibGVzfSksYztmb3IoYyBpbiBhKWMgaW4gYnx8KGJbY109YVtjXSk7cmV0dXJuIGJ9ZnVuY3Rpb24gQShhKXtyZXR1cm4gbmV3IFFhKCJlcnJvciIse2RldGFpbDphLGJ1YmJsZXM6ITB9KX07ZnVuY3Rpb24gUmEoYSxiLGMpe1NhKGIpO1NhKGMpO3JldHVybiBjPT1ifHxhPj1UYSYmYz09Yi5zcGxpdCgiLSIpWzBdfHxhPj1VYSYmYy5zcGxpdCgiLSIpWzBdPT1iLnNwbGl0KCItIilbMF0/ITA6ITF9dmFyIFRhPTEsVWE9MjtmdW5jdGlvbiBTYShhKXthPWEudG9Mb3dlckNhc2UoKS5zcGxpdCgiLSIpO3ZhciBiPVZhW2FbMF1dO2ImJihhWzBdPWIpO3JldHVybiBhLmpvaW4oIi0iKX0KdmFyIFZhPXthYXI6ImFhIixhYms6ImFiIixhZnI6ImFmIixha2E6ImFrIixhbGI6InNxIixhbWg6ImFtIixhcmE6ImFyIixhcmc6ImFuIixhcm06Imh5Iixhc206ImFzIixhdmE6ImF2IixhdmU6ImFlIixheW06ImF5IixhemU6ImF6IixiYWs6ImJhIixiYW06ImJtIixiYXE6ImV1IixiZWw6ImJlIixiZW46ImJuIixiaWg6ImJoIixiaXM6ImJpIixib2Q6ImJvIixib3M6ImJzIixicmU6ImJyIixidWw6ImJnIixidXI6Im15IixjYXQ6ImNhIixjZXM6ImNzIixjaGE6ImNoIixjaGU6ImNlIixjaGk6InpoIixjaHU6ImN1IixjaHY6ImN2Iixjb3I6Imt3Iixjb3M6ImNvIixjcmU6ImNyIixjeW06ImN5IixjemU6ImNzIixkYW46ImRhIixkZXU6ImRlIixkaXY6ImR2IixkdXQ6Im5sIixkem86ImR6IixlbGw6ImVsIixlbmc6ImVuIixlcG86ImVvIixlc3Q6ImV0IixldXM6ImV1Iixld2U6ImVlIixmYW86ImZvIixmYXM6ImZhIixmaWo6ImZqIixmaW46ImZpIixmcmE6ImZyIixmcmU6ImZyIiwKZnJ5OiJmeSIsZnVsOiJmZiIsZ2VvOiJrYSIsZ2VyOiJkZSIsZ2xhOiJnZCIsZ2xlOiJnYSIsZ2xnOiJnbCIsZ2x2OiJndiIsZ3JlOiJlbCIsZ3JuOiJnbiIsZ3VqOiJndSIsaGF0OiJodCIsaGF1OiJoYSIsaGViOiJoZSIsaGVyOiJoeiIsaGluOiJoaSIsaG1vOiJobyIsaHJ2OiJociIsaHVuOiJodSIsaHllOiJoeSIsaWJvOiJpZyIsaWNlOiJpcyIsaWRvOiJpbyIsaWlpOiJpaSIsaWt1OiJpdSIsaWxlOiJpZSIsaW5hOiJpYSIsaW5kOiJpZCIsaXBrOiJpayIsaXNsOiJpcyIsaXRhOiJpdCIsamF2OiJqdiIsanBuOiJqYSIsa2FsOiJrbCIsa2FuOiJrbiIsa2FzOiJrcyIsa2F0OiJrYSIsa2F1OiJrciIsa2F6OiJrayIsa2htOiJrbSIsa2lrOiJraSIsa2luOiJydyIsa2lyOiJreSIsa29tOiJrdiIsa29uOiJrZyIsa29yOiJrbyIsa3VhOiJraiIsa3VyOiJrdSIsbGFvOiJsbyIsbGF0OiJsYSIsbGF2OiJsdiIsbGltOiJsaSIsbGluOiJsbiIsbGl0OiJsdCIsbHR6OiJsYiIsbHViOiJsdSIsCmx1ZzoibGciLG1hYzoibWsiLG1haDoibWgiLG1hbDoibWwiLG1hbzoibWkiLG1hcjoibXIiLG1heToibXMiLG1rZDoibWsiLG1sZzoibWciLG1sdDoibXQiLG1vbjoibW4iLG1yaToibWkiLG1zYToibXMiLG15YToibXkiLG5hdToibmEiLG5hdjoibnYiLG5ibDoibnIiLG5kZToibmQiLG5kbzoibmciLG5lcDoibmUiLG5sZDoibmwiLG5ubzoibm4iLG5vYjoibmIiLG5vcjoibm8iLG55YToibnkiLG9jaToib2MiLG9qaToib2oiLG9yaToib3IiLG9ybToib20iLG9zczoib3MiLHBhbjoicGEiLHBlcjoiZmEiLHBsaToicGkiLHBvbDoicGwiLHBvcjoicHQiLHB1czoicHMiLHF1ZToicXUiLHJvaDoicm0iLHJvbjoicm8iLHJ1bToicm8iLHJ1bjoicm4iLHJ1czoicnUiLHNhZzoic2ciLHNhbjoic2EiLHNpbjoic2kiLHNsazoic2siLHNsbzoic2siLHNsdjoic2wiLHNtZToic2UiLHNtbzoic20iLHNuYToic24iLHNuZDoic2QiLHNvbToic28iLHNvdDoic3QiLHNwYToiZXMiLHNxaToic3EiLApzcmQ6InNjIixzcnA6InNyIixzc3c6InNzIixzdW46InN1Iixzd2E6InN3Iixzd2U6InN2Iix0YWg6InR5Iix0YW06InRhIix0YXQ6InR0Iix0ZWw6InRlIix0Z2s6InRnIix0Z2w6InRsIix0aGE6InRoIix0aWI6ImJvIix0aXI6InRpIix0b246InRvIix0c246InRuIix0c286InRzIix0dWs6InRrIix0dXI6InRyIix0d2k6InR3Iix1aWc6InVnIix1a3I6InVrIix1cmQ6InVyIix1emI6InV6Iix2ZW46InZlIix2aWU6InZpIix2b2w6InZvIix3ZWw6ImN5Iix3bG46IndhIix3b2w6IndvIix4aG86InhoIix5aWQ6InlpIix5b3I6InlvIix6aGE6InphIix6aG86InpoIix6dWw6Inp1In07ZnVuY3Rpb24gV2EoYSl7cmV0dXJuIE9iamVjdC5rZXlzKGEpLm1hcChmdW5jdGlvbihiKXtyZXR1cm4gYVtiXX0pfWZ1bmN0aW9uIEIoYSxiKXtyZXR1cm4gWGEoYSxiLCJib29sZWFuIil9ZnVuY3Rpb24gQyhhLGIsYyl7YT1YYShhLGIsIm51bWJlciIpO2lmKG51bGw9PWEpcmV0dXJuIG51bGw7aWYoaXNOYU4oYSl8fGE9PU51bWJlci5ORUdBVElWRV9JTkZJTklUWXx8YT09TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZKXRocm93IG5ldyBSYW5nZUVycm9yKCInIitiKyInIG11c3QgYmUgZmluaXRlLiIpO2lmKG51bGwhPWMmJmE8Yyl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiJyIrYisiJyBtdXN0IGJlID49ICIrYyk7cmV0dXJuIGF9ZnVuY3Rpb24gWWEoYSxiKXtyZXR1cm4gWGEoYSxiLCJzdHJpbmciKX0KZnVuY3Rpb24gWGEoYSxiLGMpe2E9YVtiXTtpZihudWxsPT1hKXJldHVybiBudWxsO2lmKHR5cGVvZiBhIT09Yyl0aHJvdyBuZXcgVHlwZUVycm9yKCInIitiKyInIG11c3QgYmUgYSAiK2MrIi4iKTtyZXR1cm4gYX1mdW5jdGlvbiBaYShhLGIsYyl7YT1hW2JdO2lmKG51bGw9PWEpcmV0dXJuIG51bGw7aWYoIShhIGluc3RhbmNlb2YgYykpdGhyb3cgbmV3IFR5cGVFcnJvcigiJyIrYisiJyBtdXN0IGJlIGFuIGluc3RhbmNlIG9mICIrYy5uYW1lKyIuIik7cmV0dXJuIGF9O2Z1bmN0aW9uIEQoKXt0aGlzLmE9e319RC5wcm90b3R5cGUucHVzaD1mdW5jdGlvbihhLGIpe3RoaXMuYS5oYXNPd25Qcm9wZXJ0eShhKT90aGlzLmFbYV0ucHVzaChiKTp0aGlzLmFbYV09W2JdfTtELnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24oYSxiKXt0aGlzLmFbYV09Yn07RC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGEpe3JldHVybihhPXRoaXMuYVthXSk/YS5zbGljZSgpOm51bGx9O2Z1bmN0aW9uICRhKGEpe3ZhciBiPVtdLGM7Zm9yKGMgaW4gYS5hKWIucHVzaC5hcHBseShiLGEuYVtjXSk7cmV0dXJuIGJ9RC5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5hW2FdO2lmKGMpZm9yKHZhciBkPTA7ZDxjLmxlbmd0aDsrK2QpY1tkXT09YiYmKGMuc3BsaWNlKGQsMSksLS1kKX07ZnVuY3Rpb24gYWIoYSl7dmFyIGI9W10sYztmb3IoYyBpbiBhLmEpYi5wdXNoKGMpO3JldHVybiBifTtmdW5jdGlvbiBiYigpe3RoaXMuYT1uZXcgRH1iYi5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe2RiKHRoaXMpO3RoaXMuYT1udWxsfTtmdW5jdGlvbiBFKGEsYixjLGQpe2I9bmV3IGViKGIsYyxkKTthLmEucHVzaChjLGIpfWJiLnByb3RvdHlwZS5hYj1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz10aGlzLmEuZ2V0KGIpfHxbXSxkPTA7ZDxjLmxlbmd0aDsrK2Qpe3ZhciBlPWNbZF07ZS50YXJnZXQ9PWEmJihlLmFiKCksdGhpcy5hLnJlbW92ZShiLGUpKX19O2Z1bmN0aW9uIGRiKGEpe2Zvcih2YXIgYj0kYShhLmEpLGM9MDtjPGIubGVuZ3RoOysrYyliW2NdLmFiKCk7YS5hLmE9e319ZnVuY3Rpb24gZWIoYSxiLGMpe3RoaXMudGFyZ2V0PWE7dGhpcy50eXBlPWI7dGhpcy5hPWM7dGhpcy50YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihiLGMsITEpfQplYi5wcm90b3R5cGUuYWI9ZnVuY3Rpb24oKXt0aGlzLnRhcmdldCYmKHRoaXMudGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIodGhpcy50eXBlLHRoaXMuYSwhMSksdGhpcy5hPXRoaXMudGFyZ2V0PW51bGwpfTtmdW5jdGlvbiBGKGEpe3RoaXMuRWI9bmV3IEQ7dGhpcy5KYT1hfXEoInNoYWthLnV0aWwuRmFrZUV2ZW50VGFyZ2V0IixGKTtuPUYucHJvdG90eXBlO24uYWRkRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbihhLGIpe3RoaXMuRWIucHVzaChhLGIpfTtuLnJlbW92ZUV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24oYSxiKXt0aGlzLkViLnJlbW92ZShhLGIpfTsKbi5kaXNwYXRjaEV2ZW50PWZ1bmN0aW9uKGEpe2EuaGFzT3duUHJvcGVydHkoInNyY0VsZW1lbnQiKXx8KGRlbGV0ZSBhLnNyY0VsZW1lbnQsT2JqZWN0LmRlZmluZVByb3BlcnR5KGEsInNyY0VsZW1lbnQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH19KSk7aWYoYS5oYXNPd25Qcm9wZXJ0eSgidGFyZ2V0IikpYS50YXJnZXQ9dGhpcztlbHNle2RlbGV0ZSBhLnRhcmdldDt2YXIgYj10aGlzO09iamVjdC5kZWZpbmVQcm9wZXJ0eShhLCJ0YXJnZXQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYn0sc2V0OmZ1bmN0aW9uKGEpe2I9YX19KX1pZihhLmhhc093blByb3BlcnR5KCJjdXJyZW50VGFyZ2V0IikpYS5jdXJyZW50VGFyZ2V0PW51bGw7ZWxzZXtkZWxldGUgYS5jdXJyZW50VGFyZ2V0O3ZhciBjPW51bGw7T2JqZWN0LmRlZmluZVByb3BlcnR5KGEsImN1cnJlbnRUYXJnZXQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY30sc2V0OmZ1bmN0aW9uKGEpe2M9YX19KX1yZXR1cm4gZmIodGhpcywKYSl9O24ub2M9ITE7bi5MYT1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmRpc3BhdGNoRXZlbnQoeSh7dHlwZToiZGVidWcvZGFzaFBsYXllckV2ZW50IixidWJibGVzOiEwLGRldGFpbDp7dHlwZTphLGV2ZW50OmJ9fSkpfTtmdW5jdGlvbiBmYihhLGIpe2IuY3VycmVudFRhcmdldD1hO2Zvcih2YXIgYz1hLkViLmdldChiLnR5cGUpfHxbXSxkPTA7ZDxjLmxlbmd0aDsrK2Qpe3ZhciBlPWNbZF07dHJ5e2UuaGFuZGxlRXZlbnQ/ZS5oYW5kbGVFdmVudChiKTplLmNhbGwoYSxiKX1jYXRjaChmKXt9fWEuSmEmJmIuYnViYmxlcyYmZmIoYS5KYSxiKTtyZXR1cm4gYi5kZWZhdWx0UHJldmVudGVkfTtmdW5jdGlvbiBHKGEpe0YuY2FsbCh0aGlzLG51bGwpO3RoaXMuYT17b2I6e1ZhOm5ldyB4KFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJmYXN0X21vdmluZ19hdmVyYWdlX2hhbGZfbGlmZSIsMykpLHhiOm5ldyB4KFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJzbG93X21vdmluZ19hdmVyYWdlX2hhbGZfbGlmZSIsMTApKX0sY2I6e1ZhOm5ldyB4KFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJhZ2dyZXNzaXZlX2Zhc3RfbW92aW5nX2F2ZXJhZ2VfaGFsZl9saWZlIiwxRS00KSkseGI6bmV3IHgoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoImFnZ3Jlc3NpdmVfc2xvd19tb3ZpbmdfYXZlcmFnZV9oYWxmX2xpZmUiLDkuMjMzNTA4NzkxNzc0NSkpfX07dGhpcy5oPWF8fDVFNTt0aGlzLmo9VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoIm1pbl9zYW1wbGVfY291bnQiLAoxRTQpO3RoaXMuYj0wO3RoaXMuYz1bXTt0aGlzLmk9VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoIm1heF9yZWNlbnRfYmFuZHdpZHRoX3NhbXBsZXMiLDApfXIoRyxGKTtxKCJzaGFrYS51dGlsLkVXTUFCYW5kd2lkdGhFc3RpbWF0b3IiLEcpO0cucHJvdG90eXBlLnNob3VsZEV4Y2x1ZGVTYW1wbGU9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJjaGFuZ2VfYWJyX2F1ZGlvX2V4Y2x1c2lvbl9sb2dpYyIsITApPyFiOjY1NTM2PmF9OwpHLnByb3RvdHlwZS5zYW1wbGU9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyl7aWYodGhpcy5zaG91bGRFeGNsdWRlU2FtcGxlKGIsYykpZSYmZS5zZXRFdmVudCgidW5zYW1wbGVkIikuc2V0UmVhc29uKCJhdWRpbyIpLmxvZygpO2Vsc2V7aWYoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJ1c2VfcmVzb3VyY2VfdGltaW5nX2VudHJ5X2Zvcl9iYW5kd2lkdGgiLCEwKSl7aWYoIWQpe2UmJmUuc2V0RXZlbnQoInVuc2FtcGxlZCIpLnNldFJlYXNvbigicmVzb3VyY2VfdGltaW5nX2VudHJ5X21pc3NpbmciKS5sb2coKTtyZXR1cm59YT1kLnRpbWVUb0xhc3RCeXRlO2lmKDA+YSl7ZSYmZS5zZXRFdmVudCgidW5zYW1wbGVkIikuc2V0UmVhc29uKCJyZXNvdXJjZV90aW1pbmdfZW50cnlfaW52YWxpZCIpLmxvZygpO3JldHVybn19YT1NYXRoLm1heChhLDUwKTtjPTFFMypVbml0Q29uc3RhbnRzLkJJVFNfSU5fQllURSpiL2E7dmFyIGg9YS8xRTM7dGhpcy5hLmNiLlZhLnNhbXBsZShoLApjLGQpO3RoaXMuYS5jYi54Yi5zYW1wbGUoaCxjLGQpO3RoaXMuYS5vYi5WYS5zYW1wbGUoaCxjLGQpO3RoaXMuYS5vYi54Yi5zYW1wbGUoaCxjLGQpO2d8fHRoaXMuZGlzcGF0Y2hFdmVudCh5KHt0eXBlOiJiYW5kd2lkdGgifSkpO3RoaXMuYj1EYXRlLm5vdygpO2Q9cGFyc2VJbnQoYSwxMCk7aWYoMDx0aGlzLmkpZm9yKHRoaXMuYy5wdXNoKFtiLGRdKTt0aGlzLmMubGVuZ3RoPnRoaXMuaTspdGhpcy5jLnNoaWZ0KCk7ZSYmZS5zZXRFdmVudCgic2FtcGxlZCIpLnNldEJ5dGVzKGIpLnNldERlbGF5TXMoZCkubG9nKCk7ZiYmZi5nZXRFdmVudExvZ2dlcigiYmFuZHdpZHRoX3NhbXBsZWQiKS5zZXRMZW5ndGgoYikuc2V0Q2xpZW50VGltZUJlZ2luKHRoaXMuYi1kKS5zZXRDbGllbnRUaW1lRW5kKHRoaXMuYikubG9nKCl9fTsKRy5wcm90b3R5cGUuZ2V0QmFuZHdpZHRoPWZ1bmN0aW9uKGEpe2E9ImFnZ3Jlc3NpdmUiPT09YT90aGlzLmEuY2I6dGhpcy5hLm9iO3JldHVybiB0aGlzLmNhblRydXN0RXN0aW1hdGUoKT9NYXRoLm1pbihhLlZhLmdldEVzdGltYXRlKCksYS54Yi5nZXRFc3RpbWF0ZSgpKTp0aGlzLmh9O0cucHJvdG90eXBlLmdldEZhc3RNb3ZpbmdCYW5kd2lkdGg9ZnVuY3Rpb24oYSl7YT0iYWdncmVzc2l2ZSI9PT1hP3RoaXMuYS5jYjp0aGlzLmEub2I7cmV0dXJuIHRoaXMuY2FuVHJ1c3RFc3RpbWF0ZSgpP2EuVmEuZ2V0RXN0aW1hdGUoKTp0aGlzLmh9O0cucHJvdG90eXBlLmdldERhdGFBZ2U9ZnVuY3Rpb24oKXtyZXR1cm4oRGF0ZS5ub3coKS10aGlzLmIpLzFFM307Ry5wcm90b3R5cGUuY2FuVHJ1c3RFc3RpbWF0ZT1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmEuY2IuVmE7cmV0dXJuIGIuJGE+PSh2b2lkIDA9PT1hPy41OmEpfHxiLnliPj10aGlzLmp9OwpHLnByb3RvdHlwZS5zdXBwb3J0c0NhY2hpbmc9ZnVuY3Rpb24oKXtyZXR1cm4hMX07Ry5wcm90b3R5cGUuc2V0UmVwcmVzZW50YXRpb25JRD1mdW5jdGlvbigpe307Ry5wcm90b3R5cGUuZmx1c2hBQlJFdmFsdWF0aW9uU2V0PWZ1bmN0aW9uKCl7cmV0dXJuW119O0cucHJvdG90eXBlLmdldFJlY2VudFNhbXBsZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jfTsvKgoKIENvcHlyaWdodCAyMDE1IEZhY2Vib29rIEluYy4KCiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoKICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KKi8KZnVuY3Rpb24gZ2IoYSxiLGMsZCl7Ry5jYWxsKHRoaXMsZCk7dGhpcy5nPWF8fDA7dGhpcy5mPXZvaWQgMD09PWI/SW5maW5pdHk6Yjt0aGlzLm09Y31yKGdiLEcpO3EoInNoYWthLnV0aWwuRVdNQUNhY2hlQmFuZHdpZHRoRXN0aW1hdG9yIixnYik7CmdiLnByb3RvdHlwZS5zYW1wbGU9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxoKXt2YXIgaz04RTMqYi9hO2UmJmUuc2V0Qnl0ZXMoYikuc2V0RGVsYXlNcyhwYXJzZUludChhLDEwKSk7YTw9dGhpcy5nJiZrPnRoaXMuZiYmIWg/KGUmJmUuc2V0RXZlbnQoInVuc2FtcGxlZCIpLnNldFJlYXNvbigiY2FjaGVkIikubG9nKCksZiYmIXRoaXMuc2hvdWxkRXhjbHVkZVNhbXBsZShiLGMpJiZmLmdldEV2ZW50TG9nZ2VyKCJiYW5kd2lkdGhfc2FtcGxlZCIpLnNldFJlc3VsdCgiYWJvcnRlZCIpLnNldExlbmd0aChiKS5zZXRDbGllbnRUaW1lQmVnaW4oRGF0ZS5ub3coKS1wYXJzZUludChhLDEwKSkuc2V0Q2xpZW50VGltZUVuZChEYXRlLm5vdygpKS5sb2coKSx0aGlzLm0oKSk6Ry5wcm90b3R5cGUuc2FtcGxlLmNhbGwodGhpcyxhLGIsYyxkLGUsZixnKX07Z2IucHJvdG90eXBlLnN1cHBvcnRzQ2FjaGluZz1mdW5jdGlvbigpe3JldHVybiBJbmZpbml0eSE9PXRoaXMuZiYmISF0aGlzLmd9OwpnYi5wcm90b3R5cGUuc2V0UmVwcmVzZW50YXRpb25JRD1mdW5jdGlvbigpe307Z2IucHJvdG90eXBlLmZsdXNoQUJSRXZhbHVhdGlvblNldD1mdW5jdGlvbigpe3JldHVybltdfTtmdW5jdGlvbiBoYigpe0cuY2FsbCh0aGlzKX1yKGhiLEcpO3EoInNoYWthLnV0aWwuRVdNQVNpZ25lZFVSTEJhbmR3aWR0aEVzdGltYXRvciIsaGIpO2hiLnByb3RvdHlwZS5zdXBwb3J0c0NhY2hpbmc9ZnVuY3Rpb24oKXtyZXR1cm4hMH07ZnVuY3Rpb24gSSgpe3ZhciBhLGIsYz1uZXcgUHJvbWlzZShmdW5jdGlvbihjLGUpe2E9YztiPWV9KTtjLnJlc29sdmU9YTtjLnJlamVjdD1iO2MuZGVzdHJveT1JLnByb3RvdHlwZS5kZXN0cm95O3JldHVybiBjfUkucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmNhdGNoKGZ1bmN0aW9uKCl7fSk7dmFyIGE9RXJyb3IoIkRlc3Ryb3llZCEiKTthLnR5cGU9ImRlc3Ryb3kiO3RoaXMucmVqZWN0KGEpfTtmdW5jdGlvbiBpYihhKXthLnNwbGl0KCIiKS5yZWR1Y2UoZnVuY3Rpb24oYSxjLGQpe3JldHVybiBhKyhkJiYwPT1kJTQ/IiAiK2M6Yyl9KX07ZnVuY3Rpb24gamIoKXt0aGlzLmxiPW5ldyBJO3RoaXMuYz0hMTt0aGlzLkFhPW51bGw7dGhpcy5hPVtdO3RoaXMuYj1udWxsfWZ1bmN0aW9uIGtiKGEsYil7aWYoYS5jKXRocm93IEVycm9yKCJDYW5ub3QgYXBwZW5kIHRvIGEgcnVubmluZyB0YXNrISIpO2EuYS5wdXNoKGIpfWpiLnByb3RvdHlwZS5zdGFydD1mdW5jdGlvbigpe2lmKHRoaXMuYyl0aHJvdyBFcnJvcigiVGFzayBhbHJlYWR5IHN0YXJ0ZWQhIik7dGhpcy5jPSEwO3RoaXMuYS51bnNoaWZ0KGZ1bmN0aW9uKCl7fSk7bGIodGhpcyx2b2lkIDApfTtqYi5wcm90b3R5cGUuYWJvcnQ9ZnVuY3Rpb24oKXtpZih0aGlzLkFhKXJldHVybiB0aGlzLkFhO2lmKCF0aGlzLmMpcmV0dXJuIHRoaXMuYz0hMCxQcm9taXNlLnJlc29sdmUoKTt0aGlzLmImJih0aGlzLmY9dGhpcy5iKCkpO3JldHVybiB0aGlzLkFhPW5ldyBJfTtqYi5wcm90b3R5cGUuZW5kPWZ1bmN0aW9uKCl7dGhpcy5hLnNwbGljZSgxKX07CmZ1bmN0aW9uIGxiKGEsYil7dmFyIGM9YS5hWzBdKGIpLGQ7Yz8oZD1jWzBdLGEuYj1jWzFdKTooZD1Qcm9taXNlLnJlc29sdmUoKSxhLmI9bnVsbCk7ZC50aGVuKEooYSxmdW5jdGlvbihhKXt0aGlzLkFhPyh0aGlzLmE9W10sdGhpcy5iPW51bGwsbWIodGhpcykpOih0aGlzLmEuc2hpZnQoKSx0aGlzLmEubGVuZ3RoP2xiKHRoaXMsYSk6KHRoaXMubGIucmVzb2x2ZShhKSx0aGlzLmI9bnVsbCkpfSkpLmNhdGNoKEooYSxmdW5jdGlvbihhKXt0aGlzLmE9W107dGhpcy5iPW51bGw7dGhpcy5BYT9tYih0aGlzKTp0aGlzLmxiLnJlamVjdChhKX0pKX0KZnVuY3Rpb24gbWIoYSl7ZnVuY3Rpb24gYigpe3ZhciBhPUVycm9yKCJUYXNrIGFib3J0ZWQuIik7YS50eXBlPSJhYm9ydGVkIjt0aGlzLmxiLnJlamVjdChhKTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhpcy5BYS5yZXNvbHZlKCk7dGhpcy5BYT1udWxsfS5iaW5kKHRoaXMpLDUpfWEuZj9hLmYudGhlbihmdW5jdGlvbigpe3RoaXMuZj1udWxsO2IuY2FsbCh0aGlzKX0uYmluZChhKSk6Yi5jYWxsKGEpfTtmdW5jdGlvbiBKKGEsYil7cmV0dXJuIGIuYmluZChhKX07ZnVuY3Rpb24gbmIoYSxiLGMsZCxlLGYsZyl7TWVkaWFTb3VyY2UuaXNUeXBlU3VwcG9ydGVkKGMpO0YuY2FsbCh0aGlzLGUpO2U9Yi5hZGRTb3VyY2VCdWZmZXIoYyk7dGhpcy5oPWE7dGhpcy5BPWI7dGhpcy5hPWU7dGhpcy5KPWQ7dGhpcy5CPW5ldyBiYjt0aGlzLkk9dGhpcy5sPXRoaXMuWT10aGlzLmk9bnVsbDt0aGlzLlI9ITE7dGhpcy5QPXRoaXMuSz10aGlzLk89MDt0aGlzLkc9bnVsbDt0aGlzLlY9dGhpcy5GPSExO3RoaXMuWj1mO3RoaXMuRD1udWxsO3RoaXMuJD1nP2c6bnVsbDt0aGlzLmI9W107dGhpcy5VPTA7dGhpcy5tPXRoaXMuYz10aGlzLmY9bnVsbDt0aGlzLlQ9amE7dGhpcy5vPXRoaXMudT0wO3RoaXMudz10aGlzLlM9ITE7dGhpcy5nPWMmJmMuY2hhckF0KDApO0UodGhpcy5CLHRoaXMuYSwidXBkYXRlZW5kIix0aGlzLm5kLmJpbmQodGhpcykpO3RoaXMuaC5nZXRCb29sKCJsaXN0ZW5fZm9yX2FzeW5jX2FwcGVuZF9idWZmZXJfZXJyb3JzIiwhMCkmJkUodGhpcy5CLAp0aGlzLmEsImVycm9yIix0aGlzLmFkLmJpbmQodGhpcykpO3RoaXMuaj1udWxsfXIobmIsRik7bmIucHJvdG90eXBlLkJhPWZ1bmN0aW9uKCl7cmV0dXJue1NvdXJjZUJ1ZmZlcjp0aGlzLmF9fTtmdW5jdGlvbiBvYihhLGIsYyl7YS5vYyYmYS5MYShiLHt0eXBlOmEuZy5jaGFyQXQoMCksc2VnbWVudDpjLHNvdXJjZUJ1ZmZlcjphLmF9KX12YXIgcGI9MS82MDtuYi5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuYWJvcnQoKS5jYXRjaChmdW5jdGlvbigpe30pO3RoaXMuYyYmdGhpcy5jLmRlc3Ryb3koKTt0aGlzLmI9dGhpcy5mPXRoaXMuYz1udWxsO3RoaXMuQi5kZXN0cm95KCk7dGhpcy5BPXRoaXMuYT10aGlzLkQ9dGhpcy5CPW51bGx9O2Z1bmN0aW9uIHFiKGEpe3ZhciBiPWEuYi5sZW5ndGg7cmV0dXJuIDA8Yj9hLmJbYi0xXTpudWxsfQpmdW5jdGlvbiByYihhLGIpe2Zvcih2YXIgYz1hLmEuYnVmZmVyZWQsZD0wO2Q8Yy5sZW5ndGg7KytkKXt2YXIgZT1jLnN0YXJ0KGQpLXBiLGY9Yy5lbmQoZCkrcGI7aWYoYj49ZSYmYjw9ZilyZXR1cm4gYy5lbmQoZCktYn1yZXR1cm4gMH1mdW5jdGlvbiBzYihhLGIsYyl7dmFyIGQ9Yi5lbmRUaW1lP2IuZW5kVGltZS1iLnN0YXJ0VGltZToxLGU9bmV3IHRiO2UuTmE9MztlLmM9MUUzKmQ7ZS5iPTFFMyphLlQ7ZS51PWEuWTtlLmo9YztlLmRhPWEuWjtlLm1pbWVUeXBlPWEuZztlLmg9YS4kO2Uubz1iLmlzUHJlZGljdGl2ZTtyZXR1cm4gZX1uPW5iLnByb3RvdHlwZTsKbi5mZXRjaD1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGgpe3ZhciBrLGw9Zj8icmVwbGFjaW5nX2xvd2VyX3F1YWxpdHlfYnVmZmVyIjpudWxsO2lmKHRoaXMubCl7dmFyIG09dGhpcy5iW3RoaXMuYi5sZW5ndGgtMV0scD1udWxsO20mJihwPTFFMyooYS5zdGFydFRpbWUtbS5lbmRUaW1lKSk7az10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJmZXRjaCIpLnNldFJlYXNvbihsKS5zZXRSZXNvdXJjZSh1YihhLnVybCkpLnNldFR5cGUodmIodGhpcykpLnNldExlbmd0aChNYXRoLnJvdW5kKDFFMyooYS5lbmRUaW1lLWEuc3RhcnRUaW1lKSkpLnNldFNlZ21lbnRTdGFydFRpbWUoMUUzKmEuc3RhcnRUaW1lKS5zZXRTZWdtZW50RW5kVGltZSgxRTMqYS5lbmRUaW1lKS5zZXRTZWdtZW50VGltZUdhcChwKS5zdGFydCgpfXRoaXMuaj1rO2lmKHRoaXMuZil7aWYodGhpcy5oLmdldEJvb2woInNibV9lbmFibGVfY29uY3VycmVudF9mZXRjaF9yZXF1ZXN0cyIsITEpKXt2YXIgdD1bXS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7CnJldHVybiB0aGlzLmYubGIudGhlbihKKHRoaXMsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mZXRjaC5hcHBseSh0aGlzLHQpfSksZnVuY3Rpb24oYSl7dGhyb3cgYTt9KX1tPUVycm9yKCJDYW5ub3QgZmV0Y2ggKCIrdGhpcy5nKyIpOiBwcmV2aW91cyBvcGVyYXRpb24gbm90IGNvbXBsZXRlLiIpO3RoaXMudT49dGhpcy5PPyhtLnR5cGU9InN0cmVhbSIsayYmay5zZXRFcnJvcihtKS5sb2coKSx0aGlzLnU9MCk6KHRoaXMudSsrLG0udHlwZT0iYWJvcnRlZCIpO3JldHVybiBQcm9taXNlLnJlamVjdChtKX10aGlzLmY9bmV3IGpiO2MhPXRoaXMuYS50aW1lc3RhbXBPZmZzZXQmJih0aGlzLmEudGltZXN0YW1wT2Zmc2V0PWMpO3ZhciBtPXNiKHRoaXMsYSxlKSxwPXRoaXMuaC5nZXRCb29sKCJlbmFibGVfc3RyZWFtaW5nX2NvZGVfcGF0aCIsITApLHc7dz1wP2EudXJsLnN0cmVhbShtLHRoaXMuSix0aGlzLmwsdGhpcy5qLHRoaXMuSSx2Yih0aGlzKSxsLGcsaCk6YS51cmwuZmV0Y2gobSwKdGhpcy5KLHRoaXMubCx0aGlzLmosdGhpcy5JLHZiKHRoaXMpLGwsZyk7b2IodGhpcywiU2VnbWVudEZldGNoaW5nIixhKTt2YXIgej1LLnByb3RvdHlwZS5LYS5iaW5kKGEudXJsKTt0aGlzLkcmJnRoaXMuRiYmKGQ9dGhpcy5HKTt2YXIgSD0wLGRhPW51bGw7ZCYmKHRoaXMuRz1kLHRoaXMuRj0hMSxrYih0aGlzLmYsZnVuY3Rpb24oKXtyZXR1cm5bZC50aGVuKGZ1bmN0aW9uKGEpe2EuWWE+SCYmKEg9YS5ZYSk7cmV0dXJuIHdiKHRoaXMsYSxudWxsKX0uYmluZCh0aGlzKSksdGhpcy5iYi5iaW5kKHRoaXMpXX0uYmluZCh0aGlzKSkpO3ZhciBlYT1mdW5jdGlvbihhKXthLllhPkgmJihIPWEuWWEpO2RhPWEuYnl0ZUxlbmd0aDt0aGlzLkouZ2V0QmFuZHdpZHRoKCk7dGhpcy5TJiZ0aGlzLmRpc3BhdGNoRXZlbnQoeSh7dHlwZToiY2VhNjA4Q2FwdGlvbnNCeXRlc1JlY2VpdmVkIixidWJibGVzOiEwLGRldGFpbDp7dGltZXNjYWxlOmIsdmlkZW9CeXRlczphfX0pKX0uYmluZCh0aGlzKTsKcD8oaCYmKG09aC5nZXRQcm9ncmVzc1RyYWNrZXIoKSx0aGlzLmkhPT1tJiYodGhpcy5pPW0pKSxrYih0aGlzLmYsSih0aGlzLGZ1bmN0aW9uKCl7dmFyIGI9bnVsbCxjPU1hdGgubWF4KDAsKGEudXJsLmVuZEJ5dGV8fDApLWEudXJsLnN0YXJ0Qnl0ZSksZD10aGlzLmguZ2V0TnVtYmVyKCJzdHJlYW1pbmdfYXBwZW5kX3Blcl9zZWdtZW50IiwzKSxlPTA9PT1kPzA6Yy9kO3JldHVyblt3LnRoZW4oZnVuY3Rpb24oYyl7Yj1jO3RoaXMudz0hMTtyZXR1cm4geGIodGhpcyxjLGEsZSl9LmJpbmQodGhpcykpLnRoZW4oZnVuY3Rpb24oYSl7Yj1udWxsO3JldHVybiBhfSkudGhlbihlYSkuY2F0Y2goZnVuY3Rpb24oYSl7dGhpcy5oLmdldEJvb2woImFib3J0X2ZldGNoX29uX25ldF9lcnJvciIsITEpJiZoJiYodGhpcy5hLmFib3J0KCksdGhpcy53PSEwKTtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYSl9LmJpbmQodGhpcykpLGZ1bmN0aW9uKCl7b2IodGhpcywiU2VnbWVudEZhaWxlZCIsYSk7CmImJihiLmNhbmNlbCgiYWJvcnQiKSxiPW51bGwsaCYmKHRoaXMuYS5hYm9ydCgpLHRoaXMudz0hMCkpO3ooKTtyZXR1cm4gdGhpcy5iYigpfS5iaW5kKHRoaXMpXX0pKSk6a2IodGhpcy5mLEoodGhpcyxmdW5jdGlvbigpe3JldHVyblt3LnRoZW4oZnVuY3Rpb24oYil7b2IodGhpcywiU2VnbWVudEZldGNoZWQiLGEpO2VhKGIpO3JldHVybiB3Yih0aGlzLGIsYSxsKX0uYmluZCh0aGlzKSksZnVuY3Rpb24oKXtvYih0aGlzLCJTZWdtZW50RmFpbGVkIixhKTt6KCk7cmV0dXJuIHRoaXMuYmIoKX0uYmluZCh0aGlzKV19KSk7dmFyIEFhPTA9PXRoaXMuYS5idWZmZXJlZC5sZW5ndGgmJjA9PXRoaXMuYi5sZW5ndGgsY2I9bnVsbDtrYih0aGlzLmYsZnVuY3Rpb24oKXtpZigwPT10aGlzLmEuYnVmZmVyZWQubGVuZ3RoJiYhdGhpcy5WKXt2YXIgYj1FcnJvcigiRmFpbGVkIHRvIGJ1ZmZlciBzZWdtZW50ICgiK3RoaXMuZysiKS4iKTtiLnR5cGU9InN0cmVhbSI7cmV0dXJuW1Byb21pc2UucmVqZWN0KGIpXX10aGlzLmEuYnVmZmVyZWQubGVuZ3RoJiYKQWEmJihiPWEuc3RhcnRUaW1lLGNiPXRoaXMuYS5idWZmZXJlZC5zdGFydCgwKS1iKTtiPXliKHRoaXMuYixhLnN0YXJ0VGltZSk7MDw9Yj90aGlzLmIuc3BsaWNlKGIrMSwwLGEpOnRoaXMuYi5wdXNoKGEpfS5iaW5kKHRoaXMpKTt0aGlzLnU9MDtyZXR1cm4gemIodGhpcykudGhlbihmdW5jdGlvbigpe2smJmsubG9nKCk7cmV0dXJuIFByb21pc2UucmVzb2x2ZSh7VzpjYixXYzpILEg6YS5lbmRUaW1lLWEuc3RhcnRUaW1lLERjOmRhfSl9LmJpbmQodGhpcyksZnVuY3Rpb24oYSl7ayYmay5zZXRFcnJvcihhKS5sb2coKTthPUFiKGEsInRhc2siLCJBbiB1bmtub3duIHRhc2sgZXJyb3Igb2NjdXJyZWQuIik7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfS5iaW5kKHRoaXMpKX07CmZ1bmN0aW9uIHhiKGEsYixjLGQpe3ZhciBlPW5ldyBBcnJheUJ1ZmZlcigwKSxmPW5ldyBBcnJheUJ1ZmZlcigwKSxnPWZ1bmN0aW9uKCl7cmV0dXJuIGIucmVhZCgpLnRoZW4oZnVuY3Rpb24oYSl7dmFyIGI9YS52YWx1ZTthPWEuZG9uZTtpZih0aGlzLnd8fGEmJjA9PT1mLmJ5dGVMZW5ndGgpcmV0dXJuIGU7aWYoIWEmJiFiKXJldHVybiBnKCk7YiYmKGIgaW5zdGFuY2VvZiBVaW50OEFycmF5JiYoYj1iLmJ1ZmZlciksZj1jb25jYXRBcnJheUJ1ZmZlcihmLGIpKTtyZXR1cm4gZi5ieXRlTGVuZ3RoPj1kfHxhPyh0aGlzLmkmJnRoaXMuaS5ub3RpZnlCeXRlc0NvbnN1bWVkKGYuYnl0ZUxlbmd0aCksb2IodGhpcywiU2VnbWVudEZldGNoZWQiLGMpLGU9Y29uY2F0QXJyYXlCdWZmZXIoZSxmKSxiPWYsZj1uZXcgQXJyYXlCdWZmZXIoMCksd2IodGhpcyxiLGMpLnRoZW4oZykpOmcoKX0uYmluZCh0aGlzKSl9LmJpbmQoYSk7cmV0dXJuIGcoKX0KZnVuY3Rpb24gQmIoYSl7aWYoYS5mKXt2YXIgYj1FcnJvcigiQ2Fubm90IGNsZWFyICgiK2EuZysiKTogcHJldmlvdXMgb3BlcmF0aW9uIG5vdCBjb21wbGV0ZS4iKTthLm8+PWEuSz8oYi50eXBlPSJzdHJlYW0iLGEubz0wKTooYS5vKyssYi50eXBlPSJhYm9ydGVkIik7cmV0dXJuIFByb21pc2UucmVqZWN0KGIpfWEuZj1uZXcgamI7a2IoYS5mLGZ1bmN0aW9uKCl7dmFyIGE7YTppZigwPT10aGlzLmEuYnVmZmVyZWQubGVuZ3RoKWE9UHJvbWlzZS5yZXNvbHZlKCk7ZWxzZXt0cnl7dGhpcy5hLnJlbW92ZSgwLHRoaXMuQS5kdXJhdGlvbil9Y2F0Y2goYil7Yj1BYihiLCJjbGVhcl9idWZmZXIiLCJBbiBlcnJvciBvY2N1cmVkIHdoZW4gY2xlYXJpbmcgdGhlIGJ1ZmZlci4iKTthPVByb21pc2UucmVqZWN0KGIpO2JyZWFrIGF9dGhpcy5iPVtdO2E9dGhpcy5jPW5ldyBJfXJldHVyblthLHRoaXMuYmIuYmluZCh0aGlzKV19LmJpbmQoYSkpO2Eubz0wO3JldHVybiB6YihhKX0KZnVuY3Rpb24gQ2IoYSxiKXtpZihhLmYpe3ZhciBjPUVycm9yKCJDYW5ub3QgY2xlYXJBZnRlciAoIithLmcrIik6IHByZXZpb3VzIG9wZXJhdGlvbiBub3QgY29tcGxldGUuIik7Yy50eXBlPSJzdHJlYW0iO3JldHVybiBQcm9taXNlLnJlamVjdChjKX1hLmY9bmV3IGpiO2tiKGEuZixmdW5jdGlvbigpe3JldHVybltEYih0aGlzLGIpLHRoaXMuYmIuYmluZCh0aGlzKV19LmJpbmQoYSkpO3JldHVybiB6YihhKX1mdW5jdGlvbiBFYihhLGIpe2EuYz1uZXcgSTt2YXIgYz1iLTU7aWYoMDxjKXt0cnl7YS5hLnJlbW92ZSgwLGMpfWNhdGNoKGQpe3JldHVybiBkPUFiKGQsImNsZWFyX2J1ZmZlciIsIkFuIGVycm9yIG9jY3VyZWQgd2hlbiBjbGVhcmluZyB0aGUgYnVmZmVyLiIpLFByb21pc2UucmVqZWN0KGQpfWM9RmIoYSxjKTswPGMmJihhLmI9YS5iLnNsaWNlKGMsYS5iLmxlbmd0aCkpfWVsc2UgYS5jLnJlc29sdmUoKTtyZXR1cm4gYS5jfQpuLmFib3J0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZj90aGlzLmYuYWJvcnQoKTpQcm9taXNlLnJlc29sdmUoKX07ZnVuY3Rpb24gR2IoYSl7Zm9yKHZhciBiPWEuY3VycmVudFRpbWUsYz1iLGQ9MDtkPGEuYnVmZmVyZWQubGVuZ3RoO2QrKylpZihiPD1hLmJ1ZmZlcmVkLnN0YXJ0KGQpKXtjPWEuYnVmZmVyZWQuc3RhcnQoZCk7YnJlYWt9cmV0dXJuIGN9ZnVuY3Rpb24gSGIoYSxiKXtmb3IodmFyIGM9Yi5jdXJyZW50VGltZSxkPTA7ZDxiLmJ1ZmZlcmVkLmxlbmd0aDtkKyspaWYoYz49Yi5idWZmZXJlZC5zdGFydChkKSYmYzw9Yi5idWZmZXJlZC5lbmQoZCktYS5QKXJldHVybiExO3JldHVybiEwfQpmdW5jdGlvbiB6YihhKXthLmYuc3RhcnQoKTtyZXR1cm4gYS5mLmxiLnRoZW4oSihhLGZ1bmN0aW9uKCl7dGhpcy5mPW51bGx9KSkuY2F0Y2goSihhLGZ1bmN0aW9uKGEpe3RoaXMuZj1udWxsO2E9QWIoYSwidGFzayIsIkFuIHVua25vd24gdGFzayBlcnJvciBvY2N1cnJlZC4iKTtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYSl9KSl9CmZ1bmN0aW9uIHdiKGEsYixjLGQpe3ZhciBlO2lmKGEubCl7dmFyIGY9Yz91YihjLnVybCk6ImluaXQiO2U9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigiYXBwZW5kIikuc2V0UmVhc29uKGQpLnNldFJlc291cmNlKGYpLnNldFR5cGUodmIoYSkpLnNldExlbmd0aChiLmJ5dGVMZW5ndGgpLnN0YXJ0KCk7bnVsbCE9PWMmJihlPWUuc2V0U2VnbWVudFN0YXJ0VGltZSgxRTMqYy5zdGFydFRpbWUpLnNldFNlZ21lbnRFbmRUaW1lKDFFMypjLmVuZFRpbWUpKTthLmomJihlPWUuc2V0UGFyZW50TG9nZ2VyKGEuaikpfXRyeXthLmEuYXBwZW5kQnVmZmVyKGIpfWNhdGNoKGcpe3JldHVybiBhLmguZ2V0Qm9vbCgibnVrZV9zb3VyY2VfYnVmZmVyX29uX3F1b3RhX2V4Y2VlZGVkX2VyciIsITApJiZnIGluc3RhbmNlb2YgRE9NRXhjZXB0aW9uJiZnLmNvZGU9PT1ET01FeGNlcHRpb24uUVVPVEFfRVhDRUVERURfRVJSJiZnLm1lc3NhZ2UubWF0Y2goL14uKlNvdXJjZUJ1ZmZlci4qZnVsbC4qZnJlZVxzc3BhY2UuKiQvKSYmCihnLnR5cGU9InNvdXJjZWJ1ZmZlcl9mdWxsIiksZSYmZS5zZXRFcnJvcihnKS5sb2coKSxQcm9taXNlLnJlamVjdChnKX1hLmM9bmV3IEk7YS5tPWM7cmV0dXJuIGEuYy50aGVuKGZ1bmN0aW9uKCl7ZSYmZS5sb2coKX0sZnVuY3Rpb24oYSl7ZSYmZS5zZXRFcnJvcihhKS5sb2coKTtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYSl9KX1uLmFkPWZ1bmN0aW9uKGEpe2E9YS5lcnJvcnx8RXJyb3IoIkNhbGwgdG8gYXBwZW5kQnVmZmVyIGZhaWxlZCB0byBhcHBlbmQgdGhlIHNlZ21lbnQuIik7YT1BYihhLCJzdHJlYW0iLCJDYWxsIHRvIGFwcGVuZEJ1ZmZlciBmYWlsZWQgdG8gYXBwZW5kIHRoZSBzZWdtZW50LiIpO3RoaXMuYyYmdGhpcy5jLnJlamVjdChhKX07CmZ1bmN0aW9uIERiKGEsYil7aWYoMD09YS5hLmJ1ZmZlcmVkLmxlbmd0aClyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7dmFyIGM9RmIoYSxiKTtpZigtMT09Y3x8Yz09YS5iLmxlbmd0aC0xKXJldHVybiBQcm9taXNlLnJlc29sdmUoKTt0cnl7YS5hLnJlbW92ZShhLmJbYysxXS5zdGFydFRpbWUsYS5BLmR1cmF0aW9uKX1jYXRjaChkKXtyZXR1cm4gUHJvbWlzZS5yZWplY3QoZCl9YS5iPWEuYi5zbGljZSgwLGMrMSk7YS5jPW5ldyBJO3JldHVybiBhLmN9bi5iYj1mdW5jdGlvbigpe2lmKHRoaXMuYyl7aWYoIm9wZW4iPT10aGlzLkEucmVhZHlTdGF0ZSl7dmFyIGE9RXJyb3IoIlByZXZpb3VzIG9wZXJhdGlvbiBhYm9ydGVkLiIpO2EudHlwZT0iYWJvcnRlZCI7dGhpcy5jLnJlamVjdChhKTt0aGlzLmEuYWJvcnQoKTt0aGlzLlImJih0aGlzLkY9ITApO3RoaXMuYz1uZXcgSX1yZXR1cm4gdGhpcy5jfXJldHVybiBQcm9taXNlLnJlc29sdmUoKX07Cm4ubmQ9ZnVuY3Rpb24oKXt0aGlzLmMmJih0aGlzLm0mJihvYih0aGlzLCJTZWdtZW50QXBwZW5kZWQiLHRoaXMubSksdGhpcy5tPW51bGwpLHRoaXMuYy5yZXNvbHZlKCksdGhpcy5jPW51bGwpfTtuLkRkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaX07bmIucHJvdG90eXBlLmdldFN0cmVhbVByb2dyZXNzVHJhY2tlcj1uYi5wcm90b3R5cGUuRGQ7ZnVuY3Rpb24gdmIoYSl7cmV0dXJuInYiPT09YS5nLmNoYXJBdCgwKT8idmlkZW8iOiJhIj09PWEuZy5jaGFyQXQoMCk/ImF1ZGlvIjpudWxsfWZ1bmN0aW9uIEFiKGEsYixjKXthfHwoYT1FcnJvcihjKSk7YS50eXBlfHwoYS50eXBlPWIpO2EubWVzc2FnZXx8KGEubWVzc2FnZT1jKTtyZXR1cm4gYX0KZnVuY3Rpb24gRmIoYSxiKXtpZihhLmguZ2V0Qm9vbCgic2JtX3VzZV9zZWdtZW50X2luZGV4X3RvX2ZpbmRfdGltZXN0YW1wcyIsITEpJiZhLkQpe3ZhciBjPWEuRC5maW5kKGIpO2lmKGMpcmV0dXJuIHliKGEuYixjLnN0YXJ0VGltZSl9ZWxzZSByZXR1cm4geWIoYS5iLGIpO3JldHVybi0xfTtmdW5jdGlvbiBJYihhKXtyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLGEpfXEoInNoYWthLnV0aWwuVWludDhBcnJheVV0aWxzLnRvU3RyaW5nIixJYik7ZnVuY3Rpb24gSmIoYSl7Zm9yKHZhciBiPW5ldyBVaW50OEFycmF5KGEubGVuZ3RoKSxjPTA7YzxhLmxlbmd0aDsrK2MpYltjXT1hLmNoYXJDb2RlQXQoYyk7cmV0dXJuIGJ9cSgic2hha2EudXRpbC5VaW50OEFycmF5VXRpbHMuZnJvbVN0cmluZyIsSmIpO3EoInNoYWthLnV0aWwuVWludDhBcnJheVV0aWxzLnRvQmFzZTY0IixmdW5jdGlvbihhLGIpe3ZhciBjPXZvaWQgMD09Yj8hMDpiLGQ9d2luZG93LmJ0b2EoSWIoYSkpLnJlcGxhY2UoL1wrL2csIi0iKS5yZXBsYWNlKC9cLy9nLCJfIik7cmV0dXJuIGM/ZDpkLnJlcGxhY2UoLz0qJC8sIiIpfSk7ZnVuY3Rpb24gS2IoYSl7cmV0dXJuIEpiKHdpbmRvdy5hdG9iKGEucmVwbGFjZSgvLS9nLCIrIikucmVwbGFjZSgvXy9nLCIvIikpKX0KcSgic2hha2EudXRpbC5VaW50OEFycmF5VXRpbHMuZnJvbUJhc2U2NCIsS2IpO3EoInNoYWthLnV0aWwuVWludDhBcnJheVV0aWxzLmZyb21IZXgiLGZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1uZXcgVWludDhBcnJheShhLmxlbmd0aC8yKSxjPTA7YzxhLmxlbmd0aDtjKz0yKWJbYy8yXT13aW5kb3cucGFyc2VJbnQoYS5zdWJzdHIoYywyKSwxNik7cmV0dXJuIGJ9KTtmdW5jdGlvbiBMYihhKXtmb3IodmFyIGI9IiIsYz0wO2M8YS5sZW5ndGg7KytjKXt2YXIgZD1hW2NdLnRvU3RyaW5nKDE2KTsxPT1kLmxlbmd0aCYmKGQ9IjAiK2QpO2IrPWR9cmV0dXJuIGJ9cSgic2hha2EudXRpbC5VaW50OEFycmF5VXRpbHMudG9IZXgiLExiKTtmdW5jdGlvbiBNYShhLGIpe2lmKCFhJiYhYilyZXR1cm4hMDtpZighYXx8IWJ8fGEubGVuZ3RoIT1iLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIGM9MDtjPGEubGVuZ3RoOysrYylpZihhW2NdIT1iW2NdKXJldHVybiExO3JldHVybiEwfTtmdW5jdGlvbiBNYigpe3RoaXMuaT10aGlzLmE9IiI7dGhpcy53aXRoQ3JlZGVudGlhbHM9ITE7dGhpcy5vPXRoaXMuZj1udWxsO3RoaXMuaj10aGlzLmg9ITE7dGhpcy5tPXRoaXMuZz0iIjt0aGlzLmM9bnVsbDt0aGlzLmI9W119ZnVuY3Rpb24gTmIoYSxiKXt2YXIgYz1uZXcgTWI7Yy5hPWEuYTtjLmk9YS5pO2Mud2l0aENyZWRlbnRpYWxzPWEud2l0aENyZWRlbnRpYWxzO2MuZj1hLmY7Yy5vPWEubztjLmg9YS5oO2Muaj1hLmo7Yy5nPWEuZztjLm09YS5tO2MuYz1hLmM/bmV3IFVpbnQ4QXJyYXkoYS5jLmJ1ZmZlcik6bnVsbDtPYihjLGEuYik7T2IoYyxiLmIpO3JldHVybiBjfWZ1bmN0aW9uIE9iKGEsYil7dmFyIGM9YS5iLmNvbmNhdChiLm1hcChmdW5jdGlvbihhKXtyZXR1cm57aW5pdERhdGE6bmV3IFVpbnQ4QXJyYXkoYS5pbml0RGF0YS5idWZmZXIpLGluaXREYXRhVHlwZTphLmluaXREYXRhVHlwZX19KSk7YS5iPXdhKGMpfQpmdW5jdGlvbiB4YShhLGIpe3JldHVybiBhLmluaXREYXRhVHlwZT09Yi5pbml0RGF0YVR5cGUmJk1hKGEuaW5pdERhdGEsYi5pbml0RGF0YSl9O2Z1bmN0aW9uIFBiKGEsYixjLGQpe3RoaXMud2l0aENyZWRlbnRpYWxzPWM7dGhpcy5hPVtdO2QmJnRoaXMuYS5wdXNoKGQpfXEoInNoYWthLnBsYXllci5Ecm1TY2hlbWVJbmZvIixQYik7UGIuRGlzdGluY3RpdmVJZGVudGlmaWVyPXtPUFRJT05BTDowLFJFUVVJUkVEOjF9O1BiLlBlcnNpc3RlbnRTdGF0ZT17T1BUSU9OQUw6MCxSRVFVSVJFRDoxfTtQYi5jcmVhdGVVbmVuY3J5cHRlZD1mdW5jdGlvbigpe3JldHVybiBuZXcgUGIoMCwwLCExLG51bGwpfTtmdW5jdGlvbiBRYihhKXt0aGlzLnN5c3RlbUlkcz1bXTt0aGlzLmNlbmNLZXlJZHM9W107dGhpcy5hPVtdO2E9bmV3IEJhKG5ldyBEYXRhVmlldyhhLmJ1ZmZlcikpO3RyeXtmb3IoO0RhKGEpOyl7dmFyIGI9YS5hLGM9dihhKSxkPXYoYSk7MT09Yz9jPUZhKGEpOjA9PWMmJihjPWEuYi5ieXRlTGVuZ3RoLWIpO2lmKDE4ODY2MTQzNzYhPWQpSGEoYSxjLShhLmEtYikpO2Vsc2V7dmFyIGU9RWEoYSk7aWYoMTxlKUhhKGEsYy0oYS5hLWIpKTtlbHNle0hhKGEsMyk7dmFyIGY9TGIoR2EoYSkpLGc9W107aWYoMDxlKWZvcih2YXIgaD12KGEpLGs9MDtrPGg7KytrKXt2YXIgbD1MYihHYShhKSk7Zy5wdXNoKGwpfXZhciBtPXYoYSk7SGEoYSxtKTt0aGlzLmNlbmNLZXlJZHMucHVzaC5hcHBseSh0aGlzLmNlbmNLZXlJZHMsZyk7dGhpcy5zeXN0ZW1JZHMucHVzaChmKTt0aGlzLmEucHVzaCh7c3RhcnQ6YixlbmQ6YS5hLTF9KTthLmEhPWIrYyYmSGEoYSxjLShhLmEtYikpfX19fWNhdGNoKHApe319Cjt2YXIgUmI9L14oPzooW146Lz8jLl0rKTopPyg/OlwvXC8oPzooW14vPyNdKilAKT8oW14vIz9dKj8pKD86OihbMC05XSspKT8oPz1bLyM/XXwkKSk/KFtePyNdKyk/KD86XD8oW14jXSopKT8oPzojKC4qKSk/JC87ZnVuY3Rpb24gTChhKXt2YXIgYjthIGluc3RhbmNlb2YgTD8oU2IodGhpcyxhLnphKSx0aGlzLlVhPWEuVWEsdGhpcy5oYT1hLmhhLFRiKHRoaXMsYS5YYSksdGhpcy51YT1hLnVhLFViKHRoaXMsYS5hLmNsb25lKCkpLHRoaXMuTWE9YS5NYSk6YSYmKGI9U3RyaW5nKGEpLm1hdGNoKFJiKSk/KFNiKHRoaXMsYlsxXXx8IiIsITApLHRoaXMuVWE9VmIoYlsyXXx8IiIpLHRoaXMuaGE9VmIoYlszXXx8IiIsITApLFRiKHRoaXMsYls0XSksdGhpcy51YT1WYihiWzVdfHwiIiwhMCksVWIodGhpcyxiWzZdfHwiIiwhMCksdGhpcy5NYT1WYihiWzddfHwiIikpOnRoaXMuYT1uZXcgV2IobnVsbCl9bj1MLnByb3RvdHlwZTtuLnphPSIiO24uVWE9IiI7bi5oYT0iIjtuLlhhPW51bGw7bi51YT0iIjtuLk1hPSIiOwpuLnRvU3RyaW5nPWZ1bmN0aW9uKCl7dmFyIGE9W10sYj10aGlzLnphO2ImJmEucHVzaChYYihiLFliLCEwKSwiOiIpO2lmKGI9dGhpcy5oYSl7YS5wdXNoKCIvLyIpO3ZhciBjPXRoaXMuVWE7YyYmYS5wdXNoKFhiKGMsWWIsITApLCJAIik7YS5wdXNoKGVuY29kZVVSSUNvbXBvbmVudChiKS5yZXBsYWNlKC8lMjUoWzAtOWEtZkEtRl17Mn0pL2csIiUkMSIpKTtiPXRoaXMuWGE7bnVsbCE9YiYmYS5wdXNoKCI6IixTdHJpbmcoYikpfWlmKGI9dGhpcy51YSl0aGlzLmhhJiYiLyIhPWIuY2hhckF0KDApJiZhLnB1c2goIi8iKSxhLnB1c2goWGIoYiwiLyI9PWIuY2hhckF0KDApP1piOiRiLCEwKSk7KGI9dGhpcy5hLnRvU3RyaW5nKCkpJiZhLnB1c2goIj8iLGIpOyhiPXRoaXMuTWEpJiZhLnB1c2goIiMiLFhiKGIsYWMpKTtyZXR1cm4gYS5qb2luKCIiKX07Cm4ucmVzb2x2ZT1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmNsb25lKCk7ImRhdGEiPT09Yi56YSYmKGI9bmV3IEwpO3ZhciBjPSEhYS56YTtjP1NiKGIsYS56YSk6Yz0hIWEuVWE7Yz9iLlVhPWEuVWE6Yz0hIWEuaGE7Yz9iLmhhPWEuaGE6Yz1udWxsIT1hLlhhO3ZhciBkPWEudWE7aWYoYylUYihiLGEuWGEpO2Vsc2UgaWYoYz0hIWEudWEpe2lmKCIvIiE9ZC5jaGFyQXQoMCkpaWYodGhpcy5oYSYmIXRoaXMudWEpZD0iLyIrZDtlbHNle3ZhciBlPWIudWEubGFzdEluZGV4T2YoIi8iKTstMSE9ZSYmKGQ9Yi51YS5zdWJzdHIoMCxlKzEpK2QpfWlmKCIuLiI9PWR8fCIuIj09ZClkPSIiO2Vsc2UgaWYoLTEhPWQuaW5kZXhPZigiLi8iKXx8LTEhPWQuaW5kZXhPZigiLy4iKSl7Zm9yKHZhciBlPTA9PWQubGFzdEluZGV4T2YoIi8iLDApLGQ9ZC5zcGxpdCgiLyIpLGY9W10sZz0wO2c8ZC5sZW5ndGg7KXt2YXIgaD1kW2crK107Ii4iPT1oP2UmJmc9PWQubGVuZ3RoJiZmLnB1c2goIiIpOiIuLiI9PQpoPygoMTxmLmxlbmd0aHx8MT09Zi5sZW5ndGgmJiIiIT1mWzBdKSYmZi5wb3AoKSxlJiZnPT1kLmxlbmd0aCYmZi5wdXNoKCIiKSk6KGYucHVzaChoKSxlPSEwKX1kPWYuam9pbigiLyIpfX1jP2IudWE9ZDpjPSIiIT09YS5hLnRvU3RyaW5nKCk7Yz9VYihiLGEuYS5jbG9uZSgpKTpjPSEhYS5NYTtjJiYoYi5NYT1hLk1hKTtyZXR1cm4gYn07bi5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgTCh0aGlzKX07ZnVuY3Rpb24gU2IoYSxiLGMpe2EuemE9Yz9WYihiLCEwKTpiO2EuemEmJihhLnphPWEuemEucmVwbGFjZSgvOiQvLCIiKSl9ZnVuY3Rpb24gVGIoYSxiKXtpZihiKXtiPU51bWJlcihiKTtpZihpc05hTihiKXx8MD5iKXRocm93IEVycm9yKCJCYWQgcG9ydCBudW1iZXIgIitiKTthLlhhPWJ9ZWxzZSBhLlhhPW51bGx9ZnVuY3Rpb24gVWIoYSxiLGMpe2IgaW5zdGFuY2VvZiBXYj9hLmE9YjooY3x8KGI9WGIoYixiYykpLGEuYT1uZXcgV2IoYikpfQpmdW5jdGlvbiBWYihhLGIpe3JldHVybiBhP2I/ZGVjb2RlVVJJKGEpOmRlY29kZVVSSUNvbXBvbmVudChhKToiIn1mdW5jdGlvbiBYYihhLGIsYyl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBhPyhhPWVuY29kZVVSSShhKS5yZXBsYWNlKGIsY2MpLGMmJihhPWEucmVwbGFjZSgvJTI1KFswLTlhLWZBLUZdezJ9KS9nLCIlJDEiKSksYSk6bnVsbH1mdW5jdGlvbiBjYyhhKXthPWEuY2hhckNvZGVBdCgwKTtyZXR1cm4iJSIrKGE+PjQmMTUpLnRvU3RyaW5nKDE2KSsoYSYxNSkudG9TdHJpbmcoMTYpfXZhciBZYj0vWyNcL1w/QF0vZywkYj0vW1wjXD86XS9nLFpiPS9bXCNcP10vZyxiYz0vW1wjXD9AXS9nLGFjPS8jL2c7ZnVuY3Rpb24gV2IoYSl7dGhpcy5iPWF8fG51bGx9V2IucHJvdG90eXBlLmE9bnVsbDtXYi5wcm90b3R5cGUuYz1udWxsOwpmdW5jdGlvbiBkYyhhLGIsYyl7aWYoIWEuYSYmKGEuYT17fSxhLmM9MCxhLmIpKWZvcih2YXIgZD1hLmIuc3BsaXQoIiYiKSxlPTA7ZTxkLmxlbmd0aDtlKyspe3ZhciBmPWRbZV0uaW5kZXhPZigiPSIpLGc9bnVsbCxoPW51bGw7MDw9Zj8oZz1kW2VdLnN1YnN0cmluZygwLGYpLGg9ZFtlXS5zdWJzdHJpbmcoZisxKSk6Zz1kW2VdO2c9ZGVjb2RlVVJJQ29tcG9uZW50KGcucmVwbGFjZSgvXCsvZywiICIpKTtoPWh8fCIiO2RjKGEsZyxkZWNvZGVVUklDb21wb25lbnQoaC5yZXBsYWNlKC9cKy9nLCIgIikpKX1hLmI9bnVsbDsoZD1hLmEuaGFzT3duUHJvcGVydHkoYikmJmEuYVtiXSl8fChhLmFbYl09ZD1bXSk7ZC5wdXNoKGMpO2EuYysrfQpXYi5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtpZih0aGlzLmIpcmV0dXJuIHRoaXMuYjtpZighdGhpcy5hKXJldHVybiIiO3ZhciBhPVtdLGI7Zm9yKGIgaW4gdGhpcy5hKWZvcih2YXIgYz1lbmNvZGVVUklDb21wb25lbnQoYiksZD10aGlzLmFbYl0sZT0wO2U8ZC5sZW5ndGg7ZSsrKXt2YXIgZj1jOyIiIT09ZFtlXSYmKGYrPSI9IitlbmNvZGVVUklDb21wb25lbnQoZFtlXSkpO2EucHVzaChmKX1yZXR1cm4gdGhpcy5iPWEuam9pbigiJiIpfTtXYi5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgV2I7YS5iPXRoaXMuYjtpZih0aGlzLmEpe3ZhciBiPXt9LGM7Zm9yKGMgaW4gdGhpcy5hKWJbY109dGhpcy5hW2NdLmNvbmNhdCgpO2EuYT1iO2EuYz10aGlzLmN9cmV0dXJuIGF9O2Z1bmN0aW9uIGVjKGEsYixjKXt2YXIgZD1hLmluZGV4T2YoIjw/eG1sIik7MDw9ZCYmKGE9YS5zdWJzdHIoZCkpO2E9KG5ldyBET01QYXJzZXIpLnBhcnNlRnJvbVN0cmluZyhhLCJ0ZXh0L3htbCIpO2lmKCFhKXJldHVybiBudWxsOyJzdHJpbmciPT09dHlwZW9mIGImJihiPVtuZXcgTChiKV0pO2I9Ynx8W25ldyBMKCIiKV07Yz1jfHxbbmV3IEwoIiIpXTtyZXR1cm4gTSh7QWM6YixiYXNlVXJsOmN9LGEsZmMpfXEoInNoYWthLmRhc2gubXBkLnBhcnNlTXBkIixlYyk7CmZ1bmN0aW9uIGZjKCl7dGhpcy5pZD10aGlzLnVybD1udWxsO3RoaXMudHlwZT0ic3RhdGljIjt0aGlzLkZCSXNMaXZlVGVtcGxhdGVkPXRoaXMuRkJXYXNMaXZlPXRoaXMubWFuaWZlc3RJc0xpdmVTdHJlYW1pbmc9ITE7dGhpcy5GQk1hbmlmZXN0SWRlbnRpZmllcj0iIjt0aGlzLkZCTVM9ITE7dGhpcy51PXRoaXMuYmFzZVVybD10aGlzLkFjPW51bGw7dGhpcy5qPXRoaXMuaT10aGlzLmg9MDt0aGlzLmI9bnVsbDt0aGlzLm09NTt0aGlzLmY9dGhpcy5jPXRoaXMuZz1udWxsO3RoaXMubz0xO3RoaXMubGFzdFZpZGVvRnJhbWVUcz10aGlzLmN1cnJlbnRTZXJ2ZXJUaW1lTXM9MDt0aGlzLmE9W119ZnVuY3Rpb24gZ2MoKXt0aGlzLmY9dGhpcy5jPXRoaXMuYj10aGlzLmJhc2VVcmw9dGhpcy5kdXJhdGlvbj10aGlzLnN0YXJ0PXRoaXMuaWQ9bnVsbDt0aGlzLmE9W119CmZ1bmN0aW9uIGhjKCl7dGhpcy5jPXRoaXMuY29kZWNzPXRoaXMubWltZVR5cGU9dGhpcy5oZWlnaHQ9dGhpcy53aWR0aD10aGlzLmNvbnRlbnRUeXBlPXRoaXMubGFuZz10aGlzLmdyb3VwPXRoaXMuaWQ9bnVsbDt0aGlzLmY9ITE7dGhpcy5pPXRoaXMuaD10aGlzLmc9dGhpcy5iYXNlVXJsPW51bGw7dGhpcy5qPVtdO3RoaXMuYT1bXTt0aGlzLmI9bnVsbH1mdW5jdGlvbiBpYygpe3RoaXMudmFsdWU9bnVsbH1mdW5jdGlvbiBqYygpe3RoaXMubGFuZz10aGlzLmE9bnVsbH1mdW5jdGlvbiBrYygpe3RoaXMuY29udGVudFR5cGU9dGhpcy5sYW5nPXRoaXMuaWQ9bnVsbH1mdW5jdGlvbiBsYygpe3RoaXMuZGF0YT1udWxsfWZ1bmN0aW9uIG1jKCl7dGhpcy5kYXRhPW51bGx9CmZ1bmN0aW9uIG5jKCl7dGhpcy5hPXRoaXMuYj10aGlzLmY9dGhpcy5pPXRoaXMuYmFzZVVybD10aGlzLmo9dGhpcy5mcmFtZVJhdGU9dGhpcy51PXRoaXMubz10aGlzLm09dGhpcy5mYlF1YWxpdHlDbGFzcz10aGlzLmZiUXVhbGl0eUxhYmVsPXRoaXMuaD10aGlzLmc9dGhpcy5jb2RlY3M9dGhpcy5taW1lVHlwZT10aGlzLmhlaWdodD10aGlzLndpZHRoPXRoaXMuYmFuZHdpZHRoPXRoaXMubGFuZz10aGlzLmlkPW51bGw7dGhpcy5jPVtdfWZ1bmN0aW9uIG9jKCl7dGhpcy52YWx1ZT10aGlzLmE9bnVsbH1vYy5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgb2M7YS5hPXRoaXMuYTthLnZhbHVlPXRoaXMudmFsdWU7cmV0dXJuIGF9O29jLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMuYT1OKGIsInNjaGVtZUlkVXJpIixPLHRoaXMuYSk7dGhpcy52YWx1ZT1OKGIsInZhbHVlIixPLHRoaXMudmFsdWUpfTsKZnVuY3Rpb24gcGMoKXt0aGlzLmI9dGhpcy5hPXRoaXMuZj10aGlzLmM9bnVsbH1mdW5jdGlvbiBxYygpe3RoaXMucGFyc2VkUHNzaD10aGlzLnBzc2hCb3g9bnVsbH1mdW5jdGlvbiByYygpe3RoaXMudXJsPW51bGx9ZnVuY3Rpb24gc2MoKXt0aGlzLnVybD1udWxsfWZ1bmN0aW9uIHRjKCl7dGhpcy5iYXNlVXJsPW51bGw7dGhpcy5zPTE7dGhpcy5jPXRoaXMuYj10aGlzLmY9dGhpcy5hPXRoaXMuTD1udWxsfXRjLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyB0YzthLmJhc2VVcmw9dWModGhpcy5iYXNlVXJsKTthLnM9dGhpcy5zO2EuTD10aGlzLkw7YS5hPXZjKHRoaXMuYSk7YS5mPXZjKHRoaXMuZik7YS5iPXZjKHRoaXMuYik7YS5jPXZjKHRoaXMuYyk7cmV0dXJuIGF9O2Z1bmN0aW9uIHdjKCl7dGhpcy5hPXRoaXMudXJsPW51bGx9CndjLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyB3YzthLnVybD11Yyh0aGlzLnVybCk7YS5hPXZjKHRoaXMuYSk7cmV0dXJuIGF9O2Z1bmN0aW9uIHhjKCl7dGhpcy5hPXRoaXMudXJsPW51bGx9eGMucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IHhjO2EudXJsPXVjKHRoaXMudXJsKTthLmE9dmModGhpcy5hKTtyZXR1cm4gYX07ZnVuY3Rpb24geWMoKXt0aGlzLmJhc2VVcmw9bnVsbDt0aGlzLnM9MTt0aGlzLkg9dGhpcy5MPW51bGw7dGhpcy5jPTA7dGhpcy5iPW51bGw7dGhpcy5hPVtdO3RoaXMuQz1udWxsfXljLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyB5YzthLmJhc2VVcmw9dWModGhpcy5iYXNlVXJsKTthLnM9dGhpcy5zO2EuTD10aGlzLkw7YS5IPXRoaXMuSDthLmM9dGhpcy5jO2EuYj12Yyh0aGlzLmIpO2EuYT11Yyh0aGlzLmEpfHxbXTthLkM9dmModGhpcy5DKTtyZXR1cm4gYX07CmZ1bmN0aW9uIHpjKCl7dGhpcy5hPXRoaXMuYj1udWxsfXpjLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyB6YzthLmI9dWModGhpcy5iKTthLmE9dmModGhpcy5hKTtyZXR1cm4gYX07ZnVuY3Rpb24gQWMoKXt0aGlzLnM9MTt0aGlzLkg9dGhpcy5MPW51bGw7dGhpcy5iPTA7dGhpcy5DPXRoaXMuYz10aGlzLmE9dGhpcy5mPW51bGx9QWMucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IEFjO2Eucz10aGlzLnM7YS5MPXRoaXMuTDthLkg9dGhpcy5IO2EuYj10aGlzLmI7YS5mPXRoaXMuZjthLmE9dGhpcy5hO2EuYz10aGlzLmM7YS5DPXZjKHRoaXMuQyk7cmV0dXJuIGF9O2Z1bmN0aW9uIEJjKCl7dGhpcy5iPXRoaXMuYT1udWxsO3RoaXMuTj1bXX1CYy5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgQmM7YS5hPXRoaXMuYTthLmI9dGhpcy5iO2EuTj11Yyh0aGlzLk4pfHxbXTtyZXR1cm4gYX07CmZ1bmN0aW9uIENjKCl7dGhpcy5zdGFydFNlZ21lbnRJbmRleD10aGlzLnJlcGVhdD10aGlzLmR1cmF0aW9uPXRoaXMuc3RhcnRUaW1lPW51bGx9Q2MucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IENjO2Euc3RhcnRUaW1lPXRoaXMuc3RhcnRUaW1lO2EuZHVyYXRpb249dGhpcy5kdXJhdGlvbjthLnJlcGVhdD10aGlzLnJlcGVhdDtyZXR1cm4gYX07ZnVuY3Rpb24gRGMoYSxiKXt0aGlzLnFhPWE7dGhpcy5lbmQ9Yn1EYy5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IERjKHRoaXMucWEsdGhpcy5lbmQpfTtmYy5UQUdfTkFNRT0iTVBEIjtnYy5UQUdfTkFNRT0iUGVyaW9kIjtoYy5UQUdfTkFNRT0iQWRhcHRhdGlvblNldCI7aWMuVEFHX05BTUU9IlJvbGUiO2pjLlRBR19OQU1FPSJBY2Nlc3NpYmlsaXR5IjtrYy5UQUdfTkFNRT0iQ29udGVudENvbXBvbmVudCI7bmMuVEFHX05BTUU9IlJlcHJlc2VudGF0aW9uIjtwYy5UQUdfTkFNRT0iQ29udGVudFByb3RlY3Rpb24iOwpxYy5UQUdfTkFNRT0iY2VuYzpwc3NoIjtyYy5UQUdfTkFNRT0iQmFzZVVSTCI7b2MuVEFHX05BTUU9IkF1ZGlvQ2hhbm5lbENvbmZpZ3VyYXRpb24iO3NjLlRBR19OQU1FPSJMb2NhdGlvbiI7dGMuVEFHX05BTUU9IlNlZ21lbnRCYXNlIjt3Yy5UQUdfTkFNRT0iUmVwcmVzZW50YXRpb25JbmRleCI7bGMuVEFHX05BTUU9IkZCSW5pdGlhbGl6YXRpb25CaW5hcnkiO21jLlRBR19OQU1FPSJGQlNlZ21lbnRJbmRleEJpbmFyeSI7eGMuVEFHX05BTUU9IkluaXRpYWxpemF0aW9uIjt5Yy5UQUdfTkFNRT0iU2VnbWVudExpc3QiO3pjLlRBR19OQU1FPSJTZWdtZW50VVJMIjtBYy5UQUdfTkFNRT0iU2VnbWVudFRlbXBsYXRlIjtCYy5UQUdfTkFNRT0iU2VnbWVudFRpbWVsaW5lIjtDYy5UQUdfTkFNRT0iUyI7CmZjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMudXJsPWEuQWM7dGhpcy5pZD1OKGIsImlkIixPKTt0aGlzLnR5cGU9TihiLCJ0eXBlIixPKXx8InN0YXRpYyI7dGhpcy5tYW5pZmVzdElzTGl2ZVN0cmVhbWluZz0iZHluYW1pYyI9PT10aGlzLnR5cGU7dGhpcy5GQldhc0xpdmU9TihiLCJGQldhc0xpdmUiLEVjKXx8ITE7dGhpcy5GQklzTGl2ZVRlbXBsYXRlZD1OKGIsIkZCSXNMaXZlVGVtcGxhdGVkIixFYyl8fCExO3RoaXMuRkJNYW5pZmVzdElkZW50aWZpZXI9TihiLCJGQk1hbmlmZXN0SWRlbnRpZmllciIsTyl8fCIiO3RoaXMuRkJNUz1OKGIsIkZCTVMiLEVjKXx8ITE7VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJvdmVycmlkZV9mYl9pc19saXZlX3RlbXBsYXRlZCIsITEpJiYodGhpcy5GQklzTGl2ZVRlbXBsYXRlZD0hMSk7dGhpcy5iPU4oYiwibWVkaWFQcmVzZW50YXRpb25EdXJhdGlvbiIsRmMpO3RoaXMubT1OKGIsIm1pbkJ1ZmZlclRpbWUiLApGYyx0aGlzLm0pO3RoaXMuZz1OKGIsIm1pbmltdW1VcGRhdGVQZXJpb2QiLEZjLHRoaXMuZyk7dGhpcy5jPU4oYiwiYXZhaWxhYmlsaXR5U3RhcnRUaW1lIixHYyx0aGlzLmMpO3RoaXMuZj1OKGIsInRpbWVTaGlmdEJ1ZmZlckRlcHRoIixGYyx0aGlzLmYpO3RoaXMuY3VycmVudFNlcnZlclRpbWVNcz1OKGIsImN1cnJlbnRTZXJ2ZXJUaW1lTXMiLFApO04oYiwiZmlyc3RBdlRpbWVNcyIsUCk7dGhpcy5sYXN0VmlkZW9GcmFtZVRzPU4oYiwibGFzdFZpZGVvRnJhbWVUcyIsUCk7dGhpcy5mPW51bGw7dGhpcy5vPU4oYiwic3VnZ2VzdGVkUHJlc2VudGF0aW9uRGVsYXkiLEZjLHRoaXMubyk7dGhpcy5oPU4oYiwibG9hcFN0cmVhbVR5cGUiLEhjLHRoaXMuaCk7dGhpcy5pPU4oYiwidXNpbmdBU1JDYXB0aW9ucyIsSGMsdGhpcy5pKTt0aGlzLmo9TihiLCJpc1VzaW5nQXNyQ2FwdGlvbnNFbXBsb3llZURvZ2Zvb2RpbmciLEhjLHRoaXMuaik7dmFyIGM9YS5iYXNlVXJsLGQ9SWModGhpcywKYixyYyk7dGhpcy5iYXNlVXJsPUpjKGMsZCk7aWYoZD1NKHRoaXMsYixzYykpdGhpcy51PUtjKGMsZC51cmwpO3RoaXMuYT1JYyh0aGlzLGIsZ2MpfTtmdW5jdGlvbiBMYyhhLGIsYyxkKXtpZigwIT09YS5hLmxlbmd0aCl7dmFyIGU9bmV3IGhjO2UuY29udGVudFR5cGU9InRleHQiO2UubGFuZz1jfHwiZW4iO2UuZj0hMDtjPW5ldyBuYztjLmJhbmR3aWR0aD0wO2MubWltZVR5cGU9ZHx8InRleHQvdnR0IjtjLmJhc2VVcmw9W25ldyBMKGIpXTtlLmEucHVzaChjKTthLmFbMF0uYS5wdXNoKGUpO01jKGEuYVswXSl9fQpnYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt0aGlzLmlkPU4oYiwiaWQiLE8pO3RoaXMuc3RhcnQ9TihiLCJzdGFydCIsRmMpO3RoaXMuZHVyYXRpb249TihiLCJkdXJhdGlvbiIsRmMpO3ZhciBjPUljKHRoaXMsYixyYyk7dGhpcy5iYXNlVXJsPUpjKGEuYmFzZVVybCxjKTt0aGlzLmI9TSh0aGlzLGIsdGMpO3RoaXMuYz1NKHRoaXMsYix5Yyk7dGhpcy5mPU0odGhpcyxiLEFjKTt0aGlzLmE9SWModGhpcyxiLGhjKTtNYyh0aGlzKX07ZnVuY3Rpb24gTWMoYSl7Zm9yKHZhciBiPVtdLGM9MDtjPGEuYS5sZW5ndGg7KytjKXt2YXIgZD1hLmFbY107bnVsbCE9ZC5ncm91cCYmKGJbZC5ncm91cF09ITApfWZvcihjPTA7YzxhLmEubGVuZ3RoOysrYylpZihkPWEuYVtjXSxudWxsPT1kLmdyb3VwKXtmb3IodmFyIGU9MTsxPT1iW2VdOykrK2U7YltlXT0hMDtkLmdyb3VwPWV9fQpoYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt2YXIgYz1NKHRoaXMsYixrYyl8fHt9LGQ9TSh0aGlzLGIsaWMpO3RoaXMuaWQ9TihiLCJpZCIsTyk7dGhpcy5ncm91cD1OKGIsImdyb3VwIixQKTt0aGlzLmxhbmc9TihiLCJsYW5nIixPLGMubGFuZyk7dGhpcy5jb250ZW50VHlwZT1OKGIsImNvbnRlbnRUeXBlIixPLGMuY29udGVudFR5cGUpO3RoaXMud2lkdGg9TihiLCJ3aWR0aCIsUSk7dGhpcy5oZWlnaHQ9TihiLCJoZWlnaHQiLFEpO3RoaXMubWltZVR5cGU9TihiLCJtaW1lVHlwZSIsTyk7dGhpcy5jb2RlY3M9TihiLCJjb2RlY3MiLE8pO3RoaXMuYz1OKGIsIkZCUHJvamVjdGlvbiIsTyk7dGhpcy5mPWQmJiJtYWluIj09ZC52YWx1ZTt0aGlzLmxhbmcmJih0aGlzLmxhbmc9U2EodGhpcy5sYW5nKSk7Yz1JYyh0aGlzLGIscmMpO3RoaXMuYmFzZVVybD1KYyhhLmJhc2VVcmwsYyk7dGhpcy5qPUljKHRoaXMsYixwYyk7IXRoaXMuY29udGVudFR5cGUmJnRoaXMubWltZVR5cGUmJgoodGhpcy5jb250ZW50VHlwZT10aGlzLm1pbWVUeXBlLnNwbGl0KCIvIilbMF0pO3RoaXMuZz1hLmI/T2ModGhpcyxiLGEuYik6TSh0aGlzLGIsdGMpO3RoaXMuaD1hLmM/T2ModGhpcyxiLGEuYyk6TSh0aGlzLGIseWMpO3RoaXMuaT1hLmY/T2ModGhpcyxiLGEuZik6TSh0aGlzLGIsQWMpO3RoaXMuYT1JYyh0aGlzLGIsbmMpO3RoaXMuYj1NKHRoaXMsYixqYyk7IXRoaXMubWltZVR5cGUmJnRoaXMuYS5sZW5ndGgmJih0aGlzLm1pbWVUeXBlPXRoaXMuYVswXS5taW1lVHlwZSwhdGhpcy5jb250ZW50VHlwZSYmdGhpcy5taW1lVHlwZSYmKHRoaXMuY29udGVudFR5cGU9dGhpcy5taW1lVHlwZS5zcGxpdCgiLyIpWzBdKSl9O2ljLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMudmFsdWU9TihiLCJ2YWx1ZSIsTyl9O2pjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMuYT1OKGIsInNjaGVtZUlkVXJpIixPKTt0aGlzLmxhbmc9TihiLCJsYW5nIixPKX07CmtjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMuaWQ9TihiLCJpZCIsTyk7dGhpcy5sYW5nPU4oYiwibGFuZyIsTyk7dGhpcy5jb250ZW50VHlwZT1OKGIsImNvbnRlbnRUeXBlIixPKTt0aGlzLmxhbmcmJih0aGlzLmxhbmc9U2EodGhpcy5sYW5nKSl9OwpuYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt0aGlzLmlkPU4oYiwiaWQiLE8pO3RoaXMuYmFuZHdpZHRoPU4oYiwiYmFuZHdpZHRoIixRKTt0aGlzLndpZHRoPU4oYiwid2lkdGgiLFEsYS53aWR0aCk7dGhpcy5oZWlnaHQ9TihiLCJoZWlnaHQiLFEsYS5oZWlnaHQpO3RoaXMubWltZVR5cGU9TihiLCJtaW1lVHlwZSIsTyxhLm1pbWVUeXBlKTt0aGlzLmNvZGVjcz1OKGIsImNvZGVjcyIsTyxhLmNvZGVjcyk7dGhpcy5mYlF1YWxpdHlMYWJlbD1OKGIsIkZCUXVhbGl0eUxhYmVsIixPKTt0aGlzLmZiUXVhbGl0eUNsYXNzPU4oYiwiRkJRdWFsaXR5Q2xhc3MiLE8pO3RoaXMubT1OKGIsIkZCQWJyUG9saWN5VGFncyIsTyk7VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJtcGRfcGFyc2VfbW9zX2F0dHJpYnV0ZXMiLCExKSYmKHRoaXMubz1OKGIsIkZCUGxheWJhY2tSZXNvbHV0aW9uTW9zIixNb3NVdGlscy5wYXJzZVBsYXliYWNrTW9zKSx0aGlzLnU9TihiLAoiRkJQbGF5YmFja1Jlc29sdXRpb25Nb3NDb25maWRlbmNlTGV2ZWwiLE8pKTtWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woIm1wZF9wYXJzZV9mcmFtZV9hbmRfYXVkaW9fc2FtcGxpbmdfcmF0ZSIsITEpJiYodGhpcy5mcmFtZVJhdGU9TihiLCJmcmFtZVJhdGUiLE8pLHRoaXMuaj1OKGIsImF1ZGlvU2FtcGxpbmdSYXRlIixRKSk7dGhpcy5sYW5nPWEubGFuZzt2YXIgYz1JYyh0aGlzLGIscmMpO3RoaXMuYmFzZVVybD1KYyhhLmJhc2VVcmwsYyk7VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJhZGRfaW5saW5lX2luaXRpYWxpemF0aW9uX3Jlc291cmNlcyIsITEpJiYodGhpcy5nPU0odGhpcyxiLGxjKSx0aGlzLmg9TSh0aGlzLGIsbWMpKTt0aGlzLmM9SWModGhpcyxiLHBjKTt0aGlzLmk9TSh0aGlzLGIsb2MpO3RoaXMuZj1hLmc/T2ModGhpcyxiLGEuZyk6TSh0aGlzLGIsdGMpO3RoaXMuYj1hLmg/T2ModGhpcyxiLGEuaCk6TSh0aGlzLGIsCnljKTt0aGlzLmE9YS5pP09jKHRoaXMsYixhLmkpOk0odGhpcyxiLEFjKTt0aGlzLmM9dGhpcy5jLmNvbmNhdChhLmopfTtsYy5wcm90b3R5cGUucGFyc2U9bWMucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7aWYoYiYmYi5maXJzdENoaWxkKXt2YXIgYz1QYyhiKTtudWxsIT1jJiYodGhpcy5kYXRhPUtiKGMpLmJ1ZmZlcil9fTtwYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt0aGlzLmM9Yjt0aGlzLmY9TihiLCJzY2hlbWVJZFVyaSIsTyk7dmFyIGM9TihiLCJjZW5jOmRlZmF1bHRfS0lEIixPKTtjJiYodGhpcy5iPWMucmVwbGFjZSgvWy1dL2csIiIpKTt0aGlzLmE9TSh0aGlzLGIscWMpfTsKcWMucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dmFyIGM9UGMoYik7aWYoYyl7dGhpcy5wc3NoQm94PUtiKGMpO3RyeXt0aGlzLnBhcnNlZFBzc2g9bmV3IFFiKHRoaXMucHNzaEJveCl9Y2F0Y2goZCl7aWYoIShkIGluc3RhbmNlb2YgUmFuZ2VFcnJvcikpdGhyb3cgZDt9fX07cmMucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dmFyIGM9Yi5jaGlsZE5vZGVzLGQ9IiI7aWYoMT09Yy5sZW5ndGgpZD1QYyhiKTtlbHNlIGZvcih2YXIgZT0wO2U8Yy5sZW5ndGg7ZSsrKWNbZV0ubm9kZVR5cGU9PU5vZGUuVEVYVF9OT0RFJiYoZCs9Y1tlXS5ub2RlVmFsdWUpO3RoaXMudXJsPWR9O3NjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMudXJsPVBjKGIpfTsKdGMucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dGhpcy5iYXNlVXJsPWEuYmFzZVVybHx8dGhpcy5iYXNlVXJsO3RoaXMucz1OKGIsInRpbWVzY2FsZSIsUSx0aGlzLnMpO3RoaXMuTD1OKGIsInByZXNlbnRhdGlvblRpbWVPZmZzZXQiLFAsdGhpcy5MKTt0aGlzLmE9TihiLCJpbmRleFJhbmdlIixRYyx0aGlzLmEpO3RoaXMuZj1OKGIsIkZCRmlyc3RTZWdtZW50UmFuZ2UiLFFjLHRoaXMuZik7dGhpcy5iPU0odGhpcyxiLHdjKXx8dGhpcy5iO3RoaXMuYz1NKHRoaXMsYix4Yyl8fHRoaXMuY307d2MucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dmFyIGM9TihiLCJzb3VyY2VVUkwiLE8pO3RoaXMudXJsPUtjKGEuYmFzZVVybCxjKTt0aGlzLmE9TihiLCJyYW5nZSIsUWMsdmMoYS5hKSl9Owp4Yy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt2YXIgYz1OKGIsInNvdXJjZVVSTCIsTyk7dGhpcy51cmw9S2MoYS5iYXNlVXJsLGMpO3RoaXMuYT1OKGIsInJhbmdlIixRYyl9Owp5Yy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt0aGlzLmJhc2VVcmw9YS5iYXNlVXJsfHx0aGlzLmJhc2VVcmw7dGhpcy5zPU4oYiwidGltZXNjYWxlIixRLHRoaXMucyk7dGhpcy5MPU4oYiwicHJlc2VudGF0aW9uVGltZU9mZnNldCIsUCx0aGlzLkwpO3RoaXMuSD1OKGIsImR1cmF0aW9uIixRLHRoaXMuSCk7dmFyIGM9TihiLCJzdGFydE51bWJlciIsUSk7bnVsbCE9YyYmKHRoaXMuYz1jKTt0aGlzLmI9TSh0aGlzLGIseGMpfHx0aGlzLmI7dGhpcy5hPShjPUljKHRoaXMsYix6YykpJiYwPGMubGVuZ3RoP2M6dGhpcy5hO3RoaXMuQz1NKHRoaXMsYixCYyl8fHRoaXMuQztWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImNhbGN1bGF0ZV9xdWlja19kYXNoX3ByZXNlbnRhdGlvbl90aW1lX29mZnNldF9mcm9tX3RpbWVsaW5lIiwhMSkmJihjPVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJjYWxjdWxhdGVfcXVpY2tfZGFzaF9wcmVzZW50YXRpb25fdGltZV9vZmZzZXRfZXBzaWxvbl9tcyIsCjI1MCksdGhpcy5DJiZ0aGlzLkMuTlswXSYmKHRoaXMuTD0xRTM8dGhpcy5DLk5bMF0uc3RhcnRUaW1lP3RoaXMuQy5OWzBdLnN0YXJ0VGltZS1jOnRoaXMuTCkpfTt6Yy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt2YXIgYz1OKGIsIm1lZGlhIixPKTt0aGlzLmI9S2MoYS5iYXNlVXJsLGMpO3RoaXMuYT1OKGIsIm1lZGlhUmFuZ2UiLFFjKX07CkFjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMucz1OKGIsInRpbWVzY2FsZSIsUSx0aGlzLnMpO3RoaXMuTD1OKGIsInByZXNlbnRhdGlvblRpbWVPZmZzZXQiLFAsdGhpcy5MKTt0aGlzLkg9TihiLCJkdXJhdGlvbiIsUSx0aGlzLkgpO3ZhciBjPU4oYiwic3RhcnROdW1iZXIiLFApO251bGwhPWMmJih0aGlzLmI9Yyk7dGhpcy5mPU4oYiwibWVkaWEiLE8sdGhpcy5mKTt0aGlzLmE9TihiLCJpbmRleCIsTyx0aGlzLmEpO3RoaXMuYz1OKGIsImluaXRpYWxpemF0aW9uIixPLHRoaXMuYyk7dGhpcy5DPU0odGhpcyxiLEJjKXx8dGhpcy5DfTtCYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt0aGlzLmE9TihiLCJGQlByZWRpY3RlZE1lZGlhIixPLHRoaXMuYSk7dGhpcy5iPU4oYiwiRkJQcmVkaWN0ZWRNZWRpYUVuZE51bWJlciIsUSk7dGhpcy5OPUljKHRoaXMsYixDYyl9OwpDYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt0aGlzLnN0YXJ0VGltZT1OKGIsInQiLFApO3RoaXMuZHVyYXRpb249TihiLCJkIixQKTt0aGlzLnJlcGVhdD1OKGIsInIiLEhjKX07ZnVuY3Rpb24gSmMoYSxiKXtpZighYnx8MD09PWIubGVuZ3RoKXJldHVybiBhO2Zvcih2YXIgYz1bXSxkPTA7ZDxiLmxlbmd0aDtkKyspe3ZhciBlPWJbZF0udXJsO251bGw9PWF8fDA9PT1hLmxlbmd0aD9jLnB1c2gobmV3IEwoZSkpOihlPUtjKGEuc2xpY2UoMCwxKSxlKSxjLnB1c2goZVswXSkpfXJldHVybiBjfWZ1bmN0aW9uIEtjKGEsYil7aWYoIWIpcmV0dXJuIGE7dmFyIGM9bmV3IEwoYik7cmV0dXJuIGE/YS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVzb2x2ZShjKX0pOltjXX1mdW5jdGlvbiBPYyhhLGIsYyl7dmFyIGQ9dmMoYyk7KGI9UmMoYixjLmNvbnN0cnVjdG9yLlRBR19OQU1FKSkmJmQucGFyc2UoYSxiKTtyZXR1cm4gZH0KZnVuY3Rpb24gTShhLGIsYyl7dmFyIGQ9bnVsbDtpZihiPVJjKGIsYy5UQUdfTkFNRSkpZD1uZXcgYyxkLnBhcnNlKGEsYik7cmV0dXJuIGR9ZnVuY3Rpb24gUmMoYSxiKXtmb3IodmFyIGM9bnVsbCxkPTA7ZDxhLmNoaWxkTm9kZXMubGVuZ3RoO2QrKylpZihhLmNoaWxkTm9kZXNbZF0udGFnTmFtZT09Yil7aWYoYylyZXR1cm4gbnVsbDtjPWEuY2hpbGROb2Rlc1tkXX1yZXR1cm4gY31mdW5jdGlvbiBJYyhhLGIsYyl7Zm9yKHZhciBkPVtdLGU9MDtlPGIuY2hpbGROb2Rlcy5sZW5ndGg7ZSsrKWlmKGIuY2hpbGROb2Rlc1tlXS50YWdOYW1lPT1jLlRBR19OQU1FKXt2YXIgZj1uZXcgYztmLnBhcnNlLmNhbGwoZixhLGIuY2hpbGROb2Rlc1tlXSk7ZC5wdXNoKGYpfXJldHVybiBkfWZ1bmN0aW9uIFBjKGEpe2E9YS5maXJzdENoaWxkO3JldHVybiBhLm5vZGVUeXBlIT1Ob2RlLlRFWFRfTk9ERT9udWxsOmEubm9kZVZhbHVlfQpmdW5jdGlvbiB1YyhhKXtyZXR1cm4gYT9hLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS5jbG9uZSgpfSk6bnVsbH1mdW5jdGlvbiB2YyhhKXtyZXR1cm4gYT9hLmNsb25lKCk6bnVsbH1mdW5jdGlvbiBOKGEsYixjLGQpe2E9YS5oYXNBdHRyaWJ1dGUoYik/YyhhLmdldEF0dHJpYnV0ZShiKSk6bnVsbDtyZXR1cm4gbnVsbCE9YT9hOnZvaWQgMCE9PWQ/ZDpudWxsfWZ1bmN0aW9uIEdjKGEpe2lmKCFhKXJldHVybiBudWxsO2E9RGF0ZS5wYXJzZShhKTtyZXR1cm4gaXNOYU4oYSk/bnVsbDpNYXRoLmZsb29yKGEvMUUzKX0KZnVuY3Rpb24gRmMoYSl7aWYoIWEpcmV0dXJuIG51bGw7dmFyIGI9L15QKD86KFswLTldKilZKT8oPzooWzAtOV0qKU0pPyg/OihbMC05XSopRCk/KD86VCg/OihbMC05XSopSCk/KD86KFswLTldKilNKT8oPzooWzAtOS5dKilTKT8pPyQvLmV4ZWMoYSk7aWYoIWIpcmV0dXJuIG51bGw7YT0wO3ZhciBjPVAoYlsxXSk7YyYmKGErPTMxNTM2RTMqYyk7KGM9UChiWzJdKSkmJihhKz0yNTkyRTMqYyk7KGM9UChiWzNdKSkmJihhKz04NjQwMCpjKTsoYz1QKGJbNF0pKSYmKGErPTM2MDAqYyk7KGM9UChiWzVdKSkmJihhKz02MCpjKTtiPXdpbmRvdy5wYXJzZUZsb2F0KGJbNl0pOyhiPWlzTmFOKGIpP251bGw6YikmJihhKz1iKTtyZXR1cm4gYX0KZnVuY3Rpb24gUWMoYSl7dmFyIGI9LyhbMC05XSspLShbMC05XSspLy5leGVjKGEpO2lmKCFiKXJldHVybiBudWxsO2E9UChiWzFdKTtpZihudWxsPT1hKXJldHVybiBudWxsO2I9UChiWzJdKTtyZXR1cm4gbnVsbD09Yj9udWxsOm5ldyBEYyhhLGIpfWZ1bmN0aW9uIEhjKGEpe2E9d2luZG93LnBhcnNlSW50KGEsMTApO3JldHVybiBpc05hTihhKT9udWxsOmF9ZnVuY3Rpb24gUShhKXthPXdpbmRvdy5wYXJzZUludChhLDEwKTtyZXR1cm4gMDxhP2E6bnVsbH1mdW5jdGlvbiBQKGEpe2E9d2luZG93LnBhcnNlSW50KGEsMTApO3JldHVybiAwPD1hP2E6bnVsbH1mdW5jdGlvbiBFYyhhKXtzd2l0Y2goYS50b0xvd2VyQ2FzZSgpKXtjYXNlICJ0cnVlIjpyZXR1cm4hMDtjYXNlICJmYWxzZSI6cmV0dXJuITE7ZGVmYXVsdDpyZXR1cm4gbnVsbH19ZnVuY3Rpb24gTyhhKXtyZXR1cm4gYX07ZnVuY3Rpb24gU2MoYSxiKXt0aGlzLnVybD1hO3RoaXMuYj1ifHxuZXcgdGI7dGhpcy5qPTA7dGhpcy5nPS0xO3RoaXMuaD10aGlzLmk9MDt0aGlzLmE9bnVsbDt0aGlzLmM9bmV3IEk7dGhpcy5mPW51bGw7dGhpcy5vPXRoaXMuYi5pO3RoaXMubD10aGlzLmIubX1xKCJzaGFrYS51dGlsLkFqYXhSZXF1ZXN0IixTYyk7CmZ1bmN0aW9uIHRiKCl7dGhpcy5ib2R5PW51bGw7dGhpcy5OYT0xO3RoaXMuYz0xRTM7dGhpcy5iPTA7dGhpcy5tZXRob2Q9IkdFVCI7dGhpcy5yZXNwb25zZVR5cGU9ImFycmF5YnVmZmVyIjt0aGlzLlFhPXt9O3RoaXMuZz10aGlzLndpdGhDcmVkZW50aWFscz0hMTt0aGlzLmRhPXRoaXMuYT10aGlzLnU9bnVsbDt0aGlzLmo9ITE7dGhpcy5oPXRoaXMubT10aGlzLmk9dGhpcy5taW1lVHlwZT1udWxsO3RoaXMubz0hMTt0aGlzLnc9LyguKilcLih4eHxmbmEpXC5mYmNkblwubmV0Lzt0aGlzLmY9L2xpdmVzdHJlYW0tbG9va2FzaWRlXC4oZmFjZWJvb2t8d29ya3BsYWNlKVwuY29tJC99dmFyIFRjPSEwO2Z1bmN0aW9uIFVjKGEpe1ZjKGEpO1djKGEpO2EuYi5ib2R5PW51bGw7YS5jLmRlc3Ryb3koKTthLmM9bnVsbDthLmY9bnVsbH0KZnVuY3Rpb24gV2MoYSl7YS5hJiYoYS5hLm9ubG9hZD1udWxsLGEuYS5vbnJlYWR5c3RhdGVjaGFuZ2U9bnVsbCxhLmEub25lcnJvcj1udWxsLGEuYS5vbnRpbWVvdXQ9bnVsbCk7YS5hPW51bGx9ZnVuY3Rpb24gVmMoYSl7LTEhPT1hLmcmJihjbGVhclRpbWVvdXQoYS5nKSxhLmc9LTEpfQpTYy5wcm90b3R5cGUubT1mdW5jdGlvbigpe2lmKHRoaXMuYSlyZXR1cm4gdGhpcy5jO2lmKDA9PXRoaXMudXJsLmxhc3RJbmRleE9mKCJkYXRhOiIsMCkpe3ZhciBhPXRoaXMudXJsLnNwbGl0KCI6IilbMV0uc3BsaXQoIjsiKS5wb3AoKS5zcGxpdCgiLCIpLGI9YS5wb3AoKSxiPSJiYXNlNjQiPT1hLnBvcCgpP3dpbmRvdy5hdG9iKGIucmVwbGFjZSgvLS9nLCIrIikucmVwbGFjZSgvXy9nLCIvIikpOndpbmRvdy5kZWNvZGVVUklDb21wb25lbnQoYik7ImFycmF5YnVmZmVyIj09dGhpcy5iLnJlc3BvbnNlVHlwZSYmKGI9SmIoYikuYnVmZmVyKTthPUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkobmV3IFhNTEh0dHBSZXF1ZXN0KSk7YS5yZXNwb25zZT1iO2EucmVzcG9uc2VUZXh0PWIudG9TdHJpbmcoKTtiPXRoaXMuYztiLnJlc29sdmUoYSk7VWModGhpcyk7cmV0dXJuIGJ9aWYoMD09dGhpcy51cmwubGFzdEluZGV4T2YoImlkYjoiLDApKXJldHVybiB0aGlzLnUoKTt0aGlzLmorKzsKdGhpcy5pPXBlcmZvcm1hbmNlTm93KCk7dGhpcy5ofHwodGhpcy5oPXRoaXMuYi5jKTt0aGlzLmE9bmV3IFhNTEh0dHBSZXF1ZXN0O3ZhciBjPXRoaXMudXJsLGE9bmV3IEwoYyk7VGMmJih0aGlzLmYmJiF0aGlzLmYuc3VwcG9ydHNDYWNoaW5nKCl8fHRoaXMuYi5nKSYmZGMoYS5hLCJfIixEYXRlLm5vdygpKTtjPXRoaXMuYi53LnRlc3QoYyk7aWYobnVsbCE9dGhpcy5iLmEmJmMpe3ZhciBkPXRoaXMuYi5hLGU9YS5hO251bGwhPWQuYSYmKGQuaD1kLmEuZ2V0U2VnbWVudHNUb1B1c2goKSxkLmY9ZC5hLmdldFNlZ21lbnRTdGFydFRpbWUoKSxkLmc9ZC5hLmdldFNlZ21lbnRPZmZzZXQoKSxkLmM9ZC5hLmdldFB1c2hWaWRlb1JlcHJlc2VudGF0aW9uSUQoKSxkLmI9ZC5hLmdldFB1c2hBdWRpb1JlcHJlc2VudGF0aW9uSUQoKSxkLmo9ZC5hLmdldFVzZUxvbmdDYWNoZUZvck1hbmlmZXN0KCkpO251bGwhPWQuaCYmZGMoZSwiX25jX3BfbiIsZC5oKTtudWxsIT1kLmY/ZGMoZSwiX25jX3BfdHMiLApkLmYpOm51bGwhPWQuZyYmZGMoZSwiX25jX3BfbyIsZC5nKTtudWxsIT1kLmMmJm51bGwhPWQuYiYmKGRjKGUsIl9uY19wX3JpZCIsZC5jKSxkYyhlLCJfbmNfcF9hcmlkIixkLmIpKTtkLmkmJmRjKGUsIl9uY19wX2RiZyIsIjEiKTtkLmomJmRjKGUsIl9uY19uYyIsIjEiKX0xPT10aGlzLmIuaiYmYyYmZGMoYS5hLCJfbmNfcGxheWluZyIsMSk7dGhpcy5iLm8mJmRjKGEuYSwiX25jX3NjIiwxKTtjPWEudG9TdHJpbmcoKTthPXRoaXMuYi5mLnRlc3QoYS5oYSk7dGhpcy5hLm9wZW4odGhpcy5iLm1ldGhvZCxjLCEwKTt0aGlzLmEucmVzcG9uc2VUeXBlPXRoaXMuYi5yZXNwb25zZVR5cGU7dGhpcy5hLnRpbWVvdXQ9dGhpcy5iLmI7dGhpcy5hLndpdGhDcmVkZW50aWFscz10aGlzLmIud2l0aENyZWRlbnRpYWxzfHxhO3NldEV2ZW50UHJvcGVydHkodGhpcy5hLCJvbmxvYWQiLHRoaXMuZmQuYmluZCh0aGlzKSk7c2V0RXZlbnRQcm9wZXJ0eSh0aGlzLmEsIm9ucmVhZHlzdGF0ZWNoYW5nZSIsCnRoaXMubGQuYmluZCh0aGlzKSk7c2V0RXZlbnRQcm9wZXJ0eSh0aGlzLmEsIm9uZXJyb3IiLHRoaXMuZGQuYmluZCh0aGlzKSk7c2V0RXZlbnRQcm9wZXJ0eSh0aGlzLmEsIm9udGltZW91dCIsdGhpcy5xZC5iaW5kKHRoaXMpKTtzZXRFdmVudFByb3BlcnR5KHRoaXMuYSwib25hYm9ydCIsdGhpcy4kYy5iaW5kKHRoaXMpKTtmb3IoYiBpbiB0aGlzLmIuUWEpdGhpcy5hLnNldFJlcXVlc3RIZWFkZXIoYix0aGlzLmIuUWFbYl0pO3RoaXMuYS5zZW5kKHRoaXMuYi5ib2R5KTtyZXR1cm4gdGhpcy5jfTtTYy5wcm90b3R5cGUuc2VuZD1TYy5wcm90b3R5cGUubTsKZnVuY3Rpb24gWGMoYSxiLGMpe2I9RXJyb3IoYik7Yi50eXBlPWM7Yi5zdGF0dXM9YS5hLnN0YXR1cztiLnVybD1hLnVybDtWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImVuYWJsZV9kb3VibGVfaW5nZXN0IiwhMSkmJihiLnJlc3BvbnNlSGVhZGVycz1wYXJzZUhlYWRlcnMoYS5hLmdldEFsbFJlc3BvbnNlSGVhZGVycygpKSk7Yi5tZXRob2Q9YS5iLm1ldGhvZDtiLmJvZHk9YS5iLmJvZHk7cmV0dXJuIGJ9bj1TYy5wcm90b3R5cGU7bi5hYm9ydD1mdW5jdGlvbigpe1ZjKHRoaXMpO2lmKHRoaXMuYSYmdGhpcy5hLnJlYWR5U3RhdGUhPVhNTEh0dHBSZXF1ZXN0LkRPTkUmJih0aGlzLmEuYWJvcnQoKSwhVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJmaXhfc2hha2FfdXRpbF9hamF4X3JlcXVlc3RfYWJvcnQiLCEwKSkpe3ZhciBhPVhjKHRoaXMsIlJlcXVlc3QgYWJvcnRlZC4iLCJhYm9ydGVkIik7dGhpcy5jLnJlamVjdChhKTtVYyh0aGlzKX19OwpuLiRjPWZ1bmN0aW9uKCl7aWYoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJmaXhfc2hha2FfdXRpbF9hamF4X3JlcXVlc3RfYWJvcnQiLCEwKSl7dmFyIGE9WGModGhpcywiUmVxdWVzdCBhYm9ydGVkLiIsImFib3J0ZWQiKTt0aGlzLmMucmVqZWN0KGEpO1VjKHRoaXMpfX07Cm4uZmQ9ZnVuY3Rpb24oYSl7aWYodGhpcy5mKXt2YXIgYj1WaWRlb1BsYXllclJlc291cmNlVGltZXIuZ2V0UmVzb3VyY2VUaW1pbmdFbnRyeSh0aGlzLnVybCx0aGlzLmkscGVyZm9ybWFuY2VOb3coKSk7dGhpcy5mLnNhbXBsZShwZXJmb3JtYW5jZU5vdygpLXRoaXMuaSxhLmxvYWRlZHx8dGhpcy5hLnJlc3BvbnNlJiZ0aGlzLmEucmVzcG9uc2UuYnl0ZUxlbmd0aHx8MCx0aGlzLmIubWltZVR5cGU/InYiPT09dGhpcy5iLm1pbWVUeXBlLmNoYXJBdCgwKTohMSxiLHRoaXMubyx0aGlzLmwsVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJldmFsdWF0ZV9hYnJfb25fZmV0Y2hfZW5kIiwhMSkpfWE9WzQwM107MjAwPD10aGlzLmEuc3RhdHVzJiYyOTk+PXRoaXMuYS5zdGF0dXM/KFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgiZW5hYmxlX2RvdWJsZV9pbmdlc3QiLCExKSYmbnVsbCE9cGFyc2VIZWFkZXJzKHRoaXMuYS5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSlbIngtZmItdmlkZW8tcmVwbGljYSJdPwooYT1YYyh0aGlzLCJIVFRQIGVycm9yLiIsIm5ldCIpLHRoaXMuYy5yZWplY3QoYSkpOnRoaXMuYy5yZXNvbHZlKHRoaXMuYSksVWModGhpcykpOiFWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInJlbW92ZV9hamF4X3Jlc2VuZF9pbnRlcm5hbCIsITApJiZ0aGlzLmo8dGhpcy5iLk5hJiYtMT09PWEuaW5kZXhPZih0aGlzLmEuc3RhdHVzKT9ZYyh0aGlzKTooYT1YYyh0aGlzLCJIVFRQIGVycm9yLiIsIm5ldCIpLHRoaXMuYy5yZWplY3QoYSksVWModGhpcykpfTsKbi5sZD1mdW5jdGlvbigpe2lmKHRoaXMuYS5yZWFkeVN0YXRlPT1YTUxIdHRwUmVxdWVzdC5IRUFERVJTX1JFQ0VJVkVEJiYodGhpcy5hLllhPURhdGUubm93KCktdGhpcy5pLHRoaXMuYi5hJiZ0aGlzLmIuZGEmJnRoaXMuYi5kYS5hZGRQdXNoRGF0YUZyb21YSFIodGhpcy5hKSx0aGlzLmIuaCYmdGhpcy5iLmguaGFuZGxlWEhSKHRoaXMuYSksVmlkZW9DbGllbnRFZGdlQ29vcGVyYXRpb24udXBkYXRlRnJvbVhIUih0aGlzLmEpLHRoaXMuYi5nKSl7dmFyIGE9RGF0ZS5wYXJzZSh0aGlzLmEuZ2V0UmVzcG9uc2VIZWFkZXIoIkRhdGUiKSk7YSYmKHphPWEtRGF0ZS5ub3coKSl9fTtuLmRkPWZ1bmN0aW9uKCl7dmFyIGE9WGModGhpcywiTmV0d29yayBmYWlsdXJlLiIsIm5ldCIpO3RoaXMuYy5yZWplY3QoYSk7VWModGhpcyl9OwpuLnFkPWZ1bmN0aW9uKCl7aWYoIVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgicmVtb3ZlX2FqYXhfcmVzZW5kX2ludGVybmFsIiwhMCkmJnRoaXMuajx0aGlzLmIuTmEpWWModGhpcyk7ZWxzZXt2YXIgYT1YYyh0aGlzLCJSZXF1ZXN0IHRpbWVkIG91dC4iLCJuZXQiKTt0aGlzLmMucmVqZWN0KGEpO1VjKHRoaXMpfX07ZnVuY3Rpb24gWWMoYSl7V2MoYSk7YS5nPXNldFRpbWVvdXQoZnVuY3Rpb24oKXt0aGlzLmc9LTE7dGhpcy5tKCl9LmJpbmQoYSksYS5oKigxKy41KigyKk1hdGgucmFuZG9tKCktMSkpKTthLmgqPTJ9O2Z1bmN0aW9uIEsoYSxiLGMsZCxlLGYpe3RoaXMuYz1iO3RoaXMuc3RhcnRCeXRlPWN8fDA7dGhpcy5iYXNlVXJsPXRoaXMudG9TdHJpbmcoKTt0aGlzLmVuZEJ5dGU9bnVsbCE9ZD9kOm51bGw7dGhpcy5pc1ByZWRpY3RpdmU9ZXx8ITE7dGhpcy5mPW51bGw7dGhpcy5tPTA7dGhpcy5BPSExO3RoaXMuTmM9dGhpcy5nPW51bGw7dGhpcy5vPWE7dGhpcy5pPW51bGw7dGhpcy5qPXRoaXMudT0hMTt0aGlzLmI9dGhpcy5hPW51bGw7dGhpcy5oPWZ8fG51bGx9cSgic2hha2EudXRpbC5GYWlsb3ZlclVyaSIsSyk7Sy5wcm90b3R5cGUudz1mdW5jdGlvbihhKXt0aGlzLkE9YX07Sy5wcm90b3R5cGUuc2V0U2hvdWxkUmVhZFhGYlZpZGVvQnJvYWRjYXN0RW5kZWRIZWFkZXI9Sy5wcm90b3R5cGUudztLLnByb3RvdHlwZS5EPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubX07Sy5wcm90b3R5cGUuZ2V0RmJWaWRlb0Jyb2FkY2FzdEVuZGVkUmVzcG9uc2VIZWFkZXI9Sy5wcm90b3R5cGUuRDsKSy5wcm90b3R5cGUuRj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YXJ0Qnl0ZX07Sy5wcm90b3R5cGUuZ2V0U3RhcnRCeXRlPUsucHJvdG90eXBlLkY7Sy5wcm90b3R5cGUuQj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVuZEJ5dGV9O0sucHJvdG90eXBlLmdldEVuZEJ5dGU9Sy5wcm90b3R5cGUuQjtmdW5jdGlvbiBaYyhhLGIpe3JldHVybiBhJiYwIT09YS5sZW5ndGg/YS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVzb2x2ZShiKX0pOltiXX1uPUsucHJvdG90eXBlO24uZmV0Y2g9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxoKXtyZXR1cm4gdGhpcy5mP3RoaXMuZjp0aGlzLmY9JGModGhpcywwLGF8fG5ldyB0YixiLGMsZCxlLGYsZyxoKX07bi5zdHJlYW09ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxoLGspe3JldHVybiBhZCh0aGlzLDAsYXx8bmV3IHRiLGIsYyxkLGUsZixnLGgsayl9OwpmdW5jdGlvbiAkYyhhLGIsYyxkLGUsZixnLGgsayxsKXtyZXR1cm4gYWQoYSxiLGMsZCxlLGYsZyxoLGssbCkudGhlbihmdW5jdGlvbihhKXt2YXIgYixjPWZ1bmN0aW9uKCl7cmV0dXJuIGEucmVhZCgpLnRoZW4oZnVuY3Rpb24oYSl7dmFyIGQ9YS52YWx1ZTtpZihhLmRvbmUpcmV0dXJuIGJ8fG5ldyBBcnJheUJ1ZmZlcigwKTtkJiYoInN0cmluZyI9PT10eXBlb2YgZD9iPShifHwiIikrZDpiPWNvbmNhdEFycmF5QnVmZmVyKGJ8fG5ldyBBcnJheUJ1ZmZlcigwKSxkKSk7cmV0dXJuIGMoKX0uYmluZCh0aGlzKSl9LmJpbmQodGhpcyk7cmV0dXJuIGMoKX0pfQpuLkthPWZ1bmN0aW9uKCl7dGhpcy5nJiYodGhpcy5hPXRoaXMuZj1udWxsLHRoaXMuZy5hYm9ydCgpLHRoaXMuaT10aGlzLmc9bnVsbCk7dGhpcy5OYyYmVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJlbmFibGVfcDJwX3N1cHBvcnQiLCExKSYmKHRoaXMuRy5hYm9ydCgpLHRoaXMuRz1udWxsKTt0aGlzLmImJih0aGlzLmIuYWJvcnRSZXF1ZXN0KGJkKHRoaXMpKSxWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImZpeGluZ19zY2hlZHVsZXJfZGlzYWJsZV9sZWFrcyIsITApJiYodGhpcy5iPW51bGwpKX07CmZ1bmN0aW9uIGFkKGEsYixjLGQsZSxmLGcsaCxrLGwsbSl7YS5iPWx8fG51bGw7dmFyIHA7ZSYmKGMuYSYmKGMuYS5pPSEwKSxsPTAsYy5kYSYmKGw9Yy5kYS5nZXRQdXNoQ291bnRGb3JVcmwoYS5jW2JdLnRvU3RyaW5nKCkpKSwocD1lLmdldE9wZXJhdGlvbkxvZ2dlcigicmVxdWVzdCIpKSYmcC5zZXRSZWFzb24oa3x8bnVsbCkuc2V0UHVzaGVkKGwpLnNldFR5cGUoaHx8bnVsbCkuc2V0SW5pdGlhdG9yKCJzaGFrYSIpLnN0YXJ0KCksZiYmKHA9cC5zZXRQYXJlbnRMb2dnZXIoZikpKTt2YXIgdD1wZXJmb3JtYW5jZU5vdygpO2EuYT1udWxsO2cmJihjLmk9Zyk7ZSYmKGMubT1lKTt2YXIgdz1jZChhLGEuY1tiXSxjKTtrPW51bGw7YS5qPSExO3ZhciB6PVZpZGVvRGFzaFByZWZldGNoQ2FjaGUuZ2V0Q2FjaGVWYWx1ZSh3KTt6JiYoaz16LGEuaj0hMCxwJiYocC5zZXRDb25uZWN0aW9uUXVhbGl0eUxldmVsKFZpZGVvRGFzaFByZWZldGNoQ2FjaGUuZ2V0Q29ubmVjdGlvblF1YWxpdHlMZXZlbCh3KSksCnAuc2V0SW5pdGlhdG9yKCJwcmVmZXRjaCIpKSk7aWYoIXomJm0pcmV0dXJuIG0uZ2V0U3RyZWFtKGJkKGEpKS50aGVuKGZ1bmN0aW9uKGEpe3JldHVybiBhLmdldFJlYWRlcigpfS5iaW5kKGEpKTttPW51bGw7aWYoYS5iJiYhYS5iLmlzRGlzYWJsZWQoKSYmIWspdHJ5eyhrPW09YS5iLmdldFByb21pc2UoYmQoYSkpKT9wPW51bGw6YS5iLmRpc2FibGUoKX1jYXRjaChIKXtlJiZlLmdldEV2ZW50TG9nZ2VyKCJyZXF1ZXN0X2luZm9fbm90X2ZvdW5kIikuc2V0UmVzb3VyY2UodykubG9nKCl9IWsmJmEuaCYmYS5oLmNyZWF0ZVByb21pc2UmJihtPW5ldyBMKHcpLG09Yy5mLnRlc3QobS5oYSksaz1hLmguY3JlYXRlUHJvbWlzZSh7dXJsOncscmVzcG9uc2VUeXBlOmMucmVzcG9uc2VUeXBlLE9kOmMuYyxLZDoyLE5hOmMuTmEsd2l0aENyZWRlbnRpYWxzOmMud2l0aENyZWRlbnRpYWxzfHxtLFFhOmMuUWF9LGZ1bmN0aW9uKGEpe3RoaXMuTmM9YTt2YXIgYj1wZXJmb3JtYW5jZU5vdygpOwphLm9ubG9hZD1mdW5jdGlvbihmKXtpZihkKXt2YXIgaD1WaWRlb1BsYXllclJlc291cmNlVGltZXIuZ2V0UmVzb3VyY2VUaW1pbmdFbnRyeSh3LGIscGVyZm9ybWFuY2VOb3coKSk7ZC5zYW1wbGUocGVyZm9ybWFuY2VOb3coKS1iLGYubG9hZGVkfHxhLnJlc3BvbnNlJiZhLnJlc3BvbnNlLmJ5dGVMZW5ndGh8fDAsYy5taW1lVHlwZT8idiI9PT1jLm1pbWVUeXBlLmNoYXJBdCgwKTohMSxoLGcsZSxWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImV2YWx1YXRlX2Ficl9vbl9mZXRjaF9lbmQiLCExKSl9fX0pKTtrfHwoYS5nPW5ldyBTYyh3LGMpLGEubT0wLGQmJihhLmcuZj1kKSxrPWEuZy5tKCkpO3AmJnAuc2V0UmVzb3VyY2Uodyk7ZiYmZi5zZXRSZXNvdXJjZSh3KTt2YXIgZGE9ITEsZWE9ay50aGVuKEooYSxmdW5jdGlvbihhKXt2YXIgYz10aGlzLmg/dGhpcy5oLm9uUmVxdWVzdFNlbmQ6bnVsbDshY3x8InZpZGVvIiE9aCYmImF1ZGlvIiE9aCYmIm1hbmlmZXN0IiE9Cmh8fGMoITAsaCxhLnJlc3BvbnNlLmJ5dGVMZW5ndGgpOyF0aGlzLmJ8fHRoaXMuYi5pc0Rpc2FibGVkKCl8fHRoaXMuYT90aGlzLmF8fCh0aGlzLmE9VmlkZW9QbGF5ZXJSZXNvdXJjZVRpbWVyLmdldFJlc291cmNlVGltaW5nRW50cnkodyx0aGlzLmo/MDp0LHBlcmZvcm1hbmNlTm93KCkpKTp0aGlzLmE9dGhpcy5iLmdldFJlc291cmNlVGltaW5nRW50cnkodyk7VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJzYW1wbGVfcHJlZmV0Y2hfYmFuZHdpZHRoIiwhMSkmJnomJnRoaXMuYSYmMDx0aGlzLmEudGltZVRvTGFzdEJ5dGUmJmQmJmQuc2FtcGxlKHRoaXMuYS50aW1lVG9MYXN0Qnl0ZSxhLnJlc3BvbnNlLmJ5dGVMZW5ndGgsInYiPT09aC5jaGFyQXQoMCksdGhpcy5hLGcsZSwhMCk7aWYodGhpcy5BKXRyeXt0aGlzLm09cGFyc2VJbnQoYS5nZXRSZXNwb25zZUhlYWRlcigieC1mYi12aWRlby1icm9hZGNhc3QtZW5kZWQiKSwxMCl9Y2F0Y2goZil7fXRoaXMuYj0KdGhpcy5pPXRoaXMuZz10aGlzLmY9bnVsbDthLmE/KHRoaXMuaT1uZXcgTChhLmEpLHRoaXMudT0hMCk6dGhpcy5pPXRoaXMuY1tiXTthLnJlc3BvbnNlLllhPWEuWWE7cCYmKHA9cC5zZXRMZW5ndGgoYS5yZXNwb25zZS5ieXRlTGVuZ3RofHxhLnJlc3BvbnNlLmxlbmd0aCkuc2V0V2FzUHJlZmV0Y2hDYWNoZUhpdCh0aGlzLmopLG51bGwhPXRoaXMuYSYmKHA9cC5zZXRUaW1lVG9MYXN0Qnl0ZShNYXRoLnJvdW5kKHRoaXMuYS50aW1lVG9MYXN0Qnl0ZSkpLnNldFRpbWVUb0ZpcnN0Qnl0ZShNYXRoLnJvdW5kKHRoaXMuYS50aW1lVG9GaXJzdEJ5dGUpKS5zZXRUaW1lVG9SZXF1ZXN0U3RhcnQoTWF0aC5yb3VuZCh0aGlzLmEudGltZVRvUmVxdWVzdFN0YXJ0KSksMkUzPD10aGlzLmEudGltZVRvRmlyc3RCeXRlJiYtMTx3LmluZGV4T2YoImFrYW1haWhkIikmJmxvZ0xvbmdBa2FtYWlSZXF1ZXN0KGEuZ2V0UmVzcG9uc2VIZWFkZXIoIkRlYnVnLUluZm8iKSsiLCBUVEZCLT4gIit0aGlzLmEudGltZVRvRmlyc3RCeXRlKwoiLCBUVFJTLT4gIit0aGlzLmEudGltZVRvUmVxdWVzdFN0YXJ0KSkscC5sb2coKSk7cmV0dXJuIFByb21pc2UucmVzb2x2ZSh7dmFsdWU6YS5yZXNwb25zZSxkb25lOiExfSl9KSksZWE9ZWEuY2F0Y2goSihhLGZ1bmN0aW9uKGEpe3ZhciBlPXRoaXMuaD90aGlzLmgub25SZXF1ZXN0U2VuZDpudWxsO2UmJmUoITEsaCwwKTtpZih0aGlzLmYmJmIrMTx0aGlzLmMubGVuZ3RoKXJldHVybiB0aGlzLmY9JGModGhpcyxiKzEsYyxkKTt0aGlzLmI9dGhpcy5hPXRoaXMuZj10aGlzLmc9bnVsbDtwJiZwLnNldEVycm9yKGEpLmxvZygpO3JldHVybiBQcm9taXNlLnJlamVjdChhKX0pKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtjYW5jZWw6ZnVuY3Rpb24oKXt9LHJlYWQ6ZnVuY3Rpb24oKXtyZXR1cm4gZGE/UHJvbWlzZS5yZXNvbHZlKHt2YWx1ZTpudWxsLGRvbmU6ITB9KTplYS50aGVuKGZ1bmN0aW9uKGEpe2RhPSEwO3JldHVybiBhfSl9LmJpbmQoYSl9KX0KZnVuY3Rpb24gYmQoYSl7cmV0dXJue2Jhc2VVcmw6YS50b1N0cmluZygpLGlzUHJlZGljdGl2ZTphLmlzUHJlZGljdGl2ZSxzdGFydEJ5dGU6YS5zdGFydEJ5dGUsZW5kQnl0ZTphLmVuZEJ5dGV9fW4uY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEsodGhpcy5vLHRoaXMuYy5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuY2xvbmUoKX0pLHRoaXMuc3RhcnRCeXRlLHRoaXMuZW5kQnl0ZSx0aGlzLmlzUHJlZGljdGl2ZSx0aGlzLmgpfTtuLmdldFJlc291cmNlVGltaW5nRW50cnk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hfTsKZnVuY3Rpb24gY2QoYSxiLGMpe3ZhciBkPWIudG9TdHJpbmcoKTtpZihhLnN0YXJ0Qnl0ZXx8YS5lbmRCeXRlKWI9Yi5oYSwhYi5lbmRzV2l0aCgiZmJjZG4ubmV0Iil8fGIuc3RhcnRzV2l0aCgiaW50ZXJuY2FjaGUiKXx8Yi5lbmRzV2l0aCgiYWsuZmJjZG4ubmV0Iik/YyYmKGMuUWEuUmFuZ2U9ImJ5dGVzPSIrKGEuc3RhcnRCeXRlKyItIisobnVsbCE9YS5lbmRCeXRlP2EuZW5kQnl0ZToiIikpKTooZCs9IiZieXRlc3RhcnQ9IithLnN0YXJ0Qnl0ZSxkKz1udWxsIT09YS5lbmRCeXRlPyImYnl0ZWVuZD0iK2EuZW5kQnl0ZToiIik7YS5vJiZjJiYoZD1hLm8oZCxjLlFhKXx8ZCk7cmV0dXJuIGR9ZnVuY3Rpb24gdWIoYSl7cmV0dXJuIGNkKGEsYS5jWzBdKX1uLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY1swXS50b1N0cmluZygpfTtmdW5jdGlvbiBkZChhLGIsYyxkKXt0aGlzLmE9bmV3IHRiO2I9bnVsbCE9Yj9iOmlhO3RoaXMuYS5yZXNwb25zZVR5cGU9InRleHQiO3RoaXMuYS5OYT0zO3RoaXMuYS5iPTFFMypiO2MmJih0aGlzLmEuYT1jKTtkJiYodGhpcy5hLmRhPWQpO3RoaXMuYS5nPSEwO3RoaXMuYS53aXRoQ3JlZGVudGlhbHM9dGhpcy5hLmYudGVzdChhKTt0aGlzLmI9YX0KZnVuY3Rpb24gZWQoYSxiKXt2YXIgYz1hLmIsZD1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImRldGVjdF9saXZlX3N0cmVhbV9lbmRlZF9mcm9tX3Jlc3BvbnNlX2hlYWRlcnMiLCExKTtjLncoZCk7cmV0dXJuIGMuZmV0Y2goYS5hLG51bGwsYixudWxsLG51bGwsIm1hbmlmZXN0IikudGhlbihmdW5jdGlvbihhKXthIGluc3RhbmNlb2YgQXJyYXlCdWZmZXImJihhPVN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCxuZXcgVWludDhBcnJheShhKSkpO3ZhciBmPWQmJiEhYy5tLGc7YiYmKGc9Yi5nZXRPcGVyYXRpb25Mb2dnZXIoInBhcnNlX21hbmlmZXN0Iikuc3RhcnQoKSk7YT1lYyhhLGMuYyxbYy5pXSk7ZyYmZy5sb2coKTthJiYiZHluYW1pYyI9PT1hLnR5cGUmJmYmJihhLnR5cGU9InN0YXRpYyIsYiYmQmFuemFpT0RTLmJ1bXBFbnRpdHlLZXkoMjk2NiwidmlkZW9zLnd3dy5zaGFrYSIsImNoYW5nZWRfbWFuaWZlc3RfdG9fZHluYW1pY19vZmZfaGVhZGVycyIpKTsKaWYoYSlyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGEpO2Y9RXJyb3IoIk1QRCBwYXJzZSBmYWlsdXJlLiIpO2YudHlwZT0iZGFzaCI7cmV0dXJuIFByb21pc2UucmVqZWN0KGYpfSl9ZnVuY3Rpb24gZmQoYSl7dGhpcy5hPW51bGw7dGhpcy5oPWE7dGhpcy5jPXRoaXMuZz10aGlzLmY9bnVsbDt0aGlzLmk9ITE7dGhpcy5qPXRoaXMuYj1udWxsfTtmdW5jdGlvbiBnZChhLGIpe3RoaXMuYT1hO3RoaXMuYj1ifHxudWxsfWdkLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5hJiYodGhpcy5hLkthKCksdGhpcy5hPW51bGwpO3RoaXMuYj1udWxsfTtnZC5wcm90b3R5cGUuY3JlYXRlPWZ1bmN0aW9uKGEsYil7dmFyIGM9bnVsbDtiJiYoYz1uZXcgdGIsYy5kYT1iKTtyZXR1cm4hdGhpcy5iJiZ0aGlzLmE/dGhpcy5hLmZldGNoKGMsbnVsbCxhLG51bGwsbnVsbCwiaW5pdCIpOlByb21pc2UucmVzb2x2ZSh0aGlzLmIpfTtnZC5wcm90b3R5cGUuYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmF9O2dkLnByb3RvdHlwZS5nZXRGYWlsb3ZlclVyaT1nZC5wcm90b3R5cGUuYztmdW5jdGlvbiBoZChhLGIpe3RoaXMuc2VnbWVudE9yaWdpbmFsRW5kVGltZT1hO3RoaXMuZ2FwRGlzdGFuY2U9Yn1mdW5jdGlvbiBpZChhLGIsYyxkLGUsZixnKXt0aGlzLnN0YXJ0VGltZT1hO3RoaXMuZW5kVGltZT1iO3RoaXMudXJsPWM7dGhpcy51bnNjYWxlZFN0YXJ0VGltZT1kO3RoaXMudW5zY2FsZWREdXJhdGlvbj1lO3RoaXMudGltZXNjYWxlZEdhcEluZm89Znx8bnVsbDt0aGlzLmlzUHJlZGljdGl2ZT1nfHwhMTt0aGlzLmRlYnVnSW5mbz10aGlzLnRpbWVzY2FsZWRHYXBJbmZvP3tlbmRUaW1lOnRoaXMudGltZXNjYWxlZEdhcEluZm8uc2VnbWVudE9yaWdpbmFsRW5kVGltZSxkZWx0YTp0aGlzLnRpbWVzY2FsZWRHYXBJbmZvLmdhcERpc3RhbmNlfTpudWxsfWZ1bmN0aW9uIGpkKGEsYixjKXtyZXR1cm4gbmV3IGlkKGIsYyxhLnVybCxhLnVuc2NhbGVkU3RhcnRUaW1lLGEudW5zY2FsZWREdXJhdGlvbixhLnRpbWVzY2FsZWRHYXBJbmZvLGEuaXNQcmVkaWN0aXZlKX0KZnVuY3Rpb24geWIoYSxiKXtpZihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInVzZV9iaW5hcnlfc2VhcmNoX3doZW5fZmluZGluZ19zZWdtZW50X3JlZmVyZW5jZXMiLCExKSlyZXR1cm4gQmluYXJ5U2VhcmNoLmZpbmRJbmRleEluQXJyYXkoYSxiLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGI+PWEuc3RhcnRUaW1lJiYobnVsbD09YS5lbmRUaW1lfHxiPGEuZW5kVGltZSk/MDphLnN0YXJ0VGltZS1ifSk7Zm9yKHZhciBjPWEubGVuZ3RoLTE7MDw9YzstLWMpe3ZhciBkPWFbY107aWYoYj49ZC5zdGFydFRpbWUmJihudWxsPT1kLmVuZFRpbWV8fGI8ZC5lbmRUaW1lKSlyZXR1cm4gY31yZXR1cm4tMX1mdW5jdGlvbiBrZChhLGIpe3JldHVybiBhLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gamQoYSxhLnN0YXJ0VGltZStiLG51bGwhPWEuZW5kVGltZT9hLmVuZFRpbWUrYjpudWxsKX0pfTtmdW5jdGlvbiBsZChhLGIsYyxkKXtmb3IodmFyIGU9Yi5hLGY9W10sZz0wO2c8ZDsrK2cpe3ZhciBoPWcrYyxrPShoLTEpKmUuSCxsPWsvZS5zLG09KGsrZS5IKS9lLnMsaD1tZChhLGIsZS5iK2gtMSxrKTtpZighaClyZXR1cm4gbnVsbDtmLnB1c2gobmV3IGlkKGwsbSxoLGssZS5IfHwwKSl9cmV0dXJuIGZ9ZnVuY3Rpb24gbWQoYSxiLGMsZCxlLGYpe2lmKCFiLmEpcmV0dXJuIG51bGw7ZT1lfHwhMTt2YXIgZz1iLmEuZixoPWIuYS5DLmE7aWYoIWcpcmV0dXJuIGIuYmFzZVVybD9uZXcgSyhhLGIuYmFzZVVybCwwLG51bGwsdm9pZCAwLGYpOm51bGw7Yz1uZChlJiZoP2g6ZyxiLmlkLGMsYi5iYW5kd2lkdGgsZCk7aWYoIWMpcmV0dXJuIG51bGw7Yj1aYyhiLmJhc2VVcmwsYyk7cmV0dXJuIG5ldyBLKGEsYiwwLG51bGwsZSxmKX0KZnVuY3Rpb24gbmQoYSxiLGMsZCxlKXt2YXIgZj17UmVwcmVzZW50YXRpb25JRDpiLE51bWJlcjpjLEJhbmR3aWR0aDpkLFRpbWU6ZX07YT1hLnJlcGxhY2UoL1wkKFJlcHJlc2VudGF0aW9uSUR8TnVtYmVyfEJhbmR3aWR0aHxUaW1lKT8oPzolMChbMC05XSspZCk/XCQvZyxmdW5jdGlvbihhLGIsYyl7aWYoIiQkIj09YSlyZXR1cm4iJCI7dmFyIGQ9ZltiXTtpZihudWxsPT1kKXJldHVybiBhOyJSZXByZXNlbnRhdGlvbklEIj09YiYmYyYmKGM9dm9pZCAwKTthPWQudG9TdHJpbmcoKTtjPXdpbmRvdy5wYXJzZUludChjLDEwKXx8MTtjPU1hdGgubWF4KDAsYy1hLmxlbmd0aCk7cmV0dXJuIEFycmF5KGMrMSkuam9pbigiMCIpK2F9KTt0cnl7cmV0dXJuIG5ldyBMKGEpfWNhdGNoKGcpe2lmKGcgaW5zdGFuY2VvZiBVUklFcnJvcilyZXR1cm4gbnVsbDt0aHJvdyBnO319CmZ1bmN0aW9uIG9kKGEsYixjLGQsZSxmKXt2YXIgZz0wLGg9YypiO2M9YS5OO3ZhciBrPWR8fDA7ZD1bXTt2YXIgbD1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigibGl2ZV9yZXdpbmRfdGVtcGxhdGVkX2xhc3RfeF9zZWdtZW50c19vbmx5IiwwKSxtPVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgidGVtcGxhdGVkX2xhc3RfeF90aW1lbGluZSIsITEpJiZlJiZudWxsIT1mLHA9ZSYmbT9WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigidGVtcGxhdGVkX2luZ2VzdF90aHJvdHRsZSIsMCk6MDtpZihsfHxtKXtmb3IoZT0wO2U8Yy5sZW5ndGg7KytlKXtpZighY1tlXS5kdXJhdGlvbilyZXR1cm4gZDt2YXIgdD1jW2VdLnN0YXJ0VGltZSx0PW51bGwhPXQ/dDpnLHc9Y1tlXS5yZXBlYXR8fDA7aWYoMD53KWlmKHc9Y1tlXS5kdXJhdGlvbixlKzE9PT1jLmxlbmd0aCl2YXIgej1jWzBdLnN0YXJ0VGltZStoLXQsdz1NYXRoLmNlaWwoei8KdyktMTtlbHNlIHo9Y1tlKzFdLnN0YXJ0VGltZSx3PU1hdGguY2VpbCgoei10KS93KS0xO2NbZV0uc3RhcnRUaW1lPXQ7Y1tlXS5yZXBlYXQ9dztnPWNbZV0uc3RhcnRUaW1lK2NbZV0uZHVyYXRpb24qKGNbZV0ucmVwZWF0KzEpfWZvcihlPWMubGVuZ3RoLTE7LTE8ZTstLWUpZm9yKHZhciBIPTA7SDw9Y1tlXS5yZXBlYXQ7KytIKWlmKHQ9Y1tlXS5zdGFydFRpbWUrY1tlXS5kdXJhdGlvbiooY1tlXS5yZXBlYXQtSCksZz10K2NbZV0uZHVyYXRpb24sYT1udWxsLGQubGVuZ3RoJiZnIT1kW2QubGVuZ3RoLTFdLnN0YXJ0JiYoej1kW2QubGVuZ3RoLTFdLnN0YXJ0LWcsYT1uZXcgaGQoZy9iLHovYiksZz1kW2QubGVuZ3RoLTFdLnN0YXJ0KSxkLnB1c2goe3N0YXJ0OnQsZW5kOmd9KSxhJiYoZFtkLmxlbmd0aC0xXS50aW1lc2NhbGVkR2FwSW5mbz1hKSxsKXtpZihkLmxlbmd0aD09PWwpcmV0dXJuIGQ9ZC5yZXZlcnNlKCl9ZWxzZSBpZihtJiZkW2QubGVuZ3RoLTFdLnN0YXJ0PD1mKXJldHVybiBkLnBvcCgpLApkPWQucmV2ZXJzZSgpLDA8cCYmKGQ9ZC5zbGljZSgwLHApKSxkO3JldHVybiBkLnJldmVyc2UoKX1mb3IoZT0wO2U8Yy5sZW5ndGg7KytlKXtpZighY1tlXS5kdXJhdGlvbilyZXR1cm4gZDt0PWNbZV0uc3RhcnRUaW1lO3Q9bnVsbCE9dD90Omc7dz1jW2VdLnJlcGVhdHx8MDswPncmJih3PWNbZV0uZHVyYXRpb24sZSsxPT09Yy5sZW5ndGg/KHo9Y1swXS5zdGFydFRpbWUraC10LHc9TWF0aC5jZWlsKHovdyktMSk6KHo9Y1tlKzFdLnN0YXJ0VGltZSx3PU1hdGguY2VpbCgoei10KS93KS0xKSk7MDxkLmxlbmd0aCYmdCE9ZyYmKHo9dC1nLGY9ZFtkLmxlbmd0aC0xXSxmLnRpbWVzY2FsZWRHYXBJbmZvPW5ldyBoZChnL2Isei9iKSxmLmVuZD10KTtmb3IoSD0wO0g8PXc7KytIKWc9dCtjW2VdLmR1cmF0aW9uLGQucHVzaCh7c3RhcnQ6dCxlbmQ6Z30pLHQ9Z31pZihhLmEmJjA8Yy5sZW5ndGgpZm9yKGI9Y1swXS5kdXJhdGlvbixmPTA7ZjxrO2YrKylkLnB1c2goe3N0YXJ0OnQrZipiLGVuZDp0KwooZisxKSpiLHVkOmEuYitmfSk7cmV0dXJuIGR9O2Z1bmN0aW9uIHBkKGEsYixjLGQsZSl7dGhpcy53PWE7dGhpcy5tPWI7dGhpcy5jPWM7dGhpcy5XPTA7dGhpcy5CPSEwO3RoaXMucz1jLnN8fDA7dGhpcy5BPSExO3RoaXMuZz1udWxsO3RoaXMudT1kO3RoaXMuaj1jLkx8fDA7dGhpcy5iPTA7dGhpcy5pPXRoaXMuaD1udWxsO2E6e2I9Yy5DO3ZhciBmPTA7YT0oYS5kdXJhdGlvbnx8MCkqdGhpcy5zO2M9Yi5OO2ZvcihkPTA7ZDxjLmxlbmd0aDsrK2Qpe2lmKCFjW2RdLmR1cmF0aW9uKXtiLk49Yy5zbGljZSgwLGQpO2JyZWFrIGF9dmFyIGc9Y1tkXS5zdGFydFRpbWUsZj1udWxsIT1nP2c6ZixnPWNbZF0ucmVwZWF0fHwwOzA+ZyYmKGc9Y1tkXS5kdXJhdGlvbixnPWQrMT09PWMubGVuZ3RoP01hdGguY2VpbCgoY1swXS5zdGFydFRpbWUrYS1mKS9nKS0xOk1hdGguY2VpbCgoY1tkKzFdLnN0YXJ0VGltZS1mKS9nKS0xKTtjW2RdLnN0YXJ0VGltZT1mO2NbZF0ucmVwZWF0PWc7Zj1jW2RdLnN0YXJ0VGltZStjW2RdLmR1cmF0aW9uKihjW2RdLnJlcGVhdCsKMSl9fXRoaXMuZj1bXTt0aGlzLm89VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoInRpbWVsaW5lX3NlZ21lbnRfaW5kZXhfbWF4X2luZGV4X2NhY2hlX2xlbmd0aCIsMCk7dGhpcy5iPVNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscy5sZW5ndGgodGhpcy5jLkMuTik7dGhpcy5EPWV8fG51bGx9cGQucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmI9dGhpcy5jPXRoaXMubT10aGlzLnc9bnVsbDt0aGlzLmc9ZnVuY3Rpb24oKXt9O3RoaXMuZj10aGlzLnU9bnVsbH07cGQucHJvdG90eXBlLmxlbmd0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmJ9O2Z1bmN0aW9uIHFkKGEsYil7Zm9yKHZhciBjPWEuZi5sZW5ndGgtMTstMTxjO2MtLSlpZihhLmZbY10uaW5kZXg9PT1iKXt2YXIgZD1hLmZbY107YS5mLnNwbGljZShjLDEpO2EuZi5wdXNoKGQpO3JldHVybiBkLnhkfXJldHVybiBudWxsfQpmdW5jdGlvbiByZChhLGIsYyl7dmFyIGQ9W107aWYoYS5vJiYxPT09Yy1iKXt2YXIgZT1xZChhLGIpO2lmKGUpcmV0dXJuW2VdfXZhciBmPS1hLmovYS5zK2EuVztTaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMuZ2V0U2VnbWVudHMoYixjLGEuYy5DLk4sZnVuY3Rpb24oYSxlLGssbCxtKXtpZihsKXt2YXIgcD1kW2QubGVuZ3RoLTFdO3AmJihwLnRpbWVzY2FsZWRHYXBJbmZvPW5ldyBoZChtL3RoaXMucyxsL3RoaXMucykscC5kZWJ1Z0luZm89e2VuZFRpbWU6cC50aW1lc2NhbGVkR2FwSW5mby5zZWdtZW50T3JpZ2luYWxFbmRUaW1lLGRlbHRhOnAudGltZXNjYWxlZEdhcEluZm8uZ2FwRGlzdGFuY2V9LGRbZC5sZW5ndGgtMV09amQocCxwLnN0YXJ0VGltZSxhL3RoaXMucytmKSl9az1tZCh0aGlzLnUsdGhpcy5tLGsrdGhpcy5jLmIsYSx2b2lkIDAsdGhpcy5EKTtpZighayl0aHJvdyBhPUVycm9yKCJGYWlsZWQgdG8gZ2VuZXJhdGUgbWVkaWEgVVJMLiIpLGEudHlwZT0iZGFzaCIsCmE7YT1uZXcgaWQoYS90aGlzLnMrZixlL3RoaXMucytmLGssYSxlLWEsbnVsbCk7ZT1iK2QubGVuZ3RoO2QucHVzaChhKTshdGhpcy5vfHwwIT09ZSYmZSE9PXRoaXMuYi0xJiYxIT09Yy1ifHxxZCh0aGlzLGUpfHwodGhpcy5mLmxlbmd0aCsxPnRoaXMubyYmdGhpcy5mLnNoaWZ0KCksdGhpcy5mLnB1c2goe2luZGV4OmUseGQ6YX0pKX0uYmluZChhKSk7cmV0dXJuIGR9CmZ1bmN0aW9uIHNkKGEsYil7dmFyIGM9Yi51bnNjYWxlZFN0YXJ0VGltZSxkPWIudW5zY2FsZWRFbmRUaW1lLGU9Yi5kZWx0YSxmPWIucHJldmlvdXNFbmRUaW1lO2lmKGUpdmFyIGc9bmV3IGhkKGYvYS5zLGUvYS5zKTtlPW1kKGEudSxhLm0sYi5zZWdtZW50UmVwbGFjZW1lbnQrYS5jLmIsYyx2b2lkIDAsYS5EKTtpZighZSl0aHJvdyBjPUVycm9yKCJGYWlsZWQgdG8gZ2VuZXJhdGUgbWVkaWEgVVJMLiIpLGMudHlwZT0iZGFzaCIsYztmPS1hLmovYS5zK2EuVztyZXR1cm4gbmV3IGlkKGMvYS5zK2YsZC9hLnMrZixlLGMsZC1jLGd8fG51bGwpfXBkLnByb3RvdHlwZS5nZXRTZWdtZW50cz1mdW5jdGlvbigpe3JldHVybiByZCh0aGlzLDAsdGhpcy5iKXx8W119OwpwZC5wcm90b3R5cGUuZmlyc3Q9ZnVuY3Rpb24oKXtpZighdGhpcy5iKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbmRleCBvdXQgb2YgcmFuZ2UuIik7aWYoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJvcHRpbWl6ZV9jb21tb25fc2VnbWVudF9nZW5lcmF0aW9ucyIsITEpKXtpZih0aGlzLmgpcmV0dXJuIHRoaXMuaDt2YXIgYT1TaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMuZmlyc3QodGhpcy5jLkMuTix0aGlzLmIpO3JldHVybiB0aGlzLmg9c2QodGhpcyxhKX1yZXR1cm4gcmQodGhpcywwLDEpWzBdfTsKcGQucHJvdG90eXBlLmxhc3Q9ZnVuY3Rpb24oKXtpZighdGhpcy5iKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbmRleCBvdXQgb2YgcmFuZ2UuIik7aWYoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJvcHRpbWl6ZV9jb21tb25fc2VnbWVudF9nZW5lcmF0aW9ucyIsITEpKXtpZih0aGlzLmkpcmV0dXJuIHRoaXMuaTt2YXIgYT1TaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMubGFzdCh0aGlzLmMuQy5OLHRoaXMuYik7cmV0dXJuIHRoaXMuaT1zZCh0aGlzLGEpfXJldHVybiByZCh0aGlzLHRoaXMuYi0xLHRoaXMuYilbMF19OwpwZC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGEpe2lmKCF0aGlzLmJ8fDA+YXx8YT49dGhpcy5iKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbmRleCBvdXQgb2YgcmFuZ2UuIik7cmV0dXJuIFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgib3B0aW1pemVfY29tbW9uX3NlZ21lbnRfZ2VuZXJhdGlvbnMiLCExKT8oYT1TaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMuZ2V0KHRoaXMuYy5DLk4sYSx0aGlzLmIpLHNkKHRoaXMsYSkpOnJkKHRoaXMsYSxhKzEpWzBdfTsKcGQucHJvdG90eXBlLmZpbmQ9ZnVuY3Rpb24oYSl7aWYoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJmaXhfY29tcG9zaXRlZF90aW1lX2luZGV4X2NhbGxzIiwhMSkpcmV0dXJuKGE9U2hha2FUaW1lbGluZVNlZ21lbnRJbmRleFV0aWxzLmZpbmQoYSx0aGlzLmMuQy5OLHRoaXMucywtdGhpcy5qL3RoaXMucyt0aGlzLlcpKT9zZCh0aGlzLGEpOm51bGw7YT10aGlzLmZpbmRJbmRleChhKTtyZXR1cm4gVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJvcHRpbWl6ZV9jb21tb25fc2VnbWVudF9nZW5lcmF0aW9ucyIsITEpPzA8PWE/dGhpcy5nZXQoYSk6bnVsbDowPD1hP3JkKHRoaXMsYSxhKzEpWzBdOm51bGx9O3BkLnByb3RvdHlwZS5maW5kSW5kZXg9ZnVuY3Rpb24oYSl7cmV0dXJuIFNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscy5maW5kSW5kZXgoYSx0aGlzLmMuQy5OLHRoaXMucywtdGhpcy5qL3RoaXMucyt0aGlzLlcpfTtuPXBkLnByb3RvdHlwZTsKbi5TYT1mdW5jdGlvbihhKXt2YXIgYj1hLmxlbmd0aCgpLGM9Yi10aGlzLmI7aWYoMCE9PWImJihiIT09dGhpcy5ifHwwIT09dGhpcy5iJiZhLmxhc3QoKS5lbmRUaW1lIT09dGhpcy5sYXN0KCkuZW5kVGltZSkmJiEoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJmaXhfaW50ZWdyYXRpb25fb25fZWFybGllcl9lbmR0aW1lIiwhMSkmJmEubGFzdCgpLmVuZFRpbWU8PXRoaXMubGFzdCgpLmVuZFRpbWUpKWlmKHRoaXMuQT0hMSxiPWEubGFzdCgpLG51bGwhPWIuZW5kVGltZSYmYi5lbmRUaW1lPHRoaXMubGFzdCgpLmVuZFRpbWUmJmIuZW5kVGltZTx0aGlzLmZpcnN0KCkuc3RhcnRUaW1lJiYodGhpcy5BPSEwKSxWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImludGVncmF0ZV9zZWdtZW50X3RpbWVsaW5lX3RpbWVfcG9pbnRzIiwhMSk/dGhpcy5jLkMuTj1TaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMuaW50ZWdyYXRlVGltZVBvaW50cyh0aGlzLmMuQy5OLAphLmMuQy5OKToodGhpcy53PWEudyx0aGlzLm09YS5tLHRoaXMuYz1hLmMsdGhpcy5qPXRoaXMuYy5MfHwwLHRoaXMucz10aGlzLmMuc3x8MCksdGhpcy5mPVtdLHRoaXMuaT10aGlzLmg9bnVsbCx0aGlzLmI9U2hha2FUaW1lbGluZVNlZ21lbnRJbmRleFV0aWxzLmxlbmd0aCh0aGlzLmMuQy5OKSx0aGlzLmZpcnN0KCksdGhpcy5sYXN0KCksVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJ0ZW1wbGF0ZWRfY2FsbF9vbl9zZWdtZW50c191cGRhdGVkX3dpdGhfZGVsdGFfc2VnbWVudHMiLCExKSl7dmFyIGQ9W10sYz10aGlzLmItYztmb3IoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJ0ZW1wbGF0ZWRfZHluYW1pY19pbmNsdWRlX3ByZXZpb3VzX2xhc3Rfc2VnbWVudF9pbl91cGRhdGVzIiwhMSkmJjA8YyYmYy0tO2M8dGhpcy5iOysrYylkLnB1c2godGhpcy5nZXQoYykpO3RoaXMuZyYmdGhpcy5nKGQpfWVsc2UgYz0hVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJub19wcm92aWRlX3NlZ21lbnRzX3RvX29uX3NlZ21lbnRzX3VwZGF0ZWRfbGlzdGVuZXJzIiwKITEpLHRoaXMuZyYmKGMmJihkPXRoaXMuZ2V0U2VnbWVudHMoKSksdGhpcy5nKGQpKX07bi5oYj1mdW5jdGlvbihhKXt2YXIgYj1hLXRoaXMuVztpZigwPT1iKXJldHVybiAwO3RoaXMuVz1hO3RoaXMuaT10aGlzLmg9bnVsbDt0aGlzLmY9W107cmV0dXJuIGJ9O24uaWI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iP3tzdGFydDp0aGlzLmZpcnN0KCkuc3RhcnRUaW1lLGVuZDp0aGlzLmxhc3QoKS5lbmRUaW1lfTp7c3RhcnQ6MCxlbmQ6MH19O24uZ2V0U2Vla1JhbmdlR2Fwcz1mdW5jdGlvbigpe3JldHVybiBTaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMuZ2V0U2Vla1JhbmdlR2Fwcyh0aGlzLmMuQy5OLHRoaXMucywtdGhpcy5qL3RoaXMucyt0aGlzLlcpfTtuLnJiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuQX07bi5HYz1mdW5jdGlvbihhKXt0aGlzLmc9YX07bi5GYz1mdW5jdGlvbigpe3RoaXMuZz1udWxsfTtuLklhPWZ1bmN0aW9uKCl7fTtmdW5jdGlvbiB0ZCgpe30KdGQucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9bnVsbDt0cnl7YTp7dmFyIGc9W10saD1uZXcgQmEoYSksaz12KGgpO2lmKDE5MzYyODY4NDAhPXYoaCkpZj1udWxsO2Vsc2V7MT09ayYmKGs9RmEoaCkpO3ZhciBsPUVhKGgpO0hhKGgsMyk7SGEoaCw0KTt2YXIgbT12KGgpO2lmKDA9PW0pZj1udWxsO2Vsc2V7dmFyIHAsdDswPT1sPyhwPXYoaCksdD12KGgpKToocD1GYShoKSx0PUZhKGgpKTtIYShoLDIpO3ZhciB3PWguYi5nZXRVaW50MTYoaC5hLGguYyk7aC5hKz0yO2E9cDtiPWIrayt0O2Zvcih0PWs9MDt0PHc7dCsrKXt2YXIgej12KGgpO3A9KHomMjE0NzQ4MzY0OCk+Pj4zMTt2YXIgbD16JjIxNDc0ODM2NDcsSD12KGgpO3YoaCk7aWYoMT09cCl7Zj1udWxsO2JyZWFrIGF9dmFyIGRhO2RhPTA9PXQmJmU/ZTpuZXcgSyhkLGMsYixiK2wtMSk7cD1hL207dmFyIGVhPShhK0gpL207MD09PXQmJihrPXApO2cucHVzaChuZXcgaWQocC1rLGVhLWssZGEsCmEsSCkpO2ErPUg7Yis9bH1nLnM9bTtmPWd9fX19Y2F0Y2goQWEpe2lmKCEoQWEgaW5zdGFuY2VvZiBSYW5nZUVycm9yKSl0aHJvdyBBYTt9cmV0dXJuIGZ9O2Z1bmN0aW9uIFIoYSl7dGhpcy5hPWE7dGhpcy5zPXRoaXMuYS5zO3RoaXMuSz10aGlzLmEuQjt0aGlzLmc9W119Ui5wcm90b3R5cGUuSj1mdW5jdGlvbigpe3JldHVybiEhdGhpcy5nW3RoaXMuZy5sZW5ndGgtMV19O1IucHJvdG90eXBlLmxhc3RQb2xsSGFkQ2hhbmdlcz1SLnByb3RvdHlwZS5KO1IucHJvdG90eXBlLkk9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmcsYj1hLmxhc3RJbmRleE9mKCEwKTtpZigxPmIpcmV0dXJuIDA7YT1hLmxhc3RJbmRleE9mKCEwLGItMSk7cmV0dXJuIDA+YT8wOmItYS0xfTtSLnByb3RvdHlwZS5nZXRGZXRjaGVzQmV0d2VlblJlY2VudENoYW5nZXM9Ui5wcm90b3R5cGUuSTtSLnByb3RvdHlwZS51PWZ1bmN0aW9uKCl7cmV0dXJuIE1hdGguZmxvb3IoKHRoaXMuZy5sZW5ndGgtMS10aGlzLmcubGFzdEluZGV4T2YoITApKS8yKX07Ui5wcm90b3R5cGUuZ2V0Q29uc2VjdXRpdmVVcGRhdGVzV2l0aG91dENoYW5nZXM9Ui5wcm90b3R5cGUudTsKUi5wcm90b3R5cGUuRz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmcubGVuZ3RoLTEtdGhpcy5nLmxhc3RJbmRleE9mKCExKX07Ui5wcm90b3R5cGUuZ2V0Q29uc2VjdXRpdmVVcGRhdGVzV2l0aENoYW5nZXM9Ui5wcm90b3R5cGUuRztSLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5hLmRlc3Ryb3koKTt0aGlzLmE9bnVsbH07Ui5wcm90b3R5cGUubGVuZ3RoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS5sZW5ndGgoKX07Ui5wcm90b3R5cGUuZ2V0U2VnbWVudHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLmdldFNlZ21lbnRzKCl9O1IucHJvdG90eXBlLmdldFNlZ21lbnRzPVIucHJvdG90eXBlLmdldFNlZ21lbnRzO1IucHJvdG90eXBlLmZpcnN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS5maXJzdCgpfTtSLnByb3RvdHlwZS5sYXN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS5sYXN0KCl9O1IucHJvdG90eXBlLmxhc3Q9Ui5wcm90b3R5cGUubGFzdDsKUi5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmEuZ2V0KGEpfTtSLnByb3RvdHlwZS5maW5kPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmEuZmluZChhKX07Ui5wcm90b3R5cGUuZmluZEluZGV4PWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmEuZmluZEluZGV4KGEpfTtSLnByb3RvdHlwZS5CPWZ1bmN0aW9uKGEpe3RoaXMuYS5TYShhLmEpO3JldHVybiEwfTtSLnByb3RvdHlwZS5UYT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5hLmhiKGEpfTtSLnByb3RvdHlwZS5BPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS5pYigpfTtSLnByb3RvdHlwZS5nZXRTZWVrUmFuZ2VHYXBzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS5nZXRTZWVrUmFuZ2VHYXBzKCl9O1IucHJvdG90eXBlLmdldFNlZWtSYW5nZUdhcHM9Ui5wcm90b3R5cGUuZ2V0U2Vla1JhbmdlR2FwcztSLnByb3RvdHlwZS5yYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmEucmIoKX07CmZ1bmN0aW9uIHVkKGEsYil7YS5hLkdjKGIpfTtmdW5jdGlvbiBTKGEsYixjLGQpe1IuY2FsbCh0aGlzLGEpO3RoaXMuaT1iO3RoaXMuRj1jO3RoaXMuaD1kO3RoaXMuZHVyYXRpb249dGhpcy5pLmJ8fHRoaXMuaS5hLnJlZHVjZShmdW5jdGlvbihhLGIpe3JldHVybiBudWxsPT1iLmR1cmF0aW9uP05hTjphK2IuZHVyYXRpb259LDApfHwwO3RoaXMuYj10aGlzLm89dGhpcy5mPW51bGw7eWQodGhpcyl9cihTLFIpO1MucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLkY9dGhpcy5pPW51bGw7Ui5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpfTtTLnByb3RvdHlwZS5maW5kPWZ1bmN0aW9uKGEpe3pkKHRoaXMseWEoKS8xRTMpO3JldHVybiBSLnByb3RvdHlwZS5maW5kLmNhbGwodGhpcyxhKX07ClMucHJvdG90eXBlLkI9ZnVuY3Rpb24oYSl7aWYoIShhIGluc3RhbmNlb2YgUykpcmV0dXJuITE7dGhpcy5hLlNhKGEuYSk7dGhpcy5kdXJhdGlvbj1NYXRoLm1heCh0aGlzLmR1cmF0aW9uLGEuZHVyYXRpb24pO251bGw9PXRoaXMuZj8odGhpcy5oPWEuaCx5ZCh0aGlzKSk6QWQodGhpcyk7cmV0dXJuITB9O2Z1bmN0aW9uIHlkKGEpe0FkKGEpO2lmKDAhPWEubGVuZ3RoKCkpe2EubGVuZ3RoKCk7dmFyIGI9bnVsbCE9YS5sYXN0KCkuZW5kVGltZT9hLmxhc3QoKS5lbmRUaW1lOmEubGFzdCgpLnN0YXJ0VGltZTtpZihhLmkuYz5hLmgpYS5mPWI7ZWxzZXt2YXIgYz1hLmgtKGEuaS5jK2EuRi5zdGFydCk7MD5jP2EuZj1iOmM8TWF0aC5tYXgoYS5sYXN0KCkuc3RhcnRUaW1lLGEubGFzdCgpLmVuZFRpbWV8fDApPyhhLmxhc3QoKSxhLmY9Yik6YS5mPWN9YS5vPWEubGFzdCgpLnN0YXJ0VGltZTthLmI9YS5maXJzdCgpLnN0YXJ0VGltZX19ClMucHJvdG90eXBlLlRhPWZ1bmN0aW9uKGEpe2E9Ui5wcm90b3R5cGUuVGEuY2FsbCh0aGlzLGEpO1ZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgibm9fY29ycmVjdF9kZWx0YV93YXJuaW5nIiwhMSl8fE1hdGgubWluLmFwcGx5KG51bGwsdGhpcy5nZXRTZWdtZW50cygpLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YS5lbmRUaW1lfSkubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLmVuZFRpbWUtYS5zdGFydFRpbWV9KSk7bnVsbCE9dGhpcy5mJiYodGhpcy5vKz1hLHRoaXMuYis9YSx0aGlzLmYrPWEpO3JldHVybiBhfTtTLnByb3RvdHlwZS5BPWZ1bmN0aW9uKCl7cmV0dXJuIEJkKHRoaXMseWEoKS8xRTMpfTsKZnVuY3Rpb24gQmQoYSxiKXt6ZChhLGIpO2lmKG51bGw9PWEuZnx8bnVsbD09YS5vfHxudWxsPT1hLmIpcmV0dXJue3N0YXJ0OjAsZW5kOjB9O3ZhciBjPU51bWJlci5QT1NJVElWRV9JTkZJTklUWTthLmR1cmF0aW9uJiYoYz1hLmR1cmF0aW9uKTt2YXIgZD1iLWEuaCxlPWEuZitkO251bGwhPWEuaS5mJiYoZT1lLWEuYi1hLmkuZiwwPGUmJihhLmIrPWUpKTthLmI9TWF0aC5taW4oYS5iLGMpO2Q9YS5vK2Q7aWYoZDxhLmIpcmV0dXJue3N0YXJ0OmEuYixlbmQ6YS5ifTtkPTA8YS5sZW5ndGgoKT9udWxsIT1hLmxhc3QoKS5lbmRUaW1lP01hdGgubWluKGQsYS5sYXN0KCkuZW5kVGltZSk6ZDphLmI7ZD1NYXRoLm1heChkLGEuYik7ZD1NYXRoLm1pbihkLGMpO3JldHVybntzdGFydDphLmIsZW5kOmR9fQpmdW5jdGlvbiB6ZChhLGIpe2lmKGEuYS5hJiYoQWQoYSksbnVsbCE9YS5pLmYpKWlmKG51bGw9PWEuZilhLmxlbmd0aCgpO2Vsc2V7Zm9yKHZhciBjPWEuZisoYi1hLmgpLGQ9MCxlPTA7ZTxhLmEuYS5sZW5ndGg7KytlKXt2YXIgZj1udWxsO2U8YS5hLmEubGVuZ3RoLTE/Zj1hLmEuYVtlKzFdLmVuZFRpbWU6KGY9YS5hLmFbZV0sZj1udWxsIT1mLmVuZFRpbWU/Zi5lbmRUaW1lKyhmLmVuZFRpbWUtZi5zdGFydFRpbWUpOm51bGwpO2lmKG51bGwhPWYmJmY8Yy1hLmkuZikrK2Q7ZWxzZSBicmVha30wPGQmJmEuYS5hLnNwbGljZSgwLGQpfX1mdW5jdGlvbiBBZChhKXtpZihhLmR1cmF0aW9uJiZhLmEuYSl7Zm9yKHZhciBiPTAsYz1hLmEuYS5sZW5ndGgtMTswPD1jOy0tYylpZihhLmEuYVtjXS5zdGFydFRpbWU+YS5kdXJhdGlvbikrK2I7ZWxzZSBicmVhazswPGImJmEuYS5hLnNwbGljZSgtYil9fTtmdW5jdGlvbiBUKGEsYixjKXt2YXIgZD1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigidGVtcGxhdGVkX3F1YXJhbnRpbmVfaWRsZV9yZWZlcmVuY2VzX3RocmVzaG9sZCIsMCk7dGhpcy5pPVtdO2lmKDA8ZCl7dmFyIGU9YTthPWUuc3BsaWNlKC1kKTt0aGlzLmk9ZX10aGlzLmE9YTt0aGlzLlc9MDt0aGlzLnM9Yjt0aGlzLmY9ITE7dGhpcy5oPWZ1bmN0aW9uKCl7fTt0aGlzLkI9Y3x8ITF9VC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuYT1udWxsfTtULnByb3RvdHlwZS5sZW5ndGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLmxlbmd0aH07VC5wcm90b3R5cGUuZ2V0U2VnbWVudHM9ZnVuY3Rpb24oKXtyZXR1cm4odGhpcy5hfHxbXSkuc2xpY2UoKX07VC5wcm90b3R5cGUuZ2V0U2VnbWVudHM9VC5wcm90b3R5cGUuZ2V0U2VnbWVudHM7ClQucHJvdG90eXBlLmZpcnN0PWZ1bmN0aW9uKCl7aWYoMD09dGhpcy5hLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiU2VnbWVudEluZGV4QmFzZTogVGhlcmUgaXMgbm8gZmlyc3QgU2VnbWVudFJlZmVyZW5jZS4iKTtyZXR1cm4gdGhpcy5hWzBdfTtULnByb3RvdHlwZS5sYXN0PWZ1bmN0aW9uKCl7aWYoMD09dGhpcy5hLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiU2VnbWVudEluZGV4QmFzZTogVGhlcmUgaXMgbm8gbGFzdCBTZWdtZW50UmVmZXJlbmNlLiIpO3JldHVybiB0aGlzLmFbdGhpcy5hLmxlbmd0aC0xXX07VC5wcm90b3R5cGUubGFzdD1ULnByb3RvdHlwZS5sYXN0O1QucHJvdG90eXBlLmdldD1mdW5jdGlvbihhKXtpZigwPmF8fGE+PXRoaXMuYS5sZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIlNlZ21lbnRJbmRleEJhc2U6IFRoZSBzcGVjaWZpZWQgaW5kZXggaXMgb3V0IG9mIHJhbmdlLiIpO3JldHVybiB0aGlzLmFbYV19OwpULnByb3RvdHlwZS5maW5kPWZ1bmN0aW9uKGEpe2E9dGhpcy5maW5kSW5kZXgoYSk7cmV0dXJuIDA8PWE/dGhpcy5hW2FdOm51bGx9O1QucHJvdG90eXBlLmZpbmRJbmRleD1mdW5jdGlvbihhKXtyZXR1cm4geWIodGhpcy5hLGEpfTsKVC5wcm90b3R5cGUuU2E9ZnVuY3Rpb24oYSl7dGhpcy5XIT1hLlcmJihhPW5ldyBUKGtkKGEuYSx0aGlzLlctYS5XKSxhLnMpKTtpZigwPT10aGlzLmxlbmd0aCgpKXRoaXMuYT1hLmEuc2xpY2UoMCksdGhpcy5JYSgpO2Vsc2UgaWYoMCE9YS5sZW5ndGgoKSYmbnVsbCE9dGhpcy5sYXN0KCkuZW5kVGltZSlpZihudWxsIT1hLmxhc3QoKS5lbmRUaW1lJiZhLmxhc3QoKS5lbmRUaW1lPHRoaXMubGFzdCgpLmVuZFRpbWUpVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJmaXhfbWFuaWZlc3Rfd3JhcHBlZCIsITApP2EubGFzdCgpLmVuZFRpbWU8dGhpcy5maXJzdCgpLnN0YXJ0VGltZSYmKHRoaXMuZj0hMCk6dGhpcy5mPSEwO2Vsc2V7dGhpcy5mPSExO2lmKHRoaXMubGFzdCgpLmVuZFRpbWU8PWEuZmlyc3QoKS5zdGFydFRpbWUpe3ZhciBiPWpkKHRoaXMubGFzdCgpLHRoaXMubGFzdCgpLnN0YXJ0VGltZSxhLmZpcnN0KCkuc3RhcnRUaW1lKSxjPXRoaXMubGFzdCgpLnVuc2NhbGVkU3RhcnRUaW1lKwp0aGlzLmxhc3QoKS51bnNjYWxlZER1cmF0aW9uO1ZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgiY2FsY3VsYXRlX21pc3NlZF9zZWdtZW50X2dhcF9pbmZvX29uX21lcmdlIiwhMSkmJmM8YS5maXJzdCgpLnVuc2NhbGVkU3RhcnRUaW1lJiZudWxsPT09dGhpcy5sYXN0KCkudGltZXNjYWxlZEdhcEluZm8mJihiLnRpbWVzY2FsZWRHYXBJbmZvPW5ldyBoZChjL3RoaXMucywoYS5maXJzdCgpLnVuc2NhbGVkU3RhcnRUaW1lLWMpL3RoaXMucykpO2lmKFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgidGVtcGxhdGVkX29wdGltaXplX21lcmdlX3RhcmdldF9hbGdvcyIsITEpKWZvcih0aGlzLmEucG9wKCksdGhpcy5hLnB1c2goYiksYz0wO2M8YS5hLmxlbmd0aDsrK2MpdGhpcy5hLnB1c2goYS5hW2NdKTtlbHNlIGI9dGhpcy5hLnNsaWNlKDAsLTEpLmNvbmNhdChbYl0pLHRoaXMuYT1iLmNvbmNhdChhLmEpfWVsc2V7Zm9yKGM9MDtjPHRoaXMuYS5sZW5ndGgmJgohKHRoaXMuYVtjXS5lbmRUaW1lPj1hLmZpcnN0KCkuc3RhcnRUaW1lKTsrK2MpO3RoaXMuYVtjXS5zdGFydFRpbWU8YS5maXJzdCgpLnN0YXJ0VGltZT8oYj1qZCh0aGlzLmFbY10sdGhpcy5hW2NdLnN0YXJ0VGltZSxhLmZpcnN0KCkuc3RhcnRUaW1lKSxiPXRoaXMuYS5zbGljZSgwLGMpLmNvbmNhdChbYl0pKToodGhpcy5maXJzdCgpLnN0YXJ0VGltZT5hLmZpcnN0KCkuc3RhcnRUaW1lfHxhLmZpcnN0KCksYj10aGlzLmEuc2xpY2UoMCxjKSk7dGhpcy5hPWIuY29uY2F0KGEuYSl9dGhpcy5oKGEuYSk7dGhpcy5JYSgpfX07VC5wcm90b3R5cGUuaGI9ZnVuY3Rpb24oYSl7dmFyIGI9YS10aGlzLlc7aWYoMD09YilyZXR1cm4gMDt0aGlzLmE9a2QodGhpcy5hLGIpO3RoaXMuSWEoKTt0aGlzLlc9YTtyZXR1cm4gYn07ClQucHJvdG90eXBlLmliPWZ1bmN0aW9uKCl7cmV0dXJuIDA8dGhpcy5sZW5ndGgoKT97c3RhcnQ6dGhpcy5maXJzdCgpLnN0YXJ0VGltZSxlbmQ6dGhpcy5sYXN0KCkuZW5kVGltZX06e3N0YXJ0OjAsZW5kOjB9fTtULnByb3RvdHlwZS5nZXRTZWVrUmFuZ2VHYXBzPWZ1bmN0aW9uKCl7cmV0dXJuIGdldFNlZWtSYW5nZUdhcHNGcm9tU2hha2FSZWZlcmVuY2VzKHRoaXMuYSx0aGlzLnMpfTtULnByb3RvdHlwZS5nZXRTZWVrUmFuZ2VHYXBzPVQucHJvdG90eXBlLmdldFNlZWtSYW5nZUdhcHM7VC5wcm90b3R5cGUucmI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mfTtULnByb3RvdHlwZS5HYz1mdW5jdGlvbihhKXt0aGlzLmg9YX07VC5wcm90b3R5cGUuRmM9ZnVuY3Rpb24oKXt0aGlzLmg9ZnVuY3Rpb24oKXt9fTtULnByb3RvdHlwZS5JYT1mdW5jdGlvbigpe307VC5wcm90b3R5cGUuZ2V0SWRsZVJlZmVyZW5jZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pfTtmdW5jdGlvbiBDZChhLGIsYyxkLGUpe3ZhciBmPTEsZz0wLGg7aWYoYS5jPmQpaD1udWxsO2Vsc2V7dmFyIGs9YS5vfHwwLGw9YS5mfHwwO2g9Yy5hO2g9aC5IL2guczt2YXIgbT1kLShhLmMrYi5zdGFydCk7MD5tP2g9bnVsbDoobD1tLTIqaC1sLDA+bCYmKGw9MCksbD1NYXRoLmNlaWwobC9oKSpoLG0tPWgsMD5tP2g9bnVsbDooaz1NYXRoLmZsb29yKG0vaCkqaC1rLDA+ayYmKGs9MCksaz1NYXRoLmZsb29yKGsvaCkqaCxoPXt0YzpsL2grMSxjdXJyZW50OihrPj1sP2s6bCkvaCsxfSkpfWgmJihmPWgudGMsZz1oLmN1cnJlbnQtaC50YysxKTtmPWxkKGUsYyxmLGcpO2lmKG51bGw9PWYpdGhyb3cgYT1FcnJvcigiRmFpbGVkIHRvIGdlbmVyYXRlIFNlZ21lbnRSZWZlcmVuY2VzLiIpLGEudHlwZT0ic3RyZWFtIixhO2Y9bmV3IFQoZixjLmEuc3x8MSk7Uy5jYWxsKHRoaXMsZixhLGIsZCk7dGhpcy53PWM7dGhpcy5tPXRoaXMuYz0wPHRoaXMubGVuZ3RoKCk/YS5jK2Iuc3RhcnQrdGhpcy5sYXN0KCkuZW5kVGltZToKbnVsbDt0aGlzLmo9aD9oLmN1cnJlbnQrMTpudWxsO3RoaXMuRD1lfXIoQ2QsUyk7Q2QucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLkQ9dGhpcy53PW51bGw7Uy5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpfTtDZC5wcm90b3R5cGUuZmluZD1mdW5jdGlvbihhKXt2YXIgYj15YSgpLzFFMztEZCh0aGlzLGIpO3pkKHRoaXMsYik7cmV0dXJuIFIucHJvdG90eXBlLmZpbmQuY2FsbCh0aGlzLGEpfTtDZC5wcm90b3R5cGUuQj1mdW5jdGlvbihhKXtpZihudWxsIT10aGlzLmN8fCEoYSBpbnN0YW5jZW9mIENkKXx8bnVsbD09YS5jKXJldHVybiExO3RoaXMuYz1hLmM7dGhpcy5tPWEubTt0aGlzLmo9YS5qO3RoaXMuaD1hLmg7dGhpcy5kdXJhdGlvbj1hLmR1cmF0aW9uO3RoaXMuYS5TYShhLmEpO0RkKHRoaXMseWEoKS8xRTMpO3lkKHRoaXMpO3JldHVybiEwfTsKQ2QucHJvdG90eXBlLlRhPWZ1bmN0aW9uKGEpe2E9Uy5wcm90b3R5cGUuVGEuY2FsbCh0aGlzLGEpO251bGwhPXRoaXMuYyYmKHRoaXMuYys9YSx0aGlzLm0rPWEpO3JldHVybiBhfTtDZC5wcm90b3R5cGUuQT1mdW5jdGlvbigpe3ZhciBhPXlhKCkvMUUzO0RkKHRoaXMsYSk7cmV0dXJuIEJkKHRoaXMsYSl9O2Z1bmN0aW9uIERkKGEsYil7aWYobnVsbCE9YS5jJiZudWxsIT1hLm0mJm51bGwhPWEuail7dmFyIGM9YS53LmEsYz1jLkgvYy5zLGQ9TWF0aC5mbG9vcigoYS5tKyhiLWEuaCktYS5jKS9jKTtpZigwIT1kKXt2YXIgZT1sZChhLkQsYS53LGEuaixkKTtBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShhLmEuYSxrZChlLGEuYS5XKSk7YS5hLklhKCk7YS5jKz1kKmM7YS5qKz1kfX19O2Z1bmN0aW9uIEVkKGEsYixjLGQsZSl7dGhpcy5nPWE7dGhpcy5mPWI7dGhpcy5iPWM7dGhpcy5pPWQ7dGhpcy5hPW51bGw7dGhpcy5oPWV9RWQucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmg9dGhpcy5iPXRoaXMuZj10aGlzLmc9bnVsbDt0aGlzLmEmJih0aGlzLmEuZGVzdHJveSgpLHRoaXMuYT1udWxsKX07CkVkLnByb3RvdHlwZS5jcmVhdGU9ZnVuY3Rpb24oKXtpZih0aGlzLmEpcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLmEpO2lmKCJkeW5hbWljIj09dGhpcy5nLnR5cGUpdHJ5e3RoaXMuYT1uZXcgQ2QodGhpcy5nLHRoaXMuZix0aGlzLmIsdGhpcy5pLHRoaXMuaCl9Y2F0Y2goYSl7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfWVsc2V7dmFyIGI7Yj10aGlzLmIuYTtpZihiPWxkKHRoaXMuaCx0aGlzLmIsMSxNYXRoLmNlaWwodGhpcy5mLmR1cmF0aW9uLyhiLkgvYi5zKSkpKXtpZigwPGIubGVuZ3RoKXt2YXIgYz1iW2IubGVuZ3RoLTFdO2JbYi5sZW5ndGgtMV09amQoYyxjLnN0YXJ0VGltZSx0aGlzLmYuZHVyYXRpb24pfWI9bmV3IFQoYix0aGlzLmIuYS5zfHwxKTtiPW5ldyBSKGIpfWVsc2UgYj1udWxsO3RoaXMuYT1iO2lmKCF0aGlzLmEpcmV0dXJuIGI9RXJyb3IoIkZhaWxlZCB0byBnZW5lcmF0ZSBTZWdtZW50UmVmZXJlbmNlcyIpLGIudHlwZT0ic3RyZWFtIixQcm9taXNlLnJlamVjdChiKX1yZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuYSl9OwpFZC5wcm90b3R5cGUuYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmF9O2Z1bmN0aW9uIEZkKGEsYixjLGQsZSxmKXt0aGlzLmY9YTt0aGlzLmI9Yjt0aGlzLmg9Yzt0aGlzLmE9bnVsbDt0aGlzLmk9ZDt0aGlzLmc9ZTt0aGlzLmo9Znx8bnVsbH1GZC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuZz10aGlzLmg9dGhpcy5iPXRoaXMuZj1udWxsO3RoaXMuYSYmKHRoaXMuYS5kZXN0cm95KCksdGhpcy5hPW51bGwpfTsKRmQucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbigpe2lmKHRoaXMuYSlyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuYSk7dmFyIGE9dGhpcy5oLmIsYj1bXTthLkMmJihiPW9kKGEuQyxhLnN8fDEsdGhpcy5iLmR1cmF0aW9ufHwwKSk7dmFyIGM9MDthLkgmJmEuYz9jPShhLmMtMSkqYS5IOjA8Yi5sZW5ndGgmJihjPWJbMF0uc3RhcnQtKGEuTHx8MCkpO3ZhciBkPWMsZT1hLmEubGVuZ3RoOzA8Yi5sZW5ndGgmJmIubGVuZ3RoIT1hLmEubGVuZ3RoJiYoZT1NYXRoLm1pbihiLmxlbmd0aCxhLmEubGVuZ3RoKSk7Zm9yKHZhciBmPVtdLGc9MDtnPGU7KytnKXt2YXIgaD1hLmFbZ10saz1jLGw9ay9hLnMsbT1jPW51bGwscDthLkg/KGM9aythLkgsbT1jL2Eucyk6MDxiLmxlbmd0aD8ocD1iW2ddLnRpbWVzY2FsZWRHYXBJbmZvLGM9YltnXS5lbmQtKGEuTHx8MCksbT1jL2Eucyk6KG09bCt0aGlzLmIuZHVyYXRpb24sYz1tKmEucyk7dmFyIHQ9MCx3PW51bGw7aC5hJiYodD1oLmEucWEsCnc9aC5hLmVuZCk7bT1NYXRoLm1pbih0aGlzLmIuZHVyYXRpb24rZC9hLnMsbSk7Zi5wdXNoKG5ldyBpZChsLG0sbmV3IEsodGhpcy5nLGguYix0LHcsdm9pZCAwLHRoaXMuaiksayxwfHxudWxsKSl9YT1uZXcgVChmLGEuc3x8MSk7ImR5bmFtaWMiPT10aGlzLmYudHlwZT90aGlzLmE9bmV3IFMoYSx0aGlzLmYsdGhpcy5iLHRoaXMuaSk6dGhpcy5hPW5ldyBSKGEpO3JldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5hKX07RmQucHJvdG90eXBlLmM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hfTtmdW5jdGlvbiBHZChhLGIsYyl7VC5jYWxsKHRoaXMsYSxjKTt0aGlzLmc9Yjt0aGlzLmI9ITE7dGhpcy5qPVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0U3RyaW5nKCJ0ZW1wbGF0ZWRfcGVyZl90ZXN0X21ldGhvZHNfdW5kZXJfdGVzdF9jc3Zfc3RyaW5nIiwiYWxsIikuc3BsaXQoIiwiKX1yKEdkLFQpO2Z1bmN0aW9uIEhkKGEsYil7aWYoISgtMTxhLmouaW5kZXhPZigiYWxsIil8fC0xPGEuai5pbmRleE9mKGIpKXx8YS5iKXJldHVybiBudWxsO3ZhciBjPWEuYTthLmE9YS5nO2EuYj0hMDtyZXR1cm4gY31mdW5jdGlvbiBJZChhLGIpe2EuYiYmKGEuZz1hLmEsYS5hPWIpfUdkLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7VC5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpO3RoaXMuZz1udWxsfTsKR2QucHJvdG90eXBlLmxlbmd0aD1mdW5jdGlvbigpe3ZhciBhPUhkKHRoaXMsImxlbmd0aCIpLGI9VC5wcm90b3R5cGUubGVuZ3RoLmNhbGwodGhpcyk7YSYmKElkKHRoaXMsYSksYj1ULnByb3RvdHlwZS5sZW5ndGguY2FsbCh0aGlzKSx0aGlzLmI9ITEpO3JldHVybiBifTtHZC5wcm90b3R5cGUuZ2V0U2VnbWVudHM9ZnVuY3Rpb24oKXt2YXIgYT1IZCh0aGlzLCJnZXRTZWdtZW50cyIpLGI9VC5wcm90b3R5cGUuZ2V0U2VnbWVudHMuY2FsbCh0aGlzKTthJiYoSWQodGhpcyxhKSxiPVQucHJvdG90eXBlLmdldFNlZ21lbnRzLmNhbGwodGhpcyksdGhpcy5iPSExKTtyZXR1cm4gYn07R2QucHJvdG90eXBlLmZpcnN0PWZ1bmN0aW9uKCl7dmFyIGE9SGQodGhpcywiZmlyc3QiKSxiPVQucHJvdG90eXBlLmZpcnN0LmNhbGwodGhpcyk7YSYmKElkKHRoaXMsYSksYj1ULnByb3RvdHlwZS5maXJzdC5jYWxsKHRoaXMpLHRoaXMuYj0hMSk7cmV0dXJuIGJ9OwpHZC5wcm90b3R5cGUubGFzdD1mdW5jdGlvbigpe3ZhciBhPUhkKHRoaXMsImxhc3QiKSxiPVQucHJvdG90eXBlLmxhc3QuY2FsbCh0aGlzKTthJiYoSWQodGhpcyxhKSxiPVQucHJvdG90eXBlLmxhc3QuY2FsbCh0aGlzKSx0aGlzLmI9ITEpO3JldHVybiBifTtHZC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGEpe3ZhciBiPUhkKHRoaXMsImdldCIpLGM7Yz1iP1QucHJvdG90eXBlLmdldC5jYWxsKHRoaXMsYSsodGhpcy5hLmxlbmd0aC1iLmxlbmd0aCkpOlQucHJvdG90eXBlLmdldC5jYWxsKHRoaXMsYSk7YiYmKElkKHRoaXMsYiksYz1ULnByb3RvdHlwZS5nZXQuY2FsbCh0aGlzLGEpLHRoaXMuYj0hMSk7cmV0dXJuIGN9O0dkLnByb3RvdHlwZS5maW5kPWZ1bmN0aW9uKGEpe3ZhciBiPUhkKHRoaXMsImZpbmQiKSxjPVQucHJvdG90eXBlLmZpbmQuY2FsbCh0aGlzLGEpO2ImJihJZCh0aGlzLGIpLGM9VC5wcm90b3R5cGUuZmluZC5jYWxsKHRoaXMsYSksdGhpcy5iPSExKTtyZXR1cm4gY307CkdkLnByb3RvdHlwZS5maW5kSW5kZXg9ZnVuY3Rpb24oYSl7dmFyIGI9SGQodGhpcywiZmluZEluZGV4IiksYz1ULnByb3RvdHlwZS5maW5kSW5kZXguY2FsbCh0aGlzLGEpO2ImJihJZCh0aGlzLGIpLGM9VC5wcm90b3R5cGUuZmluZEluZGV4LmNhbGwodGhpcyxhKSx0aGlzLmI9ITEpO3JldHVybiBjfTtuPUdkLnByb3RvdHlwZTtuLlNhPWZ1bmN0aW9uKGEpe3ZhciBiPUhkKHRoaXMsIm1lcmdlIiksYz1ULnByb3RvdHlwZS5TYS5jYWxsKHRoaXMsYSk7YiYmKElkKHRoaXMsYiksYz1ULnByb3RvdHlwZS5TYS5jYWxsKHRoaXMsYSksdGhpcy5iPSExKTtyZXR1cm4gY307bi5oYj1mdW5jdGlvbihhKXt2YXIgYj1IZCh0aGlzLCJjb3JyZWN0IiksYz1ULnByb3RvdHlwZS5oYi5jYWxsKHRoaXMsYSk7YiYmKElkKHRoaXMsYiksYz1ULnByb3RvdHlwZS5oYi5jYWxsKHRoaXMsYSksdGhpcy5iPSExKTtyZXR1cm4gY307Cm4uaWI9ZnVuY3Rpb24oKXt2YXIgYT1IZCh0aGlzLCJnZXRTZWVrUmFuZ2UiKSxiPVQucHJvdG90eXBlLmliLmNhbGwodGhpcyk7YSYmKElkKHRoaXMsYSksYj1ULnByb3RvdHlwZS5pYi5jYWxsKHRoaXMpLHRoaXMuYj0hMSk7cmV0dXJuIGJ9O24uZ2V0U2Vla1JhbmdlR2Fwcz1mdW5jdGlvbigpe3ZhciBhPUhkKHRoaXMsImdldFNlZWtSYW5nZUdhcHMiKSxiPVQucHJvdG90eXBlLmdldFNlZWtSYW5nZUdhcHMuY2FsbCh0aGlzKTthJiYoSWQodGhpcyxhKSxiPVQucHJvdG90eXBlLmdldFNlZWtSYW5nZUdhcHMuY2FsbCh0aGlzKSx0aGlzLmI9ITEpO3JldHVybiBifTtuLklhPWZ1bmN0aW9uKCl7dmFyIGE9SGQodGhpcywiYXNzZXJ0Q29ycmVjdFJlZmVyZW5jZXMiKTtULnByb3RvdHlwZS5JYS5jYWxsKHRoaXMpO2EmJihJZCh0aGlzLGEpLFQucHJvdG90eXBlLklhLmNhbGwodGhpcyksdGhpcy5iPSExKX07ZnVuY3Rpb24gSmQoYSxiLGMsZCxlLGYsZyxoKXt0aGlzLm09YTt0aGlzLmE9Yjt0aGlzLmc9Yzt0aGlzLmY9ZDt0aGlzLm89ZTt0aGlzLmI9bnVsbDt0aGlzLmk9Zjt0aGlzLmg9bnVsbDt0aGlzLmo9aHx8bnVsbH1KZC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuaT10aGlzLmY9dGhpcy5nPXRoaXMuYT1udWxsO3RoaXMuYiYmKHRoaXMuYi5kZXN0cm95KCksdGhpcy5iPW51bGwpfTsKSmQucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbigpe2lmKHRoaXMuYilyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuYik7dmFyIGE9VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJmYmxzX3VzZV90aW1lbGluZV9zZWdtZW50X2luZGV4IiwhMSk7aWYoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJ1c2VfdGltZWxpbmVfc2VnbWVudF9pbmRleCIsITEpJiYodGhpcy5hLkZCSXNMaXZlVGVtcGxhdGVkfHx0aGlzLmEuRkJXYXNMaXZlfHxhKSlhPW5ldyBwZCh0aGlzLmcsdGhpcy5mLHRoaXMuZi5hLHRoaXMuaSx0aGlzLmopO2Vsc2V7Zm9yKHZhciBhPXRoaXMuZi5hLGI9b2QoYS5DLGEuc3x8MSx0aGlzLmcuZHVyYXRpb258fDAsdGhpcy5tLmdldE51bWJlcigibnVtX3ByZWRpY3RpdmVfc2VnbWVudHMiLDApLHRoaXMuYS5GQklzTGl2ZVRlbXBsYXRlZHx8dGhpcy5hLkZCV2FzTGl2ZSx0aGlzLmgpLGM9W10sZD0wO2Q8Yi5sZW5ndGg7KytkKXt2YXIgZT0KYltkXS5zdGFydCxmPWJbZF0uZW5kLGc9YltkXS51ZHx8MCxoPWJbZF0udGltZXNjYWxlZEdhcEluZm8saz1lL2EucyxsPWYvYS5zLG09ZCthLmIscD1lLG09bWQodGhpcy5pLHRoaXMuZiwwPGc/ZzptLHAsMDxnPyEwOiExLHRoaXMuaik7aWYoIW0pcmV0dXJuIGE9RXJyb3IoIkZhaWxlZCB0byBnZW5lcmF0ZSBtZWRpYSBVUkwuIiksYS50eXBlPSJkYXNoIixQcm9taXNlLnJlamVjdChhKTt2YXIgdD0oYS5MfHwwKS9hLnM7Yy5wdXNoKG5ldyBpZChrLXQsbC10LG0scCxmLWUsaHx8bnVsbCwwPGcpKX1iPXRoaXMuYS5GQklzTGl2ZVRlbXBsYXRlZHx8dGhpcy5hLkZCV2FzTGl2ZTtWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigidGVtcGxhdGVkX3VzZV9wZXJmX3Rlc3Rfc2VnbWVudF9pbmRleF9iYXNlX2ludCIsMCkmJm51bGw9PXRoaXMuaCYmdGhpcy5hLkZCSXNMaXZlVGVtcGxhdGVkPyhiPWMsYz1iLnNsaWNlKC1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigidGVtcGxhdGVkX3VzZV9wZXJmX3Rlc3Rfc2VnbWVudF9pbmRleF9iYXNlX2ludCIsCjApKSxhPW5ldyBHZChjLGIsYS5zfHwxKSk6YT1uZXcgVChjLGEuc3x8MSxiKX10aGlzLmEubWFuaWZlc3RJc0xpdmVTdHJlYW1pbmc/dGhpcy5iPW5ldyBTKGEsdGhpcy5hLHRoaXMuZyx0aGlzLm8pOnRoaXMuYj1uZXcgUihhKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuYil9O0pkLnByb3RvdHlwZS5jPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYn07SmQucHJvdG90eXBlLkVjPWZ1bmN0aW9uKGEpe3RoaXMuaD1hfTtmdW5jdGlvbiBLZCgpe3RoaXMuWD1MZCsrO3RoaXMuaWQ9dGhpcy5hYT10aGlzLk09bnVsbDt0aGlzLmE9MDt0aGlzLmhlaWdodD10aGlzLndpZHRoPXRoaXMuYmFuZHdpZHRoPW51bGw7dGhpcy5jb2RlY3M9dGhpcy5taW1lVHlwZT0iIjt0aGlzLmY9dGhpcy5mYlF1YWxpdHlDbGFzcz10aGlzLmZiUXVhbGl0eUxhYmVsPW51bGw7dGhpcy5mcmFtZVJhdGU9IiI7dGhpcy5zd2l0Y2hSZWFzb249dGhpcy5oPXRoaXMuZz10aGlzLmM9bnVsbDt0aGlzLmI9W107dGhpcy5vYT0hMTt0aGlzLmZhPSEwfXZhciBMZD0wO0tkLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5NJiYodGhpcy5NLmRlc3Ryb3koKSx0aGlzLk09bnVsbCk7dGhpcy5hYSYmKHRoaXMuYWEuZGVzdHJveSgpLHRoaXMuYWE9bnVsbCl9O2Z1bmN0aW9uIE1kKGEpe3JldHVybiBhLm1pbWVUeXBlLnNwbGl0KCIvIilbMF19CmZ1bmN0aW9uIE5kKGEpe3ZhciBiPWEubWltZVR5cGV8fCIiO2EuY29kZWNzJiYoYis9JzsgY29kZWNzPSInK2EuY29kZWNzKyciJyk7cmV0dXJuIGJ9ZnVuY3Rpb24gT2QoKXt0aGlzLlg9UGQrKzt0aGlzLmlkPW51bGw7dGhpcy5jb250ZW50VHlwZT10aGlzLmxhbmc9IiI7dGhpcy5mPXRoaXMuYj0hMTt0aGlzLmM9bnVsbDt0aGlzLnY9W107dGhpcy5hPVtdfXZhciBQZD0wO09kLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7Zm9yKHZhciBhPTA7YTx0aGlzLnYubGVuZ3RoOysrYSl0aGlzLnZbYV0uZGVzdHJveSgpO3RoaXMuYT10aGlzLnY9bnVsbH07ZnVuY3Rpb24gUWQoYSl7Zm9yKHZhciBiPVtdLGM9MDtjPGEuYS5sZW5ndGg7KytjKXt2YXIgZD1uZXcgUmQ7ZC5pZD1hLlg7ZC5hPWEuYVtjXTtkLmNvbnRlbnRUeXBlPWEuY29udGVudFR5cGU7ZC5iPWEudi5sZW5ndGg/TmQoYS52WzBdKToiIjtiLnB1c2goZCl9cmV0dXJuIGJ9CmZ1bmN0aW9uIFNkKCl7dGhpcy5pZD1udWxsO3RoaXMuc3RhcnQ9MDt0aGlzLmR1cmF0aW9uPW51bGw7dGhpcy5hPVtdfVNkLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7Zm9yKHZhciBhPTA7YTx0aGlzLmEubGVuZ3RoOysrYSl0aGlzLmFbYV0uZGVzdHJveSgpO3RoaXMuYT1udWxsfTtmdW5jdGlvbiBUZCgpe3RoaXMuQT10aGlzLmY9dGhpcy5iPSExO3RoaXMubz10aGlzLm09dGhpcy5CPTA7dGhpcy5qPXRoaXMuaT10aGlzLmM9bnVsbDt0aGlzLmc9MDt0aGlzLmE9W107dGhpcy5oPSExO3RoaXMudz0ibm9uZSI7dGhpcy51PW51bGx9VGQucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXtmb3IodmFyIGE9MDthPHRoaXMuYS5sZW5ndGg7KythKXRoaXMuYVthXS5kZXN0cm95KCk7dGhpcy5hPW51bGx9O2Z1bmN0aW9uIFJkKCl7dGhpcy5pZD0wO3RoaXMuYT1udWxsO3RoaXMuYj10aGlzLmNvbnRlbnRUeXBlPSIifTtmdW5jdGlvbiBVKGEsYixjLGQsZSxmLGcsaCxrLGwsbSxwLHQsdyl7Ri5jYWxsKHRoaXMsYSk7dGhpcy5iPWI7dGhpcy5hPWM7dGhpcy5jPW5ldyBuYihjLGQsZSxmLHRoaXMsaCx3KTt0aGlzLlBhPWg7dGhpcy5vPXt9O3RoaXMucmE9Zjt0aGlzLnlhPTA7dGhpcy5tYT10aGlzLmY9dGhpcy5nPW51bGw7dGhpcy50YT0hMTt0aGlzLnc9dGhpcy5jYT1udWxsO3RoaXMuUz0hMTt0aGlzLmphPTA7dGhpcy5rYT0hMTt0aGlzLkQ9bnVsbDt0aGlzLlo9dGhpcy5lYT10aGlzLmg9ITE7dGhpcy5PPW5ldyBJO3RoaXMuRz10aGlzLlQ9dGhpcy5CPSExO3RoaXMuUj0wO3RoaXMuZ2E9MTU7dGhpcy5HYT10aGlzLnZhPXRoaXMuVT0hMTt0aGlzLm5hPTE7dGhpcy4kPWc7dGhpcy54YT0hMTt0aGlzLmw9bnVsbDt0aGlzLkhhPSExO3RoaXMuST10aGlzLko9dGhpcy5LPW51bGw7dGhpcy5WPSExO3RoaXMudT1tfHxudWxsO3RoaXMuRj1wfHxudWxsO3RoaXMuaj10fHxudWxsO3RoaXMuWT1udWxsO3RoaXMuYmE9CiExO3RoaXMuRGE9e307dGhpcy5GYT1rO3RoaXMuaT1udWxsO3RoaXMuaWE9ITE7dGhpcy5FYT0wO3RoaXMuQ2E9ZT9lLnNwbGl0KCI7IilbMF06IiI7dGhpcy5QPSExO3RoaXMud2E9MDt0aGlzLnNhPWw7dGhpcy5BPXRoaXMubT1udWxsfXIoVSxGKTtVLnByb3RvdHlwZS5CYT1mdW5jdGlvbigpe3JldHVybntTb3VyY2VCdWZmZXJNYW5hZ2VyOnRoaXMuY319O1UucHJvdG90eXBlLmdldERlYnVnPVUucHJvdG90eXBlLkJhO2Z1bmN0aW9uIFVkKGEsYil7cmV0dXJuIG5ldyBWaWRlb1BsYXllckJpdHJhdGVFc3RpbWF0b3IobmV3IHgoYS5hLmdldE51bWJlcigibGl2ZV9iaXRyYXRlX2VzdGltYXRlc19oYWxmX2xpZmUiLDIpKSxiLGEuYS5nZXROdW1iZXIoImxpdmVfYml0cmF0ZV9lc3RpbWF0ZXNfbWluaW11bV9zYW1wbGVfY291bnQiLDEpLGEuYS5nZXROdW1iZXIoImxpdmVfYml0cmF0ZV9lc3RpbWF0ZXNfbGFyZ2Vfc2FtcGxlX3dlaWdodF9mYWN0b3IiLDEwKSl9ClUucHJvdG90eXBlLnBhPWZ1bmN0aW9uKGEpe251bGwhPWEuaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemUmJih0aGlzLlI9TnVtYmVyKGEuaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemUpKTt2YXIgYj10aGlzLmEuZ2V0TnVtYmVyKCJpbml0aWFsX3N0cmVhbV9idWZmZXJfc2l6ZV9mb3JfdmlkZW9fc3RyZWFtIiwwKTswPGImJi0xIT09dGhpcy5DYS5pbmRleE9mKCJ2IikmJih0aGlzLlI9Yik7bnVsbCE9YS5keW5hbWljU3RyZWFtQnVmZmVyU2l6ZSYmKHRoaXMuamE9TnVtYmVyKGEuZHluYW1pY1N0cmVhbUJ1ZmZlclNpemUpKTtudWxsIT1hLnNtYXJ0QnVmZmVyQWRqdXN0bWVudFBhcmFtcyYmKHRoaXMuRGE9YS5zbWFydEJ1ZmZlckFkanVzdG1lbnRQYXJhbXMpO251bGwhPWEuc21hcnRCdWZmZXJBZGp1c3RtZW50RW5hYmxlZCYmKHRoaXMuYmE9Qm9vbGVhbihhLnNtYXJ0QnVmZmVyQWRqdXN0bWVudEVuYWJsZWQpKTtudWxsIT1hLnN0cmVhbUJ1ZmZlclNpemUmJih0aGlzLmdhPU51bWJlcihhLnN0cmVhbUJ1ZmZlclNpemUpKTsKbnVsbCE9YS5maXhCdWZmZXJpbmdHb2FsRGV0ZXJtaW5hdGlvbiYmKHRoaXMuVT1Cb29sZWFuKGEuZml4QnVmZmVyaW5nR29hbERldGVybWluYXRpb24pKTtudWxsIT1hLmFkZENkbkRlYnVnUXVlcnlQYXJhbWV0ZXJzJiYodGhpcy52YT1Cb29sZWFuKGEuYWRkQ2RuRGVidWdRdWVyeVBhcmFtZXRlcnMpKTtudWxsIT1hLnVzZUluaXRpYWxCdWZmZXJTaXplV2hlblBhdXNlZCYmKHRoaXMuR2E9Qm9vbGVhbihhLnVzZUluaXRpYWxCdWZmZXJTaXplV2hlblBhdXNlZCkpO251bGwhPWEuc2VnbWVudFJlcXVlc3RUaW1lb3V0JiYodGhpcy5jLlQ9TnVtYmVyKGEuc2VnbWVudFJlcXVlc3RUaW1lb3V0KSk7bnVsbCE9YS5yZXNvbHZlVmlkZW9UaW1lVXBkYXRlT25GcmFnbWVudGVkVGltZVJhbmdlcyYmKHRoaXMueGE9Qm9vbGVhbihhLnJlc29sdmVWaWRlb1RpbWVVcGRhdGVPbkZyYWdtZW50ZWRUaW1lUmFuZ2VzKSk7bnVsbCE9YS5wZXJmb3JtYW5jZUxvZ2dlciYmKHRoaXMubD10aGlzLm8ucGVyZm9ybWFuY2VMb2dnZXI9CmEucGVyZm9ybWFuY2VMb2dnZXIpO251bGwhPWEuYWJyTG9nZ2VyJiYodGhpcy5vLmFickxvZ2dlcj1hLmFickxvZ2dlcik7bnVsbCE9YS5yZWFwcGVuZEluaXRTZWdtZW50QWZ0ZXJBYm9ydCYmKHRoaXMuby5yZWFwcGVuZEluaXRTZWdtZW50QWZ0ZXJBYm9ydD1Cb29sZWFuKGEucmVhcHBlbmRJbml0U2VnbWVudEFmdGVyQWJvcnQpKTtudWxsIT1hLmxpdmVEYXRhRmV0Y2hNYXhSZXRyaWVzJiYodGhpcy5vLmxpdmVEYXRhRmV0Y2hNYXhSZXRyaWVzPU51bWJlcihhLmxpdmVEYXRhRmV0Y2hNYXhSZXRyaWVzKSk7bnVsbCE9YS5saXZlU291cmNlQnVmZmVyQ2xlYXJNYXhSZXRyaWVzJiYodGhpcy5vLmxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXM9TnVtYmVyKGEubGl2ZVNvdXJjZUJ1ZmZlckNsZWFyTWF4UmV0cmllcykpO251bGwhPWEuc2tpcEVtcHR5U2VnbWVudHMmJih0aGlzLm8uc2tpcEVtcHR5U2VnbWVudHM9Qm9vbGVhbihhLnNraXBFbXB0eVNlZ21lbnRzKSk7bnVsbCE9CmEucGxheWhlYWRGcmFnbWVudGVkR2FwRGlmZkFsbG93YW5jZSYmKHRoaXMuby5wbGF5aGVhZEZyYWdtZW50ZWRHYXBEaWZmQWxsb3dhbmNlPU51bWJlcihhLnBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2UpKTtudWxsIT1hLnVzZU1pY3JvVGFza1RpbWVvdXRzJiYodGhpcy5IYT1Cb29sZWFuKGEudXNlTWljcm9UYXNrVGltZW91dHMpKTthPXRoaXMuYztiPXRoaXMubztudWxsIT1iLnJlYXBwZW5kSW5pdFNlZ21lbnRBZnRlckFib3J0JiYoYS5SPUJvb2xlYW4oYi5yZWFwcGVuZEluaXRTZWdtZW50QWZ0ZXJBYm9ydCkpO251bGwhPWIucGVyZm9ybWFuY2VMb2dnZXImJihhLmw9Yi5wZXJmb3JtYW5jZUxvZ2dlcik7bnVsbCE9Yi5hYnJMb2dnZXImJihhLkk9Yi5hYnJMb2dnZXIpO251bGwhPWIubGl2ZURhdGFGZXRjaE1heFJldHJpZXMmJihhLk89Yi5saXZlRGF0YUZldGNoTWF4UmV0cmllcyk7bnVsbCE9Yi5saXZlU291cmNlQnVmZmVyQ2xlYXJNYXhSZXRyaWVzJiYoYS5LPQpiLmxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXMpO251bGwhPWIucGxheWhlYWRGcmFnbWVudGVkR2FwRGlmZkFsbG93YW5jZSYmKGEuUD1iLnBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2UpO251bGwhPWIuc2tpcEVtcHR5U2VnbWVudHMmJihhLlY9Yi5za2lwRW1wdHlTZWdtZW50cyl9O1UucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXtWZCh0aGlzKTt0aGlzLk8uZGVzdHJveSgpO3RoaXMucmE9dGhpcy5nPXRoaXMuTz1udWxsO3RoaXMuYy5kZXN0cm95KCk7dGhpcy5iPXRoaXMuYz1udWxsO3RoaXMuYS5nZXRCb29sKCJmaXhpbmdfc2NoZWR1bGVyX2Rpc2FibGVfbGVha3MiLCEwKSYmKHRoaXMudT1udWxsKTt0aGlzLkphPW51bGx9O249VS5wcm90b3R5cGU7bi5XYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmd9O24uRmI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mfTsKbi5LYz1mdW5jdGlvbihhKXt0aGlzLkJ8fGEudGhlbihmdW5jdGlvbigpe3RoaXMuQj0hMDt0aGlzLnd8fFYodGhpcywwKX0uYmluZCh0aGlzKSkuY2F0Y2goZnVuY3Rpb24oKXt9KTtyZXR1cm4gdGhpcy5PfTtuLkNiPWZ1bmN0aW9uKCl7dGhpcy5HPSEwO1dkKHRoaXMpfTtuLmZiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuR307Cm4uamI9ZnVuY3Rpb24oYSxiLGMsZCxlKXtpZihhIT10aGlzLmcpe3ZhciBmPTE7dGhpcy5hLmdldEJvb2woInVzZV9saXZlX2JpdHJhdGVfZXN0aW1hdGVzIiwhMSkmJm51bGwhPT10aGlzLm0mJjA8dGhpcy5nLmJhbmR3aWR0aCYmKGY9dGhpcy5tLmdldEVzdGltYXRlKCkvdGhpcy5nLmJhbmR3aWR0aCk7dmFyIGc9YS5hYTtnJiYodGhpcy5tYT1nLmNyZWF0ZSh0aGlzLmwsdGhpcy5QYSkpO3RoaXMuWj0hMDthLk0uY3JlYXRlKCkudGhlbihKKHRoaXMsZnVuY3Rpb24oZyl7aWYodGhpcy5iKXt0aGlzLlo9ITE7dmFyIGs9dGhpcy5nO3RoaXMuZz1hO3RoaXMuYS5nZXRCb29sKCJ1c2VfbGl2ZV9iaXRyYXRlX2VzdGltYXRlcyIsITEpJiYodGhpcy5tPVVkKHRoaXMsKGEuYmFuZHdpZHRofHwwKSpmKSk7dmFyIGw9dGhpcy5mO3RoaXMuZj1nO3RoaXMuYy5EPXRoaXMuZjtsJiZsLmEuRmMoKTt1ZCh0aGlzLmYsZnVuY3Rpb24oYSl7dmFyIGI9YTt0aGlzLmomJnRoaXMuai5zZXRTZWdtZW50cyh0aGlzLmYuZ2V0U2VnbWVudHMoKSk7CnRoaXMudSYmKGE9YSYmdGhpcy5hLmdldEJvb2woIm9wdGltaXplX3N0cmVhbV9nZXRfc2VnbWVudHNfY2FsbHMiLCExKT9hOnRoaXMuZi5nZXRTZWdtZW50cygpLHRoaXMuYS5nZXRCb29sKCJ0ZW1wbGF0ZWRfdXBkYXRlX3NybV9ieV9kZWx0YV9vZl9jaGFuZ2VkX3JlZmVyZW5jZXNfYm9vbCIsITEpJiZ0aGlzLmYuSyYmYi5sZW5ndGg8dGhpcy5mLmdldFNlZ21lbnRzKCkubGVuZ3RoJiYoYT10aGlzLmYuZ2V0U2VnbWVudHMoKS5zbGljZSgtKGIubGVuZ3RoKzEpKSksWGQodGhpcyx0aGlzLmcuaWR8fCIiLGEpKX0uYmluZCh0aGlzKSk7dGhpcy5qJiZ0aGlzLmouc2V0U2VnbWVudHModGhpcy5mLmdldFNlZ21lbnRzKCkpO2lmKHRoaXMudSl7dmFyIGw9W10sbT10aGlzLmEuZ2V0TnVtYmVyKCJ0ZW1wbGF0ZWRfY2h1bmtlZF9zZWdtZW50X3VwZGF0ZV9saW1pdF9pbnQiLDApO2lmKG0pe2c9dGhpcy5mLmxlbmd0aCgpO2Zvcih2YXIgbT1NYXRoLm1pbihnLG0pLHA9MTtwPD1tOysrcClsLnB1c2godGhpcy5mLmdldChnLQpwKSl9ZWxzZSBsPWcuZ2V0U2VnbWVudHMoKTtYZCh0aGlzLGEuaWR8fCIiLGwpfXRoaXMudGE9ITA7dGhpcy5jYT1kP2Q6bnVsbDt0aGlzLlN8fCh0aGlzLmEuZ2V0Qm9vbCgibWFrZV9lYXJseV90cmFja19zZWxlY3Rpb24iLCExKSYmdGhpcy5oJiYhdGhpcy5QJiYhdGhpcy53P1YodGhpcywwKTprP2I/WWQodGhpcywhMCxjKTplJiZZZCh0aGlzLCExKTpWKHRoaXMsMCkpfX0pKS5jYXRjaChKKHRoaXMsZnVuY3Rpb24oYSl7dGhpcy5aPSExOyJhYm9ydGVkIiE9YS50eXBlJiYodGhpcy5CPyhhPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGEpKTp0aGlzLk8ucmVqZWN0KGEpKX0pKX19O24uQ2M9ZnVuY3Rpb24oYSl7cmV0dXJuIFlkKHRoaXMsISFhKX07bi5IYz1mdW5jdGlvbigpe3RoaXMua2E9ITB9O24uSmM9ZnVuY3Rpb24oYSl7dGhpcy5FYT1hfTsKZnVuY3Rpb24gWGQoYSxiLGMpe2EuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9jaHVua2VkX3NlZ21lbnRfdXBkYXRlX2xpbWl0X2ludCIsMCkmJmEudS51cGRhdGVTZWdtZW50SW5kZXgoYixhLmYpO2EuYS5nZXRCb29sKCJ1c2VfdXBkYXRlX3NlZ21lbnRzX2J5X3NoYWthX3JlZmVyZW5jZSIsITApJiZhLnUudXBkYXRlU2VnbWVudHNCeVNoYWthUmVmZXJlbmNlcyhiLGMpfQpmdW5jdGlvbiBZZChhLGIsYyl7YS5nJiYhYS5TJiYoYS5TPSEwLFZkKGEpLGEuVD0hMSxudWxsIT09YS5BJiZhLkEucmVzZXQoKSxhLmMuYWJvcnQoKS50aGVuKEooYSxmdW5jdGlvbigpe3ZhciBhPXRoaXMuYi5jdXJyZW50VGltZTt0aGlzLmEuZ2V0Qm9vbCgic2V0X2N1cnJlbnRfdGltZV9pbl9yZXN5bmMiLCExKSYmMD09YT8odGhpcy5sJiZCYW56YWlPRFMuYnVtcEVudGl0eUtleSgyOTY2LCJ2aWRlb3Mud3d3LnNoYWthIiwic2V0X2N1cnJlbnRfdGltZV9pbl9yZXN5bmMiKSxhPXRoaXMuZi5maXJzdCgpLnN0YXJ0VGltZSk6dGhpcy5hLmdldEJvb2woImJldHRlcl9zZXRfY3VycmVudF90aW1lX2luX3Jlc3luYyIsITEpJiZhPHRoaXMuZi5maXJzdCgpLnN0YXJ0VGltZSYmKEJhbnphaU9EUy5idW1wRW50aXR5S2V5KDI5NjYsInZpZGVvcy53d3cuc2hha2EiLCJzZXRfY3VycmVudF90aW1lX2luX3Jlc3luYyIpLGE9dGhpcy5mLmZpcnN0KCkuc3RhcnRUaW1lK3RoaXMuYS5nZXROdW1iZXIoInJlc3luY19zZXRfY3VycmVudF90aW1lX2Z1ZGdlX2ZhY3RvciIsCjApKTtpZighYiYmMDxyYih0aGlzLmMsYSkmJjA8PUZiKHRoaXMuYyxhKSlyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7aWYoYylyZXR1cm4gQ2IodGhpcy5jLHRoaXMuYi5jdXJyZW50VGltZStjKTt0aGlzLmlhPSEwO3JldHVybiBCYih0aGlzLmMpfSkpLnRoZW4oSihhLGZ1bmN0aW9uKCl7dGhpcy5TPSExO1YodGhpcywwKX0pKS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7dGhpcy5TPSExOyJhYm9ydGVkIiE9YS50eXBlJiYodGhpcy5CPyhhPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGEpKTp0aGlzLk8ucmVqZWN0KGEpKX0pKSl9bi5JYz1mdW5jdGlvbihhKXtyZXR1cm4gMDxyYih0aGlzLmMsYSkmJjA8PUZiKHRoaXMuYyxhKX07bi52Yj1mdW5jdGlvbigpe307bi5EYj1mdW5jdGlvbigpe3JldHVybiEwfTsKZnVuY3Rpb24gWmQoYSl7YS5lYT1hLmVhfHwhYS5iLnBhdXNlZDthLmIucGF1c2VkfHxhLmJhfHwoYS5ZPURhdGUubm93KCksYS5iYT0hMCk7dmFyIGI9YS5EYSxjPW51bGw7aWYoYi5pbkV4cGVyaW1lbnQpaWYoYi51c2VTbWFydEJ1ZmZlcmluZyl7aWYoYS5iYSYmYS5ZKXt2YXIgYz0oRGF0ZS5ub3coKS1hLlkpLzFFMyxkPW51bGw7MT5jP2M9bnVsbDooZD0zPmM/Yi5idWZmZXJTaXplXzAwX3RvXzAzOjEwPmM/Yi5idWZmZXJTaXplXzAzX3RvXzEwOjMwPmM/Yi5idWZmZXJTaXplXzEwX3RvXzMwOjYwPmM/Yi5idWZmZXJTaXplXzMwX3RvXzYwOmIuYnVmZmVyU2l6ZV9hYm92ZV82MCxjPU1hdGgubWluKGQsYS5iLmR1cmF0aW9uKSl9fWVsc2UgYS5ZJiYoYz1iLm5vblNtYXJ0QnVmZmVyU2l6ZSk7Y3x8KGM9YS5HYSYmYS5iLnBhdXNlZD9hLlI6YS5nYSxhLmIucGF1c2VkJiYxPGEubmEmJihjKj1hLm5hKSxhLmphJiYhYS5iLnBhdXNlZCYmKGM9TWF0aC5tYXgoTWF0aC5taW4oYS5mLmxhc3QoKS5lbmRUaW1lLQphLmIuY3VycmVudFRpbWUsYS5qYSksYS5nYSkpKTtjPShhLlU/YS5oJiZhLmVhOmEuaCk/TWF0aC5tYXgoYS5SLGMpOmEuUjswPGEuYS5nZXROdW1iZXIoImF1ZGlvX3ZpZGVvX2J1ZmZlcl9kaWZmX3RocmVzaG9sZCIsMTQ0MDApJiYoYj1hLmIuYnVmZmVyZWQubGVuZ3RoP2EuYi5idWZmZXJlZC5lbmQoYS5iLmJ1ZmZlcmVkLmxlbmd0aC0xKTowLGI9TWF0aC5tYXgoMCxiLWEuYi5jdXJyZW50VGltZSksYz1NYXRoLm1pbihjLGIrYS5hLmdldE51bWJlcigiYXVkaW9fdmlkZW9fYnVmZmVyX2RpZmZfdGhyZXNob2xkIiwxNDQwMCkpKTtyZXR1cm4gY30KZnVuY3Rpb24gJGQoYSl7dmFyIGI9YS5hLmdldE51bWJlcigic3RhcnRfc3RyZWFtX2J1ZmZlcl9zaXplIiwxKSxjPWEuYS5nZXROdW1iZXIoImxvd19zdGFydF9zdHJlYW1fYnVmZmVyX3NpemUiLDEpO2lmKGIhPT1jKXt2YXIgZD1hLmEuZ2V0TnVtYmVyKCJsb3dfYmFuZHdpZHRoX3N0YXJ0X3N0cmVhbV9idWZmZXJfc2l6ZV90aHJlc2hvbGQiLDApLGU9YS5hLmdldE51bWJlcigic2NoZWR1bGVkX3ZpZGVvc19zdGFydF9zdHJlYW1fYnVmZmVyX3NpemVfdGhyZXNob2xkIiwwKTtpZigwPGQmJmEucmEuZ2V0QmFuZHdpZHRoKCk8ZCYmVmlkZW9TdHJlYW1pbmdUYXNrUXVldWVQcm92aWRlci5nZXRRdWV1ZVNpemUoInZpZGVvIik+PWUpcmV0dXJuIGN9cmV0dXJuIGJ9ZnVuY3Rpb24gYWUoYSxiKXtyZXR1cm4gcmIoYS5jLGEuaD9iOmIrKGEuRHx8MCkpfQpmdW5jdGlvbiBiZShhKXtpZihhLmgmJiFhLkJ8fGEuYS5nZXRCb29sKCJtYWtlX2Vhcmx5X3RyYWNrX3NlbGVjdGlvbiIsITEpJiZhLlp8fGEuYS5nZXRCb29sKCJwcmV2ZW50X2ZldGNoX3doaWxlX2ZldGNoaW5nX2luX3N0cmVhbSIsITEpJiZhLlApcmV0dXJuIGEudz1udWxsLFByb21pc2UucmVzb2x2ZSgpO3ZhciBiO2lmKGI9YS5CJiYhYS5HKWI9MTxhLmMuYS5idWZmZXJlZC5sZW5ndGg/ITA6ITE7aWYoYiYmKGEua2F8fEhiKGEuYyxhLmIpKSlyZXR1cm4gYS54YSYmKGEuYi5jdXJyZW50VGltZT1HYihhLmIpKSxudWxsPT09YS5LJiYoYS5rYT0hMSxZZChhLCEwKSksUHJvbWlzZS5yZXNvbHZlKCk7YS5hLmdldE51bWJlcigiZGVjb3VwbGVfc3RyZWFtX29uX3VwZGF0ZV9sb29wX2Zyb21fcmVxdWVzdF9sb29wX2ludCIsMCl8fChhLnc9bnVsbCk7Yj1hLmc7dmFyIGM9YS5mLGQ9YS5iLmN1cnJlbnRUaW1lO2EuYS5nZXRCb29sKCJ1c2VfcGVuZGluZ19zZWVrX3Bvc2l0aW9uX2Zvcl9yZWZlcmVuY2UiLAohMSkmJjA9PT1hLmIucmVhZHlTdGF0ZSYmIWQmJmEuSiYmKGQ9YS5KKTtpZihhLlUmJiFhLmgmJmFlKGEsZCk+PSRkKGEpKXJldHVybiBhLmEuZ2V0Qm9vbCgiZml4X2Nocm9tZV9tc2VfcmVncmVzc2lvbiIsITEpJiYxPT09YS5iLnJlYWR5U3RhdGUmJjA8YS5iLmJ1ZmZlcmVkLmxlbmd0aCYmKGEuYi5jdXJyZW50VGltZT1hLmIuY3VycmVudFRpbWUpLGNlKGEpLFYoYSwwKSxQcm9taXNlLnJlc29sdmUoKTt2YXIgZT1udWxsLGY9W107bnVsbCE9PWEuSyYmKGQ9YS5LKTtpZihhZShhLGQpPj1aZChhKSlpZihhLlQ9ITAsbnVsbCE9PWEuSSYmYS5JLnJlc29sdmUoKSxhLlV8fGNlKGEpLGY9ZGUoYSk/amUoYSxkKTpbXSwwPGYubGVuZ3RoKWU9ZlswXTtlbHNlIHJldHVybiBWKGEsMUUzLyg1KihNYXRoLmFicyhhLmIucGxheWJhY2tSYXRlKXx8MSkpKSxQcm9taXNlLnJlc29sdmUoKTtlbHNle3ZhciBnPTE7YS5qJiYoZz1hLmouZ2V0TnVtYmVyT2ZTZWdtZW50cygpKTt2YXIgaD1xYihhLmMpOwphLlYmJihoPW51bGwsbnVsbCE9PWEuSyYmKGEuVj0hMSkpO2EuYS5nZXRCb29sKCJmaW5kX2xhc3RfaW5zZXJ0ZWRfc2VnbWVudF9pbl9zZWdtZW50X2luZGV4IiwhMSkmJmgmJiFjLmEuYSYmKGg9Yy5maW5kKGguc3RhcnRUaW1lKSk7YS5hLmdldEJvb2woInNldF9wZW5kaW5nX3NlZWtfb25fc2V0X2N1cnJlbnRfdGltZV9mYWlsdXJlIiwhMSkmJm51bGwhPWEuSiYmKGQ9YS5KLGEuSj1udWxsKTtnPWtlKGEsZCxjLGcsaCk7ZT1nWzBdO2EuaiYmKGEuai5zZXRGdXR1cmVTZWdtZW50cyhnKSxhLmouc2V0QnVmZmVyaW5nR29hbChaZChhKS1hZShhLGQpKSk7IWUmJmRlKGEpJiYoZj1qZShhLGQpLDA8Zi5sZW5ndGgmJihlPWZbMF0pKX1pZighZSlyZXR1cm4gY2UoYSksYS5CJiYhYS5HJiYoYS5HPSEwLFdkKGEpKSxWKGEsMjAwKSxQcm9taXNlLnJlc29sdmUoKTthLmEuZ2V0Qm9vbCgiY3JlYXRlX293bl9zZWdtZW50X3JlZmVyZW5jZV9mb3Jfc2JtIiwhMSkmJihlPWpkKGUsZS5zdGFydFRpbWUsCmUuZW5kVGltZSkpO2xlKGEsbWUoYSxkLGYpLGIuaWR8fCIiKTtuZShhLG1lKGEsZCxmKSk7YS5hLmdldEJvb2woInJlZnJlc2hfc2VnbWVudF9yZWZlcmVuY2VfZmFpbG92ZXJfdXJpIiwhMCkmJihlLnVybD1lLnVybC5jbG9uZSgpKTthLlA9ITA7YS53YT1EYXRlLm5vdygpOyJ2aWRlbyI9PT1iLm1pbWVUeXBlLnNwbGl0KCIvIilbMF0mJmEucmEuc2V0UmVwcmVzZW50YXRpb25JRChiLmlkKTtjPWEuYy5mZXRjaChlLGMucyxiLmErYS5FYSxhLm1hLGEudmEmJiFhLmIucGF1c2VkLDA8Zi5sZW5ndGgsYS51LGEuRik7Yz1jLnRoZW4oSihhLGZ1bmN0aW9uKGEpe3RoaXMuYS5nZXRCb29sKCJ1cGRhdGVzX3ByaW9yaXR5X29uX2ZldGNoX2NvbXBsZXRlIiwhMSkmJm5lKHRoaXMsbWUodGhpcyxkLFtdKSk7dGhpcy5zYS5pbmZvcm1OZXR3b3JrUmVzdW1lZCgpO3JldHVybiBhfSkpO2EuJCYmInZpZGVvIj09PWIubWltZVR5cGUuc3BsaXQoIi8iKVswXSYmYS4kLmFkZChlLnN0YXJ0VGltZXx8CjAsZS5lbmRUaW1lfHwwLHtpZDpiLmlkLHJlYXNvbjphLmNhLHBlcmZvcm1hbmNlTG9nZ2VyOmEubD9hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJzdHJlYW1fc3dpdGNoIik6bnVsbH0pO2EubWE9bnVsbDthLnRhJiYoYS50YT0hMSxmPWEuY2EsYS5jYT1udWxsLG9lKGEsYixmLGEubGEoKSkpO2EuRz0hMTtyZXR1cm4gYy50aGVuKEooYSxmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5hLmdldEJvb2woImNsZWFyX29sZF9idWZmZXIiLCExKT9FYih0aGlzLmMsdGhpcy5iLmN1cnJlbnRUaW1lKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGF9KTphfSkpLnRoZW4oSihhLGZ1bmN0aW9uKGEpe3ZhciBiPWEuVyxjPWEuV2M7dGhpcy5ofHwodGhpcy55YT1jKTt0aGlzLmEuZ2V0Qm9vbCgidXNlX2xpdmVfYml0cmF0ZV9lc3RpbWF0ZXMiLCExKSYmbnVsbCE9YSYmMDxhLkRjJiYwPGEuSCYmKG51bGw9PT10aGlzLm0mJih0aGlzLm09VWQodGhpcyx0aGlzLmcuYmFuZHdpZHRofHwwKSksdGhpcy5tLnNhbXBsZSg4KgphLkRjLGEuSCkpO2E9dGhpcy5hLmdldE51bWJlcigiYnVmZmVyX3ZlbG9jaXR5X3RpbWVfaW5fcGFzdF90b19jb25zaWRlciIsMCk7MDxhJiZudWxsIT09dGhpcy5nJiYidmlkZW8iPT09TWQodGhpcy5nKSYmKG51bGw9PT10aGlzLkEmJih0aGlzLkE9bmV3IEJ1ZmZlclZlbG9jaXR5KGEpKSx0aGlzLkEucmVjb3JkQnVmZmVyQWhlYWQocmIodGhpcy5jLHRoaXMuYi5jdXJyZW50VGltZSkpKTt0aGlzLlA9ITE7InZpZGVvIj09PSh0aGlzLmc/dGhpcy5nLm1pbWVUeXBlLnNwbGl0KCIvIilbMF06bnVsbCkmJnRoaXMuZGlzcGF0Y2hFdmVudCh5KHt0eXBlOiJmZXRjaF9lbmQiLGJ1YmJsZXM6ITAsZGV0YWlsOntzdHJlYW1fZmV0Y2hfdGltZV9tczpEYXRlLm5vdygpLXRoaXMud2Esc2VnbWVudF9sZW5ndGhfbXM6MUUzKihlLmVuZFRpbWUtZS5zdGFydFRpbWUpfX0pKTtudWxsPT10aGlzLkQmJih0aGlzLkQ9Yik7dGhpcy5pYSYmMDxyYih0aGlzLmMsZCkmJih0aGlzLmlhPSExLHRoaXMuYS5nZXRCb29sKCJkaXNhYmxlX251ZGdlIiwKITEpfHwoYj15KHt0eXBlOiJzaG91bGRfbnVkZ2UifSksdGhpcy5kaXNwYXRjaEV2ZW50KGIpKSk7Vih0aGlzLDApfSkpLmNhdGNoKEooYSxmdW5jdGlvbihhKXt0aGlzLlA9ITE7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfSkpfWZ1bmN0aW9uIG1lKGEsYixjKXt2YXIgZD1hLmg/YjpiKyhhLkR8fDApO3JldHVybnthZGRpdGlvbmFsU2VnbWVudHNSZXF1aXJlZDpjLHBsYXloZWFkOmIsYnVmZmVyU3RhcnQ6ZCxidWZmZXJFbmQ6YWUoYSxiKStkLGJ1ZmZlcmluZ0dvYWw6WmQoYSksaXNQbGF5aW5nOiFhLmIucGF1c2VkfX1mdW5jdGlvbiBsZShhLGIsYyl7YS51JiZhLnUudXBkYXRlUGxheWVyU3RhdGUoYyxiKX1mdW5jdGlvbiBuZShhLGIpe2EuRiYmYS5GLnVwZGF0ZVBsYXllclN0YXRlKGIpfQpmdW5jdGlvbiBwZShhLGIsYyl7dmFyIGQ9bnVsbCE9PWEuaSYmLTE8YS5pJiZhLmk8Yy5sZW5ndGgoKS0xP2MuZ2V0KGEuaSk6bnVsbCxlPW51bGw7aWYobnVsbD09PWEuaXx8IWR8fGQuc3RhcnRUaW1lPmIpcmV0dXJuIGU9Yy5maW5kSW5kZXgoYiksYS5pPWU7Zm9yKGQ9YS5pO2Q8PWEuaSsxO2QrKylpZihlPWMuZ2V0KGQpLGUuc3RhcnRUaW1lPD1iJiZlLmVuZFRpbWU+YilyZXR1cm4gYS5pPWQ7ZT1jLmZpbmRJbmRleChiKTtyZXR1cm4oYS5pPWUpfHwtMX1mdW5jdGlvbiBkZShhKXtyZXR1cm4gYS5hLmdldEJvb2woInJlcGxhY2VfbG93ZXJfcXVhbGl0eV9idWZmZXIiLCExKSYmbnVsbD09PWEuRiYmYS5lYSYmbnVsbCE9PWEuJCYmInZpZGVvIj09PU1kKGEuZykmJm51bGwhPT1hLmZ9CmZ1bmN0aW9uIGplKGEsYil7aWYoIWEuRmF8fCFhLmcuaWR8fCFhLmYpcmV0dXJuW107dmFyIGM9cGUoYSxiLGEuZik7cmV0dXJuLTE9PT1jP1tdOkJ1ZmZlclJlcGxhY2VtZW50SGVscGVyLmdldFNlZ21lbnRzVG9SZXBsYWNlTG93ZXJRdWFsaXR5KGEuZi5nZXRTZWdtZW50cygpLGIsYyxhLmcuaWQsYS5GYSxhLiQse3RocmVzaG9sZEJlZm9yZTphLmEuZ2V0TnVtYmVyKCJidWZmZXJfcmVwbGFjZW1lbnRfYmVoaW5kX3RocmVzaG9sZCIsNSksdGhyZXNob2xkQWZ0ZXI6YS5hLmdldE51bWJlcigiYnVmZmVyX3JlcGxhY2VtZW50X2FoZWFkX3RocmVzaG9sZCIsMTUpLHdyYXBSZXBsYWNlbWVudFBhc3RFbmQ6YS5hLmdldEJvb2woIndyYXBfcmVwbGFjZW1lbnRfcGFzdF9lbmQiLCExKX0pfQpuLnpjPWZ1bmN0aW9uKCl7dmFyIGE7aWYodGhpcy5sKXt2YXIgYj10aGlzLmEuZ2V0TnVtYmVyKCJzdHJlYW1fb251cGRhdGVfc2FtcGxpbmciLDApO2ImJjA9PT1NYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqYikmJihhPXRoaXMubC5nZXRPcGVyYXRpb25Mb2dnZXIoInN0cmVhbV9vbnVwZGF0ZSIpLnN0YXJ0KCkpfXZhciBjO3RoaXMuYS5nZXROdW1iZXIoImRlY291cGxlX3N0cmVhbV9vbl91cGRhdGVfbG9vcF9mcm9tX3JlcXVlc3RfbG9vcF9pbnQiLDApJiZWKHRoaXMsdGhpcy5hLmdldE51bWJlcigiZGVjb3VwbGVfc3RyZWFtX29uX3VwZGF0ZV9sb29wX2Zyb21fcmVxdWVzdF9sb29wX2ludCIsMCkpO2lmKHRoaXMuYS5nZXRCb29sKCJjYXRjaF9zdHJlYW1fdXBkYXRlX3N5bmNfY29kZV9lcnJvciIsITEpKXRyeXtjPWJlKHRoaXMpfWNhdGNoKGQpe2QudHlwZT0idW5jYXVnaHQiLGEmJmEuc2V0RXJyb3IoZCksYz1Qcm9taXNlLnJlamVjdChkKX1lbHNlIGM9YmUodGhpcyk7Yy5jYXRjaChKKHRoaXMsCmZ1bmN0aW9uKGEpe2lmKCJhYm9ydGVkIiE9YS50eXBlKXtpZigic291cmNlYnVmZmVyX2Z1bGwiPT09YS50eXBlKXJldHVybiBCYih0aGlzLmMpLnRoZW4oSih0aGlzLGZ1bmN0aW9uKCl7Vih0aGlzLDApfSkpO3ZhciBiPVswLDQwNCw0MTAsNTAyLDUwMyw1MDRdO3RoaXMuYS5nZXRCb29sKCJlbmFibGVfZG91YmxlX2luZ2VzdCIsITEpJiZiLnB1c2goNDE3LDIwMCk7Yj0tMT09PWIuaW5kZXhPZihhLnN0YXR1cyk7aWYoIm5ldCI9PT1hLnR5cGUmJiFiJiZ0aGlzLmcpaWYodGhpcy5hLmdldEJvb2woImFsbG93X2luZmluaXRlX3JldHJ5X29uX25ldF9lcnIiLCEwKSlzd2l0Y2goYS5zdGF0dXMpe2Nhc2UgNDA0OlYodGhpcywyRTMpO2JyZWFrO2Nhc2UgNDEwOnRoaXMuYS5nZXRCb29sKCJlbmRfYWxsX3N0cmVhbXNfb25fNDEwIiwhMSk/cWUodGhpcyk6dGhpcy5DYigpO2JyZWFrO2Nhc2UgNDE3OmNhc2UgMjAwOmEucmVzcG9uc2VIZWFkZXJzJiZudWxsIT1hLnJlc3BvbnNlSGVhZGVyc1sieC1mYi12aWRlby1yZXBsaWNhIl0/CnRoaXMuZGlzcGF0Y2hFdmVudCh5KHt0eXBlOiJyZXBsaWNhc3dpdGNoIixidWJibGVzOiEwLHJlcGxpY2E6YS5yZXNwb25zZUhlYWRlcnNbIngtZmItdmlkZW8tcmVwbGljYSJdLHVybDphLnVybCxzdGF0dXM6YS5zdGF0dXN9KSk6Yj0hMDticmVhaztkZWZhdWx0OlYodGhpcywxRTMpfWVsc2UgVih0aGlzLDFFMyksYj0hMDswPT09YS5zdGF0dXM/dGhpcy5zYS5pbmZvcm1OZXR3b3JrSW50ZXJydXB0ZWQoKTp0aGlzLnNhLmluZm9ybU5ldHdvcmtSZXN1bWVkKCk7aWYoIXRoaXMuYS5nZXRCb29sKCJhbGxvd19pbmZpbml0ZV9yZXRyeV9vbl9uZXRfZXJyIiwhMCl8fGIpYj1BKGEpLHRoaXMuZGlzcGF0Y2hFdmVudChiKSx0aGlzLmwmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgYj10aGlzLmwuZ2V0RXZlbnRMb2dnZXIoInN0cmVhbV9lcnJvcl9mYWxsYmFjayIpLnNldEVycm9yKGEpLnNldFR5cGUodGhpcy5DYS5zcGxpdCgiLyIpWzBdKTt0aGlzLmI/Yi5zZXRSZXN1bHQoImZhaWxlZCIpOgpiLnNldFJlc3VsdCgic3VjY2VzcyIpO2IubG9nKCl9LmJpbmQodGhpcyksMCl9fSkpO2EmJmEubG9nKCl9O2Z1bmN0aW9uIGtlKGEsYixjLGQsZSl7dmFyIGY9LTE7aWYoYS5hLmdldEJvb2woInRlbXBsYXRlZF9mYXN0ZXJfc3RyZWFtX2dldF9uZXh0X24iLCExKSYmMT09PWQmJm51bGwhPWUmJm51bGwhPWUuZW5kVGltZSlyZXR1cm4oYz1jLmZpbmQoZS5lbmRUaW1lKSk/W2NdOltdO251bGwhPWU/Zj1udWxsIT1lLmVuZFRpbWU/Yy5maW5kSW5kZXgoZS5lbmRUaW1lKTotMTooZj1wZShhLGIsYyksMD5mJiYoZj1jLmxlbmd0aCgpP2MubGVuZ3RoKCktMTotMSkpO2E9W107aWYoMDw9Zilmb3IoYj1mO2I8ZitkJiZiPGMubGVuZ3RoKCk7YisrKWEucHVzaChjLmdldChiKSk7cmV0dXJuIGF9CmZ1bmN0aW9uIGNlKGEpe2lmKCFhLmgmJm51bGwhPWEuRCl7YS5oPSEwO3ZhciBiPWEuYyxjPWEuRCxkPWMtYi5VOzAhPWQmJihiLmI9a2QoYi5iLGQpLGIuVT1jKTthLk8ucmVzb2x2ZShhLkQpfX1uLkVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaH07VS5wcm90b3R5cGUuaGFzU3RhcnRlZD1VLnByb3RvdHlwZS5FZDtVLnByb3RvdHlwZS5rYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLlR9O1UucHJvdG90eXBlLmhhc0hpdEJ1ZmZlcmluZ0dvYWw9VS5wcm90b3R5cGUua2I7VS5wcm90b3R5cGUubGE9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09PXRoaXMubT9udWxsOnRoaXMubS5nZXRFc3RpbWF0ZSgpfTtVLnByb3RvdHlwZS5nZXRCaXRyYXRlRXN0aW1hdGU9VS5wcm90b3R5cGUubGE7VS5wcm90b3R5cGUucWI9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09PXRoaXMuQT9udWxsOnRoaXMuQS5nZXRWZWxvY2l0eSgpfTtVLnByb3RvdHlwZS5nZXRCdWZmZXJWZWxvY2l0eT1VLnByb3RvdHlwZS5xYjsKZnVuY3Rpb24gb2UoYSxiLGMsZCl7dmFyIGU9Yi5taW1lVHlwZS5zcGxpdCgiLyIpWzBdO2I9eSh7dHlwZToiYWRhcHRhdGlvbiIsaWQ6Yi5pZCxidWJibGVzOiEwLGNvbnRlbnRUeXBlOmUsc2l6ZToidmlkZW8iIT1lP251bGw6e3dpZHRoOmIud2lkdGgsaGVpZ2h0OmIuaGVpZ2h0fSxiYW5kd2lkdGg6ZHx8Yi5iYW5kd2lkdGgscmVhc29uOmN9KTthLmRpc3BhdGNoRXZlbnQoYil9ZnVuY3Rpb24gcWUoYSl7dmFyIGI9eSh7dHlwZToic2hvdWxkX2VuZF9hbGxfc3RyZWFtcyJ9KTthLmRpc3BhdGNoRXZlbnQoYil9ZnVuY3Rpb24gV2QoYSl7dmFyIGI9eSh7dHlwZToiZW5kZWQifSk7YS5kaXNwYXRjaEV2ZW50KGIpfVUucHJvdG90eXBlLk9hPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuRn07VS5wcm90b3R5cGUuZ2V0VmlkZW9TdHJlYW1pbmdNYW5hZ2VyPVUucHJvdG90eXBlLk9hOwpmdW5jdGlvbiBWKGEsYil7VmQoYSk7IWImJmEuSGE/UHJvbWlzZS5yZXNvbHZlKCkudGhlbihhLnpjLmJpbmQoYSkpOmEudz1zZXRUaW1lb3V0KGEuemMuYmluZChhKSxiKX1mdW5jdGlvbiBWZChhKXtudWxsIT1hLncmJihjbGVhclRpbWVvdXQoYS53KSxhLnc9bnVsbCl9VS5wcm90b3R5cGUuc2I9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy55YX07VS5wcm90b3R5cGUuZ2I9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jLml9O1UucHJvdG90eXBlLmdldFN0cmVhbVByb2dyZXNzVHJhY2tlcj1VLnByb3RvdHlwZS5nYjtmdW5jdGlvbiByZShhLGIpe2EuSz1iO2EuVj0hMDthLkl8fChhLkk9bmV3IEkpO3JldHVybiBhLkl9O2Z1bmN0aW9uIHNlKGEpe3RoaXMuYj1hO3RoaXMuYT1udWxsfXNlLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5hJiYodGhpcy5hLmRlc3Ryb3koKSx0aGlzLmE9bnVsbCl9O3NlLnByb3RvdHlwZS5jcmVhdGU9ZnVuY3Rpb24oKXtpZih0aGlzLmEpcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLmEpO3ZhciBhPW5ldyBpZCgwLG51bGwsdGhpcy5iLDAsMCksYT1uZXcgVChbYV0sMSk7dGhpcy5hPW5ldyBSKGEpO3JldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5hKX07c2UucHJvdG90eXBlLmM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hfTtmdW5jdGlvbiB0ZShhLGIpe0YuY2FsbCh0aGlzLGEpO3RoaXMuYj1iO3RoaXMuaj0hMDt0aGlzLm09dGhpcy5nPW51bGw7dGhpcy5mPW5ldyBJO3RoaXMuYT1udWxsfXIodGUsRik7dGUucHJvdG90eXBlLnBhPWZ1bmN0aW9uKCl7fTt0ZS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuYSYmdGhpcy5iLnJlbW92ZUNoaWxkKHRoaXMuYSk7dGhpcy5mLmRlc3Ryb3koKTt0aGlzLkphPXRoaXMuYj10aGlzLmc9dGhpcy5tPXRoaXMuYT10aGlzLmY9bnVsbH07bj10ZS5wcm90b3R5cGU7bi5XYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmd9O24uRmI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tfTtuLktjPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZn07bi5mYj1mdW5jdGlvbigpe3JldHVybiEwfTtuLkNiPWZ1bmN0aW9uKCl7fTsKbi5qYj1mdW5jdGlvbihhKXthLk0uY3JlYXRlKCkudGhlbihKKHRoaXMsZnVuY3Rpb24oYil7aWYodGhpcy5iKXtpZigwPT1iLmxlbmd0aCgpKXJldHVybiBQcm9taXNlLnJlamVjdChFcnJvcigiTm8gc3VidGl0bGVzIFVSTCBhdmFpbGFibGUuIikpO3ZhciBjPXRoaXMuZzt0aGlzLmc9YTt0aGlzLm09YjtiPWIuZmlyc3QoKS51cmwuY1swXS50b1N0cmluZygpO3ZhciBkPXRoaXMuRGIoKTt0aGlzLmEmJih0aGlzLnZiKCExKSx0aGlzLmIucmVtb3ZlQ2hpbGQodGhpcy5hKSk7dGhpcy5hPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRyYWNrIik7dGhpcy5iLmFwcGVuZENoaWxkKHRoaXMuYSk7dGhpcy5hLnNyYz1iO3RoaXMudmIoZCk7Yj15KHt0eXBlOiJhZGFwdGF0aW9uIixidWJibGVzOiEwLGNvbnRlbnRUeXBlOiJ0ZXh0IixzaXplOm51bGwsYmFuZHdpZHRoOmEuYmFuZHdpZHRofSk7dGhpcy5kaXNwYXRjaEV2ZW50KGIpO2N8fHRoaXMuZi5yZXNvbHZlKDApfX0pKX07bi5DYz1mdW5jdGlvbigpe307Cm4uSGM9ZnVuY3Rpb24oKXt9O24uSWM9ZnVuY3Rpb24oKXtyZXR1cm4hMH07bi52Yj1mdW5jdGlvbihhKXt0aGlzLmo9YTt0aGlzLmEmJih0aGlzLmEudHJhY2subW9kZT1hPyJzaG93aW5nIjoiZGlzYWJsZWQiKX07bi5EYj1mdW5jdGlvbigpe3RoaXMuYSYmKHRoaXMuaj0ic2hvd2luZyI9PXRoaXMuYS50cmFjay5tb2RlKTtyZXR1cm4gdGhpcy5qfTtuLnNiPWZ1bmN0aW9uKCl7cmV0dXJuIDB9O24uSmM9ZnVuY3Rpb24oKXt9O2Z1bmN0aW9uIHVlKCl7fQp1ZS5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9bnVsbDt0cnl7dmFyIGY7dmFyIGc9bmV3IElhKGIpO2lmKDQ0MDc4Njg1MSE9S2EoZykuaWQpZj1udWxsO2Vsc2V7dmFyIGg9S2EoZyk7aWYoNDA4MTI1NTQzIT1oLmlkKWY9bnVsbDtlbHNle3ZhciBrPWguYS5ieXRlT2Zmc2V0LGw7dmFyIG09bmV3IElhKGguYSk7Zm9yKGI9bnVsbDtEYShtLmEpOyl7dmFyIHA9S2EobSk7aWYoMzU3MTQ5MDMwPT1wLmlkKXtiPXA7YnJlYWt9fWlmKGIpe2Zvcih2YXIgdD1uZXcgSWEoYi5hKSxwPTFFNixtPW51bGw7RGEodC5hKTspe3ZhciB3PUthKHQpO2lmKDI4MDc3Mjk9PXcuaWQpcD1PYSh3KTtlbHNlIGlmKDE3NTQ1PT13LmlkKWlmKGI9dyw0PT1iLmEuYnl0ZUxlbmd0aCltPWIuYS5nZXRGbG9hdDMyKDApO2Vsc2UgaWYoOD09Yi5hLmJ5dGVMZW5ndGgpbT1iLmEuZ2V0RmxvYXQ2NCgwKTtlbHNlIHRocm93IG5ldyBSYW5nZUVycm9yKCJFYm1sRWxlbWVudDogZmxvYXRpbmcgcG9pbnQgbnVtYmVycyBtdXN0IGJlIDQgb3IgOCBieXRlcy4iKTt9bnVsbD09Cm0/bD1udWxsOih0PXAvMUU5LGw9e0diOnQsZHVyYXRpb246bSp0fSl9ZWxzZSBsPW51bGw7Zj1sP3tBZDprLEdiOmwuR2IsZHVyYXRpb246bC5kdXJhdGlvbn06bnVsbH19aWYoZil7dmFyIHo9S2EobmV3IElhKGEpKTtpZig0NzUyNDk1MTUhPXouaWQpZT1udWxsO2Vsc2V7dmFyIEg9Zi5BZCxkYT1mLkdiLGVhPWYuZHVyYXRpb247YT1bXTtmb3IodmFyIEFhPW5ldyBJYSh6LmEpLGs9Zj16PS0xO0RhKEFhLmEpOyl7dmFyIGNiPUthKEFhKTtpZigxODc9PWNiLmlkKXt2YXIgbmE7dmFyIHZkPW5ldyBJYShjYi5hKSx3ZD1LYSh2ZCk7aWYoMTc5IT13ZC5pZCluYT1udWxsO2Vsc2V7dmFyIFllPU9hKHdkKSx4ZD1LYSh2ZCk7aWYoMTgzIT14ZC5pZCluYT1udWxsO2Vsc2V7dmFyIGVlPW5ldyBJYSh4ZC5hKTtmb3IobD0wO0RhKGVlLmEpOyl7dmFyIGZlPUthKGVlKTtpZigyNDE9PWZlLmlkKXtsPU9hKGZlKTticmVha319bmE9e3piOlllLHlkOmx9fX1pZihuYSl7dmFyIGdlPWRhKm5hLnpiLApoZT1IK25hLnlkO2lmKDA8PXope3ZhciBOYz1uZXcgSyhkLGMsayxoZS0xKSxBZj1uYS56Yi1mO2EucHVzaChuZXcgaWQoeixnZSxOYyxuYS56YixBZikpfXo9Z2U7Zj1uYS56YjtrPWhlfX19MDw9eiYmKE5jPW5ldyBLKGQsYyxrLG51bGwpLGEucHVzaChuZXcgaWQoeixlYSxOYyxmLGVhL2RhLWYpKSk7ZT1hfX1lbHNlIGU9bnVsbH1jYXRjaChpZSl7aWYoIShpZSBpbnN0YW5jZW9mIFJhbmdlRXJyb3IpKXRocm93IGllO31yZXR1cm4gZX07ZnVuY3Rpb24gdmUoYSxiLGMsZCxlLGYsZyxoLGssbCxtKXt0aGlzLmg9YTt0aGlzLm89Yjt0aGlzLmI9Yzt0aGlzLm09bHx8bnVsbDt0aGlzLmo9bXx8bnVsbDt0aGlzLmE9ZDt0aGlzLmc9ZTt0aGlzLmY9Zjt0aGlzLnc9Zzt0aGlzLlJhPW51bGw7dGhpcy5pPWg7dGhpcy5sPWt8fG51bGw7dGhpcy51PW51bGx9dmUucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmk9dGhpcy5vPXRoaXMuaD1udWxsO3RoaXMuYS5LYSgpO3RoaXMuYT1udWxsO3RoaXMuZiYmKHRoaXMuZi5LYSgpLHRoaXMuZj1udWxsKTt0aGlzLmcmJih0aGlzLmcuS2EoKSx0aGlzLmc9bnVsbCk7dGhpcy5SYT1udWxsfTt2ZS5wcm90b3R5cGUuUWM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5SYX07dmUucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbigpe3JldHVybiB3ZSh0aGlzKX07dmUucHJvdG90eXBlLnBiPWZ1bmN0aW9uKCl7cmV0dXJuIHdlKHRoaXMpfTsKZnVuY3Rpb24gd2UoYSl7aWYoYS5SYSlyZXR1cm4gYS5SYTt2YXIgYj1udWxsO2EubCYmKGI9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigiY3JlYXRlX2NvbnRhaW5lcl9zZWdtZW50X2luZGV4X3NvdXJjZSIpLnN0YXJ0KCkpO2lmKG51bGwhPT1hLm0mJihudWxsIT09YS5qfHwid2VibSIhPT1hLmIpKXJldHVybiB4ZShhLGEubSxhLmosYik7dmFyIGM9W2EuYS5mZXRjaChudWxsLG51bGwsYS5sLGIpXTsid2VibSI9PWEuYiYmYy5wdXNoKGEuZy5mZXRjaChudWxsLG51bGwsYS5sLGIpKTthLlJhPVByb21pc2UuYWxsKGMpLnRoZW4oSihhLGZ1bmN0aW9uKGEpe3JldHVybiB4ZSh0aGlzLGFbMF0sYVsxXXx8bnVsbCxiKX0pKTtyZXR1cm4gYS5SYX0KZnVuY3Rpb24geGUoYSxiLGMsZCl7dmFyIGU9bnVsbDsibXA0Ij09YS5iPyhlPW5ldyB0ZCxlPWUucGFyc2UobmV3IERhdGFWaWV3KGIpLGEuYS5zdGFydEJ5dGUsYS5hLmMsYS5pLGEuZikpOiJ3ZWJtIj09YS5iJiYoZT1uZXcgdWUsZT1lLnBhcnNlKG5ldyBEYXRhVmlldyhiKSxuZXcgRGF0YVZpZXcoYyksYS5hLmMsYS5pKSk7aWYoIWUpcmV0dXJuIGE9RXJyb3IoIkZhaWxlZCB0byBwYXJzZSBTZWdtZW50UmVmZXJlbmNlcyBmcm9tICIrYS5hLnRvU3RyaW5nKCkrIiAob3Igb25lIG9mIGl0cyBmYWxsYmFja3MpLiIpLGEudHlwZT0ic3RyZWFtIixQcm9taXNlLnJlamVjdChhKTtiPW5ldyBUKGUsZS5zKTt2YXIgZjsiZHluYW1pYyI9PWEuaC50eXBlP2Y9bmV3IFMoYixhLmgsYS5vLGEudyk6Zj1uZXcgUihiKTtkJiZkLmxvZygpO2EudT1mO3JldHVybiBQcm9taXNlLnJlc29sdmUoZil9dmUucHJvdG90eXBlLmM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51fTtmdW5jdGlvbiB5ZShhLGIsYyxkKXt0aGlzLmM9YTt0aGlzLmI9Yjt0aGlzLmw9Y3x8bnVsbDt0aGlzLmE9ZHx8bnVsbH0KZnVuY3Rpb24gemUoYSxiLGMpe2Zvcih2YXIgZD15YSgpLzFFMyxlPTA7ZTxiLmEubGVuZ3RoOysrZSlmb3IodmFyIGY9Yi5hW2VdLGc9MDtnPGYuYS5sZW5ndGg7KytnKXt2YXIgaD1mLmFbZ107aWYoInRleHQiIT1oLmNvbnRlbnRUeXBlKWZvcih2YXIgaz0wO2s8aC5hLmxlbmd0aDsrK2spe3ZhciBsPWguYVtrXSxtPTAsbT1tKyhsLmY/MTowKSxtPW0rKGwuYj8xOjApLG09bSsobC5hPzE6MCk7MD09bT8oaC5hLnNwbGljZShrLDEpLC0tayk6MSE9bSYmKGwuZj8obC5iPW51bGwsbC5hPW51bGwpOmwuYiYmKGwuYT1udWxsKSl9fUFlKGIpO2ZvcihlPTA7ZTxiLmEubGVuZ3RoOysrZSlmb3IoZj1iLmFbZV0sZz0wO2c8Zi5hLmxlbmd0aDsrK2cpe2s9aD1mLmFbZ107bD1udWxsO2ZvcihtPTA7bTxrLmEubGVuZ3RoOysrbSl7dmFyIHA9ay5hW21dLm1pbWVUeXBlfHwiIjtsP3AhPWwmJihrLmEuc3BsaWNlKG0sMSksLS1tKTpsPXB9MD09aC5hLmxlbmd0aCYmKGYuYS5zcGxpY2UoZywxKSwKLS1nKX1iLm1hbmlmZXN0SXNMaXZlU3RyZWFtaW5nJiZudWxsPT1iLmMmJihiLmM9ZCk7ZT1uZXcgVGQ7ImR5bmFtaWMiPT1iLnR5cGUmJihlLmI9ITAsZS5jPWIuZyxlLmk9bmV3IEsoYyxiLnV8fGIudXJsLHZvaWQgMCx2b2lkIDAsdm9pZCAwLGEuYSksZS5qPWIuYyk7ZS5CPWIuaHx8MDtlLm09Yi5pfHwwO2Uubz1iLmp8fDA7ZS5nPWIubXx8NTtmb3IoZj0wO2Y8Yi5hLmxlbmd0aDsrK2Ype2c9Yi5hW2ZdO2lmKG51bGw9PWcuc3RhcnQpYnJlYWs7Zz1CZShhLGIsZyxkLGMpO2UuYS5wdXNoKGcpfWUuZj1iLkZCSXNMaXZlVGVtcGxhdGVkO2EubCYmYS5sLnNldElzVGVtcGxhdGVkTWFuaWZlc3QoYi5GQklzTGl2ZVRlbXBsYXRlZCk7ZS5BPWIuRkJXYXNMaXZlO2E9bnVsbDtjPSJub25lIjtmb3IoZj0wO2Y8Yi5hLmxlbmd0aDtmKyspZm9yKGc9Yi5hW2ZdLGQ9MDtkPGcuYS5sZW5ndGg7ZCsrKWZvcihoPWcuYVtkXSxrPTA7azxoLmEubGVuZ3RoO2srKylsPWguYVtrXS5pLG51bGwhPQpsJiZudWxsIT1sLnZhbHVlJiYoYT1jPWwudmFsdWUsInVybjptcGVnOmRhc2g6MjMwMDM6MzphdWRpb19jaGFubmVsX2NvbmZpZ3VyYXRpb246MjAxMSI9PT1sLmEmJigiMSI9PT1hP2M9Im1vbm8iOiIyIj09PWEmJihjPSJzdGVyZW8iKSkpO2Uudz1jO2E9cGFyc2VJbnQoYSwxMCk7ZS51PTA8YT9hOm51bGw7cmV0dXJuIGV9CmZ1bmN0aW9uIEFlKGEpe2lmKGEuYS5sZW5ndGgpe251bGw9PWEuYVswXS5zdGFydCYmKGEuYVswXS5zdGFydD0wKTt2YXIgYj1mdW5jdGlvbihhKXtyZXR1cm4gMD09YXx8ISFhfTthLm1hbmlmZXN0SXNMaXZlU3RyZWFtaW5nJiYoYS5iPW51bGwpO2IoYS5iKSYmMT09YS5hLmxlbmd0aCYmIWIoYS5hWzBdLmR1cmF0aW9uKSYmKGEuYVswXS5kdXJhdGlvbj1hLmIpO2Zvcih2YXIgYz0wLGQ9ITAsZT0wO2U8YS5hLmxlbmd0aDsrK2Upe3ZhciBmPWEuYVtlLTFdLGc9YS5hW2VdLGg9YS5hW2UrMV18fHtzdGFydDphLmJ9OyFiKGcuc3RhcnQpJiZmJiZiKGYuc3RhcnQpJiZiKGYuZHVyYXRpb24pJiYoZy5zdGFydD1mLnN0YXJ0K2YuZHVyYXRpb24pOyFiKGcuZHVyYXRpb24pJiZiKGguc3RhcnQpJiYoZy5kdXJhdGlvbj1oLnN0YXJ0LWcuc3RhcnQpO251bGwhPWcuc3RhcnQmJm51bGwhPWcuZHVyYXRpb24/Yys9Zy5kdXJhdGlvbjpkPSExfWIoYS5iKXx8KGU9YS5hW2EuYS5sZW5ndGgtMV0sCmQ/YS5iPWM6YihlLnN0YXJ0KSYmYihlLmR1cmF0aW9uKT9hLmI9ZS5zdGFydCtlLmR1cmF0aW9uOmEubWFuaWZlc3RJc0xpdmVTdHJlYW1pbmd8fChhLmI9YykpfX0KZnVuY3Rpb24gQmUoYSxiLGMsZCxlKXt2YXIgZj1uZXcgU2Q7Zi5pZD1jLmlkO2Yuc3RhcnQ9Yy5zdGFydDtmLmR1cmF0aW9uPWMuZHVyYXRpb247dmFyIGc9bmV3IEQ7Yy5hLmZvckVhY2goZnVuY3Rpb24oYSl7Zy5wdXNoKGEuY29udGVudFR5cGV8fCIiLGEpfSk7Zm9yKHZhciBoPWFiKGcpLGs9MDtrPGgubGVuZ3RoOysrayl7dmFyIGw9bmV3IEQ7Zy5nZXQoaFtrXSkuZm9yRWFjaChmdW5jdGlvbihhKXtsLnB1c2goYS5ncm91cCxhKX0pO2Zvcih2YXIgbT1hYihsKSxwPTA7cDxtLmxlbmd0aDsrK3Ape3ZhciB0PW5ldyBEO2wuZ2V0KG1bcF0pLmZvckVhY2goZnVuY3Rpb24oYSl7dC5wdXNoKGEubGFuZyxhKX0pO2Zvcih2YXIgdz1hYih0KSx6PTA7ejx3Lmxlbmd0aDsrK3ope3ZhciBIPXQuZ2V0KHdbel0pLEg9Q2UoYSxiLGMsSCxkLGUpO2YuYS5wdXNoKEgpfX19cmV0dXJuIGZ9CmZ1bmN0aW9uIENlKGEsYixjLGQsZSxmKXtiYShkLmV2ZXJ5KGZ1bmN0aW9uKGEpe3JldHVybiBhLmdyb3VwPT1kWzBdLmdyb3VwJiYoYS5sYW5nfHwiIik9PShkWzBdLmxhbmd8fCIiKSYmKGEuY29udGVudFR5cGV8fCIiKT09KGRbMF0uY29udGVudFR5cGV8fCIiKX0pKTt2YXIgZz1uZXcgT2QsaD1kLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YS5pZH0pO2gubGVuZ3RoPT1kLmxlbmd0aCYmKGcuaWQ9aC5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuaWR9KS5zb3J0KCkucmVkdWNlKGZ1bmN0aW9uKGEsYil7cmV0dXJuIGErIiwiK2J9KSk7Zy5iPSEoIWRbMF0uYnx8InVybjpzY3RlOmRhc2g6Y2M6Y2VhLTYwODoyMDE1IiE9PWRbMF0uYi5hKTtnLmxhbmc9ZFswXS5sYW5nfHwiIjtnLmNvbnRlbnRUeXBlPWRbMF0uY29udGVudFR5cGV8fCIiO2cuZj1kLnNvbWUoZnVuY3Rpb24oYSl7cmV0dXJuIGEuZn0pO2Zvcih2YXIgaD17fSxrPTA7azxkLmxlbmd0aDsrK2spe3ZhciBsPQpkW2tdO2wuYyYmKGcuYz1sLmMpO2Zvcih2YXIgbT0wO208bC5hLmxlbmd0aDsrK20pe3ZhciBwPWwuYVttXSx0PURlKGEscCksdz1nLmEuc2xpY2UoMCk7RWUodCx3KTswPT13Lmxlbmd0aCYmMDxnLmEubGVuZ3RofHwhKHA9RmUoYSxiLGMscCxlLGYpKXx8KGcudi5wdXNoKHApLGcuYT13LGhbcC5YXT1sKX19aWYoZy5hLnNvbWUoZnVuY3Rpb24oYSl7cmV0dXJuIiI9PWEuYX0pKXJldHVybiBnLnYuZm9yRWFjaChmdW5jdGlvbihhKXthLm9hPSEwfSksZzthPUdlKGQpO2ZvcihrPTA7azxnLnYubGVuZ3RoOysraylwPWcudltrXSxsPWhbcC5YXSxsPT1hJiYocC5vYT0hMCk7cmV0dXJuIGd9CmZ1bmN0aW9uIEdlKGEpe2Zvcih2YXIgYj1udWxsLGM9bnVsbCxkPTA7ZDxhLmxlbmd0aDsrK2QpZm9yKHZhciBlPWFbZF0sZj0wO2Y8ZS5hLmxlbmd0aDsrK2Ype3ZhciBnPWUuYVtmXSxnPShnLndpZHRofHwxKSooZy5oZWlnaHR8fDEpKihnLmJhbmR3aWR0aHx8MSk7aWYobnVsbD09Ynx8ZzxiKWI9ZyxjPWV9cmV0dXJuIGN9ZnVuY3Rpb24gRWUoYSxiKXtpZigwPT1iLmxlbmd0aClBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShiLGEpO2Vsc2UgZm9yKHZhciBjPTA7YzxiLmxlbmd0aDsrK2Mpe2Zvcih2YXIgZD0hMSxlPTA7ZTxhLmxlbmd0aDsrK2Upe3ZhciBmPWJbY10sZz1hW2VdO2lmKGYuYT09Zy5hJiZmLmk9PWcuaSYmZi53aXRoQ3JlZGVudGlhbHM9PWcud2l0aENyZWRlbnRpYWxzJiZmLmg9PWcuaCYmZi5qPT1nLmomJmYuZz09Zy5nJiZmLm09PWcubSYmTWEoZi5jLGcuYykpe2Q9ITA7T2IoYltjXSxhW2VdLmIpO2JyZWFrfX1kfHwoYi5zcGxpY2UoYywxKSwtLWMpfX0KZnVuY3Rpb24gRGUoYSxiKXt2YXIgYz1bXTtpZigwPT1iLmMubGVuZ3RoKWMucHVzaChuZXcgTWIpO2Vsc2UgaWYoYS5iKWZvcih2YXIgZD0wO2Q8Yi5jLmxlbmd0aDsrK2QpYy5wdXNoLmFwcGx5KGMsSGUoYSxiLmNbZF0pKTtyZXR1cm4gY30KZnVuY3Rpb24gSGUoYSxiKXt2YXIgYz1bXTtpZigyIT1hLmIubGVuZ3RoKXJldHVybltdO3ZhciBkPWEuYihiLmZ8fCIiLGIuYyk7aWYoIShkJiZkIGluc3RhbmNlb2YgQXJyYXkpKXJldHVybltdO2Zvcih2YXIgZT0wO2U8ZC5sZW5ndGg7KytlKXt2YXIgZjt2YXIgZz1kW2VdO2Y9bmV3IE1iO2lmKGcpe3ZhciBoPVlhKGcsImtleVN5c3RlbSIpO2lmKG51bGwhPWgpZi5hPWg7ZWxzZSB0aHJvdyBFcnJvcigiJ2tleVN5c3RlbScgY2Fubm90IGJlIG51bGwuIik7dmFyIGs9WWEoZywibGljZW5zZVNlcnZlclVybCIpO2lmKG51bGwhPWspZi5pPWs7ZWxzZSBpZihoKXRocm93IEVycm9yKCJGb3IgZW5jcnlwdGVkIHN0cmVhbWluZyBjb250ZW50LCAnbGljZW5zZVNlcnZlclVybCcgY2Fubm90IGJlIG51bGwgb3IgZW1wdHkuIik7aD1CKGcsIndpdGhDcmVkZW50aWFscyIpO251bGwhPWgmJihmLndpdGhDcmVkZW50aWFscz1oKTtoPVphKGcsImxpY2Vuc2VQb3N0UHJvY2Vzc29yIixGdW5jdGlvbik7Cm51bGwhPWgmJihmLmY9aCk7aD1aYShnLCJsaWNlbnNlUHJlUHJvY2Vzc29yIixGdW5jdGlvbik7bnVsbCE9aCYmKGYubz1oKTtoPUIoZywiZGlzdGluY3RpdmVJZGVudGlmaWVyUmVxdWlyZWQiKTtudWxsIT1oJiYoZi5oPWgpO2g9QihnLCJwZXJzaXN0ZW50U3RhdGVSZXF1aXJlZCIpO251bGwhPWgmJihmLmo9aCk7aD1ZYShnLCJhdWRpb1JvYnVzdG5lc3MiKTtudWxsIT1oJiYoZi5nPWgpO2g9WWEoZywidmlkZW9Sb2J1c3RuZXNzIik7bnVsbCE9aCYmKGYubT1oKTtoPVphKGcsInNlcnZlckNlcnRpZmljYXRlIixVaW50OEFycmF5KTtudWxsIT1oJiYoZi5jPWgpO2lmKGg9WmEoZywiaW5pdERhdGEiLE9iamVjdCkpe2c9WmEoaCwiaW5pdERhdGEiLFVpbnQ4QXJyYXkpO2lmKG51bGw9PWcpdGhyb3cgRXJyb3IoIidpbml0RGF0YS5pbml0RGF0YScgY2Fubm90IGJlIG51bGwuIik7aD1ZYShoLCJpbml0RGF0YVR5cGUiKTtpZihudWxsPT1oKXRocm93IEVycm9yKCInaW5pdERhdGEuaW5pdERhdGFUeXBlJyBjYW5ub3QgYmUgbnVsbC4iKTsKZi5iLnB1c2goe2luaXREYXRhOm5ldyBVaW50OEFycmF5KGcuYnVmZmVyKSxpbml0RGF0YVR5cGU6aH0pfX0wPT1mLmIubGVuZ3RoJiZiLmEmJmIuYS5wc3NoQm94JiZPYihmLFt7aW5pdERhdGE6Yi5hLnBzc2hCb3gsaW5pdERhdGFUeXBlOiJjZW5jIn1dKTtjLnB1c2goZil9cmV0dXJuIGN9CmZ1bmN0aW9uIEZlKGEsYixjLGQsZSxmKXtpZighZC5iYXNlVXJsfHwwPT09ZC5iYXNlVXJsLmxlbmd0aClyZXR1cm4gbnVsbDt2YXIgZz1udWxsLGg9MSxrPTA7aWYoZC5mKXtnPWQubWltZVR5cGUuc3BsaXQoIi8iKVsxXTtpZigibXA0IiE9ZyYmIndlYm0iIT1nKWc9bnVsbDtlbHNle3ZhciBsPWQuZjtpZigid2VibSIhPWd8fGwuYylpZihsLmF8fGwuYiYmbC5iLmEpe2g9bC5iO2h8fChoPW5ldyB3YyxoLnVybD1kLmJhc2VVcmwsaC5hPWwuYT9sLmEuY2xvbmUoKTpudWxsKTtrPUllKGEsaCxmKTtoPWwuYz9JZShhLGwuYyxmKTpudWxsO2wuZj8obD1sLmYsbD1uZXcgSyhmLGQuYmFzZVVybCxsLnFhLGwuZW5kLHZvaWQgMCxhLmEpKTpsPW51bGw7dmFyIG09bCxwPVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgiYWRkX2lubGluZV9pbml0aWFsaXphdGlvbl9yZXNvdXJjZXMiLCExKSYmZC5oJiZkLmguZGF0YT9kLmguZGF0YTpudWxsLGw9VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJhZGRfaW5saW5lX2luaXRpYWxpemF0aW9uX3Jlc291cmNlcyIsCiExKSYmZC5nJiZkLmcuZGF0YT9kLmcuZGF0YTpudWxsO2E9bmV3IHZlKGIsYyxnLGssaCxtLGUsZixhLmwscCxsKTtiPW5ldyBnZChoLGwpO2M9bmV3IEtkO2MuTT1hO2MuYWE9YjtnPWN9ZWxzZSBnPW51bGw7ZWxzZSBnPW51bGx9aD1kLmYucztrPWQuZi5MfWVsc2UgaWYoZC5iKWc9ZC5iLCFnLkgmJiFnLkMmJjE8Zy5hLmxlbmd0aD9nPW51bGw6Zy5IfHxjLmR1cmF0aW9ufHxnLkN8fDEhPWcuYS5sZW5ndGg/Zy5DJiYwPT09Zy5DLk4ubGVuZ3RoP2c9bnVsbDooZz1nLmI/SWUoYSxnLmIsZik6bnVsbCxhPW5ldyBGZChiLGMsZCxlLGYsYS5hKSxiPW5ldyBnZChnKSxjPW5ldyBLZCxjLk09YSxjLmFhPWIsZz1jKTpnPW51bGwsaD1kLmIucyxrPWQuYi5MO2Vsc2UgaWYoZC5hKXthOmlmKGc9ZC5hLGg9MCsoZy5hPzE6MCksaCs9Zy5DPzE6MCxoKz1nLkg/MTowLDA9PWg/aD0hMTooMSE9aCYmKGcuYT8oZy5DPW51bGwsZy5IPW51bGwpOmcuQyYmKGcuSD1udWxsKSksaD0hMCksaCl7aD0KbnVsbDtpZihnLmMmJihoPShnPWQuYS5jKT9KZShkLGcseGMpOm51bGwsIWgpKXtnPW51bGw7YnJlYWsgYX1nPWg/SWUoYSxoLGYpOm51bGw7aD1kLmE7aC5hPyhoPWQubWltZVR5cGUuc3BsaXQoIi8iKVsxXSwibXA0IiE9aCYmIndlYm0iIT1oP2E9bnVsbDoid2VibSIhPWh8fGc/bWQoZixkLDEsMCx2b2lkIDAsYS5hKT8oaz0oaz1kLmEuYSk/SmUoZCxrLHdjKTpudWxsKT8oaz1JZShhLGssZiksYT1uZXcgdmUoYixjLGgsayxnLG51bGwsZSxmLGEubCkpOmE9bnVsbDphPW51bGw6YT1udWxsKTphPWguZj9oLkM/bmV3IEpkKGEuYyxiLGMsZCxlLGYsMCxhLmEpOmguSD9iLm1hbmlmZXN0SXNMaXZlU3RyZWFtaW5nfHxudWxsIT1jLmR1cmF0aW9uP25ldyBFZChiLGMsZCxlLGYpOm51bGw6bnVsbDpudWxsO2E/KGI9bmV3IGdkKGcpLGM9bmV3IEtkLGMuTT1hLGMuYWE9YixnPWMpOmc9bnVsbH1lbHNlIGc9bnVsbDtoPWQuYS5zO2s9ZC5hLkx9ZWxzZSJ0ZXh0Ij09ZC5taW1lVHlwZS5zcGxpdCgiLyIpWzBdJiYKKGc9bmV3IEtkLGcuTT1uZXcgc2UobmV3IEsoZixkLmJhc2VVcmwpKSk7aWYoIWcpcmV0dXJuIG51bGw7Zy5pZD1kLmlkO2smJihnLmE9LTEqay9oKTtnLmJhbmR3aWR0aD1kLmJhbmR3aWR0aDtnLndpZHRoPWQud2lkdGg7Zy5oZWlnaHQ9ZC5oZWlnaHQ7Zy5taW1lVHlwZT1kLm1pbWVUeXBlfHwiIjtnLmNvZGVjcz1kLmNvZGVjc3x8IiI7Zy5nPWQub3x8bnVsbDtnLmg9ZC51fHxudWxsO2cuZmJRdWFsaXR5TGFiZWw9ZC5mYlF1YWxpdHlMYWJlbHx8bnVsbDtnLmZiUXVhbGl0eUNsYXNzPWQuZmJRdWFsaXR5Q2xhc3N8fG51bGw7Zy5mPWQubXx8bnVsbDtnLmZyYW1lUmF0ZT1kLmZyYW1lUmF0ZXx8IiI7Zy5jPWQuanx8bnVsbDtmb3IoYT0wO2E8ZC5jLmxlbmd0aDsrK2EpYj1kLmNbYV0sYi5iJiZnLmIucHVzaChiLmIpO3JldHVybiBnfQpmdW5jdGlvbiBKZShhLGIsYyl7Yj1uZChiLGEuaWQsbnVsbCxhLmJhbmR3aWR0aCxudWxsKTtpZighYilyZXR1cm4gbnVsbDtjPW5ldyBjO2MudXJsPVpjKGEuYmFzZVVybCxiKTtyZXR1cm4gY31mdW5jdGlvbiBJZShhLGIsYyl7dmFyIGQ9Yi51cmwsZT0wLGY9bnVsbDtiLmEmJihlPWIuYS5xYSxmPWIuYS5lbmQpO3JldHVybiBuZXcgSyhjLGQsZSxmLHZvaWQgMCxhLmEpfTtmdW5jdGlvbiBLZShhLGIsYyxkLGUsZixnKXt0aGlzLmI9bmV3IEsobnVsbCxbbmV3IEwoYSldKTt0aGlzLmw9ZTt0aGlzLmY9Yjt0aGlzLmM9MTt0aGlzLmc9YTt0aGlzLmE9bmV3IHRiO3RoaXMuYS5ib2R5PWI7dGhpcy5hLm1ldGhvZD1jO3RoaXMuYS5OYT0zO3RoaXMuYS53aXRoQ3JlZGVudGlhbHM9ZDt0aGlzLmEuYj0xRTMqKG51bGwhPWc/ZzpoYSk7YT1mfHx7fTtmb3IodmFyIGggaW4gYSl0aGlzLmEuUWFbaF09YVtoXX0KZnVuY3Rpb24gTGUoYSl7cmV0dXJuIGEuYi5mZXRjaChhLmEpLnRoZW4oZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYi51JiYwPHRoaXMuYz8odGhpcy5jLS0sbnVsbCE9PXRoaXMubCYmbnVsbCE9PXRoaXMuYi5pJiZ0aGlzLmwuc2V0UmVhc29uKCJSZWRpcmVjdGVkIHRvIFVSTDogIit0aGlzLmIuaS50b1N0cmluZygpKSx0aGlzLmI9bmV3IEsobnVsbCxbbmV3IEwodGhpcy5nKV0pLHRoaXMuYS5ib2R5PXRoaXMuZixMZSh0aGlzKSk6UHJvbWlzZS5yZXNvbHZlKG5ldyBVaW50OEFycmF5KGEpKX0uYmluZChhKSl9O2Z1bmN0aW9uIE1lKGEsYixjLGQpe0YuY2FsbCh0aGlzLGEpO3RoaXMuYz1iO3RoaXMuaj1jO3RoaXMuYT10aGlzLmg9bnVsbDt0aGlzLmk9bmV3IGJiO3RoaXMuYj1bXTt0aGlzLmY9W107dGhpcy5tPTA7dGhpcy5nPW5ldyBJO3RoaXMubz1udWxsO3RoaXMuQT1oYTt0aGlzLmw9ZH1yKE1lLEYpO01lLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5KYT1udWxsO2Zvcih2YXIgYT0wO2E8dGhpcy5mLmxlbmd0aDsrK2EpdGhpcy5mW2FdLmNsb3NlKCkuY2F0Y2goZnVuY3Rpb24oKXt9KTt0aGlzLmY9W107dGhpcy5iPXRoaXMuYT10aGlzLmg9bnVsbDt0aGlzLmcuZGVzdHJveSgpO3RoaXMuZz1udWxsO3RoaXMuaS5kZXN0cm95KCk7dGhpcy5pPW51bGw7dGhpcy5vJiYoY2xlYXJUaW1lb3V0KHRoaXMubyksdGhpcy5vPW51bGwpO3RoaXMuYz10aGlzLmo9bnVsbH07Ck1lLnByb3RvdHlwZS5pbml0aWFsaXplPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPW5ldyBELGI9TmUodGhpcy5qKSxjPTA7YzxiLmxlbmd0aDsrK2Mpe3ZhciBkPWJbY107ZC5hLmF8fGQuYiYmIU9lKGQuYil8fGEucHVzaChkLmNvbnRlbnRUeXBlLGQpfWZvcih2YXIgYz17fSxkPSExLGU9MDtlPGIubGVuZ3RoOysrZSl7dmFyIGY9YltlXTtpZihmLmEuYSYmIWEuYS5oYXNPd25Qcm9wZXJ0eShmLmNvbnRlbnRUeXBlKSl7dmFyIGc9Zi5hLmEsaD1jW2ddO2h8fChoPWYuYSxoPXthdWRpb0NhcGFiaWxpdGllczp2b2lkIDAsdmlkZW9DYXBhYmlsaXRpZXM6dm9pZCAwLGluaXREYXRhVHlwZXM6dm9pZCAwLGRpc3RpbmN0aXZlSWRlbnRpZmllcjpoLmg/InJlcXVpcmVkIjoib3B0aW9uYWwiLHBlcnNpc3RlbnRTdGF0ZTpoLmo/InJlcXVpcmVkIjoib3B0aW9uYWwiLHNlc3Npb25UeXBlczpbInRlbXBvcmFyeSJdfSxjW2ddPWgpO2lmKGYuYiYmKGc9Zi5jb250ZW50VHlwZSsiQ2FwYWJpbGl0aWVzIiwKZyBpbiBoKSl7ZD0hMDtoW2ddfHwoaFtnXT1bXSk7dmFyIGs7ImF1ZGlvIj09Zi5jb250ZW50VHlwZT9rPWYuYS5nOiJ2aWRlbyI9PWYuY29udGVudFR5cGUmJihrPWYuYS5tKTtoW2ddLnB1c2goe2NvbnRlbnRUeXBlOmYuYixyb2J1c3RuZXNzOmt9KX19fWlmKCFkKWlmKGIubGVuZ3RoKXRoaXMuYT1iWzBdLmE7ZWxzZSB0aHJvdyBhPUVycm9yKCJObyBEcm1JbmZvIGV4aXN0cyEiKSxhLnR5cGU9ImRybSIsYTtpZigwPT1PYmplY3Qua2V5cyhjKS5sZW5ndGgpcmV0dXJuIFBlKHRoaXMuaixhKSx0aGlzLmcucmVzb2x2ZSgpLFByb21pc2UucmVzb2x2ZSgpO2s9bmV3IEk7Yz1RZShjLGspO2M9Yy50aGVuKHRoaXMudy5iaW5kKHRoaXMsYixhKSk7ay5yZWplY3QobnVsbCk7dGhpcy5sJiZ0aGlzLmwuZ2V0RXZlbnRMb2dnZXIoImVtZV9pbml0IikubG9nKCk7cmV0dXJuIGN9OwpmdW5jdGlvbiBRZShhLGIpe2Zvcih2YXIgYyBpbiBhKWI9Yi5jYXRjaChmdW5jdGlvbihhLGIpe3JldHVybiBuYXZpZ2F0b3IucmVxdWVzdE1lZGlhS2V5U3lzdGVtQWNjZXNzKGEsW2JdKX0uYmluZChudWxsLGMsYVtjXSkpO3JldHVybiBifQpNZS5wcm90b3R5cGUudz1mdW5jdGlvbihhLGIsYyl7aWYoIXRoaXMuYylyZXR1cm4gUmUoKTtmb3IodmFyIGQ9Yy5rZXlTeXN0ZW0sZT1jLmdldENvbmZpZ3VyYXRpb24oKSxmPVsiYXVkaW8iLCJ2aWRlbyJdLGc9MDtnPGYubGVuZ3RoOysrZyl7dmFyIGg9ZltnXTtpZighYi5hLmhhc093blByb3BlcnR5KGgpKXt2YXIgaz1lW2grIkNhcGFiaWxpdGllcyJdO2lmKGspe2Zvcih2YXIgaz1rWzBdLGw9W10sbT17fSxwPTA7cDxhLmxlbmd0aDsrK3Ape3ZhciB0PWFbcF0sdz1rP3QuYj09ay5jb250ZW50VHlwZTp0LmNvbnRlbnRUeXBlPT1oO3QuYS5hIT1kfHwhd3x8dC5pZCBpbiBtfHwobC5wdXNoKHQpLG1bdC5pZF09ITAsdGhpcy5hPXRoaXMuYT9OYih0aGlzLmEsdC5hKTp0LmEpfWIuc2V0KGgsbCl9fX1QZSh0aGlzLmosYik7aWYodGhpcy5jLm1lZGlhS2V5cyl0aGlzLmg9dGhpcy5jLm1lZGlhS2V5cztlbHNlIHJldHVybiBjLmNyZWF0ZU1lZGlhS2V5cygpLnRoZW4oZnVuY3Rpb24oYSl7dGhpcy5oPQphfS5iaW5kKHRoaXMpKX07ZnVuY3Rpb24gU2UoYSl7cmV0dXJuIGEuYz9hLmg/YS5jLnNldE1lZGlhS2V5cyhhLmgpLnRoZW4oSihhLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYz90aGlzLmEuYz90aGlzLmguc2V0U2VydmVyQ2VydGlmaWNhdGUodGhpcy5hLmMpOlByb21pc2UucmVzb2x2ZSgpOlJlKCl9KSkudGhlbihKKGEsZnVuY3Rpb24oKXtpZighdGhpcy5jKXJldHVybiBSZSgpO2Zvcih2YXIgYT0wO2E8dGhpcy5hLmIubGVuZ3RoOysrYSl7dmFyIGM9dGhpcy5hLmJbYV07dGhpcy51KHt0eXBlOiJlbmNyeXB0ZWQiLGluaXREYXRhVHlwZTpjLmluaXREYXRhVHlwZSxpbml0RGF0YTpjLmluaXREYXRhfSl9MD09dGhpcy5hLmIubGVuZ3RoJiZFKHRoaXMuaSx0aGlzLmMsImVuY3J5cHRlZCIsdGhpcy51LmJpbmQodGhpcykpfSkpOlByb21pc2UucmVzb2x2ZSgpOlJlKCl9CmZ1bmN0aW9uIFJlKCl7dmFyIGE9RXJyb3IoIkVtZU1hbmFnZXIgZGVzdHJveWVkIik7YS50eXBlPSJkZXN0cm95IjtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYSl9Ck1lLnByb3RvdHlwZS51PWZ1bmN0aW9uKGEpe3ZhciBiPW5ldyBVaW50OEFycmF5KGEuaW5pdERhdGEpO3RoaXMubCYmdGhpcy5sLmdldEV2ZW50TG9nZ2VyKCJlbmNyeXB0ZWRfc2FtcGxlIikubG9nKCk7Zm9yKHZhciBjPTA7Yzx0aGlzLmIubGVuZ3RoOysrYylpZihNYShiLHRoaXMuYltjXS5kYXRhKSlyZXR1cm47dHJ5e3ZhciBkPVRlKHRoaXMpfWNhdGNoKGUpe2I9QShlKTt0aGlzLmRpc3BhdGNoRXZlbnQoYik7dGhpcy5sJiZ0aGlzLmwuZ2V0RXZlbnRMb2dnZXIoImVtZV9lcnJvciIpLnNldEVycm9yKGUpLmxvZygpO3RoaXMuZy5yZWplY3QoZSk7cmV0dXJufWE9ZC5nZW5lcmF0ZVJlcXVlc3QoYS5pbml0RGF0YVR5cGUsYS5pbml0RGF0YSk7dGhpcy5iLnB1c2goe2RhdGE6Yix1YjpkfSk7YS5jYXRjaChKKHRoaXMsZnVuY3Rpb24oYSl7aWYodGhpcy5jKXtmb3IodmFyIGI9MDtiPHRoaXMuYi5sZW5ndGg7KytiKWlmKHRoaXMuYltiXS51Yj09ZCl7dGhpcy5iLnNwbGljZShiLAoxKTticmVha31iPUEoYSk7dGhpcy5kaXNwYXRjaEV2ZW50KGIpO3RoaXMubCYmdGhpcy5sLmdldEV2ZW50TG9nZ2VyKCJlbWVfZXJyb3IiKS5zZXRFcnJvcihhKS5sb2coKTt0aGlzLmcucmVqZWN0KGEpfX0pKTt0aGlzLmYucHVzaChkKX07ZnVuY3Rpb24gVWUoYSl7Zm9yKHZhciBiPVtdLGM9MDtjPGIubGVuZ3RoOysrYyl7dmFyIGQ9VGUoYSksZT1kLmxvYWQoYltjXSk7YS5mLnB1c2goZCk7ZS50aGVuKEooYSxmdW5jdGlvbigpe3RoaXMubSsrO3RoaXMubT49dGhpcy5mLmxlbmd0aCYmdGhpcy5nLnJlc29sdmUoKX0pKS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7dmFyIGI9QShhKTt0aGlzLmRpc3BhdGNoRXZlbnQoYik7dGhpcy5sJiZ0aGlzLmwuZ2V0RXZlbnRMb2dnZXIoImVtZV9lcnJvciIpLnNldEVycm9yKGEpLmxvZygpfSkpfX0KZnVuY3Rpb24gVGUoYSl7dmFyIGI9bnVsbCxiPWEuaC5jcmVhdGVTZXNzaW9uKCk7RShhLmksYiwibWVzc2FnZSIsYS5ELmJpbmQoYSkpO0UoYS5pLGIsImtleXN0YXR1c2VzY2hhbmdlIixhLkIuYmluZChhKSk7cmV0dXJuIGJ9TWUucHJvdG90eXBlLkQ9ZnVuY3Rpb24oYSl7VmUodGhpcyxhLnRhcmdldCx0aGlzLmEsYS5tZXNzYWdlKX07Ck1lLnByb3RvdHlwZS5CPWZ1bmN0aW9uKGEpe2E9YS50YXJnZXQ7dmFyIGI9e307YS5rZXlTdGF0dXNlcy5mb3JFYWNoKGZ1bmN0aW9uKGEsYyl7aWYoInN0cmluZyI9PT10eXBlb2YgYSl7dmFyIGY9YTthPWM7Yz1mfWlmKCJjb20ubWljcm9zb2Z0LnBsYXlyZWFkeSI9PXRoaXMuYS5hJiYxNj09YS5ieXRlTGVuZ3RoKXt2YXIgZj1uZXcgRGF0YVZpZXcoYSksZz1mLmdldFVpbnQzMigwLCEwKSxoPWYuZ2V0VWludDE2KDQsITApLGs9Zi5nZXRVaW50MTYoNiwhMCk7Zi5zZXRVaW50MzIoMCxnLCExKTtmLnNldFVpbnQxNig0LGgsITEpO2Yuc2V0VWludDE2KDYsaywhMSl9Zj1MYihuZXcgVWludDhBcnJheShhKSk7YltmXT1jfS5iaW5kKHRoaXMpKTtpZihhLmV4cGlyYXRpb248RGF0ZS5ub3coKSl7Zm9yKHZhciBjPTA7Yzx0aGlzLmIubGVuZ3RoOysrYylpZih0aGlzLmJbY10udWI9PWEpe3RoaXMuYi5zcGxpY2UoYywxKTticmVha31hLmNsb3NlKCk7dGhpcy5mLnNwbGljZSh0aGlzLmYuaW5kZXhPZihhKSwKMSl9dGhpcy5sJiZ0aGlzLmwuZ2V0RXZlbnRMb2dnZXIoImVtZV9rZXlfc3RhdHVzX2NoYW5nZSIpLmxvZygpO1dlKHRoaXMuaixiKX07CmZ1bmN0aW9uIFZlKGEsYixjLGQpe2Q9WGUoYyxkKTt2YXIgZT1udWxsO2EubCYmKGU9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigibGljZW5zZV9yZXF1ZXN0Iikuc3RhcnQoKSk7TGUobmV3IEtlKGQudXJsLGQuYm9keSxkLm1ldGhvZCxjLndpdGhDcmVkZW50aWFscyxlLGQuaGVhZGVycyxhLkEpKS50aGVuKEooYSxmdW5jdGlvbihhKXtlJiYoZS5zZXRSZXN1bHQoInN1Y2Nlc3MiKSxlLmxvZygpKTtjLmYmJihhPWMuZihhKSk7ZT1udWxsO3RoaXMubCYmKGU9dGhpcy5sLmdldE9wZXJhdGlvbkxvZ2dlcigiZW1lX3Bvc3RfbGljZW5zZV9zZXNzaW9uX3VwZGF0ZSIpLnN0YXJ0KCkpO251bGw9PT1hfHx2b2lkIDA9PT1hfHwwPT09YS5ieXRlTGVuZ3RoP251bGwhPT1lJiYoZS5zZXRFcnJvcigiZW1wdHkgbGljZW5zZSIpLGUuc2V0UmVzdWx0KCJmYWlsZWQiKS5sb2coKSk6Yi51cGRhdGUoYSkudGhlbihKKHRoaXMsZnVuY3Rpb24oKXtlJiYoZS5zZXRSZXN1bHQoInN1Y2Nlc3MiKSxlLmxvZygpKTsKdmFyIGE9eSh7dHlwZToic2Vzc2lvblJlYWR5IixkZXRhaWw6Yn0pO3RoaXMuZGlzcGF0Y2hFdmVudChhKTt0aGlzLm0rKzt0aGlzLm0+PXRoaXMuZi5sZW5ndGgmJnRoaXMuZy5yZXNvbHZlKCl9KSkuY2F0Y2goSih0aGlzLGZ1bmN0aW9uKGEpe2EudWI9Yjt2YXIgYz1BKGEpO2UmJihlLnNldFJlc3VsdCgiZmFpbGVkIiksZS5zZXRFcnJvcihhKS5sb2coKSk7dGhpcy5kaXNwYXRjaEV2ZW50KGMpfSkpfSkpLmNhdGNoKEooYSxmdW5jdGlvbihhKXtpZihjLmYpe3ZhciBkPUpTT04uc3RyaW5naWZ5KHtkYXRhOlt7ZXJyb3I6YX1dfSksZD1uZXcgVWludDhBcnJheShkLnNwbGl0KCIiKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuY2hhckNvZGVBdCgwKX0pKTtjLmYoZCl9YS51Yj1iO2Q9QShhKTtlJiZlLnNldEVycm9yKGEpLmxvZygpO3RoaXMuZGlzcGF0Y2hFdmVudChkKX0pKX0KZnVuY3Rpb24gWGUoYSxiKXt2YXIgYz17dXJsOmEuaSxib2R5OmIuc2xpY2UoMCksbWV0aG9kOiJQT1NUIixoZWFkZXJzOnt9LGtleV9zeXN0ZW06YS5hfTtpZigiY29tLm1pY3Jvc29mdC5wbGF5cmVhZHkiPT09YS5hKXtmb3IodmFyIGQ9U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLG5ldyBVaW50MTZBcnJheShjLmJvZHkpKSxkPShuZXcgRE9NUGFyc2VyKS5wYXJzZUZyb21TdHJpbmcoZCwiYXBwbGljYXRpb24veG1sIiksZT1kLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJuYW1lIiksZj1kLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJ2YWx1ZSIpLGc9MDtnPGUubGVuZ3RoO2crKyljLmhlYWRlcnNbZVtnXS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZV09ZltnXS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZTtjLmJvZHk9d2luZG93LmF0b2IoZC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiQ2hhbGxlbmdlIilbMF0uY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUpfWlmKCFhLm8pcmV0dXJuIGM7CmEubyhjKTtjLnVybD1ZYShjLCJ1cmwiKTtpZihudWxsPT1jLnVybCl0aHJvdyBFcnJvcigiJ3VybCcgY2Fubm90IGJlIG51bGwuIik7aWYoIShjLmJvZHkgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcnx8InN0cmluZyI9PT10eXBlb2YgYy5ib2R5fHxudWxsPT1jLmJvZHkpKXRocm93IG5ldyBUeXBlRXJyb3IoIidib2R5JyBtdXN0IGJlIGFuIEFycmF5QnVmZmVyLCBhIHN0cmluZywgb3IgbnVsbC4iKTtjLm1ldGhvZD1ZYShjLCJtZXRob2QiKTtpZigiR0VUIiE9Yy5tZXRob2QmJiJQT1NUIiE9Yy5tZXRob2QpdGhyb3cgRXJyb3IoIidtZXRob2QnIG11c3QgYmUgZWl0aGVyICdHRVQnIG9yICdQT1NUJy4iKTtjLmhlYWRlcnM9WmEoYywiaGVhZGVycyIsT2JqZWN0KTtpZihudWxsPT1jLmhlYWRlcnMpdGhyb3cgRXJyb3IoIidoZWFkZXJzJyBjYW5ub3QgYmUgbnVsbC4iKTtyZXR1cm4gY307ZnVuY3Rpb24gVyhhLGIsYyxkLGUsZixnKXtGLmNhbGwodGhpcyxudWxsKTt0aGlzLmI9YTt0aGlzLmY9Yjt0aGlzLmE9bnVsbDt0aGlzLmc9bmV3IGJiO3RoaXMubT10aGlzLmk9bnVsbDt0aGlzLkY9MDt0aGlzLlM9dGhpcy5aPXRoaXMuJD1udWxsO3RoaXMuYmE9Zzt0aGlzLko9bnVsbDt0aGlzLk89dGhpcy5oPSExO3RoaXMuVj10aGlzLlk9ITA7dGhpcy5LPSExO3RoaXMuYz17ZW5hYmxlQWRhcHRhdGlvbjohMCxzdHJlYW1CdWZmZXJTaXplOjE1LGxpdmVTdHJlYW1FbmRUaW1lb3V0OjE1LGxpY2Vuc2VSZXF1ZXN0VGltZW91dDpoYSxtcGRSZXF1ZXN0VGltZW91dDppYSxzZWdtZW50UmVxdWVzdFRpbWVvdXQ6amEscHJlZmVycmVkTGFuZ3VhZ2U6ImVuIixyZXN0cmljdGlvbnM6bmV3IGthfTt0aGlzLmw9Yzt0aGlzLkc9ZDt0aGlzLmNhPWU7dGhpcy5nYT1mO3RoaXMubz1udWxsO3RoaXMuaj0xO3RoaXMuVD1udWxsO3RoaXMudT10aGlzLkE9dGhpcy53PSExO3RoaXMuUj10aGlzLkI9Cm51bGx9cihXLEYpO3EoInNoYWthLnBsYXllci5QbGF5ZXIiLFcpO1cudmVyc2lvbj0idjEuNi40LWZiIjtXLmlzQnJvd3NlclN1cHBvcnRlZD1mdW5jdGlvbigpe3JldHVybiEhd2luZG93Lk1lZGlhU291cmNlJiYhIXdpbmRvdy5VaW50OEFycmF5fTsKVy5wcm90b3R5cGUuQmE9ZnVuY3Rpb24oKXt2YXIgYT17fSxiPXRoaXMuYTtpZihiKXt2YXIgYz1iLlhiKCk7YS5CYW5kd2lkdGhFc3RpbWF0b3I9Yy5CYW5kd2lkdGhFc3RpbWF0b3I7dmFyIGQ9Yy5WaWRlb1NvdXJjZVN0cmVhbTtkJiYoYS5WaWRlb1NvdXJjZVN0cmVhbT1kLChkPWEuVmlkZW9CdWZmZXJNYW5hZ2VyPWQuQmEoKS5Tb3VyY2VCdWZmZXJNYW5hZ2VyKSYmKGEuVmlkZW9Tb3VyY2VCdWZmZXI9ZC5CYSgpLlNvdXJjZUJ1ZmZlcikpOyhkPWEuQXVkaW9Tb3VyY2VTdHJlYW09Yy5BdWRpb1NvdXJjZVN0cmVhbSkmJihkPWEuQXVkaW9CdWZmZXJNYW5hZ2VyPWQuQmEoKS5Tb3VyY2VCdWZmZXJNYW5hZ2VyKSYmKGEuQXVkaW9Tb3VyY2VCdWZmZXI9ZC5CYSgpLlNvdXJjZUJ1ZmZlcik7YS5UZXh0U291cmNlU3RyZWFtPWMuVGV4dFNvdXJjZVN0cmVhbTthLmdldE1hbmlmZXN0PWIuVGIuYmluZChiKX1lbHNlIGEuZ2V0TWFuaWZlc3Q9ZnVuY3Rpb24oKXt9O2EuTmQ9ITA7cmV0dXJuIGF9OwpXLnByb3RvdHlwZS5nZXREZWJ1Zz1XLnByb3RvdHlwZS5CYTtXLnByb3RvdHlwZS5zYT1mdW5jdGlvbihhKXt0aGlzLlk9YX07Vy5wcm90b3R5cGUuc2V0UmVzdW1lQWZ0ZXJCdWZmZXJpbmc9Vy5wcm90b3R5cGUuc2E7ZnVuY3Rpb24gT2UoYSl7cmV0dXJuInRleHQvdnR0Ij09YT8hIXdpbmRvdy5WVFRDdWU6TWVkaWFTb3VyY2UuaXNUeXBlU3VwcG9ydGVkKGEpfVcuaXNUeXBlU3VwcG9ydGVkPU9lO1cuc2V0VGV4dFN0eWxlPWZ1bmN0aW9uKGEpe3ZhciBiPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJTaGFrYVBsYXllclRleHRTdHlsZSIpO2J8fChiPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInN0eWxlIiksYi5pZD0iU2hha2FQbGF5ZXJUZXh0U3R5bGUiLGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoYikpO2ZvcihiPWIuc2hlZXQ7Yi5jc3NSdWxlcy5sZW5ndGg7KWIuZGVsZXRlUnVsZSgwKTtiLmluc2VydFJ1bGUoIjo6Y3VlIHsgIityYShhKSsiIH0iLDApfTsKVy5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3JldHVybiB0aGlzLlUoKS50aGVuKEoodGhpcyxmdW5jdGlvbigpe3RoaXMuZy5kZXN0cm95KCk7dGhpcy5iPXRoaXMuZz1udWxsO3RoaXMuUiYmdGhpcy5SLnJlbW92ZSgpfSkpLmNhdGNoKGZ1bmN0aW9uKCl7fSl9O1cucHJvdG90eXBlLmRlc3Ryb3k9Vy5wcm90b3R5cGUuZGVzdHJveTtXLnByb3RvdHlwZS5VPWZ1bmN0aW9uKCl7dGhpcy5LPSEwO3JldHVybiBaZSh0aGlzKX07Vy5wcm90b3R5cGUudW5sb2FkPVcucHJvdG90eXBlLlU7CmZ1bmN0aW9uIFplKGEpe3ZhciBiO2EubCYmKGI9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigidW5sb2FkIikuc3RhcnQoKSk7aWYoIWEuYSlyZXR1cm4gYiYmYi5sb2coKSxQcm9taXNlLnJlc29sdmUoKTthLmgmJiRlKGEsInVubG9hZGluZyIpO2EuYi5wYXVzZSgpO2RiKGEuZyk7YWYoYSk7YmYoYSk7YS5pJiYoYS5pLmRlc3Ryb3koKSxhLmk9bnVsbCk7YS5hJiYoYS5hLmRlc3Ryb3koKSxhLmE9bnVsbCk7YS5mLmdldEJvb2woInd3d192aWRlb3NfcGxheWJhY2tfcmVtb3ZlX3NyY19hdHRyX29uX3VubG9hZCIsITEpP2EuYi5yZW1vdmVBdHRyaWJ1dGUoInNyYyIpOmEuYi5zcmM9IiI7dmFyIGM9YS5mLmdldEJvb2woInd3d19zaGFrYV9jbGVhcl9tZWRpYV9rZXlzX29uX3VubG9hZCIsITEpJiZhLmIuc2V0TWVkaWFLZXlzJiYiZnVuY3Rpb24iPT09dHlwZW9mIGEuYi5zZXRNZWRpYUtleXM/YS5iLnNldE1lZGlhS2V5cyhudWxsKTpQcm9taXNlLnJlc29sdmUoKSxjPWMudGhlbihmdW5jdGlvbigpe2ImJgpiLmxvZygpO2lmKGEuZi5nZXRCb29sKCJlbmFibGVfcDJwX3N1cHBvcnQiLCExKSl7dmFyIGM9eSh7dHlwZToidW5sb2FkIn0pO2EuZGlzcGF0Y2hFdmVudChjKX19KTthLmg9ITE7YS5PPSExO2EuQT0hMTthLnU9ITE7cmV0dXJuIGN9ZnVuY3Rpb24gY2YoYSxiKXtmb3IodmFyIGM9MDtjPGEubGVuZ3RoO2MrKyliLnB1c2goYVtjXS5jb250ZW50VHlwZSxhW2NdKX1XLnByb3RvdHlwZS5GYT1mdW5jdGlvbihhKXtyZXR1cm4gZGYodGhpcyxhKX07Vy5wcm90b3R5cGUubG9hZD1XLnByb3RvdHlwZS5GYTsKZnVuY3Rpb24gZGYoYSxiKXt2YXIgYzthLmwmJihjPWEubC5nZXRPcGVyYXRpb25Mb2dnZXIoImxvYWQiKS5zZXRTdGF0ZSgibG9hZGluZyIpLnN0YXJ0KCksYi5sPWIuZy5wZXJmb3JtYW5jZUxvZ2dlcj1hLmwpO2EuRyYmKGIuQWI9Yi5nLmFickxvZ2dlcj1hLkcpO2EuYmEmJihiLmlhPWEuYmEpO2EuY2EmJihiLkk9YS5jYSk7YS5nYSYmYi5VLnB1c2goYS5nYSk7ZWYoYixhLmIpO3ZhciBkPW51bGw7YS5LPSExO0UoYS5nLGIsInJlcGxpY2Fzd2l0Y2giLGEubmEuYmluZChhKSk7YS5hJiYoZD1aZShhKS50aGVuKEooYSxmdW5jdGlvbigpe3JldHVybiBiLndiKCl9KSkpO2EuYi5hdXRvcGxheSYmKHUucWEoImxvYWQiKSxFKGEuZyxhLmIsInRpbWV1cGRhdGUiLGEuZWQuYmluZChhKSkpO2IubGMoYS5jKTtiLmxhPWEuVDthLlQ9bnVsbDtkfHwoZD1iLndiKCkpO2EuZi5nZXRCb29sKCJmaXhfc2hha2FfcGxheWVyX2xvYWRfcmFjZV9jb25kaXRpb24iLCExKSYmKGEuYT1iKTtkLmNhdGNoKEooYSwKZnVuY3Rpb24oYSl7Yi5kZXN0cm95KCk7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfSkpO3JldHVybiBkLnRoZW4oSihhLGZ1bmN0aW9uKCl7aWYoZmYodGhpcyxiKSlyZXR1cm4gZ2YoKTt0aGlzLmE9Yjt0aGlzLmcuYWIodGhpcy5hLCJyZXBsaWNhc3dpdGNoIik7RSh0aGlzLmcsdGhpcy5hLCJzZWVrcmFuZ2VjaGFuZ2VkIix0aGlzLnBhLmJpbmQodGhpcykpO0UodGhpcy5nLHRoaXMuYSwiYWxsU3RyZWFtc1N0YXJ0ZWQiLHRoaXMuRmQuYmluZCh0aGlzKSk7dmFyIGE9bmV3IEQ7Y2YoTmUodGhpcy5hKSxhKTtQZSh0aGlzLmEsYSk7YT10aGlzLmVhKCk7YyYmMDxhLmxlbmd0aCYmKGE9YS5yZWR1Y2UoZnVuY3Rpb24oYSxiKXtpZihudWxsPT09YXx8Yi5iYW5kd2lkdGg8YS5iYW5kd2lkdGgpYT1iO3JldHVybiBhfSxudWxsKSxjLnNldExvd2VzdFF1YWxpdHlSZXByZXNlbnRhdGlvbklEKGEuc3RyZWFtSW5mb0lEKSk7aWYoIXRoaXMuYy5lbmFibGVDb250ZW50UHJvdGVjdGlvbilyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7CnRoaXMuaT1uZXcgTWUodGhpcyx0aGlzLmIsdGhpcy5hLHRoaXMubCk7cmV0dXJuIHRoaXMuaS5pbml0aWFsaXplKCl9KSkudGhlbihKKGEsZnVuY3Rpb24oKXtpZihmZih0aGlzLGIpKXJldHVybiBnZigpO2hmKHRoaXMpO0UodGhpcy5nLHRoaXMuYiwicGxheWluZyIsdGhpcy5rZC5iaW5kKHRoaXMpKTtFKHRoaXMuZyx0aGlzLmIsInBhdXNlIix0aGlzLm1hLmJpbmQodGhpcykpO0UodGhpcy5nLHRoaXMuYiwid2FpdGluZyIsdGhpcy5zZC5iaW5kKHRoaXMpKTtFKHRoaXMuZyx0aGlzLmIsInBsYXkiLHRoaXMuaWEuYmluZCh0aGlzKSk7cmV0dXJuIGpmKHRoaXMuYSx0aGlzLHRoaXMuYil9KSkudGhlbihKKGEsZnVuY3Rpb24oKXtpZihmZih0aGlzLGIpKXJldHVybiBnZigpO2lmKHRoaXMuYy5lbmFibGVDb250ZW50UHJvdGVjdGlvbil7dmFyIGE7dGhpcy5sJiYoYT10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJlbWVfYXR0YWNoIikpO3JldHVybiBTZSh0aGlzLmkpLnRoZW4oZnVuY3Rpb24oKXthJiYKYS5sb2coKX0pfXJldHVybiBQcm9taXNlLnJlc29sdmUoKX0pKS50aGVuKEooYSxmdW5jdGlvbigpe2lmKGZmKHRoaXMsYikpcmV0dXJuIGdmKCk7a2YodGhpcyk7YyYmYy51cGRhdGVTdGF0ZSgicmVhZHkiKS5sb2coKX0pKS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7YyYmYy5zZXRFcnJvcihKU09OLnN0cmluZ2lmeShhKSkubG9nKCk7aWYoZmYodGhpcyxiKSlyZXR1cm4gZ2YoKTtpZigiZGVzdHJveSIhPWEudHlwZSl7dmFyIGQ9QShhKTt0aGlzLmRpc3BhdGNoRXZlbnQoZCl9cmV0dXJuIHRoaXMuVSgpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYSl9KX0pKX1mdW5jdGlvbiBmZihhLGIpe3JldHVybiFhLmJ8fGEuS3x8YS5mLmdldEJvb2woImZpeF9zaGFrYV9wbGF5ZXJfbG9hZF9yYWNlX2NvbmRpdGlvbiIsITEpJiZiIT09YS5hfW49Vy5wcm90b3R5cGU7Cm4uRmQ9ZnVuY3Rpb24oKXt2YXIgYSxiO3RoaXMuZi5nZXRCb29sKCJ3d3dfdmlkZW9zX2V4dGVuZGVkX3NwbF9sb2dnaW5nX2Zvcl9jb25uZWN0ZWRfdHYiLCExKSYmdGhpcy5sJiYoYT10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJvbl9hbGxfc3RyZWFtc19zdGFydGVkIiksYj10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJyZXN0b3JlX3ZpZGVvX3BsYXliYWNrX3JhdGUiKSk7dGhpcy5PPSEwO3RoaXMuaD90aGlzLkQoKToodGhpcy5iLnBsYXliYWNrUmF0ZT10aGlzLmosYiYmYi5sb2coKSk7YSYmYS5sb2coKX07ZnVuY3Rpb24gZ2YoKXt2YXIgYT1FcnJvcigiUGxheWVyIGRlc3Ryb3llZCIpO2EudHlwZT0iZGVzdHJveSI7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfQpmdW5jdGlvbiBoZihhKXt2YXIgYj1hLmIucGFyZW50Tm9kZTtiJiZhLmYuZ2V0Qm9vbCgicHJldmVudF9wbGF5aW5nX29uX2luc3VmZmljaWVudF9idWZmZXIiLCExKSYmKGEuUj1ldmVudExpc3RlbmVyQ2FwdHVyZShiLCJwbGF5aW5nIixmdW5jdGlvbihhKXthLnRhcmdldD09PXRoaXMuYiYmdGhpcy5EKGEpfS5iaW5kKGEpKSl9bi5lZD1mdW5jdGlvbigpe3UuZW5kKCJsb2FkIik7dGhpcy5nLmFiKHRoaXMuYiwidGltZXVwZGF0ZSIpfTtuLnNkPWZ1bmN0aW9uKGEpe2xmKHRoaXMpO3RoaXMuZi5nZXRCb29sKCJ1bmlmeV9zdHJlYW1fc3RhcnRfd2l0aF9idWZmZXJfZGV0ZWN0b3IiLCExKSYmIXRoaXMuaCYmdGhpcy5EKGEpfTsKbi5rZD1mdW5jdGlvbigpe3UucWEoInBsYXlpbmciKTt0aGlzLmwmJnRoaXMubC5nZXRFdmVudExvZ2dlcigicGxheWluZyIpLnNldFN0YXRlKCJwbGF5aW5nIikubG9nKCk7IXRoaXMubSYmMD50aGlzLmomJih0aGlzLmIucGxheWJhY2tSYXRlPTAsdGhpcy5QKHRoaXMuYi5jdXJyZW50VGltZSxEYXRlLm5vdygpLHRoaXMuaikpO3RoaXMuaCYmIXRoaXMuViYmJGUodGhpcywicGxheWluZyIpfTtuLkJkPWZ1bmN0aW9uKGEpe3RoaXMudT1hfTtXLnByb3RvdHlwZS5zZXRQZW5kaW5nUGxheVJlcXVlc3Q9Vy5wcm90b3R5cGUuQmQ7Vy5wcm90b3R5cGUuaWE9ZnVuY3Rpb24oKXt0aGlzLnU9ITB9O1cucHJvdG90eXBlLm1hPWZ1bmN0aW9uKCl7dGhpcy5sJiZ0aGlzLmwuZ2V0RXZlbnRMb2dnZXIoInBhdXNlIikuc2V0U3RhdGUoInBhdXNlZCIpLmxvZygpO3UuZW5kKCJwbGF5aW5nIik7dS5nZXQoInBsYXlpbmciKTtiZih0aGlzKX07ClcucHJvdG90eXBlLnBhPWZ1bmN0aW9uKGEpe3RoaXMuRj1hLnN0YXJ0O3RoaXMuJD1hLmxhc3Q7dGhpcy5aPWEuZW5kO3RoaXMuUz1hLnNlZWtSYW5nZUdhcHM7dGhpcy5mLmdldEJvb2woIm5vX3NraXBfZ2Fwc19vbl9zZWVrX3JhbmdlX2NoYW5nZWQiLCExKXx8bGYodGhpcyl9O1cucHJvdG90eXBlLmVhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYT90aGlzLmEuWigpOltdfTtXLnByb3RvdHlwZS5nZXRWaWRlb1RyYWNrcz1XLnByb3RvdHlwZS5lYTtXLnByb3RvdHlwZS54YT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmE/dGhpcy5hLnZhKCk6W119O1cucHJvdG90eXBlLmdldEF1ZGlvVHJhY2tzPVcucHJvdG90eXBlLnhhO1cucHJvdG90eXBlLkRhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYT90aGlzLmEubWMoKTpbXX07Vy5wcm90b3R5cGUuZ2V0VGV4dFRyYWNrcz1XLnByb3RvdHlwZS5EYTsKVy5wcm90b3R5cGUuc2VsZWN0VmlkZW9UcmFjaz1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmE/dGhpcy5hLnNlbGVjdFZpZGVvVHJhY2soYSx2b2lkIDA9PWI/ITA6Yik6ITF9O1cucHJvdG90eXBlLnNlbGVjdFZpZGVvVHJhY2s9Vy5wcm90b3R5cGUuc2VsZWN0VmlkZW9UcmFjaztXLnByb3RvdHlwZS5HYT1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIHRoaXMuYT9tZih0aGlzLmEsImF1ZGlvIixhLHZvaWQgMD09Yj8hMDpiLGMpOiExfTtXLnByb3RvdHlwZS5zZWxlY3RBdWRpb1RyYWNrPVcucHJvdG90eXBlLkdhO1cucHJvdG90eXBlLkhhPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmE/bWYodGhpcy5hLCJ0ZXh0IixhLCExKTohMX07Vy5wcm90b3R5cGUuc2VsZWN0VGV4dFRyYWNrPVcucHJvdG90eXBlLkhhO1cucHJvdG90eXBlLndhPWZ1bmN0aW9uKGEpe3RoaXMuYSYmbmYodGhpcy5hLGEpfTtXLnByb3RvdHlwZS5lbmFibGVUZXh0VHJhY2s9Vy5wcm90b3R5cGUud2E7ClcucHJvdG90eXBlLnJhPWZ1bmN0aW9uKGEpe2JmKHRoaXMpO3RoaXMudyYmdGhpcy5ofHwhKDA8PWEpP3RoaXMuYi5wYXVzZWR8fCh0aGlzLmIucGxheWJhY2tSYXRlPTAsdGhpcy5QKHRoaXMuYi5jdXJyZW50VGltZSxEYXRlLm5vdygpLGEpKTp0aGlzLmIucGxheWJhY2tSYXRlPWE7dGhpcy5qPWF9O1cucHJvdG90eXBlLnNldFBsYXliYWNrUmF0ZT1XLnByb3RvdHlwZS5yYTtXLnByb3RvdHlwZS5rYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmp9O1cucHJvdG90eXBlLmdldFBsYXliYWNrUmF0ZT1XLnByb3RvdHlwZS5rYTtXLnByb3RvdHlwZS5DYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmE/dGhpcy5hLk9iKCk6bnVsbH07Vy5wcm90b3R5cGUuZ2V0TWFuaWZlc3Q9Vy5wcm90b3R5cGUuQ2E7Vy5wcm90b3R5cGUuUGE9ZnVuY3Rpb24oYSl7dGhpcy5UPWF9O1cucHJvdG90eXBlLnNldFBsYXliYWNrU3RhcnRUaW1lPVcucHJvdG90eXBlLlBhOwpXLnByb3RvdHlwZS5JPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYT8hIXRoaXMuYS5QKCk6ITF9O1cucHJvdG90eXBlLmlzTGl2ZT1XLnByb3RvdHlwZS5JOwpXLnByb3RvdHlwZS52YT1mdW5jdGlvbihhKXtpZihhKXt2YXIgYj1CKGEsImVuYWJsZUFkYXB0YXRpb24iKTtudWxsIT1iJiYodGhpcy5jLmVuYWJsZUFkYXB0YXRpb249Yik7Yj1CKGEsImVuZEJ1ZmZlcmluZ09uUGxheWluZyIpO251bGwhPWImJih0aGlzLlY9Yik7Yj1CKGEsInVzZVBsYXliYWNrUmF0ZUZvckJ1ZmZlcmluZyIpO251bGwhPWImJih0aGlzLnc9Yik7Yj1DKGEsInN0cmVhbUJ1ZmZlclNpemUiLDApO251bGwhPWImJih0aGlzLmMuc3RyZWFtQnVmZmVyU2l6ZT1iKTtiPUMoYSwiZHluYW1pY1N0cmVhbUJ1ZmZlclNpemUiLDApO251bGwhPWImJih0aGlzLmMuZHluYW1pY1N0cmVhbUJ1ZmZlclNpemU9Yik7bnVsbCE9YS5zbWFydEJ1ZmZlckFkanVzdG1lbnRQYXJhbXMmJih0aGlzLmMuc21hcnRCdWZmZXJBZGp1c3RtZW50UGFyYW1zPWEuc21hcnRCdWZmZXJBZGp1c3RtZW50UGFyYW1zKTtiPUIoYSwiYWRkQ2RuRGVidWdRdWVyeVBhcmFtZXRlcnMiKTtudWxsIT1iJiYKKHRoaXMuYy5hZGRDZG5EZWJ1Z1F1ZXJ5UGFyYW1ldGVycz1iKTtiPUMoYSwiaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemUiLDApO251bGwhPWImJih0aGlzLmMuaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemU9Yik7Yj1CKGEsImluY2x1ZGVTdHJlYW1CdWZmZXJTaXplSW5TdGFydE9mZnNldCIpO251bGwhPWImJih0aGlzLmMuaW5jbHVkZVN0cmVhbUJ1ZmZlclNpemVJblN0YXJ0T2Zmc2V0PWIpO2I9QyhhLCJqdW1wVG9MaXZlVGhyZXNob2xkIik7bnVsbCE9YiYmKHRoaXMuYy5qdW1wVG9MaXZlVGhyZXNob2xkPWIpO2I9QyhhLCJsaXZlU3RyZWFtRW5kVGltZW91dCIsMCk7bnVsbCE9YiYmKHRoaXMuYy5saXZlU3RyZWFtRW5kVGltZW91dD1iKTtiPUMoYSwibGljZW5zZVJlcXVlc3RUaW1lb3V0IiwwKTtudWxsIT1iJiYodGhpcy5jLmxpY2Vuc2VSZXF1ZXN0VGltZW91dD1iKTtiPUMoYSwibXBkUmVxdWVzdFRpbWVvdXQiLDApO251bGwhPWImJih0aGlzLmMubXBkUmVxdWVzdFRpbWVvdXQ9CmIpO2I9QyhhLCJtaW5NcGRSZWZyZXNoSW50ZXJ2YWwiLDApO251bGwhPWImJih0aGlzLmMubWluTXBkUmVmcmVzaEludGVydmFsPWIpO2I9QihhLCJlbmFibGVMaXZlSW50ZXJydXB0aW9uRGV0ZWN0aW9uIik7bnVsbCE9YiYmKHRoaXMuYy5lbmFibGVMaXZlSW50ZXJydXB0aW9uRGV0ZWN0aW9uPWIpO2I9QihhLCJlbmFibGVNYW5pZmVzdERlYnVnIik7bnVsbCE9YiYmKHRoaXMuYy5lbmFibGVNYW5pZmVzdERlYnVnPWIsRi5wcm90b3R5cGUub2M9YixifHwoRi5wcm90b3R5cGUuTGE9ZnVuY3Rpb24oKXt9KSk7Yj1CKGEsInJlc29sdmVWaWRlb1RpbWVVcGRhdGVPbkZyYWdtZW50ZWRUaW1lUmFuZ2VzIik7bnVsbCE9YiYmKHRoaXMuYy5yZXNvbHZlVmlkZW9UaW1lVXBkYXRlT25GcmFnbWVudGVkVGltZVJhbmdlcz1iKTtiPUMoYSwibGl2ZUludGVycnVwdGlvbkNvbnNlY3V0aXZlVXBkYXRlc1dpdGhvdXRDaGFuZ2UiKTtudWxsIT1iJiYodGhpcy5jLmxpdmVJbnRlcnJ1cHRpb25Db25zZWN1dGl2ZVVwZGF0ZXNXaXRob3V0Q2hhbmdlPQpiKTtiPUMoYSwibGl2ZUludGVycnVwdGlvbkNvbnNlY3V0aXZlVXBkYXRlc1dpdGhDaGFuZ2UiKTtudWxsIT1iJiYodGhpcy5jLmxpdmVJbnRlcnJ1cHRpb25Db25zZWN1dGl2ZVVwZGF0ZXNXaXRoQ2hhbmdlPWIpO2I9QihhLCJyZWFwcGVuZEluaXRTZWdtZW50QWZ0ZXJBYm9ydCIpO251bGwhPWImJih0aGlzLmMucmVhcHBlbmRJbml0U2VnbWVudEFmdGVyQWJvcnQ9Yik7Yj1CKGEsImxpdmVTZW5kUHVzaEhlYWRlcnMiKTtudWxsIT1iJiYodGhpcy5jLmxpdmVTZW5kUHVzaEhlYWRlcnM9Yik7Yj1DKGEsImxpdmVNYXhNYW5pZmVzdEZldGNoZXNXaXRoUHVzaCIpO251bGwhPWImJih0aGlzLmMubGl2ZU1heE1hbmlmZXN0RmV0Y2hlc1dpdGhQdXNoPWIpO2I9QyhhLCJsaXZlTWF4U2VnbWVudHNUb1B1c2giKTtudWxsIT1iJiYodGhpcy5jLmxpdmVNYXhTZWdtZW50c1RvUHVzaD1iKTtiPUMoYSwic2VnbWVudFJlcXVlc3RUaW1lb3V0IiwwKTtudWxsIT1iJiYodGhpcy5jLnNlZ21lbnRSZXF1ZXN0VGltZW91dD0KYik7Yj1ZYShhLCJwcmVmZXJyZWRMYW5ndWFnZSIpO251bGwhPWImJih0aGlzLmMucHJlZmVycmVkTGFuZ3VhZ2U9Yik7Yj1aYShhLCJyZXN0cmljdGlvbnMiLGthKTtudWxsIT1iJiYodGhpcy5jLnJlc3RyaWN0aW9ucz1iLmNsb25lKCkpO2I9YS5saXZlSW5pdGlhbFB1c2hSZXByZXNlbnRhdGlvbjtudWxsIT1iJiYodGhpcy5jLmxpdmVJbml0aWFsUHVzaFJlcHJlc2VudGF0aW9uPWIpO2I9YS5saXZlQXVkaW9QdXNoUmVwcmVzZW50YXRpb247bnVsbCE9YiYmKHRoaXMuYy5saXZlQXVkaW9QdXNoUmVwcmVzZW50YXRpb249Yik7Yj1hLnVzZUlubGluZUluaXRTZWdtZW50O251bGwhPWImJih0aGlzLmMudXNlSW5saW5lSW5pdFNlZ21lbnQ9Yik7Yj1CKGEsImRpc2FibGVDYWNoZUJ1c3RpbmdFdmVuVGhvdWdoSXRNYXlBZmZlY3RCYW5kd2lkdGhFc3RpbWF0aW9uIik7bnVsbCE9YiYmKFRjPSFiKTtiPUIoYSwiY3VycmVudFRpbWVEdXJpbmdSZWFkeVN0YXRlWmVyb1Rocm93cyIpO251bGwhPQpiJiYodGhpcy5jLmN1cnJlbnRUaW1lRHVyaW5nUmVhZHlTdGF0ZVplcm9UaHJvd3M9Yik7Yj1DKGEsImxpdmVEYXRhRmV0Y2hNYXhSZXRyaWVzIik7bnVsbCE9YiYmKHRoaXMuYy5saXZlRGF0YUZldGNoTWF4UmV0cmllcz1iKTtiPUMoYSwibGl2ZVNvdXJjZUJ1ZmZlckNsZWFyTWF4UmV0cmllcyIpO251bGwhPWImJih0aGlzLmMubGl2ZVNvdXJjZUJ1ZmZlckNsZWFyTWF4UmV0cmllcz1iKTtiPUIoYSwidXNlTG9uZ0NhY2hlRm9yTWFuaWZlc3QiKTtudWxsIT1iJiYodGhpcy5jLnVzZUxvbmdDYWNoZUZvck1hbmlmZXN0PWIpO2I9QihhLCJqdW1wVG9FYXJsaWVzdFBvc2l0aW9uSW5DdXJyZW50QmxvY2siKTtudWxsIT1iJiYodGhpcy5jLmp1bXBUb0VhcmxpZXN0UG9zaXRpb25JbkN1cnJlbnRCbG9jaz1iKTtiPUIoYSwiaWdub3JlTWluQnVmZmVyVGltZSIpO251bGwhPWImJih0aGlzLmMuaWdub3JlTWluQnVmZmVyVGltZT1iKTtiPUMoYSwicGxheWhlYWRGcmFnbWVudGVkR2FwRGlmZkFsbG93YW5jZSIpOwpudWxsIT1iJiYodGhpcy5jLnBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2U9Yik7Yj1CKGEsImZpeEJ1ZmZlcmluZ0dvYWxEZXRlcm1pbmF0aW9uIik7bnVsbCE9YiYmKHRoaXMuYy5maXhCdWZmZXJpbmdHb2FsRGV0ZXJtaW5hdGlvbj1iKTtiPUIoYSwic2tpcEVtcHR5U2VnbWVudHMiKTtudWxsIT1iJiYodGhpcy5jLnNraXBFbXB0eVNlZ21lbnRzPWIpOyhiPUIoYSwidXNlTWljcm9UYXNrVGltZW91dHMiKSkmJih0aGlzLmMudXNlTWljcm9UYXNrVGltZW91dHM9Yik7KGI9QihhLCJlbmFibGVSZXF1ZXN0UGlwZWxpbmluZyIpKSYmKHRoaXMuYy5lbmFibGVSZXF1ZXN0UGlwZWxpbmluZz1iKTsoYj1CKGEsImVuYWJsZVN0cmVhbWluZyIpKSYmKHRoaXMuYy5lbmFibGVTdHJlYW1pbmc9Yik7KGE9QihhLCJlbmFibGVDb250ZW50UHJvdGVjdGlvbiIpKSYmKHRoaXMuYy5lbmFibGVDb250ZW50UHJvdGVjdGlvbj1hKTt0aGlzLmEmJnRoaXMuYS5sYyh0aGlzLmMpfX07ClcucHJvdG90eXBlLmNvbmZpZ3VyZT1XLnByb3RvdHlwZS52YTtXLnByb3RvdHlwZS5PYT1mdW5jdGlvbihhKXt0aGlzLmEmJnRoaXMuYS5xYyhhKX07Vy5wcm90b3R5cGUuc2V0RW5hYmxlTGl2ZWhlYWRDYXRjaHVwPVcucHJvdG90eXBlLk9hO1cucHJvdG90eXBlLkVhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYT90aGlzLmEubmE6ITF9O1cucHJvdG90eXBlLmlzTGl2ZWhlYWRDYXRjaHVwRW5hYmxlZD1XLnByb3RvdHlwZS5FYTsKZnVuY3Rpb24gbGYoYSl7aWYoYS5mLmdldEJvb2woInNraXBfbWFuaWZlc3RfZ2FwX2Jhc2VkX29uX3N0cmVhbV9saW1pdHMiLCExKSYmKCFhLkkoKXx8IWEuZi5nZXRCb29sKCJub19za2lwX21hbmlmZXN0X2dhcHNfaWZfbGl2ZSIsITEpKSl7dmFyIGI7YS5mLmdldEJvb2woInNraXBfbWFuaWZlc3RfZ2Fwc191c2VfY2FjaGVkX3N0cmVhbV9saW1pdHMiLCExKT9hLmEmJm51bGwhPT1hLlM/Yj17c3RhcnQ6YS5GLGVuZDphLlosbGFzdDphLiQsWmE6YS5TfTpiPWEuYT9hLmEubmIoKTpudWxsOmI9YS5hP2EuYS5uYigpOm51bGw7aWYoYilmb3IodmFyIGM9YS5mLmdldE51bWJlcigic2tpcF9tYW5pZmVzdF9nYXBfYm91bmRhcnlfcHJlY2lzaW9uX21zIiwxRTMpLzFFMyxkPWIuWmEsZT1hLmIucGxheWJhY2tSYXRlLGY9YS5iLmN1cnJlbnRUaW1lLGc9MDtnPGQubGVuZ3RoOysrZyl7dmFyIGg9ZFtnXS5zdGFydFRpbWUtYyxrPWRbZ10uZW5kVGltZStjO2Y8PWsmJmY+PWgmJihhLmYuZ2V0Qm9vbCgiZml4X3NlZWtfcmFuZ2VfZ2FwX2JvdW5kYXJ5IiwKITEpfHwoaD1kW2ddLnN0YXJ0VGltZSxrPWRbZ10uZW5kVGltZSksMDw9ZT9iLmVuZD5rJiYoYS5iLmN1cnJlbnRUaW1lPWspOmIuc3RhcnQ8aCYmKGEuYi5jdXJyZW50VGltZT1oKSl9fX1XLnByb3RvdHlwZS5sYT1mdW5jdGlvbigpe3ZhciBhPXRoaXMuYSYmdGhpcy5hLm5iKCk7cmV0dXJuKGE9YSYme3N0YXJ0OmEuc3RhcnQsZW5kOmEuZW5kLGxhc3Q6YS5sYXN0LHNlZWtSYW5nZUdhcHM6YS5aYX0pfHxudWxsfTtXLnByb3RvdHlwZS5nZXRWaWRlb1NvdXJjZVN0cmVhbUxpbWl0cz1XLnByb3RvdHlwZS5sYTtXLnByb3RvdHlwZS55YT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmN9O1cucHJvdG90eXBlLmdldENvbmZpZ3VyYXRpb249Vy5wcm90b3R5cGUueWE7ZnVuY3Rpb24gYmYoYSl7YS5tJiYoY2xlYXJUaW1lb3V0KGEubSksYS5tPW51bGwpfQpmdW5jdGlvbiBrZihhKXt2YXIgYjthLmYuZ2V0Qm9vbCgid3d3X3ZpZGVvc19leHRlbmRlZF9zcGxfbG9nZ2luZ19mb3JfY29ubmVjdGVkX3R2IiwhMSkmJmEubCYmKGI9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigic3RhcnRfd2F0Y2hkb2ciKSk7YWYoYSk7YS5KPXNldFRpbWVvdXQoYS5ELmJpbmQoYSksMTAwKTtiJiZiLmxvZygpfWZ1bmN0aW9uIGFmKGEpe3ZhciBiO2EuZi5nZXRCb29sKCJ3d3dfdmlkZW9zX2V4dGVuZGVkX3NwbF9sb2dnaW5nX2Zvcl9jb25uZWN0ZWRfdHYiLCExKSYmYS5sJiYoYj1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJjYW5jZWxfd2F0Y2hkb2ciKSk7YS5KJiYoY2xlYXJUaW1lb3V0KGEuSiksYS5KPW51bGwpO2ImJmIubG9nKCl9ClcucHJvdG90eXBlLlA9ZnVuY3Rpb24oYSxiLGMpe3RoaXMubT1udWxsO3ZhciBkPShEYXRlLm5vdygpLWIpLzFFMypjO3RoaXMuYi5jdXJyZW50VGltZTx0aGlzLkYrKHRoaXMuSSgpPzE6LjA1KT90aGlzLmIucGF1c2UoKTooZD1NYXRoLm1heCh0aGlzLkYsYStkKSx0aGlzLmIuY3VycmVudFRpbWU9ZCx0aGlzLm09c2V0VGltZW91dCh0aGlzLlAuYmluZCh0aGlzLGEsYixjKSwyNTApKX07ZnVuY3Rpb24gb2YoYSl7cmV0dXJuIGEuZi5nZXRCb29sKCJ1bmlmeV9zdHJlYW1fc3RhcnRfd2l0aF9idWZmZXJfZGV0ZWN0b3IiLCExKSYmIWEuT30KZnVuY3Rpb24gJGUoYSxiKXtpZighb2YoYSkpe3UuZW5kKCJidWZmZXJpbmciKTtudWxsIT09YS5CJiYoYS5CPW51bGwpO2EubyYmKGEuby5zZXRDb25jbHVkZXIoYikubG9nKCksYS5vPW51bGwpO2lmKGEuRyl7dmFyIGM9RGF0ZS5ub3coKTthLkcuc2V0RXZlbnQoImJ1ZmZlcmluZyIpLnNldENsaWVudFRpbWVCZWdpbihNYXRoLnJvdW5kKGMtdS5nZXQoImJ1ZmZlcmluZyIpKSkuc2V0Q2xpZW50VGltZUVuZChNYXRoLnJvdW5kKGMpKS5sb2coKX1hLncmJihhLmIucGxheWJhY2tSYXRlPWEuaik7YS5oPSExO2EuZGlzcGF0Y2hFdmVudCh5KHt0eXBlOiJidWZmZXJpbmdFbmQifSkpO2EuQSYmKGEuQT0hMSxkaXNwYXRjaERvbUV2ZW50KGEuYiwicGxheWluZyIpKTthLnU9ITF9fVcucHJvdG90eXBlLmphPWZ1bmN0aW9uKGEpe3RoaXMuZGlzcGF0Y2hFdmVudCh5KGEpKX07Vy5wcm90b3R5cGUuZGlzcGF0Y2hFdmVudEV4dGVybj1XLnByb3RvdHlwZS5qYTsKZnVuY3Rpb24gcGYoYSl7dmFyIGI9YS5iLmJ1ZmZlcmVkO2lmKDE9PT1iLmxlbmd0aCliPWIuZW5kKDApO2Vsc2UgaWYoMD09PWIubGVuZ3RoKWI9MDtlbHNle2Zvcih2YXIgYz0wLGQ9MDtkPGIubGVuZ3RoOysrZCliLmVuZChkKT49YS5iLmN1cnJlbnRUaW1lJiYoYz1iLnN0YXJ0KGQpPD1hLmIuY3VycmVudFRpbWU/YysoYi5lbmQoZCktYS5iLmN1cnJlbnRUaW1lKTpjKyhiLmVuZChkKS1iLnN0YXJ0KGQpKSk7cmV0dXJuIGN9cmV0dXJuIE1hdGgubWF4KGItYS5iLmN1cnJlbnRUaW1lLDApfQpXLnByb3RvdHlwZS5EPWZ1bmN0aW9uKGEpe2lmKCF0aGlzLmYuZ2V0Qm9vbCgicHJldmVudF9wbGF5aW5nX29uX2luc3VmZmljaWVudF9idWZmZXIiLCExKXx8IXRoaXMuSyl7a2YodGhpcyk7dmFyIGI9YT9hLnR5cGU6IiIsYz0id2FpdGluZyI9PT1iO2lmKCF0aGlzLmIuZW5kZWQmJiF0aGlzLmIuc2Vla2luZ3x8Yyl7dmFyIGQ7dGhpcy5mLmdldEJvb2woInd3d192aWRlb3NfZXh0ZW5kZWRfc3BsX2xvZ2dpbmdfZm9yX2Nvbm5lY3RlZF90diIsITEpJiZ0aGlzLmwmJihkPXRoaXMubC5nZXRPcGVyYXRpb25Mb2dnZXIoIndhdGNoZG9nIikpO3ZhciBlPXRoaXMuYi5idWZmZXJlZCxmPWUubGVuZ3RoP2UuZW5kKGUubGVuZ3RoLTEpOjAsZzt0aGlzLmYuZ2V0Qm9vbCgiZml4X3Vuc3RhbGxfYnVmZmVyX2NhbGN1bGF0aW9uIiwhMSk/Zz1wZih0aGlzKTpnPU1hdGgubWF4KGYtdGhpcy5iLmN1cnJlbnRUaW1lLDApO3ZhciBoPXRoaXMuYi5jdXJyZW50VGltZSxlPXRoaXMuSSgpP3RoaXMuZi5nZXROdW1iZXIoImxpdmVfYnVmZmVyaW5nX3VuZGVyZmxvd190aHJlc2hvbGQiLAouNSk6dGhpcy5mLmdldE51bWJlcigiYnVmZmVyaW5nX3VuZGVyZmxvd190aHJlc2hvbGQiLDApLGs9dGhpcy5iLmR1cmF0aW9uLGs9aXNOYU4oayk/MDpNYXRoLm1heChrLS4wNSwwKSxmPWY+PWt8fGg+PWssYj1ifHwid2F0Y2hkb2dfdGltZXIiO2lmKHRoaXMuaCl7cWYodGhpcyxhKTthPXJmKHRoaXMuYSk7dmFyIGw9MDxhP2cvYTowO2c+YXx8c2YodGhpcy5hKXx8dGhpcy5mLmdldEJvb2woImZpeF9idWZmZXJpbmdfYXRfdGhlX2VuZF9vZl9wbGF5YmFjayIsITApJiZmPygkZSh0aGlzLGIpLHRoaXMuWSYmIXRoaXMudyYmdGhpcy5iLnBsYXkoKSk6dGhpcy5CIT09bCYmKHRoaXMuQj1sLHRoaXMuZGlzcGF0Y2hFdmVudCh5KHt0eXBlOiJidWZmZXJpbmdQcm9ncmVzcyIscHJvZ3Jlc3M6bH0pKSl9ZWxzZSB0aGlzLmIucGF1c2VkJiYhY3x8ISghZiYmZzxlfHxvZih0aGlzKSl8fCh0aGlzLmg9ITAsdGhpcy53P3RoaXMuYi5wbGF5YmFja1JhdGU9MDp0aGlzLmIucGF1c2UoKSx0aGlzLmwmJgohdGhpcy5vJiYoZz10aGlzLmIuYnVmZmVyZWQsZz1nLmxlbmd0aD9nLmVuZChnLmxlbmd0aC0xKTowLHRoaXMuZi5nZXRCb29sKCJmaXhfdW5zdGFsbF9idWZmZXJfY2FsY3VsYXRpb24iLCExKT9sPXBmKHRoaXMpOmw9TWF0aC5tYXgoZy10aGlzLmIuY3VycmVudFRpbWUsMCksZz0xRTMqKHJmKHRoaXMuYSktbCksdGhpcy5vPXRoaXMubC5nZXRPcGVyYXRpb25Mb2dnZXIoImJ1ZmZlcmluZyIpLnNldExlbmd0aChNYXRoLnJvdW5kKGcpKS5zZXRUeXBlKHRoaXMudT8ic3RhcnQvdW5wYXVzZSI6ImluX3BsYXkiKS5zZXRJbml0aWF0b3IoYikuc3RhcnQoKSksdS5xYSgiYnVmZmVyaW5nIiksdGhpcy5kaXNwYXRjaEV2ZW50KHkoe3R5cGU6ImJ1ZmZlcmluZ1N0YXJ0In0pKSx0aGlzLmYuZ2V0Qm9vbCgibm9fc2tpcF9nYXBzX29uX2J1ZmZlcmluZyIsITEpfHxsZih0aGlzKSxxZih0aGlzLGEpKSxzZih0aGlzLmEpJiYkZSh0aGlzLGIpO2QmJmQubG9nKCl9ZWxzZSB0aGlzLmYuZ2V0Qm9vbCgiZml4X2ZmX2luX3BsYXlfc3RhbGxfdXBvbl9zZWVrIiwKITEpJiZxZih0aGlzLGEpfX07Vy5wcm90b3R5cGUubmE9ZnVuY3Rpb24oYSl7dGhpcy5kaXNwYXRjaEV2ZW50KGEpfTtmdW5jdGlvbiBxZihhLGIpe2ImJiJwbGF5aW5nIj09PWIudHlwZSYmKGEuQT0hMCxldmVudEtpbGwoYikpfVcucHJvdG90eXBlLnRhPWZ1bmN0aW9uKGEpe2lmKHRoaXMuYSl7dmFyIGI9dGhpcy5hO2IuYy52aWRlbyYmYi5jLnZpZGVvLkpjKGEpfX07Vy5wcm90b3R5cGUuc2V0VmlkZW9TdHJlYW1PZmZzZXQ9Vy5wcm90b3R5cGUudGE7ZnVuY3Rpb24gdGYoYSl7Zm9yKHZhciBiPTA7YjxhLmxlbmd0aDsrK2IpZm9yKHZhciBjPWFbYl0sZD0wO2Q8Yy5hLmxlbmd0aDsrK2Qpe2Zvcih2YXIgZT1jLmFbZF0sZj1lLGc9L3ZpZGVvXC93ZWJtOyBjb2RlY3M9ImF2MDEuKiIvLGg9ITEsaz0wO2s8Zi52Lmxlbmd0aDsrK2spe3ZhciBsPWYudltrXTtPZShOZChsKSk/Zy50ZXN0KE5kKGwpKSYmKGg9ITApOihmLnYuc3BsaWNlKGssMSksLS1rKX1pZihoKWZvcihrPTA7azxmLnYubGVuZ3RoOysraylsPWYudltrXSxnLnRlc3QoTmQobCkpfHwoZi52LnNwbGljZShrLDEpLC0tayk7MD09ZS52Lmxlbmd0aCYmKGMuYS5zcGxpY2UoZCwxKSwtLWQpfWZvcihiPTA7YjxhLmxlbmd0aDsrK2IpZm9yKGM9YVtiXSxkPTA7ZDxjLmEubGVuZ3RoOysrZCljLmFbZF0udi5zb3J0KHVmKX0KZnVuY3Rpb24gdWYoYSxiKXt2YXIgYz1hLmJhbmR3aWR0aHx8TnVtYmVyLk1BWF9WQUxVRSxkPWIuYmFuZHdpZHRofHxOdW1iZXIuTUFYX1ZBTFVFO3JldHVybiBjPGQ/LTE6Yz5kPzE6MH07ZnVuY3Rpb24gdmYoYSl7dGhpcy5hPWF9dmYucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmEuZGVzdHJveSgpO3RoaXMuYT1udWxsfTt2Zi5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKGEpe3ZhciBiPXdmKGEsbnVsbCksYz13Zih0aGlzLmEsYSk7cmV0dXJuIFByb21pc2UuYWxsKFtiLGNdKS50aGVuKEoodGhpcyxmdW5jdGlvbihiKXt2YXIgYz1iWzBdO2I9YlsxXTt0Zih0aGlzLmEuYSk7YS5iJiYhdGhpcy5hLmImJihhLmg9ITApO2EuYz10aGlzLmEuYzthLmk9dGhpcy5hLmk/dGhpcy5hLmkuY2xvbmUoKTpudWxsO2EuZz10aGlzLmEuZzt2YXIgZj1bXTt4ZihhLHRoaXMuYSxjLGIsZik7dGYoYS5hKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGYpfSkpfTsKZnVuY3Rpb24gd2YoYSxiKXtmdW5jdGlvbiBjKGEsYil7cmV0dXJuIGEuY29uY2F0KGIpfXZhciBkPWEuYS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuYX0pLnJlZHVjZShjLFtdKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEudn0pLnJlZHVjZShjLFtdKTtpZihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInRlbXBsYXRlZF9sYXN0X3hfdGltZWxpbmUiLCExKSYmYil2YXIgZT1iLmEubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLmF9KS5yZWR1Y2UoYyxbXSkubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLnZ9KS5yZWR1Y2UoYyxbXSkubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLk0uY3JlYXRlKCl9KSxlPVByb21pc2UuYWxsKGUpLnRoZW4oZnVuY3Rpb24oYSl7Zm9yKHZhciBiPU51bWJlci5QT1NJVElWRV9JTkZJTklUWSxjPTA7YzxhLmxlbmd0aDsrK2Mpe3ZhciBlPWFbY107ZS5sZW5ndGgoKSYmZS5sYXN0KCkudW5zY2FsZWRTdGFydFRpbWU8YiYmKGI9ZS5sYXN0KCkudW5zY2FsZWRTdGFydFRpbWUpfWI9CmEubGVuZ3RoP2I6bnVsbDthPWQubWFwKGZ1bmN0aW9uKGEpe2EuTS5FYyYmYS5NLkVjKGIpO3JldHVybiBhLk0uY3JlYXRlKCl9KTtyZXR1cm4gUHJvbWlzZS5hbGwoYSl9KTtlbHNlIGU9ZC5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuTS5jcmVhdGUoKX0pLGU9UHJvbWlzZS5hbGwoZSk7cmV0dXJuIGUudGhlbihmdW5jdGlvbihhKXtmb3IodmFyIGI9e30sYz0wO2M8ZC5sZW5ndGg7KytjKWJbZFtjXS5YXT1hW2NdO3JldHVybiBQcm9taXNlLnJlc29sdmUoYil9KX0KZnVuY3Rpb24geGYoYSxiLGMsZCxlKXt2YXIgZj1uZXcgRDthLmEuZm9yRWFjaChmdW5jdGlvbihhLGIpe2YucHVzaChhLmlkfHwiIitiLGEpfSk7dmFyIGc9bmV3IEQ7Yi5hLmZvckVhY2goZnVuY3Rpb24oYSxiKXtnLnB1c2goYS5pZHx8IiIrYixhKX0pO2E9YWIoZik7Zm9yKGI9MDtiPGEubGVuZ3RoOysrYil7dmFyIGg9YVtiXSxrPWYuZ2V0KGgpOzE8ay5sZW5ndGh8fChoPWcuZ2V0KGgpKSYmMCE9aC5sZW5ndGgmJjE9PWgubGVuZ3RoJiYoeWYoa1swXSxoWzBdLGMsZCxlKSxrWzBdLmR1cmF0aW9uPWhbMF0uZHVyYXRpb24pfX0KZnVuY3Rpb24geWYoYSxiLGMsZCxlKXt2YXIgZj1uZXcgRDthLmEuZm9yRWFjaChmdW5jdGlvbihhLGIpe2YucHVzaChhLmlkfHwiIitiLGEpfSk7dmFyIGc9bmV3IEQ7Yi5hLmZvckVhY2goZnVuY3Rpb24oYSxiKXtnLnB1c2goYS5pZHx8IiIrYixhKX0pO2E9YWIoZik7Zm9yKGI9MDtiPGEubGVuZ3RoOysrYil7dmFyIGg9YVtiXSxrPWYuZ2V0KGgpOzE8ay5sZW5ndGh8fChoPWcuZ2V0KGgpKSYmMCE9aC5sZW5ndGgmJjE9PWgubGVuZ3RoJiZ6ZihrWzBdLGhbMF0sYyxkLGUpfX0KZnVuY3Rpb24gemYoYSxiLGMsZCxlKXt2YXIgZj1uZXcgRDthLnYuZm9yRWFjaChmdW5jdGlvbihhLGIpe2YucHVzaChhLmlkfHwiIitiLGEpfSk7dmFyIGc9bmV3IEQ7Yi52LmZvckVhY2goZnVuY3Rpb24oYSxiKXtnLnB1c2goYS5pZHx8IiIrYixhKX0pO2I9e307Zm9yKHZhciBoPWFiKGYpLGs9MDtrPGgubGVuZ3RoOysrayl7dmFyIGw9aFtrXTtiW2xdPWw7dmFyIG09Zi5nZXQobCk7MTxtLmxlbmd0aHx8KChsPWcuZ2V0KGwpKSYmMCE9bC5sZW5ndGg/MT09bC5sZW5ndGgmJihCZihtWzBdLGxbMF0sYyxkKSxtWzBdLmFhPWxbMF0uYWEsbFswXS5hYT1udWxsLG1bMF0uYT1sWzBdLmEsVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJyZWZyZXNoX2JhbmR3aWR0aF9mcm9tX2xpdmVfbWFuaWZlc3QiLCExKSYmKG1bMF0uYmFuZHdpZHRoPWxbMF0uYmFuZHdpZHRoKSk6KGUucHVzaChtWzBdKSxhLnYuc3BsaWNlKGEudi5pbmRleE9mKG1bMF0pLDEpKSl9aD1hYihnKTsKZm9yKGs9MDtrPGgubGVuZ3RoOysraylsPWhba10sYltsXXx8KGJbbF09bCxsPWcuZ2V0KGwpLGEudi5wdXNoKGxbMF0pKX1mdW5jdGlvbiBCZihhLGIsYyxkKXthPWNbYS5YXTtjPWRbYi5YXTtkPShiPWEubGVuZ3RoKCkpP2EubGFzdCgpLmVuZFRpbWU6MDtpZihhLkIoYykpe2M9YS5sZW5ndGgoKTt2YXIgZT0hMTtWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInJvYnVzdF9jb3VudF9jaGFuZ2VzIiwhMSkmJihlPSEhYyYmYS5sYXN0KCkuZW5kVGltZT5kKTthLmcucHVzaChiIT09Y3x8ZSk7NTA8YS5nLmxlbmd0aCYmYS5nLnNoaWZ0KCl9fTtmdW5jdGlvbiBYKCl7dGhpcy5hPXRoaXMuYj1udWxsO3RoaXMuZj1uZXcgYmI7dGhpcy5jPU51bWJlci5QT1NJVElWRV9JTkZJTklUWTt0aGlzLmk9ITA7dGhpcy5nPSExfXEoInNoYWthLm1lZGlhLlNpbXBsZUFick1hbmFnZXIiLFgpO1gucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmYuZGVzdHJveSgpO3RoaXMuYT10aGlzLmI9dGhpcy5mPW51bGx9O1gucHJvdG90eXBlLmluaXRpYWxpemU9ZnVuY3Rpb24oYSxiKXt0aGlzLmJ8fHRoaXMuYXx8KHRoaXMuYj1hLHRoaXMuYT1iKX07ClgucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKCl7dGhpcy5iJiZ0aGlzLmEmJiF0aGlzLmcmJih0aGlzLmM9RGF0ZS5ub3coKSs0RTMsRSh0aGlzLmYsdGhpcy5iLmdldEVzdGltYXRvcigpLCJiYW5kd2lkdGgiLHRoaXMubS5iaW5kKHRoaXMpKSxFKHRoaXMuZix0aGlzLmEsImFkYXB0YXRpb24iLHRoaXMuai5iaW5kKHRoaXMpKSxFKHRoaXMuZix0aGlzLmEsInRyYWNrc2NoYW5nZWQiLHRoaXMuaC5iaW5kKHRoaXMpKSx0aGlzLmc9ITApfTtYLnByb3RvdHlwZS5lbmFibGU9ZnVuY3Rpb24oYSl7dGhpcy5pPWF9O1gucHJvdG90eXBlLmdldEluaXRpYWxWaWRlb1RyYWNrSWQ9ZnVuY3Rpb24oKXtpZighdGhpcy5ifHwhdGhpcy5hKXJldHVybiBudWxsO3ZhciBhPUNmKHRoaXMpO3JldHVybiBhP2EuaWQ6bnVsbH07WC5wcm90b3R5cGUuZ2V0SW5pdGlhbFN3aXRjaFJlYXNvbj1mdW5jdGlvbigpe3JldHVybiBudWxsfTtYLnByb3RvdHlwZS5nZXRJbml0aWFsQXVkaW9UcmFja0lkPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9OwpYLnByb3RvdHlwZS5zZWxlY3RWaWRlb1RyYWNrPWZ1bmN0aW9uKGEsYixjKXt0aGlzLmcmJnRoaXMuYS5zZWxlY3RWaWRlb1RyYWNrKGEuaWQsYixjKX07WC5wcm90b3R5cGUubT1mdW5jdGlvbigpe0RhdGUubm93KCk8dGhpcy5jfHx0aGlzLmgoKX07WC5wcm90b3R5cGUuaD1mdW5jdGlvbigpe2lmKHRoaXMuaSl7dmFyIGE9Q2YodGhpcyk7aWYoYSl7aWYoYS5hY3RpdmUpe3RoaXMuYz1EYXRlLm5vdygpKzNFMztyZXR1cm59dGhpcy5zZWxlY3RWaWRlb1RyYWNrKGEsITEpfXRoaXMuYz1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFl9fTtYLnByb3RvdHlwZS5qPWZ1bmN0aW9uKCl7dGhpcy5jPT1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkmJih0aGlzLmM9RGF0ZS5ub3coKSszRTQpfTsKZnVuY3Rpb24gQ2YoYSl7dmFyIGI9YS5hLlooKTtpZigwPT1iLmxlbmd0aClyZXR1cm4gbnVsbDtiLnNvcnQodmEpO3ZhciBjO2E6e2M9YS5hLnZhKCk7Zm9yKHZhciBkPTA7ZDxjLmxlbmd0aDsrK2QpaWYoY1tkXS5hY3RpdmUpe2M9Y1tkXTticmVhayBhfWM9bnVsbH1jPWM/Yy5iYW5kd2lkdGg6MDthPWEuYi5nZXRCYW5kd2lkdGgoKTtmb3IodmFyIGQ9YlswXSxlPTA7ZTxiLmxlbmd0aDsrK2Upe3ZhciBmPWJbZV0sZz1lKzE8Yi5sZW5ndGg/YltlKzFdOntiYW5kd2lkdGg6TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZfTtpZihmLmJhbmR3aWR0aCYmKGc9KGcuYmFuZHdpZHRoK2MpLy44NSxhPj0oZi5iYW5kd2lkdGgrYykvLjk1JiZhPD1nJiYoZD1mLGQuYWN0aXZlKSkpYnJlYWt9cmV0dXJuIGR9O2Z1bmN0aW9uIFkoYSxiLGMsZCl7Ri5jYWxsKHRoaXMsbnVsbCk7dGhpcy5iPWE7dGhpcy5hPWI7dGhpcy53YT1jO3RoaXMua2I9bmV3IFZpZGVvUGxheWVyTG9jYWxCYW5kd2lkdGhFc3RpbWF0b3IodGhpcyxjLGIpO3RoaXMuaD1uZXcgYmI7dGhpcy5pPW5ldyBNZWRpYVNvdXJjZTt0aGlzLmJhPXRoaXMudmlkZW89bnVsbDt0aGlzLkJiPTA7dGhpcy5uYz10aGlzLlpiPSExO3RoaXMuTGI9aWE7dGhpcy5BYj10aGlzLlY9dGhpcy5pYT10aGlzLmw9bnVsbDt0aGlzLktiPTM7dGhpcy5yYT10aGlzLiRiPXRoaXMuRmE9dGhpcy5FYT0hMTt0aGlzLlBhPTA7dGhpcy5kYT1uZXcgVmlkZW9QdXNoVHJhY2tlcjt0aGlzLmdhPW51bGw7dGhpcy5pYz0xO3RoaXMuZ2M9SW5maW5pdHk7dGhpcy5VYj10aGlzLlNiPSExO3RoaXMucGE9dGhpcy5PYT1udWxsO3RoaXMuV2I9dGhpcy5WYj10aGlzLkdhPXRoaXMuY2M9dGhpcy5tYT0hMTt0aGlzLmY9bmV3IEQ7dGhpcy5BPWQ7dGhpcy5BLmluaXRpYWxpemUodGhpcy5rYiwKdGhpcyk7dGhpcy5PPSExO3RoaXMuUz0iZW4iO3RoaXMueWE9ITE7dGhpcy5KPW5ldyBJO3RoaXMuSWI9bmV3IEk7dGhpcy5tPW5ldyBrYTt0aGlzLkQ9bnVsbDt0aGlzLmtjPTE7dGhpcy5jPXt9O3RoaXMuc2E9bmV3IEk7dGhpcy5qYT0wO3RoaXMuZ2I9MTVFMzt0aGlzLmo9bnVsbDt0aGlzLmVjPSExO3RoaXMuZGM9MDt0aGlzLkNhPSExO3RoaXMuQj17fTt0aGlzLmxhPXRoaXMua2E9dGhpcy51PW51bGw7dGhpcy5nPXt9O3RoaXMuJD0hMTt0aGlzLmZjPTA7dGhpcy5LPXRoaXMuYS5nZXROdW1iZXIoImJ1ZmZlcmluZ19vdmVyZmxvd190aHJlc2hvbGQiLDApO3RoaXMucGM9bnVsbDt0aGlzLm89e307dGhpcy53PXt9O3RoaXMuUj1udWxsO3RoaXMuVT1bXTt0aGlzLlQ9dGhpcy5JPW51bGw7dGhpcy5HPW5ldyBOZXR3b3JrU3RhdHVzRGV0ZWN0b3I7dGhpcy5oYz0hMTt0aGlzLm5hPSEwO3RoaXMuZWE9ITE7dGhpcy51Yz1uZXcgU3Vic2NyaXB0aW9uc0hhbmRsZXI7dGhpcy5ZYj0hMTsKdGhpcy54YT0xO3RoaXMuSWQ9dGhpcy5hLmdldE51bWJlcigic3RyZWFtX21heGltdW1fb25wYXVzZV9idWZmZXJfc2l6ZV9tdWx0aXBsaWVyIiwwKTt0aGlzLmNhPW51bGw7dGhpcy5hLmdldEJvb2woImFsbG93X2luZmluaXRlX3JldHJ5X29uX25ldF9lcnIiLCEwKSYmdGhpcy51Yy5hZGRTdWJzY3JpcHRpb25zKHRoaXMuRy5hZGRMaXN0ZW5lcigibmV0d29ya0ludGVycnVwdGVkIix0aGlzLlRjLHRoaXMpLHRoaXMuRy5hZGRMaXN0ZW5lcigibmV0d29ya1Jlc3VtZWQiLHRoaXMuVWMsdGhpcyksdGhpcy5HLmFkZExpc3RlbmVyKCJzeXN0ZW1XYWtlIix0aGlzLlZjLHRoaXMpKX1yKFksRik7cSgic2hha2EucGxheWVyLlN0cmVhbVZpZGVvU291cmNlIixZKTtZLnByb3RvdHlwZS5YYj1mdW5jdGlvbigpe3JldHVybntWaWRlb1NvdXJjZVN0cmVhbTp0aGlzLmMudmlkZW8sQXVkaW9Tb3VyY2VTdHJlYW06dGhpcy5jLmF1ZGlvLFRleHRTb3VyY2VTdHJlYW06dGhpcy5jLnRleHQsQmFuZHdpZHRoRXN0aW1hdG9yOnRoaXMud2F9fTsKWS5wcm90b3R5cGUuZ2V0U3RyZWFtRGVidWc9WS5wcm90b3R5cGUuWGI7WS5wcm90b3R5cGUuUGM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iP3RoaXMuYi53OiJub25lIn07WS5wcm90b3R5cGUuZ2V0TXBkQXVkaW9Db25maWc9WS5wcm90b3R5cGUuUGM7ClkucHJvdG90eXBlLmxjPWZ1bmN0aW9uKGEpe251bGwhPWEuc3RyZWFtQnVmZmVyU2l6ZSYmKHRoaXMuZy5zdHJlYW1CdWZmZXJTaXplPWEuc3RyZWFtQnVmZmVyU2l6ZSk7bnVsbCE9YS5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZSYmKHRoaXMuZy5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZT1hLmluaXRpYWxTdHJlYW1CdWZmZXJTaXplKTtudWxsIT1hLmR5bmFtaWNTdHJlYW1CdWZmZXJTaXplJiYodGhpcy5nLmR5bmFtaWNTdHJlYW1CdWZmZXJTaXplPWEuZHluYW1pY1N0cmVhbUJ1ZmZlclNpemUpO251bGwhPWEuc21hcnRCdWZmZXJBZGp1c3RtZW50UGFyYW1zJiYodGhpcy5nLnNtYXJ0QnVmZmVyQWRqdXN0bWVudFBhcmFtcz1hLnNtYXJ0QnVmZmVyQWRqdXN0bWVudFBhcmFtcyk7bnVsbCE9YS5hZGRDZG5EZWJ1Z1F1ZXJ5UGFyYW1ldGVycyYmKHRoaXMuZy5hZGRDZG5EZWJ1Z1F1ZXJ5UGFyYW1ldGVycz1hLmFkZENkbkRlYnVnUXVlcnlQYXJhbWV0ZXJzKTtudWxsIT1hLnNlZ21lbnRSZXF1ZXN0VGltZW91dCYmCih0aGlzLmcuc2VnbWVudFJlcXVlc3RUaW1lb3V0PWEuc2VnbWVudFJlcXVlc3RUaW1lb3V0KTtudWxsIT1hLnJlc29sdmVWaWRlb1RpbWVVcGRhdGVPbkZyYWdtZW50ZWRUaW1lUmFuZ2VzJiYodGhpcy5nLnJlc29sdmVWaWRlb1RpbWVVcGRhdGVPbkZyYWdtZW50ZWRUaW1lUmFuZ2VzPWEucmVzb2x2ZVZpZGVvVGltZVVwZGF0ZU9uRnJhZ21lbnRlZFRpbWVSYW5nZXMpO251bGwhPWEucmVhcHBlbmRJbml0U2VnbWVudEFmdGVyQWJvcnQmJih0aGlzLmcucmVhcHBlbmRJbml0U2VnbWVudEFmdGVyQWJvcnQ9YS5yZWFwcGVuZEluaXRTZWdtZW50QWZ0ZXJBYm9ydCk7bnVsbCE9YS5saXZlRGF0YUZldGNoTWF4UmV0cmllcyYmKHRoaXMuZy5saXZlRGF0YUZldGNoTWF4UmV0cmllcz1hLmxpdmVEYXRhRmV0Y2hNYXhSZXRyaWVzKTtudWxsIT1hLmxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXMmJih0aGlzLmcubGl2ZVNvdXJjZUJ1ZmZlckNsZWFyTWF4UmV0cmllcz1hLmxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXMpOwpudWxsIT1hLnBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2UmJih0aGlzLmcucGxheWhlYWRGcmFnbWVudGVkR2FwRGlmZkFsbG93YW5jZT1hLnBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2UpO251bGwhPWEuZml4QnVmZmVyaW5nR29hbERldGVybWluYXRpb24mJih0aGlzLmcuZml4QnVmZmVyaW5nR29hbERldGVybWluYXRpb249YS5maXhCdWZmZXJpbmdHb2FsRGV0ZXJtaW5hdGlvbik7bnVsbCE9YS5za2lwRW1wdHlTZWdtZW50cyYmKHRoaXMuZy5za2lwRW1wdHlTZWdtZW50cz1hLnNraXBFbXB0eVNlZ21lbnRzKTtudWxsIT1hLnVzZU1pY3JvVGFza1RpbWVvdXRzJiYodGhpcy5nLnVzZU1pY3JvVGFza1RpbWVvdXRzPWEudXNlTWljcm9UYXNrVGltZW91dHMpO0RmKHRoaXMpO251bGwhPWEuaW5jbHVkZVN0cmVhbUJ1ZmZlclNpemVJblN0YXJ0T2Zmc2V0JiYodGhpcy5aYj1Cb29sZWFuKGEuaW5jbHVkZVN0cmVhbUJ1ZmZlclNpemVJblN0YXJ0T2Zmc2V0KSk7Cm51bGwhPWEubGl2ZUF1ZGlvUHVzaFJlcHJlc2VudGF0aW9uJiYodGhpcy5wYT1TdHJpbmcoYS5saXZlQXVkaW9QdXNoUmVwcmVzZW50YXRpb24pKTtudWxsIT1hLmxpdmVJbml0aWFsUHVzaFJlcHJlc2VudGF0aW9uJiYodGhpcy5PYT1TdHJpbmcoYS5saXZlSW5pdGlhbFB1c2hSZXByZXNlbnRhdGlvbikpO251bGwhPWEuZW5hYmxlQWRhcHRhdGlvbiYmdGhpcy5BLmVuYWJsZShCb29sZWFuKGEuZW5hYmxlQWRhcHRhdGlvbikpO251bGwhPWEubXBkUmVxdWVzdFRpbWVvdXQmJih0aGlzLkxiPU51bWJlcihhLm1wZFJlcXVlc3RUaW1lb3V0KSk7bnVsbCE9YS5taW5NcGRSZWZyZXNoSW50ZXJ2YWwmJih0aGlzLktiPU51bWJlcihhLm1pbk1wZFJlZnJlc2hJbnRlcnZhbCkvMUUzKTtudWxsIT1hLmVuYWJsZU1hbmlmZXN0RGVidWcmJih0aGlzLlViPSEhYS5lbmFibGVNYW5pZmVzdERlYnVnKTtudWxsIT1hLmxpdmVTdHJlYW1FbmRUaW1lb3V0JiYodGhpcy5nYj1OdW1iZXIoYS5saXZlU3RyZWFtRW5kVGltZW91dCkpOwpudWxsIT1hLnByZWZlcnJlZExhbmd1YWdlJiYodGhpcy5TPVNhKFN0cmluZyhhLnByZWZlcnJlZExhbmd1YWdlKSkpO251bGwhPWEubGl2ZVNlbmRQdXNoSGVhZGVycyYmKHRoaXMucmE9Qm9vbGVhbihhLmxpdmVTZW5kUHVzaEhlYWRlcnMpKTtudWxsIT1hLmxpdmVNYXhNYW5pZmVzdEZldGNoZXNXaXRoUHVzaCYmKHRoaXMuUGE9TnVtYmVyKGEubGl2ZU1heE1hbmlmZXN0RmV0Y2hlc1dpdGhQdXNoKSk7bnVsbCE9YS5jdXJyZW50VGltZUR1cmluZ1JlYWR5U3RhdGVaZXJvVGhyb3dzJiYodGhpcy5TYj1Cb29sZWFuKGEuY3VycmVudFRpbWVEdXJpbmdSZWFkeVN0YXRlWmVyb1Rocm93cykpO251bGwhPWEubGl2ZU1heFNlZ21lbnRzVG9QdXNoJiYodGhpcy5nYz1OdW1iZXIoYS5saXZlTWF4U2VnbWVudHNUb1B1c2gpKTtudWxsIT1hLmp1bXBUb0xpdmVUaHJlc2hvbGQmJih0aGlzLmRjPU51bWJlcihhLmp1bXBUb0xpdmVUaHJlc2hvbGQpKTtudWxsIT1hLnJlc3RyaWN0aW9ucyYmKHRoaXMubT0KYS5yZXN0cmljdGlvbnMsdGhpcy5PJiZFZih0aGlzKSk7bnVsbCE9YS51c2VMb25nQ2FjaGVGb3JNYW5pZmVzdCYmKHRoaXMubWE9Qm9vbGVhbihhLnVzZUxvbmdDYWNoZUZvck1hbmlmZXN0KSk7bnVsbCE9YS5qdW1wVG9FYXJsaWVzdFBvc2l0aW9uSW5DdXJyZW50QmxvY2smJih0aGlzLmNjPUJvb2xlYW4oYS5qdW1wVG9FYXJsaWVzdFBvc2l0aW9uSW5DdXJyZW50QmxvY2spKTtudWxsIT1hLmlnbm9yZU1pbkJ1ZmZlclRpbWUmJih0aGlzLkdhPUJvb2xlYW4oYS5pZ25vcmVNaW5CdWZmZXJUaW1lKSk7bnVsbCE9PWEuZW5hYmxlUmVxdWVzdFBpcGVsaW5pbmcmJih0aGlzLlZiPUJvb2xlYW4oYS5lbmFibGVSZXF1ZXN0UGlwZWxpbmluZykpO251bGwhPT1hLmVuYWJsZVN0cmVhbWluZyYmKHRoaXMuV2I9Qm9vbGVhbihhLmVuYWJsZVN0cmVhbWluZykpfTsKWS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuSi5kZXN0cm95KCk7dGhpcy5zYS5kZXN0cm95KCk7dGhpcy5zYT10aGlzLko9bnVsbDt0aGlzLmthJiYoY2xlYXJUaW1lb3V0KHRoaXMua2EpLHRoaXMua2E9bnVsbCk7dGhpcy51JiYoY2xlYXJUaW1lb3V0KHRoaXMudSksdGhpcy51PW51bGwpO3RoaXMuQj1udWxsO3RoaXMuaC5kZXN0cm95KCk7dGhpcy5oPW51bGw7V2EodGhpcy5jKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2EuZGVzdHJveSgpfSk7dGhpcy5mPXRoaXMuYz1udWxsO3RoaXMuYiYmKHRoaXMuYi5kZXN0cm95KCksdGhpcy5iPW51bGwpO3RoaXMuQS5kZXN0cm95KCk7dGhpcy5KYT10aGlzLm09dGhpcy52aWRlbz10aGlzLmk9dGhpcy53YT10aGlzLkE9bnVsbDt0aGlzLmEuZ2V0Qm9vbCgiZml4aW5nX3NjaGVkdWxlcl9kaXNhYmxlX2xlYWtzIiwhMCkmJihPYmplY3Qua2V5cyh0aGlzLm8pLmZvckVhY2goZnVuY3Rpb24oYSl7KGE9dGhpcy5vW2FdKSYmYS5kaXNhYmxlKCl9LmJpbmQodGhpcykpLAp0aGlzLm89e30pO09iamVjdC5rZXlzKHRoaXMudykuZm9yRWFjaChmdW5jdGlvbihhKXsoYT10aGlzLndbYV0pJiZhLmRlc3Ryb3koKX0uYmluZCh0aGlzKSk7dGhpcy53PXt9O3RoaXMuSSYmKHRoaXMuSS5kaXNhYmxlKCksdGhpcy5JPW51bGwpO3RoaXMuUiYmKHRoaXMuUi5jbGVhbnVwKCksdGhpcy5SPW51bGwpO2Zvcih2YXIgYT0wO2E8dGhpcy5VLmxlbmd0aDthKyspdGhpcy5VW2FdLmNsZWFudXAoKTt0aGlzLlU9W107dGhpcy51Yy5yZWxlYXNlKCl9O2Z1bmN0aW9uIGVmKGEsYil7aWYoYS5sKXt2YXIgYz1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJtZWRpYV9zb3VyY2Vfb3BlbiIpLnN0YXJ0KCk7YS5JYi50aGVuKGZ1bmN0aW9uKCl7Yy5sb2coKX0pfUUoYS5oLGEuaSwic291cmNlb3BlbiIsYS5oZC5iaW5kKGEpKTtiLnNyYz13aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChhLmkpfW49WS5wcm90b3R5cGU7bi52Yz1mdW5jdGlvbigpe307CmZ1bmN0aW9uIGpmKGEsYixjKXt2YXIgZDthLmwmJihkPWEubC5nZXRPcGVyYXRpb25Mb2dnZXIoInNvdXJjZV9hdHRhY2giKS5zdGFydCgpKTtpZighYS5PKXJldHVybiBhPUVycm9yKCJDYW5ub3QgY2FsbCBhdHRhY2goKSByaWdodCBub3cuIiksYS50eXBlPSJhcHAiLGQmJmQuc2V0RXJyb3IoYSkubG9nKCksUHJvbWlzZS5yZWplY3QoYSk7YS5KYT1iO2EudmlkZW89YzthLmJhPW51bGw7YS5hLmdldEJvb2woImVuYWJsZV92aWV3cG9ydF9wcmlvcml0eV9hZGp1c3RtZW50IiwhMSkmJihhLlI9bmV3IFZpZXdwb3J0UHJpb3JpdHlBZGp1c3RlcihhLnZpZGVvKSxhLlIuc2V0T25Qcmlvcml0eUNoYW5nZWQoZnVuY3Rpb24oYSl7T2JqZWN0LmtleXModGhpcy5vKS5mb3JFYWNoKGZ1bmN0aW9uKGIpe3RoaXMub1tiXS51cGRhdGVQcmlvcml0eVdpdGhOZXdBZGp1c3RtZW50KGEpfS5iaW5kKHRoaXMpKX0uYmluZChhKSkpO2EuYS5nZXRCb29sKCJlbmFibGVfZmlyc3RfdmlkZW9fcHJpb3JpdHlfYWRqdXN0bWVudCIsCiExKSYmYS5VLnB1c2gobmV3IEZpcnN0TG9hZGVkVmlkZW9Qcmlvcml0eUFkanVzdGVyKGEudmlkZW8pKTtFKGEuaCxhLnZpZGVvLCJsb2FkZWRtZXRhZGF0YSIsYS5nZC5iaW5kKGEpKTtFKGEuaCxhLndhLCJiYW5kd2lkdGgiLGEuR2QuYmluZChhKSk7aWYoYS5iLmJ8fGEuYS5nZXRCb29sKCJiYWNrX29mZl9idWZmZXJpbmdfb3ZlcmZsb3ciLCExKSlFKGEuaCxiLCJidWZmZXJpbmdTdGFydCIsYS5jZC5iaW5kKGEpKSxFKGEuaCxiLCJidWZmZXJpbmdFbmQiLGEuYmQuYmluZChhKSk7Yj1hLmEuZ2V0Qm9vbCgiZW5hYmxlX2NvbnRlbnRfcHJvdGVjdGlvbiIsITEpPyhiPWEudmlkZW8ubWVkaWFLZXlzKSYmYS52aWRlby5zZXRNZWRpYUtleXM/YS52aWRlby5zZXRNZWRpYUtleXMoYik6UHJvbWlzZS5yZXNvbHZlKCk6UHJvbWlzZS5yZXNvbHZlKCk7RmYoYSkudGhlbihKKGEsZnVuY3Rpb24oKXtkJiZ0aGlzLlAoKSYmZC5zZXRMaXZlaGVhZFBvc2l0aW9uKEdmKEhmKHRoaXMpKSk7dGhpcy5KJiYKdGhpcy5KLnJlc29sdmUoKTt0aGlzLnZjKCl9KSkuY2F0Y2goSihhLGZ1bmN0aW9uKGEpe3RoaXMuSiYmdGhpcy5KLnJlamVjdChhKX0pKTtyZXR1cm4gUHJvbWlzZS5hbGwoW2EuSixiXSkudGhlbihmdW5jdGlvbigpe2QmJmQubG9nKCl9KX0Kbi53Yj1mdW5jdGlvbigpe2lmKHRoaXMuTyl7dmFyIGE9RXJyb3IoIkNhbm5vdCBjYWxsIGxvYWQoKSByaWdodCBub3cuIik7YS50eXBlPSJhcHAiO3JldHVybiBQcm9taXNlLnJlamVjdChhKX1pZighdGhpcy5ifHwwPT10aGlzLmIuYS5sZW5ndGgpcmV0dXJuIGE9RXJyb3IoIlRoZSBtYW5pZmVzdCBkb2VzIG5vdCBzcGVjaWZ5IGFueSBjb250ZW50LiIpLGEudHlwZT0ic3RyZWFtIixQcm9taXNlLnJlamVjdChhKTt0Zih0aGlzLmIuYSk7aWYoMD09dGhpcy5iLmEubGVuZ3RofHwwPT10aGlzLmIuYVswXS5hLmxlbmd0aHx8IXRoaXMuYi5hWzBdLmEuc29tZShmdW5jdGlvbihhKXtyZXR1cm4idmlkZW8iPT09YS5jb250ZW50VHlwZX0pKXJldHVybiBhPUVycm9yKCJUaGUgbWFuaWZlc3Qgc3BlY2lmaWVzIGNvbnRlbnQgdGhhdCBjYW5ub3QgYmUgZGlzcGxheWVkIG9uIHRoaXMgYnJvd3Nlci9wbGF0Zm9ybS4iKSxhLnR5cGU9InN0cmVhbSIsUHJvbWlzZS5yZWplY3QoYSk7dGhpcy5PPQohMDt0aGlzLkdhfHwodGhpcy5nLmluaXRpYWxTdHJlYW1CdWZmZXJTaXplPU1hdGgubWF4KHRoaXMuZy5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZXx8MCx0aGlzLmIuZykpO3RoaXMuaWEmJnRoaXMuaWEuc2V0U3RyZWFtVHlwZSh0aGlzLmIuQik7RGYodGhpcyk7RWYodGhpcyk7cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpfTtmdW5jdGlvbiBJZihhKXt2YXIgYj15KHt0eXBlOiJtYW5pZmVzdHdyYXBwZWQiLGJ1YmJsZXM6ITB9KTthLmRpc3BhdGNoRXZlbnQoYil9ZnVuY3Rpb24gSmYoYSxiKXt2YXIgYz15KHt0eXBlOiJsaXZlaGVhZElkbGVBdCIsc2Vjb25kczpiLGJ1YmJsZXM6ITB9KTthLmRpc3BhdGNoRXZlbnQoYyl9ZnVuY3Rpb24gR2YoYSl7cmV0dXJuIE1hdGgubWluLmFwcGx5KE1hdGgsYS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEubGVuZ3RoKCk/YS5sYXN0KCkuZW5kVGltZTpudWxsfSkuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiEhYX0pKX0Kbi5KYj1mdW5jdGlvbihhLGIpe3ZhciBjO3RoaXMuYS5nZXRCb29sKCJkZWNvdXBsZV9tcGRfdXBkYXRlX2xvb3BfZnJvbV9yZXF1ZXN0X2xvb3AiLCExKSYmS2YodGhpcywwKTt0aGlzLlYmJih0aGlzLlYubG9nKCksdGhpcy5WPW51bGwpO3RoaXMubCYmKGM9dGhpcy5sLmdldE9wZXJhdGlvbkxvZ2dlcigidXBkYXRlX21hbmlmZXN0Iikuc3RhcnQoKSk7aWYoIWJ8fHRoaXMuTyl7dmFyIGQ9RGF0ZS5ub3coKTt0aGlzLmEuZ2V0Qm9vbCgiZGVjb3VwbGVfbXBkX3VwZGF0ZV9sb29wX2Zyb21fcmVxdWVzdF9sb29wIiwhMSl8fCh0aGlzLnU9bnVsbCk7dmFyIGU9bnVsbCxmLGc7aWYodGhpcy5yYSYmKCF0aGlzLlBhfHx0aGlzLlBhPnRoaXMuaWMpKXtmPU1hdGguZmxvb3IoTGYodGhpcykpKzE7Zj1NYXRoLm1pbihmLHRoaXMuZ2MpO3ZhciBoPXRoaXMuYy52aWRlbztpZihoPWg/aC5GYigpOm51bGwpaD1oLmxhc3QoKSxudWxsIT1oLnVuc2NhbGVkU3RhcnRUaW1lJiYoZz1oLnVuc2NhbGVkU3RhcnRUaW1lKTsKaWYodGhpcy52aWRlby5wYXVzZWR8fHRoaXMuJClmPTB9ZiYmdGhpcy5pYysrO2g9dGhpcy5iLmk7aD10aGlzLmEuZ2V0Qm9vbCgiZW5hYmxlX2NsZWFuX2ZhaWxvdmVyX3VyaV9vbl9tcGRfcmVxdWVzdHMiLCEwKT9oLmNsb25lKCk6aDtjJiYhYSYmYy5zZXRSZXNvdXJjZShoLnRvU3RyaW5nKCkpOyhhP3RoaXMueGMoKTp0aGlzLnljKGgsZixnKSkudGhlbihKKHRoaXMsZnVuY3Rpb24oYil7YXx8dGhpcy5HLmluZm9ybU5ldHdvcmtSZXN1bWVkKCk7ZT1uZXcgdmYoYik7dmFyIGM7dGhpcy5sJiYoYz10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJ1cGRhdGVfbWFuaWZlc3RfaW5mbyIpLnN0YXJ0KCkpO2I9ZS51cGRhdGUodGhpcy5iKTtiLnRoZW4oZnVuY3Rpb24oKXtjJiZjLmxvZygpfSxmdW5jdGlvbihhKXtjJiZjLnNldEVycm9yKGEpLmxvZygpfSkuY2F0Y2goZnVuY3Rpb24oKXt9KTtyZXR1cm4gYn0pKS50aGVuKEoodGhpcyxmdW5jdGlvbihhKXtlLmRlc3Ryb3koKTtlPW51bGw7CnZhciBmPUhmKHRoaXMpO3RoaXMuTGEoIlNlZ21lbnRJbmRleGVzVXBkYXRlZCIsZik7aWYodGhpcy5hLmdldEJvb2woImVtaXRfbGl2ZV9wbGF5aGVhZF9pZGxlX2Zyb21fY2xpZW50IiwhMCkpe3ZhciBnPXRoaXMuYS5nZXROdW1iZXIoImxpdmVfcGxheWhlYWRfaWRsZV9hbGxfc3RyZWFtX3RocmVzaG9sZCIsNCksaD10aGlzLmEuZ2V0TnVtYmVyKCJsaXZlX3BsYXloZWFkX2lkbGVfc2luZ2xlX3N0cmVhbV90aHJlc2hvbGQiLDUpO2lmKEhmKHRoaXMpLmV2ZXJ5KGZ1bmN0aW9uKGEpe3JldHVybiBhLnUoKT49Z30pfHxIZih0aGlzKS5zb21lKGZ1bmN0aW9uKGEpe3JldHVybiBhLnUoKT49aH0pKXt2YXIgdD1HZihmKTtKZih0aGlzLHQpfX1mLnNvbWUoZnVuY3Rpb24oYSl7cmV0dXJuIGEucmIoKX0pJiZJZih0aGlzKTt0PU1mKHRoaXMsZik7YyYmdGhpcy5QKCkmJmMuc2V0TGl2ZWhlYWRQb3NpdGlvbihHZihmKSk7YyYmYy5zZXRNYW5pZmVzdFR5cGUodGhpcy5iLmI/ImR5bmFtaWMiOgoic3RhdGljIikuc2V0VXBkYXRlUGVyaW9kKG51bGw9PT10aGlzLmIuYz9udWxsOk1hdGguY2VpbCgxRTMqdGhpcy5iLmMpKTt0aGlzLm5hJiZOZih0aGlzLHQpO3RoaXMuYS5nZXRCb29sKCJza2lwX3JlbWFpbmluZ19idWZmZXJlZF9vbl9zdHJlYW1fZW5kIiwhMSkmJnQmJnRoaXMuYi5iJiZ0aGlzLmIuaCYmdGhpcy52aWRlby5wYXVzZWQmJih0aGlzLnZpZGVvLmN1cnJlbnRUaW1lPXRoaXMuamEtLjEpO2lmKHNmKHRoaXMpKXJldHVybiBjJiZjLmxvZygpLHRoaXMuZWIoKTtmb3IoZj0wO2Y8YS5sZW5ndGg7KytmKU9mKHRoaXMsYVtmXSk7dGhpcy5HYXx8KHRoaXMuZy5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZT1NYXRoLm1heCh0aGlzLmcuaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemV8fDAsdGhpcy5iLmcpKTt0aGlzLmcudXNlSW5pdGlhbEJ1ZmZlclNpemVXaGVuUGF1c2VkPXRoaXMuYi5iO0RmKHRoaXMpO0VmKHRoaXMpOzA9PU9iamVjdC5rZXlzKHRoaXMuYykubGVuZ3RoP0ZmKHRoaXMpOgooYT1EYXRlLm5vdygpLGJ8fEtmKHRoaXMsKGEtZCkvMUUzKSk7YyYmYy5sb2coKTt0aGlzLnRiKCkmJmV4dHJhY3RDRUE2MDgucHJlcGFyZSgpO3RoaXMuYS5nZXRCb29sKCJ1cGRhdGVfY2VhNjA4X2F2YWlsYWJpbGl0eV9vbl9tcGRfcGFyc2luZyIsITEpJiYoYT10aGlzLnRiKCksdGhpcy5ZYiE9PWEmJihmPXkoe3R5cGU6ImNlYTYwOEF2YWlsYWJpbGl0eUNoYW5nZWQiLGJ1YmJsZXM6ITB9KSx0aGlzLmRpc3BhdGNoRXZlbnQoZiksdGhpcy5ZYj1hKSl9KSkuY2F0Y2goSih0aGlzLGZ1bmN0aW9uKGEpe2MmJmMuc2V0RXJyb3IoYSkubG9nKCk7ZSYmKGUuZGVzdHJveSgpLGU9bnVsbCk7aWYoIWIpe3ZhciBkPXRoaXMuYi5mfHx0aGlzLmEuZ2V0Qm9vbCgicmV0cnlfZWdyZXNzXzUwMHMiLCExKSxmPVswLDQxMF07dGhpcy5hLmdldEJvb2woImVuYWJsZV9kb3VibGVfaW5nZXN0IiwhMSkmJmYucHVzaCg0MTcsMjAwKTshdGhpcy5hLmdldEJvb2woIm5vX3JldHJ5X29uXzUwMl81MDMiLAohMSkmJmQmJihmPWYuY29uY2F0KFs1MDIsNTAzXSkpO2Q9dGhpcy5hLmdldEJvb2woImZpeF9saXZlX3N0cmVhbV9nb25lX29uX21hbmlmZXN0X3VwZGF0ZSIsITApPy0xPT09Zi5pbmRleE9mKGEuc3RhdHVzKTowIT09YS5zdGF0dXM7aWYodGhpcy5hLmdldEJvb2woImFsbG93X2luZmluaXRlX3JldHJ5X29uX25ldF9lcnIiLCEwKSYmIm5ldCI9PT1hLnR5cGUmJiFkKXN3aXRjaChhLnN0YXR1cyl7Y2FzZSA0MTA6dGhpcy5oYz0hMDt0aGlzLmomJihjbGVhclRpbWVvdXQodGhpcy5qKSx0aGlzLmo9bnVsbCk7dGhpcy5lYigpO2JyZWFrO2Nhc2UgMjAwOmNhc2UgNDE3OmEucmVzcG9uc2VIZWFkZXJzJiZudWxsIT1hLnJlc3BvbnNlSGVhZGVyc1sieC1mYi12aWRlby1yZXBsaWNhIl0/dGhpcy5kaXNwYXRjaEV2ZW50KHkoe3R5cGU6InJlcGxpY2Fzd2l0Y2giLGJ1YmJsZXM6ITAscmVwbGljYTphLnJlc3BvbnNlSGVhZGVyc1sieC1mYi12aWRlby1yZXBsaWNhIl0sdXJsOmEudXJsLHN0YXR1czphLnN0YXR1c30pKToKZD0hMDticmVhaztkZWZhdWx0OlBmKHRoaXMpfTA9PT1hLnN0YXR1cz90aGlzLkcuaW5mb3JtTmV0d29ya0ludGVycnVwdGVkKCk6dGhpcy5HLmluZm9ybU5ldHdvcmtSZXN1bWVkKCk7aWYoImRlbGF5Ij09YS50eXBlKXJldHVybiBQZih0aGlzKTt0aGlzLmEuZ2V0Qm9vbCgiYWxsb3dfaW5maW5pdGVfcmV0cnlfb25fbmV0X2VyciIsITApJiYhZHx8ImFib3J0ZWQiPT1hLnR5cGV8fChhPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGEpLHRoaXMuYiYmUGYodGhpcykpfX0pKX19O24ueWM9ZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZWplY3QoIkNhbm5vdCB1cGRhdGUgbWFuaWZlc3Qgd2l0aCB0aGlzIFZpZGVvU291cmNlIGltcGxlbWVudGF0aW9uLiIpfTtuLnhjPWZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVqZWN0KCJDYW5ub3QgdXBkYXRlIG1hbmlmZXN0IHdpdGggdGhpcyBWaWRlb1NvdXJjZSBpbXBsZW1lbnRhdGlvbi4iKX07CmZ1bmN0aW9uIE5mKGEsYil7aWYoYiYmYS5iJiZhLmIuYilpZihhLmEuZ2V0Qm9vbCgic2Vla19vdmVyX3VuYXZhaWxhYmxlX3NlZ21lbnRzX29uX21hbmlmZXN0X3VwZGF0ZSIsITEpJiZhLmVhKWIuZW5kPmEudmlkZW8uY3VycmVudFRpbWUrMTAmJihhLmVhPSExLGEudmlkZW8uY3VycmVudFRpbWU9Yi5lbmQsUWYoYSkpO2Vsc2UgaWYoYS52aWRlby5wYXVzZWQmJmIuZW5kPmEudmlkZW8uY3VycmVudFRpbWUrMTApaWYoYS5hLmdldEJvb2woImVuYWJsZV9sYXp5X2xpdmVoZWFkX2NhdGNodXAiLCExKSl7dmFyIGM9YS54YTtjPGEuSWQmJihhLnhhPSsrYyk7UmYoYSxjKTthLmNhPWIuZW5kfWVsc2UgYS5lYT0hMSxhLnZpZGVvLmN1cnJlbnRUaW1lPWIuZW5kLFFmKGEpfQpmdW5jdGlvbiBLZihhLGIpe2lmKG51bGw9PWEuYi5jKUJhbnphaU9EUy5idW1wRW50aXR5S2V5KDI5NjYsInZpZGVvcy53d3cubGl2ZSIsInVwZGF0ZV9wZXJpb2RfaXNfbnVsbCIpO2Vsc2UgaWYoIWEuRmEpe2lmKGEuYS5nZXRCb29sKCJkZWNvdXBsZV9tcGRfdXBkYXRlX2xvb3BfZnJvbV9yZXF1ZXN0X2xvb3AiLCExKSYmKGEudSYmKGNsZWFyVGltZW91dChhLnUpLGEudT1udWxsKSxzZihhKSkpcmV0dXJuO3ZhciBjPU1hdGgubWF4KGEuYi5jLGEuS2IpLGM9TWF0aC5tYXgoYy1iLDApLGQ9YS5KYi5iaW5kKGEsITEpOyFjJiZhLmcudXNlTWljcm9UYXNrVGltZW91dHM/UHJvbWlzZS5yZXNvbHZlKCkudGhlbihkKTooYS5WJiZhLlYuc2V0UmVzdWx0KCJmYWlsZWQiKS5sb2coKSxhLmwmJihhLlY9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigic2NoZWR1bGVfbWFuaWZlc3RfdXBkYXRlIikuc3RhcnQoKS5zZXRVcGRhdGVQZXJpb2QoTWF0aC5jZWlsKDFFMypjKSkpLGEudT1zZXRUaW1lb3V0KGQsCjFFMypjKSl9fWZ1bmN0aW9uIE9mKGEsYil7dmFyIGM9TWQoYiksZD1hLmNbY107aWYoZCYmZC5XYSgpPT1iKXt2YXIgZT1hLmYuZ2V0KE1kKGIpKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEudn0pLnJlZHVjZShmdW5jdGlvbihhLGIpe3JldHVybiBhLmNvbmNhdChiKX0sW10pLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gYS5vYSYmYS5mYX0pO2lmKDA9PWUubGVuZ3RoKXtjPUVycm9yKCJBbGwgdXNhYmxlIHN0cmVhbXMgaGF2ZSBiZWVuIHJlbW92ZWQgZnJvbSB0aGUgbWFuaWZlc3QuIik7Yy50eXBlPSJhcHAiO2M9QShjKTthLmRpc3BhdGNoRXZlbnQoYyk7cmV0dXJufWEuQltjXS5MYz09YiYmZGVsZXRlIGEuQltjXTtkLmpiKGVbMF0sITApO2IuZGVzdHJveSgpfWIuZGVzdHJveSgpfW4uQ2Q9ZnVuY3Rpb24oYSl7dGhpcy5wYz1hfTtZLnByb3RvdHlwZS5zZXRUYWdnZWRUaW1lUmFuZ2VzPVkucHJvdG90eXBlLkNkOwpZLnByb3RvdHlwZS53ZD1mdW5jdGlvbigpe3JldHVybiAwPT09T2JqZWN0LmtleXModGhpcy5jKS5sZW5ndGg/ITE6WyJhdWRpbyIsInZpZGVvIl0uZXZlcnkoSih0aGlzLGZ1bmN0aW9uKGEpe3JldHVybiF0aGlzLmNbYV18fHRoaXMuY1thXS5UfSkpfTtZLnByb3RvdHlwZS5oYXNIaXRCdWZmZXJpbmdHb2FsPVkucHJvdG90eXBlLndkOwpZLnByb3RvdHlwZS5aPWZ1bmN0aW9uKGEpe2lmKCF0aGlzLmZ8fCF0aGlzLmYuYS5oYXNPd25Qcm9wZXJ0eSgidmlkZW8iKSlyZXR1cm5bXTthPWEmJmEudXNlTG9jYWxCaXRyYXRlfHwhMTt2YXIgYj10aGlzLmMudmlkZW8sYz1iP2IuV2EoKTpudWxsLGQ9Yz9jLlg6MCxlPTEsZj1udWxsO3RoaXMuYS5nZXRCb29sKCJ1c2VfbGl2ZV9iaXRyYXRlX2VzdGltYXRlcyIsITEpJiZ0aGlzLlAoKSYmbnVsbCE9YiYmKGY9Yi5sYSgpLG51bGwhPWMmJjA8Yy5iYW5kd2lkdGgmJihlPWYvYy5iYW5kd2lkdGgpKTtmb3IodmFyIGM9W10sZz10aGlzLmYuZ2V0KCJ2aWRlbyIpLGg9MDtoPGcubGVuZ3RoOysraClmb3IodmFyIGs9Z1toXSxsPTA7bDxrLnYubGVuZ3RoOysrbCl7dmFyIG09ay52W2xdO2lmKG0ub2EmJm0uZmEpe3ZhciBwPW51bGw7aWYoYSYmbnVsbCE9PW0uTSl7dmFyIHQ9bS5NLmMoKSx3PWI7aWYodGhpcy5QKCl8fG51bGw9PT10fHxudWxsPT09dylwPW51bGw7ZWxzZXt2YXIgcD0KcGUodyx0aGlzLnZpZGVvLmN1cnJlbnRUaW1lLHQpLHo9dC5nZXRTZWdtZW50cygpO3RoaXMuYS5nZXRCb29sKCJzdGFydF9sb2NhbF9iaXRyYXRlX2F0X2J1ZmZlcl9lbmQiLCExKSYmKHc9TG9jYWxCaXRyYXRlSGVscGVyLmdldEJ1ZmZlckVuZFNlZ21lbnRJbmRleCh6LHAsdGhpcy52aWRlby5jdXJyZW50VGltZSthZSh3LHRoaXMudmlkZW8uY3VycmVudFRpbWUpKSxudWxsIT09dyYmKHA9dykpO3A9TG9jYWxCaXRyYXRlSGVscGVyLmdldExvY2FsQml0cmF0ZSh0LmdldFNlZ21lbnRzKCkscCx0aGlzLmEuZ2V0TnVtYmVyKCJsb2NhbF9iaXRyYXRlX3NlZ21lbnRzX2FoZWFkIiwxMCkpfXRoaXMuYS5nZXRCb29sKCJ1c2VfbWF4X2xvY2FsX2JpdHJhdGUiLCExKSYmKHA9TWF0aC5tYXgocCxtLmJhbmR3aWR0aCkpfXQ9bS5YO3A9cHx8bS5iYW5kd2lkdGg7dGhpcy5hLmdldEJvb2woInVzZV9saXZlX2JpdHJhdGVfZXN0aW1hdGVzIiwhMSkmJm51bGwhPWYmJih0PT09ZD9wPU1hdGgubWF4KHAsCmYpOjE8ZSYmKHA9cCplKSxwPU1hdGgucm91bmQocCkpO209bmV3IHVhKHQscCxtLndpZHRoLG0uaGVpZ2h0LG0uaWQsbS5mYlF1YWxpdHlMYWJlbCxtLmZiUXVhbGl0eUNsYXNzLG0uZixtLmZyYW1lUmF0ZSxtLm1pbWVUeXBlLG0uY29kZWNzLG0uZyxtLmgpO3Q9PWQmJihtLmFjdGl2ZT0hMCk7Yy5wdXNoKG0pfX1yZXR1cm4gY307WS5wcm90b3R5cGUuZ2V0VmlkZW9UcmFja3M9WS5wcm90b3R5cGUuWjtZLnByb3RvdHlwZS5SYz1mdW5jdGlvbigpe2lmKHRoaXMuZ2EpcmV0dXJuIHRoaXMuZ2E7aWYoIXRoaXMuYilyZXR1cm4gbnVsbDtmb3IodmFyIGE9MDthPHRoaXMuYi5hLmxlbmd0aDsrK2EpZm9yKHZhciBiPXRoaXMuYi5hW2FdLGM9MDtjPGIuYS5sZW5ndGg7KytjKWlmKHRoaXMuZ2E9Yi5hW2NdLmMpcmV0dXJuIHRoaXMuZ2E7cmV0dXJuIG51bGx9O1kucHJvdG90eXBlLmdldFZpZGVvUHJvamVjdGlvbj1ZLnByb3RvdHlwZS5SYztZLnByb3RvdHlwZS5PYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmtifTsKWS5wcm90b3R5cGUuZ2V0TG9jYWxFc3RpbWF0b3I9WS5wcm90b3R5cGUuT2M7ZnVuY3Rpb24gU2YoYSl7YT1hLlooKTtmb3IodmFyIGI9MDtiPGEubGVuZ3RoO2IrKylpZihhW2JdLmFjdGl2ZSlyZXR1cm4gYVtiXX1ZLnByb3RvdHlwZS52YT1mdW5jdGlvbigpe2lmKCF0aGlzLmZ8fCF0aGlzLmYuYS5oYXNPd25Qcm9wZXJ0eSgiYXVkaW8iKSlyZXR1cm5bXTtmb3IodmFyIGE9dGhpcy5jLmF1ZGlvLGE9KGE9YT9hLldhKCk6bnVsbCk/YS5YOjAsYj1bXSxjPXRoaXMuZi5nZXQoImF1ZGlvIiksZD0wO2Q8Yy5sZW5ndGg7KytkKWZvcih2YXIgZT1jW2RdLGY9ZS5sYW5nLGc9MDtnPGUudi5sZW5ndGg7KytnKXt2YXIgaD1lLnZbZ107aWYoaC5vYSYmaC5mYSl7dmFyIGs9aC5YLGg9bmV3IGZhKGssaC5iYW5kd2lkdGgsZixoLmlkLGgubWltZVR5cGUsaC5jb2RlY3MsdGhpcy5iLnUsaC5jKTtrPT1hJiYoaC5hY3RpdmU9ITApO2IucHVzaChoKX19cmV0dXJuIGJ9OwpZLnByb3RvdHlwZS5nZXRBdWRpb1RyYWNrcz1ZLnByb3RvdHlwZS52YTtZLnByb3RvdHlwZS5tYz1mdW5jdGlvbigpe2lmKCF0aGlzLmZ8fCF0aGlzLmYuYS5oYXNPd25Qcm9wZXJ0eSgidGV4dCIpKXJldHVybltdO2Zvcih2YXIgYT10aGlzLmMudGV4dCxiPWE/YS5XYSgpOm51bGwsYj1iP2IuWDowLGM9W10sZD10aGlzLmYuZ2V0KCJ0ZXh0IiksZT0wO2U8ZC5sZW5ndGg7KytlKWZvcih2YXIgZj1kW2VdLGc9Zi5sYW5nLGg9MDtoPGYudi5sZW5ndGg7KytoKXt2YXIgaz1mLnZbaF0uWCxsPW5ldyB0YShrLGcpO2s9PWImJihsLmFjdGl2ZT0hMCxsLmVuYWJsZWQ9YS5EYigpKTtjLnB1c2gobCl9cmV0dXJuIGN9O1kucHJvdG90eXBlLmdldFRleHRUcmFja3M9WS5wcm90b3R5cGUubWM7WS5wcm90b3R5cGUuYWM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iJiZ0aGlzLmIubSYmMDx0aGlzLmIubT8hMDohMX07WS5wcm90b3R5cGUuaXNVc2luZ0FTUkNhcHRpb25zPVkucHJvdG90eXBlLmFjOwpZLnByb3RvdHlwZS5iYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmImJnRoaXMuYi5vJiYwPHRoaXMuYi5vJiZna3goIjExNzYyNTEiKT8hMDohMX07WS5wcm90b3R5cGUuaXNVc2luZ0FTUkNhcHRpb25zRW1wbG95ZWVEb2dmb29kaW5nPVkucHJvdG90eXBlLmJjO2Z1bmN0aW9uIHJmKGEpe3ZhciBiPU51bWJlcihhLmcuaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemUpO2EuZy5maXhCdWZmZXJpbmdHb2FsRGV0ZXJtaW5hdGlvbiYmKGI9MSk7aWYoYS5hLmdldEJvb2woImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvdyIsITEpKWI9YS5LO2Vsc2V7dmFyIGM9YS5hLmdldE51bWJlcigiYnVmZmVyaW5nX292ZXJmbG93X3RocmVzaG9sZCIsMCk7MDxjJiYoYj1jKX1yZXR1cm4gYS4kYj9OdW1iZXIoYS5nLnN0cmVhbUJ1ZmZlclNpemUpOmJ9CmZ1bmN0aW9uIE5lKGEpe2lmKGEuTyl7YT1hLmIuYVswXTtmb3IodmFyIGI9W10sYz0wO2M8YS5hLmxlbmd0aDsrK2MpYi5wdXNoLmFwcGx5KGIsUWQoYS5hW2NdKSk7YT1ifWVsc2UgYT1bXTtyZXR1cm4gYX0KZnVuY3Rpb24gUGUoYSxiKXtpZihhLk8pe2Zvcih2YXIgYz17fSxkPWEuYi5hWzBdLGU9MDtlPGQuYS5sZW5ndGg7KytlKXt2YXIgZj1kLmFbZV07Y1tmLlhdPWZ9YS5mLmE9e307ZD1hYihiKTtmb3IoZT0wO2U8ZC5sZW5ndGg7KytlKXt2YXIgZj1kW2VdLGc9Yi5nZXQoZik7aWYoInZpZGVvIj09Zil7dmFyIGg9Z1swXS5pZDthLmYucHVzaChmLGNbaF0pfWVsc2UgaWYoImF1ZGlvIj09Zil7aWYoMDxnLmxlbmd0aClmb3IodmFyIGg9Z1swXS5iLnNwbGl0KCI7IilbMF0saz0wO2s8Zy5sZW5ndGg7KytrKXt2YXIgbD1nW2tdO2wuYi5zcGxpdCgiOyIpWzBdPT1oJiZhLmYucHVzaChmLGNbbC5pZF0pfX1lbHNlIGZvcihrPTA7azxnLmxlbmd0aDsrK2spaD1nW2tdLmlkLGEuZi5wdXNoKGYsY1toXSl9YS55YT0hMDtpZihjPWEuZi5nZXQoImF1ZGlvIikpVGYoYSxjKSxhLmYuc2V0KCJhdWRpbyIsYyksYz1jWzBdLmxhbmd8fGEuUyxSYSgyLGEuUyxjKSYmKGEueWE9ITEpO2lmKGM9YS5mLmdldCgidGV4dCIpKVRmKGEsCmMpLGEuZi5zZXQoInRleHQiLGMpLGM9Y1swXS5sYW5nfHxhLlMsUmEoMixhLlMsYyl8fChhLnlhPSExKX19WS5wcm90b3R5cGUuWGM9ZnVuY3Rpb24oKXt0aGlzLkVhPSEwfTtZLnByb3RvdHlwZS5zZXRDbGVhckJ1ZmZlckFmdGVyU2Vla2luZz1ZLnByb3RvdHlwZS5YYztZLnByb3RvdHlwZS5zZWxlY3RWaWRlb1RyYWNrPWZ1bmN0aW9uKGEsYixjLGQsZSl7cmV0dXJuIG1mKHRoaXMsInZpZGVvIixhLGIsYyxkLGUpfTtZLnByb3RvdHlwZS5yZXN1bWVWaWRlb0ZldGNoaW5nPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5jLnZpZGVvP3RoaXMuYy52aWRlby5GOm51bGw7YSYmYS5yZXN1bWVWaWRlb0ZldGNoaW5nKCl9O1kucHJvdG90eXBlLnJlc3VtZVZpZGVvRmV0Y2hpbmc9WS5wcm90b3R5cGUucmVzdW1lVmlkZW9GZXRjaGluZztZLnByb3RvdHlwZS5IZD1mdW5jdGlvbigpe3ZhciBhPXRoaXMuYy52aWRlbz90aGlzLmMudmlkZW8uRjpudWxsO2EmJmEuc3RvcFVudGlsU2VnbWVudHNVcGRhdGUoKX07ClkucHJvdG90eXBlLnN0b3BVbnRpbFZpZGVvU3RyZWFtU3dpdGNoPVkucHJvdG90eXBlLkhkO2Z1bmN0aW9uIG5mKGEsYil7dmFyIGM9YS5jLnRleHQ7YyYmYy52YihiKX0KZnVuY3Rpb24gRWYoYSl7aWYoYS5tKXtmb3IodmFyIGI9ITEsYz0wO2M8YS5iLmEubGVuZ3RoOysrYylmb3IodmFyIGQ9YS5iLmFbY10sZT0wO2U8ZC5hLmxlbmd0aDsrK2Upe3ZhciBmPWQuYVtlXTtpZigidmlkZW8iPT1mLmNvbnRlbnRUeXBlKWZvcih2YXIgZz0wO2c8Zi52Lmxlbmd0aDsrK2cpe3ZhciBoPWYudltnXSxrPWguZmE7aC5mYT0hMDthLm0ubWF4V2lkdGgmJmgud2lkdGg+YS5tLm1heFdpZHRoJiYoaC5mYT0hMSk7YS5tLm1heEhlaWdodCYmaC5oZWlnaHQ+YS5tLm1heEhlaWdodCYmKGguZmE9ITEpO2EubS5taW5IZWlnaHQmJmguaGVpZ2h0PGEubS5taW5IZWlnaHQmJihoLmZhPSExKTthLm0ubWF4QmFuZHdpZHRoJiZoLmJhbmR3aWR0aD5hLm0ubWF4QmFuZHdpZHRoJiYoaC5mYT0hMSk7YS5tLm1pbkJhbmR3aWR0aCYmaC5iYW5kd2lkdGg8YS5tLm1pbkJhbmR3aWR0aCYmKGguZmE9ITEpO2shPWguZmEmJihiPSEwKX19MCE9JGEoYS5mKS5sZW5ndGgmJmImJihVZihhKSwKMDxhLlooKS5sZW5ndGh8fChiPUVycm9yKCJUaGUgYXBwbGljYXRpb24gaGFzIHJlc3RyaWN0ZWQgYWxsIHZpZGVvIHRyYWNrcyEiKSxiLnR5cGU9ImFwcCIsYj1BKGIpLGEuZGlzcGF0Y2hFdmVudChiKSkpfX1ZLnByb3RvdHlwZS5QPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYj90aGlzLmIuYjpudWxsfTtZLnByb3RvdHlwZS5pc0xpdmU9WS5wcm90b3R5cGUuUDtZLnByb3RvdHlwZS5ZYz1mdW5jdGlvbihhKXt0aGlzLiRiPWF9O1kucHJvdG90eXBlLnNldElzTGl2ZUludGVycnVwdGVkPVkucHJvdG90eXBlLlljO1kucHJvdG90eXBlLnZkPWZ1bmN0aW9uKCl7Zm9yKHZhciBhIGluIHRoaXMuYyl0aGlzLmNbYV0uSGMoKX07WS5wcm90b3R5cGUuZm9yY2VSZXN5bmNWaWRlb0J1ZmZlcj1ZLnByb3RvdHlwZS52ZDsKZnVuY3Rpb24gV2UoYSxiKXtmb3IodmFyIGMsZD0hMSxlPW5ldyBELGY9JGEoYS5mKSxnPTA7ZzxmLmxlbmd0aDsrK2cpZm9yKHZhciBoPWZbZ10saz0wO2s8aC52Lmxlbmd0aDsrK2spe3ZhciBsPWgudltrXTtsLmIuZm9yRWFjaChmdW5jdGlvbihhKXtlLnB1c2goYSxsKX0pfWZvcihjIGluIGIpaWYoZj1QYVtiW2NdXXx8bnVsbCxoPWUuZ2V0KGMpKWZvcihnPTA7ZzxoLmxlbmd0aDsrK2cpbD1oW2ddLGs9bC5vYSxsLm9hPSFmLGshPWwub2EmJihkPSEwKTtlbHNlIGliKGMpO2QmJihVZihhKSxkPWEudmEoKSxjPWEuWigpLGQ9YS5mLmEuaGFzT3duUHJvcGVydHkoImF1ZGlvIikmJjA9PWQubGVuZ3RoLGM9YS5mLmEuaGFzT3duUHJvcGVydHkoInZpZGVvIikmJjA9PWMubGVuZ3RoLGR8fGMpJiYoYz1FcnJvcigiVGhlIGtleSBzeXN0ZW0gaGFzIHJlc3RyaWN0ZWQgYWxsICIrKGQmJmM/ImF1ZGlvIGFuZCB2aWRlbyB0cmFja3MuIjpkPyJhdWRpbyB0cmFja3MuIjoidmlkZW8gdHJhY2tzLiIpKSwKYy50eXBlPSJkcm0iLGM9QShjKSxhLmRpc3BhdGNoRXZlbnQoYykpfWZ1bmN0aW9uIFVmKGEpe3ZhciBiPXkoe3R5cGU6InRyYWNrc2NoYW5nZWQiLGJ1YmJsZXM6ITB9KTthLmRpc3BhdGNoRXZlbnQoYil9ZnVuY3Rpb24gbWYoYSxiLGMsZCxlLGYsZyl7Zz0hIWc7aWYoIWEuZi5hLmhhc093blByb3BlcnR5KGIpfHwhYS5jW2JdKXJldHVybiExO2Zvcih2YXIgaD1hLmYuZ2V0KGIpLGs9MDtrPGgubGVuZ3RoOysraylmb3IodmFyIGw9aFtrXSxtPTA7bTxsLnYubGVuZ3RoOysrbSl7dmFyIHA9bC52W21dO2lmKHAuWD09Yyl7aWYoIXAub2F8fCFwLmZhKXJldHVybiExO2lmKCJ0ZXh0IiE9YiYmIWEuQ2EpcmV0dXJuIGM9YS5CW2JdLGEuQltiXT17TGM6cCxyYzpudWxsIT1jJiZjLnJjfHxkLHNjOm51bGwhPWMmJmMuc2N8fGUsc3dpdGNoUmVhc29uOmYsS2E6Z30sITA7YS5jW2JdLmpiKHAsZCxlLGYsZyk7cmV0dXJuITB9fXJldHVybiExfQpmdW5jdGlvbiBUZihhLGIpe2Zvcih2YXIgYz0wOzI+PWM7KytjKWZvcih2YXIgZD0wO2Q8Yi5sZW5ndGg7KytkKXt2YXIgZT1iW2RdO2lmKFJhKGMsYS5TLGUubGFuZykpe2Iuc3BsaWNlKGQsMSk7Yi5zcGxpY2UoMCwwLGUpO3JldHVybn19Zm9yKGQ9MDtkPGIubGVuZ3RoOysrZClpZihlPWJbZF0sZS5mKXtiLnNwbGljZShkLDEpO2Iuc3BsaWNlKDAsMCxlKTticmVha319bj1ZLnByb3RvdHlwZTtuLmhkPWZ1bmN0aW9uKCl7dGhpcy5oLmFiKHRoaXMuaSwic291cmNlb3BlbiIpO3RoaXMuSWIucmVzb2x2ZSgpfTsKZnVuY3Rpb24gRmYoYSl7dmFyIGI7YS5sJiYoYj1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJzdGFydF9zdHJlYW1zIikuc3RhcnQoKSk7Zm9yKHZhciBjPVtdLGQ9WyJhdWRpbyIsInZpZGVvIiwidGV4dCJdLGU9MDtlPGQubGVuZ3RoOysrZSl7dmFyIGY9ZFtlXTthLmYuYS5oYXNPd25Qcm9wZXJ0eShmKSYmYy5wdXNoKGEuZi5nZXQoZilbMF0pfWZvcih2YXIgZz1WZihhLGMpLGU9MDtlPGQubGVuZ3RoOysrZSlpZihmPWRbZV0sYS5mLmEuaGFzT3duUHJvcGVydHkoZikmJiFnW2ZdKXJldHVybiBhPUVycm9yKCJVbmFibGUgdG8gc2VsZWN0IGFuIGluaXRpYWwgIitmKyIgc3RyZWFtOiBhbGwgIitmKyIgc3RyZWFtcyBoYXZlIGJlZW4gcmVzdHJpY3RlZCAoYnkgdGhlIGFwcGxpY2F0aW9uIG9yIGJ5IHRoZSBrZXkgc3lzdGVtKS4iKSxhLnR5cGU9InN0cmVhbSIsYiYmYi5zZXRFcnJvcihhKS5sb2coKSxQcm9taXNlLnJlamVjdChhKTtjPVdhKGcpLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS5NLmNyZWF0ZSgpfSk7CmMucHVzaChhLkliKTtyZXR1cm4gUHJvbWlzZS5hbGwoYykudGhlbihKKGEsZnVuY3Rpb24oYSl7YS5wb3AoKTtpZighYS5ldmVyeShmdW5jdGlvbihhKXtyZXR1cm4gYS5sZW5ndGgoKX0pKXJldHVybiBhPUVycm9yKCJTb21lIHN0cmVhbXMgYXJlIG5vdCBhdmFpbGFibGUuIiksYS50eXBlPSJzdHJlYW0iLFByb21pc2UucmVqZWN0KGEpO2E9TWYodGhpcyxhKTtpZighYSlyZXR1cm4gYT1FcnJvcigiU29tZSBzdHJlYW1zIGFyZSBub3QgYXZhaWxhYmxlLiIpLGEudHlwZT0ic3RyZWFtIixQcm9taXNlLnJlamVjdChhKTtpZighV2YodGhpcyxnKSlyZXR1cm4gYT1FcnJvcigiRmFpbGVkIHRvIGNyZWF0ZSBTdHJlYW0gb2JqZWN0cy4iKSxhLnR5cGU9InN0cmVhbSIsUHJvbWlzZS5yZWplY3QoYSk7dGhpcy5BLnN0YXJ0KCk7WGYodGhpcyxnLGEpO3JldHVybiBQcm9taXNlLnJlc29sdmUoKX0pKS50aGVuKGZ1bmN0aW9uKCl7YiYmYi5sb2coKX0pLmNhdGNoKEooYSxmdW5jdGlvbihhKXtpZigiYWJvcnRlZCI9PQphLnR5cGUpYiYmYi5zZXRFcnJvcihhKS5sb2coKTtlbHNle09iamVjdC5rZXlzKHRoaXMuYyk7aWYodGhpcy5iLmIpcmV0dXJuIHlhKCk8dGhpcy5iLmo/KGE9TWF0aC5tYXgodGhpcy5iLmotRGF0ZS5ub3coKS8xRTMsdGhpcy5LYiksdGhpcy51PXNldFRpbWVvdXQodGhpcy5KYi5iaW5kKHRoaXMsITApLDFFMyphKSk6S2YodGhpcywwKSxiJiZiLmxvZygpLFByb21pc2UucmVzb2x2ZSgpO2ImJmIuc2V0RXJyb3IoYSkubG9nKCk7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfX0pKX0KZnVuY3Rpb24gVmYoYSxiKXtmb3IodmFyIGM9e30sZD0wO2Q8Yi5sZW5ndGg7KytkKXt2YXIgZT1iW2RdLGY9bnVsbDtpZigidmlkZW8iPT1lLmNvbnRlbnRUeXBlKXt2YXIgZz1hLkEuZ2V0SW5pdGlhbFZpZGVvVHJhY2tJZCgpO2lmKG51bGw9PWcpY29udGludWU7Zj1lLnYuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiBhLlg9PWd9KTtpZigwPT1mLmxlbmd0aCljb250aW51ZTtmPWZbMF19ZWxzZSBpZigiYXVkaW8iPT1lLmNvbnRlbnRUeXBlKWlmKGc9YS5BLmdldEluaXRpYWxBdWRpb1RyYWNrSWQoKSxmPWUudi5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIGEuWD09Z30pLDA9PWYubGVuZ3RoKXtmPWUudi5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIGEub2EmJmEuZmF9KTtpZigwPT1mLmxlbmd0aCljb250aW51ZTtmPWUudltNYXRoLmZsb29yKGYubGVuZ3RoLzIpXX1lbHNlIGY9ZlswXTtlbHNlIDA8ZS52Lmxlbmd0aCYmKGY9ZS52WzBdKTtjW2UuY29udGVudFR5cGVdPWZ9cmV0dXJuIGN9CmZ1bmN0aW9uIFdmKGEsYil7dmFyIGM9e30sZDtmb3IoZCBpbiBiKXt2YXIgZT1iW2RdLGU9InRleHQiPT1kP25ldyB0ZShhLGEudmlkZW8pOllmKGEsZSk7aWYoIWUpcmV0dXJuIFdhKGMpLmZvckVhY2goZnVuY3Rpb24oYSl7YS5kZXN0cm95KCl9KSwhMTtjW2RdPWV9YS5QYihhLm5jKTthLmM9YztyZXR1cm4hMH0KZnVuY3Rpb24gWWYoYSxiKXt2YXIgYz1OZChiKSxkPVpmKGMuc3BsaXQoIjsiKVswXSksZT1udWxsLGY9YS5hLmdldEJvb2woInVzZV9sb2NhbF9lc3RpbWF0b3JfZm9yX2Ficl9zYW1wbGluZyIsITApP2Eua2I6YS53YSxnPW51bGwsaD1udWxsLGs9YS5iLmZ8fGEuYi5BLGs9YS5hLmdldEJvb2woInNraXBfc2VnbWVudF9yZXF1ZXN0X21hbmFnZXIiLCExKSYmazthLldiJiZjYW5Vc2VGZXRjaFN0cmVhbSgpPyhoPW5ldyBNdWx0aXBsZVNlZ21lbnRzUHJvdmlkZXIoYS5hLmdldE51bWJlcigic3RyZWFtaW5nX3NlZ21lbnRfc2l6ZSIsNCkpLGc9JGYoYSxoLGQsZikpOmEuVmImJiFrJiYoZT1hZyhhLGQsZikpO3ZhciBrPW51bGwsbD1hLmYuZ2V0KGQpOyJ2aWRlbyI9PT1kJiYwPGwubGVuZ3RoJiYoaz1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz1udWxsLGQ9bnVsbCxlPTA7ZTxsWzBdLnYubGVuZ3RoO2UrKylsWzBdLnZbZV0uaWQ9PT1hP2M9bFswXS52W2VdOmxbMF0udltlXS5pZD09PQpiJiYoZD1sWzBdLnZbZV0pO3JldHVybiBudWxsPT09Y3x8bnVsbD09PWQ/MDpjLmJhbmR3aWR0aD5kLmJhbmR3aWR0aD8xOi0xfSk7Yz1uZXcgVShhLGEudmlkZW8sYS5hLGEuaSxjLGYsYS5wYyxhLmRhLGssYS5HLGUsZyxoLGEuaWEpO2MucGEoYS5nKTtyZXR1cm4gY30KZnVuY3Rpb24gJGYoYSxiLGMsZCl7dmFyIGU9YS53W2NdLGY9ImF1ZGlvIiE9PWN8fGEuYS5nZXRCb29sKCJlbmFibGVfYXVkaW9fc3RyZWFtaW5nIiwhMSk7aWYoIWUmJmYpe3ZhciBlPW5ldyBWaWRlb1N0cmVhbWluZ01hbmFnZXIoYS5hLGIsYyxhLmwsYS5VKSxnPSJ2aWRlbyI9PT1jO2cmJmUuYWRkTGlzdGVuZXIoImJhbmR3aWR0aFVwZGF0ZSIsZnVuY3Rpb24oYSl7ZC5zYW1wbGUoYS50aW1lVGFrZW4sYS5ieXRlc1JlYWQsZyx7dGltZVRvTGFzdEJ5dGU6YS50aW1lVGFrZW59LHRoaXMuQWIsdGhpcy5sLCF0aGlzLmEuZ2V0Qm9vbCgiZXZhbHVhdGVfYWJyX29uX3N0cmVhbV9iYW5kd2lkdGhfc2FtcGxlIiwhMCkpfS5iaW5kKGEpKX1lJiYoYS53W2NdPWUpO3JldHVybiBlfHxudWxsfQpmdW5jdGlvbiBhZyhhLGIsYyl7aWYoInZpZGVvIj09PWJ8fCJhdWRpbyI9PT1iJiZhLmEuZ2V0Qm9vbCgiZW5hYmxlX3JlcXVlc3RfcGlwZWxpbmluZ19mb3Jfdm9kX2F1ZGlvcyIsITEpKXt2YXIgZD1hLm9bYl07ZHx8KGQ9bmV3IFNlZ21lbnRSZXF1ZXN0TWFuYWdlcihhLmEsYixhLlAoKT9WaWRlb1ByaW9yaXR5Q2FsY3VsYXRvci5jYWxjdWxhdGVMaXZlOlZpZGVvUHJpb3JpdHlDYWxjdWxhdG9yLmNhbGN1bGF0ZSxhLmwsYyxhLkFiLGEuZGEsYS5pYSksYS5SJiZkLnVwZGF0ZVByaW9yaXR5V2l0aE5ld0FkanVzdG1lbnQoYS5SLmdldFByaW9yaXR5QWRqdXN0bWVudCgpKSxhLm9bYl09ZCk7cmV0dXJuIGR9cmV0dXJuIG51bGx9ZnVuY3Rpb24gYmcoYSxiKXthLnZpZGVvLmN1cnJlbnRUaW1lPWI7YS5hLmdldEJvb2woInNldF9wZW5kaW5nX3NlZWtfb25fc2V0X2N1cnJlbnRfdGltZV9mYWlsdXJlIiwhMSkmJmEudmlkZW8uY3VycmVudFRpbWUrMTxiJiZjZyhhLGIpO2EuRD1ifQpmdW5jdGlvbiBYZihhLGIsYyl7YS5rYz1hLnZpZGVvLnBsYXliYWNrUmF0ZTthLnZpZGVvLnBsYXliYWNrUmF0ZT0wO2RnKGEsYyk7dmFyIGQ7ZD1hLmIuZjsoIWEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9hZGp1c3Rfc3RyZWFtX2xpbWl0c19zdGFydF9vZmZzZXRfaW50IiwwKSYmIWEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9qdW1wX3RvX2xpdmVfc2lkeF9lbmRfb2Zmc2V0IiwwKXx8IWQpJiZhLmxhJiZhLmxhPD1jLmVuZCYmYS5sYT49Yy5zdGFydD9kPWEubGE6YS5iLmI/KGQ9ZWcoYSxjKSxhLmVjPSEwKTpkPWMuc3RhcnQ7RShhLmgsYS52aWRlbywic2Vla2luZyIsYS5tZC5iaW5kKGEpKTthLkk/KGEuSS5zZXRPblBsYXlpbmcoYS5tYi5iaW5kKGEsITApKSxhLkkuc2V0T25QYXVzZWQoYS5tYi5iaW5kKGEsITEpKSxhLkkuZW5hYmxlKCkpOihFKGEuaCxhLnZpZGVvLCJwbGF5aW5nIixhLm1iLmJpbmQoYSwhMCkpLGEuYS5nZXRCb29sKCJ1cGRhdGVfcHJpb3JpdHlfb25fcGxheV9ldmVudCIsCiEwKSYmRShhLmgsYS52aWRlbywicGxheSIsYS5tYi5iaW5kKGEsITApKSxFKGEuaCxhLnZpZGVvLCJwYXVzZSIsYS5tYi5iaW5kKGEsITEpKSk7RShhLmgsYS52aWRlbywic2Vla2luZyIsYS5NYy5iaW5kKGEpKTtFKGEuaCxhLnZpZGVvLCJ0aW1ldXBkYXRlIix0aHJvdHRsZShhLk1jLmJpbmQoYSksYS5hLmdldE51bWJlcigic2NoZWR1bGVyX3ByaW9yaXR5X3VwZGF0ZV9pbnRlcnZhbCIsMUUzKSkpO2lmKGEudmlkZW8uY3VycmVudFRpbWUhPWQpaWYoYS5TYikwIT09YS52aWRlby5yZWFkeVN0YXRlP2JnKGEsZCk6Y2coYSxkKTtlbHNlIHRyeXtiZyhhLGQpfWNhdGNoKGUpe2NnKGEsZCl9ZmcoYSxjLnN0YXJ0LGMuZW5kLGMubGFzdCxjLlphKTt2YXIgZj1bXSxnO2ZvcihnIGluIGEuYyl7Yz1hLmNbZ107SihhLGZ1bmN0aW9uKGEpe2YucHVzaChhLktjKHRoaXMuc2EpLnRoZW4oSih0aGlzLGZ1bmN0aW9uKGIpe3ZhciBjPWEuc2IoKTtjPnRoaXMuQmImJih0aGlzLkJiPWMpO3JldHVybiBifSkpKX0pKGMpOwpFKGEuaCxjLCJlbmRlZCIsYS5vZC5iaW5kKGEpKTtFKGEuaCxjLCJzaG91bGRfZW5kX2FsbF9zdHJlYW1zIixhLnBkLmJpbmQoYSkpO0UoYS5oLGMsInNob3VsZF9udWRnZSIsYS5qZC5iaW5kKGEpKTtkPWJbZ107dmFyIGg9YS5BLmdldEluaXRpYWxTd2l0Y2hSZWFzb24oKXx8dm9pZCAwO2MuamIoZCwhMSx2b2lkIDAsaCl9UHJvbWlzZS5hbGwoZikudGhlbihKKGEsZnVuY3Rpb24oYSl7dGhpcy5hLmdldEJvb2woInByZXZlbnRfc3RyZWFtX3N0YXJ0X2lmX3N0cmVhbXNfY2hhbmdlIiwhMSkmJiFnZyh0aGlzKXx8aGcodGhpcyxhKX0pKS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7ImRlc3Ryb3kiIT1hLnR5cGUmJihhPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGEpKX0pKTtuZihhLGEueWEpfQpuLm1iPWZ1bmN0aW9uKGEpe09iamVjdC5rZXlzKHRoaXMubykuZm9yRWFjaChmdW5jdGlvbihiKXt0aGlzLm9bYl0udXBkYXRlUHJpb3JpdHlXaXRoTmV3UGxheWluZ1N0YXRlKGEpfS5iaW5kKHRoaXMpKTtPYmplY3Qua2V5cyh0aGlzLncpLmZvckVhY2goZnVuY3Rpb24oYil7dGhpcy53W2JdLmdldFByaW9yaXR5VXBkYXRlcigpLnVwZGF0ZVByaW9yaXR5V2l0aE5ld1BsYXlpbmdTdGF0ZShhKX0uYmluZCh0aGlzKSk7aWYodGhpcy5sKXt2YXIgYj1NZih0aGlzLEhmKHRoaXMpKTtiJiZ0aGlzLnZpZGVvLmN1cnJlbnRUaW1lPGIuc3RhcnQmJkJhbnphaU9EUy5idW1wRW50aXR5S2V5KDI5NjYsInZpZGVvcy53d3cuc2hha2EiLCJjdXJyZW50X3RpbWVfYXRfcGxheWluZ19sZXNzX3RoYW5fc3RyZWFtX2xpbWl0c19zdGFydCIpfWEmJm51bGwhPT10aGlzLmNhJiYodGhpcy54YT0xLFJmKHRoaXMsdGhpcy54YSksaWcodGhpcykpfTsKbi5NYz1mdW5jdGlvbigpe3RoaXMudmlkZW8mJihPYmplY3Qua2V5cyh0aGlzLm8pLmZvckVhY2goZnVuY3Rpb24oYSl7dGhpcy5vW2FdLnVwZGF0ZVByaW9yaXR5V2l0aE5ld1BsYXloZWFkKHRoaXMudmlkZW8uY3VycmVudFRpbWUpfS5iaW5kKHRoaXMpKSxPYmplY3Qua2V5cyh0aGlzLncpLmZvckVhY2goZnVuY3Rpb24oYSl7dGhpcy53W2FdLmdldFByaW9yaXR5VXBkYXRlcigpLnVwZGF0ZVByaW9yaXR5V2l0aE5ld1BsYXloZWFkKHRoaXMudmlkZW8uY3VycmVudFRpbWUpfS5iaW5kKHRoaXMpKSl9O2Z1bmN0aW9uIFFmKGEpe2lmKGEuYS5nZXRCb29sKCJjbGVhcl9jdXJyZW50X3NlZ21lbnRfaW5kZXhlc19kdXJpbmdfbGl2ZWhlYWRfY2F0Y2h1cCIsITEpKWZvcih2YXIgYiBpbiBhLmMpYS5jW2JdLmk9bnVsbH1mdW5jdGlvbiBjZyhhLGIpe2EuYmE9Yjtmb3IodmFyIGMgaW4gYS5jKXt2YXIgZD1hLmNbY107YS5iYSYmKGQuSj1hLmJhKX19CmZ1bmN0aW9uIGdnKGEpe3JldHVybiFPYmplY3Qua2V5cyhhLmMpLnNvbWUoSihhLGZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNbYV0mJiF0aGlzLmNbYV0uaH0pKX0KZnVuY3Rpb24gaGcoYSxiKXtiYShiJiZiLmxlbmd0aD09T2JqZWN0LmtleXMoYS5jKS5sZW5ndGgpO2Zvcih2YXIgYz1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksZD1OdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFksZT0wO2U8Yi5sZW5ndGg7KytlKXZhciBmPWJbZV0sYz1NYXRoLm1pbihjLGYpLGQ9TWF0aC5tYXgoZCxmKTtjPUhmKGEpO2ZvcihlPTA7ZTxjLmxlbmd0aDsrK2UpY1tlXS5UYShkKTthLmEuZ2V0Qm9vbCgicHJvY2Vzc19kZWZlcnJlZF9zd2l0Y2hlc19lYXJseSIsITEpJiZqZyhhKTtrZyhhLGMsZCk7dmFyIGc9V2EoYS5jKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuV2EoKS5pZH0pO2EuYS5nZXRCb29sKCJzZXF1ZW50aWFsbHlfbG9hZF9zdHJlYW1zIiwhMSk/bGcoYSxnLGQpOihlPSRhKGEuZikubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLnZ9KS5yZWR1Y2UoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5jb25jYXQoYil9LFtdKS5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIX5nLmluZGV4T2YoYS5pZCl9KS5tYXAoSihhLApmdW5jdGlvbihhKXt2YXIgYj1bYS5NLnBiP2EuTS5wYigpOmEuTS5jcmVhdGUoKV07YS5hYSYmYi5wdXNoKGEuYWEuY3JlYXRlKHRoaXMubCx0aGlzLmRhKSk7cmV0dXJuIFByb21pc2UuYWxsKGIpfSkpLFByb21pc2UuYWxsKGUpLnRoZW4oSihhLGZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7KytiKWFbYl1bMF0uVGEoZCk7dGhpcy5DYT0hMDtqZyh0aGlzKX0pKS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7ImFib3J0ZWQiIT1hLnR5cGUmJihhPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGEpKX0pKSl9CmZ1bmN0aW9uIGxnKGEsYixjKXt2YXIgZD1Qcm9taXNlLnJlc29sdmUoKTskYShhLmYpLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS52fSkucmVkdWNlKGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuY29uY2F0KGIpfSxbXSkuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiF+Yi5pbmRleE9mKGEuaWQpfSkuZm9yRWFjaChmdW5jdGlvbihhKXtkPWQudGhlbihKKHRoaXMsZnVuY3Rpb24oYil7YiYmYlswXS5UYShjKTtiPVthLk0ucGI/YS5NLnBiKCk6YS5NLmNyZWF0ZSgpXTthLmFhJiZiLnB1c2goYS5hYS5jcmVhdGUodGhpcy5sLHRoaXMuZGEpKTtyZXR1cm4gUHJvbWlzZS5hbGwoYil9KSkuY2F0Y2goZnVuY3Rpb24oYSl7dGhyb3cgYTt9KX0pO2QudGhlbihKKGEsZnVuY3Rpb24oKXt0aGlzLkNhPSEwO2pnKHRoaXMpfSkpLmNhdGNoKEooYSxmdW5jdGlvbihhKXsiYWJvcnRlZCIhPWEudHlwZSYmKGE9QShhKSx0aGlzLmRpc3BhdGNoRXZlbnQoYSkpfSkpfQpmdW5jdGlvbiBqZyhhKXtmb3IodmFyIGIgaW4gYS5CKXt2YXIgYz1hLkJbYl07YS5jW2JdLmpiKGMuTGMsYy5yYyxjLnNjLGMuc3dpdGNoUmVhc29uLGMuS2EpfWEuQj17fX0KZnVuY3Rpb24ga2coYSxiLGMpe3ZhciBkO2EuYS5nZXRCb29sKCJ3d3dfdmlkZW9zX2V4dGVuZGVkX3NwbF9sb2dnaW5nX2Zvcl9jb25uZWN0ZWRfdHYiLCExKSYmYS5sJiYoZD1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJzdHJlYW1fdmlkZW9fc291cmNlX2JlZ2luX3BsYXliYWNrIikpO2lmKGI9TWYoYSxiKSlkZyhhLGIpLGZnKGEsYi5zdGFydCxiLmVuZCxiLmxhc3QsYi5aYSk7MCE9Yz8oYz1hLnZpZGVvLmN1cnJlbnRUaW1lK2MsYS5hLmdldE51bWJlcigid3d3X3ZpZGVvc19udWRnZV90aW1lc3RhbXBfY29ycmVjdGlvbl9zIiwwKSYmKGMrPWEuYS5nZXROdW1iZXIoInd3d192aWRlb3NfbnVkZ2VfdGltZXN0YW1wX2NvcnJlY3Rpb25fcyIsMCkpLGEudmlkZW8uY3VycmVudFRpbWU9YyxhLkQ9Yyk6YS5lYyYmYiYmKGM9ZWcoYSxiKSxNYXRoLmFicyhjLWEudmlkZW8uY3VycmVudFRpbWUpPj1hLmRjJiYoYS52aWRlby5jdXJyZW50VGltZT1jKSk7YS5hLmdldEJvb2woInVuaWZ5X3N0cmVhbV9zdGFydF93aXRoX2J1ZmZlcl9kZXRlY3RvciIsCiExKT8oYz15KHt0eXBlOiJhbGxTdHJlYW1zU3RhcnRlZCIsYnViYmxlczohMH0pLGEuZGlzcGF0Y2hFdmVudChjKSk6YS52aWRlby5wbGF5YmFja1JhdGU9YS5rYzthLmIuYiYmbnVsbCE9YS5iLmMmJktmKGEsMCk7bWcoYSk7YS5zYS5yZXNvbHZlKCk7ZCYmZC5sb2coKX0KZnVuY3Rpb24gZWcoYSxiKXt2YXIgYz1iLmVuZDt2b2lkIDAhPT1iLkJjJiYoYz1iLkJjKTtpZihhLmEuZ2V0Qm9vbCgidGVtcGxhdGVkX2Fsd2F5c19qdW1wX3RvX3N0cmVhbV9saW1pdHNfZW5kIiwhMSkmJmEuYiYmYS5iLmYpcmV0dXJuIGIuZW5kO2lmKGEuY2Mpe3ZhciBkPWEudmlkZW8uY3VycmVudFRpbWUsZT1iLnN0YXJ0O2lmKGEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9hZGp1c3Rfc3RyZWFtX2xpbWl0c19zdGFydF9vZmZzZXRfaW50IiwwKSYmYS5iJiZhLmIuZil7Zm9yKHZhciBmPUhmKGEpLGc9MCxoPTA7aDxmLmxlbmd0aDsrK2gpe3ZhciBrPWZbaF0sbD1NYXRoLm1pbihhLmEuZ2V0TnVtYmVyKCJ0ZW1wbGF0ZWRfYWRqdXN0X3N0cmVhbV9saW1pdHNfc3RhcnRfb2Zmc2V0X2ludCIsMCksay5sZW5ndGgoKSk7ay5sZW5ndGgoKSYmMDxsJiZsPD1rLmxlbmd0aCgpJiYoZz1NYXRoLm1heChrLmdldChrLmxlbmd0aCgpLWwpLnN0YXJ0VGltZSxnKSl9ZT1NYXRoLm1heChlLApnKX1pZihkPj1lJiZkPD1iLmVuZCYmZDxjKWlmKGEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9qdW1wX3RvX2xpdmVfc2lkeF9lbmRfb2Zmc2V0IiwwKSYmYS5iJiZhLmIuZil7Zj1IZihhKTtrPW51bGw7ZT1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7Zm9yKGg9MDtoPGYubGVuZ3RoOysraClmW2hdLmxlbmd0aCgpPGUmJihlPWZbaF0ubGVuZ3RoKCksaz1mW2hdKTtrJiZlPmEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9qdW1wX3RvX2xpdmVfc2lkeF9lbmRfb2Zmc2V0IiwwKSYmKGY9ay5nZXQoay5sZW5ndGgoKS1hLmEuZ2V0TnVtYmVyKCJ0ZW1wbGF0ZWRfanVtcF90b19saXZlX3NpZHhfZW5kX29mZnNldCIsMCkpLnN0YXJ0VGltZSxkPj1mJiYoYz1kKSl9ZWxzZSBjPWR9cmV0dXJuIGN9CmZ1bmN0aW9uIGRnKGEsYil7aWYoYS5iLmIpaXNOYU4oYS5pLmR1cmF0aW9uKSYmKGEuaS5kdXJhdGlvbj1iLmVuZCsyNTkyRTMpO2Vsc2UgaWYoaXNOYU4oYS5pLmR1cmF0aW9uKXx8Yi5lbmQ+YS5pLmR1cmF0aW9uKWlmKGEuaS5kdXJhdGlvbj1iLmVuZCwhYS5hLmdldEJvb2woImRpc2FibGVfYXBwZW5kX3dpbmRvd19lbmQiLCExKSlmb3IodmFyIGM9YS5hLmdldE51bWJlcigiYXBwZW5kX3dpbmRvd19lbmRfZnVkZ2VfZmFjdG9yIiwwKSxkPTA7ZDxhLmkuc291cmNlQnVmZmVycy5sZW5ndGg7KytkKWEuaS5zb3VyY2VCdWZmZXJzW2RdLmFwcGVuZFdpbmRvd0VuZD1iLmVuZCtjfQpuLnJkPWZ1bmN0aW9uKCl7dGhpcy5rYT1udWxsO21nKHRoaXMpO3ZhciBhPU1mKHRoaXMsSGYodGhpcykpO2lmKGEpe3ZhciBiPXRoaXMuYi5iO3RoaXMuYS5nZXRCb29sKCJ0cmVhdF9saXZlX3N0YXRpY19tYW5pZmVzdF9hc19keW5hbWljIiwhMSkmJihiPWJ8fHRoaXMuYi5oKTtiJiZ0aGlzLmphIT1hLmxhc3QmJih0aGlzLmphPWEubGFzdCxudWxsIT10aGlzLmomJihjbGVhclRpbWVvdXQodGhpcy5qKSx0aGlzLmo9bnVsbCkpO2ZnKHRoaXMsYS5zdGFydCxhLmVuZCxhLmxhc3QsYS5aYSk7dGhpcy52aWRlby5wYXVzZWR8fG5nKHRoaXMsdGhpcy52aWRlby5jdXJyZW50VGltZSxhLnN0YXJ0LGEuZW5kKX19O2Z1bmN0aW9uIGZnKGEsYixjLGQsZSl7Yj15KHt0eXBlOiJzZWVrcmFuZ2VjaGFuZ2VkIixidWJibGVzOiEwLHN0YXJ0OmIsZW5kOmMsbGFzdDpkLHNlZWtSYW5nZUdhcHM6ZX0pO2EuZGlzcGF0Y2hFdmVudChiKX0Kbi5tZD1mdW5jdGlvbigpe3ZhciBhPXRoaXMudmlkZW8uY3VycmVudFRpbWUsYj1NZih0aGlzLEhmKHRoaXMpKTt0aGlzLmwmJmImJmE8Yi5zdGFydCYmQmFuemFpT0RTLmJ1bXBFbnRpdHlLZXkoMjk2NiwidmlkZW9zLnd3dy5zaGFrYSIsImN1cnJlbnRfdGltZV9hdF9zZWVrX2xlc3NfdGhhbl9zdHJlYW1fbGltaXRzX3N0YXJ0Iik7aWYobnVsbCE9dGhpcy5EKXtpZihhPj10aGlzLkQtLjAxJiZhPD10aGlzLkQrLjAxKXt0aGlzLkQ9bnVsbDt0aGlzLmwmJmImJmE8Yi5zdGFydCYmQmFuemFpT0RTLmJ1bXBFbnRpdHlLZXkoMjk2NiwidmlkZW9zLnd3dy5zaGFrYSIsImlnbm9yZWRfc2Vla193aGVuX2N1cnJlbnRfdGltZV9hdF9zZWVrX2xlc3NfdGhhbl9zdHJlYW1fbGltaXRzX3N0YXJ0Iik7cmV0dXJufXRoaXMuRD1udWxsfWlmKGIpe3ZhciBjPWIuc3RhcnQsZD1iLmVuZDt0aGlzLmEuZ2V0Qm9vbCgic2tpcF9yZW1haW5pbmdfYnVmZmVyZWRfb25fc3RyZWFtX2VuZCIsITEpJiZ0aGlzLmIuYiYmCnRoaXMuYi5oJiZ0aGlzLnZpZGVvLnBhdXNlZCYmKGQ9dGhpcy5qYSk7KGM9bmcodGhpcyxhLGMsZCkpfHwoYTw9ZCsuMDF8fHRoaXMuYi5iJiYhb2codGhpcyxkKT9jPSExOih0aGlzLnZpZGVvLmN1cnJlbnRUaW1lPWQsYz0hMCkpO2lmKGMpdGhpcy5sJiZhPGIuc3RhcnQmJkJhbnphaU9EUy5idW1wRW50aXR5S2V5KDI5NjYsInZpZGVvcy53d3cuc2hha2EiLCJjbGFtcF9wbGF5aGVhZF93aGVuX2N1cnJlbnRfdGltZV9hdF9zZWVrX2xlc3NfdGhhbl9zdHJlYW1fbGltaXRzX3N0YXJ0Iik7ZWxzZXtmb3IodmFyIGUgaW4gdGhpcy5jKXRoaXMuY1tlXS5DYyh0aGlzLkVhKTt0aGlzLkVhPSExfX19O2Z1bmN0aW9uIG5nKGEsYixjLGQpe2lmKGI+PWMtLjAxKXJldHVybiExO2I9MDthLmIuYiYmKGI9LjUsb2coYSxjK2IpfHwoYj1hLmIuZykpO2EudmlkZW8uY3VycmVudFRpbWU9TWF0aC5taW4oYytiLGQpO3JldHVybiEwfQpmdW5jdGlvbiBvZyhhLGIpe2Zvcih2YXIgYyBpbiBhLmMpaWYoIWEuY1tjXS5JYyhiKSlyZXR1cm4hMTtyZXR1cm4hMH1uLm9kPWZ1bmN0aW9uKCl7aWYoIXRoaXMuYi5ifHx0aGlzLkZhKXtmb3IodmFyIGEgaW4gdGhpcy5jKWlmKCF0aGlzLmNbYV0uZmIoKSlyZXR1cm47dGhpcy5lYigpfX07bi5wZD1mdW5jdGlvbigpe2NsZWFyVGltZW91dCh0aGlzLnUpO3RoaXMuRmE9ITA7Zm9yKHZhciBhIGluIHRoaXMuYyl0aGlzLmNbYV0uZmIoKXx8dGhpcy5jW2FdLkNiKCl9O24uamQ9ZnVuY3Rpb24oKXt0aGlzLmEuZ2V0Qm9vbCgiaWdub3JlX3NlZWtfd2hlbl9udWRnaW5nIiwhMCkmJih0aGlzLkQ9dGhpcy52aWRlby5jdXJyZW50VGltZSk7dGhpcy52aWRlby5jdXJyZW50VGltZSs9LjAwMX07Cm4udGI9ZnVuY3Rpb24oKXtpZih0aGlzLmFjKCl8fHRoaXMuYmMoKSlyZXR1cm4hMDt2YXIgYT10aGlzLmIsYj1udWxsLGM9bnVsbDthJiZhLmEmJmEuYVswXSYmKGI9YS5hWzBdKTtiJiZiLmEmJmIuYVswXSYmKGM9Yi5hWzBdKTtyZXR1cm4hIWMmJmMuYn07WS5wcm90b3R5cGUuaGFzSW5saW5lZENlYTYwOFN1YnRpdGxlcz1ZLnByb3RvdHlwZS50YjtZLnByb3RvdHlwZS5QYj1mdW5jdGlvbihhKXt0aGlzLm5jPWE7dmFyIGI9dGhpcy5jOyJ2aWRlbyJpbiBiJiYoYT1hJiZ0aGlzLnRiKCksYi52aWRlby5jLlM9YSl9O1kucHJvdG90eXBlLnNldEVuYWJsZUNlYTYwOFBhcnNpbmc9WS5wcm90b3R5cGUuUGI7CmZ1bmN0aW9uIHNmKGEpe3ZhciBiPWEuYS5nZXROdW1iZXIoImxpdmVfYnVmZmVyaW5nX3VuZGVyZmxvd190aHJlc2hvbGQiLC41KSxjPWEuYS5nZXRCb29sKCJmaXhfbGl2ZV9zdHJlYW1fZ29uZV9vbl9tYW5pZmVzdF91cGRhdGUiLCEwKSYmYS5oYyxkPSExO2lmKGEuYi5oKXt2YXIgZD1hLmEuZ2V0TnVtYmVyKCJsaXZlX3N0cmVhbV9lbmRfc2xhY2siLDApLGU7Zm9yKGUgaW4gYS5jKWEuY1tlXS5mYigpfHwoZD0wKTtkPWEudmlkZW8uY3VycmVudFRpbWUrYitkPmEuamF9cmV0dXJuIGN8fGR9bj1ZLnByb3RvdHlwZTsKbi5jZD1mdW5jdGlvbigpe3RoaXMuJD0hMDtpZih0aGlzLmImJnRoaXMuYi5iKXtpZihzZih0aGlzKSlyZXR1cm4gdGhpcy5lYigpO3RoaXMuYS5nZXRCb29sKCJhbGxvd19pbmZpbml0ZV9yZXRyeV9vbl9uZXRfZXJyIiwhMCkmJnRoaXMuRy5pc05ldHdvcmtJbnRlcnJ1cHRlZCgpfHwhV2EodGhpcy5jKS5ldmVyeShmdW5jdGlvbihhKXtyZXR1cm4gYS5mYigpfSl8fHBnKHRoaXMsdGhpcy5nYil9dGhpcy5hLmdldEJvb2woImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvdyIsITEpJiYobnVsbD09PXRoaXMuS3x8RGF0ZS5ub3coKS10aGlzLmZjPnRoaXMuYS5nZXROdW1iZXIoImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvd190aW1lX3dpbmRvdyIsMkUzKT90aGlzLks9dGhpcy5hLmdldE51bWJlcigiYnVmZmVyaW5nX292ZXJmbG93X3RocmVzaG9sZCIsMCk6dGhpcy5LKj10aGlzLmEuZ2V0TnVtYmVyKCJiYWNrX29mZl9idWZmZXJpbmdfb3ZlcmZsb3dfdGltZV9mYWN0b3IiLDIpLAp0aGlzLks9TWF0aC5taW4odGhpcy5LLHRoaXMuYS5nZXROdW1iZXIoImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvd19tYXgiLDUpKSl9O2Z1bmN0aW9uIHBnKGEsYil7YS5qPXNldFRpbWVvdXQoYS5lYi5iaW5kKGEpLGIpfW4uYmQ9ZnVuY3Rpb24oKXt0aGlzLiQ9ITE7dGhpcy5hLmdldEJvb2woImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvdyIsITEpJiYodGhpcy5mYz1EYXRlLm5vdygpKTtudWxsIT10aGlzLmomJihjbGVhclRpbWVvdXQodGhpcy5qKSx0aGlzLmo9bnVsbCl9O24uZ2Q9ZnVuY3Rpb24oKXtudWxsIT09dGhpcy5iYSYmKGJnKHRoaXMsdGhpcy5iYSksY2codGhpcyxudWxsKSl9O24uR2Q9ZnVuY3Rpb24oKXt9OwpuLmViPWZ1bmN0aW9uKCl7dGhpcy4kPSExO3RoaXMuaj1udWxsO3ZhciBhO2lmKGE9dGhpcy5hLmdldEJvb2woInRlc3Rfc291cmNlX2J1ZmZlcnNfbm90X3VwZGF0aW5nX2VuZF9vZl9zdHJlYW0iLCExKSlhOntmb3IoYT0wO2E8dGhpcy5pLnNvdXJjZUJ1ZmZlcnMubGVuZ3RoOysrYSlpZih0aGlzLmkuc291cmNlQnVmZmVyc1thXS51cGRhdGluZyl7YT0hMDticmVhayBhfWE9ITF9aWYoYSlyZXR1cm4gcGcodGhpcywxRTMpOyJvcGVuIj09dGhpcy5pLnJlYWR5U3RhdGUmJnRoaXMuaS5lbmRPZlN0cmVhbSgpfTtmdW5jdGlvbiBIZihhKXtyZXR1cm4gV2EoYS5jKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuRmIoKX0pLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YX0pfWZ1bmN0aW9uIExmKGEpe3JldHVybiBNYXRoLm1heChhLmI/YS5iLmc6MSxhLlpiP2EuZy5zdHJlYW1CdWZmZXJTaXplfHwwOjApfQpmdW5jdGlvbiBNZihhLGIpe2Zvcih2YXIgYz0wLGQ9TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLGU9TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLGY9W10sZz0hVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJub19zZWVrX3JhbmdlX2dhcHNfZHVyaW5nX2NvbXB1dGVfc3RyZWFtX2xpbWl0cyIsITEpLGg9MDtoPGIubGVuZ3RoOysraCl7dmFyIGs9YltoXS5BKCk7ZyYmKGY9Zi5jb25jYXQoYltoXS5nZXRTZWVrUmFuZ2VHYXBzKCkpKTtjPU1hdGgubWF4KGMsay5zdGFydCk7bnVsbCE9ay5lbmQmJihkPU1hdGgubWluKGQsay5lbmQpKTtiW2hdLmxlbmd0aCgpJiYoZT1NYXRoLm1pbihlLGJbaF0ubGFzdCgpLmVuZFRpbWUpKX1nJiYoZj1tZXJnZVNlZWtSYW5nZUdhcHMoZikpO2lmKGQ9PU51bWJlci5QT1NJVElWRV9JTkZJTklUWSlpZihkPWEuYi5hWzBdLGQuZHVyYXRpb24pZD0oZC5zdGFydHx8MCkrZC5kdXJhdGlvbjtlbHNlIHJldHVybiBudWxsO2lmKGEuYi5iKXt2YXIgZz0KTGYoYSksZD1NYXRoLm1heChkLWcsYyksbDthLnJhJiZhLmEuZ2V0Qm9vbCgibGl2ZV9qdW1wX3RvX3B1c2hlZF9zZWdtZW50IiwhMSkmJmIubGVuZ3RoJiYoaD1NYXRoLmZsb29yKExmKGEpLzEpKzEsZz1iWzBdLGg9Zy5sZW5ndGgoKS1oLChnPWcuZ2V0KGgpKSYmKGw9Zy5zdGFydFRpbWUpKX1pZihjPmQpcmV0dXJuIG51bGw7ZD1NYXRoLmZsb29yKDFFNSpkKS8xRTU7cmV0dXJue3N0YXJ0OmMsZW5kOmQsbGFzdDplLFphOmYsQmM6bH19bi5uYj1mdW5jdGlvbigpe3JldHVybiBNZih0aGlzLEhmKHRoaXMpKX07WS5wcm90b3R5cGUuY29tcHV0ZVN0cmVhbUxpbWl0cz1ZLnByb3RvdHlwZS5uYjtmdW5jdGlvbiBtZyhhKXthLmIuYiYmKGEua2E9c2V0VGltZW91dChhLnJkLmJpbmQoYSksMUUzKSl9ZnVuY3Rpb24gRGYoYSl7Zm9yKHZhciBiIGluIGEuYylhLmNbYl0ucGEoYS5nKX1ZLnByb3RvdHlwZS5zYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLkJifTsKWS5wcm90b3R5cGUuZ2V0TG9uZ2VzdEluaXRSZXNwb25zZVRpbWU9WS5wcm90b3R5cGUuc2I7ZnVuY3Rpb24gWmYoYSl7cmV0dXJuInYiPT09YS5jaGFyQXQoMCk/InZpZGVvIjoiYSI9PT1hLmNoYXJBdCgwKT8iYXVkaW8iOm51bGx9WS5wcm90b3R5cGUuVGM9ZnVuY3Rpb24oKXt2YXIgYT15KHt0eXBlOiJuZXR3b3JraW50ZXJydXB0ZWQiLGJ1YmJsZXM6ITB9KTt0aGlzLmRpc3BhdGNoRXZlbnQoYSk7dGhpcy5UPXRoaXMuVHx8RGF0ZS5ub3coKTt0aGlzLiQmJnRoaXMuaiYmY2xlYXJUaW1lb3V0KHRoaXMuail9OwpZLnByb3RvdHlwZS5VYz1mdW5jdGlvbigpe3ZhciBhPXkoe3R5cGU6Im5ldHdvcmtyZXN1bWVkIixidWJibGVzOiEwfSk7dGhpcy5kaXNwYXRjaEV2ZW50KGEpO2E9dGhpcy5hLmdldE51bWJlcigibWF4X25ldHdvcmtfaW50ZXJydXB0ZWRfdGltZV9iZWZvcmVfc2VlayIsMUU0KTtudWxsIT09dGhpcy5UJiZEYXRlLm5vdygpLXRoaXMuVD49YSYmKHRoaXMuVD1udWxsLHRoaXMuZWE9ITApO3RoaXMuYS5nZXRCb29sKCJmaXhfbmV0d29ya19pbnRlcnJ1cHRlZF9zdGFydF9ub3RfbnVsbGVkIiwhMSkmJih0aGlzLlQ9bnVsbCk7dGhpcy4kJiZwZyh0aGlzLHRoaXMuZ2IpfTtZLnByb3RvdHlwZS5WYz1mdW5jdGlvbigpe3RoaXMuZWE9ITB9O2Z1bmN0aW9uIFBmKGEpe2EuYS5nZXRCb29sKCJkZWNvdXBsZV9tcGRfdXBkYXRlX2xvb3BfZnJvbV9yZXF1ZXN0X2xvb3AiLCExKXx8S2YoYSwwKX1ZLnByb3RvdHlwZS5xYz1mdW5jdGlvbihhKXt0aGlzLm5hPWF9OwpZLnByb3RvdHlwZS5zZXRFbmFibGVMaXZlaGVhZENhdGNodXA9WS5wcm90b3R5cGUucWM7WS5wcm90b3R5cGUuemQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uYX07WS5wcm90b3R5cGUuaXNMaXZlaGVhZENhdGNodXBFbmFibGVkPVkucHJvdG90eXBlLnpkO1kucHJvdG90eXBlLlNjPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYy52aWRlbz90aGlzLmMudmlkZW8uYy5pOm51bGx9O1kucHJvdG90eXBlLmdldFZpZGVvU3RyZWFtUHJvZ3Jlc3NUcmFja2VyPVkucHJvdG90eXBlLlNjO1kucHJvdG90eXBlLnFiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYy52aWRlbz90aGlzLmMudmlkZW8ucWIoKTpudWxsfTtZLnByb3RvdHlwZS5nZXRCdWZmZXJWZWxvY2l0eT1ZLnByb3RvdHlwZS5xYjtmdW5jdGlvbiBSZihhLGIpe2Zvcih2YXIgYyBpbiBhLmMpYS5jW2NdLm5hPWJ9CmZ1bmN0aW9uIGlnKGEpe3ZhciBiPVtdO2lmKG51bGwhPT1hLmNhKXt2YXIgYz1hLmNhLGQ7Zm9yKGQgaW4gYS5jKWIucHVzaChyZShhLmNbZF0sYS5jYSkpO1Byb21pc2UuYWxsKGIpLnRoZW4oSihhLGZ1bmN0aW9uKCl7aWYoYyl7Zm9yKHZhciBhIGluIHRoaXMuYyl7dmFyIGI9dGhpcy5jW2FdO2IuSz1udWxsO2IuVj0hMTtiLkk9bnVsbH1jPnRoaXMudmlkZW8uY3VycmVudFRpbWUmJih0aGlzLnZpZGVvLmN1cnJlbnRUaW1lPWMpfX0pKX1hLmNhPW51bGx9O2Z1bmN0aW9uIFooYSxiLGMsZCxlLGYsZyl7ZHx8KGQ9bmV3IEcpO2V8fChlPW5ldyBYKTtZLmNhbGwodGhpcyxudWxsLGIsZCxlKTsic3RyaW5nIj09PXR5cGVvZiBhP3RoaXMuamM9YTp0aGlzLk5iPWE7dGhpcy5hPWI7dGhpcy5GPW51bGw7dGhpcy50YT1jO3RoaXMuRGE9W107dGhpcy5RYj1bXTt0aGlzLlJiPVtdO3RoaXMuSGE9MDt0aGlzLlk9bnVsbDt0aGlzLk1iPWd8fG51bGx9cihaLFkpO3EoInNoYWthLnBsYXllci5EYXNoVmlkZW9Tb3VyY2UiLFopO1oucHJvdG90eXBlLkpkPWZ1bmN0aW9uKGEpe3RoaXMuRj1hO3RoaXMuSmIoITAsITApfTtaLnByb3RvdHlwZS51cGRhdGVNYW5pZmVzdD1aLnByb3RvdHlwZS5KZDtaLnByb3RvdHlwZS5PYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLk5ifHx0aGlzLkZ9O1oucHJvdG90eXBlLmdldE1hbmlmZXN0PVoucHJvdG90eXBlLk9iO1oucHJvdG90eXBlLlRiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuT2IoKX07CloucHJvdG90eXBlLmRlYnVnR2V0TWFuaWZlc3Q9Wi5wcm90b3R5cGUuVGI7Wi5wcm90b3R5cGUuWmM9ZnVuY3Rpb24oYSxiLGMpe3RoaXMuRGEucHVzaChhKTt0aGlzLlFiLnB1c2goYnx8IiIpO3RoaXMuUmIucHVzaChjfHwiIil9O1oucHJvdG90eXBlLmFkZEV4dGVybmFsQ2FwdGlvbnM9Wi5wcm90b3R5cGUuWmM7Wi5wcm90b3R5cGUudGQ9ZnVuY3Rpb24oYSl7dGhpcy5ZPWF9O1oucHJvdG90eXBlLnNldE5ldHdvcmtDYWxsYmFjaz1aLnByb3RvdHlwZS50ZDtaLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5GPXRoaXMuWT10aGlzLnRhPW51bGw7WS5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpfTsKWi5wcm90b3R5cGUud2I9ZnVuY3Rpb24oKXt2YXIgYTt0aGlzLmwmJihhPXRoaXMubC5nZXRPcGVyYXRpb25Mb2dnZXIoInNvdXJjZV9sb2FkIikuc3RhcnQoKSk7dmFyIGIsYz1KKHRoaXMsZnVuY3Rpb24oYSl7aWYodGhpcy5hLmdldEJvb2woImVuYWJsZV9kb3VibGVfaW5nZXN0X29uX2luaXRpYWxfbXBkIiwhMSkpc3dpdGNoKGEuc3RhdHVzKXtjYXNlIDIwMDpjYXNlIDQxNzppZihhLnJlc3BvbnNlSGVhZGVycyYmbnVsbCE9YS5yZXNwb25zZUhlYWRlcnNbIngtZmItdmlkZW8tcmVwbGljYSJdKXJldHVybiB0aGlzLmRpc3BhdGNoRXZlbnQoeSh7dHlwZToicmVwbGljYXN3aXRjaCIsYnViYmxlczohMCxyZXBsaWNhOmEucmVzcG9uc2VIZWFkZXJzWyJ4LWZiLXZpZGVvLXJlcGxpY2EiXX0pKSxuZXcgUHJvbWlzZShmdW5jdGlvbigpe30pfXRocm93IGE7fSksZD1KKHRoaXMsZnVuY3Rpb24oYyl7dGhpcy5MYSgiTVBERmV0Y2hEdXJhdGlvbiIsKERhdGUubm93KCktYikvMUUzKTt0aGlzLkY9CmM7Zm9yKHZhciBkPTA7ZDx0aGlzLkRhLmxlbmd0aDtkKyspTGMoYyx0aGlzLkRhW2RdLHRoaXMuUWJbZF0sdGhpcy5SYltkXSk7dmFyIGQ9bmV3IHllKHRoaXMuYSx0aGlzLnRhLHRoaXMubCx0aGlzLk1iKSxlO3RoaXMubCYmKGU9dGhpcy5sLmdldE9wZXJhdGlvbkxvZ2dlcigicHJvY2Vzc19tYW5pZmVzdCIpLnN0YXJ0KCkpO3RoaXMuYj16ZShkLGMsdGhpcy5ZKTtlJiZlLmxvZygpO2EmJmEuc2V0TWFuaWZlc3RUeXBlKHRoaXMuYi5iPyJkeW5hbWljIjoic3RhdGljIik7cmV0dXJuIFkucHJvdG90eXBlLndiLmNhbGwodGhpcykudGhlbihmdW5jdGlvbigpe2EmJmEubG9nKCl9KX0pO2lmKHRoaXMuTmIpcmV0dXJuIGI9RGF0ZS5ub3coKSxkKHRoaXMuTmIpO3ZhciBlPVtuZXcgTCh0aGlzLmpjKV0sZjtpZih0aGlzLnJhKXt2YXIgZz1uZXcgVmlkZW9QdXNoUGFyYW1ldGVyc0hlbHBlcih0aGlzLmpjKTtnLnNldFN0cmVhbUVuZE9mZnNldChNYXRoLmZsb29yKExmKHRoaXMpLzEpKTsKdGhpcy5PYSYmZy5zZXRQdXNoVmlkZW9SZXByZXNlbnRhdGlvbklEKHRoaXMuT2EpO3RoaXMucGEmJmcuc2V0UHVzaEF1ZGlvUmVwcmVzZW50YXRpb25JRCh0aGlzLnBhKTt0aGlzLm1hJiZnLnNldFVzZUxvbmdDYWNoZUZvck1hbmlmZXN0KHRoaXMubWEpO2Y9bmV3IGZkKG51bGwpO2YuYT1nfWU9bmV3IEsodGhpcy5ZLGUsdm9pZCAwLHZvaWQgMCx2b2lkIDAsdGhpcy5NYik7Zj1uZXcgZGQoZSx0aGlzLkxiLGYsdGhpcy5kYSk7Yj1EYXRlLm5vdygpO3JldHVybiBlZChmLHRoaXMubCkudGhlbihkLGMpfTsKWi5wcm90b3R5cGUudmM9ZnVuY3Rpb24oKXtpZih0aGlzLlViKXt2YXIgYT10aGlzLmI7aWYoYT0oYT1hJiZhLmEpJiZhWzBdKXt2YXIgYT1hLmEucmVkdWNlKGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuY29uY2F0KGIudil9LFtdKSxiPWZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hfTtQcm9taXNlLmFsbChhLm1hcChmdW5jdGlvbihhKXthPWEuTTtyZXR1cm4gYS5RYz9hLlJhOmEuY3JlYXRlKCl9KSkudGhlbihmdW5jdGlvbihhKXthPWEuZmlsdGVyKGIpO3RoaXMuTGEoIkluaXRpYWxTZWdtZW50SW5kZXhlcyIsYSl9LmJpbmQodGhpcykpO1Byb21pc2UuYWxsKGEubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLmFhfSkpLnRoZW4oZnVuY3Rpb24oYSl7YT1hLmZpbHRlcihiKTt0aGlzLkxhKCJTZWdtZW50SW5pdFNvdXJjZXMiLGEpfS5iaW5kKHRoaXMpKX19fTsKWi5wcm90b3R5cGUueWM9ZnVuY3Rpb24oYSxiLGMpe2lmKHRoaXMudmlkZW8ucGF1c2VkJiZ0aGlzLkhhKzFFND5EYXRlLm5vdygpJiZ0aGlzLmIpcmV0dXJuIFByb21pc2UucmVqZWN0KHt0eXBlOiJkZWxheSJ9KTt2YXIgZDtpZihiJiZ2b2lkIDAhPWMpZD1uZXcgZmQoYiksZC5mPWMsYj1TZih0aGlzKSxudWxsIT1iJiYoZC5jPWIuc3RyZWFtSW5mb0lELGQuYj10aGlzLnBhKTtlbHNlIGZvcihiPWEuYyxjPTA7YzxiLmxlbmd0aDtjKyspe3ZhciBlPW5ldyBWaWRlb1B1c2hQYXJhbWV0ZXJzSGVscGVyKGJbY10udG9TdHJpbmcoKSk7dGhpcy5tYSYmZS5zZXRVc2VMb25nQ2FjaGVGb3JNYW5pZmVzdCh0aGlzLm1hKTtiW2NdPW5ldyBMKGUuZ2V0VVJMKCkpfWE9bmV3IGRkKGEsdGhpcy5MYixkLHRoaXMuZGEpO3ZhciBmPURhdGUubm93KCk7cmV0dXJuIGVkKGEsdGhpcy5sKS50aGVuKEoodGhpcyxmdW5jdGlvbihhKXt0aGlzLkhhPURhdGUubm93KCk7dGhpcy5MYSgiTVBERmV0Y2hEdXJhdGlvbiIsCih0aGlzLkhhLWYpLzFFMyk7dGhpcy5hLmdldEJvb2woInRyZWF0X2xpdmVfc3RhdGljX21hbmlmZXN0X2FzX2R5bmFtaWMiLCExKSYmKGEubWFuaWZlc3RJc0xpdmVTdHJlYW1pbmc9ImR5bmFtaWMiPT09KHRoaXMuRj90aGlzLkYudHlwZTphLnR5cGUpKTt0aGlzLkY9YTt2YXIgYj1uZXcgeWUodGhpcy5hLHRoaXMudGEsdGhpcy5sLHRoaXMuTWIpO2lmKHRoaXMubCl2YXIgYz10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJwcm9jZXNzX21hbmlmZXN0Iikuc3RhcnQoKTthPXplKGIsYSx0aGlzLlkpO2MmJmMubG9nKCk7cmV0dXJuIFByb21pc2UucmVzb2x2ZShhKX0pKX07Wi5wcm90b3R5cGUueGM9ZnVuY3Rpb24oKXt2YXIgYT16ZShuZXcgeWUodGhpcy5hLHRoaXMudGEpLHRoaXMuRix0aGlzLlkpO3JldHVybiBQcm9taXNlLnJlc29sdmUoYSl9O30uYmluZChnLCBnbG9iYWwpKSgpOwoKbW9kdWxlLmV4cG9ydHMgPSBnLnNoYWthOwoKCi8qICAqL30pLG51bGwpOwovLyMgc291cmNlVVJMPWZiOGIxNmM4YjU3NjdkNTE4ODYwZGFiMjgzMGM1MGYyLmpzCg==, line 416: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript error: data:application/x-javascript;charset=utf-8;base64,aWYgKHNlbGYuQ2F2YWxyeUxvZ2dlcikgeyBDYXZhbHJ5TG9nZ2VyLnN0YXJ0X2pzKFsiKzRzV3kiXSk7IH0KLyoqCiAqIEBwcm92aWRlc01vZHVsZSBTaGFrYQogKiBAcHJlc2VydmUtd2hpdGVzcGFjZQogKiBAbm9wYWNrYWdlCiAqIEBnZW5lcmF0ZWQKICovCl9fZCgiU2hha2EiLFsiUHJvbWlzZSIsIkV2ZW50TGlzdGVuZXIiLCJWaWRlb1BsYXllclNoYWthUGVyZm9ybWFuY2VMb2dnZXIiLCJWaWRlb1B1c2hQYXJhbWV0ZXJzSGVscGVyIiwiVGltZVNsaWNlIiwiVmlkZW9QbGF5ZXJMb2NhbEJhbmR3aWR0aEVzdGltYXRvciIsIlZpZGVvUGxheWVyUmVzb3VyY2VUaW1lciIsIlNoYWthU2VnbWVudFJlZmVyZW5jZUhlbHBlciIsIlNlZ21lbnRSZXF1ZXN0TWFuYWdlciIsImNvbmNhdEFycmF5QnVmZmVyIiwiQnVmZmVyUmVwbGFjZW1lbnRIZWxwZXIiLCJsb2dMb25nQWthbWFpUmVxdWVzdCIsInRocm90dGxlIiwiVmlld3BvcnRQcmlvcml0eUFkanVzdGVyIiwiRmlyc3RMb2FkZWRWaWRlb1ByaW9yaXR5QWRqdXN0ZXIiLCJWaWRlb1ByaW9yaXR5Q2FsY3VsYXRvciIsIlZpZGVvU3RyZWFtaW5nTWFuYWdlciIsIk11bHRpcGxlU2VnbWVudHNQcm92aWRlciIsIkxvY2FsQml0cmF0ZUhlbHBlciIsIlVuaXRDb25zdGFudHMiLCJCdWZmZXJWZWxvY2l0eSIsIlZpZGVvUGxheWVyQml0cmF0ZUVzdGltYXRvciIsIlZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWciLCJnZXRTZWVrUmFuZ2VHYXBzRnJvbVNoYWthUmVmZXJlbmNlcyIsIm1lcmdlU2Vla1JhbmdlR2FwcyIsIk5ldHdvcmtTdGF0dXNEZXRlY3RvciIsIk1vc1V0aWxzIiwiQmFuemFpT0RTIiwiVmlkZW9EYXNoUHJlZmV0Y2hDYWNoZSIsIlZpZGVvQ2xpZW50RWRnZUNvb3BlcmF0aW9uIiwiVmlkZW9TdHJlYW1pbmdUYXNrUXVldWVQcm92aWRlciIsIkJpbmFyeVNlYXJjaCIsIlNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscyIsImdreCIsInNldFRpbWVvdXRBY3Jvc3NUcmFuc2l0aW9ucyIsInNldFRpbWVvdXQiLCJzZXRJbnRlcnZhbEFjcm9zc1RyYW5zaXRpb25zIiwic2V0SW50ZXJ2YWwiLCJzZXRJbW1lZGlhdGVBY3Jvc3NUcmFuc2l0aW9ucyIsInNldEltbWVkaWF0ZSIsImNsZWFyVGltZW91dCIsImNsZWFySW50ZXJ2YWwiLCJjbGVhckltbWVkaWF0ZSIsImRpc3BhdGNoRXZlbnQiLCJFdmVudExpc3RlbmVyIiwiRXZlbnQiLCJleHRyYWN0Q0VBNjA4IiwicGVyZm9ybWFuY2VOb3ciLCJwYXJzZUhlYWRlcnMiLCJjYW5Vc2VGZXRjaFN0cmVhbSIsIlN1YnNjcmlwdGlvbnNIYW5kbGVyIiwiVmlkZW9QdXNoVHJhY2tlciJdLChmdW5jdGlvbiAkbW9kdWxlX1NoYWthKGdsb2JhbCxyZXF1aXJlLHJlcXVpcmVEeW5hbWljLHJlcXVpcmVMYXp5LG1vZHVsZSxleHBvcnRzKXsKCi8vIHJ1biBgYXJjIHJlYnVpbGQgc2hha2EtcGxheWVyYCB0byByZWdlbmVyYXRlIFNoYWthLmpzIGFmdGVyIG1vZGlmeWluZyB0aGlzCi8vIGZpbGUKCnZhciBQcm9taXNlID0gcmVxdWlyZSgnUHJvbWlzZScpOwp2YXIgRXZlbnRMaXN0ZW5lciA9IHJlcXVpcmUoJ0V2ZW50TGlzdGVuZXInKTsKdmFyIFZpZGVvUGxheWVyU2hha2FQZXJmb3JtYW5jZUxvZ2dlciA9IHJlcXVpcmUoJ1ZpZGVvUGxheWVyU2hha2FQZXJmb3JtYW5jZUxvZ2dlcicpOwp2YXIgVmlkZW9QdXNoUGFyYW1ldGVyc0hlbHBlciA9IHJlcXVpcmUoJ1ZpZGVvUHVzaFBhcmFtZXRlcnNIZWxwZXInKTsKdmFyIFRpbWVTbGljZSA9IHJlcXVpcmUoJ1RpbWVTbGljZScpOwp2YXIgVmlkZW9QbGF5ZXJMb2NhbEJhbmR3aWR0aEVzdGltYXRvciA9IHJlcXVpcmUoJ1ZpZGVvUGxheWVyTG9jYWxCYW5kd2lkdGhFc3RpbWF0b3InKTsKdmFyIFZpZGVvUGxheWVyUmVzb3VyY2VUaW1lciA9IHJlcXVpcmUoJ1ZpZGVvUGxheWVyUmVzb3VyY2VUaW1lcicpOwp2YXIgU2hha2FTZWdtZW50UmVmZXJlbmNlSGVscGVyID0gcmVxdWlyZSgnU2hha2FTZWdtZW50UmVmZXJlbmNlSGVscGVyJyk7CnZhciBTZWdtZW50UmVxdWVzdE1hbmFnZXIgPSByZXF1aXJlKCdTZWdtZW50UmVxdWVzdE1hbmFnZXInKTsKdmFyIGNvbmNhdEFycmF5QnVmZmVyID0gcmVxdWlyZSgnY29uY2F0QXJyYXlCdWZmZXInKTsKdmFyIEJ1ZmZlclJlcGxhY2VtZW50SGVscGVyID0gcmVxdWlyZSgnQnVmZmVyUmVwbGFjZW1lbnRIZWxwZXInKTsKdmFyIGxvZ0xvbmdBa2FtYWlSZXF1ZXN0ID0gcmVxdWlyZSgnbG9nTG9uZ0FrYW1haVJlcXVlc3QnKTsKdmFyIHRocm90dGxlID0gcmVxdWlyZSgndGhyb3R0bGUnKTsKdmFyIFZpZXdwb3J0UHJpb3JpdHlBZGp1c3RlciA9IHJlcXVpcmUoJ1ZpZXdwb3J0UHJpb3JpdHlBZGp1c3RlcicpOwp2YXIgRmlyc3RMb2FkZWRWaWRlb1ByaW9yaXR5QWRqdXN0ZXIgPSByZXF1aXJlKCdGaXJzdExvYWRlZFZpZGVvUHJpb3JpdHlBZGp1c3RlcicpOwp2YXIgVmlkZW9Qcmlvcml0eUNhbGN1bGF0b3IgPSByZXF1aXJlKCdWaWRlb1ByaW9yaXR5Q2FsY3VsYXRvcicpOwp2YXIgVmlkZW9TdHJlYW1pbmdNYW5hZ2VyID0gcmVxdWlyZSgnVmlkZW9TdHJlYW1pbmdNYW5hZ2VyJyk7CnZhciBNdWx0aXBsZVNlZ21lbnRzUHJvdmlkZXIgPSByZXF1aXJlKCdNdWx0aXBsZVNlZ21lbnRzUHJvdmlkZXInKTsKdmFyIExvY2FsQml0cmF0ZUhlbHBlciA9IHJlcXVpcmUoJ0xvY2FsQml0cmF0ZUhlbHBlcicpOwp2YXIgVW5pdENvbnN0YW50cyA9IHJlcXVpcmUoJ1VuaXRDb25zdGFudHMnKTsKdmFyIEJ1ZmZlclZlbG9jaXR5ID0gcmVxdWlyZSgnQnVmZmVyVmVsb2NpdHknKTsKdmFyIFZpZGVvUGxheWVyQml0cmF0ZUVzdGltYXRvciA9IHJlcXVpcmUoJ1ZpZGVvUGxheWVyQml0cmF0ZUVzdGltYXRvcicpOwp2YXIgVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZyA9IHJlcXVpcmUoJ1ZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcnKTsKdmFyIGdldFNlZWtSYW5nZUdhcHNGcm9tU2hha2FSZWZlcmVuY2VzID0gcmVxdWlyZSgnZ2V0U2Vla1JhbmdlR2Fwc0Zyb21TaGFrYVJlZmVyZW5jZXMnKTsKdmFyIG1lcmdlU2Vla1JhbmdlR2FwcyA9IHJlcXVpcmUoJ21lcmdlU2Vla1JhbmdlR2FwcycpOwp2YXIgTmV0d29ya1N0YXR1c0RldGVjdG9yID0gcmVxdWlyZSgnTmV0d29ya1N0YXR1c0RldGVjdG9yJyk7CnZhciBNb3NVdGlscyA9IHJlcXVpcmUoJ01vc1V0aWxzJyk7CnZhciBCYW56YWlPRFMgPSByZXF1aXJlKCdCYW56YWlPRFMnKTsKdmFyIFZpZGVvRGFzaFByZWZldGNoQ2FjaGUgPSByZXF1aXJlKCdWaWRlb0Rhc2hQcmVmZXRjaENhY2hlJyk7CnZhciBWaWRlb0NsaWVudEVkZ2VDb29wZXJhdGlvbiA9IHJlcXVpcmUoJ1ZpZGVvQ2xpZW50RWRnZUNvb3BlcmF0aW9uJyk7CnZhciBWaWRlb1N0cmVhbWluZ1Rhc2tRdWV1ZVByb3ZpZGVyID0gcmVxdWlyZSgnVmlkZW9TdHJlYW1pbmdUYXNrUXVldWVQcm92aWRlcicpOwp2YXIgQmluYXJ5U2VhcmNoID0gcmVxdWlyZSgnQmluYXJ5U2VhcmNoJyk7CnZhciBTaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMgPSByZXF1aXJlKCdTaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMnKTsKdmFyIGdreCA9IHJlcXVpcmUoJ2dreCcpOwoKdmFyIHNldFRpbWVvdXQgPSBWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woCiAgICAndGltZW91dHNfcGVyc2lzdF9vbl9wYWdlX3RyYW5zaXRpb24nLAogICAgdHJ1ZQogICkgPwogIHJlcXVpcmUoJ3NldFRpbWVvdXRBY3Jvc3NUcmFuc2l0aW9ucycpIDoKICByZXF1aXJlKCdzZXRUaW1lb3V0Jyk7CnZhciBzZXRJbnRlcnZhbCA9IFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgKICAgICd0aW1lb3V0c19wZXJzaXN0X29uX3BhZ2VfdHJhbnNpdGlvbicsCiAgICB0cnVlCiAgKSA/CiAgcmVxdWlyZSgnc2V0SW50ZXJ2YWxBY3Jvc3NUcmFuc2l0aW9ucycpIDoKICByZXF1aXJlKCdzZXRJbnRlcnZhbCcpOwp2YXIgc2V0SW1tZWRpYXRlID0gVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKAogICAgJ3RpbWVvdXRzX3BlcnNpc3Rfb25fcGFnZV90cmFuc2l0aW9uJywKICAgIHRydWUKICApID8KICByZXF1aXJlKCdzZXRJbW1lZGlhdGVBY3Jvc3NUcmFuc2l0aW9ucycpIDoKICByZXF1aXJlKCdzZXRJbW1lZGlhdGUnKTsKdmFyIGNsZWFyVGltZW91dCA9IHJlcXVpcmUoJ2NsZWFyVGltZW91dCcpOwp2YXIgY2xlYXJJbnRlcnZhbCA9IHJlcXVpcmUoJ2NsZWFySW50ZXJ2YWwnKTsKdmFyIGNsZWFySW1tZWRpYXRlID0gcmVxdWlyZSgnY2xlYXJJbW1lZGlhdGUnKTsKdmFyIGRpc3BhdGNoRG9tRXZlbnQgPSByZXF1aXJlKCdkaXNwYXRjaEV2ZW50Jyk7CnZhciBldmVudExpc3RlbmVyQ2FwdHVyZSA9IHJlcXVpcmUoJ0V2ZW50TGlzdGVuZXInKS5jYXB0dXJlOwp2YXIgZXZlbnRLaWxsID0gcmVxdWlyZSgnRXZlbnQnKS5raWxsOwp2YXIgZXh0cmFjdENFQTYwOCA9IHJlcXVpcmUoJ2V4dHJhY3RDRUE2MDgnKTsKdmFyIHBlcmZvcm1hbmNlTm93ID0gcmVxdWlyZSgncGVyZm9ybWFuY2VOb3cnKTsKdmFyIHBhcnNlSGVhZGVycyA9IHJlcXVpcmUoJ3BhcnNlSGVhZGVycycpOwp2YXIgY2FuVXNlRmV0Y2hTdHJlYW0gPSByZXF1aXJlKCdjYW5Vc2VGZXRjaFN0cmVhbScpOwp2YXIgU3Vic2NyaXB0aW9uc0hhbmRsZXIgPSByZXF1aXJlKCdTdWJzY3JpcHRpb25zSGFuZGxlcicpOwp2YXIgVmlkZW9QdXNoVHJhY2tlciA9IHJlcXVpcmUoJ1ZpZGVvUHVzaFRyYWNrZXInKTsKCmZ1bmN0aW9uIHNldEV2ZW50UHJvcGVydHkob2JqLCBuYW1lLCBoYW5kbGVyKSB7CiAgb2JqW25hbWVdID0gVGltZVNsaWNlLmd1YXJkKGhhbmRsZXIsICdzaGFrYSAnICsgbmFtZSk7Cn07CgppZiAoCiAgVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCdzaGFrYV9uYXRpdmVfcHJvbWlzZScsIGZhbHNlKSAmJgogIFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgndXNlX25hdGl2ZV9wcm9taXNlJywgdHJ1ZSkKKSB7CiAgUHJvbWlzZSA9IHdpbmRvdy5Qcm9taXNlOwp9Cgp2YXIgZyA9IHt9OwoKKGZ1bmN0aW9uKHdpbmRvdyl7dmFyIG4sYWE9dGhpcztmdW5jdGlvbiBxKGEsYil7dmFyIGM9YS5zcGxpdCgiLiIpLGQ9YWE7Y1swXWluIGR8fCFkLmV4ZWNTY3JpcHR8fGQuZXhlY1NjcmlwdCgidmFyICIrY1swXSk7Zm9yKHZhciBlO2MubGVuZ3RoJiYoZT1jLnNoaWZ0KCkpOyljLmxlbmd0aHx8dm9pZCAwPT09Yj9kW2VdP2Q9ZFtlXTpkPWRbZV09e306ZFtlXT1ifWZ1bmN0aW9uIHIoYSxiKXtmdW5jdGlvbiBjKCl7fWMucHJvdG90eXBlPWIucHJvdG90eXBlO2EuUGQ9Yi5wcm90b3R5cGU7YS5wcm90b3R5cGU9bmV3IGM7YS5wcm90b3R5cGUuY29uc3RydWN0b3I9YTthLkxkPWZ1bmN0aW9uKGEsYyxmKXtyZXR1cm4gYi5wcm90b3R5cGVbY10uYXBwbHkoYSxBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMikpfX07LyoKCiBDb3B5cmlnaHQgMjAxNSBHb29nbGUgSW5jLgoKIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoKIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoqLwpmdW5jdGlvbiBiYSgpe307ZnVuY3Rpb24gY2EoYSl7dmFyIGI9Y29uc29sZVthXTtiP2IuYmluZHx8KGNvbnNvbGVbYV09ZnVuY3Rpb24oKXtiLmFwcGx5KGNvbnNvbGUsYXJndW1lbnRzKX0pOmNvbnNvbGVbYV09ZnVuY3Rpb24oKXt9fWNhKCJlcnJvciIpO2NhKCJ3YXJuIik7Y2EoImluZm8iKTtjYSgibG9nIik7Y2EoImRlYnVnIik7dmFyIHU9e3FhOmZ1bmN0aW9uKGEpe3UuSGJbYV09e3FhOnUud2MoKSxlbmQ6TmFOfX0sZW5kOmZ1bmN0aW9uKGEpe2lmKGE9dS5IYlthXSlhLmVuZD11LndjKCl9LE1kOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD11LmdldChhKSxlPXUuZ2V0KGIpO2lmKCFkfHwhZSlyZXR1cm4gTmFOO2QtPWU7Zm9yKGU9MjtlPGFyZ3VtZW50cy5sZW5ndGg7KytlKXt2YXIgZj11LmdldChhcmd1bWVudHNbZV0pO2lmKCFmKXJldHVybiBOYU47ZC09Zn1yZXR1cm4gZH0sZ2V0OmZ1bmN0aW9uKGEpe3JldHVybihhPXUuSGJbYV0pJiZhLmVuZD9hLmVuZC1hLnFhOk5hTn19O3Uud2M9d2luZG93LnBlcmZvcm1hbmNlJiZ3aW5kb3cucGVyZm9ybWFuY2Uubm93P3dpbmRvdy5wZXJmb3JtYW5jZS5ub3cuYmluZCh3aW5kb3cucGVyZm9ybWFuY2UpOkRhdGUubm93O3UuSGI9e307LyoKCiBDb3B5cmlnaHQgMjAwNC1wcmVzZW50IEZhY2Vib29rLiBBbGwgUmlnaHRzIFJlc2VydmVkLgoKKi8KZnVuY3Rpb24gZmEoYSxiLGMsZCxlLGYsZyxoKXt0aGlzLmlkPWE7dGhpcy5iYW5kd2lkdGg9Ynx8MDt0aGlzLmxhbmc9Y3x8InVua25vd24iO3RoaXMuc3RyZWFtSW5mb0lEPWQ7dGhpcy5taW1lVHlwZT1lfHwiIjt0aGlzLmNvZGVjcz1mfHwiIjt0aGlzLmNoYW5uZWxzPWd8fG51bGw7dGhpcy5zYW1wbGluZ1JhdGU9aHx8bnVsbDt0aGlzLmFjdGl2ZT0hMX1xKCJzaGFrYS5wbGF5ZXIuQXVkaW9UcmFjay5jb21wYXJlIixmdW5jdGlvbihhLGIpe3JldHVybiBhLmxhbmc8Yi5sYW5nPy0xOmEubGFuZz5iLmxhbmc/MTphLmJhbmR3aWR0aDxiLmJhbmR3aWR0aD8tMTphLmJhbmR3aWR0aD5iLmJhbmR3aWR0aD8xOjB9KTt2YXIgZ2E9VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoInNoYWthX2RlZmF1bHRfcmVxdWVzdF90aW1lb3V0X3RpbWVzY2FsZSIsMUUzKSxoYT1NYXRoLmZsb29yKFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJzaGFrYV9kZWZhdWx0X2FqYXhfcmVxdWVzdF90aW1lb3V0X21zIiwwKS9nYSksaWE9TWF0aC5mbG9vcihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigic2hha2FfZGVmYXVsdF9hamF4X3JlcXVlc3RfdGltZW91dF9tcyIsMCkvZ2EpLGphPU1hdGguZmxvb3IoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoInNoYWthX2RlZmF1bHRfYWpheF9yZXF1ZXN0X3RpbWVvdXRfbXMiLDApL2dhKTtmdW5jdGlvbiBrYSgpe3RoaXMubWluQmFuZHdpZHRoPXRoaXMubWF4QmFuZHdpZHRoPXRoaXMubWF4V2lkdGg9dGhpcy5taW5IZWlnaHQ9dGhpcy5tYXhIZWlnaHQ9bnVsbH1rYS5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYT1uZXcga2E7YS5tYXhIZWlnaHQ9dGhpcy5tYXhIZWlnaHQ7YS5taW5IZWlnaHQ9dGhpcy5taW5IZWlnaHQ7YS5tYXhXaWR0aD10aGlzLm1heFdpZHRoO2EubWF4QmFuZHdpZHRoPXRoaXMubWF4QmFuZHdpZHRoO2EubWluQmFuZHdpZHRoPXRoaXMubWluQmFuZHdpZHRoO3JldHVybiBhfTtmdW5jdGlvbiBsYSgpe3RoaXMuZm9udFNpemU9IjEwMCUiO3RoaXMuZm9udENvbG9yPW1hO3RoaXMuZm9udE9wYWNpdHk9b2E7dGhpcy5iYWNrZ3JvdW5kQ29sb3I9cGE7dGhpcy5iYWNrZ3JvdW5kT3BhY2l0eT1vYTt0aGlzLmZvbnRFZGdlPXFhfXEoInNoYWthLnBsYXllci5UZXh0U3R5bGUiLGxhKTsKZnVuY3Rpb24gcmEoYSl7dmFyIGI9W107Yi5wdXNoKCJmb250LXNpemU6ICIrYS5mb250U2l6ZSk7Yi5wdXNoKCJjb2xvcjogIitzYShhLmZvbnRDb2xvcixhLmZvbnRPcGFjaXR5KSk7Yi5wdXNoKCJiYWNrZ3JvdW5kLWNvbG9yOiAiK3NhKGEuYmFja2dyb3VuZENvbG9yLGEuYmFja2dyb3VuZE9wYWNpdHkpKTtmb3IodmFyIGM9W10sZD0wO2Q8YS5mb250RWRnZS5sZW5ndGg7KytkKXt2YXIgZT1hLmZvbnRFZGdlW2RdLnNsaWNlKDMsNik7Yy5wdXNoKHNhKGEuZm9udEVkZ2VbZF0uc2xpY2UoMCwzKSxhLmZvbnRPcGFjaXR5KSsiICIrZS5qb2luKCJweCAiKSsicHgiKX1iLnB1c2goInRleHQtc2hhZG93OiAiK2Muam9pbigiLCIpKTtyZXR1cm4gYi5qb2luKCI7ICIpfWZ1bmN0aW9uIHNhKGEsYil7cmV0dXJuInJnYmEoIithLmNvbmNhdChiKS5qb2luKCIsIikrIikifXZhciBtYT1bMjU1LDI1NSwyNTVdLHBhPVswLDAsMF07CmxhLlN0YW5kYXJkQ29sb3JzPXtXSElURTptYSxCTEFDSzpwYSxSRUQ6WzI1NSwwLDBdLEdSRUVOOlswLDI1NSwwXSxCTFVFOlswLDAsMjU1XSxZRUxMT1c6WzI1NSwyNTUsMF0sTUFHRU5UQTpbMjU1LDAsMjU1XSxDWUFOOlswLDI1NSwyNTVdfTt2YXIgb2E9MTtsYS5TdGFuZGFyZE9wYWNpdGllcz17T1BBUVVFOm9hLFNFTUlfSElHSDouNzUsU0VNSV9MT1c6LjI1LFRSQU5TUEFSRU5UOjB9O3ZhciBxYT1bXTsKbGEuRWRnZVN0eWxlcz17Tk9ORTpxYSxSQUlTRUQ6W1szNCwzNCwzNCwxLDEsMF0sWzM0LDM0LDM0LDIsMiwwXSxbMzQsMzQsMzQsMywzLDBdXSxERVBSRVNTRUQ6W1syMDQsMjA0LDIwNCwxLDEsMF0sWzIwNCwyMDQsMjA0LDAsMSwwXSxbMzQsMzQsMzQsLTEsLTEsMF0sWzM0LDM0LDM0LDAsLTEsMF1dLFVOSUZPUk06W1szNCwzNCwzNCwwLDAsNF0sWzM0LDM0LDM0LDAsMCw0XSxbMzQsMzQsMzQsMCwwLDRdLFszNCwzNCwzNCwwLDAsNF1dLERST1A6W1szNCwzNCwzNCwyLDIsM10sWzM0LDM0LDM0LDIsMiw0XSxbMzQsMzQsMzQsMiwyLDVdXX07ZnVuY3Rpb24gdGEoYSxiKXt0aGlzLmlkPWE7dGhpcy5sYW5nPWJ8fCJ1bmtub3duIjt0aGlzLmVuYWJsZWQ9dGhpcy5hY3RpdmU9ITF9cSgic2hha2EucGxheWVyLlRleHRUcmFjay5jb21wYXJlIixmdW5jdGlvbihhLGIpe3JldHVybiBhLmxhbmc8Yi5sYW5nPy0xOmEubGFuZz5iLmxhbmc/MTowfSk7ZnVuY3Rpb24gdWEoYSxiLGMsZCxlLGYsZyxoLGssbCxtLHAsdCl7dGhpcy5pZD1hO3RoaXMuYmFuZHdpZHRoPWJ8fDA7dGhpcy53aWR0aD1jfHwwO3RoaXMuaGVpZ2h0PWR8fDA7dGhpcy5zdHJlYW1JbmZvSUQ9ZTt0aGlzLmZiUXVhbGl0eUxhYmVsPWY7dGhpcy5mYlF1YWxpdHlDbGFzcz1nO2E9W107aCYmKGE9aC5zcGxpdCgiLCIpKTt0aGlzLmZyYW1lUmF0ZT1rfHwiIjt0aGlzLm1pbWVUeXBlPWx8fCIiO3RoaXMuY29kZWNzPW18fCIiO3RoaXMuaXNIVlE9LTE8YS5pbmRleE9mKCJodnEiKTt0aGlzLmlzSW5saW5lSFZRPS0xPGEuaW5kZXhPZigiaHZxX3d3d19pbmxpbmUiKTt0aGlzLmF2b2lkT25Qb29yQ29ubmVjdGlvbj0tMTxhLmluZGV4T2YoImF2b2lkX29uX3Bvb3JfY29ubmVjdGlvbiIpO3RoaXMuYWN0aXZlPSExO3RoaXMucGxheWJhY2tSZXNvbHV0aW9uTW9zPXB8fG51bGw7dGhpcy5wbGF5YmFja1Jlc29sdXRpb25Nb3NDb25maWRlbmNlTGV2ZWw9dHx8bnVsbH0KZnVuY3Rpb24gdmEoYSxiKXt2YXIgYz1hLndpZHRoKmEuaGVpZ2h0LGQ9Yi53aWR0aCpiLmhlaWdodDtyZXR1cm4gYzxkPy0xOmM+ZD8xOmEuYmFuZHdpZHRoPGIuYmFuZHdpZHRoPy0xOmEuYmFuZHdpZHRoPmIuYmFuZHdpZHRoPzE6MH1xKCJzaGFrYS5wbGF5ZXIuVmlkZW9UcmFjay5jb21wYXJlIix2YSk7ZnVuY3Rpb24gd2EoYSl7Zm9yKHZhciBiPXhhLGM9W10sZD0wO2Q8YS5sZW5ndGg7KytkKXtmb3IodmFyIGU9ITEsZj0wO2Y8Yy5sZW5ndGgmJiEoZT1iP2IoYVtkXSxjW2ZdKTphW2RdPT09Y1tmXSk7KytmKTtlfHxjLnB1c2goYVtkXSl9cmV0dXJuIGN9O2Z1bmN0aW9uIHlhKCl7cmV0dXJuIERhdGUubm93KCkremF9dmFyIHphPTA7ZnVuY3Rpb24gQmEoYSl7dGhpcy5iPWE7dGhpcy5jPTA9PUNhO3RoaXMuYT0wfXZhciBDYT0xO2Z1bmN0aW9uIERhKGEpe3JldHVybiBhLmE8YS5iLmJ5dGVMZW5ndGh9ZnVuY3Rpb24gRWEoYSl7dmFyIGI9YS5iLmdldFVpbnQ4KGEuYSk7YS5hKz0xO3JldHVybiBifWZ1bmN0aW9uIHYoYSl7dmFyIGI9YS5iLmdldFVpbnQzMihhLmEsYS5jKTthLmErPTQ7cmV0dXJuIGJ9ZnVuY3Rpb24gRmEoYSl7dmFyIGIsYzthLmM/KGI9YS5iLmdldFVpbnQzMihhLmEsITApLGM9YS5iLmdldFVpbnQzMihhLmErNCwhMCkpOihjPWEuYi5nZXRVaW50MzIoYS5hLCExKSxiPWEuYi5nZXRVaW50MzIoYS5hKzQsITEpKTtpZigyMDk3MTUxPGMpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkRhdGFWaWV3UmVhZGVyOiBPdmVyZmxvdyByZWFkaW5nIDY0LWJpdCB2YWx1ZS4iKTthLmErPTg7cmV0dXJuIGMqTWF0aC5wb3coMiwzMikrYn0KZnVuY3Rpb24gR2EoYSl7aWYoYS5hKzE2PmEuYi5ieXRlTGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKCJEYXRhVmlld1JlYWRlcjogUmVhZCBwYXN0IGVuZCBvZiBEYXRhVmlldy4iKTt2YXIgYj1uZXcgVWludDhBcnJheShhLmIuYnVmZmVyLGEuYSwxNik7YS5hKz0xNjtyZXR1cm4gYn1mdW5jdGlvbiBIYShhLGIpe2lmKGEuYStiPmEuYi5ieXRlTGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKCJEYXRhVmlld1JlYWRlcjogU2tpcCBwYXN0IGVuZCBvZiBEYXRhVmlldy4iKTthLmErPWJ9O2Z1bmN0aW9uIElhKGEpe3RoaXMuYj1hO3RoaXMuYT1uZXcgQmEoYSk7SmF8fChKYT1bbmV3IFVpbnQ4QXJyYXkoWzI1NV0pLG5ldyBVaW50OEFycmF5KFsxMjcsMjU1XSksbmV3IFVpbnQ4QXJyYXkoWzYzLDI1NSwyNTVdKSxuZXcgVWludDhBcnJheShbMzEsMjU1LDI1NSwyNTVdKSxuZXcgVWludDhBcnJheShbMTUsMjU1LDI1NSwyNTUsMjU1XSksbmV3IFVpbnQ4QXJyYXkoWzcsMjU1LDI1NSwyNTUsMjU1LDI1NV0pLG5ldyBVaW50OEFycmF5KFszLDI1NSwyNTUsMjU1LDI1NSwyNTUsMjU1XSksbmV3IFVpbnQ4QXJyYXkoWzEsMjU1LDI1NSwyNTUsMjU1LDI1NSwyNTUsMjU1XSldKX12YXIgSmE7CmZ1bmN0aW9uIEthKGEpe3ZhciBiO2I9TGEoYSk7aWYoNzxiLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiRWJtbFBhcnNlcjogRUJNTCBJRCBtdXN0IGJlIGF0IG1vc3QgNyBieXRlcy4iKTtmb3IodmFyIGM9MCxkPTA7ZDxiLmxlbmd0aDtkKyspYz0yNTYqYytiW2RdO2I9YztjPUxhKGEpO2E6e2ZvcihkPTA7ZDxKYS5sZW5ndGg7ZCsrKWlmKE1hKGMsSmFbZF0pKXtkPSEwO2JyZWFrIGF9ZD0hMX1pZihkKWM9YS5iLmJ5dGVMZW5ndGgtYS5hLmE7ZWxzZXtpZig4PT1jLmxlbmd0aCYmY1sxXSYyMjQpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkVibWxQYXJzZXI6IFZhcmlhYmxlIHNpemVkIGludGVnZXIgdmFsdWUgbXVzdCBiZSBhdCBtb3N0IDUzIGJpdHMuIik7Zm9yKHZhciBkPWNbMF0mKDE8PDgtYy5sZW5ndGgpLTEsZT0xO2U8Yy5sZW5ndGg7ZSsrKWQ9MjU2KmQrY1tlXTtjPWR9Yz1hLmEuYStjPD1hLmIuYnl0ZUxlbmd0aD9jOmEuYi5ieXRlTGVuZ3RoLWEuYS5hO2Q9bmV3IERhdGFWaWV3KGEuYi5idWZmZXIsCmEuYi5ieXRlT2Zmc2V0K2EuYS5hLGMpO0hhKGEuYSxjKTtyZXR1cm4gbmV3IE5hKGIsZCl9ZnVuY3Rpb24gTGEoYSl7dmFyIGI9RWEoYS5hKSxjO2ZvcihjPTE7OD49YyYmIShiJjE8PDgtYyk7YysrKTtpZig4PGMpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkVibWxQYXJzZXI6IFZhcmlhYmxlIHNpemVkIGludGVnZXIgbXVzdCBmaXQgd2l0aGluIDggYnl0ZXMuIik7dmFyIGQ9bmV3IFVpbnQ4QXJyYXkoYyk7ZFswXT1iO2ZvcihiPTE7YjxjO2IrKylkW2JdPUVhKGEuYSk7cmV0dXJuIGR9ZnVuY3Rpb24gTmEoYSxiKXt0aGlzLmlkPWE7dGhpcy5hPWJ9CmZ1bmN0aW9uIE9hKGEpe2lmKDg8YS5hLmJ5dGVMZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkVibWxFbGVtZW50OiBVbnNpZ25lZCBpbnRlZ2VyIGhhcyB0b28gbWFueSBieXRlcy4iKTtpZig4PT1hLmEuYnl0ZUxlbmd0aCYmYS5hLmdldFVpbnQ4KDApJjIyNCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiRWJtbFBhcnNlcjogVW5zaWduZWQgaW50ZWdlciBtdXN0IGJlIGF0IG1vc3QgNTMgYml0cy4iKTtmb3IodmFyIGI9MCxjPTA7YzxhLmEuYnl0ZUxlbmd0aDtjKyspdmFyIGQ9YS5hLmdldFVpbnQ4KGMpLGI9MjU2KmIrZDtyZXR1cm4gYn07dmFyIFBhPXsib3V0cHV0LXJlc3RyaWN0ZWQiOiJUaGUgcmVxdWlyZWQgb3V0cHV0IHByb3RlY3Rpb24gaXMgbm90IGF2YWlsYWJsZS4iLCJvdXRwdXQtbm90LWFsbG93ZWQiOiJUaGUgcmVxdWlyZWQgb3V0cHV0IHByb3RlY3Rpb24gaXMgbm90IGF2YWlsYWJsZS4iLGV4cGlyZWQ6IlRoZSBkZWNyeXB0aW9uIGtleSBoYXMgZXhwaXJlZC4iLCJpbnRlcm5hbC1lcnJvciI6IlRoZSBrZXkgc3lzdGVtIGhhcyBlbmNvdW50ZXJlZCBhbiB1bnNwZWNpZmllZCBlcnJvci4ifTtmdW5jdGlvbiB4KGEpe3RoaXMuYj1NYXRoLmV4cChNYXRoLmxvZyguNSkvYSk7dGhpcy55Yj10aGlzLiRhPXRoaXMuYT0wfXEoInNoYWthLnV0aWwuRVdNQSIseCk7eC5wcm90b3R5cGUuc2FtcGxlPWZ1bmN0aW9uKGEsYil7dmFyIGM9TWF0aC5wb3codGhpcy5iLGEpO3RoaXMuYT1iKigxLWMpK2MqdGhpcy5hO3RoaXMuJGErPWE7dGhpcy55Yis9MX07eC5wcm90b3R5cGUuc2FtcGxlPXgucHJvdG90eXBlLnNhbXBsZTt4LnByb3RvdHlwZS5jPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGF9O3gucHJvdG90eXBlLmdldFRvdGFsV2VpZ2h0PXgucHJvdG90eXBlLmM7eC5wcm90b3R5cGUuZ2V0RXN0aW1hdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLygxLU1hdGgucG93KHRoaXMuYix0aGlzLiRhKSl9O3gucHJvdG90eXBlLmdldEVzdGltYXRlPXgucHJvdG90eXBlLmdldEVzdGltYXRlO3gucHJvdG90eXBlLmY9ZnVuY3Rpb24oKXt0aGlzLnliPXRoaXMuJGE9dGhpcy5hPTB9Owp4LnByb3RvdHlwZS5yZXNldD14LnByb3RvdHlwZS5mO3ZhciBRYT13aW5kb3cuQ3VzdG9tRXZlbnQ7ImZ1bmN0aW9uIiE9PXR5cGVvZiBRYSYmKFFhPWZ1bmN0aW9uKGEsYil7Yj1ifHx7YnViYmxlczohMSxjYW5jZWxhYmxlOiExLGRldGFpbDp2b2lkIDB9O3ZhciBjPWRvY3VtZW50LmNyZWF0ZUV2ZW50KCJDdXN0b21FdmVudCIpO2MuaW5pdEN1c3RvbUV2ZW50KGEsYi5idWJibGVzLGIuY2FuY2VsYWJsZSxiLmRldGFpbCk7cmV0dXJuIGN9LFFhLnByb3RvdHlwZT13aW5kb3cuRXZlbnQucHJvdG90eXBlKTtmdW5jdGlvbiB5KGEpe3ZhciBiPW5ldyBRYShhLnR5cGUse2RldGFpbDphLmRldGFpbCxidWJibGVzOiEhYS5idWJibGVzfSksYztmb3IoYyBpbiBhKWMgaW4gYnx8KGJbY109YVtjXSk7cmV0dXJuIGJ9ZnVuY3Rpb24gQShhKXtyZXR1cm4gbmV3IFFhKCJlcnJvciIse2RldGFpbDphLGJ1YmJsZXM6ITB9KX07ZnVuY3Rpb24gUmEoYSxiLGMpe1NhKGIpO1NhKGMpO3JldHVybiBjPT1ifHxhPj1UYSYmYz09Yi5zcGxpdCgiLSIpWzBdfHxhPj1VYSYmYy5zcGxpdCgiLSIpWzBdPT1iLnNwbGl0KCItIilbMF0/ITA6ITF9dmFyIFRhPTEsVWE9MjtmdW5jdGlvbiBTYShhKXthPWEudG9Mb3dlckNhc2UoKS5zcGxpdCgiLSIpO3ZhciBiPVZhW2FbMF1dO2ImJihhWzBdPWIpO3JldHVybiBhLmpvaW4oIi0iKX0KdmFyIFZhPXthYXI6ImFhIixhYms6ImFiIixhZnI6ImFmIixha2E6ImFrIixhbGI6InNxIixhbWg6ImFtIixhcmE6ImFyIixhcmc6ImFuIixhcm06Imh5Iixhc206ImFzIixhdmE6ImF2IixhdmU6ImFlIixheW06ImF5IixhemU6ImF6IixiYWs6ImJhIixiYW06ImJtIixiYXE6ImV1IixiZWw6ImJlIixiZW46ImJuIixiaWg6ImJoIixiaXM6ImJpIixib2Q6ImJvIixib3M6ImJzIixicmU6ImJyIixidWw6ImJnIixidXI6Im15IixjYXQ6ImNhIixjZXM6ImNzIixjaGE6ImNoIixjaGU6ImNlIixjaGk6InpoIixjaHU6ImN1IixjaHY6ImN2Iixjb3I6Imt3Iixjb3M6ImNvIixjcmU6ImNyIixjeW06ImN5IixjemU6ImNzIixkYW46ImRhIixkZXU6ImRlIixkaXY6ImR2IixkdXQ6Im5sIixkem86ImR6IixlbGw6ImVsIixlbmc6ImVuIixlcG86ImVvIixlc3Q6ImV0IixldXM6ImV1Iixld2U6ImVlIixmYW86ImZvIixmYXM6ImZhIixmaWo6ImZqIixmaW46ImZpIixmcmE6ImZyIixmcmU6ImZyIiwKZnJ5OiJmeSIsZnVsOiJmZiIsZ2VvOiJrYSIsZ2VyOiJkZSIsZ2xhOiJnZCIsZ2xlOiJnYSIsZ2xnOiJnbCIsZ2x2OiJndiIsZ3JlOiJlbCIsZ3JuOiJnbiIsZ3VqOiJndSIsaGF0OiJodCIsaGF1OiJoYSIsaGViOiJoZSIsaGVyOiJoeiIsaGluOiJoaSIsaG1vOiJobyIsaHJ2OiJociIsaHVuOiJodSIsaHllOiJoeSIsaWJvOiJpZyIsaWNlOiJpcyIsaWRvOiJpbyIsaWlpOiJpaSIsaWt1OiJpdSIsaWxlOiJpZSIsaW5hOiJpYSIsaW5kOiJpZCIsaXBrOiJpayIsaXNsOiJpcyIsaXRhOiJpdCIsamF2OiJqdiIsanBuOiJqYSIsa2FsOiJrbCIsa2FuOiJrbiIsa2FzOiJrcyIsa2F0OiJrYSIsa2F1OiJrciIsa2F6OiJrayIsa2htOiJrbSIsa2lrOiJraSIsa2luOiJydyIsa2lyOiJreSIsa29tOiJrdiIsa29uOiJrZyIsa29yOiJrbyIsa3VhOiJraiIsa3VyOiJrdSIsbGFvOiJsbyIsbGF0OiJsYSIsbGF2OiJsdiIsbGltOiJsaSIsbGluOiJsbiIsbGl0OiJsdCIsbHR6OiJsYiIsbHViOiJsdSIsCmx1ZzoibGciLG1hYzoibWsiLG1haDoibWgiLG1hbDoibWwiLG1hbzoibWkiLG1hcjoibXIiLG1heToibXMiLG1rZDoibWsiLG1sZzoibWciLG1sdDoibXQiLG1vbjoibW4iLG1yaToibWkiLG1zYToibXMiLG15YToibXkiLG5hdToibmEiLG5hdjoibnYiLG5ibDoibnIiLG5kZToibmQiLG5kbzoibmciLG5lcDoibmUiLG5sZDoibmwiLG5ubzoibm4iLG5vYjoibmIiLG5vcjoibm8iLG55YToibnkiLG9jaToib2MiLG9qaToib2oiLG9yaToib3IiLG9ybToib20iLG9zczoib3MiLHBhbjoicGEiLHBlcjoiZmEiLHBsaToicGkiLHBvbDoicGwiLHBvcjoicHQiLHB1czoicHMiLHF1ZToicXUiLHJvaDoicm0iLHJvbjoicm8iLHJ1bToicm8iLHJ1bjoicm4iLHJ1czoicnUiLHNhZzoic2ciLHNhbjoic2EiLHNpbjoic2kiLHNsazoic2siLHNsbzoic2siLHNsdjoic2wiLHNtZToic2UiLHNtbzoic20iLHNuYToic24iLHNuZDoic2QiLHNvbToic28iLHNvdDoic3QiLHNwYToiZXMiLHNxaToic3EiLApzcmQ6InNjIixzcnA6InNyIixzc3c6InNzIixzdW46InN1Iixzd2E6InN3Iixzd2U6InN2Iix0YWg6InR5Iix0YW06InRhIix0YXQ6InR0Iix0ZWw6InRlIix0Z2s6InRnIix0Z2w6InRsIix0aGE6InRoIix0aWI6ImJvIix0aXI6InRpIix0b246InRvIix0c246InRuIix0c286InRzIix0dWs6InRrIix0dXI6InRyIix0d2k6InR3Iix1aWc6InVnIix1a3I6InVrIix1cmQ6InVyIix1emI6InV6Iix2ZW46InZlIix2aWU6InZpIix2b2w6InZvIix3ZWw6ImN5Iix3bG46IndhIix3b2w6IndvIix4aG86InhoIix5aWQ6InlpIix5b3I6InlvIix6aGE6InphIix6aG86InpoIix6dWw6Inp1In07ZnVuY3Rpb24gV2EoYSl7cmV0dXJuIE9iamVjdC5rZXlzKGEpLm1hcChmdW5jdGlvbihiKXtyZXR1cm4gYVtiXX0pfWZ1bmN0aW9uIEIoYSxiKXtyZXR1cm4gWGEoYSxiLCJib29sZWFuIil9ZnVuY3Rpb24gQyhhLGIsYyl7YT1YYShhLGIsIm51bWJlciIpO2lmKG51bGw9PWEpcmV0dXJuIG51bGw7aWYoaXNOYU4oYSl8fGE9PU51bWJlci5ORUdBVElWRV9JTkZJTklUWXx8YT09TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZKXRocm93IG5ldyBSYW5nZUVycm9yKCInIitiKyInIG11c3QgYmUgZmluaXRlLiIpO2lmKG51bGwhPWMmJmE8Yyl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiJyIrYisiJyBtdXN0IGJlID49ICIrYyk7cmV0dXJuIGF9ZnVuY3Rpb24gWWEoYSxiKXtyZXR1cm4gWGEoYSxiLCJzdHJpbmciKX0KZnVuY3Rpb24gWGEoYSxiLGMpe2E9YVtiXTtpZihudWxsPT1hKXJldHVybiBudWxsO2lmKHR5cGVvZiBhIT09Yyl0aHJvdyBuZXcgVHlwZUVycm9yKCInIitiKyInIG11c3QgYmUgYSAiK2MrIi4iKTtyZXR1cm4gYX1mdW5jdGlvbiBaYShhLGIsYyl7YT1hW2JdO2lmKG51bGw9PWEpcmV0dXJuIG51bGw7aWYoIShhIGluc3RhbmNlb2YgYykpdGhyb3cgbmV3IFR5cGVFcnJvcigiJyIrYisiJyBtdXN0IGJlIGFuIGluc3RhbmNlIG9mICIrYy5uYW1lKyIuIik7cmV0dXJuIGF9O2Z1bmN0aW9uIEQoKXt0aGlzLmE9e319RC5wcm90b3R5cGUucHVzaD1mdW5jdGlvbihhLGIpe3RoaXMuYS5oYXNPd25Qcm9wZXJ0eShhKT90aGlzLmFbYV0ucHVzaChiKTp0aGlzLmFbYV09W2JdfTtELnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24oYSxiKXt0aGlzLmFbYV09Yn07RC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGEpe3JldHVybihhPXRoaXMuYVthXSk/YS5zbGljZSgpOm51bGx9O2Z1bmN0aW9uICRhKGEpe3ZhciBiPVtdLGM7Zm9yKGMgaW4gYS5hKWIucHVzaC5hcHBseShiLGEuYVtjXSk7cmV0dXJuIGJ9RC5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5hW2FdO2lmKGMpZm9yKHZhciBkPTA7ZDxjLmxlbmd0aDsrK2QpY1tkXT09YiYmKGMuc3BsaWNlKGQsMSksLS1kKX07ZnVuY3Rpb24gYWIoYSl7dmFyIGI9W10sYztmb3IoYyBpbiBhLmEpYi5wdXNoKGMpO3JldHVybiBifTtmdW5jdGlvbiBiYigpe3RoaXMuYT1uZXcgRH1iYi5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe2RiKHRoaXMpO3RoaXMuYT1udWxsfTtmdW5jdGlvbiBFKGEsYixjLGQpe2I9bmV3IGViKGIsYyxkKTthLmEucHVzaChjLGIpfWJiLnByb3RvdHlwZS5hYj1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz10aGlzLmEuZ2V0KGIpfHxbXSxkPTA7ZDxjLmxlbmd0aDsrK2Qpe3ZhciBlPWNbZF07ZS50YXJnZXQ9PWEmJihlLmFiKCksdGhpcy5hLnJlbW92ZShiLGUpKX19O2Z1bmN0aW9uIGRiKGEpe2Zvcih2YXIgYj0kYShhLmEpLGM9MDtjPGIubGVuZ3RoOysrYyliW2NdLmFiKCk7YS5hLmE9e319ZnVuY3Rpb24gZWIoYSxiLGMpe3RoaXMudGFyZ2V0PWE7dGhpcy50eXBlPWI7dGhpcy5hPWM7dGhpcy50YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihiLGMsITEpfQplYi5wcm90b3R5cGUuYWI9ZnVuY3Rpb24oKXt0aGlzLnRhcmdldCYmKHRoaXMudGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIodGhpcy50eXBlLHRoaXMuYSwhMSksdGhpcy5hPXRoaXMudGFyZ2V0PW51bGwpfTtmdW5jdGlvbiBGKGEpe3RoaXMuRWI9bmV3IEQ7dGhpcy5KYT1hfXEoInNoYWthLnV0aWwuRmFrZUV2ZW50VGFyZ2V0IixGKTtuPUYucHJvdG90eXBlO24uYWRkRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbihhLGIpe3RoaXMuRWIucHVzaChhLGIpfTtuLnJlbW92ZUV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24oYSxiKXt0aGlzLkViLnJlbW92ZShhLGIpfTsKbi5kaXNwYXRjaEV2ZW50PWZ1bmN0aW9uKGEpe2EuaGFzT3duUHJvcGVydHkoInNyY0VsZW1lbnQiKXx8KGRlbGV0ZSBhLnNyY0VsZW1lbnQsT2JqZWN0LmRlZmluZVByb3BlcnR5KGEsInNyY0VsZW1lbnQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH19KSk7aWYoYS5oYXNPd25Qcm9wZXJ0eSgidGFyZ2V0IikpYS50YXJnZXQ9dGhpcztlbHNle2RlbGV0ZSBhLnRhcmdldDt2YXIgYj10aGlzO09iamVjdC5kZWZpbmVQcm9wZXJ0eShhLCJ0YXJnZXQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYn0sc2V0OmZ1bmN0aW9uKGEpe2I9YX19KX1pZihhLmhhc093blByb3BlcnR5KCJjdXJyZW50VGFyZ2V0IikpYS5jdXJyZW50VGFyZ2V0PW51bGw7ZWxzZXtkZWxldGUgYS5jdXJyZW50VGFyZ2V0O3ZhciBjPW51bGw7T2JqZWN0LmRlZmluZVByb3BlcnR5KGEsImN1cnJlbnRUYXJnZXQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY30sc2V0OmZ1bmN0aW9uKGEpe2M9YX19KX1yZXR1cm4gZmIodGhpcywKYSl9O24ub2M9ITE7bi5MYT1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmRpc3BhdGNoRXZlbnQoeSh7dHlwZToiZGVidWcvZGFzaFBsYXllckV2ZW50IixidWJibGVzOiEwLGRldGFpbDp7dHlwZTphLGV2ZW50OmJ9fSkpfTtmdW5jdGlvbiBmYihhLGIpe2IuY3VycmVudFRhcmdldD1hO2Zvcih2YXIgYz1hLkViLmdldChiLnR5cGUpfHxbXSxkPTA7ZDxjLmxlbmd0aDsrK2Qpe3ZhciBlPWNbZF07dHJ5e2UuaGFuZGxlRXZlbnQ/ZS5oYW5kbGVFdmVudChiKTplLmNhbGwoYSxiKX1jYXRjaChmKXt9fWEuSmEmJmIuYnViYmxlcyYmZmIoYS5KYSxiKTtyZXR1cm4gYi5kZWZhdWx0UHJldmVudGVkfTtmdW5jdGlvbiBHKGEpe0YuY2FsbCh0aGlzLG51bGwpO3RoaXMuYT17b2I6e1ZhOm5ldyB4KFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJmYXN0X21vdmluZ19hdmVyYWdlX2hhbGZfbGlmZSIsMykpLHhiOm5ldyB4KFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJzbG93X21vdmluZ19hdmVyYWdlX2hhbGZfbGlmZSIsMTApKX0sY2I6e1ZhOm5ldyB4KFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJhZ2dyZXNzaXZlX2Zhc3RfbW92aW5nX2F2ZXJhZ2VfaGFsZl9saWZlIiwxRS00KSkseGI6bmV3IHgoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoImFnZ3Jlc3NpdmVfc2xvd19tb3ZpbmdfYXZlcmFnZV9oYWxmX2xpZmUiLDkuMjMzNTA4NzkxNzc0NSkpfX07dGhpcy5oPWF8fDVFNTt0aGlzLmo9VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoIm1pbl9zYW1wbGVfY291bnQiLAoxRTQpO3RoaXMuYj0wO3RoaXMuYz1bXTt0aGlzLmk9VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoIm1heF9yZWNlbnRfYmFuZHdpZHRoX3NhbXBsZXMiLDApfXIoRyxGKTtxKCJzaGFrYS51dGlsLkVXTUFCYW5kd2lkdGhFc3RpbWF0b3IiLEcpO0cucHJvdG90eXBlLnNob3VsZEV4Y2x1ZGVTYW1wbGU9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJjaGFuZ2VfYWJyX2F1ZGlvX2V4Y2x1c2lvbl9sb2dpYyIsITApPyFiOjY1NTM2PmF9OwpHLnByb3RvdHlwZS5zYW1wbGU9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyl7aWYodGhpcy5zaG91bGRFeGNsdWRlU2FtcGxlKGIsYykpZSYmZS5zZXRFdmVudCgidW5zYW1wbGVkIikuc2V0UmVhc29uKCJhdWRpbyIpLmxvZygpO2Vsc2V7aWYoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJ1c2VfcmVzb3VyY2VfdGltaW5nX2VudHJ5X2Zvcl9iYW5kd2lkdGgiLCEwKSl7aWYoIWQpe2UmJmUuc2V0RXZlbnQoInVuc2FtcGxlZCIpLnNldFJlYXNvbigicmVzb3VyY2VfdGltaW5nX2VudHJ5X21pc3NpbmciKS5sb2coKTtyZXR1cm59YT1kLnRpbWVUb0xhc3RCeXRlO2lmKDA+YSl7ZSYmZS5zZXRFdmVudCgidW5zYW1wbGVkIikuc2V0UmVhc29uKCJyZXNvdXJjZV90aW1pbmdfZW50cnlfaW52YWxpZCIpLmxvZygpO3JldHVybn19YT1NYXRoLm1heChhLDUwKTtjPTFFMypVbml0Q29uc3RhbnRzLkJJVFNfSU5fQllURSpiL2E7dmFyIGg9YS8xRTM7dGhpcy5hLmNiLlZhLnNhbXBsZShoLApjLGQpO3RoaXMuYS5jYi54Yi5zYW1wbGUoaCxjLGQpO3RoaXMuYS5vYi5WYS5zYW1wbGUoaCxjLGQpO3RoaXMuYS5vYi54Yi5zYW1wbGUoaCxjLGQpO2d8fHRoaXMuZGlzcGF0Y2hFdmVudCh5KHt0eXBlOiJiYW5kd2lkdGgifSkpO3RoaXMuYj1EYXRlLm5vdygpO2Q9cGFyc2VJbnQoYSwxMCk7aWYoMDx0aGlzLmkpZm9yKHRoaXMuYy5wdXNoKFtiLGRdKTt0aGlzLmMubGVuZ3RoPnRoaXMuaTspdGhpcy5jLnNoaWZ0KCk7ZSYmZS5zZXRFdmVudCgic2FtcGxlZCIpLnNldEJ5dGVzKGIpLnNldERlbGF5TXMoZCkubG9nKCk7ZiYmZi5nZXRFdmVudExvZ2dlcigiYmFuZHdpZHRoX3NhbXBsZWQiKS5zZXRMZW5ndGgoYikuc2V0Q2xpZW50VGltZUJlZ2luKHRoaXMuYi1kKS5zZXRDbGllbnRUaW1lRW5kKHRoaXMuYikubG9nKCl9fTsKRy5wcm90b3R5cGUuZ2V0QmFuZHdpZHRoPWZ1bmN0aW9uKGEpe2E9ImFnZ3Jlc3NpdmUiPT09YT90aGlzLmEuY2I6dGhpcy5hLm9iO3JldHVybiB0aGlzLmNhblRydXN0RXN0aW1hdGUoKT9NYXRoLm1pbihhLlZhLmdldEVzdGltYXRlKCksYS54Yi5nZXRFc3RpbWF0ZSgpKTp0aGlzLmh9O0cucHJvdG90eXBlLmdldEZhc3RNb3ZpbmdCYW5kd2lkdGg9ZnVuY3Rpb24oYSl7YT0iYWdncmVzc2l2ZSI9PT1hP3RoaXMuYS5jYjp0aGlzLmEub2I7cmV0dXJuIHRoaXMuY2FuVHJ1c3RFc3RpbWF0ZSgpP2EuVmEuZ2V0RXN0aW1hdGUoKTp0aGlzLmh9O0cucHJvdG90eXBlLmdldERhdGFBZ2U9ZnVuY3Rpb24oKXtyZXR1cm4oRGF0ZS5ub3coKS10aGlzLmIpLzFFM307Ry5wcm90b3R5cGUuY2FuVHJ1c3RFc3RpbWF0ZT1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmEuY2IuVmE7cmV0dXJuIGIuJGE+PSh2b2lkIDA9PT1hPy41OmEpfHxiLnliPj10aGlzLmp9OwpHLnByb3RvdHlwZS5zdXBwb3J0c0NhY2hpbmc9ZnVuY3Rpb24oKXtyZXR1cm4hMX07Ry5wcm90b3R5cGUuc2V0UmVwcmVzZW50YXRpb25JRD1mdW5jdGlvbigpe307Ry5wcm90b3R5cGUuZmx1c2hBQlJFdmFsdWF0aW9uU2V0PWZ1bmN0aW9uKCl7cmV0dXJuW119O0cucHJvdG90eXBlLmdldFJlY2VudFNhbXBsZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jfTsvKgoKIENvcHlyaWdodCAyMDE1IEZhY2Vib29rIEluYy4KCiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoKICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KKi8KZnVuY3Rpb24gZ2IoYSxiLGMsZCl7Ry5jYWxsKHRoaXMsZCk7dGhpcy5nPWF8fDA7dGhpcy5mPXZvaWQgMD09PWI/SW5maW5pdHk6Yjt0aGlzLm09Y31yKGdiLEcpO3EoInNoYWthLnV0aWwuRVdNQUNhY2hlQmFuZHdpZHRoRXN0aW1hdG9yIixnYik7CmdiLnByb3RvdHlwZS5zYW1wbGU9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxoKXt2YXIgaz04RTMqYi9hO2UmJmUuc2V0Qnl0ZXMoYikuc2V0RGVsYXlNcyhwYXJzZUludChhLDEwKSk7YTw9dGhpcy5nJiZrPnRoaXMuZiYmIWg/KGUmJmUuc2V0RXZlbnQoInVuc2FtcGxlZCIpLnNldFJlYXNvbigiY2FjaGVkIikubG9nKCksZiYmIXRoaXMuc2hvdWxkRXhjbHVkZVNhbXBsZShiLGMpJiZmLmdldEV2ZW50TG9nZ2VyKCJiYW5kd2lkdGhfc2FtcGxlZCIpLnNldFJlc3VsdCgiYWJvcnRlZCIpLnNldExlbmd0aChiKS5zZXRDbGllbnRUaW1lQmVnaW4oRGF0ZS5ub3coKS1wYXJzZUludChhLDEwKSkuc2V0Q2xpZW50VGltZUVuZChEYXRlLm5vdygpKS5sb2coKSx0aGlzLm0oKSk6Ry5wcm90b3R5cGUuc2FtcGxlLmNhbGwodGhpcyxhLGIsYyxkLGUsZixnKX07Z2IucHJvdG90eXBlLnN1cHBvcnRzQ2FjaGluZz1mdW5jdGlvbigpe3JldHVybiBJbmZpbml0eSE9PXRoaXMuZiYmISF0aGlzLmd9OwpnYi5wcm90b3R5cGUuc2V0UmVwcmVzZW50YXRpb25JRD1mdW5jdGlvbigpe307Z2IucHJvdG90eXBlLmZsdXNoQUJSRXZhbHVhdGlvblNldD1mdW5jdGlvbigpe3JldHVybltdfTtmdW5jdGlvbiBoYigpe0cuY2FsbCh0aGlzKX1yKGhiLEcpO3EoInNoYWthLnV0aWwuRVdNQVNpZ25lZFVSTEJhbmR3aWR0aEVzdGltYXRvciIsaGIpO2hiLnByb3RvdHlwZS5zdXBwb3J0c0NhY2hpbmc9ZnVuY3Rpb24oKXtyZXR1cm4hMH07ZnVuY3Rpb24gSSgpe3ZhciBhLGIsYz1uZXcgUHJvbWlzZShmdW5jdGlvbihjLGUpe2E9YztiPWV9KTtjLnJlc29sdmU9YTtjLnJlamVjdD1iO2MuZGVzdHJveT1JLnByb3RvdHlwZS5kZXN0cm95O3JldHVybiBjfUkucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmNhdGNoKGZ1bmN0aW9uKCl7fSk7dmFyIGE9RXJyb3IoIkRlc3Ryb3llZCEiKTthLnR5cGU9ImRlc3Ryb3kiO3RoaXMucmVqZWN0KGEpfTtmdW5jdGlvbiBpYihhKXthLnNwbGl0KCIiKS5yZWR1Y2UoZnVuY3Rpb24oYSxjLGQpe3JldHVybiBhKyhkJiYwPT1kJTQ/IiAiK2M6Yyl9KX07ZnVuY3Rpb24gamIoKXt0aGlzLmxiPW5ldyBJO3RoaXMuYz0hMTt0aGlzLkFhPW51bGw7dGhpcy5hPVtdO3RoaXMuYj1udWxsfWZ1bmN0aW9uIGtiKGEsYil7aWYoYS5jKXRocm93IEVycm9yKCJDYW5ub3QgYXBwZW5kIHRvIGEgcnVubmluZyB0YXNrISIpO2EuYS5wdXNoKGIpfWpiLnByb3RvdHlwZS5zdGFydD1mdW5jdGlvbigpe2lmKHRoaXMuYyl0aHJvdyBFcnJvcigiVGFzayBhbHJlYWR5IHN0YXJ0ZWQhIik7dGhpcy5jPSEwO3RoaXMuYS51bnNoaWZ0KGZ1bmN0aW9uKCl7fSk7bGIodGhpcyx2b2lkIDApfTtqYi5wcm90b3R5cGUuYWJvcnQ9ZnVuY3Rpb24oKXtpZih0aGlzLkFhKXJldHVybiB0aGlzLkFhO2lmKCF0aGlzLmMpcmV0dXJuIHRoaXMuYz0hMCxQcm9taXNlLnJlc29sdmUoKTt0aGlzLmImJih0aGlzLmY9dGhpcy5iKCkpO3JldHVybiB0aGlzLkFhPW5ldyBJfTtqYi5wcm90b3R5cGUuZW5kPWZ1bmN0aW9uKCl7dGhpcy5hLnNwbGljZSgxKX07CmZ1bmN0aW9uIGxiKGEsYil7dmFyIGM9YS5hWzBdKGIpLGQ7Yz8oZD1jWzBdLGEuYj1jWzFdKTooZD1Qcm9taXNlLnJlc29sdmUoKSxhLmI9bnVsbCk7ZC50aGVuKEooYSxmdW5jdGlvbihhKXt0aGlzLkFhPyh0aGlzLmE9W10sdGhpcy5iPW51bGwsbWIodGhpcykpOih0aGlzLmEuc2hpZnQoKSx0aGlzLmEubGVuZ3RoP2xiKHRoaXMsYSk6KHRoaXMubGIucmVzb2x2ZShhKSx0aGlzLmI9bnVsbCkpfSkpLmNhdGNoKEooYSxmdW5jdGlvbihhKXt0aGlzLmE9W107dGhpcy5iPW51bGw7dGhpcy5BYT9tYih0aGlzKTp0aGlzLmxiLnJlamVjdChhKX0pKX0KZnVuY3Rpb24gbWIoYSl7ZnVuY3Rpb24gYigpe3ZhciBhPUVycm9yKCJUYXNrIGFib3J0ZWQuIik7YS50eXBlPSJhYm9ydGVkIjt0aGlzLmxiLnJlamVjdChhKTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhpcy5BYS5yZXNvbHZlKCk7dGhpcy5BYT1udWxsfS5iaW5kKHRoaXMpLDUpfWEuZj9hLmYudGhlbihmdW5jdGlvbigpe3RoaXMuZj1udWxsO2IuY2FsbCh0aGlzKX0uYmluZChhKSk6Yi5jYWxsKGEpfTtmdW5jdGlvbiBKKGEsYil7cmV0dXJuIGIuYmluZChhKX07ZnVuY3Rpb24gbmIoYSxiLGMsZCxlLGYsZyl7TWVkaWFTb3VyY2UuaXNUeXBlU3VwcG9ydGVkKGMpO0YuY2FsbCh0aGlzLGUpO2U9Yi5hZGRTb3VyY2VCdWZmZXIoYyk7dGhpcy5oPWE7dGhpcy5BPWI7dGhpcy5hPWU7dGhpcy5KPWQ7dGhpcy5CPW5ldyBiYjt0aGlzLkk9dGhpcy5sPXRoaXMuWT10aGlzLmk9bnVsbDt0aGlzLlI9ITE7dGhpcy5QPXRoaXMuSz10aGlzLk89MDt0aGlzLkc9bnVsbDt0aGlzLlY9dGhpcy5GPSExO3RoaXMuWj1mO3RoaXMuRD1udWxsO3RoaXMuJD1nP2c6bnVsbDt0aGlzLmI9W107dGhpcy5VPTA7dGhpcy5tPXRoaXMuYz10aGlzLmY9bnVsbDt0aGlzLlQ9amE7dGhpcy5vPXRoaXMudT0wO3RoaXMudz10aGlzLlM9ITE7dGhpcy5nPWMmJmMuY2hhckF0KDApO0UodGhpcy5CLHRoaXMuYSwidXBkYXRlZW5kIix0aGlzLm5kLmJpbmQodGhpcykpO3RoaXMuaC5nZXRCb29sKCJsaXN0ZW5fZm9yX2FzeW5jX2FwcGVuZF9idWZmZXJfZXJyb3JzIiwhMCkmJkUodGhpcy5CLAp0aGlzLmEsImVycm9yIix0aGlzLmFkLmJpbmQodGhpcykpO3RoaXMuaj1udWxsfXIobmIsRik7bmIucHJvdG90eXBlLkJhPWZ1bmN0aW9uKCl7cmV0dXJue1NvdXJjZUJ1ZmZlcjp0aGlzLmF9fTtmdW5jdGlvbiBvYihhLGIsYyl7YS5vYyYmYS5MYShiLHt0eXBlOmEuZy5jaGFyQXQoMCksc2VnbWVudDpjLHNvdXJjZUJ1ZmZlcjphLmF9KX12YXIgcGI9MS82MDtuYi5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuYWJvcnQoKS5jYXRjaChmdW5jdGlvbigpe30pO3RoaXMuYyYmdGhpcy5jLmRlc3Ryb3koKTt0aGlzLmI9dGhpcy5mPXRoaXMuYz1udWxsO3RoaXMuQi5kZXN0cm95KCk7dGhpcy5BPXRoaXMuYT10aGlzLkQ9dGhpcy5CPW51bGx9O2Z1bmN0aW9uIHFiKGEpe3ZhciBiPWEuYi5sZW5ndGg7cmV0dXJuIDA8Yj9hLmJbYi0xXTpudWxsfQpmdW5jdGlvbiByYihhLGIpe2Zvcih2YXIgYz1hLmEuYnVmZmVyZWQsZD0wO2Q8Yy5sZW5ndGg7KytkKXt2YXIgZT1jLnN0YXJ0KGQpLXBiLGY9Yy5lbmQoZCkrcGI7aWYoYj49ZSYmYjw9ZilyZXR1cm4gYy5lbmQoZCktYn1yZXR1cm4gMH1mdW5jdGlvbiBzYihhLGIsYyl7dmFyIGQ9Yi5lbmRUaW1lP2IuZW5kVGltZS1iLnN0YXJ0VGltZToxLGU9bmV3IHRiO2UuTmE9MztlLmM9MUUzKmQ7ZS5iPTFFMyphLlQ7ZS51PWEuWTtlLmo9YztlLmRhPWEuWjtlLm1pbWVUeXBlPWEuZztlLmg9YS4kO2Uubz1iLmlzUHJlZGljdGl2ZTtyZXR1cm4gZX1uPW5iLnByb3RvdHlwZTsKbi5mZXRjaD1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGgpe3ZhciBrLGw9Zj8icmVwbGFjaW5nX2xvd2VyX3F1YWxpdHlfYnVmZmVyIjpudWxsO2lmKHRoaXMubCl7dmFyIG09dGhpcy5iW3RoaXMuYi5sZW5ndGgtMV0scD1udWxsO20mJihwPTFFMyooYS5zdGFydFRpbWUtbS5lbmRUaW1lKSk7az10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJmZXRjaCIpLnNldFJlYXNvbihsKS5zZXRSZXNvdXJjZSh1YihhLnVybCkpLnNldFR5cGUodmIodGhpcykpLnNldExlbmd0aChNYXRoLnJvdW5kKDFFMyooYS5lbmRUaW1lLWEuc3RhcnRUaW1lKSkpLnNldFNlZ21lbnRTdGFydFRpbWUoMUUzKmEuc3RhcnRUaW1lKS5zZXRTZWdtZW50RW5kVGltZSgxRTMqYS5lbmRUaW1lKS5zZXRTZWdtZW50VGltZUdhcChwKS5zdGFydCgpfXRoaXMuaj1rO2lmKHRoaXMuZil7aWYodGhpcy5oLmdldEJvb2woInNibV9lbmFibGVfY29uY3VycmVudF9mZXRjaF9yZXF1ZXN0cyIsITEpKXt2YXIgdD1bXS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7CnJldHVybiB0aGlzLmYubGIudGhlbihKKHRoaXMsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mZXRjaC5hcHBseSh0aGlzLHQpfSksZnVuY3Rpb24oYSl7dGhyb3cgYTt9KX1tPUVycm9yKCJDYW5ub3QgZmV0Y2ggKCIrdGhpcy5nKyIpOiBwcmV2aW91cyBvcGVyYXRpb24gbm90IGNvbXBsZXRlLiIpO3RoaXMudT49dGhpcy5PPyhtLnR5cGU9InN0cmVhbSIsayYmay5zZXRFcnJvcihtKS5sb2coKSx0aGlzLnU9MCk6KHRoaXMudSsrLG0udHlwZT0iYWJvcnRlZCIpO3JldHVybiBQcm9taXNlLnJlamVjdChtKX10aGlzLmY9bmV3IGpiO2MhPXRoaXMuYS50aW1lc3RhbXBPZmZzZXQmJih0aGlzLmEudGltZXN0YW1wT2Zmc2V0PWMpO3ZhciBtPXNiKHRoaXMsYSxlKSxwPXRoaXMuaC5nZXRCb29sKCJlbmFibGVfc3RyZWFtaW5nX2NvZGVfcGF0aCIsITApLHc7dz1wP2EudXJsLnN0cmVhbShtLHRoaXMuSix0aGlzLmwsdGhpcy5qLHRoaXMuSSx2Yih0aGlzKSxsLGcsaCk6YS51cmwuZmV0Y2gobSwKdGhpcy5KLHRoaXMubCx0aGlzLmosdGhpcy5JLHZiKHRoaXMpLGwsZyk7b2IodGhpcywiU2VnbWVudEZldGNoaW5nIixhKTt2YXIgej1LLnByb3RvdHlwZS5LYS5iaW5kKGEudXJsKTt0aGlzLkcmJnRoaXMuRiYmKGQ9dGhpcy5HKTt2YXIgSD0wLGRhPW51bGw7ZCYmKHRoaXMuRz1kLHRoaXMuRj0hMSxrYih0aGlzLmYsZnVuY3Rpb24oKXtyZXR1cm5bZC50aGVuKGZ1bmN0aW9uKGEpe2EuWWE+SCYmKEg9YS5ZYSk7cmV0dXJuIHdiKHRoaXMsYSxudWxsKX0uYmluZCh0aGlzKSksdGhpcy5iYi5iaW5kKHRoaXMpXX0uYmluZCh0aGlzKSkpO3ZhciBlYT1mdW5jdGlvbihhKXthLllhPkgmJihIPWEuWWEpO2RhPWEuYnl0ZUxlbmd0aDt0aGlzLkouZ2V0QmFuZHdpZHRoKCk7dGhpcy5TJiZ0aGlzLmRpc3BhdGNoRXZlbnQoeSh7dHlwZToiY2VhNjA4Q2FwdGlvbnNCeXRlc1JlY2VpdmVkIixidWJibGVzOiEwLGRldGFpbDp7dGltZXNjYWxlOmIsdmlkZW9CeXRlczphfX0pKX0uYmluZCh0aGlzKTsKcD8oaCYmKG09aC5nZXRQcm9ncmVzc1RyYWNrZXIoKSx0aGlzLmkhPT1tJiYodGhpcy5pPW0pKSxrYih0aGlzLmYsSih0aGlzLGZ1bmN0aW9uKCl7dmFyIGI9bnVsbCxjPU1hdGgubWF4KDAsKGEudXJsLmVuZEJ5dGV8fDApLWEudXJsLnN0YXJ0Qnl0ZSksZD10aGlzLmguZ2V0TnVtYmVyKCJzdHJlYW1pbmdfYXBwZW5kX3Blcl9zZWdtZW50IiwzKSxlPTA9PT1kPzA6Yy9kO3JldHVyblt3LnRoZW4oZnVuY3Rpb24oYyl7Yj1jO3RoaXMudz0hMTtyZXR1cm4geGIodGhpcyxjLGEsZSl9LmJpbmQodGhpcykpLnRoZW4oZnVuY3Rpb24oYSl7Yj1udWxsO3JldHVybiBhfSkudGhlbihlYSkuY2F0Y2goZnVuY3Rpb24oYSl7dGhpcy5oLmdldEJvb2woImFib3J0X2ZldGNoX29uX25ldF9lcnJvciIsITEpJiZoJiYodGhpcy5hLmFib3J0KCksdGhpcy53PSEwKTtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYSl9LmJpbmQodGhpcykpLGZ1bmN0aW9uKCl7b2IodGhpcywiU2VnbWVudEZhaWxlZCIsYSk7CmImJihiLmNhbmNlbCgiYWJvcnQiKSxiPW51bGwsaCYmKHRoaXMuYS5hYm9ydCgpLHRoaXMudz0hMCkpO3ooKTtyZXR1cm4gdGhpcy5iYigpfS5iaW5kKHRoaXMpXX0pKSk6a2IodGhpcy5mLEoodGhpcyxmdW5jdGlvbigpe3JldHVyblt3LnRoZW4oZnVuY3Rpb24oYil7b2IodGhpcywiU2VnbWVudEZldGNoZWQiLGEpO2VhKGIpO3JldHVybiB3Yih0aGlzLGIsYSxsKX0uYmluZCh0aGlzKSksZnVuY3Rpb24oKXtvYih0aGlzLCJTZWdtZW50RmFpbGVkIixhKTt6KCk7cmV0dXJuIHRoaXMuYmIoKX0uYmluZCh0aGlzKV19KSk7dmFyIEFhPTA9PXRoaXMuYS5idWZmZXJlZC5sZW5ndGgmJjA9PXRoaXMuYi5sZW5ndGgsY2I9bnVsbDtrYih0aGlzLmYsZnVuY3Rpb24oKXtpZigwPT10aGlzLmEuYnVmZmVyZWQubGVuZ3RoJiYhdGhpcy5WKXt2YXIgYj1FcnJvcigiRmFpbGVkIHRvIGJ1ZmZlciBzZWdtZW50ICgiK3RoaXMuZysiKS4iKTtiLnR5cGU9InN0cmVhbSI7cmV0dXJuW1Byb21pc2UucmVqZWN0KGIpXX10aGlzLmEuYnVmZmVyZWQubGVuZ3RoJiYKQWEmJihiPWEuc3RhcnRUaW1lLGNiPXRoaXMuYS5idWZmZXJlZC5zdGFydCgwKS1iKTtiPXliKHRoaXMuYixhLnN0YXJ0VGltZSk7MDw9Yj90aGlzLmIuc3BsaWNlKGIrMSwwLGEpOnRoaXMuYi5wdXNoKGEpfS5iaW5kKHRoaXMpKTt0aGlzLnU9MDtyZXR1cm4gemIodGhpcykudGhlbihmdW5jdGlvbigpe2smJmsubG9nKCk7cmV0dXJuIFByb21pc2UucmVzb2x2ZSh7VzpjYixXYzpILEg6YS5lbmRUaW1lLWEuc3RhcnRUaW1lLERjOmRhfSl9LmJpbmQodGhpcyksZnVuY3Rpb24oYSl7ayYmay5zZXRFcnJvcihhKS5sb2coKTthPUFiKGEsInRhc2siLCJBbiB1bmtub3duIHRhc2sgZXJyb3Igb2NjdXJyZWQuIik7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfS5iaW5kKHRoaXMpKX07CmZ1bmN0aW9uIHhiKGEsYixjLGQpe3ZhciBlPW5ldyBBcnJheUJ1ZmZlcigwKSxmPW5ldyBBcnJheUJ1ZmZlcigwKSxnPWZ1bmN0aW9uKCl7cmV0dXJuIGIucmVhZCgpLnRoZW4oZnVuY3Rpb24oYSl7dmFyIGI9YS52YWx1ZTthPWEuZG9uZTtpZih0aGlzLnd8fGEmJjA9PT1mLmJ5dGVMZW5ndGgpcmV0dXJuIGU7aWYoIWEmJiFiKXJldHVybiBnKCk7YiYmKGIgaW5zdGFuY2VvZiBVaW50OEFycmF5JiYoYj1iLmJ1ZmZlciksZj1jb25jYXRBcnJheUJ1ZmZlcihmLGIpKTtyZXR1cm4gZi5ieXRlTGVuZ3RoPj1kfHxhPyh0aGlzLmkmJnRoaXMuaS5ub3RpZnlCeXRlc0NvbnN1bWVkKGYuYnl0ZUxlbmd0aCksb2IodGhpcywiU2VnbWVudEZldGNoZWQiLGMpLGU9Y29uY2F0QXJyYXlCdWZmZXIoZSxmKSxiPWYsZj1uZXcgQXJyYXlCdWZmZXIoMCksd2IodGhpcyxiLGMpLnRoZW4oZykpOmcoKX0uYmluZCh0aGlzKSl9LmJpbmQoYSk7cmV0dXJuIGcoKX0KZnVuY3Rpb24gQmIoYSl7aWYoYS5mKXt2YXIgYj1FcnJvcigiQ2Fubm90IGNsZWFyICgiK2EuZysiKTogcHJldmlvdXMgb3BlcmF0aW9uIG5vdCBjb21wbGV0ZS4iKTthLm8+PWEuSz8oYi50eXBlPSJzdHJlYW0iLGEubz0wKTooYS5vKyssYi50eXBlPSJhYm9ydGVkIik7cmV0dXJuIFByb21pc2UucmVqZWN0KGIpfWEuZj1uZXcgamI7a2IoYS5mLGZ1bmN0aW9uKCl7dmFyIGE7YTppZigwPT10aGlzLmEuYnVmZmVyZWQubGVuZ3RoKWE9UHJvbWlzZS5yZXNvbHZlKCk7ZWxzZXt0cnl7dGhpcy5hLnJlbW92ZSgwLHRoaXMuQS5kdXJhdGlvbil9Y2F0Y2goYil7Yj1BYihiLCJjbGVhcl9idWZmZXIiLCJBbiBlcnJvciBvY2N1cmVkIHdoZW4gY2xlYXJpbmcgdGhlIGJ1ZmZlci4iKTthPVByb21pc2UucmVqZWN0KGIpO2JyZWFrIGF9dGhpcy5iPVtdO2E9dGhpcy5jPW5ldyBJfXJldHVyblthLHRoaXMuYmIuYmluZCh0aGlzKV19LmJpbmQoYSkpO2Eubz0wO3JldHVybiB6YihhKX0KZnVuY3Rpb24gQ2IoYSxiKXtpZihhLmYpe3ZhciBjPUVycm9yKCJDYW5ub3QgY2xlYXJBZnRlciAoIithLmcrIik6IHByZXZpb3VzIG9wZXJhdGlvbiBub3QgY29tcGxldGUuIik7Yy50eXBlPSJzdHJlYW0iO3JldHVybiBQcm9taXNlLnJlamVjdChjKX1hLmY9bmV3IGpiO2tiKGEuZixmdW5jdGlvbigpe3JldHVybltEYih0aGlzLGIpLHRoaXMuYmIuYmluZCh0aGlzKV19LmJpbmQoYSkpO3JldHVybiB6YihhKX1mdW5jdGlvbiBFYihhLGIpe2EuYz1uZXcgSTt2YXIgYz1iLTU7aWYoMDxjKXt0cnl7YS5hLnJlbW92ZSgwLGMpfWNhdGNoKGQpe3JldHVybiBkPUFiKGQsImNsZWFyX2J1ZmZlciIsIkFuIGVycm9yIG9jY3VyZWQgd2hlbiBjbGVhcmluZyB0aGUgYnVmZmVyLiIpLFByb21pc2UucmVqZWN0KGQpfWM9RmIoYSxjKTswPGMmJihhLmI9YS5iLnNsaWNlKGMsYS5iLmxlbmd0aCkpfWVsc2UgYS5jLnJlc29sdmUoKTtyZXR1cm4gYS5jfQpuLmFib3J0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZj90aGlzLmYuYWJvcnQoKTpQcm9taXNlLnJlc29sdmUoKX07ZnVuY3Rpb24gR2IoYSl7Zm9yKHZhciBiPWEuY3VycmVudFRpbWUsYz1iLGQ9MDtkPGEuYnVmZmVyZWQubGVuZ3RoO2QrKylpZihiPD1hLmJ1ZmZlcmVkLnN0YXJ0KGQpKXtjPWEuYnVmZmVyZWQuc3RhcnQoZCk7YnJlYWt9cmV0dXJuIGN9ZnVuY3Rpb24gSGIoYSxiKXtmb3IodmFyIGM9Yi5jdXJyZW50VGltZSxkPTA7ZDxiLmJ1ZmZlcmVkLmxlbmd0aDtkKyspaWYoYz49Yi5idWZmZXJlZC5zdGFydChkKSYmYzw9Yi5idWZmZXJlZC5lbmQoZCktYS5QKXJldHVybiExO3JldHVybiEwfQpmdW5jdGlvbiB6YihhKXthLmYuc3RhcnQoKTtyZXR1cm4gYS5mLmxiLnRoZW4oSihhLGZ1bmN0aW9uKCl7dGhpcy5mPW51bGx9KSkuY2F0Y2goSihhLGZ1bmN0aW9uKGEpe3RoaXMuZj1udWxsO2E9QWIoYSwidGFzayIsIkFuIHVua25vd24gdGFzayBlcnJvciBvY2N1cnJlZC4iKTtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYSl9KSl9CmZ1bmN0aW9uIHdiKGEsYixjLGQpe3ZhciBlO2lmKGEubCl7dmFyIGY9Yz91YihjLnVybCk6ImluaXQiO2U9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigiYXBwZW5kIikuc2V0UmVhc29uKGQpLnNldFJlc291cmNlKGYpLnNldFR5cGUodmIoYSkpLnNldExlbmd0aChiLmJ5dGVMZW5ndGgpLnN0YXJ0KCk7bnVsbCE9PWMmJihlPWUuc2V0U2VnbWVudFN0YXJ0VGltZSgxRTMqYy5zdGFydFRpbWUpLnNldFNlZ21lbnRFbmRUaW1lKDFFMypjLmVuZFRpbWUpKTthLmomJihlPWUuc2V0UGFyZW50TG9nZ2VyKGEuaikpfXRyeXthLmEuYXBwZW5kQnVmZmVyKGIpfWNhdGNoKGcpe3JldHVybiBhLmguZ2V0Qm9vbCgibnVrZV9zb3VyY2VfYnVmZmVyX29uX3F1b3RhX2V4Y2VlZGVkX2VyciIsITApJiZnIGluc3RhbmNlb2YgRE9NRXhjZXB0aW9uJiZnLmNvZGU9PT1ET01FeGNlcHRpb24uUVVPVEFfRVhDRUVERURfRVJSJiZnLm1lc3NhZ2UubWF0Y2goL14uKlNvdXJjZUJ1ZmZlci4qZnVsbC4qZnJlZVxzc3BhY2UuKiQvKSYmCihnLnR5cGU9InNvdXJjZWJ1ZmZlcl9mdWxsIiksZSYmZS5zZXRFcnJvcihnKS5sb2coKSxQcm9taXNlLnJlamVjdChnKX1hLmM9bmV3IEk7YS5tPWM7cmV0dXJuIGEuYy50aGVuKGZ1bmN0aW9uKCl7ZSYmZS5sb2coKX0sZnVuY3Rpb24oYSl7ZSYmZS5zZXRFcnJvcihhKS5sb2coKTtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYSl9KX1uLmFkPWZ1bmN0aW9uKGEpe2E9YS5lcnJvcnx8RXJyb3IoIkNhbGwgdG8gYXBwZW5kQnVmZmVyIGZhaWxlZCB0byBhcHBlbmQgdGhlIHNlZ21lbnQuIik7YT1BYihhLCJzdHJlYW0iLCJDYWxsIHRvIGFwcGVuZEJ1ZmZlciBmYWlsZWQgdG8gYXBwZW5kIHRoZSBzZWdtZW50LiIpO3RoaXMuYyYmdGhpcy5jLnJlamVjdChhKX07CmZ1bmN0aW9uIERiKGEsYil7aWYoMD09YS5hLmJ1ZmZlcmVkLmxlbmd0aClyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7dmFyIGM9RmIoYSxiKTtpZigtMT09Y3x8Yz09YS5iLmxlbmd0aC0xKXJldHVybiBQcm9taXNlLnJlc29sdmUoKTt0cnl7YS5hLnJlbW92ZShhLmJbYysxXS5zdGFydFRpbWUsYS5BLmR1cmF0aW9uKX1jYXRjaChkKXtyZXR1cm4gUHJvbWlzZS5yZWplY3QoZCl9YS5iPWEuYi5zbGljZSgwLGMrMSk7YS5jPW5ldyBJO3JldHVybiBhLmN9bi5iYj1mdW5jdGlvbigpe2lmKHRoaXMuYyl7aWYoIm9wZW4iPT10aGlzLkEucmVhZHlTdGF0ZSl7dmFyIGE9RXJyb3IoIlByZXZpb3VzIG9wZXJhdGlvbiBhYm9ydGVkLiIpO2EudHlwZT0iYWJvcnRlZCI7dGhpcy5jLnJlamVjdChhKTt0aGlzLmEuYWJvcnQoKTt0aGlzLlImJih0aGlzLkY9ITApO3RoaXMuYz1uZXcgSX1yZXR1cm4gdGhpcy5jfXJldHVybiBQcm9taXNlLnJlc29sdmUoKX07Cm4ubmQ9ZnVuY3Rpb24oKXt0aGlzLmMmJih0aGlzLm0mJihvYih0aGlzLCJTZWdtZW50QXBwZW5kZWQiLHRoaXMubSksdGhpcy5tPW51bGwpLHRoaXMuYy5yZXNvbHZlKCksdGhpcy5jPW51bGwpfTtuLkRkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaX07bmIucHJvdG90eXBlLmdldFN0cmVhbVByb2dyZXNzVHJhY2tlcj1uYi5wcm90b3R5cGUuRGQ7ZnVuY3Rpb24gdmIoYSl7cmV0dXJuInYiPT09YS5nLmNoYXJBdCgwKT8idmlkZW8iOiJhIj09PWEuZy5jaGFyQXQoMCk/ImF1ZGlvIjpudWxsfWZ1bmN0aW9uIEFiKGEsYixjKXthfHwoYT1FcnJvcihjKSk7YS50eXBlfHwoYS50eXBlPWIpO2EubWVzc2FnZXx8KGEubWVzc2FnZT1jKTtyZXR1cm4gYX0KZnVuY3Rpb24gRmIoYSxiKXtpZihhLmguZ2V0Qm9vbCgic2JtX3VzZV9zZWdtZW50X2luZGV4X3RvX2ZpbmRfdGltZXN0YW1wcyIsITEpJiZhLkQpe3ZhciBjPWEuRC5maW5kKGIpO2lmKGMpcmV0dXJuIHliKGEuYixjLnN0YXJ0VGltZSl9ZWxzZSByZXR1cm4geWIoYS5iLGIpO3JldHVybi0xfTtmdW5jdGlvbiBJYihhKXtyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLGEpfXEoInNoYWthLnV0aWwuVWludDhBcnJheVV0aWxzLnRvU3RyaW5nIixJYik7ZnVuY3Rpb24gSmIoYSl7Zm9yKHZhciBiPW5ldyBVaW50OEFycmF5KGEubGVuZ3RoKSxjPTA7YzxhLmxlbmd0aDsrK2MpYltjXT1hLmNoYXJDb2RlQXQoYyk7cmV0dXJuIGJ9cSgic2hha2EudXRpbC5VaW50OEFycmF5VXRpbHMuZnJvbVN0cmluZyIsSmIpO3EoInNoYWthLnV0aWwuVWludDhBcnJheVV0aWxzLnRvQmFzZTY0IixmdW5jdGlvbihhLGIpe3ZhciBjPXZvaWQgMD09Yj8hMDpiLGQ9d2luZG93LmJ0b2EoSWIoYSkpLnJlcGxhY2UoL1wrL2csIi0iKS5yZXBsYWNlKC9cLy9nLCJfIik7cmV0dXJuIGM/ZDpkLnJlcGxhY2UoLz0qJC8sIiIpfSk7ZnVuY3Rpb24gS2IoYSl7cmV0dXJuIEpiKHdpbmRvdy5hdG9iKGEucmVwbGFjZSgvLS9nLCIrIikucmVwbGFjZSgvXy9nLCIvIikpKX0KcSgic2hha2EudXRpbC5VaW50OEFycmF5VXRpbHMuZnJvbUJhc2U2NCIsS2IpO3EoInNoYWthLnV0aWwuVWludDhBcnJheVV0aWxzLmZyb21IZXgiLGZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1uZXcgVWludDhBcnJheShhLmxlbmd0aC8yKSxjPTA7YzxhLmxlbmd0aDtjKz0yKWJbYy8yXT13aW5kb3cucGFyc2VJbnQoYS5zdWJzdHIoYywyKSwxNik7cmV0dXJuIGJ9KTtmdW5jdGlvbiBMYihhKXtmb3IodmFyIGI9IiIsYz0wO2M8YS5sZW5ndGg7KytjKXt2YXIgZD1hW2NdLnRvU3RyaW5nKDE2KTsxPT1kLmxlbmd0aCYmKGQ9IjAiK2QpO2IrPWR9cmV0dXJuIGJ9cSgic2hha2EudXRpbC5VaW50OEFycmF5VXRpbHMudG9IZXgiLExiKTtmdW5jdGlvbiBNYShhLGIpe2lmKCFhJiYhYilyZXR1cm4hMDtpZighYXx8IWJ8fGEubGVuZ3RoIT1iLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIGM9MDtjPGEubGVuZ3RoOysrYylpZihhW2NdIT1iW2NdKXJldHVybiExO3JldHVybiEwfTtmdW5jdGlvbiBNYigpe3RoaXMuaT10aGlzLmE9IiI7dGhpcy53aXRoQ3JlZGVudGlhbHM9ITE7dGhpcy5vPXRoaXMuZj1udWxsO3RoaXMuaj10aGlzLmg9ITE7dGhpcy5tPXRoaXMuZz0iIjt0aGlzLmM9bnVsbDt0aGlzLmI9W119ZnVuY3Rpb24gTmIoYSxiKXt2YXIgYz1uZXcgTWI7Yy5hPWEuYTtjLmk9YS5pO2Mud2l0aENyZWRlbnRpYWxzPWEud2l0aENyZWRlbnRpYWxzO2MuZj1hLmY7Yy5vPWEubztjLmg9YS5oO2Muaj1hLmo7Yy5nPWEuZztjLm09YS5tO2MuYz1hLmM/bmV3IFVpbnQ4QXJyYXkoYS5jLmJ1ZmZlcik6bnVsbDtPYihjLGEuYik7T2IoYyxiLmIpO3JldHVybiBjfWZ1bmN0aW9uIE9iKGEsYil7dmFyIGM9YS5iLmNvbmNhdChiLm1hcChmdW5jdGlvbihhKXtyZXR1cm57aW5pdERhdGE6bmV3IFVpbnQ4QXJyYXkoYS5pbml0RGF0YS5idWZmZXIpLGluaXREYXRhVHlwZTphLmluaXREYXRhVHlwZX19KSk7YS5iPXdhKGMpfQpmdW5jdGlvbiB4YShhLGIpe3JldHVybiBhLmluaXREYXRhVHlwZT09Yi5pbml0RGF0YVR5cGUmJk1hKGEuaW5pdERhdGEsYi5pbml0RGF0YSl9O2Z1bmN0aW9uIFBiKGEsYixjLGQpe3RoaXMud2l0aENyZWRlbnRpYWxzPWM7dGhpcy5hPVtdO2QmJnRoaXMuYS5wdXNoKGQpfXEoInNoYWthLnBsYXllci5Ecm1TY2hlbWVJbmZvIixQYik7UGIuRGlzdGluY3RpdmVJZGVudGlmaWVyPXtPUFRJT05BTDowLFJFUVVJUkVEOjF9O1BiLlBlcnNpc3RlbnRTdGF0ZT17T1BUSU9OQUw6MCxSRVFVSVJFRDoxfTtQYi5jcmVhdGVVbmVuY3J5cHRlZD1mdW5jdGlvbigpe3JldHVybiBuZXcgUGIoMCwwLCExLG51bGwpfTtmdW5jdGlvbiBRYihhKXt0aGlzLnN5c3RlbUlkcz1bXTt0aGlzLmNlbmNLZXlJZHM9W107dGhpcy5hPVtdO2E9bmV3IEJhKG5ldyBEYXRhVmlldyhhLmJ1ZmZlcikpO3RyeXtmb3IoO0RhKGEpOyl7dmFyIGI9YS5hLGM9dihhKSxkPXYoYSk7MT09Yz9jPUZhKGEpOjA9PWMmJihjPWEuYi5ieXRlTGVuZ3RoLWIpO2lmKDE4ODY2MTQzNzYhPWQpSGEoYSxjLShhLmEtYikpO2Vsc2V7dmFyIGU9RWEoYSk7aWYoMTxlKUhhKGEsYy0oYS5hLWIpKTtlbHNle0hhKGEsMyk7dmFyIGY9TGIoR2EoYSkpLGc9W107aWYoMDxlKWZvcih2YXIgaD12KGEpLGs9MDtrPGg7KytrKXt2YXIgbD1MYihHYShhKSk7Zy5wdXNoKGwpfXZhciBtPXYoYSk7SGEoYSxtKTt0aGlzLmNlbmNLZXlJZHMucHVzaC5hcHBseSh0aGlzLmNlbmNLZXlJZHMsZyk7dGhpcy5zeXN0ZW1JZHMucHVzaChmKTt0aGlzLmEucHVzaCh7c3RhcnQ6YixlbmQ6YS5hLTF9KTthLmEhPWIrYyYmSGEoYSxjLShhLmEtYikpfX19fWNhdGNoKHApe319Cjt2YXIgUmI9L14oPzooW146Lz8jLl0rKTopPyg/OlwvXC8oPzooW14vPyNdKilAKT8oW14vIz9dKj8pKD86OihbMC05XSspKT8oPz1bLyM/XXwkKSk/KFtePyNdKyk/KD86XD8oW14jXSopKT8oPzojKC4qKSk/JC87ZnVuY3Rpb24gTChhKXt2YXIgYjthIGluc3RhbmNlb2YgTD8oU2IodGhpcyxhLnphKSx0aGlzLlVhPWEuVWEsdGhpcy5oYT1hLmhhLFRiKHRoaXMsYS5YYSksdGhpcy51YT1hLnVhLFViKHRoaXMsYS5hLmNsb25lKCkpLHRoaXMuTWE9YS5NYSk6YSYmKGI9U3RyaW5nKGEpLm1hdGNoKFJiKSk/KFNiKHRoaXMsYlsxXXx8IiIsITApLHRoaXMuVWE9VmIoYlsyXXx8IiIpLHRoaXMuaGE9VmIoYlszXXx8IiIsITApLFRiKHRoaXMsYls0XSksdGhpcy51YT1WYihiWzVdfHwiIiwhMCksVWIodGhpcyxiWzZdfHwiIiwhMCksdGhpcy5NYT1WYihiWzddfHwiIikpOnRoaXMuYT1uZXcgV2IobnVsbCl9bj1MLnByb3RvdHlwZTtuLnphPSIiO24uVWE9IiI7bi5oYT0iIjtuLlhhPW51bGw7bi51YT0iIjtuLk1hPSIiOwpuLnRvU3RyaW5nPWZ1bmN0aW9uKCl7dmFyIGE9W10sYj10aGlzLnphO2ImJmEucHVzaChYYihiLFliLCEwKSwiOiIpO2lmKGI9dGhpcy5oYSl7YS5wdXNoKCIvLyIpO3ZhciBjPXRoaXMuVWE7YyYmYS5wdXNoKFhiKGMsWWIsITApLCJAIik7YS5wdXNoKGVuY29kZVVSSUNvbXBvbmVudChiKS5yZXBsYWNlKC8lMjUoWzAtOWEtZkEtRl17Mn0pL2csIiUkMSIpKTtiPXRoaXMuWGE7bnVsbCE9YiYmYS5wdXNoKCI6IixTdHJpbmcoYikpfWlmKGI9dGhpcy51YSl0aGlzLmhhJiYiLyIhPWIuY2hhckF0KDApJiZhLnB1c2goIi8iKSxhLnB1c2goWGIoYiwiLyI9PWIuY2hhckF0KDApP1piOiRiLCEwKSk7KGI9dGhpcy5hLnRvU3RyaW5nKCkpJiZhLnB1c2goIj8iLGIpOyhiPXRoaXMuTWEpJiZhLnB1c2goIiMiLFhiKGIsYWMpKTtyZXR1cm4gYS5qb2luKCIiKX07Cm4ucmVzb2x2ZT1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmNsb25lKCk7ImRhdGEiPT09Yi56YSYmKGI9bmV3IEwpO3ZhciBjPSEhYS56YTtjP1NiKGIsYS56YSk6Yz0hIWEuVWE7Yz9iLlVhPWEuVWE6Yz0hIWEuaGE7Yz9iLmhhPWEuaGE6Yz1udWxsIT1hLlhhO3ZhciBkPWEudWE7aWYoYylUYihiLGEuWGEpO2Vsc2UgaWYoYz0hIWEudWEpe2lmKCIvIiE9ZC5jaGFyQXQoMCkpaWYodGhpcy5oYSYmIXRoaXMudWEpZD0iLyIrZDtlbHNle3ZhciBlPWIudWEubGFzdEluZGV4T2YoIi8iKTstMSE9ZSYmKGQ9Yi51YS5zdWJzdHIoMCxlKzEpK2QpfWlmKCIuLiI9PWR8fCIuIj09ZClkPSIiO2Vsc2UgaWYoLTEhPWQuaW5kZXhPZigiLi8iKXx8LTEhPWQuaW5kZXhPZigiLy4iKSl7Zm9yKHZhciBlPTA9PWQubGFzdEluZGV4T2YoIi8iLDApLGQ9ZC5zcGxpdCgiLyIpLGY9W10sZz0wO2c8ZC5sZW5ndGg7KXt2YXIgaD1kW2crK107Ii4iPT1oP2UmJmc9PWQubGVuZ3RoJiZmLnB1c2goIiIpOiIuLiI9PQpoPygoMTxmLmxlbmd0aHx8MT09Zi5sZW5ndGgmJiIiIT1mWzBdKSYmZi5wb3AoKSxlJiZnPT1kLmxlbmd0aCYmZi5wdXNoKCIiKSk6KGYucHVzaChoKSxlPSEwKX1kPWYuam9pbigiLyIpfX1jP2IudWE9ZDpjPSIiIT09YS5hLnRvU3RyaW5nKCk7Yz9VYihiLGEuYS5jbG9uZSgpKTpjPSEhYS5NYTtjJiYoYi5NYT1hLk1hKTtyZXR1cm4gYn07bi5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgTCh0aGlzKX07ZnVuY3Rpb24gU2IoYSxiLGMpe2EuemE9Yz9WYihiLCEwKTpiO2EuemEmJihhLnphPWEuemEucmVwbGFjZSgvOiQvLCIiKSl9ZnVuY3Rpb24gVGIoYSxiKXtpZihiKXtiPU51bWJlcihiKTtpZihpc05hTihiKXx8MD5iKXRocm93IEVycm9yKCJCYWQgcG9ydCBudW1iZXIgIitiKTthLlhhPWJ9ZWxzZSBhLlhhPW51bGx9ZnVuY3Rpb24gVWIoYSxiLGMpe2IgaW5zdGFuY2VvZiBXYj9hLmE9YjooY3x8KGI9WGIoYixiYykpLGEuYT1uZXcgV2IoYikpfQpmdW5jdGlvbiBWYihhLGIpe3JldHVybiBhP2I/ZGVjb2RlVVJJKGEpOmRlY29kZVVSSUNvbXBvbmVudChhKToiIn1mdW5jdGlvbiBYYihhLGIsYyl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBhPyhhPWVuY29kZVVSSShhKS5yZXBsYWNlKGIsY2MpLGMmJihhPWEucmVwbGFjZSgvJTI1KFswLTlhLWZBLUZdezJ9KS9nLCIlJDEiKSksYSk6bnVsbH1mdW5jdGlvbiBjYyhhKXthPWEuY2hhckNvZGVBdCgwKTtyZXR1cm4iJSIrKGE+PjQmMTUpLnRvU3RyaW5nKDE2KSsoYSYxNSkudG9TdHJpbmcoMTYpfXZhciBZYj0vWyNcL1w/QF0vZywkYj0vW1wjXD86XS9nLFpiPS9bXCNcP10vZyxiYz0vW1wjXD9AXS9nLGFjPS8jL2c7ZnVuY3Rpb24gV2IoYSl7dGhpcy5iPWF8fG51bGx9V2IucHJvdG90eXBlLmE9bnVsbDtXYi5wcm90b3R5cGUuYz1udWxsOwpmdW5jdGlvbiBkYyhhLGIsYyl7aWYoIWEuYSYmKGEuYT17fSxhLmM9MCxhLmIpKWZvcih2YXIgZD1hLmIuc3BsaXQoIiYiKSxlPTA7ZTxkLmxlbmd0aDtlKyspe3ZhciBmPWRbZV0uaW5kZXhPZigiPSIpLGc9bnVsbCxoPW51bGw7MDw9Zj8oZz1kW2VdLnN1YnN0cmluZygwLGYpLGg9ZFtlXS5zdWJzdHJpbmcoZisxKSk6Zz1kW2VdO2c9ZGVjb2RlVVJJQ29tcG9uZW50KGcucmVwbGFjZSgvXCsvZywiICIpKTtoPWh8fCIiO2RjKGEsZyxkZWNvZGVVUklDb21wb25lbnQoaC5yZXBsYWNlKC9cKy9nLCIgIikpKX1hLmI9bnVsbDsoZD1hLmEuaGFzT3duUHJvcGVydHkoYikmJmEuYVtiXSl8fChhLmFbYl09ZD1bXSk7ZC5wdXNoKGMpO2EuYysrfQpXYi5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtpZih0aGlzLmIpcmV0dXJuIHRoaXMuYjtpZighdGhpcy5hKXJldHVybiIiO3ZhciBhPVtdLGI7Zm9yKGIgaW4gdGhpcy5hKWZvcih2YXIgYz1lbmNvZGVVUklDb21wb25lbnQoYiksZD10aGlzLmFbYl0sZT0wO2U8ZC5sZW5ndGg7ZSsrKXt2YXIgZj1jOyIiIT09ZFtlXSYmKGYrPSI9IitlbmNvZGVVUklDb21wb25lbnQoZFtlXSkpO2EucHVzaChmKX1yZXR1cm4gdGhpcy5iPWEuam9pbigiJiIpfTtXYi5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgV2I7YS5iPXRoaXMuYjtpZih0aGlzLmEpe3ZhciBiPXt9LGM7Zm9yKGMgaW4gdGhpcy5hKWJbY109dGhpcy5hW2NdLmNvbmNhdCgpO2EuYT1iO2EuYz10aGlzLmN9cmV0dXJuIGF9O2Z1bmN0aW9uIGVjKGEsYixjKXt2YXIgZD1hLmluZGV4T2YoIjw/eG1sIik7MDw9ZCYmKGE9YS5zdWJzdHIoZCkpO2E9KG5ldyBET01QYXJzZXIpLnBhcnNlRnJvbVN0cmluZyhhLCJ0ZXh0L3htbCIpO2lmKCFhKXJldHVybiBudWxsOyJzdHJpbmciPT09dHlwZW9mIGImJihiPVtuZXcgTChiKV0pO2I9Ynx8W25ldyBMKCIiKV07Yz1jfHxbbmV3IEwoIiIpXTtyZXR1cm4gTSh7QWM6YixiYXNlVXJsOmN9LGEsZmMpfXEoInNoYWthLmRhc2gubXBkLnBhcnNlTXBkIixlYyk7CmZ1bmN0aW9uIGZjKCl7dGhpcy5pZD10aGlzLnVybD1udWxsO3RoaXMudHlwZT0ic3RhdGljIjt0aGlzLkZCSXNMaXZlVGVtcGxhdGVkPXRoaXMuRkJXYXNMaXZlPXRoaXMubWFuaWZlc3RJc0xpdmVTdHJlYW1pbmc9ITE7dGhpcy5GQk1hbmlmZXN0SWRlbnRpZmllcj0iIjt0aGlzLkZCTVM9ITE7dGhpcy51PXRoaXMuYmFzZVVybD10aGlzLkFjPW51bGw7dGhpcy5qPXRoaXMuaT10aGlzLmg9MDt0aGlzLmI9bnVsbDt0aGlzLm09NTt0aGlzLmY9dGhpcy5jPXRoaXMuZz1udWxsO3RoaXMubz0xO3RoaXMubGFzdFZpZGVvRnJhbWVUcz10aGlzLmN1cnJlbnRTZXJ2ZXJUaW1lTXM9MDt0aGlzLmE9W119ZnVuY3Rpb24gZ2MoKXt0aGlzLmY9dGhpcy5jPXRoaXMuYj10aGlzLmJhc2VVcmw9dGhpcy5kdXJhdGlvbj10aGlzLnN0YXJ0PXRoaXMuaWQ9bnVsbDt0aGlzLmE9W119CmZ1bmN0aW9uIGhjKCl7dGhpcy5jPXRoaXMuY29kZWNzPXRoaXMubWltZVR5cGU9dGhpcy5oZWlnaHQ9dGhpcy53aWR0aD10aGlzLmNvbnRlbnRUeXBlPXRoaXMubGFuZz10aGlzLmdyb3VwPXRoaXMuaWQ9bnVsbDt0aGlzLmY9ITE7dGhpcy5pPXRoaXMuaD10aGlzLmc9dGhpcy5iYXNlVXJsPW51bGw7dGhpcy5qPVtdO3RoaXMuYT1bXTt0aGlzLmI9bnVsbH1mdW5jdGlvbiBpYygpe3RoaXMudmFsdWU9bnVsbH1mdW5jdGlvbiBqYygpe3RoaXMubGFuZz10aGlzLmE9bnVsbH1mdW5jdGlvbiBrYygpe3RoaXMuY29udGVudFR5cGU9dGhpcy5sYW5nPXRoaXMuaWQ9bnVsbH1mdW5jdGlvbiBsYygpe3RoaXMuZGF0YT1udWxsfWZ1bmN0aW9uIG1jKCl7dGhpcy5kYXRhPW51bGx9CmZ1bmN0aW9uIG5jKCl7dGhpcy5hPXRoaXMuYj10aGlzLmY9dGhpcy5pPXRoaXMuYmFzZVVybD10aGlzLmo9dGhpcy5mcmFtZVJhdGU9dGhpcy51PXRoaXMubz10aGlzLm09dGhpcy5mYlF1YWxpdHlDbGFzcz10aGlzLmZiUXVhbGl0eUxhYmVsPXRoaXMuaD10aGlzLmc9dGhpcy5jb2RlY3M9dGhpcy5taW1lVHlwZT10aGlzLmhlaWdodD10aGlzLndpZHRoPXRoaXMuYmFuZHdpZHRoPXRoaXMubGFuZz10aGlzLmlkPW51bGw7dGhpcy5jPVtdfWZ1bmN0aW9uIG9jKCl7dGhpcy52YWx1ZT10aGlzLmE9bnVsbH1vYy5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgb2M7YS5hPXRoaXMuYTthLnZhbHVlPXRoaXMudmFsdWU7cmV0dXJuIGF9O29jLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMuYT1OKGIsInNjaGVtZUlkVXJpIixPLHRoaXMuYSk7dGhpcy52YWx1ZT1OKGIsInZhbHVlIixPLHRoaXMudmFsdWUpfTsKZnVuY3Rpb24gcGMoKXt0aGlzLmI9dGhpcy5hPXRoaXMuZj10aGlzLmM9bnVsbH1mdW5jdGlvbiBxYygpe3RoaXMucGFyc2VkUHNzaD10aGlzLnBzc2hCb3g9bnVsbH1mdW5jdGlvbiByYygpe3RoaXMudXJsPW51bGx9ZnVuY3Rpb24gc2MoKXt0aGlzLnVybD1udWxsfWZ1bmN0aW9uIHRjKCl7dGhpcy5iYXNlVXJsPW51bGw7dGhpcy5zPTE7dGhpcy5jPXRoaXMuYj10aGlzLmY9dGhpcy5hPXRoaXMuTD1udWxsfXRjLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyB0YzthLmJhc2VVcmw9dWModGhpcy5iYXNlVXJsKTthLnM9dGhpcy5zO2EuTD10aGlzLkw7YS5hPXZjKHRoaXMuYSk7YS5mPXZjKHRoaXMuZik7YS5iPXZjKHRoaXMuYik7YS5jPXZjKHRoaXMuYyk7cmV0dXJuIGF9O2Z1bmN0aW9uIHdjKCl7dGhpcy5hPXRoaXMudXJsPW51bGx9CndjLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyB3YzthLnVybD11Yyh0aGlzLnVybCk7YS5hPXZjKHRoaXMuYSk7cmV0dXJuIGF9O2Z1bmN0aW9uIHhjKCl7dGhpcy5hPXRoaXMudXJsPW51bGx9eGMucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IHhjO2EudXJsPXVjKHRoaXMudXJsKTthLmE9dmModGhpcy5hKTtyZXR1cm4gYX07ZnVuY3Rpb24geWMoKXt0aGlzLmJhc2VVcmw9bnVsbDt0aGlzLnM9MTt0aGlzLkg9dGhpcy5MPW51bGw7dGhpcy5jPTA7dGhpcy5iPW51bGw7dGhpcy5hPVtdO3RoaXMuQz1udWxsfXljLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyB5YzthLmJhc2VVcmw9dWModGhpcy5iYXNlVXJsKTthLnM9dGhpcy5zO2EuTD10aGlzLkw7YS5IPXRoaXMuSDthLmM9dGhpcy5jO2EuYj12Yyh0aGlzLmIpO2EuYT11Yyh0aGlzLmEpfHxbXTthLkM9dmModGhpcy5DKTtyZXR1cm4gYX07CmZ1bmN0aW9uIHpjKCl7dGhpcy5hPXRoaXMuYj1udWxsfXpjLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyB6YzthLmI9dWModGhpcy5iKTthLmE9dmModGhpcy5hKTtyZXR1cm4gYX07ZnVuY3Rpb24gQWMoKXt0aGlzLnM9MTt0aGlzLkg9dGhpcy5MPW51bGw7dGhpcy5iPTA7dGhpcy5DPXRoaXMuYz10aGlzLmE9dGhpcy5mPW51bGx9QWMucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IEFjO2Eucz10aGlzLnM7YS5MPXRoaXMuTDthLkg9dGhpcy5IO2EuYj10aGlzLmI7YS5mPXRoaXMuZjthLmE9dGhpcy5hO2EuYz10aGlzLmM7YS5DPXZjKHRoaXMuQyk7cmV0dXJuIGF9O2Z1bmN0aW9uIEJjKCl7dGhpcy5iPXRoaXMuYT1udWxsO3RoaXMuTj1bXX1CYy5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgQmM7YS5hPXRoaXMuYTthLmI9dGhpcy5iO2EuTj11Yyh0aGlzLk4pfHxbXTtyZXR1cm4gYX07CmZ1bmN0aW9uIENjKCl7dGhpcy5zdGFydFNlZ21lbnRJbmRleD10aGlzLnJlcGVhdD10aGlzLmR1cmF0aW9uPXRoaXMuc3RhcnRUaW1lPW51bGx9Q2MucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IENjO2Euc3RhcnRUaW1lPXRoaXMuc3RhcnRUaW1lO2EuZHVyYXRpb249dGhpcy5kdXJhdGlvbjthLnJlcGVhdD10aGlzLnJlcGVhdDtyZXR1cm4gYX07ZnVuY3Rpb24gRGMoYSxiKXt0aGlzLnFhPWE7dGhpcy5lbmQ9Yn1EYy5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IERjKHRoaXMucWEsdGhpcy5lbmQpfTtmYy5UQUdfTkFNRT0iTVBEIjtnYy5UQUdfTkFNRT0iUGVyaW9kIjtoYy5UQUdfTkFNRT0iQWRhcHRhdGlvblNldCI7aWMuVEFHX05BTUU9IlJvbGUiO2pjLlRBR19OQU1FPSJBY2Nlc3NpYmlsaXR5IjtrYy5UQUdfTkFNRT0iQ29udGVudENvbXBvbmVudCI7bmMuVEFHX05BTUU9IlJlcHJlc2VudGF0aW9uIjtwYy5UQUdfTkFNRT0iQ29udGVudFByb3RlY3Rpb24iOwpxYy5UQUdfTkFNRT0iY2VuYzpwc3NoIjtyYy5UQUdfTkFNRT0iQmFzZVVSTCI7b2MuVEFHX05BTUU9IkF1ZGlvQ2hhbm5lbENvbmZpZ3VyYXRpb24iO3NjLlRBR19OQU1FPSJMb2NhdGlvbiI7dGMuVEFHX05BTUU9IlNlZ21lbnRCYXNlIjt3Yy5UQUdfTkFNRT0iUmVwcmVzZW50YXRpb25JbmRleCI7bGMuVEFHX05BTUU9IkZCSW5pdGlhbGl6YXRpb25CaW5hcnkiO21jLlRBR19OQU1FPSJGQlNlZ21lbnRJbmRleEJpbmFyeSI7eGMuVEFHX05BTUU9IkluaXRpYWxpemF0aW9uIjt5Yy5UQUdfTkFNRT0iU2VnbWVudExpc3QiO3pjLlRBR19OQU1FPSJTZWdtZW50VVJMIjtBYy5UQUdfTkFNRT0iU2VnbWVudFRlbXBsYXRlIjtCYy5UQUdfTkFNRT0iU2VnbWVudFRpbWVsaW5lIjtDYy5UQUdfTkFNRT0iUyI7CmZjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMudXJsPWEuQWM7dGhpcy5pZD1OKGIsImlkIixPKTt0aGlzLnR5cGU9TihiLCJ0eXBlIixPKXx8InN0YXRpYyI7dGhpcy5tYW5pZmVzdElzTGl2ZVN0cmVhbWluZz0iZHluYW1pYyI9PT10aGlzLnR5cGU7dGhpcy5GQldhc0xpdmU9TihiLCJGQldhc0xpdmUiLEVjKXx8ITE7dGhpcy5GQklzTGl2ZVRlbXBsYXRlZD1OKGIsIkZCSXNMaXZlVGVtcGxhdGVkIixFYyl8fCExO3RoaXMuRkJNYW5pZmVzdElkZW50aWZpZXI9TihiLCJGQk1hbmlmZXN0SWRlbnRpZmllciIsTyl8fCIiO3RoaXMuRkJNUz1OKGIsIkZCTVMiLEVjKXx8ITE7VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJvdmVycmlkZV9mYl9pc19saXZlX3RlbXBsYXRlZCIsITEpJiYodGhpcy5GQklzTGl2ZVRlbXBsYXRlZD0hMSk7dGhpcy5iPU4oYiwibWVkaWFQcmVzZW50YXRpb25EdXJhdGlvbiIsRmMpO3RoaXMubT1OKGIsIm1pbkJ1ZmZlclRpbWUiLApGYyx0aGlzLm0pO3RoaXMuZz1OKGIsIm1pbmltdW1VcGRhdGVQZXJpb2QiLEZjLHRoaXMuZyk7dGhpcy5jPU4oYiwiYXZhaWxhYmlsaXR5U3RhcnRUaW1lIixHYyx0aGlzLmMpO3RoaXMuZj1OKGIsInRpbWVTaGlmdEJ1ZmZlckRlcHRoIixGYyx0aGlzLmYpO3RoaXMuY3VycmVudFNlcnZlclRpbWVNcz1OKGIsImN1cnJlbnRTZXJ2ZXJUaW1lTXMiLFApO04oYiwiZmlyc3RBdlRpbWVNcyIsUCk7dGhpcy5sYXN0VmlkZW9GcmFtZVRzPU4oYiwibGFzdFZpZGVvRnJhbWVUcyIsUCk7dGhpcy5mPW51bGw7dGhpcy5vPU4oYiwic3VnZ2VzdGVkUHJlc2VudGF0aW9uRGVsYXkiLEZjLHRoaXMubyk7dGhpcy5oPU4oYiwibG9hcFN0cmVhbVR5cGUiLEhjLHRoaXMuaCk7dGhpcy5pPU4oYiwidXNpbmdBU1JDYXB0aW9ucyIsSGMsdGhpcy5pKTt0aGlzLmo9TihiLCJpc1VzaW5nQXNyQ2FwdGlvbnNFbXBsb3llZURvZ2Zvb2RpbmciLEhjLHRoaXMuaik7dmFyIGM9YS5iYXNlVXJsLGQ9SWModGhpcywKYixyYyk7dGhpcy5iYXNlVXJsPUpjKGMsZCk7aWYoZD1NKHRoaXMsYixzYykpdGhpcy51PUtjKGMsZC51cmwpO3RoaXMuYT1JYyh0aGlzLGIsZ2MpfTtmdW5jdGlvbiBMYyhhLGIsYyxkKXtpZigwIT09YS5hLmxlbmd0aCl7dmFyIGU9bmV3IGhjO2UuY29udGVudFR5cGU9InRleHQiO2UubGFuZz1jfHwiZW4iO2UuZj0hMDtjPW5ldyBuYztjLmJhbmR3aWR0aD0wO2MubWltZVR5cGU9ZHx8InRleHQvdnR0IjtjLmJhc2VVcmw9W25ldyBMKGIpXTtlLmEucHVzaChjKTthLmFbMF0uYS5wdXNoKGUpO01jKGEuYVswXSl9fQpnYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt0aGlzLmlkPU4oYiwiaWQiLE8pO3RoaXMuc3RhcnQ9TihiLCJzdGFydCIsRmMpO3RoaXMuZHVyYXRpb249TihiLCJkdXJhdGlvbiIsRmMpO3ZhciBjPUljKHRoaXMsYixyYyk7dGhpcy5iYXNlVXJsPUpjKGEuYmFzZVVybCxjKTt0aGlzLmI9TSh0aGlzLGIsdGMpO3RoaXMuYz1NKHRoaXMsYix5Yyk7dGhpcy5mPU0odGhpcyxiLEFjKTt0aGlzLmE9SWModGhpcyxiLGhjKTtNYyh0aGlzKX07ZnVuY3Rpb24gTWMoYSl7Zm9yKHZhciBiPVtdLGM9MDtjPGEuYS5sZW5ndGg7KytjKXt2YXIgZD1hLmFbY107bnVsbCE9ZC5ncm91cCYmKGJbZC5ncm91cF09ITApfWZvcihjPTA7YzxhLmEubGVuZ3RoOysrYylpZihkPWEuYVtjXSxudWxsPT1kLmdyb3VwKXtmb3IodmFyIGU9MTsxPT1iW2VdOykrK2U7YltlXT0hMDtkLmdyb3VwPWV9fQpoYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt2YXIgYz1NKHRoaXMsYixrYyl8fHt9LGQ9TSh0aGlzLGIsaWMpO3RoaXMuaWQ9TihiLCJpZCIsTyk7dGhpcy5ncm91cD1OKGIsImdyb3VwIixQKTt0aGlzLmxhbmc9TihiLCJsYW5nIixPLGMubGFuZyk7dGhpcy5jb250ZW50VHlwZT1OKGIsImNvbnRlbnRUeXBlIixPLGMuY29udGVudFR5cGUpO3RoaXMud2lkdGg9TihiLCJ3aWR0aCIsUSk7dGhpcy5oZWlnaHQ9TihiLCJoZWlnaHQiLFEpO3RoaXMubWltZVR5cGU9TihiLCJtaW1lVHlwZSIsTyk7dGhpcy5jb2RlY3M9TihiLCJjb2RlY3MiLE8pO3RoaXMuYz1OKGIsIkZCUHJvamVjdGlvbiIsTyk7dGhpcy5mPWQmJiJtYWluIj09ZC52YWx1ZTt0aGlzLmxhbmcmJih0aGlzLmxhbmc9U2EodGhpcy5sYW5nKSk7Yz1JYyh0aGlzLGIscmMpO3RoaXMuYmFzZVVybD1KYyhhLmJhc2VVcmwsYyk7dGhpcy5qPUljKHRoaXMsYixwYyk7IXRoaXMuY29udGVudFR5cGUmJnRoaXMubWltZVR5cGUmJgoodGhpcy5jb250ZW50VHlwZT10aGlzLm1pbWVUeXBlLnNwbGl0KCIvIilbMF0pO3RoaXMuZz1hLmI/T2ModGhpcyxiLGEuYik6TSh0aGlzLGIsdGMpO3RoaXMuaD1hLmM/T2ModGhpcyxiLGEuYyk6TSh0aGlzLGIseWMpO3RoaXMuaT1hLmY/T2ModGhpcyxiLGEuZik6TSh0aGlzLGIsQWMpO3RoaXMuYT1JYyh0aGlzLGIsbmMpO3RoaXMuYj1NKHRoaXMsYixqYyk7IXRoaXMubWltZVR5cGUmJnRoaXMuYS5sZW5ndGgmJih0aGlzLm1pbWVUeXBlPXRoaXMuYVswXS5taW1lVHlwZSwhdGhpcy5jb250ZW50VHlwZSYmdGhpcy5taW1lVHlwZSYmKHRoaXMuY29udGVudFR5cGU9dGhpcy5taW1lVHlwZS5zcGxpdCgiLyIpWzBdKSl9O2ljLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMudmFsdWU9TihiLCJ2YWx1ZSIsTyl9O2pjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMuYT1OKGIsInNjaGVtZUlkVXJpIixPKTt0aGlzLmxhbmc9TihiLCJsYW5nIixPKX07CmtjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMuaWQ9TihiLCJpZCIsTyk7dGhpcy5sYW5nPU4oYiwibGFuZyIsTyk7dGhpcy5jb250ZW50VHlwZT1OKGIsImNvbnRlbnRUeXBlIixPKTt0aGlzLmxhbmcmJih0aGlzLmxhbmc9U2EodGhpcy5sYW5nKSl9OwpuYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt0aGlzLmlkPU4oYiwiaWQiLE8pO3RoaXMuYmFuZHdpZHRoPU4oYiwiYmFuZHdpZHRoIixRKTt0aGlzLndpZHRoPU4oYiwid2lkdGgiLFEsYS53aWR0aCk7dGhpcy5oZWlnaHQ9TihiLCJoZWlnaHQiLFEsYS5oZWlnaHQpO3RoaXMubWltZVR5cGU9TihiLCJtaW1lVHlwZSIsTyxhLm1pbWVUeXBlKTt0aGlzLmNvZGVjcz1OKGIsImNvZGVjcyIsTyxhLmNvZGVjcyk7dGhpcy5mYlF1YWxpdHlMYWJlbD1OKGIsIkZCUXVhbGl0eUxhYmVsIixPKTt0aGlzLmZiUXVhbGl0eUNsYXNzPU4oYiwiRkJRdWFsaXR5Q2xhc3MiLE8pO3RoaXMubT1OKGIsIkZCQWJyUG9saWN5VGFncyIsTyk7VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJtcGRfcGFyc2VfbW9zX2F0dHJpYnV0ZXMiLCExKSYmKHRoaXMubz1OKGIsIkZCUGxheWJhY2tSZXNvbHV0aW9uTW9zIixNb3NVdGlscy5wYXJzZVBsYXliYWNrTW9zKSx0aGlzLnU9TihiLAoiRkJQbGF5YmFja1Jlc29sdXRpb25Nb3NDb25maWRlbmNlTGV2ZWwiLE8pKTtWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woIm1wZF9wYXJzZV9mcmFtZV9hbmRfYXVkaW9fc2FtcGxpbmdfcmF0ZSIsITEpJiYodGhpcy5mcmFtZVJhdGU9TihiLCJmcmFtZVJhdGUiLE8pLHRoaXMuaj1OKGIsImF1ZGlvU2FtcGxpbmdSYXRlIixRKSk7dGhpcy5sYW5nPWEubGFuZzt2YXIgYz1JYyh0aGlzLGIscmMpO3RoaXMuYmFzZVVybD1KYyhhLmJhc2VVcmwsYyk7VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJhZGRfaW5saW5lX2luaXRpYWxpemF0aW9uX3Jlc291cmNlcyIsITEpJiYodGhpcy5nPU0odGhpcyxiLGxjKSx0aGlzLmg9TSh0aGlzLGIsbWMpKTt0aGlzLmM9SWModGhpcyxiLHBjKTt0aGlzLmk9TSh0aGlzLGIsb2MpO3RoaXMuZj1hLmc/T2ModGhpcyxiLGEuZyk6TSh0aGlzLGIsdGMpO3RoaXMuYj1hLmg/T2ModGhpcyxiLGEuaCk6TSh0aGlzLGIsCnljKTt0aGlzLmE9YS5pP09jKHRoaXMsYixhLmkpOk0odGhpcyxiLEFjKTt0aGlzLmM9dGhpcy5jLmNvbmNhdChhLmopfTtsYy5wcm90b3R5cGUucGFyc2U9bWMucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7aWYoYiYmYi5maXJzdENoaWxkKXt2YXIgYz1QYyhiKTtudWxsIT1jJiYodGhpcy5kYXRhPUtiKGMpLmJ1ZmZlcil9fTtwYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt0aGlzLmM9Yjt0aGlzLmY9TihiLCJzY2hlbWVJZFVyaSIsTyk7dmFyIGM9TihiLCJjZW5jOmRlZmF1bHRfS0lEIixPKTtjJiYodGhpcy5iPWMucmVwbGFjZSgvWy1dL2csIiIpKTt0aGlzLmE9TSh0aGlzLGIscWMpfTsKcWMucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dmFyIGM9UGMoYik7aWYoYyl7dGhpcy5wc3NoQm94PUtiKGMpO3RyeXt0aGlzLnBhcnNlZFBzc2g9bmV3IFFiKHRoaXMucHNzaEJveCl9Y2F0Y2goZCl7aWYoIShkIGluc3RhbmNlb2YgUmFuZ2VFcnJvcikpdGhyb3cgZDt9fX07cmMucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dmFyIGM9Yi5jaGlsZE5vZGVzLGQ9IiI7aWYoMT09Yy5sZW5ndGgpZD1QYyhiKTtlbHNlIGZvcih2YXIgZT0wO2U8Yy5sZW5ndGg7ZSsrKWNbZV0ubm9kZVR5cGU9PU5vZGUuVEVYVF9OT0RFJiYoZCs9Y1tlXS5ub2RlVmFsdWUpO3RoaXMudXJsPWR9O3NjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMudXJsPVBjKGIpfTsKdGMucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dGhpcy5iYXNlVXJsPWEuYmFzZVVybHx8dGhpcy5iYXNlVXJsO3RoaXMucz1OKGIsInRpbWVzY2FsZSIsUSx0aGlzLnMpO3RoaXMuTD1OKGIsInByZXNlbnRhdGlvblRpbWVPZmZzZXQiLFAsdGhpcy5MKTt0aGlzLmE9TihiLCJpbmRleFJhbmdlIixRYyx0aGlzLmEpO3RoaXMuZj1OKGIsIkZCRmlyc3RTZWdtZW50UmFuZ2UiLFFjLHRoaXMuZik7dGhpcy5iPU0odGhpcyxiLHdjKXx8dGhpcy5iO3RoaXMuYz1NKHRoaXMsYix4Yyl8fHRoaXMuY307d2MucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dmFyIGM9TihiLCJzb3VyY2VVUkwiLE8pO3RoaXMudXJsPUtjKGEuYmFzZVVybCxjKTt0aGlzLmE9TihiLCJyYW5nZSIsUWMsdmMoYS5hKSl9Owp4Yy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt2YXIgYz1OKGIsInNvdXJjZVVSTCIsTyk7dGhpcy51cmw9S2MoYS5iYXNlVXJsLGMpO3RoaXMuYT1OKGIsInJhbmdlIixRYyl9Owp5Yy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt0aGlzLmJhc2VVcmw9YS5iYXNlVXJsfHx0aGlzLmJhc2VVcmw7dGhpcy5zPU4oYiwidGltZXNjYWxlIixRLHRoaXMucyk7dGhpcy5MPU4oYiwicHJlc2VudGF0aW9uVGltZU9mZnNldCIsUCx0aGlzLkwpO3RoaXMuSD1OKGIsImR1cmF0aW9uIixRLHRoaXMuSCk7dmFyIGM9TihiLCJzdGFydE51bWJlciIsUSk7bnVsbCE9YyYmKHRoaXMuYz1jKTt0aGlzLmI9TSh0aGlzLGIseGMpfHx0aGlzLmI7dGhpcy5hPShjPUljKHRoaXMsYix6YykpJiYwPGMubGVuZ3RoP2M6dGhpcy5hO3RoaXMuQz1NKHRoaXMsYixCYyl8fHRoaXMuQztWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImNhbGN1bGF0ZV9xdWlja19kYXNoX3ByZXNlbnRhdGlvbl90aW1lX29mZnNldF9mcm9tX3RpbWVsaW5lIiwhMSkmJihjPVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJjYWxjdWxhdGVfcXVpY2tfZGFzaF9wcmVzZW50YXRpb25fdGltZV9vZmZzZXRfZXBzaWxvbl9tcyIsCjI1MCksdGhpcy5DJiZ0aGlzLkMuTlswXSYmKHRoaXMuTD0xRTM8dGhpcy5DLk5bMF0uc3RhcnRUaW1lP3RoaXMuQy5OWzBdLnN0YXJ0VGltZS1jOnRoaXMuTCkpfTt6Yy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt2YXIgYz1OKGIsIm1lZGlhIixPKTt0aGlzLmI9S2MoYS5iYXNlVXJsLGMpO3RoaXMuYT1OKGIsIm1lZGlhUmFuZ2UiLFFjKX07CkFjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMucz1OKGIsInRpbWVzY2FsZSIsUSx0aGlzLnMpO3RoaXMuTD1OKGIsInByZXNlbnRhdGlvblRpbWVPZmZzZXQiLFAsdGhpcy5MKTt0aGlzLkg9TihiLCJkdXJhdGlvbiIsUSx0aGlzLkgpO3ZhciBjPU4oYiwic3RhcnROdW1iZXIiLFApO251bGwhPWMmJih0aGlzLmI9Yyk7dGhpcy5mPU4oYiwibWVkaWEiLE8sdGhpcy5mKTt0aGlzLmE9TihiLCJpbmRleCIsTyx0aGlzLmEpO3RoaXMuYz1OKGIsImluaXRpYWxpemF0aW9uIixPLHRoaXMuYyk7dGhpcy5DPU0odGhpcyxiLEJjKXx8dGhpcy5DfTtCYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt0aGlzLmE9TihiLCJGQlByZWRpY3RlZE1lZGlhIixPLHRoaXMuYSk7dGhpcy5iPU4oYiwiRkJQcmVkaWN0ZWRNZWRpYUVuZE51bWJlciIsUSk7dGhpcy5OPUljKHRoaXMsYixDYyl9OwpDYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt0aGlzLnN0YXJ0VGltZT1OKGIsInQiLFApO3RoaXMuZHVyYXRpb249TihiLCJkIixQKTt0aGlzLnJlcGVhdD1OKGIsInIiLEhjKX07ZnVuY3Rpb24gSmMoYSxiKXtpZighYnx8MD09PWIubGVuZ3RoKXJldHVybiBhO2Zvcih2YXIgYz1bXSxkPTA7ZDxiLmxlbmd0aDtkKyspe3ZhciBlPWJbZF0udXJsO251bGw9PWF8fDA9PT1hLmxlbmd0aD9jLnB1c2gobmV3IEwoZSkpOihlPUtjKGEuc2xpY2UoMCwxKSxlKSxjLnB1c2goZVswXSkpfXJldHVybiBjfWZ1bmN0aW9uIEtjKGEsYil7aWYoIWIpcmV0dXJuIGE7dmFyIGM9bmV3IEwoYik7cmV0dXJuIGE/YS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVzb2x2ZShjKX0pOltjXX1mdW5jdGlvbiBPYyhhLGIsYyl7dmFyIGQ9dmMoYyk7KGI9UmMoYixjLmNvbnN0cnVjdG9yLlRBR19OQU1FKSkmJmQucGFyc2UoYSxiKTtyZXR1cm4gZH0KZnVuY3Rpb24gTShhLGIsYyl7dmFyIGQ9bnVsbDtpZihiPVJjKGIsYy5UQUdfTkFNRSkpZD1uZXcgYyxkLnBhcnNlKGEsYik7cmV0dXJuIGR9ZnVuY3Rpb24gUmMoYSxiKXtmb3IodmFyIGM9bnVsbCxkPTA7ZDxhLmNoaWxkTm9kZXMubGVuZ3RoO2QrKylpZihhLmNoaWxkTm9kZXNbZF0udGFnTmFtZT09Yil7aWYoYylyZXR1cm4gbnVsbDtjPWEuY2hpbGROb2Rlc1tkXX1yZXR1cm4gY31mdW5jdGlvbiBJYyhhLGIsYyl7Zm9yKHZhciBkPVtdLGU9MDtlPGIuY2hpbGROb2Rlcy5sZW5ndGg7ZSsrKWlmKGIuY2hpbGROb2Rlc1tlXS50YWdOYW1lPT1jLlRBR19OQU1FKXt2YXIgZj1uZXcgYztmLnBhcnNlLmNhbGwoZixhLGIuY2hpbGROb2Rlc1tlXSk7ZC5wdXNoKGYpfXJldHVybiBkfWZ1bmN0aW9uIFBjKGEpe2E9YS5maXJzdENoaWxkO3JldHVybiBhLm5vZGVUeXBlIT1Ob2RlLlRFWFRfTk9ERT9udWxsOmEubm9kZVZhbHVlfQpmdW5jdGlvbiB1YyhhKXtyZXR1cm4gYT9hLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS5jbG9uZSgpfSk6bnVsbH1mdW5jdGlvbiB2YyhhKXtyZXR1cm4gYT9hLmNsb25lKCk6bnVsbH1mdW5jdGlvbiBOKGEsYixjLGQpe2E9YS5oYXNBdHRyaWJ1dGUoYik/YyhhLmdldEF0dHJpYnV0ZShiKSk6bnVsbDtyZXR1cm4gbnVsbCE9YT9hOnZvaWQgMCE9PWQ/ZDpudWxsfWZ1bmN0aW9uIEdjKGEpe2lmKCFhKXJldHVybiBudWxsO2E9RGF0ZS5wYXJzZShhKTtyZXR1cm4gaXNOYU4oYSk/bnVsbDpNYXRoLmZsb29yKGEvMUUzKX0KZnVuY3Rpb24gRmMoYSl7aWYoIWEpcmV0dXJuIG51bGw7dmFyIGI9L15QKD86KFswLTldKilZKT8oPzooWzAtOV0qKU0pPyg/OihbMC05XSopRCk/KD86VCg/OihbMC05XSopSCk/KD86KFswLTldKilNKT8oPzooWzAtOS5dKilTKT8pPyQvLmV4ZWMoYSk7aWYoIWIpcmV0dXJuIG51bGw7YT0wO3ZhciBjPVAoYlsxXSk7YyYmKGErPTMxNTM2RTMqYyk7KGM9UChiWzJdKSkmJihhKz0yNTkyRTMqYyk7KGM9UChiWzNdKSkmJihhKz04NjQwMCpjKTsoYz1QKGJbNF0pKSYmKGErPTM2MDAqYyk7KGM9UChiWzVdKSkmJihhKz02MCpjKTtiPXdpbmRvdy5wYXJzZUZsb2F0KGJbNl0pOyhiPWlzTmFOKGIpP251bGw6YikmJihhKz1iKTtyZXR1cm4gYX0KZnVuY3Rpb24gUWMoYSl7dmFyIGI9LyhbMC05XSspLShbMC05XSspLy5leGVjKGEpO2lmKCFiKXJldHVybiBudWxsO2E9UChiWzFdKTtpZihudWxsPT1hKXJldHVybiBudWxsO2I9UChiWzJdKTtyZXR1cm4gbnVsbD09Yj9udWxsOm5ldyBEYyhhLGIpfWZ1bmN0aW9uIEhjKGEpe2E9d2luZG93LnBhcnNlSW50KGEsMTApO3JldHVybiBpc05hTihhKT9udWxsOmF9ZnVuY3Rpb24gUShhKXthPXdpbmRvdy5wYXJzZUludChhLDEwKTtyZXR1cm4gMDxhP2E6bnVsbH1mdW5jdGlvbiBQKGEpe2E9d2luZG93LnBhcnNlSW50KGEsMTApO3JldHVybiAwPD1hP2E6bnVsbH1mdW5jdGlvbiBFYyhhKXtzd2l0Y2goYS50b0xvd2VyQ2FzZSgpKXtjYXNlICJ0cnVlIjpyZXR1cm4hMDtjYXNlICJmYWxzZSI6cmV0dXJuITE7ZGVmYXVsdDpyZXR1cm4gbnVsbH19ZnVuY3Rpb24gTyhhKXtyZXR1cm4gYX07ZnVuY3Rpb24gU2MoYSxiKXt0aGlzLnVybD1hO3RoaXMuYj1ifHxuZXcgdGI7dGhpcy5qPTA7dGhpcy5nPS0xO3RoaXMuaD10aGlzLmk9MDt0aGlzLmE9bnVsbDt0aGlzLmM9bmV3IEk7dGhpcy5mPW51bGw7dGhpcy5vPXRoaXMuYi5pO3RoaXMubD10aGlzLmIubX1xKCJzaGFrYS51dGlsLkFqYXhSZXF1ZXN0IixTYyk7CmZ1bmN0aW9uIHRiKCl7dGhpcy5ib2R5PW51bGw7dGhpcy5OYT0xO3RoaXMuYz0xRTM7dGhpcy5iPTA7dGhpcy5tZXRob2Q9IkdFVCI7dGhpcy5yZXNwb25zZVR5cGU9ImFycmF5YnVmZmVyIjt0aGlzLlFhPXt9O3RoaXMuZz10aGlzLndpdGhDcmVkZW50aWFscz0hMTt0aGlzLmRhPXRoaXMuYT10aGlzLnU9bnVsbDt0aGlzLmo9ITE7dGhpcy5oPXRoaXMubT10aGlzLmk9dGhpcy5taW1lVHlwZT1udWxsO3RoaXMubz0hMTt0aGlzLnc9LyguKilcLih4eHxmbmEpXC5mYmNkblwubmV0Lzt0aGlzLmY9L2xpdmVzdHJlYW0tbG9va2FzaWRlXC4oZmFjZWJvb2t8d29ya3BsYWNlKVwuY29tJC99dmFyIFRjPSEwO2Z1bmN0aW9uIFVjKGEpe1ZjKGEpO1djKGEpO2EuYi5ib2R5PW51bGw7YS5jLmRlc3Ryb3koKTthLmM9bnVsbDthLmY9bnVsbH0KZnVuY3Rpb24gV2MoYSl7YS5hJiYoYS5hLm9ubG9hZD1udWxsLGEuYS5vbnJlYWR5c3RhdGVjaGFuZ2U9bnVsbCxhLmEub25lcnJvcj1udWxsLGEuYS5vbnRpbWVvdXQ9bnVsbCk7YS5hPW51bGx9ZnVuY3Rpb24gVmMoYSl7LTEhPT1hLmcmJihjbGVhclRpbWVvdXQoYS5nKSxhLmc9LTEpfQpTYy5wcm90b3R5cGUubT1mdW5jdGlvbigpe2lmKHRoaXMuYSlyZXR1cm4gdGhpcy5jO2lmKDA9PXRoaXMudXJsLmxhc3RJbmRleE9mKCJkYXRhOiIsMCkpe3ZhciBhPXRoaXMudXJsLnNwbGl0KCI6IilbMV0uc3BsaXQoIjsiKS5wb3AoKS5zcGxpdCgiLCIpLGI9YS5wb3AoKSxiPSJiYXNlNjQiPT1hLnBvcCgpP3dpbmRvdy5hdG9iKGIucmVwbGFjZSgvLS9nLCIrIikucmVwbGFjZSgvXy9nLCIvIikpOndpbmRvdy5kZWNvZGVVUklDb21wb25lbnQoYik7ImFycmF5YnVmZmVyIj09dGhpcy5iLnJlc3BvbnNlVHlwZSYmKGI9SmIoYikuYnVmZmVyKTthPUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkobmV3IFhNTEh0dHBSZXF1ZXN0KSk7YS5yZXNwb25zZT1iO2EucmVzcG9uc2VUZXh0PWIudG9TdHJpbmcoKTtiPXRoaXMuYztiLnJlc29sdmUoYSk7VWModGhpcyk7cmV0dXJuIGJ9aWYoMD09dGhpcy51cmwubGFzdEluZGV4T2YoImlkYjoiLDApKXJldHVybiB0aGlzLnUoKTt0aGlzLmorKzsKdGhpcy5pPXBlcmZvcm1hbmNlTm93KCk7dGhpcy5ofHwodGhpcy5oPXRoaXMuYi5jKTt0aGlzLmE9bmV3IFhNTEh0dHBSZXF1ZXN0O3ZhciBjPXRoaXMudXJsLGE9bmV3IEwoYyk7VGMmJih0aGlzLmYmJiF0aGlzLmYuc3VwcG9ydHNDYWNoaW5nKCl8fHRoaXMuYi5nKSYmZGMoYS5hLCJfIixEYXRlLm5vdygpKTtjPXRoaXMuYi53LnRlc3QoYyk7aWYobnVsbCE9dGhpcy5iLmEmJmMpe3ZhciBkPXRoaXMuYi5hLGU9YS5hO251bGwhPWQuYSYmKGQuaD1kLmEuZ2V0U2VnbWVudHNUb1B1c2goKSxkLmY9ZC5hLmdldFNlZ21lbnRTdGFydFRpbWUoKSxkLmc9ZC5hLmdldFNlZ21lbnRPZmZzZXQoKSxkLmM9ZC5hLmdldFB1c2hWaWRlb1JlcHJlc2VudGF0aW9uSUQoKSxkLmI9ZC5hLmdldFB1c2hBdWRpb1JlcHJlc2VudGF0aW9uSUQoKSxkLmo9ZC5hLmdldFVzZUxvbmdDYWNoZUZvck1hbmlmZXN0KCkpO251bGwhPWQuaCYmZGMoZSwiX25jX3BfbiIsZC5oKTtudWxsIT1kLmY/ZGMoZSwiX25jX3BfdHMiLApkLmYpOm51bGwhPWQuZyYmZGMoZSwiX25jX3BfbyIsZC5nKTtudWxsIT1kLmMmJm51bGwhPWQuYiYmKGRjKGUsIl9uY19wX3JpZCIsZC5jKSxkYyhlLCJfbmNfcF9hcmlkIixkLmIpKTtkLmkmJmRjKGUsIl9uY19wX2RiZyIsIjEiKTtkLmomJmRjKGUsIl9uY19uYyIsIjEiKX0xPT10aGlzLmIuaiYmYyYmZGMoYS5hLCJfbmNfcGxheWluZyIsMSk7dGhpcy5iLm8mJmRjKGEuYSwiX25jX3NjIiwxKTtjPWEudG9TdHJpbmcoKTthPXRoaXMuYi5mLnRlc3QoYS5oYSk7dGhpcy5hLm9wZW4odGhpcy5iLm1ldGhvZCxjLCEwKTt0aGlzLmEucmVzcG9uc2VUeXBlPXRoaXMuYi5yZXNwb25zZVR5cGU7dGhpcy5hLnRpbWVvdXQ9dGhpcy5iLmI7dGhpcy5hLndpdGhDcmVkZW50aWFscz10aGlzLmIud2l0aENyZWRlbnRpYWxzfHxhO3NldEV2ZW50UHJvcGVydHkodGhpcy5hLCJvbmxvYWQiLHRoaXMuZmQuYmluZCh0aGlzKSk7c2V0RXZlbnRQcm9wZXJ0eSh0aGlzLmEsIm9ucmVhZHlzdGF0ZWNoYW5nZSIsCnRoaXMubGQuYmluZCh0aGlzKSk7c2V0RXZlbnRQcm9wZXJ0eSh0aGlzLmEsIm9uZXJyb3IiLHRoaXMuZGQuYmluZCh0aGlzKSk7c2V0RXZlbnRQcm9wZXJ0eSh0aGlzLmEsIm9udGltZW91dCIsdGhpcy5xZC5iaW5kKHRoaXMpKTtzZXRFdmVudFByb3BlcnR5KHRoaXMuYSwib25hYm9ydCIsdGhpcy4kYy5iaW5kKHRoaXMpKTtmb3IoYiBpbiB0aGlzLmIuUWEpdGhpcy5hLnNldFJlcXVlc3RIZWFkZXIoYix0aGlzLmIuUWFbYl0pO3RoaXMuYS5zZW5kKHRoaXMuYi5ib2R5KTtyZXR1cm4gdGhpcy5jfTtTYy5wcm90b3R5cGUuc2VuZD1TYy5wcm90b3R5cGUubTsKZnVuY3Rpb24gWGMoYSxiLGMpe2I9RXJyb3IoYik7Yi50eXBlPWM7Yi5zdGF0dXM9YS5hLnN0YXR1cztiLnVybD1hLnVybDtWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImVuYWJsZV9kb3VibGVfaW5nZXN0IiwhMSkmJihiLnJlc3BvbnNlSGVhZGVycz1wYXJzZUhlYWRlcnMoYS5hLmdldEFsbFJlc3BvbnNlSGVhZGVycygpKSk7Yi5tZXRob2Q9YS5iLm1ldGhvZDtiLmJvZHk9YS5iLmJvZHk7cmV0dXJuIGJ9bj1TYy5wcm90b3R5cGU7bi5hYm9ydD1mdW5jdGlvbigpe1ZjKHRoaXMpO2lmKHRoaXMuYSYmdGhpcy5hLnJlYWR5U3RhdGUhPVhNTEh0dHBSZXF1ZXN0LkRPTkUmJih0aGlzLmEuYWJvcnQoKSwhVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJmaXhfc2hha2FfdXRpbF9hamF4X3JlcXVlc3RfYWJvcnQiLCEwKSkpe3ZhciBhPVhjKHRoaXMsIlJlcXVlc3QgYWJvcnRlZC4iLCJhYm9ydGVkIik7dGhpcy5jLnJlamVjdChhKTtVYyh0aGlzKX19OwpuLiRjPWZ1bmN0aW9uKCl7aWYoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJmaXhfc2hha2FfdXRpbF9hamF4X3JlcXVlc3RfYWJvcnQiLCEwKSl7dmFyIGE9WGModGhpcywiUmVxdWVzdCBhYm9ydGVkLiIsImFib3J0ZWQiKTt0aGlzLmMucmVqZWN0KGEpO1VjKHRoaXMpfX07Cm4uZmQ9ZnVuY3Rpb24oYSl7aWYodGhpcy5mKXt2YXIgYj1WaWRlb1BsYXllclJlc291cmNlVGltZXIuZ2V0UmVzb3VyY2VUaW1pbmdFbnRyeSh0aGlzLnVybCx0aGlzLmkscGVyZm9ybWFuY2VOb3coKSk7dGhpcy5mLnNhbXBsZShwZXJmb3JtYW5jZU5vdygpLXRoaXMuaSxhLmxvYWRlZHx8dGhpcy5hLnJlc3BvbnNlJiZ0aGlzLmEucmVzcG9uc2UuYnl0ZUxlbmd0aHx8MCx0aGlzLmIubWltZVR5cGU/InYiPT09dGhpcy5iLm1pbWVUeXBlLmNoYXJBdCgwKTohMSxiLHRoaXMubyx0aGlzLmwsVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJldmFsdWF0ZV9hYnJfb25fZmV0Y2hfZW5kIiwhMSkpfWE9WzQwM107MjAwPD10aGlzLmEuc3RhdHVzJiYyOTk+PXRoaXMuYS5zdGF0dXM/KFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgiZW5hYmxlX2RvdWJsZV9pbmdlc3QiLCExKSYmbnVsbCE9cGFyc2VIZWFkZXJzKHRoaXMuYS5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSlbIngtZmItdmlkZW8tcmVwbGljYSJdPwooYT1YYyh0aGlzLCJIVFRQIGVycm9yLiIsIm5ldCIpLHRoaXMuYy5yZWplY3QoYSkpOnRoaXMuYy5yZXNvbHZlKHRoaXMuYSksVWModGhpcykpOiFWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInJlbW92ZV9hamF4X3Jlc2VuZF9pbnRlcm5hbCIsITApJiZ0aGlzLmo8dGhpcy5iLk5hJiYtMT09PWEuaW5kZXhPZih0aGlzLmEuc3RhdHVzKT9ZYyh0aGlzKTooYT1YYyh0aGlzLCJIVFRQIGVycm9yLiIsIm5ldCIpLHRoaXMuYy5yZWplY3QoYSksVWModGhpcykpfTsKbi5sZD1mdW5jdGlvbigpe2lmKHRoaXMuYS5yZWFkeVN0YXRlPT1YTUxIdHRwUmVxdWVzdC5IRUFERVJTX1JFQ0VJVkVEJiYodGhpcy5hLllhPURhdGUubm93KCktdGhpcy5pLHRoaXMuYi5hJiZ0aGlzLmIuZGEmJnRoaXMuYi5kYS5hZGRQdXNoRGF0YUZyb21YSFIodGhpcy5hKSx0aGlzLmIuaCYmdGhpcy5iLmguaGFuZGxlWEhSKHRoaXMuYSksVmlkZW9DbGllbnRFZGdlQ29vcGVyYXRpb24udXBkYXRlRnJvbVhIUih0aGlzLmEpLHRoaXMuYi5nKSl7dmFyIGE9RGF0ZS5wYXJzZSh0aGlzLmEuZ2V0UmVzcG9uc2VIZWFkZXIoIkRhdGUiKSk7YSYmKHphPWEtRGF0ZS5ub3coKSl9fTtuLmRkPWZ1bmN0aW9uKCl7dmFyIGE9WGModGhpcywiTmV0d29yayBmYWlsdXJlLiIsIm5ldCIpO3RoaXMuYy5yZWplY3QoYSk7VWModGhpcyl9OwpuLnFkPWZ1bmN0aW9uKCl7aWYoIVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgicmVtb3ZlX2FqYXhfcmVzZW5kX2ludGVybmFsIiwhMCkmJnRoaXMuajx0aGlzLmIuTmEpWWModGhpcyk7ZWxzZXt2YXIgYT1YYyh0aGlzLCJSZXF1ZXN0IHRpbWVkIG91dC4iLCJuZXQiKTt0aGlzLmMucmVqZWN0KGEpO1VjKHRoaXMpfX07ZnVuY3Rpb24gWWMoYSl7V2MoYSk7YS5nPXNldFRpbWVvdXQoZnVuY3Rpb24oKXt0aGlzLmc9LTE7dGhpcy5tKCl9LmJpbmQoYSksYS5oKigxKy41KigyKk1hdGgucmFuZG9tKCktMSkpKTthLmgqPTJ9O2Z1bmN0aW9uIEsoYSxiLGMsZCxlLGYpe3RoaXMuYz1iO3RoaXMuc3RhcnRCeXRlPWN8fDA7dGhpcy5iYXNlVXJsPXRoaXMudG9TdHJpbmcoKTt0aGlzLmVuZEJ5dGU9bnVsbCE9ZD9kOm51bGw7dGhpcy5pc1ByZWRpY3RpdmU9ZXx8ITE7dGhpcy5mPW51bGw7dGhpcy5tPTA7dGhpcy5BPSExO3RoaXMuTmM9dGhpcy5nPW51bGw7dGhpcy5vPWE7dGhpcy5pPW51bGw7dGhpcy5qPXRoaXMudT0hMTt0aGlzLmI9dGhpcy5hPW51bGw7dGhpcy5oPWZ8fG51bGx9cSgic2hha2EudXRpbC5GYWlsb3ZlclVyaSIsSyk7Sy5wcm90b3R5cGUudz1mdW5jdGlvbihhKXt0aGlzLkE9YX07Sy5wcm90b3R5cGUuc2V0U2hvdWxkUmVhZFhGYlZpZGVvQnJvYWRjYXN0RW5kZWRIZWFkZXI9Sy5wcm90b3R5cGUudztLLnByb3RvdHlwZS5EPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubX07Sy5wcm90b3R5cGUuZ2V0RmJWaWRlb0Jyb2FkY2FzdEVuZGVkUmVzcG9uc2VIZWFkZXI9Sy5wcm90b3R5cGUuRDsKSy5wcm90b3R5cGUuRj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YXJ0Qnl0ZX07Sy5wcm90b3R5cGUuZ2V0U3RhcnRCeXRlPUsucHJvdG90eXBlLkY7Sy5wcm90b3R5cGUuQj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVuZEJ5dGV9O0sucHJvdG90eXBlLmdldEVuZEJ5dGU9Sy5wcm90b3R5cGUuQjtmdW5jdGlvbiBaYyhhLGIpe3JldHVybiBhJiYwIT09YS5sZW5ndGg/YS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVzb2x2ZShiKX0pOltiXX1uPUsucHJvdG90eXBlO24uZmV0Y2g9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxoKXtyZXR1cm4gdGhpcy5mP3RoaXMuZjp0aGlzLmY9JGModGhpcywwLGF8fG5ldyB0YixiLGMsZCxlLGYsZyxoKX07bi5zdHJlYW09ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxoLGspe3JldHVybiBhZCh0aGlzLDAsYXx8bmV3IHRiLGIsYyxkLGUsZixnLGgsayl9OwpmdW5jdGlvbiAkYyhhLGIsYyxkLGUsZixnLGgsayxsKXtyZXR1cm4gYWQoYSxiLGMsZCxlLGYsZyxoLGssbCkudGhlbihmdW5jdGlvbihhKXt2YXIgYixjPWZ1bmN0aW9uKCl7cmV0dXJuIGEucmVhZCgpLnRoZW4oZnVuY3Rpb24oYSl7dmFyIGQ9YS52YWx1ZTtpZihhLmRvbmUpcmV0dXJuIGJ8fG5ldyBBcnJheUJ1ZmZlcigwKTtkJiYoInN0cmluZyI9PT10eXBlb2YgZD9iPShifHwiIikrZDpiPWNvbmNhdEFycmF5QnVmZmVyKGJ8fG5ldyBBcnJheUJ1ZmZlcigwKSxkKSk7cmV0dXJuIGMoKX0uYmluZCh0aGlzKSl9LmJpbmQodGhpcyk7cmV0dXJuIGMoKX0pfQpuLkthPWZ1bmN0aW9uKCl7dGhpcy5nJiYodGhpcy5hPXRoaXMuZj1udWxsLHRoaXMuZy5hYm9ydCgpLHRoaXMuaT10aGlzLmc9bnVsbCk7dGhpcy5OYyYmVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJlbmFibGVfcDJwX3N1cHBvcnQiLCExKSYmKHRoaXMuRy5hYm9ydCgpLHRoaXMuRz1udWxsKTt0aGlzLmImJih0aGlzLmIuYWJvcnRSZXF1ZXN0KGJkKHRoaXMpKSxWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImZpeGluZ19zY2hlZHVsZXJfZGlzYWJsZV9sZWFrcyIsITApJiYodGhpcy5iPW51bGwpKX07CmZ1bmN0aW9uIGFkKGEsYixjLGQsZSxmLGcsaCxrLGwsbSl7YS5iPWx8fG51bGw7dmFyIHA7ZSYmKGMuYSYmKGMuYS5pPSEwKSxsPTAsYy5kYSYmKGw9Yy5kYS5nZXRQdXNoQ291bnRGb3JVcmwoYS5jW2JdLnRvU3RyaW5nKCkpKSwocD1lLmdldE9wZXJhdGlvbkxvZ2dlcigicmVxdWVzdCIpKSYmcC5zZXRSZWFzb24oa3x8bnVsbCkuc2V0UHVzaGVkKGwpLnNldFR5cGUoaHx8bnVsbCkuc2V0SW5pdGlhdG9yKCJzaGFrYSIpLnN0YXJ0KCksZiYmKHA9cC5zZXRQYXJlbnRMb2dnZXIoZikpKTt2YXIgdD1wZXJmb3JtYW5jZU5vdygpO2EuYT1udWxsO2cmJihjLmk9Zyk7ZSYmKGMubT1lKTt2YXIgdz1jZChhLGEuY1tiXSxjKTtrPW51bGw7YS5qPSExO3ZhciB6PVZpZGVvRGFzaFByZWZldGNoQ2FjaGUuZ2V0Q2FjaGVWYWx1ZSh3KTt6JiYoaz16LGEuaj0hMCxwJiYocC5zZXRDb25uZWN0aW9uUXVhbGl0eUxldmVsKFZpZGVvRGFzaFByZWZldGNoQ2FjaGUuZ2V0Q29ubmVjdGlvblF1YWxpdHlMZXZlbCh3KSksCnAuc2V0SW5pdGlhdG9yKCJwcmVmZXRjaCIpKSk7aWYoIXomJm0pcmV0dXJuIG0uZ2V0U3RyZWFtKGJkKGEpKS50aGVuKGZ1bmN0aW9uKGEpe3JldHVybiBhLmdldFJlYWRlcigpfS5iaW5kKGEpKTttPW51bGw7aWYoYS5iJiYhYS5iLmlzRGlzYWJsZWQoKSYmIWspdHJ5eyhrPW09YS5iLmdldFByb21pc2UoYmQoYSkpKT9wPW51bGw6YS5iLmRpc2FibGUoKX1jYXRjaChIKXtlJiZlLmdldEV2ZW50TG9nZ2VyKCJyZXF1ZXN0X2luZm9fbm90X2ZvdW5kIikuc2V0UmVzb3VyY2UodykubG9nKCl9IWsmJmEuaCYmYS5oLmNyZWF0ZVByb21pc2UmJihtPW5ldyBMKHcpLG09Yy5mLnRlc3QobS5oYSksaz1hLmguY3JlYXRlUHJvbWlzZSh7dXJsOncscmVzcG9uc2VUeXBlOmMucmVzcG9uc2VUeXBlLE9kOmMuYyxLZDoyLE5hOmMuTmEsd2l0aENyZWRlbnRpYWxzOmMud2l0aENyZWRlbnRpYWxzfHxtLFFhOmMuUWF9LGZ1bmN0aW9uKGEpe3RoaXMuTmM9YTt2YXIgYj1wZXJmb3JtYW5jZU5vdygpOwphLm9ubG9hZD1mdW5jdGlvbihmKXtpZihkKXt2YXIgaD1WaWRlb1BsYXllclJlc291cmNlVGltZXIuZ2V0UmVzb3VyY2VUaW1pbmdFbnRyeSh3LGIscGVyZm9ybWFuY2VOb3coKSk7ZC5zYW1wbGUocGVyZm9ybWFuY2VOb3coKS1iLGYubG9hZGVkfHxhLnJlc3BvbnNlJiZhLnJlc3BvbnNlLmJ5dGVMZW5ndGh8fDAsYy5taW1lVHlwZT8idiI9PT1jLm1pbWVUeXBlLmNoYXJBdCgwKTohMSxoLGcsZSxWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImV2YWx1YXRlX2Ficl9vbl9mZXRjaF9lbmQiLCExKSl9fX0pKTtrfHwoYS5nPW5ldyBTYyh3LGMpLGEubT0wLGQmJihhLmcuZj1kKSxrPWEuZy5tKCkpO3AmJnAuc2V0UmVzb3VyY2Uodyk7ZiYmZi5zZXRSZXNvdXJjZSh3KTt2YXIgZGE9ITEsZWE9ay50aGVuKEooYSxmdW5jdGlvbihhKXt2YXIgYz10aGlzLmg/dGhpcy5oLm9uUmVxdWVzdFNlbmQ6bnVsbDshY3x8InZpZGVvIiE9aCYmImF1ZGlvIiE9aCYmIm1hbmlmZXN0IiE9Cmh8fGMoITAsaCxhLnJlc3BvbnNlLmJ5dGVMZW5ndGgpOyF0aGlzLmJ8fHRoaXMuYi5pc0Rpc2FibGVkKCl8fHRoaXMuYT90aGlzLmF8fCh0aGlzLmE9VmlkZW9QbGF5ZXJSZXNvdXJjZVRpbWVyLmdldFJlc291cmNlVGltaW5nRW50cnkodyx0aGlzLmo/MDp0LHBlcmZvcm1hbmNlTm93KCkpKTp0aGlzLmE9dGhpcy5iLmdldFJlc291cmNlVGltaW5nRW50cnkodyk7VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJzYW1wbGVfcHJlZmV0Y2hfYmFuZHdpZHRoIiwhMSkmJnomJnRoaXMuYSYmMDx0aGlzLmEudGltZVRvTGFzdEJ5dGUmJmQmJmQuc2FtcGxlKHRoaXMuYS50aW1lVG9MYXN0Qnl0ZSxhLnJlc3BvbnNlLmJ5dGVMZW5ndGgsInYiPT09aC5jaGFyQXQoMCksdGhpcy5hLGcsZSwhMCk7aWYodGhpcy5BKXRyeXt0aGlzLm09cGFyc2VJbnQoYS5nZXRSZXNwb25zZUhlYWRlcigieC1mYi12aWRlby1icm9hZGNhc3QtZW5kZWQiKSwxMCl9Y2F0Y2goZil7fXRoaXMuYj0KdGhpcy5pPXRoaXMuZz10aGlzLmY9bnVsbDthLmE/KHRoaXMuaT1uZXcgTChhLmEpLHRoaXMudT0hMCk6dGhpcy5pPXRoaXMuY1tiXTthLnJlc3BvbnNlLllhPWEuWWE7cCYmKHA9cC5zZXRMZW5ndGgoYS5yZXNwb25zZS5ieXRlTGVuZ3RofHxhLnJlc3BvbnNlLmxlbmd0aCkuc2V0V2FzUHJlZmV0Y2hDYWNoZUhpdCh0aGlzLmopLG51bGwhPXRoaXMuYSYmKHA9cC5zZXRUaW1lVG9MYXN0Qnl0ZShNYXRoLnJvdW5kKHRoaXMuYS50aW1lVG9MYXN0Qnl0ZSkpLnNldFRpbWVUb0ZpcnN0Qnl0ZShNYXRoLnJvdW5kKHRoaXMuYS50aW1lVG9GaXJzdEJ5dGUpKS5zZXRUaW1lVG9SZXF1ZXN0U3RhcnQoTWF0aC5yb3VuZCh0aGlzLmEudGltZVRvUmVxdWVzdFN0YXJ0KSksMkUzPD10aGlzLmEudGltZVRvRmlyc3RCeXRlJiYtMTx3LmluZGV4T2YoImFrYW1haWhkIikmJmxvZ0xvbmdBa2FtYWlSZXF1ZXN0KGEuZ2V0UmVzcG9uc2VIZWFkZXIoIkRlYnVnLUluZm8iKSsiLCBUVEZCLT4gIit0aGlzLmEudGltZVRvRmlyc3RCeXRlKwoiLCBUVFJTLT4gIit0aGlzLmEudGltZVRvUmVxdWVzdFN0YXJ0KSkscC5sb2coKSk7cmV0dXJuIFByb21pc2UucmVzb2x2ZSh7dmFsdWU6YS5yZXNwb25zZSxkb25lOiExfSl9KSksZWE9ZWEuY2F0Y2goSihhLGZ1bmN0aW9uKGEpe3ZhciBlPXRoaXMuaD90aGlzLmgub25SZXF1ZXN0U2VuZDpudWxsO2UmJmUoITEsaCwwKTtpZih0aGlzLmYmJmIrMTx0aGlzLmMubGVuZ3RoKXJldHVybiB0aGlzLmY9JGModGhpcyxiKzEsYyxkKTt0aGlzLmI9dGhpcy5hPXRoaXMuZj10aGlzLmc9bnVsbDtwJiZwLnNldEVycm9yKGEpLmxvZygpO3JldHVybiBQcm9taXNlLnJlamVjdChhKX0pKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtjYW5jZWw6ZnVuY3Rpb24oKXt9LHJlYWQ6ZnVuY3Rpb24oKXtyZXR1cm4gZGE/UHJvbWlzZS5yZXNvbHZlKHt2YWx1ZTpudWxsLGRvbmU6ITB9KTplYS50aGVuKGZ1bmN0aW9uKGEpe2RhPSEwO3JldHVybiBhfSl9LmJpbmQoYSl9KX0KZnVuY3Rpb24gYmQoYSl7cmV0dXJue2Jhc2VVcmw6YS50b1N0cmluZygpLGlzUHJlZGljdGl2ZTphLmlzUHJlZGljdGl2ZSxzdGFydEJ5dGU6YS5zdGFydEJ5dGUsZW5kQnl0ZTphLmVuZEJ5dGV9fW4uY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEsodGhpcy5vLHRoaXMuYy5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuY2xvbmUoKX0pLHRoaXMuc3RhcnRCeXRlLHRoaXMuZW5kQnl0ZSx0aGlzLmlzUHJlZGljdGl2ZSx0aGlzLmgpfTtuLmdldFJlc291cmNlVGltaW5nRW50cnk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hfTsKZnVuY3Rpb24gY2QoYSxiLGMpe3ZhciBkPWIudG9TdHJpbmcoKTtpZihhLnN0YXJ0Qnl0ZXx8YS5lbmRCeXRlKWI9Yi5oYSwhYi5lbmRzV2l0aCgiZmJjZG4ubmV0Iil8fGIuc3RhcnRzV2l0aCgiaW50ZXJuY2FjaGUiKXx8Yi5lbmRzV2l0aCgiYWsuZmJjZG4ubmV0Iik/YyYmKGMuUWEuUmFuZ2U9ImJ5dGVzPSIrKGEuc3RhcnRCeXRlKyItIisobnVsbCE9YS5lbmRCeXRlP2EuZW5kQnl0ZToiIikpKTooZCs9IiZieXRlc3RhcnQ9IithLnN0YXJ0Qnl0ZSxkKz1udWxsIT09YS5lbmRCeXRlPyImYnl0ZWVuZD0iK2EuZW5kQnl0ZToiIik7YS5vJiZjJiYoZD1hLm8oZCxjLlFhKXx8ZCk7cmV0dXJuIGR9ZnVuY3Rpb24gdWIoYSl7cmV0dXJuIGNkKGEsYS5jWzBdKX1uLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY1swXS50b1N0cmluZygpfTtmdW5jdGlvbiBkZChhLGIsYyxkKXt0aGlzLmE9bmV3IHRiO2I9bnVsbCE9Yj9iOmlhO3RoaXMuYS5yZXNwb25zZVR5cGU9InRleHQiO3RoaXMuYS5OYT0zO3RoaXMuYS5iPTFFMypiO2MmJih0aGlzLmEuYT1jKTtkJiYodGhpcy5hLmRhPWQpO3RoaXMuYS5nPSEwO3RoaXMuYS53aXRoQ3JlZGVudGlhbHM9dGhpcy5hLmYudGVzdChhKTt0aGlzLmI9YX0KZnVuY3Rpb24gZWQoYSxiKXt2YXIgYz1hLmIsZD1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImRldGVjdF9saXZlX3N0cmVhbV9lbmRlZF9mcm9tX3Jlc3BvbnNlX2hlYWRlcnMiLCExKTtjLncoZCk7cmV0dXJuIGMuZmV0Y2goYS5hLG51bGwsYixudWxsLG51bGwsIm1hbmlmZXN0IikudGhlbihmdW5jdGlvbihhKXthIGluc3RhbmNlb2YgQXJyYXlCdWZmZXImJihhPVN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCxuZXcgVWludDhBcnJheShhKSkpO3ZhciBmPWQmJiEhYy5tLGc7YiYmKGc9Yi5nZXRPcGVyYXRpb25Mb2dnZXIoInBhcnNlX21hbmlmZXN0Iikuc3RhcnQoKSk7YT1lYyhhLGMuYyxbYy5pXSk7ZyYmZy5sb2coKTthJiYiZHluYW1pYyI9PT1hLnR5cGUmJmYmJihhLnR5cGU9InN0YXRpYyIsYiYmQmFuemFpT0RTLmJ1bXBFbnRpdHlLZXkoMjk2NiwidmlkZW9zLnd3dy5zaGFrYSIsImNoYW5nZWRfbWFuaWZlc3RfdG9fZHluYW1pY19vZmZfaGVhZGVycyIpKTsKaWYoYSlyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGEpO2Y9RXJyb3IoIk1QRCBwYXJzZSBmYWlsdXJlLiIpO2YudHlwZT0iZGFzaCI7cmV0dXJuIFByb21pc2UucmVqZWN0KGYpfSl9ZnVuY3Rpb24gZmQoYSl7dGhpcy5hPW51bGw7dGhpcy5oPWE7dGhpcy5jPXRoaXMuZz10aGlzLmY9bnVsbDt0aGlzLmk9ITE7dGhpcy5qPXRoaXMuYj1udWxsfTtmdW5jdGlvbiBnZChhLGIpe3RoaXMuYT1hO3RoaXMuYj1ifHxudWxsfWdkLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5hJiYodGhpcy5hLkthKCksdGhpcy5hPW51bGwpO3RoaXMuYj1udWxsfTtnZC5wcm90b3R5cGUuY3JlYXRlPWZ1bmN0aW9uKGEsYil7dmFyIGM9bnVsbDtiJiYoYz1uZXcgdGIsYy5kYT1iKTtyZXR1cm4hdGhpcy5iJiZ0aGlzLmE/dGhpcy5hLmZldGNoKGMsbnVsbCxhLG51bGwsbnVsbCwiaW5pdCIpOlByb21pc2UucmVzb2x2ZSh0aGlzLmIpfTtnZC5wcm90b3R5cGUuYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmF9O2dkLnByb3RvdHlwZS5nZXRGYWlsb3ZlclVyaT1nZC5wcm90b3R5cGUuYztmdW5jdGlvbiBoZChhLGIpe3RoaXMuc2VnbWVudE9yaWdpbmFsRW5kVGltZT1hO3RoaXMuZ2FwRGlzdGFuY2U9Yn1mdW5jdGlvbiBpZChhLGIsYyxkLGUsZixnKXt0aGlzLnN0YXJ0VGltZT1hO3RoaXMuZW5kVGltZT1iO3RoaXMudXJsPWM7dGhpcy51bnNjYWxlZFN0YXJ0VGltZT1kO3RoaXMudW5zY2FsZWREdXJhdGlvbj1lO3RoaXMudGltZXNjYWxlZEdhcEluZm89Znx8bnVsbDt0aGlzLmlzUHJlZGljdGl2ZT1nfHwhMTt0aGlzLmRlYnVnSW5mbz10aGlzLnRpbWVzY2FsZWRHYXBJbmZvP3tlbmRUaW1lOnRoaXMudGltZXNjYWxlZEdhcEluZm8uc2VnbWVudE9yaWdpbmFsRW5kVGltZSxkZWx0YTp0aGlzLnRpbWVzY2FsZWRHYXBJbmZvLmdhcERpc3RhbmNlfTpudWxsfWZ1bmN0aW9uIGpkKGEsYixjKXtyZXR1cm4gbmV3IGlkKGIsYyxhLnVybCxhLnVuc2NhbGVkU3RhcnRUaW1lLGEudW5zY2FsZWREdXJhdGlvbixhLnRpbWVzY2FsZWRHYXBJbmZvLGEuaXNQcmVkaWN0aXZlKX0KZnVuY3Rpb24geWIoYSxiKXtpZihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInVzZV9iaW5hcnlfc2VhcmNoX3doZW5fZmluZGluZ19zZWdtZW50X3JlZmVyZW5jZXMiLCExKSlyZXR1cm4gQmluYXJ5U2VhcmNoLmZpbmRJbmRleEluQXJyYXkoYSxiLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGI+PWEuc3RhcnRUaW1lJiYobnVsbD09YS5lbmRUaW1lfHxiPGEuZW5kVGltZSk/MDphLnN0YXJ0VGltZS1ifSk7Zm9yKHZhciBjPWEubGVuZ3RoLTE7MDw9YzstLWMpe3ZhciBkPWFbY107aWYoYj49ZC5zdGFydFRpbWUmJihudWxsPT1kLmVuZFRpbWV8fGI8ZC5lbmRUaW1lKSlyZXR1cm4gY31yZXR1cm4tMX1mdW5jdGlvbiBrZChhLGIpe3JldHVybiBhLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gamQoYSxhLnN0YXJ0VGltZStiLG51bGwhPWEuZW5kVGltZT9hLmVuZFRpbWUrYjpudWxsKX0pfTtmdW5jdGlvbiBsZChhLGIsYyxkKXtmb3IodmFyIGU9Yi5hLGY9W10sZz0wO2c8ZDsrK2cpe3ZhciBoPWcrYyxrPShoLTEpKmUuSCxsPWsvZS5zLG09KGsrZS5IKS9lLnMsaD1tZChhLGIsZS5iK2gtMSxrKTtpZighaClyZXR1cm4gbnVsbDtmLnB1c2gobmV3IGlkKGwsbSxoLGssZS5IfHwwKSl9cmV0dXJuIGZ9ZnVuY3Rpb24gbWQoYSxiLGMsZCxlLGYpe2lmKCFiLmEpcmV0dXJuIG51bGw7ZT1lfHwhMTt2YXIgZz1iLmEuZixoPWIuYS5DLmE7aWYoIWcpcmV0dXJuIGIuYmFzZVVybD9uZXcgSyhhLGIuYmFzZVVybCwwLG51bGwsdm9pZCAwLGYpOm51bGw7Yz1uZChlJiZoP2g6ZyxiLmlkLGMsYi5iYW5kd2lkdGgsZCk7aWYoIWMpcmV0dXJuIG51bGw7Yj1aYyhiLmJhc2VVcmwsYyk7cmV0dXJuIG5ldyBLKGEsYiwwLG51bGwsZSxmKX0KZnVuY3Rpb24gbmQoYSxiLGMsZCxlKXt2YXIgZj17UmVwcmVzZW50YXRpb25JRDpiLE51bWJlcjpjLEJhbmR3aWR0aDpkLFRpbWU6ZX07YT1hLnJlcGxhY2UoL1wkKFJlcHJlc2VudGF0aW9uSUR8TnVtYmVyfEJhbmR3aWR0aHxUaW1lKT8oPzolMChbMC05XSspZCk/XCQvZyxmdW5jdGlvbihhLGIsYyl7aWYoIiQkIj09YSlyZXR1cm4iJCI7dmFyIGQ9ZltiXTtpZihudWxsPT1kKXJldHVybiBhOyJSZXByZXNlbnRhdGlvbklEIj09YiYmYyYmKGM9dm9pZCAwKTthPWQudG9TdHJpbmcoKTtjPXdpbmRvdy5wYXJzZUludChjLDEwKXx8MTtjPU1hdGgubWF4KDAsYy1hLmxlbmd0aCk7cmV0dXJuIEFycmF5KGMrMSkuam9pbigiMCIpK2F9KTt0cnl7cmV0dXJuIG5ldyBMKGEpfWNhdGNoKGcpe2lmKGcgaW5zdGFuY2VvZiBVUklFcnJvcilyZXR1cm4gbnVsbDt0aHJvdyBnO319CmZ1bmN0aW9uIG9kKGEsYixjLGQsZSxmKXt2YXIgZz0wLGg9YypiO2M9YS5OO3ZhciBrPWR8fDA7ZD1bXTt2YXIgbD1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigibGl2ZV9yZXdpbmRfdGVtcGxhdGVkX2xhc3RfeF9zZWdtZW50c19vbmx5IiwwKSxtPVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgidGVtcGxhdGVkX2xhc3RfeF90aW1lbGluZSIsITEpJiZlJiZudWxsIT1mLHA9ZSYmbT9WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigidGVtcGxhdGVkX2luZ2VzdF90aHJvdHRsZSIsMCk6MDtpZihsfHxtKXtmb3IoZT0wO2U8Yy5sZW5ndGg7KytlKXtpZighY1tlXS5kdXJhdGlvbilyZXR1cm4gZDt2YXIgdD1jW2VdLnN0YXJ0VGltZSx0PW51bGwhPXQ/dDpnLHc9Y1tlXS5yZXBlYXR8fDA7aWYoMD53KWlmKHc9Y1tlXS5kdXJhdGlvbixlKzE9PT1jLmxlbmd0aCl2YXIgej1jWzBdLnN0YXJ0VGltZStoLXQsdz1NYXRoLmNlaWwoei8KdyktMTtlbHNlIHo9Y1tlKzFdLnN0YXJ0VGltZSx3PU1hdGguY2VpbCgoei10KS93KS0xO2NbZV0uc3RhcnRUaW1lPXQ7Y1tlXS5yZXBlYXQ9dztnPWNbZV0uc3RhcnRUaW1lK2NbZV0uZHVyYXRpb24qKGNbZV0ucmVwZWF0KzEpfWZvcihlPWMubGVuZ3RoLTE7LTE8ZTstLWUpZm9yKHZhciBIPTA7SDw9Y1tlXS5yZXBlYXQ7KytIKWlmKHQ9Y1tlXS5zdGFydFRpbWUrY1tlXS5kdXJhdGlvbiooY1tlXS5yZXBlYXQtSCksZz10K2NbZV0uZHVyYXRpb24sYT1udWxsLGQubGVuZ3RoJiZnIT1kW2QubGVuZ3RoLTFdLnN0YXJ0JiYoej1kW2QubGVuZ3RoLTFdLnN0YXJ0LWcsYT1uZXcgaGQoZy9iLHovYiksZz1kW2QubGVuZ3RoLTFdLnN0YXJ0KSxkLnB1c2goe3N0YXJ0OnQsZW5kOmd9KSxhJiYoZFtkLmxlbmd0aC0xXS50aW1lc2NhbGVkR2FwSW5mbz1hKSxsKXtpZihkLmxlbmd0aD09PWwpcmV0dXJuIGQ9ZC5yZXZlcnNlKCl9ZWxzZSBpZihtJiZkW2QubGVuZ3RoLTFdLnN0YXJ0PD1mKXJldHVybiBkLnBvcCgpLApkPWQucmV2ZXJzZSgpLDA8cCYmKGQ9ZC5zbGljZSgwLHApKSxkO3JldHVybiBkLnJldmVyc2UoKX1mb3IoZT0wO2U8Yy5sZW5ndGg7KytlKXtpZighY1tlXS5kdXJhdGlvbilyZXR1cm4gZDt0PWNbZV0uc3RhcnRUaW1lO3Q9bnVsbCE9dD90Omc7dz1jW2VdLnJlcGVhdHx8MDswPncmJih3PWNbZV0uZHVyYXRpb24sZSsxPT09Yy5sZW5ndGg/KHo9Y1swXS5zdGFydFRpbWUraC10LHc9TWF0aC5jZWlsKHovdyktMSk6KHo9Y1tlKzFdLnN0YXJ0VGltZSx3PU1hdGguY2VpbCgoei10KS93KS0xKSk7MDxkLmxlbmd0aCYmdCE9ZyYmKHo9dC1nLGY9ZFtkLmxlbmd0aC0xXSxmLnRpbWVzY2FsZWRHYXBJbmZvPW5ldyBoZChnL2Isei9iKSxmLmVuZD10KTtmb3IoSD0wO0g8PXc7KytIKWc9dCtjW2VdLmR1cmF0aW9uLGQucHVzaCh7c3RhcnQ6dCxlbmQ6Z30pLHQ9Z31pZihhLmEmJjA8Yy5sZW5ndGgpZm9yKGI9Y1swXS5kdXJhdGlvbixmPTA7ZjxrO2YrKylkLnB1c2goe3N0YXJ0OnQrZipiLGVuZDp0KwooZisxKSpiLHVkOmEuYitmfSk7cmV0dXJuIGR9O2Z1bmN0aW9uIHBkKGEsYixjLGQsZSl7dGhpcy53PWE7dGhpcy5tPWI7dGhpcy5jPWM7dGhpcy5XPTA7dGhpcy5CPSEwO3RoaXMucz1jLnN8fDA7dGhpcy5BPSExO3RoaXMuZz1udWxsO3RoaXMudT1kO3RoaXMuaj1jLkx8fDA7dGhpcy5iPTA7dGhpcy5pPXRoaXMuaD1udWxsO2E6e2I9Yy5DO3ZhciBmPTA7YT0oYS5kdXJhdGlvbnx8MCkqdGhpcy5zO2M9Yi5OO2ZvcihkPTA7ZDxjLmxlbmd0aDsrK2Qpe2lmKCFjW2RdLmR1cmF0aW9uKXtiLk49Yy5zbGljZSgwLGQpO2JyZWFrIGF9dmFyIGc9Y1tkXS5zdGFydFRpbWUsZj1udWxsIT1nP2c6ZixnPWNbZF0ucmVwZWF0fHwwOzA+ZyYmKGc9Y1tkXS5kdXJhdGlvbixnPWQrMT09PWMubGVuZ3RoP01hdGguY2VpbCgoY1swXS5zdGFydFRpbWUrYS1mKS9nKS0xOk1hdGguY2VpbCgoY1tkKzFdLnN0YXJ0VGltZS1mKS9nKS0xKTtjW2RdLnN0YXJ0VGltZT1mO2NbZF0ucmVwZWF0PWc7Zj1jW2RdLnN0YXJ0VGltZStjW2RdLmR1cmF0aW9uKihjW2RdLnJlcGVhdCsKMSl9fXRoaXMuZj1bXTt0aGlzLm89VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoInRpbWVsaW5lX3NlZ21lbnRfaW5kZXhfbWF4X2luZGV4X2NhY2hlX2xlbmd0aCIsMCk7dGhpcy5iPVNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscy5sZW5ndGgodGhpcy5jLkMuTik7dGhpcy5EPWV8fG51bGx9cGQucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmI9dGhpcy5jPXRoaXMubT10aGlzLnc9bnVsbDt0aGlzLmc9ZnVuY3Rpb24oKXt9O3RoaXMuZj10aGlzLnU9bnVsbH07cGQucHJvdG90eXBlLmxlbmd0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmJ9O2Z1bmN0aW9uIHFkKGEsYil7Zm9yKHZhciBjPWEuZi5sZW5ndGgtMTstMTxjO2MtLSlpZihhLmZbY10uaW5kZXg9PT1iKXt2YXIgZD1hLmZbY107YS5mLnNwbGljZShjLDEpO2EuZi5wdXNoKGQpO3JldHVybiBkLnhkfXJldHVybiBudWxsfQpmdW5jdGlvbiByZChhLGIsYyl7dmFyIGQ9W107aWYoYS5vJiYxPT09Yy1iKXt2YXIgZT1xZChhLGIpO2lmKGUpcmV0dXJuW2VdfXZhciBmPS1hLmovYS5zK2EuVztTaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMuZ2V0U2VnbWVudHMoYixjLGEuYy5DLk4sZnVuY3Rpb24oYSxlLGssbCxtKXtpZihsKXt2YXIgcD1kW2QubGVuZ3RoLTFdO3AmJihwLnRpbWVzY2FsZWRHYXBJbmZvPW5ldyBoZChtL3RoaXMucyxsL3RoaXMucykscC5kZWJ1Z0luZm89e2VuZFRpbWU6cC50aW1lc2NhbGVkR2FwSW5mby5zZWdtZW50T3JpZ2luYWxFbmRUaW1lLGRlbHRhOnAudGltZXNjYWxlZEdhcEluZm8uZ2FwRGlzdGFuY2V9LGRbZC5sZW5ndGgtMV09amQocCxwLnN0YXJ0VGltZSxhL3RoaXMucytmKSl9az1tZCh0aGlzLnUsdGhpcy5tLGsrdGhpcy5jLmIsYSx2b2lkIDAsdGhpcy5EKTtpZighayl0aHJvdyBhPUVycm9yKCJGYWlsZWQgdG8gZ2VuZXJhdGUgbWVkaWEgVVJMLiIpLGEudHlwZT0iZGFzaCIsCmE7YT1uZXcgaWQoYS90aGlzLnMrZixlL3RoaXMucytmLGssYSxlLWEsbnVsbCk7ZT1iK2QubGVuZ3RoO2QucHVzaChhKTshdGhpcy5vfHwwIT09ZSYmZSE9PXRoaXMuYi0xJiYxIT09Yy1ifHxxZCh0aGlzLGUpfHwodGhpcy5mLmxlbmd0aCsxPnRoaXMubyYmdGhpcy5mLnNoaWZ0KCksdGhpcy5mLnB1c2goe2luZGV4OmUseGQ6YX0pKX0uYmluZChhKSk7cmV0dXJuIGR9CmZ1bmN0aW9uIHNkKGEsYil7dmFyIGM9Yi51bnNjYWxlZFN0YXJ0VGltZSxkPWIudW5zY2FsZWRFbmRUaW1lLGU9Yi5kZWx0YSxmPWIucHJldmlvdXNFbmRUaW1lO2lmKGUpdmFyIGc9bmV3IGhkKGYvYS5zLGUvYS5zKTtlPW1kKGEudSxhLm0sYi5zZWdtZW50UmVwbGFjZW1lbnQrYS5jLmIsYyx2b2lkIDAsYS5EKTtpZighZSl0aHJvdyBjPUVycm9yKCJGYWlsZWQgdG8gZ2VuZXJhdGUgbWVkaWEgVVJMLiIpLGMudHlwZT0iZGFzaCIsYztmPS1hLmovYS5zK2EuVztyZXR1cm4gbmV3IGlkKGMvYS5zK2YsZC9hLnMrZixlLGMsZC1jLGd8fG51bGwpfXBkLnByb3RvdHlwZS5nZXRTZWdtZW50cz1mdW5jdGlvbigpe3JldHVybiByZCh0aGlzLDAsdGhpcy5iKXx8W119OwpwZC5wcm90b3R5cGUuZmlyc3Q9ZnVuY3Rpb24oKXtpZighdGhpcy5iKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbmRleCBvdXQgb2YgcmFuZ2UuIik7aWYoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJvcHRpbWl6ZV9jb21tb25fc2VnbWVudF9nZW5lcmF0aW9ucyIsITEpKXtpZih0aGlzLmgpcmV0dXJuIHRoaXMuaDt2YXIgYT1TaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMuZmlyc3QodGhpcy5jLkMuTix0aGlzLmIpO3JldHVybiB0aGlzLmg9c2QodGhpcyxhKX1yZXR1cm4gcmQodGhpcywwLDEpWzBdfTsKcGQucHJvdG90eXBlLmxhc3Q9ZnVuY3Rpb24oKXtpZighdGhpcy5iKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbmRleCBvdXQgb2YgcmFuZ2UuIik7aWYoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJvcHRpbWl6ZV9jb21tb25fc2VnbWVudF9nZW5lcmF0aW9ucyIsITEpKXtpZih0aGlzLmkpcmV0dXJuIHRoaXMuaTt2YXIgYT1TaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMubGFzdCh0aGlzLmMuQy5OLHRoaXMuYik7cmV0dXJuIHRoaXMuaT1zZCh0aGlzLGEpfXJldHVybiByZCh0aGlzLHRoaXMuYi0xLHRoaXMuYilbMF19OwpwZC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGEpe2lmKCF0aGlzLmJ8fDA+YXx8YT49dGhpcy5iKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbmRleCBvdXQgb2YgcmFuZ2UuIik7cmV0dXJuIFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgib3B0aW1pemVfY29tbW9uX3NlZ21lbnRfZ2VuZXJhdGlvbnMiLCExKT8oYT1TaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMuZ2V0KHRoaXMuYy5DLk4sYSx0aGlzLmIpLHNkKHRoaXMsYSkpOnJkKHRoaXMsYSxhKzEpWzBdfTsKcGQucHJvdG90eXBlLmZpbmQ9ZnVuY3Rpb24oYSl7aWYoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJmaXhfY29tcG9zaXRlZF90aW1lX2luZGV4X2NhbGxzIiwhMSkpcmV0dXJuKGE9U2hha2FUaW1lbGluZVNlZ21lbnRJbmRleFV0aWxzLmZpbmQoYSx0aGlzLmMuQy5OLHRoaXMucywtdGhpcy5qL3RoaXMucyt0aGlzLlcpKT9zZCh0aGlzLGEpOm51bGw7YT10aGlzLmZpbmRJbmRleChhKTtyZXR1cm4gVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJvcHRpbWl6ZV9jb21tb25fc2VnbWVudF9nZW5lcmF0aW9ucyIsITEpPzA8PWE/dGhpcy5nZXQoYSk6bnVsbDowPD1hP3JkKHRoaXMsYSxhKzEpWzBdOm51bGx9O3BkLnByb3RvdHlwZS5maW5kSW5kZXg9ZnVuY3Rpb24oYSl7cmV0dXJuIFNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscy5maW5kSW5kZXgoYSx0aGlzLmMuQy5OLHRoaXMucywtdGhpcy5qL3RoaXMucyt0aGlzLlcpfTtuPXBkLnByb3RvdHlwZTsKbi5TYT1mdW5jdGlvbihhKXt2YXIgYj1hLmxlbmd0aCgpLGM9Yi10aGlzLmI7aWYoMCE9PWImJihiIT09dGhpcy5ifHwwIT09dGhpcy5iJiZhLmxhc3QoKS5lbmRUaW1lIT09dGhpcy5sYXN0KCkuZW5kVGltZSkmJiEoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJmaXhfaW50ZWdyYXRpb25fb25fZWFybGllcl9lbmR0aW1lIiwhMSkmJmEubGFzdCgpLmVuZFRpbWU8PXRoaXMubGFzdCgpLmVuZFRpbWUpKWlmKHRoaXMuQT0hMSxiPWEubGFzdCgpLG51bGwhPWIuZW5kVGltZSYmYi5lbmRUaW1lPHRoaXMubGFzdCgpLmVuZFRpbWUmJmIuZW5kVGltZTx0aGlzLmZpcnN0KCkuc3RhcnRUaW1lJiYodGhpcy5BPSEwKSxWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImludGVncmF0ZV9zZWdtZW50X3RpbWVsaW5lX3RpbWVfcG9pbnRzIiwhMSk/dGhpcy5jLkMuTj1TaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMuaW50ZWdyYXRlVGltZVBvaW50cyh0aGlzLmMuQy5OLAphLmMuQy5OKToodGhpcy53PWEudyx0aGlzLm09YS5tLHRoaXMuYz1hLmMsdGhpcy5qPXRoaXMuYy5MfHwwLHRoaXMucz10aGlzLmMuc3x8MCksdGhpcy5mPVtdLHRoaXMuaT10aGlzLmg9bnVsbCx0aGlzLmI9U2hha2FUaW1lbGluZVNlZ21lbnRJbmRleFV0aWxzLmxlbmd0aCh0aGlzLmMuQy5OKSx0aGlzLmZpcnN0KCksdGhpcy5sYXN0KCksVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJ0ZW1wbGF0ZWRfY2FsbF9vbl9zZWdtZW50c191cGRhdGVkX3dpdGhfZGVsdGFfc2VnbWVudHMiLCExKSl7dmFyIGQ9W10sYz10aGlzLmItYztmb3IoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJ0ZW1wbGF0ZWRfZHluYW1pY19pbmNsdWRlX3ByZXZpb3VzX2xhc3Rfc2VnbWVudF9pbl91cGRhdGVzIiwhMSkmJjA8YyYmYy0tO2M8dGhpcy5iOysrYylkLnB1c2godGhpcy5nZXQoYykpO3RoaXMuZyYmdGhpcy5nKGQpfWVsc2UgYz0hVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJub19wcm92aWRlX3NlZ21lbnRzX3RvX29uX3NlZ21lbnRzX3VwZGF0ZWRfbGlzdGVuZXJzIiwKITEpLHRoaXMuZyYmKGMmJihkPXRoaXMuZ2V0U2VnbWVudHMoKSksdGhpcy5nKGQpKX07bi5oYj1mdW5jdGlvbihhKXt2YXIgYj1hLXRoaXMuVztpZigwPT1iKXJldHVybiAwO3RoaXMuVz1hO3RoaXMuaT10aGlzLmg9bnVsbDt0aGlzLmY9W107cmV0dXJuIGJ9O24uaWI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iP3tzdGFydDp0aGlzLmZpcnN0KCkuc3RhcnRUaW1lLGVuZDp0aGlzLmxhc3QoKS5lbmRUaW1lfTp7c3RhcnQ6MCxlbmQ6MH19O24uZ2V0U2Vla1JhbmdlR2Fwcz1mdW5jdGlvbigpe3JldHVybiBTaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMuZ2V0U2Vla1JhbmdlR2Fwcyh0aGlzLmMuQy5OLHRoaXMucywtdGhpcy5qL3RoaXMucyt0aGlzLlcpfTtuLnJiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuQX07bi5HYz1mdW5jdGlvbihhKXt0aGlzLmc9YX07bi5GYz1mdW5jdGlvbigpe3RoaXMuZz1udWxsfTtuLklhPWZ1bmN0aW9uKCl7fTtmdW5jdGlvbiB0ZCgpe30KdGQucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9bnVsbDt0cnl7YTp7dmFyIGc9W10saD1uZXcgQmEoYSksaz12KGgpO2lmKDE5MzYyODY4NDAhPXYoaCkpZj1udWxsO2Vsc2V7MT09ayYmKGs9RmEoaCkpO3ZhciBsPUVhKGgpO0hhKGgsMyk7SGEoaCw0KTt2YXIgbT12KGgpO2lmKDA9PW0pZj1udWxsO2Vsc2V7dmFyIHAsdDswPT1sPyhwPXYoaCksdD12KGgpKToocD1GYShoKSx0PUZhKGgpKTtIYShoLDIpO3ZhciB3PWguYi5nZXRVaW50MTYoaC5hLGguYyk7aC5hKz0yO2E9cDtiPWIrayt0O2Zvcih0PWs9MDt0PHc7dCsrKXt2YXIgej12KGgpO3A9KHomMjE0NzQ4MzY0OCk+Pj4zMTt2YXIgbD16JjIxNDc0ODM2NDcsSD12KGgpO3YoaCk7aWYoMT09cCl7Zj1udWxsO2JyZWFrIGF9dmFyIGRhO2RhPTA9PXQmJmU/ZTpuZXcgSyhkLGMsYixiK2wtMSk7cD1hL207dmFyIGVhPShhK0gpL207MD09PXQmJihrPXApO2cucHVzaChuZXcgaWQocC1rLGVhLWssZGEsCmEsSCkpO2ErPUg7Yis9bH1nLnM9bTtmPWd9fX19Y2F0Y2goQWEpe2lmKCEoQWEgaW5zdGFuY2VvZiBSYW5nZUVycm9yKSl0aHJvdyBBYTt9cmV0dXJuIGZ9O2Z1bmN0aW9uIFIoYSl7dGhpcy5hPWE7dGhpcy5zPXRoaXMuYS5zO3RoaXMuSz10aGlzLmEuQjt0aGlzLmc9W119Ui5wcm90b3R5cGUuSj1mdW5jdGlvbigpe3JldHVybiEhdGhpcy5nW3RoaXMuZy5sZW5ndGgtMV19O1IucHJvdG90eXBlLmxhc3RQb2xsSGFkQ2hhbmdlcz1SLnByb3RvdHlwZS5KO1IucHJvdG90eXBlLkk9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmcsYj1hLmxhc3RJbmRleE9mKCEwKTtpZigxPmIpcmV0dXJuIDA7YT1hLmxhc3RJbmRleE9mKCEwLGItMSk7cmV0dXJuIDA+YT8wOmItYS0xfTtSLnByb3RvdHlwZS5nZXRGZXRjaGVzQmV0d2VlblJlY2VudENoYW5nZXM9Ui5wcm90b3R5cGUuSTtSLnByb3RvdHlwZS51PWZ1bmN0aW9uKCl7cmV0dXJuIE1hdGguZmxvb3IoKHRoaXMuZy5sZW5ndGgtMS10aGlzLmcubGFzdEluZGV4T2YoITApKS8yKX07Ui5wcm90b3R5cGUuZ2V0Q29uc2VjdXRpdmVVcGRhdGVzV2l0aG91dENoYW5nZXM9Ui5wcm90b3R5cGUudTsKUi5wcm90b3R5cGUuRz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmcubGVuZ3RoLTEtdGhpcy5nLmxhc3RJbmRleE9mKCExKX07Ui5wcm90b3R5cGUuZ2V0Q29uc2VjdXRpdmVVcGRhdGVzV2l0aENoYW5nZXM9Ui5wcm90b3R5cGUuRztSLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5hLmRlc3Ryb3koKTt0aGlzLmE9bnVsbH07Ui5wcm90b3R5cGUubGVuZ3RoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS5sZW5ndGgoKX07Ui5wcm90b3R5cGUuZ2V0U2VnbWVudHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLmdldFNlZ21lbnRzKCl9O1IucHJvdG90eXBlLmdldFNlZ21lbnRzPVIucHJvdG90eXBlLmdldFNlZ21lbnRzO1IucHJvdG90eXBlLmZpcnN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS5maXJzdCgpfTtSLnByb3RvdHlwZS5sYXN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS5sYXN0KCl9O1IucHJvdG90eXBlLmxhc3Q9Ui5wcm90b3R5cGUubGFzdDsKUi5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmEuZ2V0KGEpfTtSLnByb3RvdHlwZS5maW5kPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmEuZmluZChhKX07Ui5wcm90b3R5cGUuZmluZEluZGV4PWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmEuZmluZEluZGV4KGEpfTtSLnByb3RvdHlwZS5CPWZ1bmN0aW9uKGEpe3RoaXMuYS5TYShhLmEpO3JldHVybiEwfTtSLnByb3RvdHlwZS5UYT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5hLmhiKGEpfTtSLnByb3RvdHlwZS5BPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS5pYigpfTtSLnByb3RvdHlwZS5nZXRTZWVrUmFuZ2VHYXBzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS5nZXRTZWVrUmFuZ2VHYXBzKCl9O1IucHJvdG90eXBlLmdldFNlZWtSYW5nZUdhcHM9Ui5wcm90b3R5cGUuZ2V0U2Vla1JhbmdlR2FwcztSLnByb3RvdHlwZS5yYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmEucmIoKX07CmZ1bmN0aW9uIHVkKGEsYil7YS5hLkdjKGIpfTtmdW5jdGlvbiBTKGEsYixjLGQpe1IuY2FsbCh0aGlzLGEpO3RoaXMuaT1iO3RoaXMuRj1jO3RoaXMuaD1kO3RoaXMuZHVyYXRpb249dGhpcy5pLmJ8fHRoaXMuaS5hLnJlZHVjZShmdW5jdGlvbihhLGIpe3JldHVybiBudWxsPT1iLmR1cmF0aW9uP05hTjphK2IuZHVyYXRpb259LDApfHwwO3RoaXMuYj10aGlzLm89dGhpcy5mPW51bGw7eWQodGhpcyl9cihTLFIpO1MucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLkY9dGhpcy5pPW51bGw7Ui5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpfTtTLnByb3RvdHlwZS5maW5kPWZ1bmN0aW9uKGEpe3pkKHRoaXMseWEoKS8xRTMpO3JldHVybiBSLnByb3RvdHlwZS5maW5kLmNhbGwodGhpcyxhKX07ClMucHJvdG90eXBlLkI9ZnVuY3Rpb24oYSl7aWYoIShhIGluc3RhbmNlb2YgUykpcmV0dXJuITE7dGhpcy5hLlNhKGEuYSk7dGhpcy5kdXJhdGlvbj1NYXRoLm1heCh0aGlzLmR1cmF0aW9uLGEuZHVyYXRpb24pO251bGw9PXRoaXMuZj8odGhpcy5oPWEuaCx5ZCh0aGlzKSk6QWQodGhpcyk7cmV0dXJuITB9O2Z1bmN0aW9uIHlkKGEpe0FkKGEpO2lmKDAhPWEubGVuZ3RoKCkpe2EubGVuZ3RoKCk7dmFyIGI9bnVsbCE9YS5sYXN0KCkuZW5kVGltZT9hLmxhc3QoKS5lbmRUaW1lOmEubGFzdCgpLnN0YXJ0VGltZTtpZihhLmkuYz5hLmgpYS5mPWI7ZWxzZXt2YXIgYz1hLmgtKGEuaS5jK2EuRi5zdGFydCk7MD5jP2EuZj1iOmM8TWF0aC5tYXgoYS5sYXN0KCkuc3RhcnRUaW1lLGEubGFzdCgpLmVuZFRpbWV8fDApPyhhLmxhc3QoKSxhLmY9Yik6YS5mPWN9YS5vPWEubGFzdCgpLnN0YXJ0VGltZTthLmI9YS5maXJzdCgpLnN0YXJ0VGltZX19ClMucHJvdG90eXBlLlRhPWZ1bmN0aW9uKGEpe2E9Ui5wcm90b3R5cGUuVGEuY2FsbCh0aGlzLGEpO1ZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgibm9fY29ycmVjdF9kZWx0YV93YXJuaW5nIiwhMSl8fE1hdGgubWluLmFwcGx5KG51bGwsdGhpcy5nZXRTZWdtZW50cygpLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YS5lbmRUaW1lfSkubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLmVuZFRpbWUtYS5zdGFydFRpbWV9KSk7bnVsbCE9dGhpcy5mJiYodGhpcy5vKz1hLHRoaXMuYis9YSx0aGlzLmYrPWEpO3JldHVybiBhfTtTLnByb3RvdHlwZS5BPWZ1bmN0aW9uKCl7cmV0dXJuIEJkKHRoaXMseWEoKS8xRTMpfTsKZnVuY3Rpb24gQmQoYSxiKXt6ZChhLGIpO2lmKG51bGw9PWEuZnx8bnVsbD09YS5vfHxudWxsPT1hLmIpcmV0dXJue3N0YXJ0OjAsZW5kOjB9O3ZhciBjPU51bWJlci5QT1NJVElWRV9JTkZJTklUWTthLmR1cmF0aW9uJiYoYz1hLmR1cmF0aW9uKTt2YXIgZD1iLWEuaCxlPWEuZitkO251bGwhPWEuaS5mJiYoZT1lLWEuYi1hLmkuZiwwPGUmJihhLmIrPWUpKTthLmI9TWF0aC5taW4oYS5iLGMpO2Q9YS5vK2Q7aWYoZDxhLmIpcmV0dXJue3N0YXJ0OmEuYixlbmQ6YS5ifTtkPTA8YS5sZW5ndGgoKT9udWxsIT1hLmxhc3QoKS5lbmRUaW1lP01hdGgubWluKGQsYS5sYXN0KCkuZW5kVGltZSk6ZDphLmI7ZD1NYXRoLm1heChkLGEuYik7ZD1NYXRoLm1pbihkLGMpO3JldHVybntzdGFydDphLmIsZW5kOmR9fQpmdW5jdGlvbiB6ZChhLGIpe2lmKGEuYS5hJiYoQWQoYSksbnVsbCE9YS5pLmYpKWlmKG51bGw9PWEuZilhLmxlbmd0aCgpO2Vsc2V7Zm9yKHZhciBjPWEuZisoYi1hLmgpLGQ9MCxlPTA7ZTxhLmEuYS5sZW5ndGg7KytlKXt2YXIgZj1udWxsO2U8YS5hLmEubGVuZ3RoLTE/Zj1hLmEuYVtlKzFdLmVuZFRpbWU6KGY9YS5hLmFbZV0sZj1udWxsIT1mLmVuZFRpbWU/Zi5lbmRUaW1lKyhmLmVuZFRpbWUtZi5zdGFydFRpbWUpOm51bGwpO2lmKG51bGwhPWYmJmY8Yy1hLmkuZikrK2Q7ZWxzZSBicmVha30wPGQmJmEuYS5hLnNwbGljZSgwLGQpfX1mdW5jdGlvbiBBZChhKXtpZihhLmR1cmF0aW9uJiZhLmEuYSl7Zm9yKHZhciBiPTAsYz1hLmEuYS5sZW5ndGgtMTswPD1jOy0tYylpZihhLmEuYVtjXS5zdGFydFRpbWU+YS5kdXJhdGlvbikrK2I7ZWxzZSBicmVhazswPGImJmEuYS5hLnNwbGljZSgtYil9fTtmdW5jdGlvbiBUKGEsYixjKXt2YXIgZD1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigidGVtcGxhdGVkX3F1YXJhbnRpbmVfaWRsZV9yZWZlcmVuY2VzX3RocmVzaG9sZCIsMCk7dGhpcy5pPVtdO2lmKDA8ZCl7dmFyIGU9YTthPWUuc3BsaWNlKC1kKTt0aGlzLmk9ZX10aGlzLmE9YTt0aGlzLlc9MDt0aGlzLnM9Yjt0aGlzLmY9ITE7dGhpcy5oPWZ1bmN0aW9uKCl7fTt0aGlzLkI9Y3x8ITF9VC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuYT1udWxsfTtULnByb3RvdHlwZS5sZW5ndGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLmxlbmd0aH07VC5wcm90b3R5cGUuZ2V0U2VnbWVudHM9ZnVuY3Rpb24oKXtyZXR1cm4odGhpcy5hfHxbXSkuc2xpY2UoKX07VC5wcm90b3R5cGUuZ2V0U2VnbWVudHM9VC5wcm90b3R5cGUuZ2V0U2VnbWVudHM7ClQucHJvdG90eXBlLmZpcnN0PWZ1bmN0aW9uKCl7aWYoMD09dGhpcy5hLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiU2VnbWVudEluZGV4QmFzZTogVGhlcmUgaXMgbm8gZmlyc3QgU2VnbWVudFJlZmVyZW5jZS4iKTtyZXR1cm4gdGhpcy5hWzBdfTtULnByb3RvdHlwZS5sYXN0PWZ1bmN0aW9uKCl7aWYoMD09dGhpcy5hLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiU2VnbWVudEluZGV4QmFzZTogVGhlcmUgaXMgbm8gbGFzdCBTZWdtZW50UmVmZXJlbmNlLiIpO3JldHVybiB0aGlzLmFbdGhpcy5hLmxlbmd0aC0xXX07VC5wcm90b3R5cGUubGFzdD1ULnByb3RvdHlwZS5sYXN0O1QucHJvdG90eXBlLmdldD1mdW5jdGlvbihhKXtpZigwPmF8fGE+PXRoaXMuYS5sZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIlNlZ21lbnRJbmRleEJhc2U6IFRoZSBzcGVjaWZpZWQgaW5kZXggaXMgb3V0IG9mIHJhbmdlLiIpO3JldHVybiB0aGlzLmFbYV19OwpULnByb3RvdHlwZS5maW5kPWZ1bmN0aW9uKGEpe2E9dGhpcy5maW5kSW5kZXgoYSk7cmV0dXJuIDA8PWE/dGhpcy5hW2FdOm51bGx9O1QucHJvdG90eXBlLmZpbmRJbmRleD1mdW5jdGlvbihhKXtyZXR1cm4geWIodGhpcy5hLGEpfTsKVC5wcm90b3R5cGUuU2E9ZnVuY3Rpb24oYSl7dGhpcy5XIT1hLlcmJihhPW5ldyBUKGtkKGEuYSx0aGlzLlctYS5XKSxhLnMpKTtpZigwPT10aGlzLmxlbmd0aCgpKXRoaXMuYT1hLmEuc2xpY2UoMCksdGhpcy5JYSgpO2Vsc2UgaWYoMCE9YS5sZW5ndGgoKSYmbnVsbCE9dGhpcy5sYXN0KCkuZW5kVGltZSlpZihudWxsIT1hLmxhc3QoKS5lbmRUaW1lJiZhLmxhc3QoKS5lbmRUaW1lPHRoaXMubGFzdCgpLmVuZFRpbWUpVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJmaXhfbWFuaWZlc3Rfd3JhcHBlZCIsITApP2EubGFzdCgpLmVuZFRpbWU8dGhpcy5maXJzdCgpLnN0YXJ0VGltZSYmKHRoaXMuZj0hMCk6dGhpcy5mPSEwO2Vsc2V7dGhpcy5mPSExO2lmKHRoaXMubGFzdCgpLmVuZFRpbWU8PWEuZmlyc3QoKS5zdGFydFRpbWUpe3ZhciBiPWpkKHRoaXMubGFzdCgpLHRoaXMubGFzdCgpLnN0YXJ0VGltZSxhLmZpcnN0KCkuc3RhcnRUaW1lKSxjPXRoaXMubGFzdCgpLnVuc2NhbGVkU3RhcnRUaW1lKwp0aGlzLmxhc3QoKS51bnNjYWxlZER1cmF0aW9uO1ZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgiY2FsY3VsYXRlX21pc3NlZF9zZWdtZW50X2dhcF9pbmZvX29uX21lcmdlIiwhMSkmJmM8YS5maXJzdCgpLnVuc2NhbGVkU3RhcnRUaW1lJiZudWxsPT09dGhpcy5sYXN0KCkudGltZXNjYWxlZEdhcEluZm8mJihiLnRpbWVzY2FsZWRHYXBJbmZvPW5ldyBoZChjL3RoaXMucywoYS5maXJzdCgpLnVuc2NhbGVkU3RhcnRUaW1lLWMpL3RoaXMucykpO2lmKFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgidGVtcGxhdGVkX29wdGltaXplX21lcmdlX3RhcmdldF9hbGdvcyIsITEpKWZvcih0aGlzLmEucG9wKCksdGhpcy5hLnB1c2goYiksYz0wO2M8YS5hLmxlbmd0aDsrK2MpdGhpcy5hLnB1c2goYS5hW2NdKTtlbHNlIGI9dGhpcy5hLnNsaWNlKDAsLTEpLmNvbmNhdChbYl0pLHRoaXMuYT1iLmNvbmNhdChhLmEpfWVsc2V7Zm9yKGM9MDtjPHRoaXMuYS5sZW5ndGgmJgohKHRoaXMuYVtjXS5lbmRUaW1lPj1hLmZpcnN0KCkuc3RhcnRUaW1lKTsrK2MpO3RoaXMuYVtjXS5zdGFydFRpbWU8YS5maXJzdCgpLnN0YXJ0VGltZT8oYj1qZCh0aGlzLmFbY10sdGhpcy5hW2NdLnN0YXJ0VGltZSxhLmZpcnN0KCkuc3RhcnRUaW1lKSxiPXRoaXMuYS5zbGljZSgwLGMpLmNvbmNhdChbYl0pKToodGhpcy5maXJzdCgpLnN0YXJ0VGltZT5hLmZpcnN0KCkuc3RhcnRUaW1lfHxhLmZpcnN0KCksYj10aGlzLmEuc2xpY2UoMCxjKSk7dGhpcy5hPWIuY29uY2F0KGEuYSl9dGhpcy5oKGEuYSk7dGhpcy5JYSgpfX07VC5wcm90b3R5cGUuaGI9ZnVuY3Rpb24oYSl7dmFyIGI9YS10aGlzLlc7aWYoMD09YilyZXR1cm4gMDt0aGlzLmE9a2QodGhpcy5hLGIpO3RoaXMuSWEoKTt0aGlzLlc9YTtyZXR1cm4gYn07ClQucHJvdG90eXBlLmliPWZ1bmN0aW9uKCl7cmV0dXJuIDA8dGhpcy5sZW5ndGgoKT97c3RhcnQ6dGhpcy5maXJzdCgpLnN0YXJ0VGltZSxlbmQ6dGhpcy5sYXN0KCkuZW5kVGltZX06e3N0YXJ0OjAsZW5kOjB9fTtULnByb3RvdHlwZS5nZXRTZWVrUmFuZ2VHYXBzPWZ1bmN0aW9uKCl7cmV0dXJuIGdldFNlZWtSYW5nZUdhcHNGcm9tU2hha2FSZWZlcmVuY2VzKHRoaXMuYSx0aGlzLnMpfTtULnByb3RvdHlwZS5nZXRTZWVrUmFuZ2VHYXBzPVQucHJvdG90eXBlLmdldFNlZWtSYW5nZUdhcHM7VC5wcm90b3R5cGUucmI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mfTtULnByb3RvdHlwZS5HYz1mdW5jdGlvbihhKXt0aGlzLmg9YX07VC5wcm90b3R5cGUuRmM9ZnVuY3Rpb24oKXt0aGlzLmg9ZnVuY3Rpb24oKXt9fTtULnByb3RvdHlwZS5JYT1mdW5jdGlvbigpe307VC5wcm90b3R5cGUuZ2V0SWRsZVJlZmVyZW5jZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pfTtmdW5jdGlvbiBDZChhLGIsYyxkLGUpe3ZhciBmPTEsZz0wLGg7aWYoYS5jPmQpaD1udWxsO2Vsc2V7dmFyIGs9YS5vfHwwLGw9YS5mfHwwO2g9Yy5hO2g9aC5IL2guczt2YXIgbT1kLShhLmMrYi5zdGFydCk7MD5tP2g9bnVsbDoobD1tLTIqaC1sLDA+bCYmKGw9MCksbD1NYXRoLmNlaWwobC9oKSpoLG0tPWgsMD5tP2g9bnVsbDooaz1NYXRoLmZsb29yKG0vaCkqaC1rLDA+ayYmKGs9MCksaz1NYXRoLmZsb29yKGsvaCkqaCxoPXt0YzpsL2grMSxjdXJyZW50OihrPj1sP2s6bCkvaCsxfSkpfWgmJihmPWgudGMsZz1oLmN1cnJlbnQtaC50YysxKTtmPWxkKGUsYyxmLGcpO2lmKG51bGw9PWYpdGhyb3cgYT1FcnJvcigiRmFpbGVkIHRvIGdlbmVyYXRlIFNlZ21lbnRSZWZlcmVuY2VzLiIpLGEudHlwZT0ic3RyZWFtIixhO2Y9bmV3IFQoZixjLmEuc3x8MSk7Uy5jYWxsKHRoaXMsZixhLGIsZCk7dGhpcy53PWM7dGhpcy5tPXRoaXMuYz0wPHRoaXMubGVuZ3RoKCk/YS5jK2Iuc3RhcnQrdGhpcy5sYXN0KCkuZW5kVGltZToKbnVsbDt0aGlzLmo9aD9oLmN1cnJlbnQrMTpudWxsO3RoaXMuRD1lfXIoQ2QsUyk7Q2QucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLkQ9dGhpcy53PW51bGw7Uy5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpfTtDZC5wcm90b3R5cGUuZmluZD1mdW5jdGlvbihhKXt2YXIgYj15YSgpLzFFMztEZCh0aGlzLGIpO3pkKHRoaXMsYik7cmV0dXJuIFIucHJvdG90eXBlLmZpbmQuY2FsbCh0aGlzLGEpfTtDZC5wcm90b3R5cGUuQj1mdW5jdGlvbihhKXtpZihudWxsIT10aGlzLmN8fCEoYSBpbnN0YW5jZW9mIENkKXx8bnVsbD09YS5jKXJldHVybiExO3RoaXMuYz1hLmM7dGhpcy5tPWEubTt0aGlzLmo9YS5qO3RoaXMuaD1hLmg7dGhpcy5kdXJhdGlvbj1hLmR1cmF0aW9uO3RoaXMuYS5TYShhLmEpO0RkKHRoaXMseWEoKS8xRTMpO3lkKHRoaXMpO3JldHVybiEwfTsKQ2QucHJvdG90eXBlLlRhPWZ1bmN0aW9uKGEpe2E9Uy5wcm90b3R5cGUuVGEuY2FsbCh0aGlzLGEpO251bGwhPXRoaXMuYyYmKHRoaXMuYys9YSx0aGlzLm0rPWEpO3JldHVybiBhfTtDZC5wcm90b3R5cGUuQT1mdW5jdGlvbigpe3ZhciBhPXlhKCkvMUUzO0RkKHRoaXMsYSk7cmV0dXJuIEJkKHRoaXMsYSl9O2Z1bmN0aW9uIERkKGEsYil7aWYobnVsbCE9YS5jJiZudWxsIT1hLm0mJm51bGwhPWEuail7dmFyIGM9YS53LmEsYz1jLkgvYy5zLGQ9TWF0aC5mbG9vcigoYS5tKyhiLWEuaCktYS5jKS9jKTtpZigwIT1kKXt2YXIgZT1sZChhLkQsYS53LGEuaixkKTtBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShhLmEuYSxrZChlLGEuYS5XKSk7YS5hLklhKCk7YS5jKz1kKmM7YS5qKz1kfX19O2Z1bmN0aW9uIEVkKGEsYixjLGQsZSl7dGhpcy5nPWE7dGhpcy5mPWI7dGhpcy5iPWM7dGhpcy5pPWQ7dGhpcy5hPW51bGw7dGhpcy5oPWV9RWQucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmg9dGhpcy5iPXRoaXMuZj10aGlzLmc9bnVsbDt0aGlzLmEmJih0aGlzLmEuZGVzdHJveSgpLHRoaXMuYT1udWxsKX07CkVkLnByb3RvdHlwZS5jcmVhdGU9ZnVuY3Rpb24oKXtpZih0aGlzLmEpcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLmEpO2lmKCJkeW5hbWljIj09dGhpcy5nLnR5cGUpdHJ5e3RoaXMuYT1uZXcgQ2QodGhpcy5nLHRoaXMuZix0aGlzLmIsdGhpcy5pLHRoaXMuaCl9Y2F0Y2goYSl7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfWVsc2V7dmFyIGI7Yj10aGlzLmIuYTtpZihiPWxkKHRoaXMuaCx0aGlzLmIsMSxNYXRoLmNlaWwodGhpcy5mLmR1cmF0aW9uLyhiLkgvYi5zKSkpKXtpZigwPGIubGVuZ3RoKXt2YXIgYz1iW2IubGVuZ3RoLTFdO2JbYi5sZW5ndGgtMV09amQoYyxjLnN0YXJ0VGltZSx0aGlzLmYuZHVyYXRpb24pfWI9bmV3IFQoYix0aGlzLmIuYS5zfHwxKTtiPW5ldyBSKGIpfWVsc2UgYj1udWxsO3RoaXMuYT1iO2lmKCF0aGlzLmEpcmV0dXJuIGI9RXJyb3IoIkZhaWxlZCB0byBnZW5lcmF0ZSBTZWdtZW50UmVmZXJlbmNlcyIpLGIudHlwZT0ic3RyZWFtIixQcm9taXNlLnJlamVjdChiKX1yZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuYSl9OwpFZC5wcm90b3R5cGUuYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmF9O2Z1bmN0aW9uIEZkKGEsYixjLGQsZSxmKXt0aGlzLmY9YTt0aGlzLmI9Yjt0aGlzLmg9Yzt0aGlzLmE9bnVsbDt0aGlzLmk9ZDt0aGlzLmc9ZTt0aGlzLmo9Znx8bnVsbH1GZC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuZz10aGlzLmg9dGhpcy5iPXRoaXMuZj1udWxsO3RoaXMuYSYmKHRoaXMuYS5kZXN0cm95KCksdGhpcy5hPW51bGwpfTsKRmQucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbigpe2lmKHRoaXMuYSlyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuYSk7dmFyIGE9dGhpcy5oLmIsYj1bXTthLkMmJihiPW9kKGEuQyxhLnN8fDEsdGhpcy5iLmR1cmF0aW9ufHwwKSk7dmFyIGM9MDthLkgmJmEuYz9jPShhLmMtMSkqYS5IOjA8Yi5sZW5ndGgmJihjPWJbMF0uc3RhcnQtKGEuTHx8MCkpO3ZhciBkPWMsZT1hLmEubGVuZ3RoOzA8Yi5sZW5ndGgmJmIubGVuZ3RoIT1hLmEubGVuZ3RoJiYoZT1NYXRoLm1pbihiLmxlbmd0aCxhLmEubGVuZ3RoKSk7Zm9yKHZhciBmPVtdLGc9MDtnPGU7KytnKXt2YXIgaD1hLmFbZ10saz1jLGw9ay9hLnMsbT1jPW51bGwscDthLkg/KGM9aythLkgsbT1jL2Eucyk6MDxiLmxlbmd0aD8ocD1iW2ddLnRpbWVzY2FsZWRHYXBJbmZvLGM9YltnXS5lbmQtKGEuTHx8MCksbT1jL2Eucyk6KG09bCt0aGlzLmIuZHVyYXRpb24sYz1tKmEucyk7dmFyIHQ9MCx3PW51bGw7aC5hJiYodD1oLmEucWEsCnc9aC5hLmVuZCk7bT1NYXRoLm1pbih0aGlzLmIuZHVyYXRpb24rZC9hLnMsbSk7Zi5wdXNoKG5ldyBpZChsLG0sbmV3IEsodGhpcy5nLGguYix0LHcsdm9pZCAwLHRoaXMuaiksayxwfHxudWxsKSl9YT1uZXcgVChmLGEuc3x8MSk7ImR5bmFtaWMiPT10aGlzLmYudHlwZT90aGlzLmE9bmV3IFMoYSx0aGlzLmYsdGhpcy5iLHRoaXMuaSk6dGhpcy5hPW5ldyBSKGEpO3JldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5hKX07RmQucHJvdG90eXBlLmM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hfTtmdW5jdGlvbiBHZChhLGIsYyl7VC5jYWxsKHRoaXMsYSxjKTt0aGlzLmc9Yjt0aGlzLmI9ITE7dGhpcy5qPVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0U3RyaW5nKCJ0ZW1wbGF0ZWRfcGVyZl90ZXN0X21ldGhvZHNfdW5kZXJfdGVzdF9jc3Zfc3RyaW5nIiwiYWxsIikuc3BsaXQoIiwiKX1yKEdkLFQpO2Z1bmN0aW9uIEhkKGEsYil7aWYoISgtMTxhLmouaW5kZXhPZigiYWxsIil8fC0xPGEuai5pbmRleE9mKGIpKXx8YS5iKXJldHVybiBudWxsO3ZhciBjPWEuYTthLmE9YS5nO2EuYj0hMDtyZXR1cm4gY31mdW5jdGlvbiBJZChhLGIpe2EuYiYmKGEuZz1hLmEsYS5hPWIpfUdkLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7VC5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpO3RoaXMuZz1udWxsfTsKR2QucHJvdG90eXBlLmxlbmd0aD1mdW5jdGlvbigpe3ZhciBhPUhkKHRoaXMsImxlbmd0aCIpLGI9VC5wcm90b3R5cGUubGVuZ3RoLmNhbGwodGhpcyk7YSYmKElkKHRoaXMsYSksYj1ULnByb3RvdHlwZS5sZW5ndGguY2FsbCh0aGlzKSx0aGlzLmI9ITEpO3JldHVybiBifTtHZC5wcm90b3R5cGUuZ2V0U2VnbWVudHM9ZnVuY3Rpb24oKXt2YXIgYT1IZCh0aGlzLCJnZXRTZWdtZW50cyIpLGI9VC5wcm90b3R5cGUuZ2V0U2VnbWVudHMuY2FsbCh0aGlzKTthJiYoSWQodGhpcyxhKSxiPVQucHJvdG90eXBlLmdldFNlZ21lbnRzLmNhbGwodGhpcyksdGhpcy5iPSExKTtyZXR1cm4gYn07R2QucHJvdG90eXBlLmZpcnN0PWZ1bmN0aW9uKCl7dmFyIGE9SGQodGhpcywiZmlyc3QiKSxiPVQucHJvdG90eXBlLmZpcnN0LmNhbGwodGhpcyk7YSYmKElkKHRoaXMsYSksYj1ULnByb3RvdHlwZS5maXJzdC5jYWxsKHRoaXMpLHRoaXMuYj0hMSk7cmV0dXJuIGJ9OwpHZC5wcm90b3R5cGUubGFzdD1mdW5jdGlvbigpe3ZhciBhPUhkKHRoaXMsImxhc3QiKSxiPVQucHJvdG90eXBlLmxhc3QuY2FsbCh0aGlzKTthJiYoSWQodGhpcyxhKSxiPVQucHJvdG90eXBlLmxhc3QuY2FsbCh0aGlzKSx0aGlzLmI9ITEpO3JldHVybiBifTtHZC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGEpe3ZhciBiPUhkKHRoaXMsImdldCIpLGM7Yz1iP1QucHJvdG90eXBlLmdldC5jYWxsKHRoaXMsYSsodGhpcy5hLmxlbmd0aC1iLmxlbmd0aCkpOlQucHJvdG90eXBlLmdldC5jYWxsKHRoaXMsYSk7YiYmKElkKHRoaXMsYiksYz1ULnByb3RvdHlwZS5nZXQuY2FsbCh0aGlzLGEpLHRoaXMuYj0hMSk7cmV0dXJuIGN9O0dkLnByb3RvdHlwZS5maW5kPWZ1bmN0aW9uKGEpe3ZhciBiPUhkKHRoaXMsImZpbmQiKSxjPVQucHJvdG90eXBlLmZpbmQuY2FsbCh0aGlzLGEpO2ImJihJZCh0aGlzLGIpLGM9VC5wcm90b3R5cGUuZmluZC5jYWxsKHRoaXMsYSksdGhpcy5iPSExKTtyZXR1cm4gY307CkdkLnByb3RvdHlwZS5maW5kSW5kZXg9ZnVuY3Rpb24oYSl7dmFyIGI9SGQodGhpcywiZmluZEluZGV4IiksYz1ULnByb3RvdHlwZS5maW5kSW5kZXguY2FsbCh0aGlzLGEpO2ImJihJZCh0aGlzLGIpLGM9VC5wcm90b3R5cGUuZmluZEluZGV4LmNhbGwodGhpcyxhKSx0aGlzLmI9ITEpO3JldHVybiBjfTtuPUdkLnByb3RvdHlwZTtuLlNhPWZ1bmN0aW9uKGEpe3ZhciBiPUhkKHRoaXMsIm1lcmdlIiksYz1ULnByb3RvdHlwZS5TYS5jYWxsKHRoaXMsYSk7YiYmKElkKHRoaXMsYiksYz1ULnByb3RvdHlwZS5TYS5jYWxsKHRoaXMsYSksdGhpcy5iPSExKTtyZXR1cm4gY307bi5oYj1mdW5jdGlvbihhKXt2YXIgYj1IZCh0aGlzLCJjb3JyZWN0IiksYz1ULnByb3RvdHlwZS5oYi5jYWxsKHRoaXMsYSk7YiYmKElkKHRoaXMsYiksYz1ULnByb3RvdHlwZS5oYi5jYWxsKHRoaXMsYSksdGhpcy5iPSExKTtyZXR1cm4gY307Cm4uaWI9ZnVuY3Rpb24oKXt2YXIgYT1IZCh0aGlzLCJnZXRTZWVrUmFuZ2UiKSxiPVQucHJvdG90eXBlLmliLmNhbGwodGhpcyk7YSYmKElkKHRoaXMsYSksYj1ULnByb3RvdHlwZS5pYi5jYWxsKHRoaXMpLHRoaXMuYj0hMSk7cmV0dXJuIGJ9O24uZ2V0U2Vla1JhbmdlR2Fwcz1mdW5jdGlvbigpe3ZhciBhPUhkKHRoaXMsImdldFNlZWtSYW5nZUdhcHMiKSxiPVQucHJvdG90eXBlLmdldFNlZWtSYW5nZUdhcHMuY2FsbCh0aGlzKTthJiYoSWQodGhpcyxhKSxiPVQucHJvdG90eXBlLmdldFNlZWtSYW5nZUdhcHMuY2FsbCh0aGlzKSx0aGlzLmI9ITEpO3JldHVybiBifTtuLklhPWZ1bmN0aW9uKCl7dmFyIGE9SGQodGhpcywiYXNzZXJ0Q29ycmVjdFJlZmVyZW5jZXMiKTtULnByb3RvdHlwZS5JYS5jYWxsKHRoaXMpO2EmJihJZCh0aGlzLGEpLFQucHJvdG90eXBlLklhLmNhbGwodGhpcyksdGhpcy5iPSExKX07ZnVuY3Rpb24gSmQoYSxiLGMsZCxlLGYsZyxoKXt0aGlzLm09YTt0aGlzLmE9Yjt0aGlzLmc9Yzt0aGlzLmY9ZDt0aGlzLm89ZTt0aGlzLmI9bnVsbDt0aGlzLmk9Zjt0aGlzLmg9bnVsbDt0aGlzLmo9aHx8bnVsbH1KZC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuaT10aGlzLmY9dGhpcy5nPXRoaXMuYT1udWxsO3RoaXMuYiYmKHRoaXMuYi5kZXN0cm95KCksdGhpcy5iPW51bGwpfTsKSmQucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbigpe2lmKHRoaXMuYilyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuYik7dmFyIGE9VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJmYmxzX3VzZV90aW1lbGluZV9zZWdtZW50X2luZGV4IiwhMSk7aWYoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJ1c2VfdGltZWxpbmVfc2VnbWVudF9pbmRleCIsITEpJiYodGhpcy5hLkZCSXNMaXZlVGVtcGxhdGVkfHx0aGlzLmEuRkJXYXNMaXZlfHxhKSlhPW5ldyBwZCh0aGlzLmcsdGhpcy5mLHRoaXMuZi5hLHRoaXMuaSx0aGlzLmopO2Vsc2V7Zm9yKHZhciBhPXRoaXMuZi5hLGI9b2QoYS5DLGEuc3x8MSx0aGlzLmcuZHVyYXRpb258fDAsdGhpcy5tLmdldE51bWJlcigibnVtX3ByZWRpY3RpdmVfc2VnbWVudHMiLDApLHRoaXMuYS5GQklzTGl2ZVRlbXBsYXRlZHx8dGhpcy5hLkZCV2FzTGl2ZSx0aGlzLmgpLGM9W10sZD0wO2Q8Yi5sZW5ndGg7KytkKXt2YXIgZT0KYltkXS5zdGFydCxmPWJbZF0uZW5kLGc9YltkXS51ZHx8MCxoPWJbZF0udGltZXNjYWxlZEdhcEluZm8saz1lL2EucyxsPWYvYS5zLG09ZCthLmIscD1lLG09bWQodGhpcy5pLHRoaXMuZiwwPGc/ZzptLHAsMDxnPyEwOiExLHRoaXMuaik7aWYoIW0pcmV0dXJuIGE9RXJyb3IoIkZhaWxlZCB0byBnZW5lcmF0ZSBtZWRpYSBVUkwuIiksYS50eXBlPSJkYXNoIixQcm9taXNlLnJlamVjdChhKTt2YXIgdD0oYS5MfHwwKS9hLnM7Yy5wdXNoKG5ldyBpZChrLXQsbC10LG0scCxmLWUsaHx8bnVsbCwwPGcpKX1iPXRoaXMuYS5GQklzTGl2ZVRlbXBsYXRlZHx8dGhpcy5hLkZCV2FzTGl2ZTtWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigidGVtcGxhdGVkX3VzZV9wZXJmX3Rlc3Rfc2VnbWVudF9pbmRleF9iYXNlX2ludCIsMCkmJm51bGw9PXRoaXMuaCYmdGhpcy5hLkZCSXNMaXZlVGVtcGxhdGVkPyhiPWMsYz1iLnNsaWNlKC1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigidGVtcGxhdGVkX3VzZV9wZXJmX3Rlc3Rfc2VnbWVudF9pbmRleF9iYXNlX2ludCIsCjApKSxhPW5ldyBHZChjLGIsYS5zfHwxKSk6YT1uZXcgVChjLGEuc3x8MSxiKX10aGlzLmEubWFuaWZlc3RJc0xpdmVTdHJlYW1pbmc/dGhpcy5iPW5ldyBTKGEsdGhpcy5hLHRoaXMuZyx0aGlzLm8pOnRoaXMuYj1uZXcgUihhKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuYil9O0pkLnByb3RvdHlwZS5jPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYn07SmQucHJvdG90eXBlLkVjPWZ1bmN0aW9uKGEpe3RoaXMuaD1hfTtmdW5jdGlvbiBLZCgpe3RoaXMuWD1MZCsrO3RoaXMuaWQ9dGhpcy5hYT10aGlzLk09bnVsbDt0aGlzLmE9MDt0aGlzLmhlaWdodD10aGlzLndpZHRoPXRoaXMuYmFuZHdpZHRoPW51bGw7dGhpcy5jb2RlY3M9dGhpcy5taW1lVHlwZT0iIjt0aGlzLmY9dGhpcy5mYlF1YWxpdHlDbGFzcz10aGlzLmZiUXVhbGl0eUxhYmVsPW51bGw7dGhpcy5mcmFtZVJhdGU9IiI7dGhpcy5zd2l0Y2hSZWFzb249dGhpcy5oPXRoaXMuZz10aGlzLmM9bnVsbDt0aGlzLmI9W107dGhpcy5vYT0hMTt0aGlzLmZhPSEwfXZhciBMZD0wO0tkLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5NJiYodGhpcy5NLmRlc3Ryb3koKSx0aGlzLk09bnVsbCk7dGhpcy5hYSYmKHRoaXMuYWEuZGVzdHJveSgpLHRoaXMuYWE9bnVsbCl9O2Z1bmN0aW9uIE1kKGEpe3JldHVybiBhLm1pbWVUeXBlLnNwbGl0KCIvIilbMF19CmZ1bmN0aW9uIE5kKGEpe3ZhciBiPWEubWltZVR5cGV8fCIiO2EuY29kZWNzJiYoYis9JzsgY29kZWNzPSInK2EuY29kZWNzKyciJyk7cmV0dXJuIGJ9ZnVuY3Rpb24gT2QoKXt0aGlzLlg9UGQrKzt0aGlzLmlkPW51bGw7dGhpcy5jb250ZW50VHlwZT10aGlzLmxhbmc9IiI7dGhpcy5mPXRoaXMuYj0hMTt0aGlzLmM9bnVsbDt0aGlzLnY9W107dGhpcy5hPVtdfXZhciBQZD0wO09kLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7Zm9yKHZhciBhPTA7YTx0aGlzLnYubGVuZ3RoOysrYSl0aGlzLnZbYV0uZGVzdHJveSgpO3RoaXMuYT10aGlzLnY9bnVsbH07ZnVuY3Rpb24gUWQoYSl7Zm9yKHZhciBiPVtdLGM9MDtjPGEuYS5sZW5ndGg7KytjKXt2YXIgZD1uZXcgUmQ7ZC5pZD1hLlg7ZC5hPWEuYVtjXTtkLmNvbnRlbnRUeXBlPWEuY29udGVudFR5cGU7ZC5iPWEudi5sZW5ndGg/TmQoYS52WzBdKToiIjtiLnB1c2goZCl9cmV0dXJuIGJ9CmZ1bmN0aW9uIFNkKCl7dGhpcy5pZD1udWxsO3RoaXMuc3RhcnQ9MDt0aGlzLmR1cmF0aW9uPW51bGw7dGhpcy5hPVtdfVNkLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7Zm9yKHZhciBhPTA7YTx0aGlzLmEubGVuZ3RoOysrYSl0aGlzLmFbYV0uZGVzdHJveSgpO3RoaXMuYT1udWxsfTtmdW5jdGlvbiBUZCgpe3RoaXMuQT10aGlzLmY9dGhpcy5iPSExO3RoaXMubz10aGlzLm09dGhpcy5CPTA7dGhpcy5qPXRoaXMuaT10aGlzLmM9bnVsbDt0aGlzLmc9MDt0aGlzLmE9W107dGhpcy5oPSExO3RoaXMudz0ibm9uZSI7dGhpcy51PW51bGx9VGQucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXtmb3IodmFyIGE9MDthPHRoaXMuYS5sZW5ndGg7KythKXRoaXMuYVthXS5kZXN0cm95KCk7dGhpcy5hPW51bGx9O2Z1bmN0aW9uIFJkKCl7dGhpcy5pZD0wO3RoaXMuYT1udWxsO3RoaXMuYj10aGlzLmNvbnRlbnRUeXBlPSIifTtmdW5jdGlvbiBVKGEsYixjLGQsZSxmLGcsaCxrLGwsbSxwLHQsdyl7Ri5jYWxsKHRoaXMsYSk7dGhpcy5iPWI7dGhpcy5hPWM7dGhpcy5jPW5ldyBuYihjLGQsZSxmLHRoaXMsaCx3KTt0aGlzLlBhPWg7dGhpcy5vPXt9O3RoaXMucmE9Zjt0aGlzLnlhPTA7dGhpcy5tYT10aGlzLmY9dGhpcy5nPW51bGw7dGhpcy50YT0hMTt0aGlzLnc9dGhpcy5jYT1udWxsO3RoaXMuUz0hMTt0aGlzLmphPTA7dGhpcy5rYT0hMTt0aGlzLkQ9bnVsbDt0aGlzLlo9dGhpcy5lYT10aGlzLmg9ITE7dGhpcy5PPW5ldyBJO3RoaXMuRz10aGlzLlQ9dGhpcy5CPSExO3RoaXMuUj0wO3RoaXMuZ2E9MTU7dGhpcy5HYT10aGlzLnZhPXRoaXMuVT0hMTt0aGlzLm5hPTE7dGhpcy4kPWc7dGhpcy54YT0hMTt0aGlzLmw9bnVsbDt0aGlzLkhhPSExO3RoaXMuST10aGlzLko9dGhpcy5LPW51bGw7dGhpcy5WPSExO3RoaXMudT1tfHxudWxsO3RoaXMuRj1wfHxudWxsO3RoaXMuaj10fHxudWxsO3RoaXMuWT1udWxsO3RoaXMuYmE9CiExO3RoaXMuRGE9e307dGhpcy5GYT1rO3RoaXMuaT1udWxsO3RoaXMuaWE9ITE7dGhpcy5FYT0wO3RoaXMuQ2E9ZT9lLnNwbGl0KCI7IilbMF06IiI7dGhpcy5QPSExO3RoaXMud2E9MDt0aGlzLnNhPWw7dGhpcy5BPXRoaXMubT1udWxsfXIoVSxGKTtVLnByb3RvdHlwZS5CYT1mdW5jdGlvbigpe3JldHVybntTb3VyY2VCdWZmZXJNYW5hZ2VyOnRoaXMuY319O1UucHJvdG90eXBlLmdldERlYnVnPVUucHJvdG90eXBlLkJhO2Z1bmN0aW9uIFVkKGEsYil7cmV0dXJuIG5ldyBWaWRlb1BsYXllckJpdHJhdGVFc3RpbWF0b3IobmV3IHgoYS5hLmdldE51bWJlcigibGl2ZV9iaXRyYXRlX2VzdGltYXRlc19oYWxmX2xpZmUiLDIpKSxiLGEuYS5nZXROdW1iZXIoImxpdmVfYml0cmF0ZV9lc3RpbWF0ZXNfbWluaW11bV9zYW1wbGVfY291bnQiLDEpLGEuYS5nZXROdW1iZXIoImxpdmVfYml0cmF0ZV9lc3RpbWF0ZXNfbGFyZ2Vfc2FtcGxlX3dlaWdodF9mYWN0b3IiLDEwKSl9ClUucHJvdG90eXBlLnBhPWZ1bmN0aW9uKGEpe251bGwhPWEuaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemUmJih0aGlzLlI9TnVtYmVyKGEuaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemUpKTt2YXIgYj10aGlzLmEuZ2V0TnVtYmVyKCJpbml0aWFsX3N0cmVhbV9idWZmZXJfc2l6ZV9mb3JfdmlkZW9fc3RyZWFtIiwwKTswPGImJi0xIT09dGhpcy5DYS5pbmRleE9mKCJ2IikmJih0aGlzLlI9Yik7bnVsbCE9YS5keW5hbWljU3RyZWFtQnVmZmVyU2l6ZSYmKHRoaXMuamE9TnVtYmVyKGEuZHluYW1pY1N0cmVhbUJ1ZmZlclNpemUpKTtudWxsIT1hLnNtYXJ0QnVmZmVyQWRqdXN0bWVudFBhcmFtcyYmKHRoaXMuRGE9YS5zbWFydEJ1ZmZlckFkanVzdG1lbnRQYXJhbXMpO251bGwhPWEuc21hcnRCdWZmZXJBZGp1c3RtZW50RW5hYmxlZCYmKHRoaXMuYmE9Qm9vbGVhbihhLnNtYXJ0QnVmZmVyQWRqdXN0bWVudEVuYWJsZWQpKTtudWxsIT1hLnN0cmVhbUJ1ZmZlclNpemUmJih0aGlzLmdhPU51bWJlcihhLnN0cmVhbUJ1ZmZlclNpemUpKTsKbnVsbCE9YS5maXhCdWZmZXJpbmdHb2FsRGV0ZXJtaW5hdGlvbiYmKHRoaXMuVT1Cb29sZWFuKGEuZml4QnVmZmVyaW5nR29hbERldGVybWluYXRpb24pKTtudWxsIT1hLmFkZENkbkRlYnVnUXVlcnlQYXJhbWV0ZXJzJiYodGhpcy52YT1Cb29sZWFuKGEuYWRkQ2RuRGVidWdRdWVyeVBhcmFtZXRlcnMpKTtudWxsIT1hLnVzZUluaXRpYWxCdWZmZXJTaXplV2hlblBhdXNlZCYmKHRoaXMuR2E9Qm9vbGVhbihhLnVzZUluaXRpYWxCdWZmZXJTaXplV2hlblBhdXNlZCkpO251bGwhPWEuc2VnbWVudFJlcXVlc3RUaW1lb3V0JiYodGhpcy5jLlQ9TnVtYmVyKGEuc2VnbWVudFJlcXVlc3RUaW1lb3V0KSk7bnVsbCE9YS5yZXNvbHZlVmlkZW9UaW1lVXBkYXRlT25GcmFnbWVudGVkVGltZVJhbmdlcyYmKHRoaXMueGE9Qm9vbGVhbihhLnJlc29sdmVWaWRlb1RpbWVVcGRhdGVPbkZyYWdtZW50ZWRUaW1lUmFuZ2VzKSk7bnVsbCE9YS5wZXJmb3JtYW5jZUxvZ2dlciYmKHRoaXMubD10aGlzLm8ucGVyZm9ybWFuY2VMb2dnZXI9CmEucGVyZm9ybWFuY2VMb2dnZXIpO251bGwhPWEuYWJyTG9nZ2VyJiYodGhpcy5vLmFickxvZ2dlcj1hLmFickxvZ2dlcik7bnVsbCE9YS5yZWFwcGVuZEluaXRTZWdtZW50QWZ0ZXJBYm9ydCYmKHRoaXMuby5yZWFwcGVuZEluaXRTZWdtZW50QWZ0ZXJBYm9ydD1Cb29sZWFuKGEucmVhcHBlbmRJbml0U2VnbWVudEFmdGVyQWJvcnQpKTtudWxsIT1hLmxpdmVEYXRhRmV0Y2hNYXhSZXRyaWVzJiYodGhpcy5vLmxpdmVEYXRhRmV0Y2hNYXhSZXRyaWVzPU51bWJlcihhLmxpdmVEYXRhRmV0Y2hNYXhSZXRyaWVzKSk7bnVsbCE9YS5saXZlU291cmNlQnVmZmVyQ2xlYXJNYXhSZXRyaWVzJiYodGhpcy5vLmxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXM9TnVtYmVyKGEubGl2ZVNvdXJjZUJ1ZmZlckNsZWFyTWF4UmV0cmllcykpO251bGwhPWEuc2tpcEVtcHR5U2VnbWVudHMmJih0aGlzLm8uc2tpcEVtcHR5U2VnbWVudHM9Qm9vbGVhbihhLnNraXBFbXB0eVNlZ21lbnRzKSk7bnVsbCE9CmEucGxheWhlYWRGcmFnbWVudGVkR2FwRGlmZkFsbG93YW5jZSYmKHRoaXMuby5wbGF5aGVhZEZyYWdtZW50ZWRHYXBEaWZmQWxsb3dhbmNlPU51bWJlcihhLnBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2UpKTtudWxsIT1hLnVzZU1pY3JvVGFza1RpbWVvdXRzJiYodGhpcy5IYT1Cb29sZWFuKGEudXNlTWljcm9UYXNrVGltZW91dHMpKTthPXRoaXMuYztiPXRoaXMubztudWxsIT1iLnJlYXBwZW5kSW5pdFNlZ21lbnRBZnRlckFib3J0JiYoYS5SPUJvb2xlYW4oYi5yZWFwcGVuZEluaXRTZWdtZW50QWZ0ZXJBYm9ydCkpO251bGwhPWIucGVyZm9ybWFuY2VMb2dnZXImJihhLmw9Yi5wZXJmb3JtYW5jZUxvZ2dlcik7bnVsbCE9Yi5hYnJMb2dnZXImJihhLkk9Yi5hYnJMb2dnZXIpO251bGwhPWIubGl2ZURhdGFGZXRjaE1heFJldHJpZXMmJihhLk89Yi5saXZlRGF0YUZldGNoTWF4UmV0cmllcyk7bnVsbCE9Yi5saXZlU291cmNlQnVmZmVyQ2xlYXJNYXhSZXRyaWVzJiYoYS5LPQpiLmxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXMpO251bGwhPWIucGxheWhlYWRGcmFnbWVudGVkR2FwRGlmZkFsbG93YW5jZSYmKGEuUD1iLnBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2UpO251bGwhPWIuc2tpcEVtcHR5U2VnbWVudHMmJihhLlY9Yi5za2lwRW1wdHlTZWdtZW50cyl9O1UucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXtWZCh0aGlzKTt0aGlzLk8uZGVzdHJveSgpO3RoaXMucmE9dGhpcy5nPXRoaXMuTz1udWxsO3RoaXMuYy5kZXN0cm95KCk7dGhpcy5iPXRoaXMuYz1udWxsO3RoaXMuYS5nZXRCb29sKCJmaXhpbmdfc2NoZWR1bGVyX2Rpc2FibGVfbGVha3MiLCEwKSYmKHRoaXMudT1udWxsKTt0aGlzLkphPW51bGx9O249VS5wcm90b3R5cGU7bi5XYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmd9O24uRmI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mfTsKbi5LYz1mdW5jdGlvbihhKXt0aGlzLkJ8fGEudGhlbihmdW5jdGlvbigpe3RoaXMuQj0hMDt0aGlzLnd8fFYodGhpcywwKX0uYmluZCh0aGlzKSkuY2F0Y2goZnVuY3Rpb24oKXt9KTtyZXR1cm4gdGhpcy5PfTtuLkNiPWZ1bmN0aW9uKCl7dGhpcy5HPSEwO1dkKHRoaXMpfTtuLmZiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuR307Cm4uamI9ZnVuY3Rpb24oYSxiLGMsZCxlKXtpZihhIT10aGlzLmcpe3ZhciBmPTE7dGhpcy5hLmdldEJvb2woInVzZV9saXZlX2JpdHJhdGVfZXN0aW1hdGVzIiwhMSkmJm51bGwhPT10aGlzLm0mJjA8dGhpcy5nLmJhbmR3aWR0aCYmKGY9dGhpcy5tLmdldEVzdGltYXRlKCkvdGhpcy5nLmJhbmR3aWR0aCk7dmFyIGc9YS5hYTtnJiYodGhpcy5tYT1nLmNyZWF0ZSh0aGlzLmwsdGhpcy5QYSkpO3RoaXMuWj0hMDthLk0uY3JlYXRlKCkudGhlbihKKHRoaXMsZnVuY3Rpb24oZyl7aWYodGhpcy5iKXt0aGlzLlo9ITE7dmFyIGs9dGhpcy5nO3RoaXMuZz1hO3RoaXMuYS5nZXRCb29sKCJ1c2VfbGl2ZV9iaXRyYXRlX2VzdGltYXRlcyIsITEpJiYodGhpcy5tPVVkKHRoaXMsKGEuYmFuZHdpZHRofHwwKSpmKSk7dmFyIGw9dGhpcy5mO3RoaXMuZj1nO3RoaXMuYy5EPXRoaXMuZjtsJiZsLmEuRmMoKTt1ZCh0aGlzLmYsZnVuY3Rpb24oYSl7dmFyIGI9YTt0aGlzLmomJnRoaXMuai5zZXRTZWdtZW50cyh0aGlzLmYuZ2V0U2VnbWVudHMoKSk7CnRoaXMudSYmKGE9YSYmdGhpcy5hLmdldEJvb2woIm9wdGltaXplX3N0cmVhbV9nZXRfc2VnbWVudHNfY2FsbHMiLCExKT9hOnRoaXMuZi5nZXRTZWdtZW50cygpLHRoaXMuYS5nZXRCb29sKCJ0ZW1wbGF0ZWRfdXBkYXRlX3NybV9ieV9kZWx0YV9vZl9jaGFuZ2VkX3JlZmVyZW5jZXNfYm9vbCIsITEpJiZ0aGlzLmYuSyYmYi5sZW5ndGg8dGhpcy5mLmdldFNlZ21lbnRzKCkubGVuZ3RoJiYoYT10aGlzLmYuZ2V0U2VnbWVudHMoKS5zbGljZSgtKGIubGVuZ3RoKzEpKSksWGQodGhpcyx0aGlzLmcuaWR8fCIiLGEpKX0uYmluZCh0aGlzKSk7dGhpcy5qJiZ0aGlzLmouc2V0U2VnbWVudHModGhpcy5mLmdldFNlZ21lbnRzKCkpO2lmKHRoaXMudSl7dmFyIGw9W10sbT10aGlzLmEuZ2V0TnVtYmVyKCJ0ZW1wbGF0ZWRfY2h1bmtlZF9zZWdtZW50X3VwZGF0ZV9saW1pdF9pbnQiLDApO2lmKG0pe2c9dGhpcy5mLmxlbmd0aCgpO2Zvcih2YXIgbT1NYXRoLm1pbihnLG0pLHA9MTtwPD1tOysrcClsLnB1c2godGhpcy5mLmdldChnLQpwKSl9ZWxzZSBsPWcuZ2V0U2VnbWVudHMoKTtYZCh0aGlzLGEuaWR8fCIiLGwpfXRoaXMudGE9ITA7dGhpcy5jYT1kP2Q6bnVsbDt0aGlzLlN8fCh0aGlzLmEuZ2V0Qm9vbCgibWFrZV9lYXJseV90cmFja19zZWxlY3Rpb24iLCExKSYmdGhpcy5oJiYhdGhpcy5QJiYhdGhpcy53P1YodGhpcywwKTprP2I/WWQodGhpcywhMCxjKTplJiZZZCh0aGlzLCExKTpWKHRoaXMsMCkpfX0pKS5jYXRjaChKKHRoaXMsZnVuY3Rpb24oYSl7dGhpcy5aPSExOyJhYm9ydGVkIiE9YS50eXBlJiYodGhpcy5CPyhhPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGEpKTp0aGlzLk8ucmVqZWN0KGEpKX0pKX19O24uQ2M9ZnVuY3Rpb24oYSl7cmV0dXJuIFlkKHRoaXMsISFhKX07bi5IYz1mdW5jdGlvbigpe3RoaXMua2E9ITB9O24uSmM9ZnVuY3Rpb24oYSl7dGhpcy5FYT1hfTsKZnVuY3Rpb24gWGQoYSxiLGMpe2EuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9jaHVua2VkX3NlZ21lbnRfdXBkYXRlX2xpbWl0X2ludCIsMCkmJmEudS51cGRhdGVTZWdtZW50SW5kZXgoYixhLmYpO2EuYS5nZXRCb29sKCJ1c2VfdXBkYXRlX3NlZ21lbnRzX2J5X3NoYWthX3JlZmVyZW5jZSIsITApJiZhLnUudXBkYXRlU2VnbWVudHNCeVNoYWthUmVmZXJlbmNlcyhiLGMpfQpmdW5jdGlvbiBZZChhLGIsYyl7YS5nJiYhYS5TJiYoYS5TPSEwLFZkKGEpLGEuVD0hMSxudWxsIT09YS5BJiZhLkEucmVzZXQoKSxhLmMuYWJvcnQoKS50aGVuKEooYSxmdW5jdGlvbigpe3ZhciBhPXRoaXMuYi5jdXJyZW50VGltZTt0aGlzLmEuZ2V0Qm9vbCgic2V0X2N1cnJlbnRfdGltZV9pbl9yZXN5bmMiLCExKSYmMD09YT8odGhpcy5sJiZCYW56YWlPRFMuYnVtcEVudGl0eUtleSgyOTY2LCJ2aWRlb3Mud3d3LnNoYWthIiwic2V0X2N1cnJlbnRfdGltZV9pbl9yZXN5bmMiKSxhPXRoaXMuZi5maXJzdCgpLnN0YXJ0VGltZSk6dGhpcy5hLmdldEJvb2woImJldHRlcl9zZXRfY3VycmVudF90aW1lX2luX3Jlc3luYyIsITEpJiZhPHRoaXMuZi5maXJzdCgpLnN0YXJ0VGltZSYmKEJhbnphaU9EUy5idW1wRW50aXR5S2V5KDI5NjYsInZpZGVvcy53d3cuc2hha2EiLCJzZXRfY3VycmVudF90aW1lX2luX3Jlc3luYyIpLGE9dGhpcy5mLmZpcnN0KCkuc3RhcnRUaW1lK3RoaXMuYS5nZXROdW1iZXIoInJlc3luY19zZXRfY3VycmVudF90aW1lX2Z1ZGdlX2ZhY3RvciIsCjApKTtpZighYiYmMDxyYih0aGlzLmMsYSkmJjA8PUZiKHRoaXMuYyxhKSlyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7aWYoYylyZXR1cm4gQ2IodGhpcy5jLHRoaXMuYi5jdXJyZW50VGltZStjKTt0aGlzLmlhPSEwO3JldHVybiBCYih0aGlzLmMpfSkpLnRoZW4oSihhLGZ1bmN0aW9uKCl7dGhpcy5TPSExO1YodGhpcywwKX0pKS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7dGhpcy5TPSExOyJhYm9ydGVkIiE9YS50eXBlJiYodGhpcy5CPyhhPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGEpKTp0aGlzLk8ucmVqZWN0KGEpKX0pKSl9bi5JYz1mdW5jdGlvbihhKXtyZXR1cm4gMDxyYih0aGlzLmMsYSkmJjA8PUZiKHRoaXMuYyxhKX07bi52Yj1mdW5jdGlvbigpe307bi5EYj1mdW5jdGlvbigpe3JldHVybiEwfTsKZnVuY3Rpb24gWmQoYSl7YS5lYT1hLmVhfHwhYS5iLnBhdXNlZDthLmIucGF1c2VkfHxhLmJhfHwoYS5ZPURhdGUubm93KCksYS5iYT0hMCk7dmFyIGI9YS5EYSxjPW51bGw7aWYoYi5pbkV4cGVyaW1lbnQpaWYoYi51c2VTbWFydEJ1ZmZlcmluZyl7aWYoYS5iYSYmYS5ZKXt2YXIgYz0oRGF0ZS5ub3coKS1hLlkpLzFFMyxkPW51bGw7MT5jP2M9bnVsbDooZD0zPmM/Yi5idWZmZXJTaXplXzAwX3RvXzAzOjEwPmM/Yi5idWZmZXJTaXplXzAzX3RvXzEwOjMwPmM/Yi5idWZmZXJTaXplXzEwX3RvXzMwOjYwPmM/Yi5idWZmZXJTaXplXzMwX3RvXzYwOmIuYnVmZmVyU2l6ZV9hYm92ZV82MCxjPU1hdGgubWluKGQsYS5iLmR1cmF0aW9uKSl9fWVsc2UgYS5ZJiYoYz1iLm5vblNtYXJ0QnVmZmVyU2l6ZSk7Y3x8KGM9YS5HYSYmYS5iLnBhdXNlZD9hLlI6YS5nYSxhLmIucGF1c2VkJiYxPGEubmEmJihjKj1hLm5hKSxhLmphJiYhYS5iLnBhdXNlZCYmKGM9TWF0aC5tYXgoTWF0aC5taW4oYS5mLmxhc3QoKS5lbmRUaW1lLQphLmIuY3VycmVudFRpbWUsYS5qYSksYS5nYSkpKTtjPShhLlU/YS5oJiZhLmVhOmEuaCk/TWF0aC5tYXgoYS5SLGMpOmEuUjswPGEuYS5nZXROdW1iZXIoImF1ZGlvX3ZpZGVvX2J1ZmZlcl9kaWZmX3RocmVzaG9sZCIsMTQ0MDApJiYoYj1hLmIuYnVmZmVyZWQubGVuZ3RoP2EuYi5idWZmZXJlZC5lbmQoYS5iLmJ1ZmZlcmVkLmxlbmd0aC0xKTowLGI9TWF0aC5tYXgoMCxiLWEuYi5jdXJyZW50VGltZSksYz1NYXRoLm1pbihjLGIrYS5hLmdldE51bWJlcigiYXVkaW9fdmlkZW9fYnVmZmVyX2RpZmZfdGhyZXNob2xkIiwxNDQwMCkpKTtyZXR1cm4gY30KZnVuY3Rpb24gJGQoYSl7dmFyIGI9YS5hLmdldE51bWJlcigic3RhcnRfc3RyZWFtX2J1ZmZlcl9zaXplIiwxKSxjPWEuYS5nZXROdW1iZXIoImxvd19zdGFydF9zdHJlYW1fYnVmZmVyX3NpemUiLDEpO2lmKGIhPT1jKXt2YXIgZD1hLmEuZ2V0TnVtYmVyKCJsb3dfYmFuZHdpZHRoX3N0YXJ0X3N0cmVhbV9idWZmZXJfc2l6ZV90aHJlc2hvbGQiLDApLGU9YS5hLmdldE51bWJlcigic2NoZWR1bGVkX3ZpZGVvc19zdGFydF9zdHJlYW1fYnVmZmVyX3NpemVfdGhyZXNob2xkIiwwKTtpZigwPGQmJmEucmEuZ2V0QmFuZHdpZHRoKCk8ZCYmVmlkZW9TdHJlYW1pbmdUYXNrUXVldWVQcm92aWRlci5nZXRRdWV1ZVNpemUoInZpZGVvIik+PWUpcmV0dXJuIGN9cmV0dXJuIGJ9ZnVuY3Rpb24gYWUoYSxiKXtyZXR1cm4gcmIoYS5jLGEuaD9iOmIrKGEuRHx8MCkpfQpmdW5jdGlvbiBiZShhKXtpZihhLmgmJiFhLkJ8fGEuYS5nZXRCb29sKCJtYWtlX2Vhcmx5X3RyYWNrX3NlbGVjdGlvbiIsITEpJiZhLlp8fGEuYS5nZXRCb29sKCJwcmV2ZW50X2ZldGNoX3doaWxlX2ZldGNoaW5nX2luX3N0cmVhbSIsITEpJiZhLlApcmV0dXJuIGEudz1udWxsLFByb21pc2UucmVzb2x2ZSgpO3ZhciBiO2lmKGI9YS5CJiYhYS5HKWI9MTxhLmMuYS5idWZmZXJlZC5sZW5ndGg/ITA6ITE7aWYoYiYmKGEua2F8fEhiKGEuYyxhLmIpKSlyZXR1cm4gYS54YSYmKGEuYi5jdXJyZW50VGltZT1HYihhLmIpKSxudWxsPT09YS5LJiYoYS5rYT0hMSxZZChhLCEwKSksUHJvbWlzZS5yZXNvbHZlKCk7YS5hLmdldE51bWJlcigiZGVjb3VwbGVfc3RyZWFtX29uX3VwZGF0ZV9sb29wX2Zyb21fcmVxdWVzdF9sb29wX2ludCIsMCl8fChhLnc9bnVsbCk7Yj1hLmc7dmFyIGM9YS5mLGQ9YS5iLmN1cnJlbnRUaW1lO2EuYS5nZXRCb29sKCJ1c2VfcGVuZGluZ19zZWVrX3Bvc2l0aW9uX2Zvcl9yZWZlcmVuY2UiLAohMSkmJjA9PT1hLmIucmVhZHlTdGF0ZSYmIWQmJmEuSiYmKGQ9YS5KKTtpZihhLlUmJiFhLmgmJmFlKGEsZCk+PSRkKGEpKXJldHVybiBhLmEuZ2V0Qm9vbCgiZml4X2Nocm9tZV9tc2VfcmVncmVzc2lvbiIsITEpJiYxPT09YS5iLnJlYWR5U3RhdGUmJjA8YS5iLmJ1ZmZlcmVkLmxlbmd0aCYmKGEuYi5jdXJyZW50VGltZT1hLmIuY3VycmVudFRpbWUpLGNlKGEpLFYoYSwwKSxQcm9taXNlLnJlc29sdmUoKTt2YXIgZT1udWxsLGY9W107bnVsbCE9PWEuSyYmKGQ9YS5LKTtpZihhZShhLGQpPj1aZChhKSlpZihhLlQ9ITAsbnVsbCE9PWEuSSYmYS5JLnJlc29sdmUoKSxhLlV8fGNlKGEpLGY9ZGUoYSk/amUoYSxkKTpbXSwwPGYubGVuZ3RoKWU9ZlswXTtlbHNlIHJldHVybiBWKGEsMUUzLyg1KihNYXRoLmFicyhhLmIucGxheWJhY2tSYXRlKXx8MSkpKSxQcm9taXNlLnJlc29sdmUoKTtlbHNle3ZhciBnPTE7YS5qJiYoZz1hLmouZ2V0TnVtYmVyT2ZTZWdtZW50cygpKTt2YXIgaD1xYihhLmMpOwphLlYmJihoPW51bGwsbnVsbCE9PWEuSyYmKGEuVj0hMSkpO2EuYS5nZXRCb29sKCJmaW5kX2xhc3RfaW5zZXJ0ZWRfc2VnbWVudF9pbl9zZWdtZW50X2luZGV4IiwhMSkmJmgmJiFjLmEuYSYmKGg9Yy5maW5kKGguc3RhcnRUaW1lKSk7YS5hLmdldEJvb2woInNldF9wZW5kaW5nX3NlZWtfb25fc2V0X2N1cnJlbnRfdGltZV9mYWlsdXJlIiwhMSkmJm51bGwhPWEuSiYmKGQ9YS5KLGEuSj1udWxsKTtnPWtlKGEsZCxjLGcsaCk7ZT1nWzBdO2EuaiYmKGEuai5zZXRGdXR1cmVTZWdtZW50cyhnKSxhLmouc2V0QnVmZmVyaW5nR29hbChaZChhKS1hZShhLGQpKSk7IWUmJmRlKGEpJiYoZj1qZShhLGQpLDA8Zi5sZW5ndGgmJihlPWZbMF0pKX1pZighZSlyZXR1cm4gY2UoYSksYS5CJiYhYS5HJiYoYS5HPSEwLFdkKGEpKSxWKGEsMjAwKSxQcm9taXNlLnJlc29sdmUoKTthLmEuZ2V0Qm9vbCgiY3JlYXRlX293bl9zZWdtZW50X3JlZmVyZW5jZV9mb3Jfc2JtIiwhMSkmJihlPWpkKGUsZS5zdGFydFRpbWUsCmUuZW5kVGltZSkpO2xlKGEsbWUoYSxkLGYpLGIuaWR8fCIiKTtuZShhLG1lKGEsZCxmKSk7YS5hLmdldEJvb2woInJlZnJlc2hfc2VnbWVudF9yZWZlcmVuY2VfZmFpbG92ZXJfdXJpIiwhMCkmJihlLnVybD1lLnVybC5jbG9uZSgpKTthLlA9ITA7YS53YT1EYXRlLm5vdygpOyJ2aWRlbyI9PT1iLm1pbWVUeXBlLnNwbGl0KCIvIilbMF0mJmEucmEuc2V0UmVwcmVzZW50YXRpb25JRChiLmlkKTtjPWEuYy5mZXRjaChlLGMucyxiLmErYS5FYSxhLm1hLGEudmEmJiFhLmIucGF1c2VkLDA8Zi5sZW5ndGgsYS51LGEuRik7Yz1jLnRoZW4oSihhLGZ1bmN0aW9uKGEpe3RoaXMuYS5nZXRCb29sKCJ1cGRhdGVzX3ByaW9yaXR5X29uX2ZldGNoX2NvbXBsZXRlIiwhMSkmJm5lKHRoaXMsbWUodGhpcyxkLFtdKSk7dGhpcy5zYS5pbmZvcm1OZXR3b3JrUmVzdW1lZCgpO3JldHVybiBhfSkpO2EuJCYmInZpZGVvIj09PWIubWltZVR5cGUuc3BsaXQoIi8iKVswXSYmYS4kLmFkZChlLnN0YXJ0VGltZXx8CjAsZS5lbmRUaW1lfHwwLHtpZDpiLmlkLHJlYXNvbjphLmNhLHBlcmZvcm1hbmNlTG9nZ2VyOmEubD9hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJzdHJlYW1fc3dpdGNoIik6bnVsbH0pO2EubWE9bnVsbDthLnRhJiYoYS50YT0hMSxmPWEuY2EsYS5jYT1udWxsLG9lKGEsYixmLGEubGEoKSkpO2EuRz0hMTtyZXR1cm4gYy50aGVuKEooYSxmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5hLmdldEJvb2woImNsZWFyX29sZF9idWZmZXIiLCExKT9FYih0aGlzLmMsdGhpcy5iLmN1cnJlbnRUaW1lKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGF9KTphfSkpLnRoZW4oSihhLGZ1bmN0aW9uKGEpe3ZhciBiPWEuVyxjPWEuV2M7dGhpcy5ofHwodGhpcy55YT1jKTt0aGlzLmEuZ2V0Qm9vbCgidXNlX2xpdmVfYml0cmF0ZV9lc3RpbWF0ZXMiLCExKSYmbnVsbCE9YSYmMDxhLkRjJiYwPGEuSCYmKG51bGw9PT10aGlzLm0mJih0aGlzLm09VWQodGhpcyx0aGlzLmcuYmFuZHdpZHRofHwwKSksdGhpcy5tLnNhbXBsZSg4KgphLkRjLGEuSCkpO2E9dGhpcy5hLmdldE51bWJlcigiYnVmZmVyX3ZlbG9jaXR5X3RpbWVfaW5fcGFzdF90b19jb25zaWRlciIsMCk7MDxhJiZudWxsIT09dGhpcy5nJiYidmlkZW8iPT09TWQodGhpcy5nKSYmKG51bGw9PT10aGlzLkEmJih0aGlzLkE9bmV3IEJ1ZmZlclZlbG9jaXR5KGEpKSx0aGlzLkEucmVjb3JkQnVmZmVyQWhlYWQocmIodGhpcy5jLHRoaXMuYi5jdXJyZW50VGltZSkpKTt0aGlzLlA9ITE7InZpZGVvIj09PSh0aGlzLmc/dGhpcy5nLm1pbWVUeXBlLnNwbGl0KCIvIilbMF06bnVsbCkmJnRoaXMuZGlzcGF0Y2hFdmVudCh5KHt0eXBlOiJmZXRjaF9lbmQiLGJ1YmJsZXM6ITAsZGV0YWlsOntzdHJlYW1fZmV0Y2hfdGltZV9tczpEYXRlLm5vdygpLXRoaXMud2Esc2VnbWVudF9sZW5ndGhfbXM6MUUzKihlLmVuZFRpbWUtZS5zdGFydFRpbWUpfX0pKTtudWxsPT10aGlzLkQmJih0aGlzLkQ9Yik7dGhpcy5pYSYmMDxyYih0aGlzLmMsZCkmJih0aGlzLmlhPSExLHRoaXMuYS5nZXRCb29sKCJkaXNhYmxlX251ZGdlIiwKITEpfHwoYj15KHt0eXBlOiJzaG91bGRfbnVkZ2UifSksdGhpcy5kaXNwYXRjaEV2ZW50KGIpKSk7Vih0aGlzLDApfSkpLmNhdGNoKEooYSxmdW5jdGlvbihhKXt0aGlzLlA9ITE7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfSkpfWZ1bmN0aW9uIG1lKGEsYixjKXt2YXIgZD1hLmg/YjpiKyhhLkR8fDApO3JldHVybnthZGRpdGlvbmFsU2VnbWVudHNSZXF1aXJlZDpjLHBsYXloZWFkOmIsYnVmZmVyU3RhcnQ6ZCxidWZmZXJFbmQ6YWUoYSxiKStkLGJ1ZmZlcmluZ0dvYWw6WmQoYSksaXNQbGF5aW5nOiFhLmIucGF1c2VkfX1mdW5jdGlvbiBsZShhLGIsYyl7YS51JiZhLnUudXBkYXRlUGxheWVyU3RhdGUoYyxiKX1mdW5jdGlvbiBuZShhLGIpe2EuRiYmYS5GLnVwZGF0ZVBsYXllclN0YXRlKGIpfQpmdW5jdGlvbiBwZShhLGIsYyl7dmFyIGQ9bnVsbCE9PWEuaSYmLTE8YS5pJiZhLmk8Yy5sZW5ndGgoKS0xP2MuZ2V0KGEuaSk6bnVsbCxlPW51bGw7aWYobnVsbD09PWEuaXx8IWR8fGQuc3RhcnRUaW1lPmIpcmV0dXJuIGU9Yy5maW5kSW5kZXgoYiksYS5pPWU7Zm9yKGQ9YS5pO2Q8PWEuaSsxO2QrKylpZihlPWMuZ2V0KGQpLGUuc3RhcnRUaW1lPD1iJiZlLmVuZFRpbWU+YilyZXR1cm4gYS5pPWQ7ZT1jLmZpbmRJbmRleChiKTtyZXR1cm4oYS5pPWUpfHwtMX1mdW5jdGlvbiBkZShhKXtyZXR1cm4gYS5hLmdldEJvb2woInJlcGxhY2VfbG93ZXJfcXVhbGl0eV9idWZmZXIiLCExKSYmbnVsbD09PWEuRiYmYS5lYSYmbnVsbCE9PWEuJCYmInZpZGVvIj09PU1kKGEuZykmJm51bGwhPT1hLmZ9CmZ1bmN0aW9uIGplKGEsYil7aWYoIWEuRmF8fCFhLmcuaWR8fCFhLmYpcmV0dXJuW107dmFyIGM9cGUoYSxiLGEuZik7cmV0dXJuLTE9PT1jP1tdOkJ1ZmZlclJlcGxhY2VtZW50SGVscGVyLmdldFNlZ21lbnRzVG9SZXBsYWNlTG93ZXJRdWFsaXR5KGEuZi5nZXRTZWdtZW50cygpLGIsYyxhLmcuaWQsYS5GYSxhLiQse3RocmVzaG9sZEJlZm9yZTphLmEuZ2V0TnVtYmVyKCJidWZmZXJfcmVwbGFjZW1lbnRfYmVoaW5kX3RocmVzaG9sZCIsNSksdGhyZXNob2xkQWZ0ZXI6YS5hLmdldE51bWJlcigiYnVmZmVyX3JlcGxhY2VtZW50X2FoZWFkX3RocmVzaG9sZCIsMTUpLHdyYXBSZXBsYWNlbWVudFBhc3RFbmQ6YS5hLmdldEJvb2woIndyYXBfcmVwbGFjZW1lbnRfcGFzdF9lbmQiLCExKX0pfQpuLnpjPWZ1bmN0aW9uKCl7dmFyIGE7aWYodGhpcy5sKXt2YXIgYj10aGlzLmEuZ2V0TnVtYmVyKCJzdHJlYW1fb251cGRhdGVfc2FtcGxpbmciLDApO2ImJjA9PT1NYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqYikmJihhPXRoaXMubC5nZXRPcGVyYXRpb25Mb2dnZXIoInN0cmVhbV9vbnVwZGF0ZSIpLnN0YXJ0KCkpfXZhciBjO3RoaXMuYS5nZXROdW1iZXIoImRlY291cGxlX3N0cmVhbV9vbl91cGRhdGVfbG9vcF9mcm9tX3JlcXVlc3RfbG9vcF9pbnQiLDApJiZWKHRoaXMsdGhpcy5hLmdldE51bWJlcigiZGVjb3VwbGVfc3RyZWFtX29uX3VwZGF0ZV9sb29wX2Zyb21fcmVxdWVzdF9sb29wX2ludCIsMCkpO2lmKHRoaXMuYS5nZXRCb29sKCJjYXRjaF9zdHJlYW1fdXBkYXRlX3N5bmNfY29kZV9lcnJvciIsITEpKXRyeXtjPWJlKHRoaXMpfWNhdGNoKGQpe2QudHlwZT0idW5jYXVnaHQiLGEmJmEuc2V0RXJyb3IoZCksYz1Qcm9taXNlLnJlamVjdChkKX1lbHNlIGM9YmUodGhpcyk7Yy5jYXRjaChKKHRoaXMsCmZ1bmN0aW9uKGEpe2lmKCJhYm9ydGVkIiE9YS50eXBlKXtpZigic291cmNlYnVmZmVyX2Z1bGwiPT09YS50eXBlKXJldHVybiBCYih0aGlzLmMpLnRoZW4oSih0aGlzLGZ1bmN0aW9uKCl7Vih0aGlzLDApfSkpO3ZhciBiPVswLDQwNCw0MTAsNTAyLDUwMyw1MDRdO3RoaXMuYS5nZXRCb29sKCJlbmFibGVfZG91YmxlX2luZ2VzdCIsITEpJiZiLnB1c2goNDE3LDIwMCk7Yj0tMT09PWIuaW5kZXhPZihhLnN0YXR1cyk7aWYoIm5ldCI9PT1hLnR5cGUmJiFiJiZ0aGlzLmcpaWYodGhpcy5hLmdldEJvb2woImFsbG93X2luZmluaXRlX3JldHJ5X29uX25ldF9lcnIiLCEwKSlzd2l0Y2goYS5zdGF0dXMpe2Nhc2UgNDA0OlYodGhpcywyRTMpO2JyZWFrO2Nhc2UgNDEwOnRoaXMuYS5nZXRCb29sKCJlbmRfYWxsX3N0cmVhbXNfb25fNDEwIiwhMSk/cWUodGhpcyk6dGhpcy5DYigpO2JyZWFrO2Nhc2UgNDE3OmNhc2UgMjAwOmEucmVzcG9uc2VIZWFkZXJzJiZudWxsIT1hLnJlc3BvbnNlSGVhZGVyc1sieC1mYi12aWRlby1yZXBsaWNhIl0/CnRoaXMuZGlzcGF0Y2hFdmVudCh5KHt0eXBlOiJyZXBsaWNhc3dpdGNoIixidWJibGVzOiEwLHJlcGxpY2E6YS5yZXNwb25zZUhlYWRlcnNbIngtZmItdmlkZW8tcmVwbGljYSJdLHVybDphLnVybCxzdGF0dXM6YS5zdGF0dXN9KSk6Yj0hMDticmVhaztkZWZhdWx0OlYodGhpcywxRTMpfWVsc2UgVih0aGlzLDFFMyksYj0hMDswPT09YS5zdGF0dXM/dGhpcy5zYS5pbmZvcm1OZXR3b3JrSW50ZXJydXB0ZWQoKTp0aGlzLnNhLmluZm9ybU5ldHdvcmtSZXN1bWVkKCk7aWYoIXRoaXMuYS5nZXRCb29sKCJhbGxvd19pbmZpbml0ZV9yZXRyeV9vbl9uZXRfZXJyIiwhMCl8fGIpYj1BKGEpLHRoaXMuZGlzcGF0Y2hFdmVudChiKSx0aGlzLmwmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgYj10aGlzLmwuZ2V0RXZlbnRMb2dnZXIoInN0cmVhbV9lcnJvcl9mYWxsYmFjayIpLnNldEVycm9yKGEpLnNldFR5cGUodGhpcy5DYS5zcGxpdCgiLyIpWzBdKTt0aGlzLmI/Yi5zZXRSZXN1bHQoImZhaWxlZCIpOgpiLnNldFJlc3VsdCgic3VjY2VzcyIpO2IubG9nKCl9LmJpbmQodGhpcyksMCl9fSkpO2EmJmEubG9nKCl9O2Z1bmN0aW9uIGtlKGEsYixjLGQsZSl7dmFyIGY9LTE7aWYoYS5hLmdldEJvb2woInRlbXBsYXRlZF9mYXN0ZXJfc3RyZWFtX2dldF9uZXh0X24iLCExKSYmMT09PWQmJm51bGwhPWUmJm51bGwhPWUuZW5kVGltZSlyZXR1cm4oYz1jLmZpbmQoZS5lbmRUaW1lKSk/W2NdOltdO251bGwhPWU/Zj1udWxsIT1lLmVuZFRpbWU/Yy5maW5kSW5kZXgoZS5lbmRUaW1lKTotMTooZj1wZShhLGIsYyksMD5mJiYoZj1jLmxlbmd0aCgpP2MubGVuZ3RoKCktMTotMSkpO2E9W107aWYoMDw9Zilmb3IoYj1mO2I8ZitkJiZiPGMubGVuZ3RoKCk7YisrKWEucHVzaChjLmdldChiKSk7cmV0dXJuIGF9CmZ1bmN0aW9uIGNlKGEpe2lmKCFhLmgmJm51bGwhPWEuRCl7YS5oPSEwO3ZhciBiPWEuYyxjPWEuRCxkPWMtYi5VOzAhPWQmJihiLmI9a2QoYi5iLGQpLGIuVT1jKTthLk8ucmVzb2x2ZShhLkQpfX1uLkVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaH07VS5wcm90b3R5cGUuaGFzU3RhcnRlZD1VLnByb3RvdHlwZS5FZDtVLnByb3RvdHlwZS5rYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLlR9O1UucHJvdG90eXBlLmhhc0hpdEJ1ZmZlcmluZ0dvYWw9VS5wcm90b3R5cGUua2I7VS5wcm90b3R5cGUubGE9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09PXRoaXMubT9udWxsOnRoaXMubS5nZXRFc3RpbWF0ZSgpfTtVLnByb3RvdHlwZS5nZXRCaXRyYXRlRXN0aW1hdGU9VS5wcm90b3R5cGUubGE7VS5wcm90b3R5cGUucWI9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09PXRoaXMuQT9udWxsOnRoaXMuQS5nZXRWZWxvY2l0eSgpfTtVLnByb3RvdHlwZS5nZXRCdWZmZXJWZWxvY2l0eT1VLnByb3RvdHlwZS5xYjsKZnVuY3Rpb24gb2UoYSxiLGMsZCl7dmFyIGU9Yi5taW1lVHlwZS5zcGxpdCgiLyIpWzBdO2I9eSh7dHlwZToiYWRhcHRhdGlvbiIsaWQ6Yi5pZCxidWJibGVzOiEwLGNvbnRlbnRUeXBlOmUsc2l6ZToidmlkZW8iIT1lP251bGw6e3dpZHRoOmIud2lkdGgsaGVpZ2h0OmIuaGVpZ2h0fSxiYW5kd2lkdGg6ZHx8Yi5iYW5kd2lkdGgscmVhc29uOmN9KTthLmRpc3BhdGNoRXZlbnQoYil9ZnVuY3Rpb24gcWUoYSl7dmFyIGI9eSh7dHlwZToic2hvdWxkX2VuZF9hbGxfc3RyZWFtcyJ9KTthLmRpc3BhdGNoRXZlbnQoYil9ZnVuY3Rpb24gV2QoYSl7dmFyIGI9eSh7dHlwZToiZW5kZWQifSk7YS5kaXNwYXRjaEV2ZW50KGIpfVUucHJvdG90eXBlLk9hPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuRn07VS5wcm90b3R5cGUuZ2V0VmlkZW9TdHJlYW1pbmdNYW5hZ2VyPVUucHJvdG90eXBlLk9hOwpmdW5jdGlvbiBWKGEsYil7VmQoYSk7IWImJmEuSGE/UHJvbWlzZS5yZXNvbHZlKCkudGhlbihhLnpjLmJpbmQoYSkpOmEudz1zZXRUaW1lb3V0KGEuemMuYmluZChhKSxiKX1mdW5jdGlvbiBWZChhKXtudWxsIT1hLncmJihjbGVhclRpbWVvdXQoYS53KSxhLnc9bnVsbCl9VS5wcm90b3R5cGUuc2I9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy55YX07VS5wcm90b3R5cGUuZ2I9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jLml9O1UucHJvdG90eXBlLmdldFN0cmVhbVByb2dyZXNzVHJhY2tlcj1VLnByb3RvdHlwZS5nYjtmdW5jdGlvbiByZShhLGIpe2EuSz1iO2EuVj0hMDthLkl8fChhLkk9bmV3IEkpO3JldHVybiBhLkl9O2Z1bmN0aW9uIHNlKGEpe3RoaXMuYj1hO3RoaXMuYT1udWxsfXNlLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5hJiYodGhpcy5hLmRlc3Ryb3koKSx0aGlzLmE9bnVsbCl9O3NlLnByb3RvdHlwZS5jcmVhdGU9ZnVuY3Rpb24oKXtpZih0aGlzLmEpcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLmEpO3ZhciBhPW5ldyBpZCgwLG51bGwsdGhpcy5iLDAsMCksYT1uZXcgVChbYV0sMSk7dGhpcy5hPW5ldyBSKGEpO3JldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5hKX07c2UucHJvdG90eXBlLmM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hfTtmdW5jdGlvbiB0ZShhLGIpe0YuY2FsbCh0aGlzLGEpO3RoaXMuYj1iO3RoaXMuaj0hMDt0aGlzLm09dGhpcy5nPW51bGw7dGhpcy5mPW5ldyBJO3RoaXMuYT1udWxsfXIodGUsRik7dGUucHJvdG90eXBlLnBhPWZ1bmN0aW9uKCl7fTt0ZS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuYSYmdGhpcy5iLnJlbW92ZUNoaWxkKHRoaXMuYSk7dGhpcy5mLmRlc3Ryb3koKTt0aGlzLkphPXRoaXMuYj10aGlzLmc9dGhpcy5tPXRoaXMuYT10aGlzLmY9bnVsbH07bj10ZS5wcm90b3R5cGU7bi5XYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmd9O24uRmI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tfTtuLktjPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZn07bi5mYj1mdW5jdGlvbigpe3JldHVybiEwfTtuLkNiPWZ1bmN0aW9uKCl7fTsKbi5qYj1mdW5jdGlvbihhKXthLk0uY3JlYXRlKCkudGhlbihKKHRoaXMsZnVuY3Rpb24oYil7aWYodGhpcy5iKXtpZigwPT1iLmxlbmd0aCgpKXJldHVybiBQcm9taXNlLnJlamVjdChFcnJvcigiTm8gc3VidGl0bGVzIFVSTCBhdmFpbGFibGUuIikpO3ZhciBjPXRoaXMuZzt0aGlzLmc9YTt0aGlzLm09YjtiPWIuZmlyc3QoKS51cmwuY1swXS50b1N0cmluZygpO3ZhciBkPXRoaXMuRGIoKTt0aGlzLmEmJih0aGlzLnZiKCExKSx0aGlzLmIucmVtb3ZlQ2hpbGQodGhpcy5hKSk7dGhpcy5hPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRyYWNrIik7dGhpcy5iLmFwcGVuZENoaWxkKHRoaXMuYSk7dGhpcy5hLnNyYz1iO3RoaXMudmIoZCk7Yj15KHt0eXBlOiJhZGFwdGF0aW9uIixidWJibGVzOiEwLGNvbnRlbnRUeXBlOiJ0ZXh0IixzaXplOm51bGwsYmFuZHdpZHRoOmEuYmFuZHdpZHRofSk7dGhpcy5kaXNwYXRjaEV2ZW50KGIpO2N8fHRoaXMuZi5yZXNvbHZlKDApfX0pKX07bi5DYz1mdW5jdGlvbigpe307Cm4uSGM9ZnVuY3Rpb24oKXt9O24uSWM9ZnVuY3Rpb24oKXtyZXR1cm4hMH07bi52Yj1mdW5jdGlvbihhKXt0aGlzLmo9YTt0aGlzLmEmJih0aGlzLmEudHJhY2subW9kZT1hPyJzaG93aW5nIjoiZGlzYWJsZWQiKX07bi5EYj1mdW5jdGlvbigpe3RoaXMuYSYmKHRoaXMuaj0ic2hvd2luZyI9PXRoaXMuYS50cmFjay5tb2RlKTtyZXR1cm4gdGhpcy5qfTtuLnNiPWZ1bmN0aW9uKCl7cmV0dXJuIDB9O24uSmM9ZnVuY3Rpb24oKXt9O2Z1bmN0aW9uIHVlKCl7fQp1ZS5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9bnVsbDt0cnl7dmFyIGY7dmFyIGc9bmV3IElhKGIpO2lmKDQ0MDc4Njg1MSE9S2EoZykuaWQpZj1udWxsO2Vsc2V7dmFyIGg9S2EoZyk7aWYoNDA4MTI1NTQzIT1oLmlkKWY9bnVsbDtlbHNle3ZhciBrPWguYS5ieXRlT2Zmc2V0LGw7dmFyIG09bmV3IElhKGguYSk7Zm9yKGI9bnVsbDtEYShtLmEpOyl7dmFyIHA9S2EobSk7aWYoMzU3MTQ5MDMwPT1wLmlkKXtiPXA7YnJlYWt9fWlmKGIpe2Zvcih2YXIgdD1uZXcgSWEoYi5hKSxwPTFFNixtPW51bGw7RGEodC5hKTspe3ZhciB3PUthKHQpO2lmKDI4MDc3Mjk9PXcuaWQpcD1PYSh3KTtlbHNlIGlmKDE3NTQ1PT13LmlkKWlmKGI9dyw0PT1iLmEuYnl0ZUxlbmd0aCltPWIuYS5nZXRGbG9hdDMyKDApO2Vsc2UgaWYoOD09Yi5hLmJ5dGVMZW5ndGgpbT1iLmEuZ2V0RmxvYXQ2NCgwKTtlbHNlIHRocm93IG5ldyBSYW5nZUVycm9yKCJFYm1sRWxlbWVudDogZmxvYXRpbmcgcG9pbnQgbnVtYmVycyBtdXN0IGJlIDQgb3IgOCBieXRlcy4iKTt9bnVsbD09Cm0/bD1udWxsOih0PXAvMUU5LGw9e0diOnQsZHVyYXRpb246bSp0fSl9ZWxzZSBsPW51bGw7Zj1sP3tBZDprLEdiOmwuR2IsZHVyYXRpb246bC5kdXJhdGlvbn06bnVsbH19aWYoZil7dmFyIHo9S2EobmV3IElhKGEpKTtpZig0NzUyNDk1MTUhPXouaWQpZT1udWxsO2Vsc2V7dmFyIEg9Zi5BZCxkYT1mLkdiLGVhPWYuZHVyYXRpb247YT1bXTtmb3IodmFyIEFhPW5ldyBJYSh6LmEpLGs9Zj16PS0xO0RhKEFhLmEpOyl7dmFyIGNiPUthKEFhKTtpZigxODc9PWNiLmlkKXt2YXIgbmE7dmFyIHZkPW5ldyBJYShjYi5hKSx3ZD1LYSh2ZCk7aWYoMTc5IT13ZC5pZCluYT1udWxsO2Vsc2V7dmFyIFllPU9hKHdkKSx4ZD1LYSh2ZCk7aWYoMTgzIT14ZC5pZCluYT1udWxsO2Vsc2V7dmFyIGVlPW5ldyBJYSh4ZC5hKTtmb3IobD0wO0RhKGVlLmEpOyl7dmFyIGZlPUthKGVlKTtpZigyNDE9PWZlLmlkKXtsPU9hKGZlKTticmVha319bmE9e3piOlllLHlkOmx9fX1pZihuYSl7dmFyIGdlPWRhKm5hLnpiLApoZT1IK25hLnlkO2lmKDA8PXope3ZhciBOYz1uZXcgSyhkLGMsayxoZS0xKSxBZj1uYS56Yi1mO2EucHVzaChuZXcgaWQoeixnZSxOYyxuYS56YixBZikpfXo9Z2U7Zj1uYS56YjtrPWhlfX19MDw9eiYmKE5jPW5ldyBLKGQsYyxrLG51bGwpLGEucHVzaChuZXcgaWQoeixlYSxOYyxmLGVhL2RhLWYpKSk7ZT1hfX1lbHNlIGU9bnVsbH1jYXRjaChpZSl7aWYoIShpZSBpbnN0YW5jZW9mIFJhbmdlRXJyb3IpKXRocm93IGllO31yZXR1cm4gZX07ZnVuY3Rpb24gdmUoYSxiLGMsZCxlLGYsZyxoLGssbCxtKXt0aGlzLmg9YTt0aGlzLm89Yjt0aGlzLmI9Yzt0aGlzLm09bHx8bnVsbDt0aGlzLmo9bXx8bnVsbDt0aGlzLmE9ZDt0aGlzLmc9ZTt0aGlzLmY9Zjt0aGlzLnc9Zzt0aGlzLlJhPW51bGw7dGhpcy5pPWg7dGhpcy5sPWt8fG51bGw7dGhpcy51PW51bGx9dmUucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmk9dGhpcy5vPXRoaXMuaD1udWxsO3RoaXMuYS5LYSgpO3RoaXMuYT1udWxsO3RoaXMuZiYmKHRoaXMuZi5LYSgpLHRoaXMuZj1udWxsKTt0aGlzLmcmJih0aGlzLmcuS2EoKSx0aGlzLmc9bnVsbCk7dGhpcy5SYT1udWxsfTt2ZS5wcm90b3R5cGUuUWM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5SYX07dmUucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbigpe3JldHVybiB3ZSh0aGlzKX07dmUucHJvdG90eXBlLnBiPWZ1bmN0aW9uKCl7cmV0dXJuIHdlKHRoaXMpfTsKZnVuY3Rpb24gd2UoYSl7aWYoYS5SYSlyZXR1cm4gYS5SYTt2YXIgYj1udWxsO2EubCYmKGI9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigiY3JlYXRlX2NvbnRhaW5lcl9zZWdtZW50X2luZGV4X3NvdXJjZSIpLnN0YXJ0KCkpO2lmKG51bGwhPT1hLm0mJihudWxsIT09YS5qfHwid2VibSIhPT1hLmIpKXJldHVybiB4ZShhLGEubSxhLmosYik7dmFyIGM9W2EuYS5mZXRjaChudWxsLG51bGwsYS5sLGIpXTsid2VibSI9PWEuYiYmYy5wdXNoKGEuZy5mZXRjaChudWxsLG51bGwsYS5sLGIpKTthLlJhPVByb21pc2UuYWxsKGMpLnRoZW4oSihhLGZ1bmN0aW9uKGEpe3JldHVybiB4ZSh0aGlzLGFbMF0sYVsxXXx8bnVsbCxiKX0pKTtyZXR1cm4gYS5SYX0KZnVuY3Rpb24geGUoYSxiLGMsZCl7dmFyIGU9bnVsbDsibXA0Ij09YS5iPyhlPW5ldyB0ZCxlPWUucGFyc2UobmV3IERhdGFWaWV3KGIpLGEuYS5zdGFydEJ5dGUsYS5hLmMsYS5pLGEuZikpOiJ3ZWJtIj09YS5iJiYoZT1uZXcgdWUsZT1lLnBhcnNlKG5ldyBEYXRhVmlldyhiKSxuZXcgRGF0YVZpZXcoYyksYS5hLmMsYS5pKSk7aWYoIWUpcmV0dXJuIGE9RXJyb3IoIkZhaWxlZCB0byBwYXJzZSBTZWdtZW50UmVmZXJlbmNlcyBmcm9tICIrYS5hLnRvU3RyaW5nKCkrIiAob3Igb25lIG9mIGl0cyBmYWxsYmFja3MpLiIpLGEudHlwZT0ic3RyZWFtIixQcm9taXNlLnJlamVjdChhKTtiPW5ldyBUKGUsZS5zKTt2YXIgZjsiZHluYW1pYyI9PWEuaC50eXBlP2Y9bmV3IFMoYixhLmgsYS5vLGEudyk6Zj1uZXcgUihiKTtkJiZkLmxvZygpO2EudT1mO3JldHVybiBQcm9taXNlLnJlc29sdmUoZil9dmUucHJvdG90eXBlLmM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51fTtmdW5jdGlvbiB5ZShhLGIsYyxkKXt0aGlzLmM9YTt0aGlzLmI9Yjt0aGlzLmw9Y3x8bnVsbDt0aGlzLmE9ZHx8bnVsbH0KZnVuY3Rpb24gemUoYSxiLGMpe2Zvcih2YXIgZD15YSgpLzFFMyxlPTA7ZTxiLmEubGVuZ3RoOysrZSlmb3IodmFyIGY9Yi5hW2VdLGc9MDtnPGYuYS5sZW5ndGg7KytnKXt2YXIgaD1mLmFbZ107aWYoInRleHQiIT1oLmNvbnRlbnRUeXBlKWZvcih2YXIgaz0wO2s8aC5hLmxlbmd0aDsrK2spe3ZhciBsPWguYVtrXSxtPTAsbT1tKyhsLmY/MTowKSxtPW0rKGwuYj8xOjApLG09bSsobC5hPzE6MCk7MD09bT8oaC5hLnNwbGljZShrLDEpLC0tayk6MSE9bSYmKGwuZj8obC5iPW51bGwsbC5hPW51bGwpOmwuYiYmKGwuYT1udWxsKSl9fUFlKGIpO2ZvcihlPTA7ZTxiLmEubGVuZ3RoOysrZSlmb3IoZj1iLmFbZV0sZz0wO2c8Zi5hLmxlbmd0aDsrK2cpe2s9aD1mLmFbZ107bD1udWxsO2ZvcihtPTA7bTxrLmEubGVuZ3RoOysrbSl7dmFyIHA9ay5hW21dLm1pbWVUeXBlfHwiIjtsP3AhPWwmJihrLmEuc3BsaWNlKG0sMSksLS1tKTpsPXB9MD09aC5hLmxlbmd0aCYmKGYuYS5zcGxpY2UoZywxKSwKLS1nKX1iLm1hbmlmZXN0SXNMaXZlU3RyZWFtaW5nJiZudWxsPT1iLmMmJihiLmM9ZCk7ZT1uZXcgVGQ7ImR5bmFtaWMiPT1iLnR5cGUmJihlLmI9ITAsZS5jPWIuZyxlLmk9bmV3IEsoYyxiLnV8fGIudXJsLHZvaWQgMCx2b2lkIDAsdm9pZCAwLGEuYSksZS5qPWIuYyk7ZS5CPWIuaHx8MDtlLm09Yi5pfHwwO2Uubz1iLmp8fDA7ZS5nPWIubXx8NTtmb3IoZj0wO2Y8Yi5hLmxlbmd0aDsrK2Ype2c9Yi5hW2ZdO2lmKG51bGw9PWcuc3RhcnQpYnJlYWs7Zz1CZShhLGIsZyxkLGMpO2UuYS5wdXNoKGcpfWUuZj1iLkZCSXNMaXZlVGVtcGxhdGVkO2EubCYmYS5sLnNldElzVGVtcGxhdGVkTWFuaWZlc3QoYi5GQklzTGl2ZVRlbXBsYXRlZCk7ZS5BPWIuRkJXYXNMaXZlO2E9bnVsbDtjPSJub25lIjtmb3IoZj0wO2Y8Yi5hLmxlbmd0aDtmKyspZm9yKGc9Yi5hW2ZdLGQ9MDtkPGcuYS5sZW5ndGg7ZCsrKWZvcihoPWcuYVtkXSxrPTA7azxoLmEubGVuZ3RoO2srKylsPWguYVtrXS5pLG51bGwhPQpsJiZudWxsIT1sLnZhbHVlJiYoYT1jPWwudmFsdWUsInVybjptcGVnOmRhc2g6MjMwMDM6MzphdWRpb19jaGFubmVsX2NvbmZpZ3VyYXRpb246MjAxMSI9PT1sLmEmJigiMSI9PT1hP2M9Im1vbm8iOiIyIj09PWEmJihjPSJzdGVyZW8iKSkpO2Uudz1jO2E9cGFyc2VJbnQoYSwxMCk7ZS51PTA8YT9hOm51bGw7cmV0dXJuIGV9CmZ1bmN0aW9uIEFlKGEpe2lmKGEuYS5sZW5ndGgpe251bGw9PWEuYVswXS5zdGFydCYmKGEuYVswXS5zdGFydD0wKTt2YXIgYj1mdW5jdGlvbihhKXtyZXR1cm4gMD09YXx8ISFhfTthLm1hbmlmZXN0SXNMaXZlU3RyZWFtaW5nJiYoYS5iPW51bGwpO2IoYS5iKSYmMT09YS5hLmxlbmd0aCYmIWIoYS5hWzBdLmR1cmF0aW9uKSYmKGEuYVswXS5kdXJhdGlvbj1hLmIpO2Zvcih2YXIgYz0wLGQ9ITAsZT0wO2U8YS5hLmxlbmd0aDsrK2Upe3ZhciBmPWEuYVtlLTFdLGc9YS5hW2VdLGg9YS5hW2UrMV18fHtzdGFydDphLmJ9OyFiKGcuc3RhcnQpJiZmJiZiKGYuc3RhcnQpJiZiKGYuZHVyYXRpb24pJiYoZy5zdGFydD1mLnN0YXJ0K2YuZHVyYXRpb24pOyFiKGcuZHVyYXRpb24pJiZiKGguc3RhcnQpJiYoZy5kdXJhdGlvbj1oLnN0YXJ0LWcuc3RhcnQpO251bGwhPWcuc3RhcnQmJm51bGwhPWcuZHVyYXRpb24/Yys9Zy5kdXJhdGlvbjpkPSExfWIoYS5iKXx8KGU9YS5hW2EuYS5sZW5ndGgtMV0sCmQ/YS5iPWM6YihlLnN0YXJ0KSYmYihlLmR1cmF0aW9uKT9hLmI9ZS5zdGFydCtlLmR1cmF0aW9uOmEubWFuaWZlc3RJc0xpdmVTdHJlYW1pbmd8fChhLmI9YykpfX0KZnVuY3Rpb24gQmUoYSxiLGMsZCxlKXt2YXIgZj1uZXcgU2Q7Zi5pZD1jLmlkO2Yuc3RhcnQ9Yy5zdGFydDtmLmR1cmF0aW9uPWMuZHVyYXRpb247dmFyIGc9bmV3IEQ7Yy5hLmZvckVhY2goZnVuY3Rpb24oYSl7Zy5wdXNoKGEuY29udGVudFR5cGV8fCIiLGEpfSk7Zm9yKHZhciBoPWFiKGcpLGs9MDtrPGgubGVuZ3RoOysrayl7dmFyIGw9bmV3IEQ7Zy5nZXQoaFtrXSkuZm9yRWFjaChmdW5jdGlvbihhKXtsLnB1c2goYS5ncm91cCxhKX0pO2Zvcih2YXIgbT1hYihsKSxwPTA7cDxtLmxlbmd0aDsrK3Ape3ZhciB0PW5ldyBEO2wuZ2V0KG1bcF0pLmZvckVhY2goZnVuY3Rpb24oYSl7dC5wdXNoKGEubGFuZyxhKX0pO2Zvcih2YXIgdz1hYih0KSx6PTA7ejx3Lmxlbmd0aDsrK3ope3ZhciBIPXQuZ2V0KHdbel0pLEg9Q2UoYSxiLGMsSCxkLGUpO2YuYS5wdXNoKEgpfX19cmV0dXJuIGZ9CmZ1bmN0aW9uIENlKGEsYixjLGQsZSxmKXtiYShkLmV2ZXJ5KGZ1bmN0aW9uKGEpe3JldHVybiBhLmdyb3VwPT1kWzBdLmdyb3VwJiYoYS5sYW5nfHwiIik9PShkWzBdLmxhbmd8fCIiKSYmKGEuY29udGVudFR5cGV8fCIiKT09KGRbMF0uY29udGVudFR5cGV8fCIiKX0pKTt2YXIgZz1uZXcgT2QsaD1kLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YS5pZH0pO2gubGVuZ3RoPT1kLmxlbmd0aCYmKGcuaWQ9aC5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuaWR9KS5zb3J0KCkucmVkdWNlKGZ1bmN0aW9uKGEsYil7cmV0dXJuIGErIiwiK2J9KSk7Zy5iPSEoIWRbMF0uYnx8InVybjpzY3RlOmRhc2g6Y2M6Y2VhLTYwODoyMDE1IiE9PWRbMF0uYi5hKTtnLmxhbmc9ZFswXS5sYW5nfHwiIjtnLmNvbnRlbnRUeXBlPWRbMF0uY29udGVudFR5cGV8fCIiO2cuZj1kLnNvbWUoZnVuY3Rpb24oYSl7cmV0dXJuIGEuZn0pO2Zvcih2YXIgaD17fSxrPTA7azxkLmxlbmd0aDsrK2spe3ZhciBsPQpkW2tdO2wuYyYmKGcuYz1sLmMpO2Zvcih2YXIgbT0wO208bC5hLmxlbmd0aDsrK20pe3ZhciBwPWwuYVttXSx0PURlKGEscCksdz1nLmEuc2xpY2UoMCk7RWUodCx3KTswPT13Lmxlbmd0aCYmMDxnLmEubGVuZ3RofHwhKHA9RmUoYSxiLGMscCxlLGYpKXx8KGcudi5wdXNoKHApLGcuYT13LGhbcC5YXT1sKX19aWYoZy5hLnNvbWUoZnVuY3Rpb24oYSl7cmV0dXJuIiI9PWEuYX0pKXJldHVybiBnLnYuZm9yRWFjaChmdW5jdGlvbihhKXthLm9hPSEwfSksZzthPUdlKGQpO2ZvcihrPTA7azxnLnYubGVuZ3RoOysraylwPWcudltrXSxsPWhbcC5YXSxsPT1hJiYocC5vYT0hMCk7cmV0dXJuIGd9CmZ1bmN0aW9uIEdlKGEpe2Zvcih2YXIgYj1udWxsLGM9bnVsbCxkPTA7ZDxhLmxlbmd0aDsrK2QpZm9yKHZhciBlPWFbZF0sZj0wO2Y8ZS5hLmxlbmd0aDsrK2Ype3ZhciBnPWUuYVtmXSxnPShnLndpZHRofHwxKSooZy5oZWlnaHR8fDEpKihnLmJhbmR3aWR0aHx8MSk7aWYobnVsbD09Ynx8ZzxiKWI9ZyxjPWV9cmV0dXJuIGN9ZnVuY3Rpb24gRWUoYSxiKXtpZigwPT1iLmxlbmd0aClBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShiLGEpO2Vsc2UgZm9yKHZhciBjPTA7YzxiLmxlbmd0aDsrK2Mpe2Zvcih2YXIgZD0hMSxlPTA7ZTxhLmxlbmd0aDsrK2Upe3ZhciBmPWJbY10sZz1hW2VdO2lmKGYuYT09Zy5hJiZmLmk9PWcuaSYmZi53aXRoQ3JlZGVudGlhbHM9PWcud2l0aENyZWRlbnRpYWxzJiZmLmg9PWcuaCYmZi5qPT1nLmomJmYuZz09Zy5nJiZmLm09PWcubSYmTWEoZi5jLGcuYykpe2Q9ITA7T2IoYltjXSxhW2VdLmIpO2JyZWFrfX1kfHwoYi5zcGxpY2UoYywxKSwtLWMpfX0KZnVuY3Rpb24gRGUoYSxiKXt2YXIgYz1bXTtpZigwPT1iLmMubGVuZ3RoKWMucHVzaChuZXcgTWIpO2Vsc2UgaWYoYS5iKWZvcih2YXIgZD0wO2Q8Yi5jLmxlbmd0aDsrK2QpYy5wdXNoLmFwcGx5KGMsSGUoYSxiLmNbZF0pKTtyZXR1cm4gY30KZnVuY3Rpb24gSGUoYSxiKXt2YXIgYz1bXTtpZigyIT1hLmIubGVuZ3RoKXJldHVybltdO3ZhciBkPWEuYihiLmZ8fCIiLGIuYyk7aWYoIShkJiZkIGluc3RhbmNlb2YgQXJyYXkpKXJldHVybltdO2Zvcih2YXIgZT0wO2U8ZC5sZW5ndGg7KytlKXt2YXIgZjt2YXIgZz1kW2VdO2Y9bmV3IE1iO2lmKGcpe3ZhciBoPVlhKGcsImtleVN5c3RlbSIpO2lmKG51bGwhPWgpZi5hPWg7ZWxzZSB0aHJvdyBFcnJvcigiJ2tleVN5c3RlbScgY2Fubm90IGJlIG51bGwuIik7dmFyIGs9WWEoZywibGljZW5zZVNlcnZlclVybCIpO2lmKG51bGwhPWspZi5pPWs7ZWxzZSBpZihoKXRocm93IEVycm9yKCJGb3IgZW5jcnlwdGVkIHN0cmVhbWluZyBjb250ZW50LCAnbGljZW5zZVNlcnZlclVybCcgY2Fubm90IGJlIG51bGwgb3IgZW1wdHkuIik7aD1CKGcsIndpdGhDcmVkZW50aWFscyIpO251bGwhPWgmJihmLndpdGhDcmVkZW50aWFscz1oKTtoPVphKGcsImxpY2Vuc2VQb3N0UHJvY2Vzc29yIixGdW5jdGlvbik7Cm51bGwhPWgmJihmLmY9aCk7aD1aYShnLCJsaWNlbnNlUHJlUHJvY2Vzc29yIixGdW5jdGlvbik7bnVsbCE9aCYmKGYubz1oKTtoPUIoZywiZGlzdGluY3RpdmVJZGVudGlmaWVyUmVxdWlyZWQiKTtudWxsIT1oJiYoZi5oPWgpO2g9QihnLCJwZXJzaXN0ZW50U3RhdGVSZXF1aXJlZCIpO251bGwhPWgmJihmLmo9aCk7aD1ZYShnLCJhdWRpb1JvYnVzdG5lc3MiKTtudWxsIT1oJiYoZi5nPWgpO2g9WWEoZywidmlkZW9Sb2J1c3RuZXNzIik7bnVsbCE9aCYmKGYubT1oKTtoPVphKGcsInNlcnZlckNlcnRpZmljYXRlIixVaW50OEFycmF5KTtudWxsIT1oJiYoZi5jPWgpO2lmKGg9WmEoZywiaW5pdERhdGEiLE9iamVjdCkpe2c9WmEoaCwiaW5pdERhdGEiLFVpbnQ4QXJyYXkpO2lmKG51bGw9PWcpdGhyb3cgRXJyb3IoIidpbml0RGF0YS5pbml0RGF0YScgY2Fubm90IGJlIG51bGwuIik7aD1ZYShoLCJpbml0RGF0YVR5cGUiKTtpZihudWxsPT1oKXRocm93IEVycm9yKCInaW5pdERhdGEuaW5pdERhdGFUeXBlJyBjYW5ub3QgYmUgbnVsbC4iKTsKZi5iLnB1c2goe2luaXREYXRhOm5ldyBVaW50OEFycmF5KGcuYnVmZmVyKSxpbml0RGF0YVR5cGU6aH0pfX0wPT1mLmIubGVuZ3RoJiZiLmEmJmIuYS5wc3NoQm94JiZPYihmLFt7aW5pdERhdGE6Yi5hLnBzc2hCb3gsaW5pdERhdGFUeXBlOiJjZW5jIn1dKTtjLnB1c2goZil9cmV0dXJuIGN9CmZ1bmN0aW9uIEZlKGEsYixjLGQsZSxmKXtpZighZC5iYXNlVXJsfHwwPT09ZC5iYXNlVXJsLmxlbmd0aClyZXR1cm4gbnVsbDt2YXIgZz1udWxsLGg9MSxrPTA7aWYoZC5mKXtnPWQubWltZVR5cGUuc3BsaXQoIi8iKVsxXTtpZigibXA0IiE9ZyYmIndlYm0iIT1nKWc9bnVsbDtlbHNle3ZhciBsPWQuZjtpZigid2VibSIhPWd8fGwuYylpZihsLmF8fGwuYiYmbC5iLmEpe2g9bC5iO2h8fChoPW5ldyB3YyxoLnVybD1kLmJhc2VVcmwsaC5hPWwuYT9sLmEuY2xvbmUoKTpudWxsKTtrPUllKGEsaCxmKTtoPWwuYz9JZShhLGwuYyxmKTpudWxsO2wuZj8obD1sLmYsbD1uZXcgSyhmLGQuYmFzZVVybCxsLnFhLGwuZW5kLHZvaWQgMCxhLmEpKTpsPW51bGw7dmFyIG09bCxwPVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgiYWRkX2lubGluZV9pbml0aWFsaXphdGlvbl9yZXNvdXJjZXMiLCExKSYmZC5oJiZkLmguZGF0YT9kLmguZGF0YTpudWxsLGw9VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJhZGRfaW5saW5lX2luaXRpYWxpemF0aW9uX3Jlc291cmNlcyIsCiExKSYmZC5nJiZkLmcuZGF0YT9kLmcuZGF0YTpudWxsO2E9bmV3IHZlKGIsYyxnLGssaCxtLGUsZixhLmwscCxsKTtiPW5ldyBnZChoLGwpO2M9bmV3IEtkO2MuTT1hO2MuYWE9YjtnPWN9ZWxzZSBnPW51bGw7ZWxzZSBnPW51bGx9aD1kLmYucztrPWQuZi5MfWVsc2UgaWYoZC5iKWc9ZC5iLCFnLkgmJiFnLkMmJjE8Zy5hLmxlbmd0aD9nPW51bGw6Zy5IfHxjLmR1cmF0aW9ufHxnLkN8fDEhPWcuYS5sZW5ndGg/Zy5DJiYwPT09Zy5DLk4ubGVuZ3RoP2c9bnVsbDooZz1nLmI/SWUoYSxnLmIsZik6bnVsbCxhPW5ldyBGZChiLGMsZCxlLGYsYS5hKSxiPW5ldyBnZChnKSxjPW5ldyBLZCxjLk09YSxjLmFhPWIsZz1jKTpnPW51bGwsaD1kLmIucyxrPWQuYi5MO2Vsc2UgaWYoZC5hKXthOmlmKGc9ZC5hLGg9MCsoZy5hPzE6MCksaCs9Zy5DPzE6MCxoKz1nLkg/MTowLDA9PWg/aD0hMTooMSE9aCYmKGcuYT8oZy5DPW51bGwsZy5IPW51bGwpOmcuQyYmKGcuSD1udWxsKSksaD0hMCksaCl7aD0KbnVsbDtpZihnLmMmJihoPShnPWQuYS5jKT9KZShkLGcseGMpOm51bGwsIWgpKXtnPW51bGw7YnJlYWsgYX1nPWg/SWUoYSxoLGYpOm51bGw7aD1kLmE7aC5hPyhoPWQubWltZVR5cGUuc3BsaXQoIi8iKVsxXSwibXA0IiE9aCYmIndlYm0iIT1oP2E9bnVsbDoid2VibSIhPWh8fGc/bWQoZixkLDEsMCx2b2lkIDAsYS5hKT8oaz0oaz1kLmEuYSk/SmUoZCxrLHdjKTpudWxsKT8oaz1JZShhLGssZiksYT1uZXcgdmUoYixjLGgsayxnLG51bGwsZSxmLGEubCkpOmE9bnVsbDphPW51bGw6YT1udWxsKTphPWguZj9oLkM/bmV3IEpkKGEuYyxiLGMsZCxlLGYsMCxhLmEpOmguSD9iLm1hbmlmZXN0SXNMaXZlU3RyZWFtaW5nfHxudWxsIT1jLmR1cmF0aW9uP25ldyBFZChiLGMsZCxlLGYpOm51bGw6bnVsbDpudWxsO2E/KGI9bmV3IGdkKGcpLGM9bmV3IEtkLGMuTT1hLGMuYWE9YixnPWMpOmc9bnVsbH1lbHNlIGc9bnVsbDtoPWQuYS5zO2s9ZC5hLkx9ZWxzZSJ0ZXh0Ij09ZC5taW1lVHlwZS5zcGxpdCgiLyIpWzBdJiYKKGc9bmV3IEtkLGcuTT1uZXcgc2UobmV3IEsoZixkLmJhc2VVcmwpKSk7aWYoIWcpcmV0dXJuIG51bGw7Zy5pZD1kLmlkO2smJihnLmE9LTEqay9oKTtnLmJhbmR3aWR0aD1kLmJhbmR3aWR0aDtnLndpZHRoPWQud2lkdGg7Zy5oZWlnaHQ9ZC5oZWlnaHQ7Zy5taW1lVHlwZT1kLm1pbWVUeXBlfHwiIjtnLmNvZGVjcz1kLmNvZGVjc3x8IiI7Zy5nPWQub3x8bnVsbDtnLmg9ZC51fHxudWxsO2cuZmJRdWFsaXR5TGFiZWw9ZC5mYlF1YWxpdHlMYWJlbHx8bnVsbDtnLmZiUXVhbGl0eUNsYXNzPWQuZmJRdWFsaXR5Q2xhc3N8fG51bGw7Zy5mPWQubXx8bnVsbDtnLmZyYW1lUmF0ZT1kLmZyYW1lUmF0ZXx8IiI7Zy5jPWQuanx8bnVsbDtmb3IoYT0wO2E8ZC5jLmxlbmd0aDsrK2EpYj1kLmNbYV0sYi5iJiZnLmIucHVzaChiLmIpO3JldHVybiBnfQpmdW5jdGlvbiBKZShhLGIsYyl7Yj1uZChiLGEuaWQsbnVsbCxhLmJhbmR3aWR0aCxudWxsKTtpZighYilyZXR1cm4gbnVsbDtjPW5ldyBjO2MudXJsPVpjKGEuYmFzZVVybCxiKTtyZXR1cm4gY31mdW5jdGlvbiBJZShhLGIsYyl7dmFyIGQ9Yi51cmwsZT0wLGY9bnVsbDtiLmEmJihlPWIuYS5xYSxmPWIuYS5lbmQpO3JldHVybiBuZXcgSyhjLGQsZSxmLHZvaWQgMCxhLmEpfTtmdW5jdGlvbiBLZShhLGIsYyxkLGUsZixnKXt0aGlzLmI9bmV3IEsobnVsbCxbbmV3IEwoYSldKTt0aGlzLmw9ZTt0aGlzLmY9Yjt0aGlzLmM9MTt0aGlzLmc9YTt0aGlzLmE9bmV3IHRiO3RoaXMuYS5ib2R5PWI7dGhpcy5hLm1ldGhvZD1jO3RoaXMuYS5OYT0zO3RoaXMuYS53aXRoQ3JlZGVudGlhbHM9ZDt0aGlzLmEuYj0xRTMqKG51bGwhPWc/ZzpoYSk7YT1mfHx7fTtmb3IodmFyIGggaW4gYSl0aGlzLmEuUWFbaF09YVtoXX0KZnVuY3Rpb24gTGUoYSl7cmV0dXJuIGEuYi5mZXRjaChhLmEpLnRoZW4oZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYi51JiYwPHRoaXMuYz8odGhpcy5jLS0sbnVsbCE9PXRoaXMubCYmbnVsbCE9PXRoaXMuYi5pJiZ0aGlzLmwuc2V0UmVhc29uKCJSZWRpcmVjdGVkIHRvIFVSTDogIit0aGlzLmIuaS50b1N0cmluZygpKSx0aGlzLmI9bmV3IEsobnVsbCxbbmV3IEwodGhpcy5nKV0pLHRoaXMuYS5ib2R5PXRoaXMuZixMZSh0aGlzKSk6UHJvbWlzZS5yZXNvbHZlKG5ldyBVaW50OEFycmF5KGEpKX0uYmluZChhKSl9O2Z1bmN0aW9uIE1lKGEsYixjLGQpe0YuY2FsbCh0aGlzLGEpO3RoaXMuYz1iO3RoaXMuaj1jO3RoaXMuYT10aGlzLmg9bnVsbDt0aGlzLmk9bmV3IGJiO3RoaXMuYj1bXTt0aGlzLmY9W107dGhpcy5tPTA7dGhpcy5nPW5ldyBJO3RoaXMubz1udWxsO3RoaXMuQT1oYTt0aGlzLmw9ZH1yKE1lLEYpO01lLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5KYT1udWxsO2Zvcih2YXIgYT0wO2E8dGhpcy5mLmxlbmd0aDsrK2EpdGhpcy5mW2FdLmNsb3NlKCkuY2F0Y2goZnVuY3Rpb24oKXt9KTt0aGlzLmY9W107dGhpcy5iPXRoaXMuYT10aGlzLmg9bnVsbDt0aGlzLmcuZGVzdHJveSgpO3RoaXMuZz1udWxsO3RoaXMuaS5kZXN0cm95KCk7dGhpcy5pPW51bGw7dGhpcy5vJiYoY2xlYXJUaW1lb3V0KHRoaXMubyksdGhpcy5vPW51bGwpO3RoaXMuYz10aGlzLmo9bnVsbH07Ck1lLnByb3RvdHlwZS5pbml0aWFsaXplPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPW5ldyBELGI9TmUodGhpcy5qKSxjPTA7YzxiLmxlbmd0aDsrK2Mpe3ZhciBkPWJbY107ZC5hLmF8fGQuYiYmIU9lKGQuYil8fGEucHVzaChkLmNvbnRlbnRUeXBlLGQpfWZvcih2YXIgYz17fSxkPSExLGU9MDtlPGIubGVuZ3RoOysrZSl7dmFyIGY9YltlXTtpZihmLmEuYSYmIWEuYS5oYXNPd25Qcm9wZXJ0eShmLmNvbnRlbnRUeXBlKSl7dmFyIGc9Zi5hLmEsaD1jW2ddO2h8fChoPWYuYSxoPXthdWRpb0NhcGFiaWxpdGllczp2b2lkIDAsdmlkZW9DYXBhYmlsaXRpZXM6dm9pZCAwLGluaXREYXRhVHlwZXM6dm9pZCAwLGRpc3RpbmN0aXZlSWRlbnRpZmllcjpoLmg/InJlcXVpcmVkIjoib3B0aW9uYWwiLHBlcnNpc3RlbnRTdGF0ZTpoLmo/InJlcXVpcmVkIjoib3B0aW9uYWwiLHNlc3Npb25UeXBlczpbInRlbXBvcmFyeSJdfSxjW2ddPWgpO2lmKGYuYiYmKGc9Zi5jb250ZW50VHlwZSsiQ2FwYWJpbGl0aWVzIiwKZyBpbiBoKSl7ZD0hMDtoW2ddfHwoaFtnXT1bXSk7dmFyIGs7ImF1ZGlvIj09Zi5jb250ZW50VHlwZT9rPWYuYS5nOiJ2aWRlbyI9PWYuY29udGVudFR5cGUmJihrPWYuYS5tKTtoW2ddLnB1c2goe2NvbnRlbnRUeXBlOmYuYixyb2J1c3RuZXNzOmt9KX19fWlmKCFkKWlmKGIubGVuZ3RoKXRoaXMuYT1iWzBdLmE7ZWxzZSB0aHJvdyBhPUVycm9yKCJObyBEcm1JbmZvIGV4aXN0cyEiKSxhLnR5cGU9ImRybSIsYTtpZigwPT1PYmplY3Qua2V5cyhjKS5sZW5ndGgpcmV0dXJuIFBlKHRoaXMuaixhKSx0aGlzLmcucmVzb2x2ZSgpLFByb21pc2UucmVzb2x2ZSgpO2s9bmV3IEk7Yz1RZShjLGspO2M9Yy50aGVuKHRoaXMudy5iaW5kKHRoaXMsYixhKSk7ay5yZWplY3QobnVsbCk7dGhpcy5sJiZ0aGlzLmwuZ2V0RXZlbnRMb2dnZXIoImVtZV9pbml0IikubG9nKCk7cmV0dXJuIGN9OwpmdW5jdGlvbiBRZShhLGIpe2Zvcih2YXIgYyBpbiBhKWI9Yi5jYXRjaChmdW5jdGlvbihhLGIpe3JldHVybiBuYXZpZ2F0b3IucmVxdWVzdE1lZGlhS2V5U3lzdGVtQWNjZXNzKGEsW2JdKX0uYmluZChudWxsLGMsYVtjXSkpO3JldHVybiBifQpNZS5wcm90b3R5cGUudz1mdW5jdGlvbihhLGIsYyl7aWYoIXRoaXMuYylyZXR1cm4gUmUoKTtmb3IodmFyIGQ9Yy5rZXlTeXN0ZW0sZT1jLmdldENvbmZpZ3VyYXRpb24oKSxmPVsiYXVkaW8iLCJ2aWRlbyJdLGc9MDtnPGYubGVuZ3RoOysrZyl7dmFyIGg9ZltnXTtpZighYi5hLmhhc093blByb3BlcnR5KGgpKXt2YXIgaz1lW2grIkNhcGFiaWxpdGllcyJdO2lmKGspe2Zvcih2YXIgaz1rWzBdLGw9W10sbT17fSxwPTA7cDxhLmxlbmd0aDsrK3Ape3ZhciB0PWFbcF0sdz1rP3QuYj09ay5jb250ZW50VHlwZTp0LmNvbnRlbnRUeXBlPT1oO3QuYS5hIT1kfHwhd3x8dC5pZCBpbiBtfHwobC5wdXNoKHQpLG1bdC5pZF09ITAsdGhpcy5hPXRoaXMuYT9OYih0aGlzLmEsdC5hKTp0LmEpfWIuc2V0KGgsbCl9fX1QZSh0aGlzLmosYik7aWYodGhpcy5jLm1lZGlhS2V5cyl0aGlzLmg9dGhpcy5jLm1lZGlhS2V5cztlbHNlIHJldHVybiBjLmNyZWF0ZU1lZGlhS2V5cygpLnRoZW4oZnVuY3Rpb24oYSl7dGhpcy5oPQphfS5iaW5kKHRoaXMpKX07ZnVuY3Rpb24gU2UoYSl7cmV0dXJuIGEuYz9hLmg/YS5jLnNldE1lZGlhS2V5cyhhLmgpLnRoZW4oSihhLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYz90aGlzLmEuYz90aGlzLmguc2V0U2VydmVyQ2VydGlmaWNhdGUodGhpcy5hLmMpOlByb21pc2UucmVzb2x2ZSgpOlJlKCl9KSkudGhlbihKKGEsZnVuY3Rpb24oKXtpZighdGhpcy5jKXJldHVybiBSZSgpO2Zvcih2YXIgYT0wO2E8dGhpcy5hLmIubGVuZ3RoOysrYSl7dmFyIGM9dGhpcy5hLmJbYV07dGhpcy51KHt0eXBlOiJlbmNyeXB0ZWQiLGluaXREYXRhVHlwZTpjLmluaXREYXRhVHlwZSxpbml0RGF0YTpjLmluaXREYXRhfSl9MD09dGhpcy5hLmIubGVuZ3RoJiZFKHRoaXMuaSx0aGlzLmMsImVuY3J5cHRlZCIsdGhpcy51LmJpbmQodGhpcykpfSkpOlByb21pc2UucmVzb2x2ZSgpOlJlKCl9CmZ1bmN0aW9uIFJlKCl7dmFyIGE9RXJyb3IoIkVtZU1hbmFnZXIgZGVzdHJveWVkIik7YS50eXBlPSJkZXN0cm95IjtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYSl9Ck1lLnByb3RvdHlwZS51PWZ1bmN0aW9uKGEpe3ZhciBiPW5ldyBVaW50OEFycmF5KGEuaW5pdERhdGEpO3RoaXMubCYmdGhpcy5sLmdldEV2ZW50TG9nZ2VyKCJlbmNyeXB0ZWRfc2FtcGxlIikubG9nKCk7Zm9yKHZhciBjPTA7Yzx0aGlzLmIubGVuZ3RoOysrYylpZihNYShiLHRoaXMuYltjXS5kYXRhKSlyZXR1cm47dHJ5e3ZhciBkPVRlKHRoaXMpfWNhdGNoKGUpe2I9QShlKTt0aGlzLmRpc3BhdGNoRXZlbnQoYik7dGhpcy5sJiZ0aGlzLmwuZ2V0RXZlbnRMb2dnZXIoImVtZV9lcnJvciIpLnNldEVycm9yKGUpLmxvZygpO3RoaXMuZy5yZWplY3QoZSk7cmV0dXJufWE9ZC5nZW5lcmF0ZVJlcXVlc3QoYS5pbml0RGF0YVR5cGUsYS5pbml0RGF0YSk7dGhpcy5iLnB1c2goe2RhdGE6Yix1YjpkfSk7YS5jYXRjaChKKHRoaXMsZnVuY3Rpb24oYSl7aWYodGhpcy5jKXtmb3IodmFyIGI9MDtiPHRoaXMuYi5sZW5ndGg7KytiKWlmKHRoaXMuYltiXS51Yj09ZCl7dGhpcy5iLnNwbGljZShiLAoxKTticmVha31iPUEoYSk7dGhpcy5kaXNwYXRjaEV2ZW50KGIpO3RoaXMubCYmdGhpcy5sLmdldEV2ZW50TG9nZ2VyKCJlbWVfZXJyb3IiKS5zZXRFcnJvcihhKS5sb2coKTt0aGlzLmcucmVqZWN0KGEpfX0pKTt0aGlzLmYucHVzaChkKX07ZnVuY3Rpb24gVWUoYSl7Zm9yKHZhciBiPVtdLGM9MDtjPGIubGVuZ3RoOysrYyl7dmFyIGQ9VGUoYSksZT1kLmxvYWQoYltjXSk7YS5mLnB1c2goZCk7ZS50aGVuKEooYSxmdW5jdGlvbigpe3RoaXMubSsrO3RoaXMubT49dGhpcy5mLmxlbmd0aCYmdGhpcy5nLnJlc29sdmUoKX0pKS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7dmFyIGI9QShhKTt0aGlzLmRpc3BhdGNoRXZlbnQoYik7dGhpcy5sJiZ0aGlzLmwuZ2V0RXZlbnRMb2dnZXIoImVtZV9lcnJvciIpLnNldEVycm9yKGEpLmxvZygpfSkpfX0KZnVuY3Rpb24gVGUoYSl7dmFyIGI9bnVsbCxiPWEuaC5jcmVhdGVTZXNzaW9uKCk7RShhLmksYiwibWVzc2FnZSIsYS5ELmJpbmQoYSkpO0UoYS5pLGIsImtleXN0YXR1c2VzY2hhbmdlIixhLkIuYmluZChhKSk7cmV0dXJuIGJ9TWUucHJvdG90eXBlLkQ9ZnVuY3Rpb24oYSl7VmUodGhpcyxhLnRhcmdldCx0aGlzLmEsYS5tZXNzYWdlKX07Ck1lLnByb3RvdHlwZS5CPWZ1bmN0aW9uKGEpe2E9YS50YXJnZXQ7dmFyIGI9e307YS5rZXlTdGF0dXNlcy5mb3JFYWNoKGZ1bmN0aW9uKGEsYyl7aWYoInN0cmluZyI9PT10eXBlb2YgYSl7dmFyIGY9YTthPWM7Yz1mfWlmKCJjb20ubWljcm9zb2Z0LnBsYXlyZWFkeSI9PXRoaXMuYS5hJiYxNj09YS5ieXRlTGVuZ3RoKXt2YXIgZj1uZXcgRGF0YVZpZXcoYSksZz1mLmdldFVpbnQzMigwLCEwKSxoPWYuZ2V0VWludDE2KDQsITApLGs9Zi5nZXRVaW50MTYoNiwhMCk7Zi5zZXRVaW50MzIoMCxnLCExKTtmLnNldFVpbnQxNig0LGgsITEpO2Yuc2V0VWludDE2KDYsaywhMSl9Zj1MYihuZXcgVWludDhBcnJheShhKSk7YltmXT1jfS5iaW5kKHRoaXMpKTtpZihhLmV4cGlyYXRpb248RGF0ZS5ub3coKSl7Zm9yKHZhciBjPTA7Yzx0aGlzLmIubGVuZ3RoOysrYylpZih0aGlzLmJbY10udWI9PWEpe3RoaXMuYi5zcGxpY2UoYywxKTticmVha31hLmNsb3NlKCk7dGhpcy5mLnNwbGljZSh0aGlzLmYuaW5kZXhPZihhKSwKMSl9dGhpcy5sJiZ0aGlzLmwuZ2V0RXZlbnRMb2dnZXIoImVtZV9rZXlfc3RhdHVzX2NoYW5nZSIpLmxvZygpO1dlKHRoaXMuaixiKX07CmZ1bmN0aW9uIFZlKGEsYixjLGQpe2Q9WGUoYyxkKTt2YXIgZT1udWxsO2EubCYmKGU9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigibGljZW5zZV9yZXF1ZXN0Iikuc3RhcnQoKSk7TGUobmV3IEtlKGQudXJsLGQuYm9keSxkLm1ldGhvZCxjLndpdGhDcmVkZW50aWFscyxlLGQuaGVhZGVycyxhLkEpKS50aGVuKEooYSxmdW5jdGlvbihhKXtlJiYoZS5zZXRSZXN1bHQoInN1Y2Nlc3MiKSxlLmxvZygpKTtjLmYmJihhPWMuZihhKSk7ZT1udWxsO3RoaXMubCYmKGU9dGhpcy5sLmdldE9wZXJhdGlvbkxvZ2dlcigiZW1lX3Bvc3RfbGljZW5zZV9zZXNzaW9uX3VwZGF0ZSIpLnN0YXJ0KCkpO251bGw9PT1hfHx2b2lkIDA9PT1hfHwwPT09YS5ieXRlTGVuZ3RoP251bGwhPT1lJiYoZS5zZXRFcnJvcigiZW1wdHkgbGljZW5zZSIpLGUuc2V0UmVzdWx0KCJmYWlsZWQiKS5sb2coKSk6Yi51cGRhdGUoYSkudGhlbihKKHRoaXMsZnVuY3Rpb24oKXtlJiYoZS5zZXRSZXN1bHQoInN1Y2Nlc3MiKSxlLmxvZygpKTsKdmFyIGE9eSh7dHlwZToic2Vzc2lvblJlYWR5IixkZXRhaWw6Yn0pO3RoaXMuZGlzcGF0Y2hFdmVudChhKTt0aGlzLm0rKzt0aGlzLm0+PXRoaXMuZi5sZW5ndGgmJnRoaXMuZy5yZXNvbHZlKCl9KSkuY2F0Y2goSih0aGlzLGZ1bmN0aW9uKGEpe2EudWI9Yjt2YXIgYz1BKGEpO2UmJihlLnNldFJlc3VsdCgiZmFpbGVkIiksZS5zZXRFcnJvcihhKS5sb2coKSk7dGhpcy5kaXNwYXRjaEV2ZW50KGMpfSkpfSkpLmNhdGNoKEooYSxmdW5jdGlvbihhKXtpZihjLmYpe3ZhciBkPUpTT04uc3RyaW5naWZ5KHtkYXRhOlt7ZXJyb3I6YX1dfSksZD1uZXcgVWludDhBcnJheShkLnNwbGl0KCIiKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuY2hhckNvZGVBdCgwKX0pKTtjLmYoZCl9YS51Yj1iO2Q9QShhKTtlJiZlLnNldEVycm9yKGEpLmxvZygpO3RoaXMuZGlzcGF0Y2hFdmVudChkKX0pKX0KZnVuY3Rpb24gWGUoYSxiKXt2YXIgYz17dXJsOmEuaSxib2R5OmIuc2xpY2UoMCksbWV0aG9kOiJQT1NUIixoZWFkZXJzOnt9LGtleV9zeXN0ZW06YS5hfTtpZigiY29tLm1pY3Jvc29mdC5wbGF5cmVhZHkiPT09YS5hKXtmb3IodmFyIGQ9U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLG5ldyBVaW50MTZBcnJheShjLmJvZHkpKSxkPShuZXcgRE9NUGFyc2VyKS5wYXJzZUZyb21TdHJpbmcoZCwiYXBwbGljYXRpb24veG1sIiksZT1kLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJuYW1lIiksZj1kLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJ2YWx1ZSIpLGc9MDtnPGUubGVuZ3RoO2crKyljLmhlYWRlcnNbZVtnXS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZV09ZltnXS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZTtjLmJvZHk9d2luZG93LmF0b2IoZC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiQ2hhbGxlbmdlIilbMF0uY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUpfWlmKCFhLm8pcmV0dXJuIGM7CmEubyhjKTtjLnVybD1ZYShjLCJ1cmwiKTtpZihudWxsPT1jLnVybCl0aHJvdyBFcnJvcigiJ3VybCcgY2Fubm90IGJlIG51bGwuIik7aWYoIShjLmJvZHkgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcnx8InN0cmluZyI9PT10eXBlb2YgYy5ib2R5fHxudWxsPT1jLmJvZHkpKXRocm93IG5ldyBUeXBlRXJyb3IoIidib2R5JyBtdXN0IGJlIGFuIEFycmF5QnVmZmVyLCBhIHN0cmluZywgb3IgbnVsbC4iKTtjLm1ldGhvZD1ZYShjLCJtZXRob2QiKTtpZigiR0VUIiE9Yy5tZXRob2QmJiJQT1NUIiE9Yy5tZXRob2QpdGhyb3cgRXJyb3IoIidtZXRob2QnIG11c3QgYmUgZWl0aGVyICdHRVQnIG9yICdQT1NUJy4iKTtjLmhlYWRlcnM9WmEoYywiaGVhZGVycyIsT2JqZWN0KTtpZihudWxsPT1jLmhlYWRlcnMpdGhyb3cgRXJyb3IoIidoZWFkZXJzJyBjYW5ub3QgYmUgbnVsbC4iKTtyZXR1cm4gY307ZnVuY3Rpb24gVyhhLGIsYyxkLGUsZixnKXtGLmNhbGwodGhpcyxudWxsKTt0aGlzLmI9YTt0aGlzLmY9Yjt0aGlzLmE9bnVsbDt0aGlzLmc9bmV3IGJiO3RoaXMubT10aGlzLmk9bnVsbDt0aGlzLkY9MDt0aGlzLlM9dGhpcy5aPXRoaXMuJD1udWxsO3RoaXMuYmE9Zzt0aGlzLko9bnVsbDt0aGlzLk89dGhpcy5oPSExO3RoaXMuVj10aGlzLlk9ITA7dGhpcy5LPSExO3RoaXMuYz17ZW5hYmxlQWRhcHRhdGlvbjohMCxzdHJlYW1CdWZmZXJTaXplOjE1LGxpdmVTdHJlYW1FbmRUaW1lb3V0OjE1LGxpY2Vuc2VSZXF1ZXN0VGltZW91dDpoYSxtcGRSZXF1ZXN0VGltZW91dDppYSxzZWdtZW50UmVxdWVzdFRpbWVvdXQ6amEscHJlZmVycmVkTGFuZ3VhZ2U6ImVuIixyZXN0cmljdGlvbnM6bmV3IGthfTt0aGlzLmw9Yzt0aGlzLkc9ZDt0aGlzLmNhPWU7dGhpcy5nYT1mO3RoaXMubz1udWxsO3RoaXMuaj0xO3RoaXMuVD1udWxsO3RoaXMudT10aGlzLkE9dGhpcy53PSExO3RoaXMuUj10aGlzLkI9Cm51bGx9cihXLEYpO3EoInNoYWthLnBsYXllci5QbGF5ZXIiLFcpO1cudmVyc2lvbj0idjEuNi40LWZiIjtXLmlzQnJvd3NlclN1cHBvcnRlZD1mdW5jdGlvbigpe3JldHVybiEhd2luZG93Lk1lZGlhU291cmNlJiYhIXdpbmRvdy5VaW50OEFycmF5fTsKVy5wcm90b3R5cGUuQmE9ZnVuY3Rpb24oKXt2YXIgYT17fSxiPXRoaXMuYTtpZihiKXt2YXIgYz1iLlhiKCk7YS5CYW5kd2lkdGhFc3RpbWF0b3I9Yy5CYW5kd2lkdGhFc3RpbWF0b3I7dmFyIGQ9Yy5WaWRlb1NvdXJjZVN0cmVhbTtkJiYoYS5WaWRlb1NvdXJjZVN0cmVhbT1kLChkPWEuVmlkZW9CdWZmZXJNYW5hZ2VyPWQuQmEoKS5Tb3VyY2VCdWZmZXJNYW5hZ2VyKSYmKGEuVmlkZW9Tb3VyY2VCdWZmZXI9ZC5CYSgpLlNvdXJjZUJ1ZmZlcikpOyhkPWEuQXVkaW9Tb3VyY2VTdHJlYW09Yy5BdWRpb1NvdXJjZVN0cmVhbSkmJihkPWEuQXVkaW9CdWZmZXJNYW5hZ2VyPWQuQmEoKS5Tb3VyY2VCdWZmZXJNYW5hZ2VyKSYmKGEuQXVkaW9Tb3VyY2VCdWZmZXI9ZC5CYSgpLlNvdXJjZUJ1ZmZlcik7YS5UZXh0U291cmNlU3RyZWFtPWMuVGV4dFNvdXJjZVN0cmVhbTthLmdldE1hbmlmZXN0PWIuVGIuYmluZChiKX1lbHNlIGEuZ2V0TWFuaWZlc3Q9ZnVuY3Rpb24oKXt9O2EuTmQ9ITA7cmV0dXJuIGF9OwpXLnByb3RvdHlwZS5nZXREZWJ1Zz1XLnByb3RvdHlwZS5CYTtXLnByb3RvdHlwZS5zYT1mdW5jdGlvbihhKXt0aGlzLlk9YX07Vy5wcm90b3R5cGUuc2V0UmVzdW1lQWZ0ZXJCdWZmZXJpbmc9Vy5wcm90b3R5cGUuc2E7ZnVuY3Rpb24gT2UoYSl7cmV0dXJuInRleHQvdnR0Ij09YT8hIXdpbmRvdy5WVFRDdWU6TWVkaWFTb3VyY2UuaXNUeXBlU3VwcG9ydGVkKGEpfVcuaXNUeXBlU3VwcG9ydGVkPU9lO1cuc2V0VGV4dFN0eWxlPWZ1bmN0aW9uKGEpe3ZhciBiPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJTaGFrYVBsYXllclRleHRTdHlsZSIpO2J8fChiPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInN0eWxlIiksYi5pZD0iU2hha2FQbGF5ZXJUZXh0U3R5bGUiLGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoYikpO2ZvcihiPWIuc2hlZXQ7Yi5jc3NSdWxlcy5sZW5ndGg7KWIuZGVsZXRlUnVsZSgwKTtiLmluc2VydFJ1bGUoIjo6Y3VlIHsgIityYShhKSsiIH0iLDApfTsKVy5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3JldHVybiB0aGlzLlUoKS50aGVuKEoodGhpcyxmdW5jdGlvbigpe3RoaXMuZy5kZXN0cm95KCk7dGhpcy5iPXRoaXMuZz1udWxsO3RoaXMuUiYmdGhpcy5SLnJlbW92ZSgpfSkpLmNhdGNoKGZ1bmN0aW9uKCl7fSl9O1cucHJvdG90eXBlLmRlc3Ryb3k9Vy5wcm90b3R5cGUuZGVzdHJveTtXLnByb3RvdHlwZS5VPWZ1bmN0aW9uKCl7dGhpcy5LPSEwO3JldHVybiBaZSh0aGlzKX07Vy5wcm90b3R5cGUudW5sb2FkPVcucHJvdG90eXBlLlU7CmZ1bmN0aW9uIFplKGEpe3ZhciBiO2EubCYmKGI9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigidW5sb2FkIikuc3RhcnQoKSk7aWYoIWEuYSlyZXR1cm4gYiYmYi5sb2coKSxQcm9taXNlLnJlc29sdmUoKTthLmgmJiRlKGEsInVubG9hZGluZyIpO2EuYi5wYXVzZSgpO2RiKGEuZyk7YWYoYSk7YmYoYSk7YS5pJiYoYS5pLmRlc3Ryb3koKSxhLmk9bnVsbCk7YS5hJiYoYS5hLmRlc3Ryb3koKSxhLmE9bnVsbCk7YS5mLmdldEJvb2woInd3d192aWRlb3NfcGxheWJhY2tfcmVtb3ZlX3NyY19hdHRyX29uX3VubG9hZCIsITEpP2EuYi5yZW1vdmVBdHRyaWJ1dGUoInNyYyIpOmEuYi5zcmM9IiI7dmFyIGM9YS5mLmdldEJvb2woInd3d19zaGFrYV9jbGVhcl9tZWRpYV9rZXlzX29uX3VubG9hZCIsITEpJiZhLmIuc2V0TWVkaWFLZXlzJiYiZnVuY3Rpb24iPT09dHlwZW9mIGEuYi5zZXRNZWRpYUtleXM/YS5iLnNldE1lZGlhS2V5cyhudWxsKTpQcm9taXNlLnJlc29sdmUoKSxjPWMudGhlbihmdW5jdGlvbigpe2ImJgpiLmxvZygpO2lmKGEuZi5nZXRCb29sKCJlbmFibGVfcDJwX3N1cHBvcnQiLCExKSl7dmFyIGM9eSh7dHlwZToidW5sb2FkIn0pO2EuZGlzcGF0Y2hFdmVudChjKX19KTthLmg9ITE7YS5PPSExO2EuQT0hMTthLnU9ITE7cmV0dXJuIGN9ZnVuY3Rpb24gY2YoYSxiKXtmb3IodmFyIGM9MDtjPGEubGVuZ3RoO2MrKyliLnB1c2goYVtjXS5jb250ZW50VHlwZSxhW2NdKX1XLnByb3RvdHlwZS5GYT1mdW5jdGlvbihhKXtyZXR1cm4gZGYodGhpcyxhKX07Vy5wcm90b3R5cGUubG9hZD1XLnByb3RvdHlwZS5GYTsKZnVuY3Rpb24gZGYoYSxiKXt2YXIgYzthLmwmJihjPWEubC5nZXRPcGVyYXRpb25Mb2dnZXIoImxvYWQiKS5zZXRTdGF0ZSgibG9hZGluZyIpLnN0YXJ0KCksYi5sPWIuZy5wZXJmb3JtYW5jZUxvZ2dlcj1hLmwpO2EuRyYmKGIuQWI9Yi5nLmFickxvZ2dlcj1hLkcpO2EuYmEmJihiLmlhPWEuYmEpO2EuY2EmJihiLkk9YS5jYSk7YS5nYSYmYi5VLnB1c2goYS5nYSk7ZWYoYixhLmIpO3ZhciBkPW51bGw7YS5LPSExO0UoYS5nLGIsInJlcGxpY2Fzd2l0Y2giLGEubmEuYmluZChhKSk7YS5hJiYoZD1aZShhKS50aGVuKEooYSxmdW5jdGlvbigpe3JldHVybiBiLndiKCl9KSkpO2EuYi5hdXRvcGxheSYmKHUucWEoImxvYWQiKSxFKGEuZyxhLmIsInRpbWV1cGRhdGUiLGEuZWQuYmluZChhKSkpO2IubGMoYS5jKTtiLmxhPWEuVDthLlQ9bnVsbDtkfHwoZD1iLndiKCkpO2EuZi5nZXRCb29sKCJmaXhfc2hha2FfcGxheWVyX2xvYWRfcmFjZV9jb25kaXRpb24iLCExKSYmKGEuYT1iKTtkLmNhdGNoKEooYSwKZnVuY3Rpb24oYSl7Yi5kZXN0cm95KCk7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfSkpO3JldHVybiBkLnRoZW4oSihhLGZ1bmN0aW9uKCl7aWYoZmYodGhpcyxiKSlyZXR1cm4gZ2YoKTt0aGlzLmE9Yjt0aGlzLmcuYWIodGhpcy5hLCJyZXBsaWNhc3dpdGNoIik7RSh0aGlzLmcsdGhpcy5hLCJzZWVrcmFuZ2VjaGFuZ2VkIix0aGlzLnBhLmJpbmQodGhpcykpO0UodGhpcy5nLHRoaXMuYSwiYWxsU3RyZWFtc1N0YXJ0ZWQiLHRoaXMuRmQuYmluZCh0aGlzKSk7dmFyIGE9bmV3IEQ7Y2YoTmUodGhpcy5hKSxhKTtQZSh0aGlzLmEsYSk7YT10aGlzLmVhKCk7YyYmMDxhLmxlbmd0aCYmKGE9YS5yZWR1Y2UoZnVuY3Rpb24oYSxiKXtpZihudWxsPT09YXx8Yi5iYW5kd2lkdGg8YS5iYW5kd2lkdGgpYT1iO3JldHVybiBhfSxudWxsKSxjLnNldExvd2VzdFF1YWxpdHlSZXByZXNlbnRhdGlvbklEKGEuc3RyZWFtSW5mb0lEKSk7aWYoIXRoaXMuYy5lbmFibGVDb250ZW50UHJvdGVjdGlvbilyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7CnRoaXMuaT1uZXcgTWUodGhpcyx0aGlzLmIsdGhpcy5hLHRoaXMubCk7cmV0dXJuIHRoaXMuaS5pbml0aWFsaXplKCl9KSkudGhlbihKKGEsZnVuY3Rpb24oKXtpZihmZih0aGlzLGIpKXJldHVybiBnZigpO2hmKHRoaXMpO0UodGhpcy5nLHRoaXMuYiwicGxheWluZyIsdGhpcy5rZC5iaW5kKHRoaXMpKTtFKHRoaXMuZyx0aGlzLmIsInBhdXNlIix0aGlzLm1hLmJpbmQodGhpcykpO0UodGhpcy5nLHRoaXMuYiwid2FpdGluZyIsdGhpcy5zZC5iaW5kKHRoaXMpKTtFKHRoaXMuZyx0aGlzLmIsInBsYXkiLHRoaXMuaWEuYmluZCh0aGlzKSk7cmV0dXJuIGpmKHRoaXMuYSx0aGlzLHRoaXMuYil9KSkudGhlbihKKGEsZnVuY3Rpb24oKXtpZihmZih0aGlzLGIpKXJldHVybiBnZigpO2lmKHRoaXMuYy5lbmFibGVDb250ZW50UHJvdGVjdGlvbil7dmFyIGE7dGhpcy5sJiYoYT10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJlbWVfYXR0YWNoIikpO3JldHVybiBTZSh0aGlzLmkpLnRoZW4oZnVuY3Rpb24oKXthJiYKYS5sb2coKX0pfXJldHVybiBQcm9taXNlLnJlc29sdmUoKX0pKS50aGVuKEooYSxmdW5jdGlvbigpe2lmKGZmKHRoaXMsYikpcmV0dXJuIGdmKCk7a2YodGhpcyk7YyYmYy51cGRhdGVTdGF0ZSgicmVhZHkiKS5sb2coKX0pKS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7YyYmYy5zZXRFcnJvcihKU09OLnN0cmluZ2lmeShhKSkubG9nKCk7aWYoZmYodGhpcyxiKSlyZXR1cm4gZ2YoKTtpZigiZGVzdHJveSIhPWEudHlwZSl7dmFyIGQ9QShhKTt0aGlzLmRpc3BhdGNoRXZlbnQoZCl9cmV0dXJuIHRoaXMuVSgpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYSl9KX0pKX1mdW5jdGlvbiBmZihhLGIpe3JldHVybiFhLmJ8fGEuS3x8YS5mLmdldEJvb2woImZpeF9zaGFrYV9wbGF5ZXJfbG9hZF9yYWNlX2NvbmRpdGlvbiIsITEpJiZiIT09YS5hfW49Vy5wcm90b3R5cGU7Cm4uRmQ9ZnVuY3Rpb24oKXt2YXIgYSxiO3RoaXMuZi5nZXRCb29sKCJ3d3dfdmlkZW9zX2V4dGVuZGVkX3NwbF9sb2dnaW5nX2Zvcl9jb25uZWN0ZWRfdHYiLCExKSYmdGhpcy5sJiYoYT10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJvbl9hbGxfc3RyZWFtc19zdGFydGVkIiksYj10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJyZXN0b3JlX3ZpZGVvX3BsYXliYWNrX3JhdGUiKSk7dGhpcy5PPSEwO3RoaXMuaD90aGlzLkQoKToodGhpcy5iLnBsYXliYWNrUmF0ZT10aGlzLmosYiYmYi5sb2coKSk7YSYmYS5sb2coKX07ZnVuY3Rpb24gZ2YoKXt2YXIgYT1FcnJvcigiUGxheWVyIGRlc3Ryb3llZCIpO2EudHlwZT0iZGVzdHJveSI7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfQpmdW5jdGlvbiBoZihhKXt2YXIgYj1hLmIucGFyZW50Tm9kZTtiJiZhLmYuZ2V0Qm9vbCgicHJldmVudF9wbGF5aW5nX29uX2luc3VmZmljaWVudF9idWZmZXIiLCExKSYmKGEuUj1ldmVudExpc3RlbmVyQ2FwdHVyZShiLCJwbGF5aW5nIixmdW5jdGlvbihhKXthLnRhcmdldD09PXRoaXMuYiYmdGhpcy5EKGEpfS5iaW5kKGEpKSl9bi5lZD1mdW5jdGlvbigpe3UuZW5kKCJsb2FkIik7dGhpcy5nLmFiKHRoaXMuYiwidGltZXVwZGF0ZSIpfTtuLnNkPWZ1bmN0aW9uKGEpe2xmKHRoaXMpO3RoaXMuZi5nZXRCb29sKCJ1bmlmeV9zdHJlYW1fc3RhcnRfd2l0aF9idWZmZXJfZGV0ZWN0b3IiLCExKSYmIXRoaXMuaCYmdGhpcy5EKGEpfTsKbi5rZD1mdW5jdGlvbigpe3UucWEoInBsYXlpbmciKTt0aGlzLmwmJnRoaXMubC5nZXRFdmVudExvZ2dlcigicGxheWluZyIpLnNldFN0YXRlKCJwbGF5aW5nIikubG9nKCk7IXRoaXMubSYmMD50aGlzLmomJih0aGlzLmIucGxheWJhY2tSYXRlPTAsdGhpcy5QKHRoaXMuYi5jdXJyZW50VGltZSxEYXRlLm5vdygpLHRoaXMuaikpO3RoaXMuaCYmIXRoaXMuViYmJGUodGhpcywicGxheWluZyIpfTtuLkJkPWZ1bmN0aW9uKGEpe3RoaXMudT1hfTtXLnByb3RvdHlwZS5zZXRQZW5kaW5nUGxheVJlcXVlc3Q9Vy5wcm90b3R5cGUuQmQ7Vy5wcm90b3R5cGUuaWE9ZnVuY3Rpb24oKXt0aGlzLnU9ITB9O1cucHJvdG90eXBlLm1hPWZ1bmN0aW9uKCl7dGhpcy5sJiZ0aGlzLmwuZ2V0RXZlbnRMb2dnZXIoInBhdXNlIikuc2V0U3RhdGUoInBhdXNlZCIpLmxvZygpO3UuZW5kKCJwbGF5aW5nIik7dS5nZXQoInBsYXlpbmciKTtiZih0aGlzKX07ClcucHJvdG90eXBlLnBhPWZ1bmN0aW9uKGEpe3RoaXMuRj1hLnN0YXJ0O3RoaXMuJD1hLmxhc3Q7dGhpcy5aPWEuZW5kO3RoaXMuUz1hLnNlZWtSYW5nZUdhcHM7dGhpcy5mLmdldEJvb2woIm5vX3NraXBfZ2Fwc19vbl9zZWVrX3JhbmdlX2NoYW5nZWQiLCExKXx8bGYodGhpcyl9O1cucHJvdG90eXBlLmVhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYT90aGlzLmEuWigpOltdfTtXLnByb3RvdHlwZS5nZXRWaWRlb1RyYWNrcz1XLnByb3RvdHlwZS5lYTtXLnByb3RvdHlwZS54YT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmE/dGhpcy5hLnZhKCk6W119O1cucHJvdG90eXBlLmdldEF1ZGlvVHJhY2tzPVcucHJvdG90eXBlLnhhO1cucHJvdG90eXBlLkRhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYT90aGlzLmEubWMoKTpbXX07Vy5wcm90b3R5cGUuZ2V0VGV4dFRyYWNrcz1XLnByb3RvdHlwZS5EYTsKVy5wcm90b3R5cGUuc2VsZWN0VmlkZW9UcmFjaz1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmE/dGhpcy5hLnNlbGVjdFZpZGVvVHJhY2soYSx2b2lkIDA9PWI/ITA6Yik6ITF9O1cucHJvdG90eXBlLnNlbGVjdFZpZGVvVHJhY2s9Vy5wcm90b3R5cGUuc2VsZWN0VmlkZW9UcmFjaztXLnByb3RvdHlwZS5HYT1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIHRoaXMuYT9tZih0aGlzLmEsImF1ZGlvIixhLHZvaWQgMD09Yj8hMDpiLGMpOiExfTtXLnByb3RvdHlwZS5zZWxlY3RBdWRpb1RyYWNrPVcucHJvdG90eXBlLkdhO1cucHJvdG90eXBlLkhhPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmE/bWYodGhpcy5hLCJ0ZXh0IixhLCExKTohMX07Vy5wcm90b3R5cGUuc2VsZWN0VGV4dFRyYWNrPVcucHJvdG90eXBlLkhhO1cucHJvdG90eXBlLndhPWZ1bmN0aW9uKGEpe3RoaXMuYSYmbmYodGhpcy5hLGEpfTtXLnByb3RvdHlwZS5lbmFibGVUZXh0VHJhY2s9Vy5wcm90b3R5cGUud2E7ClcucHJvdG90eXBlLnJhPWZ1bmN0aW9uKGEpe2JmKHRoaXMpO3RoaXMudyYmdGhpcy5ofHwhKDA8PWEpP3RoaXMuYi5wYXVzZWR8fCh0aGlzLmIucGxheWJhY2tSYXRlPTAsdGhpcy5QKHRoaXMuYi5jdXJyZW50VGltZSxEYXRlLm5vdygpLGEpKTp0aGlzLmIucGxheWJhY2tSYXRlPWE7dGhpcy5qPWF9O1cucHJvdG90eXBlLnNldFBsYXliYWNrUmF0ZT1XLnByb3RvdHlwZS5yYTtXLnByb3RvdHlwZS5rYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmp9O1cucHJvdG90eXBlLmdldFBsYXliYWNrUmF0ZT1XLnByb3RvdHlwZS5rYTtXLnByb3RvdHlwZS5DYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmE/dGhpcy5hLk9iKCk6bnVsbH07Vy5wcm90b3R5cGUuZ2V0TWFuaWZlc3Q9Vy5wcm90b3R5cGUuQ2E7Vy5wcm90b3R5cGUuUGE9ZnVuY3Rpb24oYSl7dGhpcy5UPWF9O1cucHJvdG90eXBlLnNldFBsYXliYWNrU3RhcnRUaW1lPVcucHJvdG90eXBlLlBhOwpXLnByb3RvdHlwZS5JPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYT8hIXRoaXMuYS5QKCk6ITF9O1cucHJvdG90eXBlLmlzTGl2ZT1XLnByb3RvdHlwZS5JOwpXLnByb3RvdHlwZS52YT1mdW5jdGlvbihhKXtpZihhKXt2YXIgYj1CKGEsImVuYWJsZUFkYXB0YXRpb24iKTtudWxsIT1iJiYodGhpcy5jLmVuYWJsZUFkYXB0YXRpb249Yik7Yj1CKGEsImVuZEJ1ZmZlcmluZ09uUGxheWluZyIpO251bGwhPWImJih0aGlzLlY9Yik7Yj1CKGEsInVzZVBsYXliYWNrUmF0ZUZvckJ1ZmZlcmluZyIpO251bGwhPWImJih0aGlzLnc9Yik7Yj1DKGEsInN0cmVhbUJ1ZmZlclNpemUiLDApO251bGwhPWImJih0aGlzLmMuc3RyZWFtQnVmZmVyU2l6ZT1iKTtiPUMoYSwiZHluYW1pY1N0cmVhbUJ1ZmZlclNpemUiLDApO251bGwhPWImJih0aGlzLmMuZHluYW1pY1N0cmVhbUJ1ZmZlclNpemU9Yik7bnVsbCE9YS5zbWFydEJ1ZmZlckFkanVzdG1lbnRQYXJhbXMmJih0aGlzLmMuc21hcnRCdWZmZXJBZGp1c3RtZW50UGFyYW1zPWEuc21hcnRCdWZmZXJBZGp1c3RtZW50UGFyYW1zKTtiPUIoYSwiYWRkQ2RuRGVidWdRdWVyeVBhcmFtZXRlcnMiKTtudWxsIT1iJiYKKHRoaXMuYy5hZGRDZG5EZWJ1Z1F1ZXJ5UGFyYW1ldGVycz1iKTtiPUMoYSwiaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemUiLDApO251bGwhPWImJih0aGlzLmMuaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemU9Yik7Yj1CKGEsImluY2x1ZGVTdHJlYW1CdWZmZXJTaXplSW5TdGFydE9mZnNldCIpO251bGwhPWImJih0aGlzLmMuaW5jbHVkZVN0cmVhbUJ1ZmZlclNpemVJblN0YXJ0T2Zmc2V0PWIpO2I9QyhhLCJqdW1wVG9MaXZlVGhyZXNob2xkIik7bnVsbCE9YiYmKHRoaXMuYy5qdW1wVG9MaXZlVGhyZXNob2xkPWIpO2I9QyhhLCJsaXZlU3RyZWFtRW5kVGltZW91dCIsMCk7bnVsbCE9YiYmKHRoaXMuYy5saXZlU3RyZWFtRW5kVGltZW91dD1iKTtiPUMoYSwibGljZW5zZVJlcXVlc3RUaW1lb3V0IiwwKTtudWxsIT1iJiYodGhpcy5jLmxpY2Vuc2VSZXF1ZXN0VGltZW91dD1iKTtiPUMoYSwibXBkUmVxdWVzdFRpbWVvdXQiLDApO251bGwhPWImJih0aGlzLmMubXBkUmVxdWVzdFRpbWVvdXQ9CmIpO2I9QyhhLCJtaW5NcGRSZWZyZXNoSW50ZXJ2YWwiLDApO251bGwhPWImJih0aGlzLmMubWluTXBkUmVmcmVzaEludGVydmFsPWIpO2I9QihhLCJlbmFibGVMaXZlSW50ZXJydXB0aW9uRGV0ZWN0aW9uIik7bnVsbCE9YiYmKHRoaXMuYy5lbmFibGVMaXZlSW50ZXJydXB0aW9uRGV0ZWN0aW9uPWIpO2I9QihhLCJlbmFibGVNYW5pZmVzdERlYnVnIik7bnVsbCE9YiYmKHRoaXMuYy5lbmFibGVNYW5pZmVzdERlYnVnPWIsRi5wcm90b3R5cGUub2M9YixifHwoRi5wcm90b3R5cGUuTGE9ZnVuY3Rpb24oKXt9KSk7Yj1CKGEsInJlc29sdmVWaWRlb1RpbWVVcGRhdGVPbkZyYWdtZW50ZWRUaW1lUmFuZ2VzIik7bnVsbCE9YiYmKHRoaXMuYy5yZXNvbHZlVmlkZW9UaW1lVXBkYXRlT25GcmFnbWVudGVkVGltZVJhbmdlcz1iKTtiPUMoYSwibGl2ZUludGVycnVwdGlvbkNvbnNlY3V0aXZlVXBkYXRlc1dpdGhvdXRDaGFuZ2UiKTtudWxsIT1iJiYodGhpcy5jLmxpdmVJbnRlcnJ1cHRpb25Db25zZWN1dGl2ZVVwZGF0ZXNXaXRob3V0Q2hhbmdlPQpiKTtiPUMoYSwibGl2ZUludGVycnVwdGlvbkNvbnNlY3V0aXZlVXBkYXRlc1dpdGhDaGFuZ2UiKTtudWxsIT1iJiYodGhpcy5jLmxpdmVJbnRlcnJ1cHRpb25Db25zZWN1dGl2ZVVwZGF0ZXNXaXRoQ2hhbmdlPWIpO2I9QihhLCJyZWFwcGVuZEluaXRTZWdtZW50QWZ0ZXJBYm9ydCIpO251bGwhPWImJih0aGlzLmMucmVhcHBlbmRJbml0U2VnbWVudEFmdGVyQWJvcnQ9Yik7Yj1CKGEsImxpdmVTZW5kUHVzaEhlYWRlcnMiKTtudWxsIT1iJiYodGhpcy5jLmxpdmVTZW5kUHVzaEhlYWRlcnM9Yik7Yj1DKGEsImxpdmVNYXhNYW5pZmVzdEZldGNoZXNXaXRoUHVzaCIpO251bGwhPWImJih0aGlzLmMubGl2ZU1heE1hbmlmZXN0RmV0Y2hlc1dpdGhQdXNoPWIpO2I9QyhhLCJsaXZlTWF4U2VnbWVudHNUb1B1c2giKTtudWxsIT1iJiYodGhpcy5jLmxpdmVNYXhTZWdtZW50c1RvUHVzaD1iKTtiPUMoYSwic2VnbWVudFJlcXVlc3RUaW1lb3V0IiwwKTtudWxsIT1iJiYodGhpcy5jLnNlZ21lbnRSZXF1ZXN0VGltZW91dD0KYik7Yj1ZYShhLCJwcmVmZXJyZWRMYW5ndWFnZSIpO251bGwhPWImJih0aGlzLmMucHJlZmVycmVkTGFuZ3VhZ2U9Yik7Yj1aYShhLCJyZXN0cmljdGlvbnMiLGthKTtudWxsIT1iJiYodGhpcy5jLnJlc3RyaWN0aW9ucz1iLmNsb25lKCkpO2I9YS5saXZlSW5pdGlhbFB1c2hSZXByZXNlbnRhdGlvbjtudWxsIT1iJiYodGhpcy5jLmxpdmVJbml0aWFsUHVzaFJlcHJlc2VudGF0aW9uPWIpO2I9YS5saXZlQXVkaW9QdXNoUmVwcmVzZW50YXRpb247bnVsbCE9YiYmKHRoaXMuYy5saXZlQXVkaW9QdXNoUmVwcmVzZW50YXRpb249Yik7Yj1hLnVzZUlubGluZUluaXRTZWdtZW50O251bGwhPWImJih0aGlzLmMudXNlSW5saW5lSW5pdFNlZ21lbnQ9Yik7Yj1CKGEsImRpc2FibGVDYWNoZUJ1c3RpbmdFdmVuVGhvdWdoSXRNYXlBZmZlY3RCYW5kd2lkdGhFc3RpbWF0aW9uIik7bnVsbCE9YiYmKFRjPSFiKTtiPUIoYSwiY3VycmVudFRpbWVEdXJpbmdSZWFkeVN0YXRlWmVyb1Rocm93cyIpO251bGwhPQpiJiYodGhpcy5jLmN1cnJlbnRUaW1lRHVyaW5nUmVhZHlTdGF0ZVplcm9UaHJvd3M9Yik7Yj1DKGEsImxpdmVEYXRhRmV0Y2hNYXhSZXRyaWVzIik7bnVsbCE9YiYmKHRoaXMuYy5saXZlRGF0YUZldGNoTWF4UmV0cmllcz1iKTtiPUMoYSwibGl2ZVNvdXJjZUJ1ZmZlckNsZWFyTWF4UmV0cmllcyIpO251bGwhPWImJih0aGlzLmMubGl2ZVNvdXJjZUJ1ZmZlckNsZWFyTWF4UmV0cmllcz1iKTtiPUIoYSwidXNlTG9uZ0NhY2hlRm9yTWFuaWZlc3QiKTtudWxsIT1iJiYodGhpcy5jLnVzZUxvbmdDYWNoZUZvck1hbmlmZXN0PWIpO2I9QihhLCJqdW1wVG9FYXJsaWVzdFBvc2l0aW9uSW5DdXJyZW50QmxvY2siKTtudWxsIT1iJiYodGhpcy5jLmp1bXBUb0VhcmxpZXN0UG9zaXRpb25JbkN1cnJlbnRCbG9jaz1iKTtiPUIoYSwiaWdub3JlTWluQnVmZmVyVGltZSIpO251bGwhPWImJih0aGlzLmMuaWdub3JlTWluQnVmZmVyVGltZT1iKTtiPUMoYSwicGxheWhlYWRGcmFnbWVudGVkR2FwRGlmZkFsbG93YW5jZSIpOwpudWxsIT1iJiYodGhpcy5jLnBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2U9Yik7Yj1CKGEsImZpeEJ1ZmZlcmluZ0dvYWxEZXRlcm1pbmF0aW9uIik7bnVsbCE9YiYmKHRoaXMuYy5maXhCdWZmZXJpbmdHb2FsRGV0ZXJtaW5hdGlvbj1iKTtiPUIoYSwic2tpcEVtcHR5U2VnbWVudHMiKTtudWxsIT1iJiYodGhpcy5jLnNraXBFbXB0eVNlZ21lbnRzPWIpOyhiPUIoYSwidXNlTWljcm9UYXNrVGltZW91dHMiKSkmJih0aGlzLmMudXNlTWljcm9UYXNrVGltZW91dHM9Yik7KGI9QihhLCJlbmFibGVSZXF1ZXN0UGlwZWxpbmluZyIpKSYmKHRoaXMuYy5lbmFibGVSZXF1ZXN0UGlwZWxpbmluZz1iKTsoYj1CKGEsImVuYWJsZVN0cmVhbWluZyIpKSYmKHRoaXMuYy5lbmFibGVTdHJlYW1pbmc9Yik7KGE9QihhLCJlbmFibGVDb250ZW50UHJvdGVjdGlvbiIpKSYmKHRoaXMuYy5lbmFibGVDb250ZW50UHJvdGVjdGlvbj1hKTt0aGlzLmEmJnRoaXMuYS5sYyh0aGlzLmMpfX07ClcucHJvdG90eXBlLmNvbmZpZ3VyZT1XLnByb3RvdHlwZS52YTtXLnByb3RvdHlwZS5PYT1mdW5jdGlvbihhKXt0aGlzLmEmJnRoaXMuYS5xYyhhKX07Vy5wcm90b3R5cGUuc2V0RW5hYmxlTGl2ZWhlYWRDYXRjaHVwPVcucHJvdG90eXBlLk9hO1cucHJvdG90eXBlLkVhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYT90aGlzLmEubmE6ITF9O1cucHJvdG90eXBlLmlzTGl2ZWhlYWRDYXRjaHVwRW5hYmxlZD1XLnByb3RvdHlwZS5FYTsKZnVuY3Rpb24gbGYoYSl7aWYoYS5mLmdldEJvb2woInNraXBfbWFuaWZlc3RfZ2FwX2Jhc2VkX29uX3N0cmVhbV9saW1pdHMiLCExKSYmKCFhLkkoKXx8IWEuZi5nZXRCb29sKCJub19za2lwX21hbmlmZXN0X2dhcHNfaWZfbGl2ZSIsITEpKSl7dmFyIGI7YS5mLmdldEJvb2woInNraXBfbWFuaWZlc3RfZ2Fwc191c2VfY2FjaGVkX3N0cmVhbV9saW1pdHMiLCExKT9hLmEmJm51bGwhPT1hLlM/Yj17c3RhcnQ6YS5GLGVuZDphLlosbGFzdDphLiQsWmE6YS5TfTpiPWEuYT9hLmEubmIoKTpudWxsOmI9YS5hP2EuYS5uYigpOm51bGw7aWYoYilmb3IodmFyIGM9YS5mLmdldE51bWJlcigic2tpcF9tYW5pZmVzdF9nYXBfYm91bmRhcnlfcHJlY2lzaW9uX21zIiwxRTMpLzFFMyxkPWIuWmEsZT1hLmIucGxheWJhY2tSYXRlLGY9YS5iLmN1cnJlbnRUaW1lLGc9MDtnPGQubGVuZ3RoOysrZyl7dmFyIGg9ZFtnXS5zdGFydFRpbWUtYyxrPWRbZ10uZW5kVGltZStjO2Y8PWsmJmY+PWgmJihhLmYuZ2V0Qm9vbCgiZml4X3NlZWtfcmFuZ2VfZ2FwX2JvdW5kYXJ5IiwKITEpfHwoaD1kW2ddLnN0YXJ0VGltZSxrPWRbZ10uZW5kVGltZSksMDw9ZT9iLmVuZD5rJiYoYS5iLmN1cnJlbnRUaW1lPWspOmIuc3RhcnQ8aCYmKGEuYi5jdXJyZW50VGltZT1oKSl9fX1XLnByb3RvdHlwZS5sYT1mdW5jdGlvbigpe3ZhciBhPXRoaXMuYSYmdGhpcy5hLm5iKCk7cmV0dXJuKGE9YSYme3N0YXJ0OmEuc3RhcnQsZW5kOmEuZW5kLGxhc3Q6YS5sYXN0LHNlZWtSYW5nZUdhcHM6YS5aYX0pfHxudWxsfTtXLnByb3RvdHlwZS5nZXRWaWRlb1NvdXJjZVN0cmVhbUxpbWl0cz1XLnByb3RvdHlwZS5sYTtXLnByb3RvdHlwZS55YT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmN9O1cucHJvdG90eXBlLmdldENvbmZpZ3VyYXRpb249Vy5wcm90b3R5cGUueWE7ZnVuY3Rpb24gYmYoYSl7YS5tJiYoY2xlYXJUaW1lb3V0KGEubSksYS5tPW51bGwpfQpmdW5jdGlvbiBrZihhKXt2YXIgYjthLmYuZ2V0Qm9vbCgid3d3X3ZpZGVvc19leHRlbmRlZF9zcGxfbG9nZ2luZ19mb3JfY29ubmVjdGVkX3R2IiwhMSkmJmEubCYmKGI9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigic3RhcnRfd2F0Y2hkb2ciKSk7YWYoYSk7YS5KPXNldFRpbWVvdXQoYS5ELmJpbmQoYSksMTAwKTtiJiZiLmxvZygpfWZ1bmN0aW9uIGFmKGEpe3ZhciBiO2EuZi5nZXRCb29sKCJ3d3dfdmlkZW9zX2V4dGVuZGVkX3NwbF9sb2dnaW5nX2Zvcl9jb25uZWN0ZWRfdHYiLCExKSYmYS5sJiYoYj1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJjYW5jZWxfd2F0Y2hkb2ciKSk7YS5KJiYoY2xlYXJUaW1lb3V0KGEuSiksYS5KPW51bGwpO2ImJmIubG9nKCl9ClcucHJvdG90eXBlLlA9ZnVuY3Rpb24oYSxiLGMpe3RoaXMubT1udWxsO3ZhciBkPShEYXRlLm5vdygpLWIpLzFFMypjO3RoaXMuYi5jdXJyZW50VGltZTx0aGlzLkYrKHRoaXMuSSgpPzE6LjA1KT90aGlzLmIucGF1c2UoKTooZD1NYXRoLm1heCh0aGlzLkYsYStkKSx0aGlzLmIuY3VycmVudFRpbWU9ZCx0aGlzLm09c2V0VGltZW91dCh0aGlzLlAuYmluZCh0aGlzLGEsYixjKSwyNTApKX07ZnVuY3Rpb24gb2YoYSl7cmV0dXJuIGEuZi5nZXRCb29sKCJ1bmlmeV9zdHJlYW1fc3RhcnRfd2l0aF9idWZmZXJfZGV0ZWN0b3IiLCExKSYmIWEuT30KZnVuY3Rpb24gJGUoYSxiKXtpZighb2YoYSkpe3UuZW5kKCJidWZmZXJpbmciKTtudWxsIT09YS5CJiYoYS5CPW51bGwpO2EubyYmKGEuby5zZXRDb25jbHVkZXIoYikubG9nKCksYS5vPW51bGwpO2lmKGEuRyl7dmFyIGM9RGF0ZS5ub3coKTthLkcuc2V0RXZlbnQoImJ1ZmZlcmluZyIpLnNldENsaWVudFRpbWVCZWdpbihNYXRoLnJvdW5kKGMtdS5nZXQoImJ1ZmZlcmluZyIpKSkuc2V0Q2xpZW50VGltZUVuZChNYXRoLnJvdW5kKGMpKS5sb2coKX1hLncmJihhLmIucGxheWJhY2tSYXRlPWEuaik7YS5oPSExO2EuZGlzcGF0Y2hFdmVudCh5KHt0eXBlOiJidWZmZXJpbmdFbmQifSkpO2EuQSYmKGEuQT0hMSxkaXNwYXRjaERvbUV2ZW50KGEuYiwicGxheWluZyIpKTthLnU9ITF9fVcucHJvdG90eXBlLmphPWZ1bmN0aW9uKGEpe3RoaXMuZGlzcGF0Y2hFdmVudCh5KGEpKX07Vy5wcm90b3R5cGUuZGlzcGF0Y2hFdmVudEV4dGVybj1XLnByb3RvdHlwZS5qYTsKZnVuY3Rpb24gcGYoYSl7dmFyIGI9YS5iLmJ1ZmZlcmVkO2lmKDE9PT1iLmxlbmd0aCliPWIuZW5kKDApO2Vsc2UgaWYoMD09PWIubGVuZ3RoKWI9MDtlbHNle2Zvcih2YXIgYz0wLGQ9MDtkPGIubGVuZ3RoOysrZCliLmVuZChkKT49YS5iLmN1cnJlbnRUaW1lJiYoYz1iLnN0YXJ0KGQpPD1hLmIuY3VycmVudFRpbWU/YysoYi5lbmQoZCktYS5iLmN1cnJlbnRUaW1lKTpjKyhiLmVuZChkKS1iLnN0YXJ0KGQpKSk7cmV0dXJuIGN9cmV0dXJuIE1hdGgubWF4KGItYS5iLmN1cnJlbnRUaW1lLDApfQpXLnByb3RvdHlwZS5EPWZ1bmN0aW9uKGEpe2lmKCF0aGlzLmYuZ2V0Qm9vbCgicHJldmVudF9wbGF5aW5nX29uX2luc3VmZmljaWVudF9idWZmZXIiLCExKXx8IXRoaXMuSyl7a2YodGhpcyk7dmFyIGI9YT9hLnR5cGU6IiIsYz0id2FpdGluZyI9PT1iO2lmKCF0aGlzLmIuZW5kZWQmJiF0aGlzLmIuc2Vla2luZ3x8Yyl7dmFyIGQ7dGhpcy5mLmdldEJvb2woInd3d192aWRlb3NfZXh0ZW5kZWRfc3BsX2xvZ2dpbmdfZm9yX2Nvbm5lY3RlZF90diIsITEpJiZ0aGlzLmwmJihkPXRoaXMubC5nZXRPcGVyYXRpb25Mb2dnZXIoIndhdGNoZG9nIikpO3ZhciBlPXRoaXMuYi5idWZmZXJlZCxmPWUubGVuZ3RoP2UuZW5kKGUubGVuZ3RoLTEpOjAsZzt0aGlzLmYuZ2V0Qm9vbCgiZml4X3Vuc3RhbGxfYnVmZmVyX2NhbGN1bGF0aW9uIiwhMSk/Zz1wZih0aGlzKTpnPU1hdGgubWF4KGYtdGhpcy5iLmN1cnJlbnRUaW1lLDApO3ZhciBoPXRoaXMuYi5jdXJyZW50VGltZSxlPXRoaXMuSSgpP3RoaXMuZi5nZXROdW1iZXIoImxpdmVfYnVmZmVyaW5nX3VuZGVyZmxvd190aHJlc2hvbGQiLAouNSk6dGhpcy5mLmdldE51bWJlcigiYnVmZmVyaW5nX3VuZGVyZmxvd190aHJlc2hvbGQiLDApLGs9dGhpcy5iLmR1cmF0aW9uLGs9aXNOYU4oayk/MDpNYXRoLm1heChrLS4wNSwwKSxmPWY+PWt8fGg+PWssYj1ifHwid2F0Y2hkb2dfdGltZXIiO2lmKHRoaXMuaCl7cWYodGhpcyxhKTthPXJmKHRoaXMuYSk7dmFyIGw9MDxhP2cvYTowO2c+YXx8c2YodGhpcy5hKXx8dGhpcy5mLmdldEJvb2woImZpeF9idWZmZXJpbmdfYXRfdGhlX2VuZF9vZl9wbGF5YmFjayIsITApJiZmPygkZSh0aGlzLGIpLHRoaXMuWSYmIXRoaXMudyYmdGhpcy5iLnBsYXkoKSk6dGhpcy5CIT09bCYmKHRoaXMuQj1sLHRoaXMuZGlzcGF0Y2hFdmVudCh5KHt0eXBlOiJidWZmZXJpbmdQcm9ncmVzcyIscHJvZ3Jlc3M6bH0pKSl9ZWxzZSB0aGlzLmIucGF1c2VkJiYhY3x8ISghZiYmZzxlfHxvZih0aGlzKSl8fCh0aGlzLmg9ITAsdGhpcy53P3RoaXMuYi5wbGF5YmFja1JhdGU9MDp0aGlzLmIucGF1c2UoKSx0aGlzLmwmJgohdGhpcy5vJiYoZz10aGlzLmIuYnVmZmVyZWQsZz1nLmxlbmd0aD9nLmVuZChnLmxlbmd0aC0xKTowLHRoaXMuZi5nZXRCb29sKCJmaXhfdW5zdGFsbF9idWZmZXJfY2FsY3VsYXRpb24iLCExKT9sPXBmKHRoaXMpOmw9TWF0aC5tYXgoZy10aGlzLmIuY3VycmVudFRpbWUsMCksZz0xRTMqKHJmKHRoaXMuYSktbCksdGhpcy5vPXRoaXMubC5nZXRPcGVyYXRpb25Mb2dnZXIoImJ1ZmZlcmluZyIpLnNldExlbmd0aChNYXRoLnJvdW5kKGcpKS5zZXRUeXBlKHRoaXMudT8ic3RhcnQvdW5wYXVzZSI6ImluX3BsYXkiKS5zZXRJbml0aWF0b3IoYikuc3RhcnQoKSksdS5xYSgiYnVmZmVyaW5nIiksdGhpcy5kaXNwYXRjaEV2ZW50KHkoe3R5cGU6ImJ1ZmZlcmluZ1N0YXJ0In0pKSx0aGlzLmYuZ2V0Qm9vbCgibm9fc2tpcF9nYXBzX29uX2J1ZmZlcmluZyIsITEpfHxsZih0aGlzKSxxZih0aGlzLGEpKSxzZih0aGlzLmEpJiYkZSh0aGlzLGIpO2QmJmQubG9nKCl9ZWxzZSB0aGlzLmYuZ2V0Qm9vbCgiZml4X2ZmX2luX3BsYXlfc3RhbGxfdXBvbl9zZWVrIiwKITEpJiZxZih0aGlzLGEpfX07Vy5wcm90b3R5cGUubmE9ZnVuY3Rpb24oYSl7dGhpcy5kaXNwYXRjaEV2ZW50KGEpfTtmdW5jdGlvbiBxZihhLGIpe2ImJiJwbGF5aW5nIj09PWIudHlwZSYmKGEuQT0hMCxldmVudEtpbGwoYikpfVcucHJvdG90eXBlLnRhPWZ1bmN0aW9uKGEpe2lmKHRoaXMuYSl7dmFyIGI9dGhpcy5hO2IuYy52aWRlbyYmYi5jLnZpZGVvLkpjKGEpfX07Vy5wcm90b3R5cGUuc2V0VmlkZW9TdHJlYW1PZmZzZXQ9Vy5wcm90b3R5cGUudGE7ZnVuY3Rpb24gdGYoYSl7Zm9yKHZhciBiPTA7YjxhLmxlbmd0aDsrK2IpZm9yKHZhciBjPWFbYl0sZD0wO2Q8Yy5hLmxlbmd0aDsrK2Qpe2Zvcih2YXIgZT1jLmFbZF0sZj1lLGc9L3ZpZGVvXC93ZWJtOyBjb2RlY3M9ImF2MDEuKiIvLGg9ITEsaz0wO2s8Zi52Lmxlbmd0aDsrK2spe3ZhciBsPWYudltrXTtPZShOZChsKSk/Zy50ZXN0KE5kKGwpKSYmKGg9ITApOihmLnYuc3BsaWNlKGssMSksLS1rKX1pZihoKWZvcihrPTA7azxmLnYubGVuZ3RoOysraylsPWYudltrXSxnLnRlc3QoTmQobCkpfHwoZi52LnNwbGljZShrLDEpLC0tayk7MD09ZS52Lmxlbmd0aCYmKGMuYS5zcGxpY2UoZCwxKSwtLWQpfWZvcihiPTA7YjxhLmxlbmd0aDsrK2IpZm9yKGM9YVtiXSxkPTA7ZDxjLmEubGVuZ3RoOysrZCljLmFbZF0udi5zb3J0KHVmKX0KZnVuY3Rpb24gdWYoYSxiKXt2YXIgYz1hLmJhbmR3aWR0aHx8TnVtYmVyLk1BWF9WQUxVRSxkPWIuYmFuZHdpZHRofHxOdW1iZXIuTUFYX1ZBTFVFO3JldHVybiBjPGQ/LTE6Yz5kPzE6MH07ZnVuY3Rpb24gdmYoYSl7dGhpcy5hPWF9dmYucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmEuZGVzdHJveSgpO3RoaXMuYT1udWxsfTt2Zi5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKGEpe3ZhciBiPXdmKGEsbnVsbCksYz13Zih0aGlzLmEsYSk7cmV0dXJuIFByb21pc2UuYWxsKFtiLGNdKS50aGVuKEoodGhpcyxmdW5jdGlvbihiKXt2YXIgYz1iWzBdO2I9YlsxXTt0Zih0aGlzLmEuYSk7YS5iJiYhdGhpcy5hLmImJihhLmg9ITApO2EuYz10aGlzLmEuYzthLmk9dGhpcy5hLmk/dGhpcy5hLmkuY2xvbmUoKTpudWxsO2EuZz10aGlzLmEuZzt2YXIgZj1bXTt4ZihhLHRoaXMuYSxjLGIsZik7dGYoYS5hKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGYpfSkpfTsKZnVuY3Rpb24gd2YoYSxiKXtmdW5jdGlvbiBjKGEsYil7cmV0dXJuIGEuY29uY2F0KGIpfXZhciBkPWEuYS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuYX0pLnJlZHVjZShjLFtdKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEudn0pLnJlZHVjZShjLFtdKTtpZihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInRlbXBsYXRlZF9sYXN0X3hfdGltZWxpbmUiLCExKSYmYil2YXIgZT1iLmEubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLmF9KS5yZWR1Y2UoYyxbXSkubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLnZ9KS5yZWR1Y2UoYyxbXSkubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLk0uY3JlYXRlKCl9KSxlPVByb21pc2UuYWxsKGUpLnRoZW4oZnVuY3Rpb24oYSl7Zm9yKHZhciBiPU51bWJlci5QT1NJVElWRV9JTkZJTklUWSxjPTA7YzxhLmxlbmd0aDsrK2Mpe3ZhciBlPWFbY107ZS5sZW5ndGgoKSYmZS5sYXN0KCkudW5zY2FsZWRTdGFydFRpbWU8YiYmKGI9ZS5sYXN0KCkudW5zY2FsZWRTdGFydFRpbWUpfWI9CmEubGVuZ3RoP2I6bnVsbDthPWQubWFwKGZ1bmN0aW9uKGEpe2EuTS5FYyYmYS5NLkVjKGIpO3JldHVybiBhLk0uY3JlYXRlKCl9KTtyZXR1cm4gUHJvbWlzZS5hbGwoYSl9KTtlbHNlIGU9ZC5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuTS5jcmVhdGUoKX0pLGU9UHJvbWlzZS5hbGwoZSk7cmV0dXJuIGUudGhlbihmdW5jdGlvbihhKXtmb3IodmFyIGI9e30sYz0wO2M8ZC5sZW5ndGg7KytjKWJbZFtjXS5YXT1hW2NdO3JldHVybiBQcm9taXNlLnJlc29sdmUoYil9KX0KZnVuY3Rpb24geGYoYSxiLGMsZCxlKXt2YXIgZj1uZXcgRDthLmEuZm9yRWFjaChmdW5jdGlvbihhLGIpe2YucHVzaChhLmlkfHwiIitiLGEpfSk7dmFyIGc9bmV3IEQ7Yi5hLmZvckVhY2goZnVuY3Rpb24oYSxiKXtnLnB1c2goYS5pZHx8IiIrYixhKX0pO2E9YWIoZik7Zm9yKGI9MDtiPGEubGVuZ3RoOysrYil7dmFyIGg9YVtiXSxrPWYuZ2V0KGgpOzE8ay5sZW5ndGh8fChoPWcuZ2V0KGgpKSYmMCE9aC5sZW5ndGgmJjE9PWgubGVuZ3RoJiYoeWYoa1swXSxoWzBdLGMsZCxlKSxrWzBdLmR1cmF0aW9uPWhbMF0uZHVyYXRpb24pfX0KZnVuY3Rpb24geWYoYSxiLGMsZCxlKXt2YXIgZj1uZXcgRDthLmEuZm9yRWFjaChmdW5jdGlvbihhLGIpe2YucHVzaChhLmlkfHwiIitiLGEpfSk7dmFyIGc9bmV3IEQ7Yi5hLmZvckVhY2goZnVuY3Rpb24oYSxiKXtnLnB1c2goYS5pZHx8IiIrYixhKX0pO2E9YWIoZik7Zm9yKGI9MDtiPGEubGVuZ3RoOysrYil7dmFyIGg9YVtiXSxrPWYuZ2V0KGgpOzE8ay5sZW5ndGh8fChoPWcuZ2V0KGgpKSYmMCE9aC5sZW5ndGgmJjE9PWgubGVuZ3RoJiZ6ZihrWzBdLGhbMF0sYyxkLGUpfX0KZnVuY3Rpb24gemYoYSxiLGMsZCxlKXt2YXIgZj1uZXcgRDthLnYuZm9yRWFjaChmdW5jdGlvbihhLGIpe2YucHVzaChhLmlkfHwiIitiLGEpfSk7dmFyIGc9bmV3IEQ7Yi52LmZvckVhY2goZnVuY3Rpb24oYSxiKXtnLnB1c2goYS5pZHx8IiIrYixhKX0pO2I9e307Zm9yKHZhciBoPWFiKGYpLGs9MDtrPGgubGVuZ3RoOysrayl7dmFyIGw9aFtrXTtiW2xdPWw7dmFyIG09Zi5nZXQobCk7MTxtLmxlbmd0aHx8KChsPWcuZ2V0KGwpKSYmMCE9bC5sZW5ndGg/MT09bC5sZW5ndGgmJihCZihtWzBdLGxbMF0sYyxkKSxtWzBdLmFhPWxbMF0uYWEsbFswXS5hYT1udWxsLG1bMF0uYT1sWzBdLmEsVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJyZWZyZXNoX2JhbmR3aWR0aF9mcm9tX2xpdmVfbWFuaWZlc3QiLCExKSYmKG1bMF0uYmFuZHdpZHRoPWxbMF0uYmFuZHdpZHRoKSk6KGUucHVzaChtWzBdKSxhLnYuc3BsaWNlKGEudi5pbmRleE9mKG1bMF0pLDEpKSl9aD1hYihnKTsKZm9yKGs9MDtrPGgubGVuZ3RoOysraylsPWhba10sYltsXXx8KGJbbF09bCxsPWcuZ2V0KGwpLGEudi5wdXNoKGxbMF0pKX1mdW5jdGlvbiBCZihhLGIsYyxkKXthPWNbYS5YXTtjPWRbYi5YXTtkPShiPWEubGVuZ3RoKCkpP2EubGFzdCgpLmVuZFRpbWU6MDtpZihhLkIoYykpe2M9YS5sZW5ndGgoKTt2YXIgZT0hMTtWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInJvYnVzdF9jb3VudF9jaGFuZ2VzIiwhMSkmJihlPSEhYyYmYS5sYXN0KCkuZW5kVGltZT5kKTthLmcucHVzaChiIT09Y3x8ZSk7NTA8YS5nLmxlbmd0aCYmYS5nLnNoaWZ0KCl9fTtmdW5jdGlvbiBYKCl7dGhpcy5hPXRoaXMuYj1udWxsO3RoaXMuZj1uZXcgYmI7dGhpcy5jPU51bWJlci5QT1NJVElWRV9JTkZJTklUWTt0aGlzLmk9ITA7dGhpcy5nPSExfXEoInNoYWthLm1lZGlhLlNpbXBsZUFick1hbmFnZXIiLFgpO1gucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmYuZGVzdHJveSgpO3RoaXMuYT10aGlzLmI9dGhpcy5mPW51bGx9O1gucHJvdG90eXBlLmluaXRpYWxpemU9ZnVuY3Rpb24oYSxiKXt0aGlzLmJ8fHRoaXMuYXx8KHRoaXMuYj1hLHRoaXMuYT1iKX07ClgucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKCl7dGhpcy5iJiZ0aGlzLmEmJiF0aGlzLmcmJih0aGlzLmM9RGF0ZS5ub3coKSs0RTMsRSh0aGlzLmYsdGhpcy5iLmdldEVzdGltYXRvcigpLCJiYW5kd2lkdGgiLHRoaXMubS5iaW5kKHRoaXMpKSxFKHRoaXMuZix0aGlzLmEsImFkYXB0YXRpb24iLHRoaXMuai5iaW5kKHRoaXMpKSxFKHRoaXMuZix0aGlzLmEsInRyYWNrc2NoYW5nZWQiLHRoaXMuaC5iaW5kKHRoaXMpKSx0aGlzLmc9ITApfTtYLnByb3RvdHlwZS5lbmFibGU9ZnVuY3Rpb24oYSl7dGhpcy5pPWF9O1gucHJvdG90eXBlLmdldEluaXRpYWxWaWRlb1RyYWNrSWQ9ZnVuY3Rpb24oKXtpZighdGhpcy5ifHwhdGhpcy5hKXJldHVybiBudWxsO3ZhciBhPUNmKHRoaXMpO3JldHVybiBhP2EuaWQ6bnVsbH07WC5wcm90b3R5cGUuZ2V0SW5pdGlhbFN3aXRjaFJlYXNvbj1mdW5jdGlvbigpe3JldHVybiBudWxsfTtYLnByb3RvdHlwZS5nZXRJbml0aWFsQXVkaW9UcmFja0lkPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9OwpYLnByb3RvdHlwZS5zZWxlY3RWaWRlb1RyYWNrPWZ1bmN0aW9uKGEsYixjKXt0aGlzLmcmJnRoaXMuYS5zZWxlY3RWaWRlb1RyYWNrKGEuaWQsYixjKX07WC5wcm90b3R5cGUubT1mdW5jdGlvbigpe0RhdGUubm93KCk8dGhpcy5jfHx0aGlzLmgoKX07WC5wcm90b3R5cGUuaD1mdW5jdGlvbigpe2lmKHRoaXMuaSl7dmFyIGE9Q2YodGhpcyk7aWYoYSl7aWYoYS5hY3RpdmUpe3RoaXMuYz1EYXRlLm5vdygpKzNFMztyZXR1cm59dGhpcy5zZWxlY3RWaWRlb1RyYWNrKGEsITEpfXRoaXMuYz1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFl9fTtYLnByb3RvdHlwZS5qPWZ1bmN0aW9uKCl7dGhpcy5jPT1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkmJih0aGlzLmM9RGF0ZS5ub3coKSszRTQpfTsKZnVuY3Rpb24gQ2YoYSl7dmFyIGI9YS5hLlooKTtpZigwPT1iLmxlbmd0aClyZXR1cm4gbnVsbDtiLnNvcnQodmEpO3ZhciBjO2E6e2M9YS5hLnZhKCk7Zm9yKHZhciBkPTA7ZDxjLmxlbmd0aDsrK2QpaWYoY1tkXS5hY3RpdmUpe2M9Y1tkXTticmVhayBhfWM9bnVsbH1jPWM/Yy5iYW5kd2lkdGg6MDthPWEuYi5nZXRCYW5kd2lkdGgoKTtmb3IodmFyIGQ9YlswXSxlPTA7ZTxiLmxlbmd0aDsrK2Upe3ZhciBmPWJbZV0sZz1lKzE8Yi5sZW5ndGg/YltlKzFdOntiYW5kd2lkdGg6TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZfTtpZihmLmJhbmR3aWR0aCYmKGc9KGcuYmFuZHdpZHRoK2MpLy44NSxhPj0oZi5iYW5kd2lkdGgrYykvLjk1JiZhPD1nJiYoZD1mLGQuYWN0aXZlKSkpYnJlYWt9cmV0dXJuIGR9O2Z1bmN0aW9uIFkoYSxiLGMsZCl7Ri5jYWxsKHRoaXMsbnVsbCk7dGhpcy5iPWE7dGhpcy5hPWI7dGhpcy53YT1jO3RoaXMua2I9bmV3IFZpZGVvUGxheWVyTG9jYWxCYW5kd2lkdGhFc3RpbWF0b3IodGhpcyxjLGIpO3RoaXMuaD1uZXcgYmI7dGhpcy5pPW5ldyBNZWRpYVNvdXJjZTt0aGlzLmJhPXRoaXMudmlkZW89bnVsbDt0aGlzLkJiPTA7dGhpcy5uYz10aGlzLlpiPSExO3RoaXMuTGI9aWE7dGhpcy5BYj10aGlzLlY9dGhpcy5pYT10aGlzLmw9bnVsbDt0aGlzLktiPTM7dGhpcy5yYT10aGlzLiRiPXRoaXMuRmE9dGhpcy5FYT0hMTt0aGlzLlBhPTA7dGhpcy5kYT1uZXcgVmlkZW9QdXNoVHJhY2tlcjt0aGlzLmdhPW51bGw7dGhpcy5pYz0xO3RoaXMuZ2M9SW5maW5pdHk7dGhpcy5VYj10aGlzLlNiPSExO3RoaXMucGE9dGhpcy5PYT1udWxsO3RoaXMuV2I9dGhpcy5WYj10aGlzLkdhPXRoaXMuY2M9dGhpcy5tYT0hMTt0aGlzLmY9bmV3IEQ7dGhpcy5BPWQ7dGhpcy5BLmluaXRpYWxpemUodGhpcy5rYiwKdGhpcyk7dGhpcy5PPSExO3RoaXMuUz0iZW4iO3RoaXMueWE9ITE7dGhpcy5KPW5ldyBJO3RoaXMuSWI9bmV3IEk7dGhpcy5tPW5ldyBrYTt0aGlzLkQ9bnVsbDt0aGlzLmtjPTE7dGhpcy5jPXt9O3RoaXMuc2E9bmV3IEk7dGhpcy5qYT0wO3RoaXMuZ2I9MTVFMzt0aGlzLmo9bnVsbDt0aGlzLmVjPSExO3RoaXMuZGM9MDt0aGlzLkNhPSExO3RoaXMuQj17fTt0aGlzLmxhPXRoaXMua2E9dGhpcy51PW51bGw7dGhpcy5nPXt9O3RoaXMuJD0hMTt0aGlzLmZjPTA7dGhpcy5LPXRoaXMuYS5nZXROdW1iZXIoImJ1ZmZlcmluZ19vdmVyZmxvd190aHJlc2hvbGQiLDApO3RoaXMucGM9bnVsbDt0aGlzLm89e307dGhpcy53PXt9O3RoaXMuUj1udWxsO3RoaXMuVT1bXTt0aGlzLlQ9dGhpcy5JPW51bGw7dGhpcy5HPW5ldyBOZXR3b3JrU3RhdHVzRGV0ZWN0b3I7dGhpcy5oYz0hMTt0aGlzLm5hPSEwO3RoaXMuZWE9ITE7dGhpcy51Yz1uZXcgU3Vic2NyaXB0aW9uc0hhbmRsZXI7dGhpcy5ZYj0hMTsKdGhpcy54YT0xO3RoaXMuSWQ9dGhpcy5hLmdldE51bWJlcigic3RyZWFtX21heGltdW1fb25wYXVzZV9idWZmZXJfc2l6ZV9tdWx0aXBsaWVyIiwwKTt0aGlzLmNhPW51bGw7dGhpcy5hLmdldEJvb2woImFsbG93X2luZmluaXRlX3JldHJ5X29uX25ldF9lcnIiLCEwKSYmdGhpcy51Yy5hZGRTdWJzY3JpcHRpb25zKHRoaXMuRy5hZGRMaXN0ZW5lcigibmV0d29ya0ludGVycnVwdGVkIix0aGlzLlRjLHRoaXMpLHRoaXMuRy5hZGRMaXN0ZW5lcigibmV0d29ya1Jlc3VtZWQiLHRoaXMuVWMsdGhpcyksdGhpcy5HLmFkZExpc3RlbmVyKCJzeXN0ZW1XYWtlIix0aGlzLlZjLHRoaXMpKX1yKFksRik7cSgic2hha2EucGxheWVyLlN0cmVhbVZpZGVvU291cmNlIixZKTtZLnByb3RvdHlwZS5YYj1mdW5jdGlvbigpe3JldHVybntWaWRlb1NvdXJjZVN0cmVhbTp0aGlzLmMudmlkZW8sQXVkaW9Tb3VyY2VTdHJlYW06dGhpcy5jLmF1ZGlvLFRleHRTb3VyY2VTdHJlYW06dGhpcy5jLnRleHQsQmFuZHdpZHRoRXN0aW1hdG9yOnRoaXMud2F9fTsKWS5wcm90b3R5cGUuZ2V0U3RyZWFtRGVidWc9WS5wcm90b3R5cGUuWGI7WS5wcm90b3R5cGUuUGM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iP3RoaXMuYi53OiJub25lIn07WS5wcm90b3R5cGUuZ2V0TXBkQXVkaW9Db25maWc9WS5wcm90b3R5cGUuUGM7ClkucHJvdG90eXBlLmxjPWZ1bmN0aW9uKGEpe251bGwhPWEuc3RyZWFtQnVmZmVyU2l6ZSYmKHRoaXMuZy5zdHJlYW1CdWZmZXJTaXplPWEuc3RyZWFtQnVmZmVyU2l6ZSk7bnVsbCE9YS5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZSYmKHRoaXMuZy5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZT1hLmluaXRpYWxTdHJlYW1CdWZmZXJTaXplKTtudWxsIT1hLmR5bmFtaWNTdHJlYW1CdWZmZXJTaXplJiYodGhpcy5nLmR5bmFtaWNTdHJlYW1CdWZmZXJTaXplPWEuZHluYW1pY1N0cmVhbUJ1ZmZlclNpemUpO251bGwhPWEuc21hcnRCdWZmZXJBZGp1c3RtZW50UGFyYW1zJiYodGhpcy5nLnNtYXJ0QnVmZmVyQWRqdXN0bWVudFBhcmFtcz1hLnNtYXJ0QnVmZmVyQWRqdXN0bWVudFBhcmFtcyk7bnVsbCE9YS5hZGRDZG5EZWJ1Z1F1ZXJ5UGFyYW1ldGVycyYmKHRoaXMuZy5hZGRDZG5EZWJ1Z1F1ZXJ5UGFyYW1ldGVycz1hLmFkZENkbkRlYnVnUXVlcnlQYXJhbWV0ZXJzKTtudWxsIT1hLnNlZ21lbnRSZXF1ZXN0VGltZW91dCYmCih0aGlzLmcuc2VnbWVudFJlcXVlc3RUaW1lb3V0PWEuc2VnbWVudFJlcXVlc3RUaW1lb3V0KTtudWxsIT1hLnJlc29sdmVWaWRlb1RpbWVVcGRhdGVPbkZyYWdtZW50ZWRUaW1lUmFuZ2VzJiYodGhpcy5nLnJlc29sdmVWaWRlb1RpbWVVcGRhdGVPbkZyYWdtZW50ZWRUaW1lUmFuZ2VzPWEucmVzb2x2ZVZpZGVvVGltZVVwZGF0ZU9uRnJhZ21lbnRlZFRpbWVSYW5nZXMpO251bGwhPWEucmVhcHBlbmRJbml0U2VnbWVudEFmdGVyQWJvcnQmJih0aGlzLmcucmVhcHBlbmRJbml0U2VnbWVudEFmdGVyQWJvcnQ9YS5yZWFwcGVuZEluaXRTZWdtZW50QWZ0ZXJBYm9ydCk7bnVsbCE9YS5saXZlRGF0YUZldGNoTWF4UmV0cmllcyYmKHRoaXMuZy5saXZlRGF0YUZldGNoTWF4UmV0cmllcz1hLmxpdmVEYXRhRmV0Y2hNYXhSZXRyaWVzKTtudWxsIT1hLmxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXMmJih0aGlzLmcubGl2ZVNvdXJjZUJ1ZmZlckNsZWFyTWF4UmV0cmllcz1hLmxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXMpOwpudWxsIT1hLnBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2UmJih0aGlzLmcucGxheWhlYWRGcmFnbWVudGVkR2FwRGlmZkFsbG93YW5jZT1hLnBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2UpO251bGwhPWEuZml4QnVmZmVyaW5nR29hbERldGVybWluYXRpb24mJih0aGlzLmcuZml4QnVmZmVyaW5nR29hbERldGVybWluYXRpb249YS5maXhCdWZmZXJpbmdHb2FsRGV0ZXJtaW5hdGlvbik7bnVsbCE9YS5za2lwRW1wdHlTZWdtZW50cyYmKHRoaXMuZy5za2lwRW1wdHlTZWdtZW50cz1hLnNraXBFbXB0eVNlZ21lbnRzKTtudWxsIT1hLnVzZU1pY3JvVGFza1RpbWVvdXRzJiYodGhpcy5nLnVzZU1pY3JvVGFza1RpbWVvdXRzPWEudXNlTWljcm9UYXNrVGltZW91dHMpO0RmKHRoaXMpO251bGwhPWEuaW5jbHVkZVN0cmVhbUJ1ZmZlclNpemVJblN0YXJ0T2Zmc2V0JiYodGhpcy5aYj1Cb29sZWFuKGEuaW5jbHVkZVN0cmVhbUJ1ZmZlclNpemVJblN0YXJ0T2Zmc2V0KSk7Cm51bGwhPWEubGl2ZUF1ZGlvUHVzaFJlcHJlc2VudGF0aW9uJiYodGhpcy5wYT1TdHJpbmcoYS5saXZlQXVkaW9QdXNoUmVwcmVzZW50YXRpb24pKTtudWxsIT1hLmxpdmVJbml0aWFsUHVzaFJlcHJlc2VudGF0aW9uJiYodGhpcy5PYT1TdHJpbmcoYS5saXZlSW5pdGlhbFB1c2hSZXByZXNlbnRhdGlvbikpO251bGwhPWEuZW5hYmxlQWRhcHRhdGlvbiYmdGhpcy5BLmVuYWJsZShCb29sZWFuKGEuZW5hYmxlQWRhcHRhdGlvbikpO251bGwhPWEubXBkUmVxdWVzdFRpbWVvdXQmJih0aGlzLkxiPU51bWJlcihhLm1wZFJlcXVlc3RUaW1lb3V0KSk7bnVsbCE9YS5taW5NcGRSZWZyZXNoSW50ZXJ2YWwmJih0aGlzLktiPU51bWJlcihhLm1pbk1wZFJlZnJlc2hJbnRlcnZhbCkvMUUzKTtudWxsIT1hLmVuYWJsZU1hbmlmZXN0RGVidWcmJih0aGlzLlViPSEhYS5lbmFibGVNYW5pZmVzdERlYnVnKTtudWxsIT1hLmxpdmVTdHJlYW1FbmRUaW1lb3V0JiYodGhpcy5nYj1OdW1iZXIoYS5saXZlU3RyZWFtRW5kVGltZW91dCkpOwpudWxsIT1hLnByZWZlcnJlZExhbmd1YWdlJiYodGhpcy5TPVNhKFN0cmluZyhhLnByZWZlcnJlZExhbmd1YWdlKSkpO251bGwhPWEubGl2ZVNlbmRQdXNoSGVhZGVycyYmKHRoaXMucmE9Qm9vbGVhbihhLmxpdmVTZW5kUHVzaEhlYWRlcnMpKTtudWxsIT1hLmxpdmVNYXhNYW5pZmVzdEZldGNoZXNXaXRoUHVzaCYmKHRoaXMuUGE9TnVtYmVyKGEubGl2ZU1heE1hbmlmZXN0RmV0Y2hlc1dpdGhQdXNoKSk7bnVsbCE9YS5jdXJyZW50VGltZUR1cmluZ1JlYWR5U3RhdGVaZXJvVGhyb3dzJiYodGhpcy5TYj1Cb29sZWFuKGEuY3VycmVudFRpbWVEdXJpbmdSZWFkeVN0YXRlWmVyb1Rocm93cykpO251bGwhPWEubGl2ZU1heFNlZ21lbnRzVG9QdXNoJiYodGhpcy5nYz1OdW1iZXIoYS5saXZlTWF4U2VnbWVudHNUb1B1c2gpKTtudWxsIT1hLmp1bXBUb0xpdmVUaHJlc2hvbGQmJih0aGlzLmRjPU51bWJlcihhLmp1bXBUb0xpdmVUaHJlc2hvbGQpKTtudWxsIT1hLnJlc3RyaWN0aW9ucyYmKHRoaXMubT0KYS5yZXN0cmljdGlvbnMsdGhpcy5PJiZFZih0aGlzKSk7bnVsbCE9YS51c2VMb25nQ2FjaGVGb3JNYW5pZmVzdCYmKHRoaXMubWE9Qm9vbGVhbihhLnVzZUxvbmdDYWNoZUZvck1hbmlmZXN0KSk7bnVsbCE9YS5qdW1wVG9FYXJsaWVzdFBvc2l0aW9uSW5DdXJyZW50QmxvY2smJih0aGlzLmNjPUJvb2xlYW4oYS5qdW1wVG9FYXJsaWVzdFBvc2l0aW9uSW5DdXJyZW50QmxvY2spKTtudWxsIT1hLmlnbm9yZU1pbkJ1ZmZlclRpbWUmJih0aGlzLkdhPUJvb2xlYW4oYS5pZ25vcmVNaW5CdWZmZXJUaW1lKSk7bnVsbCE9PWEuZW5hYmxlUmVxdWVzdFBpcGVsaW5pbmcmJih0aGlzLlZiPUJvb2xlYW4oYS5lbmFibGVSZXF1ZXN0UGlwZWxpbmluZykpO251bGwhPT1hLmVuYWJsZVN0cmVhbWluZyYmKHRoaXMuV2I9Qm9vbGVhbihhLmVuYWJsZVN0cmVhbWluZykpfTsKWS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuSi5kZXN0cm95KCk7dGhpcy5zYS5kZXN0cm95KCk7dGhpcy5zYT10aGlzLko9bnVsbDt0aGlzLmthJiYoY2xlYXJUaW1lb3V0KHRoaXMua2EpLHRoaXMua2E9bnVsbCk7dGhpcy51JiYoY2xlYXJUaW1lb3V0KHRoaXMudSksdGhpcy51PW51bGwpO3RoaXMuQj1udWxsO3RoaXMuaC5kZXN0cm95KCk7dGhpcy5oPW51bGw7V2EodGhpcy5jKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2EuZGVzdHJveSgpfSk7dGhpcy5mPXRoaXMuYz1udWxsO3RoaXMuYiYmKHRoaXMuYi5kZXN0cm95KCksdGhpcy5iPW51bGwpO3RoaXMuQS5kZXN0cm95KCk7dGhpcy5KYT10aGlzLm09dGhpcy52aWRlbz10aGlzLmk9dGhpcy53YT10aGlzLkE9bnVsbDt0aGlzLmEuZ2V0Qm9vbCgiZml4aW5nX3NjaGVkdWxlcl9kaXNhYmxlX2xlYWtzIiwhMCkmJihPYmplY3Qua2V5cyh0aGlzLm8pLmZvckVhY2goZnVuY3Rpb24oYSl7KGE9dGhpcy5vW2FdKSYmYS5kaXNhYmxlKCl9LmJpbmQodGhpcykpLAp0aGlzLm89e30pO09iamVjdC5rZXlzKHRoaXMudykuZm9yRWFjaChmdW5jdGlvbihhKXsoYT10aGlzLndbYV0pJiZhLmRlc3Ryb3koKX0uYmluZCh0aGlzKSk7dGhpcy53PXt9O3RoaXMuSSYmKHRoaXMuSS5kaXNhYmxlKCksdGhpcy5JPW51bGwpO3RoaXMuUiYmKHRoaXMuUi5jbGVhbnVwKCksdGhpcy5SPW51bGwpO2Zvcih2YXIgYT0wO2E8dGhpcy5VLmxlbmd0aDthKyspdGhpcy5VW2FdLmNsZWFudXAoKTt0aGlzLlU9W107dGhpcy51Yy5yZWxlYXNlKCl9O2Z1bmN0aW9uIGVmKGEsYil7aWYoYS5sKXt2YXIgYz1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJtZWRpYV9zb3VyY2Vfb3BlbiIpLnN0YXJ0KCk7YS5JYi50aGVuKGZ1bmN0aW9uKCl7Yy5sb2coKX0pfUUoYS5oLGEuaSwic291cmNlb3BlbiIsYS5oZC5iaW5kKGEpKTtiLnNyYz13aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChhLmkpfW49WS5wcm90b3R5cGU7bi52Yz1mdW5jdGlvbigpe307CmZ1bmN0aW9uIGpmKGEsYixjKXt2YXIgZDthLmwmJihkPWEubC5nZXRPcGVyYXRpb25Mb2dnZXIoInNvdXJjZV9hdHRhY2giKS5zdGFydCgpKTtpZighYS5PKXJldHVybiBhPUVycm9yKCJDYW5ub3QgY2FsbCBhdHRhY2goKSByaWdodCBub3cuIiksYS50eXBlPSJhcHAiLGQmJmQuc2V0RXJyb3IoYSkubG9nKCksUHJvbWlzZS5yZWplY3QoYSk7YS5KYT1iO2EudmlkZW89YzthLmJhPW51bGw7YS5hLmdldEJvb2woImVuYWJsZV92aWV3cG9ydF9wcmlvcml0eV9hZGp1c3RtZW50IiwhMSkmJihhLlI9bmV3IFZpZXdwb3J0UHJpb3JpdHlBZGp1c3RlcihhLnZpZGVvKSxhLlIuc2V0T25Qcmlvcml0eUNoYW5nZWQoZnVuY3Rpb24oYSl7T2JqZWN0LmtleXModGhpcy5vKS5mb3JFYWNoKGZ1bmN0aW9uKGIpe3RoaXMub1tiXS51cGRhdGVQcmlvcml0eVdpdGhOZXdBZGp1c3RtZW50KGEpfS5iaW5kKHRoaXMpKX0uYmluZChhKSkpO2EuYS5nZXRCb29sKCJlbmFibGVfZmlyc3RfdmlkZW9fcHJpb3JpdHlfYWRqdXN0bWVudCIsCiExKSYmYS5VLnB1c2gobmV3IEZpcnN0TG9hZGVkVmlkZW9Qcmlvcml0eUFkanVzdGVyKGEudmlkZW8pKTtFKGEuaCxhLnZpZGVvLCJsb2FkZWRtZXRhZGF0YSIsYS5nZC5iaW5kKGEpKTtFKGEuaCxhLndhLCJiYW5kd2lkdGgiLGEuR2QuYmluZChhKSk7aWYoYS5iLmJ8fGEuYS5nZXRCb29sKCJiYWNrX29mZl9idWZmZXJpbmdfb3ZlcmZsb3ciLCExKSlFKGEuaCxiLCJidWZmZXJpbmdTdGFydCIsYS5jZC5iaW5kKGEpKSxFKGEuaCxiLCJidWZmZXJpbmdFbmQiLGEuYmQuYmluZChhKSk7Yj1hLmEuZ2V0Qm9vbCgiZW5hYmxlX2NvbnRlbnRfcHJvdGVjdGlvbiIsITEpPyhiPWEudmlkZW8ubWVkaWFLZXlzKSYmYS52aWRlby5zZXRNZWRpYUtleXM/YS52aWRlby5zZXRNZWRpYUtleXMoYik6UHJvbWlzZS5yZXNvbHZlKCk6UHJvbWlzZS5yZXNvbHZlKCk7RmYoYSkudGhlbihKKGEsZnVuY3Rpb24oKXtkJiZ0aGlzLlAoKSYmZC5zZXRMaXZlaGVhZFBvc2l0aW9uKEdmKEhmKHRoaXMpKSk7dGhpcy5KJiYKdGhpcy5KLnJlc29sdmUoKTt0aGlzLnZjKCl9KSkuY2F0Y2goSihhLGZ1bmN0aW9uKGEpe3RoaXMuSiYmdGhpcy5KLnJlamVjdChhKX0pKTtyZXR1cm4gUHJvbWlzZS5hbGwoW2EuSixiXSkudGhlbihmdW5jdGlvbigpe2QmJmQubG9nKCl9KX0Kbi53Yj1mdW5jdGlvbigpe2lmKHRoaXMuTyl7dmFyIGE9RXJyb3IoIkNhbm5vdCBjYWxsIGxvYWQoKSByaWdodCBub3cuIik7YS50eXBlPSJhcHAiO3JldHVybiBQcm9taXNlLnJlamVjdChhKX1pZighdGhpcy5ifHwwPT10aGlzLmIuYS5sZW5ndGgpcmV0dXJuIGE9RXJyb3IoIlRoZSBtYW5pZmVzdCBkb2VzIG5vdCBzcGVjaWZ5IGFueSBjb250ZW50LiIpLGEudHlwZT0ic3RyZWFtIixQcm9taXNlLnJlamVjdChhKTt0Zih0aGlzLmIuYSk7aWYoMD09dGhpcy5iLmEubGVuZ3RofHwwPT10aGlzLmIuYVswXS5hLmxlbmd0aHx8IXRoaXMuYi5hWzBdLmEuc29tZShmdW5jdGlvbihhKXtyZXR1cm4idmlkZW8iPT09YS5jb250ZW50VHlwZX0pKXJldHVybiBhPUVycm9yKCJUaGUgbWFuaWZlc3Qgc3BlY2lmaWVzIGNvbnRlbnQgdGhhdCBjYW5ub3QgYmUgZGlzcGxheWVkIG9uIHRoaXMgYnJvd3Nlci9wbGF0Zm9ybS4iKSxhLnR5cGU9InN0cmVhbSIsUHJvbWlzZS5yZWplY3QoYSk7dGhpcy5PPQohMDt0aGlzLkdhfHwodGhpcy5nLmluaXRpYWxTdHJlYW1CdWZmZXJTaXplPU1hdGgubWF4KHRoaXMuZy5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZXx8MCx0aGlzLmIuZykpO3RoaXMuaWEmJnRoaXMuaWEuc2V0U3RyZWFtVHlwZSh0aGlzLmIuQik7RGYodGhpcyk7RWYodGhpcyk7cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpfTtmdW5jdGlvbiBJZihhKXt2YXIgYj15KHt0eXBlOiJtYW5pZmVzdHdyYXBwZWQiLGJ1YmJsZXM6ITB9KTthLmRpc3BhdGNoRXZlbnQoYil9ZnVuY3Rpb24gSmYoYSxiKXt2YXIgYz15KHt0eXBlOiJsaXZlaGVhZElkbGVBdCIsc2Vjb25kczpiLGJ1YmJsZXM6ITB9KTthLmRpc3BhdGNoRXZlbnQoYyl9ZnVuY3Rpb24gR2YoYSl7cmV0dXJuIE1hdGgubWluLmFwcGx5KE1hdGgsYS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEubGVuZ3RoKCk/YS5sYXN0KCkuZW5kVGltZTpudWxsfSkuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiEhYX0pKX0Kbi5KYj1mdW5jdGlvbihhLGIpe3ZhciBjO3RoaXMuYS5nZXRCb29sKCJkZWNvdXBsZV9tcGRfdXBkYXRlX2xvb3BfZnJvbV9yZXF1ZXN0X2xvb3AiLCExKSYmS2YodGhpcywwKTt0aGlzLlYmJih0aGlzLlYubG9nKCksdGhpcy5WPW51bGwpO3RoaXMubCYmKGM9dGhpcy5sLmdldE9wZXJhdGlvbkxvZ2dlcigidXBkYXRlX21hbmlmZXN0Iikuc3RhcnQoKSk7aWYoIWJ8fHRoaXMuTyl7dmFyIGQ9RGF0ZS5ub3coKTt0aGlzLmEuZ2V0Qm9vbCgiZGVjb3VwbGVfbXBkX3VwZGF0ZV9sb29wX2Zyb21fcmVxdWVzdF9sb29wIiwhMSl8fCh0aGlzLnU9bnVsbCk7dmFyIGU9bnVsbCxmLGc7aWYodGhpcy5yYSYmKCF0aGlzLlBhfHx0aGlzLlBhPnRoaXMuaWMpKXtmPU1hdGguZmxvb3IoTGYodGhpcykpKzE7Zj1NYXRoLm1pbihmLHRoaXMuZ2MpO3ZhciBoPXRoaXMuYy52aWRlbztpZihoPWg/aC5GYigpOm51bGwpaD1oLmxhc3QoKSxudWxsIT1oLnVuc2NhbGVkU3RhcnRUaW1lJiYoZz1oLnVuc2NhbGVkU3RhcnRUaW1lKTsKaWYodGhpcy52aWRlby5wYXVzZWR8fHRoaXMuJClmPTB9ZiYmdGhpcy5pYysrO2g9dGhpcy5iLmk7aD10aGlzLmEuZ2V0Qm9vbCgiZW5hYmxlX2NsZWFuX2ZhaWxvdmVyX3VyaV9vbl9tcGRfcmVxdWVzdHMiLCEwKT9oLmNsb25lKCk6aDtjJiYhYSYmYy5zZXRSZXNvdXJjZShoLnRvU3RyaW5nKCkpOyhhP3RoaXMueGMoKTp0aGlzLnljKGgsZixnKSkudGhlbihKKHRoaXMsZnVuY3Rpb24oYil7YXx8dGhpcy5HLmluZm9ybU5ldHdvcmtSZXN1bWVkKCk7ZT1uZXcgdmYoYik7dmFyIGM7dGhpcy5sJiYoYz10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJ1cGRhdGVfbWFuaWZlc3RfaW5mbyIpLnN0YXJ0KCkpO2I9ZS51cGRhdGUodGhpcy5iKTtiLnRoZW4oZnVuY3Rpb24oKXtjJiZjLmxvZygpfSxmdW5jdGlvbihhKXtjJiZjLnNldEVycm9yKGEpLmxvZygpfSkuY2F0Y2goZnVuY3Rpb24oKXt9KTtyZXR1cm4gYn0pKS50aGVuKEoodGhpcyxmdW5jdGlvbihhKXtlLmRlc3Ryb3koKTtlPW51bGw7CnZhciBmPUhmKHRoaXMpO3RoaXMuTGEoIlNlZ21lbnRJbmRleGVzVXBkYXRlZCIsZik7aWYodGhpcy5hLmdldEJvb2woImVtaXRfbGl2ZV9wbGF5aGVhZF9pZGxlX2Zyb21fY2xpZW50IiwhMCkpe3ZhciBnPXRoaXMuYS5nZXROdW1iZXIoImxpdmVfcGxheWhlYWRfaWRsZV9hbGxfc3RyZWFtX3RocmVzaG9sZCIsNCksaD10aGlzLmEuZ2V0TnVtYmVyKCJsaXZlX3BsYXloZWFkX2lkbGVfc2luZ2xlX3N0cmVhbV90aHJlc2hvbGQiLDUpO2lmKEhmKHRoaXMpLmV2ZXJ5KGZ1bmN0aW9uKGEpe3JldHVybiBhLnUoKT49Z30pfHxIZih0aGlzKS5zb21lKGZ1bmN0aW9uKGEpe3JldHVybiBhLnUoKT49aH0pKXt2YXIgdD1HZihmKTtKZih0aGlzLHQpfX1mLnNvbWUoZnVuY3Rpb24oYSl7cmV0dXJuIGEucmIoKX0pJiZJZih0aGlzKTt0PU1mKHRoaXMsZik7YyYmdGhpcy5QKCkmJmMuc2V0TGl2ZWhlYWRQb3NpdGlvbihHZihmKSk7YyYmYy5zZXRNYW5pZmVzdFR5cGUodGhpcy5iLmI/ImR5bmFtaWMiOgoic3RhdGljIikuc2V0VXBkYXRlUGVyaW9kKG51bGw9PT10aGlzLmIuYz9udWxsOk1hdGguY2VpbCgxRTMqdGhpcy5iLmMpKTt0aGlzLm5hJiZOZih0aGlzLHQpO3RoaXMuYS5nZXRCb29sKCJza2lwX3JlbWFpbmluZ19idWZmZXJlZF9vbl9zdHJlYW1fZW5kIiwhMSkmJnQmJnRoaXMuYi5iJiZ0aGlzLmIuaCYmdGhpcy52aWRlby5wYXVzZWQmJih0aGlzLnZpZGVvLmN1cnJlbnRUaW1lPXRoaXMuamEtLjEpO2lmKHNmKHRoaXMpKXJldHVybiBjJiZjLmxvZygpLHRoaXMuZWIoKTtmb3IoZj0wO2Y8YS5sZW5ndGg7KytmKU9mKHRoaXMsYVtmXSk7dGhpcy5HYXx8KHRoaXMuZy5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZT1NYXRoLm1heCh0aGlzLmcuaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemV8fDAsdGhpcy5iLmcpKTt0aGlzLmcudXNlSW5pdGlhbEJ1ZmZlclNpemVXaGVuUGF1c2VkPXRoaXMuYi5iO0RmKHRoaXMpO0VmKHRoaXMpOzA9PU9iamVjdC5rZXlzKHRoaXMuYykubGVuZ3RoP0ZmKHRoaXMpOgooYT1EYXRlLm5vdygpLGJ8fEtmKHRoaXMsKGEtZCkvMUUzKSk7YyYmYy5sb2coKTt0aGlzLnRiKCkmJmV4dHJhY3RDRUE2MDgucHJlcGFyZSgpO3RoaXMuYS5nZXRCb29sKCJ1cGRhdGVfY2VhNjA4X2F2YWlsYWJpbGl0eV9vbl9tcGRfcGFyc2luZyIsITEpJiYoYT10aGlzLnRiKCksdGhpcy5ZYiE9PWEmJihmPXkoe3R5cGU6ImNlYTYwOEF2YWlsYWJpbGl0eUNoYW5nZWQiLGJ1YmJsZXM6ITB9KSx0aGlzLmRpc3BhdGNoRXZlbnQoZiksdGhpcy5ZYj1hKSl9KSkuY2F0Y2goSih0aGlzLGZ1bmN0aW9uKGEpe2MmJmMuc2V0RXJyb3IoYSkubG9nKCk7ZSYmKGUuZGVzdHJveSgpLGU9bnVsbCk7aWYoIWIpe3ZhciBkPXRoaXMuYi5mfHx0aGlzLmEuZ2V0Qm9vbCgicmV0cnlfZWdyZXNzXzUwMHMiLCExKSxmPVswLDQxMF07dGhpcy5hLmdldEJvb2woImVuYWJsZV9kb3VibGVfaW5nZXN0IiwhMSkmJmYucHVzaCg0MTcsMjAwKTshdGhpcy5hLmdldEJvb2woIm5vX3JldHJ5X29uXzUwMl81MDMiLAohMSkmJmQmJihmPWYuY29uY2F0KFs1MDIsNTAzXSkpO2Q9dGhpcy5hLmdldEJvb2woImZpeF9saXZlX3N0cmVhbV9nb25lX29uX21hbmlmZXN0X3VwZGF0ZSIsITApPy0xPT09Zi5pbmRleE9mKGEuc3RhdHVzKTowIT09YS5zdGF0dXM7aWYodGhpcy5hLmdldEJvb2woImFsbG93X2luZmluaXRlX3JldHJ5X29uX25ldF9lcnIiLCEwKSYmIm5ldCI9PT1hLnR5cGUmJiFkKXN3aXRjaChhLnN0YXR1cyl7Y2FzZSA0MTA6dGhpcy5oYz0hMDt0aGlzLmomJihjbGVhclRpbWVvdXQodGhpcy5qKSx0aGlzLmo9bnVsbCk7dGhpcy5lYigpO2JyZWFrO2Nhc2UgMjAwOmNhc2UgNDE3OmEucmVzcG9uc2VIZWFkZXJzJiZudWxsIT1hLnJlc3BvbnNlSGVhZGVyc1sieC1mYi12aWRlby1yZXBsaWNhIl0/dGhpcy5kaXNwYXRjaEV2ZW50KHkoe3R5cGU6InJlcGxpY2Fzd2l0Y2giLGJ1YmJsZXM6ITAscmVwbGljYTphLnJlc3BvbnNlSGVhZGVyc1sieC1mYi12aWRlby1yZXBsaWNhIl0sdXJsOmEudXJsLHN0YXR1czphLnN0YXR1c30pKToKZD0hMDticmVhaztkZWZhdWx0OlBmKHRoaXMpfTA9PT1hLnN0YXR1cz90aGlzLkcuaW5mb3JtTmV0d29ya0ludGVycnVwdGVkKCk6dGhpcy5HLmluZm9ybU5ldHdvcmtSZXN1bWVkKCk7aWYoImRlbGF5Ij09YS50eXBlKXJldHVybiBQZih0aGlzKTt0aGlzLmEuZ2V0Qm9vbCgiYWxsb3dfaW5maW5pdGVfcmV0cnlfb25fbmV0X2VyciIsITApJiYhZHx8ImFib3J0ZWQiPT1hLnR5cGV8fChhPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGEpLHRoaXMuYiYmUGYodGhpcykpfX0pKX19O24ueWM9ZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZWplY3QoIkNhbm5vdCB1cGRhdGUgbWFuaWZlc3Qgd2l0aCB0aGlzIFZpZGVvU291cmNlIGltcGxlbWVudGF0aW9uLiIpfTtuLnhjPWZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVqZWN0KCJDYW5ub3QgdXBkYXRlIG1hbmlmZXN0IHdpdGggdGhpcyBWaWRlb1NvdXJjZSBpbXBsZW1lbnRhdGlvbi4iKX07CmZ1bmN0aW9uIE5mKGEsYil7aWYoYiYmYS5iJiZhLmIuYilpZihhLmEuZ2V0Qm9vbCgic2Vla19vdmVyX3VuYXZhaWxhYmxlX3NlZ21lbnRzX29uX21hbmlmZXN0X3VwZGF0ZSIsITEpJiZhLmVhKWIuZW5kPmEudmlkZW8uY3VycmVudFRpbWUrMTAmJihhLmVhPSExLGEudmlkZW8uY3VycmVudFRpbWU9Yi5lbmQsUWYoYSkpO2Vsc2UgaWYoYS52aWRlby5wYXVzZWQmJmIuZW5kPmEudmlkZW8uY3VycmVudFRpbWUrMTApaWYoYS5hLmdldEJvb2woImVuYWJsZV9sYXp5X2xpdmVoZWFkX2NhdGNodXAiLCExKSl7dmFyIGM9YS54YTtjPGEuSWQmJihhLnhhPSsrYyk7UmYoYSxjKTthLmNhPWIuZW5kfWVsc2UgYS5lYT0hMSxhLnZpZGVvLmN1cnJlbnRUaW1lPWIuZW5kLFFmKGEpfQpmdW5jdGlvbiBLZihhLGIpe2lmKG51bGw9PWEuYi5jKUJhbnphaU9EUy5idW1wRW50aXR5S2V5KDI5NjYsInZpZGVvcy53d3cubGl2ZSIsInVwZGF0ZV9wZXJpb2RfaXNfbnVsbCIpO2Vsc2UgaWYoIWEuRmEpe2lmKGEuYS5nZXRCb29sKCJkZWNvdXBsZV9tcGRfdXBkYXRlX2xvb3BfZnJvbV9yZXF1ZXN0X2xvb3AiLCExKSYmKGEudSYmKGNsZWFyVGltZW91dChhLnUpLGEudT1udWxsKSxzZihhKSkpcmV0dXJuO3ZhciBjPU1hdGgubWF4KGEuYi5jLGEuS2IpLGM9TWF0aC5tYXgoYy1iLDApLGQ9YS5KYi5iaW5kKGEsITEpOyFjJiZhLmcudXNlTWljcm9UYXNrVGltZW91dHM/UHJvbWlzZS5yZXNvbHZlKCkudGhlbihkKTooYS5WJiZhLlYuc2V0UmVzdWx0KCJmYWlsZWQiKS5sb2coKSxhLmwmJihhLlY9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigic2NoZWR1bGVfbWFuaWZlc3RfdXBkYXRlIikuc3RhcnQoKS5zZXRVcGRhdGVQZXJpb2QoTWF0aC5jZWlsKDFFMypjKSkpLGEudT1zZXRUaW1lb3V0KGQsCjFFMypjKSl9fWZ1bmN0aW9uIE9mKGEsYil7dmFyIGM9TWQoYiksZD1hLmNbY107aWYoZCYmZC5XYSgpPT1iKXt2YXIgZT1hLmYuZ2V0KE1kKGIpKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEudn0pLnJlZHVjZShmdW5jdGlvbihhLGIpe3JldHVybiBhLmNvbmNhdChiKX0sW10pLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gYS5vYSYmYS5mYX0pO2lmKDA9PWUubGVuZ3RoKXtjPUVycm9yKCJBbGwgdXNhYmxlIHN0cmVhbXMgaGF2ZSBiZWVuIHJlbW92ZWQgZnJvbSB0aGUgbWFuaWZlc3QuIik7Yy50eXBlPSJhcHAiO2M9QShjKTthLmRpc3BhdGNoRXZlbnQoYyk7cmV0dXJufWEuQltjXS5MYz09YiYmZGVsZXRlIGEuQltjXTtkLmpiKGVbMF0sITApO2IuZGVzdHJveSgpfWIuZGVzdHJveSgpfW4uQ2Q9ZnVuY3Rpb24oYSl7dGhpcy5wYz1hfTtZLnByb3RvdHlwZS5zZXRUYWdnZWRUaW1lUmFuZ2VzPVkucHJvdG90eXBlLkNkOwpZLnByb3RvdHlwZS53ZD1mdW5jdGlvbigpe3JldHVybiAwPT09T2JqZWN0LmtleXModGhpcy5jKS5sZW5ndGg/ITE6WyJhdWRpbyIsInZpZGVvIl0uZXZlcnkoSih0aGlzLGZ1bmN0aW9uKGEpe3JldHVybiF0aGlzLmNbYV18fHRoaXMuY1thXS5UfSkpfTtZLnByb3RvdHlwZS5oYXNIaXRCdWZmZXJpbmdHb2FsPVkucHJvdG90eXBlLndkOwpZLnByb3RvdHlwZS5aPWZ1bmN0aW9uKGEpe2lmKCF0aGlzLmZ8fCF0aGlzLmYuYS5oYXNPd25Qcm9wZXJ0eSgidmlkZW8iKSlyZXR1cm5bXTthPWEmJmEudXNlTG9jYWxCaXRyYXRlfHwhMTt2YXIgYj10aGlzLmMudmlkZW8sYz1iP2IuV2EoKTpudWxsLGQ9Yz9jLlg6MCxlPTEsZj1udWxsO3RoaXMuYS5nZXRCb29sKCJ1c2VfbGl2ZV9iaXRyYXRlX2VzdGltYXRlcyIsITEpJiZ0aGlzLlAoKSYmbnVsbCE9YiYmKGY9Yi5sYSgpLG51bGwhPWMmJjA8Yy5iYW5kd2lkdGgmJihlPWYvYy5iYW5kd2lkdGgpKTtmb3IodmFyIGM9W10sZz10aGlzLmYuZ2V0KCJ2aWRlbyIpLGg9MDtoPGcubGVuZ3RoOysraClmb3IodmFyIGs9Z1toXSxsPTA7bDxrLnYubGVuZ3RoOysrbCl7dmFyIG09ay52W2xdO2lmKG0ub2EmJm0uZmEpe3ZhciBwPW51bGw7aWYoYSYmbnVsbCE9PW0uTSl7dmFyIHQ9bS5NLmMoKSx3PWI7aWYodGhpcy5QKCl8fG51bGw9PT10fHxudWxsPT09dylwPW51bGw7ZWxzZXt2YXIgcD0KcGUodyx0aGlzLnZpZGVvLmN1cnJlbnRUaW1lLHQpLHo9dC5nZXRTZWdtZW50cygpO3RoaXMuYS5nZXRCb29sKCJzdGFydF9sb2NhbF9iaXRyYXRlX2F0X2J1ZmZlcl9lbmQiLCExKSYmKHc9TG9jYWxCaXRyYXRlSGVscGVyLmdldEJ1ZmZlckVuZFNlZ21lbnRJbmRleCh6LHAsdGhpcy52aWRlby5jdXJyZW50VGltZSthZSh3LHRoaXMudmlkZW8uY3VycmVudFRpbWUpKSxudWxsIT09dyYmKHA9dykpO3A9TG9jYWxCaXRyYXRlSGVscGVyLmdldExvY2FsQml0cmF0ZSh0LmdldFNlZ21lbnRzKCkscCx0aGlzLmEuZ2V0TnVtYmVyKCJsb2NhbF9iaXRyYXRlX3NlZ21lbnRzX2FoZWFkIiwxMCkpfXRoaXMuYS5nZXRCb29sKCJ1c2VfbWF4X2xvY2FsX2JpdHJhdGUiLCExKSYmKHA9TWF0aC5tYXgocCxtLmJhbmR3aWR0aCkpfXQ9bS5YO3A9cHx8bS5iYW5kd2lkdGg7dGhpcy5hLmdldEJvb2woInVzZV9saXZlX2JpdHJhdGVfZXN0aW1hdGVzIiwhMSkmJm51bGwhPWYmJih0PT09ZD9wPU1hdGgubWF4KHAsCmYpOjE8ZSYmKHA9cCplKSxwPU1hdGgucm91bmQocCkpO209bmV3IHVhKHQscCxtLndpZHRoLG0uaGVpZ2h0LG0uaWQsbS5mYlF1YWxpdHlMYWJlbCxtLmZiUXVhbGl0eUNsYXNzLG0uZixtLmZyYW1lUmF0ZSxtLm1pbWVUeXBlLG0uY29kZWNzLG0uZyxtLmgpO3Q9PWQmJihtLmFjdGl2ZT0hMCk7Yy5wdXNoKG0pfX1yZXR1cm4gY307WS5wcm90b3R5cGUuZ2V0VmlkZW9UcmFja3M9WS5wcm90b3R5cGUuWjtZLnByb3RvdHlwZS5SYz1mdW5jdGlvbigpe2lmKHRoaXMuZ2EpcmV0dXJuIHRoaXMuZ2E7aWYoIXRoaXMuYilyZXR1cm4gbnVsbDtmb3IodmFyIGE9MDthPHRoaXMuYi5hLmxlbmd0aDsrK2EpZm9yKHZhciBiPXRoaXMuYi5hW2FdLGM9MDtjPGIuYS5sZW5ndGg7KytjKWlmKHRoaXMuZ2E9Yi5hW2NdLmMpcmV0dXJuIHRoaXMuZ2E7cmV0dXJuIG51bGx9O1kucHJvdG90eXBlLmdldFZpZGVvUHJvamVjdGlvbj1ZLnByb3RvdHlwZS5SYztZLnByb3RvdHlwZS5PYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmtifTsKWS5wcm90b3R5cGUuZ2V0TG9jYWxFc3RpbWF0b3I9WS5wcm90b3R5cGUuT2M7ZnVuY3Rpb24gU2YoYSl7YT1hLlooKTtmb3IodmFyIGI9MDtiPGEubGVuZ3RoO2IrKylpZihhW2JdLmFjdGl2ZSlyZXR1cm4gYVtiXX1ZLnByb3RvdHlwZS52YT1mdW5jdGlvbigpe2lmKCF0aGlzLmZ8fCF0aGlzLmYuYS5oYXNPd25Qcm9wZXJ0eSgiYXVkaW8iKSlyZXR1cm5bXTtmb3IodmFyIGE9dGhpcy5jLmF1ZGlvLGE9KGE9YT9hLldhKCk6bnVsbCk/YS5YOjAsYj1bXSxjPXRoaXMuZi5nZXQoImF1ZGlvIiksZD0wO2Q8Yy5sZW5ndGg7KytkKWZvcih2YXIgZT1jW2RdLGY9ZS5sYW5nLGc9MDtnPGUudi5sZW5ndGg7KytnKXt2YXIgaD1lLnZbZ107aWYoaC5vYSYmaC5mYSl7dmFyIGs9aC5YLGg9bmV3IGZhKGssaC5iYW5kd2lkdGgsZixoLmlkLGgubWltZVR5cGUsaC5jb2RlY3MsdGhpcy5iLnUsaC5jKTtrPT1hJiYoaC5hY3RpdmU9ITApO2IucHVzaChoKX19cmV0dXJuIGJ9OwpZLnByb3RvdHlwZS5nZXRBdWRpb1RyYWNrcz1ZLnByb3RvdHlwZS52YTtZLnByb3RvdHlwZS5tYz1mdW5jdGlvbigpe2lmKCF0aGlzLmZ8fCF0aGlzLmYuYS5oYXNPd25Qcm9wZXJ0eSgidGV4dCIpKXJldHVybltdO2Zvcih2YXIgYT10aGlzLmMudGV4dCxiPWE/YS5XYSgpOm51bGwsYj1iP2IuWDowLGM9W10sZD10aGlzLmYuZ2V0KCJ0ZXh0IiksZT0wO2U8ZC5sZW5ndGg7KytlKWZvcih2YXIgZj1kW2VdLGc9Zi5sYW5nLGg9MDtoPGYudi5sZW5ndGg7KytoKXt2YXIgaz1mLnZbaF0uWCxsPW5ldyB0YShrLGcpO2s9PWImJihsLmFjdGl2ZT0hMCxsLmVuYWJsZWQ9YS5EYigpKTtjLnB1c2gobCl9cmV0dXJuIGN9O1kucHJvdG90eXBlLmdldFRleHRUcmFja3M9WS5wcm90b3R5cGUubWM7WS5wcm90b3R5cGUuYWM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iJiZ0aGlzLmIubSYmMDx0aGlzLmIubT8hMDohMX07WS5wcm90b3R5cGUuaXNVc2luZ0FTUkNhcHRpb25zPVkucHJvdG90eXBlLmFjOwpZLnByb3RvdHlwZS5iYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmImJnRoaXMuYi5vJiYwPHRoaXMuYi5vJiZna3goIjExNzYyNTEiKT8hMDohMX07WS5wcm90b3R5cGUuaXNVc2luZ0FTUkNhcHRpb25zRW1wbG95ZWVEb2dmb29kaW5nPVkucHJvdG90eXBlLmJjO2Z1bmN0aW9uIHJmKGEpe3ZhciBiPU51bWJlcihhLmcuaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemUpO2EuZy5maXhCdWZmZXJpbmdHb2FsRGV0ZXJtaW5hdGlvbiYmKGI9MSk7aWYoYS5hLmdldEJvb2woImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvdyIsITEpKWI9YS5LO2Vsc2V7dmFyIGM9YS5hLmdldE51bWJlcigiYnVmZmVyaW5nX292ZXJmbG93X3RocmVzaG9sZCIsMCk7MDxjJiYoYj1jKX1yZXR1cm4gYS4kYj9OdW1iZXIoYS5nLnN0cmVhbUJ1ZmZlclNpemUpOmJ9CmZ1bmN0aW9uIE5lKGEpe2lmKGEuTyl7YT1hLmIuYVswXTtmb3IodmFyIGI9W10sYz0wO2M8YS5hLmxlbmd0aDsrK2MpYi5wdXNoLmFwcGx5KGIsUWQoYS5hW2NdKSk7YT1ifWVsc2UgYT1bXTtyZXR1cm4gYX0KZnVuY3Rpb24gUGUoYSxiKXtpZihhLk8pe2Zvcih2YXIgYz17fSxkPWEuYi5hWzBdLGU9MDtlPGQuYS5sZW5ndGg7KytlKXt2YXIgZj1kLmFbZV07Y1tmLlhdPWZ9YS5mLmE9e307ZD1hYihiKTtmb3IoZT0wO2U8ZC5sZW5ndGg7KytlKXt2YXIgZj1kW2VdLGc9Yi5nZXQoZik7aWYoInZpZGVvIj09Zil7dmFyIGg9Z1swXS5pZDthLmYucHVzaChmLGNbaF0pfWVsc2UgaWYoImF1ZGlvIj09Zil7aWYoMDxnLmxlbmd0aClmb3IodmFyIGg9Z1swXS5iLnNwbGl0KCI7IilbMF0saz0wO2s8Zy5sZW5ndGg7KytrKXt2YXIgbD1nW2tdO2wuYi5zcGxpdCgiOyIpWzBdPT1oJiZhLmYucHVzaChmLGNbbC5pZF0pfX1lbHNlIGZvcihrPTA7azxnLmxlbmd0aDsrK2spaD1nW2tdLmlkLGEuZi5wdXNoKGYsY1toXSl9YS55YT0hMDtpZihjPWEuZi5nZXQoImF1ZGlvIikpVGYoYSxjKSxhLmYuc2V0KCJhdWRpbyIsYyksYz1jWzBdLmxhbmd8fGEuUyxSYSgyLGEuUyxjKSYmKGEueWE9ITEpO2lmKGM9YS5mLmdldCgidGV4dCIpKVRmKGEsCmMpLGEuZi5zZXQoInRleHQiLGMpLGM9Y1swXS5sYW5nfHxhLlMsUmEoMixhLlMsYyl8fChhLnlhPSExKX19WS5wcm90b3R5cGUuWGM9ZnVuY3Rpb24oKXt0aGlzLkVhPSEwfTtZLnByb3RvdHlwZS5zZXRDbGVhckJ1ZmZlckFmdGVyU2Vla2luZz1ZLnByb3RvdHlwZS5YYztZLnByb3RvdHlwZS5zZWxlY3RWaWRlb1RyYWNrPWZ1bmN0aW9uKGEsYixjLGQsZSl7cmV0dXJuIG1mKHRoaXMsInZpZGVvIixhLGIsYyxkLGUpfTtZLnByb3RvdHlwZS5yZXN1bWVWaWRlb0ZldGNoaW5nPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5jLnZpZGVvP3RoaXMuYy52aWRlby5GOm51bGw7YSYmYS5yZXN1bWVWaWRlb0ZldGNoaW5nKCl9O1kucHJvdG90eXBlLnJlc3VtZVZpZGVvRmV0Y2hpbmc9WS5wcm90b3R5cGUucmVzdW1lVmlkZW9GZXRjaGluZztZLnByb3RvdHlwZS5IZD1mdW5jdGlvbigpe3ZhciBhPXRoaXMuYy52aWRlbz90aGlzLmMudmlkZW8uRjpudWxsO2EmJmEuc3RvcFVudGlsU2VnbWVudHNVcGRhdGUoKX07ClkucHJvdG90eXBlLnN0b3BVbnRpbFZpZGVvU3RyZWFtU3dpdGNoPVkucHJvdG90eXBlLkhkO2Z1bmN0aW9uIG5mKGEsYil7dmFyIGM9YS5jLnRleHQ7YyYmYy52YihiKX0KZnVuY3Rpb24gRWYoYSl7aWYoYS5tKXtmb3IodmFyIGI9ITEsYz0wO2M8YS5iLmEubGVuZ3RoOysrYylmb3IodmFyIGQ9YS5iLmFbY10sZT0wO2U8ZC5hLmxlbmd0aDsrK2Upe3ZhciBmPWQuYVtlXTtpZigidmlkZW8iPT1mLmNvbnRlbnRUeXBlKWZvcih2YXIgZz0wO2c8Zi52Lmxlbmd0aDsrK2cpe3ZhciBoPWYudltnXSxrPWguZmE7aC5mYT0hMDthLm0ubWF4V2lkdGgmJmgud2lkdGg+YS5tLm1heFdpZHRoJiYoaC5mYT0hMSk7YS5tLm1heEhlaWdodCYmaC5oZWlnaHQ+YS5tLm1heEhlaWdodCYmKGguZmE9ITEpO2EubS5taW5IZWlnaHQmJmguaGVpZ2h0PGEubS5taW5IZWlnaHQmJihoLmZhPSExKTthLm0ubWF4QmFuZHdpZHRoJiZoLmJhbmR3aWR0aD5hLm0ubWF4QmFuZHdpZHRoJiYoaC5mYT0hMSk7YS5tLm1pbkJhbmR3aWR0aCYmaC5iYW5kd2lkdGg8YS5tLm1pbkJhbmR3aWR0aCYmKGguZmE9ITEpO2shPWguZmEmJihiPSEwKX19MCE9JGEoYS5mKS5sZW5ndGgmJmImJihVZihhKSwKMDxhLlooKS5sZW5ndGh8fChiPUVycm9yKCJUaGUgYXBwbGljYXRpb24gaGFzIHJlc3RyaWN0ZWQgYWxsIHZpZGVvIHRyYWNrcyEiKSxiLnR5cGU9ImFwcCIsYj1BKGIpLGEuZGlzcGF0Y2hFdmVudChiKSkpfX1ZLnByb3RvdHlwZS5QPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYj90aGlzLmIuYjpudWxsfTtZLnByb3RvdHlwZS5pc0xpdmU9WS5wcm90b3R5cGUuUDtZLnByb3RvdHlwZS5ZYz1mdW5jdGlvbihhKXt0aGlzLiRiPWF9O1kucHJvdG90eXBlLnNldElzTGl2ZUludGVycnVwdGVkPVkucHJvdG90eXBlLlljO1kucHJvdG90eXBlLnZkPWZ1bmN0aW9uKCl7Zm9yKHZhciBhIGluIHRoaXMuYyl0aGlzLmNbYV0uSGMoKX07WS5wcm90b3R5cGUuZm9yY2VSZXN5bmNWaWRlb0J1ZmZlcj1ZLnByb3RvdHlwZS52ZDsKZnVuY3Rpb24gV2UoYSxiKXtmb3IodmFyIGMsZD0hMSxlPW5ldyBELGY9JGEoYS5mKSxnPTA7ZzxmLmxlbmd0aDsrK2cpZm9yKHZhciBoPWZbZ10saz0wO2s8aC52Lmxlbmd0aDsrK2spe3ZhciBsPWgudltrXTtsLmIuZm9yRWFjaChmdW5jdGlvbihhKXtlLnB1c2goYSxsKX0pfWZvcihjIGluIGIpaWYoZj1QYVtiW2NdXXx8bnVsbCxoPWUuZ2V0KGMpKWZvcihnPTA7ZzxoLmxlbmd0aDsrK2cpbD1oW2ddLGs9bC5vYSxsLm9hPSFmLGshPWwub2EmJihkPSEwKTtlbHNlIGliKGMpO2QmJihVZihhKSxkPWEudmEoKSxjPWEuWigpLGQ9YS5mLmEuaGFzT3duUHJvcGVydHkoImF1ZGlvIikmJjA9PWQubGVuZ3RoLGM9YS5mLmEuaGFzT3duUHJvcGVydHkoInZpZGVvIikmJjA9PWMubGVuZ3RoLGR8fGMpJiYoYz1FcnJvcigiVGhlIGtleSBzeXN0ZW0gaGFzIHJlc3RyaWN0ZWQgYWxsICIrKGQmJmM/ImF1ZGlvIGFuZCB2aWRlbyB0cmFja3MuIjpkPyJhdWRpbyB0cmFja3MuIjoidmlkZW8gdHJhY2tzLiIpKSwKYy50eXBlPSJkcm0iLGM9QShjKSxhLmRpc3BhdGNoRXZlbnQoYykpfWZ1bmN0aW9uIFVmKGEpe3ZhciBiPXkoe3R5cGU6InRyYWNrc2NoYW5nZWQiLGJ1YmJsZXM6ITB9KTthLmRpc3BhdGNoRXZlbnQoYil9ZnVuY3Rpb24gbWYoYSxiLGMsZCxlLGYsZyl7Zz0hIWc7aWYoIWEuZi5hLmhhc093blByb3BlcnR5KGIpfHwhYS5jW2JdKXJldHVybiExO2Zvcih2YXIgaD1hLmYuZ2V0KGIpLGs9MDtrPGgubGVuZ3RoOysraylmb3IodmFyIGw9aFtrXSxtPTA7bTxsLnYubGVuZ3RoOysrbSl7dmFyIHA9bC52W21dO2lmKHAuWD09Yyl7aWYoIXAub2F8fCFwLmZhKXJldHVybiExO2lmKCJ0ZXh0IiE9YiYmIWEuQ2EpcmV0dXJuIGM9YS5CW2JdLGEuQltiXT17TGM6cCxyYzpudWxsIT1jJiZjLnJjfHxkLHNjOm51bGwhPWMmJmMuc2N8fGUsc3dpdGNoUmVhc29uOmYsS2E6Z30sITA7YS5jW2JdLmpiKHAsZCxlLGYsZyk7cmV0dXJuITB9fXJldHVybiExfQpmdW5jdGlvbiBUZihhLGIpe2Zvcih2YXIgYz0wOzI+PWM7KytjKWZvcih2YXIgZD0wO2Q8Yi5sZW5ndGg7KytkKXt2YXIgZT1iW2RdO2lmKFJhKGMsYS5TLGUubGFuZykpe2Iuc3BsaWNlKGQsMSk7Yi5zcGxpY2UoMCwwLGUpO3JldHVybn19Zm9yKGQ9MDtkPGIubGVuZ3RoOysrZClpZihlPWJbZF0sZS5mKXtiLnNwbGljZShkLDEpO2Iuc3BsaWNlKDAsMCxlKTticmVha319bj1ZLnByb3RvdHlwZTtuLmhkPWZ1bmN0aW9uKCl7dGhpcy5oLmFiKHRoaXMuaSwic291cmNlb3BlbiIpO3RoaXMuSWIucmVzb2x2ZSgpfTsKZnVuY3Rpb24gRmYoYSl7dmFyIGI7YS5sJiYoYj1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJzdGFydF9zdHJlYW1zIikuc3RhcnQoKSk7Zm9yKHZhciBjPVtdLGQ9WyJhdWRpbyIsInZpZGVvIiwidGV4dCJdLGU9MDtlPGQubGVuZ3RoOysrZSl7dmFyIGY9ZFtlXTthLmYuYS5oYXNPd25Qcm9wZXJ0eShmKSYmYy5wdXNoKGEuZi5nZXQoZilbMF0pfWZvcih2YXIgZz1WZihhLGMpLGU9MDtlPGQubGVuZ3RoOysrZSlpZihmPWRbZV0sYS5mLmEuaGFzT3duUHJvcGVydHkoZikmJiFnW2ZdKXJldHVybiBhPUVycm9yKCJVbmFibGUgdG8gc2VsZWN0IGFuIGluaXRpYWwgIitmKyIgc3RyZWFtOiBhbGwgIitmKyIgc3RyZWFtcyBoYXZlIGJlZW4gcmVzdHJpY3RlZCAoYnkgdGhlIGFwcGxpY2F0aW9uIG9yIGJ5IHRoZSBrZXkgc3lzdGVtKS4iKSxhLnR5cGU9InN0cmVhbSIsYiYmYi5zZXRFcnJvcihhKS5sb2coKSxQcm9taXNlLnJlamVjdChhKTtjPVdhKGcpLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS5NLmNyZWF0ZSgpfSk7CmMucHVzaChhLkliKTtyZXR1cm4gUHJvbWlzZS5hbGwoYykudGhlbihKKGEsZnVuY3Rpb24oYSl7YS5wb3AoKTtpZighYS5ldmVyeShmdW5jdGlvbihhKXtyZXR1cm4gYS5sZW5ndGgoKX0pKXJldHVybiBhPUVycm9yKCJTb21lIHN0cmVhbXMgYXJlIG5vdCBhdmFpbGFibGUuIiksYS50eXBlPSJzdHJlYW0iLFByb21pc2UucmVqZWN0KGEpO2E9TWYodGhpcyxhKTtpZighYSlyZXR1cm4gYT1FcnJvcigiU29tZSBzdHJlYW1zIGFyZSBub3QgYXZhaWxhYmxlLiIpLGEudHlwZT0ic3RyZWFtIixQcm9taXNlLnJlamVjdChhKTtpZighV2YodGhpcyxnKSlyZXR1cm4gYT1FcnJvcigiRmFpbGVkIHRvIGNyZWF0ZSBTdHJlYW0gb2JqZWN0cy4iKSxhLnR5cGU9InN0cmVhbSIsUHJvbWlzZS5yZWplY3QoYSk7dGhpcy5BLnN0YXJ0KCk7WGYodGhpcyxnLGEpO3JldHVybiBQcm9taXNlLnJlc29sdmUoKX0pKS50aGVuKGZ1bmN0aW9uKCl7YiYmYi5sb2coKX0pLmNhdGNoKEooYSxmdW5jdGlvbihhKXtpZigiYWJvcnRlZCI9PQphLnR5cGUpYiYmYi5zZXRFcnJvcihhKS5sb2coKTtlbHNle09iamVjdC5rZXlzKHRoaXMuYyk7aWYodGhpcy5iLmIpcmV0dXJuIHlhKCk8dGhpcy5iLmo/KGE9TWF0aC5tYXgodGhpcy5iLmotRGF0ZS5ub3coKS8xRTMsdGhpcy5LYiksdGhpcy51PXNldFRpbWVvdXQodGhpcy5KYi5iaW5kKHRoaXMsITApLDFFMyphKSk6S2YodGhpcywwKSxiJiZiLmxvZygpLFByb21pc2UucmVzb2x2ZSgpO2ImJmIuc2V0RXJyb3IoYSkubG9nKCk7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfX0pKX0KZnVuY3Rpb24gVmYoYSxiKXtmb3IodmFyIGM9e30sZD0wO2Q8Yi5sZW5ndGg7KytkKXt2YXIgZT1iW2RdLGY9bnVsbDtpZigidmlkZW8iPT1lLmNvbnRlbnRUeXBlKXt2YXIgZz1hLkEuZ2V0SW5pdGlhbFZpZGVvVHJhY2tJZCgpO2lmKG51bGw9PWcpY29udGludWU7Zj1lLnYuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiBhLlg9PWd9KTtpZigwPT1mLmxlbmd0aCljb250aW51ZTtmPWZbMF19ZWxzZSBpZigiYXVkaW8iPT1lLmNvbnRlbnRUeXBlKWlmKGc9YS5BLmdldEluaXRpYWxBdWRpb1RyYWNrSWQoKSxmPWUudi5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIGEuWD09Z30pLDA9PWYubGVuZ3RoKXtmPWUudi5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIGEub2EmJmEuZmF9KTtpZigwPT1mLmxlbmd0aCljb250aW51ZTtmPWUudltNYXRoLmZsb29yKGYubGVuZ3RoLzIpXX1lbHNlIGY9ZlswXTtlbHNlIDA8ZS52Lmxlbmd0aCYmKGY9ZS52WzBdKTtjW2UuY29udGVudFR5cGVdPWZ9cmV0dXJuIGN9CmZ1bmN0aW9uIFdmKGEsYil7dmFyIGM9e30sZDtmb3IoZCBpbiBiKXt2YXIgZT1iW2RdLGU9InRleHQiPT1kP25ldyB0ZShhLGEudmlkZW8pOllmKGEsZSk7aWYoIWUpcmV0dXJuIFdhKGMpLmZvckVhY2goZnVuY3Rpb24oYSl7YS5kZXN0cm95KCl9KSwhMTtjW2RdPWV9YS5QYihhLm5jKTthLmM9YztyZXR1cm4hMH0KZnVuY3Rpb24gWWYoYSxiKXt2YXIgYz1OZChiKSxkPVpmKGMuc3BsaXQoIjsiKVswXSksZT1udWxsLGY9YS5hLmdldEJvb2woInVzZV9sb2NhbF9lc3RpbWF0b3JfZm9yX2Ficl9zYW1wbGluZyIsITApP2Eua2I6YS53YSxnPW51bGwsaD1udWxsLGs9YS5iLmZ8fGEuYi5BLGs9YS5hLmdldEJvb2woInNraXBfc2VnbWVudF9yZXF1ZXN0X21hbmFnZXIiLCExKSYmazthLldiJiZjYW5Vc2VGZXRjaFN0cmVhbSgpPyhoPW5ldyBNdWx0aXBsZVNlZ21lbnRzUHJvdmlkZXIoYS5hLmdldE51bWJlcigic3RyZWFtaW5nX3NlZ21lbnRfc2l6ZSIsNCkpLGc9JGYoYSxoLGQsZikpOmEuVmImJiFrJiYoZT1hZyhhLGQsZikpO3ZhciBrPW51bGwsbD1hLmYuZ2V0KGQpOyJ2aWRlbyI9PT1kJiYwPGwubGVuZ3RoJiYoaz1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz1udWxsLGQ9bnVsbCxlPTA7ZTxsWzBdLnYubGVuZ3RoO2UrKylsWzBdLnZbZV0uaWQ9PT1hP2M9bFswXS52W2VdOmxbMF0udltlXS5pZD09PQpiJiYoZD1sWzBdLnZbZV0pO3JldHVybiBudWxsPT09Y3x8bnVsbD09PWQ/MDpjLmJhbmR3aWR0aD5kLmJhbmR3aWR0aD8xOi0xfSk7Yz1uZXcgVShhLGEudmlkZW8sYS5hLGEuaSxjLGYsYS5wYyxhLmRhLGssYS5HLGUsZyxoLGEuaWEpO2MucGEoYS5nKTtyZXR1cm4gY30KZnVuY3Rpb24gJGYoYSxiLGMsZCl7dmFyIGU9YS53W2NdLGY9ImF1ZGlvIiE9PWN8fGEuYS5nZXRCb29sKCJlbmFibGVfYXVkaW9fc3RyZWFtaW5nIiwhMSk7aWYoIWUmJmYpe3ZhciBlPW5ldyBWaWRlb1N0cmVhbWluZ01hbmFnZXIoYS5hLGIsYyxhLmwsYS5VKSxnPSJ2aWRlbyI9PT1jO2cmJmUuYWRkTGlzdGVuZXIoImJhbmR3aWR0aFVwZGF0ZSIsZnVuY3Rpb24oYSl7ZC5zYW1wbGUoYS50aW1lVGFrZW4sYS5ieXRlc1JlYWQsZyx7dGltZVRvTGFzdEJ5dGU6YS50aW1lVGFrZW59LHRoaXMuQWIsdGhpcy5sLCF0aGlzLmEuZ2V0Qm9vbCgiZXZhbHVhdGVfYWJyX29uX3N0cmVhbV9iYW5kd2lkdGhfc2FtcGxlIiwhMCkpfS5iaW5kKGEpKX1lJiYoYS53W2NdPWUpO3JldHVybiBlfHxudWxsfQpmdW5jdGlvbiBhZyhhLGIsYyl7aWYoInZpZGVvIj09PWJ8fCJhdWRpbyI9PT1iJiZhLmEuZ2V0Qm9vbCgiZW5hYmxlX3JlcXVlc3RfcGlwZWxpbmluZ19mb3Jfdm9kX2F1ZGlvcyIsITEpKXt2YXIgZD1hLm9bYl07ZHx8KGQ9bmV3IFNlZ21lbnRSZXF1ZXN0TWFuYWdlcihhLmEsYixhLlAoKT9WaWRlb1ByaW9yaXR5Q2FsY3VsYXRvci5jYWxjdWxhdGVMaXZlOlZpZGVvUHJpb3JpdHlDYWxjdWxhdG9yLmNhbGN1bGF0ZSxhLmwsYyxhLkFiLGEuZGEsYS5pYSksYS5SJiZkLnVwZGF0ZVByaW9yaXR5V2l0aE5ld0FkanVzdG1lbnQoYS5SLmdldFByaW9yaXR5QWRqdXN0bWVudCgpKSxhLm9bYl09ZCk7cmV0dXJuIGR9cmV0dXJuIG51bGx9ZnVuY3Rpb24gYmcoYSxiKXthLnZpZGVvLmN1cnJlbnRUaW1lPWI7YS5hLmdldEJvb2woInNldF9wZW5kaW5nX3NlZWtfb25fc2V0X2N1cnJlbnRfdGltZV9mYWlsdXJlIiwhMSkmJmEudmlkZW8uY3VycmVudFRpbWUrMTxiJiZjZyhhLGIpO2EuRD1ifQpmdW5jdGlvbiBYZihhLGIsYyl7YS5rYz1hLnZpZGVvLnBsYXliYWNrUmF0ZTthLnZpZGVvLnBsYXliYWNrUmF0ZT0wO2RnKGEsYyk7dmFyIGQ7ZD1hLmIuZjsoIWEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9hZGp1c3Rfc3RyZWFtX2xpbWl0c19zdGFydF9vZmZzZXRfaW50IiwwKSYmIWEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9qdW1wX3RvX2xpdmVfc2lkeF9lbmRfb2Zmc2V0IiwwKXx8IWQpJiZhLmxhJiZhLmxhPD1jLmVuZCYmYS5sYT49Yy5zdGFydD9kPWEubGE6YS5iLmI/KGQ9ZWcoYSxjKSxhLmVjPSEwKTpkPWMuc3RhcnQ7RShhLmgsYS52aWRlbywic2Vla2luZyIsYS5tZC5iaW5kKGEpKTthLkk/KGEuSS5zZXRPblBsYXlpbmcoYS5tYi5iaW5kKGEsITApKSxhLkkuc2V0T25QYXVzZWQoYS5tYi5iaW5kKGEsITEpKSxhLkkuZW5hYmxlKCkpOihFKGEuaCxhLnZpZGVvLCJwbGF5aW5nIixhLm1iLmJpbmQoYSwhMCkpLGEuYS5nZXRCb29sKCJ1cGRhdGVfcHJpb3JpdHlfb25fcGxheV9ldmVudCIsCiEwKSYmRShhLmgsYS52aWRlbywicGxheSIsYS5tYi5iaW5kKGEsITApKSxFKGEuaCxhLnZpZGVvLCJwYXVzZSIsYS5tYi5iaW5kKGEsITEpKSk7RShhLmgsYS52aWRlbywic2Vla2luZyIsYS5NYy5iaW5kKGEpKTtFKGEuaCxhLnZpZGVvLCJ0aW1ldXBkYXRlIix0aHJvdHRsZShhLk1jLmJpbmQoYSksYS5hLmdldE51bWJlcigic2NoZWR1bGVyX3ByaW9yaXR5X3VwZGF0ZV9pbnRlcnZhbCIsMUUzKSkpO2lmKGEudmlkZW8uY3VycmVudFRpbWUhPWQpaWYoYS5TYikwIT09YS52aWRlby5yZWFkeVN0YXRlP2JnKGEsZCk6Y2coYSxkKTtlbHNlIHRyeXtiZyhhLGQpfWNhdGNoKGUpe2NnKGEsZCl9ZmcoYSxjLnN0YXJ0LGMuZW5kLGMubGFzdCxjLlphKTt2YXIgZj1bXSxnO2ZvcihnIGluIGEuYyl7Yz1hLmNbZ107SihhLGZ1bmN0aW9uKGEpe2YucHVzaChhLktjKHRoaXMuc2EpLnRoZW4oSih0aGlzLGZ1bmN0aW9uKGIpe3ZhciBjPWEuc2IoKTtjPnRoaXMuQmImJih0aGlzLkJiPWMpO3JldHVybiBifSkpKX0pKGMpOwpFKGEuaCxjLCJlbmRlZCIsYS5vZC5iaW5kKGEpKTtFKGEuaCxjLCJzaG91bGRfZW5kX2FsbF9zdHJlYW1zIixhLnBkLmJpbmQoYSkpO0UoYS5oLGMsInNob3VsZF9udWRnZSIsYS5qZC5iaW5kKGEpKTtkPWJbZ107dmFyIGg9YS5BLmdldEluaXRpYWxTd2l0Y2hSZWFzb24oKXx8dm9pZCAwO2MuamIoZCwhMSx2b2lkIDAsaCl9UHJvbWlzZS5hbGwoZikudGhlbihKKGEsZnVuY3Rpb24oYSl7dGhpcy5hLmdldEJvb2woInByZXZlbnRfc3RyZWFtX3N0YXJ0X2lmX3N0cmVhbXNfY2hhbmdlIiwhMSkmJiFnZyh0aGlzKXx8aGcodGhpcyxhKX0pKS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7ImRlc3Ryb3kiIT1hLnR5cGUmJihhPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGEpKX0pKTtuZihhLGEueWEpfQpuLm1iPWZ1bmN0aW9uKGEpe09iamVjdC5rZXlzKHRoaXMubykuZm9yRWFjaChmdW5jdGlvbihiKXt0aGlzLm9bYl0udXBkYXRlUHJpb3JpdHlXaXRoTmV3UGxheWluZ1N0YXRlKGEpfS5iaW5kKHRoaXMpKTtPYmplY3Qua2V5cyh0aGlzLncpLmZvckVhY2goZnVuY3Rpb24oYil7dGhpcy53W2JdLmdldFByaW9yaXR5VXBkYXRlcigpLnVwZGF0ZVByaW9yaXR5V2l0aE5ld1BsYXlpbmdTdGF0ZShhKX0uYmluZCh0aGlzKSk7aWYodGhpcy5sKXt2YXIgYj1NZih0aGlzLEhmKHRoaXMpKTtiJiZ0aGlzLnZpZGVvLmN1cnJlbnRUaW1lPGIuc3RhcnQmJkJhbnphaU9EUy5idW1wRW50aXR5S2V5KDI5NjYsInZpZGVvcy53d3cuc2hha2EiLCJjdXJyZW50X3RpbWVfYXRfcGxheWluZ19sZXNzX3RoYW5fc3RyZWFtX2xpbWl0c19zdGFydCIpfWEmJm51bGwhPT10aGlzLmNhJiYodGhpcy54YT0xLFJmKHRoaXMsdGhpcy54YSksaWcodGhpcykpfTsKbi5NYz1mdW5jdGlvbigpe3RoaXMudmlkZW8mJihPYmplY3Qua2V5cyh0aGlzLm8pLmZvckVhY2goZnVuY3Rpb24oYSl7dGhpcy5vW2FdLnVwZGF0ZVByaW9yaXR5V2l0aE5ld1BsYXloZWFkKHRoaXMudmlkZW8uY3VycmVudFRpbWUpfS5iaW5kKHRoaXMpKSxPYmplY3Qua2V5cyh0aGlzLncpLmZvckVhY2goZnVuY3Rpb24oYSl7dGhpcy53W2FdLmdldFByaW9yaXR5VXBkYXRlcigpLnVwZGF0ZVByaW9yaXR5V2l0aE5ld1BsYXloZWFkKHRoaXMudmlkZW8uY3VycmVudFRpbWUpfS5iaW5kKHRoaXMpKSl9O2Z1bmN0aW9uIFFmKGEpe2lmKGEuYS5nZXRCb29sKCJjbGVhcl9jdXJyZW50X3NlZ21lbnRfaW5kZXhlc19kdXJpbmdfbGl2ZWhlYWRfY2F0Y2h1cCIsITEpKWZvcih2YXIgYiBpbiBhLmMpYS5jW2JdLmk9bnVsbH1mdW5jdGlvbiBjZyhhLGIpe2EuYmE9Yjtmb3IodmFyIGMgaW4gYS5jKXt2YXIgZD1hLmNbY107YS5iYSYmKGQuSj1hLmJhKX19CmZ1bmN0aW9uIGdnKGEpe3JldHVybiFPYmplY3Qua2V5cyhhLmMpLnNvbWUoSihhLGZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNbYV0mJiF0aGlzLmNbYV0uaH0pKX0KZnVuY3Rpb24gaGcoYSxiKXtiYShiJiZiLmxlbmd0aD09T2JqZWN0LmtleXMoYS5jKS5sZW5ndGgpO2Zvcih2YXIgYz1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksZD1OdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFksZT0wO2U8Yi5sZW5ndGg7KytlKXZhciBmPWJbZV0sYz1NYXRoLm1pbihjLGYpLGQ9TWF0aC5tYXgoZCxmKTtjPUhmKGEpO2ZvcihlPTA7ZTxjLmxlbmd0aDsrK2UpY1tlXS5UYShkKTthLmEuZ2V0Qm9vbCgicHJvY2Vzc19kZWZlcnJlZF9zd2l0Y2hlc19lYXJseSIsITEpJiZqZyhhKTtrZyhhLGMsZCk7dmFyIGc9V2EoYS5jKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuV2EoKS5pZH0pO2EuYS5nZXRCb29sKCJzZXF1ZW50aWFsbHlfbG9hZF9zdHJlYW1zIiwhMSk/bGcoYSxnLGQpOihlPSRhKGEuZikubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLnZ9KS5yZWR1Y2UoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5jb25jYXQoYil9LFtdKS5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIX5nLmluZGV4T2YoYS5pZCl9KS5tYXAoSihhLApmdW5jdGlvbihhKXt2YXIgYj1bYS5NLnBiP2EuTS5wYigpOmEuTS5jcmVhdGUoKV07YS5hYSYmYi5wdXNoKGEuYWEuY3JlYXRlKHRoaXMubCx0aGlzLmRhKSk7cmV0dXJuIFByb21pc2UuYWxsKGIpfSkpLFByb21pc2UuYWxsKGUpLnRoZW4oSihhLGZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7KytiKWFbYl1bMF0uVGEoZCk7dGhpcy5DYT0hMDtqZyh0aGlzKX0pKS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7ImFib3J0ZWQiIT1hLnR5cGUmJihhPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGEpKX0pKSl9CmZ1bmN0aW9uIGxnKGEsYixjKXt2YXIgZD1Qcm9taXNlLnJlc29sdmUoKTskYShhLmYpLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS52fSkucmVkdWNlKGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuY29uY2F0KGIpfSxbXSkuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiF+Yi5pbmRleE9mKGEuaWQpfSkuZm9yRWFjaChmdW5jdGlvbihhKXtkPWQudGhlbihKKHRoaXMsZnVuY3Rpb24oYil7YiYmYlswXS5UYShjKTtiPVthLk0ucGI/YS5NLnBiKCk6YS5NLmNyZWF0ZSgpXTthLmFhJiZiLnB1c2goYS5hYS5jcmVhdGUodGhpcy5sLHRoaXMuZGEpKTtyZXR1cm4gUHJvbWlzZS5hbGwoYil9KSkuY2F0Y2goZnVuY3Rpb24oYSl7dGhyb3cgYTt9KX0pO2QudGhlbihKKGEsZnVuY3Rpb24oKXt0aGlzLkNhPSEwO2pnKHRoaXMpfSkpLmNhdGNoKEooYSxmdW5jdGlvbihhKXsiYWJvcnRlZCIhPWEudHlwZSYmKGE9QShhKSx0aGlzLmRpc3BhdGNoRXZlbnQoYSkpfSkpfQpmdW5jdGlvbiBqZyhhKXtmb3IodmFyIGIgaW4gYS5CKXt2YXIgYz1hLkJbYl07YS5jW2JdLmpiKGMuTGMsYy5yYyxjLnNjLGMuc3dpdGNoUmVhc29uLGMuS2EpfWEuQj17fX0KZnVuY3Rpb24ga2coYSxiLGMpe3ZhciBkO2EuYS5nZXRCb29sKCJ3d3dfdmlkZW9zX2V4dGVuZGVkX3NwbF9sb2dnaW5nX2Zvcl9jb25uZWN0ZWRfdHYiLCExKSYmYS5sJiYoZD1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJzdHJlYW1fdmlkZW9fc291cmNlX2JlZ2luX3BsYXliYWNrIikpO2lmKGI9TWYoYSxiKSlkZyhhLGIpLGZnKGEsYi5zdGFydCxiLmVuZCxiLmxhc3QsYi5aYSk7MCE9Yz8oYz1hLnZpZGVvLmN1cnJlbnRUaW1lK2MsYS5hLmdldE51bWJlcigid3d3X3ZpZGVvc19udWRnZV90aW1lc3RhbXBfY29ycmVjdGlvbl9zIiwwKSYmKGMrPWEuYS5nZXROdW1iZXIoInd3d192aWRlb3NfbnVkZ2VfdGltZXN0YW1wX2NvcnJlY3Rpb25fcyIsMCkpLGEudmlkZW8uY3VycmVudFRpbWU9YyxhLkQ9Yyk6YS5lYyYmYiYmKGM9ZWcoYSxiKSxNYXRoLmFicyhjLWEudmlkZW8uY3VycmVudFRpbWUpPj1hLmRjJiYoYS52aWRlby5jdXJyZW50VGltZT1jKSk7YS5hLmdldEJvb2woInVuaWZ5X3N0cmVhbV9zdGFydF93aXRoX2J1ZmZlcl9kZXRlY3RvciIsCiExKT8oYz15KHt0eXBlOiJhbGxTdHJlYW1zU3RhcnRlZCIsYnViYmxlczohMH0pLGEuZGlzcGF0Y2hFdmVudChjKSk6YS52aWRlby5wbGF5YmFja1JhdGU9YS5rYzthLmIuYiYmbnVsbCE9YS5iLmMmJktmKGEsMCk7bWcoYSk7YS5zYS5yZXNvbHZlKCk7ZCYmZC5sb2coKX0KZnVuY3Rpb24gZWcoYSxiKXt2YXIgYz1iLmVuZDt2b2lkIDAhPT1iLkJjJiYoYz1iLkJjKTtpZihhLmEuZ2V0Qm9vbCgidGVtcGxhdGVkX2Fsd2F5c19qdW1wX3RvX3N0cmVhbV9saW1pdHNfZW5kIiwhMSkmJmEuYiYmYS5iLmYpcmV0dXJuIGIuZW5kO2lmKGEuY2Mpe3ZhciBkPWEudmlkZW8uY3VycmVudFRpbWUsZT1iLnN0YXJ0O2lmKGEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9hZGp1c3Rfc3RyZWFtX2xpbWl0c19zdGFydF9vZmZzZXRfaW50IiwwKSYmYS5iJiZhLmIuZil7Zm9yKHZhciBmPUhmKGEpLGc9MCxoPTA7aDxmLmxlbmd0aDsrK2gpe3ZhciBrPWZbaF0sbD1NYXRoLm1pbihhLmEuZ2V0TnVtYmVyKCJ0ZW1wbGF0ZWRfYWRqdXN0X3N0cmVhbV9saW1pdHNfc3RhcnRfb2Zmc2V0X2ludCIsMCksay5sZW5ndGgoKSk7ay5sZW5ndGgoKSYmMDxsJiZsPD1rLmxlbmd0aCgpJiYoZz1NYXRoLm1heChrLmdldChrLmxlbmd0aCgpLWwpLnN0YXJ0VGltZSxnKSl9ZT1NYXRoLm1heChlLApnKX1pZihkPj1lJiZkPD1iLmVuZCYmZDxjKWlmKGEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9qdW1wX3RvX2xpdmVfc2lkeF9lbmRfb2Zmc2V0IiwwKSYmYS5iJiZhLmIuZil7Zj1IZihhKTtrPW51bGw7ZT1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7Zm9yKGg9MDtoPGYubGVuZ3RoOysraClmW2hdLmxlbmd0aCgpPGUmJihlPWZbaF0ubGVuZ3RoKCksaz1mW2hdKTtrJiZlPmEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9qdW1wX3RvX2xpdmVfc2lkeF9lbmRfb2Zmc2V0IiwwKSYmKGY9ay5nZXQoay5sZW5ndGgoKS1hLmEuZ2V0TnVtYmVyKCJ0ZW1wbGF0ZWRfanVtcF90b19saXZlX3NpZHhfZW5kX29mZnNldCIsMCkpLnN0YXJ0VGltZSxkPj1mJiYoYz1kKSl9ZWxzZSBjPWR9cmV0dXJuIGN9CmZ1bmN0aW9uIGRnKGEsYil7aWYoYS5iLmIpaXNOYU4oYS5pLmR1cmF0aW9uKSYmKGEuaS5kdXJhdGlvbj1iLmVuZCsyNTkyRTMpO2Vsc2UgaWYoaXNOYU4oYS5pLmR1cmF0aW9uKXx8Yi5lbmQ+YS5pLmR1cmF0aW9uKWlmKGEuaS5kdXJhdGlvbj1iLmVuZCwhYS5hLmdldEJvb2woImRpc2FibGVfYXBwZW5kX3dpbmRvd19lbmQiLCExKSlmb3IodmFyIGM9YS5hLmdldE51bWJlcigiYXBwZW5kX3dpbmRvd19lbmRfZnVkZ2VfZmFjdG9yIiwwKSxkPTA7ZDxhLmkuc291cmNlQnVmZmVycy5sZW5ndGg7KytkKWEuaS5zb3VyY2VCdWZmZXJzW2RdLmFwcGVuZFdpbmRvd0VuZD1iLmVuZCtjfQpuLnJkPWZ1bmN0aW9uKCl7dGhpcy5rYT1udWxsO21nKHRoaXMpO3ZhciBhPU1mKHRoaXMsSGYodGhpcykpO2lmKGEpe3ZhciBiPXRoaXMuYi5iO3RoaXMuYS5nZXRCb29sKCJ0cmVhdF9saXZlX3N0YXRpY19tYW5pZmVzdF9hc19keW5hbWljIiwhMSkmJihiPWJ8fHRoaXMuYi5oKTtiJiZ0aGlzLmphIT1hLmxhc3QmJih0aGlzLmphPWEubGFzdCxudWxsIT10aGlzLmomJihjbGVhclRpbWVvdXQodGhpcy5qKSx0aGlzLmo9bnVsbCkpO2ZnKHRoaXMsYS5zdGFydCxhLmVuZCxhLmxhc3QsYS5aYSk7dGhpcy52aWRlby5wYXVzZWR8fG5nKHRoaXMsdGhpcy52aWRlby5jdXJyZW50VGltZSxhLnN0YXJ0LGEuZW5kKX19O2Z1bmN0aW9uIGZnKGEsYixjLGQsZSl7Yj15KHt0eXBlOiJzZWVrcmFuZ2VjaGFuZ2VkIixidWJibGVzOiEwLHN0YXJ0OmIsZW5kOmMsbGFzdDpkLHNlZWtSYW5nZUdhcHM6ZX0pO2EuZGlzcGF0Y2hFdmVudChiKX0Kbi5tZD1mdW5jdGlvbigpe3ZhciBhPXRoaXMudmlkZW8uY3VycmVudFRpbWUsYj1NZih0aGlzLEhmKHRoaXMpKTt0aGlzLmwmJmImJmE8Yi5zdGFydCYmQmFuemFpT0RTLmJ1bXBFbnRpdHlLZXkoMjk2NiwidmlkZW9zLnd3dy5zaGFrYSIsImN1cnJlbnRfdGltZV9hdF9zZWVrX2xlc3NfdGhhbl9zdHJlYW1fbGltaXRzX3N0YXJ0Iik7aWYobnVsbCE9dGhpcy5EKXtpZihhPj10aGlzLkQtLjAxJiZhPD10aGlzLkQrLjAxKXt0aGlzLkQ9bnVsbDt0aGlzLmwmJmImJmE8Yi5zdGFydCYmQmFuemFpT0RTLmJ1bXBFbnRpdHlLZXkoMjk2NiwidmlkZW9zLnd3dy5zaGFrYSIsImlnbm9yZWRfc2Vla193aGVuX2N1cnJlbnRfdGltZV9hdF9zZWVrX2xlc3NfdGhhbl9zdHJlYW1fbGltaXRzX3N0YXJ0Iik7cmV0dXJufXRoaXMuRD1udWxsfWlmKGIpe3ZhciBjPWIuc3RhcnQsZD1iLmVuZDt0aGlzLmEuZ2V0Qm9vbCgic2tpcF9yZW1haW5pbmdfYnVmZmVyZWRfb25fc3RyZWFtX2VuZCIsITEpJiZ0aGlzLmIuYiYmCnRoaXMuYi5oJiZ0aGlzLnZpZGVvLnBhdXNlZCYmKGQ9dGhpcy5qYSk7KGM9bmcodGhpcyxhLGMsZCkpfHwoYTw9ZCsuMDF8fHRoaXMuYi5iJiYhb2codGhpcyxkKT9jPSExOih0aGlzLnZpZGVvLmN1cnJlbnRUaW1lPWQsYz0hMCkpO2lmKGMpdGhpcy5sJiZhPGIuc3RhcnQmJkJhbnphaU9EUy5idW1wRW50aXR5S2V5KDI5NjYsInZpZGVvcy53d3cuc2hha2EiLCJjbGFtcF9wbGF5aGVhZF93aGVuX2N1cnJlbnRfdGltZV9hdF9zZWVrX2xlc3NfdGhhbl9zdHJlYW1fbGltaXRzX3N0YXJ0Iik7ZWxzZXtmb3IodmFyIGUgaW4gdGhpcy5jKXRoaXMuY1tlXS5DYyh0aGlzLkVhKTt0aGlzLkVhPSExfX19O2Z1bmN0aW9uIG5nKGEsYixjLGQpe2lmKGI+PWMtLjAxKXJldHVybiExO2I9MDthLmIuYiYmKGI9LjUsb2coYSxjK2IpfHwoYj1hLmIuZykpO2EudmlkZW8uY3VycmVudFRpbWU9TWF0aC5taW4oYytiLGQpO3JldHVybiEwfQpmdW5jdGlvbiBvZyhhLGIpe2Zvcih2YXIgYyBpbiBhLmMpaWYoIWEuY1tjXS5JYyhiKSlyZXR1cm4hMTtyZXR1cm4hMH1uLm9kPWZ1bmN0aW9uKCl7aWYoIXRoaXMuYi5ifHx0aGlzLkZhKXtmb3IodmFyIGEgaW4gdGhpcy5jKWlmKCF0aGlzLmNbYV0uZmIoKSlyZXR1cm47dGhpcy5lYigpfX07bi5wZD1mdW5jdGlvbigpe2NsZWFyVGltZW91dCh0aGlzLnUpO3RoaXMuRmE9ITA7Zm9yKHZhciBhIGluIHRoaXMuYyl0aGlzLmNbYV0uZmIoKXx8dGhpcy5jW2FdLkNiKCl9O24uamQ9ZnVuY3Rpb24oKXt0aGlzLmEuZ2V0Qm9vbCgiaWdub3JlX3NlZWtfd2hlbl9udWRnaW5nIiwhMCkmJih0aGlzLkQ9dGhpcy52aWRlby5jdXJyZW50VGltZSk7dGhpcy52aWRlby5jdXJyZW50VGltZSs9LjAwMX07Cm4udGI9ZnVuY3Rpb24oKXtpZih0aGlzLmFjKCl8fHRoaXMuYmMoKSlyZXR1cm4hMDt2YXIgYT10aGlzLmIsYj1udWxsLGM9bnVsbDthJiZhLmEmJmEuYVswXSYmKGI9YS5hWzBdKTtiJiZiLmEmJmIuYVswXSYmKGM9Yi5hWzBdKTtyZXR1cm4hIWMmJmMuYn07WS5wcm90b3R5cGUuaGFzSW5saW5lZENlYTYwOFN1YnRpdGxlcz1ZLnByb3RvdHlwZS50YjtZLnByb3RvdHlwZS5QYj1mdW5jdGlvbihhKXt0aGlzLm5jPWE7dmFyIGI9dGhpcy5jOyJ2aWRlbyJpbiBiJiYoYT1hJiZ0aGlzLnRiKCksYi52aWRlby5jLlM9YSl9O1kucHJvdG90eXBlLnNldEVuYWJsZUNlYTYwOFBhcnNpbmc9WS5wcm90b3R5cGUuUGI7CmZ1bmN0aW9uIHNmKGEpe3ZhciBiPWEuYS5nZXROdW1iZXIoImxpdmVfYnVmZmVyaW5nX3VuZGVyZmxvd190aHJlc2hvbGQiLC41KSxjPWEuYS5nZXRCb29sKCJmaXhfbGl2ZV9zdHJlYW1fZ29uZV9vbl9tYW5pZmVzdF91cGRhdGUiLCEwKSYmYS5oYyxkPSExO2lmKGEuYi5oKXt2YXIgZD1hLmEuZ2V0TnVtYmVyKCJsaXZlX3N0cmVhbV9lbmRfc2xhY2siLDApLGU7Zm9yKGUgaW4gYS5jKWEuY1tlXS5mYigpfHwoZD0wKTtkPWEudmlkZW8uY3VycmVudFRpbWUrYitkPmEuamF9cmV0dXJuIGN8fGR9bj1ZLnByb3RvdHlwZTsKbi5jZD1mdW5jdGlvbigpe3RoaXMuJD0hMDtpZih0aGlzLmImJnRoaXMuYi5iKXtpZihzZih0aGlzKSlyZXR1cm4gdGhpcy5lYigpO3RoaXMuYS5nZXRCb29sKCJhbGxvd19pbmZpbml0ZV9yZXRyeV9vbl9uZXRfZXJyIiwhMCkmJnRoaXMuRy5pc05ldHdvcmtJbnRlcnJ1cHRlZCgpfHwhV2EodGhpcy5jKS5ldmVyeShmdW5jdGlvbihhKXtyZXR1cm4gYS5mYigpfSl8fHBnKHRoaXMsdGhpcy5nYil9dGhpcy5hLmdldEJvb2woImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvdyIsITEpJiYobnVsbD09PXRoaXMuS3x8RGF0ZS5ub3coKS10aGlzLmZjPnRoaXMuYS5nZXROdW1iZXIoImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvd190aW1lX3dpbmRvdyIsMkUzKT90aGlzLks9dGhpcy5hLmdldE51bWJlcigiYnVmZmVyaW5nX292ZXJmbG93X3RocmVzaG9sZCIsMCk6dGhpcy5LKj10aGlzLmEuZ2V0TnVtYmVyKCJiYWNrX29mZl9idWZmZXJpbmdfb3ZlcmZsb3dfdGltZV9mYWN0b3IiLDIpLAp0aGlzLks9TWF0aC5taW4odGhpcy5LLHRoaXMuYS5nZXROdW1iZXIoImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvd19tYXgiLDUpKSl9O2Z1bmN0aW9uIHBnKGEsYil7YS5qPXNldFRpbWVvdXQoYS5lYi5iaW5kKGEpLGIpfW4uYmQ9ZnVuY3Rpb24oKXt0aGlzLiQ9ITE7dGhpcy5hLmdldEJvb2woImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvdyIsITEpJiYodGhpcy5mYz1EYXRlLm5vdygpKTtudWxsIT10aGlzLmomJihjbGVhclRpbWVvdXQodGhpcy5qKSx0aGlzLmo9bnVsbCl9O24uZ2Q9ZnVuY3Rpb24oKXtudWxsIT09dGhpcy5iYSYmKGJnKHRoaXMsdGhpcy5iYSksY2codGhpcyxudWxsKSl9O24uR2Q9ZnVuY3Rpb24oKXt9OwpuLmViPWZ1bmN0aW9uKCl7dGhpcy4kPSExO3RoaXMuaj1udWxsO3ZhciBhO2lmKGE9dGhpcy5hLmdldEJvb2woInRlc3Rfc291cmNlX2J1ZmZlcnNfbm90X3VwZGF0aW5nX2VuZF9vZl9zdHJlYW0iLCExKSlhOntmb3IoYT0wO2E8dGhpcy5pLnNvdXJjZUJ1ZmZlcnMubGVuZ3RoOysrYSlpZih0aGlzLmkuc291cmNlQnVmZmVyc1thXS51cGRhdGluZyl7YT0hMDticmVhayBhfWE9ITF9aWYoYSlyZXR1cm4gcGcodGhpcywxRTMpOyJvcGVuIj09dGhpcy5pLnJlYWR5U3RhdGUmJnRoaXMuaS5lbmRPZlN0cmVhbSgpfTtmdW5jdGlvbiBIZihhKXtyZXR1cm4gV2EoYS5jKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuRmIoKX0pLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YX0pfWZ1bmN0aW9uIExmKGEpe3JldHVybiBNYXRoLm1heChhLmI/YS5iLmc6MSxhLlpiP2EuZy5zdHJlYW1CdWZmZXJTaXplfHwwOjApfQpmdW5jdGlvbiBNZihhLGIpe2Zvcih2YXIgYz0wLGQ9TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLGU9TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLGY9W10sZz0hVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJub19zZWVrX3JhbmdlX2dhcHNfZHVyaW5nX2NvbXB1dGVfc3RyZWFtX2xpbWl0cyIsITEpLGg9MDtoPGIubGVuZ3RoOysraCl7dmFyIGs9YltoXS5BKCk7ZyYmKGY9Zi5jb25jYXQoYltoXS5nZXRTZWVrUmFuZ2VHYXBzKCkpKTtjPU1hdGgubWF4KGMsay5zdGFydCk7bnVsbCE9ay5lbmQmJihkPU1hdGgubWluKGQsay5lbmQpKTtiW2hdLmxlbmd0aCgpJiYoZT1NYXRoLm1pbihlLGJbaF0ubGFzdCgpLmVuZFRpbWUpKX1nJiYoZj1tZXJnZVNlZWtSYW5nZUdhcHMoZikpO2lmKGQ9PU51bWJlci5QT1NJVElWRV9JTkZJTklUWSlpZihkPWEuYi5hWzBdLGQuZHVyYXRpb24pZD0oZC5zdGFydHx8MCkrZC5kdXJhdGlvbjtlbHNlIHJldHVybiBudWxsO2lmKGEuYi5iKXt2YXIgZz0KTGYoYSksZD1NYXRoLm1heChkLWcsYyksbDthLnJhJiZhLmEuZ2V0Qm9vbCgibGl2ZV9qdW1wX3RvX3B1c2hlZF9zZWdtZW50IiwhMSkmJmIubGVuZ3RoJiYoaD1NYXRoLmZsb29yKExmKGEpLzEpKzEsZz1iWzBdLGg9Zy5sZW5ndGgoKS1oLChnPWcuZ2V0KGgpKSYmKGw9Zy5zdGFydFRpbWUpKX1pZihjPmQpcmV0dXJuIG51bGw7ZD1NYXRoLmZsb29yKDFFNSpkKS8xRTU7cmV0dXJue3N0YXJ0OmMsZW5kOmQsbGFzdDplLFphOmYsQmM6bH19bi5uYj1mdW5jdGlvbigpe3JldHVybiBNZih0aGlzLEhmKHRoaXMpKX07WS5wcm90b3R5cGUuY29tcHV0ZVN0cmVhbUxpbWl0cz1ZLnByb3RvdHlwZS5uYjtmdW5jdGlvbiBtZyhhKXthLmIuYiYmKGEua2E9c2V0VGltZW91dChhLnJkLmJpbmQoYSksMUUzKSl9ZnVuY3Rpb24gRGYoYSl7Zm9yKHZhciBiIGluIGEuYylhLmNbYl0ucGEoYS5nKX1ZLnByb3RvdHlwZS5zYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLkJifTsKWS5wcm90b3R5cGUuZ2V0TG9uZ2VzdEluaXRSZXNwb25zZVRpbWU9WS5wcm90b3R5cGUuc2I7ZnVuY3Rpb24gWmYoYSl7cmV0dXJuInYiPT09YS5jaGFyQXQoMCk/InZpZGVvIjoiYSI9PT1hLmNoYXJBdCgwKT8iYXVkaW8iOm51bGx9WS5wcm90b3R5cGUuVGM9ZnVuY3Rpb24oKXt2YXIgYT15KHt0eXBlOiJuZXR3b3JraW50ZXJydXB0ZWQiLGJ1YmJsZXM6ITB9KTt0aGlzLmRpc3BhdGNoRXZlbnQoYSk7dGhpcy5UPXRoaXMuVHx8RGF0ZS5ub3coKTt0aGlzLiQmJnRoaXMuaiYmY2xlYXJUaW1lb3V0KHRoaXMuail9OwpZLnByb3RvdHlwZS5VYz1mdW5jdGlvbigpe3ZhciBhPXkoe3R5cGU6Im5ldHdvcmtyZXN1bWVkIixidWJibGVzOiEwfSk7dGhpcy5kaXNwYXRjaEV2ZW50KGEpO2E9dGhpcy5hLmdldE51bWJlcigibWF4X25ldHdvcmtfaW50ZXJydXB0ZWRfdGltZV9iZWZvcmVfc2VlayIsMUU0KTtudWxsIT09dGhpcy5UJiZEYXRlLm5vdygpLXRoaXMuVD49YSYmKHRoaXMuVD1udWxsLHRoaXMuZWE9ITApO3RoaXMuYS5nZXRCb29sKCJmaXhfbmV0d29ya19pbnRlcnJ1cHRlZF9zdGFydF9ub3RfbnVsbGVkIiwhMSkmJih0aGlzLlQ9bnVsbCk7dGhpcy4kJiZwZyh0aGlzLHRoaXMuZ2IpfTtZLnByb3RvdHlwZS5WYz1mdW5jdGlvbigpe3RoaXMuZWE9ITB9O2Z1bmN0aW9uIFBmKGEpe2EuYS5nZXRCb29sKCJkZWNvdXBsZV9tcGRfdXBkYXRlX2xvb3BfZnJvbV9yZXF1ZXN0X2xvb3AiLCExKXx8S2YoYSwwKX1ZLnByb3RvdHlwZS5xYz1mdW5jdGlvbihhKXt0aGlzLm5hPWF9OwpZLnByb3RvdHlwZS5zZXRFbmFibGVMaXZlaGVhZENhdGNodXA9WS5wcm90b3R5cGUucWM7WS5wcm90b3R5cGUuemQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uYX07WS5wcm90b3R5cGUuaXNMaXZlaGVhZENhdGNodXBFbmFibGVkPVkucHJvdG90eXBlLnpkO1kucHJvdG90eXBlLlNjPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYy52aWRlbz90aGlzLmMudmlkZW8uYy5pOm51bGx9O1kucHJvdG90eXBlLmdldFZpZGVvU3RyZWFtUHJvZ3Jlc3NUcmFja2VyPVkucHJvdG90eXBlLlNjO1kucHJvdG90eXBlLnFiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYy52aWRlbz90aGlzLmMudmlkZW8ucWIoKTpudWxsfTtZLnByb3RvdHlwZS5nZXRCdWZmZXJWZWxvY2l0eT1ZLnByb3RvdHlwZS5xYjtmdW5jdGlvbiBSZihhLGIpe2Zvcih2YXIgYyBpbiBhLmMpYS5jW2NdLm5hPWJ9CmZ1bmN0aW9uIGlnKGEpe3ZhciBiPVtdO2lmKG51bGwhPT1hLmNhKXt2YXIgYz1hLmNhLGQ7Zm9yKGQgaW4gYS5jKWIucHVzaChyZShhLmNbZF0sYS5jYSkpO1Byb21pc2UuYWxsKGIpLnRoZW4oSihhLGZ1bmN0aW9uKCl7aWYoYyl7Zm9yKHZhciBhIGluIHRoaXMuYyl7dmFyIGI9dGhpcy5jW2FdO2IuSz1udWxsO2IuVj0hMTtiLkk9bnVsbH1jPnRoaXMudmlkZW8uY3VycmVudFRpbWUmJih0aGlzLnZpZGVvLmN1cnJlbnRUaW1lPWMpfX0pKX1hLmNhPW51bGx9O2Z1bmN0aW9uIFooYSxiLGMsZCxlLGYsZyl7ZHx8KGQ9bmV3IEcpO2V8fChlPW5ldyBYKTtZLmNhbGwodGhpcyxudWxsLGIsZCxlKTsic3RyaW5nIj09PXR5cGVvZiBhP3RoaXMuamM9YTp0aGlzLk5iPWE7dGhpcy5hPWI7dGhpcy5GPW51bGw7dGhpcy50YT1jO3RoaXMuRGE9W107dGhpcy5RYj1bXTt0aGlzLlJiPVtdO3RoaXMuSGE9MDt0aGlzLlk9bnVsbDt0aGlzLk1iPWd8fG51bGx9cihaLFkpO3EoInNoYWthLnBsYXllci5EYXNoVmlkZW9Tb3VyY2UiLFopO1oucHJvdG90eXBlLkpkPWZ1bmN0aW9uKGEpe3RoaXMuRj1hO3RoaXMuSmIoITAsITApfTtaLnByb3RvdHlwZS51cGRhdGVNYW5pZmVzdD1aLnByb3RvdHlwZS5KZDtaLnByb3RvdHlwZS5PYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLk5ifHx0aGlzLkZ9O1oucHJvdG90eXBlLmdldE1hbmlmZXN0PVoucHJvdG90eXBlLk9iO1oucHJvdG90eXBlLlRiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuT2IoKX07CloucHJvdG90eXBlLmRlYnVnR2V0TWFuaWZlc3Q9Wi5wcm90b3R5cGUuVGI7Wi5wcm90b3R5cGUuWmM9ZnVuY3Rpb24oYSxiLGMpe3RoaXMuRGEucHVzaChhKTt0aGlzLlFiLnB1c2goYnx8IiIpO3RoaXMuUmIucHVzaChjfHwiIil9O1oucHJvdG90eXBlLmFkZEV4dGVybmFsQ2FwdGlvbnM9Wi5wcm90b3R5cGUuWmM7Wi5wcm90b3R5cGUudGQ9ZnVuY3Rpb24oYSl7dGhpcy5ZPWF9O1oucHJvdG90eXBlLnNldE5ldHdvcmtDYWxsYmFjaz1aLnByb3RvdHlwZS50ZDtaLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5GPXRoaXMuWT10aGlzLnRhPW51bGw7WS5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpfTsKWi5wcm90b3R5cGUud2I9ZnVuY3Rpb24oKXt2YXIgYTt0aGlzLmwmJihhPXRoaXMubC5nZXRPcGVyYXRpb25Mb2dnZXIoInNvdXJjZV9sb2FkIikuc3RhcnQoKSk7dmFyIGIsYz1KKHRoaXMsZnVuY3Rpb24oYSl7aWYodGhpcy5hLmdldEJvb2woImVuYWJsZV9kb3VibGVfaW5nZXN0X29uX2luaXRpYWxfbXBkIiwhMSkpc3dpdGNoKGEuc3RhdHVzKXtjYXNlIDIwMDpjYXNlIDQxNzppZihhLnJlc3BvbnNlSGVhZGVycyYmbnVsbCE9YS5yZXNwb25zZUhlYWRlcnNbIngtZmItdmlkZW8tcmVwbGljYSJdKXJldHVybiB0aGlzLmRpc3BhdGNoRXZlbnQoeSh7dHlwZToicmVwbGljYXN3aXRjaCIsYnViYmxlczohMCxyZXBsaWNhOmEucmVzcG9uc2VIZWFkZXJzWyJ4LWZiLXZpZGVvLXJlcGxpY2EiXX0pKSxuZXcgUHJvbWlzZShmdW5jdGlvbigpe30pfXRocm93IGE7fSksZD1KKHRoaXMsZnVuY3Rpb24oYyl7dGhpcy5MYSgiTVBERmV0Y2hEdXJhdGlvbiIsKERhdGUubm93KCktYikvMUUzKTt0aGlzLkY9CmM7Zm9yKHZhciBkPTA7ZDx0aGlzLkRhLmxlbmd0aDtkKyspTGMoYyx0aGlzLkRhW2RdLHRoaXMuUWJbZF0sdGhpcy5SYltkXSk7dmFyIGQ9bmV3IHllKHRoaXMuYSx0aGlzLnRhLHRoaXMubCx0aGlzLk1iKSxlO3RoaXMubCYmKGU9dGhpcy5sLmdldE9wZXJhdGlvbkxvZ2dlcigicHJvY2Vzc19tYW5pZmVzdCIpLnN0YXJ0KCkpO3RoaXMuYj16ZShkLGMsdGhpcy5ZKTtlJiZlLmxvZygpO2EmJmEuc2V0TWFuaWZlc3RUeXBlKHRoaXMuYi5iPyJkeW5hbWljIjoic3RhdGljIik7cmV0dXJuIFkucHJvdG90eXBlLndiLmNhbGwodGhpcykudGhlbihmdW5jdGlvbigpe2EmJmEubG9nKCl9KX0pO2lmKHRoaXMuTmIpcmV0dXJuIGI9RGF0ZS5ub3coKSxkKHRoaXMuTmIpO3ZhciBlPVtuZXcgTCh0aGlzLmpjKV0sZjtpZih0aGlzLnJhKXt2YXIgZz1uZXcgVmlkZW9QdXNoUGFyYW1ldGVyc0hlbHBlcih0aGlzLmpjKTtnLnNldFN0cmVhbUVuZE9mZnNldChNYXRoLmZsb29yKExmKHRoaXMpLzEpKTsKdGhpcy5PYSYmZy5zZXRQdXNoVmlkZW9SZXByZXNlbnRhdGlvbklEKHRoaXMuT2EpO3RoaXMucGEmJmcuc2V0UHVzaEF1ZGlvUmVwcmVzZW50YXRpb25JRCh0aGlzLnBhKTt0aGlzLm1hJiZnLnNldFVzZUxvbmdDYWNoZUZvck1hbmlmZXN0KHRoaXMubWEpO2Y9bmV3IGZkKG51bGwpO2YuYT1nfWU9bmV3IEsodGhpcy5ZLGUsdm9pZCAwLHZvaWQgMCx2b2lkIDAsdGhpcy5NYik7Zj1uZXcgZGQoZSx0aGlzLkxiLGYsdGhpcy5kYSk7Yj1EYXRlLm5vdygpO3JldHVybiBlZChmLHRoaXMubCkudGhlbihkLGMpfTsKWi5wcm90b3R5cGUudmM9ZnVuY3Rpb24oKXtpZih0aGlzLlViKXt2YXIgYT10aGlzLmI7aWYoYT0oYT1hJiZhLmEpJiZhWzBdKXt2YXIgYT1hLmEucmVkdWNlKGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuY29uY2F0KGIudil9LFtdKSxiPWZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hfTtQcm9taXNlLmFsbChhLm1hcChmdW5jdGlvbihhKXthPWEuTTtyZXR1cm4gYS5RYz9hLlJhOmEuY3JlYXRlKCl9KSkudGhlbihmdW5jdGlvbihhKXthPWEuZmlsdGVyKGIpO3RoaXMuTGEoIkluaXRpYWxTZWdtZW50SW5kZXhlcyIsYSl9LmJpbmQodGhpcykpO1Byb21pc2UuYWxsKGEubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLmFhfSkpLnRoZW4oZnVuY3Rpb24oYSl7YT1hLmZpbHRlcihiKTt0aGlzLkxhKCJTZWdtZW50SW5pdFNvdXJjZXMiLGEpfS5iaW5kKHRoaXMpKX19fTsKWi5wcm90b3R5cGUueWM9ZnVuY3Rpb24oYSxiLGMpe2lmKHRoaXMudmlkZW8ucGF1c2VkJiZ0aGlzLkhhKzFFND5EYXRlLm5vdygpJiZ0aGlzLmIpcmV0dXJuIFByb21pc2UucmVqZWN0KHt0eXBlOiJkZWxheSJ9KTt2YXIgZDtpZihiJiZ2b2lkIDAhPWMpZD1uZXcgZmQoYiksZC5mPWMsYj1TZih0aGlzKSxudWxsIT1iJiYoZC5jPWIuc3RyZWFtSW5mb0lELGQuYj10aGlzLnBhKTtlbHNlIGZvcihiPWEuYyxjPTA7YzxiLmxlbmd0aDtjKyspe3ZhciBlPW5ldyBWaWRlb1B1c2hQYXJhbWV0ZXJzSGVscGVyKGJbY10udG9TdHJpbmcoKSk7dGhpcy5tYSYmZS5zZXRVc2VMb25nQ2FjaGVGb3JNYW5pZmVzdCh0aGlzLm1hKTtiW2NdPW5ldyBMKGUuZ2V0VVJMKCkpfWE9bmV3IGRkKGEsdGhpcy5MYixkLHRoaXMuZGEpO3ZhciBmPURhdGUubm93KCk7cmV0dXJuIGVkKGEsdGhpcy5sKS50aGVuKEoodGhpcyxmdW5jdGlvbihhKXt0aGlzLkhhPURhdGUubm93KCk7dGhpcy5MYSgiTVBERmV0Y2hEdXJhdGlvbiIsCih0aGlzLkhhLWYpLzFFMyk7dGhpcy5hLmdldEJvb2woInRyZWF0X2xpdmVfc3RhdGljX21hbmlmZXN0X2FzX2R5bmFtaWMiLCExKSYmKGEubWFuaWZlc3RJc0xpdmVTdHJlYW1pbmc9ImR5bmFtaWMiPT09KHRoaXMuRj90aGlzLkYudHlwZTphLnR5cGUpKTt0aGlzLkY9YTt2YXIgYj1uZXcgeWUodGhpcy5hLHRoaXMudGEsdGhpcy5sLHRoaXMuTWIpO2lmKHRoaXMubCl2YXIgYz10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJwcm9jZXNzX21hbmlmZXN0Iikuc3RhcnQoKTthPXplKGIsYSx0aGlzLlkpO2MmJmMubG9nKCk7cmV0dXJuIFByb21pc2UucmVzb2x2ZShhKX0pKX07Wi5wcm90b3R5cGUueGM9ZnVuY3Rpb24oKXt2YXIgYT16ZShuZXcgeWUodGhpcy5hLHRoaXMudGEpLHRoaXMuRix0aGlzLlkpO3JldHVybiBQcm9taXNlLnJlc29sdmUoYSl9O30uYmluZChnLCBnbG9iYWwpKSgpOwoKbW9kdWxlLmV4cG9ydHMgPSBnLnNoYWthOwoKCi8qICAqL30pLG51bGwpOwovLyMgc291cmNlVVJMPWZiOGIxNmM4YjU3NjdkNTE4ODYwZGFiMjgzMGM1MGYyLmpzCg==, line 416: Error: The manifest specifies content that cannot be displayed on this browser/platform.
1578566940216	Marionette	WARN	TimedPromise timed out after 500 ms: stacktrace:
bail@chrome://marionette/content/sync.js:237:64
1578566940925	Marionette	WARN	TimedPromise timed out after 500 ms: stacktrace:
bail@chrome://marionette/content/sync.js:237:64
1578566941631	Marionette	WARN	TimedPromise timed out after 500 ms: stacktrace:
bail@chrome://marionette/content/sync.js:237:64
1578566942348	Marionette	WARN	TimedPromise timed out after 500 ms: stacktrace:
bail@chrome://marionette/content/sync.js:237:64
1578566943107	Marionette	WARN	TimedPromise timed out after 500 ms: stacktrace:
bail@chrome://marionette/content/sync.js:237:64
1578566943835	Marionette	WARN	TimedPromise timed out after 500 ms: stacktrace:
bail@chrome://marionette/content/sync.js:237:64
1578566947320	Marionette	INFO	Stopped listening on port 38609
1578567049639	mozrunner::runner	INFO	Running command: "/usr/bin/firefox" "-marionette" "-foreground" "-no-remote" "-profile" "/tmp/rust_mozprofileUvyvlw"
1578567050223	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: mozillaAddons
1578567050223	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: telemetry
1578567050223	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: resource://pdf.js/
1578567050223	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: about:reader*
1578567052665	Marionette	INFO	Listening on port 42549
1578567052750	Marionette	WARN	TLS certificate errors will be ignored for this session
1578567069982	Marionette	WARN	TimedPromise timed out after 5000 ms: stacktrace:
bail@chrome://marionette/content/sync.js:237:64
1578567120315	mozrunner::runner	INFO	Running command: "/usr/bin/firefox" "-marionette" "-foreground" "-no-remote" "-profile" "/tmp/rust_mozprofileiIeyHh"
1578567120758	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: mozillaAddons
1578567120759	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: telemetry
1578567120759	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: resource://pdf.js/
1578567120759	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: about:reader*
1578567122810	Marionette	INFO	Listening on port 37155
1578567122822	Marionette	WARN	TLS certificate errors will be ignored for this session
1578567141713	Marionette	WARN	TimedPromise timed out after 5000 ms: stacktrace:
bail@chrome://marionette/content/sync.js:237:64
1578567142329	Marionette	WARN	TimedPromise timed out after 500 ms: stacktrace:
bail@chrome://marionette/content/sync.js:237:64
JavaScript error: data:application/x-javascript;charset=utf-8;base64,aWYgKHNlbGYuQ2F2YWxyeUxvZ2dlcikgeyBDYXZhbHJ5TG9nZ2VyLnN0YXJ0X2pzKFsiKzRzV3kiXSk7IH0KLyoqCiAqIEBwcm92aWRlc01vZHVsZSBTaGFrYQogKiBAcHJlc2VydmUtd2hpdGVzcGFjZQogKiBAbm9wYWNrYWdlCiAqIEBnZW5lcmF0ZWQKICovCl9fZCgiU2hha2EiLFsiUHJvbWlzZSIsIkV2ZW50TGlzdGVuZXIiLCJWaWRlb1BsYXllclNoYWthUGVyZm9ybWFuY2VMb2dnZXIiLCJWaWRlb1B1c2hQYXJhbWV0ZXJzSGVscGVyIiwiVGltZVNsaWNlIiwiVmlkZW9QbGF5ZXJMb2NhbEJhbmR3aWR0aEVzdGltYXRvciIsIlZpZGVvUGxheWVyUmVzb3VyY2VUaW1lciIsIlNoYWthU2VnbWVudFJlZmVyZW5jZUhlbHBlciIsIlNlZ21lbnRSZXF1ZXN0TWFuYWdlciIsImNvbmNhdEFycmF5QnVmZmVyIiwiQnVmZmVyUmVwbGFjZW1lbnRIZWxwZXIiLCJsb2dMb25nQWthbWFpUmVxdWVzdCIsInRocm90dGxlIiwiVmlld3BvcnRQcmlvcml0eUFkanVzdGVyIiwiRmlyc3RMb2FkZWRWaWRlb1ByaW9yaXR5QWRqdXN0ZXIiLCJWaWRlb1ByaW9yaXR5Q2FsY3VsYXRvciIsIlZpZGVvU3RyZWFtaW5nTWFuYWdlciIsIk11bHRpcGxlU2VnbWVudHNQcm92aWRlciIsIkxvY2FsQml0cmF0ZUhlbHBlciIsIlVuaXRDb25zdGFudHMiLCJCdWZmZXJWZWxvY2l0eSIsIlZpZGVvUGxheWVyQml0cmF0ZUVzdGltYXRvciIsIlZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWciLCJnZXRTZWVrUmFuZ2VHYXBzRnJvbVNoYWthUmVmZXJlbmNlcyIsIm1lcmdlU2Vla1JhbmdlR2FwcyIsIk5ldHdvcmtTdGF0dXNEZXRlY3RvciIsIk1vc1V0aWxzIiwiQmFuemFpT0RTIiwiVmlkZW9EYXNoUHJlZmV0Y2hDYWNoZSIsIlZpZGVvQ2xpZW50RWRnZUNvb3BlcmF0aW9uIiwiVmlkZW9TdHJlYW1pbmdUYXNrUXVldWVQcm92aWRlciIsIkJpbmFyeVNlYXJjaCIsIlNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscyIsImdreCIsInNldFRpbWVvdXRBY3Jvc3NUcmFuc2l0aW9ucyIsInNldFRpbWVvdXQiLCJzZXRJbnRlcnZhbEFjcm9zc1RyYW5zaXRpb25zIiwic2V0SW50ZXJ2YWwiLCJzZXRJbW1lZGlhdGVBY3Jvc3NUcmFuc2l0aW9ucyIsInNldEltbWVkaWF0ZSIsImNsZWFyVGltZW91dCIsImNsZWFySW50ZXJ2YWwiLCJjbGVhckltbWVkaWF0ZSIsImRpc3BhdGNoRXZlbnQiLCJFdmVudExpc3RlbmVyIiwiRXZlbnQiLCJleHRyYWN0Q0VBNjA4IiwicGVyZm9ybWFuY2VOb3ciLCJwYXJzZUhlYWRlcnMiLCJjYW5Vc2VGZXRjaFN0cmVhbSIsIlN1YnNjcmlwdGlvbnNIYW5kbGVyIiwiVmlkZW9QdXNoVHJhY2tlciJdLChmdW5jdGlvbiAkbW9kdWxlX1NoYWthKGdsb2JhbCxyZXF1aXJlLHJlcXVpcmVEeW5hbWljLHJlcXVpcmVMYXp5LG1vZHVsZSxleHBvcnRzKXsKCi8vIHJ1biBgYXJjIHJlYnVpbGQgc2hha2EtcGxheWVyYCB0byByZWdlbmVyYXRlIFNoYWthLmpzIGFmdGVyIG1vZGlmeWluZyB0aGlzCi8vIGZpbGUKCnZhciBQcm9taXNlID0gcmVxdWlyZSgnUHJvbWlzZScpOwp2YXIgRXZlbnRMaXN0ZW5lciA9IHJlcXVpcmUoJ0V2ZW50TGlzdGVuZXInKTsKdmFyIFZpZGVvUGxheWVyU2hha2FQZXJmb3JtYW5jZUxvZ2dlciA9IHJlcXVpcmUoJ1ZpZGVvUGxheWVyU2hha2FQZXJmb3JtYW5jZUxvZ2dlcicpOwp2YXIgVmlkZW9QdXNoUGFyYW1ldGVyc0hlbHBlciA9IHJlcXVpcmUoJ1ZpZGVvUHVzaFBhcmFtZXRlcnNIZWxwZXInKTsKdmFyIFRpbWVTbGljZSA9IHJlcXVpcmUoJ1RpbWVTbGljZScpOwp2YXIgVmlkZW9QbGF5ZXJMb2NhbEJhbmR3aWR0aEVzdGltYXRvciA9IHJlcXVpcmUoJ1ZpZGVvUGxheWVyTG9jYWxCYW5kd2lkdGhFc3RpbWF0b3InKTsKdmFyIFZpZGVvUGxheWVyUmVzb3VyY2VUaW1lciA9IHJlcXVpcmUoJ1ZpZGVvUGxheWVyUmVzb3VyY2VUaW1lcicpOwp2YXIgU2hha2FTZWdtZW50UmVmZXJlbmNlSGVscGVyID0gcmVxdWlyZSgnU2hha2FTZWdtZW50UmVmZXJlbmNlSGVscGVyJyk7CnZhciBTZWdtZW50UmVxdWVzdE1hbmFnZXIgPSByZXF1aXJlKCdTZWdtZW50UmVxdWVzdE1hbmFnZXInKTsKdmFyIGNvbmNhdEFycmF5QnVmZmVyID0gcmVxdWlyZSgnY29uY2F0QXJyYXlCdWZmZXInKTsKdmFyIEJ1ZmZlclJlcGxhY2VtZW50SGVscGVyID0gcmVxdWlyZSgnQnVmZmVyUmVwbGFjZW1lbnRIZWxwZXInKTsKdmFyIGxvZ0xvbmdBa2FtYWlSZXF1ZXN0ID0gcmVxdWlyZSgnbG9nTG9uZ0FrYW1haVJlcXVlc3QnKTsKdmFyIHRocm90dGxlID0gcmVxdWlyZSgndGhyb3R0bGUnKTsKdmFyIFZpZXdwb3J0UHJpb3JpdHlBZGp1c3RlciA9IHJlcXVpcmUoJ1ZpZXdwb3J0UHJpb3JpdHlBZGp1c3RlcicpOwp2YXIgRmlyc3RMb2FkZWRWaWRlb1ByaW9yaXR5QWRqdXN0ZXIgPSByZXF1aXJlKCdGaXJzdExvYWRlZFZpZGVvUHJpb3JpdHlBZGp1c3RlcicpOwp2YXIgVmlkZW9Qcmlvcml0eUNhbGN1bGF0b3IgPSByZXF1aXJlKCdWaWRlb1ByaW9yaXR5Q2FsY3VsYXRvcicpOwp2YXIgVmlkZW9TdHJlYW1pbmdNYW5hZ2VyID0gcmVxdWlyZSgnVmlkZW9TdHJlYW1pbmdNYW5hZ2VyJyk7CnZhciBNdWx0aXBsZVNlZ21lbnRzUHJvdmlkZXIgPSByZXF1aXJlKCdNdWx0aXBsZVNlZ21lbnRzUHJvdmlkZXInKTsKdmFyIExvY2FsQml0cmF0ZUhlbHBlciA9IHJlcXVpcmUoJ0xvY2FsQml0cmF0ZUhlbHBlcicpOwp2YXIgVW5pdENvbnN0YW50cyA9IHJlcXVpcmUoJ1VuaXRDb25zdGFudHMnKTsKdmFyIEJ1ZmZlclZlbG9jaXR5ID0gcmVxdWlyZSgnQnVmZmVyVmVsb2NpdHknKTsKdmFyIFZpZGVvUGxheWVyQml0cmF0ZUVzdGltYXRvciA9IHJlcXVpcmUoJ1ZpZGVvUGxheWVyQml0cmF0ZUVzdGltYXRvcicpOwp2YXIgVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZyA9IHJlcXVpcmUoJ1ZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcnKTsKdmFyIGdldFNlZWtSYW5nZUdhcHNGcm9tU2hha2FSZWZlcmVuY2VzID0gcmVxdWlyZSgnZ2V0U2Vla1JhbmdlR2Fwc0Zyb21TaGFrYVJlZmVyZW5jZXMnKTsKdmFyIG1lcmdlU2Vla1JhbmdlR2FwcyA9IHJlcXVpcmUoJ21lcmdlU2Vla1JhbmdlR2FwcycpOwp2YXIgTmV0d29ya1N0YXR1c0RldGVjdG9yID0gcmVxdWlyZSgnTmV0d29ya1N0YXR1c0RldGVjdG9yJyk7CnZhciBNb3NVdGlscyA9IHJlcXVpcmUoJ01vc1V0aWxzJyk7CnZhciBCYW56YWlPRFMgPSByZXF1aXJlKCdCYW56YWlPRFMnKTsKdmFyIFZpZGVvRGFzaFByZWZldGNoQ2FjaGUgPSByZXF1aXJlKCdWaWRlb0Rhc2hQcmVmZXRjaENhY2hlJyk7CnZhciBWaWRlb0NsaWVudEVkZ2VDb29wZXJhdGlvbiA9IHJlcXVpcmUoJ1ZpZGVvQ2xpZW50RWRnZUNvb3BlcmF0aW9uJyk7CnZhciBWaWRlb1N0cmVhbWluZ1Rhc2tRdWV1ZVByb3ZpZGVyID0gcmVxdWlyZSgnVmlkZW9TdHJlYW1pbmdUYXNrUXVldWVQcm92aWRlcicpOwp2YXIgQmluYXJ5U2VhcmNoID0gcmVxdWlyZSgnQmluYXJ5U2VhcmNoJyk7CnZhciBTaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMgPSByZXF1aXJlKCdTaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMnKTsKdmFyIGdreCA9IHJlcXVpcmUoJ2dreCcpOwoKdmFyIHNldFRpbWVvdXQgPSBWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woCiAgICAndGltZW91dHNfcGVyc2lzdF9vbl9wYWdlX3RyYW5zaXRpb24nLAogICAgdHJ1ZQogICkgPwogIHJlcXVpcmUoJ3NldFRpbWVvdXRBY3Jvc3NUcmFuc2l0aW9ucycpIDoKICByZXF1aXJlKCdzZXRUaW1lb3V0Jyk7CnZhciBzZXRJbnRlcnZhbCA9IFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgKICAgICd0aW1lb3V0c19wZXJzaXN0X29uX3BhZ2VfdHJhbnNpdGlvbicsCiAgICB0cnVlCiAgKSA/CiAgcmVxdWlyZSgnc2V0SW50ZXJ2YWxBY3Jvc3NUcmFuc2l0aW9ucycpIDoKICByZXF1aXJlKCdzZXRJbnRlcnZhbCcpOwp2YXIgc2V0SW1tZWRpYXRlID0gVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKAogICAgJ3RpbWVvdXRzX3BlcnNpc3Rfb25fcGFnZV90cmFuc2l0aW9uJywKICAgIHRydWUKICApID8KICByZXF1aXJlKCdzZXRJbW1lZGlhdGVBY3Jvc3NUcmFuc2l0aW9ucycpIDoKICByZXF1aXJlKCdzZXRJbW1lZGlhdGUnKTsKdmFyIGNsZWFyVGltZW91dCA9IHJlcXVpcmUoJ2NsZWFyVGltZW91dCcpOwp2YXIgY2xlYXJJbnRlcnZhbCA9IHJlcXVpcmUoJ2NsZWFySW50ZXJ2YWwnKTsKdmFyIGNsZWFySW1tZWRpYXRlID0gcmVxdWlyZSgnY2xlYXJJbW1lZGlhdGUnKTsKdmFyIGRpc3BhdGNoRG9tRXZlbnQgPSByZXF1aXJlKCdkaXNwYXRjaEV2ZW50Jyk7CnZhciBldmVudExpc3RlbmVyQ2FwdHVyZSA9IHJlcXVpcmUoJ0V2ZW50TGlzdGVuZXInKS5jYXB0dXJlOwp2YXIgZXZlbnRLaWxsID0gcmVxdWlyZSgnRXZlbnQnKS5raWxsOwp2YXIgZXh0cmFjdENFQTYwOCA9IHJlcXVpcmUoJ2V4dHJhY3RDRUE2MDgnKTsKdmFyIHBlcmZvcm1hbmNlTm93ID0gcmVxdWlyZSgncGVyZm9ybWFuY2VOb3cnKTsKdmFyIHBhcnNlSGVhZGVycyA9IHJlcXVpcmUoJ3BhcnNlSGVhZGVycycpOwp2YXIgY2FuVXNlRmV0Y2hTdHJlYW0gPSByZXF1aXJlKCdjYW5Vc2VGZXRjaFN0cmVhbScpOwp2YXIgU3Vic2NyaXB0aW9uc0hhbmRsZXIgPSByZXF1aXJlKCdTdWJzY3JpcHRpb25zSGFuZGxlcicpOwp2YXIgVmlkZW9QdXNoVHJhY2tlciA9IHJlcXVpcmUoJ1ZpZGVvUHVzaFRyYWNrZXInKTsKCmZ1bmN0aW9uIHNldEV2ZW50UHJvcGVydHkob2JqLCBuYW1lLCBoYW5kbGVyKSB7CiAgb2JqW25hbWVdID0gVGltZVNsaWNlLmd1YXJkKGhhbmRsZXIsICdzaGFrYSAnICsgbmFtZSk7Cn07CgppZiAoCiAgVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCdzaGFrYV9uYXRpdmVfcHJvbWlzZScsIGZhbHNlKSAmJgogIFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgndXNlX25hdGl2ZV9wcm9taXNlJywgdHJ1ZSkKKSB7CiAgUHJvbWlzZSA9IHdpbmRvdy5Qcm9taXNlOwp9Cgp2YXIgZyA9IHt9OwoKKGZ1bmN0aW9uKHdpbmRvdyl7dmFyIG4sYWE9dGhpcztmdW5jdGlvbiBxKGEsYil7dmFyIGM9YS5zcGxpdCgiLiIpLGQ9YWE7Y1swXWluIGR8fCFkLmV4ZWNTY3JpcHR8fGQuZXhlY1NjcmlwdCgidmFyICIrY1swXSk7Zm9yKHZhciBlO2MubGVuZ3RoJiYoZT1jLnNoaWZ0KCkpOyljLmxlbmd0aHx8dm9pZCAwPT09Yj9kW2VdP2Q9ZFtlXTpkPWRbZV09e306ZFtlXT1ifWZ1bmN0aW9uIHIoYSxiKXtmdW5jdGlvbiBjKCl7fWMucHJvdG90eXBlPWIucHJvdG90eXBlO2EuUGQ9Yi5wcm90b3R5cGU7YS5wcm90b3R5cGU9bmV3IGM7YS5wcm90b3R5cGUuY29uc3RydWN0b3I9YTthLkxkPWZ1bmN0aW9uKGEsYyxmKXtyZXR1cm4gYi5wcm90b3R5cGVbY10uYXBwbHkoYSxBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMikpfX07LyoKCiBDb3B5cmlnaHQgMjAxNSBHb29nbGUgSW5jLgoKIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoKIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoqLwpmdW5jdGlvbiBiYSgpe307ZnVuY3Rpb24gY2EoYSl7dmFyIGI9Y29uc29sZVthXTtiP2IuYmluZHx8KGNvbnNvbGVbYV09ZnVuY3Rpb24oKXtiLmFwcGx5KGNvbnNvbGUsYXJndW1lbnRzKX0pOmNvbnNvbGVbYV09ZnVuY3Rpb24oKXt9fWNhKCJlcnJvciIpO2NhKCJ3YXJuIik7Y2EoImluZm8iKTtjYSgibG9nIik7Y2EoImRlYnVnIik7dmFyIHU9e3FhOmZ1bmN0aW9uKGEpe3UuSGJbYV09e3FhOnUud2MoKSxlbmQ6TmFOfX0sZW5kOmZ1bmN0aW9uKGEpe2lmKGE9dS5IYlthXSlhLmVuZD11LndjKCl9LE1kOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD11LmdldChhKSxlPXUuZ2V0KGIpO2lmKCFkfHwhZSlyZXR1cm4gTmFOO2QtPWU7Zm9yKGU9MjtlPGFyZ3VtZW50cy5sZW5ndGg7KytlKXt2YXIgZj11LmdldChhcmd1bWVudHNbZV0pO2lmKCFmKXJldHVybiBOYU47ZC09Zn1yZXR1cm4gZH0sZ2V0OmZ1bmN0aW9uKGEpe3JldHVybihhPXUuSGJbYV0pJiZhLmVuZD9hLmVuZC1hLnFhOk5hTn19O3Uud2M9d2luZG93LnBlcmZvcm1hbmNlJiZ3aW5kb3cucGVyZm9ybWFuY2Uubm93P3dpbmRvdy5wZXJmb3JtYW5jZS5ub3cuYmluZCh3aW5kb3cucGVyZm9ybWFuY2UpOkRhdGUubm93O3UuSGI9e307LyoKCiBDb3B5cmlnaHQgMjAwNC1wcmVzZW50IEZhY2Vib29rLiBBbGwgUmlnaHRzIFJlc2VydmVkLgoKKi8KZnVuY3Rpb24gZmEoYSxiLGMsZCxlLGYsZyxoKXt0aGlzLmlkPWE7dGhpcy5iYW5kd2lkdGg9Ynx8MDt0aGlzLmxhbmc9Y3x8InVua25vd24iO3RoaXMuc3RyZWFtSW5mb0lEPWQ7dGhpcy5taW1lVHlwZT1lfHwiIjt0aGlzLmNvZGVjcz1mfHwiIjt0aGlzLmNoYW5uZWxzPWd8fG51bGw7dGhpcy5zYW1wbGluZ1JhdGU9aHx8bnVsbDt0aGlzLmFjdGl2ZT0hMX1xKCJzaGFrYS5wbGF5ZXIuQXVkaW9UcmFjay5jb21wYXJlIixmdW5jdGlvbihhLGIpe3JldHVybiBhLmxhbmc8Yi5sYW5nPy0xOmEubGFuZz5iLmxhbmc/MTphLmJhbmR3aWR0aDxiLmJhbmR3aWR0aD8tMTphLmJhbmR3aWR0aD5iLmJhbmR3aWR0aD8xOjB9KTt2YXIgZ2E9VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoInNoYWthX2RlZmF1bHRfcmVxdWVzdF90aW1lb3V0X3RpbWVzY2FsZSIsMUUzKSxoYT1NYXRoLmZsb29yKFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJzaGFrYV9kZWZhdWx0X2FqYXhfcmVxdWVzdF90aW1lb3V0X21zIiwwKS9nYSksaWE9TWF0aC5mbG9vcihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigic2hha2FfZGVmYXVsdF9hamF4X3JlcXVlc3RfdGltZW91dF9tcyIsMCkvZ2EpLGphPU1hdGguZmxvb3IoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoInNoYWthX2RlZmF1bHRfYWpheF9yZXF1ZXN0X3RpbWVvdXRfbXMiLDApL2dhKTtmdW5jdGlvbiBrYSgpe3RoaXMubWluQmFuZHdpZHRoPXRoaXMubWF4QmFuZHdpZHRoPXRoaXMubWF4V2lkdGg9dGhpcy5taW5IZWlnaHQ9dGhpcy5tYXhIZWlnaHQ9bnVsbH1rYS5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYT1uZXcga2E7YS5tYXhIZWlnaHQ9dGhpcy5tYXhIZWlnaHQ7YS5taW5IZWlnaHQ9dGhpcy5taW5IZWlnaHQ7YS5tYXhXaWR0aD10aGlzLm1heFdpZHRoO2EubWF4QmFuZHdpZHRoPXRoaXMubWF4QmFuZHdpZHRoO2EubWluQmFuZHdpZHRoPXRoaXMubWluQmFuZHdpZHRoO3JldHVybiBhfTtmdW5jdGlvbiBsYSgpe3RoaXMuZm9udFNpemU9IjEwMCUiO3RoaXMuZm9udENvbG9yPW1hO3RoaXMuZm9udE9wYWNpdHk9b2E7dGhpcy5iYWNrZ3JvdW5kQ29sb3I9cGE7dGhpcy5iYWNrZ3JvdW5kT3BhY2l0eT1vYTt0aGlzLmZvbnRFZGdlPXFhfXEoInNoYWthLnBsYXllci5UZXh0U3R5bGUiLGxhKTsKZnVuY3Rpb24gcmEoYSl7dmFyIGI9W107Yi5wdXNoKCJmb250LXNpemU6ICIrYS5mb250U2l6ZSk7Yi5wdXNoKCJjb2xvcjogIitzYShhLmZvbnRDb2xvcixhLmZvbnRPcGFjaXR5KSk7Yi5wdXNoKCJiYWNrZ3JvdW5kLWNvbG9yOiAiK3NhKGEuYmFja2dyb3VuZENvbG9yLGEuYmFja2dyb3VuZE9wYWNpdHkpKTtmb3IodmFyIGM9W10sZD0wO2Q8YS5mb250RWRnZS5sZW5ndGg7KytkKXt2YXIgZT1hLmZvbnRFZGdlW2RdLnNsaWNlKDMsNik7Yy5wdXNoKHNhKGEuZm9udEVkZ2VbZF0uc2xpY2UoMCwzKSxhLmZvbnRPcGFjaXR5KSsiICIrZS5qb2luKCJweCAiKSsicHgiKX1iLnB1c2goInRleHQtc2hhZG93OiAiK2Muam9pbigiLCIpKTtyZXR1cm4gYi5qb2luKCI7ICIpfWZ1bmN0aW9uIHNhKGEsYil7cmV0dXJuInJnYmEoIithLmNvbmNhdChiKS5qb2luKCIsIikrIikifXZhciBtYT1bMjU1LDI1NSwyNTVdLHBhPVswLDAsMF07CmxhLlN0YW5kYXJkQ29sb3JzPXtXSElURTptYSxCTEFDSzpwYSxSRUQ6WzI1NSwwLDBdLEdSRUVOOlswLDI1NSwwXSxCTFVFOlswLDAsMjU1XSxZRUxMT1c6WzI1NSwyNTUsMF0sTUFHRU5UQTpbMjU1LDAsMjU1XSxDWUFOOlswLDI1NSwyNTVdfTt2YXIgb2E9MTtsYS5TdGFuZGFyZE9wYWNpdGllcz17T1BBUVVFOm9hLFNFTUlfSElHSDouNzUsU0VNSV9MT1c6LjI1LFRSQU5TUEFSRU5UOjB9O3ZhciBxYT1bXTsKbGEuRWRnZVN0eWxlcz17Tk9ORTpxYSxSQUlTRUQ6W1szNCwzNCwzNCwxLDEsMF0sWzM0LDM0LDM0LDIsMiwwXSxbMzQsMzQsMzQsMywzLDBdXSxERVBSRVNTRUQ6W1syMDQsMjA0LDIwNCwxLDEsMF0sWzIwNCwyMDQsMjA0LDAsMSwwXSxbMzQsMzQsMzQsLTEsLTEsMF0sWzM0LDM0LDM0LDAsLTEsMF1dLFVOSUZPUk06W1szNCwzNCwzNCwwLDAsNF0sWzM0LDM0LDM0LDAsMCw0XSxbMzQsMzQsMzQsMCwwLDRdLFszNCwzNCwzNCwwLDAsNF1dLERST1A6W1szNCwzNCwzNCwyLDIsM10sWzM0LDM0LDM0LDIsMiw0XSxbMzQsMzQsMzQsMiwyLDVdXX07ZnVuY3Rpb24gdGEoYSxiKXt0aGlzLmlkPWE7dGhpcy5sYW5nPWJ8fCJ1bmtub3duIjt0aGlzLmVuYWJsZWQ9dGhpcy5hY3RpdmU9ITF9cSgic2hha2EucGxheWVyLlRleHRUcmFjay5jb21wYXJlIixmdW5jdGlvbihhLGIpe3JldHVybiBhLmxhbmc8Yi5sYW5nPy0xOmEubGFuZz5iLmxhbmc/MTowfSk7ZnVuY3Rpb24gdWEoYSxiLGMsZCxlLGYsZyxoLGssbCxtLHAsdCl7dGhpcy5pZD1hO3RoaXMuYmFuZHdpZHRoPWJ8fDA7dGhpcy53aWR0aD1jfHwwO3RoaXMuaGVpZ2h0PWR8fDA7dGhpcy5zdHJlYW1JbmZvSUQ9ZTt0aGlzLmZiUXVhbGl0eUxhYmVsPWY7dGhpcy5mYlF1YWxpdHlDbGFzcz1nO2E9W107aCYmKGE9aC5zcGxpdCgiLCIpKTt0aGlzLmZyYW1lUmF0ZT1rfHwiIjt0aGlzLm1pbWVUeXBlPWx8fCIiO3RoaXMuY29kZWNzPW18fCIiO3RoaXMuaXNIVlE9LTE8YS5pbmRleE9mKCJodnEiKTt0aGlzLmlzSW5saW5lSFZRPS0xPGEuaW5kZXhPZigiaHZxX3d3d19pbmxpbmUiKTt0aGlzLmF2b2lkT25Qb29yQ29ubmVjdGlvbj0tMTxhLmluZGV4T2YoImF2b2lkX29uX3Bvb3JfY29ubmVjdGlvbiIpO3RoaXMuYWN0aXZlPSExO3RoaXMucGxheWJhY2tSZXNvbHV0aW9uTW9zPXB8fG51bGw7dGhpcy5wbGF5YmFja1Jlc29sdXRpb25Nb3NDb25maWRlbmNlTGV2ZWw9dHx8bnVsbH0KZnVuY3Rpb24gdmEoYSxiKXt2YXIgYz1hLndpZHRoKmEuaGVpZ2h0LGQ9Yi53aWR0aCpiLmhlaWdodDtyZXR1cm4gYzxkPy0xOmM+ZD8xOmEuYmFuZHdpZHRoPGIuYmFuZHdpZHRoPy0xOmEuYmFuZHdpZHRoPmIuYmFuZHdpZHRoPzE6MH1xKCJzaGFrYS5wbGF5ZXIuVmlkZW9UcmFjay5jb21wYXJlIix2YSk7ZnVuY3Rpb24gd2EoYSl7Zm9yKHZhciBiPXhhLGM9W10sZD0wO2Q8YS5sZW5ndGg7KytkKXtmb3IodmFyIGU9ITEsZj0wO2Y8Yy5sZW5ndGgmJiEoZT1iP2IoYVtkXSxjW2ZdKTphW2RdPT09Y1tmXSk7KytmKTtlfHxjLnB1c2goYVtkXSl9cmV0dXJuIGN9O2Z1bmN0aW9uIHlhKCl7cmV0dXJuIERhdGUubm93KCkremF9dmFyIHphPTA7ZnVuY3Rpb24gQmEoYSl7dGhpcy5iPWE7dGhpcy5jPTA9PUNhO3RoaXMuYT0wfXZhciBDYT0xO2Z1bmN0aW9uIERhKGEpe3JldHVybiBhLmE8YS5iLmJ5dGVMZW5ndGh9ZnVuY3Rpb24gRWEoYSl7dmFyIGI9YS5iLmdldFVpbnQ4KGEuYSk7YS5hKz0xO3JldHVybiBifWZ1bmN0aW9uIHYoYSl7dmFyIGI9YS5iLmdldFVpbnQzMihhLmEsYS5jKTthLmErPTQ7cmV0dXJuIGJ9ZnVuY3Rpb24gRmEoYSl7dmFyIGIsYzthLmM/KGI9YS5iLmdldFVpbnQzMihhLmEsITApLGM9YS5iLmdldFVpbnQzMihhLmErNCwhMCkpOihjPWEuYi5nZXRVaW50MzIoYS5hLCExKSxiPWEuYi5nZXRVaW50MzIoYS5hKzQsITEpKTtpZigyMDk3MTUxPGMpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkRhdGFWaWV3UmVhZGVyOiBPdmVyZmxvdyByZWFkaW5nIDY0LWJpdCB2YWx1ZS4iKTthLmErPTg7cmV0dXJuIGMqTWF0aC5wb3coMiwzMikrYn0KZnVuY3Rpb24gR2EoYSl7aWYoYS5hKzE2PmEuYi5ieXRlTGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKCJEYXRhVmlld1JlYWRlcjogUmVhZCBwYXN0IGVuZCBvZiBEYXRhVmlldy4iKTt2YXIgYj1uZXcgVWludDhBcnJheShhLmIuYnVmZmVyLGEuYSwxNik7YS5hKz0xNjtyZXR1cm4gYn1mdW5jdGlvbiBIYShhLGIpe2lmKGEuYStiPmEuYi5ieXRlTGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKCJEYXRhVmlld1JlYWRlcjogU2tpcCBwYXN0IGVuZCBvZiBEYXRhVmlldy4iKTthLmErPWJ9O2Z1bmN0aW9uIElhKGEpe3RoaXMuYj1hO3RoaXMuYT1uZXcgQmEoYSk7SmF8fChKYT1bbmV3IFVpbnQ4QXJyYXkoWzI1NV0pLG5ldyBVaW50OEFycmF5KFsxMjcsMjU1XSksbmV3IFVpbnQ4QXJyYXkoWzYzLDI1NSwyNTVdKSxuZXcgVWludDhBcnJheShbMzEsMjU1LDI1NSwyNTVdKSxuZXcgVWludDhBcnJheShbMTUsMjU1LDI1NSwyNTUsMjU1XSksbmV3IFVpbnQ4QXJyYXkoWzcsMjU1LDI1NSwyNTUsMjU1LDI1NV0pLG5ldyBVaW50OEFycmF5KFszLDI1NSwyNTUsMjU1LDI1NSwyNTUsMjU1XSksbmV3IFVpbnQ4QXJyYXkoWzEsMjU1LDI1NSwyNTUsMjU1LDI1NSwyNTUsMjU1XSldKX12YXIgSmE7CmZ1bmN0aW9uIEthKGEpe3ZhciBiO2I9TGEoYSk7aWYoNzxiLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiRWJtbFBhcnNlcjogRUJNTCBJRCBtdXN0IGJlIGF0IG1vc3QgNyBieXRlcy4iKTtmb3IodmFyIGM9MCxkPTA7ZDxiLmxlbmd0aDtkKyspYz0yNTYqYytiW2RdO2I9YztjPUxhKGEpO2E6e2ZvcihkPTA7ZDxKYS5sZW5ndGg7ZCsrKWlmKE1hKGMsSmFbZF0pKXtkPSEwO2JyZWFrIGF9ZD0hMX1pZihkKWM9YS5iLmJ5dGVMZW5ndGgtYS5hLmE7ZWxzZXtpZig4PT1jLmxlbmd0aCYmY1sxXSYyMjQpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkVibWxQYXJzZXI6IFZhcmlhYmxlIHNpemVkIGludGVnZXIgdmFsdWUgbXVzdCBiZSBhdCBtb3N0IDUzIGJpdHMuIik7Zm9yKHZhciBkPWNbMF0mKDE8PDgtYy5sZW5ndGgpLTEsZT0xO2U8Yy5sZW5ndGg7ZSsrKWQ9MjU2KmQrY1tlXTtjPWR9Yz1hLmEuYStjPD1hLmIuYnl0ZUxlbmd0aD9jOmEuYi5ieXRlTGVuZ3RoLWEuYS5hO2Q9bmV3IERhdGFWaWV3KGEuYi5idWZmZXIsCmEuYi5ieXRlT2Zmc2V0K2EuYS5hLGMpO0hhKGEuYSxjKTtyZXR1cm4gbmV3IE5hKGIsZCl9ZnVuY3Rpb24gTGEoYSl7dmFyIGI9RWEoYS5hKSxjO2ZvcihjPTE7OD49YyYmIShiJjE8PDgtYyk7YysrKTtpZig4PGMpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkVibWxQYXJzZXI6IFZhcmlhYmxlIHNpemVkIGludGVnZXIgbXVzdCBmaXQgd2l0aGluIDggYnl0ZXMuIik7dmFyIGQ9bmV3IFVpbnQ4QXJyYXkoYyk7ZFswXT1iO2ZvcihiPTE7YjxjO2IrKylkW2JdPUVhKGEuYSk7cmV0dXJuIGR9ZnVuY3Rpb24gTmEoYSxiKXt0aGlzLmlkPWE7dGhpcy5hPWJ9CmZ1bmN0aW9uIE9hKGEpe2lmKDg8YS5hLmJ5dGVMZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkVibWxFbGVtZW50OiBVbnNpZ25lZCBpbnRlZ2VyIGhhcyB0b28gbWFueSBieXRlcy4iKTtpZig4PT1hLmEuYnl0ZUxlbmd0aCYmYS5hLmdldFVpbnQ4KDApJjIyNCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiRWJtbFBhcnNlcjogVW5zaWduZWQgaW50ZWdlciBtdXN0IGJlIGF0IG1vc3QgNTMgYml0cy4iKTtmb3IodmFyIGI9MCxjPTA7YzxhLmEuYnl0ZUxlbmd0aDtjKyspdmFyIGQ9YS5hLmdldFVpbnQ4KGMpLGI9MjU2KmIrZDtyZXR1cm4gYn07dmFyIFBhPXsib3V0cHV0LXJlc3RyaWN0ZWQiOiJUaGUgcmVxdWlyZWQgb3V0cHV0IHByb3RlY3Rpb24gaXMgbm90IGF2YWlsYWJsZS4iLCJvdXRwdXQtbm90LWFsbG93ZWQiOiJUaGUgcmVxdWlyZWQgb3V0cHV0IHByb3RlY3Rpb24gaXMgbm90IGF2YWlsYWJsZS4iLGV4cGlyZWQ6IlRoZSBkZWNyeXB0aW9uIGtleSBoYXMgZXhwaXJlZC4iLCJpbnRlcm5hbC1lcnJvciI6IlRoZSBrZXkgc3lzdGVtIGhhcyBlbmNvdW50ZXJlZCBhbiB1bnNwZWNpZmllZCBlcnJvci4ifTtmdW5jdGlvbiB4KGEpe3RoaXMuYj1NYXRoLmV4cChNYXRoLmxvZyguNSkvYSk7dGhpcy55Yj10aGlzLiRhPXRoaXMuYT0wfXEoInNoYWthLnV0aWwuRVdNQSIseCk7eC5wcm90b3R5cGUuc2FtcGxlPWZ1bmN0aW9uKGEsYil7dmFyIGM9TWF0aC5wb3codGhpcy5iLGEpO3RoaXMuYT1iKigxLWMpK2MqdGhpcy5hO3RoaXMuJGErPWE7dGhpcy55Yis9MX07eC5wcm90b3R5cGUuc2FtcGxlPXgucHJvdG90eXBlLnNhbXBsZTt4LnByb3RvdHlwZS5jPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGF9O3gucHJvdG90eXBlLmdldFRvdGFsV2VpZ2h0PXgucHJvdG90eXBlLmM7eC5wcm90b3R5cGUuZ2V0RXN0aW1hdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLygxLU1hdGgucG93KHRoaXMuYix0aGlzLiRhKSl9O3gucHJvdG90eXBlLmdldEVzdGltYXRlPXgucHJvdG90eXBlLmdldEVzdGltYXRlO3gucHJvdG90eXBlLmY9ZnVuY3Rpb24oKXt0aGlzLnliPXRoaXMuJGE9dGhpcy5hPTB9Owp4LnByb3RvdHlwZS5yZXNldD14LnByb3RvdHlwZS5mO3ZhciBRYT13aW5kb3cuQ3VzdG9tRXZlbnQ7ImZ1bmN0aW9uIiE9PXR5cGVvZiBRYSYmKFFhPWZ1bmN0aW9uKGEsYil7Yj1ifHx7YnViYmxlczohMSxjYW5jZWxhYmxlOiExLGRldGFpbDp2b2lkIDB9O3ZhciBjPWRvY3VtZW50LmNyZWF0ZUV2ZW50KCJDdXN0b21FdmVudCIpO2MuaW5pdEN1c3RvbUV2ZW50KGEsYi5idWJibGVzLGIuY2FuY2VsYWJsZSxiLmRldGFpbCk7cmV0dXJuIGN9LFFhLnByb3RvdHlwZT13aW5kb3cuRXZlbnQucHJvdG90eXBlKTtmdW5jdGlvbiB5KGEpe3ZhciBiPW5ldyBRYShhLnR5cGUse2RldGFpbDphLmRldGFpbCxidWJibGVzOiEhYS5idWJibGVzfSksYztmb3IoYyBpbiBhKWMgaW4gYnx8KGJbY109YVtjXSk7cmV0dXJuIGJ9ZnVuY3Rpb24gQShhKXtyZXR1cm4gbmV3IFFhKCJlcnJvciIse2RldGFpbDphLGJ1YmJsZXM6ITB9KX07ZnVuY3Rpb24gUmEoYSxiLGMpe1NhKGIpO1NhKGMpO3JldHVybiBjPT1ifHxhPj1UYSYmYz09Yi5zcGxpdCgiLSIpWzBdfHxhPj1VYSYmYy5zcGxpdCgiLSIpWzBdPT1iLnNwbGl0KCItIilbMF0/ITA6ITF9dmFyIFRhPTEsVWE9MjtmdW5jdGlvbiBTYShhKXthPWEudG9Mb3dlckNhc2UoKS5zcGxpdCgiLSIpO3ZhciBiPVZhW2FbMF1dO2ImJihhWzBdPWIpO3JldHVybiBhLmpvaW4oIi0iKX0KdmFyIFZhPXthYXI6ImFhIixhYms6ImFiIixhZnI6ImFmIixha2E6ImFrIixhbGI6InNxIixhbWg6ImFtIixhcmE6ImFyIixhcmc6ImFuIixhcm06Imh5Iixhc206ImFzIixhdmE6ImF2IixhdmU6ImFlIixheW06ImF5IixhemU6ImF6IixiYWs6ImJhIixiYW06ImJtIixiYXE6ImV1IixiZWw6ImJlIixiZW46ImJuIixiaWg6ImJoIixiaXM6ImJpIixib2Q6ImJvIixib3M6ImJzIixicmU6ImJyIixidWw6ImJnIixidXI6Im15IixjYXQ6ImNhIixjZXM6ImNzIixjaGE6ImNoIixjaGU6ImNlIixjaGk6InpoIixjaHU6ImN1IixjaHY6ImN2Iixjb3I6Imt3Iixjb3M6ImNvIixjcmU6ImNyIixjeW06ImN5IixjemU6ImNzIixkYW46ImRhIixkZXU6ImRlIixkaXY6ImR2IixkdXQ6Im5sIixkem86ImR6IixlbGw6ImVsIixlbmc6ImVuIixlcG86ImVvIixlc3Q6ImV0IixldXM6ImV1Iixld2U6ImVlIixmYW86ImZvIixmYXM6ImZhIixmaWo6ImZqIixmaW46ImZpIixmcmE6ImZyIixmcmU6ImZyIiwKZnJ5OiJmeSIsZnVsOiJmZiIsZ2VvOiJrYSIsZ2VyOiJkZSIsZ2xhOiJnZCIsZ2xlOiJnYSIsZ2xnOiJnbCIsZ2x2OiJndiIsZ3JlOiJlbCIsZ3JuOiJnbiIsZ3VqOiJndSIsaGF0OiJodCIsaGF1OiJoYSIsaGViOiJoZSIsaGVyOiJoeiIsaGluOiJoaSIsaG1vOiJobyIsaHJ2OiJociIsaHVuOiJodSIsaHllOiJoeSIsaWJvOiJpZyIsaWNlOiJpcyIsaWRvOiJpbyIsaWlpOiJpaSIsaWt1OiJpdSIsaWxlOiJpZSIsaW5hOiJpYSIsaW5kOiJpZCIsaXBrOiJpayIsaXNsOiJpcyIsaXRhOiJpdCIsamF2OiJqdiIsanBuOiJqYSIsa2FsOiJrbCIsa2FuOiJrbiIsa2FzOiJrcyIsa2F0OiJrYSIsa2F1OiJrciIsa2F6OiJrayIsa2htOiJrbSIsa2lrOiJraSIsa2luOiJydyIsa2lyOiJreSIsa29tOiJrdiIsa29uOiJrZyIsa29yOiJrbyIsa3VhOiJraiIsa3VyOiJrdSIsbGFvOiJsbyIsbGF0OiJsYSIsbGF2OiJsdiIsbGltOiJsaSIsbGluOiJsbiIsbGl0OiJsdCIsbHR6OiJsYiIsbHViOiJsdSIsCmx1ZzoibGciLG1hYzoibWsiLG1haDoibWgiLG1hbDoibWwiLG1hbzoibWkiLG1hcjoibXIiLG1heToibXMiLG1rZDoibWsiLG1sZzoibWciLG1sdDoibXQiLG1vbjoibW4iLG1yaToibWkiLG1zYToibXMiLG15YToibXkiLG5hdToibmEiLG5hdjoibnYiLG5ibDoibnIiLG5kZToibmQiLG5kbzoibmciLG5lcDoibmUiLG5sZDoibmwiLG5ubzoibm4iLG5vYjoibmIiLG5vcjoibm8iLG55YToibnkiLG9jaToib2MiLG9qaToib2oiLG9yaToib3IiLG9ybToib20iLG9zczoib3MiLHBhbjoicGEiLHBlcjoiZmEiLHBsaToicGkiLHBvbDoicGwiLHBvcjoicHQiLHB1czoicHMiLHF1ZToicXUiLHJvaDoicm0iLHJvbjoicm8iLHJ1bToicm8iLHJ1bjoicm4iLHJ1czoicnUiLHNhZzoic2ciLHNhbjoic2EiLHNpbjoic2kiLHNsazoic2siLHNsbzoic2siLHNsdjoic2wiLHNtZToic2UiLHNtbzoic20iLHNuYToic24iLHNuZDoic2QiLHNvbToic28iLHNvdDoic3QiLHNwYToiZXMiLHNxaToic3EiLApzcmQ6InNjIixzcnA6InNyIixzc3c6InNzIixzdW46InN1Iixzd2E6InN3Iixzd2U6InN2Iix0YWg6InR5Iix0YW06InRhIix0YXQ6InR0Iix0ZWw6InRlIix0Z2s6InRnIix0Z2w6InRsIix0aGE6InRoIix0aWI6ImJvIix0aXI6InRpIix0b246InRvIix0c246InRuIix0c286InRzIix0dWs6InRrIix0dXI6InRyIix0d2k6InR3Iix1aWc6InVnIix1a3I6InVrIix1cmQ6InVyIix1emI6InV6Iix2ZW46InZlIix2aWU6InZpIix2b2w6InZvIix3ZWw6ImN5Iix3bG46IndhIix3b2w6IndvIix4aG86InhoIix5aWQ6InlpIix5b3I6InlvIix6aGE6InphIix6aG86InpoIix6dWw6Inp1In07ZnVuY3Rpb24gV2EoYSl7cmV0dXJuIE9iamVjdC5rZXlzKGEpLm1hcChmdW5jdGlvbihiKXtyZXR1cm4gYVtiXX0pfWZ1bmN0aW9uIEIoYSxiKXtyZXR1cm4gWGEoYSxiLCJib29sZWFuIil9ZnVuY3Rpb24gQyhhLGIsYyl7YT1YYShhLGIsIm51bWJlciIpO2lmKG51bGw9PWEpcmV0dXJuIG51bGw7aWYoaXNOYU4oYSl8fGE9PU51bWJlci5ORUdBVElWRV9JTkZJTklUWXx8YT09TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZKXRocm93IG5ldyBSYW5nZUVycm9yKCInIitiKyInIG11c3QgYmUgZmluaXRlLiIpO2lmKG51bGwhPWMmJmE8Yyl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiJyIrYisiJyBtdXN0IGJlID49ICIrYyk7cmV0dXJuIGF9ZnVuY3Rpb24gWWEoYSxiKXtyZXR1cm4gWGEoYSxiLCJzdHJpbmciKX0KZnVuY3Rpb24gWGEoYSxiLGMpe2E9YVtiXTtpZihudWxsPT1hKXJldHVybiBudWxsO2lmKHR5cGVvZiBhIT09Yyl0aHJvdyBuZXcgVHlwZUVycm9yKCInIitiKyInIG11c3QgYmUgYSAiK2MrIi4iKTtyZXR1cm4gYX1mdW5jdGlvbiBaYShhLGIsYyl7YT1hW2JdO2lmKG51bGw9PWEpcmV0dXJuIG51bGw7aWYoIShhIGluc3RhbmNlb2YgYykpdGhyb3cgbmV3IFR5cGVFcnJvcigiJyIrYisiJyBtdXN0IGJlIGFuIGluc3RhbmNlIG9mICIrYy5uYW1lKyIuIik7cmV0dXJuIGF9O2Z1bmN0aW9uIEQoKXt0aGlzLmE9e319RC5wcm90b3R5cGUucHVzaD1mdW5jdGlvbihhLGIpe3RoaXMuYS5oYXNPd25Qcm9wZXJ0eShhKT90aGlzLmFbYV0ucHVzaChiKTp0aGlzLmFbYV09W2JdfTtELnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24oYSxiKXt0aGlzLmFbYV09Yn07RC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGEpe3JldHVybihhPXRoaXMuYVthXSk/YS5zbGljZSgpOm51bGx9O2Z1bmN0aW9uICRhKGEpe3ZhciBiPVtdLGM7Zm9yKGMgaW4gYS5hKWIucHVzaC5hcHBseShiLGEuYVtjXSk7cmV0dXJuIGJ9RC5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5hW2FdO2lmKGMpZm9yKHZhciBkPTA7ZDxjLmxlbmd0aDsrK2QpY1tkXT09YiYmKGMuc3BsaWNlKGQsMSksLS1kKX07ZnVuY3Rpb24gYWIoYSl7dmFyIGI9W10sYztmb3IoYyBpbiBhLmEpYi5wdXNoKGMpO3JldHVybiBifTtmdW5jdGlvbiBiYigpe3RoaXMuYT1uZXcgRH1iYi5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe2RiKHRoaXMpO3RoaXMuYT1udWxsfTtmdW5jdGlvbiBFKGEsYixjLGQpe2I9bmV3IGViKGIsYyxkKTthLmEucHVzaChjLGIpfWJiLnByb3RvdHlwZS5hYj1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz10aGlzLmEuZ2V0KGIpfHxbXSxkPTA7ZDxjLmxlbmd0aDsrK2Qpe3ZhciBlPWNbZF07ZS50YXJnZXQ9PWEmJihlLmFiKCksdGhpcy5hLnJlbW92ZShiLGUpKX19O2Z1bmN0aW9uIGRiKGEpe2Zvcih2YXIgYj0kYShhLmEpLGM9MDtjPGIubGVuZ3RoOysrYyliW2NdLmFiKCk7YS5hLmE9e319ZnVuY3Rpb24gZWIoYSxiLGMpe3RoaXMudGFyZ2V0PWE7dGhpcy50eXBlPWI7dGhpcy5hPWM7dGhpcy50YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihiLGMsITEpfQplYi5wcm90b3R5cGUuYWI9ZnVuY3Rpb24oKXt0aGlzLnRhcmdldCYmKHRoaXMudGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIodGhpcy50eXBlLHRoaXMuYSwhMSksdGhpcy5hPXRoaXMudGFyZ2V0PW51bGwpfTtmdW5jdGlvbiBGKGEpe3RoaXMuRWI9bmV3IEQ7dGhpcy5KYT1hfXEoInNoYWthLnV0aWwuRmFrZUV2ZW50VGFyZ2V0IixGKTtuPUYucHJvdG90eXBlO24uYWRkRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbihhLGIpe3RoaXMuRWIucHVzaChhLGIpfTtuLnJlbW92ZUV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24oYSxiKXt0aGlzLkViLnJlbW92ZShhLGIpfTsKbi5kaXNwYXRjaEV2ZW50PWZ1bmN0aW9uKGEpe2EuaGFzT3duUHJvcGVydHkoInNyY0VsZW1lbnQiKXx8KGRlbGV0ZSBhLnNyY0VsZW1lbnQsT2JqZWN0LmRlZmluZVByb3BlcnR5KGEsInNyY0VsZW1lbnQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH19KSk7aWYoYS5oYXNPd25Qcm9wZXJ0eSgidGFyZ2V0IikpYS50YXJnZXQ9dGhpcztlbHNle2RlbGV0ZSBhLnRhcmdldDt2YXIgYj10aGlzO09iamVjdC5kZWZpbmVQcm9wZXJ0eShhLCJ0YXJnZXQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYn0sc2V0OmZ1bmN0aW9uKGEpe2I9YX19KX1pZihhLmhhc093blByb3BlcnR5KCJjdXJyZW50VGFyZ2V0IikpYS5jdXJyZW50VGFyZ2V0PW51bGw7ZWxzZXtkZWxldGUgYS5jdXJyZW50VGFyZ2V0O3ZhciBjPW51bGw7T2JqZWN0LmRlZmluZVByb3BlcnR5KGEsImN1cnJlbnRUYXJnZXQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY30sc2V0OmZ1bmN0aW9uKGEpe2M9YX19KX1yZXR1cm4gZmIodGhpcywKYSl9O24ub2M9ITE7bi5MYT1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmRpc3BhdGNoRXZlbnQoeSh7dHlwZToiZGVidWcvZGFzaFBsYXllckV2ZW50IixidWJibGVzOiEwLGRldGFpbDp7dHlwZTphLGV2ZW50OmJ9fSkpfTtmdW5jdGlvbiBmYihhLGIpe2IuY3VycmVudFRhcmdldD1hO2Zvcih2YXIgYz1hLkViLmdldChiLnR5cGUpfHxbXSxkPTA7ZDxjLmxlbmd0aDsrK2Qpe3ZhciBlPWNbZF07dHJ5e2UuaGFuZGxlRXZlbnQ/ZS5oYW5kbGVFdmVudChiKTplLmNhbGwoYSxiKX1jYXRjaChmKXt9fWEuSmEmJmIuYnViYmxlcyYmZmIoYS5KYSxiKTtyZXR1cm4gYi5kZWZhdWx0UHJldmVudGVkfTtmdW5jdGlvbiBHKGEpe0YuY2FsbCh0aGlzLG51bGwpO3RoaXMuYT17b2I6e1ZhOm5ldyB4KFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJmYXN0X21vdmluZ19hdmVyYWdlX2hhbGZfbGlmZSIsMykpLHhiOm5ldyB4KFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJzbG93X21vdmluZ19hdmVyYWdlX2hhbGZfbGlmZSIsMTApKX0sY2I6e1ZhOm5ldyB4KFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJhZ2dyZXNzaXZlX2Zhc3RfbW92aW5nX2F2ZXJhZ2VfaGFsZl9saWZlIiwxRS00KSkseGI6bmV3IHgoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoImFnZ3Jlc3NpdmVfc2xvd19tb3ZpbmdfYXZlcmFnZV9oYWxmX2xpZmUiLDkuMjMzNTA4NzkxNzc0NSkpfX07dGhpcy5oPWF8fDVFNTt0aGlzLmo9VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoIm1pbl9zYW1wbGVfY291bnQiLAoxRTQpO3RoaXMuYj0wO3RoaXMuYz1bXTt0aGlzLmk9VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoIm1heF9yZWNlbnRfYmFuZHdpZHRoX3NhbXBsZXMiLDApfXIoRyxGKTtxKCJzaGFrYS51dGlsLkVXTUFCYW5kd2lkdGhFc3RpbWF0b3IiLEcpO0cucHJvdG90eXBlLnNob3VsZEV4Y2x1ZGVTYW1wbGU9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJjaGFuZ2VfYWJyX2F1ZGlvX2V4Y2x1c2lvbl9sb2dpYyIsITApPyFiOjY1NTM2PmF9OwpHLnByb3RvdHlwZS5zYW1wbGU9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyl7aWYodGhpcy5zaG91bGRFeGNsdWRlU2FtcGxlKGIsYykpZSYmZS5zZXRFdmVudCgidW5zYW1wbGVkIikuc2V0UmVhc29uKCJhdWRpbyIpLmxvZygpO2Vsc2V7aWYoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJ1c2VfcmVzb3VyY2VfdGltaW5nX2VudHJ5X2Zvcl9iYW5kd2lkdGgiLCEwKSl7aWYoIWQpe2UmJmUuc2V0RXZlbnQoInVuc2FtcGxlZCIpLnNldFJlYXNvbigicmVzb3VyY2VfdGltaW5nX2VudHJ5X21pc3NpbmciKS5sb2coKTtyZXR1cm59YT1kLnRpbWVUb0xhc3RCeXRlO2lmKDA+YSl7ZSYmZS5zZXRFdmVudCgidW5zYW1wbGVkIikuc2V0UmVhc29uKCJyZXNvdXJjZV90aW1pbmdfZW50cnlfaW52YWxpZCIpLmxvZygpO3JldHVybn19YT1NYXRoLm1heChhLDUwKTtjPTFFMypVbml0Q29uc3RhbnRzLkJJVFNfSU5fQllURSpiL2E7dmFyIGg9YS8xRTM7dGhpcy5hLmNiLlZhLnNhbXBsZShoLApjLGQpO3RoaXMuYS5jYi54Yi5zYW1wbGUoaCxjLGQpO3RoaXMuYS5vYi5WYS5zYW1wbGUoaCxjLGQpO3RoaXMuYS5vYi54Yi5zYW1wbGUoaCxjLGQpO2d8fHRoaXMuZGlzcGF0Y2hFdmVudCh5KHt0eXBlOiJiYW5kd2lkdGgifSkpO3RoaXMuYj1EYXRlLm5vdygpO2Q9cGFyc2VJbnQoYSwxMCk7aWYoMDx0aGlzLmkpZm9yKHRoaXMuYy5wdXNoKFtiLGRdKTt0aGlzLmMubGVuZ3RoPnRoaXMuaTspdGhpcy5jLnNoaWZ0KCk7ZSYmZS5zZXRFdmVudCgic2FtcGxlZCIpLnNldEJ5dGVzKGIpLnNldERlbGF5TXMoZCkubG9nKCk7ZiYmZi5nZXRFdmVudExvZ2dlcigiYmFuZHdpZHRoX3NhbXBsZWQiKS5zZXRMZW5ndGgoYikuc2V0Q2xpZW50VGltZUJlZ2luKHRoaXMuYi1kKS5zZXRDbGllbnRUaW1lRW5kKHRoaXMuYikubG9nKCl9fTsKRy5wcm90b3R5cGUuZ2V0QmFuZHdpZHRoPWZ1bmN0aW9uKGEpe2E9ImFnZ3Jlc3NpdmUiPT09YT90aGlzLmEuY2I6dGhpcy5hLm9iO3JldHVybiB0aGlzLmNhblRydXN0RXN0aW1hdGUoKT9NYXRoLm1pbihhLlZhLmdldEVzdGltYXRlKCksYS54Yi5nZXRFc3RpbWF0ZSgpKTp0aGlzLmh9O0cucHJvdG90eXBlLmdldEZhc3RNb3ZpbmdCYW5kd2lkdGg9ZnVuY3Rpb24oYSl7YT0iYWdncmVzc2l2ZSI9PT1hP3RoaXMuYS5jYjp0aGlzLmEub2I7cmV0dXJuIHRoaXMuY2FuVHJ1c3RFc3RpbWF0ZSgpP2EuVmEuZ2V0RXN0aW1hdGUoKTp0aGlzLmh9O0cucHJvdG90eXBlLmdldERhdGFBZ2U9ZnVuY3Rpb24oKXtyZXR1cm4oRGF0ZS5ub3coKS10aGlzLmIpLzFFM307Ry5wcm90b3R5cGUuY2FuVHJ1c3RFc3RpbWF0ZT1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmEuY2IuVmE7cmV0dXJuIGIuJGE+PSh2b2lkIDA9PT1hPy41OmEpfHxiLnliPj10aGlzLmp9OwpHLnByb3RvdHlwZS5zdXBwb3J0c0NhY2hpbmc9ZnVuY3Rpb24oKXtyZXR1cm4hMX07Ry5wcm90b3R5cGUuc2V0UmVwcmVzZW50YXRpb25JRD1mdW5jdGlvbigpe307Ry5wcm90b3R5cGUuZmx1c2hBQlJFdmFsdWF0aW9uU2V0PWZ1bmN0aW9uKCl7cmV0dXJuW119O0cucHJvdG90eXBlLmdldFJlY2VudFNhbXBsZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jfTsvKgoKIENvcHlyaWdodCAyMDE1IEZhY2Vib29rIEluYy4KCiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoKICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KKi8KZnVuY3Rpb24gZ2IoYSxiLGMsZCl7Ry5jYWxsKHRoaXMsZCk7dGhpcy5nPWF8fDA7dGhpcy5mPXZvaWQgMD09PWI/SW5maW5pdHk6Yjt0aGlzLm09Y31yKGdiLEcpO3EoInNoYWthLnV0aWwuRVdNQUNhY2hlQmFuZHdpZHRoRXN0aW1hdG9yIixnYik7CmdiLnByb3RvdHlwZS5zYW1wbGU9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxoKXt2YXIgaz04RTMqYi9hO2UmJmUuc2V0Qnl0ZXMoYikuc2V0RGVsYXlNcyhwYXJzZUludChhLDEwKSk7YTw9dGhpcy5nJiZrPnRoaXMuZiYmIWg/KGUmJmUuc2V0RXZlbnQoInVuc2FtcGxlZCIpLnNldFJlYXNvbigiY2FjaGVkIikubG9nKCksZiYmIXRoaXMuc2hvdWxkRXhjbHVkZVNhbXBsZShiLGMpJiZmLmdldEV2ZW50TG9nZ2VyKCJiYW5kd2lkdGhfc2FtcGxlZCIpLnNldFJlc3VsdCgiYWJvcnRlZCIpLnNldExlbmd0aChiKS5zZXRDbGllbnRUaW1lQmVnaW4oRGF0ZS5ub3coKS1wYXJzZUludChhLDEwKSkuc2V0Q2xpZW50VGltZUVuZChEYXRlLm5vdygpKS5sb2coKSx0aGlzLm0oKSk6Ry5wcm90b3R5cGUuc2FtcGxlLmNhbGwodGhpcyxhLGIsYyxkLGUsZixnKX07Z2IucHJvdG90eXBlLnN1cHBvcnRzQ2FjaGluZz1mdW5jdGlvbigpe3JldHVybiBJbmZpbml0eSE9PXRoaXMuZiYmISF0aGlzLmd9OwpnYi5wcm90b3R5cGUuc2V0UmVwcmVzZW50YXRpb25JRD1mdW5jdGlvbigpe307Z2IucHJvdG90eXBlLmZsdXNoQUJSRXZhbHVhdGlvblNldD1mdW5jdGlvbigpe3JldHVybltdfTtmdW5jdGlvbiBoYigpe0cuY2FsbCh0aGlzKX1yKGhiLEcpO3EoInNoYWthLnV0aWwuRVdNQVNpZ25lZFVSTEJhbmR3aWR0aEVzdGltYXRvciIsaGIpO2hiLnByb3RvdHlwZS5zdXBwb3J0c0NhY2hpbmc9ZnVuY3Rpb24oKXtyZXR1cm4hMH07ZnVuY3Rpb24gSSgpe3ZhciBhLGIsYz1uZXcgUHJvbWlzZShmdW5jdGlvbihjLGUpe2E9YztiPWV9KTtjLnJlc29sdmU9YTtjLnJlamVjdD1iO2MuZGVzdHJveT1JLnByb3RvdHlwZS5kZXN0cm95O3JldHVybiBjfUkucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmNhdGNoKGZ1bmN0aW9uKCl7fSk7dmFyIGE9RXJyb3IoIkRlc3Ryb3llZCEiKTthLnR5cGU9ImRlc3Ryb3kiO3RoaXMucmVqZWN0KGEpfTtmdW5jdGlvbiBpYihhKXthLnNwbGl0KCIiKS5yZWR1Y2UoZnVuY3Rpb24oYSxjLGQpe3JldHVybiBhKyhkJiYwPT1kJTQ/IiAiK2M6Yyl9KX07ZnVuY3Rpb24gamIoKXt0aGlzLmxiPW5ldyBJO3RoaXMuYz0hMTt0aGlzLkFhPW51bGw7dGhpcy5hPVtdO3RoaXMuYj1udWxsfWZ1bmN0aW9uIGtiKGEsYil7aWYoYS5jKXRocm93IEVycm9yKCJDYW5ub3QgYXBwZW5kIHRvIGEgcnVubmluZyB0YXNrISIpO2EuYS5wdXNoKGIpfWpiLnByb3RvdHlwZS5zdGFydD1mdW5jdGlvbigpe2lmKHRoaXMuYyl0aHJvdyBFcnJvcigiVGFzayBhbHJlYWR5IHN0YXJ0ZWQhIik7dGhpcy5jPSEwO3RoaXMuYS51bnNoaWZ0KGZ1bmN0aW9uKCl7fSk7bGIodGhpcyx2b2lkIDApfTtqYi5wcm90b3R5cGUuYWJvcnQ9ZnVuY3Rpb24oKXtpZih0aGlzLkFhKXJldHVybiB0aGlzLkFhO2lmKCF0aGlzLmMpcmV0dXJuIHRoaXMuYz0hMCxQcm9taXNlLnJlc29sdmUoKTt0aGlzLmImJih0aGlzLmY9dGhpcy5iKCkpO3JldHVybiB0aGlzLkFhPW5ldyBJfTtqYi5wcm90b3R5cGUuZW5kPWZ1bmN0aW9uKCl7dGhpcy5hLnNwbGljZSgxKX07CmZ1bmN0aW9uIGxiKGEsYil7dmFyIGM9YS5hWzBdKGIpLGQ7Yz8oZD1jWzBdLGEuYj1jWzFdKTooZD1Qcm9taXNlLnJlc29sdmUoKSxhLmI9bnVsbCk7ZC50aGVuKEooYSxmdW5jdGlvbihhKXt0aGlzLkFhPyh0aGlzLmE9W10sdGhpcy5iPW51bGwsbWIodGhpcykpOih0aGlzLmEuc2hpZnQoKSx0aGlzLmEubGVuZ3RoP2xiKHRoaXMsYSk6KHRoaXMubGIucmVzb2x2ZShhKSx0aGlzLmI9bnVsbCkpfSkpLmNhdGNoKEooYSxmdW5jdGlvbihhKXt0aGlzLmE9W107dGhpcy5iPW51bGw7dGhpcy5BYT9tYih0aGlzKTp0aGlzLmxiLnJlamVjdChhKX0pKX0KZnVuY3Rpb24gbWIoYSl7ZnVuY3Rpb24gYigpe3ZhciBhPUVycm9yKCJUYXNrIGFib3J0ZWQuIik7YS50eXBlPSJhYm9ydGVkIjt0aGlzLmxiLnJlamVjdChhKTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhpcy5BYS5yZXNvbHZlKCk7dGhpcy5BYT1udWxsfS5iaW5kKHRoaXMpLDUpfWEuZj9hLmYudGhlbihmdW5jdGlvbigpe3RoaXMuZj1udWxsO2IuY2FsbCh0aGlzKX0uYmluZChhKSk6Yi5jYWxsKGEpfTtmdW5jdGlvbiBKKGEsYil7cmV0dXJuIGIuYmluZChhKX07ZnVuY3Rpb24gbmIoYSxiLGMsZCxlLGYsZyl7TWVkaWFTb3VyY2UuaXNUeXBlU3VwcG9ydGVkKGMpO0YuY2FsbCh0aGlzLGUpO2U9Yi5hZGRTb3VyY2VCdWZmZXIoYyk7dGhpcy5oPWE7dGhpcy5BPWI7dGhpcy5hPWU7dGhpcy5KPWQ7dGhpcy5CPW5ldyBiYjt0aGlzLkk9dGhpcy5sPXRoaXMuWT10aGlzLmk9bnVsbDt0aGlzLlI9ITE7dGhpcy5QPXRoaXMuSz10aGlzLk89MDt0aGlzLkc9bnVsbDt0aGlzLlY9dGhpcy5GPSExO3RoaXMuWj1mO3RoaXMuRD1udWxsO3RoaXMuJD1nP2c6bnVsbDt0aGlzLmI9W107dGhpcy5VPTA7dGhpcy5tPXRoaXMuYz10aGlzLmY9bnVsbDt0aGlzLlQ9amE7dGhpcy5vPXRoaXMudT0wO3RoaXMudz10aGlzLlM9ITE7dGhpcy5nPWMmJmMuY2hhckF0KDApO0UodGhpcy5CLHRoaXMuYSwidXBkYXRlZW5kIix0aGlzLm5kLmJpbmQodGhpcykpO3RoaXMuaC5nZXRCb29sKCJsaXN0ZW5fZm9yX2FzeW5jX2FwcGVuZF9idWZmZXJfZXJyb3JzIiwhMCkmJkUodGhpcy5CLAp0aGlzLmEsImVycm9yIix0aGlzLmFkLmJpbmQodGhpcykpO3RoaXMuaj1udWxsfXIobmIsRik7bmIucHJvdG90eXBlLkJhPWZ1bmN0aW9uKCl7cmV0dXJue1NvdXJjZUJ1ZmZlcjp0aGlzLmF9fTtmdW5jdGlvbiBvYihhLGIsYyl7YS5vYyYmYS5MYShiLHt0eXBlOmEuZy5jaGFyQXQoMCksc2VnbWVudDpjLHNvdXJjZUJ1ZmZlcjphLmF9KX12YXIgcGI9MS82MDtuYi5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuYWJvcnQoKS5jYXRjaChmdW5jdGlvbigpe30pO3RoaXMuYyYmdGhpcy5jLmRlc3Ryb3koKTt0aGlzLmI9dGhpcy5mPXRoaXMuYz1udWxsO3RoaXMuQi5kZXN0cm95KCk7dGhpcy5BPXRoaXMuYT10aGlzLkQ9dGhpcy5CPW51bGx9O2Z1bmN0aW9uIHFiKGEpe3ZhciBiPWEuYi5sZW5ndGg7cmV0dXJuIDA8Yj9hLmJbYi0xXTpudWxsfQpmdW5jdGlvbiByYihhLGIpe2Zvcih2YXIgYz1hLmEuYnVmZmVyZWQsZD0wO2Q8Yy5sZW5ndGg7KytkKXt2YXIgZT1jLnN0YXJ0KGQpLXBiLGY9Yy5lbmQoZCkrcGI7aWYoYj49ZSYmYjw9ZilyZXR1cm4gYy5lbmQoZCktYn1yZXR1cm4gMH1mdW5jdGlvbiBzYihhLGIsYyl7dmFyIGQ9Yi5lbmRUaW1lP2IuZW5kVGltZS1iLnN0YXJ0VGltZToxLGU9bmV3IHRiO2UuTmE9MztlLmM9MUUzKmQ7ZS5iPTFFMyphLlQ7ZS51PWEuWTtlLmo9YztlLmRhPWEuWjtlLm1pbWVUeXBlPWEuZztlLmg9YS4kO2Uubz1iLmlzUHJlZGljdGl2ZTtyZXR1cm4gZX1uPW5iLnByb3RvdHlwZTsKbi5mZXRjaD1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGgpe3ZhciBrLGw9Zj8icmVwbGFjaW5nX2xvd2VyX3F1YWxpdHlfYnVmZmVyIjpudWxsO2lmKHRoaXMubCl7dmFyIG09dGhpcy5iW3RoaXMuYi5sZW5ndGgtMV0scD1udWxsO20mJihwPTFFMyooYS5zdGFydFRpbWUtbS5lbmRUaW1lKSk7az10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJmZXRjaCIpLnNldFJlYXNvbihsKS5zZXRSZXNvdXJjZSh1YihhLnVybCkpLnNldFR5cGUodmIodGhpcykpLnNldExlbmd0aChNYXRoLnJvdW5kKDFFMyooYS5lbmRUaW1lLWEuc3RhcnRUaW1lKSkpLnNldFNlZ21lbnRTdGFydFRpbWUoMUUzKmEuc3RhcnRUaW1lKS5zZXRTZWdtZW50RW5kVGltZSgxRTMqYS5lbmRUaW1lKS5zZXRTZWdtZW50VGltZUdhcChwKS5zdGFydCgpfXRoaXMuaj1rO2lmKHRoaXMuZil7aWYodGhpcy5oLmdldEJvb2woInNibV9lbmFibGVfY29uY3VycmVudF9mZXRjaF9yZXF1ZXN0cyIsITEpKXt2YXIgdD1bXS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7CnJldHVybiB0aGlzLmYubGIudGhlbihKKHRoaXMsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mZXRjaC5hcHBseSh0aGlzLHQpfSksZnVuY3Rpb24oYSl7dGhyb3cgYTt9KX1tPUVycm9yKCJDYW5ub3QgZmV0Y2ggKCIrdGhpcy5nKyIpOiBwcmV2aW91cyBvcGVyYXRpb24gbm90IGNvbXBsZXRlLiIpO3RoaXMudT49dGhpcy5PPyhtLnR5cGU9InN0cmVhbSIsayYmay5zZXRFcnJvcihtKS5sb2coKSx0aGlzLnU9MCk6KHRoaXMudSsrLG0udHlwZT0iYWJvcnRlZCIpO3JldHVybiBQcm9taXNlLnJlamVjdChtKX10aGlzLmY9bmV3IGpiO2MhPXRoaXMuYS50aW1lc3RhbXBPZmZzZXQmJih0aGlzLmEudGltZXN0YW1wT2Zmc2V0PWMpO3ZhciBtPXNiKHRoaXMsYSxlKSxwPXRoaXMuaC5nZXRCb29sKCJlbmFibGVfc3RyZWFtaW5nX2NvZGVfcGF0aCIsITApLHc7dz1wP2EudXJsLnN0cmVhbShtLHRoaXMuSix0aGlzLmwsdGhpcy5qLHRoaXMuSSx2Yih0aGlzKSxsLGcsaCk6YS51cmwuZmV0Y2gobSwKdGhpcy5KLHRoaXMubCx0aGlzLmosdGhpcy5JLHZiKHRoaXMpLGwsZyk7b2IodGhpcywiU2VnbWVudEZldGNoaW5nIixhKTt2YXIgej1LLnByb3RvdHlwZS5LYS5iaW5kKGEudXJsKTt0aGlzLkcmJnRoaXMuRiYmKGQ9dGhpcy5HKTt2YXIgSD0wLGRhPW51bGw7ZCYmKHRoaXMuRz1kLHRoaXMuRj0hMSxrYih0aGlzLmYsZnVuY3Rpb24oKXtyZXR1cm5bZC50aGVuKGZ1bmN0aW9uKGEpe2EuWWE+SCYmKEg9YS5ZYSk7cmV0dXJuIHdiKHRoaXMsYSxudWxsKX0uYmluZCh0aGlzKSksdGhpcy5iYi5iaW5kKHRoaXMpXX0uYmluZCh0aGlzKSkpO3ZhciBlYT1mdW5jdGlvbihhKXthLllhPkgmJihIPWEuWWEpO2RhPWEuYnl0ZUxlbmd0aDt0aGlzLkouZ2V0QmFuZHdpZHRoKCk7dGhpcy5TJiZ0aGlzLmRpc3BhdGNoRXZlbnQoeSh7dHlwZToiY2VhNjA4Q2FwdGlvbnNCeXRlc1JlY2VpdmVkIixidWJibGVzOiEwLGRldGFpbDp7dGltZXNjYWxlOmIsdmlkZW9CeXRlczphfX0pKX0uYmluZCh0aGlzKTsKcD8oaCYmKG09aC5nZXRQcm9ncmVzc1RyYWNrZXIoKSx0aGlzLmkhPT1tJiYodGhpcy5pPW0pKSxrYih0aGlzLmYsSih0aGlzLGZ1bmN0aW9uKCl7dmFyIGI9bnVsbCxjPU1hdGgubWF4KDAsKGEudXJsLmVuZEJ5dGV8fDApLWEudXJsLnN0YXJ0Qnl0ZSksZD10aGlzLmguZ2V0TnVtYmVyKCJzdHJlYW1pbmdfYXBwZW5kX3Blcl9zZWdtZW50IiwzKSxlPTA9PT1kPzA6Yy9kO3JldHVyblt3LnRoZW4oZnVuY3Rpb24oYyl7Yj1jO3RoaXMudz0hMTtyZXR1cm4geGIodGhpcyxjLGEsZSl9LmJpbmQodGhpcykpLnRoZW4oZnVuY3Rpb24oYSl7Yj1udWxsO3JldHVybiBhfSkudGhlbihlYSkuY2F0Y2goZnVuY3Rpb24oYSl7dGhpcy5oLmdldEJvb2woImFib3J0X2ZldGNoX29uX25ldF9lcnJvciIsITEpJiZoJiYodGhpcy5hLmFib3J0KCksdGhpcy53PSEwKTtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYSl9LmJpbmQodGhpcykpLGZ1bmN0aW9uKCl7b2IodGhpcywiU2VnbWVudEZhaWxlZCIsYSk7CmImJihiLmNhbmNlbCgiYWJvcnQiKSxiPW51bGwsaCYmKHRoaXMuYS5hYm9ydCgpLHRoaXMudz0hMCkpO3ooKTtyZXR1cm4gdGhpcy5iYigpfS5iaW5kKHRoaXMpXX0pKSk6a2IodGhpcy5mLEoodGhpcyxmdW5jdGlvbigpe3JldHVyblt3LnRoZW4oZnVuY3Rpb24oYil7b2IodGhpcywiU2VnbWVudEZldGNoZWQiLGEpO2VhKGIpO3JldHVybiB3Yih0aGlzLGIsYSxsKX0uYmluZCh0aGlzKSksZnVuY3Rpb24oKXtvYih0aGlzLCJTZWdtZW50RmFpbGVkIixhKTt6KCk7cmV0dXJuIHRoaXMuYmIoKX0uYmluZCh0aGlzKV19KSk7dmFyIEFhPTA9PXRoaXMuYS5idWZmZXJlZC5sZW5ndGgmJjA9PXRoaXMuYi5sZW5ndGgsY2I9bnVsbDtrYih0aGlzLmYsZnVuY3Rpb24oKXtpZigwPT10aGlzLmEuYnVmZmVyZWQubGVuZ3RoJiYhdGhpcy5WKXt2YXIgYj1FcnJvcigiRmFpbGVkIHRvIGJ1ZmZlciBzZWdtZW50ICgiK3RoaXMuZysiKS4iKTtiLnR5cGU9InN0cmVhbSI7cmV0dXJuW1Byb21pc2UucmVqZWN0KGIpXX10aGlzLmEuYnVmZmVyZWQubGVuZ3RoJiYKQWEmJihiPWEuc3RhcnRUaW1lLGNiPXRoaXMuYS5idWZmZXJlZC5zdGFydCgwKS1iKTtiPXliKHRoaXMuYixhLnN0YXJ0VGltZSk7MDw9Yj90aGlzLmIuc3BsaWNlKGIrMSwwLGEpOnRoaXMuYi5wdXNoKGEpfS5iaW5kKHRoaXMpKTt0aGlzLnU9MDtyZXR1cm4gemIodGhpcykudGhlbihmdW5jdGlvbigpe2smJmsubG9nKCk7cmV0dXJuIFByb21pc2UucmVzb2x2ZSh7VzpjYixXYzpILEg6YS5lbmRUaW1lLWEuc3RhcnRUaW1lLERjOmRhfSl9LmJpbmQodGhpcyksZnVuY3Rpb24oYSl7ayYmay5zZXRFcnJvcihhKS5sb2coKTthPUFiKGEsInRhc2siLCJBbiB1bmtub3duIHRhc2sgZXJyb3Igb2NjdXJyZWQuIik7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfS5iaW5kKHRoaXMpKX07CmZ1bmN0aW9uIHhiKGEsYixjLGQpe3ZhciBlPW5ldyBBcnJheUJ1ZmZlcigwKSxmPW5ldyBBcnJheUJ1ZmZlcigwKSxnPWZ1bmN0aW9uKCl7cmV0dXJuIGIucmVhZCgpLnRoZW4oZnVuY3Rpb24oYSl7dmFyIGI9YS52YWx1ZTthPWEuZG9uZTtpZih0aGlzLnd8fGEmJjA9PT1mLmJ5dGVMZW5ndGgpcmV0dXJuIGU7aWYoIWEmJiFiKXJldHVybiBnKCk7YiYmKGIgaW5zdGFuY2VvZiBVaW50OEFycmF5JiYoYj1iLmJ1ZmZlciksZj1jb25jYXRBcnJheUJ1ZmZlcihmLGIpKTtyZXR1cm4gZi5ieXRlTGVuZ3RoPj1kfHxhPyh0aGlzLmkmJnRoaXMuaS5ub3RpZnlCeXRlc0NvbnN1bWVkKGYuYnl0ZUxlbmd0aCksb2IodGhpcywiU2VnbWVudEZldGNoZWQiLGMpLGU9Y29uY2F0QXJyYXlCdWZmZXIoZSxmKSxiPWYsZj1uZXcgQXJyYXlCdWZmZXIoMCksd2IodGhpcyxiLGMpLnRoZW4oZykpOmcoKX0uYmluZCh0aGlzKSl9LmJpbmQoYSk7cmV0dXJuIGcoKX0KZnVuY3Rpb24gQmIoYSl7aWYoYS5mKXt2YXIgYj1FcnJvcigiQ2Fubm90IGNsZWFyICgiK2EuZysiKTogcHJldmlvdXMgb3BlcmF0aW9uIG5vdCBjb21wbGV0ZS4iKTthLm8+PWEuSz8oYi50eXBlPSJzdHJlYW0iLGEubz0wKTooYS5vKyssYi50eXBlPSJhYm9ydGVkIik7cmV0dXJuIFByb21pc2UucmVqZWN0KGIpfWEuZj1uZXcgamI7a2IoYS5mLGZ1bmN0aW9uKCl7dmFyIGE7YTppZigwPT10aGlzLmEuYnVmZmVyZWQubGVuZ3RoKWE9UHJvbWlzZS5yZXNvbHZlKCk7ZWxzZXt0cnl7dGhpcy5hLnJlbW92ZSgwLHRoaXMuQS5kdXJhdGlvbil9Y2F0Y2goYil7Yj1BYihiLCJjbGVhcl9idWZmZXIiLCJBbiBlcnJvciBvY2N1cmVkIHdoZW4gY2xlYXJpbmcgdGhlIGJ1ZmZlci4iKTthPVByb21pc2UucmVqZWN0KGIpO2JyZWFrIGF9dGhpcy5iPVtdO2E9dGhpcy5jPW5ldyBJfXJldHVyblthLHRoaXMuYmIuYmluZCh0aGlzKV19LmJpbmQoYSkpO2Eubz0wO3JldHVybiB6YihhKX0KZnVuY3Rpb24gQ2IoYSxiKXtpZihhLmYpe3ZhciBjPUVycm9yKCJDYW5ub3QgY2xlYXJBZnRlciAoIithLmcrIik6IHByZXZpb3VzIG9wZXJhdGlvbiBub3QgY29tcGxldGUuIik7Yy50eXBlPSJzdHJlYW0iO3JldHVybiBQcm9taXNlLnJlamVjdChjKX1hLmY9bmV3IGpiO2tiKGEuZixmdW5jdGlvbigpe3JldHVybltEYih0aGlzLGIpLHRoaXMuYmIuYmluZCh0aGlzKV19LmJpbmQoYSkpO3JldHVybiB6YihhKX1mdW5jdGlvbiBFYihhLGIpe2EuYz1uZXcgSTt2YXIgYz1iLTU7aWYoMDxjKXt0cnl7YS5hLnJlbW92ZSgwLGMpfWNhdGNoKGQpe3JldHVybiBkPUFiKGQsImNsZWFyX2J1ZmZlciIsIkFuIGVycm9yIG9jY3VyZWQgd2hlbiBjbGVhcmluZyB0aGUgYnVmZmVyLiIpLFByb21pc2UucmVqZWN0KGQpfWM9RmIoYSxjKTswPGMmJihhLmI9YS5iLnNsaWNlKGMsYS5iLmxlbmd0aCkpfWVsc2UgYS5jLnJlc29sdmUoKTtyZXR1cm4gYS5jfQpuLmFib3J0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZj90aGlzLmYuYWJvcnQoKTpQcm9taXNlLnJlc29sdmUoKX07ZnVuY3Rpb24gR2IoYSl7Zm9yKHZhciBiPWEuY3VycmVudFRpbWUsYz1iLGQ9MDtkPGEuYnVmZmVyZWQubGVuZ3RoO2QrKylpZihiPD1hLmJ1ZmZlcmVkLnN0YXJ0KGQpKXtjPWEuYnVmZmVyZWQuc3RhcnQoZCk7YnJlYWt9cmV0dXJuIGN9ZnVuY3Rpb24gSGIoYSxiKXtmb3IodmFyIGM9Yi5jdXJyZW50VGltZSxkPTA7ZDxiLmJ1ZmZlcmVkLmxlbmd0aDtkKyspaWYoYz49Yi5idWZmZXJlZC5zdGFydChkKSYmYzw9Yi5idWZmZXJlZC5lbmQoZCktYS5QKXJldHVybiExO3JldHVybiEwfQpmdW5jdGlvbiB6YihhKXthLmYuc3RhcnQoKTtyZXR1cm4gYS5mLmxiLnRoZW4oSihhLGZ1bmN0aW9uKCl7dGhpcy5mPW51bGx9KSkuY2F0Y2goSihhLGZ1bmN0aW9uKGEpe3RoaXMuZj1udWxsO2E9QWIoYSwidGFzayIsIkFuIHVua25vd24gdGFzayBlcnJvciBvY2N1cnJlZC4iKTtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYSl9KSl9CmZ1bmN0aW9uIHdiKGEsYixjLGQpe3ZhciBlO2lmKGEubCl7dmFyIGY9Yz91YihjLnVybCk6ImluaXQiO2U9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigiYXBwZW5kIikuc2V0UmVhc29uKGQpLnNldFJlc291cmNlKGYpLnNldFR5cGUodmIoYSkpLnNldExlbmd0aChiLmJ5dGVMZW5ndGgpLnN0YXJ0KCk7bnVsbCE9PWMmJihlPWUuc2V0U2VnbWVudFN0YXJ0VGltZSgxRTMqYy5zdGFydFRpbWUpLnNldFNlZ21lbnRFbmRUaW1lKDFFMypjLmVuZFRpbWUpKTthLmomJihlPWUuc2V0UGFyZW50TG9nZ2VyKGEuaikpfXRyeXthLmEuYXBwZW5kQnVmZmVyKGIpfWNhdGNoKGcpe3JldHVybiBhLmguZ2V0Qm9vbCgibnVrZV9zb3VyY2VfYnVmZmVyX29uX3F1b3RhX2V4Y2VlZGVkX2VyciIsITApJiZnIGluc3RhbmNlb2YgRE9NRXhjZXB0aW9uJiZnLmNvZGU9PT1ET01FeGNlcHRpb24uUVVPVEFfRVhDRUVERURfRVJSJiZnLm1lc3NhZ2UubWF0Y2goL14uKlNvdXJjZUJ1ZmZlci4qZnVsbC4qZnJlZVxzc3BhY2UuKiQvKSYmCihnLnR5cGU9InNvdXJjZWJ1ZmZlcl9mdWxsIiksZSYmZS5zZXRFcnJvcihnKS5sb2coKSxQcm9taXNlLnJlamVjdChnKX1hLmM9bmV3IEk7YS5tPWM7cmV0dXJuIGEuYy50aGVuKGZ1bmN0aW9uKCl7ZSYmZS5sb2coKX0sZnVuY3Rpb24oYSl7ZSYmZS5zZXRFcnJvcihhKS5sb2coKTtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYSl9KX1uLmFkPWZ1bmN0aW9uKGEpe2E9YS5lcnJvcnx8RXJyb3IoIkNhbGwgdG8gYXBwZW5kQnVmZmVyIGZhaWxlZCB0byBhcHBlbmQgdGhlIHNlZ21lbnQuIik7YT1BYihhLCJzdHJlYW0iLCJDYWxsIHRvIGFwcGVuZEJ1ZmZlciBmYWlsZWQgdG8gYXBwZW5kIHRoZSBzZWdtZW50LiIpO3RoaXMuYyYmdGhpcy5jLnJlamVjdChhKX07CmZ1bmN0aW9uIERiKGEsYil7aWYoMD09YS5hLmJ1ZmZlcmVkLmxlbmd0aClyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7dmFyIGM9RmIoYSxiKTtpZigtMT09Y3x8Yz09YS5iLmxlbmd0aC0xKXJldHVybiBQcm9taXNlLnJlc29sdmUoKTt0cnl7YS5hLnJlbW92ZShhLmJbYysxXS5zdGFydFRpbWUsYS5BLmR1cmF0aW9uKX1jYXRjaChkKXtyZXR1cm4gUHJvbWlzZS5yZWplY3QoZCl9YS5iPWEuYi5zbGljZSgwLGMrMSk7YS5jPW5ldyBJO3JldHVybiBhLmN9bi5iYj1mdW5jdGlvbigpe2lmKHRoaXMuYyl7aWYoIm9wZW4iPT10aGlzLkEucmVhZHlTdGF0ZSl7dmFyIGE9RXJyb3IoIlByZXZpb3VzIG9wZXJhdGlvbiBhYm9ydGVkLiIpO2EudHlwZT0iYWJvcnRlZCI7dGhpcy5jLnJlamVjdChhKTt0aGlzLmEuYWJvcnQoKTt0aGlzLlImJih0aGlzLkY9ITApO3RoaXMuYz1uZXcgSX1yZXR1cm4gdGhpcy5jfXJldHVybiBQcm9taXNlLnJlc29sdmUoKX07Cm4ubmQ9ZnVuY3Rpb24oKXt0aGlzLmMmJih0aGlzLm0mJihvYih0aGlzLCJTZWdtZW50QXBwZW5kZWQiLHRoaXMubSksdGhpcy5tPW51bGwpLHRoaXMuYy5yZXNvbHZlKCksdGhpcy5jPW51bGwpfTtuLkRkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaX07bmIucHJvdG90eXBlLmdldFN0cmVhbVByb2dyZXNzVHJhY2tlcj1uYi5wcm90b3R5cGUuRGQ7ZnVuY3Rpb24gdmIoYSl7cmV0dXJuInYiPT09YS5nLmNoYXJBdCgwKT8idmlkZW8iOiJhIj09PWEuZy5jaGFyQXQoMCk/ImF1ZGlvIjpudWxsfWZ1bmN0aW9uIEFiKGEsYixjKXthfHwoYT1FcnJvcihjKSk7YS50eXBlfHwoYS50eXBlPWIpO2EubWVzc2FnZXx8KGEubWVzc2FnZT1jKTtyZXR1cm4gYX0KZnVuY3Rpb24gRmIoYSxiKXtpZihhLmguZ2V0Qm9vbCgic2JtX3VzZV9zZWdtZW50X2luZGV4X3RvX2ZpbmRfdGltZXN0YW1wcyIsITEpJiZhLkQpe3ZhciBjPWEuRC5maW5kKGIpO2lmKGMpcmV0dXJuIHliKGEuYixjLnN0YXJ0VGltZSl9ZWxzZSByZXR1cm4geWIoYS5iLGIpO3JldHVybi0xfTtmdW5jdGlvbiBJYihhKXtyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLGEpfXEoInNoYWthLnV0aWwuVWludDhBcnJheVV0aWxzLnRvU3RyaW5nIixJYik7ZnVuY3Rpb24gSmIoYSl7Zm9yKHZhciBiPW5ldyBVaW50OEFycmF5KGEubGVuZ3RoKSxjPTA7YzxhLmxlbmd0aDsrK2MpYltjXT1hLmNoYXJDb2RlQXQoYyk7cmV0dXJuIGJ9cSgic2hha2EudXRpbC5VaW50OEFycmF5VXRpbHMuZnJvbVN0cmluZyIsSmIpO3EoInNoYWthLnV0aWwuVWludDhBcnJheVV0aWxzLnRvQmFzZTY0IixmdW5jdGlvbihhLGIpe3ZhciBjPXZvaWQgMD09Yj8hMDpiLGQ9d2luZG93LmJ0b2EoSWIoYSkpLnJlcGxhY2UoL1wrL2csIi0iKS5yZXBsYWNlKC9cLy9nLCJfIik7cmV0dXJuIGM/ZDpkLnJlcGxhY2UoLz0qJC8sIiIpfSk7ZnVuY3Rpb24gS2IoYSl7cmV0dXJuIEpiKHdpbmRvdy5hdG9iKGEucmVwbGFjZSgvLS9nLCIrIikucmVwbGFjZSgvXy9nLCIvIikpKX0KcSgic2hha2EudXRpbC5VaW50OEFycmF5VXRpbHMuZnJvbUJhc2U2NCIsS2IpO3EoInNoYWthLnV0aWwuVWludDhBcnJheVV0aWxzLmZyb21IZXgiLGZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1uZXcgVWludDhBcnJheShhLmxlbmd0aC8yKSxjPTA7YzxhLmxlbmd0aDtjKz0yKWJbYy8yXT13aW5kb3cucGFyc2VJbnQoYS5zdWJzdHIoYywyKSwxNik7cmV0dXJuIGJ9KTtmdW5jdGlvbiBMYihhKXtmb3IodmFyIGI9IiIsYz0wO2M8YS5sZW5ndGg7KytjKXt2YXIgZD1hW2NdLnRvU3RyaW5nKDE2KTsxPT1kLmxlbmd0aCYmKGQ9IjAiK2QpO2IrPWR9cmV0dXJuIGJ9cSgic2hha2EudXRpbC5VaW50OEFycmF5VXRpbHMudG9IZXgiLExiKTtmdW5jdGlvbiBNYShhLGIpe2lmKCFhJiYhYilyZXR1cm4hMDtpZighYXx8IWJ8fGEubGVuZ3RoIT1iLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIGM9MDtjPGEubGVuZ3RoOysrYylpZihhW2NdIT1iW2NdKXJldHVybiExO3JldHVybiEwfTtmdW5jdGlvbiBNYigpe3RoaXMuaT10aGlzLmE9IiI7dGhpcy53aXRoQ3JlZGVudGlhbHM9ITE7dGhpcy5vPXRoaXMuZj1udWxsO3RoaXMuaj10aGlzLmg9ITE7dGhpcy5tPXRoaXMuZz0iIjt0aGlzLmM9bnVsbDt0aGlzLmI9W119ZnVuY3Rpb24gTmIoYSxiKXt2YXIgYz1uZXcgTWI7Yy5hPWEuYTtjLmk9YS5pO2Mud2l0aENyZWRlbnRpYWxzPWEud2l0aENyZWRlbnRpYWxzO2MuZj1hLmY7Yy5vPWEubztjLmg9YS5oO2Muaj1hLmo7Yy5nPWEuZztjLm09YS5tO2MuYz1hLmM/bmV3IFVpbnQ4QXJyYXkoYS5jLmJ1ZmZlcik6bnVsbDtPYihjLGEuYik7T2IoYyxiLmIpO3JldHVybiBjfWZ1bmN0aW9uIE9iKGEsYil7dmFyIGM9YS5iLmNvbmNhdChiLm1hcChmdW5jdGlvbihhKXtyZXR1cm57aW5pdERhdGE6bmV3IFVpbnQ4QXJyYXkoYS5pbml0RGF0YS5idWZmZXIpLGluaXREYXRhVHlwZTphLmluaXREYXRhVHlwZX19KSk7YS5iPXdhKGMpfQpmdW5jdGlvbiB4YShhLGIpe3JldHVybiBhLmluaXREYXRhVHlwZT09Yi5pbml0RGF0YVR5cGUmJk1hKGEuaW5pdERhdGEsYi5pbml0RGF0YSl9O2Z1bmN0aW9uIFBiKGEsYixjLGQpe3RoaXMud2l0aENyZWRlbnRpYWxzPWM7dGhpcy5hPVtdO2QmJnRoaXMuYS5wdXNoKGQpfXEoInNoYWthLnBsYXllci5Ecm1TY2hlbWVJbmZvIixQYik7UGIuRGlzdGluY3RpdmVJZGVudGlmaWVyPXtPUFRJT05BTDowLFJFUVVJUkVEOjF9O1BiLlBlcnNpc3RlbnRTdGF0ZT17T1BUSU9OQUw6MCxSRVFVSVJFRDoxfTtQYi5jcmVhdGVVbmVuY3J5cHRlZD1mdW5jdGlvbigpe3JldHVybiBuZXcgUGIoMCwwLCExLG51bGwpfTtmdW5jdGlvbiBRYihhKXt0aGlzLnN5c3RlbUlkcz1bXTt0aGlzLmNlbmNLZXlJZHM9W107dGhpcy5hPVtdO2E9bmV3IEJhKG5ldyBEYXRhVmlldyhhLmJ1ZmZlcikpO3RyeXtmb3IoO0RhKGEpOyl7dmFyIGI9YS5hLGM9dihhKSxkPXYoYSk7MT09Yz9jPUZhKGEpOjA9PWMmJihjPWEuYi5ieXRlTGVuZ3RoLWIpO2lmKDE4ODY2MTQzNzYhPWQpSGEoYSxjLShhLmEtYikpO2Vsc2V7dmFyIGU9RWEoYSk7aWYoMTxlKUhhKGEsYy0oYS5hLWIpKTtlbHNle0hhKGEsMyk7dmFyIGY9TGIoR2EoYSkpLGc9W107aWYoMDxlKWZvcih2YXIgaD12KGEpLGs9MDtrPGg7KytrKXt2YXIgbD1MYihHYShhKSk7Zy5wdXNoKGwpfXZhciBtPXYoYSk7SGEoYSxtKTt0aGlzLmNlbmNLZXlJZHMucHVzaC5hcHBseSh0aGlzLmNlbmNLZXlJZHMsZyk7dGhpcy5zeXN0ZW1JZHMucHVzaChmKTt0aGlzLmEucHVzaCh7c3RhcnQ6YixlbmQ6YS5hLTF9KTthLmEhPWIrYyYmSGEoYSxjLShhLmEtYikpfX19fWNhdGNoKHApe319Cjt2YXIgUmI9L14oPzooW146Lz8jLl0rKTopPyg/OlwvXC8oPzooW14vPyNdKilAKT8oW14vIz9dKj8pKD86OihbMC05XSspKT8oPz1bLyM/XXwkKSk/KFtePyNdKyk/KD86XD8oW14jXSopKT8oPzojKC4qKSk/JC87ZnVuY3Rpb24gTChhKXt2YXIgYjthIGluc3RhbmNlb2YgTD8oU2IodGhpcyxhLnphKSx0aGlzLlVhPWEuVWEsdGhpcy5oYT1hLmhhLFRiKHRoaXMsYS5YYSksdGhpcy51YT1hLnVhLFViKHRoaXMsYS5hLmNsb25lKCkpLHRoaXMuTWE9YS5NYSk6YSYmKGI9U3RyaW5nKGEpLm1hdGNoKFJiKSk/KFNiKHRoaXMsYlsxXXx8IiIsITApLHRoaXMuVWE9VmIoYlsyXXx8IiIpLHRoaXMuaGE9VmIoYlszXXx8IiIsITApLFRiKHRoaXMsYls0XSksdGhpcy51YT1WYihiWzVdfHwiIiwhMCksVWIodGhpcyxiWzZdfHwiIiwhMCksdGhpcy5NYT1WYihiWzddfHwiIikpOnRoaXMuYT1uZXcgV2IobnVsbCl9bj1MLnByb3RvdHlwZTtuLnphPSIiO24uVWE9IiI7bi5oYT0iIjtuLlhhPW51bGw7bi51YT0iIjtuLk1hPSIiOwpuLnRvU3RyaW5nPWZ1bmN0aW9uKCl7dmFyIGE9W10sYj10aGlzLnphO2ImJmEucHVzaChYYihiLFliLCEwKSwiOiIpO2lmKGI9dGhpcy5oYSl7YS5wdXNoKCIvLyIpO3ZhciBjPXRoaXMuVWE7YyYmYS5wdXNoKFhiKGMsWWIsITApLCJAIik7YS5wdXNoKGVuY29kZVVSSUNvbXBvbmVudChiKS5yZXBsYWNlKC8lMjUoWzAtOWEtZkEtRl17Mn0pL2csIiUkMSIpKTtiPXRoaXMuWGE7bnVsbCE9YiYmYS5wdXNoKCI6IixTdHJpbmcoYikpfWlmKGI9dGhpcy51YSl0aGlzLmhhJiYiLyIhPWIuY2hhckF0KDApJiZhLnB1c2goIi8iKSxhLnB1c2goWGIoYiwiLyI9PWIuY2hhckF0KDApP1piOiRiLCEwKSk7KGI9dGhpcy5hLnRvU3RyaW5nKCkpJiZhLnB1c2goIj8iLGIpOyhiPXRoaXMuTWEpJiZhLnB1c2goIiMiLFhiKGIsYWMpKTtyZXR1cm4gYS5qb2luKCIiKX07Cm4ucmVzb2x2ZT1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmNsb25lKCk7ImRhdGEiPT09Yi56YSYmKGI9bmV3IEwpO3ZhciBjPSEhYS56YTtjP1NiKGIsYS56YSk6Yz0hIWEuVWE7Yz9iLlVhPWEuVWE6Yz0hIWEuaGE7Yz9iLmhhPWEuaGE6Yz1udWxsIT1hLlhhO3ZhciBkPWEudWE7aWYoYylUYihiLGEuWGEpO2Vsc2UgaWYoYz0hIWEudWEpe2lmKCIvIiE9ZC5jaGFyQXQoMCkpaWYodGhpcy5oYSYmIXRoaXMudWEpZD0iLyIrZDtlbHNle3ZhciBlPWIudWEubGFzdEluZGV4T2YoIi8iKTstMSE9ZSYmKGQ9Yi51YS5zdWJzdHIoMCxlKzEpK2QpfWlmKCIuLiI9PWR8fCIuIj09ZClkPSIiO2Vsc2UgaWYoLTEhPWQuaW5kZXhPZigiLi8iKXx8LTEhPWQuaW5kZXhPZigiLy4iKSl7Zm9yKHZhciBlPTA9PWQubGFzdEluZGV4T2YoIi8iLDApLGQ9ZC5zcGxpdCgiLyIpLGY9W10sZz0wO2c8ZC5sZW5ndGg7KXt2YXIgaD1kW2crK107Ii4iPT1oP2UmJmc9PWQubGVuZ3RoJiZmLnB1c2goIiIpOiIuLiI9PQpoPygoMTxmLmxlbmd0aHx8MT09Zi5sZW5ndGgmJiIiIT1mWzBdKSYmZi5wb3AoKSxlJiZnPT1kLmxlbmd0aCYmZi5wdXNoKCIiKSk6KGYucHVzaChoKSxlPSEwKX1kPWYuam9pbigiLyIpfX1jP2IudWE9ZDpjPSIiIT09YS5hLnRvU3RyaW5nKCk7Yz9VYihiLGEuYS5jbG9uZSgpKTpjPSEhYS5NYTtjJiYoYi5NYT1hLk1hKTtyZXR1cm4gYn07bi5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgTCh0aGlzKX07ZnVuY3Rpb24gU2IoYSxiLGMpe2EuemE9Yz9WYihiLCEwKTpiO2EuemEmJihhLnphPWEuemEucmVwbGFjZSgvOiQvLCIiKSl9ZnVuY3Rpb24gVGIoYSxiKXtpZihiKXtiPU51bWJlcihiKTtpZihpc05hTihiKXx8MD5iKXRocm93IEVycm9yKCJCYWQgcG9ydCBudW1iZXIgIitiKTthLlhhPWJ9ZWxzZSBhLlhhPW51bGx9ZnVuY3Rpb24gVWIoYSxiLGMpe2IgaW5zdGFuY2VvZiBXYj9hLmE9YjooY3x8KGI9WGIoYixiYykpLGEuYT1uZXcgV2IoYikpfQpmdW5jdGlvbiBWYihhLGIpe3JldHVybiBhP2I/ZGVjb2RlVVJJKGEpOmRlY29kZVVSSUNvbXBvbmVudChhKToiIn1mdW5jdGlvbiBYYihhLGIsYyl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBhPyhhPWVuY29kZVVSSShhKS5yZXBsYWNlKGIsY2MpLGMmJihhPWEucmVwbGFjZSgvJTI1KFswLTlhLWZBLUZdezJ9KS9nLCIlJDEiKSksYSk6bnVsbH1mdW5jdGlvbiBjYyhhKXthPWEuY2hhckNvZGVBdCgwKTtyZXR1cm4iJSIrKGE+PjQmMTUpLnRvU3RyaW5nKDE2KSsoYSYxNSkudG9TdHJpbmcoMTYpfXZhciBZYj0vWyNcL1w/QF0vZywkYj0vW1wjXD86XS9nLFpiPS9bXCNcP10vZyxiYz0vW1wjXD9AXS9nLGFjPS8jL2c7ZnVuY3Rpb24gV2IoYSl7dGhpcy5iPWF8fG51bGx9V2IucHJvdG90eXBlLmE9bnVsbDtXYi5wcm90b3R5cGUuYz1udWxsOwpmdW5jdGlvbiBkYyhhLGIsYyl7aWYoIWEuYSYmKGEuYT17fSxhLmM9MCxhLmIpKWZvcih2YXIgZD1hLmIuc3BsaXQoIiYiKSxlPTA7ZTxkLmxlbmd0aDtlKyspe3ZhciBmPWRbZV0uaW5kZXhPZigiPSIpLGc9bnVsbCxoPW51bGw7MDw9Zj8oZz1kW2VdLnN1YnN0cmluZygwLGYpLGg9ZFtlXS5zdWJzdHJpbmcoZisxKSk6Zz1kW2VdO2c9ZGVjb2RlVVJJQ29tcG9uZW50KGcucmVwbGFjZSgvXCsvZywiICIpKTtoPWh8fCIiO2RjKGEsZyxkZWNvZGVVUklDb21wb25lbnQoaC5yZXBsYWNlKC9cKy9nLCIgIikpKX1hLmI9bnVsbDsoZD1hLmEuaGFzT3duUHJvcGVydHkoYikmJmEuYVtiXSl8fChhLmFbYl09ZD1bXSk7ZC5wdXNoKGMpO2EuYysrfQpXYi5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtpZih0aGlzLmIpcmV0dXJuIHRoaXMuYjtpZighdGhpcy5hKXJldHVybiIiO3ZhciBhPVtdLGI7Zm9yKGIgaW4gdGhpcy5hKWZvcih2YXIgYz1lbmNvZGVVUklDb21wb25lbnQoYiksZD10aGlzLmFbYl0sZT0wO2U8ZC5sZW5ndGg7ZSsrKXt2YXIgZj1jOyIiIT09ZFtlXSYmKGYrPSI9IitlbmNvZGVVUklDb21wb25lbnQoZFtlXSkpO2EucHVzaChmKX1yZXR1cm4gdGhpcy5iPWEuam9pbigiJiIpfTtXYi5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgV2I7YS5iPXRoaXMuYjtpZih0aGlzLmEpe3ZhciBiPXt9LGM7Zm9yKGMgaW4gdGhpcy5hKWJbY109dGhpcy5hW2NdLmNvbmNhdCgpO2EuYT1iO2EuYz10aGlzLmN9cmV0dXJuIGF9O2Z1bmN0aW9uIGVjKGEsYixjKXt2YXIgZD1hLmluZGV4T2YoIjw/eG1sIik7MDw9ZCYmKGE9YS5zdWJzdHIoZCkpO2E9KG5ldyBET01QYXJzZXIpLnBhcnNlRnJvbVN0cmluZyhhLCJ0ZXh0L3htbCIpO2lmKCFhKXJldHVybiBudWxsOyJzdHJpbmciPT09dHlwZW9mIGImJihiPVtuZXcgTChiKV0pO2I9Ynx8W25ldyBMKCIiKV07Yz1jfHxbbmV3IEwoIiIpXTtyZXR1cm4gTSh7QWM6YixiYXNlVXJsOmN9LGEsZmMpfXEoInNoYWthLmRhc2gubXBkLnBhcnNlTXBkIixlYyk7CmZ1bmN0aW9uIGZjKCl7dGhpcy5pZD10aGlzLnVybD1udWxsO3RoaXMudHlwZT0ic3RhdGljIjt0aGlzLkZCSXNMaXZlVGVtcGxhdGVkPXRoaXMuRkJXYXNMaXZlPXRoaXMubWFuaWZlc3RJc0xpdmVTdHJlYW1pbmc9ITE7dGhpcy5GQk1hbmlmZXN0SWRlbnRpZmllcj0iIjt0aGlzLkZCTVM9ITE7dGhpcy51PXRoaXMuYmFzZVVybD10aGlzLkFjPW51bGw7dGhpcy5qPXRoaXMuaT10aGlzLmg9MDt0aGlzLmI9bnVsbDt0aGlzLm09NTt0aGlzLmY9dGhpcy5jPXRoaXMuZz1udWxsO3RoaXMubz0xO3RoaXMubGFzdFZpZGVvRnJhbWVUcz10aGlzLmN1cnJlbnRTZXJ2ZXJUaW1lTXM9MDt0aGlzLmE9W119ZnVuY3Rpb24gZ2MoKXt0aGlzLmY9dGhpcy5jPXRoaXMuYj10aGlzLmJhc2VVcmw9dGhpcy5kdXJhdGlvbj10aGlzLnN0YXJ0PXRoaXMuaWQ9bnVsbDt0aGlzLmE9W119CmZ1bmN0aW9uIGhjKCl7dGhpcy5jPXRoaXMuY29kZWNzPXRoaXMubWltZVR5cGU9dGhpcy5oZWlnaHQ9dGhpcy53aWR0aD10aGlzLmNvbnRlbnRUeXBlPXRoaXMubGFuZz10aGlzLmdyb3VwPXRoaXMuaWQ9bnVsbDt0aGlzLmY9ITE7dGhpcy5pPXRoaXMuaD10aGlzLmc9dGhpcy5iYXNlVXJsPW51bGw7dGhpcy5qPVtdO3RoaXMuYT1bXTt0aGlzLmI9bnVsbH1mdW5jdGlvbiBpYygpe3RoaXMudmFsdWU9bnVsbH1mdW5jdGlvbiBqYygpe3RoaXMubGFuZz10aGlzLmE9bnVsbH1mdW5jdGlvbiBrYygpe3RoaXMuY29udGVudFR5cGU9dGhpcy5sYW5nPXRoaXMuaWQ9bnVsbH1mdW5jdGlvbiBsYygpe3RoaXMuZGF0YT1udWxsfWZ1bmN0aW9uIG1jKCl7dGhpcy5kYXRhPW51bGx9CmZ1bmN0aW9uIG5jKCl7dGhpcy5hPXRoaXMuYj10aGlzLmY9dGhpcy5pPXRoaXMuYmFzZVVybD10aGlzLmo9dGhpcy5mcmFtZVJhdGU9dGhpcy51PXRoaXMubz10aGlzLm09dGhpcy5mYlF1YWxpdHlDbGFzcz10aGlzLmZiUXVhbGl0eUxhYmVsPXRoaXMuaD10aGlzLmc9dGhpcy5jb2RlY3M9dGhpcy5taW1lVHlwZT10aGlzLmhlaWdodD10aGlzLndpZHRoPXRoaXMuYmFuZHdpZHRoPXRoaXMubGFuZz10aGlzLmlkPW51bGw7dGhpcy5jPVtdfWZ1bmN0aW9uIG9jKCl7dGhpcy52YWx1ZT10aGlzLmE9bnVsbH1vYy5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgb2M7YS5hPXRoaXMuYTthLnZhbHVlPXRoaXMudmFsdWU7cmV0dXJuIGF9O29jLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMuYT1OKGIsInNjaGVtZUlkVXJpIixPLHRoaXMuYSk7dGhpcy52YWx1ZT1OKGIsInZhbHVlIixPLHRoaXMudmFsdWUpfTsKZnVuY3Rpb24gcGMoKXt0aGlzLmI9dGhpcy5hPXRoaXMuZj10aGlzLmM9bnVsbH1mdW5jdGlvbiBxYygpe3RoaXMucGFyc2VkUHNzaD10aGlzLnBzc2hCb3g9bnVsbH1mdW5jdGlvbiByYygpe3RoaXMudXJsPW51bGx9ZnVuY3Rpb24gc2MoKXt0aGlzLnVybD1udWxsfWZ1bmN0aW9uIHRjKCl7dGhpcy5iYXNlVXJsPW51bGw7dGhpcy5zPTE7dGhpcy5jPXRoaXMuYj10aGlzLmY9dGhpcy5hPXRoaXMuTD1udWxsfXRjLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyB0YzthLmJhc2VVcmw9dWModGhpcy5iYXNlVXJsKTthLnM9dGhpcy5zO2EuTD10aGlzLkw7YS5hPXZjKHRoaXMuYSk7YS5mPXZjKHRoaXMuZik7YS5iPXZjKHRoaXMuYik7YS5jPXZjKHRoaXMuYyk7cmV0dXJuIGF9O2Z1bmN0aW9uIHdjKCl7dGhpcy5hPXRoaXMudXJsPW51bGx9CndjLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyB3YzthLnVybD11Yyh0aGlzLnVybCk7YS5hPXZjKHRoaXMuYSk7cmV0dXJuIGF9O2Z1bmN0aW9uIHhjKCl7dGhpcy5hPXRoaXMudXJsPW51bGx9eGMucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IHhjO2EudXJsPXVjKHRoaXMudXJsKTthLmE9dmModGhpcy5hKTtyZXR1cm4gYX07ZnVuY3Rpb24geWMoKXt0aGlzLmJhc2VVcmw9bnVsbDt0aGlzLnM9MTt0aGlzLkg9dGhpcy5MPW51bGw7dGhpcy5jPTA7dGhpcy5iPW51bGw7dGhpcy5hPVtdO3RoaXMuQz1udWxsfXljLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyB5YzthLmJhc2VVcmw9dWModGhpcy5iYXNlVXJsKTthLnM9dGhpcy5zO2EuTD10aGlzLkw7YS5IPXRoaXMuSDthLmM9dGhpcy5jO2EuYj12Yyh0aGlzLmIpO2EuYT11Yyh0aGlzLmEpfHxbXTthLkM9dmModGhpcy5DKTtyZXR1cm4gYX07CmZ1bmN0aW9uIHpjKCl7dGhpcy5hPXRoaXMuYj1udWxsfXpjLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyB6YzthLmI9dWModGhpcy5iKTthLmE9dmModGhpcy5hKTtyZXR1cm4gYX07ZnVuY3Rpb24gQWMoKXt0aGlzLnM9MTt0aGlzLkg9dGhpcy5MPW51bGw7dGhpcy5iPTA7dGhpcy5DPXRoaXMuYz10aGlzLmE9dGhpcy5mPW51bGx9QWMucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IEFjO2Eucz10aGlzLnM7YS5MPXRoaXMuTDthLkg9dGhpcy5IO2EuYj10aGlzLmI7YS5mPXRoaXMuZjthLmE9dGhpcy5hO2EuYz10aGlzLmM7YS5DPXZjKHRoaXMuQyk7cmV0dXJuIGF9O2Z1bmN0aW9uIEJjKCl7dGhpcy5iPXRoaXMuYT1udWxsO3RoaXMuTj1bXX1CYy5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgQmM7YS5hPXRoaXMuYTthLmI9dGhpcy5iO2EuTj11Yyh0aGlzLk4pfHxbXTtyZXR1cm4gYX07CmZ1bmN0aW9uIENjKCl7dGhpcy5zdGFydFNlZ21lbnRJbmRleD10aGlzLnJlcGVhdD10aGlzLmR1cmF0aW9uPXRoaXMuc3RhcnRUaW1lPW51bGx9Q2MucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IENjO2Euc3RhcnRUaW1lPXRoaXMuc3RhcnRUaW1lO2EuZHVyYXRpb249dGhpcy5kdXJhdGlvbjthLnJlcGVhdD10aGlzLnJlcGVhdDtyZXR1cm4gYX07ZnVuY3Rpb24gRGMoYSxiKXt0aGlzLnFhPWE7dGhpcy5lbmQ9Yn1EYy5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IERjKHRoaXMucWEsdGhpcy5lbmQpfTtmYy5UQUdfTkFNRT0iTVBEIjtnYy5UQUdfTkFNRT0iUGVyaW9kIjtoYy5UQUdfTkFNRT0iQWRhcHRhdGlvblNldCI7aWMuVEFHX05BTUU9IlJvbGUiO2pjLlRBR19OQU1FPSJBY2Nlc3NpYmlsaXR5IjtrYy5UQUdfTkFNRT0iQ29udGVudENvbXBvbmVudCI7bmMuVEFHX05BTUU9IlJlcHJlc2VudGF0aW9uIjtwYy5UQUdfTkFNRT0iQ29udGVudFByb3RlY3Rpb24iOwpxYy5UQUdfTkFNRT0iY2VuYzpwc3NoIjtyYy5UQUdfTkFNRT0iQmFzZVVSTCI7b2MuVEFHX05BTUU9IkF1ZGlvQ2hhbm5lbENvbmZpZ3VyYXRpb24iO3NjLlRBR19OQU1FPSJMb2NhdGlvbiI7dGMuVEFHX05BTUU9IlNlZ21lbnRCYXNlIjt3Yy5UQUdfTkFNRT0iUmVwcmVzZW50YXRpb25JbmRleCI7bGMuVEFHX05BTUU9IkZCSW5pdGlhbGl6YXRpb25CaW5hcnkiO21jLlRBR19OQU1FPSJGQlNlZ21lbnRJbmRleEJpbmFyeSI7eGMuVEFHX05BTUU9IkluaXRpYWxpemF0aW9uIjt5Yy5UQUdfTkFNRT0iU2VnbWVudExpc3QiO3pjLlRBR19OQU1FPSJTZWdtZW50VVJMIjtBYy5UQUdfTkFNRT0iU2VnbWVudFRlbXBsYXRlIjtCYy5UQUdfTkFNRT0iU2VnbWVudFRpbWVsaW5lIjtDYy5UQUdfTkFNRT0iUyI7CmZjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMudXJsPWEuQWM7dGhpcy5pZD1OKGIsImlkIixPKTt0aGlzLnR5cGU9TihiLCJ0eXBlIixPKXx8InN0YXRpYyI7dGhpcy5tYW5pZmVzdElzTGl2ZVN0cmVhbWluZz0iZHluYW1pYyI9PT10aGlzLnR5cGU7dGhpcy5GQldhc0xpdmU9TihiLCJGQldhc0xpdmUiLEVjKXx8ITE7dGhpcy5GQklzTGl2ZVRlbXBsYXRlZD1OKGIsIkZCSXNMaXZlVGVtcGxhdGVkIixFYyl8fCExO3RoaXMuRkJNYW5pZmVzdElkZW50aWZpZXI9TihiLCJGQk1hbmlmZXN0SWRlbnRpZmllciIsTyl8fCIiO3RoaXMuRkJNUz1OKGIsIkZCTVMiLEVjKXx8ITE7VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJvdmVycmlkZV9mYl9pc19saXZlX3RlbXBsYXRlZCIsITEpJiYodGhpcy5GQklzTGl2ZVRlbXBsYXRlZD0hMSk7dGhpcy5iPU4oYiwibWVkaWFQcmVzZW50YXRpb25EdXJhdGlvbiIsRmMpO3RoaXMubT1OKGIsIm1pbkJ1ZmZlclRpbWUiLApGYyx0aGlzLm0pO3RoaXMuZz1OKGIsIm1pbmltdW1VcGRhdGVQZXJpb2QiLEZjLHRoaXMuZyk7dGhpcy5jPU4oYiwiYXZhaWxhYmlsaXR5U3RhcnRUaW1lIixHYyx0aGlzLmMpO3RoaXMuZj1OKGIsInRpbWVTaGlmdEJ1ZmZlckRlcHRoIixGYyx0aGlzLmYpO3RoaXMuY3VycmVudFNlcnZlclRpbWVNcz1OKGIsImN1cnJlbnRTZXJ2ZXJUaW1lTXMiLFApO04oYiwiZmlyc3RBdlRpbWVNcyIsUCk7dGhpcy5sYXN0VmlkZW9GcmFtZVRzPU4oYiwibGFzdFZpZGVvRnJhbWVUcyIsUCk7dGhpcy5mPW51bGw7dGhpcy5vPU4oYiwic3VnZ2VzdGVkUHJlc2VudGF0aW9uRGVsYXkiLEZjLHRoaXMubyk7dGhpcy5oPU4oYiwibG9hcFN0cmVhbVR5cGUiLEhjLHRoaXMuaCk7dGhpcy5pPU4oYiwidXNpbmdBU1JDYXB0aW9ucyIsSGMsdGhpcy5pKTt0aGlzLmo9TihiLCJpc1VzaW5nQXNyQ2FwdGlvbnNFbXBsb3llZURvZ2Zvb2RpbmciLEhjLHRoaXMuaik7dmFyIGM9YS5iYXNlVXJsLGQ9SWModGhpcywKYixyYyk7dGhpcy5iYXNlVXJsPUpjKGMsZCk7aWYoZD1NKHRoaXMsYixzYykpdGhpcy51PUtjKGMsZC51cmwpO3RoaXMuYT1JYyh0aGlzLGIsZ2MpfTtmdW5jdGlvbiBMYyhhLGIsYyxkKXtpZigwIT09YS5hLmxlbmd0aCl7dmFyIGU9bmV3IGhjO2UuY29udGVudFR5cGU9InRleHQiO2UubGFuZz1jfHwiZW4iO2UuZj0hMDtjPW5ldyBuYztjLmJhbmR3aWR0aD0wO2MubWltZVR5cGU9ZHx8InRleHQvdnR0IjtjLmJhc2VVcmw9W25ldyBMKGIpXTtlLmEucHVzaChjKTthLmFbMF0uYS5wdXNoKGUpO01jKGEuYVswXSl9fQpnYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt0aGlzLmlkPU4oYiwiaWQiLE8pO3RoaXMuc3RhcnQ9TihiLCJzdGFydCIsRmMpO3RoaXMuZHVyYXRpb249TihiLCJkdXJhdGlvbiIsRmMpO3ZhciBjPUljKHRoaXMsYixyYyk7dGhpcy5iYXNlVXJsPUpjKGEuYmFzZVVybCxjKTt0aGlzLmI9TSh0aGlzLGIsdGMpO3RoaXMuYz1NKHRoaXMsYix5Yyk7dGhpcy5mPU0odGhpcyxiLEFjKTt0aGlzLmE9SWModGhpcyxiLGhjKTtNYyh0aGlzKX07ZnVuY3Rpb24gTWMoYSl7Zm9yKHZhciBiPVtdLGM9MDtjPGEuYS5sZW5ndGg7KytjKXt2YXIgZD1hLmFbY107bnVsbCE9ZC5ncm91cCYmKGJbZC5ncm91cF09ITApfWZvcihjPTA7YzxhLmEubGVuZ3RoOysrYylpZihkPWEuYVtjXSxudWxsPT1kLmdyb3VwKXtmb3IodmFyIGU9MTsxPT1iW2VdOykrK2U7YltlXT0hMDtkLmdyb3VwPWV9fQpoYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt2YXIgYz1NKHRoaXMsYixrYyl8fHt9LGQ9TSh0aGlzLGIsaWMpO3RoaXMuaWQ9TihiLCJpZCIsTyk7dGhpcy5ncm91cD1OKGIsImdyb3VwIixQKTt0aGlzLmxhbmc9TihiLCJsYW5nIixPLGMubGFuZyk7dGhpcy5jb250ZW50VHlwZT1OKGIsImNvbnRlbnRUeXBlIixPLGMuY29udGVudFR5cGUpO3RoaXMud2lkdGg9TihiLCJ3aWR0aCIsUSk7dGhpcy5oZWlnaHQ9TihiLCJoZWlnaHQiLFEpO3RoaXMubWltZVR5cGU9TihiLCJtaW1lVHlwZSIsTyk7dGhpcy5jb2RlY3M9TihiLCJjb2RlY3MiLE8pO3RoaXMuYz1OKGIsIkZCUHJvamVjdGlvbiIsTyk7dGhpcy5mPWQmJiJtYWluIj09ZC52YWx1ZTt0aGlzLmxhbmcmJih0aGlzLmxhbmc9U2EodGhpcy5sYW5nKSk7Yz1JYyh0aGlzLGIscmMpO3RoaXMuYmFzZVVybD1KYyhhLmJhc2VVcmwsYyk7dGhpcy5qPUljKHRoaXMsYixwYyk7IXRoaXMuY29udGVudFR5cGUmJnRoaXMubWltZVR5cGUmJgoodGhpcy5jb250ZW50VHlwZT10aGlzLm1pbWVUeXBlLnNwbGl0KCIvIilbMF0pO3RoaXMuZz1hLmI/T2ModGhpcyxiLGEuYik6TSh0aGlzLGIsdGMpO3RoaXMuaD1hLmM/T2ModGhpcyxiLGEuYyk6TSh0aGlzLGIseWMpO3RoaXMuaT1hLmY/T2ModGhpcyxiLGEuZik6TSh0aGlzLGIsQWMpO3RoaXMuYT1JYyh0aGlzLGIsbmMpO3RoaXMuYj1NKHRoaXMsYixqYyk7IXRoaXMubWltZVR5cGUmJnRoaXMuYS5sZW5ndGgmJih0aGlzLm1pbWVUeXBlPXRoaXMuYVswXS5taW1lVHlwZSwhdGhpcy5jb250ZW50VHlwZSYmdGhpcy5taW1lVHlwZSYmKHRoaXMuY29udGVudFR5cGU9dGhpcy5taW1lVHlwZS5zcGxpdCgiLyIpWzBdKSl9O2ljLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMudmFsdWU9TihiLCJ2YWx1ZSIsTyl9O2pjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMuYT1OKGIsInNjaGVtZUlkVXJpIixPKTt0aGlzLmxhbmc9TihiLCJsYW5nIixPKX07CmtjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMuaWQ9TihiLCJpZCIsTyk7dGhpcy5sYW5nPU4oYiwibGFuZyIsTyk7dGhpcy5jb250ZW50VHlwZT1OKGIsImNvbnRlbnRUeXBlIixPKTt0aGlzLmxhbmcmJih0aGlzLmxhbmc9U2EodGhpcy5sYW5nKSl9OwpuYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt0aGlzLmlkPU4oYiwiaWQiLE8pO3RoaXMuYmFuZHdpZHRoPU4oYiwiYmFuZHdpZHRoIixRKTt0aGlzLndpZHRoPU4oYiwid2lkdGgiLFEsYS53aWR0aCk7dGhpcy5oZWlnaHQ9TihiLCJoZWlnaHQiLFEsYS5oZWlnaHQpO3RoaXMubWltZVR5cGU9TihiLCJtaW1lVHlwZSIsTyxhLm1pbWVUeXBlKTt0aGlzLmNvZGVjcz1OKGIsImNvZGVjcyIsTyxhLmNvZGVjcyk7dGhpcy5mYlF1YWxpdHlMYWJlbD1OKGIsIkZCUXVhbGl0eUxhYmVsIixPKTt0aGlzLmZiUXVhbGl0eUNsYXNzPU4oYiwiRkJRdWFsaXR5Q2xhc3MiLE8pO3RoaXMubT1OKGIsIkZCQWJyUG9saWN5VGFncyIsTyk7VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJtcGRfcGFyc2VfbW9zX2F0dHJpYnV0ZXMiLCExKSYmKHRoaXMubz1OKGIsIkZCUGxheWJhY2tSZXNvbHV0aW9uTW9zIixNb3NVdGlscy5wYXJzZVBsYXliYWNrTW9zKSx0aGlzLnU9TihiLAoiRkJQbGF5YmFja1Jlc29sdXRpb25Nb3NDb25maWRlbmNlTGV2ZWwiLE8pKTtWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woIm1wZF9wYXJzZV9mcmFtZV9hbmRfYXVkaW9fc2FtcGxpbmdfcmF0ZSIsITEpJiYodGhpcy5mcmFtZVJhdGU9TihiLCJmcmFtZVJhdGUiLE8pLHRoaXMuaj1OKGIsImF1ZGlvU2FtcGxpbmdSYXRlIixRKSk7dGhpcy5sYW5nPWEubGFuZzt2YXIgYz1JYyh0aGlzLGIscmMpO3RoaXMuYmFzZVVybD1KYyhhLmJhc2VVcmwsYyk7VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJhZGRfaW5saW5lX2luaXRpYWxpemF0aW9uX3Jlc291cmNlcyIsITEpJiYodGhpcy5nPU0odGhpcyxiLGxjKSx0aGlzLmg9TSh0aGlzLGIsbWMpKTt0aGlzLmM9SWModGhpcyxiLHBjKTt0aGlzLmk9TSh0aGlzLGIsb2MpO3RoaXMuZj1hLmc/T2ModGhpcyxiLGEuZyk6TSh0aGlzLGIsdGMpO3RoaXMuYj1hLmg/T2ModGhpcyxiLGEuaCk6TSh0aGlzLGIsCnljKTt0aGlzLmE9YS5pP09jKHRoaXMsYixhLmkpOk0odGhpcyxiLEFjKTt0aGlzLmM9dGhpcy5jLmNvbmNhdChhLmopfTtsYy5wcm90b3R5cGUucGFyc2U9bWMucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7aWYoYiYmYi5maXJzdENoaWxkKXt2YXIgYz1QYyhiKTtudWxsIT1jJiYodGhpcy5kYXRhPUtiKGMpLmJ1ZmZlcil9fTtwYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt0aGlzLmM9Yjt0aGlzLmY9TihiLCJzY2hlbWVJZFVyaSIsTyk7dmFyIGM9TihiLCJjZW5jOmRlZmF1bHRfS0lEIixPKTtjJiYodGhpcy5iPWMucmVwbGFjZSgvWy1dL2csIiIpKTt0aGlzLmE9TSh0aGlzLGIscWMpfTsKcWMucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dmFyIGM9UGMoYik7aWYoYyl7dGhpcy5wc3NoQm94PUtiKGMpO3RyeXt0aGlzLnBhcnNlZFBzc2g9bmV3IFFiKHRoaXMucHNzaEJveCl9Y2F0Y2goZCl7aWYoIShkIGluc3RhbmNlb2YgUmFuZ2VFcnJvcikpdGhyb3cgZDt9fX07cmMucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dmFyIGM9Yi5jaGlsZE5vZGVzLGQ9IiI7aWYoMT09Yy5sZW5ndGgpZD1QYyhiKTtlbHNlIGZvcih2YXIgZT0wO2U8Yy5sZW5ndGg7ZSsrKWNbZV0ubm9kZVR5cGU9PU5vZGUuVEVYVF9OT0RFJiYoZCs9Y1tlXS5ub2RlVmFsdWUpO3RoaXMudXJsPWR9O3NjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMudXJsPVBjKGIpfTsKdGMucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dGhpcy5iYXNlVXJsPWEuYmFzZVVybHx8dGhpcy5iYXNlVXJsO3RoaXMucz1OKGIsInRpbWVzY2FsZSIsUSx0aGlzLnMpO3RoaXMuTD1OKGIsInByZXNlbnRhdGlvblRpbWVPZmZzZXQiLFAsdGhpcy5MKTt0aGlzLmE9TihiLCJpbmRleFJhbmdlIixRYyx0aGlzLmEpO3RoaXMuZj1OKGIsIkZCRmlyc3RTZWdtZW50UmFuZ2UiLFFjLHRoaXMuZik7dGhpcy5iPU0odGhpcyxiLHdjKXx8dGhpcy5iO3RoaXMuYz1NKHRoaXMsYix4Yyl8fHRoaXMuY307d2MucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dmFyIGM9TihiLCJzb3VyY2VVUkwiLE8pO3RoaXMudXJsPUtjKGEuYmFzZVVybCxjKTt0aGlzLmE9TihiLCJyYW5nZSIsUWMsdmMoYS5hKSl9Owp4Yy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt2YXIgYz1OKGIsInNvdXJjZVVSTCIsTyk7dGhpcy51cmw9S2MoYS5iYXNlVXJsLGMpO3RoaXMuYT1OKGIsInJhbmdlIixRYyl9Owp5Yy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt0aGlzLmJhc2VVcmw9YS5iYXNlVXJsfHx0aGlzLmJhc2VVcmw7dGhpcy5zPU4oYiwidGltZXNjYWxlIixRLHRoaXMucyk7dGhpcy5MPU4oYiwicHJlc2VudGF0aW9uVGltZU9mZnNldCIsUCx0aGlzLkwpO3RoaXMuSD1OKGIsImR1cmF0aW9uIixRLHRoaXMuSCk7dmFyIGM9TihiLCJzdGFydE51bWJlciIsUSk7bnVsbCE9YyYmKHRoaXMuYz1jKTt0aGlzLmI9TSh0aGlzLGIseGMpfHx0aGlzLmI7dGhpcy5hPShjPUljKHRoaXMsYix6YykpJiYwPGMubGVuZ3RoP2M6dGhpcy5hO3RoaXMuQz1NKHRoaXMsYixCYyl8fHRoaXMuQztWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImNhbGN1bGF0ZV9xdWlja19kYXNoX3ByZXNlbnRhdGlvbl90aW1lX29mZnNldF9mcm9tX3RpbWVsaW5lIiwhMSkmJihjPVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJjYWxjdWxhdGVfcXVpY2tfZGFzaF9wcmVzZW50YXRpb25fdGltZV9vZmZzZXRfZXBzaWxvbl9tcyIsCjI1MCksdGhpcy5DJiZ0aGlzLkMuTlswXSYmKHRoaXMuTD0xRTM8dGhpcy5DLk5bMF0uc3RhcnRUaW1lP3RoaXMuQy5OWzBdLnN0YXJ0VGltZS1jOnRoaXMuTCkpfTt6Yy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt2YXIgYz1OKGIsIm1lZGlhIixPKTt0aGlzLmI9S2MoYS5iYXNlVXJsLGMpO3RoaXMuYT1OKGIsIm1lZGlhUmFuZ2UiLFFjKX07CkFjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMucz1OKGIsInRpbWVzY2FsZSIsUSx0aGlzLnMpO3RoaXMuTD1OKGIsInByZXNlbnRhdGlvblRpbWVPZmZzZXQiLFAsdGhpcy5MKTt0aGlzLkg9TihiLCJkdXJhdGlvbiIsUSx0aGlzLkgpO3ZhciBjPU4oYiwic3RhcnROdW1iZXIiLFApO251bGwhPWMmJih0aGlzLmI9Yyk7dGhpcy5mPU4oYiwibWVkaWEiLE8sdGhpcy5mKTt0aGlzLmE9TihiLCJpbmRleCIsTyx0aGlzLmEpO3RoaXMuYz1OKGIsImluaXRpYWxpemF0aW9uIixPLHRoaXMuYyk7dGhpcy5DPU0odGhpcyxiLEJjKXx8dGhpcy5DfTtCYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt0aGlzLmE9TihiLCJGQlByZWRpY3RlZE1lZGlhIixPLHRoaXMuYSk7dGhpcy5iPU4oYiwiRkJQcmVkaWN0ZWRNZWRpYUVuZE51bWJlciIsUSk7dGhpcy5OPUljKHRoaXMsYixDYyl9OwpDYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt0aGlzLnN0YXJ0VGltZT1OKGIsInQiLFApO3RoaXMuZHVyYXRpb249TihiLCJkIixQKTt0aGlzLnJlcGVhdD1OKGIsInIiLEhjKX07ZnVuY3Rpb24gSmMoYSxiKXtpZighYnx8MD09PWIubGVuZ3RoKXJldHVybiBhO2Zvcih2YXIgYz1bXSxkPTA7ZDxiLmxlbmd0aDtkKyspe3ZhciBlPWJbZF0udXJsO251bGw9PWF8fDA9PT1hLmxlbmd0aD9jLnB1c2gobmV3IEwoZSkpOihlPUtjKGEuc2xpY2UoMCwxKSxlKSxjLnB1c2goZVswXSkpfXJldHVybiBjfWZ1bmN0aW9uIEtjKGEsYil7aWYoIWIpcmV0dXJuIGE7dmFyIGM9bmV3IEwoYik7cmV0dXJuIGE/YS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVzb2x2ZShjKX0pOltjXX1mdW5jdGlvbiBPYyhhLGIsYyl7dmFyIGQ9dmMoYyk7KGI9UmMoYixjLmNvbnN0cnVjdG9yLlRBR19OQU1FKSkmJmQucGFyc2UoYSxiKTtyZXR1cm4gZH0KZnVuY3Rpb24gTShhLGIsYyl7dmFyIGQ9bnVsbDtpZihiPVJjKGIsYy5UQUdfTkFNRSkpZD1uZXcgYyxkLnBhcnNlKGEsYik7cmV0dXJuIGR9ZnVuY3Rpb24gUmMoYSxiKXtmb3IodmFyIGM9bnVsbCxkPTA7ZDxhLmNoaWxkTm9kZXMubGVuZ3RoO2QrKylpZihhLmNoaWxkTm9kZXNbZF0udGFnTmFtZT09Yil7aWYoYylyZXR1cm4gbnVsbDtjPWEuY2hpbGROb2Rlc1tkXX1yZXR1cm4gY31mdW5jdGlvbiBJYyhhLGIsYyl7Zm9yKHZhciBkPVtdLGU9MDtlPGIuY2hpbGROb2Rlcy5sZW5ndGg7ZSsrKWlmKGIuY2hpbGROb2Rlc1tlXS50YWdOYW1lPT1jLlRBR19OQU1FKXt2YXIgZj1uZXcgYztmLnBhcnNlLmNhbGwoZixhLGIuY2hpbGROb2Rlc1tlXSk7ZC5wdXNoKGYpfXJldHVybiBkfWZ1bmN0aW9uIFBjKGEpe2E9YS5maXJzdENoaWxkO3JldHVybiBhLm5vZGVUeXBlIT1Ob2RlLlRFWFRfTk9ERT9udWxsOmEubm9kZVZhbHVlfQpmdW5jdGlvbiB1YyhhKXtyZXR1cm4gYT9hLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS5jbG9uZSgpfSk6bnVsbH1mdW5jdGlvbiB2YyhhKXtyZXR1cm4gYT9hLmNsb25lKCk6bnVsbH1mdW5jdGlvbiBOKGEsYixjLGQpe2E9YS5oYXNBdHRyaWJ1dGUoYik/YyhhLmdldEF0dHJpYnV0ZShiKSk6bnVsbDtyZXR1cm4gbnVsbCE9YT9hOnZvaWQgMCE9PWQ/ZDpudWxsfWZ1bmN0aW9uIEdjKGEpe2lmKCFhKXJldHVybiBudWxsO2E9RGF0ZS5wYXJzZShhKTtyZXR1cm4gaXNOYU4oYSk/bnVsbDpNYXRoLmZsb29yKGEvMUUzKX0KZnVuY3Rpb24gRmMoYSl7aWYoIWEpcmV0dXJuIG51bGw7dmFyIGI9L15QKD86KFswLTldKilZKT8oPzooWzAtOV0qKU0pPyg/OihbMC05XSopRCk/KD86VCg/OihbMC05XSopSCk/KD86KFswLTldKilNKT8oPzooWzAtOS5dKilTKT8pPyQvLmV4ZWMoYSk7aWYoIWIpcmV0dXJuIG51bGw7YT0wO3ZhciBjPVAoYlsxXSk7YyYmKGErPTMxNTM2RTMqYyk7KGM9UChiWzJdKSkmJihhKz0yNTkyRTMqYyk7KGM9UChiWzNdKSkmJihhKz04NjQwMCpjKTsoYz1QKGJbNF0pKSYmKGErPTM2MDAqYyk7KGM9UChiWzVdKSkmJihhKz02MCpjKTtiPXdpbmRvdy5wYXJzZUZsb2F0KGJbNl0pOyhiPWlzTmFOKGIpP251bGw6YikmJihhKz1iKTtyZXR1cm4gYX0KZnVuY3Rpb24gUWMoYSl7dmFyIGI9LyhbMC05XSspLShbMC05XSspLy5leGVjKGEpO2lmKCFiKXJldHVybiBudWxsO2E9UChiWzFdKTtpZihudWxsPT1hKXJldHVybiBudWxsO2I9UChiWzJdKTtyZXR1cm4gbnVsbD09Yj9udWxsOm5ldyBEYyhhLGIpfWZ1bmN0aW9uIEhjKGEpe2E9d2luZG93LnBhcnNlSW50KGEsMTApO3JldHVybiBpc05hTihhKT9udWxsOmF9ZnVuY3Rpb24gUShhKXthPXdpbmRvdy5wYXJzZUludChhLDEwKTtyZXR1cm4gMDxhP2E6bnVsbH1mdW5jdGlvbiBQKGEpe2E9d2luZG93LnBhcnNlSW50KGEsMTApO3JldHVybiAwPD1hP2E6bnVsbH1mdW5jdGlvbiBFYyhhKXtzd2l0Y2goYS50b0xvd2VyQ2FzZSgpKXtjYXNlICJ0cnVlIjpyZXR1cm4hMDtjYXNlICJmYWxzZSI6cmV0dXJuITE7ZGVmYXVsdDpyZXR1cm4gbnVsbH19ZnVuY3Rpb24gTyhhKXtyZXR1cm4gYX07ZnVuY3Rpb24gU2MoYSxiKXt0aGlzLnVybD1hO3RoaXMuYj1ifHxuZXcgdGI7dGhpcy5qPTA7dGhpcy5nPS0xO3RoaXMuaD10aGlzLmk9MDt0aGlzLmE9bnVsbDt0aGlzLmM9bmV3IEk7dGhpcy5mPW51bGw7dGhpcy5vPXRoaXMuYi5pO3RoaXMubD10aGlzLmIubX1xKCJzaGFrYS51dGlsLkFqYXhSZXF1ZXN0IixTYyk7CmZ1bmN0aW9uIHRiKCl7dGhpcy5ib2R5PW51bGw7dGhpcy5OYT0xO3RoaXMuYz0xRTM7dGhpcy5iPTA7dGhpcy5tZXRob2Q9IkdFVCI7dGhpcy5yZXNwb25zZVR5cGU9ImFycmF5YnVmZmVyIjt0aGlzLlFhPXt9O3RoaXMuZz10aGlzLndpdGhDcmVkZW50aWFscz0hMTt0aGlzLmRhPXRoaXMuYT10aGlzLnU9bnVsbDt0aGlzLmo9ITE7dGhpcy5oPXRoaXMubT10aGlzLmk9dGhpcy5taW1lVHlwZT1udWxsO3RoaXMubz0hMTt0aGlzLnc9LyguKilcLih4eHxmbmEpXC5mYmNkblwubmV0Lzt0aGlzLmY9L2xpdmVzdHJlYW0tbG9va2FzaWRlXC4oZmFjZWJvb2t8d29ya3BsYWNlKVwuY29tJC99dmFyIFRjPSEwO2Z1bmN0aW9uIFVjKGEpe1ZjKGEpO1djKGEpO2EuYi5ib2R5PW51bGw7YS5jLmRlc3Ryb3koKTthLmM9bnVsbDthLmY9bnVsbH0KZnVuY3Rpb24gV2MoYSl7YS5hJiYoYS5hLm9ubG9hZD1udWxsLGEuYS5vbnJlYWR5c3RhdGVjaGFuZ2U9bnVsbCxhLmEub25lcnJvcj1udWxsLGEuYS5vbnRpbWVvdXQ9bnVsbCk7YS5hPW51bGx9ZnVuY3Rpb24gVmMoYSl7LTEhPT1hLmcmJihjbGVhclRpbWVvdXQoYS5nKSxhLmc9LTEpfQpTYy5wcm90b3R5cGUubT1mdW5jdGlvbigpe2lmKHRoaXMuYSlyZXR1cm4gdGhpcy5jO2lmKDA9PXRoaXMudXJsLmxhc3RJbmRleE9mKCJkYXRhOiIsMCkpe3ZhciBhPXRoaXMudXJsLnNwbGl0KCI6IilbMV0uc3BsaXQoIjsiKS5wb3AoKS5zcGxpdCgiLCIpLGI9YS5wb3AoKSxiPSJiYXNlNjQiPT1hLnBvcCgpP3dpbmRvdy5hdG9iKGIucmVwbGFjZSgvLS9nLCIrIikucmVwbGFjZSgvXy9nLCIvIikpOndpbmRvdy5kZWNvZGVVUklDb21wb25lbnQoYik7ImFycmF5YnVmZmVyIj09dGhpcy5iLnJlc3BvbnNlVHlwZSYmKGI9SmIoYikuYnVmZmVyKTthPUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkobmV3IFhNTEh0dHBSZXF1ZXN0KSk7YS5yZXNwb25zZT1iO2EucmVzcG9uc2VUZXh0PWIudG9TdHJpbmcoKTtiPXRoaXMuYztiLnJlc29sdmUoYSk7VWModGhpcyk7cmV0dXJuIGJ9aWYoMD09dGhpcy51cmwubGFzdEluZGV4T2YoImlkYjoiLDApKXJldHVybiB0aGlzLnUoKTt0aGlzLmorKzsKdGhpcy5pPXBlcmZvcm1hbmNlTm93KCk7dGhpcy5ofHwodGhpcy5oPXRoaXMuYi5jKTt0aGlzLmE9bmV3IFhNTEh0dHBSZXF1ZXN0O3ZhciBjPXRoaXMudXJsLGE9bmV3IEwoYyk7VGMmJih0aGlzLmYmJiF0aGlzLmYuc3VwcG9ydHNDYWNoaW5nKCl8fHRoaXMuYi5nKSYmZGMoYS5hLCJfIixEYXRlLm5vdygpKTtjPXRoaXMuYi53LnRlc3QoYyk7aWYobnVsbCE9dGhpcy5iLmEmJmMpe3ZhciBkPXRoaXMuYi5hLGU9YS5hO251bGwhPWQuYSYmKGQuaD1kLmEuZ2V0U2VnbWVudHNUb1B1c2goKSxkLmY9ZC5hLmdldFNlZ21lbnRTdGFydFRpbWUoKSxkLmc9ZC5hLmdldFNlZ21lbnRPZmZzZXQoKSxkLmM9ZC5hLmdldFB1c2hWaWRlb1JlcHJlc2VudGF0aW9uSUQoKSxkLmI9ZC5hLmdldFB1c2hBdWRpb1JlcHJlc2VudGF0aW9uSUQoKSxkLmo9ZC5hLmdldFVzZUxvbmdDYWNoZUZvck1hbmlmZXN0KCkpO251bGwhPWQuaCYmZGMoZSwiX25jX3BfbiIsZC5oKTtudWxsIT1kLmY/ZGMoZSwiX25jX3BfdHMiLApkLmYpOm51bGwhPWQuZyYmZGMoZSwiX25jX3BfbyIsZC5nKTtudWxsIT1kLmMmJm51bGwhPWQuYiYmKGRjKGUsIl9uY19wX3JpZCIsZC5jKSxkYyhlLCJfbmNfcF9hcmlkIixkLmIpKTtkLmkmJmRjKGUsIl9uY19wX2RiZyIsIjEiKTtkLmomJmRjKGUsIl9uY19uYyIsIjEiKX0xPT10aGlzLmIuaiYmYyYmZGMoYS5hLCJfbmNfcGxheWluZyIsMSk7dGhpcy5iLm8mJmRjKGEuYSwiX25jX3NjIiwxKTtjPWEudG9TdHJpbmcoKTthPXRoaXMuYi5mLnRlc3QoYS5oYSk7dGhpcy5hLm9wZW4odGhpcy5iLm1ldGhvZCxjLCEwKTt0aGlzLmEucmVzcG9uc2VUeXBlPXRoaXMuYi5yZXNwb25zZVR5cGU7dGhpcy5hLnRpbWVvdXQ9dGhpcy5iLmI7dGhpcy5hLndpdGhDcmVkZW50aWFscz10aGlzLmIud2l0aENyZWRlbnRpYWxzfHxhO3NldEV2ZW50UHJvcGVydHkodGhpcy5hLCJvbmxvYWQiLHRoaXMuZmQuYmluZCh0aGlzKSk7c2V0RXZlbnRQcm9wZXJ0eSh0aGlzLmEsIm9ucmVhZHlzdGF0ZWNoYW5nZSIsCnRoaXMubGQuYmluZCh0aGlzKSk7c2V0RXZlbnRQcm9wZXJ0eSh0aGlzLmEsIm9uZXJyb3IiLHRoaXMuZGQuYmluZCh0aGlzKSk7c2V0RXZlbnRQcm9wZXJ0eSh0aGlzLmEsIm9udGltZW91dCIsdGhpcy5xZC5iaW5kKHRoaXMpKTtzZXRFdmVudFByb3BlcnR5KHRoaXMuYSwib25hYm9ydCIsdGhpcy4kYy5iaW5kKHRoaXMpKTtmb3IoYiBpbiB0aGlzLmIuUWEpdGhpcy5hLnNldFJlcXVlc3RIZWFkZXIoYix0aGlzLmIuUWFbYl0pO3RoaXMuYS5zZW5kKHRoaXMuYi5ib2R5KTtyZXR1cm4gdGhpcy5jfTtTYy5wcm90b3R5cGUuc2VuZD1TYy5wcm90b3R5cGUubTsKZnVuY3Rpb24gWGMoYSxiLGMpe2I9RXJyb3IoYik7Yi50eXBlPWM7Yi5zdGF0dXM9YS5hLnN0YXR1cztiLnVybD1hLnVybDtWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImVuYWJsZV9kb3VibGVfaW5nZXN0IiwhMSkmJihiLnJlc3BvbnNlSGVhZGVycz1wYXJzZUhlYWRlcnMoYS5hLmdldEFsbFJlc3BvbnNlSGVhZGVycygpKSk7Yi5tZXRob2Q9YS5iLm1ldGhvZDtiLmJvZHk9YS5iLmJvZHk7cmV0dXJuIGJ9bj1TYy5wcm90b3R5cGU7bi5hYm9ydD1mdW5jdGlvbigpe1ZjKHRoaXMpO2lmKHRoaXMuYSYmdGhpcy5hLnJlYWR5U3RhdGUhPVhNTEh0dHBSZXF1ZXN0LkRPTkUmJih0aGlzLmEuYWJvcnQoKSwhVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJmaXhfc2hha2FfdXRpbF9hamF4X3JlcXVlc3RfYWJvcnQiLCEwKSkpe3ZhciBhPVhjKHRoaXMsIlJlcXVlc3QgYWJvcnRlZC4iLCJhYm9ydGVkIik7dGhpcy5jLnJlamVjdChhKTtVYyh0aGlzKX19OwpuLiRjPWZ1bmN0aW9uKCl7aWYoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJmaXhfc2hha2FfdXRpbF9hamF4X3JlcXVlc3RfYWJvcnQiLCEwKSl7dmFyIGE9WGModGhpcywiUmVxdWVzdCBhYm9ydGVkLiIsImFib3J0ZWQiKTt0aGlzLmMucmVqZWN0KGEpO1VjKHRoaXMpfX07Cm4uZmQ9ZnVuY3Rpb24oYSl7aWYodGhpcy5mKXt2YXIgYj1WaWRlb1BsYXllclJlc291cmNlVGltZXIuZ2V0UmVzb3VyY2VUaW1pbmdFbnRyeSh0aGlzLnVybCx0aGlzLmkscGVyZm9ybWFuY2VOb3coKSk7dGhpcy5mLnNhbXBsZShwZXJmb3JtYW5jZU5vdygpLXRoaXMuaSxhLmxvYWRlZHx8dGhpcy5hLnJlc3BvbnNlJiZ0aGlzLmEucmVzcG9uc2UuYnl0ZUxlbmd0aHx8MCx0aGlzLmIubWltZVR5cGU/InYiPT09dGhpcy5iLm1pbWVUeXBlLmNoYXJBdCgwKTohMSxiLHRoaXMubyx0aGlzLmwsVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJldmFsdWF0ZV9hYnJfb25fZmV0Y2hfZW5kIiwhMSkpfWE9WzQwM107MjAwPD10aGlzLmEuc3RhdHVzJiYyOTk+PXRoaXMuYS5zdGF0dXM/KFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgiZW5hYmxlX2RvdWJsZV9pbmdlc3QiLCExKSYmbnVsbCE9cGFyc2VIZWFkZXJzKHRoaXMuYS5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSlbIngtZmItdmlkZW8tcmVwbGljYSJdPwooYT1YYyh0aGlzLCJIVFRQIGVycm9yLiIsIm5ldCIpLHRoaXMuYy5yZWplY3QoYSkpOnRoaXMuYy5yZXNvbHZlKHRoaXMuYSksVWModGhpcykpOiFWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInJlbW92ZV9hamF4X3Jlc2VuZF9pbnRlcm5hbCIsITApJiZ0aGlzLmo8dGhpcy5iLk5hJiYtMT09PWEuaW5kZXhPZih0aGlzLmEuc3RhdHVzKT9ZYyh0aGlzKTooYT1YYyh0aGlzLCJIVFRQIGVycm9yLiIsIm5ldCIpLHRoaXMuYy5yZWplY3QoYSksVWModGhpcykpfTsKbi5sZD1mdW5jdGlvbigpe2lmKHRoaXMuYS5yZWFkeVN0YXRlPT1YTUxIdHRwUmVxdWVzdC5IRUFERVJTX1JFQ0VJVkVEJiYodGhpcy5hLllhPURhdGUubm93KCktdGhpcy5pLHRoaXMuYi5hJiZ0aGlzLmIuZGEmJnRoaXMuYi5kYS5hZGRQdXNoRGF0YUZyb21YSFIodGhpcy5hKSx0aGlzLmIuaCYmdGhpcy5iLmguaGFuZGxlWEhSKHRoaXMuYSksVmlkZW9DbGllbnRFZGdlQ29vcGVyYXRpb24udXBkYXRlRnJvbVhIUih0aGlzLmEpLHRoaXMuYi5nKSl7dmFyIGE9RGF0ZS5wYXJzZSh0aGlzLmEuZ2V0UmVzcG9uc2VIZWFkZXIoIkRhdGUiKSk7YSYmKHphPWEtRGF0ZS5ub3coKSl9fTtuLmRkPWZ1bmN0aW9uKCl7dmFyIGE9WGModGhpcywiTmV0d29yayBmYWlsdXJlLiIsIm5ldCIpO3RoaXMuYy5yZWplY3QoYSk7VWModGhpcyl9OwpuLnFkPWZ1bmN0aW9uKCl7aWYoIVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgicmVtb3ZlX2FqYXhfcmVzZW5kX2ludGVybmFsIiwhMCkmJnRoaXMuajx0aGlzLmIuTmEpWWModGhpcyk7ZWxzZXt2YXIgYT1YYyh0aGlzLCJSZXF1ZXN0IHRpbWVkIG91dC4iLCJuZXQiKTt0aGlzLmMucmVqZWN0KGEpO1VjKHRoaXMpfX07ZnVuY3Rpb24gWWMoYSl7V2MoYSk7YS5nPXNldFRpbWVvdXQoZnVuY3Rpb24oKXt0aGlzLmc9LTE7dGhpcy5tKCl9LmJpbmQoYSksYS5oKigxKy41KigyKk1hdGgucmFuZG9tKCktMSkpKTthLmgqPTJ9O2Z1bmN0aW9uIEsoYSxiLGMsZCxlLGYpe3RoaXMuYz1iO3RoaXMuc3RhcnRCeXRlPWN8fDA7dGhpcy5iYXNlVXJsPXRoaXMudG9TdHJpbmcoKTt0aGlzLmVuZEJ5dGU9bnVsbCE9ZD9kOm51bGw7dGhpcy5pc1ByZWRpY3RpdmU9ZXx8ITE7dGhpcy5mPW51bGw7dGhpcy5tPTA7dGhpcy5BPSExO3RoaXMuTmM9dGhpcy5nPW51bGw7dGhpcy5vPWE7dGhpcy5pPW51bGw7dGhpcy5qPXRoaXMudT0hMTt0aGlzLmI9dGhpcy5hPW51bGw7dGhpcy5oPWZ8fG51bGx9cSgic2hha2EudXRpbC5GYWlsb3ZlclVyaSIsSyk7Sy5wcm90b3R5cGUudz1mdW5jdGlvbihhKXt0aGlzLkE9YX07Sy5wcm90b3R5cGUuc2V0U2hvdWxkUmVhZFhGYlZpZGVvQnJvYWRjYXN0RW5kZWRIZWFkZXI9Sy5wcm90b3R5cGUudztLLnByb3RvdHlwZS5EPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubX07Sy5wcm90b3R5cGUuZ2V0RmJWaWRlb0Jyb2FkY2FzdEVuZGVkUmVzcG9uc2VIZWFkZXI9Sy5wcm90b3R5cGUuRDsKSy5wcm90b3R5cGUuRj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YXJ0Qnl0ZX07Sy5wcm90b3R5cGUuZ2V0U3RhcnRCeXRlPUsucHJvdG90eXBlLkY7Sy5wcm90b3R5cGUuQj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVuZEJ5dGV9O0sucHJvdG90eXBlLmdldEVuZEJ5dGU9Sy5wcm90b3R5cGUuQjtmdW5jdGlvbiBaYyhhLGIpe3JldHVybiBhJiYwIT09YS5sZW5ndGg/YS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVzb2x2ZShiKX0pOltiXX1uPUsucHJvdG90eXBlO24uZmV0Y2g9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxoKXtyZXR1cm4gdGhpcy5mP3RoaXMuZjp0aGlzLmY9JGModGhpcywwLGF8fG5ldyB0YixiLGMsZCxlLGYsZyxoKX07bi5zdHJlYW09ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxoLGspe3JldHVybiBhZCh0aGlzLDAsYXx8bmV3IHRiLGIsYyxkLGUsZixnLGgsayl9OwpmdW5jdGlvbiAkYyhhLGIsYyxkLGUsZixnLGgsayxsKXtyZXR1cm4gYWQoYSxiLGMsZCxlLGYsZyxoLGssbCkudGhlbihmdW5jdGlvbihhKXt2YXIgYixjPWZ1bmN0aW9uKCl7cmV0dXJuIGEucmVhZCgpLnRoZW4oZnVuY3Rpb24oYSl7dmFyIGQ9YS52YWx1ZTtpZihhLmRvbmUpcmV0dXJuIGJ8fG5ldyBBcnJheUJ1ZmZlcigwKTtkJiYoInN0cmluZyI9PT10eXBlb2YgZD9iPShifHwiIikrZDpiPWNvbmNhdEFycmF5QnVmZmVyKGJ8fG5ldyBBcnJheUJ1ZmZlcigwKSxkKSk7cmV0dXJuIGMoKX0uYmluZCh0aGlzKSl9LmJpbmQodGhpcyk7cmV0dXJuIGMoKX0pfQpuLkthPWZ1bmN0aW9uKCl7dGhpcy5nJiYodGhpcy5hPXRoaXMuZj1udWxsLHRoaXMuZy5hYm9ydCgpLHRoaXMuaT10aGlzLmc9bnVsbCk7dGhpcy5OYyYmVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJlbmFibGVfcDJwX3N1cHBvcnQiLCExKSYmKHRoaXMuRy5hYm9ydCgpLHRoaXMuRz1udWxsKTt0aGlzLmImJih0aGlzLmIuYWJvcnRSZXF1ZXN0KGJkKHRoaXMpKSxWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImZpeGluZ19zY2hlZHVsZXJfZGlzYWJsZV9sZWFrcyIsITApJiYodGhpcy5iPW51bGwpKX07CmZ1bmN0aW9uIGFkKGEsYixjLGQsZSxmLGcsaCxrLGwsbSl7YS5iPWx8fG51bGw7dmFyIHA7ZSYmKGMuYSYmKGMuYS5pPSEwKSxsPTAsYy5kYSYmKGw9Yy5kYS5nZXRQdXNoQ291bnRGb3JVcmwoYS5jW2JdLnRvU3RyaW5nKCkpKSwocD1lLmdldE9wZXJhdGlvbkxvZ2dlcigicmVxdWVzdCIpKSYmcC5zZXRSZWFzb24oa3x8bnVsbCkuc2V0UHVzaGVkKGwpLnNldFR5cGUoaHx8bnVsbCkuc2V0SW5pdGlhdG9yKCJzaGFrYSIpLnN0YXJ0KCksZiYmKHA9cC5zZXRQYXJlbnRMb2dnZXIoZikpKTt2YXIgdD1wZXJmb3JtYW5jZU5vdygpO2EuYT1udWxsO2cmJihjLmk9Zyk7ZSYmKGMubT1lKTt2YXIgdz1jZChhLGEuY1tiXSxjKTtrPW51bGw7YS5qPSExO3ZhciB6PVZpZGVvRGFzaFByZWZldGNoQ2FjaGUuZ2V0Q2FjaGVWYWx1ZSh3KTt6JiYoaz16LGEuaj0hMCxwJiYocC5zZXRDb25uZWN0aW9uUXVhbGl0eUxldmVsKFZpZGVvRGFzaFByZWZldGNoQ2FjaGUuZ2V0Q29ubmVjdGlvblF1YWxpdHlMZXZlbCh3KSksCnAuc2V0SW5pdGlhdG9yKCJwcmVmZXRjaCIpKSk7aWYoIXomJm0pcmV0dXJuIG0uZ2V0U3RyZWFtKGJkKGEpKS50aGVuKGZ1bmN0aW9uKGEpe3JldHVybiBhLmdldFJlYWRlcigpfS5iaW5kKGEpKTttPW51bGw7aWYoYS5iJiYhYS5iLmlzRGlzYWJsZWQoKSYmIWspdHJ5eyhrPW09YS5iLmdldFByb21pc2UoYmQoYSkpKT9wPW51bGw6YS5iLmRpc2FibGUoKX1jYXRjaChIKXtlJiZlLmdldEV2ZW50TG9nZ2VyKCJyZXF1ZXN0X2luZm9fbm90X2ZvdW5kIikuc2V0UmVzb3VyY2UodykubG9nKCl9IWsmJmEuaCYmYS5oLmNyZWF0ZVByb21pc2UmJihtPW5ldyBMKHcpLG09Yy5mLnRlc3QobS5oYSksaz1hLmguY3JlYXRlUHJvbWlzZSh7dXJsOncscmVzcG9uc2VUeXBlOmMucmVzcG9uc2VUeXBlLE9kOmMuYyxLZDoyLE5hOmMuTmEsd2l0aENyZWRlbnRpYWxzOmMud2l0aENyZWRlbnRpYWxzfHxtLFFhOmMuUWF9LGZ1bmN0aW9uKGEpe3RoaXMuTmM9YTt2YXIgYj1wZXJmb3JtYW5jZU5vdygpOwphLm9ubG9hZD1mdW5jdGlvbihmKXtpZihkKXt2YXIgaD1WaWRlb1BsYXllclJlc291cmNlVGltZXIuZ2V0UmVzb3VyY2VUaW1pbmdFbnRyeSh3LGIscGVyZm9ybWFuY2VOb3coKSk7ZC5zYW1wbGUocGVyZm9ybWFuY2VOb3coKS1iLGYubG9hZGVkfHxhLnJlc3BvbnNlJiZhLnJlc3BvbnNlLmJ5dGVMZW5ndGh8fDAsYy5taW1lVHlwZT8idiI9PT1jLm1pbWVUeXBlLmNoYXJBdCgwKTohMSxoLGcsZSxWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImV2YWx1YXRlX2Ficl9vbl9mZXRjaF9lbmQiLCExKSl9fX0pKTtrfHwoYS5nPW5ldyBTYyh3LGMpLGEubT0wLGQmJihhLmcuZj1kKSxrPWEuZy5tKCkpO3AmJnAuc2V0UmVzb3VyY2Uodyk7ZiYmZi5zZXRSZXNvdXJjZSh3KTt2YXIgZGE9ITEsZWE9ay50aGVuKEooYSxmdW5jdGlvbihhKXt2YXIgYz10aGlzLmg/dGhpcy5oLm9uUmVxdWVzdFNlbmQ6bnVsbDshY3x8InZpZGVvIiE9aCYmImF1ZGlvIiE9aCYmIm1hbmlmZXN0IiE9Cmh8fGMoITAsaCxhLnJlc3BvbnNlLmJ5dGVMZW5ndGgpOyF0aGlzLmJ8fHRoaXMuYi5pc0Rpc2FibGVkKCl8fHRoaXMuYT90aGlzLmF8fCh0aGlzLmE9VmlkZW9QbGF5ZXJSZXNvdXJjZVRpbWVyLmdldFJlc291cmNlVGltaW5nRW50cnkodyx0aGlzLmo/MDp0LHBlcmZvcm1hbmNlTm93KCkpKTp0aGlzLmE9dGhpcy5iLmdldFJlc291cmNlVGltaW5nRW50cnkodyk7VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJzYW1wbGVfcHJlZmV0Y2hfYmFuZHdpZHRoIiwhMSkmJnomJnRoaXMuYSYmMDx0aGlzLmEudGltZVRvTGFzdEJ5dGUmJmQmJmQuc2FtcGxlKHRoaXMuYS50aW1lVG9MYXN0Qnl0ZSxhLnJlc3BvbnNlLmJ5dGVMZW5ndGgsInYiPT09aC5jaGFyQXQoMCksdGhpcy5hLGcsZSwhMCk7aWYodGhpcy5BKXRyeXt0aGlzLm09cGFyc2VJbnQoYS5nZXRSZXNwb25zZUhlYWRlcigieC1mYi12aWRlby1icm9hZGNhc3QtZW5kZWQiKSwxMCl9Y2F0Y2goZil7fXRoaXMuYj0KdGhpcy5pPXRoaXMuZz10aGlzLmY9bnVsbDthLmE/KHRoaXMuaT1uZXcgTChhLmEpLHRoaXMudT0hMCk6dGhpcy5pPXRoaXMuY1tiXTthLnJlc3BvbnNlLllhPWEuWWE7cCYmKHA9cC5zZXRMZW5ndGgoYS5yZXNwb25zZS5ieXRlTGVuZ3RofHxhLnJlc3BvbnNlLmxlbmd0aCkuc2V0V2FzUHJlZmV0Y2hDYWNoZUhpdCh0aGlzLmopLG51bGwhPXRoaXMuYSYmKHA9cC5zZXRUaW1lVG9MYXN0Qnl0ZShNYXRoLnJvdW5kKHRoaXMuYS50aW1lVG9MYXN0Qnl0ZSkpLnNldFRpbWVUb0ZpcnN0Qnl0ZShNYXRoLnJvdW5kKHRoaXMuYS50aW1lVG9GaXJzdEJ5dGUpKS5zZXRUaW1lVG9SZXF1ZXN0U3RhcnQoTWF0aC5yb3VuZCh0aGlzLmEudGltZVRvUmVxdWVzdFN0YXJ0KSksMkUzPD10aGlzLmEudGltZVRvRmlyc3RCeXRlJiYtMTx3LmluZGV4T2YoImFrYW1haWhkIikmJmxvZ0xvbmdBa2FtYWlSZXF1ZXN0KGEuZ2V0UmVzcG9uc2VIZWFkZXIoIkRlYnVnLUluZm8iKSsiLCBUVEZCLT4gIit0aGlzLmEudGltZVRvRmlyc3RCeXRlKwoiLCBUVFJTLT4gIit0aGlzLmEudGltZVRvUmVxdWVzdFN0YXJ0KSkscC5sb2coKSk7cmV0dXJuIFByb21pc2UucmVzb2x2ZSh7dmFsdWU6YS5yZXNwb25zZSxkb25lOiExfSl9KSksZWE9ZWEuY2F0Y2goSihhLGZ1bmN0aW9uKGEpe3ZhciBlPXRoaXMuaD90aGlzLmgub25SZXF1ZXN0U2VuZDpudWxsO2UmJmUoITEsaCwwKTtpZih0aGlzLmYmJmIrMTx0aGlzLmMubGVuZ3RoKXJldHVybiB0aGlzLmY9JGModGhpcyxiKzEsYyxkKTt0aGlzLmI9dGhpcy5hPXRoaXMuZj10aGlzLmc9bnVsbDtwJiZwLnNldEVycm9yKGEpLmxvZygpO3JldHVybiBQcm9taXNlLnJlamVjdChhKX0pKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtjYW5jZWw6ZnVuY3Rpb24oKXt9LHJlYWQ6ZnVuY3Rpb24oKXtyZXR1cm4gZGE/UHJvbWlzZS5yZXNvbHZlKHt2YWx1ZTpudWxsLGRvbmU6ITB9KTplYS50aGVuKGZ1bmN0aW9uKGEpe2RhPSEwO3JldHVybiBhfSl9LmJpbmQoYSl9KX0KZnVuY3Rpb24gYmQoYSl7cmV0dXJue2Jhc2VVcmw6YS50b1N0cmluZygpLGlzUHJlZGljdGl2ZTphLmlzUHJlZGljdGl2ZSxzdGFydEJ5dGU6YS5zdGFydEJ5dGUsZW5kQnl0ZTphLmVuZEJ5dGV9fW4uY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEsodGhpcy5vLHRoaXMuYy5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuY2xvbmUoKX0pLHRoaXMuc3RhcnRCeXRlLHRoaXMuZW5kQnl0ZSx0aGlzLmlzUHJlZGljdGl2ZSx0aGlzLmgpfTtuLmdldFJlc291cmNlVGltaW5nRW50cnk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hfTsKZnVuY3Rpb24gY2QoYSxiLGMpe3ZhciBkPWIudG9TdHJpbmcoKTtpZihhLnN0YXJ0Qnl0ZXx8YS5lbmRCeXRlKWI9Yi5oYSwhYi5lbmRzV2l0aCgiZmJjZG4ubmV0Iil8fGIuc3RhcnRzV2l0aCgiaW50ZXJuY2FjaGUiKXx8Yi5lbmRzV2l0aCgiYWsuZmJjZG4ubmV0Iik/YyYmKGMuUWEuUmFuZ2U9ImJ5dGVzPSIrKGEuc3RhcnRCeXRlKyItIisobnVsbCE9YS5lbmRCeXRlP2EuZW5kQnl0ZToiIikpKTooZCs9IiZieXRlc3RhcnQ9IithLnN0YXJ0Qnl0ZSxkKz1udWxsIT09YS5lbmRCeXRlPyImYnl0ZWVuZD0iK2EuZW5kQnl0ZToiIik7YS5vJiZjJiYoZD1hLm8oZCxjLlFhKXx8ZCk7cmV0dXJuIGR9ZnVuY3Rpb24gdWIoYSl7cmV0dXJuIGNkKGEsYS5jWzBdKX1uLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY1swXS50b1N0cmluZygpfTtmdW5jdGlvbiBkZChhLGIsYyxkKXt0aGlzLmE9bmV3IHRiO2I9bnVsbCE9Yj9iOmlhO3RoaXMuYS5yZXNwb25zZVR5cGU9InRleHQiO3RoaXMuYS5OYT0zO3RoaXMuYS5iPTFFMypiO2MmJih0aGlzLmEuYT1jKTtkJiYodGhpcy5hLmRhPWQpO3RoaXMuYS5nPSEwO3RoaXMuYS53aXRoQ3JlZGVudGlhbHM9dGhpcy5hLmYudGVzdChhKTt0aGlzLmI9YX0KZnVuY3Rpb24gZWQoYSxiKXt2YXIgYz1hLmIsZD1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImRldGVjdF9saXZlX3N0cmVhbV9lbmRlZF9mcm9tX3Jlc3BvbnNlX2hlYWRlcnMiLCExKTtjLncoZCk7cmV0dXJuIGMuZmV0Y2goYS5hLG51bGwsYixudWxsLG51bGwsIm1hbmlmZXN0IikudGhlbihmdW5jdGlvbihhKXthIGluc3RhbmNlb2YgQXJyYXlCdWZmZXImJihhPVN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCxuZXcgVWludDhBcnJheShhKSkpO3ZhciBmPWQmJiEhYy5tLGc7YiYmKGc9Yi5nZXRPcGVyYXRpb25Mb2dnZXIoInBhcnNlX21hbmlmZXN0Iikuc3RhcnQoKSk7YT1lYyhhLGMuYyxbYy5pXSk7ZyYmZy5sb2coKTthJiYiZHluYW1pYyI9PT1hLnR5cGUmJmYmJihhLnR5cGU9InN0YXRpYyIsYiYmQmFuemFpT0RTLmJ1bXBFbnRpdHlLZXkoMjk2NiwidmlkZW9zLnd3dy5zaGFrYSIsImNoYW5nZWRfbWFuaWZlc3RfdG9fZHluYW1pY19vZmZfaGVhZGVycyIpKTsKaWYoYSlyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGEpO2Y9RXJyb3IoIk1QRCBwYXJzZSBmYWlsdXJlLiIpO2YudHlwZT0iZGFzaCI7cmV0dXJuIFByb21pc2UucmVqZWN0KGYpfSl9ZnVuY3Rpb24gZmQoYSl7dGhpcy5hPW51bGw7dGhpcy5oPWE7dGhpcy5jPXRoaXMuZz10aGlzLmY9bnVsbDt0aGlzLmk9ITE7dGhpcy5qPXRoaXMuYj1udWxsfTtmdW5jdGlvbiBnZChhLGIpe3RoaXMuYT1hO3RoaXMuYj1ifHxudWxsfWdkLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5hJiYodGhpcy5hLkthKCksdGhpcy5hPW51bGwpO3RoaXMuYj1udWxsfTtnZC5wcm90b3R5cGUuY3JlYXRlPWZ1bmN0aW9uKGEsYil7dmFyIGM9bnVsbDtiJiYoYz1uZXcgdGIsYy5kYT1iKTtyZXR1cm4hdGhpcy5iJiZ0aGlzLmE/dGhpcy5hLmZldGNoKGMsbnVsbCxhLG51bGwsbnVsbCwiaW5pdCIpOlByb21pc2UucmVzb2x2ZSh0aGlzLmIpfTtnZC5wcm90b3R5cGUuYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmF9O2dkLnByb3RvdHlwZS5nZXRGYWlsb3ZlclVyaT1nZC5wcm90b3R5cGUuYztmdW5jdGlvbiBoZChhLGIpe3RoaXMuc2VnbWVudE9yaWdpbmFsRW5kVGltZT1hO3RoaXMuZ2FwRGlzdGFuY2U9Yn1mdW5jdGlvbiBpZChhLGIsYyxkLGUsZixnKXt0aGlzLnN0YXJ0VGltZT1hO3RoaXMuZW5kVGltZT1iO3RoaXMudXJsPWM7dGhpcy51bnNjYWxlZFN0YXJ0VGltZT1kO3RoaXMudW5zY2FsZWREdXJhdGlvbj1lO3RoaXMudGltZXNjYWxlZEdhcEluZm89Znx8bnVsbDt0aGlzLmlzUHJlZGljdGl2ZT1nfHwhMTt0aGlzLmRlYnVnSW5mbz10aGlzLnRpbWVzY2FsZWRHYXBJbmZvP3tlbmRUaW1lOnRoaXMudGltZXNjYWxlZEdhcEluZm8uc2VnbWVudE9yaWdpbmFsRW5kVGltZSxkZWx0YTp0aGlzLnRpbWVzY2FsZWRHYXBJbmZvLmdhcERpc3RhbmNlfTpudWxsfWZ1bmN0aW9uIGpkKGEsYixjKXtyZXR1cm4gbmV3IGlkKGIsYyxhLnVybCxhLnVuc2NhbGVkU3RhcnRUaW1lLGEudW5zY2FsZWREdXJhdGlvbixhLnRpbWVzY2FsZWRHYXBJbmZvLGEuaXNQcmVkaWN0aXZlKX0KZnVuY3Rpb24geWIoYSxiKXtpZihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInVzZV9iaW5hcnlfc2VhcmNoX3doZW5fZmluZGluZ19zZWdtZW50X3JlZmVyZW5jZXMiLCExKSlyZXR1cm4gQmluYXJ5U2VhcmNoLmZpbmRJbmRleEluQXJyYXkoYSxiLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGI+PWEuc3RhcnRUaW1lJiYobnVsbD09YS5lbmRUaW1lfHxiPGEuZW5kVGltZSk/MDphLnN0YXJ0VGltZS1ifSk7Zm9yKHZhciBjPWEubGVuZ3RoLTE7MDw9YzstLWMpe3ZhciBkPWFbY107aWYoYj49ZC5zdGFydFRpbWUmJihudWxsPT1kLmVuZFRpbWV8fGI8ZC5lbmRUaW1lKSlyZXR1cm4gY31yZXR1cm4tMX1mdW5jdGlvbiBrZChhLGIpe3JldHVybiBhLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gamQoYSxhLnN0YXJ0VGltZStiLG51bGwhPWEuZW5kVGltZT9hLmVuZFRpbWUrYjpudWxsKX0pfTtmdW5jdGlvbiBsZChhLGIsYyxkKXtmb3IodmFyIGU9Yi5hLGY9W10sZz0wO2c8ZDsrK2cpe3ZhciBoPWcrYyxrPShoLTEpKmUuSCxsPWsvZS5zLG09KGsrZS5IKS9lLnMsaD1tZChhLGIsZS5iK2gtMSxrKTtpZighaClyZXR1cm4gbnVsbDtmLnB1c2gobmV3IGlkKGwsbSxoLGssZS5IfHwwKSl9cmV0dXJuIGZ9ZnVuY3Rpb24gbWQoYSxiLGMsZCxlLGYpe2lmKCFiLmEpcmV0dXJuIG51bGw7ZT1lfHwhMTt2YXIgZz1iLmEuZixoPWIuYS5DLmE7aWYoIWcpcmV0dXJuIGIuYmFzZVVybD9uZXcgSyhhLGIuYmFzZVVybCwwLG51bGwsdm9pZCAwLGYpOm51bGw7Yz1uZChlJiZoP2g6ZyxiLmlkLGMsYi5iYW5kd2lkdGgsZCk7aWYoIWMpcmV0dXJuIG51bGw7Yj1aYyhiLmJhc2VVcmwsYyk7cmV0dXJuIG5ldyBLKGEsYiwwLG51bGwsZSxmKX0KZnVuY3Rpb24gbmQoYSxiLGMsZCxlKXt2YXIgZj17UmVwcmVzZW50YXRpb25JRDpiLE51bWJlcjpjLEJhbmR3aWR0aDpkLFRpbWU6ZX07YT1hLnJlcGxhY2UoL1wkKFJlcHJlc2VudGF0aW9uSUR8TnVtYmVyfEJhbmR3aWR0aHxUaW1lKT8oPzolMChbMC05XSspZCk/XCQvZyxmdW5jdGlvbihhLGIsYyl7aWYoIiQkIj09YSlyZXR1cm4iJCI7dmFyIGQ9ZltiXTtpZihudWxsPT1kKXJldHVybiBhOyJSZXByZXNlbnRhdGlvbklEIj09YiYmYyYmKGM9dm9pZCAwKTthPWQudG9TdHJpbmcoKTtjPXdpbmRvdy5wYXJzZUludChjLDEwKXx8MTtjPU1hdGgubWF4KDAsYy1hLmxlbmd0aCk7cmV0dXJuIEFycmF5KGMrMSkuam9pbigiMCIpK2F9KTt0cnl7cmV0dXJuIG5ldyBMKGEpfWNhdGNoKGcpe2lmKGcgaW5zdGFuY2VvZiBVUklFcnJvcilyZXR1cm4gbnVsbDt0aHJvdyBnO319CmZ1bmN0aW9uIG9kKGEsYixjLGQsZSxmKXt2YXIgZz0wLGg9YypiO2M9YS5OO3ZhciBrPWR8fDA7ZD1bXTt2YXIgbD1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigibGl2ZV9yZXdpbmRfdGVtcGxhdGVkX2xhc3RfeF9zZWdtZW50c19vbmx5IiwwKSxtPVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgidGVtcGxhdGVkX2xhc3RfeF90aW1lbGluZSIsITEpJiZlJiZudWxsIT1mLHA9ZSYmbT9WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigidGVtcGxhdGVkX2luZ2VzdF90aHJvdHRsZSIsMCk6MDtpZihsfHxtKXtmb3IoZT0wO2U8Yy5sZW5ndGg7KytlKXtpZighY1tlXS5kdXJhdGlvbilyZXR1cm4gZDt2YXIgdD1jW2VdLnN0YXJ0VGltZSx0PW51bGwhPXQ/dDpnLHc9Y1tlXS5yZXBlYXR8fDA7aWYoMD53KWlmKHc9Y1tlXS5kdXJhdGlvbixlKzE9PT1jLmxlbmd0aCl2YXIgej1jWzBdLnN0YXJ0VGltZStoLXQsdz1NYXRoLmNlaWwoei8KdyktMTtlbHNlIHo9Y1tlKzFdLnN0YXJ0VGltZSx3PU1hdGguY2VpbCgoei10KS93KS0xO2NbZV0uc3RhcnRUaW1lPXQ7Y1tlXS5yZXBlYXQ9dztnPWNbZV0uc3RhcnRUaW1lK2NbZV0uZHVyYXRpb24qKGNbZV0ucmVwZWF0KzEpfWZvcihlPWMubGVuZ3RoLTE7LTE8ZTstLWUpZm9yKHZhciBIPTA7SDw9Y1tlXS5yZXBlYXQ7KytIKWlmKHQ9Y1tlXS5zdGFydFRpbWUrY1tlXS5kdXJhdGlvbiooY1tlXS5yZXBlYXQtSCksZz10K2NbZV0uZHVyYXRpb24sYT1udWxsLGQubGVuZ3RoJiZnIT1kW2QubGVuZ3RoLTFdLnN0YXJ0JiYoej1kW2QubGVuZ3RoLTFdLnN0YXJ0LWcsYT1uZXcgaGQoZy9iLHovYiksZz1kW2QubGVuZ3RoLTFdLnN0YXJ0KSxkLnB1c2goe3N0YXJ0OnQsZW5kOmd9KSxhJiYoZFtkLmxlbmd0aC0xXS50aW1lc2NhbGVkR2FwSW5mbz1hKSxsKXtpZihkLmxlbmd0aD09PWwpcmV0dXJuIGQ9ZC5yZXZlcnNlKCl9ZWxzZSBpZihtJiZkW2QubGVuZ3RoLTFdLnN0YXJ0PD1mKXJldHVybiBkLnBvcCgpLApkPWQucmV2ZXJzZSgpLDA8cCYmKGQ9ZC5zbGljZSgwLHApKSxkO3JldHVybiBkLnJldmVyc2UoKX1mb3IoZT0wO2U8Yy5sZW5ndGg7KytlKXtpZighY1tlXS5kdXJhdGlvbilyZXR1cm4gZDt0PWNbZV0uc3RhcnRUaW1lO3Q9bnVsbCE9dD90Omc7dz1jW2VdLnJlcGVhdHx8MDswPncmJih3PWNbZV0uZHVyYXRpb24sZSsxPT09Yy5sZW5ndGg/KHo9Y1swXS5zdGFydFRpbWUraC10LHc9TWF0aC5jZWlsKHovdyktMSk6KHo9Y1tlKzFdLnN0YXJ0VGltZSx3PU1hdGguY2VpbCgoei10KS93KS0xKSk7MDxkLmxlbmd0aCYmdCE9ZyYmKHo9dC1nLGY9ZFtkLmxlbmd0aC0xXSxmLnRpbWVzY2FsZWRHYXBJbmZvPW5ldyBoZChnL2Isei9iKSxmLmVuZD10KTtmb3IoSD0wO0g8PXc7KytIKWc9dCtjW2VdLmR1cmF0aW9uLGQucHVzaCh7c3RhcnQ6dCxlbmQ6Z30pLHQ9Z31pZihhLmEmJjA8Yy5sZW5ndGgpZm9yKGI9Y1swXS5kdXJhdGlvbixmPTA7ZjxrO2YrKylkLnB1c2goe3N0YXJ0OnQrZipiLGVuZDp0KwooZisxKSpiLHVkOmEuYitmfSk7cmV0dXJuIGR9O2Z1bmN0aW9uIHBkKGEsYixjLGQsZSl7dGhpcy53PWE7dGhpcy5tPWI7dGhpcy5jPWM7dGhpcy5XPTA7dGhpcy5CPSEwO3RoaXMucz1jLnN8fDA7dGhpcy5BPSExO3RoaXMuZz1udWxsO3RoaXMudT1kO3RoaXMuaj1jLkx8fDA7dGhpcy5iPTA7dGhpcy5pPXRoaXMuaD1udWxsO2E6e2I9Yy5DO3ZhciBmPTA7YT0oYS5kdXJhdGlvbnx8MCkqdGhpcy5zO2M9Yi5OO2ZvcihkPTA7ZDxjLmxlbmd0aDsrK2Qpe2lmKCFjW2RdLmR1cmF0aW9uKXtiLk49Yy5zbGljZSgwLGQpO2JyZWFrIGF9dmFyIGc9Y1tkXS5zdGFydFRpbWUsZj1udWxsIT1nP2c6ZixnPWNbZF0ucmVwZWF0fHwwOzA+ZyYmKGc9Y1tkXS5kdXJhdGlvbixnPWQrMT09PWMubGVuZ3RoP01hdGguY2VpbCgoY1swXS5zdGFydFRpbWUrYS1mKS9nKS0xOk1hdGguY2VpbCgoY1tkKzFdLnN0YXJ0VGltZS1mKS9nKS0xKTtjW2RdLnN0YXJ0VGltZT1mO2NbZF0ucmVwZWF0PWc7Zj1jW2RdLnN0YXJ0VGltZStjW2RdLmR1cmF0aW9uKihjW2RdLnJlcGVhdCsKMSl9fXRoaXMuZj1bXTt0aGlzLm89VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoInRpbWVsaW5lX3NlZ21lbnRfaW5kZXhfbWF4X2luZGV4X2NhY2hlX2xlbmd0aCIsMCk7dGhpcy5iPVNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscy5sZW5ndGgodGhpcy5jLkMuTik7dGhpcy5EPWV8fG51bGx9cGQucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmI9dGhpcy5jPXRoaXMubT10aGlzLnc9bnVsbDt0aGlzLmc9ZnVuY3Rpb24oKXt9O3RoaXMuZj10aGlzLnU9bnVsbH07cGQucHJvdG90eXBlLmxlbmd0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmJ9O2Z1bmN0aW9uIHFkKGEsYil7Zm9yKHZhciBjPWEuZi5sZW5ndGgtMTstMTxjO2MtLSlpZihhLmZbY10uaW5kZXg9PT1iKXt2YXIgZD1hLmZbY107YS5mLnNwbGljZShjLDEpO2EuZi5wdXNoKGQpO3JldHVybiBkLnhkfXJldHVybiBudWxsfQpmdW5jdGlvbiByZChhLGIsYyl7dmFyIGQ9W107aWYoYS5vJiYxPT09Yy1iKXt2YXIgZT1xZChhLGIpO2lmKGUpcmV0dXJuW2VdfXZhciBmPS1hLmovYS5zK2EuVztTaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMuZ2V0U2VnbWVudHMoYixjLGEuYy5DLk4sZnVuY3Rpb24oYSxlLGssbCxtKXtpZihsKXt2YXIgcD1kW2QubGVuZ3RoLTFdO3AmJihwLnRpbWVzY2FsZWRHYXBJbmZvPW5ldyBoZChtL3RoaXMucyxsL3RoaXMucykscC5kZWJ1Z0luZm89e2VuZFRpbWU6cC50aW1lc2NhbGVkR2FwSW5mby5zZWdtZW50T3JpZ2luYWxFbmRUaW1lLGRlbHRhOnAudGltZXNjYWxlZEdhcEluZm8uZ2FwRGlzdGFuY2V9LGRbZC5sZW5ndGgtMV09amQocCxwLnN0YXJ0VGltZSxhL3RoaXMucytmKSl9az1tZCh0aGlzLnUsdGhpcy5tLGsrdGhpcy5jLmIsYSx2b2lkIDAsdGhpcy5EKTtpZighayl0aHJvdyBhPUVycm9yKCJGYWlsZWQgdG8gZ2VuZXJhdGUgbWVkaWEgVVJMLiIpLGEudHlwZT0iZGFzaCIsCmE7YT1uZXcgaWQoYS90aGlzLnMrZixlL3RoaXMucytmLGssYSxlLWEsbnVsbCk7ZT1iK2QubGVuZ3RoO2QucHVzaChhKTshdGhpcy5vfHwwIT09ZSYmZSE9PXRoaXMuYi0xJiYxIT09Yy1ifHxxZCh0aGlzLGUpfHwodGhpcy5mLmxlbmd0aCsxPnRoaXMubyYmdGhpcy5mLnNoaWZ0KCksdGhpcy5mLnB1c2goe2luZGV4OmUseGQ6YX0pKX0uYmluZChhKSk7cmV0dXJuIGR9CmZ1bmN0aW9uIHNkKGEsYil7dmFyIGM9Yi51bnNjYWxlZFN0YXJ0VGltZSxkPWIudW5zY2FsZWRFbmRUaW1lLGU9Yi5kZWx0YSxmPWIucHJldmlvdXNFbmRUaW1lO2lmKGUpdmFyIGc9bmV3IGhkKGYvYS5zLGUvYS5zKTtlPW1kKGEudSxhLm0sYi5zZWdtZW50UmVwbGFjZW1lbnQrYS5jLmIsYyx2b2lkIDAsYS5EKTtpZighZSl0aHJvdyBjPUVycm9yKCJGYWlsZWQgdG8gZ2VuZXJhdGUgbWVkaWEgVVJMLiIpLGMudHlwZT0iZGFzaCIsYztmPS1hLmovYS5zK2EuVztyZXR1cm4gbmV3IGlkKGMvYS5zK2YsZC9hLnMrZixlLGMsZC1jLGd8fG51bGwpfXBkLnByb3RvdHlwZS5nZXRTZWdtZW50cz1mdW5jdGlvbigpe3JldHVybiByZCh0aGlzLDAsdGhpcy5iKXx8W119OwpwZC5wcm90b3R5cGUuZmlyc3Q9ZnVuY3Rpb24oKXtpZighdGhpcy5iKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbmRleCBvdXQgb2YgcmFuZ2UuIik7aWYoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJvcHRpbWl6ZV9jb21tb25fc2VnbWVudF9nZW5lcmF0aW9ucyIsITEpKXtpZih0aGlzLmgpcmV0dXJuIHRoaXMuaDt2YXIgYT1TaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMuZmlyc3QodGhpcy5jLkMuTix0aGlzLmIpO3JldHVybiB0aGlzLmg9c2QodGhpcyxhKX1yZXR1cm4gcmQodGhpcywwLDEpWzBdfTsKcGQucHJvdG90eXBlLmxhc3Q9ZnVuY3Rpb24oKXtpZighdGhpcy5iKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbmRleCBvdXQgb2YgcmFuZ2UuIik7aWYoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJvcHRpbWl6ZV9jb21tb25fc2VnbWVudF9nZW5lcmF0aW9ucyIsITEpKXtpZih0aGlzLmkpcmV0dXJuIHRoaXMuaTt2YXIgYT1TaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMubGFzdCh0aGlzLmMuQy5OLHRoaXMuYik7cmV0dXJuIHRoaXMuaT1zZCh0aGlzLGEpfXJldHVybiByZCh0aGlzLHRoaXMuYi0xLHRoaXMuYilbMF19OwpwZC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGEpe2lmKCF0aGlzLmJ8fDA+YXx8YT49dGhpcy5iKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbmRleCBvdXQgb2YgcmFuZ2UuIik7cmV0dXJuIFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgib3B0aW1pemVfY29tbW9uX3NlZ21lbnRfZ2VuZXJhdGlvbnMiLCExKT8oYT1TaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMuZ2V0KHRoaXMuYy5DLk4sYSx0aGlzLmIpLHNkKHRoaXMsYSkpOnJkKHRoaXMsYSxhKzEpWzBdfTsKcGQucHJvdG90eXBlLmZpbmQ9ZnVuY3Rpb24oYSl7aWYoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJmaXhfY29tcG9zaXRlZF90aW1lX2luZGV4X2NhbGxzIiwhMSkpcmV0dXJuKGE9U2hha2FUaW1lbGluZVNlZ21lbnRJbmRleFV0aWxzLmZpbmQoYSx0aGlzLmMuQy5OLHRoaXMucywtdGhpcy5qL3RoaXMucyt0aGlzLlcpKT9zZCh0aGlzLGEpOm51bGw7YT10aGlzLmZpbmRJbmRleChhKTtyZXR1cm4gVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJvcHRpbWl6ZV9jb21tb25fc2VnbWVudF9nZW5lcmF0aW9ucyIsITEpPzA8PWE/dGhpcy5nZXQoYSk6bnVsbDowPD1hP3JkKHRoaXMsYSxhKzEpWzBdOm51bGx9O3BkLnByb3RvdHlwZS5maW5kSW5kZXg9ZnVuY3Rpb24oYSl7cmV0dXJuIFNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscy5maW5kSW5kZXgoYSx0aGlzLmMuQy5OLHRoaXMucywtdGhpcy5qL3RoaXMucyt0aGlzLlcpfTtuPXBkLnByb3RvdHlwZTsKbi5TYT1mdW5jdGlvbihhKXt2YXIgYj1hLmxlbmd0aCgpLGM9Yi10aGlzLmI7aWYoMCE9PWImJihiIT09dGhpcy5ifHwwIT09dGhpcy5iJiZhLmxhc3QoKS5lbmRUaW1lIT09dGhpcy5sYXN0KCkuZW5kVGltZSkmJiEoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJmaXhfaW50ZWdyYXRpb25fb25fZWFybGllcl9lbmR0aW1lIiwhMSkmJmEubGFzdCgpLmVuZFRpbWU8PXRoaXMubGFzdCgpLmVuZFRpbWUpKWlmKHRoaXMuQT0hMSxiPWEubGFzdCgpLG51bGwhPWIuZW5kVGltZSYmYi5lbmRUaW1lPHRoaXMubGFzdCgpLmVuZFRpbWUmJmIuZW5kVGltZTx0aGlzLmZpcnN0KCkuc3RhcnRUaW1lJiYodGhpcy5BPSEwKSxWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImludGVncmF0ZV9zZWdtZW50X3RpbWVsaW5lX3RpbWVfcG9pbnRzIiwhMSk/dGhpcy5jLkMuTj1TaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMuaW50ZWdyYXRlVGltZVBvaW50cyh0aGlzLmMuQy5OLAphLmMuQy5OKToodGhpcy53PWEudyx0aGlzLm09YS5tLHRoaXMuYz1hLmMsdGhpcy5qPXRoaXMuYy5MfHwwLHRoaXMucz10aGlzLmMuc3x8MCksdGhpcy5mPVtdLHRoaXMuaT10aGlzLmg9bnVsbCx0aGlzLmI9U2hha2FUaW1lbGluZVNlZ21lbnRJbmRleFV0aWxzLmxlbmd0aCh0aGlzLmMuQy5OKSx0aGlzLmZpcnN0KCksdGhpcy5sYXN0KCksVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJ0ZW1wbGF0ZWRfY2FsbF9vbl9zZWdtZW50c191cGRhdGVkX3dpdGhfZGVsdGFfc2VnbWVudHMiLCExKSl7dmFyIGQ9W10sYz10aGlzLmItYztmb3IoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJ0ZW1wbGF0ZWRfZHluYW1pY19pbmNsdWRlX3ByZXZpb3VzX2xhc3Rfc2VnbWVudF9pbl91cGRhdGVzIiwhMSkmJjA8YyYmYy0tO2M8dGhpcy5iOysrYylkLnB1c2godGhpcy5nZXQoYykpO3RoaXMuZyYmdGhpcy5nKGQpfWVsc2UgYz0hVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJub19wcm92aWRlX3NlZ21lbnRzX3RvX29uX3NlZ21lbnRzX3VwZGF0ZWRfbGlzdGVuZXJzIiwKITEpLHRoaXMuZyYmKGMmJihkPXRoaXMuZ2V0U2VnbWVudHMoKSksdGhpcy5nKGQpKX07bi5oYj1mdW5jdGlvbihhKXt2YXIgYj1hLXRoaXMuVztpZigwPT1iKXJldHVybiAwO3RoaXMuVz1hO3RoaXMuaT10aGlzLmg9bnVsbDt0aGlzLmY9W107cmV0dXJuIGJ9O24uaWI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iP3tzdGFydDp0aGlzLmZpcnN0KCkuc3RhcnRUaW1lLGVuZDp0aGlzLmxhc3QoKS5lbmRUaW1lfTp7c3RhcnQ6MCxlbmQ6MH19O24uZ2V0U2Vla1JhbmdlR2Fwcz1mdW5jdGlvbigpe3JldHVybiBTaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMuZ2V0U2Vla1JhbmdlR2Fwcyh0aGlzLmMuQy5OLHRoaXMucywtdGhpcy5qL3RoaXMucyt0aGlzLlcpfTtuLnJiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuQX07bi5HYz1mdW5jdGlvbihhKXt0aGlzLmc9YX07bi5GYz1mdW5jdGlvbigpe3RoaXMuZz1udWxsfTtuLklhPWZ1bmN0aW9uKCl7fTtmdW5jdGlvbiB0ZCgpe30KdGQucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9bnVsbDt0cnl7YTp7dmFyIGc9W10saD1uZXcgQmEoYSksaz12KGgpO2lmKDE5MzYyODY4NDAhPXYoaCkpZj1udWxsO2Vsc2V7MT09ayYmKGs9RmEoaCkpO3ZhciBsPUVhKGgpO0hhKGgsMyk7SGEoaCw0KTt2YXIgbT12KGgpO2lmKDA9PW0pZj1udWxsO2Vsc2V7dmFyIHAsdDswPT1sPyhwPXYoaCksdD12KGgpKToocD1GYShoKSx0PUZhKGgpKTtIYShoLDIpO3ZhciB3PWguYi5nZXRVaW50MTYoaC5hLGguYyk7aC5hKz0yO2E9cDtiPWIrayt0O2Zvcih0PWs9MDt0PHc7dCsrKXt2YXIgej12KGgpO3A9KHomMjE0NzQ4MzY0OCk+Pj4zMTt2YXIgbD16JjIxNDc0ODM2NDcsSD12KGgpO3YoaCk7aWYoMT09cCl7Zj1udWxsO2JyZWFrIGF9dmFyIGRhO2RhPTA9PXQmJmU/ZTpuZXcgSyhkLGMsYixiK2wtMSk7cD1hL207dmFyIGVhPShhK0gpL207MD09PXQmJihrPXApO2cucHVzaChuZXcgaWQocC1rLGVhLWssZGEsCmEsSCkpO2ErPUg7Yis9bH1nLnM9bTtmPWd9fX19Y2F0Y2goQWEpe2lmKCEoQWEgaW5zdGFuY2VvZiBSYW5nZUVycm9yKSl0aHJvdyBBYTt9cmV0dXJuIGZ9O2Z1bmN0aW9uIFIoYSl7dGhpcy5hPWE7dGhpcy5zPXRoaXMuYS5zO3RoaXMuSz10aGlzLmEuQjt0aGlzLmc9W119Ui5wcm90b3R5cGUuSj1mdW5jdGlvbigpe3JldHVybiEhdGhpcy5nW3RoaXMuZy5sZW5ndGgtMV19O1IucHJvdG90eXBlLmxhc3RQb2xsSGFkQ2hhbmdlcz1SLnByb3RvdHlwZS5KO1IucHJvdG90eXBlLkk9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmcsYj1hLmxhc3RJbmRleE9mKCEwKTtpZigxPmIpcmV0dXJuIDA7YT1hLmxhc3RJbmRleE9mKCEwLGItMSk7cmV0dXJuIDA+YT8wOmItYS0xfTtSLnByb3RvdHlwZS5nZXRGZXRjaGVzQmV0d2VlblJlY2VudENoYW5nZXM9Ui5wcm90b3R5cGUuSTtSLnByb3RvdHlwZS51PWZ1bmN0aW9uKCl7cmV0dXJuIE1hdGguZmxvb3IoKHRoaXMuZy5sZW5ndGgtMS10aGlzLmcubGFzdEluZGV4T2YoITApKS8yKX07Ui5wcm90b3R5cGUuZ2V0Q29uc2VjdXRpdmVVcGRhdGVzV2l0aG91dENoYW5nZXM9Ui5wcm90b3R5cGUudTsKUi5wcm90b3R5cGUuRz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmcubGVuZ3RoLTEtdGhpcy5nLmxhc3RJbmRleE9mKCExKX07Ui5wcm90b3R5cGUuZ2V0Q29uc2VjdXRpdmVVcGRhdGVzV2l0aENoYW5nZXM9Ui5wcm90b3R5cGUuRztSLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5hLmRlc3Ryb3koKTt0aGlzLmE9bnVsbH07Ui5wcm90b3R5cGUubGVuZ3RoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS5sZW5ndGgoKX07Ui5wcm90b3R5cGUuZ2V0U2VnbWVudHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLmdldFNlZ21lbnRzKCl9O1IucHJvdG90eXBlLmdldFNlZ21lbnRzPVIucHJvdG90eXBlLmdldFNlZ21lbnRzO1IucHJvdG90eXBlLmZpcnN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS5maXJzdCgpfTtSLnByb3RvdHlwZS5sYXN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS5sYXN0KCl9O1IucHJvdG90eXBlLmxhc3Q9Ui5wcm90b3R5cGUubGFzdDsKUi5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmEuZ2V0KGEpfTtSLnByb3RvdHlwZS5maW5kPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmEuZmluZChhKX07Ui5wcm90b3R5cGUuZmluZEluZGV4PWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmEuZmluZEluZGV4KGEpfTtSLnByb3RvdHlwZS5CPWZ1bmN0aW9uKGEpe3RoaXMuYS5TYShhLmEpO3JldHVybiEwfTtSLnByb3RvdHlwZS5UYT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5hLmhiKGEpfTtSLnByb3RvdHlwZS5BPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS5pYigpfTtSLnByb3RvdHlwZS5nZXRTZWVrUmFuZ2VHYXBzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS5nZXRTZWVrUmFuZ2VHYXBzKCl9O1IucHJvdG90eXBlLmdldFNlZWtSYW5nZUdhcHM9Ui5wcm90b3R5cGUuZ2V0U2Vla1JhbmdlR2FwcztSLnByb3RvdHlwZS5yYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmEucmIoKX07CmZ1bmN0aW9uIHVkKGEsYil7YS5hLkdjKGIpfTtmdW5jdGlvbiBTKGEsYixjLGQpe1IuY2FsbCh0aGlzLGEpO3RoaXMuaT1iO3RoaXMuRj1jO3RoaXMuaD1kO3RoaXMuZHVyYXRpb249dGhpcy5pLmJ8fHRoaXMuaS5hLnJlZHVjZShmdW5jdGlvbihhLGIpe3JldHVybiBudWxsPT1iLmR1cmF0aW9uP05hTjphK2IuZHVyYXRpb259LDApfHwwO3RoaXMuYj10aGlzLm89dGhpcy5mPW51bGw7eWQodGhpcyl9cihTLFIpO1MucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLkY9dGhpcy5pPW51bGw7Ui5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpfTtTLnByb3RvdHlwZS5maW5kPWZ1bmN0aW9uKGEpe3pkKHRoaXMseWEoKS8xRTMpO3JldHVybiBSLnByb3RvdHlwZS5maW5kLmNhbGwodGhpcyxhKX07ClMucHJvdG90eXBlLkI9ZnVuY3Rpb24oYSl7aWYoIShhIGluc3RhbmNlb2YgUykpcmV0dXJuITE7dGhpcy5hLlNhKGEuYSk7dGhpcy5kdXJhdGlvbj1NYXRoLm1heCh0aGlzLmR1cmF0aW9uLGEuZHVyYXRpb24pO251bGw9PXRoaXMuZj8odGhpcy5oPWEuaCx5ZCh0aGlzKSk6QWQodGhpcyk7cmV0dXJuITB9O2Z1bmN0aW9uIHlkKGEpe0FkKGEpO2lmKDAhPWEubGVuZ3RoKCkpe2EubGVuZ3RoKCk7dmFyIGI9bnVsbCE9YS5sYXN0KCkuZW5kVGltZT9hLmxhc3QoKS5lbmRUaW1lOmEubGFzdCgpLnN0YXJ0VGltZTtpZihhLmkuYz5hLmgpYS5mPWI7ZWxzZXt2YXIgYz1hLmgtKGEuaS5jK2EuRi5zdGFydCk7MD5jP2EuZj1iOmM8TWF0aC5tYXgoYS5sYXN0KCkuc3RhcnRUaW1lLGEubGFzdCgpLmVuZFRpbWV8fDApPyhhLmxhc3QoKSxhLmY9Yik6YS5mPWN9YS5vPWEubGFzdCgpLnN0YXJ0VGltZTthLmI9YS5maXJzdCgpLnN0YXJ0VGltZX19ClMucHJvdG90eXBlLlRhPWZ1bmN0aW9uKGEpe2E9Ui5wcm90b3R5cGUuVGEuY2FsbCh0aGlzLGEpO1ZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgibm9fY29ycmVjdF9kZWx0YV93YXJuaW5nIiwhMSl8fE1hdGgubWluLmFwcGx5KG51bGwsdGhpcy5nZXRTZWdtZW50cygpLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YS5lbmRUaW1lfSkubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLmVuZFRpbWUtYS5zdGFydFRpbWV9KSk7bnVsbCE9dGhpcy5mJiYodGhpcy5vKz1hLHRoaXMuYis9YSx0aGlzLmYrPWEpO3JldHVybiBhfTtTLnByb3RvdHlwZS5BPWZ1bmN0aW9uKCl7cmV0dXJuIEJkKHRoaXMseWEoKS8xRTMpfTsKZnVuY3Rpb24gQmQoYSxiKXt6ZChhLGIpO2lmKG51bGw9PWEuZnx8bnVsbD09YS5vfHxudWxsPT1hLmIpcmV0dXJue3N0YXJ0OjAsZW5kOjB9O3ZhciBjPU51bWJlci5QT1NJVElWRV9JTkZJTklUWTthLmR1cmF0aW9uJiYoYz1hLmR1cmF0aW9uKTt2YXIgZD1iLWEuaCxlPWEuZitkO251bGwhPWEuaS5mJiYoZT1lLWEuYi1hLmkuZiwwPGUmJihhLmIrPWUpKTthLmI9TWF0aC5taW4oYS5iLGMpO2Q9YS5vK2Q7aWYoZDxhLmIpcmV0dXJue3N0YXJ0OmEuYixlbmQ6YS5ifTtkPTA8YS5sZW5ndGgoKT9udWxsIT1hLmxhc3QoKS5lbmRUaW1lP01hdGgubWluKGQsYS5sYXN0KCkuZW5kVGltZSk6ZDphLmI7ZD1NYXRoLm1heChkLGEuYik7ZD1NYXRoLm1pbihkLGMpO3JldHVybntzdGFydDphLmIsZW5kOmR9fQpmdW5jdGlvbiB6ZChhLGIpe2lmKGEuYS5hJiYoQWQoYSksbnVsbCE9YS5pLmYpKWlmKG51bGw9PWEuZilhLmxlbmd0aCgpO2Vsc2V7Zm9yKHZhciBjPWEuZisoYi1hLmgpLGQ9MCxlPTA7ZTxhLmEuYS5sZW5ndGg7KytlKXt2YXIgZj1udWxsO2U8YS5hLmEubGVuZ3RoLTE/Zj1hLmEuYVtlKzFdLmVuZFRpbWU6KGY9YS5hLmFbZV0sZj1udWxsIT1mLmVuZFRpbWU/Zi5lbmRUaW1lKyhmLmVuZFRpbWUtZi5zdGFydFRpbWUpOm51bGwpO2lmKG51bGwhPWYmJmY8Yy1hLmkuZikrK2Q7ZWxzZSBicmVha30wPGQmJmEuYS5hLnNwbGljZSgwLGQpfX1mdW5jdGlvbiBBZChhKXtpZihhLmR1cmF0aW9uJiZhLmEuYSl7Zm9yKHZhciBiPTAsYz1hLmEuYS5sZW5ndGgtMTswPD1jOy0tYylpZihhLmEuYVtjXS5zdGFydFRpbWU+YS5kdXJhdGlvbikrK2I7ZWxzZSBicmVhazswPGImJmEuYS5hLnNwbGljZSgtYil9fTtmdW5jdGlvbiBUKGEsYixjKXt2YXIgZD1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigidGVtcGxhdGVkX3F1YXJhbnRpbmVfaWRsZV9yZWZlcmVuY2VzX3RocmVzaG9sZCIsMCk7dGhpcy5pPVtdO2lmKDA8ZCl7dmFyIGU9YTthPWUuc3BsaWNlKC1kKTt0aGlzLmk9ZX10aGlzLmE9YTt0aGlzLlc9MDt0aGlzLnM9Yjt0aGlzLmY9ITE7dGhpcy5oPWZ1bmN0aW9uKCl7fTt0aGlzLkI9Y3x8ITF9VC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuYT1udWxsfTtULnByb3RvdHlwZS5sZW5ndGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLmxlbmd0aH07VC5wcm90b3R5cGUuZ2V0U2VnbWVudHM9ZnVuY3Rpb24oKXtyZXR1cm4odGhpcy5hfHxbXSkuc2xpY2UoKX07VC5wcm90b3R5cGUuZ2V0U2VnbWVudHM9VC5wcm90b3R5cGUuZ2V0U2VnbWVudHM7ClQucHJvdG90eXBlLmZpcnN0PWZ1bmN0aW9uKCl7aWYoMD09dGhpcy5hLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiU2VnbWVudEluZGV4QmFzZTogVGhlcmUgaXMgbm8gZmlyc3QgU2VnbWVudFJlZmVyZW5jZS4iKTtyZXR1cm4gdGhpcy5hWzBdfTtULnByb3RvdHlwZS5sYXN0PWZ1bmN0aW9uKCl7aWYoMD09dGhpcy5hLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiU2VnbWVudEluZGV4QmFzZTogVGhlcmUgaXMgbm8gbGFzdCBTZWdtZW50UmVmZXJlbmNlLiIpO3JldHVybiB0aGlzLmFbdGhpcy5hLmxlbmd0aC0xXX07VC5wcm90b3R5cGUubGFzdD1ULnByb3RvdHlwZS5sYXN0O1QucHJvdG90eXBlLmdldD1mdW5jdGlvbihhKXtpZigwPmF8fGE+PXRoaXMuYS5sZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIlNlZ21lbnRJbmRleEJhc2U6IFRoZSBzcGVjaWZpZWQgaW5kZXggaXMgb3V0IG9mIHJhbmdlLiIpO3JldHVybiB0aGlzLmFbYV19OwpULnByb3RvdHlwZS5maW5kPWZ1bmN0aW9uKGEpe2E9dGhpcy5maW5kSW5kZXgoYSk7cmV0dXJuIDA8PWE/dGhpcy5hW2FdOm51bGx9O1QucHJvdG90eXBlLmZpbmRJbmRleD1mdW5jdGlvbihhKXtyZXR1cm4geWIodGhpcy5hLGEpfTsKVC5wcm90b3R5cGUuU2E9ZnVuY3Rpb24oYSl7dGhpcy5XIT1hLlcmJihhPW5ldyBUKGtkKGEuYSx0aGlzLlctYS5XKSxhLnMpKTtpZigwPT10aGlzLmxlbmd0aCgpKXRoaXMuYT1hLmEuc2xpY2UoMCksdGhpcy5JYSgpO2Vsc2UgaWYoMCE9YS5sZW5ndGgoKSYmbnVsbCE9dGhpcy5sYXN0KCkuZW5kVGltZSlpZihudWxsIT1hLmxhc3QoKS5lbmRUaW1lJiZhLmxhc3QoKS5lbmRUaW1lPHRoaXMubGFzdCgpLmVuZFRpbWUpVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJmaXhfbWFuaWZlc3Rfd3JhcHBlZCIsITApP2EubGFzdCgpLmVuZFRpbWU8dGhpcy5maXJzdCgpLnN0YXJ0VGltZSYmKHRoaXMuZj0hMCk6dGhpcy5mPSEwO2Vsc2V7dGhpcy5mPSExO2lmKHRoaXMubGFzdCgpLmVuZFRpbWU8PWEuZmlyc3QoKS5zdGFydFRpbWUpe3ZhciBiPWpkKHRoaXMubGFzdCgpLHRoaXMubGFzdCgpLnN0YXJ0VGltZSxhLmZpcnN0KCkuc3RhcnRUaW1lKSxjPXRoaXMubGFzdCgpLnVuc2NhbGVkU3RhcnRUaW1lKwp0aGlzLmxhc3QoKS51bnNjYWxlZER1cmF0aW9uO1ZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgiY2FsY3VsYXRlX21pc3NlZF9zZWdtZW50X2dhcF9pbmZvX29uX21lcmdlIiwhMSkmJmM8YS5maXJzdCgpLnVuc2NhbGVkU3RhcnRUaW1lJiZudWxsPT09dGhpcy5sYXN0KCkudGltZXNjYWxlZEdhcEluZm8mJihiLnRpbWVzY2FsZWRHYXBJbmZvPW5ldyBoZChjL3RoaXMucywoYS5maXJzdCgpLnVuc2NhbGVkU3RhcnRUaW1lLWMpL3RoaXMucykpO2lmKFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgidGVtcGxhdGVkX29wdGltaXplX21lcmdlX3RhcmdldF9hbGdvcyIsITEpKWZvcih0aGlzLmEucG9wKCksdGhpcy5hLnB1c2goYiksYz0wO2M8YS5hLmxlbmd0aDsrK2MpdGhpcy5hLnB1c2goYS5hW2NdKTtlbHNlIGI9dGhpcy5hLnNsaWNlKDAsLTEpLmNvbmNhdChbYl0pLHRoaXMuYT1iLmNvbmNhdChhLmEpfWVsc2V7Zm9yKGM9MDtjPHRoaXMuYS5sZW5ndGgmJgohKHRoaXMuYVtjXS5lbmRUaW1lPj1hLmZpcnN0KCkuc3RhcnRUaW1lKTsrK2MpO3RoaXMuYVtjXS5zdGFydFRpbWU8YS5maXJzdCgpLnN0YXJ0VGltZT8oYj1qZCh0aGlzLmFbY10sdGhpcy5hW2NdLnN0YXJ0VGltZSxhLmZpcnN0KCkuc3RhcnRUaW1lKSxiPXRoaXMuYS5zbGljZSgwLGMpLmNvbmNhdChbYl0pKToodGhpcy5maXJzdCgpLnN0YXJ0VGltZT5hLmZpcnN0KCkuc3RhcnRUaW1lfHxhLmZpcnN0KCksYj10aGlzLmEuc2xpY2UoMCxjKSk7dGhpcy5hPWIuY29uY2F0KGEuYSl9dGhpcy5oKGEuYSk7dGhpcy5JYSgpfX07VC5wcm90b3R5cGUuaGI9ZnVuY3Rpb24oYSl7dmFyIGI9YS10aGlzLlc7aWYoMD09YilyZXR1cm4gMDt0aGlzLmE9a2QodGhpcy5hLGIpO3RoaXMuSWEoKTt0aGlzLlc9YTtyZXR1cm4gYn07ClQucHJvdG90eXBlLmliPWZ1bmN0aW9uKCl7cmV0dXJuIDA8dGhpcy5sZW5ndGgoKT97c3RhcnQ6dGhpcy5maXJzdCgpLnN0YXJ0VGltZSxlbmQ6dGhpcy5sYXN0KCkuZW5kVGltZX06e3N0YXJ0OjAsZW5kOjB9fTtULnByb3RvdHlwZS5nZXRTZWVrUmFuZ2VHYXBzPWZ1bmN0aW9uKCl7cmV0dXJuIGdldFNlZWtSYW5nZUdhcHNGcm9tU2hha2FSZWZlcmVuY2VzKHRoaXMuYSx0aGlzLnMpfTtULnByb3RvdHlwZS5nZXRTZWVrUmFuZ2VHYXBzPVQucHJvdG90eXBlLmdldFNlZWtSYW5nZUdhcHM7VC5wcm90b3R5cGUucmI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mfTtULnByb3RvdHlwZS5HYz1mdW5jdGlvbihhKXt0aGlzLmg9YX07VC5wcm90b3R5cGUuRmM9ZnVuY3Rpb24oKXt0aGlzLmg9ZnVuY3Rpb24oKXt9fTtULnByb3RvdHlwZS5JYT1mdW5jdGlvbigpe307VC5wcm90b3R5cGUuZ2V0SWRsZVJlZmVyZW5jZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pfTtmdW5jdGlvbiBDZChhLGIsYyxkLGUpe3ZhciBmPTEsZz0wLGg7aWYoYS5jPmQpaD1udWxsO2Vsc2V7dmFyIGs9YS5vfHwwLGw9YS5mfHwwO2g9Yy5hO2g9aC5IL2guczt2YXIgbT1kLShhLmMrYi5zdGFydCk7MD5tP2g9bnVsbDoobD1tLTIqaC1sLDA+bCYmKGw9MCksbD1NYXRoLmNlaWwobC9oKSpoLG0tPWgsMD5tP2g9bnVsbDooaz1NYXRoLmZsb29yKG0vaCkqaC1rLDA+ayYmKGs9MCksaz1NYXRoLmZsb29yKGsvaCkqaCxoPXt0YzpsL2grMSxjdXJyZW50OihrPj1sP2s6bCkvaCsxfSkpfWgmJihmPWgudGMsZz1oLmN1cnJlbnQtaC50YysxKTtmPWxkKGUsYyxmLGcpO2lmKG51bGw9PWYpdGhyb3cgYT1FcnJvcigiRmFpbGVkIHRvIGdlbmVyYXRlIFNlZ21lbnRSZWZlcmVuY2VzLiIpLGEudHlwZT0ic3RyZWFtIixhO2Y9bmV3IFQoZixjLmEuc3x8MSk7Uy5jYWxsKHRoaXMsZixhLGIsZCk7dGhpcy53PWM7dGhpcy5tPXRoaXMuYz0wPHRoaXMubGVuZ3RoKCk/YS5jK2Iuc3RhcnQrdGhpcy5sYXN0KCkuZW5kVGltZToKbnVsbDt0aGlzLmo9aD9oLmN1cnJlbnQrMTpudWxsO3RoaXMuRD1lfXIoQ2QsUyk7Q2QucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLkQ9dGhpcy53PW51bGw7Uy5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpfTtDZC5wcm90b3R5cGUuZmluZD1mdW5jdGlvbihhKXt2YXIgYj15YSgpLzFFMztEZCh0aGlzLGIpO3pkKHRoaXMsYik7cmV0dXJuIFIucHJvdG90eXBlLmZpbmQuY2FsbCh0aGlzLGEpfTtDZC5wcm90b3R5cGUuQj1mdW5jdGlvbihhKXtpZihudWxsIT10aGlzLmN8fCEoYSBpbnN0YW5jZW9mIENkKXx8bnVsbD09YS5jKXJldHVybiExO3RoaXMuYz1hLmM7dGhpcy5tPWEubTt0aGlzLmo9YS5qO3RoaXMuaD1hLmg7dGhpcy5kdXJhdGlvbj1hLmR1cmF0aW9uO3RoaXMuYS5TYShhLmEpO0RkKHRoaXMseWEoKS8xRTMpO3lkKHRoaXMpO3JldHVybiEwfTsKQ2QucHJvdG90eXBlLlRhPWZ1bmN0aW9uKGEpe2E9Uy5wcm90b3R5cGUuVGEuY2FsbCh0aGlzLGEpO251bGwhPXRoaXMuYyYmKHRoaXMuYys9YSx0aGlzLm0rPWEpO3JldHVybiBhfTtDZC5wcm90b3R5cGUuQT1mdW5jdGlvbigpe3ZhciBhPXlhKCkvMUUzO0RkKHRoaXMsYSk7cmV0dXJuIEJkKHRoaXMsYSl9O2Z1bmN0aW9uIERkKGEsYil7aWYobnVsbCE9YS5jJiZudWxsIT1hLm0mJm51bGwhPWEuail7dmFyIGM9YS53LmEsYz1jLkgvYy5zLGQ9TWF0aC5mbG9vcigoYS5tKyhiLWEuaCktYS5jKS9jKTtpZigwIT1kKXt2YXIgZT1sZChhLkQsYS53LGEuaixkKTtBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShhLmEuYSxrZChlLGEuYS5XKSk7YS5hLklhKCk7YS5jKz1kKmM7YS5qKz1kfX19O2Z1bmN0aW9uIEVkKGEsYixjLGQsZSl7dGhpcy5nPWE7dGhpcy5mPWI7dGhpcy5iPWM7dGhpcy5pPWQ7dGhpcy5hPW51bGw7dGhpcy5oPWV9RWQucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmg9dGhpcy5iPXRoaXMuZj10aGlzLmc9bnVsbDt0aGlzLmEmJih0aGlzLmEuZGVzdHJveSgpLHRoaXMuYT1udWxsKX07CkVkLnByb3RvdHlwZS5jcmVhdGU9ZnVuY3Rpb24oKXtpZih0aGlzLmEpcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLmEpO2lmKCJkeW5hbWljIj09dGhpcy5nLnR5cGUpdHJ5e3RoaXMuYT1uZXcgQ2QodGhpcy5nLHRoaXMuZix0aGlzLmIsdGhpcy5pLHRoaXMuaCl9Y2F0Y2goYSl7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfWVsc2V7dmFyIGI7Yj10aGlzLmIuYTtpZihiPWxkKHRoaXMuaCx0aGlzLmIsMSxNYXRoLmNlaWwodGhpcy5mLmR1cmF0aW9uLyhiLkgvYi5zKSkpKXtpZigwPGIubGVuZ3RoKXt2YXIgYz1iW2IubGVuZ3RoLTFdO2JbYi5sZW5ndGgtMV09amQoYyxjLnN0YXJ0VGltZSx0aGlzLmYuZHVyYXRpb24pfWI9bmV3IFQoYix0aGlzLmIuYS5zfHwxKTtiPW5ldyBSKGIpfWVsc2UgYj1udWxsO3RoaXMuYT1iO2lmKCF0aGlzLmEpcmV0dXJuIGI9RXJyb3IoIkZhaWxlZCB0byBnZW5lcmF0ZSBTZWdtZW50UmVmZXJlbmNlcyIpLGIudHlwZT0ic3RyZWFtIixQcm9taXNlLnJlamVjdChiKX1yZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuYSl9OwpFZC5wcm90b3R5cGUuYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmF9O2Z1bmN0aW9uIEZkKGEsYixjLGQsZSxmKXt0aGlzLmY9YTt0aGlzLmI9Yjt0aGlzLmg9Yzt0aGlzLmE9bnVsbDt0aGlzLmk9ZDt0aGlzLmc9ZTt0aGlzLmo9Znx8bnVsbH1GZC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuZz10aGlzLmg9dGhpcy5iPXRoaXMuZj1udWxsO3RoaXMuYSYmKHRoaXMuYS5kZXN0cm95KCksdGhpcy5hPW51bGwpfTsKRmQucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbigpe2lmKHRoaXMuYSlyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuYSk7dmFyIGE9dGhpcy5oLmIsYj1bXTthLkMmJihiPW9kKGEuQyxhLnN8fDEsdGhpcy5iLmR1cmF0aW9ufHwwKSk7dmFyIGM9MDthLkgmJmEuYz9jPShhLmMtMSkqYS5IOjA8Yi5sZW5ndGgmJihjPWJbMF0uc3RhcnQtKGEuTHx8MCkpO3ZhciBkPWMsZT1hLmEubGVuZ3RoOzA8Yi5sZW5ndGgmJmIubGVuZ3RoIT1hLmEubGVuZ3RoJiYoZT1NYXRoLm1pbihiLmxlbmd0aCxhLmEubGVuZ3RoKSk7Zm9yKHZhciBmPVtdLGc9MDtnPGU7KytnKXt2YXIgaD1hLmFbZ10saz1jLGw9ay9hLnMsbT1jPW51bGwscDthLkg/KGM9aythLkgsbT1jL2Eucyk6MDxiLmxlbmd0aD8ocD1iW2ddLnRpbWVzY2FsZWRHYXBJbmZvLGM9YltnXS5lbmQtKGEuTHx8MCksbT1jL2Eucyk6KG09bCt0aGlzLmIuZHVyYXRpb24sYz1tKmEucyk7dmFyIHQ9MCx3PW51bGw7aC5hJiYodD1oLmEucWEsCnc9aC5hLmVuZCk7bT1NYXRoLm1pbih0aGlzLmIuZHVyYXRpb24rZC9hLnMsbSk7Zi5wdXNoKG5ldyBpZChsLG0sbmV3IEsodGhpcy5nLGguYix0LHcsdm9pZCAwLHRoaXMuaiksayxwfHxudWxsKSl9YT1uZXcgVChmLGEuc3x8MSk7ImR5bmFtaWMiPT10aGlzLmYudHlwZT90aGlzLmE9bmV3IFMoYSx0aGlzLmYsdGhpcy5iLHRoaXMuaSk6dGhpcy5hPW5ldyBSKGEpO3JldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5hKX07RmQucHJvdG90eXBlLmM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hfTtmdW5jdGlvbiBHZChhLGIsYyl7VC5jYWxsKHRoaXMsYSxjKTt0aGlzLmc9Yjt0aGlzLmI9ITE7dGhpcy5qPVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0U3RyaW5nKCJ0ZW1wbGF0ZWRfcGVyZl90ZXN0X21ldGhvZHNfdW5kZXJfdGVzdF9jc3Zfc3RyaW5nIiwiYWxsIikuc3BsaXQoIiwiKX1yKEdkLFQpO2Z1bmN0aW9uIEhkKGEsYil7aWYoISgtMTxhLmouaW5kZXhPZigiYWxsIil8fC0xPGEuai5pbmRleE9mKGIpKXx8YS5iKXJldHVybiBudWxsO3ZhciBjPWEuYTthLmE9YS5nO2EuYj0hMDtyZXR1cm4gY31mdW5jdGlvbiBJZChhLGIpe2EuYiYmKGEuZz1hLmEsYS5hPWIpfUdkLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7VC5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpO3RoaXMuZz1udWxsfTsKR2QucHJvdG90eXBlLmxlbmd0aD1mdW5jdGlvbigpe3ZhciBhPUhkKHRoaXMsImxlbmd0aCIpLGI9VC5wcm90b3R5cGUubGVuZ3RoLmNhbGwodGhpcyk7YSYmKElkKHRoaXMsYSksYj1ULnByb3RvdHlwZS5sZW5ndGguY2FsbCh0aGlzKSx0aGlzLmI9ITEpO3JldHVybiBifTtHZC5wcm90b3R5cGUuZ2V0U2VnbWVudHM9ZnVuY3Rpb24oKXt2YXIgYT1IZCh0aGlzLCJnZXRTZWdtZW50cyIpLGI9VC5wcm90b3R5cGUuZ2V0U2VnbWVudHMuY2FsbCh0aGlzKTthJiYoSWQodGhpcyxhKSxiPVQucHJvdG90eXBlLmdldFNlZ21lbnRzLmNhbGwodGhpcyksdGhpcy5iPSExKTtyZXR1cm4gYn07R2QucHJvdG90eXBlLmZpcnN0PWZ1bmN0aW9uKCl7dmFyIGE9SGQodGhpcywiZmlyc3QiKSxiPVQucHJvdG90eXBlLmZpcnN0LmNhbGwodGhpcyk7YSYmKElkKHRoaXMsYSksYj1ULnByb3RvdHlwZS5maXJzdC5jYWxsKHRoaXMpLHRoaXMuYj0hMSk7cmV0dXJuIGJ9OwpHZC5wcm90b3R5cGUubGFzdD1mdW5jdGlvbigpe3ZhciBhPUhkKHRoaXMsImxhc3QiKSxiPVQucHJvdG90eXBlLmxhc3QuY2FsbCh0aGlzKTthJiYoSWQodGhpcyxhKSxiPVQucHJvdG90eXBlLmxhc3QuY2FsbCh0aGlzKSx0aGlzLmI9ITEpO3JldHVybiBifTtHZC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGEpe3ZhciBiPUhkKHRoaXMsImdldCIpLGM7Yz1iP1QucHJvdG90eXBlLmdldC5jYWxsKHRoaXMsYSsodGhpcy5hLmxlbmd0aC1iLmxlbmd0aCkpOlQucHJvdG90eXBlLmdldC5jYWxsKHRoaXMsYSk7YiYmKElkKHRoaXMsYiksYz1ULnByb3RvdHlwZS5nZXQuY2FsbCh0aGlzLGEpLHRoaXMuYj0hMSk7cmV0dXJuIGN9O0dkLnByb3RvdHlwZS5maW5kPWZ1bmN0aW9uKGEpe3ZhciBiPUhkKHRoaXMsImZpbmQiKSxjPVQucHJvdG90eXBlLmZpbmQuY2FsbCh0aGlzLGEpO2ImJihJZCh0aGlzLGIpLGM9VC5wcm90b3R5cGUuZmluZC5jYWxsKHRoaXMsYSksdGhpcy5iPSExKTtyZXR1cm4gY307CkdkLnByb3RvdHlwZS5maW5kSW5kZXg9ZnVuY3Rpb24oYSl7dmFyIGI9SGQodGhpcywiZmluZEluZGV4IiksYz1ULnByb3RvdHlwZS5maW5kSW5kZXguY2FsbCh0aGlzLGEpO2ImJihJZCh0aGlzLGIpLGM9VC5wcm90b3R5cGUuZmluZEluZGV4LmNhbGwodGhpcyxhKSx0aGlzLmI9ITEpO3JldHVybiBjfTtuPUdkLnByb3RvdHlwZTtuLlNhPWZ1bmN0aW9uKGEpe3ZhciBiPUhkKHRoaXMsIm1lcmdlIiksYz1ULnByb3RvdHlwZS5TYS5jYWxsKHRoaXMsYSk7YiYmKElkKHRoaXMsYiksYz1ULnByb3RvdHlwZS5TYS5jYWxsKHRoaXMsYSksdGhpcy5iPSExKTtyZXR1cm4gY307bi5oYj1mdW5jdGlvbihhKXt2YXIgYj1IZCh0aGlzLCJjb3JyZWN0IiksYz1ULnByb3RvdHlwZS5oYi5jYWxsKHRoaXMsYSk7YiYmKElkKHRoaXMsYiksYz1ULnByb3RvdHlwZS5oYi5jYWxsKHRoaXMsYSksdGhpcy5iPSExKTtyZXR1cm4gY307Cm4uaWI9ZnVuY3Rpb24oKXt2YXIgYT1IZCh0aGlzLCJnZXRTZWVrUmFuZ2UiKSxiPVQucHJvdG90eXBlLmliLmNhbGwodGhpcyk7YSYmKElkKHRoaXMsYSksYj1ULnByb3RvdHlwZS5pYi5jYWxsKHRoaXMpLHRoaXMuYj0hMSk7cmV0dXJuIGJ9O24uZ2V0U2Vla1JhbmdlR2Fwcz1mdW5jdGlvbigpe3ZhciBhPUhkKHRoaXMsImdldFNlZWtSYW5nZUdhcHMiKSxiPVQucHJvdG90eXBlLmdldFNlZWtSYW5nZUdhcHMuY2FsbCh0aGlzKTthJiYoSWQodGhpcyxhKSxiPVQucHJvdG90eXBlLmdldFNlZWtSYW5nZUdhcHMuY2FsbCh0aGlzKSx0aGlzLmI9ITEpO3JldHVybiBifTtuLklhPWZ1bmN0aW9uKCl7dmFyIGE9SGQodGhpcywiYXNzZXJ0Q29ycmVjdFJlZmVyZW5jZXMiKTtULnByb3RvdHlwZS5JYS5jYWxsKHRoaXMpO2EmJihJZCh0aGlzLGEpLFQucHJvdG90eXBlLklhLmNhbGwodGhpcyksdGhpcy5iPSExKX07ZnVuY3Rpb24gSmQoYSxiLGMsZCxlLGYsZyxoKXt0aGlzLm09YTt0aGlzLmE9Yjt0aGlzLmc9Yzt0aGlzLmY9ZDt0aGlzLm89ZTt0aGlzLmI9bnVsbDt0aGlzLmk9Zjt0aGlzLmg9bnVsbDt0aGlzLmo9aHx8bnVsbH1KZC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuaT10aGlzLmY9dGhpcy5nPXRoaXMuYT1udWxsO3RoaXMuYiYmKHRoaXMuYi5kZXN0cm95KCksdGhpcy5iPW51bGwpfTsKSmQucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbigpe2lmKHRoaXMuYilyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuYik7dmFyIGE9VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJmYmxzX3VzZV90aW1lbGluZV9zZWdtZW50X2luZGV4IiwhMSk7aWYoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJ1c2VfdGltZWxpbmVfc2VnbWVudF9pbmRleCIsITEpJiYodGhpcy5hLkZCSXNMaXZlVGVtcGxhdGVkfHx0aGlzLmEuRkJXYXNMaXZlfHxhKSlhPW5ldyBwZCh0aGlzLmcsdGhpcy5mLHRoaXMuZi5hLHRoaXMuaSx0aGlzLmopO2Vsc2V7Zm9yKHZhciBhPXRoaXMuZi5hLGI9b2QoYS5DLGEuc3x8MSx0aGlzLmcuZHVyYXRpb258fDAsdGhpcy5tLmdldE51bWJlcigibnVtX3ByZWRpY3RpdmVfc2VnbWVudHMiLDApLHRoaXMuYS5GQklzTGl2ZVRlbXBsYXRlZHx8dGhpcy5hLkZCV2FzTGl2ZSx0aGlzLmgpLGM9W10sZD0wO2Q8Yi5sZW5ndGg7KytkKXt2YXIgZT0KYltkXS5zdGFydCxmPWJbZF0uZW5kLGc9YltkXS51ZHx8MCxoPWJbZF0udGltZXNjYWxlZEdhcEluZm8saz1lL2EucyxsPWYvYS5zLG09ZCthLmIscD1lLG09bWQodGhpcy5pLHRoaXMuZiwwPGc/ZzptLHAsMDxnPyEwOiExLHRoaXMuaik7aWYoIW0pcmV0dXJuIGE9RXJyb3IoIkZhaWxlZCB0byBnZW5lcmF0ZSBtZWRpYSBVUkwuIiksYS50eXBlPSJkYXNoIixQcm9taXNlLnJlamVjdChhKTt2YXIgdD0oYS5MfHwwKS9hLnM7Yy5wdXNoKG5ldyBpZChrLXQsbC10LG0scCxmLWUsaHx8bnVsbCwwPGcpKX1iPXRoaXMuYS5GQklzTGl2ZVRlbXBsYXRlZHx8dGhpcy5hLkZCV2FzTGl2ZTtWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigidGVtcGxhdGVkX3VzZV9wZXJmX3Rlc3Rfc2VnbWVudF9pbmRleF9iYXNlX2ludCIsMCkmJm51bGw9PXRoaXMuaCYmdGhpcy5hLkZCSXNMaXZlVGVtcGxhdGVkPyhiPWMsYz1iLnNsaWNlKC1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigidGVtcGxhdGVkX3VzZV9wZXJmX3Rlc3Rfc2VnbWVudF9pbmRleF9iYXNlX2ludCIsCjApKSxhPW5ldyBHZChjLGIsYS5zfHwxKSk6YT1uZXcgVChjLGEuc3x8MSxiKX10aGlzLmEubWFuaWZlc3RJc0xpdmVTdHJlYW1pbmc/dGhpcy5iPW5ldyBTKGEsdGhpcy5hLHRoaXMuZyx0aGlzLm8pOnRoaXMuYj1uZXcgUihhKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuYil9O0pkLnByb3RvdHlwZS5jPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYn07SmQucHJvdG90eXBlLkVjPWZ1bmN0aW9uKGEpe3RoaXMuaD1hfTtmdW5jdGlvbiBLZCgpe3RoaXMuWD1MZCsrO3RoaXMuaWQ9dGhpcy5hYT10aGlzLk09bnVsbDt0aGlzLmE9MDt0aGlzLmhlaWdodD10aGlzLndpZHRoPXRoaXMuYmFuZHdpZHRoPW51bGw7dGhpcy5jb2RlY3M9dGhpcy5taW1lVHlwZT0iIjt0aGlzLmY9dGhpcy5mYlF1YWxpdHlDbGFzcz10aGlzLmZiUXVhbGl0eUxhYmVsPW51bGw7dGhpcy5mcmFtZVJhdGU9IiI7dGhpcy5zd2l0Y2hSZWFzb249dGhpcy5oPXRoaXMuZz10aGlzLmM9bnVsbDt0aGlzLmI9W107dGhpcy5vYT0hMTt0aGlzLmZhPSEwfXZhciBMZD0wO0tkLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5NJiYodGhpcy5NLmRlc3Ryb3koKSx0aGlzLk09bnVsbCk7dGhpcy5hYSYmKHRoaXMuYWEuZGVzdHJveSgpLHRoaXMuYWE9bnVsbCl9O2Z1bmN0aW9uIE1kKGEpe3JldHVybiBhLm1pbWVUeXBlLnNwbGl0KCIvIilbMF19CmZ1bmN0aW9uIE5kKGEpe3ZhciBiPWEubWltZVR5cGV8fCIiO2EuY29kZWNzJiYoYis9JzsgY29kZWNzPSInK2EuY29kZWNzKyciJyk7cmV0dXJuIGJ9ZnVuY3Rpb24gT2QoKXt0aGlzLlg9UGQrKzt0aGlzLmlkPW51bGw7dGhpcy5jb250ZW50VHlwZT10aGlzLmxhbmc9IiI7dGhpcy5mPXRoaXMuYj0hMTt0aGlzLmM9bnVsbDt0aGlzLnY9W107dGhpcy5hPVtdfXZhciBQZD0wO09kLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7Zm9yKHZhciBhPTA7YTx0aGlzLnYubGVuZ3RoOysrYSl0aGlzLnZbYV0uZGVzdHJveSgpO3RoaXMuYT10aGlzLnY9bnVsbH07ZnVuY3Rpb24gUWQoYSl7Zm9yKHZhciBiPVtdLGM9MDtjPGEuYS5sZW5ndGg7KytjKXt2YXIgZD1uZXcgUmQ7ZC5pZD1hLlg7ZC5hPWEuYVtjXTtkLmNvbnRlbnRUeXBlPWEuY29udGVudFR5cGU7ZC5iPWEudi5sZW5ndGg/TmQoYS52WzBdKToiIjtiLnB1c2goZCl9cmV0dXJuIGJ9CmZ1bmN0aW9uIFNkKCl7dGhpcy5pZD1udWxsO3RoaXMuc3RhcnQ9MDt0aGlzLmR1cmF0aW9uPW51bGw7dGhpcy5hPVtdfVNkLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7Zm9yKHZhciBhPTA7YTx0aGlzLmEubGVuZ3RoOysrYSl0aGlzLmFbYV0uZGVzdHJveSgpO3RoaXMuYT1udWxsfTtmdW5jdGlvbiBUZCgpe3RoaXMuQT10aGlzLmY9dGhpcy5iPSExO3RoaXMubz10aGlzLm09dGhpcy5CPTA7dGhpcy5qPXRoaXMuaT10aGlzLmM9bnVsbDt0aGlzLmc9MDt0aGlzLmE9W107dGhpcy5oPSExO3RoaXMudz0ibm9uZSI7dGhpcy51PW51bGx9VGQucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXtmb3IodmFyIGE9MDthPHRoaXMuYS5sZW5ndGg7KythKXRoaXMuYVthXS5kZXN0cm95KCk7dGhpcy5hPW51bGx9O2Z1bmN0aW9uIFJkKCl7dGhpcy5pZD0wO3RoaXMuYT1udWxsO3RoaXMuYj10aGlzLmNvbnRlbnRUeXBlPSIifTtmdW5jdGlvbiBVKGEsYixjLGQsZSxmLGcsaCxrLGwsbSxwLHQsdyl7Ri5jYWxsKHRoaXMsYSk7dGhpcy5iPWI7dGhpcy5hPWM7dGhpcy5jPW5ldyBuYihjLGQsZSxmLHRoaXMsaCx3KTt0aGlzLlBhPWg7dGhpcy5vPXt9O3RoaXMucmE9Zjt0aGlzLnlhPTA7dGhpcy5tYT10aGlzLmY9dGhpcy5nPW51bGw7dGhpcy50YT0hMTt0aGlzLnc9dGhpcy5jYT1udWxsO3RoaXMuUz0hMTt0aGlzLmphPTA7dGhpcy5rYT0hMTt0aGlzLkQ9bnVsbDt0aGlzLlo9dGhpcy5lYT10aGlzLmg9ITE7dGhpcy5PPW5ldyBJO3RoaXMuRz10aGlzLlQ9dGhpcy5CPSExO3RoaXMuUj0wO3RoaXMuZ2E9MTU7dGhpcy5HYT10aGlzLnZhPXRoaXMuVT0hMTt0aGlzLm5hPTE7dGhpcy4kPWc7dGhpcy54YT0hMTt0aGlzLmw9bnVsbDt0aGlzLkhhPSExO3RoaXMuST10aGlzLko9dGhpcy5LPW51bGw7dGhpcy5WPSExO3RoaXMudT1tfHxudWxsO3RoaXMuRj1wfHxudWxsO3RoaXMuaj10fHxudWxsO3RoaXMuWT1udWxsO3RoaXMuYmE9CiExO3RoaXMuRGE9e307dGhpcy5GYT1rO3RoaXMuaT1udWxsO3RoaXMuaWE9ITE7dGhpcy5FYT0wO3RoaXMuQ2E9ZT9lLnNwbGl0KCI7IilbMF06IiI7dGhpcy5QPSExO3RoaXMud2E9MDt0aGlzLnNhPWw7dGhpcy5BPXRoaXMubT1udWxsfXIoVSxGKTtVLnByb3RvdHlwZS5CYT1mdW5jdGlvbigpe3JldHVybntTb3VyY2VCdWZmZXJNYW5hZ2VyOnRoaXMuY319O1UucHJvdG90eXBlLmdldERlYnVnPVUucHJvdG90eXBlLkJhO2Z1bmN0aW9uIFVkKGEsYil7cmV0dXJuIG5ldyBWaWRlb1BsYXllckJpdHJhdGVFc3RpbWF0b3IobmV3IHgoYS5hLmdldE51bWJlcigibGl2ZV9iaXRyYXRlX2VzdGltYXRlc19oYWxmX2xpZmUiLDIpKSxiLGEuYS5nZXROdW1iZXIoImxpdmVfYml0cmF0ZV9lc3RpbWF0ZXNfbWluaW11bV9zYW1wbGVfY291bnQiLDEpLGEuYS5nZXROdW1iZXIoImxpdmVfYml0cmF0ZV9lc3RpbWF0ZXNfbGFyZ2Vfc2FtcGxlX3dlaWdodF9mYWN0b3IiLDEwKSl9ClUucHJvdG90eXBlLnBhPWZ1bmN0aW9uKGEpe251bGwhPWEuaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemUmJih0aGlzLlI9TnVtYmVyKGEuaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemUpKTt2YXIgYj10aGlzLmEuZ2V0TnVtYmVyKCJpbml0aWFsX3N0cmVhbV9idWZmZXJfc2l6ZV9mb3JfdmlkZW9fc3RyZWFtIiwwKTswPGImJi0xIT09dGhpcy5DYS5pbmRleE9mKCJ2IikmJih0aGlzLlI9Yik7bnVsbCE9YS5keW5hbWljU3RyZWFtQnVmZmVyU2l6ZSYmKHRoaXMuamE9TnVtYmVyKGEuZHluYW1pY1N0cmVhbUJ1ZmZlclNpemUpKTtudWxsIT1hLnNtYXJ0QnVmZmVyQWRqdXN0bWVudFBhcmFtcyYmKHRoaXMuRGE9YS5zbWFydEJ1ZmZlckFkanVzdG1lbnRQYXJhbXMpO251bGwhPWEuc21hcnRCdWZmZXJBZGp1c3RtZW50RW5hYmxlZCYmKHRoaXMuYmE9Qm9vbGVhbihhLnNtYXJ0QnVmZmVyQWRqdXN0bWVudEVuYWJsZWQpKTtudWxsIT1hLnN0cmVhbUJ1ZmZlclNpemUmJih0aGlzLmdhPU51bWJlcihhLnN0cmVhbUJ1ZmZlclNpemUpKTsKbnVsbCE9YS5maXhCdWZmZXJpbmdHb2FsRGV0ZXJtaW5hdGlvbiYmKHRoaXMuVT1Cb29sZWFuKGEuZml4QnVmZmVyaW5nR29hbERldGVybWluYXRpb24pKTtudWxsIT1hLmFkZENkbkRlYnVnUXVlcnlQYXJhbWV0ZXJzJiYodGhpcy52YT1Cb29sZWFuKGEuYWRkQ2RuRGVidWdRdWVyeVBhcmFtZXRlcnMpKTtudWxsIT1hLnVzZUluaXRpYWxCdWZmZXJTaXplV2hlblBhdXNlZCYmKHRoaXMuR2E9Qm9vbGVhbihhLnVzZUluaXRpYWxCdWZmZXJTaXplV2hlblBhdXNlZCkpO251bGwhPWEuc2VnbWVudFJlcXVlc3RUaW1lb3V0JiYodGhpcy5jLlQ9TnVtYmVyKGEuc2VnbWVudFJlcXVlc3RUaW1lb3V0KSk7bnVsbCE9YS5yZXNvbHZlVmlkZW9UaW1lVXBkYXRlT25GcmFnbWVudGVkVGltZVJhbmdlcyYmKHRoaXMueGE9Qm9vbGVhbihhLnJlc29sdmVWaWRlb1RpbWVVcGRhdGVPbkZyYWdtZW50ZWRUaW1lUmFuZ2VzKSk7bnVsbCE9YS5wZXJmb3JtYW5jZUxvZ2dlciYmKHRoaXMubD10aGlzLm8ucGVyZm9ybWFuY2VMb2dnZXI9CmEucGVyZm9ybWFuY2VMb2dnZXIpO251bGwhPWEuYWJyTG9nZ2VyJiYodGhpcy5vLmFickxvZ2dlcj1hLmFickxvZ2dlcik7bnVsbCE9YS5yZWFwcGVuZEluaXRTZWdtZW50QWZ0ZXJBYm9ydCYmKHRoaXMuby5yZWFwcGVuZEluaXRTZWdtZW50QWZ0ZXJBYm9ydD1Cb29sZWFuKGEucmVhcHBlbmRJbml0U2VnbWVudEFmdGVyQWJvcnQpKTtudWxsIT1hLmxpdmVEYXRhRmV0Y2hNYXhSZXRyaWVzJiYodGhpcy5vLmxpdmVEYXRhRmV0Y2hNYXhSZXRyaWVzPU51bWJlcihhLmxpdmVEYXRhRmV0Y2hNYXhSZXRyaWVzKSk7bnVsbCE9YS5saXZlU291cmNlQnVmZmVyQ2xlYXJNYXhSZXRyaWVzJiYodGhpcy5vLmxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXM9TnVtYmVyKGEubGl2ZVNvdXJjZUJ1ZmZlckNsZWFyTWF4UmV0cmllcykpO251bGwhPWEuc2tpcEVtcHR5U2VnbWVudHMmJih0aGlzLm8uc2tpcEVtcHR5U2VnbWVudHM9Qm9vbGVhbihhLnNraXBFbXB0eVNlZ21lbnRzKSk7bnVsbCE9CmEucGxheWhlYWRGcmFnbWVudGVkR2FwRGlmZkFsbG93YW5jZSYmKHRoaXMuby5wbGF5aGVhZEZyYWdtZW50ZWRHYXBEaWZmQWxsb3dhbmNlPU51bWJlcihhLnBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2UpKTtudWxsIT1hLnVzZU1pY3JvVGFza1RpbWVvdXRzJiYodGhpcy5IYT1Cb29sZWFuKGEudXNlTWljcm9UYXNrVGltZW91dHMpKTthPXRoaXMuYztiPXRoaXMubztudWxsIT1iLnJlYXBwZW5kSW5pdFNlZ21lbnRBZnRlckFib3J0JiYoYS5SPUJvb2xlYW4oYi5yZWFwcGVuZEluaXRTZWdtZW50QWZ0ZXJBYm9ydCkpO251bGwhPWIucGVyZm9ybWFuY2VMb2dnZXImJihhLmw9Yi5wZXJmb3JtYW5jZUxvZ2dlcik7bnVsbCE9Yi5hYnJMb2dnZXImJihhLkk9Yi5hYnJMb2dnZXIpO251bGwhPWIubGl2ZURhdGFGZXRjaE1heFJldHJpZXMmJihhLk89Yi5saXZlRGF0YUZldGNoTWF4UmV0cmllcyk7bnVsbCE9Yi5saXZlU291cmNlQnVmZmVyQ2xlYXJNYXhSZXRyaWVzJiYoYS5LPQpiLmxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXMpO251bGwhPWIucGxheWhlYWRGcmFnbWVudGVkR2FwRGlmZkFsbG93YW5jZSYmKGEuUD1iLnBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2UpO251bGwhPWIuc2tpcEVtcHR5U2VnbWVudHMmJihhLlY9Yi5za2lwRW1wdHlTZWdtZW50cyl9O1UucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXtWZCh0aGlzKTt0aGlzLk8uZGVzdHJveSgpO3RoaXMucmE9dGhpcy5nPXRoaXMuTz1udWxsO3RoaXMuYy5kZXN0cm95KCk7dGhpcy5iPXRoaXMuYz1udWxsO3RoaXMuYS5nZXRCb29sKCJmaXhpbmdfc2NoZWR1bGVyX2Rpc2FibGVfbGVha3MiLCEwKSYmKHRoaXMudT1udWxsKTt0aGlzLkphPW51bGx9O249VS5wcm90b3R5cGU7bi5XYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmd9O24uRmI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mfTsKbi5LYz1mdW5jdGlvbihhKXt0aGlzLkJ8fGEudGhlbihmdW5jdGlvbigpe3RoaXMuQj0hMDt0aGlzLnd8fFYodGhpcywwKX0uYmluZCh0aGlzKSkuY2F0Y2goZnVuY3Rpb24oKXt9KTtyZXR1cm4gdGhpcy5PfTtuLkNiPWZ1bmN0aW9uKCl7dGhpcy5HPSEwO1dkKHRoaXMpfTtuLmZiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuR307Cm4uamI9ZnVuY3Rpb24oYSxiLGMsZCxlKXtpZihhIT10aGlzLmcpe3ZhciBmPTE7dGhpcy5hLmdldEJvb2woInVzZV9saXZlX2JpdHJhdGVfZXN0aW1hdGVzIiwhMSkmJm51bGwhPT10aGlzLm0mJjA8dGhpcy5nLmJhbmR3aWR0aCYmKGY9dGhpcy5tLmdldEVzdGltYXRlKCkvdGhpcy5nLmJhbmR3aWR0aCk7dmFyIGc9YS5hYTtnJiYodGhpcy5tYT1nLmNyZWF0ZSh0aGlzLmwsdGhpcy5QYSkpO3RoaXMuWj0hMDthLk0uY3JlYXRlKCkudGhlbihKKHRoaXMsZnVuY3Rpb24oZyl7aWYodGhpcy5iKXt0aGlzLlo9ITE7dmFyIGs9dGhpcy5nO3RoaXMuZz1hO3RoaXMuYS5nZXRCb29sKCJ1c2VfbGl2ZV9iaXRyYXRlX2VzdGltYXRlcyIsITEpJiYodGhpcy5tPVVkKHRoaXMsKGEuYmFuZHdpZHRofHwwKSpmKSk7dmFyIGw9dGhpcy5mO3RoaXMuZj1nO3RoaXMuYy5EPXRoaXMuZjtsJiZsLmEuRmMoKTt1ZCh0aGlzLmYsZnVuY3Rpb24oYSl7dmFyIGI9YTt0aGlzLmomJnRoaXMuai5zZXRTZWdtZW50cyh0aGlzLmYuZ2V0U2VnbWVudHMoKSk7CnRoaXMudSYmKGE9YSYmdGhpcy5hLmdldEJvb2woIm9wdGltaXplX3N0cmVhbV9nZXRfc2VnbWVudHNfY2FsbHMiLCExKT9hOnRoaXMuZi5nZXRTZWdtZW50cygpLHRoaXMuYS5nZXRCb29sKCJ0ZW1wbGF0ZWRfdXBkYXRlX3NybV9ieV9kZWx0YV9vZl9jaGFuZ2VkX3JlZmVyZW5jZXNfYm9vbCIsITEpJiZ0aGlzLmYuSyYmYi5sZW5ndGg8dGhpcy5mLmdldFNlZ21lbnRzKCkubGVuZ3RoJiYoYT10aGlzLmYuZ2V0U2VnbWVudHMoKS5zbGljZSgtKGIubGVuZ3RoKzEpKSksWGQodGhpcyx0aGlzLmcuaWR8fCIiLGEpKX0uYmluZCh0aGlzKSk7dGhpcy5qJiZ0aGlzLmouc2V0U2VnbWVudHModGhpcy5mLmdldFNlZ21lbnRzKCkpO2lmKHRoaXMudSl7dmFyIGw9W10sbT10aGlzLmEuZ2V0TnVtYmVyKCJ0ZW1wbGF0ZWRfY2h1bmtlZF9zZWdtZW50X3VwZGF0ZV9saW1pdF9pbnQiLDApO2lmKG0pe2c9dGhpcy5mLmxlbmd0aCgpO2Zvcih2YXIgbT1NYXRoLm1pbihnLG0pLHA9MTtwPD1tOysrcClsLnB1c2godGhpcy5mLmdldChnLQpwKSl9ZWxzZSBsPWcuZ2V0U2VnbWVudHMoKTtYZCh0aGlzLGEuaWR8fCIiLGwpfXRoaXMudGE9ITA7dGhpcy5jYT1kP2Q6bnVsbDt0aGlzLlN8fCh0aGlzLmEuZ2V0Qm9vbCgibWFrZV9lYXJseV90cmFja19zZWxlY3Rpb24iLCExKSYmdGhpcy5oJiYhdGhpcy5QJiYhdGhpcy53P1YodGhpcywwKTprP2I/WWQodGhpcywhMCxjKTplJiZZZCh0aGlzLCExKTpWKHRoaXMsMCkpfX0pKS5jYXRjaChKKHRoaXMsZnVuY3Rpb24oYSl7dGhpcy5aPSExOyJhYm9ydGVkIiE9YS50eXBlJiYodGhpcy5CPyhhPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGEpKTp0aGlzLk8ucmVqZWN0KGEpKX0pKX19O24uQ2M9ZnVuY3Rpb24oYSl7cmV0dXJuIFlkKHRoaXMsISFhKX07bi5IYz1mdW5jdGlvbigpe3RoaXMua2E9ITB9O24uSmM9ZnVuY3Rpb24oYSl7dGhpcy5FYT1hfTsKZnVuY3Rpb24gWGQoYSxiLGMpe2EuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9jaHVua2VkX3NlZ21lbnRfdXBkYXRlX2xpbWl0X2ludCIsMCkmJmEudS51cGRhdGVTZWdtZW50SW5kZXgoYixhLmYpO2EuYS5nZXRCb29sKCJ1c2VfdXBkYXRlX3NlZ21lbnRzX2J5X3NoYWthX3JlZmVyZW5jZSIsITApJiZhLnUudXBkYXRlU2VnbWVudHNCeVNoYWthUmVmZXJlbmNlcyhiLGMpfQpmdW5jdGlvbiBZZChhLGIsYyl7YS5nJiYhYS5TJiYoYS5TPSEwLFZkKGEpLGEuVD0hMSxudWxsIT09YS5BJiZhLkEucmVzZXQoKSxhLmMuYWJvcnQoKS50aGVuKEooYSxmdW5jdGlvbigpe3ZhciBhPXRoaXMuYi5jdXJyZW50VGltZTt0aGlzLmEuZ2V0Qm9vbCgic2V0X2N1cnJlbnRfdGltZV9pbl9yZXN5bmMiLCExKSYmMD09YT8odGhpcy5sJiZCYW56YWlPRFMuYnVtcEVudGl0eUtleSgyOTY2LCJ2aWRlb3Mud3d3LnNoYWthIiwic2V0X2N1cnJlbnRfdGltZV9pbl9yZXN5bmMiKSxhPXRoaXMuZi5maXJzdCgpLnN0YXJ0VGltZSk6dGhpcy5hLmdldEJvb2woImJldHRlcl9zZXRfY3VycmVudF90aW1lX2luX3Jlc3luYyIsITEpJiZhPHRoaXMuZi5maXJzdCgpLnN0YXJ0VGltZSYmKEJhbnphaU9EUy5idW1wRW50aXR5S2V5KDI5NjYsInZpZGVvcy53d3cuc2hha2EiLCJzZXRfY3VycmVudF90aW1lX2luX3Jlc3luYyIpLGE9dGhpcy5mLmZpcnN0KCkuc3RhcnRUaW1lK3RoaXMuYS5nZXROdW1iZXIoInJlc3luY19zZXRfY3VycmVudF90aW1lX2Z1ZGdlX2ZhY3RvciIsCjApKTtpZighYiYmMDxyYih0aGlzLmMsYSkmJjA8PUZiKHRoaXMuYyxhKSlyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7aWYoYylyZXR1cm4gQ2IodGhpcy5jLHRoaXMuYi5jdXJyZW50VGltZStjKTt0aGlzLmlhPSEwO3JldHVybiBCYih0aGlzLmMpfSkpLnRoZW4oSihhLGZ1bmN0aW9uKCl7dGhpcy5TPSExO1YodGhpcywwKX0pKS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7dGhpcy5TPSExOyJhYm9ydGVkIiE9YS50eXBlJiYodGhpcy5CPyhhPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGEpKTp0aGlzLk8ucmVqZWN0KGEpKX0pKSl9bi5JYz1mdW5jdGlvbihhKXtyZXR1cm4gMDxyYih0aGlzLmMsYSkmJjA8PUZiKHRoaXMuYyxhKX07bi52Yj1mdW5jdGlvbigpe307bi5EYj1mdW5jdGlvbigpe3JldHVybiEwfTsKZnVuY3Rpb24gWmQoYSl7YS5lYT1hLmVhfHwhYS5iLnBhdXNlZDthLmIucGF1c2VkfHxhLmJhfHwoYS5ZPURhdGUubm93KCksYS5iYT0hMCk7dmFyIGI9YS5EYSxjPW51bGw7aWYoYi5pbkV4cGVyaW1lbnQpaWYoYi51c2VTbWFydEJ1ZmZlcmluZyl7aWYoYS5iYSYmYS5ZKXt2YXIgYz0oRGF0ZS5ub3coKS1hLlkpLzFFMyxkPW51bGw7MT5jP2M9bnVsbDooZD0zPmM/Yi5idWZmZXJTaXplXzAwX3RvXzAzOjEwPmM/Yi5idWZmZXJTaXplXzAzX3RvXzEwOjMwPmM/Yi5idWZmZXJTaXplXzEwX3RvXzMwOjYwPmM/Yi5idWZmZXJTaXplXzMwX3RvXzYwOmIuYnVmZmVyU2l6ZV9hYm92ZV82MCxjPU1hdGgubWluKGQsYS5iLmR1cmF0aW9uKSl9fWVsc2UgYS5ZJiYoYz1iLm5vblNtYXJ0QnVmZmVyU2l6ZSk7Y3x8KGM9YS5HYSYmYS5iLnBhdXNlZD9hLlI6YS5nYSxhLmIucGF1c2VkJiYxPGEubmEmJihjKj1hLm5hKSxhLmphJiYhYS5iLnBhdXNlZCYmKGM9TWF0aC5tYXgoTWF0aC5taW4oYS5mLmxhc3QoKS5lbmRUaW1lLQphLmIuY3VycmVudFRpbWUsYS5qYSksYS5nYSkpKTtjPShhLlU/YS5oJiZhLmVhOmEuaCk/TWF0aC5tYXgoYS5SLGMpOmEuUjswPGEuYS5nZXROdW1iZXIoImF1ZGlvX3ZpZGVvX2J1ZmZlcl9kaWZmX3RocmVzaG9sZCIsMTQ0MDApJiYoYj1hLmIuYnVmZmVyZWQubGVuZ3RoP2EuYi5idWZmZXJlZC5lbmQoYS5iLmJ1ZmZlcmVkLmxlbmd0aC0xKTowLGI9TWF0aC5tYXgoMCxiLWEuYi5jdXJyZW50VGltZSksYz1NYXRoLm1pbihjLGIrYS5hLmdldE51bWJlcigiYXVkaW9fdmlkZW9fYnVmZmVyX2RpZmZfdGhyZXNob2xkIiwxNDQwMCkpKTtyZXR1cm4gY30KZnVuY3Rpb24gJGQoYSl7dmFyIGI9YS5hLmdldE51bWJlcigic3RhcnRfc3RyZWFtX2J1ZmZlcl9zaXplIiwxKSxjPWEuYS5nZXROdW1iZXIoImxvd19zdGFydF9zdHJlYW1fYnVmZmVyX3NpemUiLDEpO2lmKGIhPT1jKXt2YXIgZD1hLmEuZ2V0TnVtYmVyKCJsb3dfYmFuZHdpZHRoX3N0YXJ0X3N0cmVhbV9idWZmZXJfc2l6ZV90aHJlc2hvbGQiLDApLGU9YS5hLmdldE51bWJlcigic2NoZWR1bGVkX3ZpZGVvc19zdGFydF9zdHJlYW1fYnVmZmVyX3NpemVfdGhyZXNob2xkIiwwKTtpZigwPGQmJmEucmEuZ2V0QmFuZHdpZHRoKCk8ZCYmVmlkZW9TdHJlYW1pbmdUYXNrUXVldWVQcm92aWRlci5nZXRRdWV1ZVNpemUoInZpZGVvIik+PWUpcmV0dXJuIGN9cmV0dXJuIGJ9ZnVuY3Rpb24gYWUoYSxiKXtyZXR1cm4gcmIoYS5jLGEuaD9iOmIrKGEuRHx8MCkpfQpmdW5jdGlvbiBiZShhKXtpZihhLmgmJiFhLkJ8fGEuYS5nZXRCb29sKCJtYWtlX2Vhcmx5X3RyYWNrX3NlbGVjdGlvbiIsITEpJiZhLlp8fGEuYS5nZXRCb29sKCJwcmV2ZW50X2ZldGNoX3doaWxlX2ZldGNoaW5nX2luX3N0cmVhbSIsITEpJiZhLlApcmV0dXJuIGEudz1udWxsLFByb21pc2UucmVzb2x2ZSgpO3ZhciBiO2lmKGI9YS5CJiYhYS5HKWI9MTxhLmMuYS5idWZmZXJlZC5sZW5ndGg/ITA6ITE7aWYoYiYmKGEua2F8fEhiKGEuYyxhLmIpKSlyZXR1cm4gYS54YSYmKGEuYi5jdXJyZW50VGltZT1HYihhLmIpKSxudWxsPT09YS5LJiYoYS5rYT0hMSxZZChhLCEwKSksUHJvbWlzZS5yZXNvbHZlKCk7YS5hLmdldE51bWJlcigiZGVjb3VwbGVfc3RyZWFtX29uX3VwZGF0ZV9sb29wX2Zyb21fcmVxdWVzdF9sb29wX2ludCIsMCl8fChhLnc9bnVsbCk7Yj1hLmc7dmFyIGM9YS5mLGQ9YS5iLmN1cnJlbnRUaW1lO2EuYS5nZXRCb29sKCJ1c2VfcGVuZGluZ19zZWVrX3Bvc2l0aW9uX2Zvcl9yZWZlcmVuY2UiLAohMSkmJjA9PT1hLmIucmVhZHlTdGF0ZSYmIWQmJmEuSiYmKGQ9YS5KKTtpZihhLlUmJiFhLmgmJmFlKGEsZCk+PSRkKGEpKXJldHVybiBhLmEuZ2V0Qm9vbCgiZml4X2Nocm9tZV9tc2VfcmVncmVzc2lvbiIsITEpJiYxPT09YS5iLnJlYWR5U3RhdGUmJjA8YS5iLmJ1ZmZlcmVkLmxlbmd0aCYmKGEuYi5jdXJyZW50VGltZT1hLmIuY3VycmVudFRpbWUpLGNlKGEpLFYoYSwwKSxQcm9taXNlLnJlc29sdmUoKTt2YXIgZT1udWxsLGY9W107bnVsbCE9PWEuSyYmKGQ9YS5LKTtpZihhZShhLGQpPj1aZChhKSlpZihhLlQ9ITAsbnVsbCE9PWEuSSYmYS5JLnJlc29sdmUoKSxhLlV8fGNlKGEpLGY9ZGUoYSk/amUoYSxkKTpbXSwwPGYubGVuZ3RoKWU9ZlswXTtlbHNlIHJldHVybiBWKGEsMUUzLyg1KihNYXRoLmFicyhhLmIucGxheWJhY2tSYXRlKXx8MSkpKSxQcm9taXNlLnJlc29sdmUoKTtlbHNle3ZhciBnPTE7YS5qJiYoZz1hLmouZ2V0TnVtYmVyT2ZTZWdtZW50cygpKTt2YXIgaD1xYihhLmMpOwphLlYmJihoPW51bGwsbnVsbCE9PWEuSyYmKGEuVj0hMSkpO2EuYS5nZXRCb29sKCJmaW5kX2xhc3RfaW5zZXJ0ZWRfc2VnbWVudF9pbl9zZWdtZW50X2luZGV4IiwhMSkmJmgmJiFjLmEuYSYmKGg9Yy5maW5kKGguc3RhcnRUaW1lKSk7YS5hLmdldEJvb2woInNldF9wZW5kaW5nX3NlZWtfb25fc2V0X2N1cnJlbnRfdGltZV9mYWlsdXJlIiwhMSkmJm51bGwhPWEuSiYmKGQ9YS5KLGEuSj1udWxsKTtnPWtlKGEsZCxjLGcsaCk7ZT1nWzBdO2EuaiYmKGEuai5zZXRGdXR1cmVTZWdtZW50cyhnKSxhLmouc2V0QnVmZmVyaW5nR29hbChaZChhKS1hZShhLGQpKSk7IWUmJmRlKGEpJiYoZj1qZShhLGQpLDA8Zi5sZW5ndGgmJihlPWZbMF0pKX1pZighZSlyZXR1cm4gY2UoYSksYS5CJiYhYS5HJiYoYS5HPSEwLFdkKGEpKSxWKGEsMjAwKSxQcm9taXNlLnJlc29sdmUoKTthLmEuZ2V0Qm9vbCgiY3JlYXRlX293bl9zZWdtZW50X3JlZmVyZW5jZV9mb3Jfc2JtIiwhMSkmJihlPWpkKGUsZS5zdGFydFRpbWUsCmUuZW5kVGltZSkpO2xlKGEsbWUoYSxkLGYpLGIuaWR8fCIiKTtuZShhLG1lKGEsZCxmKSk7YS5hLmdldEJvb2woInJlZnJlc2hfc2VnbWVudF9yZWZlcmVuY2VfZmFpbG92ZXJfdXJpIiwhMCkmJihlLnVybD1lLnVybC5jbG9uZSgpKTthLlA9ITA7YS53YT1EYXRlLm5vdygpOyJ2aWRlbyI9PT1iLm1pbWVUeXBlLnNwbGl0KCIvIilbMF0mJmEucmEuc2V0UmVwcmVzZW50YXRpb25JRChiLmlkKTtjPWEuYy5mZXRjaChlLGMucyxiLmErYS5FYSxhLm1hLGEudmEmJiFhLmIucGF1c2VkLDA8Zi5sZW5ndGgsYS51LGEuRik7Yz1jLnRoZW4oSihhLGZ1bmN0aW9uKGEpe3RoaXMuYS5nZXRCb29sKCJ1cGRhdGVzX3ByaW9yaXR5X29uX2ZldGNoX2NvbXBsZXRlIiwhMSkmJm5lKHRoaXMsbWUodGhpcyxkLFtdKSk7dGhpcy5zYS5pbmZvcm1OZXR3b3JrUmVzdW1lZCgpO3JldHVybiBhfSkpO2EuJCYmInZpZGVvIj09PWIubWltZVR5cGUuc3BsaXQoIi8iKVswXSYmYS4kLmFkZChlLnN0YXJ0VGltZXx8CjAsZS5lbmRUaW1lfHwwLHtpZDpiLmlkLHJlYXNvbjphLmNhLHBlcmZvcm1hbmNlTG9nZ2VyOmEubD9hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJzdHJlYW1fc3dpdGNoIik6bnVsbH0pO2EubWE9bnVsbDthLnRhJiYoYS50YT0hMSxmPWEuY2EsYS5jYT1udWxsLG9lKGEsYixmLGEubGEoKSkpO2EuRz0hMTtyZXR1cm4gYy50aGVuKEooYSxmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5hLmdldEJvb2woImNsZWFyX29sZF9idWZmZXIiLCExKT9FYih0aGlzLmMsdGhpcy5iLmN1cnJlbnRUaW1lKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGF9KTphfSkpLnRoZW4oSihhLGZ1bmN0aW9uKGEpe3ZhciBiPWEuVyxjPWEuV2M7dGhpcy5ofHwodGhpcy55YT1jKTt0aGlzLmEuZ2V0Qm9vbCgidXNlX2xpdmVfYml0cmF0ZV9lc3RpbWF0ZXMiLCExKSYmbnVsbCE9YSYmMDxhLkRjJiYwPGEuSCYmKG51bGw9PT10aGlzLm0mJih0aGlzLm09VWQodGhpcyx0aGlzLmcuYmFuZHdpZHRofHwwKSksdGhpcy5tLnNhbXBsZSg4KgphLkRjLGEuSCkpO2E9dGhpcy5hLmdldE51bWJlcigiYnVmZmVyX3ZlbG9jaXR5X3RpbWVfaW5fcGFzdF90b19jb25zaWRlciIsMCk7MDxhJiZudWxsIT09dGhpcy5nJiYidmlkZW8iPT09TWQodGhpcy5nKSYmKG51bGw9PT10aGlzLkEmJih0aGlzLkE9bmV3IEJ1ZmZlclZlbG9jaXR5KGEpKSx0aGlzLkEucmVjb3JkQnVmZmVyQWhlYWQocmIodGhpcy5jLHRoaXMuYi5jdXJyZW50VGltZSkpKTt0aGlzLlA9ITE7InZpZGVvIj09PSh0aGlzLmc/dGhpcy5nLm1pbWVUeXBlLnNwbGl0KCIvIilbMF06bnVsbCkmJnRoaXMuZGlzcGF0Y2hFdmVudCh5KHt0eXBlOiJmZXRjaF9lbmQiLGJ1YmJsZXM6ITAsZGV0YWlsOntzdHJlYW1fZmV0Y2hfdGltZV9tczpEYXRlLm5vdygpLXRoaXMud2Esc2VnbWVudF9sZW5ndGhfbXM6MUUzKihlLmVuZFRpbWUtZS5zdGFydFRpbWUpfX0pKTtudWxsPT10aGlzLkQmJih0aGlzLkQ9Yik7dGhpcy5pYSYmMDxyYih0aGlzLmMsZCkmJih0aGlzLmlhPSExLHRoaXMuYS5nZXRCb29sKCJkaXNhYmxlX251ZGdlIiwKITEpfHwoYj15KHt0eXBlOiJzaG91bGRfbnVkZ2UifSksdGhpcy5kaXNwYXRjaEV2ZW50KGIpKSk7Vih0aGlzLDApfSkpLmNhdGNoKEooYSxmdW5jdGlvbihhKXt0aGlzLlA9ITE7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfSkpfWZ1bmN0aW9uIG1lKGEsYixjKXt2YXIgZD1hLmg/YjpiKyhhLkR8fDApO3JldHVybnthZGRpdGlvbmFsU2VnbWVudHNSZXF1aXJlZDpjLHBsYXloZWFkOmIsYnVmZmVyU3RhcnQ6ZCxidWZmZXJFbmQ6YWUoYSxiKStkLGJ1ZmZlcmluZ0dvYWw6WmQoYSksaXNQbGF5aW5nOiFhLmIucGF1c2VkfX1mdW5jdGlvbiBsZShhLGIsYyl7YS51JiZhLnUudXBkYXRlUGxheWVyU3RhdGUoYyxiKX1mdW5jdGlvbiBuZShhLGIpe2EuRiYmYS5GLnVwZGF0ZVBsYXllclN0YXRlKGIpfQpmdW5jdGlvbiBwZShhLGIsYyl7dmFyIGQ9bnVsbCE9PWEuaSYmLTE8YS5pJiZhLmk8Yy5sZW5ndGgoKS0xP2MuZ2V0KGEuaSk6bnVsbCxlPW51bGw7aWYobnVsbD09PWEuaXx8IWR8fGQuc3RhcnRUaW1lPmIpcmV0dXJuIGU9Yy5maW5kSW5kZXgoYiksYS5pPWU7Zm9yKGQ9YS5pO2Q8PWEuaSsxO2QrKylpZihlPWMuZ2V0KGQpLGUuc3RhcnRUaW1lPD1iJiZlLmVuZFRpbWU+YilyZXR1cm4gYS5pPWQ7ZT1jLmZpbmRJbmRleChiKTtyZXR1cm4oYS5pPWUpfHwtMX1mdW5jdGlvbiBkZShhKXtyZXR1cm4gYS5hLmdldEJvb2woInJlcGxhY2VfbG93ZXJfcXVhbGl0eV9idWZmZXIiLCExKSYmbnVsbD09PWEuRiYmYS5lYSYmbnVsbCE9PWEuJCYmInZpZGVvIj09PU1kKGEuZykmJm51bGwhPT1hLmZ9CmZ1bmN0aW9uIGplKGEsYil7aWYoIWEuRmF8fCFhLmcuaWR8fCFhLmYpcmV0dXJuW107dmFyIGM9cGUoYSxiLGEuZik7cmV0dXJuLTE9PT1jP1tdOkJ1ZmZlclJlcGxhY2VtZW50SGVscGVyLmdldFNlZ21lbnRzVG9SZXBsYWNlTG93ZXJRdWFsaXR5KGEuZi5nZXRTZWdtZW50cygpLGIsYyxhLmcuaWQsYS5GYSxhLiQse3RocmVzaG9sZEJlZm9yZTphLmEuZ2V0TnVtYmVyKCJidWZmZXJfcmVwbGFjZW1lbnRfYmVoaW5kX3RocmVzaG9sZCIsNSksdGhyZXNob2xkQWZ0ZXI6YS5hLmdldE51bWJlcigiYnVmZmVyX3JlcGxhY2VtZW50X2FoZWFkX3RocmVzaG9sZCIsMTUpLHdyYXBSZXBsYWNlbWVudFBhc3RFbmQ6YS5hLmdldEJvb2woIndyYXBfcmVwbGFjZW1lbnRfcGFzdF9lbmQiLCExKX0pfQpuLnpjPWZ1bmN0aW9uKCl7dmFyIGE7aWYodGhpcy5sKXt2YXIgYj10aGlzLmEuZ2V0TnVtYmVyKCJzdHJlYW1fb251cGRhdGVfc2FtcGxpbmciLDApO2ImJjA9PT1NYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqYikmJihhPXRoaXMubC5nZXRPcGVyYXRpb25Mb2dnZXIoInN0cmVhbV9vbnVwZGF0ZSIpLnN0YXJ0KCkpfXZhciBjO3RoaXMuYS5nZXROdW1iZXIoImRlY291cGxlX3N0cmVhbV9vbl91cGRhdGVfbG9vcF9mcm9tX3JlcXVlc3RfbG9vcF9pbnQiLDApJiZWKHRoaXMsdGhpcy5hLmdldE51bWJlcigiZGVjb3VwbGVfc3RyZWFtX29uX3VwZGF0ZV9sb29wX2Zyb21fcmVxdWVzdF9sb29wX2ludCIsMCkpO2lmKHRoaXMuYS5nZXRCb29sKCJjYXRjaF9zdHJlYW1fdXBkYXRlX3N5bmNfY29kZV9lcnJvciIsITEpKXRyeXtjPWJlKHRoaXMpfWNhdGNoKGQpe2QudHlwZT0idW5jYXVnaHQiLGEmJmEuc2V0RXJyb3IoZCksYz1Qcm9taXNlLnJlamVjdChkKX1lbHNlIGM9YmUodGhpcyk7Yy5jYXRjaChKKHRoaXMsCmZ1bmN0aW9uKGEpe2lmKCJhYm9ydGVkIiE9YS50eXBlKXtpZigic291cmNlYnVmZmVyX2Z1bGwiPT09YS50eXBlKXJldHVybiBCYih0aGlzLmMpLnRoZW4oSih0aGlzLGZ1bmN0aW9uKCl7Vih0aGlzLDApfSkpO3ZhciBiPVswLDQwNCw0MTAsNTAyLDUwMyw1MDRdO3RoaXMuYS5nZXRCb29sKCJlbmFibGVfZG91YmxlX2luZ2VzdCIsITEpJiZiLnB1c2goNDE3LDIwMCk7Yj0tMT09PWIuaW5kZXhPZihhLnN0YXR1cyk7aWYoIm5ldCI9PT1hLnR5cGUmJiFiJiZ0aGlzLmcpaWYodGhpcy5hLmdldEJvb2woImFsbG93X2luZmluaXRlX3JldHJ5X29uX25ldF9lcnIiLCEwKSlzd2l0Y2goYS5zdGF0dXMpe2Nhc2UgNDA0OlYodGhpcywyRTMpO2JyZWFrO2Nhc2UgNDEwOnRoaXMuYS5nZXRCb29sKCJlbmRfYWxsX3N0cmVhbXNfb25fNDEwIiwhMSk/cWUodGhpcyk6dGhpcy5DYigpO2JyZWFrO2Nhc2UgNDE3OmNhc2UgMjAwOmEucmVzcG9uc2VIZWFkZXJzJiZudWxsIT1hLnJlc3BvbnNlSGVhZGVyc1sieC1mYi12aWRlby1yZXBsaWNhIl0/CnRoaXMuZGlzcGF0Y2hFdmVudCh5KHt0eXBlOiJyZXBsaWNhc3dpdGNoIixidWJibGVzOiEwLHJlcGxpY2E6YS5yZXNwb25zZUhlYWRlcnNbIngtZmItdmlkZW8tcmVwbGljYSJdLHVybDphLnVybCxzdGF0dXM6YS5zdGF0dXN9KSk6Yj0hMDticmVhaztkZWZhdWx0OlYodGhpcywxRTMpfWVsc2UgVih0aGlzLDFFMyksYj0hMDswPT09YS5zdGF0dXM/dGhpcy5zYS5pbmZvcm1OZXR3b3JrSW50ZXJydXB0ZWQoKTp0aGlzLnNhLmluZm9ybU5ldHdvcmtSZXN1bWVkKCk7aWYoIXRoaXMuYS5nZXRCb29sKCJhbGxvd19pbmZpbml0ZV9yZXRyeV9vbl9uZXRfZXJyIiwhMCl8fGIpYj1BKGEpLHRoaXMuZGlzcGF0Y2hFdmVudChiKSx0aGlzLmwmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgYj10aGlzLmwuZ2V0RXZlbnRMb2dnZXIoInN0cmVhbV9lcnJvcl9mYWxsYmFjayIpLnNldEVycm9yKGEpLnNldFR5cGUodGhpcy5DYS5zcGxpdCgiLyIpWzBdKTt0aGlzLmI/Yi5zZXRSZXN1bHQoImZhaWxlZCIpOgpiLnNldFJlc3VsdCgic3VjY2VzcyIpO2IubG9nKCl9LmJpbmQodGhpcyksMCl9fSkpO2EmJmEubG9nKCl9O2Z1bmN0aW9uIGtlKGEsYixjLGQsZSl7dmFyIGY9LTE7aWYoYS5hLmdldEJvb2woInRlbXBsYXRlZF9mYXN0ZXJfc3RyZWFtX2dldF9uZXh0X24iLCExKSYmMT09PWQmJm51bGwhPWUmJm51bGwhPWUuZW5kVGltZSlyZXR1cm4oYz1jLmZpbmQoZS5lbmRUaW1lKSk/W2NdOltdO251bGwhPWU/Zj1udWxsIT1lLmVuZFRpbWU/Yy5maW5kSW5kZXgoZS5lbmRUaW1lKTotMTooZj1wZShhLGIsYyksMD5mJiYoZj1jLmxlbmd0aCgpP2MubGVuZ3RoKCktMTotMSkpO2E9W107aWYoMDw9Zilmb3IoYj1mO2I8ZitkJiZiPGMubGVuZ3RoKCk7YisrKWEucHVzaChjLmdldChiKSk7cmV0dXJuIGF9CmZ1bmN0aW9uIGNlKGEpe2lmKCFhLmgmJm51bGwhPWEuRCl7YS5oPSEwO3ZhciBiPWEuYyxjPWEuRCxkPWMtYi5VOzAhPWQmJihiLmI9a2QoYi5iLGQpLGIuVT1jKTthLk8ucmVzb2x2ZShhLkQpfX1uLkVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaH07VS5wcm90b3R5cGUuaGFzU3RhcnRlZD1VLnByb3RvdHlwZS5FZDtVLnByb3RvdHlwZS5rYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLlR9O1UucHJvdG90eXBlLmhhc0hpdEJ1ZmZlcmluZ0dvYWw9VS5wcm90b3R5cGUua2I7VS5wcm90b3R5cGUubGE9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09PXRoaXMubT9udWxsOnRoaXMubS5nZXRFc3RpbWF0ZSgpfTtVLnByb3RvdHlwZS5nZXRCaXRyYXRlRXN0aW1hdGU9VS5wcm90b3R5cGUubGE7VS5wcm90b3R5cGUucWI9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09PXRoaXMuQT9udWxsOnRoaXMuQS5nZXRWZWxvY2l0eSgpfTtVLnByb3RvdHlwZS5nZXRCdWZmZXJWZWxvY2l0eT1VLnByb3RvdHlwZS5xYjsKZnVuY3Rpb24gb2UoYSxiLGMsZCl7dmFyIGU9Yi5taW1lVHlwZS5zcGxpdCgiLyIpWzBdO2I9eSh7dHlwZToiYWRhcHRhdGlvbiIsaWQ6Yi5pZCxidWJibGVzOiEwLGNvbnRlbnRUeXBlOmUsc2l6ZToidmlkZW8iIT1lP251bGw6e3dpZHRoOmIud2lkdGgsaGVpZ2h0OmIuaGVpZ2h0fSxiYW5kd2lkdGg6ZHx8Yi5iYW5kd2lkdGgscmVhc29uOmN9KTthLmRpc3BhdGNoRXZlbnQoYil9ZnVuY3Rpb24gcWUoYSl7dmFyIGI9eSh7dHlwZToic2hvdWxkX2VuZF9hbGxfc3RyZWFtcyJ9KTthLmRpc3BhdGNoRXZlbnQoYil9ZnVuY3Rpb24gV2QoYSl7dmFyIGI9eSh7dHlwZToiZW5kZWQifSk7YS5kaXNwYXRjaEV2ZW50KGIpfVUucHJvdG90eXBlLk9hPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuRn07VS5wcm90b3R5cGUuZ2V0VmlkZW9TdHJlYW1pbmdNYW5hZ2VyPVUucHJvdG90eXBlLk9hOwpmdW5jdGlvbiBWKGEsYil7VmQoYSk7IWImJmEuSGE/UHJvbWlzZS5yZXNvbHZlKCkudGhlbihhLnpjLmJpbmQoYSkpOmEudz1zZXRUaW1lb3V0KGEuemMuYmluZChhKSxiKX1mdW5jdGlvbiBWZChhKXtudWxsIT1hLncmJihjbGVhclRpbWVvdXQoYS53KSxhLnc9bnVsbCl9VS5wcm90b3R5cGUuc2I9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy55YX07VS5wcm90b3R5cGUuZ2I9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jLml9O1UucHJvdG90eXBlLmdldFN0cmVhbVByb2dyZXNzVHJhY2tlcj1VLnByb3RvdHlwZS5nYjtmdW5jdGlvbiByZShhLGIpe2EuSz1iO2EuVj0hMDthLkl8fChhLkk9bmV3IEkpO3JldHVybiBhLkl9O2Z1bmN0aW9uIHNlKGEpe3RoaXMuYj1hO3RoaXMuYT1udWxsfXNlLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5hJiYodGhpcy5hLmRlc3Ryb3koKSx0aGlzLmE9bnVsbCl9O3NlLnByb3RvdHlwZS5jcmVhdGU9ZnVuY3Rpb24oKXtpZih0aGlzLmEpcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLmEpO3ZhciBhPW5ldyBpZCgwLG51bGwsdGhpcy5iLDAsMCksYT1uZXcgVChbYV0sMSk7dGhpcy5hPW5ldyBSKGEpO3JldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5hKX07c2UucHJvdG90eXBlLmM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hfTtmdW5jdGlvbiB0ZShhLGIpe0YuY2FsbCh0aGlzLGEpO3RoaXMuYj1iO3RoaXMuaj0hMDt0aGlzLm09dGhpcy5nPW51bGw7dGhpcy5mPW5ldyBJO3RoaXMuYT1udWxsfXIodGUsRik7dGUucHJvdG90eXBlLnBhPWZ1bmN0aW9uKCl7fTt0ZS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuYSYmdGhpcy5iLnJlbW92ZUNoaWxkKHRoaXMuYSk7dGhpcy5mLmRlc3Ryb3koKTt0aGlzLkphPXRoaXMuYj10aGlzLmc9dGhpcy5tPXRoaXMuYT10aGlzLmY9bnVsbH07bj10ZS5wcm90b3R5cGU7bi5XYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmd9O24uRmI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tfTtuLktjPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZn07bi5mYj1mdW5jdGlvbigpe3JldHVybiEwfTtuLkNiPWZ1bmN0aW9uKCl7fTsKbi5qYj1mdW5jdGlvbihhKXthLk0uY3JlYXRlKCkudGhlbihKKHRoaXMsZnVuY3Rpb24oYil7aWYodGhpcy5iKXtpZigwPT1iLmxlbmd0aCgpKXJldHVybiBQcm9taXNlLnJlamVjdChFcnJvcigiTm8gc3VidGl0bGVzIFVSTCBhdmFpbGFibGUuIikpO3ZhciBjPXRoaXMuZzt0aGlzLmc9YTt0aGlzLm09YjtiPWIuZmlyc3QoKS51cmwuY1swXS50b1N0cmluZygpO3ZhciBkPXRoaXMuRGIoKTt0aGlzLmEmJih0aGlzLnZiKCExKSx0aGlzLmIucmVtb3ZlQ2hpbGQodGhpcy5hKSk7dGhpcy5hPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRyYWNrIik7dGhpcy5iLmFwcGVuZENoaWxkKHRoaXMuYSk7dGhpcy5hLnNyYz1iO3RoaXMudmIoZCk7Yj15KHt0eXBlOiJhZGFwdGF0aW9uIixidWJibGVzOiEwLGNvbnRlbnRUeXBlOiJ0ZXh0IixzaXplOm51bGwsYmFuZHdpZHRoOmEuYmFuZHdpZHRofSk7dGhpcy5kaXNwYXRjaEV2ZW50KGIpO2N8fHRoaXMuZi5yZXNvbHZlKDApfX0pKX07bi5DYz1mdW5jdGlvbigpe307Cm4uSGM9ZnVuY3Rpb24oKXt9O24uSWM9ZnVuY3Rpb24oKXtyZXR1cm4hMH07bi52Yj1mdW5jdGlvbihhKXt0aGlzLmo9YTt0aGlzLmEmJih0aGlzLmEudHJhY2subW9kZT1hPyJzaG93aW5nIjoiZGlzYWJsZWQiKX07bi5EYj1mdW5jdGlvbigpe3RoaXMuYSYmKHRoaXMuaj0ic2hvd2luZyI9PXRoaXMuYS50cmFjay5tb2RlKTtyZXR1cm4gdGhpcy5qfTtuLnNiPWZ1bmN0aW9uKCl7cmV0dXJuIDB9O24uSmM9ZnVuY3Rpb24oKXt9O2Z1bmN0aW9uIHVlKCl7fQp1ZS5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9bnVsbDt0cnl7dmFyIGY7dmFyIGc9bmV3IElhKGIpO2lmKDQ0MDc4Njg1MSE9S2EoZykuaWQpZj1udWxsO2Vsc2V7dmFyIGg9S2EoZyk7aWYoNDA4MTI1NTQzIT1oLmlkKWY9bnVsbDtlbHNle3ZhciBrPWguYS5ieXRlT2Zmc2V0LGw7dmFyIG09bmV3IElhKGguYSk7Zm9yKGI9bnVsbDtEYShtLmEpOyl7dmFyIHA9S2EobSk7aWYoMzU3MTQ5MDMwPT1wLmlkKXtiPXA7YnJlYWt9fWlmKGIpe2Zvcih2YXIgdD1uZXcgSWEoYi5hKSxwPTFFNixtPW51bGw7RGEodC5hKTspe3ZhciB3PUthKHQpO2lmKDI4MDc3Mjk9PXcuaWQpcD1PYSh3KTtlbHNlIGlmKDE3NTQ1PT13LmlkKWlmKGI9dyw0PT1iLmEuYnl0ZUxlbmd0aCltPWIuYS5nZXRGbG9hdDMyKDApO2Vsc2UgaWYoOD09Yi5hLmJ5dGVMZW5ndGgpbT1iLmEuZ2V0RmxvYXQ2NCgwKTtlbHNlIHRocm93IG5ldyBSYW5nZUVycm9yKCJFYm1sRWxlbWVudDogZmxvYXRpbmcgcG9pbnQgbnVtYmVycyBtdXN0IGJlIDQgb3IgOCBieXRlcy4iKTt9bnVsbD09Cm0/bD1udWxsOih0PXAvMUU5LGw9e0diOnQsZHVyYXRpb246bSp0fSl9ZWxzZSBsPW51bGw7Zj1sP3tBZDprLEdiOmwuR2IsZHVyYXRpb246bC5kdXJhdGlvbn06bnVsbH19aWYoZil7dmFyIHo9S2EobmV3IElhKGEpKTtpZig0NzUyNDk1MTUhPXouaWQpZT1udWxsO2Vsc2V7dmFyIEg9Zi5BZCxkYT1mLkdiLGVhPWYuZHVyYXRpb247YT1bXTtmb3IodmFyIEFhPW5ldyBJYSh6LmEpLGs9Zj16PS0xO0RhKEFhLmEpOyl7dmFyIGNiPUthKEFhKTtpZigxODc9PWNiLmlkKXt2YXIgbmE7dmFyIHZkPW5ldyBJYShjYi5hKSx3ZD1LYSh2ZCk7aWYoMTc5IT13ZC5pZCluYT1udWxsO2Vsc2V7dmFyIFllPU9hKHdkKSx4ZD1LYSh2ZCk7aWYoMTgzIT14ZC5pZCluYT1udWxsO2Vsc2V7dmFyIGVlPW5ldyBJYSh4ZC5hKTtmb3IobD0wO0RhKGVlLmEpOyl7dmFyIGZlPUthKGVlKTtpZigyNDE9PWZlLmlkKXtsPU9hKGZlKTticmVha319bmE9e3piOlllLHlkOmx9fX1pZihuYSl7dmFyIGdlPWRhKm5hLnpiLApoZT1IK25hLnlkO2lmKDA8PXope3ZhciBOYz1uZXcgSyhkLGMsayxoZS0xKSxBZj1uYS56Yi1mO2EucHVzaChuZXcgaWQoeixnZSxOYyxuYS56YixBZikpfXo9Z2U7Zj1uYS56YjtrPWhlfX19MDw9eiYmKE5jPW5ldyBLKGQsYyxrLG51bGwpLGEucHVzaChuZXcgaWQoeixlYSxOYyxmLGVhL2RhLWYpKSk7ZT1hfX1lbHNlIGU9bnVsbH1jYXRjaChpZSl7aWYoIShpZSBpbnN0YW5jZW9mIFJhbmdlRXJyb3IpKXRocm93IGllO31yZXR1cm4gZX07ZnVuY3Rpb24gdmUoYSxiLGMsZCxlLGYsZyxoLGssbCxtKXt0aGlzLmg9YTt0aGlzLm89Yjt0aGlzLmI9Yzt0aGlzLm09bHx8bnVsbDt0aGlzLmo9bXx8bnVsbDt0aGlzLmE9ZDt0aGlzLmc9ZTt0aGlzLmY9Zjt0aGlzLnc9Zzt0aGlzLlJhPW51bGw7dGhpcy5pPWg7dGhpcy5sPWt8fG51bGw7dGhpcy51PW51bGx9dmUucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmk9dGhpcy5vPXRoaXMuaD1udWxsO3RoaXMuYS5LYSgpO3RoaXMuYT1udWxsO3RoaXMuZiYmKHRoaXMuZi5LYSgpLHRoaXMuZj1udWxsKTt0aGlzLmcmJih0aGlzLmcuS2EoKSx0aGlzLmc9bnVsbCk7dGhpcy5SYT1udWxsfTt2ZS5wcm90b3R5cGUuUWM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5SYX07dmUucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbigpe3JldHVybiB3ZSh0aGlzKX07dmUucHJvdG90eXBlLnBiPWZ1bmN0aW9uKCl7cmV0dXJuIHdlKHRoaXMpfTsKZnVuY3Rpb24gd2UoYSl7aWYoYS5SYSlyZXR1cm4gYS5SYTt2YXIgYj1udWxsO2EubCYmKGI9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigiY3JlYXRlX2NvbnRhaW5lcl9zZWdtZW50X2luZGV4X3NvdXJjZSIpLnN0YXJ0KCkpO2lmKG51bGwhPT1hLm0mJihudWxsIT09YS5qfHwid2VibSIhPT1hLmIpKXJldHVybiB4ZShhLGEubSxhLmosYik7dmFyIGM9W2EuYS5mZXRjaChudWxsLG51bGwsYS5sLGIpXTsid2VibSI9PWEuYiYmYy5wdXNoKGEuZy5mZXRjaChudWxsLG51bGwsYS5sLGIpKTthLlJhPVByb21pc2UuYWxsKGMpLnRoZW4oSihhLGZ1bmN0aW9uKGEpe3JldHVybiB4ZSh0aGlzLGFbMF0sYVsxXXx8bnVsbCxiKX0pKTtyZXR1cm4gYS5SYX0KZnVuY3Rpb24geGUoYSxiLGMsZCl7dmFyIGU9bnVsbDsibXA0Ij09YS5iPyhlPW5ldyB0ZCxlPWUucGFyc2UobmV3IERhdGFWaWV3KGIpLGEuYS5zdGFydEJ5dGUsYS5hLmMsYS5pLGEuZikpOiJ3ZWJtIj09YS5iJiYoZT1uZXcgdWUsZT1lLnBhcnNlKG5ldyBEYXRhVmlldyhiKSxuZXcgRGF0YVZpZXcoYyksYS5hLmMsYS5pKSk7aWYoIWUpcmV0dXJuIGE9RXJyb3IoIkZhaWxlZCB0byBwYXJzZSBTZWdtZW50UmVmZXJlbmNlcyBmcm9tICIrYS5hLnRvU3RyaW5nKCkrIiAob3Igb25lIG9mIGl0cyBmYWxsYmFja3MpLiIpLGEudHlwZT0ic3RyZWFtIixQcm9taXNlLnJlamVjdChhKTtiPW5ldyBUKGUsZS5zKTt2YXIgZjsiZHluYW1pYyI9PWEuaC50eXBlP2Y9bmV3IFMoYixhLmgsYS5vLGEudyk6Zj1uZXcgUihiKTtkJiZkLmxvZygpO2EudT1mO3JldHVybiBQcm9taXNlLnJlc29sdmUoZil9dmUucHJvdG90eXBlLmM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51fTtmdW5jdGlvbiB5ZShhLGIsYyxkKXt0aGlzLmM9YTt0aGlzLmI9Yjt0aGlzLmw9Y3x8bnVsbDt0aGlzLmE9ZHx8bnVsbH0KZnVuY3Rpb24gemUoYSxiLGMpe2Zvcih2YXIgZD15YSgpLzFFMyxlPTA7ZTxiLmEubGVuZ3RoOysrZSlmb3IodmFyIGY9Yi5hW2VdLGc9MDtnPGYuYS5sZW5ndGg7KytnKXt2YXIgaD1mLmFbZ107aWYoInRleHQiIT1oLmNvbnRlbnRUeXBlKWZvcih2YXIgaz0wO2s8aC5hLmxlbmd0aDsrK2spe3ZhciBsPWguYVtrXSxtPTAsbT1tKyhsLmY/MTowKSxtPW0rKGwuYj8xOjApLG09bSsobC5hPzE6MCk7MD09bT8oaC5hLnNwbGljZShrLDEpLC0tayk6MSE9bSYmKGwuZj8obC5iPW51bGwsbC5hPW51bGwpOmwuYiYmKGwuYT1udWxsKSl9fUFlKGIpO2ZvcihlPTA7ZTxiLmEubGVuZ3RoOysrZSlmb3IoZj1iLmFbZV0sZz0wO2c8Zi5hLmxlbmd0aDsrK2cpe2s9aD1mLmFbZ107bD1udWxsO2ZvcihtPTA7bTxrLmEubGVuZ3RoOysrbSl7dmFyIHA9ay5hW21dLm1pbWVUeXBlfHwiIjtsP3AhPWwmJihrLmEuc3BsaWNlKG0sMSksLS1tKTpsPXB9MD09aC5hLmxlbmd0aCYmKGYuYS5zcGxpY2UoZywxKSwKLS1nKX1iLm1hbmlmZXN0SXNMaXZlU3RyZWFtaW5nJiZudWxsPT1iLmMmJihiLmM9ZCk7ZT1uZXcgVGQ7ImR5bmFtaWMiPT1iLnR5cGUmJihlLmI9ITAsZS5jPWIuZyxlLmk9bmV3IEsoYyxiLnV8fGIudXJsLHZvaWQgMCx2b2lkIDAsdm9pZCAwLGEuYSksZS5qPWIuYyk7ZS5CPWIuaHx8MDtlLm09Yi5pfHwwO2Uubz1iLmp8fDA7ZS5nPWIubXx8NTtmb3IoZj0wO2Y8Yi5hLmxlbmd0aDsrK2Ype2c9Yi5hW2ZdO2lmKG51bGw9PWcuc3RhcnQpYnJlYWs7Zz1CZShhLGIsZyxkLGMpO2UuYS5wdXNoKGcpfWUuZj1iLkZCSXNMaXZlVGVtcGxhdGVkO2EubCYmYS5sLnNldElzVGVtcGxhdGVkTWFuaWZlc3QoYi5GQklzTGl2ZVRlbXBsYXRlZCk7ZS5BPWIuRkJXYXNMaXZlO2E9bnVsbDtjPSJub25lIjtmb3IoZj0wO2Y8Yi5hLmxlbmd0aDtmKyspZm9yKGc9Yi5hW2ZdLGQ9MDtkPGcuYS5sZW5ndGg7ZCsrKWZvcihoPWcuYVtkXSxrPTA7azxoLmEubGVuZ3RoO2srKylsPWguYVtrXS5pLG51bGwhPQpsJiZudWxsIT1sLnZhbHVlJiYoYT1jPWwudmFsdWUsInVybjptcGVnOmRhc2g6MjMwMDM6MzphdWRpb19jaGFubmVsX2NvbmZpZ3VyYXRpb246MjAxMSI9PT1sLmEmJigiMSI9PT1hP2M9Im1vbm8iOiIyIj09PWEmJihjPSJzdGVyZW8iKSkpO2Uudz1jO2E9cGFyc2VJbnQoYSwxMCk7ZS51PTA8YT9hOm51bGw7cmV0dXJuIGV9CmZ1bmN0aW9uIEFlKGEpe2lmKGEuYS5sZW5ndGgpe251bGw9PWEuYVswXS5zdGFydCYmKGEuYVswXS5zdGFydD0wKTt2YXIgYj1mdW5jdGlvbihhKXtyZXR1cm4gMD09YXx8ISFhfTthLm1hbmlmZXN0SXNMaXZlU3RyZWFtaW5nJiYoYS5iPW51bGwpO2IoYS5iKSYmMT09YS5hLmxlbmd0aCYmIWIoYS5hWzBdLmR1cmF0aW9uKSYmKGEuYVswXS5kdXJhdGlvbj1hLmIpO2Zvcih2YXIgYz0wLGQ9ITAsZT0wO2U8YS5hLmxlbmd0aDsrK2Upe3ZhciBmPWEuYVtlLTFdLGc9YS5hW2VdLGg9YS5hW2UrMV18fHtzdGFydDphLmJ9OyFiKGcuc3RhcnQpJiZmJiZiKGYuc3RhcnQpJiZiKGYuZHVyYXRpb24pJiYoZy5zdGFydD1mLnN0YXJ0K2YuZHVyYXRpb24pOyFiKGcuZHVyYXRpb24pJiZiKGguc3RhcnQpJiYoZy5kdXJhdGlvbj1oLnN0YXJ0LWcuc3RhcnQpO251bGwhPWcuc3RhcnQmJm51bGwhPWcuZHVyYXRpb24/Yys9Zy5kdXJhdGlvbjpkPSExfWIoYS5iKXx8KGU9YS5hW2EuYS5sZW5ndGgtMV0sCmQ/YS5iPWM6YihlLnN0YXJ0KSYmYihlLmR1cmF0aW9uKT9hLmI9ZS5zdGFydCtlLmR1cmF0aW9uOmEubWFuaWZlc3RJc0xpdmVTdHJlYW1pbmd8fChhLmI9YykpfX0KZnVuY3Rpb24gQmUoYSxiLGMsZCxlKXt2YXIgZj1uZXcgU2Q7Zi5pZD1jLmlkO2Yuc3RhcnQ9Yy5zdGFydDtmLmR1cmF0aW9uPWMuZHVyYXRpb247dmFyIGc9bmV3IEQ7Yy5hLmZvckVhY2goZnVuY3Rpb24oYSl7Zy5wdXNoKGEuY29udGVudFR5cGV8fCIiLGEpfSk7Zm9yKHZhciBoPWFiKGcpLGs9MDtrPGgubGVuZ3RoOysrayl7dmFyIGw9bmV3IEQ7Zy5nZXQoaFtrXSkuZm9yRWFjaChmdW5jdGlvbihhKXtsLnB1c2goYS5ncm91cCxhKX0pO2Zvcih2YXIgbT1hYihsKSxwPTA7cDxtLmxlbmd0aDsrK3Ape3ZhciB0PW5ldyBEO2wuZ2V0KG1bcF0pLmZvckVhY2goZnVuY3Rpb24oYSl7dC5wdXNoKGEubGFuZyxhKX0pO2Zvcih2YXIgdz1hYih0KSx6PTA7ejx3Lmxlbmd0aDsrK3ope3ZhciBIPXQuZ2V0KHdbel0pLEg9Q2UoYSxiLGMsSCxkLGUpO2YuYS5wdXNoKEgpfX19cmV0dXJuIGZ9CmZ1bmN0aW9uIENlKGEsYixjLGQsZSxmKXtiYShkLmV2ZXJ5KGZ1bmN0aW9uKGEpe3JldHVybiBhLmdyb3VwPT1kWzBdLmdyb3VwJiYoYS5sYW5nfHwiIik9PShkWzBdLmxhbmd8fCIiKSYmKGEuY29udGVudFR5cGV8fCIiKT09KGRbMF0uY29udGVudFR5cGV8fCIiKX0pKTt2YXIgZz1uZXcgT2QsaD1kLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YS5pZH0pO2gubGVuZ3RoPT1kLmxlbmd0aCYmKGcuaWQ9aC5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuaWR9KS5zb3J0KCkucmVkdWNlKGZ1bmN0aW9uKGEsYil7cmV0dXJuIGErIiwiK2J9KSk7Zy5iPSEoIWRbMF0uYnx8InVybjpzY3RlOmRhc2g6Y2M6Y2VhLTYwODoyMDE1IiE9PWRbMF0uYi5hKTtnLmxhbmc9ZFswXS5sYW5nfHwiIjtnLmNvbnRlbnRUeXBlPWRbMF0uY29udGVudFR5cGV8fCIiO2cuZj1kLnNvbWUoZnVuY3Rpb24oYSl7cmV0dXJuIGEuZn0pO2Zvcih2YXIgaD17fSxrPTA7azxkLmxlbmd0aDsrK2spe3ZhciBsPQpkW2tdO2wuYyYmKGcuYz1sLmMpO2Zvcih2YXIgbT0wO208bC5hLmxlbmd0aDsrK20pe3ZhciBwPWwuYVttXSx0PURlKGEscCksdz1nLmEuc2xpY2UoMCk7RWUodCx3KTswPT13Lmxlbmd0aCYmMDxnLmEubGVuZ3RofHwhKHA9RmUoYSxiLGMscCxlLGYpKXx8KGcudi5wdXNoKHApLGcuYT13LGhbcC5YXT1sKX19aWYoZy5hLnNvbWUoZnVuY3Rpb24oYSl7cmV0dXJuIiI9PWEuYX0pKXJldHVybiBnLnYuZm9yRWFjaChmdW5jdGlvbihhKXthLm9hPSEwfSksZzthPUdlKGQpO2ZvcihrPTA7azxnLnYubGVuZ3RoOysraylwPWcudltrXSxsPWhbcC5YXSxsPT1hJiYocC5vYT0hMCk7cmV0dXJuIGd9CmZ1bmN0aW9uIEdlKGEpe2Zvcih2YXIgYj1udWxsLGM9bnVsbCxkPTA7ZDxhLmxlbmd0aDsrK2QpZm9yKHZhciBlPWFbZF0sZj0wO2Y8ZS5hLmxlbmd0aDsrK2Ype3ZhciBnPWUuYVtmXSxnPShnLndpZHRofHwxKSooZy5oZWlnaHR8fDEpKihnLmJhbmR3aWR0aHx8MSk7aWYobnVsbD09Ynx8ZzxiKWI9ZyxjPWV9cmV0dXJuIGN9ZnVuY3Rpb24gRWUoYSxiKXtpZigwPT1iLmxlbmd0aClBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShiLGEpO2Vsc2UgZm9yKHZhciBjPTA7YzxiLmxlbmd0aDsrK2Mpe2Zvcih2YXIgZD0hMSxlPTA7ZTxhLmxlbmd0aDsrK2Upe3ZhciBmPWJbY10sZz1hW2VdO2lmKGYuYT09Zy5hJiZmLmk9PWcuaSYmZi53aXRoQ3JlZGVudGlhbHM9PWcud2l0aENyZWRlbnRpYWxzJiZmLmg9PWcuaCYmZi5qPT1nLmomJmYuZz09Zy5nJiZmLm09PWcubSYmTWEoZi5jLGcuYykpe2Q9ITA7T2IoYltjXSxhW2VdLmIpO2JyZWFrfX1kfHwoYi5zcGxpY2UoYywxKSwtLWMpfX0KZnVuY3Rpb24gRGUoYSxiKXt2YXIgYz1bXTtpZigwPT1iLmMubGVuZ3RoKWMucHVzaChuZXcgTWIpO2Vsc2UgaWYoYS5iKWZvcih2YXIgZD0wO2Q8Yi5jLmxlbmd0aDsrK2QpYy5wdXNoLmFwcGx5KGMsSGUoYSxiLmNbZF0pKTtyZXR1cm4gY30KZnVuY3Rpb24gSGUoYSxiKXt2YXIgYz1bXTtpZigyIT1hLmIubGVuZ3RoKXJldHVybltdO3ZhciBkPWEuYihiLmZ8fCIiLGIuYyk7aWYoIShkJiZkIGluc3RhbmNlb2YgQXJyYXkpKXJldHVybltdO2Zvcih2YXIgZT0wO2U8ZC5sZW5ndGg7KytlKXt2YXIgZjt2YXIgZz1kW2VdO2Y9bmV3IE1iO2lmKGcpe3ZhciBoPVlhKGcsImtleVN5c3RlbSIpO2lmKG51bGwhPWgpZi5hPWg7ZWxzZSB0aHJvdyBFcnJvcigiJ2tleVN5c3RlbScgY2Fubm90IGJlIG51bGwuIik7dmFyIGs9WWEoZywibGljZW5zZVNlcnZlclVybCIpO2lmKG51bGwhPWspZi5pPWs7ZWxzZSBpZihoKXRocm93IEVycm9yKCJGb3IgZW5jcnlwdGVkIHN0cmVhbWluZyBjb250ZW50LCAnbGljZW5zZVNlcnZlclVybCcgY2Fubm90IGJlIG51bGwgb3IgZW1wdHkuIik7aD1CKGcsIndpdGhDcmVkZW50aWFscyIpO251bGwhPWgmJihmLndpdGhDcmVkZW50aWFscz1oKTtoPVphKGcsImxpY2Vuc2VQb3N0UHJvY2Vzc29yIixGdW5jdGlvbik7Cm51bGwhPWgmJihmLmY9aCk7aD1aYShnLCJsaWNlbnNlUHJlUHJvY2Vzc29yIixGdW5jdGlvbik7bnVsbCE9aCYmKGYubz1oKTtoPUIoZywiZGlzdGluY3RpdmVJZGVudGlmaWVyUmVxdWlyZWQiKTtudWxsIT1oJiYoZi5oPWgpO2g9QihnLCJwZXJzaXN0ZW50U3RhdGVSZXF1aXJlZCIpO251bGwhPWgmJihmLmo9aCk7aD1ZYShnLCJhdWRpb1JvYnVzdG5lc3MiKTtudWxsIT1oJiYoZi5nPWgpO2g9WWEoZywidmlkZW9Sb2J1c3RuZXNzIik7bnVsbCE9aCYmKGYubT1oKTtoPVphKGcsInNlcnZlckNlcnRpZmljYXRlIixVaW50OEFycmF5KTtudWxsIT1oJiYoZi5jPWgpO2lmKGg9WmEoZywiaW5pdERhdGEiLE9iamVjdCkpe2c9WmEoaCwiaW5pdERhdGEiLFVpbnQ4QXJyYXkpO2lmKG51bGw9PWcpdGhyb3cgRXJyb3IoIidpbml0RGF0YS5pbml0RGF0YScgY2Fubm90IGJlIG51bGwuIik7aD1ZYShoLCJpbml0RGF0YVR5cGUiKTtpZihudWxsPT1oKXRocm93IEVycm9yKCInaW5pdERhdGEuaW5pdERhdGFUeXBlJyBjYW5ub3QgYmUgbnVsbC4iKTsKZi5iLnB1c2goe2luaXREYXRhOm5ldyBVaW50OEFycmF5KGcuYnVmZmVyKSxpbml0RGF0YVR5cGU6aH0pfX0wPT1mLmIubGVuZ3RoJiZiLmEmJmIuYS5wc3NoQm94JiZPYihmLFt7aW5pdERhdGE6Yi5hLnBzc2hCb3gsaW5pdERhdGFUeXBlOiJjZW5jIn1dKTtjLnB1c2goZil9cmV0dXJuIGN9CmZ1bmN0aW9uIEZlKGEsYixjLGQsZSxmKXtpZighZC5iYXNlVXJsfHwwPT09ZC5iYXNlVXJsLmxlbmd0aClyZXR1cm4gbnVsbDt2YXIgZz1udWxsLGg9MSxrPTA7aWYoZC5mKXtnPWQubWltZVR5cGUuc3BsaXQoIi8iKVsxXTtpZigibXA0IiE9ZyYmIndlYm0iIT1nKWc9bnVsbDtlbHNle3ZhciBsPWQuZjtpZigid2VibSIhPWd8fGwuYylpZihsLmF8fGwuYiYmbC5iLmEpe2g9bC5iO2h8fChoPW5ldyB3YyxoLnVybD1kLmJhc2VVcmwsaC5hPWwuYT9sLmEuY2xvbmUoKTpudWxsKTtrPUllKGEsaCxmKTtoPWwuYz9JZShhLGwuYyxmKTpudWxsO2wuZj8obD1sLmYsbD1uZXcgSyhmLGQuYmFzZVVybCxsLnFhLGwuZW5kLHZvaWQgMCxhLmEpKTpsPW51bGw7dmFyIG09bCxwPVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgiYWRkX2lubGluZV9pbml0aWFsaXphdGlvbl9yZXNvdXJjZXMiLCExKSYmZC5oJiZkLmguZGF0YT9kLmguZGF0YTpudWxsLGw9VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJhZGRfaW5saW5lX2luaXRpYWxpemF0aW9uX3Jlc291cmNlcyIsCiExKSYmZC5nJiZkLmcuZGF0YT9kLmcuZGF0YTpudWxsO2E9bmV3IHZlKGIsYyxnLGssaCxtLGUsZixhLmwscCxsKTtiPW5ldyBnZChoLGwpO2M9bmV3IEtkO2MuTT1hO2MuYWE9YjtnPWN9ZWxzZSBnPW51bGw7ZWxzZSBnPW51bGx9aD1kLmYucztrPWQuZi5MfWVsc2UgaWYoZC5iKWc9ZC5iLCFnLkgmJiFnLkMmJjE8Zy5hLmxlbmd0aD9nPW51bGw6Zy5IfHxjLmR1cmF0aW9ufHxnLkN8fDEhPWcuYS5sZW5ndGg/Zy5DJiYwPT09Zy5DLk4ubGVuZ3RoP2c9bnVsbDooZz1nLmI/SWUoYSxnLmIsZik6bnVsbCxhPW5ldyBGZChiLGMsZCxlLGYsYS5hKSxiPW5ldyBnZChnKSxjPW5ldyBLZCxjLk09YSxjLmFhPWIsZz1jKTpnPW51bGwsaD1kLmIucyxrPWQuYi5MO2Vsc2UgaWYoZC5hKXthOmlmKGc9ZC5hLGg9MCsoZy5hPzE6MCksaCs9Zy5DPzE6MCxoKz1nLkg/MTowLDA9PWg/aD0hMTooMSE9aCYmKGcuYT8oZy5DPW51bGwsZy5IPW51bGwpOmcuQyYmKGcuSD1udWxsKSksaD0hMCksaCl7aD0KbnVsbDtpZihnLmMmJihoPShnPWQuYS5jKT9KZShkLGcseGMpOm51bGwsIWgpKXtnPW51bGw7YnJlYWsgYX1nPWg/SWUoYSxoLGYpOm51bGw7aD1kLmE7aC5hPyhoPWQubWltZVR5cGUuc3BsaXQoIi8iKVsxXSwibXA0IiE9aCYmIndlYm0iIT1oP2E9bnVsbDoid2VibSIhPWh8fGc/bWQoZixkLDEsMCx2b2lkIDAsYS5hKT8oaz0oaz1kLmEuYSk/SmUoZCxrLHdjKTpudWxsKT8oaz1JZShhLGssZiksYT1uZXcgdmUoYixjLGgsayxnLG51bGwsZSxmLGEubCkpOmE9bnVsbDphPW51bGw6YT1udWxsKTphPWguZj9oLkM/bmV3IEpkKGEuYyxiLGMsZCxlLGYsMCxhLmEpOmguSD9iLm1hbmlmZXN0SXNMaXZlU3RyZWFtaW5nfHxudWxsIT1jLmR1cmF0aW9uP25ldyBFZChiLGMsZCxlLGYpOm51bGw6bnVsbDpudWxsO2E/KGI9bmV3IGdkKGcpLGM9bmV3IEtkLGMuTT1hLGMuYWE9YixnPWMpOmc9bnVsbH1lbHNlIGc9bnVsbDtoPWQuYS5zO2s9ZC5hLkx9ZWxzZSJ0ZXh0Ij09ZC5taW1lVHlwZS5zcGxpdCgiLyIpWzBdJiYKKGc9bmV3IEtkLGcuTT1uZXcgc2UobmV3IEsoZixkLmJhc2VVcmwpKSk7aWYoIWcpcmV0dXJuIG51bGw7Zy5pZD1kLmlkO2smJihnLmE9LTEqay9oKTtnLmJhbmR3aWR0aD1kLmJhbmR3aWR0aDtnLndpZHRoPWQud2lkdGg7Zy5oZWlnaHQ9ZC5oZWlnaHQ7Zy5taW1lVHlwZT1kLm1pbWVUeXBlfHwiIjtnLmNvZGVjcz1kLmNvZGVjc3x8IiI7Zy5nPWQub3x8bnVsbDtnLmg9ZC51fHxudWxsO2cuZmJRdWFsaXR5TGFiZWw9ZC5mYlF1YWxpdHlMYWJlbHx8bnVsbDtnLmZiUXVhbGl0eUNsYXNzPWQuZmJRdWFsaXR5Q2xhc3N8fG51bGw7Zy5mPWQubXx8bnVsbDtnLmZyYW1lUmF0ZT1kLmZyYW1lUmF0ZXx8IiI7Zy5jPWQuanx8bnVsbDtmb3IoYT0wO2E8ZC5jLmxlbmd0aDsrK2EpYj1kLmNbYV0sYi5iJiZnLmIucHVzaChiLmIpO3JldHVybiBnfQpmdW5jdGlvbiBKZShhLGIsYyl7Yj1uZChiLGEuaWQsbnVsbCxhLmJhbmR3aWR0aCxudWxsKTtpZighYilyZXR1cm4gbnVsbDtjPW5ldyBjO2MudXJsPVpjKGEuYmFzZVVybCxiKTtyZXR1cm4gY31mdW5jdGlvbiBJZShhLGIsYyl7dmFyIGQ9Yi51cmwsZT0wLGY9bnVsbDtiLmEmJihlPWIuYS5xYSxmPWIuYS5lbmQpO3JldHVybiBuZXcgSyhjLGQsZSxmLHZvaWQgMCxhLmEpfTtmdW5jdGlvbiBLZShhLGIsYyxkLGUsZixnKXt0aGlzLmI9bmV3IEsobnVsbCxbbmV3IEwoYSldKTt0aGlzLmw9ZTt0aGlzLmY9Yjt0aGlzLmM9MTt0aGlzLmc9YTt0aGlzLmE9bmV3IHRiO3RoaXMuYS5ib2R5PWI7dGhpcy5hLm1ldGhvZD1jO3RoaXMuYS5OYT0zO3RoaXMuYS53aXRoQ3JlZGVudGlhbHM9ZDt0aGlzLmEuYj0xRTMqKG51bGwhPWc/ZzpoYSk7YT1mfHx7fTtmb3IodmFyIGggaW4gYSl0aGlzLmEuUWFbaF09YVtoXX0KZnVuY3Rpb24gTGUoYSl7cmV0dXJuIGEuYi5mZXRjaChhLmEpLnRoZW4oZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYi51JiYwPHRoaXMuYz8odGhpcy5jLS0sbnVsbCE9PXRoaXMubCYmbnVsbCE9PXRoaXMuYi5pJiZ0aGlzLmwuc2V0UmVhc29uKCJSZWRpcmVjdGVkIHRvIFVSTDogIit0aGlzLmIuaS50b1N0cmluZygpKSx0aGlzLmI9bmV3IEsobnVsbCxbbmV3IEwodGhpcy5nKV0pLHRoaXMuYS5ib2R5PXRoaXMuZixMZSh0aGlzKSk6UHJvbWlzZS5yZXNvbHZlKG5ldyBVaW50OEFycmF5KGEpKX0uYmluZChhKSl9O2Z1bmN0aW9uIE1lKGEsYixjLGQpe0YuY2FsbCh0aGlzLGEpO3RoaXMuYz1iO3RoaXMuaj1jO3RoaXMuYT10aGlzLmg9bnVsbDt0aGlzLmk9bmV3IGJiO3RoaXMuYj1bXTt0aGlzLmY9W107dGhpcy5tPTA7dGhpcy5nPW5ldyBJO3RoaXMubz1udWxsO3RoaXMuQT1oYTt0aGlzLmw9ZH1yKE1lLEYpO01lLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5KYT1udWxsO2Zvcih2YXIgYT0wO2E8dGhpcy5mLmxlbmd0aDsrK2EpdGhpcy5mW2FdLmNsb3NlKCkuY2F0Y2goZnVuY3Rpb24oKXt9KTt0aGlzLmY9W107dGhpcy5iPXRoaXMuYT10aGlzLmg9bnVsbDt0aGlzLmcuZGVzdHJveSgpO3RoaXMuZz1udWxsO3RoaXMuaS5kZXN0cm95KCk7dGhpcy5pPW51bGw7dGhpcy5vJiYoY2xlYXJUaW1lb3V0KHRoaXMubyksdGhpcy5vPW51bGwpO3RoaXMuYz10aGlzLmo9bnVsbH07Ck1lLnByb3RvdHlwZS5pbml0aWFsaXplPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPW5ldyBELGI9TmUodGhpcy5qKSxjPTA7YzxiLmxlbmd0aDsrK2Mpe3ZhciBkPWJbY107ZC5hLmF8fGQuYiYmIU9lKGQuYil8fGEucHVzaChkLmNvbnRlbnRUeXBlLGQpfWZvcih2YXIgYz17fSxkPSExLGU9MDtlPGIubGVuZ3RoOysrZSl7dmFyIGY9YltlXTtpZihmLmEuYSYmIWEuYS5oYXNPd25Qcm9wZXJ0eShmLmNvbnRlbnRUeXBlKSl7dmFyIGc9Zi5hLmEsaD1jW2ddO2h8fChoPWYuYSxoPXthdWRpb0NhcGFiaWxpdGllczp2b2lkIDAsdmlkZW9DYXBhYmlsaXRpZXM6dm9pZCAwLGluaXREYXRhVHlwZXM6dm9pZCAwLGRpc3RpbmN0aXZlSWRlbnRpZmllcjpoLmg/InJlcXVpcmVkIjoib3B0aW9uYWwiLHBlcnNpc3RlbnRTdGF0ZTpoLmo/InJlcXVpcmVkIjoib3B0aW9uYWwiLHNlc3Npb25UeXBlczpbInRlbXBvcmFyeSJdfSxjW2ddPWgpO2lmKGYuYiYmKGc9Zi5jb250ZW50VHlwZSsiQ2FwYWJpbGl0aWVzIiwKZyBpbiBoKSl7ZD0hMDtoW2ddfHwoaFtnXT1bXSk7dmFyIGs7ImF1ZGlvIj09Zi5jb250ZW50VHlwZT9rPWYuYS5nOiJ2aWRlbyI9PWYuY29udGVudFR5cGUmJihrPWYuYS5tKTtoW2ddLnB1c2goe2NvbnRlbnRUeXBlOmYuYixyb2J1c3RuZXNzOmt9KX19fWlmKCFkKWlmKGIubGVuZ3RoKXRoaXMuYT1iWzBdLmE7ZWxzZSB0aHJvdyBhPUVycm9yKCJObyBEcm1JbmZvIGV4aXN0cyEiKSxhLnR5cGU9ImRybSIsYTtpZigwPT1PYmplY3Qua2V5cyhjKS5sZW5ndGgpcmV0dXJuIFBlKHRoaXMuaixhKSx0aGlzLmcucmVzb2x2ZSgpLFByb21pc2UucmVzb2x2ZSgpO2s9bmV3IEk7Yz1RZShjLGspO2M9Yy50aGVuKHRoaXMudy5iaW5kKHRoaXMsYixhKSk7ay5yZWplY3QobnVsbCk7dGhpcy5sJiZ0aGlzLmwuZ2V0RXZlbnRMb2dnZXIoImVtZV9pbml0IikubG9nKCk7cmV0dXJuIGN9OwpmdW5jdGlvbiBRZShhLGIpe2Zvcih2YXIgYyBpbiBhKWI9Yi5jYXRjaChmdW5jdGlvbihhLGIpe3JldHVybiBuYXZpZ2F0b3IucmVxdWVzdE1lZGlhS2V5U3lzdGVtQWNjZXNzKGEsW2JdKX0uYmluZChudWxsLGMsYVtjXSkpO3JldHVybiBifQpNZS5wcm90b3R5cGUudz1mdW5jdGlvbihhLGIsYyl7aWYoIXRoaXMuYylyZXR1cm4gUmUoKTtmb3IodmFyIGQ9Yy5rZXlTeXN0ZW0sZT1jLmdldENvbmZpZ3VyYXRpb24oKSxmPVsiYXVkaW8iLCJ2aWRlbyJdLGc9MDtnPGYubGVuZ3RoOysrZyl7dmFyIGg9ZltnXTtpZighYi5hLmhhc093blByb3BlcnR5KGgpKXt2YXIgaz1lW2grIkNhcGFiaWxpdGllcyJdO2lmKGspe2Zvcih2YXIgaz1rWzBdLGw9W10sbT17fSxwPTA7cDxhLmxlbmd0aDsrK3Ape3ZhciB0PWFbcF0sdz1rP3QuYj09ay5jb250ZW50VHlwZTp0LmNvbnRlbnRUeXBlPT1oO3QuYS5hIT1kfHwhd3x8dC5pZCBpbiBtfHwobC5wdXNoKHQpLG1bdC5pZF09ITAsdGhpcy5hPXRoaXMuYT9OYih0aGlzLmEsdC5hKTp0LmEpfWIuc2V0KGgsbCl9fX1QZSh0aGlzLmosYik7aWYodGhpcy5jLm1lZGlhS2V5cyl0aGlzLmg9dGhpcy5jLm1lZGlhS2V5cztlbHNlIHJldHVybiBjLmNyZWF0ZU1lZGlhS2V5cygpLnRoZW4oZnVuY3Rpb24oYSl7dGhpcy5oPQphfS5iaW5kKHRoaXMpKX07ZnVuY3Rpb24gU2UoYSl7cmV0dXJuIGEuYz9hLmg/YS5jLnNldE1lZGlhS2V5cyhhLmgpLnRoZW4oSihhLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYz90aGlzLmEuYz90aGlzLmguc2V0U2VydmVyQ2VydGlmaWNhdGUodGhpcy5hLmMpOlByb21pc2UucmVzb2x2ZSgpOlJlKCl9KSkudGhlbihKKGEsZnVuY3Rpb24oKXtpZighdGhpcy5jKXJldHVybiBSZSgpO2Zvcih2YXIgYT0wO2E8dGhpcy5hLmIubGVuZ3RoOysrYSl7dmFyIGM9dGhpcy5hLmJbYV07dGhpcy51KHt0eXBlOiJlbmNyeXB0ZWQiLGluaXREYXRhVHlwZTpjLmluaXREYXRhVHlwZSxpbml0RGF0YTpjLmluaXREYXRhfSl9MD09dGhpcy5hLmIubGVuZ3RoJiZFKHRoaXMuaSx0aGlzLmMsImVuY3J5cHRlZCIsdGhpcy51LmJpbmQodGhpcykpfSkpOlByb21pc2UucmVzb2x2ZSgpOlJlKCl9CmZ1bmN0aW9uIFJlKCl7dmFyIGE9RXJyb3IoIkVtZU1hbmFnZXIgZGVzdHJveWVkIik7YS50eXBlPSJkZXN0cm95IjtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYSl9Ck1lLnByb3RvdHlwZS51PWZ1bmN0aW9uKGEpe3ZhciBiPW5ldyBVaW50OEFycmF5KGEuaW5pdERhdGEpO3RoaXMubCYmdGhpcy5sLmdldEV2ZW50TG9nZ2VyKCJlbmNyeXB0ZWRfc2FtcGxlIikubG9nKCk7Zm9yKHZhciBjPTA7Yzx0aGlzLmIubGVuZ3RoOysrYylpZihNYShiLHRoaXMuYltjXS5kYXRhKSlyZXR1cm47dHJ5e3ZhciBkPVRlKHRoaXMpfWNhdGNoKGUpe2I9QShlKTt0aGlzLmRpc3BhdGNoRXZlbnQoYik7dGhpcy5sJiZ0aGlzLmwuZ2V0RXZlbnRMb2dnZXIoImVtZV9lcnJvciIpLnNldEVycm9yKGUpLmxvZygpO3RoaXMuZy5yZWplY3QoZSk7cmV0dXJufWE9ZC5nZW5lcmF0ZVJlcXVlc3QoYS5pbml0RGF0YVR5cGUsYS5pbml0RGF0YSk7dGhpcy5iLnB1c2goe2RhdGE6Yix1YjpkfSk7YS5jYXRjaChKKHRoaXMsZnVuY3Rpb24oYSl7aWYodGhpcy5jKXtmb3IodmFyIGI9MDtiPHRoaXMuYi5sZW5ndGg7KytiKWlmKHRoaXMuYltiXS51Yj09ZCl7dGhpcy5iLnNwbGljZShiLAoxKTticmVha31iPUEoYSk7dGhpcy5kaXNwYXRjaEV2ZW50KGIpO3RoaXMubCYmdGhpcy5sLmdldEV2ZW50TG9nZ2VyKCJlbWVfZXJyb3IiKS5zZXRFcnJvcihhKS5sb2coKTt0aGlzLmcucmVqZWN0KGEpfX0pKTt0aGlzLmYucHVzaChkKX07ZnVuY3Rpb24gVWUoYSl7Zm9yKHZhciBiPVtdLGM9MDtjPGIubGVuZ3RoOysrYyl7dmFyIGQ9VGUoYSksZT1kLmxvYWQoYltjXSk7YS5mLnB1c2goZCk7ZS50aGVuKEooYSxmdW5jdGlvbigpe3RoaXMubSsrO3RoaXMubT49dGhpcy5mLmxlbmd0aCYmdGhpcy5nLnJlc29sdmUoKX0pKS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7dmFyIGI9QShhKTt0aGlzLmRpc3BhdGNoRXZlbnQoYik7dGhpcy5sJiZ0aGlzLmwuZ2V0RXZlbnRMb2dnZXIoImVtZV9lcnJvciIpLnNldEVycm9yKGEpLmxvZygpfSkpfX0KZnVuY3Rpb24gVGUoYSl7dmFyIGI9bnVsbCxiPWEuaC5jcmVhdGVTZXNzaW9uKCk7RShhLmksYiwibWVzc2FnZSIsYS5ELmJpbmQoYSkpO0UoYS5pLGIsImtleXN0YXR1c2VzY2hhbmdlIixhLkIuYmluZChhKSk7cmV0dXJuIGJ9TWUucHJvdG90eXBlLkQ9ZnVuY3Rpb24oYSl7VmUodGhpcyxhLnRhcmdldCx0aGlzLmEsYS5tZXNzYWdlKX07Ck1lLnByb3RvdHlwZS5CPWZ1bmN0aW9uKGEpe2E9YS50YXJnZXQ7dmFyIGI9e307YS5rZXlTdGF0dXNlcy5mb3JFYWNoKGZ1bmN0aW9uKGEsYyl7aWYoInN0cmluZyI9PT10eXBlb2YgYSl7dmFyIGY9YTthPWM7Yz1mfWlmKCJjb20ubWljcm9zb2Z0LnBsYXlyZWFkeSI9PXRoaXMuYS5hJiYxNj09YS5ieXRlTGVuZ3RoKXt2YXIgZj1uZXcgRGF0YVZpZXcoYSksZz1mLmdldFVpbnQzMigwLCEwKSxoPWYuZ2V0VWludDE2KDQsITApLGs9Zi5nZXRVaW50MTYoNiwhMCk7Zi5zZXRVaW50MzIoMCxnLCExKTtmLnNldFVpbnQxNig0LGgsITEpO2Yuc2V0VWludDE2KDYsaywhMSl9Zj1MYihuZXcgVWludDhBcnJheShhKSk7YltmXT1jfS5iaW5kKHRoaXMpKTtpZihhLmV4cGlyYXRpb248RGF0ZS5ub3coKSl7Zm9yKHZhciBjPTA7Yzx0aGlzLmIubGVuZ3RoOysrYylpZih0aGlzLmJbY10udWI9PWEpe3RoaXMuYi5zcGxpY2UoYywxKTticmVha31hLmNsb3NlKCk7dGhpcy5mLnNwbGljZSh0aGlzLmYuaW5kZXhPZihhKSwKMSl9dGhpcy5sJiZ0aGlzLmwuZ2V0RXZlbnRMb2dnZXIoImVtZV9rZXlfc3RhdHVzX2NoYW5nZSIpLmxvZygpO1dlKHRoaXMuaixiKX07CmZ1bmN0aW9uIFZlKGEsYixjLGQpe2Q9WGUoYyxkKTt2YXIgZT1udWxsO2EubCYmKGU9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigibGljZW5zZV9yZXF1ZXN0Iikuc3RhcnQoKSk7TGUobmV3IEtlKGQudXJsLGQuYm9keSxkLm1ldGhvZCxjLndpdGhDcmVkZW50aWFscyxlLGQuaGVhZGVycyxhLkEpKS50aGVuKEooYSxmdW5jdGlvbihhKXtlJiYoZS5zZXRSZXN1bHQoInN1Y2Nlc3MiKSxlLmxvZygpKTtjLmYmJihhPWMuZihhKSk7ZT1udWxsO3RoaXMubCYmKGU9dGhpcy5sLmdldE9wZXJhdGlvbkxvZ2dlcigiZW1lX3Bvc3RfbGljZW5zZV9zZXNzaW9uX3VwZGF0ZSIpLnN0YXJ0KCkpO251bGw9PT1hfHx2b2lkIDA9PT1hfHwwPT09YS5ieXRlTGVuZ3RoP251bGwhPT1lJiYoZS5zZXRFcnJvcigiZW1wdHkgbGljZW5zZSIpLGUuc2V0UmVzdWx0KCJmYWlsZWQiKS5sb2coKSk6Yi51cGRhdGUoYSkudGhlbihKKHRoaXMsZnVuY3Rpb24oKXtlJiYoZS5zZXRSZXN1bHQoInN1Y2Nlc3MiKSxlLmxvZygpKTsKdmFyIGE9eSh7dHlwZToic2Vzc2lvblJlYWR5IixkZXRhaWw6Yn0pO3RoaXMuZGlzcGF0Y2hFdmVudChhKTt0aGlzLm0rKzt0aGlzLm0+PXRoaXMuZi5sZW5ndGgmJnRoaXMuZy5yZXNvbHZlKCl9KSkuY2F0Y2goSih0aGlzLGZ1bmN0aW9uKGEpe2EudWI9Yjt2YXIgYz1BKGEpO2UmJihlLnNldFJlc3VsdCgiZmFpbGVkIiksZS5zZXRFcnJvcihhKS5sb2coKSk7dGhpcy5kaXNwYXRjaEV2ZW50KGMpfSkpfSkpLmNhdGNoKEooYSxmdW5jdGlvbihhKXtpZihjLmYpe3ZhciBkPUpTT04uc3RyaW5naWZ5KHtkYXRhOlt7ZXJyb3I6YX1dfSksZD1uZXcgVWludDhBcnJheShkLnNwbGl0KCIiKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuY2hhckNvZGVBdCgwKX0pKTtjLmYoZCl9YS51Yj1iO2Q9QShhKTtlJiZlLnNldEVycm9yKGEpLmxvZygpO3RoaXMuZGlzcGF0Y2hFdmVudChkKX0pKX0KZnVuY3Rpb24gWGUoYSxiKXt2YXIgYz17dXJsOmEuaSxib2R5OmIuc2xpY2UoMCksbWV0aG9kOiJQT1NUIixoZWFkZXJzOnt9LGtleV9zeXN0ZW06YS5hfTtpZigiY29tLm1pY3Jvc29mdC5wbGF5cmVhZHkiPT09YS5hKXtmb3IodmFyIGQ9U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLG5ldyBVaW50MTZBcnJheShjLmJvZHkpKSxkPShuZXcgRE9NUGFyc2VyKS5wYXJzZUZyb21TdHJpbmcoZCwiYXBwbGljYXRpb24veG1sIiksZT1kLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJuYW1lIiksZj1kLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJ2YWx1ZSIpLGc9MDtnPGUubGVuZ3RoO2crKyljLmhlYWRlcnNbZVtnXS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZV09ZltnXS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZTtjLmJvZHk9d2luZG93LmF0b2IoZC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiQ2hhbGxlbmdlIilbMF0uY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUpfWlmKCFhLm8pcmV0dXJuIGM7CmEubyhjKTtjLnVybD1ZYShjLCJ1cmwiKTtpZihudWxsPT1jLnVybCl0aHJvdyBFcnJvcigiJ3VybCcgY2Fubm90IGJlIG51bGwuIik7aWYoIShjLmJvZHkgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcnx8InN0cmluZyI9PT10eXBlb2YgYy5ib2R5fHxudWxsPT1jLmJvZHkpKXRocm93IG5ldyBUeXBlRXJyb3IoIidib2R5JyBtdXN0IGJlIGFuIEFycmF5QnVmZmVyLCBhIHN0cmluZywgb3IgbnVsbC4iKTtjLm1ldGhvZD1ZYShjLCJtZXRob2QiKTtpZigiR0VUIiE9Yy5tZXRob2QmJiJQT1NUIiE9Yy5tZXRob2QpdGhyb3cgRXJyb3IoIidtZXRob2QnIG11c3QgYmUgZWl0aGVyICdHRVQnIG9yICdQT1NUJy4iKTtjLmhlYWRlcnM9WmEoYywiaGVhZGVycyIsT2JqZWN0KTtpZihudWxsPT1jLmhlYWRlcnMpdGhyb3cgRXJyb3IoIidoZWFkZXJzJyBjYW5ub3QgYmUgbnVsbC4iKTtyZXR1cm4gY307ZnVuY3Rpb24gVyhhLGIsYyxkLGUsZixnKXtGLmNhbGwodGhpcyxudWxsKTt0aGlzLmI9YTt0aGlzLmY9Yjt0aGlzLmE9bnVsbDt0aGlzLmc9bmV3IGJiO3RoaXMubT10aGlzLmk9bnVsbDt0aGlzLkY9MDt0aGlzLlM9dGhpcy5aPXRoaXMuJD1udWxsO3RoaXMuYmE9Zzt0aGlzLko9bnVsbDt0aGlzLk89dGhpcy5oPSExO3RoaXMuVj10aGlzLlk9ITA7dGhpcy5LPSExO3RoaXMuYz17ZW5hYmxlQWRhcHRhdGlvbjohMCxzdHJlYW1CdWZmZXJTaXplOjE1LGxpdmVTdHJlYW1FbmRUaW1lb3V0OjE1LGxpY2Vuc2VSZXF1ZXN0VGltZW91dDpoYSxtcGRSZXF1ZXN0VGltZW91dDppYSxzZWdtZW50UmVxdWVzdFRpbWVvdXQ6amEscHJlZmVycmVkTGFuZ3VhZ2U6ImVuIixyZXN0cmljdGlvbnM6bmV3IGthfTt0aGlzLmw9Yzt0aGlzLkc9ZDt0aGlzLmNhPWU7dGhpcy5nYT1mO3RoaXMubz1udWxsO3RoaXMuaj0xO3RoaXMuVD1udWxsO3RoaXMudT10aGlzLkE9dGhpcy53PSExO3RoaXMuUj10aGlzLkI9Cm51bGx9cihXLEYpO3EoInNoYWthLnBsYXllci5QbGF5ZXIiLFcpO1cudmVyc2lvbj0idjEuNi40LWZiIjtXLmlzQnJvd3NlclN1cHBvcnRlZD1mdW5jdGlvbigpe3JldHVybiEhd2luZG93Lk1lZGlhU291cmNlJiYhIXdpbmRvdy5VaW50OEFycmF5fTsKVy5wcm90b3R5cGUuQmE9ZnVuY3Rpb24oKXt2YXIgYT17fSxiPXRoaXMuYTtpZihiKXt2YXIgYz1iLlhiKCk7YS5CYW5kd2lkdGhFc3RpbWF0b3I9Yy5CYW5kd2lkdGhFc3RpbWF0b3I7dmFyIGQ9Yy5WaWRlb1NvdXJjZVN0cmVhbTtkJiYoYS5WaWRlb1NvdXJjZVN0cmVhbT1kLChkPWEuVmlkZW9CdWZmZXJNYW5hZ2VyPWQuQmEoKS5Tb3VyY2VCdWZmZXJNYW5hZ2VyKSYmKGEuVmlkZW9Tb3VyY2VCdWZmZXI9ZC5CYSgpLlNvdXJjZUJ1ZmZlcikpOyhkPWEuQXVkaW9Tb3VyY2VTdHJlYW09Yy5BdWRpb1NvdXJjZVN0cmVhbSkmJihkPWEuQXVkaW9CdWZmZXJNYW5hZ2VyPWQuQmEoKS5Tb3VyY2VCdWZmZXJNYW5hZ2VyKSYmKGEuQXVkaW9Tb3VyY2VCdWZmZXI9ZC5CYSgpLlNvdXJjZUJ1ZmZlcik7YS5UZXh0U291cmNlU3RyZWFtPWMuVGV4dFNvdXJjZVN0cmVhbTthLmdldE1hbmlmZXN0PWIuVGIuYmluZChiKX1lbHNlIGEuZ2V0TWFuaWZlc3Q9ZnVuY3Rpb24oKXt9O2EuTmQ9ITA7cmV0dXJuIGF9OwpXLnByb3RvdHlwZS5nZXREZWJ1Zz1XLnByb3RvdHlwZS5CYTtXLnByb3RvdHlwZS5zYT1mdW5jdGlvbihhKXt0aGlzLlk9YX07Vy5wcm90b3R5cGUuc2V0UmVzdW1lQWZ0ZXJCdWZmZXJpbmc9Vy5wcm90b3R5cGUuc2E7ZnVuY3Rpb24gT2UoYSl7cmV0dXJuInRleHQvdnR0Ij09YT8hIXdpbmRvdy5WVFRDdWU6TWVkaWFTb3VyY2UuaXNUeXBlU3VwcG9ydGVkKGEpfVcuaXNUeXBlU3VwcG9ydGVkPU9lO1cuc2V0VGV4dFN0eWxlPWZ1bmN0aW9uKGEpe3ZhciBiPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJTaGFrYVBsYXllclRleHRTdHlsZSIpO2J8fChiPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInN0eWxlIiksYi5pZD0iU2hha2FQbGF5ZXJUZXh0U3R5bGUiLGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoYikpO2ZvcihiPWIuc2hlZXQ7Yi5jc3NSdWxlcy5sZW5ndGg7KWIuZGVsZXRlUnVsZSgwKTtiLmluc2VydFJ1bGUoIjo6Y3VlIHsgIityYShhKSsiIH0iLDApfTsKVy5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3JldHVybiB0aGlzLlUoKS50aGVuKEoodGhpcyxmdW5jdGlvbigpe3RoaXMuZy5kZXN0cm95KCk7dGhpcy5iPXRoaXMuZz1udWxsO3RoaXMuUiYmdGhpcy5SLnJlbW92ZSgpfSkpLmNhdGNoKGZ1bmN0aW9uKCl7fSl9O1cucHJvdG90eXBlLmRlc3Ryb3k9Vy5wcm90b3R5cGUuZGVzdHJveTtXLnByb3RvdHlwZS5VPWZ1bmN0aW9uKCl7dGhpcy5LPSEwO3JldHVybiBaZSh0aGlzKX07Vy5wcm90b3R5cGUudW5sb2FkPVcucHJvdG90eXBlLlU7CmZ1bmN0aW9uIFplKGEpe3ZhciBiO2EubCYmKGI9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigidW5sb2FkIikuc3RhcnQoKSk7aWYoIWEuYSlyZXR1cm4gYiYmYi5sb2coKSxQcm9taXNlLnJlc29sdmUoKTthLmgmJiRlKGEsInVubG9hZGluZyIpO2EuYi5wYXVzZSgpO2RiKGEuZyk7YWYoYSk7YmYoYSk7YS5pJiYoYS5pLmRlc3Ryb3koKSxhLmk9bnVsbCk7YS5hJiYoYS5hLmRlc3Ryb3koKSxhLmE9bnVsbCk7YS5mLmdldEJvb2woInd3d192aWRlb3NfcGxheWJhY2tfcmVtb3ZlX3NyY19hdHRyX29uX3VubG9hZCIsITEpP2EuYi5yZW1vdmVBdHRyaWJ1dGUoInNyYyIpOmEuYi5zcmM9IiI7dmFyIGM9YS5mLmdldEJvb2woInd3d19zaGFrYV9jbGVhcl9tZWRpYV9rZXlzX29uX3VubG9hZCIsITEpJiZhLmIuc2V0TWVkaWFLZXlzJiYiZnVuY3Rpb24iPT09dHlwZW9mIGEuYi5zZXRNZWRpYUtleXM/YS5iLnNldE1lZGlhS2V5cyhudWxsKTpQcm9taXNlLnJlc29sdmUoKSxjPWMudGhlbihmdW5jdGlvbigpe2ImJgpiLmxvZygpO2lmKGEuZi5nZXRCb29sKCJlbmFibGVfcDJwX3N1cHBvcnQiLCExKSl7dmFyIGM9eSh7dHlwZToidW5sb2FkIn0pO2EuZGlzcGF0Y2hFdmVudChjKX19KTthLmg9ITE7YS5PPSExO2EuQT0hMTthLnU9ITE7cmV0dXJuIGN9ZnVuY3Rpb24gY2YoYSxiKXtmb3IodmFyIGM9MDtjPGEubGVuZ3RoO2MrKyliLnB1c2goYVtjXS5jb250ZW50VHlwZSxhW2NdKX1XLnByb3RvdHlwZS5GYT1mdW5jdGlvbihhKXtyZXR1cm4gZGYodGhpcyxhKX07Vy5wcm90b3R5cGUubG9hZD1XLnByb3RvdHlwZS5GYTsKZnVuY3Rpb24gZGYoYSxiKXt2YXIgYzthLmwmJihjPWEubC5nZXRPcGVyYXRpb25Mb2dnZXIoImxvYWQiKS5zZXRTdGF0ZSgibG9hZGluZyIpLnN0YXJ0KCksYi5sPWIuZy5wZXJmb3JtYW5jZUxvZ2dlcj1hLmwpO2EuRyYmKGIuQWI9Yi5nLmFickxvZ2dlcj1hLkcpO2EuYmEmJihiLmlhPWEuYmEpO2EuY2EmJihiLkk9YS5jYSk7YS5nYSYmYi5VLnB1c2goYS5nYSk7ZWYoYixhLmIpO3ZhciBkPW51bGw7YS5LPSExO0UoYS5nLGIsInJlcGxpY2Fzd2l0Y2giLGEubmEuYmluZChhKSk7YS5hJiYoZD1aZShhKS50aGVuKEooYSxmdW5jdGlvbigpe3JldHVybiBiLndiKCl9KSkpO2EuYi5hdXRvcGxheSYmKHUucWEoImxvYWQiKSxFKGEuZyxhLmIsInRpbWV1cGRhdGUiLGEuZWQuYmluZChhKSkpO2IubGMoYS5jKTtiLmxhPWEuVDthLlQ9bnVsbDtkfHwoZD1iLndiKCkpO2EuZi5nZXRCb29sKCJmaXhfc2hha2FfcGxheWVyX2xvYWRfcmFjZV9jb25kaXRpb24iLCExKSYmKGEuYT1iKTtkLmNhdGNoKEooYSwKZnVuY3Rpb24oYSl7Yi5kZXN0cm95KCk7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfSkpO3JldHVybiBkLnRoZW4oSihhLGZ1bmN0aW9uKCl7aWYoZmYodGhpcyxiKSlyZXR1cm4gZ2YoKTt0aGlzLmE9Yjt0aGlzLmcuYWIodGhpcy5hLCJyZXBsaWNhc3dpdGNoIik7RSh0aGlzLmcsdGhpcy5hLCJzZWVrcmFuZ2VjaGFuZ2VkIix0aGlzLnBhLmJpbmQodGhpcykpO0UodGhpcy5nLHRoaXMuYSwiYWxsU3RyZWFtc1N0YXJ0ZWQiLHRoaXMuRmQuYmluZCh0aGlzKSk7dmFyIGE9bmV3IEQ7Y2YoTmUodGhpcy5hKSxhKTtQZSh0aGlzLmEsYSk7YT10aGlzLmVhKCk7YyYmMDxhLmxlbmd0aCYmKGE9YS5yZWR1Y2UoZnVuY3Rpb24oYSxiKXtpZihudWxsPT09YXx8Yi5iYW5kd2lkdGg8YS5iYW5kd2lkdGgpYT1iO3JldHVybiBhfSxudWxsKSxjLnNldExvd2VzdFF1YWxpdHlSZXByZXNlbnRhdGlvbklEKGEuc3RyZWFtSW5mb0lEKSk7aWYoIXRoaXMuYy5lbmFibGVDb250ZW50UHJvdGVjdGlvbilyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7CnRoaXMuaT1uZXcgTWUodGhpcyx0aGlzLmIsdGhpcy5hLHRoaXMubCk7cmV0dXJuIHRoaXMuaS5pbml0aWFsaXplKCl9KSkudGhlbihKKGEsZnVuY3Rpb24oKXtpZihmZih0aGlzLGIpKXJldHVybiBnZigpO2hmKHRoaXMpO0UodGhpcy5nLHRoaXMuYiwicGxheWluZyIsdGhpcy5rZC5iaW5kKHRoaXMpKTtFKHRoaXMuZyx0aGlzLmIsInBhdXNlIix0aGlzLm1hLmJpbmQodGhpcykpO0UodGhpcy5nLHRoaXMuYiwid2FpdGluZyIsdGhpcy5zZC5iaW5kKHRoaXMpKTtFKHRoaXMuZyx0aGlzLmIsInBsYXkiLHRoaXMuaWEuYmluZCh0aGlzKSk7cmV0dXJuIGpmKHRoaXMuYSx0aGlzLHRoaXMuYil9KSkudGhlbihKKGEsZnVuY3Rpb24oKXtpZihmZih0aGlzLGIpKXJldHVybiBnZigpO2lmKHRoaXMuYy5lbmFibGVDb250ZW50UHJvdGVjdGlvbil7dmFyIGE7dGhpcy5sJiYoYT10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJlbWVfYXR0YWNoIikpO3JldHVybiBTZSh0aGlzLmkpLnRoZW4oZnVuY3Rpb24oKXthJiYKYS5sb2coKX0pfXJldHVybiBQcm9taXNlLnJlc29sdmUoKX0pKS50aGVuKEooYSxmdW5jdGlvbigpe2lmKGZmKHRoaXMsYikpcmV0dXJuIGdmKCk7a2YodGhpcyk7YyYmYy51cGRhdGVTdGF0ZSgicmVhZHkiKS5sb2coKX0pKS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7YyYmYy5zZXRFcnJvcihKU09OLnN0cmluZ2lmeShhKSkubG9nKCk7aWYoZmYodGhpcyxiKSlyZXR1cm4gZ2YoKTtpZigiZGVzdHJveSIhPWEudHlwZSl7dmFyIGQ9QShhKTt0aGlzLmRpc3BhdGNoRXZlbnQoZCl9cmV0dXJuIHRoaXMuVSgpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYSl9KX0pKX1mdW5jdGlvbiBmZihhLGIpe3JldHVybiFhLmJ8fGEuS3x8YS5mLmdldEJvb2woImZpeF9zaGFrYV9wbGF5ZXJfbG9hZF9yYWNlX2NvbmRpdGlvbiIsITEpJiZiIT09YS5hfW49Vy5wcm90b3R5cGU7Cm4uRmQ9ZnVuY3Rpb24oKXt2YXIgYSxiO3RoaXMuZi5nZXRCb29sKCJ3d3dfdmlkZW9zX2V4dGVuZGVkX3NwbF9sb2dnaW5nX2Zvcl9jb25uZWN0ZWRfdHYiLCExKSYmdGhpcy5sJiYoYT10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJvbl9hbGxfc3RyZWFtc19zdGFydGVkIiksYj10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJyZXN0b3JlX3ZpZGVvX3BsYXliYWNrX3JhdGUiKSk7dGhpcy5PPSEwO3RoaXMuaD90aGlzLkQoKToodGhpcy5iLnBsYXliYWNrUmF0ZT10aGlzLmosYiYmYi5sb2coKSk7YSYmYS5sb2coKX07ZnVuY3Rpb24gZ2YoKXt2YXIgYT1FcnJvcigiUGxheWVyIGRlc3Ryb3llZCIpO2EudHlwZT0iZGVzdHJveSI7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfQpmdW5jdGlvbiBoZihhKXt2YXIgYj1hLmIucGFyZW50Tm9kZTtiJiZhLmYuZ2V0Qm9vbCgicHJldmVudF9wbGF5aW5nX29uX2luc3VmZmljaWVudF9idWZmZXIiLCExKSYmKGEuUj1ldmVudExpc3RlbmVyQ2FwdHVyZShiLCJwbGF5aW5nIixmdW5jdGlvbihhKXthLnRhcmdldD09PXRoaXMuYiYmdGhpcy5EKGEpfS5iaW5kKGEpKSl9bi5lZD1mdW5jdGlvbigpe3UuZW5kKCJsb2FkIik7dGhpcy5nLmFiKHRoaXMuYiwidGltZXVwZGF0ZSIpfTtuLnNkPWZ1bmN0aW9uKGEpe2xmKHRoaXMpO3RoaXMuZi5nZXRCb29sKCJ1bmlmeV9zdHJlYW1fc3RhcnRfd2l0aF9idWZmZXJfZGV0ZWN0b3IiLCExKSYmIXRoaXMuaCYmdGhpcy5EKGEpfTsKbi5rZD1mdW5jdGlvbigpe3UucWEoInBsYXlpbmciKTt0aGlzLmwmJnRoaXMubC5nZXRFdmVudExvZ2dlcigicGxheWluZyIpLnNldFN0YXRlKCJwbGF5aW5nIikubG9nKCk7IXRoaXMubSYmMD50aGlzLmomJih0aGlzLmIucGxheWJhY2tSYXRlPTAsdGhpcy5QKHRoaXMuYi5jdXJyZW50VGltZSxEYXRlLm5vdygpLHRoaXMuaikpO3RoaXMuaCYmIXRoaXMuViYmJGUodGhpcywicGxheWluZyIpfTtuLkJkPWZ1bmN0aW9uKGEpe3RoaXMudT1hfTtXLnByb3RvdHlwZS5zZXRQZW5kaW5nUGxheVJlcXVlc3Q9Vy5wcm90b3R5cGUuQmQ7Vy5wcm90b3R5cGUuaWE9ZnVuY3Rpb24oKXt0aGlzLnU9ITB9O1cucHJvdG90eXBlLm1hPWZ1bmN0aW9uKCl7dGhpcy5sJiZ0aGlzLmwuZ2V0RXZlbnRMb2dnZXIoInBhdXNlIikuc2V0U3RhdGUoInBhdXNlZCIpLmxvZygpO3UuZW5kKCJwbGF5aW5nIik7dS5nZXQoInBsYXlpbmciKTtiZih0aGlzKX07ClcucHJvdG90eXBlLnBhPWZ1bmN0aW9uKGEpe3RoaXMuRj1hLnN0YXJ0O3RoaXMuJD1hLmxhc3Q7dGhpcy5aPWEuZW5kO3RoaXMuUz1hLnNlZWtSYW5nZUdhcHM7dGhpcy5mLmdldEJvb2woIm5vX3NraXBfZ2Fwc19vbl9zZWVrX3JhbmdlX2NoYW5nZWQiLCExKXx8bGYodGhpcyl9O1cucHJvdG90eXBlLmVhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYT90aGlzLmEuWigpOltdfTtXLnByb3RvdHlwZS5nZXRWaWRlb1RyYWNrcz1XLnByb3RvdHlwZS5lYTtXLnByb3RvdHlwZS54YT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmE/dGhpcy5hLnZhKCk6W119O1cucHJvdG90eXBlLmdldEF1ZGlvVHJhY2tzPVcucHJvdG90eXBlLnhhO1cucHJvdG90eXBlLkRhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYT90aGlzLmEubWMoKTpbXX07Vy5wcm90b3R5cGUuZ2V0VGV4dFRyYWNrcz1XLnByb3RvdHlwZS5EYTsKVy5wcm90b3R5cGUuc2VsZWN0VmlkZW9UcmFjaz1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmE/dGhpcy5hLnNlbGVjdFZpZGVvVHJhY2soYSx2b2lkIDA9PWI/ITA6Yik6ITF9O1cucHJvdG90eXBlLnNlbGVjdFZpZGVvVHJhY2s9Vy5wcm90b3R5cGUuc2VsZWN0VmlkZW9UcmFjaztXLnByb3RvdHlwZS5HYT1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIHRoaXMuYT9tZih0aGlzLmEsImF1ZGlvIixhLHZvaWQgMD09Yj8hMDpiLGMpOiExfTtXLnByb3RvdHlwZS5zZWxlY3RBdWRpb1RyYWNrPVcucHJvdG90eXBlLkdhO1cucHJvdG90eXBlLkhhPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmE/bWYodGhpcy5hLCJ0ZXh0IixhLCExKTohMX07Vy5wcm90b3R5cGUuc2VsZWN0VGV4dFRyYWNrPVcucHJvdG90eXBlLkhhO1cucHJvdG90eXBlLndhPWZ1bmN0aW9uKGEpe3RoaXMuYSYmbmYodGhpcy5hLGEpfTtXLnByb3RvdHlwZS5lbmFibGVUZXh0VHJhY2s9Vy5wcm90b3R5cGUud2E7ClcucHJvdG90eXBlLnJhPWZ1bmN0aW9uKGEpe2JmKHRoaXMpO3RoaXMudyYmdGhpcy5ofHwhKDA8PWEpP3RoaXMuYi5wYXVzZWR8fCh0aGlzLmIucGxheWJhY2tSYXRlPTAsdGhpcy5QKHRoaXMuYi5jdXJyZW50VGltZSxEYXRlLm5vdygpLGEpKTp0aGlzLmIucGxheWJhY2tSYXRlPWE7dGhpcy5qPWF9O1cucHJvdG90eXBlLnNldFBsYXliYWNrUmF0ZT1XLnByb3RvdHlwZS5yYTtXLnByb3RvdHlwZS5rYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmp9O1cucHJvdG90eXBlLmdldFBsYXliYWNrUmF0ZT1XLnByb3RvdHlwZS5rYTtXLnByb3RvdHlwZS5DYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmE/dGhpcy5hLk9iKCk6bnVsbH07Vy5wcm90b3R5cGUuZ2V0TWFuaWZlc3Q9Vy5wcm90b3R5cGUuQ2E7Vy5wcm90b3R5cGUuUGE9ZnVuY3Rpb24oYSl7dGhpcy5UPWF9O1cucHJvdG90eXBlLnNldFBsYXliYWNrU3RhcnRUaW1lPVcucHJvdG90eXBlLlBhOwpXLnByb3RvdHlwZS5JPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYT8hIXRoaXMuYS5QKCk6ITF9O1cucHJvdG90eXBlLmlzTGl2ZT1XLnByb3RvdHlwZS5JOwpXLnByb3RvdHlwZS52YT1mdW5jdGlvbihhKXtpZihhKXt2YXIgYj1CKGEsImVuYWJsZUFkYXB0YXRpb24iKTtudWxsIT1iJiYodGhpcy5jLmVuYWJsZUFkYXB0YXRpb249Yik7Yj1CKGEsImVuZEJ1ZmZlcmluZ09uUGxheWluZyIpO251bGwhPWImJih0aGlzLlY9Yik7Yj1CKGEsInVzZVBsYXliYWNrUmF0ZUZvckJ1ZmZlcmluZyIpO251bGwhPWImJih0aGlzLnc9Yik7Yj1DKGEsInN0cmVhbUJ1ZmZlclNpemUiLDApO251bGwhPWImJih0aGlzLmMuc3RyZWFtQnVmZmVyU2l6ZT1iKTtiPUMoYSwiZHluYW1pY1N0cmVhbUJ1ZmZlclNpemUiLDApO251bGwhPWImJih0aGlzLmMuZHluYW1pY1N0cmVhbUJ1ZmZlclNpemU9Yik7bnVsbCE9YS5zbWFydEJ1ZmZlckFkanVzdG1lbnRQYXJhbXMmJih0aGlzLmMuc21hcnRCdWZmZXJBZGp1c3RtZW50UGFyYW1zPWEuc21hcnRCdWZmZXJBZGp1c3RtZW50UGFyYW1zKTtiPUIoYSwiYWRkQ2RuRGVidWdRdWVyeVBhcmFtZXRlcnMiKTtudWxsIT1iJiYKKHRoaXMuYy5hZGRDZG5EZWJ1Z1F1ZXJ5UGFyYW1ldGVycz1iKTtiPUMoYSwiaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemUiLDApO251bGwhPWImJih0aGlzLmMuaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemU9Yik7Yj1CKGEsImluY2x1ZGVTdHJlYW1CdWZmZXJTaXplSW5TdGFydE9mZnNldCIpO251bGwhPWImJih0aGlzLmMuaW5jbHVkZVN0cmVhbUJ1ZmZlclNpemVJblN0YXJ0T2Zmc2V0PWIpO2I9QyhhLCJqdW1wVG9MaXZlVGhyZXNob2xkIik7bnVsbCE9YiYmKHRoaXMuYy5qdW1wVG9MaXZlVGhyZXNob2xkPWIpO2I9QyhhLCJsaXZlU3RyZWFtRW5kVGltZW91dCIsMCk7bnVsbCE9YiYmKHRoaXMuYy5saXZlU3RyZWFtRW5kVGltZW91dD1iKTtiPUMoYSwibGljZW5zZVJlcXVlc3RUaW1lb3V0IiwwKTtudWxsIT1iJiYodGhpcy5jLmxpY2Vuc2VSZXF1ZXN0VGltZW91dD1iKTtiPUMoYSwibXBkUmVxdWVzdFRpbWVvdXQiLDApO251bGwhPWImJih0aGlzLmMubXBkUmVxdWVzdFRpbWVvdXQ9CmIpO2I9QyhhLCJtaW5NcGRSZWZyZXNoSW50ZXJ2YWwiLDApO251bGwhPWImJih0aGlzLmMubWluTXBkUmVmcmVzaEludGVydmFsPWIpO2I9QihhLCJlbmFibGVMaXZlSW50ZXJydXB0aW9uRGV0ZWN0aW9uIik7bnVsbCE9YiYmKHRoaXMuYy5lbmFibGVMaXZlSW50ZXJydXB0aW9uRGV0ZWN0aW9uPWIpO2I9QihhLCJlbmFibGVNYW5pZmVzdERlYnVnIik7bnVsbCE9YiYmKHRoaXMuYy5lbmFibGVNYW5pZmVzdERlYnVnPWIsRi5wcm90b3R5cGUub2M9YixifHwoRi5wcm90b3R5cGUuTGE9ZnVuY3Rpb24oKXt9KSk7Yj1CKGEsInJlc29sdmVWaWRlb1RpbWVVcGRhdGVPbkZyYWdtZW50ZWRUaW1lUmFuZ2VzIik7bnVsbCE9YiYmKHRoaXMuYy5yZXNvbHZlVmlkZW9UaW1lVXBkYXRlT25GcmFnbWVudGVkVGltZVJhbmdlcz1iKTtiPUMoYSwibGl2ZUludGVycnVwdGlvbkNvbnNlY3V0aXZlVXBkYXRlc1dpdGhvdXRDaGFuZ2UiKTtudWxsIT1iJiYodGhpcy5jLmxpdmVJbnRlcnJ1cHRpb25Db25zZWN1dGl2ZVVwZGF0ZXNXaXRob3V0Q2hhbmdlPQpiKTtiPUMoYSwibGl2ZUludGVycnVwdGlvbkNvbnNlY3V0aXZlVXBkYXRlc1dpdGhDaGFuZ2UiKTtudWxsIT1iJiYodGhpcy5jLmxpdmVJbnRlcnJ1cHRpb25Db25zZWN1dGl2ZVVwZGF0ZXNXaXRoQ2hhbmdlPWIpO2I9QihhLCJyZWFwcGVuZEluaXRTZWdtZW50QWZ0ZXJBYm9ydCIpO251bGwhPWImJih0aGlzLmMucmVhcHBlbmRJbml0U2VnbWVudEFmdGVyQWJvcnQ9Yik7Yj1CKGEsImxpdmVTZW5kUHVzaEhlYWRlcnMiKTtudWxsIT1iJiYodGhpcy5jLmxpdmVTZW5kUHVzaEhlYWRlcnM9Yik7Yj1DKGEsImxpdmVNYXhNYW5pZmVzdEZldGNoZXNXaXRoUHVzaCIpO251bGwhPWImJih0aGlzLmMubGl2ZU1heE1hbmlmZXN0RmV0Y2hlc1dpdGhQdXNoPWIpO2I9QyhhLCJsaXZlTWF4U2VnbWVudHNUb1B1c2giKTtudWxsIT1iJiYodGhpcy5jLmxpdmVNYXhTZWdtZW50c1RvUHVzaD1iKTtiPUMoYSwic2VnbWVudFJlcXVlc3RUaW1lb3V0IiwwKTtudWxsIT1iJiYodGhpcy5jLnNlZ21lbnRSZXF1ZXN0VGltZW91dD0KYik7Yj1ZYShhLCJwcmVmZXJyZWRMYW5ndWFnZSIpO251bGwhPWImJih0aGlzLmMucHJlZmVycmVkTGFuZ3VhZ2U9Yik7Yj1aYShhLCJyZXN0cmljdGlvbnMiLGthKTtudWxsIT1iJiYodGhpcy5jLnJlc3RyaWN0aW9ucz1iLmNsb25lKCkpO2I9YS5saXZlSW5pdGlhbFB1c2hSZXByZXNlbnRhdGlvbjtudWxsIT1iJiYodGhpcy5jLmxpdmVJbml0aWFsUHVzaFJlcHJlc2VudGF0aW9uPWIpO2I9YS5saXZlQXVkaW9QdXNoUmVwcmVzZW50YXRpb247bnVsbCE9YiYmKHRoaXMuYy5saXZlQXVkaW9QdXNoUmVwcmVzZW50YXRpb249Yik7Yj1hLnVzZUlubGluZUluaXRTZWdtZW50O251bGwhPWImJih0aGlzLmMudXNlSW5saW5lSW5pdFNlZ21lbnQ9Yik7Yj1CKGEsImRpc2FibGVDYWNoZUJ1c3RpbmdFdmVuVGhvdWdoSXRNYXlBZmZlY3RCYW5kd2lkdGhFc3RpbWF0aW9uIik7bnVsbCE9YiYmKFRjPSFiKTtiPUIoYSwiY3VycmVudFRpbWVEdXJpbmdSZWFkeVN0YXRlWmVyb1Rocm93cyIpO251bGwhPQpiJiYodGhpcy5jLmN1cnJlbnRUaW1lRHVyaW5nUmVhZHlTdGF0ZVplcm9UaHJvd3M9Yik7Yj1DKGEsImxpdmVEYXRhRmV0Y2hNYXhSZXRyaWVzIik7bnVsbCE9YiYmKHRoaXMuYy5saXZlRGF0YUZldGNoTWF4UmV0cmllcz1iKTtiPUMoYSwibGl2ZVNvdXJjZUJ1ZmZlckNsZWFyTWF4UmV0cmllcyIpO251bGwhPWImJih0aGlzLmMubGl2ZVNvdXJjZUJ1ZmZlckNsZWFyTWF4UmV0cmllcz1iKTtiPUIoYSwidXNlTG9uZ0NhY2hlRm9yTWFuaWZlc3QiKTtudWxsIT1iJiYodGhpcy5jLnVzZUxvbmdDYWNoZUZvck1hbmlmZXN0PWIpO2I9QihhLCJqdW1wVG9FYXJsaWVzdFBvc2l0aW9uSW5DdXJyZW50QmxvY2siKTtudWxsIT1iJiYodGhpcy5jLmp1bXBUb0VhcmxpZXN0UG9zaXRpb25JbkN1cnJlbnRCbG9jaz1iKTtiPUIoYSwiaWdub3JlTWluQnVmZmVyVGltZSIpO251bGwhPWImJih0aGlzLmMuaWdub3JlTWluQnVmZmVyVGltZT1iKTtiPUMoYSwicGxheWhlYWRGcmFnbWVudGVkR2FwRGlmZkFsbG93YW5jZSIpOwpudWxsIT1iJiYodGhpcy5jLnBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2U9Yik7Yj1CKGEsImZpeEJ1ZmZlcmluZ0dvYWxEZXRlcm1pbmF0aW9uIik7bnVsbCE9YiYmKHRoaXMuYy5maXhCdWZmZXJpbmdHb2FsRGV0ZXJtaW5hdGlvbj1iKTtiPUIoYSwic2tpcEVtcHR5U2VnbWVudHMiKTtudWxsIT1iJiYodGhpcy5jLnNraXBFbXB0eVNlZ21lbnRzPWIpOyhiPUIoYSwidXNlTWljcm9UYXNrVGltZW91dHMiKSkmJih0aGlzLmMudXNlTWljcm9UYXNrVGltZW91dHM9Yik7KGI9QihhLCJlbmFibGVSZXF1ZXN0UGlwZWxpbmluZyIpKSYmKHRoaXMuYy5lbmFibGVSZXF1ZXN0UGlwZWxpbmluZz1iKTsoYj1CKGEsImVuYWJsZVN0cmVhbWluZyIpKSYmKHRoaXMuYy5lbmFibGVTdHJlYW1pbmc9Yik7KGE9QihhLCJlbmFibGVDb250ZW50UHJvdGVjdGlvbiIpKSYmKHRoaXMuYy5lbmFibGVDb250ZW50UHJvdGVjdGlvbj1hKTt0aGlzLmEmJnRoaXMuYS5sYyh0aGlzLmMpfX07ClcucHJvdG90eXBlLmNvbmZpZ3VyZT1XLnByb3RvdHlwZS52YTtXLnByb3RvdHlwZS5PYT1mdW5jdGlvbihhKXt0aGlzLmEmJnRoaXMuYS5xYyhhKX07Vy5wcm90b3R5cGUuc2V0RW5hYmxlTGl2ZWhlYWRDYXRjaHVwPVcucHJvdG90eXBlLk9hO1cucHJvdG90eXBlLkVhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYT90aGlzLmEubmE6ITF9O1cucHJvdG90eXBlLmlzTGl2ZWhlYWRDYXRjaHVwRW5hYmxlZD1XLnByb3RvdHlwZS5FYTsKZnVuY3Rpb24gbGYoYSl7aWYoYS5mLmdldEJvb2woInNraXBfbWFuaWZlc3RfZ2FwX2Jhc2VkX29uX3N0cmVhbV9saW1pdHMiLCExKSYmKCFhLkkoKXx8IWEuZi5nZXRCb29sKCJub19za2lwX21hbmlmZXN0X2dhcHNfaWZfbGl2ZSIsITEpKSl7dmFyIGI7YS5mLmdldEJvb2woInNraXBfbWFuaWZlc3RfZ2Fwc191c2VfY2FjaGVkX3N0cmVhbV9saW1pdHMiLCExKT9hLmEmJm51bGwhPT1hLlM/Yj17c3RhcnQ6YS5GLGVuZDphLlosbGFzdDphLiQsWmE6YS5TfTpiPWEuYT9hLmEubmIoKTpudWxsOmI9YS5hP2EuYS5uYigpOm51bGw7aWYoYilmb3IodmFyIGM9YS5mLmdldE51bWJlcigic2tpcF9tYW5pZmVzdF9nYXBfYm91bmRhcnlfcHJlY2lzaW9uX21zIiwxRTMpLzFFMyxkPWIuWmEsZT1hLmIucGxheWJhY2tSYXRlLGY9YS5iLmN1cnJlbnRUaW1lLGc9MDtnPGQubGVuZ3RoOysrZyl7dmFyIGg9ZFtnXS5zdGFydFRpbWUtYyxrPWRbZ10uZW5kVGltZStjO2Y8PWsmJmY+PWgmJihhLmYuZ2V0Qm9vbCgiZml4X3NlZWtfcmFuZ2VfZ2FwX2JvdW5kYXJ5IiwKITEpfHwoaD1kW2ddLnN0YXJ0VGltZSxrPWRbZ10uZW5kVGltZSksMDw9ZT9iLmVuZD5rJiYoYS5iLmN1cnJlbnRUaW1lPWspOmIuc3RhcnQ8aCYmKGEuYi5jdXJyZW50VGltZT1oKSl9fX1XLnByb3RvdHlwZS5sYT1mdW5jdGlvbigpe3ZhciBhPXRoaXMuYSYmdGhpcy5hLm5iKCk7cmV0dXJuKGE9YSYme3N0YXJ0OmEuc3RhcnQsZW5kOmEuZW5kLGxhc3Q6YS5sYXN0LHNlZWtSYW5nZUdhcHM6YS5aYX0pfHxudWxsfTtXLnByb3RvdHlwZS5nZXRWaWRlb1NvdXJjZVN0cmVhbUxpbWl0cz1XLnByb3RvdHlwZS5sYTtXLnByb3RvdHlwZS55YT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmN9O1cucHJvdG90eXBlLmdldENvbmZpZ3VyYXRpb249Vy5wcm90b3R5cGUueWE7ZnVuY3Rpb24gYmYoYSl7YS5tJiYoY2xlYXJUaW1lb3V0KGEubSksYS5tPW51bGwpfQpmdW5jdGlvbiBrZihhKXt2YXIgYjthLmYuZ2V0Qm9vbCgid3d3X3ZpZGVvc19leHRlbmRlZF9zcGxfbG9nZ2luZ19mb3JfY29ubmVjdGVkX3R2IiwhMSkmJmEubCYmKGI9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigic3RhcnRfd2F0Y2hkb2ciKSk7YWYoYSk7YS5KPXNldFRpbWVvdXQoYS5ELmJpbmQoYSksMTAwKTtiJiZiLmxvZygpfWZ1bmN0aW9uIGFmKGEpe3ZhciBiO2EuZi5nZXRCb29sKCJ3d3dfdmlkZW9zX2V4dGVuZGVkX3NwbF9sb2dnaW5nX2Zvcl9jb25uZWN0ZWRfdHYiLCExKSYmYS5sJiYoYj1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJjYW5jZWxfd2F0Y2hkb2ciKSk7YS5KJiYoY2xlYXJUaW1lb3V0KGEuSiksYS5KPW51bGwpO2ImJmIubG9nKCl9ClcucHJvdG90eXBlLlA9ZnVuY3Rpb24oYSxiLGMpe3RoaXMubT1udWxsO3ZhciBkPShEYXRlLm5vdygpLWIpLzFFMypjO3RoaXMuYi5jdXJyZW50VGltZTx0aGlzLkYrKHRoaXMuSSgpPzE6LjA1KT90aGlzLmIucGF1c2UoKTooZD1NYXRoLm1heCh0aGlzLkYsYStkKSx0aGlzLmIuY3VycmVudFRpbWU9ZCx0aGlzLm09c2V0VGltZW91dCh0aGlzLlAuYmluZCh0aGlzLGEsYixjKSwyNTApKX07ZnVuY3Rpb24gb2YoYSl7cmV0dXJuIGEuZi5nZXRCb29sKCJ1bmlmeV9zdHJlYW1fc3RhcnRfd2l0aF9idWZmZXJfZGV0ZWN0b3IiLCExKSYmIWEuT30KZnVuY3Rpb24gJGUoYSxiKXtpZighb2YoYSkpe3UuZW5kKCJidWZmZXJpbmciKTtudWxsIT09YS5CJiYoYS5CPW51bGwpO2EubyYmKGEuby5zZXRDb25jbHVkZXIoYikubG9nKCksYS5vPW51bGwpO2lmKGEuRyl7dmFyIGM9RGF0ZS5ub3coKTthLkcuc2V0RXZlbnQoImJ1ZmZlcmluZyIpLnNldENsaWVudFRpbWVCZWdpbihNYXRoLnJvdW5kKGMtdS5nZXQoImJ1ZmZlcmluZyIpKSkuc2V0Q2xpZW50VGltZUVuZChNYXRoLnJvdW5kKGMpKS5sb2coKX1hLncmJihhLmIucGxheWJhY2tSYXRlPWEuaik7YS5oPSExO2EuZGlzcGF0Y2hFdmVudCh5KHt0eXBlOiJidWZmZXJpbmdFbmQifSkpO2EuQSYmKGEuQT0hMSxkaXNwYXRjaERvbUV2ZW50KGEuYiwicGxheWluZyIpKTthLnU9ITF9fVcucHJvdG90eXBlLmphPWZ1bmN0aW9uKGEpe3RoaXMuZGlzcGF0Y2hFdmVudCh5KGEpKX07Vy5wcm90b3R5cGUuZGlzcGF0Y2hFdmVudEV4dGVybj1XLnByb3RvdHlwZS5qYTsKZnVuY3Rpb24gcGYoYSl7dmFyIGI9YS5iLmJ1ZmZlcmVkO2lmKDE9PT1iLmxlbmd0aCliPWIuZW5kKDApO2Vsc2UgaWYoMD09PWIubGVuZ3RoKWI9MDtlbHNle2Zvcih2YXIgYz0wLGQ9MDtkPGIubGVuZ3RoOysrZCliLmVuZChkKT49YS5iLmN1cnJlbnRUaW1lJiYoYz1iLnN0YXJ0KGQpPD1hLmIuY3VycmVudFRpbWU/YysoYi5lbmQoZCktYS5iLmN1cnJlbnRUaW1lKTpjKyhiLmVuZChkKS1iLnN0YXJ0KGQpKSk7cmV0dXJuIGN9cmV0dXJuIE1hdGgubWF4KGItYS5iLmN1cnJlbnRUaW1lLDApfQpXLnByb3RvdHlwZS5EPWZ1bmN0aW9uKGEpe2lmKCF0aGlzLmYuZ2V0Qm9vbCgicHJldmVudF9wbGF5aW5nX29uX2luc3VmZmljaWVudF9idWZmZXIiLCExKXx8IXRoaXMuSyl7a2YodGhpcyk7dmFyIGI9YT9hLnR5cGU6IiIsYz0id2FpdGluZyI9PT1iO2lmKCF0aGlzLmIuZW5kZWQmJiF0aGlzLmIuc2Vla2luZ3x8Yyl7dmFyIGQ7dGhpcy5mLmdldEJvb2woInd3d192aWRlb3NfZXh0ZW5kZWRfc3BsX2xvZ2dpbmdfZm9yX2Nvbm5lY3RlZF90diIsITEpJiZ0aGlzLmwmJihkPXRoaXMubC5nZXRPcGVyYXRpb25Mb2dnZXIoIndhdGNoZG9nIikpO3ZhciBlPXRoaXMuYi5idWZmZXJlZCxmPWUubGVuZ3RoP2UuZW5kKGUubGVuZ3RoLTEpOjAsZzt0aGlzLmYuZ2V0Qm9vbCgiZml4X3Vuc3RhbGxfYnVmZmVyX2NhbGN1bGF0aW9uIiwhMSk/Zz1wZih0aGlzKTpnPU1hdGgubWF4KGYtdGhpcy5iLmN1cnJlbnRUaW1lLDApO3ZhciBoPXRoaXMuYi5jdXJyZW50VGltZSxlPXRoaXMuSSgpP3RoaXMuZi5nZXROdW1iZXIoImxpdmVfYnVmZmVyaW5nX3VuZGVyZmxvd190aHJlc2hvbGQiLAouNSk6dGhpcy5mLmdldE51bWJlcigiYnVmZmVyaW5nX3VuZGVyZmxvd190aHJlc2hvbGQiLDApLGs9dGhpcy5iLmR1cmF0aW9uLGs9aXNOYU4oayk/MDpNYXRoLm1heChrLS4wNSwwKSxmPWY+PWt8fGg+PWssYj1ifHwid2F0Y2hkb2dfdGltZXIiO2lmKHRoaXMuaCl7cWYodGhpcyxhKTthPXJmKHRoaXMuYSk7dmFyIGw9MDxhP2cvYTowO2c+YXx8c2YodGhpcy5hKXx8dGhpcy5mLmdldEJvb2woImZpeF9idWZmZXJpbmdfYXRfdGhlX2VuZF9vZl9wbGF5YmFjayIsITApJiZmPygkZSh0aGlzLGIpLHRoaXMuWSYmIXRoaXMudyYmdGhpcy5iLnBsYXkoKSk6dGhpcy5CIT09bCYmKHRoaXMuQj1sLHRoaXMuZGlzcGF0Y2hFdmVudCh5KHt0eXBlOiJidWZmZXJpbmdQcm9ncmVzcyIscHJvZ3Jlc3M6bH0pKSl9ZWxzZSB0aGlzLmIucGF1c2VkJiYhY3x8ISghZiYmZzxlfHxvZih0aGlzKSl8fCh0aGlzLmg9ITAsdGhpcy53P3RoaXMuYi5wbGF5YmFja1JhdGU9MDp0aGlzLmIucGF1c2UoKSx0aGlzLmwmJgohdGhpcy5vJiYoZz10aGlzLmIuYnVmZmVyZWQsZz1nLmxlbmd0aD9nLmVuZChnLmxlbmd0aC0xKTowLHRoaXMuZi5nZXRCb29sKCJmaXhfdW5zdGFsbF9idWZmZXJfY2FsY3VsYXRpb24iLCExKT9sPXBmKHRoaXMpOmw9TWF0aC5tYXgoZy10aGlzLmIuY3VycmVudFRpbWUsMCksZz0xRTMqKHJmKHRoaXMuYSktbCksdGhpcy5vPXRoaXMubC5nZXRPcGVyYXRpb25Mb2dnZXIoImJ1ZmZlcmluZyIpLnNldExlbmd0aChNYXRoLnJvdW5kKGcpKS5zZXRUeXBlKHRoaXMudT8ic3RhcnQvdW5wYXVzZSI6ImluX3BsYXkiKS5zZXRJbml0aWF0b3IoYikuc3RhcnQoKSksdS5xYSgiYnVmZmVyaW5nIiksdGhpcy5kaXNwYXRjaEV2ZW50KHkoe3R5cGU6ImJ1ZmZlcmluZ1N0YXJ0In0pKSx0aGlzLmYuZ2V0Qm9vbCgibm9fc2tpcF9nYXBzX29uX2J1ZmZlcmluZyIsITEpfHxsZih0aGlzKSxxZih0aGlzLGEpKSxzZih0aGlzLmEpJiYkZSh0aGlzLGIpO2QmJmQubG9nKCl9ZWxzZSB0aGlzLmYuZ2V0Qm9vbCgiZml4X2ZmX2luX3BsYXlfc3RhbGxfdXBvbl9zZWVrIiwKITEpJiZxZih0aGlzLGEpfX07Vy5wcm90b3R5cGUubmE9ZnVuY3Rpb24oYSl7dGhpcy5kaXNwYXRjaEV2ZW50KGEpfTtmdW5jdGlvbiBxZihhLGIpe2ImJiJwbGF5aW5nIj09PWIudHlwZSYmKGEuQT0hMCxldmVudEtpbGwoYikpfVcucHJvdG90eXBlLnRhPWZ1bmN0aW9uKGEpe2lmKHRoaXMuYSl7dmFyIGI9dGhpcy5hO2IuYy52aWRlbyYmYi5jLnZpZGVvLkpjKGEpfX07Vy5wcm90b3R5cGUuc2V0VmlkZW9TdHJlYW1PZmZzZXQ9Vy5wcm90b3R5cGUudGE7ZnVuY3Rpb24gdGYoYSl7Zm9yKHZhciBiPTA7YjxhLmxlbmd0aDsrK2IpZm9yKHZhciBjPWFbYl0sZD0wO2Q8Yy5hLmxlbmd0aDsrK2Qpe2Zvcih2YXIgZT1jLmFbZF0sZj1lLGc9L3ZpZGVvXC93ZWJtOyBjb2RlY3M9ImF2MDEuKiIvLGg9ITEsaz0wO2s8Zi52Lmxlbmd0aDsrK2spe3ZhciBsPWYudltrXTtPZShOZChsKSk/Zy50ZXN0KE5kKGwpKSYmKGg9ITApOihmLnYuc3BsaWNlKGssMSksLS1rKX1pZihoKWZvcihrPTA7azxmLnYubGVuZ3RoOysraylsPWYudltrXSxnLnRlc3QoTmQobCkpfHwoZi52LnNwbGljZShrLDEpLC0tayk7MD09ZS52Lmxlbmd0aCYmKGMuYS5zcGxpY2UoZCwxKSwtLWQpfWZvcihiPTA7YjxhLmxlbmd0aDsrK2IpZm9yKGM9YVtiXSxkPTA7ZDxjLmEubGVuZ3RoOysrZCljLmFbZF0udi5zb3J0KHVmKX0KZnVuY3Rpb24gdWYoYSxiKXt2YXIgYz1hLmJhbmR3aWR0aHx8TnVtYmVyLk1BWF9WQUxVRSxkPWIuYmFuZHdpZHRofHxOdW1iZXIuTUFYX1ZBTFVFO3JldHVybiBjPGQ/LTE6Yz5kPzE6MH07ZnVuY3Rpb24gdmYoYSl7dGhpcy5hPWF9dmYucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmEuZGVzdHJveSgpO3RoaXMuYT1udWxsfTt2Zi5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKGEpe3ZhciBiPXdmKGEsbnVsbCksYz13Zih0aGlzLmEsYSk7cmV0dXJuIFByb21pc2UuYWxsKFtiLGNdKS50aGVuKEoodGhpcyxmdW5jdGlvbihiKXt2YXIgYz1iWzBdO2I9YlsxXTt0Zih0aGlzLmEuYSk7YS5iJiYhdGhpcy5hLmImJihhLmg9ITApO2EuYz10aGlzLmEuYzthLmk9dGhpcy5hLmk/dGhpcy5hLmkuY2xvbmUoKTpudWxsO2EuZz10aGlzLmEuZzt2YXIgZj1bXTt4ZihhLHRoaXMuYSxjLGIsZik7dGYoYS5hKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGYpfSkpfTsKZnVuY3Rpb24gd2YoYSxiKXtmdW5jdGlvbiBjKGEsYil7cmV0dXJuIGEuY29uY2F0KGIpfXZhciBkPWEuYS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuYX0pLnJlZHVjZShjLFtdKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEudn0pLnJlZHVjZShjLFtdKTtpZihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInRlbXBsYXRlZF9sYXN0X3hfdGltZWxpbmUiLCExKSYmYil2YXIgZT1iLmEubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLmF9KS5yZWR1Y2UoYyxbXSkubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLnZ9KS5yZWR1Y2UoYyxbXSkubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLk0uY3JlYXRlKCl9KSxlPVByb21pc2UuYWxsKGUpLnRoZW4oZnVuY3Rpb24oYSl7Zm9yKHZhciBiPU51bWJlci5QT1NJVElWRV9JTkZJTklUWSxjPTA7YzxhLmxlbmd0aDsrK2Mpe3ZhciBlPWFbY107ZS5sZW5ndGgoKSYmZS5sYXN0KCkudW5zY2FsZWRTdGFydFRpbWU8YiYmKGI9ZS5sYXN0KCkudW5zY2FsZWRTdGFydFRpbWUpfWI9CmEubGVuZ3RoP2I6bnVsbDthPWQubWFwKGZ1bmN0aW9uKGEpe2EuTS5FYyYmYS5NLkVjKGIpO3JldHVybiBhLk0uY3JlYXRlKCl9KTtyZXR1cm4gUHJvbWlzZS5hbGwoYSl9KTtlbHNlIGU9ZC5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuTS5jcmVhdGUoKX0pLGU9UHJvbWlzZS5hbGwoZSk7cmV0dXJuIGUudGhlbihmdW5jdGlvbihhKXtmb3IodmFyIGI9e30sYz0wO2M8ZC5sZW5ndGg7KytjKWJbZFtjXS5YXT1hW2NdO3JldHVybiBQcm9taXNlLnJlc29sdmUoYil9KX0KZnVuY3Rpb24geGYoYSxiLGMsZCxlKXt2YXIgZj1uZXcgRDthLmEuZm9yRWFjaChmdW5jdGlvbihhLGIpe2YucHVzaChhLmlkfHwiIitiLGEpfSk7dmFyIGc9bmV3IEQ7Yi5hLmZvckVhY2goZnVuY3Rpb24oYSxiKXtnLnB1c2goYS5pZHx8IiIrYixhKX0pO2E9YWIoZik7Zm9yKGI9MDtiPGEubGVuZ3RoOysrYil7dmFyIGg9YVtiXSxrPWYuZ2V0KGgpOzE8ay5sZW5ndGh8fChoPWcuZ2V0KGgpKSYmMCE9aC5sZW5ndGgmJjE9PWgubGVuZ3RoJiYoeWYoa1swXSxoWzBdLGMsZCxlKSxrWzBdLmR1cmF0aW9uPWhbMF0uZHVyYXRpb24pfX0KZnVuY3Rpb24geWYoYSxiLGMsZCxlKXt2YXIgZj1uZXcgRDthLmEuZm9yRWFjaChmdW5jdGlvbihhLGIpe2YucHVzaChhLmlkfHwiIitiLGEpfSk7dmFyIGc9bmV3IEQ7Yi5hLmZvckVhY2goZnVuY3Rpb24oYSxiKXtnLnB1c2goYS5pZHx8IiIrYixhKX0pO2E9YWIoZik7Zm9yKGI9MDtiPGEubGVuZ3RoOysrYil7dmFyIGg9YVtiXSxrPWYuZ2V0KGgpOzE8ay5sZW5ndGh8fChoPWcuZ2V0KGgpKSYmMCE9aC5sZW5ndGgmJjE9PWgubGVuZ3RoJiZ6ZihrWzBdLGhbMF0sYyxkLGUpfX0KZnVuY3Rpb24gemYoYSxiLGMsZCxlKXt2YXIgZj1uZXcgRDthLnYuZm9yRWFjaChmdW5jdGlvbihhLGIpe2YucHVzaChhLmlkfHwiIitiLGEpfSk7dmFyIGc9bmV3IEQ7Yi52LmZvckVhY2goZnVuY3Rpb24oYSxiKXtnLnB1c2goYS5pZHx8IiIrYixhKX0pO2I9e307Zm9yKHZhciBoPWFiKGYpLGs9MDtrPGgubGVuZ3RoOysrayl7dmFyIGw9aFtrXTtiW2xdPWw7dmFyIG09Zi5nZXQobCk7MTxtLmxlbmd0aHx8KChsPWcuZ2V0KGwpKSYmMCE9bC5sZW5ndGg/MT09bC5sZW5ndGgmJihCZihtWzBdLGxbMF0sYyxkKSxtWzBdLmFhPWxbMF0uYWEsbFswXS5hYT1udWxsLG1bMF0uYT1sWzBdLmEsVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJyZWZyZXNoX2JhbmR3aWR0aF9mcm9tX2xpdmVfbWFuaWZlc3QiLCExKSYmKG1bMF0uYmFuZHdpZHRoPWxbMF0uYmFuZHdpZHRoKSk6KGUucHVzaChtWzBdKSxhLnYuc3BsaWNlKGEudi5pbmRleE9mKG1bMF0pLDEpKSl9aD1hYihnKTsKZm9yKGs9MDtrPGgubGVuZ3RoOysraylsPWhba10sYltsXXx8KGJbbF09bCxsPWcuZ2V0KGwpLGEudi5wdXNoKGxbMF0pKX1mdW5jdGlvbiBCZihhLGIsYyxkKXthPWNbYS5YXTtjPWRbYi5YXTtkPShiPWEubGVuZ3RoKCkpP2EubGFzdCgpLmVuZFRpbWU6MDtpZihhLkIoYykpe2M9YS5sZW5ndGgoKTt2YXIgZT0hMTtWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInJvYnVzdF9jb3VudF9jaGFuZ2VzIiwhMSkmJihlPSEhYyYmYS5sYXN0KCkuZW5kVGltZT5kKTthLmcucHVzaChiIT09Y3x8ZSk7NTA8YS5nLmxlbmd0aCYmYS5nLnNoaWZ0KCl9fTtmdW5jdGlvbiBYKCl7dGhpcy5hPXRoaXMuYj1udWxsO3RoaXMuZj1uZXcgYmI7dGhpcy5jPU51bWJlci5QT1NJVElWRV9JTkZJTklUWTt0aGlzLmk9ITA7dGhpcy5nPSExfXEoInNoYWthLm1lZGlhLlNpbXBsZUFick1hbmFnZXIiLFgpO1gucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmYuZGVzdHJveSgpO3RoaXMuYT10aGlzLmI9dGhpcy5mPW51bGx9O1gucHJvdG90eXBlLmluaXRpYWxpemU9ZnVuY3Rpb24oYSxiKXt0aGlzLmJ8fHRoaXMuYXx8KHRoaXMuYj1hLHRoaXMuYT1iKX07ClgucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKCl7dGhpcy5iJiZ0aGlzLmEmJiF0aGlzLmcmJih0aGlzLmM9RGF0ZS5ub3coKSs0RTMsRSh0aGlzLmYsdGhpcy5iLmdldEVzdGltYXRvcigpLCJiYW5kd2lkdGgiLHRoaXMubS5iaW5kKHRoaXMpKSxFKHRoaXMuZix0aGlzLmEsImFkYXB0YXRpb24iLHRoaXMuai5iaW5kKHRoaXMpKSxFKHRoaXMuZix0aGlzLmEsInRyYWNrc2NoYW5nZWQiLHRoaXMuaC5iaW5kKHRoaXMpKSx0aGlzLmc9ITApfTtYLnByb3RvdHlwZS5lbmFibGU9ZnVuY3Rpb24oYSl7dGhpcy5pPWF9O1gucHJvdG90eXBlLmdldEluaXRpYWxWaWRlb1RyYWNrSWQ9ZnVuY3Rpb24oKXtpZighdGhpcy5ifHwhdGhpcy5hKXJldHVybiBudWxsO3ZhciBhPUNmKHRoaXMpO3JldHVybiBhP2EuaWQ6bnVsbH07WC5wcm90b3R5cGUuZ2V0SW5pdGlhbFN3aXRjaFJlYXNvbj1mdW5jdGlvbigpe3JldHVybiBudWxsfTtYLnByb3RvdHlwZS5nZXRJbml0aWFsQXVkaW9UcmFja0lkPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9OwpYLnByb3RvdHlwZS5zZWxlY3RWaWRlb1RyYWNrPWZ1bmN0aW9uKGEsYixjKXt0aGlzLmcmJnRoaXMuYS5zZWxlY3RWaWRlb1RyYWNrKGEuaWQsYixjKX07WC5wcm90b3R5cGUubT1mdW5jdGlvbigpe0RhdGUubm93KCk8dGhpcy5jfHx0aGlzLmgoKX07WC5wcm90b3R5cGUuaD1mdW5jdGlvbigpe2lmKHRoaXMuaSl7dmFyIGE9Q2YodGhpcyk7aWYoYSl7aWYoYS5hY3RpdmUpe3RoaXMuYz1EYXRlLm5vdygpKzNFMztyZXR1cm59dGhpcy5zZWxlY3RWaWRlb1RyYWNrKGEsITEpfXRoaXMuYz1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFl9fTtYLnByb3RvdHlwZS5qPWZ1bmN0aW9uKCl7dGhpcy5jPT1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkmJih0aGlzLmM9RGF0ZS5ub3coKSszRTQpfTsKZnVuY3Rpb24gQ2YoYSl7dmFyIGI9YS5hLlooKTtpZigwPT1iLmxlbmd0aClyZXR1cm4gbnVsbDtiLnNvcnQodmEpO3ZhciBjO2E6e2M9YS5hLnZhKCk7Zm9yKHZhciBkPTA7ZDxjLmxlbmd0aDsrK2QpaWYoY1tkXS5hY3RpdmUpe2M9Y1tkXTticmVhayBhfWM9bnVsbH1jPWM/Yy5iYW5kd2lkdGg6MDthPWEuYi5nZXRCYW5kd2lkdGgoKTtmb3IodmFyIGQ9YlswXSxlPTA7ZTxiLmxlbmd0aDsrK2Upe3ZhciBmPWJbZV0sZz1lKzE8Yi5sZW5ndGg/YltlKzFdOntiYW5kd2lkdGg6TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZfTtpZihmLmJhbmR3aWR0aCYmKGc9KGcuYmFuZHdpZHRoK2MpLy44NSxhPj0oZi5iYW5kd2lkdGgrYykvLjk1JiZhPD1nJiYoZD1mLGQuYWN0aXZlKSkpYnJlYWt9cmV0dXJuIGR9O2Z1bmN0aW9uIFkoYSxiLGMsZCl7Ri5jYWxsKHRoaXMsbnVsbCk7dGhpcy5iPWE7dGhpcy5hPWI7dGhpcy53YT1jO3RoaXMua2I9bmV3IFZpZGVvUGxheWVyTG9jYWxCYW5kd2lkdGhFc3RpbWF0b3IodGhpcyxjLGIpO3RoaXMuaD1uZXcgYmI7dGhpcy5pPW5ldyBNZWRpYVNvdXJjZTt0aGlzLmJhPXRoaXMudmlkZW89bnVsbDt0aGlzLkJiPTA7dGhpcy5uYz10aGlzLlpiPSExO3RoaXMuTGI9aWE7dGhpcy5BYj10aGlzLlY9dGhpcy5pYT10aGlzLmw9bnVsbDt0aGlzLktiPTM7dGhpcy5yYT10aGlzLiRiPXRoaXMuRmE9dGhpcy5FYT0hMTt0aGlzLlBhPTA7dGhpcy5kYT1uZXcgVmlkZW9QdXNoVHJhY2tlcjt0aGlzLmdhPW51bGw7dGhpcy5pYz0xO3RoaXMuZ2M9SW5maW5pdHk7dGhpcy5VYj10aGlzLlNiPSExO3RoaXMucGE9dGhpcy5PYT1udWxsO3RoaXMuV2I9dGhpcy5WYj10aGlzLkdhPXRoaXMuY2M9dGhpcy5tYT0hMTt0aGlzLmY9bmV3IEQ7dGhpcy5BPWQ7dGhpcy5BLmluaXRpYWxpemUodGhpcy5rYiwKdGhpcyk7dGhpcy5PPSExO3RoaXMuUz0iZW4iO3RoaXMueWE9ITE7dGhpcy5KPW5ldyBJO3RoaXMuSWI9bmV3IEk7dGhpcy5tPW5ldyBrYTt0aGlzLkQ9bnVsbDt0aGlzLmtjPTE7dGhpcy5jPXt9O3RoaXMuc2E9bmV3IEk7dGhpcy5qYT0wO3RoaXMuZ2I9MTVFMzt0aGlzLmo9bnVsbDt0aGlzLmVjPSExO3RoaXMuZGM9MDt0aGlzLkNhPSExO3RoaXMuQj17fTt0aGlzLmxhPXRoaXMua2E9dGhpcy51PW51bGw7dGhpcy5nPXt9O3RoaXMuJD0hMTt0aGlzLmZjPTA7dGhpcy5LPXRoaXMuYS5nZXROdW1iZXIoImJ1ZmZlcmluZ19vdmVyZmxvd190aHJlc2hvbGQiLDApO3RoaXMucGM9bnVsbDt0aGlzLm89e307dGhpcy53PXt9O3RoaXMuUj1udWxsO3RoaXMuVT1bXTt0aGlzLlQ9dGhpcy5JPW51bGw7dGhpcy5HPW5ldyBOZXR3b3JrU3RhdHVzRGV0ZWN0b3I7dGhpcy5oYz0hMTt0aGlzLm5hPSEwO3RoaXMuZWE9ITE7dGhpcy51Yz1uZXcgU3Vic2NyaXB0aW9uc0hhbmRsZXI7dGhpcy5ZYj0hMTsKdGhpcy54YT0xO3RoaXMuSWQ9dGhpcy5hLmdldE51bWJlcigic3RyZWFtX21heGltdW1fb25wYXVzZV9idWZmZXJfc2l6ZV9tdWx0aXBsaWVyIiwwKTt0aGlzLmNhPW51bGw7dGhpcy5hLmdldEJvb2woImFsbG93X2luZmluaXRlX3JldHJ5X29uX25ldF9lcnIiLCEwKSYmdGhpcy51Yy5hZGRTdWJzY3JpcHRpb25zKHRoaXMuRy5hZGRMaXN0ZW5lcigibmV0d29ya0ludGVycnVwdGVkIix0aGlzLlRjLHRoaXMpLHRoaXMuRy5hZGRMaXN0ZW5lcigibmV0d29ya1Jlc3VtZWQiLHRoaXMuVWMsdGhpcyksdGhpcy5HLmFkZExpc3RlbmVyKCJzeXN0ZW1XYWtlIix0aGlzLlZjLHRoaXMpKX1yKFksRik7cSgic2hha2EucGxheWVyLlN0cmVhbVZpZGVvU291cmNlIixZKTtZLnByb3RvdHlwZS5YYj1mdW5jdGlvbigpe3JldHVybntWaWRlb1NvdXJjZVN0cmVhbTp0aGlzLmMudmlkZW8sQXVkaW9Tb3VyY2VTdHJlYW06dGhpcy5jLmF1ZGlvLFRleHRTb3VyY2VTdHJlYW06dGhpcy5jLnRleHQsQmFuZHdpZHRoRXN0aW1hdG9yOnRoaXMud2F9fTsKWS5wcm90b3R5cGUuZ2V0U3RyZWFtRGVidWc9WS5wcm90b3R5cGUuWGI7WS5wcm90b3R5cGUuUGM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iP3RoaXMuYi53OiJub25lIn07WS5wcm90b3R5cGUuZ2V0TXBkQXVkaW9Db25maWc9WS5wcm90b3R5cGUuUGM7ClkucHJvdG90eXBlLmxjPWZ1bmN0aW9uKGEpe251bGwhPWEuc3RyZWFtQnVmZmVyU2l6ZSYmKHRoaXMuZy5zdHJlYW1CdWZmZXJTaXplPWEuc3RyZWFtQnVmZmVyU2l6ZSk7bnVsbCE9YS5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZSYmKHRoaXMuZy5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZT1hLmluaXRpYWxTdHJlYW1CdWZmZXJTaXplKTtudWxsIT1hLmR5bmFtaWNTdHJlYW1CdWZmZXJTaXplJiYodGhpcy5nLmR5bmFtaWNTdHJlYW1CdWZmZXJTaXplPWEuZHluYW1pY1N0cmVhbUJ1ZmZlclNpemUpO251bGwhPWEuc21hcnRCdWZmZXJBZGp1c3RtZW50UGFyYW1zJiYodGhpcy5nLnNtYXJ0QnVmZmVyQWRqdXN0bWVudFBhcmFtcz1hLnNtYXJ0QnVmZmVyQWRqdXN0bWVudFBhcmFtcyk7bnVsbCE9YS5hZGRDZG5EZWJ1Z1F1ZXJ5UGFyYW1ldGVycyYmKHRoaXMuZy5hZGRDZG5EZWJ1Z1F1ZXJ5UGFyYW1ldGVycz1hLmFkZENkbkRlYnVnUXVlcnlQYXJhbWV0ZXJzKTtudWxsIT1hLnNlZ21lbnRSZXF1ZXN0VGltZW91dCYmCih0aGlzLmcuc2VnbWVudFJlcXVlc3RUaW1lb3V0PWEuc2VnbWVudFJlcXVlc3RUaW1lb3V0KTtudWxsIT1hLnJlc29sdmVWaWRlb1RpbWVVcGRhdGVPbkZyYWdtZW50ZWRUaW1lUmFuZ2VzJiYodGhpcy5nLnJlc29sdmVWaWRlb1RpbWVVcGRhdGVPbkZyYWdtZW50ZWRUaW1lUmFuZ2VzPWEucmVzb2x2ZVZpZGVvVGltZVVwZGF0ZU9uRnJhZ21lbnRlZFRpbWVSYW5nZXMpO251bGwhPWEucmVhcHBlbmRJbml0U2VnbWVudEFmdGVyQWJvcnQmJih0aGlzLmcucmVhcHBlbmRJbml0U2VnbWVudEFmdGVyQWJvcnQ9YS5yZWFwcGVuZEluaXRTZWdtZW50QWZ0ZXJBYm9ydCk7bnVsbCE9YS5saXZlRGF0YUZldGNoTWF4UmV0cmllcyYmKHRoaXMuZy5saXZlRGF0YUZldGNoTWF4UmV0cmllcz1hLmxpdmVEYXRhRmV0Y2hNYXhSZXRyaWVzKTtudWxsIT1hLmxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXMmJih0aGlzLmcubGl2ZVNvdXJjZUJ1ZmZlckNsZWFyTWF4UmV0cmllcz1hLmxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXMpOwpudWxsIT1hLnBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2UmJih0aGlzLmcucGxheWhlYWRGcmFnbWVudGVkR2FwRGlmZkFsbG93YW5jZT1hLnBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2UpO251bGwhPWEuZml4QnVmZmVyaW5nR29hbERldGVybWluYXRpb24mJih0aGlzLmcuZml4QnVmZmVyaW5nR29hbERldGVybWluYXRpb249YS5maXhCdWZmZXJpbmdHb2FsRGV0ZXJtaW5hdGlvbik7bnVsbCE9YS5za2lwRW1wdHlTZWdtZW50cyYmKHRoaXMuZy5za2lwRW1wdHlTZWdtZW50cz1hLnNraXBFbXB0eVNlZ21lbnRzKTtudWxsIT1hLnVzZU1pY3JvVGFza1RpbWVvdXRzJiYodGhpcy5nLnVzZU1pY3JvVGFza1RpbWVvdXRzPWEudXNlTWljcm9UYXNrVGltZW91dHMpO0RmKHRoaXMpO251bGwhPWEuaW5jbHVkZVN0cmVhbUJ1ZmZlclNpemVJblN0YXJ0T2Zmc2V0JiYodGhpcy5aYj1Cb29sZWFuKGEuaW5jbHVkZVN0cmVhbUJ1ZmZlclNpemVJblN0YXJ0T2Zmc2V0KSk7Cm51bGwhPWEubGl2ZUF1ZGlvUHVzaFJlcHJlc2VudGF0aW9uJiYodGhpcy5wYT1TdHJpbmcoYS5saXZlQXVkaW9QdXNoUmVwcmVzZW50YXRpb24pKTtudWxsIT1hLmxpdmVJbml0aWFsUHVzaFJlcHJlc2VudGF0aW9uJiYodGhpcy5PYT1TdHJpbmcoYS5saXZlSW5pdGlhbFB1c2hSZXByZXNlbnRhdGlvbikpO251bGwhPWEuZW5hYmxlQWRhcHRhdGlvbiYmdGhpcy5BLmVuYWJsZShCb29sZWFuKGEuZW5hYmxlQWRhcHRhdGlvbikpO251bGwhPWEubXBkUmVxdWVzdFRpbWVvdXQmJih0aGlzLkxiPU51bWJlcihhLm1wZFJlcXVlc3RUaW1lb3V0KSk7bnVsbCE9YS5taW5NcGRSZWZyZXNoSW50ZXJ2YWwmJih0aGlzLktiPU51bWJlcihhLm1pbk1wZFJlZnJlc2hJbnRlcnZhbCkvMUUzKTtudWxsIT1hLmVuYWJsZU1hbmlmZXN0RGVidWcmJih0aGlzLlViPSEhYS5lbmFibGVNYW5pZmVzdERlYnVnKTtudWxsIT1hLmxpdmVTdHJlYW1FbmRUaW1lb3V0JiYodGhpcy5nYj1OdW1iZXIoYS5saXZlU3RyZWFtRW5kVGltZW91dCkpOwpudWxsIT1hLnByZWZlcnJlZExhbmd1YWdlJiYodGhpcy5TPVNhKFN0cmluZyhhLnByZWZlcnJlZExhbmd1YWdlKSkpO251bGwhPWEubGl2ZVNlbmRQdXNoSGVhZGVycyYmKHRoaXMucmE9Qm9vbGVhbihhLmxpdmVTZW5kUHVzaEhlYWRlcnMpKTtudWxsIT1hLmxpdmVNYXhNYW5pZmVzdEZldGNoZXNXaXRoUHVzaCYmKHRoaXMuUGE9TnVtYmVyKGEubGl2ZU1heE1hbmlmZXN0RmV0Y2hlc1dpdGhQdXNoKSk7bnVsbCE9YS5jdXJyZW50VGltZUR1cmluZ1JlYWR5U3RhdGVaZXJvVGhyb3dzJiYodGhpcy5TYj1Cb29sZWFuKGEuY3VycmVudFRpbWVEdXJpbmdSZWFkeVN0YXRlWmVyb1Rocm93cykpO251bGwhPWEubGl2ZU1heFNlZ21lbnRzVG9QdXNoJiYodGhpcy5nYz1OdW1iZXIoYS5saXZlTWF4U2VnbWVudHNUb1B1c2gpKTtudWxsIT1hLmp1bXBUb0xpdmVUaHJlc2hvbGQmJih0aGlzLmRjPU51bWJlcihhLmp1bXBUb0xpdmVUaHJlc2hvbGQpKTtudWxsIT1hLnJlc3RyaWN0aW9ucyYmKHRoaXMubT0KYS5yZXN0cmljdGlvbnMsdGhpcy5PJiZFZih0aGlzKSk7bnVsbCE9YS51c2VMb25nQ2FjaGVGb3JNYW5pZmVzdCYmKHRoaXMubWE9Qm9vbGVhbihhLnVzZUxvbmdDYWNoZUZvck1hbmlmZXN0KSk7bnVsbCE9YS5qdW1wVG9FYXJsaWVzdFBvc2l0aW9uSW5DdXJyZW50QmxvY2smJih0aGlzLmNjPUJvb2xlYW4oYS5qdW1wVG9FYXJsaWVzdFBvc2l0aW9uSW5DdXJyZW50QmxvY2spKTtudWxsIT1hLmlnbm9yZU1pbkJ1ZmZlclRpbWUmJih0aGlzLkdhPUJvb2xlYW4oYS5pZ25vcmVNaW5CdWZmZXJUaW1lKSk7bnVsbCE9PWEuZW5hYmxlUmVxdWVzdFBpcGVsaW5pbmcmJih0aGlzLlZiPUJvb2xlYW4oYS5lbmFibGVSZXF1ZXN0UGlwZWxpbmluZykpO251bGwhPT1hLmVuYWJsZVN0cmVhbWluZyYmKHRoaXMuV2I9Qm9vbGVhbihhLmVuYWJsZVN0cmVhbWluZykpfTsKWS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuSi5kZXN0cm95KCk7dGhpcy5zYS5kZXN0cm95KCk7dGhpcy5zYT10aGlzLko9bnVsbDt0aGlzLmthJiYoY2xlYXJUaW1lb3V0KHRoaXMua2EpLHRoaXMua2E9bnVsbCk7dGhpcy51JiYoY2xlYXJUaW1lb3V0KHRoaXMudSksdGhpcy51PW51bGwpO3RoaXMuQj1udWxsO3RoaXMuaC5kZXN0cm95KCk7dGhpcy5oPW51bGw7V2EodGhpcy5jKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2EuZGVzdHJveSgpfSk7dGhpcy5mPXRoaXMuYz1udWxsO3RoaXMuYiYmKHRoaXMuYi5kZXN0cm95KCksdGhpcy5iPW51bGwpO3RoaXMuQS5kZXN0cm95KCk7dGhpcy5KYT10aGlzLm09dGhpcy52aWRlbz10aGlzLmk9dGhpcy53YT10aGlzLkE9bnVsbDt0aGlzLmEuZ2V0Qm9vbCgiZml4aW5nX3NjaGVkdWxlcl9kaXNhYmxlX2xlYWtzIiwhMCkmJihPYmplY3Qua2V5cyh0aGlzLm8pLmZvckVhY2goZnVuY3Rpb24oYSl7KGE9dGhpcy5vW2FdKSYmYS5kaXNhYmxlKCl9LmJpbmQodGhpcykpLAp0aGlzLm89e30pO09iamVjdC5rZXlzKHRoaXMudykuZm9yRWFjaChmdW5jdGlvbihhKXsoYT10aGlzLndbYV0pJiZhLmRlc3Ryb3koKX0uYmluZCh0aGlzKSk7dGhpcy53PXt9O3RoaXMuSSYmKHRoaXMuSS5kaXNhYmxlKCksdGhpcy5JPW51bGwpO3RoaXMuUiYmKHRoaXMuUi5jbGVhbnVwKCksdGhpcy5SPW51bGwpO2Zvcih2YXIgYT0wO2E8dGhpcy5VLmxlbmd0aDthKyspdGhpcy5VW2FdLmNsZWFudXAoKTt0aGlzLlU9W107dGhpcy51Yy5yZWxlYXNlKCl9O2Z1bmN0aW9uIGVmKGEsYil7aWYoYS5sKXt2YXIgYz1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJtZWRpYV9zb3VyY2Vfb3BlbiIpLnN0YXJ0KCk7YS5JYi50aGVuKGZ1bmN0aW9uKCl7Yy5sb2coKX0pfUUoYS5oLGEuaSwic291cmNlb3BlbiIsYS5oZC5iaW5kKGEpKTtiLnNyYz13aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChhLmkpfW49WS5wcm90b3R5cGU7bi52Yz1mdW5jdGlvbigpe307CmZ1bmN0aW9uIGpmKGEsYixjKXt2YXIgZDthLmwmJihkPWEubC5nZXRPcGVyYXRpb25Mb2dnZXIoInNvdXJjZV9hdHRhY2giKS5zdGFydCgpKTtpZighYS5PKXJldHVybiBhPUVycm9yKCJDYW5ub3QgY2FsbCBhdHRhY2goKSByaWdodCBub3cuIiksYS50eXBlPSJhcHAiLGQmJmQuc2V0RXJyb3IoYSkubG9nKCksUHJvbWlzZS5yZWplY3QoYSk7YS5KYT1iO2EudmlkZW89YzthLmJhPW51bGw7YS5hLmdldEJvb2woImVuYWJsZV92aWV3cG9ydF9wcmlvcml0eV9hZGp1c3RtZW50IiwhMSkmJihhLlI9bmV3IFZpZXdwb3J0UHJpb3JpdHlBZGp1c3RlcihhLnZpZGVvKSxhLlIuc2V0T25Qcmlvcml0eUNoYW5nZWQoZnVuY3Rpb24oYSl7T2JqZWN0LmtleXModGhpcy5vKS5mb3JFYWNoKGZ1bmN0aW9uKGIpe3RoaXMub1tiXS51cGRhdGVQcmlvcml0eVdpdGhOZXdBZGp1c3RtZW50KGEpfS5iaW5kKHRoaXMpKX0uYmluZChhKSkpO2EuYS5nZXRCb29sKCJlbmFibGVfZmlyc3RfdmlkZW9fcHJpb3JpdHlfYWRqdXN0bWVudCIsCiExKSYmYS5VLnB1c2gobmV3IEZpcnN0TG9hZGVkVmlkZW9Qcmlvcml0eUFkanVzdGVyKGEudmlkZW8pKTtFKGEuaCxhLnZpZGVvLCJsb2FkZWRtZXRhZGF0YSIsYS5nZC5iaW5kKGEpKTtFKGEuaCxhLndhLCJiYW5kd2lkdGgiLGEuR2QuYmluZChhKSk7aWYoYS5iLmJ8fGEuYS5nZXRCb29sKCJiYWNrX29mZl9idWZmZXJpbmdfb3ZlcmZsb3ciLCExKSlFKGEuaCxiLCJidWZmZXJpbmdTdGFydCIsYS5jZC5iaW5kKGEpKSxFKGEuaCxiLCJidWZmZXJpbmdFbmQiLGEuYmQuYmluZChhKSk7Yj1hLmEuZ2V0Qm9vbCgiZW5hYmxlX2NvbnRlbnRfcHJvdGVjdGlvbiIsITEpPyhiPWEudmlkZW8ubWVkaWFLZXlzKSYmYS52aWRlby5zZXRNZWRpYUtleXM/YS52aWRlby5zZXRNZWRpYUtleXMoYik6UHJvbWlzZS5yZXNvbHZlKCk6UHJvbWlzZS5yZXNvbHZlKCk7RmYoYSkudGhlbihKKGEsZnVuY3Rpb24oKXtkJiZ0aGlzLlAoKSYmZC5zZXRMaXZlaGVhZFBvc2l0aW9uKEdmKEhmKHRoaXMpKSk7dGhpcy5KJiYKdGhpcy5KLnJlc29sdmUoKTt0aGlzLnZjKCl9KSkuY2F0Y2goSihhLGZ1bmN0aW9uKGEpe3RoaXMuSiYmdGhpcy5KLnJlamVjdChhKX0pKTtyZXR1cm4gUHJvbWlzZS5hbGwoW2EuSixiXSkudGhlbihmdW5jdGlvbigpe2QmJmQubG9nKCl9KX0Kbi53Yj1mdW5jdGlvbigpe2lmKHRoaXMuTyl7dmFyIGE9RXJyb3IoIkNhbm5vdCBjYWxsIGxvYWQoKSByaWdodCBub3cuIik7YS50eXBlPSJhcHAiO3JldHVybiBQcm9taXNlLnJlamVjdChhKX1pZighdGhpcy5ifHwwPT10aGlzLmIuYS5sZW5ndGgpcmV0dXJuIGE9RXJyb3IoIlRoZSBtYW5pZmVzdCBkb2VzIG5vdCBzcGVjaWZ5IGFueSBjb250ZW50LiIpLGEudHlwZT0ic3RyZWFtIixQcm9taXNlLnJlamVjdChhKTt0Zih0aGlzLmIuYSk7aWYoMD09dGhpcy5iLmEubGVuZ3RofHwwPT10aGlzLmIuYVswXS5hLmxlbmd0aHx8IXRoaXMuYi5hWzBdLmEuc29tZShmdW5jdGlvbihhKXtyZXR1cm4idmlkZW8iPT09YS5jb250ZW50VHlwZX0pKXJldHVybiBhPUVycm9yKCJUaGUgbWFuaWZlc3Qgc3BlY2lmaWVzIGNvbnRlbnQgdGhhdCBjYW5ub3QgYmUgZGlzcGxheWVkIG9uIHRoaXMgYnJvd3Nlci9wbGF0Zm9ybS4iKSxhLnR5cGU9InN0cmVhbSIsUHJvbWlzZS5yZWplY3QoYSk7dGhpcy5PPQohMDt0aGlzLkdhfHwodGhpcy5nLmluaXRpYWxTdHJlYW1CdWZmZXJTaXplPU1hdGgubWF4KHRoaXMuZy5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZXx8MCx0aGlzLmIuZykpO3RoaXMuaWEmJnRoaXMuaWEuc2V0U3RyZWFtVHlwZSh0aGlzLmIuQik7RGYodGhpcyk7RWYodGhpcyk7cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpfTtmdW5jdGlvbiBJZihhKXt2YXIgYj15KHt0eXBlOiJtYW5pZmVzdHdyYXBwZWQiLGJ1YmJsZXM6ITB9KTthLmRpc3BhdGNoRXZlbnQoYil9ZnVuY3Rpb24gSmYoYSxiKXt2YXIgYz15KHt0eXBlOiJsaXZlaGVhZElkbGVBdCIsc2Vjb25kczpiLGJ1YmJsZXM6ITB9KTthLmRpc3BhdGNoRXZlbnQoYyl9ZnVuY3Rpb24gR2YoYSl7cmV0dXJuIE1hdGgubWluLmFwcGx5KE1hdGgsYS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEubGVuZ3RoKCk/YS5sYXN0KCkuZW5kVGltZTpudWxsfSkuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiEhYX0pKX0Kbi5KYj1mdW5jdGlvbihhLGIpe3ZhciBjO3RoaXMuYS5nZXRCb29sKCJkZWNvdXBsZV9tcGRfdXBkYXRlX2xvb3BfZnJvbV9yZXF1ZXN0X2xvb3AiLCExKSYmS2YodGhpcywwKTt0aGlzLlYmJih0aGlzLlYubG9nKCksdGhpcy5WPW51bGwpO3RoaXMubCYmKGM9dGhpcy5sLmdldE9wZXJhdGlvbkxvZ2dlcigidXBkYXRlX21hbmlmZXN0Iikuc3RhcnQoKSk7aWYoIWJ8fHRoaXMuTyl7dmFyIGQ9RGF0ZS5ub3coKTt0aGlzLmEuZ2V0Qm9vbCgiZGVjb3VwbGVfbXBkX3VwZGF0ZV9sb29wX2Zyb21fcmVxdWVzdF9sb29wIiwhMSl8fCh0aGlzLnU9bnVsbCk7dmFyIGU9bnVsbCxmLGc7aWYodGhpcy5yYSYmKCF0aGlzLlBhfHx0aGlzLlBhPnRoaXMuaWMpKXtmPU1hdGguZmxvb3IoTGYodGhpcykpKzE7Zj1NYXRoLm1pbihmLHRoaXMuZ2MpO3ZhciBoPXRoaXMuYy52aWRlbztpZihoPWg/aC5GYigpOm51bGwpaD1oLmxhc3QoKSxudWxsIT1oLnVuc2NhbGVkU3RhcnRUaW1lJiYoZz1oLnVuc2NhbGVkU3RhcnRUaW1lKTsKaWYodGhpcy52aWRlby5wYXVzZWR8fHRoaXMuJClmPTB9ZiYmdGhpcy5pYysrO2g9dGhpcy5iLmk7aD10aGlzLmEuZ2V0Qm9vbCgiZW5hYmxlX2NsZWFuX2ZhaWxvdmVyX3VyaV9vbl9tcGRfcmVxdWVzdHMiLCEwKT9oLmNsb25lKCk6aDtjJiYhYSYmYy5zZXRSZXNvdXJjZShoLnRvU3RyaW5nKCkpOyhhP3RoaXMueGMoKTp0aGlzLnljKGgsZixnKSkudGhlbihKKHRoaXMsZnVuY3Rpb24oYil7YXx8dGhpcy5HLmluZm9ybU5ldHdvcmtSZXN1bWVkKCk7ZT1uZXcgdmYoYik7dmFyIGM7dGhpcy5sJiYoYz10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJ1cGRhdGVfbWFuaWZlc3RfaW5mbyIpLnN0YXJ0KCkpO2I9ZS51cGRhdGUodGhpcy5iKTtiLnRoZW4oZnVuY3Rpb24oKXtjJiZjLmxvZygpfSxmdW5jdGlvbihhKXtjJiZjLnNldEVycm9yKGEpLmxvZygpfSkuY2F0Y2goZnVuY3Rpb24oKXt9KTtyZXR1cm4gYn0pKS50aGVuKEoodGhpcyxmdW5jdGlvbihhKXtlLmRlc3Ryb3koKTtlPW51bGw7CnZhciBmPUhmKHRoaXMpO3RoaXMuTGEoIlNlZ21lbnRJbmRleGVzVXBkYXRlZCIsZik7aWYodGhpcy5hLmdldEJvb2woImVtaXRfbGl2ZV9wbGF5aGVhZF9pZGxlX2Zyb21fY2xpZW50IiwhMCkpe3ZhciBnPXRoaXMuYS5nZXROdW1iZXIoImxpdmVfcGxheWhlYWRfaWRsZV9hbGxfc3RyZWFtX3RocmVzaG9sZCIsNCksaD10aGlzLmEuZ2V0TnVtYmVyKCJsaXZlX3BsYXloZWFkX2lkbGVfc2luZ2xlX3N0cmVhbV90aHJlc2hvbGQiLDUpO2lmKEhmKHRoaXMpLmV2ZXJ5KGZ1bmN0aW9uKGEpe3JldHVybiBhLnUoKT49Z30pfHxIZih0aGlzKS5zb21lKGZ1bmN0aW9uKGEpe3JldHVybiBhLnUoKT49aH0pKXt2YXIgdD1HZihmKTtKZih0aGlzLHQpfX1mLnNvbWUoZnVuY3Rpb24oYSl7cmV0dXJuIGEucmIoKX0pJiZJZih0aGlzKTt0PU1mKHRoaXMsZik7YyYmdGhpcy5QKCkmJmMuc2V0TGl2ZWhlYWRQb3NpdGlvbihHZihmKSk7YyYmYy5zZXRNYW5pZmVzdFR5cGUodGhpcy5iLmI/ImR5bmFtaWMiOgoic3RhdGljIikuc2V0VXBkYXRlUGVyaW9kKG51bGw9PT10aGlzLmIuYz9udWxsOk1hdGguY2VpbCgxRTMqdGhpcy5iLmMpKTt0aGlzLm5hJiZOZih0aGlzLHQpO3RoaXMuYS5nZXRCb29sKCJza2lwX3JlbWFpbmluZ19idWZmZXJlZF9vbl9zdHJlYW1fZW5kIiwhMSkmJnQmJnRoaXMuYi5iJiZ0aGlzLmIuaCYmdGhpcy52aWRlby5wYXVzZWQmJih0aGlzLnZpZGVvLmN1cnJlbnRUaW1lPXRoaXMuamEtLjEpO2lmKHNmKHRoaXMpKXJldHVybiBjJiZjLmxvZygpLHRoaXMuZWIoKTtmb3IoZj0wO2Y8YS5sZW5ndGg7KytmKU9mKHRoaXMsYVtmXSk7dGhpcy5HYXx8KHRoaXMuZy5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZT1NYXRoLm1heCh0aGlzLmcuaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemV8fDAsdGhpcy5iLmcpKTt0aGlzLmcudXNlSW5pdGlhbEJ1ZmZlclNpemVXaGVuUGF1c2VkPXRoaXMuYi5iO0RmKHRoaXMpO0VmKHRoaXMpOzA9PU9iamVjdC5rZXlzKHRoaXMuYykubGVuZ3RoP0ZmKHRoaXMpOgooYT1EYXRlLm5vdygpLGJ8fEtmKHRoaXMsKGEtZCkvMUUzKSk7YyYmYy5sb2coKTt0aGlzLnRiKCkmJmV4dHJhY3RDRUE2MDgucHJlcGFyZSgpO3RoaXMuYS5nZXRCb29sKCJ1cGRhdGVfY2VhNjA4X2F2YWlsYWJpbGl0eV9vbl9tcGRfcGFyc2luZyIsITEpJiYoYT10aGlzLnRiKCksdGhpcy5ZYiE9PWEmJihmPXkoe3R5cGU6ImNlYTYwOEF2YWlsYWJpbGl0eUNoYW5nZWQiLGJ1YmJsZXM6ITB9KSx0aGlzLmRpc3BhdGNoRXZlbnQoZiksdGhpcy5ZYj1hKSl9KSkuY2F0Y2goSih0aGlzLGZ1bmN0aW9uKGEpe2MmJmMuc2V0RXJyb3IoYSkubG9nKCk7ZSYmKGUuZGVzdHJveSgpLGU9bnVsbCk7aWYoIWIpe3ZhciBkPXRoaXMuYi5mfHx0aGlzLmEuZ2V0Qm9vbCgicmV0cnlfZWdyZXNzXzUwMHMiLCExKSxmPVswLDQxMF07dGhpcy5hLmdldEJvb2woImVuYWJsZV9kb3VibGVfaW5nZXN0IiwhMSkmJmYucHVzaCg0MTcsMjAwKTshdGhpcy5hLmdldEJvb2woIm5vX3JldHJ5X29uXzUwMl81MDMiLAohMSkmJmQmJihmPWYuY29uY2F0KFs1MDIsNTAzXSkpO2Q9dGhpcy5hLmdldEJvb2woImZpeF9saXZlX3N0cmVhbV9nb25lX29uX21hbmlmZXN0X3VwZGF0ZSIsITApPy0xPT09Zi5pbmRleE9mKGEuc3RhdHVzKTowIT09YS5zdGF0dXM7aWYodGhpcy5hLmdldEJvb2woImFsbG93X2luZmluaXRlX3JldHJ5X29uX25ldF9lcnIiLCEwKSYmIm5ldCI9PT1hLnR5cGUmJiFkKXN3aXRjaChhLnN0YXR1cyl7Y2FzZSA0MTA6dGhpcy5oYz0hMDt0aGlzLmomJihjbGVhclRpbWVvdXQodGhpcy5qKSx0aGlzLmo9bnVsbCk7dGhpcy5lYigpO2JyZWFrO2Nhc2UgMjAwOmNhc2UgNDE3OmEucmVzcG9uc2VIZWFkZXJzJiZudWxsIT1hLnJlc3BvbnNlSGVhZGVyc1sieC1mYi12aWRlby1yZXBsaWNhIl0/dGhpcy5kaXNwYXRjaEV2ZW50KHkoe3R5cGU6InJlcGxpY2Fzd2l0Y2giLGJ1YmJsZXM6ITAscmVwbGljYTphLnJlc3BvbnNlSGVhZGVyc1sieC1mYi12aWRlby1yZXBsaWNhIl0sdXJsOmEudXJsLHN0YXR1czphLnN0YXR1c30pKToKZD0hMDticmVhaztkZWZhdWx0OlBmKHRoaXMpfTA9PT1hLnN0YXR1cz90aGlzLkcuaW5mb3JtTmV0d29ya0ludGVycnVwdGVkKCk6dGhpcy5HLmluZm9ybU5ldHdvcmtSZXN1bWVkKCk7aWYoImRlbGF5Ij09YS50eXBlKXJldHVybiBQZih0aGlzKTt0aGlzLmEuZ2V0Qm9vbCgiYWxsb3dfaW5maW5pdGVfcmV0cnlfb25fbmV0X2VyciIsITApJiYhZHx8ImFib3J0ZWQiPT1hLnR5cGV8fChhPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGEpLHRoaXMuYiYmUGYodGhpcykpfX0pKX19O24ueWM9ZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZWplY3QoIkNhbm5vdCB1cGRhdGUgbWFuaWZlc3Qgd2l0aCB0aGlzIFZpZGVvU291cmNlIGltcGxlbWVudGF0aW9uLiIpfTtuLnhjPWZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVqZWN0KCJDYW5ub3QgdXBkYXRlIG1hbmlmZXN0IHdpdGggdGhpcyBWaWRlb1NvdXJjZSBpbXBsZW1lbnRhdGlvbi4iKX07CmZ1bmN0aW9uIE5mKGEsYil7aWYoYiYmYS5iJiZhLmIuYilpZihhLmEuZ2V0Qm9vbCgic2Vla19vdmVyX3VuYXZhaWxhYmxlX3NlZ21lbnRzX29uX21hbmlmZXN0X3VwZGF0ZSIsITEpJiZhLmVhKWIuZW5kPmEudmlkZW8uY3VycmVudFRpbWUrMTAmJihhLmVhPSExLGEudmlkZW8uY3VycmVudFRpbWU9Yi5lbmQsUWYoYSkpO2Vsc2UgaWYoYS52aWRlby5wYXVzZWQmJmIuZW5kPmEudmlkZW8uY3VycmVudFRpbWUrMTApaWYoYS5hLmdldEJvb2woImVuYWJsZV9sYXp5X2xpdmVoZWFkX2NhdGNodXAiLCExKSl7dmFyIGM9YS54YTtjPGEuSWQmJihhLnhhPSsrYyk7UmYoYSxjKTthLmNhPWIuZW5kfWVsc2UgYS5lYT0hMSxhLnZpZGVvLmN1cnJlbnRUaW1lPWIuZW5kLFFmKGEpfQpmdW5jdGlvbiBLZihhLGIpe2lmKG51bGw9PWEuYi5jKUJhbnphaU9EUy5idW1wRW50aXR5S2V5KDI5NjYsInZpZGVvcy53d3cubGl2ZSIsInVwZGF0ZV9wZXJpb2RfaXNfbnVsbCIpO2Vsc2UgaWYoIWEuRmEpe2lmKGEuYS5nZXRCb29sKCJkZWNvdXBsZV9tcGRfdXBkYXRlX2xvb3BfZnJvbV9yZXF1ZXN0X2xvb3AiLCExKSYmKGEudSYmKGNsZWFyVGltZW91dChhLnUpLGEudT1udWxsKSxzZihhKSkpcmV0dXJuO3ZhciBjPU1hdGgubWF4KGEuYi5jLGEuS2IpLGM9TWF0aC5tYXgoYy1iLDApLGQ9YS5KYi5iaW5kKGEsITEpOyFjJiZhLmcudXNlTWljcm9UYXNrVGltZW91dHM/UHJvbWlzZS5yZXNvbHZlKCkudGhlbihkKTooYS5WJiZhLlYuc2V0UmVzdWx0KCJmYWlsZWQiKS5sb2coKSxhLmwmJihhLlY9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigic2NoZWR1bGVfbWFuaWZlc3RfdXBkYXRlIikuc3RhcnQoKS5zZXRVcGRhdGVQZXJpb2QoTWF0aC5jZWlsKDFFMypjKSkpLGEudT1zZXRUaW1lb3V0KGQsCjFFMypjKSl9fWZ1bmN0aW9uIE9mKGEsYil7dmFyIGM9TWQoYiksZD1hLmNbY107aWYoZCYmZC5XYSgpPT1iKXt2YXIgZT1hLmYuZ2V0KE1kKGIpKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEudn0pLnJlZHVjZShmdW5jdGlvbihhLGIpe3JldHVybiBhLmNvbmNhdChiKX0sW10pLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gYS5vYSYmYS5mYX0pO2lmKDA9PWUubGVuZ3RoKXtjPUVycm9yKCJBbGwgdXNhYmxlIHN0cmVhbXMgaGF2ZSBiZWVuIHJlbW92ZWQgZnJvbSB0aGUgbWFuaWZlc3QuIik7Yy50eXBlPSJhcHAiO2M9QShjKTthLmRpc3BhdGNoRXZlbnQoYyk7cmV0dXJufWEuQltjXS5MYz09YiYmZGVsZXRlIGEuQltjXTtkLmpiKGVbMF0sITApO2IuZGVzdHJveSgpfWIuZGVzdHJveSgpfW4uQ2Q9ZnVuY3Rpb24oYSl7dGhpcy5wYz1hfTtZLnByb3RvdHlwZS5zZXRUYWdnZWRUaW1lUmFuZ2VzPVkucHJvdG90eXBlLkNkOwpZLnByb3RvdHlwZS53ZD1mdW5jdGlvbigpe3JldHVybiAwPT09T2JqZWN0LmtleXModGhpcy5jKS5sZW5ndGg/ITE6WyJhdWRpbyIsInZpZGVvIl0uZXZlcnkoSih0aGlzLGZ1bmN0aW9uKGEpe3JldHVybiF0aGlzLmNbYV18fHRoaXMuY1thXS5UfSkpfTtZLnByb3RvdHlwZS5oYXNIaXRCdWZmZXJpbmdHb2FsPVkucHJvdG90eXBlLndkOwpZLnByb3RvdHlwZS5aPWZ1bmN0aW9uKGEpe2lmKCF0aGlzLmZ8fCF0aGlzLmYuYS5oYXNPd25Qcm9wZXJ0eSgidmlkZW8iKSlyZXR1cm5bXTthPWEmJmEudXNlTG9jYWxCaXRyYXRlfHwhMTt2YXIgYj10aGlzLmMudmlkZW8sYz1iP2IuV2EoKTpudWxsLGQ9Yz9jLlg6MCxlPTEsZj1udWxsO3RoaXMuYS5nZXRCb29sKCJ1c2VfbGl2ZV9iaXRyYXRlX2VzdGltYXRlcyIsITEpJiZ0aGlzLlAoKSYmbnVsbCE9YiYmKGY9Yi5sYSgpLG51bGwhPWMmJjA8Yy5iYW5kd2lkdGgmJihlPWYvYy5iYW5kd2lkdGgpKTtmb3IodmFyIGM9W10sZz10aGlzLmYuZ2V0KCJ2aWRlbyIpLGg9MDtoPGcubGVuZ3RoOysraClmb3IodmFyIGs9Z1toXSxsPTA7bDxrLnYubGVuZ3RoOysrbCl7dmFyIG09ay52W2xdO2lmKG0ub2EmJm0uZmEpe3ZhciBwPW51bGw7aWYoYSYmbnVsbCE9PW0uTSl7dmFyIHQ9bS5NLmMoKSx3PWI7aWYodGhpcy5QKCl8fG51bGw9PT10fHxudWxsPT09dylwPW51bGw7ZWxzZXt2YXIgcD0KcGUodyx0aGlzLnZpZGVvLmN1cnJlbnRUaW1lLHQpLHo9dC5nZXRTZWdtZW50cygpO3RoaXMuYS5nZXRCb29sKCJzdGFydF9sb2NhbF9iaXRyYXRlX2F0X2J1ZmZlcl9lbmQiLCExKSYmKHc9TG9jYWxCaXRyYXRlSGVscGVyLmdldEJ1ZmZlckVuZFNlZ21lbnRJbmRleCh6LHAsdGhpcy52aWRlby5jdXJyZW50VGltZSthZSh3LHRoaXMudmlkZW8uY3VycmVudFRpbWUpKSxudWxsIT09dyYmKHA9dykpO3A9TG9jYWxCaXRyYXRlSGVscGVyLmdldExvY2FsQml0cmF0ZSh0LmdldFNlZ21lbnRzKCkscCx0aGlzLmEuZ2V0TnVtYmVyKCJsb2NhbF9iaXRyYXRlX3NlZ21lbnRzX2FoZWFkIiwxMCkpfXRoaXMuYS5nZXRCb29sKCJ1c2VfbWF4X2xvY2FsX2JpdHJhdGUiLCExKSYmKHA9TWF0aC5tYXgocCxtLmJhbmR3aWR0aCkpfXQ9bS5YO3A9cHx8bS5iYW5kd2lkdGg7dGhpcy5hLmdldEJvb2woInVzZV9saXZlX2JpdHJhdGVfZXN0aW1hdGVzIiwhMSkmJm51bGwhPWYmJih0PT09ZD9wPU1hdGgubWF4KHAsCmYpOjE8ZSYmKHA9cCplKSxwPU1hdGgucm91bmQocCkpO209bmV3IHVhKHQscCxtLndpZHRoLG0uaGVpZ2h0LG0uaWQsbS5mYlF1YWxpdHlMYWJlbCxtLmZiUXVhbGl0eUNsYXNzLG0uZixtLmZyYW1lUmF0ZSxtLm1pbWVUeXBlLG0uY29kZWNzLG0uZyxtLmgpO3Q9PWQmJihtLmFjdGl2ZT0hMCk7Yy5wdXNoKG0pfX1yZXR1cm4gY307WS5wcm90b3R5cGUuZ2V0VmlkZW9UcmFja3M9WS5wcm90b3R5cGUuWjtZLnByb3RvdHlwZS5SYz1mdW5jdGlvbigpe2lmKHRoaXMuZ2EpcmV0dXJuIHRoaXMuZ2E7aWYoIXRoaXMuYilyZXR1cm4gbnVsbDtmb3IodmFyIGE9MDthPHRoaXMuYi5hLmxlbmd0aDsrK2EpZm9yKHZhciBiPXRoaXMuYi5hW2FdLGM9MDtjPGIuYS5sZW5ndGg7KytjKWlmKHRoaXMuZ2E9Yi5hW2NdLmMpcmV0dXJuIHRoaXMuZ2E7cmV0dXJuIG51bGx9O1kucHJvdG90eXBlLmdldFZpZGVvUHJvamVjdGlvbj1ZLnByb3RvdHlwZS5SYztZLnByb3RvdHlwZS5PYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmtifTsKWS5wcm90b3R5cGUuZ2V0TG9jYWxFc3RpbWF0b3I9WS5wcm90b3R5cGUuT2M7ZnVuY3Rpb24gU2YoYSl7YT1hLlooKTtmb3IodmFyIGI9MDtiPGEubGVuZ3RoO2IrKylpZihhW2JdLmFjdGl2ZSlyZXR1cm4gYVtiXX1ZLnByb3RvdHlwZS52YT1mdW5jdGlvbigpe2lmKCF0aGlzLmZ8fCF0aGlzLmYuYS5oYXNPd25Qcm9wZXJ0eSgiYXVkaW8iKSlyZXR1cm5bXTtmb3IodmFyIGE9dGhpcy5jLmF1ZGlvLGE9KGE9YT9hLldhKCk6bnVsbCk/YS5YOjAsYj1bXSxjPXRoaXMuZi5nZXQoImF1ZGlvIiksZD0wO2Q8Yy5sZW5ndGg7KytkKWZvcih2YXIgZT1jW2RdLGY9ZS5sYW5nLGc9MDtnPGUudi5sZW5ndGg7KytnKXt2YXIgaD1lLnZbZ107aWYoaC5vYSYmaC5mYSl7dmFyIGs9aC5YLGg9bmV3IGZhKGssaC5iYW5kd2lkdGgsZixoLmlkLGgubWltZVR5cGUsaC5jb2RlY3MsdGhpcy5iLnUsaC5jKTtrPT1hJiYoaC5hY3RpdmU9ITApO2IucHVzaChoKX19cmV0dXJuIGJ9OwpZLnByb3RvdHlwZS5nZXRBdWRpb1RyYWNrcz1ZLnByb3RvdHlwZS52YTtZLnByb3RvdHlwZS5tYz1mdW5jdGlvbigpe2lmKCF0aGlzLmZ8fCF0aGlzLmYuYS5oYXNPd25Qcm9wZXJ0eSgidGV4dCIpKXJldHVybltdO2Zvcih2YXIgYT10aGlzLmMudGV4dCxiPWE/YS5XYSgpOm51bGwsYj1iP2IuWDowLGM9W10sZD10aGlzLmYuZ2V0KCJ0ZXh0IiksZT0wO2U8ZC5sZW5ndGg7KytlKWZvcih2YXIgZj1kW2VdLGc9Zi5sYW5nLGg9MDtoPGYudi5sZW5ndGg7KytoKXt2YXIgaz1mLnZbaF0uWCxsPW5ldyB0YShrLGcpO2s9PWImJihsLmFjdGl2ZT0hMCxsLmVuYWJsZWQ9YS5EYigpKTtjLnB1c2gobCl9cmV0dXJuIGN9O1kucHJvdG90eXBlLmdldFRleHRUcmFja3M9WS5wcm90b3R5cGUubWM7WS5wcm90b3R5cGUuYWM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iJiZ0aGlzLmIubSYmMDx0aGlzLmIubT8hMDohMX07WS5wcm90b3R5cGUuaXNVc2luZ0FTUkNhcHRpb25zPVkucHJvdG90eXBlLmFjOwpZLnByb3RvdHlwZS5iYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmImJnRoaXMuYi5vJiYwPHRoaXMuYi5vJiZna3goIjExNzYyNTEiKT8hMDohMX07WS5wcm90b3R5cGUuaXNVc2luZ0FTUkNhcHRpb25zRW1wbG95ZWVEb2dmb29kaW5nPVkucHJvdG90eXBlLmJjO2Z1bmN0aW9uIHJmKGEpe3ZhciBiPU51bWJlcihhLmcuaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemUpO2EuZy5maXhCdWZmZXJpbmdHb2FsRGV0ZXJtaW5hdGlvbiYmKGI9MSk7aWYoYS5hLmdldEJvb2woImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvdyIsITEpKWI9YS5LO2Vsc2V7dmFyIGM9YS5hLmdldE51bWJlcigiYnVmZmVyaW5nX292ZXJmbG93X3RocmVzaG9sZCIsMCk7MDxjJiYoYj1jKX1yZXR1cm4gYS4kYj9OdW1iZXIoYS5nLnN0cmVhbUJ1ZmZlclNpemUpOmJ9CmZ1bmN0aW9uIE5lKGEpe2lmKGEuTyl7YT1hLmIuYVswXTtmb3IodmFyIGI9W10sYz0wO2M8YS5hLmxlbmd0aDsrK2MpYi5wdXNoLmFwcGx5KGIsUWQoYS5hW2NdKSk7YT1ifWVsc2UgYT1bXTtyZXR1cm4gYX0KZnVuY3Rpb24gUGUoYSxiKXtpZihhLk8pe2Zvcih2YXIgYz17fSxkPWEuYi5hWzBdLGU9MDtlPGQuYS5sZW5ndGg7KytlKXt2YXIgZj1kLmFbZV07Y1tmLlhdPWZ9YS5mLmE9e307ZD1hYihiKTtmb3IoZT0wO2U8ZC5sZW5ndGg7KytlKXt2YXIgZj1kW2VdLGc9Yi5nZXQoZik7aWYoInZpZGVvIj09Zil7dmFyIGg9Z1swXS5pZDthLmYucHVzaChmLGNbaF0pfWVsc2UgaWYoImF1ZGlvIj09Zil7aWYoMDxnLmxlbmd0aClmb3IodmFyIGg9Z1swXS5iLnNwbGl0KCI7IilbMF0saz0wO2s8Zy5sZW5ndGg7KytrKXt2YXIgbD1nW2tdO2wuYi5zcGxpdCgiOyIpWzBdPT1oJiZhLmYucHVzaChmLGNbbC5pZF0pfX1lbHNlIGZvcihrPTA7azxnLmxlbmd0aDsrK2spaD1nW2tdLmlkLGEuZi5wdXNoKGYsY1toXSl9YS55YT0hMDtpZihjPWEuZi5nZXQoImF1ZGlvIikpVGYoYSxjKSxhLmYuc2V0KCJhdWRpbyIsYyksYz1jWzBdLmxhbmd8fGEuUyxSYSgyLGEuUyxjKSYmKGEueWE9ITEpO2lmKGM9YS5mLmdldCgidGV4dCIpKVRmKGEsCmMpLGEuZi5zZXQoInRleHQiLGMpLGM9Y1swXS5sYW5nfHxhLlMsUmEoMixhLlMsYyl8fChhLnlhPSExKX19WS5wcm90b3R5cGUuWGM9ZnVuY3Rpb24oKXt0aGlzLkVhPSEwfTtZLnByb3RvdHlwZS5zZXRDbGVhckJ1ZmZlckFmdGVyU2Vla2luZz1ZLnByb3RvdHlwZS5YYztZLnByb3RvdHlwZS5zZWxlY3RWaWRlb1RyYWNrPWZ1bmN0aW9uKGEsYixjLGQsZSl7cmV0dXJuIG1mKHRoaXMsInZpZGVvIixhLGIsYyxkLGUpfTtZLnByb3RvdHlwZS5yZXN1bWVWaWRlb0ZldGNoaW5nPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5jLnZpZGVvP3RoaXMuYy52aWRlby5GOm51bGw7YSYmYS5yZXN1bWVWaWRlb0ZldGNoaW5nKCl9O1kucHJvdG90eXBlLnJlc3VtZVZpZGVvRmV0Y2hpbmc9WS5wcm90b3R5cGUucmVzdW1lVmlkZW9GZXRjaGluZztZLnByb3RvdHlwZS5IZD1mdW5jdGlvbigpe3ZhciBhPXRoaXMuYy52aWRlbz90aGlzLmMudmlkZW8uRjpudWxsO2EmJmEuc3RvcFVudGlsU2VnbWVudHNVcGRhdGUoKX07ClkucHJvdG90eXBlLnN0b3BVbnRpbFZpZGVvU3RyZWFtU3dpdGNoPVkucHJvdG90eXBlLkhkO2Z1bmN0aW9uIG5mKGEsYil7dmFyIGM9YS5jLnRleHQ7YyYmYy52YihiKX0KZnVuY3Rpb24gRWYoYSl7aWYoYS5tKXtmb3IodmFyIGI9ITEsYz0wO2M8YS5iLmEubGVuZ3RoOysrYylmb3IodmFyIGQ9YS5iLmFbY10sZT0wO2U8ZC5hLmxlbmd0aDsrK2Upe3ZhciBmPWQuYVtlXTtpZigidmlkZW8iPT1mLmNvbnRlbnRUeXBlKWZvcih2YXIgZz0wO2c8Zi52Lmxlbmd0aDsrK2cpe3ZhciBoPWYudltnXSxrPWguZmE7aC5mYT0hMDthLm0ubWF4V2lkdGgmJmgud2lkdGg+YS5tLm1heFdpZHRoJiYoaC5mYT0hMSk7YS5tLm1heEhlaWdodCYmaC5oZWlnaHQ+YS5tLm1heEhlaWdodCYmKGguZmE9ITEpO2EubS5taW5IZWlnaHQmJmguaGVpZ2h0PGEubS5taW5IZWlnaHQmJihoLmZhPSExKTthLm0ubWF4QmFuZHdpZHRoJiZoLmJhbmR3aWR0aD5hLm0ubWF4QmFuZHdpZHRoJiYoaC5mYT0hMSk7YS5tLm1pbkJhbmR3aWR0aCYmaC5iYW5kd2lkdGg8YS5tLm1pbkJhbmR3aWR0aCYmKGguZmE9ITEpO2shPWguZmEmJihiPSEwKX19MCE9JGEoYS5mKS5sZW5ndGgmJmImJihVZihhKSwKMDxhLlooKS5sZW5ndGh8fChiPUVycm9yKCJUaGUgYXBwbGljYXRpb24gaGFzIHJlc3RyaWN0ZWQgYWxsIHZpZGVvIHRyYWNrcyEiKSxiLnR5cGU9ImFwcCIsYj1BKGIpLGEuZGlzcGF0Y2hFdmVudChiKSkpfX1ZLnByb3RvdHlwZS5QPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYj90aGlzLmIuYjpudWxsfTtZLnByb3RvdHlwZS5pc0xpdmU9WS5wcm90b3R5cGUuUDtZLnByb3RvdHlwZS5ZYz1mdW5jdGlvbihhKXt0aGlzLiRiPWF9O1kucHJvdG90eXBlLnNldElzTGl2ZUludGVycnVwdGVkPVkucHJvdG90eXBlLlljO1kucHJvdG90eXBlLnZkPWZ1bmN0aW9uKCl7Zm9yKHZhciBhIGluIHRoaXMuYyl0aGlzLmNbYV0uSGMoKX07WS5wcm90b3R5cGUuZm9yY2VSZXN5bmNWaWRlb0J1ZmZlcj1ZLnByb3RvdHlwZS52ZDsKZnVuY3Rpb24gV2UoYSxiKXtmb3IodmFyIGMsZD0hMSxlPW5ldyBELGY9JGEoYS5mKSxnPTA7ZzxmLmxlbmd0aDsrK2cpZm9yKHZhciBoPWZbZ10saz0wO2s8aC52Lmxlbmd0aDsrK2spe3ZhciBsPWgudltrXTtsLmIuZm9yRWFjaChmdW5jdGlvbihhKXtlLnB1c2goYSxsKX0pfWZvcihjIGluIGIpaWYoZj1QYVtiW2NdXXx8bnVsbCxoPWUuZ2V0KGMpKWZvcihnPTA7ZzxoLmxlbmd0aDsrK2cpbD1oW2ddLGs9bC5vYSxsLm9hPSFmLGshPWwub2EmJihkPSEwKTtlbHNlIGliKGMpO2QmJihVZihhKSxkPWEudmEoKSxjPWEuWigpLGQ9YS5mLmEuaGFzT3duUHJvcGVydHkoImF1ZGlvIikmJjA9PWQubGVuZ3RoLGM9YS5mLmEuaGFzT3duUHJvcGVydHkoInZpZGVvIikmJjA9PWMubGVuZ3RoLGR8fGMpJiYoYz1FcnJvcigiVGhlIGtleSBzeXN0ZW0gaGFzIHJlc3RyaWN0ZWQgYWxsICIrKGQmJmM/ImF1ZGlvIGFuZCB2aWRlbyB0cmFja3MuIjpkPyJhdWRpbyB0cmFja3MuIjoidmlkZW8gdHJhY2tzLiIpKSwKYy50eXBlPSJkcm0iLGM9QShjKSxhLmRpc3BhdGNoRXZlbnQoYykpfWZ1bmN0aW9uIFVmKGEpe3ZhciBiPXkoe3R5cGU6InRyYWNrc2NoYW5nZWQiLGJ1YmJsZXM6ITB9KTthLmRpc3BhdGNoRXZlbnQoYil9ZnVuY3Rpb24gbWYoYSxiLGMsZCxlLGYsZyl7Zz0hIWc7aWYoIWEuZi5hLmhhc093blByb3BlcnR5KGIpfHwhYS5jW2JdKXJldHVybiExO2Zvcih2YXIgaD1hLmYuZ2V0KGIpLGs9MDtrPGgubGVuZ3RoOysraylmb3IodmFyIGw9aFtrXSxtPTA7bTxsLnYubGVuZ3RoOysrbSl7dmFyIHA9bC52W21dO2lmKHAuWD09Yyl7aWYoIXAub2F8fCFwLmZhKXJldHVybiExO2lmKCJ0ZXh0IiE9YiYmIWEuQ2EpcmV0dXJuIGM9YS5CW2JdLGEuQltiXT17TGM6cCxyYzpudWxsIT1jJiZjLnJjfHxkLHNjOm51bGwhPWMmJmMuc2N8fGUsc3dpdGNoUmVhc29uOmYsS2E6Z30sITA7YS5jW2JdLmpiKHAsZCxlLGYsZyk7cmV0dXJuITB9fXJldHVybiExfQpmdW5jdGlvbiBUZihhLGIpe2Zvcih2YXIgYz0wOzI+PWM7KytjKWZvcih2YXIgZD0wO2Q8Yi5sZW5ndGg7KytkKXt2YXIgZT1iW2RdO2lmKFJhKGMsYS5TLGUubGFuZykpe2Iuc3BsaWNlKGQsMSk7Yi5zcGxpY2UoMCwwLGUpO3JldHVybn19Zm9yKGQ9MDtkPGIubGVuZ3RoOysrZClpZihlPWJbZF0sZS5mKXtiLnNwbGljZShkLDEpO2Iuc3BsaWNlKDAsMCxlKTticmVha319bj1ZLnByb3RvdHlwZTtuLmhkPWZ1bmN0aW9uKCl7dGhpcy5oLmFiKHRoaXMuaSwic291cmNlb3BlbiIpO3RoaXMuSWIucmVzb2x2ZSgpfTsKZnVuY3Rpb24gRmYoYSl7dmFyIGI7YS5sJiYoYj1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJzdGFydF9zdHJlYW1zIikuc3RhcnQoKSk7Zm9yKHZhciBjPVtdLGQ9WyJhdWRpbyIsInZpZGVvIiwidGV4dCJdLGU9MDtlPGQubGVuZ3RoOysrZSl7dmFyIGY9ZFtlXTthLmYuYS5oYXNPd25Qcm9wZXJ0eShmKSYmYy5wdXNoKGEuZi5nZXQoZilbMF0pfWZvcih2YXIgZz1WZihhLGMpLGU9MDtlPGQubGVuZ3RoOysrZSlpZihmPWRbZV0sYS5mLmEuaGFzT3duUHJvcGVydHkoZikmJiFnW2ZdKXJldHVybiBhPUVycm9yKCJVbmFibGUgdG8gc2VsZWN0IGFuIGluaXRpYWwgIitmKyIgc3RyZWFtOiBhbGwgIitmKyIgc3RyZWFtcyBoYXZlIGJlZW4gcmVzdHJpY3RlZCAoYnkgdGhlIGFwcGxpY2F0aW9uIG9yIGJ5IHRoZSBrZXkgc3lzdGVtKS4iKSxhLnR5cGU9InN0cmVhbSIsYiYmYi5zZXRFcnJvcihhKS5sb2coKSxQcm9taXNlLnJlamVjdChhKTtjPVdhKGcpLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS5NLmNyZWF0ZSgpfSk7CmMucHVzaChhLkliKTtyZXR1cm4gUHJvbWlzZS5hbGwoYykudGhlbihKKGEsZnVuY3Rpb24oYSl7YS5wb3AoKTtpZighYS5ldmVyeShmdW5jdGlvbihhKXtyZXR1cm4gYS5sZW5ndGgoKX0pKXJldHVybiBhPUVycm9yKCJTb21lIHN0cmVhbXMgYXJlIG5vdCBhdmFpbGFibGUuIiksYS50eXBlPSJzdHJlYW0iLFByb21pc2UucmVqZWN0KGEpO2E9TWYodGhpcyxhKTtpZighYSlyZXR1cm4gYT1FcnJvcigiU29tZSBzdHJlYW1zIGFyZSBub3QgYXZhaWxhYmxlLiIpLGEudHlwZT0ic3RyZWFtIixQcm9taXNlLnJlamVjdChhKTtpZighV2YodGhpcyxnKSlyZXR1cm4gYT1FcnJvcigiRmFpbGVkIHRvIGNyZWF0ZSBTdHJlYW0gb2JqZWN0cy4iKSxhLnR5cGU9InN0cmVhbSIsUHJvbWlzZS5yZWplY3QoYSk7dGhpcy5BLnN0YXJ0KCk7WGYodGhpcyxnLGEpO3JldHVybiBQcm9taXNlLnJlc29sdmUoKX0pKS50aGVuKGZ1bmN0aW9uKCl7YiYmYi5sb2coKX0pLmNhdGNoKEooYSxmdW5jdGlvbihhKXtpZigiYWJvcnRlZCI9PQphLnR5cGUpYiYmYi5zZXRFcnJvcihhKS5sb2coKTtlbHNle09iamVjdC5rZXlzKHRoaXMuYyk7aWYodGhpcy5iLmIpcmV0dXJuIHlhKCk8dGhpcy5iLmo/KGE9TWF0aC5tYXgodGhpcy5iLmotRGF0ZS5ub3coKS8xRTMsdGhpcy5LYiksdGhpcy51PXNldFRpbWVvdXQodGhpcy5KYi5iaW5kKHRoaXMsITApLDFFMyphKSk6S2YodGhpcywwKSxiJiZiLmxvZygpLFByb21pc2UucmVzb2x2ZSgpO2ImJmIuc2V0RXJyb3IoYSkubG9nKCk7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfX0pKX0KZnVuY3Rpb24gVmYoYSxiKXtmb3IodmFyIGM9e30sZD0wO2Q8Yi5sZW5ndGg7KytkKXt2YXIgZT1iW2RdLGY9bnVsbDtpZigidmlkZW8iPT1lLmNvbnRlbnRUeXBlKXt2YXIgZz1hLkEuZ2V0SW5pdGlhbFZpZGVvVHJhY2tJZCgpO2lmKG51bGw9PWcpY29udGludWU7Zj1lLnYuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiBhLlg9PWd9KTtpZigwPT1mLmxlbmd0aCljb250aW51ZTtmPWZbMF19ZWxzZSBpZigiYXVkaW8iPT1lLmNvbnRlbnRUeXBlKWlmKGc9YS5BLmdldEluaXRpYWxBdWRpb1RyYWNrSWQoKSxmPWUudi5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIGEuWD09Z30pLDA9PWYubGVuZ3RoKXtmPWUudi5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIGEub2EmJmEuZmF9KTtpZigwPT1mLmxlbmd0aCljb250aW51ZTtmPWUudltNYXRoLmZsb29yKGYubGVuZ3RoLzIpXX1lbHNlIGY9ZlswXTtlbHNlIDA8ZS52Lmxlbmd0aCYmKGY9ZS52WzBdKTtjW2UuY29udGVudFR5cGVdPWZ9cmV0dXJuIGN9CmZ1bmN0aW9uIFdmKGEsYil7dmFyIGM9e30sZDtmb3IoZCBpbiBiKXt2YXIgZT1iW2RdLGU9InRleHQiPT1kP25ldyB0ZShhLGEudmlkZW8pOllmKGEsZSk7aWYoIWUpcmV0dXJuIFdhKGMpLmZvckVhY2goZnVuY3Rpb24oYSl7YS5kZXN0cm95KCl9KSwhMTtjW2RdPWV9YS5QYihhLm5jKTthLmM9YztyZXR1cm4hMH0KZnVuY3Rpb24gWWYoYSxiKXt2YXIgYz1OZChiKSxkPVpmKGMuc3BsaXQoIjsiKVswXSksZT1udWxsLGY9YS5hLmdldEJvb2woInVzZV9sb2NhbF9lc3RpbWF0b3JfZm9yX2Ficl9zYW1wbGluZyIsITApP2Eua2I6YS53YSxnPW51bGwsaD1udWxsLGs9YS5iLmZ8fGEuYi5BLGs9YS5hLmdldEJvb2woInNraXBfc2VnbWVudF9yZXF1ZXN0X21hbmFnZXIiLCExKSYmazthLldiJiZjYW5Vc2VGZXRjaFN0cmVhbSgpPyhoPW5ldyBNdWx0aXBsZVNlZ21lbnRzUHJvdmlkZXIoYS5hLmdldE51bWJlcigic3RyZWFtaW5nX3NlZ21lbnRfc2l6ZSIsNCkpLGc9JGYoYSxoLGQsZikpOmEuVmImJiFrJiYoZT1hZyhhLGQsZikpO3ZhciBrPW51bGwsbD1hLmYuZ2V0KGQpOyJ2aWRlbyI9PT1kJiYwPGwubGVuZ3RoJiYoaz1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz1udWxsLGQ9bnVsbCxlPTA7ZTxsWzBdLnYubGVuZ3RoO2UrKylsWzBdLnZbZV0uaWQ9PT1hP2M9bFswXS52W2VdOmxbMF0udltlXS5pZD09PQpiJiYoZD1sWzBdLnZbZV0pO3JldHVybiBudWxsPT09Y3x8bnVsbD09PWQ/MDpjLmJhbmR3aWR0aD5kLmJhbmR3aWR0aD8xOi0xfSk7Yz1uZXcgVShhLGEudmlkZW8sYS5hLGEuaSxjLGYsYS5wYyxhLmRhLGssYS5HLGUsZyxoLGEuaWEpO2MucGEoYS5nKTtyZXR1cm4gY30KZnVuY3Rpb24gJGYoYSxiLGMsZCl7dmFyIGU9YS53W2NdLGY9ImF1ZGlvIiE9PWN8fGEuYS5nZXRCb29sKCJlbmFibGVfYXVkaW9fc3RyZWFtaW5nIiwhMSk7aWYoIWUmJmYpe3ZhciBlPW5ldyBWaWRlb1N0cmVhbWluZ01hbmFnZXIoYS5hLGIsYyxhLmwsYS5VKSxnPSJ2aWRlbyI9PT1jO2cmJmUuYWRkTGlzdGVuZXIoImJhbmR3aWR0aFVwZGF0ZSIsZnVuY3Rpb24oYSl7ZC5zYW1wbGUoYS50aW1lVGFrZW4sYS5ieXRlc1JlYWQsZyx7dGltZVRvTGFzdEJ5dGU6YS50aW1lVGFrZW59LHRoaXMuQWIsdGhpcy5sLCF0aGlzLmEuZ2V0Qm9vbCgiZXZhbHVhdGVfYWJyX29uX3N0cmVhbV9iYW5kd2lkdGhfc2FtcGxlIiwhMCkpfS5iaW5kKGEpKX1lJiYoYS53W2NdPWUpO3JldHVybiBlfHxudWxsfQpmdW5jdGlvbiBhZyhhLGIsYyl7aWYoInZpZGVvIj09PWJ8fCJhdWRpbyI9PT1iJiZhLmEuZ2V0Qm9vbCgiZW5hYmxlX3JlcXVlc3RfcGlwZWxpbmluZ19mb3Jfdm9kX2F1ZGlvcyIsITEpKXt2YXIgZD1hLm9bYl07ZHx8KGQ9bmV3IFNlZ21lbnRSZXF1ZXN0TWFuYWdlcihhLmEsYixhLlAoKT9WaWRlb1ByaW9yaXR5Q2FsY3VsYXRvci5jYWxjdWxhdGVMaXZlOlZpZGVvUHJpb3JpdHlDYWxjdWxhdG9yLmNhbGN1bGF0ZSxhLmwsYyxhLkFiLGEuZGEsYS5pYSksYS5SJiZkLnVwZGF0ZVByaW9yaXR5V2l0aE5ld0FkanVzdG1lbnQoYS5SLmdldFByaW9yaXR5QWRqdXN0bWVudCgpKSxhLm9bYl09ZCk7cmV0dXJuIGR9cmV0dXJuIG51bGx9ZnVuY3Rpb24gYmcoYSxiKXthLnZpZGVvLmN1cnJlbnRUaW1lPWI7YS5hLmdldEJvb2woInNldF9wZW5kaW5nX3NlZWtfb25fc2V0X2N1cnJlbnRfdGltZV9mYWlsdXJlIiwhMSkmJmEudmlkZW8uY3VycmVudFRpbWUrMTxiJiZjZyhhLGIpO2EuRD1ifQpmdW5jdGlvbiBYZihhLGIsYyl7YS5rYz1hLnZpZGVvLnBsYXliYWNrUmF0ZTthLnZpZGVvLnBsYXliYWNrUmF0ZT0wO2RnKGEsYyk7dmFyIGQ7ZD1hLmIuZjsoIWEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9hZGp1c3Rfc3RyZWFtX2xpbWl0c19zdGFydF9vZmZzZXRfaW50IiwwKSYmIWEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9qdW1wX3RvX2xpdmVfc2lkeF9lbmRfb2Zmc2V0IiwwKXx8IWQpJiZhLmxhJiZhLmxhPD1jLmVuZCYmYS5sYT49Yy5zdGFydD9kPWEubGE6YS5iLmI/KGQ9ZWcoYSxjKSxhLmVjPSEwKTpkPWMuc3RhcnQ7RShhLmgsYS52aWRlbywic2Vla2luZyIsYS5tZC5iaW5kKGEpKTthLkk/KGEuSS5zZXRPblBsYXlpbmcoYS5tYi5iaW5kKGEsITApKSxhLkkuc2V0T25QYXVzZWQoYS5tYi5iaW5kKGEsITEpKSxhLkkuZW5hYmxlKCkpOihFKGEuaCxhLnZpZGVvLCJwbGF5aW5nIixhLm1iLmJpbmQoYSwhMCkpLGEuYS5nZXRCb29sKCJ1cGRhdGVfcHJpb3JpdHlfb25fcGxheV9ldmVudCIsCiEwKSYmRShhLmgsYS52aWRlbywicGxheSIsYS5tYi5iaW5kKGEsITApKSxFKGEuaCxhLnZpZGVvLCJwYXVzZSIsYS5tYi5iaW5kKGEsITEpKSk7RShhLmgsYS52aWRlbywic2Vla2luZyIsYS5NYy5iaW5kKGEpKTtFKGEuaCxhLnZpZGVvLCJ0aW1ldXBkYXRlIix0aHJvdHRsZShhLk1jLmJpbmQoYSksYS5hLmdldE51bWJlcigic2NoZWR1bGVyX3ByaW9yaXR5X3VwZGF0ZV9pbnRlcnZhbCIsMUUzKSkpO2lmKGEudmlkZW8uY3VycmVudFRpbWUhPWQpaWYoYS5TYikwIT09YS52aWRlby5yZWFkeVN0YXRlP2JnKGEsZCk6Y2coYSxkKTtlbHNlIHRyeXtiZyhhLGQpfWNhdGNoKGUpe2NnKGEsZCl9ZmcoYSxjLnN0YXJ0LGMuZW5kLGMubGFzdCxjLlphKTt2YXIgZj1bXSxnO2ZvcihnIGluIGEuYyl7Yz1hLmNbZ107SihhLGZ1bmN0aW9uKGEpe2YucHVzaChhLktjKHRoaXMuc2EpLnRoZW4oSih0aGlzLGZ1bmN0aW9uKGIpe3ZhciBjPWEuc2IoKTtjPnRoaXMuQmImJih0aGlzLkJiPWMpO3JldHVybiBifSkpKX0pKGMpOwpFKGEuaCxjLCJlbmRlZCIsYS5vZC5iaW5kKGEpKTtFKGEuaCxjLCJzaG91bGRfZW5kX2FsbF9zdHJlYW1zIixhLnBkLmJpbmQoYSkpO0UoYS5oLGMsInNob3VsZF9udWRnZSIsYS5qZC5iaW5kKGEpKTtkPWJbZ107dmFyIGg9YS5BLmdldEluaXRpYWxTd2l0Y2hSZWFzb24oKXx8dm9pZCAwO2MuamIoZCwhMSx2b2lkIDAsaCl9UHJvbWlzZS5hbGwoZikudGhlbihKKGEsZnVuY3Rpb24oYSl7dGhpcy5hLmdldEJvb2woInByZXZlbnRfc3RyZWFtX3N0YXJ0X2lmX3N0cmVhbXNfY2hhbmdlIiwhMSkmJiFnZyh0aGlzKXx8aGcodGhpcyxhKX0pKS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7ImRlc3Ryb3kiIT1hLnR5cGUmJihhPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGEpKX0pKTtuZihhLGEueWEpfQpuLm1iPWZ1bmN0aW9uKGEpe09iamVjdC5rZXlzKHRoaXMubykuZm9yRWFjaChmdW5jdGlvbihiKXt0aGlzLm9bYl0udXBkYXRlUHJpb3JpdHlXaXRoTmV3UGxheWluZ1N0YXRlKGEpfS5iaW5kKHRoaXMpKTtPYmplY3Qua2V5cyh0aGlzLncpLmZvckVhY2goZnVuY3Rpb24oYil7dGhpcy53W2JdLmdldFByaW9yaXR5VXBkYXRlcigpLnVwZGF0ZVByaW9yaXR5V2l0aE5ld1BsYXlpbmdTdGF0ZShhKX0uYmluZCh0aGlzKSk7aWYodGhpcy5sKXt2YXIgYj1NZih0aGlzLEhmKHRoaXMpKTtiJiZ0aGlzLnZpZGVvLmN1cnJlbnRUaW1lPGIuc3RhcnQmJkJhbnphaU9EUy5idW1wRW50aXR5S2V5KDI5NjYsInZpZGVvcy53d3cuc2hha2EiLCJjdXJyZW50X3RpbWVfYXRfcGxheWluZ19sZXNzX3RoYW5fc3RyZWFtX2xpbWl0c19zdGFydCIpfWEmJm51bGwhPT10aGlzLmNhJiYodGhpcy54YT0xLFJmKHRoaXMsdGhpcy54YSksaWcodGhpcykpfTsKbi5NYz1mdW5jdGlvbigpe3RoaXMudmlkZW8mJihPYmplY3Qua2V5cyh0aGlzLm8pLmZvckVhY2goZnVuY3Rpb24oYSl7dGhpcy5vW2FdLnVwZGF0ZVByaW9yaXR5V2l0aE5ld1BsYXloZWFkKHRoaXMudmlkZW8uY3VycmVudFRpbWUpfS5iaW5kKHRoaXMpKSxPYmplY3Qua2V5cyh0aGlzLncpLmZvckVhY2goZnVuY3Rpb24oYSl7dGhpcy53W2FdLmdldFByaW9yaXR5VXBkYXRlcigpLnVwZGF0ZVByaW9yaXR5V2l0aE5ld1BsYXloZWFkKHRoaXMudmlkZW8uY3VycmVudFRpbWUpfS5iaW5kKHRoaXMpKSl9O2Z1bmN0aW9uIFFmKGEpe2lmKGEuYS5nZXRCb29sKCJjbGVhcl9jdXJyZW50X3NlZ21lbnRfaW5kZXhlc19kdXJpbmdfbGl2ZWhlYWRfY2F0Y2h1cCIsITEpKWZvcih2YXIgYiBpbiBhLmMpYS5jW2JdLmk9bnVsbH1mdW5jdGlvbiBjZyhhLGIpe2EuYmE9Yjtmb3IodmFyIGMgaW4gYS5jKXt2YXIgZD1hLmNbY107YS5iYSYmKGQuSj1hLmJhKX19CmZ1bmN0aW9uIGdnKGEpe3JldHVybiFPYmplY3Qua2V5cyhhLmMpLnNvbWUoSihhLGZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNbYV0mJiF0aGlzLmNbYV0uaH0pKX0KZnVuY3Rpb24gaGcoYSxiKXtiYShiJiZiLmxlbmd0aD09T2JqZWN0LmtleXMoYS5jKS5sZW5ndGgpO2Zvcih2YXIgYz1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksZD1OdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFksZT0wO2U8Yi5sZW5ndGg7KytlKXZhciBmPWJbZV0sYz1NYXRoLm1pbihjLGYpLGQ9TWF0aC5tYXgoZCxmKTtjPUhmKGEpO2ZvcihlPTA7ZTxjLmxlbmd0aDsrK2UpY1tlXS5UYShkKTthLmEuZ2V0Qm9vbCgicHJvY2Vzc19kZWZlcnJlZF9zd2l0Y2hlc19lYXJseSIsITEpJiZqZyhhKTtrZyhhLGMsZCk7dmFyIGc9V2EoYS5jKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuV2EoKS5pZH0pO2EuYS5nZXRCb29sKCJzZXF1ZW50aWFsbHlfbG9hZF9zdHJlYW1zIiwhMSk/bGcoYSxnLGQpOihlPSRhKGEuZikubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLnZ9KS5yZWR1Y2UoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5jb25jYXQoYil9LFtdKS5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIX5nLmluZGV4T2YoYS5pZCl9KS5tYXAoSihhLApmdW5jdGlvbihhKXt2YXIgYj1bYS5NLnBiP2EuTS5wYigpOmEuTS5jcmVhdGUoKV07YS5hYSYmYi5wdXNoKGEuYWEuY3JlYXRlKHRoaXMubCx0aGlzLmRhKSk7cmV0dXJuIFByb21pc2UuYWxsKGIpfSkpLFByb21pc2UuYWxsKGUpLnRoZW4oSihhLGZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7KytiKWFbYl1bMF0uVGEoZCk7dGhpcy5DYT0hMDtqZyh0aGlzKX0pKS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7ImFib3J0ZWQiIT1hLnR5cGUmJihhPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGEpKX0pKSl9CmZ1bmN0aW9uIGxnKGEsYixjKXt2YXIgZD1Qcm9taXNlLnJlc29sdmUoKTskYShhLmYpLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS52fSkucmVkdWNlKGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuY29uY2F0KGIpfSxbXSkuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiF+Yi5pbmRleE9mKGEuaWQpfSkuZm9yRWFjaChmdW5jdGlvbihhKXtkPWQudGhlbihKKHRoaXMsZnVuY3Rpb24oYil7YiYmYlswXS5UYShjKTtiPVthLk0ucGI/YS5NLnBiKCk6YS5NLmNyZWF0ZSgpXTthLmFhJiZiLnB1c2goYS5hYS5jcmVhdGUodGhpcy5sLHRoaXMuZGEpKTtyZXR1cm4gUHJvbWlzZS5hbGwoYil9KSkuY2F0Y2goZnVuY3Rpb24oYSl7dGhyb3cgYTt9KX0pO2QudGhlbihKKGEsZnVuY3Rpb24oKXt0aGlzLkNhPSEwO2pnKHRoaXMpfSkpLmNhdGNoKEooYSxmdW5jdGlvbihhKXsiYWJvcnRlZCIhPWEudHlwZSYmKGE9QShhKSx0aGlzLmRpc3BhdGNoRXZlbnQoYSkpfSkpfQpmdW5jdGlvbiBqZyhhKXtmb3IodmFyIGIgaW4gYS5CKXt2YXIgYz1hLkJbYl07YS5jW2JdLmpiKGMuTGMsYy5yYyxjLnNjLGMuc3dpdGNoUmVhc29uLGMuS2EpfWEuQj17fX0KZnVuY3Rpb24ga2coYSxiLGMpe3ZhciBkO2EuYS5nZXRCb29sKCJ3d3dfdmlkZW9zX2V4dGVuZGVkX3NwbF9sb2dnaW5nX2Zvcl9jb25uZWN0ZWRfdHYiLCExKSYmYS5sJiYoZD1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJzdHJlYW1fdmlkZW9fc291cmNlX2JlZ2luX3BsYXliYWNrIikpO2lmKGI9TWYoYSxiKSlkZyhhLGIpLGZnKGEsYi5zdGFydCxiLmVuZCxiLmxhc3QsYi5aYSk7MCE9Yz8oYz1hLnZpZGVvLmN1cnJlbnRUaW1lK2MsYS5hLmdldE51bWJlcigid3d3X3ZpZGVvc19udWRnZV90aW1lc3RhbXBfY29ycmVjdGlvbl9zIiwwKSYmKGMrPWEuYS5nZXROdW1iZXIoInd3d192aWRlb3NfbnVkZ2VfdGltZXN0YW1wX2NvcnJlY3Rpb25fcyIsMCkpLGEudmlkZW8uY3VycmVudFRpbWU9YyxhLkQ9Yyk6YS5lYyYmYiYmKGM9ZWcoYSxiKSxNYXRoLmFicyhjLWEudmlkZW8uY3VycmVudFRpbWUpPj1hLmRjJiYoYS52aWRlby5jdXJyZW50VGltZT1jKSk7YS5hLmdldEJvb2woInVuaWZ5X3N0cmVhbV9zdGFydF93aXRoX2J1ZmZlcl9kZXRlY3RvciIsCiExKT8oYz15KHt0eXBlOiJhbGxTdHJlYW1zU3RhcnRlZCIsYnViYmxlczohMH0pLGEuZGlzcGF0Y2hFdmVudChjKSk6YS52aWRlby5wbGF5YmFja1JhdGU9YS5rYzthLmIuYiYmbnVsbCE9YS5iLmMmJktmKGEsMCk7bWcoYSk7YS5zYS5yZXNvbHZlKCk7ZCYmZC5sb2coKX0KZnVuY3Rpb24gZWcoYSxiKXt2YXIgYz1iLmVuZDt2b2lkIDAhPT1iLkJjJiYoYz1iLkJjKTtpZihhLmEuZ2V0Qm9vbCgidGVtcGxhdGVkX2Fsd2F5c19qdW1wX3RvX3N0cmVhbV9saW1pdHNfZW5kIiwhMSkmJmEuYiYmYS5iLmYpcmV0dXJuIGIuZW5kO2lmKGEuY2Mpe3ZhciBkPWEudmlkZW8uY3VycmVudFRpbWUsZT1iLnN0YXJ0O2lmKGEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9hZGp1c3Rfc3RyZWFtX2xpbWl0c19zdGFydF9vZmZzZXRfaW50IiwwKSYmYS5iJiZhLmIuZil7Zm9yKHZhciBmPUhmKGEpLGc9MCxoPTA7aDxmLmxlbmd0aDsrK2gpe3ZhciBrPWZbaF0sbD1NYXRoLm1pbihhLmEuZ2V0TnVtYmVyKCJ0ZW1wbGF0ZWRfYWRqdXN0X3N0cmVhbV9saW1pdHNfc3RhcnRfb2Zmc2V0X2ludCIsMCksay5sZW5ndGgoKSk7ay5sZW5ndGgoKSYmMDxsJiZsPD1rLmxlbmd0aCgpJiYoZz1NYXRoLm1heChrLmdldChrLmxlbmd0aCgpLWwpLnN0YXJ0VGltZSxnKSl9ZT1NYXRoLm1heChlLApnKX1pZihkPj1lJiZkPD1iLmVuZCYmZDxjKWlmKGEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9qdW1wX3RvX2xpdmVfc2lkeF9lbmRfb2Zmc2V0IiwwKSYmYS5iJiZhLmIuZil7Zj1IZihhKTtrPW51bGw7ZT1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7Zm9yKGg9MDtoPGYubGVuZ3RoOysraClmW2hdLmxlbmd0aCgpPGUmJihlPWZbaF0ubGVuZ3RoKCksaz1mW2hdKTtrJiZlPmEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9qdW1wX3RvX2xpdmVfc2lkeF9lbmRfb2Zmc2V0IiwwKSYmKGY9ay5nZXQoay5sZW5ndGgoKS1hLmEuZ2V0TnVtYmVyKCJ0ZW1wbGF0ZWRfanVtcF90b19saXZlX3NpZHhfZW5kX29mZnNldCIsMCkpLnN0YXJ0VGltZSxkPj1mJiYoYz1kKSl9ZWxzZSBjPWR9cmV0dXJuIGN9CmZ1bmN0aW9uIGRnKGEsYil7aWYoYS5iLmIpaXNOYU4oYS5pLmR1cmF0aW9uKSYmKGEuaS5kdXJhdGlvbj1iLmVuZCsyNTkyRTMpO2Vsc2UgaWYoaXNOYU4oYS5pLmR1cmF0aW9uKXx8Yi5lbmQ+YS5pLmR1cmF0aW9uKWlmKGEuaS5kdXJhdGlvbj1iLmVuZCwhYS5hLmdldEJvb2woImRpc2FibGVfYXBwZW5kX3dpbmRvd19lbmQiLCExKSlmb3IodmFyIGM9YS5hLmdldE51bWJlcigiYXBwZW5kX3dpbmRvd19lbmRfZnVkZ2VfZmFjdG9yIiwwKSxkPTA7ZDxhLmkuc291cmNlQnVmZmVycy5sZW5ndGg7KytkKWEuaS5zb3VyY2VCdWZmZXJzW2RdLmFwcGVuZFdpbmRvd0VuZD1iLmVuZCtjfQpuLnJkPWZ1bmN0aW9uKCl7dGhpcy5rYT1udWxsO21nKHRoaXMpO3ZhciBhPU1mKHRoaXMsSGYodGhpcykpO2lmKGEpe3ZhciBiPXRoaXMuYi5iO3RoaXMuYS5nZXRCb29sKCJ0cmVhdF9saXZlX3N0YXRpY19tYW5pZmVzdF9hc19keW5hbWljIiwhMSkmJihiPWJ8fHRoaXMuYi5oKTtiJiZ0aGlzLmphIT1hLmxhc3QmJih0aGlzLmphPWEubGFzdCxudWxsIT10aGlzLmomJihjbGVhclRpbWVvdXQodGhpcy5qKSx0aGlzLmo9bnVsbCkpO2ZnKHRoaXMsYS5zdGFydCxhLmVuZCxhLmxhc3QsYS5aYSk7dGhpcy52aWRlby5wYXVzZWR8fG5nKHRoaXMsdGhpcy52aWRlby5jdXJyZW50VGltZSxhLnN0YXJ0LGEuZW5kKX19O2Z1bmN0aW9uIGZnKGEsYixjLGQsZSl7Yj15KHt0eXBlOiJzZWVrcmFuZ2VjaGFuZ2VkIixidWJibGVzOiEwLHN0YXJ0OmIsZW5kOmMsbGFzdDpkLHNlZWtSYW5nZUdhcHM6ZX0pO2EuZGlzcGF0Y2hFdmVudChiKX0Kbi5tZD1mdW5jdGlvbigpe3ZhciBhPXRoaXMudmlkZW8uY3VycmVudFRpbWUsYj1NZih0aGlzLEhmKHRoaXMpKTt0aGlzLmwmJmImJmE8Yi5zdGFydCYmQmFuemFpT0RTLmJ1bXBFbnRpdHlLZXkoMjk2NiwidmlkZW9zLnd3dy5zaGFrYSIsImN1cnJlbnRfdGltZV9hdF9zZWVrX2xlc3NfdGhhbl9zdHJlYW1fbGltaXRzX3N0YXJ0Iik7aWYobnVsbCE9dGhpcy5EKXtpZihhPj10aGlzLkQtLjAxJiZhPD10aGlzLkQrLjAxKXt0aGlzLkQ9bnVsbDt0aGlzLmwmJmImJmE8Yi5zdGFydCYmQmFuemFpT0RTLmJ1bXBFbnRpdHlLZXkoMjk2NiwidmlkZW9zLnd3dy5zaGFrYSIsImlnbm9yZWRfc2Vla193aGVuX2N1cnJlbnRfdGltZV9hdF9zZWVrX2xlc3NfdGhhbl9zdHJlYW1fbGltaXRzX3N0YXJ0Iik7cmV0dXJufXRoaXMuRD1udWxsfWlmKGIpe3ZhciBjPWIuc3RhcnQsZD1iLmVuZDt0aGlzLmEuZ2V0Qm9vbCgic2tpcF9yZW1haW5pbmdfYnVmZmVyZWRfb25fc3RyZWFtX2VuZCIsITEpJiZ0aGlzLmIuYiYmCnRoaXMuYi5oJiZ0aGlzLnZpZGVvLnBhdXNlZCYmKGQ9dGhpcy5qYSk7KGM9bmcodGhpcyxhLGMsZCkpfHwoYTw9ZCsuMDF8fHRoaXMuYi5iJiYhb2codGhpcyxkKT9jPSExOih0aGlzLnZpZGVvLmN1cnJlbnRUaW1lPWQsYz0hMCkpO2lmKGMpdGhpcy5sJiZhPGIuc3RhcnQmJkJhbnphaU9EUy5idW1wRW50aXR5S2V5KDI5NjYsInZpZGVvcy53d3cuc2hha2EiLCJjbGFtcF9wbGF5aGVhZF93aGVuX2N1cnJlbnRfdGltZV9hdF9zZWVrX2xlc3NfdGhhbl9zdHJlYW1fbGltaXRzX3N0YXJ0Iik7ZWxzZXtmb3IodmFyIGUgaW4gdGhpcy5jKXRoaXMuY1tlXS5DYyh0aGlzLkVhKTt0aGlzLkVhPSExfX19O2Z1bmN0aW9uIG5nKGEsYixjLGQpe2lmKGI+PWMtLjAxKXJldHVybiExO2I9MDthLmIuYiYmKGI9LjUsb2coYSxjK2IpfHwoYj1hLmIuZykpO2EudmlkZW8uY3VycmVudFRpbWU9TWF0aC5taW4oYytiLGQpO3JldHVybiEwfQpmdW5jdGlvbiBvZyhhLGIpe2Zvcih2YXIgYyBpbiBhLmMpaWYoIWEuY1tjXS5JYyhiKSlyZXR1cm4hMTtyZXR1cm4hMH1uLm9kPWZ1bmN0aW9uKCl7aWYoIXRoaXMuYi5ifHx0aGlzLkZhKXtmb3IodmFyIGEgaW4gdGhpcy5jKWlmKCF0aGlzLmNbYV0uZmIoKSlyZXR1cm47dGhpcy5lYigpfX07bi5wZD1mdW5jdGlvbigpe2NsZWFyVGltZW91dCh0aGlzLnUpO3RoaXMuRmE9ITA7Zm9yKHZhciBhIGluIHRoaXMuYyl0aGlzLmNbYV0uZmIoKXx8dGhpcy5jW2FdLkNiKCl9O24uamQ9ZnVuY3Rpb24oKXt0aGlzLmEuZ2V0Qm9vbCgiaWdub3JlX3NlZWtfd2hlbl9udWRnaW5nIiwhMCkmJih0aGlzLkQ9dGhpcy52aWRlby5jdXJyZW50VGltZSk7dGhpcy52aWRlby5jdXJyZW50VGltZSs9LjAwMX07Cm4udGI9ZnVuY3Rpb24oKXtpZih0aGlzLmFjKCl8fHRoaXMuYmMoKSlyZXR1cm4hMDt2YXIgYT10aGlzLmIsYj1udWxsLGM9bnVsbDthJiZhLmEmJmEuYVswXSYmKGI9YS5hWzBdKTtiJiZiLmEmJmIuYVswXSYmKGM9Yi5hWzBdKTtyZXR1cm4hIWMmJmMuYn07WS5wcm90b3R5cGUuaGFzSW5saW5lZENlYTYwOFN1YnRpdGxlcz1ZLnByb3RvdHlwZS50YjtZLnByb3RvdHlwZS5QYj1mdW5jdGlvbihhKXt0aGlzLm5jPWE7dmFyIGI9dGhpcy5jOyJ2aWRlbyJpbiBiJiYoYT1hJiZ0aGlzLnRiKCksYi52aWRlby5jLlM9YSl9O1kucHJvdG90eXBlLnNldEVuYWJsZUNlYTYwOFBhcnNpbmc9WS5wcm90b3R5cGUuUGI7CmZ1bmN0aW9uIHNmKGEpe3ZhciBiPWEuYS5nZXROdW1iZXIoImxpdmVfYnVmZmVyaW5nX3VuZGVyZmxvd190aHJlc2hvbGQiLC41KSxjPWEuYS5nZXRCb29sKCJmaXhfbGl2ZV9zdHJlYW1fZ29uZV9vbl9tYW5pZmVzdF91cGRhdGUiLCEwKSYmYS5oYyxkPSExO2lmKGEuYi5oKXt2YXIgZD1hLmEuZ2V0TnVtYmVyKCJsaXZlX3N0cmVhbV9lbmRfc2xhY2siLDApLGU7Zm9yKGUgaW4gYS5jKWEuY1tlXS5mYigpfHwoZD0wKTtkPWEudmlkZW8uY3VycmVudFRpbWUrYitkPmEuamF9cmV0dXJuIGN8fGR9bj1ZLnByb3RvdHlwZTsKbi5jZD1mdW5jdGlvbigpe3RoaXMuJD0hMDtpZih0aGlzLmImJnRoaXMuYi5iKXtpZihzZih0aGlzKSlyZXR1cm4gdGhpcy5lYigpO3RoaXMuYS5nZXRCb29sKCJhbGxvd19pbmZpbml0ZV9yZXRyeV9vbl9uZXRfZXJyIiwhMCkmJnRoaXMuRy5pc05ldHdvcmtJbnRlcnJ1cHRlZCgpfHwhV2EodGhpcy5jKS5ldmVyeShmdW5jdGlvbihhKXtyZXR1cm4gYS5mYigpfSl8fHBnKHRoaXMsdGhpcy5nYil9dGhpcy5hLmdldEJvb2woImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvdyIsITEpJiYobnVsbD09PXRoaXMuS3x8RGF0ZS5ub3coKS10aGlzLmZjPnRoaXMuYS5nZXROdW1iZXIoImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvd190aW1lX3dpbmRvdyIsMkUzKT90aGlzLks9dGhpcy5hLmdldE51bWJlcigiYnVmZmVyaW5nX292ZXJmbG93X3RocmVzaG9sZCIsMCk6dGhpcy5LKj10aGlzLmEuZ2V0TnVtYmVyKCJiYWNrX29mZl9idWZmZXJpbmdfb3ZlcmZsb3dfdGltZV9mYWN0b3IiLDIpLAp0aGlzLks9TWF0aC5taW4odGhpcy5LLHRoaXMuYS5nZXROdW1iZXIoImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvd19tYXgiLDUpKSl9O2Z1bmN0aW9uIHBnKGEsYil7YS5qPXNldFRpbWVvdXQoYS5lYi5iaW5kKGEpLGIpfW4uYmQ9ZnVuY3Rpb24oKXt0aGlzLiQ9ITE7dGhpcy5hLmdldEJvb2woImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvdyIsITEpJiYodGhpcy5mYz1EYXRlLm5vdygpKTtudWxsIT10aGlzLmomJihjbGVhclRpbWVvdXQodGhpcy5qKSx0aGlzLmo9bnVsbCl9O24uZ2Q9ZnVuY3Rpb24oKXtudWxsIT09dGhpcy5iYSYmKGJnKHRoaXMsdGhpcy5iYSksY2codGhpcyxudWxsKSl9O24uR2Q9ZnVuY3Rpb24oKXt9OwpuLmViPWZ1bmN0aW9uKCl7dGhpcy4kPSExO3RoaXMuaj1udWxsO3ZhciBhO2lmKGE9dGhpcy5hLmdldEJvb2woInRlc3Rfc291cmNlX2J1ZmZlcnNfbm90X3VwZGF0aW5nX2VuZF9vZl9zdHJlYW0iLCExKSlhOntmb3IoYT0wO2E8dGhpcy5pLnNvdXJjZUJ1ZmZlcnMubGVuZ3RoOysrYSlpZih0aGlzLmkuc291cmNlQnVmZmVyc1thXS51cGRhdGluZyl7YT0hMDticmVhayBhfWE9ITF9aWYoYSlyZXR1cm4gcGcodGhpcywxRTMpOyJvcGVuIj09dGhpcy5pLnJlYWR5U3RhdGUmJnRoaXMuaS5lbmRPZlN0cmVhbSgpfTtmdW5jdGlvbiBIZihhKXtyZXR1cm4gV2EoYS5jKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuRmIoKX0pLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YX0pfWZ1bmN0aW9uIExmKGEpe3JldHVybiBNYXRoLm1heChhLmI/YS5iLmc6MSxhLlpiP2EuZy5zdHJlYW1CdWZmZXJTaXplfHwwOjApfQpmdW5jdGlvbiBNZihhLGIpe2Zvcih2YXIgYz0wLGQ9TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLGU9TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLGY9W10sZz0hVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJub19zZWVrX3JhbmdlX2dhcHNfZHVyaW5nX2NvbXB1dGVfc3RyZWFtX2xpbWl0cyIsITEpLGg9MDtoPGIubGVuZ3RoOysraCl7dmFyIGs9YltoXS5BKCk7ZyYmKGY9Zi5jb25jYXQoYltoXS5nZXRTZWVrUmFuZ2VHYXBzKCkpKTtjPU1hdGgubWF4KGMsay5zdGFydCk7bnVsbCE9ay5lbmQmJihkPU1hdGgubWluKGQsay5lbmQpKTtiW2hdLmxlbmd0aCgpJiYoZT1NYXRoLm1pbihlLGJbaF0ubGFzdCgpLmVuZFRpbWUpKX1nJiYoZj1tZXJnZVNlZWtSYW5nZUdhcHMoZikpO2lmKGQ9PU51bWJlci5QT1NJVElWRV9JTkZJTklUWSlpZihkPWEuYi5hWzBdLGQuZHVyYXRpb24pZD0oZC5zdGFydHx8MCkrZC5kdXJhdGlvbjtlbHNlIHJldHVybiBudWxsO2lmKGEuYi5iKXt2YXIgZz0KTGYoYSksZD1NYXRoLm1heChkLWcsYyksbDthLnJhJiZhLmEuZ2V0Qm9vbCgibGl2ZV9qdW1wX3RvX3B1c2hlZF9zZWdtZW50IiwhMSkmJmIubGVuZ3RoJiYoaD1NYXRoLmZsb29yKExmKGEpLzEpKzEsZz1iWzBdLGg9Zy5sZW5ndGgoKS1oLChnPWcuZ2V0KGgpKSYmKGw9Zy5zdGFydFRpbWUpKX1pZihjPmQpcmV0dXJuIG51bGw7ZD1NYXRoLmZsb29yKDFFNSpkKS8xRTU7cmV0dXJue3N0YXJ0OmMsZW5kOmQsbGFzdDplLFphOmYsQmM6bH19bi5uYj1mdW5jdGlvbigpe3JldHVybiBNZih0aGlzLEhmKHRoaXMpKX07WS5wcm90b3R5cGUuY29tcHV0ZVN0cmVhbUxpbWl0cz1ZLnByb3RvdHlwZS5uYjtmdW5jdGlvbiBtZyhhKXthLmIuYiYmKGEua2E9c2V0VGltZW91dChhLnJkLmJpbmQoYSksMUUzKSl9ZnVuY3Rpb24gRGYoYSl7Zm9yKHZhciBiIGluIGEuYylhLmNbYl0ucGEoYS5nKX1ZLnByb3RvdHlwZS5zYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLkJifTsKWS5wcm90b3R5cGUuZ2V0TG9uZ2VzdEluaXRSZXNwb25zZVRpbWU9WS5wcm90b3R5cGUuc2I7ZnVuY3Rpb24gWmYoYSl7cmV0dXJuInYiPT09YS5jaGFyQXQoMCk/InZpZGVvIjoiYSI9PT1hLmNoYXJBdCgwKT8iYXVkaW8iOm51bGx9WS5wcm90b3R5cGUuVGM9ZnVuY3Rpb24oKXt2YXIgYT15KHt0eXBlOiJuZXR3b3JraW50ZXJydXB0ZWQiLGJ1YmJsZXM6ITB9KTt0aGlzLmRpc3BhdGNoRXZlbnQoYSk7dGhpcy5UPXRoaXMuVHx8RGF0ZS5ub3coKTt0aGlzLiQmJnRoaXMuaiYmY2xlYXJUaW1lb3V0KHRoaXMuail9OwpZLnByb3RvdHlwZS5VYz1mdW5jdGlvbigpe3ZhciBhPXkoe3R5cGU6Im5ldHdvcmtyZXN1bWVkIixidWJibGVzOiEwfSk7dGhpcy5kaXNwYXRjaEV2ZW50KGEpO2E9dGhpcy5hLmdldE51bWJlcigibWF4X25ldHdvcmtfaW50ZXJydXB0ZWRfdGltZV9iZWZvcmVfc2VlayIsMUU0KTtudWxsIT09dGhpcy5UJiZEYXRlLm5vdygpLXRoaXMuVD49YSYmKHRoaXMuVD1udWxsLHRoaXMuZWE9ITApO3RoaXMuYS5nZXRCb29sKCJmaXhfbmV0d29ya19pbnRlcnJ1cHRlZF9zdGFydF9ub3RfbnVsbGVkIiwhMSkmJih0aGlzLlQ9bnVsbCk7dGhpcy4kJiZwZyh0aGlzLHRoaXMuZ2IpfTtZLnByb3RvdHlwZS5WYz1mdW5jdGlvbigpe3RoaXMuZWE9ITB9O2Z1bmN0aW9uIFBmKGEpe2EuYS5nZXRCb29sKCJkZWNvdXBsZV9tcGRfdXBkYXRlX2xvb3BfZnJvbV9yZXF1ZXN0X2xvb3AiLCExKXx8S2YoYSwwKX1ZLnByb3RvdHlwZS5xYz1mdW5jdGlvbihhKXt0aGlzLm5hPWF9OwpZLnByb3RvdHlwZS5zZXRFbmFibGVMaXZlaGVhZENhdGNodXA9WS5wcm90b3R5cGUucWM7WS5wcm90b3R5cGUuemQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uYX07WS5wcm90b3R5cGUuaXNMaXZlaGVhZENhdGNodXBFbmFibGVkPVkucHJvdG90eXBlLnpkO1kucHJvdG90eXBlLlNjPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYy52aWRlbz90aGlzLmMudmlkZW8uYy5pOm51bGx9O1kucHJvdG90eXBlLmdldFZpZGVvU3RyZWFtUHJvZ3Jlc3NUcmFja2VyPVkucHJvdG90eXBlLlNjO1kucHJvdG90eXBlLnFiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYy52aWRlbz90aGlzLmMudmlkZW8ucWIoKTpudWxsfTtZLnByb3RvdHlwZS5nZXRCdWZmZXJWZWxvY2l0eT1ZLnByb3RvdHlwZS5xYjtmdW5jdGlvbiBSZihhLGIpe2Zvcih2YXIgYyBpbiBhLmMpYS5jW2NdLm5hPWJ9CmZ1bmN0aW9uIGlnKGEpe3ZhciBiPVtdO2lmKG51bGwhPT1hLmNhKXt2YXIgYz1hLmNhLGQ7Zm9yKGQgaW4gYS5jKWIucHVzaChyZShhLmNbZF0sYS5jYSkpO1Byb21pc2UuYWxsKGIpLnRoZW4oSihhLGZ1bmN0aW9uKCl7aWYoYyl7Zm9yKHZhciBhIGluIHRoaXMuYyl7dmFyIGI9dGhpcy5jW2FdO2IuSz1udWxsO2IuVj0hMTtiLkk9bnVsbH1jPnRoaXMudmlkZW8uY3VycmVudFRpbWUmJih0aGlzLnZpZGVvLmN1cnJlbnRUaW1lPWMpfX0pKX1hLmNhPW51bGx9O2Z1bmN0aW9uIFooYSxiLGMsZCxlLGYsZyl7ZHx8KGQ9bmV3IEcpO2V8fChlPW5ldyBYKTtZLmNhbGwodGhpcyxudWxsLGIsZCxlKTsic3RyaW5nIj09PXR5cGVvZiBhP3RoaXMuamM9YTp0aGlzLk5iPWE7dGhpcy5hPWI7dGhpcy5GPW51bGw7dGhpcy50YT1jO3RoaXMuRGE9W107dGhpcy5RYj1bXTt0aGlzLlJiPVtdO3RoaXMuSGE9MDt0aGlzLlk9bnVsbDt0aGlzLk1iPWd8fG51bGx9cihaLFkpO3EoInNoYWthLnBsYXllci5EYXNoVmlkZW9Tb3VyY2UiLFopO1oucHJvdG90eXBlLkpkPWZ1bmN0aW9uKGEpe3RoaXMuRj1hO3RoaXMuSmIoITAsITApfTtaLnByb3RvdHlwZS51cGRhdGVNYW5pZmVzdD1aLnByb3RvdHlwZS5KZDtaLnByb3RvdHlwZS5PYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLk5ifHx0aGlzLkZ9O1oucHJvdG90eXBlLmdldE1hbmlmZXN0PVoucHJvdG90eXBlLk9iO1oucHJvdG90eXBlLlRiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuT2IoKX07CloucHJvdG90eXBlLmRlYnVnR2V0TWFuaWZlc3Q9Wi5wcm90b3R5cGUuVGI7Wi5wcm90b3R5cGUuWmM9ZnVuY3Rpb24oYSxiLGMpe3RoaXMuRGEucHVzaChhKTt0aGlzLlFiLnB1c2goYnx8IiIpO3RoaXMuUmIucHVzaChjfHwiIil9O1oucHJvdG90eXBlLmFkZEV4dGVybmFsQ2FwdGlvbnM9Wi5wcm90b3R5cGUuWmM7Wi5wcm90b3R5cGUudGQ9ZnVuY3Rpb24oYSl7dGhpcy5ZPWF9O1oucHJvdG90eXBlLnNldE5ldHdvcmtDYWxsYmFjaz1aLnByb3RvdHlwZS50ZDtaLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5GPXRoaXMuWT10aGlzLnRhPW51bGw7WS5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpfTsKWi5wcm90b3R5cGUud2I9ZnVuY3Rpb24oKXt2YXIgYTt0aGlzLmwmJihhPXRoaXMubC5nZXRPcGVyYXRpb25Mb2dnZXIoInNvdXJjZV9sb2FkIikuc3RhcnQoKSk7dmFyIGIsYz1KKHRoaXMsZnVuY3Rpb24oYSl7aWYodGhpcy5hLmdldEJvb2woImVuYWJsZV9kb3VibGVfaW5nZXN0X29uX2luaXRpYWxfbXBkIiwhMSkpc3dpdGNoKGEuc3RhdHVzKXtjYXNlIDIwMDpjYXNlIDQxNzppZihhLnJlc3BvbnNlSGVhZGVycyYmbnVsbCE9YS5yZXNwb25zZUhlYWRlcnNbIngtZmItdmlkZW8tcmVwbGljYSJdKXJldHVybiB0aGlzLmRpc3BhdGNoRXZlbnQoeSh7dHlwZToicmVwbGljYXN3aXRjaCIsYnViYmxlczohMCxyZXBsaWNhOmEucmVzcG9uc2VIZWFkZXJzWyJ4LWZiLXZpZGVvLXJlcGxpY2EiXX0pKSxuZXcgUHJvbWlzZShmdW5jdGlvbigpe30pfXRocm93IGE7fSksZD1KKHRoaXMsZnVuY3Rpb24oYyl7dGhpcy5MYSgiTVBERmV0Y2hEdXJhdGlvbiIsKERhdGUubm93KCktYikvMUUzKTt0aGlzLkY9CmM7Zm9yKHZhciBkPTA7ZDx0aGlzLkRhLmxlbmd0aDtkKyspTGMoYyx0aGlzLkRhW2RdLHRoaXMuUWJbZF0sdGhpcy5SYltkXSk7dmFyIGQ9bmV3IHllKHRoaXMuYSx0aGlzLnRhLHRoaXMubCx0aGlzLk1iKSxlO3RoaXMubCYmKGU9dGhpcy5sLmdldE9wZXJhdGlvbkxvZ2dlcigicHJvY2Vzc19tYW5pZmVzdCIpLnN0YXJ0KCkpO3RoaXMuYj16ZShkLGMsdGhpcy5ZKTtlJiZlLmxvZygpO2EmJmEuc2V0TWFuaWZlc3RUeXBlKHRoaXMuYi5iPyJkeW5hbWljIjoic3RhdGljIik7cmV0dXJuIFkucHJvdG90eXBlLndiLmNhbGwodGhpcykudGhlbihmdW5jdGlvbigpe2EmJmEubG9nKCl9KX0pO2lmKHRoaXMuTmIpcmV0dXJuIGI9RGF0ZS5ub3coKSxkKHRoaXMuTmIpO3ZhciBlPVtuZXcgTCh0aGlzLmpjKV0sZjtpZih0aGlzLnJhKXt2YXIgZz1uZXcgVmlkZW9QdXNoUGFyYW1ldGVyc0hlbHBlcih0aGlzLmpjKTtnLnNldFN0cmVhbUVuZE9mZnNldChNYXRoLmZsb29yKExmKHRoaXMpLzEpKTsKdGhpcy5PYSYmZy5zZXRQdXNoVmlkZW9SZXByZXNlbnRhdGlvbklEKHRoaXMuT2EpO3RoaXMucGEmJmcuc2V0UHVzaEF1ZGlvUmVwcmVzZW50YXRpb25JRCh0aGlzLnBhKTt0aGlzLm1hJiZnLnNldFVzZUxvbmdDYWNoZUZvck1hbmlmZXN0KHRoaXMubWEpO2Y9bmV3IGZkKG51bGwpO2YuYT1nfWU9bmV3IEsodGhpcy5ZLGUsdm9pZCAwLHZvaWQgMCx2b2lkIDAsdGhpcy5NYik7Zj1uZXcgZGQoZSx0aGlzLkxiLGYsdGhpcy5kYSk7Yj1EYXRlLm5vdygpO3JldHVybiBlZChmLHRoaXMubCkudGhlbihkLGMpfTsKWi5wcm90b3R5cGUudmM9ZnVuY3Rpb24oKXtpZih0aGlzLlViKXt2YXIgYT10aGlzLmI7aWYoYT0oYT1hJiZhLmEpJiZhWzBdKXt2YXIgYT1hLmEucmVkdWNlKGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuY29uY2F0KGIudil9LFtdKSxiPWZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hfTtQcm9taXNlLmFsbChhLm1hcChmdW5jdGlvbihhKXthPWEuTTtyZXR1cm4gYS5RYz9hLlJhOmEuY3JlYXRlKCl9KSkudGhlbihmdW5jdGlvbihhKXthPWEuZmlsdGVyKGIpO3RoaXMuTGEoIkluaXRpYWxTZWdtZW50SW5kZXhlcyIsYSl9LmJpbmQodGhpcykpO1Byb21pc2UuYWxsKGEubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLmFhfSkpLnRoZW4oZnVuY3Rpb24oYSl7YT1hLmZpbHRlcihiKTt0aGlzLkxhKCJTZWdtZW50SW5pdFNvdXJjZXMiLGEpfS5iaW5kKHRoaXMpKX19fTsKWi5wcm90b3R5cGUueWM9ZnVuY3Rpb24oYSxiLGMpe2lmKHRoaXMudmlkZW8ucGF1c2VkJiZ0aGlzLkhhKzFFND5EYXRlLm5vdygpJiZ0aGlzLmIpcmV0dXJuIFByb21pc2UucmVqZWN0KHt0eXBlOiJkZWxheSJ9KTt2YXIgZDtpZihiJiZ2b2lkIDAhPWMpZD1uZXcgZmQoYiksZC5mPWMsYj1TZih0aGlzKSxudWxsIT1iJiYoZC5jPWIuc3RyZWFtSW5mb0lELGQuYj10aGlzLnBhKTtlbHNlIGZvcihiPWEuYyxjPTA7YzxiLmxlbmd0aDtjKyspe3ZhciBlPW5ldyBWaWRlb1B1c2hQYXJhbWV0ZXJzSGVscGVyKGJbY10udG9TdHJpbmcoKSk7dGhpcy5tYSYmZS5zZXRVc2VMb25nQ2FjaGVGb3JNYW5pZmVzdCh0aGlzLm1hKTtiW2NdPW5ldyBMKGUuZ2V0VVJMKCkpfWE9bmV3IGRkKGEsdGhpcy5MYixkLHRoaXMuZGEpO3ZhciBmPURhdGUubm93KCk7cmV0dXJuIGVkKGEsdGhpcy5sKS50aGVuKEoodGhpcyxmdW5jdGlvbihhKXt0aGlzLkhhPURhdGUubm93KCk7dGhpcy5MYSgiTVBERmV0Y2hEdXJhdGlvbiIsCih0aGlzLkhhLWYpLzFFMyk7dGhpcy5hLmdldEJvb2woInRyZWF0X2xpdmVfc3RhdGljX21hbmlmZXN0X2FzX2R5bmFtaWMiLCExKSYmKGEubWFuaWZlc3RJc0xpdmVTdHJlYW1pbmc9ImR5bmFtaWMiPT09KHRoaXMuRj90aGlzLkYudHlwZTphLnR5cGUpKTt0aGlzLkY9YTt2YXIgYj1uZXcgeWUodGhpcy5hLHRoaXMudGEsdGhpcy5sLHRoaXMuTWIpO2lmKHRoaXMubCl2YXIgYz10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJwcm9jZXNzX21hbmlmZXN0Iikuc3RhcnQoKTthPXplKGIsYSx0aGlzLlkpO2MmJmMubG9nKCk7cmV0dXJuIFByb21pc2UucmVzb2x2ZShhKX0pKX07Wi5wcm90b3R5cGUueGM9ZnVuY3Rpb24oKXt2YXIgYT16ZShuZXcgeWUodGhpcy5hLHRoaXMudGEpLHRoaXMuRix0aGlzLlkpO3JldHVybiBQcm9taXNlLnJlc29sdmUoYSl9O30uYmluZChnLCBnbG9iYWwpKSgpOwoKbW9kdWxlLmV4cG9ydHMgPSBnLnNoYWthOwoKCi8qICAqL30pLG51bGwpOwovLyMgc291cmNlVVJMPWZiOGIxNmM4YjU3NjdkNTE4ODYwZGFiMjgzMGM1MGYyLmpzCg==, line 416: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript error: data:application/x-javascript;charset=utf-8;base64,aWYgKHNlbGYuQ2F2YWxyeUxvZ2dlcikgeyBDYXZhbHJ5TG9nZ2VyLnN0YXJ0X2pzKFsiKzRzV3kiXSk7IH0KLyoqCiAqIEBwcm92aWRlc01vZHVsZSBTaGFrYQogKiBAcHJlc2VydmUtd2hpdGVzcGFjZQogKiBAbm9wYWNrYWdlCiAqIEBnZW5lcmF0ZWQKICovCl9fZCgiU2hha2EiLFsiUHJvbWlzZSIsIkV2ZW50TGlzdGVuZXIiLCJWaWRlb1BsYXllclNoYWthUGVyZm9ybWFuY2VMb2dnZXIiLCJWaWRlb1B1c2hQYXJhbWV0ZXJzSGVscGVyIiwiVGltZVNsaWNlIiwiVmlkZW9QbGF5ZXJMb2NhbEJhbmR3aWR0aEVzdGltYXRvciIsIlZpZGVvUGxheWVyUmVzb3VyY2VUaW1lciIsIlNoYWthU2VnbWVudFJlZmVyZW5jZUhlbHBlciIsIlNlZ21lbnRSZXF1ZXN0TWFuYWdlciIsImNvbmNhdEFycmF5QnVmZmVyIiwiQnVmZmVyUmVwbGFjZW1lbnRIZWxwZXIiLCJsb2dMb25nQWthbWFpUmVxdWVzdCIsInRocm90dGxlIiwiVmlld3BvcnRQcmlvcml0eUFkanVzdGVyIiwiRmlyc3RMb2FkZWRWaWRlb1ByaW9yaXR5QWRqdXN0ZXIiLCJWaWRlb1ByaW9yaXR5Q2FsY3VsYXRvciIsIlZpZGVvU3RyZWFtaW5nTWFuYWdlciIsIk11bHRpcGxlU2VnbWVudHNQcm92aWRlciIsIkxvY2FsQml0cmF0ZUhlbHBlciIsIlVuaXRDb25zdGFudHMiLCJCdWZmZXJWZWxvY2l0eSIsIlZpZGVvUGxheWVyQml0cmF0ZUVzdGltYXRvciIsIlZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWciLCJnZXRTZWVrUmFuZ2VHYXBzRnJvbVNoYWthUmVmZXJlbmNlcyIsIm1lcmdlU2Vla1JhbmdlR2FwcyIsIk5ldHdvcmtTdGF0dXNEZXRlY3RvciIsIk1vc1V0aWxzIiwiQmFuemFpT0RTIiwiVmlkZW9EYXNoUHJlZmV0Y2hDYWNoZSIsIlZpZGVvQ2xpZW50RWRnZUNvb3BlcmF0aW9uIiwiVmlkZW9TdHJlYW1pbmdUYXNrUXVldWVQcm92aWRlciIsIkJpbmFyeVNlYXJjaCIsIlNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscyIsImdreCIsInNldFRpbWVvdXRBY3Jvc3NUcmFuc2l0aW9ucyIsInNldFRpbWVvdXQiLCJzZXRJbnRlcnZhbEFjcm9zc1RyYW5zaXRpb25zIiwic2V0SW50ZXJ2YWwiLCJzZXRJbW1lZGlhdGVBY3Jvc3NUcmFuc2l0aW9ucyIsInNldEltbWVkaWF0ZSIsImNsZWFyVGltZW91dCIsImNsZWFySW50ZXJ2YWwiLCJjbGVhckltbWVkaWF0ZSIsImRpc3BhdGNoRXZlbnQiLCJFdmVudExpc3RlbmVyIiwiRXZlbnQiLCJleHRyYWN0Q0VBNjA4IiwicGVyZm9ybWFuY2VOb3ciLCJwYXJzZUhlYWRlcnMiLCJjYW5Vc2VGZXRjaFN0cmVhbSIsIlN1YnNjcmlwdGlvbnNIYW5kbGVyIiwiVmlkZW9QdXNoVHJhY2tlciJdLChmdW5jdGlvbiAkbW9kdWxlX1NoYWthKGdsb2JhbCxyZXF1aXJlLHJlcXVpcmVEeW5hbWljLHJlcXVpcmVMYXp5LG1vZHVsZSxleHBvcnRzKXsKCi8vIHJ1biBgYXJjIHJlYnVpbGQgc2hha2EtcGxheWVyYCB0byByZWdlbmVyYXRlIFNoYWthLmpzIGFmdGVyIG1vZGlmeWluZyB0aGlzCi8vIGZpbGUKCnZhciBQcm9taXNlID0gcmVxdWlyZSgnUHJvbWlzZScpOwp2YXIgRXZlbnRMaXN0ZW5lciA9IHJlcXVpcmUoJ0V2ZW50TGlzdGVuZXInKTsKdmFyIFZpZGVvUGxheWVyU2hha2FQZXJmb3JtYW5jZUxvZ2dlciA9IHJlcXVpcmUoJ1ZpZGVvUGxheWVyU2hha2FQZXJmb3JtYW5jZUxvZ2dlcicpOwp2YXIgVmlkZW9QdXNoUGFyYW1ldGVyc0hlbHBlciA9IHJlcXVpcmUoJ1ZpZGVvUHVzaFBhcmFtZXRlcnNIZWxwZXInKTsKdmFyIFRpbWVTbGljZSA9IHJlcXVpcmUoJ1RpbWVTbGljZScpOwp2YXIgVmlkZW9QbGF5ZXJMb2NhbEJhbmR3aWR0aEVzdGltYXRvciA9IHJlcXVpcmUoJ1ZpZGVvUGxheWVyTG9jYWxCYW5kd2lkdGhFc3RpbWF0b3InKTsKdmFyIFZpZGVvUGxheWVyUmVzb3VyY2VUaW1lciA9IHJlcXVpcmUoJ1ZpZGVvUGxheWVyUmVzb3VyY2VUaW1lcicpOwp2YXIgU2hha2FTZWdtZW50UmVmZXJlbmNlSGVscGVyID0gcmVxdWlyZSgnU2hha2FTZWdtZW50UmVmZXJlbmNlSGVscGVyJyk7CnZhciBTZWdtZW50UmVxdWVzdE1hbmFnZXIgPSByZXF1aXJlKCdTZWdtZW50UmVxdWVzdE1hbmFnZXInKTsKdmFyIGNvbmNhdEFycmF5QnVmZmVyID0gcmVxdWlyZSgnY29uY2F0QXJyYXlCdWZmZXInKTsKdmFyIEJ1ZmZlclJlcGxhY2VtZW50SGVscGVyID0gcmVxdWlyZSgnQnVmZmVyUmVwbGFjZW1lbnRIZWxwZXInKTsKdmFyIGxvZ0xvbmdBa2FtYWlSZXF1ZXN0ID0gcmVxdWlyZSgnbG9nTG9uZ0FrYW1haVJlcXVlc3QnKTsKdmFyIHRocm90dGxlID0gcmVxdWlyZSgndGhyb3R0bGUnKTsKdmFyIFZpZXdwb3J0UHJpb3JpdHlBZGp1c3RlciA9IHJlcXVpcmUoJ1ZpZXdwb3J0UHJpb3JpdHlBZGp1c3RlcicpOwp2YXIgRmlyc3RMb2FkZWRWaWRlb1ByaW9yaXR5QWRqdXN0ZXIgPSByZXF1aXJlKCdGaXJzdExvYWRlZFZpZGVvUHJpb3JpdHlBZGp1c3RlcicpOwp2YXIgVmlkZW9Qcmlvcml0eUNhbGN1bGF0b3IgPSByZXF1aXJlKCdWaWRlb1ByaW9yaXR5Q2FsY3VsYXRvcicpOwp2YXIgVmlkZW9TdHJlYW1pbmdNYW5hZ2VyID0gcmVxdWlyZSgnVmlkZW9TdHJlYW1pbmdNYW5hZ2VyJyk7CnZhciBNdWx0aXBsZVNlZ21lbnRzUHJvdmlkZXIgPSByZXF1aXJlKCdNdWx0aXBsZVNlZ21lbnRzUHJvdmlkZXInKTsKdmFyIExvY2FsQml0cmF0ZUhlbHBlciA9IHJlcXVpcmUoJ0xvY2FsQml0cmF0ZUhlbHBlcicpOwp2YXIgVW5pdENvbnN0YW50cyA9IHJlcXVpcmUoJ1VuaXRDb25zdGFudHMnKTsKdmFyIEJ1ZmZlclZlbG9jaXR5ID0gcmVxdWlyZSgnQnVmZmVyVmVsb2NpdHknKTsKdmFyIFZpZGVvUGxheWVyQml0cmF0ZUVzdGltYXRvciA9IHJlcXVpcmUoJ1ZpZGVvUGxheWVyQml0cmF0ZUVzdGltYXRvcicpOwp2YXIgVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZyA9IHJlcXVpcmUoJ1ZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcnKTsKdmFyIGdldFNlZWtSYW5nZUdhcHNGcm9tU2hha2FSZWZlcmVuY2VzID0gcmVxdWlyZSgnZ2V0U2Vla1JhbmdlR2Fwc0Zyb21TaGFrYVJlZmVyZW5jZXMnKTsKdmFyIG1lcmdlU2Vla1JhbmdlR2FwcyA9IHJlcXVpcmUoJ21lcmdlU2Vla1JhbmdlR2FwcycpOwp2YXIgTmV0d29ya1N0YXR1c0RldGVjdG9yID0gcmVxdWlyZSgnTmV0d29ya1N0YXR1c0RldGVjdG9yJyk7CnZhciBNb3NVdGlscyA9IHJlcXVpcmUoJ01vc1V0aWxzJyk7CnZhciBCYW56YWlPRFMgPSByZXF1aXJlKCdCYW56YWlPRFMnKTsKdmFyIFZpZGVvRGFzaFByZWZldGNoQ2FjaGUgPSByZXF1aXJlKCdWaWRlb0Rhc2hQcmVmZXRjaENhY2hlJyk7CnZhciBWaWRlb0NsaWVudEVkZ2VDb29wZXJhdGlvbiA9IHJlcXVpcmUoJ1ZpZGVvQ2xpZW50RWRnZUNvb3BlcmF0aW9uJyk7CnZhciBWaWRlb1N0cmVhbWluZ1Rhc2tRdWV1ZVByb3ZpZGVyID0gcmVxdWlyZSgnVmlkZW9TdHJlYW1pbmdUYXNrUXVldWVQcm92aWRlcicpOwp2YXIgQmluYXJ5U2VhcmNoID0gcmVxdWlyZSgnQmluYXJ5U2VhcmNoJyk7CnZhciBTaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMgPSByZXF1aXJlKCdTaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMnKTsKdmFyIGdreCA9IHJlcXVpcmUoJ2dreCcpOwoKdmFyIHNldFRpbWVvdXQgPSBWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woCiAgICAndGltZW91dHNfcGVyc2lzdF9vbl9wYWdlX3RyYW5zaXRpb24nLAogICAgdHJ1ZQogICkgPwogIHJlcXVpcmUoJ3NldFRpbWVvdXRBY3Jvc3NUcmFuc2l0aW9ucycpIDoKICByZXF1aXJlKCdzZXRUaW1lb3V0Jyk7CnZhciBzZXRJbnRlcnZhbCA9IFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgKICAgICd0aW1lb3V0c19wZXJzaXN0X29uX3BhZ2VfdHJhbnNpdGlvbicsCiAgICB0cnVlCiAgKSA/CiAgcmVxdWlyZSgnc2V0SW50ZXJ2YWxBY3Jvc3NUcmFuc2l0aW9ucycpIDoKICByZXF1aXJlKCdzZXRJbnRlcnZhbCcpOwp2YXIgc2V0SW1tZWRpYXRlID0gVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKAogICAgJ3RpbWVvdXRzX3BlcnNpc3Rfb25fcGFnZV90cmFuc2l0aW9uJywKICAgIHRydWUKICApID8KICByZXF1aXJlKCdzZXRJbW1lZGlhdGVBY3Jvc3NUcmFuc2l0aW9ucycpIDoKICByZXF1aXJlKCdzZXRJbW1lZGlhdGUnKTsKdmFyIGNsZWFyVGltZW91dCA9IHJlcXVpcmUoJ2NsZWFyVGltZW91dCcpOwp2YXIgY2xlYXJJbnRlcnZhbCA9IHJlcXVpcmUoJ2NsZWFySW50ZXJ2YWwnKTsKdmFyIGNsZWFySW1tZWRpYXRlID0gcmVxdWlyZSgnY2xlYXJJbW1lZGlhdGUnKTsKdmFyIGRpc3BhdGNoRG9tRXZlbnQgPSByZXF1aXJlKCdkaXNwYXRjaEV2ZW50Jyk7CnZhciBldmVudExpc3RlbmVyQ2FwdHVyZSA9IHJlcXVpcmUoJ0V2ZW50TGlzdGVuZXInKS5jYXB0dXJlOwp2YXIgZXZlbnRLaWxsID0gcmVxdWlyZSgnRXZlbnQnKS5raWxsOwp2YXIgZXh0cmFjdENFQTYwOCA9IHJlcXVpcmUoJ2V4dHJhY3RDRUE2MDgnKTsKdmFyIHBlcmZvcm1hbmNlTm93ID0gcmVxdWlyZSgncGVyZm9ybWFuY2VOb3cnKTsKdmFyIHBhcnNlSGVhZGVycyA9IHJlcXVpcmUoJ3BhcnNlSGVhZGVycycpOwp2YXIgY2FuVXNlRmV0Y2hTdHJlYW0gPSByZXF1aXJlKCdjYW5Vc2VGZXRjaFN0cmVhbScpOwp2YXIgU3Vic2NyaXB0aW9uc0hhbmRsZXIgPSByZXF1aXJlKCdTdWJzY3JpcHRpb25zSGFuZGxlcicpOwp2YXIgVmlkZW9QdXNoVHJhY2tlciA9IHJlcXVpcmUoJ1ZpZGVvUHVzaFRyYWNrZXInKTsKCmZ1bmN0aW9uIHNldEV2ZW50UHJvcGVydHkob2JqLCBuYW1lLCBoYW5kbGVyKSB7CiAgb2JqW25hbWVdID0gVGltZVNsaWNlLmd1YXJkKGhhbmRsZXIsICdzaGFrYSAnICsgbmFtZSk7Cn07CgppZiAoCiAgVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCdzaGFrYV9uYXRpdmVfcHJvbWlzZScsIGZhbHNlKSAmJgogIFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgndXNlX25hdGl2ZV9wcm9taXNlJywgdHJ1ZSkKKSB7CiAgUHJvbWlzZSA9IHdpbmRvdy5Qcm9taXNlOwp9Cgp2YXIgZyA9IHt9OwoKKGZ1bmN0aW9uKHdpbmRvdyl7dmFyIG4sYWE9dGhpcztmdW5jdGlvbiBxKGEsYil7dmFyIGM9YS5zcGxpdCgiLiIpLGQ9YWE7Y1swXWluIGR8fCFkLmV4ZWNTY3JpcHR8fGQuZXhlY1NjcmlwdCgidmFyICIrY1swXSk7Zm9yKHZhciBlO2MubGVuZ3RoJiYoZT1jLnNoaWZ0KCkpOyljLmxlbmd0aHx8dm9pZCAwPT09Yj9kW2VdP2Q9ZFtlXTpkPWRbZV09e306ZFtlXT1ifWZ1bmN0aW9uIHIoYSxiKXtmdW5jdGlvbiBjKCl7fWMucHJvdG90eXBlPWIucHJvdG90eXBlO2EuUGQ9Yi5wcm90b3R5cGU7YS5wcm90b3R5cGU9bmV3IGM7YS5wcm90b3R5cGUuY29uc3RydWN0b3I9YTthLkxkPWZ1bmN0aW9uKGEsYyxmKXtyZXR1cm4gYi5wcm90b3R5cGVbY10uYXBwbHkoYSxBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMikpfX07LyoKCiBDb3B5cmlnaHQgMjAxNSBHb29nbGUgSW5jLgoKIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoKIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoqLwpmdW5jdGlvbiBiYSgpe307ZnVuY3Rpb24gY2EoYSl7dmFyIGI9Y29uc29sZVthXTtiP2IuYmluZHx8KGNvbnNvbGVbYV09ZnVuY3Rpb24oKXtiLmFwcGx5KGNvbnNvbGUsYXJndW1lbnRzKX0pOmNvbnNvbGVbYV09ZnVuY3Rpb24oKXt9fWNhKCJlcnJvciIpO2NhKCJ3YXJuIik7Y2EoImluZm8iKTtjYSgibG9nIik7Y2EoImRlYnVnIik7dmFyIHU9e3FhOmZ1bmN0aW9uKGEpe3UuSGJbYV09e3FhOnUud2MoKSxlbmQ6TmFOfX0sZW5kOmZ1bmN0aW9uKGEpe2lmKGE9dS5IYlthXSlhLmVuZD11LndjKCl9LE1kOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD11LmdldChhKSxlPXUuZ2V0KGIpO2lmKCFkfHwhZSlyZXR1cm4gTmFOO2QtPWU7Zm9yKGU9MjtlPGFyZ3VtZW50cy5sZW5ndGg7KytlKXt2YXIgZj11LmdldChhcmd1bWVudHNbZV0pO2lmKCFmKXJldHVybiBOYU47ZC09Zn1yZXR1cm4gZH0sZ2V0OmZ1bmN0aW9uKGEpe3JldHVybihhPXUuSGJbYV0pJiZhLmVuZD9hLmVuZC1hLnFhOk5hTn19O3Uud2M9d2luZG93LnBlcmZvcm1hbmNlJiZ3aW5kb3cucGVyZm9ybWFuY2Uubm93P3dpbmRvdy5wZXJmb3JtYW5jZS5ub3cuYmluZCh3aW5kb3cucGVyZm9ybWFuY2UpOkRhdGUubm93O3UuSGI9e307LyoKCiBDb3B5cmlnaHQgMjAwNC1wcmVzZW50IEZhY2Vib29rLiBBbGwgUmlnaHRzIFJlc2VydmVkLgoKKi8KZnVuY3Rpb24gZmEoYSxiLGMsZCxlLGYsZyxoKXt0aGlzLmlkPWE7dGhpcy5iYW5kd2lkdGg9Ynx8MDt0aGlzLmxhbmc9Y3x8InVua25vd24iO3RoaXMuc3RyZWFtSW5mb0lEPWQ7dGhpcy5taW1lVHlwZT1lfHwiIjt0aGlzLmNvZGVjcz1mfHwiIjt0aGlzLmNoYW5uZWxzPWd8fG51bGw7dGhpcy5zYW1wbGluZ1JhdGU9aHx8bnVsbDt0aGlzLmFjdGl2ZT0hMX1xKCJzaGFrYS5wbGF5ZXIuQXVkaW9UcmFjay5jb21wYXJlIixmdW5jdGlvbihhLGIpe3JldHVybiBhLmxhbmc8Yi5sYW5nPy0xOmEubGFuZz5iLmxhbmc/MTphLmJhbmR3aWR0aDxiLmJhbmR3aWR0aD8tMTphLmJhbmR3aWR0aD5iLmJhbmR3aWR0aD8xOjB9KTt2YXIgZ2E9VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoInNoYWthX2RlZmF1bHRfcmVxdWVzdF90aW1lb3V0X3RpbWVzY2FsZSIsMUUzKSxoYT1NYXRoLmZsb29yKFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJzaGFrYV9kZWZhdWx0X2FqYXhfcmVxdWVzdF90aW1lb3V0X21zIiwwKS9nYSksaWE9TWF0aC5mbG9vcihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigic2hha2FfZGVmYXVsdF9hamF4X3JlcXVlc3RfdGltZW91dF9tcyIsMCkvZ2EpLGphPU1hdGguZmxvb3IoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoInNoYWthX2RlZmF1bHRfYWpheF9yZXF1ZXN0X3RpbWVvdXRfbXMiLDApL2dhKTtmdW5jdGlvbiBrYSgpe3RoaXMubWluQmFuZHdpZHRoPXRoaXMubWF4QmFuZHdpZHRoPXRoaXMubWF4V2lkdGg9dGhpcy5taW5IZWlnaHQ9dGhpcy5tYXhIZWlnaHQ9bnVsbH1rYS5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYT1uZXcga2E7YS5tYXhIZWlnaHQ9dGhpcy5tYXhIZWlnaHQ7YS5taW5IZWlnaHQ9dGhpcy5taW5IZWlnaHQ7YS5tYXhXaWR0aD10aGlzLm1heFdpZHRoO2EubWF4QmFuZHdpZHRoPXRoaXMubWF4QmFuZHdpZHRoO2EubWluQmFuZHdpZHRoPXRoaXMubWluQmFuZHdpZHRoO3JldHVybiBhfTtmdW5jdGlvbiBsYSgpe3RoaXMuZm9udFNpemU9IjEwMCUiO3RoaXMuZm9udENvbG9yPW1hO3RoaXMuZm9udE9wYWNpdHk9b2E7dGhpcy5iYWNrZ3JvdW5kQ29sb3I9cGE7dGhpcy5iYWNrZ3JvdW5kT3BhY2l0eT1vYTt0aGlzLmZvbnRFZGdlPXFhfXEoInNoYWthLnBsYXllci5UZXh0U3R5bGUiLGxhKTsKZnVuY3Rpb24gcmEoYSl7dmFyIGI9W107Yi5wdXNoKCJmb250LXNpemU6ICIrYS5mb250U2l6ZSk7Yi5wdXNoKCJjb2xvcjogIitzYShhLmZvbnRDb2xvcixhLmZvbnRPcGFjaXR5KSk7Yi5wdXNoKCJiYWNrZ3JvdW5kLWNvbG9yOiAiK3NhKGEuYmFja2dyb3VuZENvbG9yLGEuYmFja2dyb3VuZE9wYWNpdHkpKTtmb3IodmFyIGM9W10sZD0wO2Q8YS5mb250RWRnZS5sZW5ndGg7KytkKXt2YXIgZT1hLmZvbnRFZGdlW2RdLnNsaWNlKDMsNik7Yy5wdXNoKHNhKGEuZm9udEVkZ2VbZF0uc2xpY2UoMCwzKSxhLmZvbnRPcGFjaXR5KSsiICIrZS5qb2luKCJweCAiKSsicHgiKX1iLnB1c2goInRleHQtc2hhZG93OiAiK2Muam9pbigiLCIpKTtyZXR1cm4gYi5qb2luKCI7ICIpfWZ1bmN0aW9uIHNhKGEsYil7cmV0dXJuInJnYmEoIithLmNvbmNhdChiKS5qb2luKCIsIikrIikifXZhciBtYT1bMjU1LDI1NSwyNTVdLHBhPVswLDAsMF07CmxhLlN0YW5kYXJkQ29sb3JzPXtXSElURTptYSxCTEFDSzpwYSxSRUQ6WzI1NSwwLDBdLEdSRUVOOlswLDI1NSwwXSxCTFVFOlswLDAsMjU1XSxZRUxMT1c6WzI1NSwyNTUsMF0sTUFHRU5UQTpbMjU1LDAsMjU1XSxDWUFOOlswLDI1NSwyNTVdfTt2YXIgb2E9MTtsYS5TdGFuZGFyZE9wYWNpdGllcz17T1BBUVVFOm9hLFNFTUlfSElHSDouNzUsU0VNSV9MT1c6LjI1LFRSQU5TUEFSRU5UOjB9O3ZhciBxYT1bXTsKbGEuRWRnZVN0eWxlcz17Tk9ORTpxYSxSQUlTRUQ6W1szNCwzNCwzNCwxLDEsMF0sWzM0LDM0LDM0LDIsMiwwXSxbMzQsMzQsMzQsMywzLDBdXSxERVBSRVNTRUQ6W1syMDQsMjA0LDIwNCwxLDEsMF0sWzIwNCwyMDQsMjA0LDAsMSwwXSxbMzQsMzQsMzQsLTEsLTEsMF0sWzM0LDM0LDM0LDAsLTEsMF1dLFVOSUZPUk06W1szNCwzNCwzNCwwLDAsNF0sWzM0LDM0LDM0LDAsMCw0XSxbMzQsMzQsMzQsMCwwLDRdLFszNCwzNCwzNCwwLDAsNF1dLERST1A6W1szNCwzNCwzNCwyLDIsM10sWzM0LDM0LDM0LDIsMiw0XSxbMzQsMzQsMzQsMiwyLDVdXX07ZnVuY3Rpb24gdGEoYSxiKXt0aGlzLmlkPWE7dGhpcy5sYW5nPWJ8fCJ1bmtub3duIjt0aGlzLmVuYWJsZWQ9dGhpcy5hY3RpdmU9ITF9cSgic2hha2EucGxheWVyLlRleHRUcmFjay5jb21wYXJlIixmdW5jdGlvbihhLGIpe3JldHVybiBhLmxhbmc8Yi5sYW5nPy0xOmEubGFuZz5iLmxhbmc/MTowfSk7ZnVuY3Rpb24gdWEoYSxiLGMsZCxlLGYsZyxoLGssbCxtLHAsdCl7dGhpcy5pZD1hO3RoaXMuYmFuZHdpZHRoPWJ8fDA7dGhpcy53aWR0aD1jfHwwO3RoaXMuaGVpZ2h0PWR8fDA7dGhpcy5zdHJlYW1JbmZvSUQ9ZTt0aGlzLmZiUXVhbGl0eUxhYmVsPWY7dGhpcy5mYlF1YWxpdHlDbGFzcz1nO2E9W107aCYmKGE9aC5zcGxpdCgiLCIpKTt0aGlzLmZyYW1lUmF0ZT1rfHwiIjt0aGlzLm1pbWVUeXBlPWx8fCIiO3RoaXMuY29kZWNzPW18fCIiO3RoaXMuaXNIVlE9LTE8YS5pbmRleE9mKCJodnEiKTt0aGlzLmlzSW5saW5lSFZRPS0xPGEuaW5kZXhPZigiaHZxX3d3d19pbmxpbmUiKTt0aGlzLmF2b2lkT25Qb29yQ29ubmVjdGlvbj0tMTxhLmluZGV4T2YoImF2b2lkX29uX3Bvb3JfY29ubmVjdGlvbiIpO3RoaXMuYWN0aXZlPSExO3RoaXMucGxheWJhY2tSZXNvbHV0aW9uTW9zPXB8fG51bGw7dGhpcy5wbGF5YmFja1Jlc29sdXRpb25Nb3NDb25maWRlbmNlTGV2ZWw9dHx8bnVsbH0KZnVuY3Rpb24gdmEoYSxiKXt2YXIgYz1hLndpZHRoKmEuaGVpZ2h0LGQ9Yi53aWR0aCpiLmhlaWdodDtyZXR1cm4gYzxkPy0xOmM+ZD8xOmEuYmFuZHdpZHRoPGIuYmFuZHdpZHRoPy0xOmEuYmFuZHdpZHRoPmIuYmFuZHdpZHRoPzE6MH1xKCJzaGFrYS5wbGF5ZXIuVmlkZW9UcmFjay5jb21wYXJlIix2YSk7ZnVuY3Rpb24gd2EoYSl7Zm9yKHZhciBiPXhhLGM9W10sZD0wO2Q8YS5sZW5ndGg7KytkKXtmb3IodmFyIGU9ITEsZj0wO2Y8Yy5sZW5ndGgmJiEoZT1iP2IoYVtkXSxjW2ZdKTphW2RdPT09Y1tmXSk7KytmKTtlfHxjLnB1c2goYVtkXSl9cmV0dXJuIGN9O2Z1bmN0aW9uIHlhKCl7cmV0dXJuIERhdGUubm93KCkremF9dmFyIHphPTA7ZnVuY3Rpb24gQmEoYSl7dGhpcy5iPWE7dGhpcy5jPTA9PUNhO3RoaXMuYT0wfXZhciBDYT0xO2Z1bmN0aW9uIERhKGEpe3JldHVybiBhLmE8YS5iLmJ5dGVMZW5ndGh9ZnVuY3Rpb24gRWEoYSl7dmFyIGI9YS5iLmdldFVpbnQ4KGEuYSk7YS5hKz0xO3JldHVybiBifWZ1bmN0aW9uIHYoYSl7dmFyIGI9YS5iLmdldFVpbnQzMihhLmEsYS5jKTthLmErPTQ7cmV0dXJuIGJ9ZnVuY3Rpb24gRmEoYSl7dmFyIGIsYzthLmM/KGI9YS5iLmdldFVpbnQzMihhLmEsITApLGM9YS5iLmdldFVpbnQzMihhLmErNCwhMCkpOihjPWEuYi5nZXRVaW50MzIoYS5hLCExKSxiPWEuYi5nZXRVaW50MzIoYS5hKzQsITEpKTtpZigyMDk3MTUxPGMpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkRhdGFWaWV3UmVhZGVyOiBPdmVyZmxvdyByZWFkaW5nIDY0LWJpdCB2YWx1ZS4iKTthLmErPTg7cmV0dXJuIGMqTWF0aC5wb3coMiwzMikrYn0KZnVuY3Rpb24gR2EoYSl7aWYoYS5hKzE2PmEuYi5ieXRlTGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKCJEYXRhVmlld1JlYWRlcjogUmVhZCBwYXN0IGVuZCBvZiBEYXRhVmlldy4iKTt2YXIgYj1uZXcgVWludDhBcnJheShhLmIuYnVmZmVyLGEuYSwxNik7YS5hKz0xNjtyZXR1cm4gYn1mdW5jdGlvbiBIYShhLGIpe2lmKGEuYStiPmEuYi5ieXRlTGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKCJEYXRhVmlld1JlYWRlcjogU2tpcCBwYXN0IGVuZCBvZiBEYXRhVmlldy4iKTthLmErPWJ9O2Z1bmN0aW9uIElhKGEpe3RoaXMuYj1hO3RoaXMuYT1uZXcgQmEoYSk7SmF8fChKYT1bbmV3IFVpbnQ4QXJyYXkoWzI1NV0pLG5ldyBVaW50OEFycmF5KFsxMjcsMjU1XSksbmV3IFVpbnQ4QXJyYXkoWzYzLDI1NSwyNTVdKSxuZXcgVWludDhBcnJheShbMzEsMjU1LDI1NSwyNTVdKSxuZXcgVWludDhBcnJheShbMTUsMjU1LDI1NSwyNTUsMjU1XSksbmV3IFVpbnQ4QXJyYXkoWzcsMjU1LDI1NSwyNTUsMjU1LDI1NV0pLG5ldyBVaW50OEFycmF5KFszLDI1NSwyNTUsMjU1LDI1NSwyNTUsMjU1XSksbmV3IFVpbnQ4QXJyYXkoWzEsMjU1LDI1NSwyNTUsMjU1LDI1NSwyNTUsMjU1XSldKX12YXIgSmE7CmZ1bmN0aW9uIEthKGEpe3ZhciBiO2I9TGEoYSk7aWYoNzxiLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiRWJtbFBhcnNlcjogRUJNTCBJRCBtdXN0IGJlIGF0IG1vc3QgNyBieXRlcy4iKTtmb3IodmFyIGM9MCxkPTA7ZDxiLmxlbmd0aDtkKyspYz0yNTYqYytiW2RdO2I9YztjPUxhKGEpO2E6e2ZvcihkPTA7ZDxKYS5sZW5ndGg7ZCsrKWlmKE1hKGMsSmFbZF0pKXtkPSEwO2JyZWFrIGF9ZD0hMX1pZihkKWM9YS5iLmJ5dGVMZW5ndGgtYS5hLmE7ZWxzZXtpZig4PT1jLmxlbmd0aCYmY1sxXSYyMjQpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkVibWxQYXJzZXI6IFZhcmlhYmxlIHNpemVkIGludGVnZXIgdmFsdWUgbXVzdCBiZSBhdCBtb3N0IDUzIGJpdHMuIik7Zm9yKHZhciBkPWNbMF0mKDE8PDgtYy5sZW5ndGgpLTEsZT0xO2U8Yy5sZW5ndGg7ZSsrKWQ9MjU2KmQrY1tlXTtjPWR9Yz1hLmEuYStjPD1hLmIuYnl0ZUxlbmd0aD9jOmEuYi5ieXRlTGVuZ3RoLWEuYS5hO2Q9bmV3IERhdGFWaWV3KGEuYi5idWZmZXIsCmEuYi5ieXRlT2Zmc2V0K2EuYS5hLGMpO0hhKGEuYSxjKTtyZXR1cm4gbmV3IE5hKGIsZCl9ZnVuY3Rpb24gTGEoYSl7dmFyIGI9RWEoYS5hKSxjO2ZvcihjPTE7OD49YyYmIShiJjE8PDgtYyk7YysrKTtpZig4PGMpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkVibWxQYXJzZXI6IFZhcmlhYmxlIHNpemVkIGludGVnZXIgbXVzdCBmaXQgd2l0aGluIDggYnl0ZXMuIik7dmFyIGQ9bmV3IFVpbnQ4QXJyYXkoYyk7ZFswXT1iO2ZvcihiPTE7YjxjO2IrKylkW2JdPUVhKGEuYSk7cmV0dXJuIGR9ZnVuY3Rpb24gTmEoYSxiKXt0aGlzLmlkPWE7dGhpcy5hPWJ9CmZ1bmN0aW9uIE9hKGEpe2lmKDg8YS5hLmJ5dGVMZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkVibWxFbGVtZW50OiBVbnNpZ25lZCBpbnRlZ2VyIGhhcyB0b28gbWFueSBieXRlcy4iKTtpZig4PT1hLmEuYnl0ZUxlbmd0aCYmYS5hLmdldFVpbnQ4KDApJjIyNCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiRWJtbFBhcnNlcjogVW5zaWduZWQgaW50ZWdlciBtdXN0IGJlIGF0IG1vc3QgNTMgYml0cy4iKTtmb3IodmFyIGI9MCxjPTA7YzxhLmEuYnl0ZUxlbmd0aDtjKyspdmFyIGQ9YS5hLmdldFVpbnQ4KGMpLGI9MjU2KmIrZDtyZXR1cm4gYn07dmFyIFBhPXsib3V0cHV0LXJlc3RyaWN0ZWQiOiJUaGUgcmVxdWlyZWQgb3V0cHV0IHByb3RlY3Rpb24gaXMgbm90IGF2YWlsYWJsZS4iLCJvdXRwdXQtbm90LWFsbG93ZWQiOiJUaGUgcmVxdWlyZWQgb3V0cHV0IHByb3RlY3Rpb24gaXMgbm90IGF2YWlsYWJsZS4iLGV4cGlyZWQ6IlRoZSBkZWNyeXB0aW9uIGtleSBoYXMgZXhwaXJlZC4iLCJpbnRlcm5hbC1lcnJvciI6IlRoZSBrZXkgc3lzdGVtIGhhcyBlbmNvdW50ZXJlZCBhbiB1bnNwZWNpZmllZCBlcnJvci4ifTtmdW5jdGlvbiB4KGEpe3RoaXMuYj1NYXRoLmV4cChNYXRoLmxvZyguNSkvYSk7dGhpcy55Yj10aGlzLiRhPXRoaXMuYT0wfXEoInNoYWthLnV0aWwuRVdNQSIseCk7eC5wcm90b3R5cGUuc2FtcGxlPWZ1bmN0aW9uKGEsYil7dmFyIGM9TWF0aC5wb3codGhpcy5iLGEpO3RoaXMuYT1iKigxLWMpK2MqdGhpcy5hO3RoaXMuJGErPWE7dGhpcy55Yis9MX07eC5wcm90b3R5cGUuc2FtcGxlPXgucHJvdG90eXBlLnNhbXBsZTt4LnByb3RvdHlwZS5jPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGF9O3gucHJvdG90eXBlLmdldFRvdGFsV2VpZ2h0PXgucHJvdG90eXBlLmM7eC5wcm90b3R5cGUuZ2V0RXN0aW1hdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLygxLU1hdGgucG93KHRoaXMuYix0aGlzLiRhKSl9O3gucHJvdG90eXBlLmdldEVzdGltYXRlPXgucHJvdG90eXBlLmdldEVzdGltYXRlO3gucHJvdG90eXBlLmY9ZnVuY3Rpb24oKXt0aGlzLnliPXRoaXMuJGE9dGhpcy5hPTB9Owp4LnByb3RvdHlwZS5yZXNldD14LnByb3RvdHlwZS5mO3ZhciBRYT13aW5kb3cuQ3VzdG9tRXZlbnQ7ImZ1bmN0aW9uIiE9PXR5cGVvZiBRYSYmKFFhPWZ1bmN0aW9uKGEsYil7Yj1ifHx7YnViYmxlczohMSxjYW5jZWxhYmxlOiExLGRldGFpbDp2b2lkIDB9O3ZhciBjPWRvY3VtZW50LmNyZWF0ZUV2ZW50KCJDdXN0b21FdmVudCIpO2MuaW5pdEN1c3RvbUV2ZW50KGEsYi5idWJibGVzLGIuY2FuY2VsYWJsZSxiLmRldGFpbCk7cmV0dXJuIGN9LFFhLnByb3RvdHlwZT13aW5kb3cuRXZlbnQucHJvdG90eXBlKTtmdW5jdGlvbiB5KGEpe3ZhciBiPW5ldyBRYShhLnR5cGUse2RldGFpbDphLmRldGFpbCxidWJibGVzOiEhYS5idWJibGVzfSksYztmb3IoYyBpbiBhKWMgaW4gYnx8KGJbY109YVtjXSk7cmV0dXJuIGJ9ZnVuY3Rpb24gQShhKXtyZXR1cm4gbmV3IFFhKCJlcnJvciIse2RldGFpbDphLGJ1YmJsZXM6ITB9KX07ZnVuY3Rpb24gUmEoYSxiLGMpe1NhKGIpO1NhKGMpO3JldHVybiBjPT1ifHxhPj1UYSYmYz09Yi5zcGxpdCgiLSIpWzBdfHxhPj1VYSYmYy5zcGxpdCgiLSIpWzBdPT1iLnNwbGl0KCItIilbMF0/ITA6ITF9dmFyIFRhPTEsVWE9MjtmdW5jdGlvbiBTYShhKXthPWEudG9Mb3dlckNhc2UoKS5zcGxpdCgiLSIpO3ZhciBiPVZhW2FbMF1dO2ImJihhWzBdPWIpO3JldHVybiBhLmpvaW4oIi0iKX0KdmFyIFZhPXthYXI6ImFhIixhYms6ImFiIixhZnI6ImFmIixha2E6ImFrIixhbGI6InNxIixhbWg6ImFtIixhcmE6ImFyIixhcmc6ImFuIixhcm06Imh5Iixhc206ImFzIixhdmE6ImF2IixhdmU6ImFlIixheW06ImF5IixhemU6ImF6IixiYWs6ImJhIixiYW06ImJtIixiYXE6ImV1IixiZWw6ImJlIixiZW46ImJuIixiaWg6ImJoIixiaXM6ImJpIixib2Q6ImJvIixib3M6ImJzIixicmU6ImJyIixidWw6ImJnIixidXI6Im15IixjYXQ6ImNhIixjZXM6ImNzIixjaGE6ImNoIixjaGU6ImNlIixjaGk6InpoIixjaHU6ImN1IixjaHY6ImN2Iixjb3I6Imt3Iixjb3M6ImNvIixjcmU6ImNyIixjeW06ImN5IixjemU6ImNzIixkYW46ImRhIixkZXU6ImRlIixkaXY6ImR2IixkdXQ6Im5sIixkem86ImR6IixlbGw6ImVsIixlbmc6ImVuIixlcG86ImVvIixlc3Q6ImV0IixldXM6ImV1Iixld2U6ImVlIixmYW86ImZvIixmYXM6ImZhIixmaWo6ImZqIixmaW46ImZpIixmcmE6ImZyIixmcmU6ImZyIiwKZnJ5OiJmeSIsZnVsOiJmZiIsZ2VvOiJrYSIsZ2VyOiJkZSIsZ2xhOiJnZCIsZ2xlOiJnYSIsZ2xnOiJnbCIsZ2x2OiJndiIsZ3JlOiJlbCIsZ3JuOiJnbiIsZ3VqOiJndSIsaGF0OiJodCIsaGF1OiJoYSIsaGViOiJoZSIsaGVyOiJoeiIsaGluOiJoaSIsaG1vOiJobyIsaHJ2OiJociIsaHVuOiJodSIsaHllOiJoeSIsaWJvOiJpZyIsaWNlOiJpcyIsaWRvOiJpbyIsaWlpOiJpaSIsaWt1OiJpdSIsaWxlOiJpZSIsaW5hOiJpYSIsaW5kOiJpZCIsaXBrOiJpayIsaXNsOiJpcyIsaXRhOiJpdCIsamF2OiJqdiIsanBuOiJqYSIsa2FsOiJrbCIsa2FuOiJrbiIsa2FzOiJrcyIsa2F0OiJrYSIsa2F1OiJrciIsa2F6OiJrayIsa2htOiJrbSIsa2lrOiJraSIsa2luOiJydyIsa2lyOiJreSIsa29tOiJrdiIsa29uOiJrZyIsa29yOiJrbyIsa3VhOiJraiIsa3VyOiJrdSIsbGFvOiJsbyIsbGF0OiJsYSIsbGF2OiJsdiIsbGltOiJsaSIsbGluOiJsbiIsbGl0OiJsdCIsbHR6OiJsYiIsbHViOiJsdSIsCmx1ZzoibGciLG1hYzoibWsiLG1haDoibWgiLG1hbDoibWwiLG1hbzoibWkiLG1hcjoibXIiLG1heToibXMiLG1rZDoibWsiLG1sZzoibWciLG1sdDoibXQiLG1vbjoibW4iLG1yaToibWkiLG1zYToibXMiLG15YToibXkiLG5hdToibmEiLG5hdjoibnYiLG5ibDoibnIiLG5kZToibmQiLG5kbzoibmciLG5lcDoibmUiLG5sZDoibmwiLG5ubzoibm4iLG5vYjoibmIiLG5vcjoibm8iLG55YToibnkiLG9jaToib2MiLG9qaToib2oiLG9yaToib3IiLG9ybToib20iLG9zczoib3MiLHBhbjoicGEiLHBlcjoiZmEiLHBsaToicGkiLHBvbDoicGwiLHBvcjoicHQiLHB1czoicHMiLHF1ZToicXUiLHJvaDoicm0iLHJvbjoicm8iLHJ1bToicm8iLHJ1bjoicm4iLHJ1czoicnUiLHNhZzoic2ciLHNhbjoic2EiLHNpbjoic2kiLHNsazoic2siLHNsbzoic2siLHNsdjoic2wiLHNtZToic2UiLHNtbzoic20iLHNuYToic24iLHNuZDoic2QiLHNvbToic28iLHNvdDoic3QiLHNwYToiZXMiLHNxaToic3EiLApzcmQ6InNjIixzcnA6InNyIixzc3c6InNzIixzdW46InN1Iixzd2E6InN3Iixzd2U6InN2Iix0YWg6InR5Iix0YW06InRhIix0YXQ6InR0Iix0ZWw6InRlIix0Z2s6InRnIix0Z2w6InRsIix0aGE6InRoIix0aWI6ImJvIix0aXI6InRpIix0b246InRvIix0c246InRuIix0c286InRzIix0dWs6InRrIix0dXI6InRyIix0d2k6InR3Iix1aWc6InVnIix1a3I6InVrIix1cmQ6InVyIix1emI6InV6Iix2ZW46InZlIix2aWU6InZpIix2b2w6InZvIix3ZWw6ImN5Iix3bG46IndhIix3b2w6IndvIix4aG86InhoIix5aWQ6InlpIix5b3I6InlvIix6aGE6InphIix6aG86InpoIix6dWw6Inp1In07ZnVuY3Rpb24gV2EoYSl7cmV0dXJuIE9iamVjdC5rZXlzKGEpLm1hcChmdW5jdGlvbihiKXtyZXR1cm4gYVtiXX0pfWZ1bmN0aW9uIEIoYSxiKXtyZXR1cm4gWGEoYSxiLCJib29sZWFuIil9ZnVuY3Rpb24gQyhhLGIsYyl7YT1YYShhLGIsIm51bWJlciIpO2lmKG51bGw9PWEpcmV0dXJuIG51bGw7aWYoaXNOYU4oYSl8fGE9PU51bWJlci5ORUdBVElWRV9JTkZJTklUWXx8YT09TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZKXRocm93IG5ldyBSYW5nZUVycm9yKCInIitiKyInIG11c3QgYmUgZmluaXRlLiIpO2lmKG51bGwhPWMmJmE8Yyl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiJyIrYisiJyBtdXN0IGJlID49ICIrYyk7cmV0dXJuIGF9ZnVuY3Rpb24gWWEoYSxiKXtyZXR1cm4gWGEoYSxiLCJzdHJpbmciKX0KZnVuY3Rpb24gWGEoYSxiLGMpe2E9YVtiXTtpZihudWxsPT1hKXJldHVybiBudWxsO2lmKHR5cGVvZiBhIT09Yyl0aHJvdyBuZXcgVHlwZUVycm9yKCInIitiKyInIG11c3QgYmUgYSAiK2MrIi4iKTtyZXR1cm4gYX1mdW5jdGlvbiBaYShhLGIsYyl7YT1hW2JdO2lmKG51bGw9PWEpcmV0dXJuIG51bGw7aWYoIShhIGluc3RhbmNlb2YgYykpdGhyb3cgbmV3IFR5cGVFcnJvcigiJyIrYisiJyBtdXN0IGJlIGFuIGluc3RhbmNlIG9mICIrYy5uYW1lKyIuIik7cmV0dXJuIGF9O2Z1bmN0aW9uIEQoKXt0aGlzLmE9e319RC5wcm90b3R5cGUucHVzaD1mdW5jdGlvbihhLGIpe3RoaXMuYS5oYXNPd25Qcm9wZXJ0eShhKT90aGlzLmFbYV0ucHVzaChiKTp0aGlzLmFbYV09W2JdfTtELnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24oYSxiKXt0aGlzLmFbYV09Yn07RC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGEpe3JldHVybihhPXRoaXMuYVthXSk/YS5zbGljZSgpOm51bGx9O2Z1bmN0aW9uICRhKGEpe3ZhciBiPVtdLGM7Zm9yKGMgaW4gYS5hKWIucHVzaC5hcHBseShiLGEuYVtjXSk7cmV0dXJuIGJ9RC5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5hW2FdO2lmKGMpZm9yKHZhciBkPTA7ZDxjLmxlbmd0aDsrK2QpY1tkXT09YiYmKGMuc3BsaWNlKGQsMSksLS1kKX07ZnVuY3Rpb24gYWIoYSl7dmFyIGI9W10sYztmb3IoYyBpbiBhLmEpYi5wdXNoKGMpO3JldHVybiBifTtmdW5jdGlvbiBiYigpe3RoaXMuYT1uZXcgRH1iYi5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe2RiKHRoaXMpO3RoaXMuYT1udWxsfTtmdW5jdGlvbiBFKGEsYixjLGQpe2I9bmV3IGViKGIsYyxkKTthLmEucHVzaChjLGIpfWJiLnByb3RvdHlwZS5hYj1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz10aGlzLmEuZ2V0KGIpfHxbXSxkPTA7ZDxjLmxlbmd0aDsrK2Qpe3ZhciBlPWNbZF07ZS50YXJnZXQ9PWEmJihlLmFiKCksdGhpcy5hLnJlbW92ZShiLGUpKX19O2Z1bmN0aW9uIGRiKGEpe2Zvcih2YXIgYj0kYShhLmEpLGM9MDtjPGIubGVuZ3RoOysrYyliW2NdLmFiKCk7YS5hLmE9e319ZnVuY3Rpb24gZWIoYSxiLGMpe3RoaXMudGFyZ2V0PWE7dGhpcy50eXBlPWI7dGhpcy5hPWM7dGhpcy50YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihiLGMsITEpfQplYi5wcm90b3R5cGUuYWI9ZnVuY3Rpb24oKXt0aGlzLnRhcmdldCYmKHRoaXMudGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIodGhpcy50eXBlLHRoaXMuYSwhMSksdGhpcy5hPXRoaXMudGFyZ2V0PW51bGwpfTtmdW5jdGlvbiBGKGEpe3RoaXMuRWI9bmV3IEQ7dGhpcy5KYT1hfXEoInNoYWthLnV0aWwuRmFrZUV2ZW50VGFyZ2V0IixGKTtuPUYucHJvdG90eXBlO24uYWRkRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbihhLGIpe3RoaXMuRWIucHVzaChhLGIpfTtuLnJlbW92ZUV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24oYSxiKXt0aGlzLkViLnJlbW92ZShhLGIpfTsKbi5kaXNwYXRjaEV2ZW50PWZ1bmN0aW9uKGEpe2EuaGFzT3duUHJvcGVydHkoInNyY0VsZW1lbnQiKXx8KGRlbGV0ZSBhLnNyY0VsZW1lbnQsT2JqZWN0LmRlZmluZVByb3BlcnR5KGEsInNyY0VsZW1lbnQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH19KSk7aWYoYS5oYXNPd25Qcm9wZXJ0eSgidGFyZ2V0IikpYS50YXJnZXQ9dGhpcztlbHNle2RlbGV0ZSBhLnRhcmdldDt2YXIgYj10aGlzO09iamVjdC5kZWZpbmVQcm9wZXJ0eShhLCJ0YXJnZXQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYn0sc2V0OmZ1bmN0aW9uKGEpe2I9YX19KX1pZihhLmhhc093blByb3BlcnR5KCJjdXJyZW50VGFyZ2V0IikpYS5jdXJyZW50VGFyZ2V0PW51bGw7ZWxzZXtkZWxldGUgYS5jdXJyZW50VGFyZ2V0O3ZhciBjPW51bGw7T2JqZWN0LmRlZmluZVByb3BlcnR5KGEsImN1cnJlbnRUYXJnZXQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY30sc2V0OmZ1bmN0aW9uKGEpe2M9YX19KX1yZXR1cm4gZmIodGhpcywKYSl9O24ub2M9ITE7bi5MYT1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmRpc3BhdGNoRXZlbnQoeSh7dHlwZToiZGVidWcvZGFzaFBsYXllckV2ZW50IixidWJibGVzOiEwLGRldGFpbDp7dHlwZTphLGV2ZW50OmJ9fSkpfTtmdW5jdGlvbiBmYihhLGIpe2IuY3VycmVudFRhcmdldD1hO2Zvcih2YXIgYz1hLkViLmdldChiLnR5cGUpfHxbXSxkPTA7ZDxjLmxlbmd0aDsrK2Qpe3ZhciBlPWNbZF07dHJ5e2UuaGFuZGxlRXZlbnQ/ZS5oYW5kbGVFdmVudChiKTplLmNhbGwoYSxiKX1jYXRjaChmKXt9fWEuSmEmJmIuYnViYmxlcyYmZmIoYS5KYSxiKTtyZXR1cm4gYi5kZWZhdWx0UHJldmVudGVkfTtmdW5jdGlvbiBHKGEpe0YuY2FsbCh0aGlzLG51bGwpO3RoaXMuYT17b2I6e1ZhOm5ldyB4KFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJmYXN0X21vdmluZ19hdmVyYWdlX2hhbGZfbGlmZSIsMykpLHhiOm5ldyB4KFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJzbG93X21vdmluZ19hdmVyYWdlX2hhbGZfbGlmZSIsMTApKX0sY2I6e1ZhOm5ldyB4KFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJhZ2dyZXNzaXZlX2Zhc3RfbW92aW5nX2F2ZXJhZ2VfaGFsZl9saWZlIiwxRS00KSkseGI6bmV3IHgoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoImFnZ3Jlc3NpdmVfc2xvd19tb3ZpbmdfYXZlcmFnZV9oYWxmX2xpZmUiLDkuMjMzNTA4NzkxNzc0NSkpfX07dGhpcy5oPWF8fDVFNTt0aGlzLmo9VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoIm1pbl9zYW1wbGVfY291bnQiLAoxRTQpO3RoaXMuYj0wO3RoaXMuYz1bXTt0aGlzLmk9VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoIm1heF9yZWNlbnRfYmFuZHdpZHRoX3NhbXBsZXMiLDApfXIoRyxGKTtxKCJzaGFrYS51dGlsLkVXTUFCYW5kd2lkdGhFc3RpbWF0b3IiLEcpO0cucHJvdG90eXBlLnNob3VsZEV4Y2x1ZGVTYW1wbGU9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJjaGFuZ2VfYWJyX2F1ZGlvX2V4Y2x1c2lvbl9sb2dpYyIsITApPyFiOjY1NTM2PmF9OwpHLnByb3RvdHlwZS5zYW1wbGU9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyl7aWYodGhpcy5zaG91bGRFeGNsdWRlU2FtcGxlKGIsYykpZSYmZS5zZXRFdmVudCgidW5zYW1wbGVkIikuc2V0UmVhc29uKCJhdWRpbyIpLmxvZygpO2Vsc2V7aWYoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJ1c2VfcmVzb3VyY2VfdGltaW5nX2VudHJ5X2Zvcl9iYW5kd2lkdGgiLCEwKSl7aWYoIWQpe2UmJmUuc2V0RXZlbnQoInVuc2FtcGxlZCIpLnNldFJlYXNvbigicmVzb3VyY2VfdGltaW5nX2VudHJ5X21pc3NpbmciKS5sb2coKTtyZXR1cm59YT1kLnRpbWVUb0xhc3RCeXRlO2lmKDA+YSl7ZSYmZS5zZXRFdmVudCgidW5zYW1wbGVkIikuc2V0UmVhc29uKCJyZXNvdXJjZV90aW1pbmdfZW50cnlfaW52YWxpZCIpLmxvZygpO3JldHVybn19YT1NYXRoLm1heChhLDUwKTtjPTFFMypVbml0Q29uc3RhbnRzLkJJVFNfSU5fQllURSpiL2E7dmFyIGg9YS8xRTM7dGhpcy5hLmNiLlZhLnNhbXBsZShoLApjLGQpO3RoaXMuYS5jYi54Yi5zYW1wbGUoaCxjLGQpO3RoaXMuYS5vYi5WYS5zYW1wbGUoaCxjLGQpO3RoaXMuYS5vYi54Yi5zYW1wbGUoaCxjLGQpO2d8fHRoaXMuZGlzcGF0Y2hFdmVudCh5KHt0eXBlOiJiYW5kd2lkdGgifSkpO3RoaXMuYj1EYXRlLm5vdygpO2Q9cGFyc2VJbnQoYSwxMCk7aWYoMDx0aGlzLmkpZm9yKHRoaXMuYy5wdXNoKFtiLGRdKTt0aGlzLmMubGVuZ3RoPnRoaXMuaTspdGhpcy5jLnNoaWZ0KCk7ZSYmZS5zZXRFdmVudCgic2FtcGxlZCIpLnNldEJ5dGVzKGIpLnNldERlbGF5TXMoZCkubG9nKCk7ZiYmZi5nZXRFdmVudExvZ2dlcigiYmFuZHdpZHRoX3NhbXBsZWQiKS5zZXRMZW5ndGgoYikuc2V0Q2xpZW50VGltZUJlZ2luKHRoaXMuYi1kKS5zZXRDbGllbnRUaW1lRW5kKHRoaXMuYikubG9nKCl9fTsKRy5wcm90b3R5cGUuZ2V0QmFuZHdpZHRoPWZ1bmN0aW9uKGEpe2E9ImFnZ3Jlc3NpdmUiPT09YT90aGlzLmEuY2I6dGhpcy5hLm9iO3JldHVybiB0aGlzLmNhblRydXN0RXN0aW1hdGUoKT9NYXRoLm1pbihhLlZhLmdldEVzdGltYXRlKCksYS54Yi5nZXRFc3RpbWF0ZSgpKTp0aGlzLmh9O0cucHJvdG90eXBlLmdldEZhc3RNb3ZpbmdCYW5kd2lkdGg9ZnVuY3Rpb24oYSl7YT0iYWdncmVzc2l2ZSI9PT1hP3RoaXMuYS5jYjp0aGlzLmEub2I7cmV0dXJuIHRoaXMuY2FuVHJ1c3RFc3RpbWF0ZSgpP2EuVmEuZ2V0RXN0aW1hdGUoKTp0aGlzLmh9O0cucHJvdG90eXBlLmdldERhdGFBZ2U9ZnVuY3Rpb24oKXtyZXR1cm4oRGF0ZS5ub3coKS10aGlzLmIpLzFFM307Ry5wcm90b3R5cGUuY2FuVHJ1c3RFc3RpbWF0ZT1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmEuY2IuVmE7cmV0dXJuIGIuJGE+PSh2b2lkIDA9PT1hPy41OmEpfHxiLnliPj10aGlzLmp9OwpHLnByb3RvdHlwZS5zdXBwb3J0c0NhY2hpbmc9ZnVuY3Rpb24oKXtyZXR1cm4hMX07Ry5wcm90b3R5cGUuc2V0UmVwcmVzZW50YXRpb25JRD1mdW5jdGlvbigpe307Ry5wcm90b3R5cGUuZmx1c2hBQlJFdmFsdWF0aW9uU2V0PWZ1bmN0aW9uKCl7cmV0dXJuW119O0cucHJvdG90eXBlLmdldFJlY2VudFNhbXBsZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jfTsvKgoKIENvcHlyaWdodCAyMDE1IEZhY2Vib29rIEluYy4KCiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoKICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KKi8KZnVuY3Rpb24gZ2IoYSxiLGMsZCl7Ry5jYWxsKHRoaXMsZCk7dGhpcy5nPWF8fDA7dGhpcy5mPXZvaWQgMD09PWI/SW5maW5pdHk6Yjt0aGlzLm09Y31yKGdiLEcpO3EoInNoYWthLnV0aWwuRVdNQUNhY2hlQmFuZHdpZHRoRXN0aW1hdG9yIixnYik7CmdiLnByb3RvdHlwZS5zYW1wbGU9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxoKXt2YXIgaz04RTMqYi9hO2UmJmUuc2V0Qnl0ZXMoYikuc2V0RGVsYXlNcyhwYXJzZUludChhLDEwKSk7YTw9dGhpcy5nJiZrPnRoaXMuZiYmIWg/KGUmJmUuc2V0RXZlbnQoInVuc2FtcGxlZCIpLnNldFJlYXNvbigiY2FjaGVkIikubG9nKCksZiYmIXRoaXMuc2hvdWxkRXhjbHVkZVNhbXBsZShiLGMpJiZmLmdldEV2ZW50TG9nZ2VyKCJiYW5kd2lkdGhfc2FtcGxlZCIpLnNldFJlc3VsdCgiYWJvcnRlZCIpLnNldExlbmd0aChiKS5zZXRDbGllbnRUaW1lQmVnaW4oRGF0ZS5ub3coKS1wYXJzZUludChhLDEwKSkuc2V0Q2xpZW50VGltZUVuZChEYXRlLm5vdygpKS5sb2coKSx0aGlzLm0oKSk6Ry5wcm90b3R5cGUuc2FtcGxlLmNhbGwodGhpcyxhLGIsYyxkLGUsZixnKX07Z2IucHJvdG90eXBlLnN1cHBvcnRzQ2FjaGluZz1mdW5jdGlvbigpe3JldHVybiBJbmZpbml0eSE9PXRoaXMuZiYmISF0aGlzLmd9OwpnYi5wcm90b3R5cGUuc2V0UmVwcmVzZW50YXRpb25JRD1mdW5jdGlvbigpe307Z2IucHJvdG90eXBlLmZsdXNoQUJSRXZhbHVhdGlvblNldD1mdW5jdGlvbigpe3JldHVybltdfTtmdW5jdGlvbiBoYigpe0cuY2FsbCh0aGlzKX1yKGhiLEcpO3EoInNoYWthLnV0aWwuRVdNQVNpZ25lZFVSTEJhbmR3aWR0aEVzdGltYXRvciIsaGIpO2hiLnByb3RvdHlwZS5zdXBwb3J0c0NhY2hpbmc9ZnVuY3Rpb24oKXtyZXR1cm4hMH07ZnVuY3Rpb24gSSgpe3ZhciBhLGIsYz1uZXcgUHJvbWlzZShmdW5jdGlvbihjLGUpe2E9YztiPWV9KTtjLnJlc29sdmU9YTtjLnJlamVjdD1iO2MuZGVzdHJveT1JLnByb3RvdHlwZS5kZXN0cm95O3JldHVybiBjfUkucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmNhdGNoKGZ1bmN0aW9uKCl7fSk7dmFyIGE9RXJyb3IoIkRlc3Ryb3llZCEiKTthLnR5cGU9ImRlc3Ryb3kiO3RoaXMucmVqZWN0KGEpfTtmdW5jdGlvbiBpYihhKXthLnNwbGl0KCIiKS5yZWR1Y2UoZnVuY3Rpb24oYSxjLGQpe3JldHVybiBhKyhkJiYwPT1kJTQ/IiAiK2M6Yyl9KX07ZnVuY3Rpb24gamIoKXt0aGlzLmxiPW5ldyBJO3RoaXMuYz0hMTt0aGlzLkFhPW51bGw7dGhpcy5hPVtdO3RoaXMuYj1udWxsfWZ1bmN0aW9uIGtiKGEsYil7aWYoYS5jKXRocm93IEVycm9yKCJDYW5ub3QgYXBwZW5kIHRvIGEgcnVubmluZyB0YXNrISIpO2EuYS5wdXNoKGIpfWpiLnByb3RvdHlwZS5zdGFydD1mdW5jdGlvbigpe2lmKHRoaXMuYyl0aHJvdyBFcnJvcigiVGFzayBhbHJlYWR5IHN0YXJ0ZWQhIik7dGhpcy5jPSEwO3RoaXMuYS51bnNoaWZ0KGZ1bmN0aW9uKCl7fSk7bGIodGhpcyx2b2lkIDApfTtqYi5wcm90b3R5cGUuYWJvcnQ9ZnVuY3Rpb24oKXtpZih0aGlzLkFhKXJldHVybiB0aGlzLkFhO2lmKCF0aGlzLmMpcmV0dXJuIHRoaXMuYz0hMCxQcm9taXNlLnJlc29sdmUoKTt0aGlzLmImJih0aGlzLmY9dGhpcy5iKCkpO3JldHVybiB0aGlzLkFhPW5ldyBJfTtqYi5wcm90b3R5cGUuZW5kPWZ1bmN0aW9uKCl7dGhpcy5hLnNwbGljZSgxKX07CmZ1bmN0aW9uIGxiKGEsYil7dmFyIGM9YS5hWzBdKGIpLGQ7Yz8oZD1jWzBdLGEuYj1jWzFdKTooZD1Qcm9taXNlLnJlc29sdmUoKSxhLmI9bnVsbCk7ZC50aGVuKEooYSxmdW5jdGlvbihhKXt0aGlzLkFhPyh0aGlzLmE9W10sdGhpcy5iPW51bGwsbWIodGhpcykpOih0aGlzLmEuc2hpZnQoKSx0aGlzLmEubGVuZ3RoP2xiKHRoaXMsYSk6KHRoaXMubGIucmVzb2x2ZShhKSx0aGlzLmI9bnVsbCkpfSkpLmNhdGNoKEooYSxmdW5jdGlvbihhKXt0aGlzLmE9W107dGhpcy5iPW51bGw7dGhpcy5BYT9tYih0aGlzKTp0aGlzLmxiLnJlamVjdChhKX0pKX0KZnVuY3Rpb24gbWIoYSl7ZnVuY3Rpb24gYigpe3ZhciBhPUVycm9yKCJUYXNrIGFib3J0ZWQuIik7YS50eXBlPSJhYm9ydGVkIjt0aGlzLmxiLnJlamVjdChhKTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhpcy5BYS5yZXNvbHZlKCk7dGhpcy5BYT1udWxsfS5iaW5kKHRoaXMpLDUpfWEuZj9hLmYudGhlbihmdW5jdGlvbigpe3RoaXMuZj1udWxsO2IuY2FsbCh0aGlzKX0uYmluZChhKSk6Yi5jYWxsKGEpfTtmdW5jdGlvbiBKKGEsYil7cmV0dXJuIGIuYmluZChhKX07ZnVuY3Rpb24gbmIoYSxiLGMsZCxlLGYsZyl7TWVkaWFTb3VyY2UuaXNUeXBlU3VwcG9ydGVkKGMpO0YuY2FsbCh0aGlzLGUpO2U9Yi5hZGRTb3VyY2VCdWZmZXIoYyk7dGhpcy5oPWE7dGhpcy5BPWI7dGhpcy5hPWU7dGhpcy5KPWQ7dGhpcy5CPW5ldyBiYjt0aGlzLkk9dGhpcy5sPXRoaXMuWT10aGlzLmk9bnVsbDt0aGlzLlI9ITE7dGhpcy5QPXRoaXMuSz10aGlzLk89MDt0aGlzLkc9bnVsbDt0aGlzLlY9dGhpcy5GPSExO3RoaXMuWj1mO3RoaXMuRD1udWxsO3RoaXMuJD1nP2c6bnVsbDt0aGlzLmI9W107dGhpcy5VPTA7dGhpcy5tPXRoaXMuYz10aGlzLmY9bnVsbDt0aGlzLlQ9amE7dGhpcy5vPXRoaXMudT0wO3RoaXMudz10aGlzLlM9ITE7dGhpcy5nPWMmJmMuY2hhckF0KDApO0UodGhpcy5CLHRoaXMuYSwidXBkYXRlZW5kIix0aGlzLm5kLmJpbmQodGhpcykpO3RoaXMuaC5nZXRCb29sKCJsaXN0ZW5fZm9yX2FzeW5jX2FwcGVuZF9idWZmZXJfZXJyb3JzIiwhMCkmJkUodGhpcy5CLAp0aGlzLmEsImVycm9yIix0aGlzLmFkLmJpbmQodGhpcykpO3RoaXMuaj1udWxsfXIobmIsRik7bmIucHJvdG90eXBlLkJhPWZ1bmN0aW9uKCl7cmV0dXJue1NvdXJjZUJ1ZmZlcjp0aGlzLmF9fTtmdW5jdGlvbiBvYihhLGIsYyl7YS5vYyYmYS5MYShiLHt0eXBlOmEuZy5jaGFyQXQoMCksc2VnbWVudDpjLHNvdXJjZUJ1ZmZlcjphLmF9KX12YXIgcGI9MS82MDtuYi5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuYWJvcnQoKS5jYXRjaChmdW5jdGlvbigpe30pO3RoaXMuYyYmdGhpcy5jLmRlc3Ryb3koKTt0aGlzLmI9dGhpcy5mPXRoaXMuYz1udWxsO3RoaXMuQi5kZXN0cm95KCk7dGhpcy5BPXRoaXMuYT10aGlzLkQ9dGhpcy5CPW51bGx9O2Z1bmN0aW9uIHFiKGEpe3ZhciBiPWEuYi5sZW5ndGg7cmV0dXJuIDA8Yj9hLmJbYi0xXTpudWxsfQpmdW5jdGlvbiByYihhLGIpe2Zvcih2YXIgYz1hLmEuYnVmZmVyZWQsZD0wO2Q8Yy5sZW5ndGg7KytkKXt2YXIgZT1jLnN0YXJ0KGQpLXBiLGY9Yy5lbmQoZCkrcGI7aWYoYj49ZSYmYjw9ZilyZXR1cm4gYy5lbmQoZCktYn1yZXR1cm4gMH1mdW5jdGlvbiBzYihhLGIsYyl7dmFyIGQ9Yi5lbmRUaW1lP2IuZW5kVGltZS1iLnN0YXJ0VGltZToxLGU9bmV3IHRiO2UuTmE9MztlLmM9MUUzKmQ7ZS5iPTFFMyphLlQ7ZS51PWEuWTtlLmo9YztlLmRhPWEuWjtlLm1pbWVUeXBlPWEuZztlLmg9YS4kO2Uubz1iLmlzUHJlZGljdGl2ZTtyZXR1cm4gZX1uPW5iLnByb3RvdHlwZTsKbi5mZXRjaD1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGgpe3ZhciBrLGw9Zj8icmVwbGFjaW5nX2xvd2VyX3F1YWxpdHlfYnVmZmVyIjpudWxsO2lmKHRoaXMubCl7dmFyIG09dGhpcy5iW3RoaXMuYi5sZW5ndGgtMV0scD1udWxsO20mJihwPTFFMyooYS5zdGFydFRpbWUtbS5lbmRUaW1lKSk7az10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJmZXRjaCIpLnNldFJlYXNvbihsKS5zZXRSZXNvdXJjZSh1YihhLnVybCkpLnNldFR5cGUodmIodGhpcykpLnNldExlbmd0aChNYXRoLnJvdW5kKDFFMyooYS5lbmRUaW1lLWEuc3RhcnRUaW1lKSkpLnNldFNlZ21lbnRTdGFydFRpbWUoMUUzKmEuc3RhcnRUaW1lKS5zZXRTZWdtZW50RW5kVGltZSgxRTMqYS5lbmRUaW1lKS5zZXRTZWdtZW50VGltZUdhcChwKS5zdGFydCgpfXRoaXMuaj1rO2lmKHRoaXMuZil7aWYodGhpcy5oLmdldEJvb2woInNibV9lbmFibGVfY29uY3VycmVudF9mZXRjaF9yZXF1ZXN0cyIsITEpKXt2YXIgdD1bXS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7CnJldHVybiB0aGlzLmYubGIudGhlbihKKHRoaXMsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mZXRjaC5hcHBseSh0aGlzLHQpfSksZnVuY3Rpb24oYSl7dGhyb3cgYTt9KX1tPUVycm9yKCJDYW5ub3QgZmV0Y2ggKCIrdGhpcy5nKyIpOiBwcmV2aW91cyBvcGVyYXRpb24gbm90IGNvbXBsZXRlLiIpO3RoaXMudT49dGhpcy5PPyhtLnR5cGU9InN0cmVhbSIsayYmay5zZXRFcnJvcihtKS5sb2coKSx0aGlzLnU9MCk6KHRoaXMudSsrLG0udHlwZT0iYWJvcnRlZCIpO3JldHVybiBQcm9taXNlLnJlamVjdChtKX10aGlzLmY9bmV3IGpiO2MhPXRoaXMuYS50aW1lc3RhbXBPZmZzZXQmJih0aGlzLmEudGltZXN0YW1wT2Zmc2V0PWMpO3ZhciBtPXNiKHRoaXMsYSxlKSxwPXRoaXMuaC5nZXRCb29sKCJlbmFibGVfc3RyZWFtaW5nX2NvZGVfcGF0aCIsITApLHc7dz1wP2EudXJsLnN0cmVhbShtLHRoaXMuSix0aGlzLmwsdGhpcy5qLHRoaXMuSSx2Yih0aGlzKSxsLGcsaCk6YS51cmwuZmV0Y2gobSwKdGhpcy5KLHRoaXMubCx0aGlzLmosdGhpcy5JLHZiKHRoaXMpLGwsZyk7b2IodGhpcywiU2VnbWVudEZldGNoaW5nIixhKTt2YXIgej1LLnByb3RvdHlwZS5LYS5iaW5kKGEudXJsKTt0aGlzLkcmJnRoaXMuRiYmKGQ9dGhpcy5HKTt2YXIgSD0wLGRhPW51bGw7ZCYmKHRoaXMuRz1kLHRoaXMuRj0hMSxrYih0aGlzLmYsZnVuY3Rpb24oKXtyZXR1cm5bZC50aGVuKGZ1bmN0aW9uKGEpe2EuWWE+SCYmKEg9YS5ZYSk7cmV0dXJuIHdiKHRoaXMsYSxudWxsKX0uYmluZCh0aGlzKSksdGhpcy5iYi5iaW5kKHRoaXMpXX0uYmluZCh0aGlzKSkpO3ZhciBlYT1mdW5jdGlvbihhKXthLllhPkgmJihIPWEuWWEpO2RhPWEuYnl0ZUxlbmd0aDt0aGlzLkouZ2V0QmFuZHdpZHRoKCk7dGhpcy5TJiZ0aGlzLmRpc3BhdGNoRXZlbnQoeSh7dHlwZToiY2VhNjA4Q2FwdGlvbnNCeXRlc1JlY2VpdmVkIixidWJibGVzOiEwLGRldGFpbDp7dGltZXNjYWxlOmIsdmlkZW9CeXRlczphfX0pKX0uYmluZCh0aGlzKTsKcD8oaCYmKG09aC5nZXRQcm9ncmVzc1RyYWNrZXIoKSx0aGlzLmkhPT1tJiYodGhpcy5pPW0pKSxrYih0aGlzLmYsSih0aGlzLGZ1bmN0aW9uKCl7dmFyIGI9bnVsbCxjPU1hdGgubWF4KDAsKGEudXJsLmVuZEJ5dGV8fDApLWEudXJsLnN0YXJ0Qnl0ZSksZD10aGlzLmguZ2V0TnVtYmVyKCJzdHJlYW1pbmdfYXBwZW5kX3Blcl9zZWdtZW50IiwzKSxlPTA9PT1kPzA6Yy9kO3JldHVyblt3LnRoZW4oZnVuY3Rpb24oYyl7Yj1jO3RoaXMudz0hMTtyZXR1cm4geGIodGhpcyxjLGEsZSl9LmJpbmQodGhpcykpLnRoZW4oZnVuY3Rpb24oYSl7Yj1udWxsO3JldHVybiBhfSkudGhlbihlYSkuY2F0Y2goZnVuY3Rpb24oYSl7dGhpcy5oLmdldEJvb2woImFib3J0X2ZldGNoX29uX25ldF9lcnJvciIsITEpJiZoJiYodGhpcy5hLmFib3J0KCksdGhpcy53PSEwKTtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYSl9LmJpbmQodGhpcykpLGZ1bmN0aW9uKCl7b2IodGhpcywiU2VnbWVudEZhaWxlZCIsYSk7CmImJihiLmNhbmNlbCgiYWJvcnQiKSxiPW51bGwsaCYmKHRoaXMuYS5hYm9ydCgpLHRoaXMudz0hMCkpO3ooKTtyZXR1cm4gdGhpcy5iYigpfS5iaW5kKHRoaXMpXX0pKSk6a2IodGhpcy5mLEoodGhpcyxmdW5jdGlvbigpe3JldHVyblt3LnRoZW4oZnVuY3Rpb24oYil7b2IodGhpcywiU2VnbWVudEZldGNoZWQiLGEpO2VhKGIpO3JldHVybiB3Yih0aGlzLGIsYSxsKX0uYmluZCh0aGlzKSksZnVuY3Rpb24oKXtvYih0aGlzLCJTZWdtZW50RmFpbGVkIixhKTt6KCk7cmV0dXJuIHRoaXMuYmIoKX0uYmluZCh0aGlzKV19KSk7dmFyIEFhPTA9PXRoaXMuYS5idWZmZXJlZC5sZW5ndGgmJjA9PXRoaXMuYi5sZW5ndGgsY2I9bnVsbDtrYih0aGlzLmYsZnVuY3Rpb24oKXtpZigwPT10aGlzLmEuYnVmZmVyZWQubGVuZ3RoJiYhdGhpcy5WKXt2YXIgYj1FcnJvcigiRmFpbGVkIHRvIGJ1ZmZlciBzZWdtZW50ICgiK3RoaXMuZysiKS4iKTtiLnR5cGU9InN0cmVhbSI7cmV0dXJuW1Byb21pc2UucmVqZWN0KGIpXX10aGlzLmEuYnVmZmVyZWQubGVuZ3RoJiYKQWEmJihiPWEuc3RhcnRUaW1lLGNiPXRoaXMuYS5idWZmZXJlZC5zdGFydCgwKS1iKTtiPXliKHRoaXMuYixhLnN0YXJ0VGltZSk7MDw9Yj90aGlzLmIuc3BsaWNlKGIrMSwwLGEpOnRoaXMuYi5wdXNoKGEpfS5iaW5kKHRoaXMpKTt0aGlzLnU9MDtyZXR1cm4gemIodGhpcykudGhlbihmdW5jdGlvbigpe2smJmsubG9nKCk7cmV0dXJuIFByb21pc2UucmVzb2x2ZSh7VzpjYixXYzpILEg6YS5lbmRUaW1lLWEuc3RhcnRUaW1lLERjOmRhfSl9LmJpbmQodGhpcyksZnVuY3Rpb24oYSl7ayYmay5zZXRFcnJvcihhKS5sb2coKTthPUFiKGEsInRhc2siLCJBbiB1bmtub3duIHRhc2sgZXJyb3Igb2NjdXJyZWQuIik7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfS5iaW5kKHRoaXMpKX07CmZ1bmN0aW9uIHhiKGEsYixjLGQpe3ZhciBlPW5ldyBBcnJheUJ1ZmZlcigwKSxmPW5ldyBBcnJheUJ1ZmZlcigwKSxnPWZ1bmN0aW9uKCl7cmV0dXJuIGIucmVhZCgpLnRoZW4oZnVuY3Rpb24oYSl7dmFyIGI9YS52YWx1ZTthPWEuZG9uZTtpZih0aGlzLnd8fGEmJjA9PT1mLmJ5dGVMZW5ndGgpcmV0dXJuIGU7aWYoIWEmJiFiKXJldHVybiBnKCk7YiYmKGIgaW5zdGFuY2VvZiBVaW50OEFycmF5JiYoYj1iLmJ1ZmZlciksZj1jb25jYXRBcnJheUJ1ZmZlcihmLGIpKTtyZXR1cm4gZi5ieXRlTGVuZ3RoPj1kfHxhPyh0aGlzLmkmJnRoaXMuaS5ub3RpZnlCeXRlc0NvbnN1bWVkKGYuYnl0ZUxlbmd0aCksb2IodGhpcywiU2VnbWVudEZldGNoZWQiLGMpLGU9Y29uY2F0QXJyYXlCdWZmZXIoZSxmKSxiPWYsZj1uZXcgQXJyYXlCdWZmZXIoMCksd2IodGhpcyxiLGMpLnRoZW4oZykpOmcoKX0uYmluZCh0aGlzKSl9LmJpbmQoYSk7cmV0dXJuIGcoKX0KZnVuY3Rpb24gQmIoYSl7aWYoYS5mKXt2YXIgYj1FcnJvcigiQ2Fubm90IGNsZWFyICgiK2EuZysiKTogcHJldmlvdXMgb3BlcmF0aW9uIG5vdCBjb21wbGV0ZS4iKTthLm8+PWEuSz8oYi50eXBlPSJzdHJlYW0iLGEubz0wKTooYS5vKyssYi50eXBlPSJhYm9ydGVkIik7cmV0dXJuIFByb21pc2UucmVqZWN0KGIpfWEuZj1uZXcgamI7a2IoYS5mLGZ1bmN0aW9uKCl7dmFyIGE7YTppZigwPT10aGlzLmEuYnVmZmVyZWQubGVuZ3RoKWE9UHJvbWlzZS5yZXNvbHZlKCk7ZWxzZXt0cnl7dGhpcy5hLnJlbW92ZSgwLHRoaXMuQS5kdXJhdGlvbil9Y2F0Y2goYil7Yj1BYihiLCJjbGVhcl9idWZmZXIiLCJBbiBlcnJvciBvY2N1cmVkIHdoZW4gY2xlYXJpbmcgdGhlIGJ1ZmZlci4iKTthPVByb21pc2UucmVqZWN0KGIpO2JyZWFrIGF9dGhpcy5iPVtdO2E9dGhpcy5jPW5ldyBJfXJldHVyblthLHRoaXMuYmIuYmluZCh0aGlzKV19LmJpbmQoYSkpO2Eubz0wO3JldHVybiB6YihhKX0KZnVuY3Rpb24gQ2IoYSxiKXtpZihhLmYpe3ZhciBjPUVycm9yKCJDYW5ub3QgY2xlYXJBZnRlciAoIithLmcrIik6IHByZXZpb3VzIG9wZXJhdGlvbiBub3QgY29tcGxldGUuIik7Yy50eXBlPSJzdHJlYW0iO3JldHVybiBQcm9taXNlLnJlamVjdChjKX1hLmY9bmV3IGpiO2tiKGEuZixmdW5jdGlvbigpe3JldHVybltEYih0aGlzLGIpLHRoaXMuYmIuYmluZCh0aGlzKV19LmJpbmQoYSkpO3JldHVybiB6YihhKX1mdW5jdGlvbiBFYihhLGIpe2EuYz1uZXcgSTt2YXIgYz1iLTU7aWYoMDxjKXt0cnl7YS5hLnJlbW92ZSgwLGMpfWNhdGNoKGQpe3JldHVybiBkPUFiKGQsImNsZWFyX2J1ZmZlciIsIkFuIGVycm9yIG9jY3VyZWQgd2hlbiBjbGVhcmluZyB0aGUgYnVmZmVyLiIpLFByb21pc2UucmVqZWN0KGQpfWM9RmIoYSxjKTswPGMmJihhLmI9YS5iLnNsaWNlKGMsYS5iLmxlbmd0aCkpfWVsc2UgYS5jLnJlc29sdmUoKTtyZXR1cm4gYS5jfQpuLmFib3J0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZj90aGlzLmYuYWJvcnQoKTpQcm9taXNlLnJlc29sdmUoKX07ZnVuY3Rpb24gR2IoYSl7Zm9yKHZhciBiPWEuY3VycmVudFRpbWUsYz1iLGQ9MDtkPGEuYnVmZmVyZWQubGVuZ3RoO2QrKylpZihiPD1hLmJ1ZmZlcmVkLnN0YXJ0KGQpKXtjPWEuYnVmZmVyZWQuc3RhcnQoZCk7YnJlYWt9cmV0dXJuIGN9ZnVuY3Rpb24gSGIoYSxiKXtmb3IodmFyIGM9Yi5jdXJyZW50VGltZSxkPTA7ZDxiLmJ1ZmZlcmVkLmxlbmd0aDtkKyspaWYoYz49Yi5idWZmZXJlZC5zdGFydChkKSYmYzw9Yi5idWZmZXJlZC5lbmQoZCktYS5QKXJldHVybiExO3JldHVybiEwfQpmdW5jdGlvbiB6YihhKXthLmYuc3RhcnQoKTtyZXR1cm4gYS5mLmxiLnRoZW4oSihhLGZ1bmN0aW9uKCl7dGhpcy5mPW51bGx9KSkuY2F0Y2goSihhLGZ1bmN0aW9uKGEpe3RoaXMuZj1udWxsO2E9QWIoYSwidGFzayIsIkFuIHVua25vd24gdGFzayBlcnJvciBvY2N1cnJlZC4iKTtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYSl9KSl9CmZ1bmN0aW9uIHdiKGEsYixjLGQpe3ZhciBlO2lmKGEubCl7dmFyIGY9Yz91YihjLnVybCk6ImluaXQiO2U9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigiYXBwZW5kIikuc2V0UmVhc29uKGQpLnNldFJlc291cmNlKGYpLnNldFR5cGUodmIoYSkpLnNldExlbmd0aChiLmJ5dGVMZW5ndGgpLnN0YXJ0KCk7bnVsbCE9PWMmJihlPWUuc2V0U2VnbWVudFN0YXJ0VGltZSgxRTMqYy5zdGFydFRpbWUpLnNldFNlZ21lbnRFbmRUaW1lKDFFMypjLmVuZFRpbWUpKTthLmomJihlPWUuc2V0UGFyZW50TG9nZ2VyKGEuaikpfXRyeXthLmEuYXBwZW5kQnVmZmVyKGIpfWNhdGNoKGcpe3JldHVybiBhLmguZ2V0Qm9vbCgibnVrZV9zb3VyY2VfYnVmZmVyX29uX3F1b3RhX2V4Y2VlZGVkX2VyciIsITApJiZnIGluc3RhbmNlb2YgRE9NRXhjZXB0aW9uJiZnLmNvZGU9PT1ET01FeGNlcHRpb24uUVVPVEFfRVhDRUVERURfRVJSJiZnLm1lc3NhZ2UubWF0Y2goL14uKlNvdXJjZUJ1ZmZlci4qZnVsbC4qZnJlZVxzc3BhY2UuKiQvKSYmCihnLnR5cGU9InNvdXJjZWJ1ZmZlcl9mdWxsIiksZSYmZS5zZXRFcnJvcihnKS5sb2coKSxQcm9taXNlLnJlamVjdChnKX1hLmM9bmV3IEk7YS5tPWM7cmV0dXJuIGEuYy50aGVuKGZ1bmN0aW9uKCl7ZSYmZS5sb2coKX0sZnVuY3Rpb24oYSl7ZSYmZS5zZXRFcnJvcihhKS5sb2coKTtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYSl9KX1uLmFkPWZ1bmN0aW9uKGEpe2E9YS5lcnJvcnx8RXJyb3IoIkNhbGwgdG8gYXBwZW5kQnVmZmVyIGZhaWxlZCB0byBhcHBlbmQgdGhlIHNlZ21lbnQuIik7YT1BYihhLCJzdHJlYW0iLCJDYWxsIHRvIGFwcGVuZEJ1ZmZlciBmYWlsZWQgdG8gYXBwZW5kIHRoZSBzZWdtZW50LiIpO3RoaXMuYyYmdGhpcy5jLnJlamVjdChhKX07CmZ1bmN0aW9uIERiKGEsYil7aWYoMD09YS5hLmJ1ZmZlcmVkLmxlbmd0aClyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7dmFyIGM9RmIoYSxiKTtpZigtMT09Y3x8Yz09YS5iLmxlbmd0aC0xKXJldHVybiBQcm9taXNlLnJlc29sdmUoKTt0cnl7YS5hLnJlbW92ZShhLmJbYysxXS5zdGFydFRpbWUsYS5BLmR1cmF0aW9uKX1jYXRjaChkKXtyZXR1cm4gUHJvbWlzZS5yZWplY3QoZCl9YS5iPWEuYi5zbGljZSgwLGMrMSk7YS5jPW5ldyBJO3JldHVybiBhLmN9bi5iYj1mdW5jdGlvbigpe2lmKHRoaXMuYyl7aWYoIm9wZW4iPT10aGlzLkEucmVhZHlTdGF0ZSl7dmFyIGE9RXJyb3IoIlByZXZpb3VzIG9wZXJhdGlvbiBhYm9ydGVkLiIpO2EudHlwZT0iYWJvcnRlZCI7dGhpcy5jLnJlamVjdChhKTt0aGlzLmEuYWJvcnQoKTt0aGlzLlImJih0aGlzLkY9ITApO3RoaXMuYz1uZXcgSX1yZXR1cm4gdGhpcy5jfXJldHVybiBQcm9taXNlLnJlc29sdmUoKX07Cm4ubmQ9ZnVuY3Rpb24oKXt0aGlzLmMmJih0aGlzLm0mJihvYih0aGlzLCJTZWdtZW50QXBwZW5kZWQiLHRoaXMubSksdGhpcy5tPW51bGwpLHRoaXMuYy5yZXNvbHZlKCksdGhpcy5jPW51bGwpfTtuLkRkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaX07bmIucHJvdG90eXBlLmdldFN0cmVhbVByb2dyZXNzVHJhY2tlcj1uYi5wcm90b3R5cGUuRGQ7ZnVuY3Rpb24gdmIoYSl7cmV0dXJuInYiPT09YS5nLmNoYXJBdCgwKT8idmlkZW8iOiJhIj09PWEuZy5jaGFyQXQoMCk/ImF1ZGlvIjpudWxsfWZ1bmN0aW9uIEFiKGEsYixjKXthfHwoYT1FcnJvcihjKSk7YS50eXBlfHwoYS50eXBlPWIpO2EubWVzc2FnZXx8KGEubWVzc2FnZT1jKTtyZXR1cm4gYX0KZnVuY3Rpb24gRmIoYSxiKXtpZihhLmguZ2V0Qm9vbCgic2JtX3VzZV9zZWdtZW50X2luZGV4X3RvX2ZpbmRfdGltZXN0YW1wcyIsITEpJiZhLkQpe3ZhciBjPWEuRC5maW5kKGIpO2lmKGMpcmV0dXJuIHliKGEuYixjLnN0YXJ0VGltZSl9ZWxzZSByZXR1cm4geWIoYS5iLGIpO3JldHVybi0xfTtmdW5jdGlvbiBJYihhKXtyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLGEpfXEoInNoYWthLnV0aWwuVWludDhBcnJheVV0aWxzLnRvU3RyaW5nIixJYik7ZnVuY3Rpb24gSmIoYSl7Zm9yKHZhciBiPW5ldyBVaW50OEFycmF5KGEubGVuZ3RoKSxjPTA7YzxhLmxlbmd0aDsrK2MpYltjXT1hLmNoYXJDb2RlQXQoYyk7cmV0dXJuIGJ9cSgic2hha2EudXRpbC5VaW50OEFycmF5VXRpbHMuZnJvbVN0cmluZyIsSmIpO3EoInNoYWthLnV0aWwuVWludDhBcnJheVV0aWxzLnRvQmFzZTY0IixmdW5jdGlvbihhLGIpe3ZhciBjPXZvaWQgMD09Yj8hMDpiLGQ9d2luZG93LmJ0b2EoSWIoYSkpLnJlcGxhY2UoL1wrL2csIi0iKS5yZXBsYWNlKC9cLy9nLCJfIik7cmV0dXJuIGM/ZDpkLnJlcGxhY2UoLz0qJC8sIiIpfSk7ZnVuY3Rpb24gS2IoYSl7cmV0dXJuIEpiKHdpbmRvdy5hdG9iKGEucmVwbGFjZSgvLS9nLCIrIikucmVwbGFjZSgvXy9nLCIvIikpKX0KcSgic2hha2EudXRpbC5VaW50OEFycmF5VXRpbHMuZnJvbUJhc2U2NCIsS2IpO3EoInNoYWthLnV0aWwuVWludDhBcnJheVV0aWxzLmZyb21IZXgiLGZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1uZXcgVWludDhBcnJheShhLmxlbmd0aC8yKSxjPTA7YzxhLmxlbmd0aDtjKz0yKWJbYy8yXT13aW5kb3cucGFyc2VJbnQoYS5zdWJzdHIoYywyKSwxNik7cmV0dXJuIGJ9KTtmdW5jdGlvbiBMYihhKXtmb3IodmFyIGI9IiIsYz0wO2M8YS5sZW5ndGg7KytjKXt2YXIgZD1hW2NdLnRvU3RyaW5nKDE2KTsxPT1kLmxlbmd0aCYmKGQ9IjAiK2QpO2IrPWR9cmV0dXJuIGJ9cSgic2hha2EudXRpbC5VaW50OEFycmF5VXRpbHMudG9IZXgiLExiKTtmdW5jdGlvbiBNYShhLGIpe2lmKCFhJiYhYilyZXR1cm4hMDtpZighYXx8IWJ8fGEubGVuZ3RoIT1iLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIGM9MDtjPGEubGVuZ3RoOysrYylpZihhW2NdIT1iW2NdKXJldHVybiExO3JldHVybiEwfTtmdW5jdGlvbiBNYigpe3RoaXMuaT10aGlzLmE9IiI7dGhpcy53aXRoQ3JlZGVudGlhbHM9ITE7dGhpcy5vPXRoaXMuZj1udWxsO3RoaXMuaj10aGlzLmg9ITE7dGhpcy5tPXRoaXMuZz0iIjt0aGlzLmM9bnVsbDt0aGlzLmI9W119ZnVuY3Rpb24gTmIoYSxiKXt2YXIgYz1uZXcgTWI7Yy5hPWEuYTtjLmk9YS5pO2Mud2l0aENyZWRlbnRpYWxzPWEud2l0aENyZWRlbnRpYWxzO2MuZj1hLmY7Yy5vPWEubztjLmg9YS5oO2Muaj1hLmo7Yy5nPWEuZztjLm09YS5tO2MuYz1hLmM/bmV3IFVpbnQ4QXJyYXkoYS5jLmJ1ZmZlcik6bnVsbDtPYihjLGEuYik7T2IoYyxiLmIpO3JldHVybiBjfWZ1bmN0aW9uIE9iKGEsYil7dmFyIGM9YS5iLmNvbmNhdChiLm1hcChmdW5jdGlvbihhKXtyZXR1cm57aW5pdERhdGE6bmV3IFVpbnQ4QXJyYXkoYS5pbml0RGF0YS5idWZmZXIpLGluaXREYXRhVHlwZTphLmluaXREYXRhVHlwZX19KSk7YS5iPXdhKGMpfQpmdW5jdGlvbiB4YShhLGIpe3JldHVybiBhLmluaXREYXRhVHlwZT09Yi5pbml0RGF0YVR5cGUmJk1hKGEuaW5pdERhdGEsYi5pbml0RGF0YSl9O2Z1bmN0aW9uIFBiKGEsYixjLGQpe3RoaXMud2l0aENyZWRlbnRpYWxzPWM7dGhpcy5hPVtdO2QmJnRoaXMuYS5wdXNoKGQpfXEoInNoYWthLnBsYXllci5Ecm1TY2hlbWVJbmZvIixQYik7UGIuRGlzdGluY3RpdmVJZGVudGlmaWVyPXtPUFRJT05BTDowLFJFUVVJUkVEOjF9O1BiLlBlcnNpc3RlbnRTdGF0ZT17T1BUSU9OQUw6MCxSRVFVSVJFRDoxfTtQYi5jcmVhdGVVbmVuY3J5cHRlZD1mdW5jdGlvbigpe3JldHVybiBuZXcgUGIoMCwwLCExLG51bGwpfTtmdW5jdGlvbiBRYihhKXt0aGlzLnN5c3RlbUlkcz1bXTt0aGlzLmNlbmNLZXlJZHM9W107dGhpcy5hPVtdO2E9bmV3IEJhKG5ldyBEYXRhVmlldyhhLmJ1ZmZlcikpO3RyeXtmb3IoO0RhKGEpOyl7dmFyIGI9YS5hLGM9dihhKSxkPXYoYSk7MT09Yz9jPUZhKGEpOjA9PWMmJihjPWEuYi5ieXRlTGVuZ3RoLWIpO2lmKDE4ODY2MTQzNzYhPWQpSGEoYSxjLShhLmEtYikpO2Vsc2V7dmFyIGU9RWEoYSk7aWYoMTxlKUhhKGEsYy0oYS5hLWIpKTtlbHNle0hhKGEsMyk7dmFyIGY9TGIoR2EoYSkpLGc9W107aWYoMDxlKWZvcih2YXIgaD12KGEpLGs9MDtrPGg7KytrKXt2YXIgbD1MYihHYShhKSk7Zy5wdXNoKGwpfXZhciBtPXYoYSk7SGEoYSxtKTt0aGlzLmNlbmNLZXlJZHMucHVzaC5hcHBseSh0aGlzLmNlbmNLZXlJZHMsZyk7dGhpcy5zeXN0ZW1JZHMucHVzaChmKTt0aGlzLmEucHVzaCh7c3RhcnQ6YixlbmQ6YS5hLTF9KTthLmEhPWIrYyYmSGEoYSxjLShhLmEtYikpfX19fWNhdGNoKHApe319Cjt2YXIgUmI9L14oPzooW146Lz8jLl0rKTopPyg/OlwvXC8oPzooW14vPyNdKilAKT8oW14vIz9dKj8pKD86OihbMC05XSspKT8oPz1bLyM/XXwkKSk/KFtePyNdKyk/KD86XD8oW14jXSopKT8oPzojKC4qKSk/JC87ZnVuY3Rpb24gTChhKXt2YXIgYjthIGluc3RhbmNlb2YgTD8oU2IodGhpcyxhLnphKSx0aGlzLlVhPWEuVWEsdGhpcy5oYT1hLmhhLFRiKHRoaXMsYS5YYSksdGhpcy51YT1hLnVhLFViKHRoaXMsYS5hLmNsb25lKCkpLHRoaXMuTWE9YS5NYSk6YSYmKGI9U3RyaW5nKGEpLm1hdGNoKFJiKSk/KFNiKHRoaXMsYlsxXXx8IiIsITApLHRoaXMuVWE9VmIoYlsyXXx8IiIpLHRoaXMuaGE9VmIoYlszXXx8IiIsITApLFRiKHRoaXMsYls0XSksdGhpcy51YT1WYihiWzVdfHwiIiwhMCksVWIodGhpcyxiWzZdfHwiIiwhMCksdGhpcy5NYT1WYihiWzddfHwiIikpOnRoaXMuYT1uZXcgV2IobnVsbCl9bj1MLnByb3RvdHlwZTtuLnphPSIiO24uVWE9IiI7bi5oYT0iIjtuLlhhPW51bGw7bi51YT0iIjtuLk1hPSIiOwpuLnRvU3RyaW5nPWZ1bmN0aW9uKCl7dmFyIGE9W10sYj10aGlzLnphO2ImJmEucHVzaChYYihiLFliLCEwKSwiOiIpO2lmKGI9dGhpcy5oYSl7YS5wdXNoKCIvLyIpO3ZhciBjPXRoaXMuVWE7YyYmYS5wdXNoKFhiKGMsWWIsITApLCJAIik7YS5wdXNoKGVuY29kZVVSSUNvbXBvbmVudChiKS5yZXBsYWNlKC8lMjUoWzAtOWEtZkEtRl17Mn0pL2csIiUkMSIpKTtiPXRoaXMuWGE7bnVsbCE9YiYmYS5wdXNoKCI6IixTdHJpbmcoYikpfWlmKGI9dGhpcy51YSl0aGlzLmhhJiYiLyIhPWIuY2hhckF0KDApJiZhLnB1c2goIi8iKSxhLnB1c2goWGIoYiwiLyI9PWIuY2hhckF0KDApP1piOiRiLCEwKSk7KGI9dGhpcy5hLnRvU3RyaW5nKCkpJiZhLnB1c2goIj8iLGIpOyhiPXRoaXMuTWEpJiZhLnB1c2goIiMiLFhiKGIsYWMpKTtyZXR1cm4gYS5qb2luKCIiKX07Cm4ucmVzb2x2ZT1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmNsb25lKCk7ImRhdGEiPT09Yi56YSYmKGI9bmV3IEwpO3ZhciBjPSEhYS56YTtjP1NiKGIsYS56YSk6Yz0hIWEuVWE7Yz9iLlVhPWEuVWE6Yz0hIWEuaGE7Yz9iLmhhPWEuaGE6Yz1udWxsIT1hLlhhO3ZhciBkPWEudWE7aWYoYylUYihiLGEuWGEpO2Vsc2UgaWYoYz0hIWEudWEpe2lmKCIvIiE9ZC5jaGFyQXQoMCkpaWYodGhpcy5oYSYmIXRoaXMudWEpZD0iLyIrZDtlbHNle3ZhciBlPWIudWEubGFzdEluZGV4T2YoIi8iKTstMSE9ZSYmKGQ9Yi51YS5zdWJzdHIoMCxlKzEpK2QpfWlmKCIuLiI9PWR8fCIuIj09ZClkPSIiO2Vsc2UgaWYoLTEhPWQuaW5kZXhPZigiLi8iKXx8LTEhPWQuaW5kZXhPZigiLy4iKSl7Zm9yKHZhciBlPTA9PWQubGFzdEluZGV4T2YoIi8iLDApLGQ9ZC5zcGxpdCgiLyIpLGY9W10sZz0wO2c8ZC5sZW5ndGg7KXt2YXIgaD1kW2crK107Ii4iPT1oP2UmJmc9PWQubGVuZ3RoJiZmLnB1c2goIiIpOiIuLiI9PQpoPygoMTxmLmxlbmd0aHx8MT09Zi5sZW5ndGgmJiIiIT1mWzBdKSYmZi5wb3AoKSxlJiZnPT1kLmxlbmd0aCYmZi5wdXNoKCIiKSk6KGYucHVzaChoKSxlPSEwKX1kPWYuam9pbigiLyIpfX1jP2IudWE9ZDpjPSIiIT09YS5hLnRvU3RyaW5nKCk7Yz9VYihiLGEuYS5jbG9uZSgpKTpjPSEhYS5NYTtjJiYoYi5NYT1hLk1hKTtyZXR1cm4gYn07bi5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgTCh0aGlzKX07ZnVuY3Rpb24gU2IoYSxiLGMpe2EuemE9Yz9WYihiLCEwKTpiO2EuemEmJihhLnphPWEuemEucmVwbGFjZSgvOiQvLCIiKSl9ZnVuY3Rpb24gVGIoYSxiKXtpZihiKXtiPU51bWJlcihiKTtpZihpc05hTihiKXx8MD5iKXRocm93IEVycm9yKCJCYWQgcG9ydCBudW1iZXIgIitiKTthLlhhPWJ9ZWxzZSBhLlhhPW51bGx9ZnVuY3Rpb24gVWIoYSxiLGMpe2IgaW5zdGFuY2VvZiBXYj9hLmE9YjooY3x8KGI9WGIoYixiYykpLGEuYT1uZXcgV2IoYikpfQpmdW5jdGlvbiBWYihhLGIpe3JldHVybiBhP2I/ZGVjb2RlVVJJKGEpOmRlY29kZVVSSUNvbXBvbmVudChhKToiIn1mdW5jdGlvbiBYYihhLGIsYyl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBhPyhhPWVuY29kZVVSSShhKS5yZXBsYWNlKGIsY2MpLGMmJihhPWEucmVwbGFjZSgvJTI1KFswLTlhLWZBLUZdezJ9KS9nLCIlJDEiKSksYSk6bnVsbH1mdW5jdGlvbiBjYyhhKXthPWEuY2hhckNvZGVBdCgwKTtyZXR1cm4iJSIrKGE+PjQmMTUpLnRvU3RyaW5nKDE2KSsoYSYxNSkudG9TdHJpbmcoMTYpfXZhciBZYj0vWyNcL1w/QF0vZywkYj0vW1wjXD86XS9nLFpiPS9bXCNcP10vZyxiYz0vW1wjXD9AXS9nLGFjPS8jL2c7ZnVuY3Rpb24gV2IoYSl7dGhpcy5iPWF8fG51bGx9V2IucHJvdG90eXBlLmE9bnVsbDtXYi5wcm90b3R5cGUuYz1udWxsOwpmdW5jdGlvbiBkYyhhLGIsYyl7aWYoIWEuYSYmKGEuYT17fSxhLmM9MCxhLmIpKWZvcih2YXIgZD1hLmIuc3BsaXQoIiYiKSxlPTA7ZTxkLmxlbmd0aDtlKyspe3ZhciBmPWRbZV0uaW5kZXhPZigiPSIpLGc9bnVsbCxoPW51bGw7MDw9Zj8oZz1kW2VdLnN1YnN0cmluZygwLGYpLGg9ZFtlXS5zdWJzdHJpbmcoZisxKSk6Zz1kW2VdO2c9ZGVjb2RlVVJJQ29tcG9uZW50KGcucmVwbGFjZSgvXCsvZywiICIpKTtoPWh8fCIiO2RjKGEsZyxkZWNvZGVVUklDb21wb25lbnQoaC5yZXBsYWNlKC9cKy9nLCIgIikpKX1hLmI9bnVsbDsoZD1hLmEuaGFzT3duUHJvcGVydHkoYikmJmEuYVtiXSl8fChhLmFbYl09ZD1bXSk7ZC5wdXNoKGMpO2EuYysrfQpXYi5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtpZih0aGlzLmIpcmV0dXJuIHRoaXMuYjtpZighdGhpcy5hKXJldHVybiIiO3ZhciBhPVtdLGI7Zm9yKGIgaW4gdGhpcy5hKWZvcih2YXIgYz1lbmNvZGVVUklDb21wb25lbnQoYiksZD10aGlzLmFbYl0sZT0wO2U8ZC5sZW5ndGg7ZSsrKXt2YXIgZj1jOyIiIT09ZFtlXSYmKGYrPSI9IitlbmNvZGVVUklDb21wb25lbnQoZFtlXSkpO2EucHVzaChmKX1yZXR1cm4gdGhpcy5iPWEuam9pbigiJiIpfTtXYi5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgV2I7YS5iPXRoaXMuYjtpZih0aGlzLmEpe3ZhciBiPXt9LGM7Zm9yKGMgaW4gdGhpcy5hKWJbY109dGhpcy5hW2NdLmNvbmNhdCgpO2EuYT1iO2EuYz10aGlzLmN9cmV0dXJuIGF9O2Z1bmN0aW9uIGVjKGEsYixjKXt2YXIgZD1hLmluZGV4T2YoIjw/eG1sIik7MDw9ZCYmKGE9YS5zdWJzdHIoZCkpO2E9KG5ldyBET01QYXJzZXIpLnBhcnNlRnJvbVN0cmluZyhhLCJ0ZXh0L3htbCIpO2lmKCFhKXJldHVybiBudWxsOyJzdHJpbmciPT09dHlwZW9mIGImJihiPVtuZXcgTChiKV0pO2I9Ynx8W25ldyBMKCIiKV07Yz1jfHxbbmV3IEwoIiIpXTtyZXR1cm4gTSh7QWM6YixiYXNlVXJsOmN9LGEsZmMpfXEoInNoYWthLmRhc2gubXBkLnBhcnNlTXBkIixlYyk7CmZ1bmN0aW9uIGZjKCl7dGhpcy5pZD10aGlzLnVybD1udWxsO3RoaXMudHlwZT0ic3RhdGljIjt0aGlzLkZCSXNMaXZlVGVtcGxhdGVkPXRoaXMuRkJXYXNMaXZlPXRoaXMubWFuaWZlc3RJc0xpdmVTdHJlYW1pbmc9ITE7dGhpcy5GQk1hbmlmZXN0SWRlbnRpZmllcj0iIjt0aGlzLkZCTVM9ITE7dGhpcy51PXRoaXMuYmFzZVVybD10aGlzLkFjPW51bGw7dGhpcy5qPXRoaXMuaT10aGlzLmg9MDt0aGlzLmI9bnVsbDt0aGlzLm09NTt0aGlzLmY9dGhpcy5jPXRoaXMuZz1udWxsO3RoaXMubz0xO3RoaXMubGFzdFZpZGVvRnJhbWVUcz10aGlzLmN1cnJlbnRTZXJ2ZXJUaW1lTXM9MDt0aGlzLmE9W119ZnVuY3Rpb24gZ2MoKXt0aGlzLmY9dGhpcy5jPXRoaXMuYj10aGlzLmJhc2VVcmw9dGhpcy5kdXJhdGlvbj10aGlzLnN0YXJ0PXRoaXMuaWQ9bnVsbDt0aGlzLmE9W119CmZ1bmN0aW9uIGhjKCl7dGhpcy5jPXRoaXMuY29kZWNzPXRoaXMubWltZVR5cGU9dGhpcy5oZWlnaHQ9dGhpcy53aWR0aD10aGlzLmNvbnRlbnRUeXBlPXRoaXMubGFuZz10aGlzLmdyb3VwPXRoaXMuaWQ9bnVsbDt0aGlzLmY9ITE7dGhpcy5pPXRoaXMuaD10aGlzLmc9dGhpcy5iYXNlVXJsPW51bGw7dGhpcy5qPVtdO3RoaXMuYT1bXTt0aGlzLmI9bnVsbH1mdW5jdGlvbiBpYygpe3RoaXMudmFsdWU9bnVsbH1mdW5jdGlvbiBqYygpe3RoaXMubGFuZz10aGlzLmE9bnVsbH1mdW5jdGlvbiBrYygpe3RoaXMuY29udGVudFR5cGU9dGhpcy5sYW5nPXRoaXMuaWQ9bnVsbH1mdW5jdGlvbiBsYygpe3RoaXMuZGF0YT1udWxsfWZ1bmN0aW9uIG1jKCl7dGhpcy5kYXRhPW51bGx9CmZ1bmN0aW9uIG5jKCl7dGhpcy5hPXRoaXMuYj10aGlzLmY9dGhpcy5pPXRoaXMuYmFzZVVybD10aGlzLmo9dGhpcy5mcmFtZVJhdGU9dGhpcy51PXRoaXMubz10aGlzLm09dGhpcy5mYlF1YWxpdHlDbGFzcz10aGlzLmZiUXVhbGl0eUxhYmVsPXRoaXMuaD10aGlzLmc9dGhpcy5jb2RlY3M9dGhpcy5taW1lVHlwZT10aGlzLmhlaWdodD10aGlzLndpZHRoPXRoaXMuYmFuZHdpZHRoPXRoaXMubGFuZz10aGlzLmlkPW51bGw7dGhpcy5jPVtdfWZ1bmN0aW9uIG9jKCl7dGhpcy52YWx1ZT10aGlzLmE9bnVsbH1vYy5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgb2M7YS5hPXRoaXMuYTthLnZhbHVlPXRoaXMudmFsdWU7cmV0dXJuIGF9O29jLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMuYT1OKGIsInNjaGVtZUlkVXJpIixPLHRoaXMuYSk7dGhpcy52YWx1ZT1OKGIsInZhbHVlIixPLHRoaXMudmFsdWUpfTsKZnVuY3Rpb24gcGMoKXt0aGlzLmI9dGhpcy5hPXRoaXMuZj10aGlzLmM9bnVsbH1mdW5jdGlvbiBxYygpe3RoaXMucGFyc2VkUHNzaD10aGlzLnBzc2hCb3g9bnVsbH1mdW5jdGlvbiByYygpe3RoaXMudXJsPW51bGx9ZnVuY3Rpb24gc2MoKXt0aGlzLnVybD1udWxsfWZ1bmN0aW9uIHRjKCl7dGhpcy5iYXNlVXJsPW51bGw7dGhpcy5zPTE7dGhpcy5jPXRoaXMuYj10aGlzLmY9dGhpcy5hPXRoaXMuTD1udWxsfXRjLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyB0YzthLmJhc2VVcmw9dWModGhpcy5iYXNlVXJsKTthLnM9dGhpcy5zO2EuTD10aGlzLkw7YS5hPXZjKHRoaXMuYSk7YS5mPXZjKHRoaXMuZik7YS5iPXZjKHRoaXMuYik7YS5jPXZjKHRoaXMuYyk7cmV0dXJuIGF9O2Z1bmN0aW9uIHdjKCl7dGhpcy5hPXRoaXMudXJsPW51bGx9CndjLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyB3YzthLnVybD11Yyh0aGlzLnVybCk7YS5hPXZjKHRoaXMuYSk7cmV0dXJuIGF9O2Z1bmN0aW9uIHhjKCl7dGhpcy5hPXRoaXMudXJsPW51bGx9eGMucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IHhjO2EudXJsPXVjKHRoaXMudXJsKTthLmE9dmModGhpcy5hKTtyZXR1cm4gYX07ZnVuY3Rpb24geWMoKXt0aGlzLmJhc2VVcmw9bnVsbDt0aGlzLnM9MTt0aGlzLkg9dGhpcy5MPW51bGw7dGhpcy5jPTA7dGhpcy5iPW51bGw7dGhpcy5hPVtdO3RoaXMuQz1udWxsfXljLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyB5YzthLmJhc2VVcmw9dWModGhpcy5iYXNlVXJsKTthLnM9dGhpcy5zO2EuTD10aGlzLkw7YS5IPXRoaXMuSDthLmM9dGhpcy5jO2EuYj12Yyh0aGlzLmIpO2EuYT11Yyh0aGlzLmEpfHxbXTthLkM9dmModGhpcy5DKTtyZXR1cm4gYX07CmZ1bmN0aW9uIHpjKCl7dGhpcy5hPXRoaXMuYj1udWxsfXpjLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyB6YzthLmI9dWModGhpcy5iKTthLmE9dmModGhpcy5hKTtyZXR1cm4gYX07ZnVuY3Rpb24gQWMoKXt0aGlzLnM9MTt0aGlzLkg9dGhpcy5MPW51bGw7dGhpcy5iPTA7dGhpcy5DPXRoaXMuYz10aGlzLmE9dGhpcy5mPW51bGx9QWMucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IEFjO2Eucz10aGlzLnM7YS5MPXRoaXMuTDthLkg9dGhpcy5IO2EuYj10aGlzLmI7YS5mPXRoaXMuZjthLmE9dGhpcy5hO2EuYz10aGlzLmM7YS5DPXZjKHRoaXMuQyk7cmV0dXJuIGF9O2Z1bmN0aW9uIEJjKCl7dGhpcy5iPXRoaXMuYT1udWxsO3RoaXMuTj1bXX1CYy5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgQmM7YS5hPXRoaXMuYTthLmI9dGhpcy5iO2EuTj11Yyh0aGlzLk4pfHxbXTtyZXR1cm4gYX07CmZ1bmN0aW9uIENjKCl7dGhpcy5zdGFydFNlZ21lbnRJbmRleD10aGlzLnJlcGVhdD10aGlzLmR1cmF0aW9uPXRoaXMuc3RhcnRUaW1lPW51bGx9Q2MucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IENjO2Euc3RhcnRUaW1lPXRoaXMuc3RhcnRUaW1lO2EuZHVyYXRpb249dGhpcy5kdXJhdGlvbjthLnJlcGVhdD10aGlzLnJlcGVhdDtyZXR1cm4gYX07ZnVuY3Rpb24gRGMoYSxiKXt0aGlzLnFhPWE7dGhpcy5lbmQ9Yn1EYy5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IERjKHRoaXMucWEsdGhpcy5lbmQpfTtmYy5UQUdfTkFNRT0iTVBEIjtnYy5UQUdfTkFNRT0iUGVyaW9kIjtoYy5UQUdfTkFNRT0iQWRhcHRhdGlvblNldCI7aWMuVEFHX05BTUU9IlJvbGUiO2pjLlRBR19OQU1FPSJBY2Nlc3NpYmlsaXR5IjtrYy5UQUdfTkFNRT0iQ29udGVudENvbXBvbmVudCI7bmMuVEFHX05BTUU9IlJlcHJlc2VudGF0aW9uIjtwYy5UQUdfTkFNRT0iQ29udGVudFByb3RlY3Rpb24iOwpxYy5UQUdfTkFNRT0iY2VuYzpwc3NoIjtyYy5UQUdfTkFNRT0iQmFzZVVSTCI7b2MuVEFHX05BTUU9IkF1ZGlvQ2hhbm5lbENvbmZpZ3VyYXRpb24iO3NjLlRBR19OQU1FPSJMb2NhdGlvbiI7dGMuVEFHX05BTUU9IlNlZ21lbnRCYXNlIjt3Yy5UQUdfTkFNRT0iUmVwcmVzZW50YXRpb25JbmRleCI7bGMuVEFHX05BTUU9IkZCSW5pdGlhbGl6YXRpb25CaW5hcnkiO21jLlRBR19OQU1FPSJGQlNlZ21lbnRJbmRleEJpbmFyeSI7eGMuVEFHX05BTUU9IkluaXRpYWxpemF0aW9uIjt5Yy5UQUdfTkFNRT0iU2VnbWVudExpc3QiO3pjLlRBR19OQU1FPSJTZWdtZW50VVJMIjtBYy5UQUdfTkFNRT0iU2VnbWVudFRlbXBsYXRlIjtCYy5UQUdfTkFNRT0iU2VnbWVudFRpbWVsaW5lIjtDYy5UQUdfTkFNRT0iUyI7CmZjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMudXJsPWEuQWM7dGhpcy5pZD1OKGIsImlkIixPKTt0aGlzLnR5cGU9TihiLCJ0eXBlIixPKXx8InN0YXRpYyI7dGhpcy5tYW5pZmVzdElzTGl2ZVN0cmVhbWluZz0iZHluYW1pYyI9PT10aGlzLnR5cGU7dGhpcy5GQldhc0xpdmU9TihiLCJGQldhc0xpdmUiLEVjKXx8ITE7dGhpcy5GQklzTGl2ZVRlbXBsYXRlZD1OKGIsIkZCSXNMaXZlVGVtcGxhdGVkIixFYyl8fCExO3RoaXMuRkJNYW5pZmVzdElkZW50aWZpZXI9TihiLCJGQk1hbmlmZXN0SWRlbnRpZmllciIsTyl8fCIiO3RoaXMuRkJNUz1OKGIsIkZCTVMiLEVjKXx8ITE7VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJvdmVycmlkZV9mYl9pc19saXZlX3RlbXBsYXRlZCIsITEpJiYodGhpcy5GQklzTGl2ZVRlbXBsYXRlZD0hMSk7dGhpcy5iPU4oYiwibWVkaWFQcmVzZW50YXRpb25EdXJhdGlvbiIsRmMpO3RoaXMubT1OKGIsIm1pbkJ1ZmZlclRpbWUiLApGYyx0aGlzLm0pO3RoaXMuZz1OKGIsIm1pbmltdW1VcGRhdGVQZXJpb2QiLEZjLHRoaXMuZyk7dGhpcy5jPU4oYiwiYXZhaWxhYmlsaXR5U3RhcnRUaW1lIixHYyx0aGlzLmMpO3RoaXMuZj1OKGIsInRpbWVTaGlmdEJ1ZmZlckRlcHRoIixGYyx0aGlzLmYpO3RoaXMuY3VycmVudFNlcnZlclRpbWVNcz1OKGIsImN1cnJlbnRTZXJ2ZXJUaW1lTXMiLFApO04oYiwiZmlyc3RBdlRpbWVNcyIsUCk7dGhpcy5sYXN0VmlkZW9GcmFtZVRzPU4oYiwibGFzdFZpZGVvRnJhbWVUcyIsUCk7dGhpcy5mPW51bGw7dGhpcy5vPU4oYiwic3VnZ2VzdGVkUHJlc2VudGF0aW9uRGVsYXkiLEZjLHRoaXMubyk7dGhpcy5oPU4oYiwibG9hcFN0cmVhbVR5cGUiLEhjLHRoaXMuaCk7dGhpcy5pPU4oYiwidXNpbmdBU1JDYXB0aW9ucyIsSGMsdGhpcy5pKTt0aGlzLmo9TihiLCJpc1VzaW5nQXNyQ2FwdGlvbnNFbXBsb3llZURvZ2Zvb2RpbmciLEhjLHRoaXMuaik7dmFyIGM9YS5iYXNlVXJsLGQ9SWModGhpcywKYixyYyk7dGhpcy5iYXNlVXJsPUpjKGMsZCk7aWYoZD1NKHRoaXMsYixzYykpdGhpcy51PUtjKGMsZC51cmwpO3RoaXMuYT1JYyh0aGlzLGIsZ2MpfTtmdW5jdGlvbiBMYyhhLGIsYyxkKXtpZigwIT09YS5hLmxlbmd0aCl7dmFyIGU9bmV3IGhjO2UuY29udGVudFR5cGU9InRleHQiO2UubGFuZz1jfHwiZW4iO2UuZj0hMDtjPW5ldyBuYztjLmJhbmR3aWR0aD0wO2MubWltZVR5cGU9ZHx8InRleHQvdnR0IjtjLmJhc2VVcmw9W25ldyBMKGIpXTtlLmEucHVzaChjKTthLmFbMF0uYS5wdXNoKGUpO01jKGEuYVswXSl9fQpnYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt0aGlzLmlkPU4oYiwiaWQiLE8pO3RoaXMuc3RhcnQ9TihiLCJzdGFydCIsRmMpO3RoaXMuZHVyYXRpb249TihiLCJkdXJhdGlvbiIsRmMpO3ZhciBjPUljKHRoaXMsYixyYyk7dGhpcy5iYXNlVXJsPUpjKGEuYmFzZVVybCxjKTt0aGlzLmI9TSh0aGlzLGIsdGMpO3RoaXMuYz1NKHRoaXMsYix5Yyk7dGhpcy5mPU0odGhpcyxiLEFjKTt0aGlzLmE9SWModGhpcyxiLGhjKTtNYyh0aGlzKX07ZnVuY3Rpb24gTWMoYSl7Zm9yKHZhciBiPVtdLGM9MDtjPGEuYS5sZW5ndGg7KytjKXt2YXIgZD1hLmFbY107bnVsbCE9ZC5ncm91cCYmKGJbZC5ncm91cF09ITApfWZvcihjPTA7YzxhLmEubGVuZ3RoOysrYylpZihkPWEuYVtjXSxudWxsPT1kLmdyb3VwKXtmb3IodmFyIGU9MTsxPT1iW2VdOykrK2U7YltlXT0hMDtkLmdyb3VwPWV9fQpoYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt2YXIgYz1NKHRoaXMsYixrYyl8fHt9LGQ9TSh0aGlzLGIsaWMpO3RoaXMuaWQ9TihiLCJpZCIsTyk7dGhpcy5ncm91cD1OKGIsImdyb3VwIixQKTt0aGlzLmxhbmc9TihiLCJsYW5nIixPLGMubGFuZyk7dGhpcy5jb250ZW50VHlwZT1OKGIsImNvbnRlbnRUeXBlIixPLGMuY29udGVudFR5cGUpO3RoaXMud2lkdGg9TihiLCJ3aWR0aCIsUSk7dGhpcy5oZWlnaHQ9TihiLCJoZWlnaHQiLFEpO3RoaXMubWltZVR5cGU9TihiLCJtaW1lVHlwZSIsTyk7dGhpcy5jb2RlY3M9TihiLCJjb2RlY3MiLE8pO3RoaXMuYz1OKGIsIkZCUHJvamVjdGlvbiIsTyk7dGhpcy5mPWQmJiJtYWluIj09ZC52YWx1ZTt0aGlzLmxhbmcmJih0aGlzLmxhbmc9U2EodGhpcy5sYW5nKSk7Yz1JYyh0aGlzLGIscmMpO3RoaXMuYmFzZVVybD1KYyhhLmJhc2VVcmwsYyk7dGhpcy5qPUljKHRoaXMsYixwYyk7IXRoaXMuY29udGVudFR5cGUmJnRoaXMubWltZVR5cGUmJgoodGhpcy5jb250ZW50VHlwZT10aGlzLm1pbWVUeXBlLnNwbGl0KCIvIilbMF0pO3RoaXMuZz1hLmI/T2ModGhpcyxiLGEuYik6TSh0aGlzLGIsdGMpO3RoaXMuaD1hLmM/T2ModGhpcyxiLGEuYyk6TSh0aGlzLGIseWMpO3RoaXMuaT1hLmY/T2ModGhpcyxiLGEuZik6TSh0aGlzLGIsQWMpO3RoaXMuYT1JYyh0aGlzLGIsbmMpO3RoaXMuYj1NKHRoaXMsYixqYyk7IXRoaXMubWltZVR5cGUmJnRoaXMuYS5sZW5ndGgmJih0aGlzLm1pbWVUeXBlPXRoaXMuYVswXS5taW1lVHlwZSwhdGhpcy5jb250ZW50VHlwZSYmdGhpcy5taW1lVHlwZSYmKHRoaXMuY29udGVudFR5cGU9dGhpcy5taW1lVHlwZS5zcGxpdCgiLyIpWzBdKSl9O2ljLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMudmFsdWU9TihiLCJ2YWx1ZSIsTyl9O2pjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMuYT1OKGIsInNjaGVtZUlkVXJpIixPKTt0aGlzLmxhbmc9TihiLCJsYW5nIixPKX07CmtjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMuaWQ9TihiLCJpZCIsTyk7dGhpcy5sYW5nPU4oYiwibGFuZyIsTyk7dGhpcy5jb250ZW50VHlwZT1OKGIsImNvbnRlbnRUeXBlIixPKTt0aGlzLmxhbmcmJih0aGlzLmxhbmc9U2EodGhpcy5sYW5nKSl9OwpuYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt0aGlzLmlkPU4oYiwiaWQiLE8pO3RoaXMuYmFuZHdpZHRoPU4oYiwiYmFuZHdpZHRoIixRKTt0aGlzLndpZHRoPU4oYiwid2lkdGgiLFEsYS53aWR0aCk7dGhpcy5oZWlnaHQ9TihiLCJoZWlnaHQiLFEsYS5oZWlnaHQpO3RoaXMubWltZVR5cGU9TihiLCJtaW1lVHlwZSIsTyxhLm1pbWVUeXBlKTt0aGlzLmNvZGVjcz1OKGIsImNvZGVjcyIsTyxhLmNvZGVjcyk7dGhpcy5mYlF1YWxpdHlMYWJlbD1OKGIsIkZCUXVhbGl0eUxhYmVsIixPKTt0aGlzLmZiUXVhbGl0eUNsYXNzPU4oYiwiRkJRdWFsaXR5Q2xhc3MiLE8pO3RoaXMubT1OKGIsIkZCQWJyUG9saWN5VGFncyIsTyk7VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJtcGRfcGFyc2VfbW9zX2F0dHJpYnV0ZXMiLCExKSYmKHRoaXMubz1OKGIsIkZCUGxheWJhY2tSZXNvbHV0aW9uTW9zIixNb3NVdGlscy5wYXJzZVBsYXliYWNrTW9zKSx0aGlzLnU9TihiLAoiRkJQbGF5YmFja1Jlc29sdXRpb25Nb3NDb25maWRlbmNlTGV2ZWwiLE8pKTtWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woIm1wZF9wYXJzZV9mcmFtZV9hbmRfYXVkaW9fc2FtcGxpbmdfcmF0ZSIsITEpJiYodGhpcy5mcmFtZVJhdGU9TihiLCJmcmFtZVJhdGUiLE8pLHRoaXMuaj1OKGIsImF1ZGlvU2FtcGxpbmdSYXRlIixRKSk7dGhpcy5sYW5nPWEubGFuZzt2YXIgYz1JYyh0aGlzLGIscmMpO3RoaXMuYmFzZVVybD1KYyhhLmJhc2VVcmwsYyk7VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJhZGRfaW5saW5lX2luaXRpYWxpemF0aW9uX3Jlc291cmNlcyIsITEpJiYodGhpcy5nPU0odGhpcyxiLGxjKSx0aGlzLmg9TSh0aGlzLGIsbWMpKTt0aGlzLmM9SWModGhpcyxiLHBjKTt0aGlzLmk9TSh0aGlzLGIsb2MpO3RoaXMuZj1hLmc/T2ModGhpcyxiLGEuZyk6TSh0aGlzLGIsdGMpO3RoaXMuYj1hLmg/T2ModGhpcyxiLGEuaCk6TSh0aGlzLGIsCnljKTt0aGlzLmE9YS5pP09jKHRoaXMsYixhLmkpOk0odGhpcyxiLEFjKTt0aGlzLmM9dGhpcy5jLmNvbmNhdChhLmopfTtsYy5wcm90b3R5cGUucGFyc2U9bWMucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7aWYoYiYmYi5maXJzdENoaWxkKXt2YXIgYz1QYyhiKTtudWxsIT1jJiYodGhpcy5kYXRhPUtiKGMpLmJ1ZmZlcil9fTtwYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt0aGlzLmM9Yjt0aGlzLmY9TihiLCJzY2hlbWVJZFVyaSIsTyk7dmFyIGM9TihiLCJjZW5jOmRlZmF1bHRfS0lEIixPKTtjJiYodGhpcy5iPWMucmVwbGFjZSgvWy1dL2csIiIpKTt0aGlzLmE9TSh0aGlzLGIscWMpfTsKcWMucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dmFyIGM9UGMoYik7aWYoYyl7dGhpcy5wc3NoQm94PUtiKGMpO3RyeXt0aGlzLnBhcnNlZFBzc2g9bmV3IFFiKHRoaXMucHNzaEJveCl9Y2F0Y2goZCl7aWYoIShkIGluc3RhbmNlb2YgUmFuZ2VFcnJvcikpdGhyb3cgZDt9fX07cmMucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dmFyIGM9Yi5jaGlsZE5vZGVzLGQ9IiI7aWYoMT09Yy5sZW5ndGgpZD1QYyhiKTtlbHNlIGZvcih2YXIgZT0wO2U8Yy5sZW5ndGg7ZSsrKWNbZV0ubm9kZVR5cGU9PU5vZGUuVEVYVF9OT0RFJiYoZCs9Y1tlXS5ub2RlVmFsdWUpO3RoaXMudXJsPWR9O3NjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMudXJsPVBjKGIpfTsKdGMucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dGhpcy5iYXNlVXJsPWEuYmFzZVVybHx8dGhpcy5iYXNlVXJsO3RoaXMucz1OKGIsInRpbWVzY2FsZSIsUSx0aGlzLnMpO3RoaXMuTD1OKGIsInByZXNlbnRhdGlvblRpbWVPZmZzZXQiLFAsdGhpcy5MKTt0aGlzLmE9TihiLCJpbmRleFJhbmdlIixRYyx0aGlzLmEpO3RoaXMuZj1OKGIsIkZCRmlyc3RTZWdtZW50UmFuZ2UiLFFjLHRoaXMuZik7dGhpcy5iPU0odGhpcyxiLHdjKXx8dGhpcy5iO3RoaXMuYz1NKHRoaXMsYix4Yyl8fHRoaXMuY307d2MucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dmFyIGM9TihiLCJzb3VyY2VVUkwiLE8pO3RoaXMudXJsPUtjKGEuYmFzZVVybCxjKTt0aGlzLmE9TihiLCJyYW5nZSIsUWMsdmMoYS5hKSl9Owp4Yy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt2YXIgYz1OKGIsInNvdXJjZVVSTCIsTyk7dGhpcy51cmw9S2MoYS5iYXNlVXJsLGMpO3RoaXMuYT1OKGIsInJhbmdlIixRYyl9Owp5Yy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt0aGlzLmJhc2VVcmw9YS5iYXNlVXJsfHx0aGlzLmJhc2VVcmw7dGhpcy5zPU4oYiwidGltZXNjYWxlIixRLHRoaXMucyk7dGhpcy5MPU4oYiwicHJlc2VudGF0aW9uVGltZU9mZnNldCIsUCx0aGlzLkwpO3RoaXMuSD1OKGIsImR1cmF0aW9uIixRLHRoaXMuSCk7dmFyIGM9TihiLCJzdGFydE51bWJlciIsUSk7bnVsbCE9YyYmKHRoaXMuYz1jKTt0aGlzLmI9TSh0aGlzLGIseGMpfHx0aGlzLmI7dGhpcy5hPShjPUljKHRoaXMsYix6YykpJiYwPGMubGVuZ3RoP2M6dGhpcy5hO3RoaXMuQz1NKHRoaXMsYixCYyl8fHRoaXMuQztWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImNhbGN1bGF0ZV9xdWlja19kYXNoX3ByZXNlbnRhdGlvbl90aW1lX29mZnNldF9mcm9tX3RpbWVsaW5lIiwhMSkmJihjPVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJjYWxjdWxhdGVfcXVpY2tfZGFzaF9wcmVzZW50YXRpb25fdGltZV9vZmZzZXRfZXBzaWxvbl9tcyIsCjI1MCksdGhpcy5DJiZ0aGlzLkMuTlswXSYmKHRoaXMuTD0xRTM8dGhpcy5DLk5bMF0uc3RhcnRUaW1lP3RoaXMuQy5OWzBdLnN0YXJ0VGltZS1jOnRoaXMuTCkpfTt6Yy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt2YXIgYz1OKGIsIm1lZGlhIixPKTt0aGlzLmI9S2MoYS5iYXNlVXJsLGMpO3RoaXMuYT1OKGIsIm1lZGlhUmFuZ2UiLFFjKX07CkFjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMucz1OKGIsInRpbWVzY2FsZSIsUSx0aGlzLnMpO3RoaXMuTD1OKGIsInByZXNlbnRhdGlvblRpbWVPZmZzZXQiLFAsdGhpcy5MKTt0aGlzLkg9TihiLCJkdXJhdGlvbiIsUSx0aGlzLkgpO3ZhciBjPU4oYiwic3RhcnROdW1iZXIiLFApO251bGwhPWMmJih0aGlzLmI9Yyk7dGhpcy5mPU4oYiwibWVkaWEiLE8sdGhpcy5mKTt0aGlzLmE9TihiLCJpbmRleCIsTyx0aGlzLmEpO3RoaXMuYz1OKGIsImluaXRpYWxpemF0aW9uIixPLHRoaXMuYyk7dGhpcy5DPU0odGhpcyxiLEJjKXx8dGhpcy5DfTtCYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt0aGlzLmE9TihiLCJGQlByZWRpY3RlZE1lZGlhIixPLHRoaXMuYSk7dGhpcy5iPU4oYiwiRkJQcmVkaWN0ZWRNZWRpYUVuZE51bWJlciIsUSk7dGhpcy5OPUljKHRoaXMsYixDYyl9OwpDYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt0aGlzLnN0YXJ0VGltZT1OKGIsInQiLFApO3RoaXMuZHVyYXRpb249TihiLCJkIixQKTt0aGlzLnJlcGVhdD1OKGIsInIiLEhjKX07ZnVuY3Rpb24gSmMoYSxiKXtpZighYnx8MD09PWIubGVuZ3RoKXJldHVybiBhO2Zvcih2YXIgYz1bXSxkPTA7ZDxiLmxlbmd0aDtkKyspe3ZhciBlPWJbZF0udXJsO251bGw9PWF8fDA9PT1hLmxlbmd0aD9jLnB1c2gobmV3IEwoZSkpOihlPUtjKGEuc2xpY2UoMCwxKSxlKSxjLnB1c2goZVswXSkpfXJldHVybiBjfWZ1bmN0aW9uIEtjKGEsYil7aWYoIWIpcmV0dXJuIGE7dmFyIGM9bmV3IEwoYik7cmV0dXJuIGE/YS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVzb2x2ZShjKX0pOltjXX1mdW5jdGlvbiBPYyhhLGIsYyl7dmFyIGQ9dmMoYyk7KGI9UmMoYixjLmNvbnN0cnVjdG9yLlRBR19OQU1FKSkmJmQucGFyc2UoYSxiKTtyZXR1cm4gZH0KZnVuY3Rpb24gTShhLGIsYyl7dmFyIGQ9bnVsbDtpZihiPVJjKGIsYy5UQUdfTkFNRSkpZD1uZXcgYyxkLnBhcnNlKGEsYik7cmV0dXJuIGR9ZnVuY3Rpb24gUmMoYSxiKXtmb3IodmFyIGM9bnVsbCxkPTA7ZDxhLmNoaWxkTm9kZXMubGVuZ3RoO2QrKylpZihhLmNoaWxkTm9kZXNbZF0udGFnTmFtZT09Yil7aWYoYylyZXR1cm4gbnVsbDtjPWEuY2hpbGROb2Rlc1tkXX1yZXR1cm4gY31mdW5jdGlvbiBJYyhhLGIsYyl7Zm9yKHZhciBkPVtdLGU9MDtlPGIuY2hpbGROb2Rlcy5sZW5ndGg7ZSsrKWlmKGIuY2hpbGROb2Rlc1tlXS50YWdOYW1lPT1jLlRBR19OQU1FKXt2YXIgZj1uZXcgYztmLnBhcnNlLmNhbGwoZixhLGIuY2hpbGROb2Rlc1tlXSk7ZC5wdXNoKGYpfXJldHVybiBkfWZ1bmN0aW9uIFBjKGEpe2E9YS5maXJzdENoaWxkO3JldHVybiBhLm5vZGVUeXBlIT1Ob2RlLlRFWFRfTk9ERT9udWxsOmEubm9kZVZhbHVlfQpmdW5jdGlvbiB1YyhhKXtyZXR1cm4gYT9hLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS5jbG9uZSgpfSk6bnVsbH1mdW5jdGlvbiB2YyhhKXtyZXR1cm4gYT9hLmNsb25lKCk6bnVsbH1mdW5jdGlvbiBOKGEsYixjLGQpe2E9YS5oYXNBdHRyaWJ1dGUoYik/YyhhLmdldEF0dHJpYnV0ZShiKSk6bnVsbDtyZXR1cm4gbnVsbCE9YT9hOnZvaWQgMCE9PWQ/ZDpudWxsfWZ1bmN0aW9uIEdjKGEpe2lmKCFhKXJldHVybiBudWxsO2E9RGF0ZS5wYXJzZShhKTtyZXR1cm4gaXNOYU4oYSk/bnVsbDpNYXRoLmZsb29yKGEvMUUzKX0KZnVuY3Rpb24gRmMoYSl7aWYoIWEpcmV0dXJuIG51bGw7dmFyIGI9L15QKD86KFswLTldKilZKT8oPzooWzAtOV0qKU0pPyg/OihbMC05XSopRCk/KD86VCg/OihbMC05XSopSCk/KD86KFswLTldKilNKT8oPzooWzAtOS5dKilTKT8pPyQvLmV4ZWMoYSk7aWYoIWIpcmV0dXJuIG51bGw7YT0wO3ZhciBjPVAoYlsxXSk7YyYmKGErPTMxNTM2RTMqYyk7KGM9UChiWzJdKSkmJihhKz0yNTkyRTMqYyk7KGM9UChiWzNdKSkmJihhKz04NjQwMCpjKTsoYz1QKGJbNF0pKSYmKGErPTM2MDAqYyk7KGM9UChiWzVdKSkmJihhKz02MCpjKTtiPXdpbmRvdy5wYXJzZUZsb2F0KGJbNl0pOyhiPWlzTmFOKGIpP251bGw6YikmJihhKz1iKTtyZXR1cm4gYX0KZnVuY3Rpb24gUWMoYSl7dmFyIGI9LyhbMC05XSspLShbMC05XSspLy5leGVjKGEpO2lmKCFiKXJldHVybiBudWxsO2E9UChiWzFdKTtpZihudWxsPT1hKXJldHVybiBudWxsO2I9UChiWzJdKTtyZXR1cm4gbnVsbD09Yj9udWxsOm5ldyBEYyhhLGIpfWZ1bmN0aW9uIEhjKGEpe2E9d2luZG93LnBhcnNlSW50KGEsMTApO3JldHVybiBpc05hTihhKT9udWxsOmF9ZnVuY3Rpb24gUShhKXthPXdpbmRvdy5wYXJzZUludChhLDEwKTtyZXR1cm4gMDxhP2E6bnVsbH1mdW5jdGlvbiBQKGEpe2E9d2luZG93LnBhcnNlSW50KGEsMTApO3JldHVybiAwPD1hP2E6bnVsbH1mdW5jdGlvbiBFYyhhKXtzd2l0Y2goYS50b0xvd2VyQ2FzZSgpKXtjYXNlICJ0cnVlIjpyZXR1cm4hMDtjYXNlICJmYWxzZSI6cmV0dXJuITE7ZGVmYXVsdDpyZXR1cm4gbnVsbH19ZnVuY3Rpb24gTyhhKXtyZXR1cm4gYX07ZnVuY3Rpb24gU2MoYSxiKXt0aGlzLnVybD1hO3RoaXMuYj1ifHxuZXcgdGI7dGhpcy5qPTA7dGhpcy5nPS0xO3RoaXMuaD10aGlzLmk9MDt0aGlzLmE9bnVsbDt0aGlzLmM9bmV3IEk7dGhpcy5mPW51bGw7dGhpcy5vPXRoaXMuYi5pO3RoaXMubD10aGlzLmIubX1xKCJzaGFrYS51dGlsLkFqYXhSZXF1ZXN0IixTYyk7CmZ1bmN0aW9uIHRiKCl7dGhpcy5ib2R5PW51bGw7dGhpcy5OYT0xO3RoaXMuYz0xRTM7dGhpcy5iPTA7dGhpcy5tZXRob2Q9IkdFVCI7dGhpcy5yZXNwb25zZVR5cGU9ImFycmF5YnVmZmVyIjt0aGlzLlFhPXt9O3RoaXMuZz10aGlzLndpdGhDcmVkZW50aWFscz0hMTt0aGlzLmRhPXRoaXMuYT10aGlzLnU9bnVsbDt0aGlzLmo9ITE7dGhpcy5oPXRoaXMubT10aGlzLmk9dGhpcy5taW1lVHlwZT1udWxsO3RoaXMubz0hMTt0aGlzLnc9LyguKilcLih4eHxmbmEpXC5mYmNkblwubmV0Lzt0aGlzLmY9L2xpdmVzdHJlYW0tbG9va2FzaWRlXC4oZmFjZWJvb2t8d29ya3BsYWNlKVwuY29tJC99dmFyIFRjPSEwO2Z1bmN0aW9uIFVjKGEpe1ZjKGEpO1djKGEpO2EuYi5ib2R5PW51bGw7YS5jLmRlc3Ryb3koKTthLmM9bnVsbDthLmY9bnVsbH0KZnVuY3Rpb24gV2MoYSl7YS5hJiYoYS5hLm9ubG9hZD1udWxsLGEuYS5vbnJlYWR5c3RhdGVjaGFuZ2U9bnVsbCxhLmEub25lcnJvcj1udWxsLGEuYS5vbnRpbWVvdXQ9bnVsbCk7YS5hPW51bGx9ZnVuY3Rpb24gVmMoYSl7LTEhPT1hLmcmJihjbGVhclRpbWVvdXQoYS5nKSxhLmc9LTEpfQpTYy5wcm90b3R5cGUubT1mdW5jdGlvbigpe2lmKHRoaXMuYSlyZXR1cm4gdGhpcy5jO2lmKDA9PXRoaXMudXJsLmxhc3RJbmRleE9mKCJkYXRhOiIsMCkpe3ZhciBhPXRoaXMudXJsLnNwbGl0KCI6IilbMV0uc3BsaXQoIjsiKS5wb3AoKS5zcGxpdCgiLCIpLGI9YS5wb3AoKSxiPSJiYXNlNjQiPT1hLnBvcCgpP3dpbmRvdy5hdG9iKGIucmVwbGFjZSgvLS9nLCIrIikucmVwbGFjZSgvXy9nLCIvIikpOndpbmRvdy5kZWNvZGVVUklDb21wb25lbnQoYik7ImFycmF5YnVmZmVyIj09dGhpcy5iLnJlc3BvbnNlVHlwZSYmKGI9SmIoYikuYnVmZmVyKTthPUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkobmV3IFhNTEh0dHBSZXF1ZXN0KSk7YS5yZXNwb25zZT1iO2EucmVzcG9uc2VUZXh0PWIudG9TdHJpbmcoKTtiPXRoaXMuYztiLnJlc29sdmUoYSk7VWModGhpcyk7cmV0dXJuIGJ9aWYoMD09dGhpcy51cmwubGFzdEluZGV4T2YoImlkYjoiLDApKXJldHVybiB0aGlzLnUoKTt0aGlzLmorKzsKdGhpcy5pPXBlcmZvcm1hbmNlTm93KCk7dGhpcy5ofHwodGhpcy5oPXRoaXMuYi5jKTt0aGlzLmE9bmV3IFhNTEh0dHBSZXF1ZXN0O3ZhciBjPXRoaXMudXJsLGE9bmV3IEwoYyk7VGMmJih0aGlzLmYmJiF0aGlzLmYuc3VwcG9ydHNDYWNoaW5nKCl8fHRoaXMuYi5nKSYmZGMoYS5hLCJfIixEYXRlLm5vdygpKTtjPXRoaXMuYi53LnRlc3QoYyk7aWYobnVsbCE9dGhpcy5iLmEmJmMpe3ZhciBkPXRoaXMuYi5hLGU9YS5hO251bGwhPWQuYSYmKGQuaD1kLmEuZ2V0U2VnbWVudHNUb1B1c2goKSxkLmY9ZC5hLmdldFNlZ21lbnRTdGFydFRpbWUoKSxkLmc9ZC5hLmdldFNlZ21lbnRPZmZzZXQoKSxkLmM9ZC5hLmdldFB1c2hWaWRlb1JlcHJlc2VudGF0aW9uSUQoKSxkLmI9ZC5hLmdldFB1c2hBdWRpb1JlcHJlc2VudGF0aW9uSUQoKSxkLmo9ZC5hLmdldFVzZUxvbmdDYWNoZUZvck1hbmlmZXN0KCkpO251bGwhPWQuaCYmZGMoZSwiX25jX3BfbiIsZC5oKTtudWxsIT1kLmY/ZGMoZSwiX25jX3BfdHMiLApkLmYpOm51bGwhPWQuZyYmZGMoZSwiX25jX3BfbyIsZC5nKTtudWxsIT1kLmMmJm51bGwhPWQuYiYmKGRjKGUsIl9uY19wX3JpZCIsZC5jKSxkYyhlLCJfbmNfcF9hcmlkIixkLmIpKTtkLmkmJmRjKGUsIl9uY19wX2RiZyIsIjEiKTtkLmomJmRjKGUsIl9uY19uYyIsIjEiKX0xPT10aGlzLmIuaiYmYyYmZGMoYS5hLCJfbmNfcGxheWluZyIsMSk7dGhpcy5iLm8mJmRjKGEuYSwiX25jX3NjIiwxKTtjPWEudG9TdHJpbmcoKTthPXRoaXMuYi5mLnRlc3QoYS5oYSk7dGhpcy5hLm9wZW4odGhpcy5iLm1ldGhvZCxjLCEwKTt0aGlzLmEucmVzcG9uc2VUeXBlPXRoaXMuYi5yZXNwb25zZVR5cGU7dGhpcy5hLnRpbWVvdXQ9dGhpcy5iLmI7dGhpcy5hLndpdGhDcmVkZW50aWFscz10aGlzLmIud2l0aENyZWRlbnRpYWxzfHxhO3NldEV2ZW50UHJvcGVydHkodGhpcy5hLCJvbmxvYWQiLHRoaXMuZmQuYmluZCh0aGlzKSk7c2V0RXZlbnRQcm9wZXJ0eSh0aGlzLmEsIm9ucmVhZHlzdGF0ZWNoYW5nZSIsCnRoaXMubGQuYmluZCh0aGlzKSk7c2V0RXZlbnRQcm9wZXJ0eSh0aGlzLmEsIm9uZXJyb3IiLHRoaXMuZGQuYmluZCh0aGlzKSk7c2V0RXZlbnRQcm9wZXJ0eSh0aGlzLmEsIm9udGltZW91dCIsdGhpcy5xZC5iaW5kKHRoaXMpKTtzZXRFdmVudFByb3BlcnR5KHRoaXMuYSwib25hYm9ydCIsdGhpcy4kYy5iaW5kKHRoaXMpKTtmb3IoYiBpbiB0aGlzLmIuUWEpdGhpcy5hLnNldFJlcXVlc3RIZWFkZXIoYix0aGlzLmIuUWFbYl0pO3RoaXMuYS5zZW5kKHRoaXMuYi5ib2R5KTtyZXR1cm4gdGhpcy5jfTtTYy5wcm90b3R5cGUuc2VuZD1TYy5wcm90b3R5cGUubTsKZnVuY3Rpb24gWGMoYSxiLGMpe2I9RXJyb3IoYik7Yi50eXBlPWM7Yi5zdGF0dXM9YS5hLnN0YXR1cztiLnVybD1hLnVybDtWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImVuYWJsZV9kb3VibGVfaW5nZXN0IiwhMSkmJihiLnJlc3BvbnNlSGVhZGVycz1wYXJzZUhlYWRlcnMoYS5hLmdldEFsbFJlc3BvbnNlSGVhZGVycygpKSk7Yi5tZXRob2Q9YS5iLm1ldGhvZDtiLmJvZHk9YS5iLmJvZHk7cmV0dXJuIGJ9bj1TYy5wcm90b3R5cGU7bi5hYm9ydD1mdW5jdGlvbigpe1ZjKHRoaXMpO2lmKHRoaXMuYSYmdGhpcy5hLnJlYWR5U3RhdGUhPVhNTEh0dHBSZXF1ZXN0LkRPTkUmJih0aGlzLmEuYWJvcnQoKSwhVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJmaXhfc2hha2FfdXRpbF9hamF4X3JlcXVlc3RfYWJvcnQiLCEwKSkpe3ZhciBhPVhjKHRoaXMsIlJlcXVlc3QgYWJvcnRlZC4iLCJhYm9ydGVkIik7dGhpcy5jLnJlamVjdChhKTtVYyh0aGlzKX19OwpuLiRjPWZ1bmN0aW9uKCl7aWYoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJmaXhfc2hha2FfdXRpbF9hamF4X3JlcXVlc3RfYWJvcnQiLCEwKSl7dmFyIGE9WGModGhpcywiUmVxdWVzdCBhYm9ydGVkLiIsImFib3J0ZWQiKTt0aGlzLmMucmVqZWN0KGEpO1VjKHRoaXMpfX07Cm4uZmQ9ZnVuY3Rpb24oYSl7aWYodGhpcy5mKXt2YXIgYj1WaWRlb1BsYXllclJlc291cmNlVGltZXIuZ2V0UmVzb3VyY2VUaW1pbmdFbnRyeSh0aGlzLnVybCx0aGlzLmkscGVyZm9ybWFuY2VOb3coKSk7dGhpcy5mLnNhbXBsZShwZXJmb3JtYW5jZU5vdygpLXRoaXMuaSxhLmxvYWRlZHx8dGhpcy5hLnJlc3BvbnNlJiZ0aGlzLmEucmVzcG9uc2UuYnl0ZUxlbmd0aHx8MCx0aGlzLmIubWltZVR5cGU/InYiPT09dGhpcy5iLm1pbWVUeXBlLmNoYXJBdCgwKTohMSxiLHRoaXMubyx0aGlzLmwsVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJldmFsdWF0ZV9hYnJfb25fZmV0Y2hfZW5kIiwhMSkpfWE9WzQwM107MjAwPD10aGlzLmEuc3RhdHVzJiYyOTk+PXRoaXMuYS5zdGF0dXM/KFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgiZW5hYmxlX2RvdWJsZV9pbmdlc3QiLCExKSYmbnVsbCE9cGFyc2VIZWFkZXJzKHRoaXMuYS5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSlbIngtZmItdmlkZW8tcmVwbGljYSJdPwooYT1YYyh0aGlzLCJIVFRQIGVycm9yLiIsIm5ldCIpLHRoaXMuYy5yZWplY3QoYSkpOnRoaXMuYy5yZXNvbHZlKHRoaXMuYSksVWModGhpcykpOiFWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInJlbW92ZV9hamF4X3Jlc2VuZF9pbnRlcm5hbCIsITApJiZ0aGlzLmo8dGhpcy5iLk5hJiYtMT09PWEuaW5kZXhPZih0aGlzLmEuc3RhdHVzKT9ZYyh0aGlzKTooYT1YYyh0aGlzLCJIVFRQIGVycm9yLiIsIm5ldCIpLHRoaXMuYy5yZWplY3QoYSksVWModGhpcykpfTsKbi5sZD1mdW5jdGlvbigpe2lmKHRoaXMuYS5yZWFkeVN0YXRlPT1YTUxIdHRwUmVxdWVzdC5IRUFERVJTX1JFQ0VJVkVEJiYodGhpcy5hLllhPURhdGUubm93KCktdGhpcy5pLHRoaXMuYi5hJiZ0aGlzLmIuZGEmJnRoaXMuYi5kYS5hZGRQdXNoRGF0YUZyb21YSFIodGhpcy5hKSx0aGlzLmIuaCYmdGhpcy5iLmguaGFuZGxlWEhSKHRoaXMuYSksVmlkZW9DbGllbnRFZGdlQ29vcGVyYXRpb24udXBkYXRlRnJvbVhIUih0aGlzLmEpLHRoaXMuYi5nKSl7dmFyIGE9RGF0ZS5wYXJzZSh0aGlzLmEuZ2V0UmVzcG9uc2VIZWFkZXIoIkRhdGUiKSk7YSYmKHphPWEtRGF0ZS5ub3coKSl9fTtuLmRkPWZ1bmN0aW9uKCl7dmFyIGE9WGModGhpcywiTmV0d29yayBmYWlsdXJlLiIsIm5ldCIpO3RoaXMuYy5yZWplY3QoYSk7VWModGhpcyl9OwpuLnFkPWZ1bmN0aW9uKCl7aWYoIVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgicmVtb3ZlX2FqYXhfcmVzZW5kX2ludGVybmFsIiwhMCkmJnRoaXMuajx0aGlzLmIuTmEpWWModGhpcyk7ZWxzZXt2YXIgYT1YYyh0aGlzLCJSZXF1ZXN0IHRpbWVkIG91dC4iLCJuZXQiKTt0aGlzLmMucmVqZWN0KGEpO1VjKHRoaXMpfX07ZnVuY3Rpb24gWWMoYSl7V2MoYSk7YS5nPXNldFRpbWVvdXQoZnVuY3Rpb24oKXt0aGlzLmc9LTE7dGhpcy5tKCl9LmJpbmQoYSksYS5oKigxKy41KigyKk1hdGgucmFuZG9tKCktMSkpKTthLmgqPTJ9O2Z1bmN0aW9uIEsoYSxiLGMsZCxlLGYpe3RoaXMuYz1iO3RoaXMuc3RhcnRCeXRlPWN8fDA7dGhpcy5iYXNlVXJsPXRoaXMudG9TdHJpbmcoKTt0aGlzLmVuZEJ5dGU9bnVsbCE9ZD9kOm51bGw7dGhpcy5pc1ByZWRpY3RpdmU9ZXx8ITE7dGhpcy5mPW51bGw7dGhpcy5tPTA7dGhpcy5BPSExO3RoaXMuTmM9dGhpcy5nPW51bGw7dGhpcy5vPWE7dGhpcy5pPW51bGw7dGhpcy5qPXRoaXMudT0hMTt0aGlzLmI9dGhpcy5hPW51bGw7dGhpcy5oPWZ8fG51bGx9cSgic2hha2EudXRpbC5GYWlsb3ZlclVyaSIsSyk7Sy5wcm90b3R5cGUudz1mdW5jdGlvbihhKXt0aGlzLkE9YX07Sy5wcm90b3R5cGUuc2V0U2hvdWxkUmVhZFhGYlZpZGVvQnJvYWRjYXN0RW5kZWRIZWFkZXI9Sy5wcm90b3R5cGUudztLLnByb3RvdHlwZS5EPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubX07Sy5wcm90b3R5cGUuZ2V0RmJWaWRlb0Jyb2FkY2FzdEVuZGVkUmVzcG9uc2VIZWFkZXI9Sy5wcm90b3R5cGUuRDsKSy5wcm90b3R5cGUuRj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YXJ0Qnl0ZX07Sy5wcm90b3R5cGUuZ2V0U3RhcnRCeXRlPUsucHJvdG90eXBlLkY7Sy5wcm90b3R5cGUuQj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVuZEJ5dGV9O0sucHJvdG90eXBlLmdldEVuZEJ5dGU9Sy5wcm90b3R5cGUuQjtmdW5jdGlvbiBaYyhhLGIpe3JldHVybiBhJiYwIT09YS5sZW5ndGg/YS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVzb2x2ZShiKX0pOltiXX1uPUsucHJvdG90eXBlO24uZmV0Y2g9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxoKXtyZXR1cm4gdGhpcy5mP3RoaXMuZjp0aGlzLmY9JGModGhpcywwLGF8fG5ldyB0YixiLGMsZCxlLGYsZyxoKX07bi5zdHJlYW09ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxoLGspe3JldHVybiBhZCh0aGlzLDAsYXx8bmV3IHRiLGIsYyxkLGUsZixnLGgsayl9OwpmdW5jdGlvbiAkYyhhLGIsYyxkLGUsZixnLGgsayxsKXtyZXR1cm4gYWQoYSxiLGMsZCxlLGYsZyxoLGssbCkudGhlbihmdW5jdGlvbihhKXt2YXIgYixjPWZ1bmN0aW9uKCl7cmV0dXJuIGEucmVhZCgpLnRoZW4oZnVuY3Rpb24oYSl7dmFyIGQ9YS52YWx1ZTtpZihhLmRvbmUpcmV0dXJuIGJ8fG5ldyBBcnJheUJ1ZmZlcigwKTtkJiYoInN0cmluZyI9PT10eXBlb2YgZD9iPShifHwiIikrZDpiPWNvbmNhdEFycmF5QnVmZmVyKGJ8fG5ldyBBcnJheUJ1ZmZlcigwKSxkKSk7cmV0dXJuIGMoKX0uYmluZCh0aGlzKSl9LmJpbmQodGhpcyk7cmV0dXJuIGMoKX0pfQpuLkthPWZ1bmN0aW9uKCl7dGhpcy5nJiYodGhpcy5hPXRoaXMuZj1udWxsLHRoaXMuZy5hYm9ydCgpLHRoaXMuaT10aGlzLmc9bnVsbCk7dGhpcy5OYyYmVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJlbmFibGVfcDJwX3N1cHBvcnQiLCExKSYmKHRoaXMuRy5hYm9ydCgpLHRoaXMuRz1udWxsKTt0aGlzLmImJih0aGlzLmIuYWJvcnRSZXF1ZXN0KGJkKHRoaXMpKSxWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImZpeGluZ19zY2hlZHVsZXJfZGlzYWJsZV9sZWFrcyIsITApJiYodGhpcy5iPW51bGwpKX07CmZ1bmN0aW9uIGFkKGEsYixjLGQsZSxmLGcsaCxrLGwsbSl7YS5iPWx8fG51bGw7dmFyIHA7ZSYmKGMuYSYmKGMuYS5pPSEwKSxsPTAsYy5kYSYmKGw9Yy5kYS5nZXRQdXNoQ291bnRGb3JVcmwoYS5jW2JdLnRvU3RyaW5nKCkpKSwocD1lLmdldE9wZXJhdGlvbkxvZ2dlcigicmVxdWVzdCIpKSYmcC5zZXRSZWFzb24oa3x8bnVsbCkuc2V0UHVzaGVkKGwpLnNldFR5cGUoaHx8bnVsbCkuc2V0SW5pdGlhdG9yKCJzaGFrYSIpLnN0YXJ0KCksZiYmKHA9cC5zZXRQYXJlbnRMb2dnZXIoZikpKTt2YXIgdD1wZXJmb3JtYW5jZU5vdygpO2EuYT1udWxsO2cmJihjLmk9Zyk7ZSYmKGMubT1lKTt2YXIgdz1jZChhLGEuY1tiXSxjKTtrPW51bGw7YS5qPSExO3ZhciB6PVZpZGVvRGFzaFByZWZldGNoQ2FjaGUuZ2V0Q2FjaGVWYWx1ZSh3KTt6JiYoaz16LGEuaj0hMCxwJiYocC5zZXRDb25uZWN0aW9uUXVhbGl0eUxldmVsKFZpZGVvRGFzaFByZWZldGNoQ2FjaGUuZ2V0Q29ubmVjdGlvblF1YWxpdHlMZXZlbCh3KSksCnAuc2V0SW5pdGlhdG9yKCJwcmVmZXRjaCIpKSk7aWYoIXomJm0pcmV0dXJuIG0uZ2V0U3RyZWFtKGJkKGEpKS50aGVuKGZ1bmN0aW9uKGEpe3JldHVybiBhLmdldFJlYWRlcigpfS5iaW5kKGEpKTttPW51bGw7aWYoYS5iJiYhYS5iLmlzRGlzYWJsZWQoKSYmIWspdHJ5eyhrPW09YS5iLmdldFByb21pc2UoYmQoYSkpKT9wPW51bGw6YS5iLmRpc2FibGUoKX1jYXRjaChIKXtlJiZlLmdldEV2ZW50TG9nZ2VyKCJyZXF1ZXN0X2luZm9fbm90X2ZvdW5kIikuc2V0UmVzb3VyY2UodykubG9nKCl9IWsmJmEuaCYmYS5oLmNyZWF0ZVByb21pc2UmJihtPW5ldyBMKHcpLG09Yy5mLnRlc3QobS5oYSksaz1hLmguY3JlYXRlUHJvbWlzZSh7dXJsOncscmVzcG9uc2VUeXBlOmMucmVzcG9uc2VUeXBlLE9kOmMuYyxLZDoyLE5hOmMuTmEsd2l0aENyZWRlbnRpYWxzOmMud2l0aENyZWRlbnRpYWxzfHxtLFFhOmMuUWF9LGZ1bmN0aW9uKGEpe3RoaXMuTmM9YTt2YXIgYj1wZXJmb3JtYW5jZU5vdygpOwphLm9ubG9hZD1mdW5jdGlvbihmKXtpZihkKXt2YXIgaD1WaWRlb1BsYXllclJlc291cmNlVGltZXIuZ2V0UmVzb3VyY2VUaW1pbmdFbnRyeSh3LGIscGVyZm9ybWFuY2VOb3coKSk7ZC5zYW1wbGUocGVyZm9ybWFuY2VOb3coKS1iLGYubG9hZGVkfHxhLnJlc3BvbnNlJiZhLnJlc3BvbnNlLmJ5dGVMZW5ndGh8fDAsYy5taW1lVHlwZT8idiI9PT1jLm1pbWVUeXBlLmNoYXJBdCgwKTohMSxoLGcsZSxWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImV2YWx1YXRlX2Ficl9vbl9mZXRjaF9lbmQiLCExKSl9fX0pKTtrfHwoYS5nPW5ldyBTYyh3LGMpLGEubT0wLGQmJihhLmcuZj1kKSxrPWEuZy5tKCkpO3AmJnAuc2V0UmVzb3VyY2Uodyk7ZiYmZi5zZXRSZXNvdXJjZSh3KTt2YXIgZGE9ITEsZWE9ay50aGVuKEooYSxmdW5jdGlvbihhKXt2YXIgYz10aGlzLmg/dGhpcy5oLm9uUmVxdWVzdFNlbmQ6bnVsbDshY3x8InZpZGVvIiE9aCYmImF1ZGlvIiE9aCYmIm1hbmlmZXN0IiE9Cmh8fGMoITAsaCxhLnJlc3BvbnNlLmJ5dGVMZW5ndGgpOyF0aGlzLmJ8fHRoaXMuYi5pc0Rpc2FibGVkKCl8fHRoaXMuYT90aGlzLmF8fCh0aGlzLmE9VmlkZW9QbGF5ZXJSZXNvdXJjZVRpbWVyLmdldFJlc291cmNlVGltaW5nRW50cnkodyx0aGlzLmo/MDp0LHBlcmZvcm1hbmNlTm93KCkpKTp0aGlzLmE9dGhpcy5iLmdldFJlc291cmNlVGltaW5nRW50cnkodyk7VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJzYW1wbGVfcHJlZmV0Y2hfYmFuZHdpZHRoIiwhMSkmJnomJnRoaXMuYSYmMDx0aGlzLmEudGltZVRvTGFzdEJ5dGUmJmQmJmQuc2FtcGxlKHRoaXMuYS50aW1lVG9MYXN0Qnl0ZSxhLnJlc3BvbnNlLmJ5dGVMZW5ndGgsInYiPT09aC5jaGFyQXQoMCksdGhpcy5hLGcsZSwhMCk7aWYodGhpcy5BKXRyeXt0aGlzLm09cGFyc2VJbnQoYS5nZXRSZXNwb25zZUhlYWRlcigieC1mYi12aWRlby1icm9hZGNhc3QtZW5kZWQiKSwxMCl9Y2F0Y2goZil7fXRoaXMuYj0KdGhpcy5pPXRoaXMuZz10aGlzLmY9bnVsbDthLmE/KHRoaXMuaT1uZXcgTChhLmEpLHRoaXMudT0hMCk6dGhpcy5pPXRoaXMuY1tiXTthLnJlc3BvbnNlLllhPWEuWWE7cCYmKHA9cC5zZXRMZW5ndGgoYS5yZXNwb25zZS5ieXRlTGVuZ3RofHxhLnJlc3BvbnNlLmxlbmd0aCkuc2V0V2FzUHJlZmV0Y2hDYWNoZUhpdCh0aGlzLmopLG51bGwhPXRoaXMuYSYmKHA9cC5zZXRUaW1lVG9MYXN0Qnl0ZShNYXRoLnJvdW5kKHRoaXMuYS50aW1lVG9MYXN0Qnl0ZSkpLnNldFRpbWVUb0ZpcnN0Qnl0ZShNYXRoLnJvdW5kKHRoaXMuYS50aW1lVG9GaXJzdEJ5dGUpKS5zZXRUaW1lVG9SZXF1ZXN0U3RhcnQoTWF0aC5yb3VuZCh0aGlzLmEudGltZVRvUmVxdWVzdFN0YXJ0KSksMkUzPD10aGlzLmEudGltZVRvRmlyc3RCeXRlJiYtMTx3LmluZGV4T2YoImFrYW1haWhkIikmJmxvZ0xvbmdBa2FtYWlSZXF1ZXN0KGEuZ2V0UmVzcG9uc2VIZWFkZXIoIkRlYnVnLUluZm8iKSsiLCBUVEZCLT4gIit0aGlzLmEudGltZVRvRmlyc3RCeXRlKwoiLCBUVFJTLT4gIit0aGlzLmEudGltZVRvUmVxdWVzdFN0YXJ0KSkscC5sb2coKSk7cmV0dXJuIFByb21pc2UucmVzb2x2ZSh7dmFsdWU6YS5yZXNwb25zZSxkb25lOiExfSl9KSksZWE9ZWEuY2F0Y2goSihhLGZ1bmN0aW9uKGEpe3ZhciBlPXRoaXMuaD90aGlzLmgub25SZXF1ZXN0U2VuZDpudWxsO2UmJmUoITEsaCwwKTtpZih0aGlzLmYmJmIrMTx0aGlzLmMubGVuZ3RoKXJldHVybiB0aGlzLmY9JGModGhpcyxiKzEsYyxkKTt0aGlzLmI9dGhpcy5hPXRoaXMuZj10aGlzLmc9bnVsbDtwJiZwLnNldEVycm9yKGEpLmxvZygpO3JldHVybiBQcm9taXNlLnJlamVjdChhKX0pKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtjYW5jZWw6ZnVuY3Rpb24oKXt9LHJlYWQ6ZnVuY3Rpb24oKXtyZXR1cm4gZGE/UHJvbWlzZS5yZXNvbHZlKHt2YWx1ZTpudWxsLGRvbmU6ITB9KTplYS50aGVuKGZ1bmN0aW9uKGEpe2RhPSEwO3JldHVybiBhfSl9LmJpbmQoYSl9KX0KZnVuY3Rpb24gYmQoYSl7cmV0dXJue2Jhc2VVcmw6YS50b1N0cmluZygpLGlzUHJlZGljdGl2ZTphLmlzUHJlZGljdGl2ZSxzdGFydEJ5dGU6YS5zdGFydEJ5dGUsZW5kQnl0ZTphLmVuZEJ5dGV9fW4uY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEsodGhpcy5vLHRoaXMuYy5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuY2xvbmUoKX0pLHRoaXMuc3RhcnRCeXRlLHRoaXMuZW5kQnl0ZSx0aGlzLmlzUHJlZGljdGl2ZSx0aGlzLmgpfTtuLmdldFJlc291cmNlVGltaW5nRW50cnk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hfTsKZnVuY3Rpb24gY2QoYSxiLGMpe3ZhciBkPWIudG9TdHJpbmcoKTtpZihhLnN0YXJ0Qnl0ZXx8YS5lbmRCeXRlKWI9Yi5oYSwhYi5lbmRzV2l0aCgiZmJjZG4ubmV0Iil8fGIuc3RhcnRzV2l0aCgiaW50ZXJuY2FjaGUiKXx8Yi5lbmRzV2l0aCgiYWsuZmJjZG4ubmV0Iik/YyYmKGMuUWEuUmFuZ2U9ImJ5dGVzPSIrKGEuc3RhcnRCeXRlKyItIisobnVsbCE9YS5lbmRCeXRlP2EuZW5kQnl0ZToiIikpKTooZCs9IiZieXRlc3RhcnQ9IithLnN0YXJ0Qnl0ZSxkKz1udWxsIT09YS5lbmRCeXRlPyImYnl0ZWVuZD0iK2EuZW5kQnl0ZToiIik7YS5vJiZjJiYoZD1hLm8oZCxjLlFhKXx8ZCk7cmV0dXJuIGR9ZnVuY3Rpb24gdWIoYSl7cmV0dXJuIGNkKGEsYS5jWzBdKX1uLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY1swXS50b1N0cmluZygpfTtmdW5jdGlvbiBkZChhLGIsYyxkKXt0aGlzLmE9bmV3IHRiO2I9bnVsbCE9Yj9iOmlhO3RoaXMuYS5yZXNwb25zZVR5cGU9InRleHQiO3RoaXMuYS5OYT0zO3RoaXMuYS5iPTFFMypiO2MmJih0aGlzLmEuYT1jKTtkJiYodGhpcy5hLmRhPWQpO3RoaXMuYS5nPSEwO3RoaXMuYS53aXRoQ3JlZGVudGlhbHM9dGhpcy5hLmYudGVzdChhKTt0aGlzLmI9YX0KZnVuY3Rpb24gZWQoYSxiKXt2YXIgYz1hLmIsZD1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImRldGVjdF9saXZlX3N0cmVhbV9lbmRlZF9mcm9tX3Jlc3BvbnNlX2hlYWRlcnMiLCExKTtjLncoZCk7cmV0dXJuIGMuZmV0Y2goYS5hLG51bGwsYixudWxsLG51bGwsIm1hbmlmZXN0IikudGhlbihmdW5jdGlvbihhKXthIGluc3RhbmNlb2YgQXJyYXlCdWZmZXImJihhPVN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCxuZXcgVWludDhBcnJheShhKSkpO3ZhciBmPWQmJiEhYy5tLGc7YiYmKGc9Yi5nZXRPcGVyYXRpb25Mb2dnZXIoInBhcnNlX21hbmlmZXN0Iikuc3RhcnQoKSk7YT1lYyhhLGMuYyxbYy5pXSk7ZyYmZy5sb2coKTthJiYiZHluYW1pYyI9PT1hLnR5cGUmJmYmJihhLnR5cGU9InN0YXRpYyIsYiYmQmFuemFpT0RTLmJ1bXBFbnRpdHlLZXkoMjk2NiwidmlkZW9zLnd3dy5zaGFrYSIsImNoYW5nZWRfbWFuaWZlc3RfdG9fZHluYW1pY19vZmZfaGVhZGVycyIpKTsKaWYoYSlyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGEpO2Y9RXJyb3IoIk1QRCBwYXJzZSBmYWlsdXJlLiIpO2YudHlwZT0iZGFzaCI7cmV0dXJuIFByb21pc2UucmVqZWN0KGYpfSl9ZnVuY3Rpb24gZmQoYSl7dGhpcy5hPW51bGw7dGhpcy5oPWE7dGhpcy5jPXRoaXMuZz10aGlzLmY9bnVsbDt0aGlzLmk9ITE7dGhpcy5qPXRoaXMuYj1udWxsfTtmdW5jdGlvbiBnZChhLGIpe3RoaXMuYT1hO3RoaXMuYj1ifHxudWxsfWdkLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5hJiYodGhpcy5hLkthKCksdGhpcy5hPW51bGwpO3RoaXMuYj1udWxsfTtnZC5wcm90b3R5cGUuY3JlYXRlPWZ1bmN0aW9uKGEsYil7dmFyIGM9bnVsbDtiJiYoYz1uZXcgdGIsYy5kYT1iKTtyZXR1cm4hdGhpcy5iJiZ0aGlzLmE/dGhpcy5hLmZldGNoKGMsbnVsbCxhLG51bGwsbnVsbCwiaW5pdCIpOlByb21pc2UucmVzb2x2ZSh0aGlzLmIpfTtnZC5wcm90b3R5cGUuYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmF9O2dkLnByb3RvdHlwZS5nZXRGYWlsb3ZlclVyaT1nZC5wcm90b3R5cGUuYztmdW5jdGlvbiBoZChhLGIpe3RoaXMuc2VnbWVudE9yaWdpbmFsRW5kVGltZT1hO3RoaXMuZ2FwRGlzdGFuY2U9Yn1mdW5jdGlvbiBpZChhLGIsYyxkLGUsZixnKXt0aGlzLnN0YXJ0VGltZT1hO3RoaXMuZW5kVGltZT1iO3RoaXMudXJsPWM7dGhpcy51bnNjYWxlZFN0YXJ0VGltZT1kO3RoaXMudW5zY2FsZWREdXJhdGlvbj1lO3RoaXMudGltZXNjYWxlZEdhcEluZm89Znx8bnVsbDt0aGlzLmlzUHJlZGljdGl2ZT1nfHwhMTt0aGlzLmRlYnVnSW5mbz10aGlzLnRpbWVzY2FsZWRHYXBJbmZvP3tlbmRUaW1lOnRoaXMudGltZXNjYWxlZEdhcEluZm8uc2VnbWVudE9yaWdpbmFsRW5kVGltZSxkZWx0YTp0aGlzLnRpbWVzY2FsZWRHYXBJbmZvLmdhcERpc3RhbmNlfTpudWxsfWZ1bmN0aW9uIGpkKGEsYixjKXtyZXR1cm4gbmV3IGlkKGIsYyxhLnVybCxhLnVuc2NhbGVkU3RhcnRUaW1lLGEudW5zY2FsZWREdXJhdGlvbixhLnRpbWVzY2FsZWRHYXBJbmZvLGEuaXNQcmVkaWN0aXZlKX0KZnVuY3Rpb24geWIoYSxiKXtpZihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInVzZV9iaW5hcnlfc2VhcmNoX3doZW5fZmluZGluZ19zZWdtZW50X3JlZmVyZW5jZXMiLCExKSlyZXR1cm4gQmluYXJ5U2VhcmNoLmZpbmRJbmRleEluQXJyYXkoYSxiLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGI+PWEuc3RhcnRUaW1lJiYobnVsbD09YS5lbmRUaW1lfHxiPGEuZW5kVGltZSk/MDphLnN0YXJ0VGltZS1ifSk7Zm9yKHZhciBjPWEubGVuZ3RoLTE7MDw9YzstLWMpe3ZhciBkPWFbY107aWYoYj49ZC5zdGFydFRpbWUmJihudWxsPT1kLmVuZFRpbWV8fGI8ZC5lbmRUaW1lKSlyZXR1cm4gY31yZXR1cm4tMX1mdW5jdGlvbiBrZChhLGIpe3JldHVybiBhLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gamQoYSxhLnN0YXJ0VGltZStiLG51bGwhPWEuZW5kVGltZT9hLmVuZFRpbWUrYjpudWxsKX0pfTtmdW5jdGlvbiBsZChhLGIsYyxkKXtmb3IodmFyIGU9Yi5hLGY9W10sZz0wO2c8ZDsrK2cpe3ZhciBoPWcrYyxrPShoLTEpKmUuSCxsPWsvZS5zLG09KGsrZS5IKS9lLnMsaD1tZChhLGIsZS5iK2gtMSxrKTtpZighaClyZXR1cm4gbnVsbDtmLnB1c2gobmV3IGlkKGwsbSxoLGssZS5IfHwwKSl9cmV0dXJuIGZ9ZnVuY3Rpb24gbWQoYSxiLGMsZCxlLGYpe2lmKCFiLmEpcmV0dXJuIG51bGw7ZT1lfHwhMTt2YXIgZz1iLmEuZixoPWIuYS5DLmE7aWYoIWcpcmV0dXJuIGIuYmFzZVVybD9uZXcgSyhhLGIuYmFzZVVybCwwLG51bGwsdm9pZCAwLGYpOm51bGw7Yz1uZChlJiZoP2g6ZyxiLmlkLGMsYi5iYW5kd2lkdGgsZCk7aWYoIWMpcmV0dXJuIG51bGw7Yj1aYyhiLmJhc2VVcmwsYyk7cmV0dXJuIG5ldyBLKGEsYiwwLG51bGwsZSxmKX0KZnVuY3Rpb24gbmQoYSxiLGMsZCxlKXt2YXIgZj17UmVwcmVzZW50YXRpb25JRDpiLE51bWJlcjpjLEJhbmR3aWR0aDpkLFRpbWU6ZX07YT1hLnJlcGxhY2UoL1wkKFJlcHJlc2VudGF0aW9uSUR8TnVtYmVyfEJhbmR3aWR0aHxUaW1lKT8oPzolMChbMC05XSspZCk/XCQvZyxmdW5jdGlvbihhLGIsYyl7aWYoIiQkIj09YSlyZXR1cm4iJCI7dmFyIGQ9ZltiXTtpZihudWxsPT1kKXJldHVybiBhOyJSZXByZXNlbnRhdGlvbklEIj09YiYmYyYmKGM9dm9pZCAwKTthPWQudG9TdHJpbmcoKTtjPXdpbmRvdy5wYXJzZUludChjLDEwKXx8MTtjPU1hdGgubWF4KDAsYy1hLmxlbmd0aCk7cmV0dXJuIEFycmF5KGMrMSkuam9pbigiMCIpK2F9KTt0cnl7cmV0dXJuIG5ldyBMKGEpfWNhdGNoKGcpe2lmKGcgaW5zdGFuY2VvZiBVUklFcnJvcilyZXR1cm4gbnVsbDt0aHJvdyBnO319CmZ1bmN0aW9uIG9kKGEsYixjLGQsZSxmKXt2YXIgZz0wLGg9YypiO2M9YS5OO3ZhciBrPWR8fDA7ZD1bXTt2YXIgbD1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigibGl2ZV9yZXdpbmRfdGVtcGxhdGVkX2xhc3RfeF9zZWdtZW50c19vbmx5IiwwKSxtPVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgidGVtcGxhdGVkX2xhc3RfeF90aW1lbGluZSIsITEpJiZlJiZudWxsIT1mLHA9ZSYmbT9WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigidGVtcGxhdGVkX2luZ2VzdF90aHJvdHRsZSIsMCk6MDtpZihsfHxtKXtmb3IoZT0wO2U8Yy5sZW5ndGg7KytlKXtpZighY1tlXS5kdXJhdGlvbilyZXR1cm4gZDt2YXIgdD1jW2VdLnN0YXJ0VGltZSx0PW51bGwhPXQ/dDpnLHc9Y1tlXS5yZXBlYXR8fDA7aWYoMD53KWlmKHc9Y1tlXS5kdXJhdGlvbixlKzE9PT1jLmxlbmd0aCl2YXIgej1jWzBdLnN0YXJ0VGltZStoLXQsdz1NYXRoLmNlaWwoei8KdyktMTtlbHNlIHo9Y1tlKzFdLnN0YXJ0VGltZSx3PU1hdGguY2VpbCgoei10KS93KS0xO2NbZV0uc3RhcnRUaW1lPXQ7Y1tlXS5yZXBlYXQ9dztnPWNbZV0uc3RhcnRUaW1lK2NbZV0uZHVyYXRpb24qKGNbZV0ucmVwZWF0KzEpfWZvcihlPWMubGVuZ3RoLTE7LTE8ZTstLWUpZm9yKHZhciBIPTA7SDw9Y1tlXS5yZXBlYXQ7KytIKWlmKHQ9Y1tlXS5zdGFydFRpbWUrY1tlXS5kdXJhdGlvbiooY1tlXS5yZXBlYXQtSCksZz10K2NbZV0uZHVyYXRpb24sYT1udWxsLGQubGVuZ3RoJiZnIT1kW2QubGVuZ3RoLTFdLnN0YXJ0JiYoej1kW2QubGVuZ3RoLTFdLnN0YXJ0LWcsYT1uZXcgaGQoZy9iLHovYiksZz1kW2QubGVuZ3RoLTFdLnN0YXJ0KSxkLnB1c2goe3N0YXJ0OnQsZW5kOmd9KSxhJiYoZFtkLmxlbmd0aC0xXS50aW1lc2NhbGVkR2FwSW5mbz1hKSxsKXtpZihkLmxlbmd0aD09PWwpcmV0dXJuIGQ9ZC5yZXZlcnNlKCl9ZWxzZSBpZihtJiZkW2QubGVuZ3RoLTFdLnN0YXJ0PD1mKXJldHVybiBkLnBvcCgpLApkPWQucmV2ZXJzZSgpLDA8cCYmKGQ9ZC5zbGljZSgwLHApKSxkO3JldHVybiBkLnJldmVyc2UoKX1mb3IoZT0wO2U8Yy5sZW5ndGg7KytlKXtpZighY1tlXS5kdXJhdGlvbilyZXR1cm4gZDt0PWNbZV0uc3RhcnRUaW1lO3Q9bnVsbCE9dD90Omc7dz1jW2VdLnJlcGVhdHx8MDswPncmJih3PWNbZV0uZHVyYXRpb24sZSsxPT09Yy5sZW5ndGg/KHo9Y1swXS5zdGFydFRpbWUraC10LHc9TWF0aC5jZWlsKHovdyktMSk6KHo9Y1tlKzFdLnN0YXJ0VGltZSx3PU1hdGguY2VpbCgoei10KS93KS0xKSk7MDxkLmxlbmd0aCYmdCE9ZyYmKHo9dC1nLGY9ZFtkLmxlbmd0aC0xXSxmLnRpbWVzY2FsZWRHYXBJbmZvPW5ldyBoZChnL2Isei9iKSxmLmVuZD10KTtmb3IoSD0wO0g8PXc7KytIKWc9dCtjW2VdLmR1cmF0aW9uLGQucHVzaCh7c3RhcnQ6dCxlbmQ6Z30pLHQ9Z31pZihhLmEmJjA8Yy5sZW5ndGgpZm9yKGI9Y1swXS5kdXJhdGlvbixmPTA7ZjxrO2YrKylkLnB1c2goe3N0YXJ0OnQrZipiLGVuZDp0KwooZisxKSpiLHVkOmEuYitmfSk7cmV0dXJuIGR9O2Z1bmN0aW9uIHBkKGEsYixjLGQsZSl7dGhpcy53PWE7dGhpcy5tPWI7dGhpcy5jPWM7dGhpcy5XPTA7dGhpcy5CPSEwO3RoaXMucz1jLnN8fDA7dGhpcy5BPSExO3RoaXMuZz1udWxsO3RoaXMudT1kO3RoaXMuaj1jLkx8fDA7dGhpcy5iPTA7dGhpcy5pPXRoaXMuaD1udWxsO2E6e2I9Yy5DO3ZhciBmPTA7YT0oYS5kdXJhdGlvbnx8MCkqdGhpcy5zO2M9Yi5OO2ZvcihkPTA7ZDxjLmxlbmd0aDsrK2Qpe2lmKCFjW2RdLmR1cmF0aW9uKXtiLk49Yy5zbGljZSgwLGQpO2JyZWFrIGF9dmFyIGc9Y1tkXS5zdGFydFRpbWUsZj1udWxsIT1nP2c6ZixnPWNbZF0ucmVwZWF0fHwwOzA+ZyYmKGc9Y1tkXS5kdXJhdGlvbixnPWQrMT09PWMubGVuZ3RoP01hdGguY2VpbCgoY1swXS5zdGFydFRpbWUrYS1mKS9nKS0xOk1hdGguY2VpbCgoY1tkKzFdLnN0YXJ0VGltZS1mKS9nKS0xKTtjW2RdLnN0YXJ0VGltZT1mO2NbZF0ucmVwZWF0PWc7Zj1jW2RdLnN0YXJ0VGltZStjW2RdLmR1cmF0aW9uKihjW2RdLnJlcGVhdCsKMSl9fXRoaXMuZj1bXTt0aGlzLm89VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoInRpbWVsaW5lX3NlZ21lbnRfaW5kZXhfbWF4X2luZGV4X2NhY2hlX2xlbmd0aCIsMCk7dGhpcy5iPVNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscy5sZW5ndGgodGhpcy5jLkMuTik7dGhpcy5EPWV8fG51bGx9cGQucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmI9dGhpcy5jPXRoaXMubT10aGlzLnc9bnVsbDt0aGlzLmc9ZnVuY3Rpb24oKXt9O3RoaXMuZj10aGlzLnU9bnVsbH07cGQucHJvdG90eXBlLmxlbmd0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmJ9O2Z1bmN0aW9uIHFkKGEsYil7Zm9yKHZhciBjPWEuZi5sZW5ndGgtMTstMTxjO2MtLSlpZihhLmZbY10uaW5kZXg9PT1iKXt2YXIgZD1hLmZbY107YS5mLnNwbGljZShjLDEpO2EuZi5wdXNoKGQpO3JldHVybiBkLnhkfXJldHVybiBudWxsfQpmdW5jdGlvbiByZChhLGIsYyl7dmFyIGQ9W107aWYoYS5vJiYxPT09Yy1iKXt2YXIgZT1xZChhLGIpO2lmKGUpcmV0dXJuW2VdfXZhciBmPS1hLmovYS5zK2EuVztTaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMuZ2V0U2VnbWVudHMoYixjLGEuYy5DLk4sZnVuY3Rpb24oYSxlLGssbCxtKXtpZihsKXt2YXIgcD1kW2QubGVuZ3RoLTFdO3AmJihwLnRpbWVzY2FsZWRHYXBJbmZvPW5ldyBoZChtL3RoaXMucyxsL3RoaXMucykscC5kZWJ1Z0luZm89e2VuZFRpbWU6cC50aW1lc2NhbGVkR2FwSW5mby5zZWdtZW50T3JpZ2luYWxFbmRUaW1lLGRlbHRhOnAudGltZXNjYWxlZEdhcEluZm8uZ2FwRGlzdGFuY2V9LGRbZC5sZW5ndGgtMV09amQocCxwLnN0YXJ0VGltZSxhL3RoaXMucytmKSl9az1tZCh0aGlzLnUsdGhpcy5tLGsrdGhpcy5jLmIsYSx2b2lkIDAsdGhpcy5EKTtpZighayl0aHJvdyBhPUVycm9yKCJGYWlsZWQgdG8gZ2VuZXJhdGUgbWVkaWEgVVJMLiIpLGEudHlwZT0iZGFzaCIsCmE7YT1uZXcgaWQoYS90aGlzLnMrZixlL3RoaXMucytmLGssYSxlLWEsbnVsbCk7ZT1iK2QubGVuZ3RoO2QucHVzaChhKTshdGhpcy5vfHwwIT09ZSYmZSE9PXRoaXMuYi0xJiYxIT09Yy1ifHxxZCh0aGlzLGUpfHwodGhpcy5mLmxlbmd0aCsxPnRoaXMubyYmdGhpcy5mLnNoaWZ0KCksdGhpcy5mLnB1c2goe2luZGV4OmUseGQ6YX0pKX0uYmluZChhKSk7cmV0dXJuIGR9CmZ1bmN0aW9uIHNkKGEsYil7dmFyIGM9Yi51bnNjYWxlZFN0YXJ0VGltZSxkPWIudW5zY2FsZWRFbmRUaW1lLGU9Yi5kZWx0YSxmPWIucHJldmlvdXNFbmRUaW1lO2lmKGUpdmFyIGc9bmV3IGhkKGYvYS5zLGUvYS5zKTtlPW1kKGEudSxhLm0sYi5zZWdtZW50UmVwbGFjZW1lbnQrYS5jLmIsYyx2b2lkIDAsYS5EKTtpZighZSl0aHJvdyBjPUVycm9yKCJGYWlsZWQgdG8gZ2VuZXJhdGUgbWVkaWEgVVJMLiIpLGMudHlwZT0iZGFzaCIsYztmPS1hLmovYS5zK2EuVztyZXR1cm4gbmV3IGlkKGMvYS5zK2YsZC9hLnMrZixlLGMsZC1jLGd8fG51bGwpfXBkLnByb3RvdHlwZS5nZXRTZWdtZW50cz1mdW5jdGlvbigpe3JldHVybiByZCh0aGlzLDAsdGhpcy5iKXx8W119OwpwZC5wcm90b3R5cGUuZmlyc3Q9ZnVuY3Rpb24oKXtpZighdGhpcy5iKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbmRleCBvdXQgb2YgcmFuZ2UuIik7aWYoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJvcHRpbWl6ZV9jb21tb25fc2VnbWVudF9nZW5lcmF0aW9ucyIsITEpKXtpZih0aGlzLmgpcmV0dXJuIHRoaXMuaDt2YXIgYT1TaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMuZmlyc3QodGhpcy5jLkMuTix0aGlzLmIpO3JldHVybiB0aGlzLmg9c2QodGhpcyxhKX1yZXR1cm4gcmQodGhpcywwLDEpWzBdfTsKcGQucHJvdG90eXBlLmxhc3Q9ZnVuY3Rpb24oKXtpZighdGhpcy5iKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbmRleCBvdXQgb2YgcmFuZ2UuIik7aWYoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJvcHRpbWl6ZV9jb21tb25fc2VnbWVudF9nZW5lcmF0aW9ucyIsITEpKXtpZih0aGlzLmkpcmV0dXJuIHRoaXMuaTt2YXIgYT1TaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMubGFzdCh0aGlzLmMuQy5OLHRoaXMuYik7cmV0dXJuIHRoaXMuaT1zZCh0aGlzLGEpfXJldHVybiByZCh0aGlzLHRoaXMuYi0xLHRoaXMuYilbMF19OwpwZC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGEpe2lmKCF0aGlzLmJ8fDA+YXx8YT49dGhpcy5iKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbmRleCBvdXQgb2YgcmFuZ2UuIik7cmV0dXJuIFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgib3B0aW1pemVfY29tbW9uX3NlZ21lbnRfZ2VuZXJhdGlvbnMiLCExKT8oYT1TaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMuZ2V0KHRoaXMuYy5DLk4sYSx0aGlzLmIpLHNkKHRoaXMsYSkpOnJkKHRoaXMsYSxhKzEpWzBdfTsKcGQucHJvdG90eXBlLmZpbmQ9ZnVuY3Rpb24oYSl7aWYoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJmaXhfY29tcG9zaXRlZF90aW1lX2luZGV4X2NhbGxzIiwhMSkpcmV0dXJuKGE9U2hha2FUaW1lbGluZVNlZ21lbnRJbmRleFV0aWxzLmZpbmQoYSx0aGlzLmMuQy5OLHRoaXMucywtdGhpcy5qL3RoaXMucyt0aGlzLlcpKT9zZCh0aGlzLGEpOm51bGw7YT10aGlzLmZpbmRJbmRleChhKTtyZXR1cm4gVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJvcHRpbWl6ZV9jb21tb25fc2VnbWVudF9nZW5lcmF0aW9ucyIsITEpPzA8PWE/dGhpcy5nZXQoYSk6bnVsbDowPD1hP3JkKHRoaXMsYSxhKzEpWzBdOm51bGx9O3BkLnByb3RvdHlwZS5maW5kSW5kZXg9ZnVuY3Rpb24oYSl7cmV0dXJuIFNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscy5maW5kSW5kZXgoYSx0aGlzLmMuQy5OLHRoaXMucywtdGhpcy5qL3RoaXMucyt0aGlzLlcpfTtuPXBkLnByb3RvdHlwZTsKbi5TYT1mdW5jdGlvbihhKXt2YXIgYj1hLmxlbmd0aCgpLGM9Yi10aGlzLmI7aWYoMCE9PWImJihiIT09dGhpcy5ifHwwIT09dGhpcy5iJiZhLmxhc3QoKS5lbmRUaW1lIT09dGhpcy5sYXN0KCkuZW5kVGltZSkmJiEoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJmaXhfaW50ZWdyYXRpb25fb25fZWFybGllcl9lbmR0aW1lIiwhMSkmJmEubGFzdCgpLmVuZFRpbWU8PXRoaXMubGFzdCgpLmVuZFRpbWUpKWlmKHRoaXMuQT0hMSxiPWEubGFzdCgpLG51bGwhPWIuZW5kVGltZSYmYi5lbmRUaW1lPHRoaXMubGFzdCgpLmVuZFRpbWUmJmIuZW5kVGltZTx0aGlzLmZpcnN0KCkuc3RhcnRUaW1lJiYodGhpcy5BPSEwKSxWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImludGVncmF0ZV9zZWdtZW50X3RpbWVsaW5lX3RpbWVfcG9pbnRzIiwhMSk/dGhpcy5jLkMuTj1TaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMuaW50ZWdyYXRlVGltZVBvaW50cyh0aGlzLmMuQy5OLAphLmMuQy5OKToodGhpcy53PWEudyx0aGlzLm09YS5tLHRoaXMuYz1hLmMsdGhpcy5qPXRoaXMuYy5MfHwwLHRoaXMucz10aGlzLmMuc3x8MCksdGhpcy5mPVtdLHRoaXMuaT10aGlzLmg9bnVsbCx0aGlzLmI9U2hha2FUaW1lbGluZVNlZ21lbnRJbmRleFV0aWxzLmxlbmd0aCh0aGlzLmMuQy5OKSx0aGlzLmZpcnN0KCksdGhpcy5sYXN0KCksVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJ0ZW1wbGF0ZWRfY2FsbF9vbl9zZWdtZW50c191cGRhdGVkX3dpdGhfZGVsdGFfc2VnbWVudHMiLCExKSl7dmFyIGQ9W10sYz10aGlzLmItYztmb3IoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJ0ZW1wbGF0ZWRfZHluYW1pY19pbmNsdWRlX3ByZXZpb3VzX2xhc3Rfc2VnbWVudF9pbl91cGRhdGVzIiwhMSkmJjA8YyYmYy0tO2M8dGhpcy5iOysrYylkLnB1c2godGhpcy5nZXQoYykpO3RoaXMuZyYmdGhpcy5nKGQpfWVsc2UgYz0hVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJub19wcm92aWRlX3NlZ21lbnRzX3RvX29uX3NlZ21lbnRzX3VwZGF0ZWRfbGlzdGVuZXJzIiwKITEpLHRoaXMuZyYmKGMmJihkPXRoaXMuZ2V0U2VnbWVudHMoKSksdGhpcy5nKGQpKX07bi5oYj1mdW5jdGlvbihhKXt2YXIgYj1hLXRoaXMuVztpZigwPT1iKXJldHVybiAwO3RoaXMuVz1hO3RoaXMuaT10aGlzLmg9bnVsbDt0aGlzLmY9W107cmV0dXJuIGJ9O24uaWI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iP3tzdGFydDp0aGlzLmZpcnN0KCkuc3RhcnRUaW1lLGVuZDp0aGlzLmxhc3QoKS5lbmRUaW1lfTp7c3RhcnQ6MCxlbmQ6MH19O24uZ2V0U2Vla1JhbmdlR2Fwcz1mdW5jdGlvbigpe3JldHVybiBTaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMuZ2V0U2Vla1JhbmdlR2Fwcyh0aGlzLmMuQy5OLHRoaXMucywtdGhpcy5qL3RoaXMucyt0aGlzLlcpfTtuLnJiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuQX07bi5HYz1mdW5jdGlvbihhKXt0aGlzLmc9YX07bi5GYz1mdW5jdGlvbigpe3RoaXMuZz1udWxsfTtuLklhPWZ1bmN0aW9uKCl7fTtmdW5jdGlvbiB0ZCgpe30KdGQucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9bnVsbDt0cnl7YTp7dmFyIGc9W10saD1uZXcgQmEoYSksaz12KGgpO2lmKDE5MzYyODY4NDAhPXYoaCkpZj1udWxsO2Vsc2V7MT09ayYmKGs9RmEoaCkpO3ZhciBsPUVhKGgpO0hhKGgsMyk7SGEoaCw0KTt2YXIgbT12KGgpO2lmKDA9PW0pZj1udWxsO2Vsc2V7dmFyIHAsdDswPT1sPyhwPXYoaCksdD12KGgpKToocD1GYShoKSx0PUZhKGgpKTtIYShoLDIpO3ZhciB3PWguYi5nZXRVaW50MTYoaC5hLGguYyk7aC5hKz0yO2E9cDtiPWIrayt0O2Zvcih0PWs9MDt0PHc7dCsrKXt2YXIgej12KGgpO3A9KHomMjE0NzQ4MzY0OCk+Pj4zMTt2YXIgbD16JjIxNDc0ODM2NDcsSD12KGgpO3YoaCk7aWYoMT09cCl7Zj1udWxsO2JyZWFrIGF9dmFyIGRhO2RhPTA9PXQmJmU/ZTpuZXcgSyhkLGMsYixiK2wtMSk7cD1hL207dmFyIGVhPShhK0gpL207MD09PXQmJihrPXApO2cucHVzaChuZXcgaWQocC1rLGVhLWssZGEsCmEsSCkpO2ErPUg7Yis9bH1nLnM9bTtmPWd9fX19Y2F0Y2goQWEpe2lmKCEoQWEgaW5zdGFuY2VvZiBSYW5nZUVycm9yKSl0aHJvdyBBYTt9cmV0dXJuIGZ9O2Z1bmN0aW9uIFIoYSl7dGhpcy5hPWE7dGhpcy5zPXRoaXMuYS5zO3RoaXMuSz10aGlzLmEuQjt0aGlzLmc9W119Ui5wcm90b3R5cGUuSj1mdW5jdGlvbigpe3JldHVybiEhdGhpcy5nW3RoaXMuZy5sZW5ndGgtMV19O1IucHJvdG90eXBlLmxhc3RQb2xsSGFkQ2hhbmdlcz1SLnByb3RvdHlwZS5KO1IucHJvdG90eXBlLkk9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmcsYj1hLmxhc3RJbmRleE9mKCEwKTtpZigxPmIpcmV0dXJuIDA7YT1hLmxhc3RJbmRleE9mKCEwLGItMSk7cmV0dXJuIDA+YT8wOmItYS0xfTtSLnByb3RvdHlwZS5nZXRGZXRjaGVzQmV0d2VlblJlY2VudENoYW5nZXM9Ui5wcm90b3R5cGUuSTtSLnByb3RvdHlwZS51PWZ1bmN0aW9uKCl7cmV0dXJuIE1hdGguZmxvb3IoKHRoaXMuZy5sZW5ndGgtMS10aGlzLmcubGFzdEluZGV4T2YoITApKS8yKX07Ui5wcm90b3R5cGUuZ2V0Q29uc2VjdXRpdmVVcGRhdGVzV2l0aG91dENoYW5nZXM9Ui5wcm90b3R5cGUudTsKUi5wcm90b3R5cGUuRz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmcubGVuZ3RoLTEtdGhpcy5nLmxhc3RJbmRleE9mKCExKX07Ui5wcm90b3R5cGUuZ2V0Q29uc2VjdXRpdmVVcGRhdGVzV2l0aENoYW5nZXM9Ui5wcm90b3R5cGUuRztSLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5hLmRlc3Ryb3koKTt0aGlzLmE9bnVsbH07Ui5wcm90b3R5cGUubGVuZ3RoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS5sZW5ndGgoKX07Ui5wcm90b3R5cGUuZ2V0U2VnbWVudHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLmdldFNlZ21lbnRzKCl9O1IucHJvdG90eXBlLmdldFNlZ21lbnRzPVIucHJvdG90eXBlLmdldFNlZ21lbnRzO1IucHJvdG90eXBlLmZpcnN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS5maXJzdCgpfTtSLnByb3RvdHlwZS5sYXN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS5sYXN0KCl9O1IucHJvdG90eXBlLmxhc3Q9Ui5wcm90b3R5cGUubGFzdDsKUi5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmEuZ2V0KGEpfTtSLnByb3RvdHlwZS5maW5kPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmEuZmluZChhKX07Ui5wcm90b3R5cGUuZmluZEluZGV4PWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmEuZmluZEluZGV4KGEpfTtSLnByb3RvdHlwZS5CPWZ1bmN0aW9uKGEpe3RoaXMuYS5TYShhLmEpO3JldHVybiEwfTtSLnByb3RvdHlwZS5UYT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5hLmhiKGEpfTtSLnByb3RvdHlwZS5BPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS5pYigpfTtSLnByb3RvdHlwZS5nZXRTZWVrUmFuZ2VHYXBzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS5nZXRTZWVrUmFuZ2VHYXBzKCl9O1IucHJvdG90eXBlLmdldFNlZWtSYW5nZUdhcHM9Ui5wcm90b3R5cGUuZ2V0U2Vla1JhbmdlR2FwcztSLnByb3RvdHlwZS5yYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmEucmIoKX07CmZ1bmN0aW9uIHVkKGEsYil7YS5hLkdjKGIpfTtmdW5jdGlvbiBTKGEsYixjLGQpe1IuY2FsbCh0aGlzLGEpO3RoaXMuaT1iO3RoaXMuRj1jO3RoaXMuaD1kO3RoaXMuZHVyYXRpb249dGhpcy5pLmJ8fHRoaXMuaS5hLnJlZHVjZShmdW5jdGlvbihhLGIpe3JldHVybiBudWxsPT1iLmR1cmF0aW9uP05hTjphK2IuZHVyYXRpb259LDApfHwwO3RoaXMuYj10aGlzLm89dGhpcy5mPW51bGw7eWQodGhpcyl9cihTLFIpO1MucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLkY9dGhpcy5pPW51bGw7Ui5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpfTtTLnByb3RvdHlwZS5maW5kPWZ1bmN0aW9uKGEpe3pkKHRoaXMseWEoKS8xRTMpO3JldHVybiBSLnByb3RvdHlwZS5maW5kLmNhbGwodGhpcyxhKX07ClMucHJvdG90eXBlLkI9ZnVuY3Rpb24oYSl7aWYoIShhIGluc3RhbmNlb2YgUykpcmV0dXJuITE7dGhpcy5hLlNhKGEuYSk7dGhpcy5kdXJhdGlvbj1NYXRoLm1heCh0aGlzLmR1cmF0aW9uLGEuZHVyYXRpb24pO251bGw9PXRoaXMuZj8odGhpcy5oPWEuaCx5ZCh0aGlzKSk6QWQodGhpcyk7cmV0dXJuITB9O2Z1bmN0aW9uIHlkKGEpe0FkKGEpO2lmKDAhPWEubGVuZ3RoKCkpe2EubGVuZ3RoKCk7dmFyIGI9bnVsbCE9YS5sYXN0KCkuZW5kVGltZT9hLmxhc3QoKS5lbmRUaW1lOmEubGFzdCgpLnN0YXJ0VGltZTtpZihhLmkuYz5hLmgpYS5mPWI7ZWxzZXt2YXIgYz1hLmgtKGEuaS5jK2EuRi5zdGFydCk7MD5jP2EuZj1iOmM8TWF0aC5tYXgoYS5sYXN0KCkuc3RhcnRUaW1lLGEubGFzdCgpLmVuZFRpbWV8fDApPyhhLmxhc3QoKSxhLmY9Yik6YS5mPWN9YS5vPWEubGFzdCgpLnN0YXJ0VGltZTthLmI9YS5maXJzdCgpLnN0YXJ0VGltZX19ClMucHJvdG90eXBlLlRhPWZ1bmN0aW9uKGEpe2E9Ui5wcm90b3R5cGUuVGEuY2FsbCh0aGlzLGEpO1ZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgibm9fY29ycmVjdF9kZWx0YV93YXJuaW5nIiwhMSl8fE1hdGgubWluLmFwcGx5KG51bGwsdGhpcy5nZXRTZWdtZW50cygpLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YS5lbmRUaW1lfSkubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLmVuZFRpbWUtYS5zdGFydFRpbWV9KSk7bnVsbCE9dGhpcy5mJiYodGhpcy5vKz1hLHRoaXMuYis9YSx0aGlzLmYrPWEpO3JldHVybiBhfTtTLnByb3RvdHlwZS5BPWZ1bmN0aW9uKCl7cmV0dXJuIEJkKHRoaXMseWEoKS8xRTMpfTsKZnVuY3Rpb24gQmQoYSxiKXt6ZChhLGIpO2lmKG51bGw9PWEuZnx8bnVsbD09YS5vfHxudWxsPT1hLmIpcmV0dXJue3N0YXJ0OjAsZW5kOjB9O3ZhciBjPU51bWJlci5QT1NJVElWRV9JTkZJTklUWTthLmR1cmF0aW9uJiYoYz1hLmR1cmF0aW9uKTt2YXIgZD1iLWEuaCxlPWEuZitkO251bGwhPWEuaS5mJiYoZT1lLWEuYi1hLmkuZiwwPGUmJihhLmIrPWUpKTthLmI9TWF0aC5taW4oYS5iLGMpO2Q9YS5vK2Q7aWYoZDxhLmIpcmV0dXJue3N0YXJ0OmEuYixlbmQ6YS5ifTtkPTA8YS5sZW5ndGgoKT9udWxsIT1hLmxhc3QoKS5lbmRUaW1lP01hdGgubWluKGQsYS5sYXN0KCkuZW5kVGltZSk6ZDphLmI7ZD1NYXRoLm1heChkLGEuYik7ZD1NYXRoLm1pbihkLGMpO3JldHVybntzdGFydDphLmIsZW5kOmR9fQpmdW5jdGlvbiB6ZChhLGIpe2lmKGEuYS5hJiYoQWQoYSksbnVsbCE9YS5pLmYpKWlmKG51bGw9PWEuZilhLmxlbmd0aCgpO2Vsc2V7Zm9yKHZhciBjPWEuZisoYi1hLmgpLGQ9MCxlPTA7ZTxhLmEuYS5sZW5ndGg7KytlKXt2YXIgZj1udWxsO2U8YS5hLmEubGVuZ3RoLTE/Zj1hLmEuYVtlKzFdLmVuZFRpbWU6KGY9YS5hLmFbZV0sZj1udWxsIT1mLmVuZFRpbWU/Zi5lbmRUaW1lKyhmLmVuZFRpbWUtZi5zdGFydFRpbWUpOm51bGwpO2lmKG51bGwhPWYmJmY8Yy1hLmkuZikrK2Q7ZWxzZSBicmVha30wPGQmJmEuYS5hLnNwbGljZSgwLGQpfX1mdW5jdGlvbiBBZChhKXtpZihhLmR1cmF0aW9uJiZhLmEuYSl7Zm9yKHZhciBiPTAsYz1hLmEuYS5sZW5ndGgtMTswPD1jOy0tYylpZihhLmEuYVtjXS5zdGFydFRpbWU+YS5kdXJhdGlvbikrK2I7ZWxzZSBicmVhazswPGImJmEuYS5hLnNwbGljZSgtYil9fTtmdW5jdGlvbiBUKGEsYixjKXt2YXIgZD1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigidGVtcGxhdGVkX3F1YXJhbnRpbmVfaWRsZV9yZWZlcmVuY2VzX3RocmVzaG9sZCIsMCk7dGhpcy5pPVtdO2lmKDA8ZCl7dmFyIGU9YTthPWUuc3BsaWNlKC1kKTt0aGlzLmk9ZX10aGlzLmE9YTt0aGlzLlc9MDt0aGlzLnM9Yjt0aGlzLmY9ITE7dGhpcy5oPWZ1bmN0aW9uKCl7fTt0aGlzLkI9Y3x8ITF9VC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuYT1udWxsfTtULnByb3RvdHlwZS5sZW5ndGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLmxlbmd0aH07VC5wcm90b3R5cGUuZ2V0U2VnbWVudHM9ZnVuY3Rpb24oKXtyZXR1cm4odGhpcy5hfHxbXSkuc2xpY2UoKX07VC5wcm90b3R5cGUuZ2V0U2VnbWVudHM9VC5wcm90b3R5cGUuZ2V0U2VnbWVudHM7ClQucHJvdG90eXBlLmZpcnN0PWZ1bmN0aW9uKCl7aWYoMD09dGhpcy5hLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiU2VnbWVudEluZGV4QmFzZTogVGhlcmUgaXMgbm8gZmlyc3QgU2VnbWVudFJlZmVyZW5jZS4iKTtyZXR1cm4gdGhpcy5hWzBdfTtULnByb3RvdHlwZS5sYXN0PWZ1bmN0aW9uKCl7aWYoMD09dGhpcy5hLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiU2VnbWVudEluZGV4QmFzZTogVGhlcmUgaXMgbm8gbGFzdCBTZWdtZW50UmVmZXJlbmNlLiIpO3JldHVybiB0aGlzLmFbdGhpcy5hLmxlbmd0aC0xXX07VC5wcm90b3R5cGUubGFzdD1ULnByb3RvdHlwZS5sYXN0O1QucHJvdG90eXBlLmdldD1mdW5jdGlvbihhKXtpZigwPmF8fGE+PXRoaXMuYS5sZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIlNlZ21lbnRJbmRleEJhc2U6IFRoZSBzcGVjaWZpZWQgaW5kZXggaXMgb3V0IG9mIHJhbmdlLiIpO3JldHVybiB0aGlzLmFbYV19OwpULnByb3RvdHlwZS5maW5kPWZ1bmN0aW9uKGEpe2E9dGhpcy5maW5kSW5kZXgoYSk7cmV0dXJuIDA8PWE/dGhpcy5hW2FdOm51bGx9O1QucHJvdG90eXBlLmZpbmRJbmRleD1mdW5jdGlvbihhKXtyZXR1cm4geWIodGhpcy5hLGEpfTsKVC5wcm90b3R5cGUuU2E9ZnVuY3Rpb24oYSl7dGhpcy5XIT1hLlcmJihhPW5ldyBUKGtkKGEuYSx0aGlzLlctYS5XKSxhLnMpKTtpZigwPT10aGlzLmxlbmd0aCgpKXRoaXMuYT1hLmEuc2xpY2UoMCksdGhpcy5JYSgpO2Vsc2UgaWYoMCE9YS5sZW5ndGgoKSYmbnVsbCE9dGhpcy5sYXN0KCkuZW5kVGltZSlpZihudWxsIT1hLmxhc3QoKS5lbmRUaW1lJiZhLmxhc3QoKS5lbmRUaW1lPHRoaXMubGFzdCgpLmVuZFRpbWUpVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJmaXhfbWFuaWZlc3Rfd3JhcHBlZCIsITApP2EubGFzdCgpLmVuZFRpbWU8dGhpcy5maXJzdCgpLnN0YXJ0VGltZSYmKHRoaXMuZj0hMCk6dGhpcy5mPSEwO2Vsc2V7dGhpcy5mPSExO2lmKHRoaXMubGFzdCgpLmVuZFRpbWU8PWEuZmlyc3QoKS5zdGFydFRpbWUpe3ZhciBiPWpkKHRoaXMubGFzdCgpLHRoaXMubGFzdCgpLnN0YXJ0VGltZSxhLmZpcnN0KCkuc3RhcnRUaW1lKSxjPXRoaXMubGFzdCgpLnVuc2NhbGVkU3RhcnRUaW1lKwp0aGlzLmxhc3QoKS51bnNjYWxlZER1cmF0aW9uO1ZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgiY2FsY3VsYXRlX21pc3NlZF9zZWdtZW50X2dhcF9pbmZvX29uX21lcmdlIiwhMSkmJmM8YS5maXJzdCgpLnVuc2NhbGVkU3RhcnRUaW1lJiZudWxsPT09dGhpcy5sYXN0KCkudGltZXNjYWxlZEdhcEluZm8mJihiLnRpbWVzY2FsZWRHYXBJbmZvPW5ldyBoZChjL3RoaXMucywoYS5maXJzdCgpLnVuc2NhbGVkU3RhcnRUaW1lLWMpL3RoaXMucykpO2lmKFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgidGVtcGxhdGVkX29wdGltaXplX21lcmdlX3RhcmdldF9hbGdvcyIsITEpKWZvcih0aGlzLmEucG9wKCksdGhpcy5hLnB1c2goYiksYz0wO2M8YS5hLmxlbmd0aDsrK2MpdGhpcy5hLnB1c2goYS5hW2NdKTtlbHNlIGI9dGhpcy5hLnNsaWNlKDAsLTEpLmNvbmNhdChbYl0pLHRoaXMuYT1iLmNvbmNhdChhLmEpfWVsc2V7Zm9yKGM9MDtjPHRoaXMuYS5sZW5ndGgmJgohKHRoaXMuYVtjXS5lbmRUaW1lPj1hLmZpcnN0KCkuc3RhcnRUaW1lKTsrK2MpO3RoaXMuYVtjXS5zdGFydFRpbWU8YS5maXJzdCgpLnN0YXJ0VGltZT8oYj1qZCh0aGlzLmFbY10sdGhpcy5hW2NdLnN0YXJ0VGltZSxhLmZpcnN0KCkuc3RhcnRUaW1lKSxiPXRoaXMuYS5zbGljZSgwLGMpLmNvbmNhdChbYl0pKToodGhpcy5maXJzdCgpLnN0YXJ0VGltZT5hLmZpcnN0KCkuc3RhcnRUaW1lfHxhLmZpcnN0KCksYj10aGlzLmEuc2xpY2UoMCxjKSk7dGhpcy5hPWIuY29uY2F0KGEuYSl9dGhpcy5oKGEuYSk7dGhpcy5JYSgpfX07VC5wcm90b3R5cGUuaGI9ZnVuY3Rpb24oYSl7dmFyIGI9YS10aGlzLlc7aWYoMD09YilyZXR1cm4gMDt0aGlzLmE9a2QodGhpcy5hLGIpO3RoaXMuSWEoKTt0aGlzLlc9YTtyZXR1cm4gYn07ClQucHJvdG90eXBlLmliPWZ1bmN0aW9uKCl7cmV0dXJuIDA8dGhpcy5sZW5ndGgoKT97c3RhcnQ6dGhpcy5maXJzdCgpLnN0YXJ0VGltZSxlbmQ6dGhpcy5sYXN0KCkuZW5kVGltZX06e3N0YXJ0OjAsZW5kOjB9fTtULnByb3RvdHlwZS5nZXRTZWVrUmFuZ2VHYXBzPWZ1bmN0aW9uKCl7cmV0dXJuIGdldFNlZWtSYW5nZUdhcHNGcm9tU2hha2FSZWZlcmVuY2VzKHRoaXMuYSx0aGlzLnMpfTtULnByb3RvdHlwZS5nZXRTZWVrUmFuZ2VHYXBzPVQucHJvdG90eXBlLmdldFNlZWtSYW5nZUdhcHM7VC5wcm90b3R5cGUucmI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mfTtULnByb3RvdHlwZS5HYz1mdW5jdGlvbihhKXt0aGlzLmg9YX07VC5wcm90b3R5cGUuRmM9ZnVuY3Rpb24oKXt0aGlzLmg9ZnVuY3Rpb24oKXt9fTtULnByb3RvdHlwZS5JYT1mdW5jdGlvbigpe307VC5wcm90b3R5cGUuZ2V0SWRsZVJlZmVyZW5jZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pfTtmdW5jdGlvbiBDZChhLGIsYyxkLGUpe3ZhciBmPTEsZz0wLGg7aWYoYS5jPmQpaD1udWxsO2Vsc2V7dmFyIGs9YS5vfHwwLGw9YS5mfHwwO2g9Yy5hO2g9aC5IL2guczt2YXIgbT1kLShhLmMrYi5zdGFydCk7MD5tP2g9bnVsbDoobD1tLTIqaC1sLDA+bCYmKGw9MCksbD1NYXRoLmNlaWwobC9oKSpoLG0tPWgsMD5tP2g9bnVsbDooaz1NYXRoLmZsb29yKG0vaCkqaC1rLDA+ayYmKGs9MCksaz1NYXRoLmZsb29yKGsvaCkqaCxoPXt0YzpsL2grMSxjdXJyZW50OihrPj1sP2s6bCkvaCsxfSkpfWgmJihmPWgudGMsZz1oLmN1cnJlbnQtaC50YysxKTtmPWxkKGUsYyxmLGcpO2lmKG51bGw9PWYpdGhyb3cgYT1FcnJvcigiRmFpbGVkIHRvIGdlbmVyYXRlIFNlZ21lbnRSZWZlcmVuY2VzLiIpLGEudHlwZT0ic3RyZWFtIixhO2Y9bmV3IFQoZixjLmEuc3x8MSk7Uy5jYWxsKHRoaXMsZixhLGIsZCk7dGhpcy53PWM7dGhpcy5tPXRoaXMuYz0wPHRoaXMubGVuZ3RoKCk/YS5jK2Iuc3RhcnQrdGhpcy5sYXN0KCkuZW5kVGltZToKbnVsbDt0aGlzLmo9aD9oLmN1cnJlbnQrMTpudWxsO3RoaXMuRD1lfXIoQ2QsUyk7Q2QucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLkQ9dGhpcy53PW51bGw7Uy5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpfTtDZC5wcm90b3R5cGUuZmluZD1mdW5jdGlvbihhKXt2YXIgYj15YSgpLzFFMztEZCh0aGlzLGIpO3pkKHRoaXMsYik7cmV0dXJuIFIucHJvdG90eXBlLmZpbmQuY2FsbCh0aGlzLGEpfTtDZC5wcm90b3R5cGUuQj1mdW5jdGlvbihhKXtpZihudWxsIT10aGlzLmN8fCEoYSBpbnN0YW5jZW9mIENkKXx8bnVsbD09YS5jKXJldHVybiExO3RoaXMuYz1hLmM7dGhpcy5tPWEubTt0aGlzLmo9YS5qO3RoaXMuaD1hLmg7dGhpcy5kdXJhdGlvbj1hLmR1cmF0aW9uO3RoaXMuYS5TYShhLmEpO0RkKHRoaXMseWEoKS8xRTMpO3lkKHRoaXMpO3JldHVybiEwfTsKQ2QucHJvdG90eXBlLlRhPWZ1bmN0aW9uKGEpe2E9Uy5wcm90b3R5cGUuVGEuY2FsbCh0aGlzLGEpO251bGwhPXRoaXMuYyYmKHRoaXMuYys9YSx0aGlzLm0rPWEpO3JldHVybiBhfTtDZC5wcm90b3R5cGUuQT1mdW5jdGlvbigpe3ZhciBhPXlhKCkvMUUzO0RkKHRoaXMsYSk7cmV0dXJuIEJkKHRoaXMsYSl9O2Z1bmN0aW9uIERkKGEsYil7aWYobnVsbCE9YS5jJiZudWxsIT1hLm0mJm51bGwhPWEuail7dmFyIGM9YS53LmEsYz1jLkgvYy5zLGQ9TWF0aC5mbG9vcigoYS5tKyhiLWEuaCktYS5jKS9jKTtpZigwIT1kKXt2YXIgZT1sZChhLkQsYS53LGEuaixkKTtBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShhLmEuYSxrZChlLGEuYS5XKSk7YS5hLklhKCk7YS5jKz1kKmM7YS5qKz1kfX19O2Z1bmN0aW9uIEVkKGEsYixjLGQsZSl7dGhpcy5nPWE7dGhpcy5mPWI7dGhpcy5iPWM7dGhpcy5pPWQ7dGhpcy5hPW51bGw7dGhpcy5oPWV9RWQucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmg9dGhpcy5iPXRoaXMuZj10aGlzLmc9bnVsbDt0aGlzLmEmJih0aGlzLmEuZGVzdHJveSgpLHRoaXMuYT1udWxsKX07CkVkLnByb3RvdHlwZS5jcmVhdGU9ZnVuY3Rpb24oKXtpZih0aGlzLmEpcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLmEpO2lmKCJkeW5hbWljIj09dGhpcy5nLnR5cGUpdHJ5e3RoaXMuYT1uZXcgQ2QodGhpcy5nLHRoaXMuZix0aGlzLmIsdGhpcy5pLHRoaXMuaCl9Y2F0Y2goYSl7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfWVsc2V7dmFyIGI7Yj10aGlzLmIuYTtpZihiPWxkKHRoaXMuaCx0aGlzLmIsMSxNYXRoLmNlaWwodGhpcy5mLmR1cmF0aW9uLyhiLkgvYi5zKSkpKXtpZigwPGIubGVuZ3RoKXt2YXIgYz1iW2IubGVuZ3RoLTFdO2JbYi5sZW5ndGgtMV09amQoYyxjLnN0YXJ0VGltZSx0aGlzLmYuZHVyYXRpb24pfWI9bmV3IFQoYix0aGlzLmIuYS5zfHwxKTtiPW5ldyBSKGIpfWVsc2UgYj1udWxsO3RoaXMuYT1iO2lmKCF0aGlzLmEpcmV0dXJuIGI9RXJyb3IoIkZhaWxlZCB0byBnZW5lcmF0ZSBTZWdtZW50UmVmZXJlbmNlcyIpLGIudHlwZT0ic3RyZWFtIixQcm9taXNlLnJlamVjdChiKX1yZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuYSl9OwpFZC5wcm90b3R5cGUuYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmF9O2Z1bmN0aW9uIEZkKGEsYixjLGQsZSxmKXt0aGlzLmY9YTt0aGlzLmI9Yjt0aGlzLmg9Yzt0aGlzLmE9bnVsbDt0aGlzLmk9ZDt0aGlzLmc9ZTt0aGlzLmo9Znx8bnVsbH1GZC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuZz10aGlzLmg9dGhpcy5iPXRoaXMuZj1udWxsO3RoaXMuYSYmKHRoaXMuYS5kZXN0cm95KCksdGhpcy5hPW51bGwpfTsKRmQucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbigpe2lmKHRoaXMuYSlyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuYSk7dmFyIGE9dGhpcy5oLmIsYj1bXTthLkMmJihiPW9kKGEuQyxhLnN8fDEsdGhpcy5iLmR1cmF0aW9ufHwwKSk7dmFyIGM9MDthLkgmJmEuYz9jPShhLmMtMSkqYS5IOjA8Yi5sZW5ndGgmJihjPWJbMF0uc3RhcnQtKGEuTHx8MCkpO3ZhciBkPWMsZT1hLmEubGVuZ3RoOzA8Yi5sZW5ndGgmJmIubGVuZ3RoIT1hLmEubGVuZ3RoJiYoZT1NYXRoLm1pbihiLmxlbmd0aCxhLmEubGVuZ3RoKSk7Zm9yKHZhciBmPVtdLGc9MDtnPGU7KytnKXt2YXIgaD1hLmFbZ10saz1jLGw9ay9hLnMsbT1jPW51bGwscDthLkg/KGM9aythLkgsbT1jL2Eucyk6MDxiLmxlbmd0aD8ocD1iW2ddLnRpbWVzY2FsZWRHYXBJbmZvLGM9YltnXS5lbmQtKGEuTHx8MCksbT1jL2Eucyk6KG09bCt0aGlzLmIuZHVyYXRpb24sYz1tKmEucyk7dmFyIHQ9MCx3PW51bGw7aC5hJiYodD1oLmEucWEsCnc9aC5hLmVuZCk7bT1NYXRoLm1pbih0aGlzLmIuZHVyYXRpb24rZC9hLnMsbSk7Zi5wdXNoKG5ldyBpZChsLG0sbmV3IEsodGhpcy5nLGguYix0LHcsdm9pZCAwLHRoaXMuaiksayxwfHxudWxsKSl9YT1uZXcgVChmLGEuc3x8MSk7ImR5bmFtaWMiPT10aGlzLmYudHlwZT90aGlzLmE9bmV3IFMoYSx0aGlzLmYsdGhpcy5iLHRoaXMuaSk6dGhpcy5hPW5ldyBSKGEpO3JldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5hKX07RmQucHJvdG90eXBlLmM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hfTtmdW5jdGlvbiBHZChhLGIsYyl7VC5jYWxsKHRoaXMsYSxjKTt0aGlzLmc9Yjt0aGlzLmI9ITE7dGhpcy5qPVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0U3RyaW5nKCJ0ZW1wbGF0ZWRfcGVyZl90ZXN0X21ldGhvZHNfdW5kZXJfdGVzdF9jc3Zfc3RyaW5nIiwiYWxsIikuc3BsaXQoIiwiKX1yKEdkLFQpO2Z1bmN0aW9uIEhkKGEsYil7aWYoISgtMTxhLmouaW5kZXhPZigiYWxsIil8fC0xPGEuai5pbmRleE9mKGIpKXx8YS5iKXJldHVybiBudWxsO3ZhciBjPWEuYTthLmE9YS5nO2EuYj0hMDtyZXR1cm4gY31mdW5jdGlvbiBJZChhLGIpe2EuYiYmKGEuZz1hLmEsYS5hPWIpfUdkLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7VC5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpO3RoaXMuZz1udWxsfTsKR2QucHJvdG90eXBlLmxlbmd0aD1mdW5jdGlvbigpe3ZhciBhPUhkKHRoaXMsImxlbmd0aCIpLGI9VC5wcm90b3R5cGUubGVuZ3RoLmNhbGwodGhpcyk7YSYmKElkKHRoaXMsYSksYj1ULnByb3RvdHlwZS5sZW5ndGguY2FsbCh0aGlzKSx0aGlzLmI9ITEpO3JldHVybiBifTtHZC5wcm90b3R5cGUuZ2V0U2VnbWVudHM9ZnVuY3Rpb24oKXt2YXIgYT1IZCh0aGlzLCJnZXRTZWdtZW50cyIpLGI9VC5wcm90b3R5cGUuZ2V0U2VnbWVudHMuY2FsbCh0aGlzKTthJiYoSWQodGhpcyxhKSxiPVQucHJvdG90eXBlLmdldFNlZ21lbnRzLmNhbGwodGhpcyksdGhpcy5iPSExKTtyZXR1cm4gYn07R2QucHJvdG90eXBlLmZpcnN0PWZ1bmN0aW9uKCl7dmFyIGE9SGQodGhpcywiZmlyc3QiKSxiPVQucHJvdG90eXBlLmZpcnN0LmNhbGwodGhpcyk7YSYmKElkKHRoaXMsYSksYj1ULnByb3RvdHlwZS5maXJzdC5jYWxsKHRoaXMpLHRoaXMuYj0hMSk7cmV0dXJuIGJ9OwpHZC5wcm90b3R5cGUubGFzdD1mdW5jdGlvbigpe3ZhciBhPUhkKHRoaXMsImxhc3QiKSxiPVQucHJvdG90eXBlLmxhc3QuY2FsbCh0aGlzKTthJiYoSWQodGhpcyxhKSxiPVQucHJvdG90eXBlLmxhc3QuY2FsbCh0aGlzKSx0aGlzLmI9ITEpO3JldHVybiBifTtHZC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGEpe3ZhciBiPUhkKHRoaXMsImdldCIpLGM7Yz1iP1QucHJvdG90eXBlLmdldC5jYWxsKHRoaXMsYSsodGhpcy5hLmxlbmd0aC1iLmxlbmd0aCkpOlQucHJvdG90eXBlLmdldC5jYWxsKHRoaXMsYSk7YiYmKElkKHRoaXMsYiksYz1ULnByb3RvdHlwZS5nZXQuY2FsbCh0aGlzLGEpLHRoaXMuYj0hMSk7cmV0dXJuIGN9O0dkLnByb3RvdHlwZS5maW5kPWZ1bmN0aW9uKGEpe3ZhciBiPUhkKHRoaXMsImZpbmQiKSxjPVQucHJvdG90eXBlLmZpbmQuY2FsbCh0aGlzLGEpO2ImJihJZCh0aGlzLGIpLGM9VC5wcm90b3R5cGUuZmluZC5jYWxsKHRoaXMsYSksdGhpcy5iPSExKTtyZXR1cm4gY307CkdkLnByb3RvdHlwZS5maW5kSW5kZXg9ZnVuY3Rpb24oYSl7dmFyIGI9SGQodGhpcywiZmluZEluZGV4IiksYz1ULnByb3RvdHlwZS5maW5kSW5kZXguY2FsbCh0aGlzLGEpO2ImJihJZCh0aGlzLGIpLGM9VC5wcm90b3R5cGUuZmluZEluZGV4LmNhbGwodGhpcyxhKSx0aGlzLmI9ITEpO3JldHVybiBjfTtuPUdkLnByb3RvdHlwZTtuLlNhPWZ1bmN0aW9uKGEpe3ZhciBiPUhkKHRoaXMsIm1lcmdlIiksYz1ULnByb3RvdHlwZS5TYS5jYWxsKHRoaXMsYSk7YiYmKElkKHRoaXMsYiksYz1ULnByb3RvdHlwZS5TYS5jYWxsKHRoaXMsYSksdGhpcy5iPSExKTtyZXR1cm4gY307bi5oYj1mdW5jdGlvbihhKXt2YXIgYj1IZCh0aGlzLCJjb3JyZWN0IiksYz1ULnByb3RvdHlwZS5oYi5jYWxsKHRoaXMsYSk7YiYmKElkKHRoaXMsYiksYz1ULnByb3RvdHlwZS5oYi5jYWxsKHRoaXMsYSksdGhpcy5iPSExKTtyZXR1cm4gY307Cm4uaWI9ZnVuY3Rpb24oKXt2YXIgYT1IZCh0aGlzLCJnZXRTZWVrUmFuZ2UiKSxiPVQucHJvdG90eXBlLmliLmNhbGwodGhpcyk7YSYmKElkKHRoaXMsYSksYj1ULnByb3RvdHlwZS5pYi5jYWxsKHRoaXMpLHRoaXMuYj0hMSk7cmV0dXJuIGJ9O24uZ2V0U2Vla1JhbmdlR2Fwcz1mdW5jdGlvbigpe3ZhciBhPUhkKHRoaXMsImdldFNlZWtSYW5nZUdhcHMiKSxiPVQucHJvdG90eXBlLmdldFNlZWtSYW5nZUdhcHMuY2FsbCh0aGlzKTthJiYoSWQodGhpcyxhKSxiPVQucHJvdG90eXBlLmdldFNlZWtSYW5nZUdhcHMuY2FsbCh0aGlzKSx0aGlzLmI9ITEpO3JldHVybiBifTtuLklhPWZ1bmN0aW9uKCl7dmFyIGE9SGQodGhpcywiYXNzZXJ0Q29ycmVjdFJlZmVyZW5jZXMiKTtULnByb3RvdHlwZS5JYS5jYWxsKHRoaXMpO2EmJihJZCh0aGlzLGEpLFQucHJvdG90eXBlLklhLmNhbGwodGhpcyksdGhpcy5iPSExKX07ZnVuY3Rpb24gSmQoYSxiLGMsZCxlLGYsZyxoKXt0aGlzLm09YTt0aGlzLmE9Yjt0aGlzLmc9Yzt0aGlzLmY9ZDt0aGlzLm89ZTt0aGlzLmI9bnVsbDt0aGlzLmk9Zjt0aGlzLmg9bnVsbDt0aGlzLmo9aHx8bnVsbH1KZC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuaT10aGlzLmY9dGhpcy5nPXRoaXMuYT1udWxsO3RoaXMuYiYmKHRoaXMuYi5kZXN0cm95KCksdGhpcy5iPW51bGwpfTsKSmQucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbigpe2lmKHRoaXMuYilyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuYik7dmFyIGE9VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJmYmxzX3VzZV90aW1lbGluZV9zZWdtZW50X2luZGV4IiwhMSk7aWYoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJ1c2VfdGltZWxpbmVfc2VnbWVudF9pbmRleCIsITEpJiYodGhpcy5hLkZCSXNMaXZlVGVtcGxhdGVkfHx0aGlzLmEuRkJXYXNMaXZlfHxhKSlhPW5ldyBwZCh0aGlzLmcsdGhpcy5mLHRoaXMuZi5hLHRoaXMuaSx0aGlzLmopO2Vsc2V7Zm9yKHZhciBhPXRoaXMuZi5hLGI9b2QoYS5DLGEuc3x8MSx0aGlzLmcuZHVyYXRpb258fDAsdGhpcy5tLmdldE51bWJlcigibnVtX3ByZWRpY3RpdmVfc2VnbWVudHMiLDApLHRoaXMuYS5GQklzTGl2ZVRlbXBsYXRlZHx8dGhpcy5hLkZCV2FzTGl2ZSx0aGlzLmgpLGM9W10sZD0wO2Q8Yi5sZW5ndGg7KytkKXt2YXIgZT0KYltkXS5zdGFydCxmPWJbZF0uZW5kLGc9YltkXS51ZHx8MCxoPWJbZF0udGltZXNjYWxlZEdhcEluZm8saz1lL2EucyxsPWYvYS5zLG09ZCthLmIscD1lLG09bWQodGhpcy5pLHRoaXMuZiwwPGc/ZzptLHAsMDxnPyEwOiExLHRoaXMuaik7aWYoIW0pcmV0dXJuIGE9RXJyb3IoIkZhaWxlZCB0byBnZW5lcmF0ZSBtZWRpYSBVUkwuIiksYS50eXBlPSJkYXNoIixQcm9taXNlLnJlamVjdChhKTt2YXIgdD0oYS5MfHwwKS9hLnM7Yy5wdXNoKG5ldyBpZChrLXQsbC10LG0scCxmLWUsaHx8bnVsbCwwPGcpKX1iPXRoaXMuYS5GQklzTGl2ZVRlbXBsYXRlZHx8dGhpcy5hLkZCV2FzTGl2ZTtWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigidGVtcGxhdGVkX3VzZV9wZXJmX3Rlc3Rfc2VnbWVudF9pbmRleF9iYXNlX2ludCIsMCkmJm51bGw9PXRoaXMuaCYmdGhpcy5hLkZCSXNMaXZlVGVtcGxhdGVkPyhiPWMsYz1iLnNsaWNlKC1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigidGVtcGxhdGVkX3VzZV9wZXJmX3Rlc3Rfc2VnbWVudF9pbmRleF9iYXNlX2ludCIsCjApKSxhPW5ldyBHZChjLGIsYS5zfHwxKSk6YT1uZXcgVChjLGEuc3x8MSxiKX10aGlzLmEubWFuaWZlc3RJc0xpdmVTdHJlYW1pbmc/dGhpcy5iPW5ldyBTKGEsdGhpcy5hLHRoaXMuZyx0aGlzLm8pOnRoaXMuYj1uZXcgUihhKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuYil9O0pkLnByb3RvdHlwZS5jPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYn07SmQucHJvdG90eXBlLkVjPWZ1bmN0aW9uKGEpe3RoaXMuaD1hfTtmdW5jdGlvbiBLZCgpe3RoaXMuWD1MZCsrO3RoaXMuaWQ9dGhpcy5hYT10aGlzLk09bnVsbDt0aGlzLmE9MDt0aGlzLmhlaWdodD10aGlzLndpZHRoPXRoaXMuYmFuZHdpZHRoPW51bGw7dGhpcy5jb2RlY3M9dGhpcy5taW1lVHlwZT0iIjt0aGlzLmY9dGhpcy5mYlF1YWxpdHlDbGFzcz10aGlzLmZiUXVhbGl0eUxhYmVsPW51bGw7dGhpcy5mcmFtZVJhdGU9IiI7dGhpcy5zd2l0Y2hSZWFzb249dGhpcy5oPXRoaXMuZz10aGlzLmM9bnVsbDt0aGlzLmI9W107dGhpcy5vYT0hMTt0aGlzLmZhPSEwfXZhciBMZD0wO0tkLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5NJiYodGhpcy5NLmRlc3Ryb3koKSx0aGlzLk09bnVsbCk7dGhpcy5hYSYmKHRoaXMuYWEuZGVzdHJveSgpLHRoaXMuYWE9bnVsbCl9O2Z1bmN0aW9uIE1kKGEpe3JldHVybiBhLm1pbWVUeXBlLnNwbGl0KCIvIilbMF19CmZ1bmN0aW9uIE5kKGEpe3ZhciBiPWEubWltZVR5cGV8fCIiO2EuY29kZWNzJiYoYis9JzsgY29kZWNzPSInK2EuY29kZWNzKyciJyk7cmV0dXJuIGJ9ZnVuY3Rpb24gT2QoKXt0aGlzLlg9UGQrKzt0aGlzLmlkPW51bGw7dGhpcy5jb250ZW50VHlwZT10aGlzLmxhbmc9IiI7dGhpcy5mPXRoaXMuYj0hMTt0aGlzLmM9bnVsbDt0aGlzLnY9W107dGhpcy5hPVtdfXZhciBQZD0wO09kLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7Zm9yKHZhciBhPTA7YTx0aGlzLnYubGVuZ3RoOysrYSl0aGlzLnZbYV0uZGVzdHJveSgpO3RoaXMuYT10aGlzLnY9bnVsbH07ZnVuY3Rpb24gUWQoYSl7Zm9yKHZhciBiPVtdLGM9MDtjPGEuYS5sZW5ndGg7KytjKXt2YXIgZD1uZXcgUmQ7ZC5pZD1hLlg7ZC5hPWEuYVtjXTtkLmNvbnRlbnRUeXBlPWEuY29udGVudFR5cGU7ZC5iPWEudi5sZW5ndGg/TmQoYS52WzBdKToiIjtiLnB1c2goZCl9cmV0dXJuIGJ9CmZ1bmN0aW9uIFNkKCl7dGhpcy5pZD1udWxsO3RoaXMuc3RhcnQ9MDt0aGlzLmR1cmF0aW9uPW51bGw7dGhpcy5hPVtdfVNkLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7Zm9yKHZhciBhPTA7YTx0aGlzLmEubGVuZ3RoOysrYSl0aGlzLmFbYV0uZGVzdHJveSgpO3RoaXMuYT1udWxsfTtmdW5jdGlvbiBUZCgpe3RoaXMuQT10aGlzLmY9dGhpcy5iPSExO3RoaXMubz10aGlzLm09dGhpcy5CPTA7dGhpcy5qPXRoaXMuaT10aGlzLmM9bnVsbDt0aGlzLmc9MDt0aGlzLmE9W107dGhpcy5oPSExO3RoaXMudz0ibm9uZSI7dGhpcy51PW51bGx9VGQucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXtmb3IodmFyIGE9MDthPHRoaXMuYS5sZW5ndGg7KythKXRoaXMuYVthXS5kZXN0cm95KCk7dGhpcy5hPW51bGx9O2Z1bmN0aW9uIFJkKCl7dGhpcy5pZD0wO3RoaXMuYT1udWxsO3RoaXMuYj10aGlzLmNvbnRlbnRUeXBlPSIifTtmdW5jdGlvbiBVKGEsYixjLGQsZSxmLGcsaCxrLGwsbSxwLHQsdyl7Ri5jYWxsKHRoaXMsYSk7dGhpcy5iPWI7dGhpcy5hPWM7dGhpcy5jPW5ldyBuYihjLGQsZSxmLHRoaXMsaCx3KTt0aGlzLlBhPWg7dGhpcy5vPXt9O3RoaXMucmE9Zjt0aGlzLnlhPTA7dGhpcy5tYT10aGlzLmY9dGhpcy5nPW51bGw7dGhpcy50YT0hMTt0aGlzLnc9dGhpcy5jYT1udWxsO3RoaXMuUz0hMTt0aGlzLmphPTA7dGhpcy5rYT0hMTt0aGlzLkQ9bnVsbDt0aGlzLlo9dGhpcy5lYT10aGlzLmg9ITE7dGhpcy5PPW5ldyBJO3RoaXMuRz10aGlzLlQ9dGhpcy5CPSExO3RoaXMuUj0wO3RoaXMuZ2E9MTU7dGhpcy5HYT10aGlzLnZhPXRoaXMuVT0hMTt0aGlzLm5hPTE7dGhpcy4kPWc7dGhpcy54YT0hMTt0aGlzLmw9bnVsbDt0aGlzLkhhPSExO3RoaXMuST10aGlzLko9dGhpcy5LPW51bGw7dGhpcy5WPSExO3RoaXMudT1tfHxudWxsO3RoaXMuRj1wfHxudWxsO3RoaXMuaj10fHxudWxsO3RoaXMuWT1udWxsO3RoaXMuYmE9CiExO3RoaXMuRGE9e307dGhpcy5GYT1rO3RoaXMuaT1udWxsO3RoaXMuaWE9ITE7dGhpcy5FYT0wO3RoaXMuQ2E9ZT9lLnNwbGl0KCI7IilbMF06IiI7dGhpcy5QPSExO3RoaXMud2E9MDt0aGlzLnNhPWw7dGhpcy5BPXRoaXMubT1udWxsfXIoVSxGKTtVLnByb3RvdHlwZS5CYT1mdW5jdGlvbigpe3JldHVybntTb3VyY2VCdWZmZXJNYW5hZ2VyOnRoaXMuY319O1UucHJvdG90eXBlLmdldERlYnVnPVUucHJvdG90eXBlLkJhO2Z1bmN0aW9uIFVkKGEsYil7cmV0dXJuIG5ldyBWaWRlb1BsYXllckJpdHJhdGVFc3RpbWF0b3IobmV3IHgoYS5hLmdldE51bWJlcigibGl2ZV9iaXRyYXRlX2VzdGltYXRlc19oYWxmX2xpZmUiLDIpKSxiLGEuYS5nZXROdW1iZXIoImxpdmVfYml0cmF0ZV9lc3RpbWF0ZXNfbWluaW11bV9zYW1wbGVfY291bnQiLDEpLGEuYS5nZXROdW1iZXIoImxpdmVfYml0cmF0ZV9lc3RpbWF0ZXNfbGFyZ2Vfc2FtcGxlX3dlaWdodF9mYWN0b3IiLDEwKSl9ClUucHJvdG90eXBlLnBhPWZ1bmN0aW9uKGEpe251bGwhPWEuaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemUmJih0aGlzLlI9TnVtYmVyKGEuaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemUpKTt2YXIgYj10aGlzLmEuZ2V0TnVtYmVyKCJpbml0aWFsX3N0cmVhbV9idWZmZXJfc2l6ZV9mb3JfdmlkZW9fc3RyZWFtIiwwKTswPGImJi0xIT09dGhpcy5DYS5pbmRleE9mKCJ2IikmJih0aGlzLlI9Yik7bnVsbCE9YS5keW5hbWljU3RyZWFtQnVmZmVyU2l6ZSYmKHRoaXMuamE9TnVtYmVyKGEuZHluYW1pY1N0cmVhbUJ1ZmZlclNpemUpKTtudWxsIT1hLnNtYXJ0QnVmZmVyQWRqdXN0bWVudFBhcmFtcyYmKHRoaXMuRGE9YS5zbWFydEJ1ZmZlckFkanVzdG1lbnRQYXJhbXMpO251bGwhPWEuc21hcnRCdWZmZXJBZGp1c3RtZW50RW5hYmxlZCYmKHRoaXMuYmE9Qm9vbGVhbihhLnNtYXJ0QnVmZmVyQWRqdXN0bWVudEVuYWJsZWQpKTtudWxsIT1hLnN0cmVhbUJ1ZmZlclNpemUmJih0aGlzLmdhPU51bWJlcihhLnN0cmVhbUJ1ZmZlclNpemUpKTsKbnVsbCE9YS5maXhCdWZmZXJpbmdHb2FsRGV0ZXJtaW5hdGlvbiYmKHRoaXMuVT1Cb29sZWFuKGEuZml4QnVmZmVyaW5nR29hbERldGVybWluYXRpb24pKTtudWxsIT1hLmFkZENkbkRlYnVnUXVlcnlQYXJhbWV0ZXJzJiYodGhpcy52YT1Cb29sZWFuKGEuYWRkQ2RuRGVidWdRdWVyeVBhcmFtZXRlcnMpKTtudWxsIT1hLnVzZUluaXRpYWxCdWZmZXJTaXplV2hlblBhdXNlZCYmKHRoaXMuR2E9Qm9vbGVhbihhLnVzZUluaXRpYWxCdWZmZXJTaXplV2hlblBhdXNlZCkpO251bGwhPWEuc2VnbWVudFJlcXVlc3RUaW1lb3V0JiYodGhpcy5jLlQ9TnVtYmVyKGEuc2VnbWVudFJlcXVlc3RUaW1lb3V0KSk7bnVsbCE9YS5yZXNvbHZlVmlkZW9UaW1lVXBkYXRlT25GcmFnbWVudGVkVGltZVJhbmdlcyYmKHRoaXMueGE9Qm9vbGVhbihhLnJlc29sdmVWaWRlb1RpbWVVcGRhdGVPbkZyYWdtZW50ZWRUaW1lUmFuZ2VzKSk7bnVsbCE9YS5wZXJmb3JtYW5jZUxvZ2dlciYmKHRoaXMubD10aGlzLm8ucGVyZm9ybWFuY2VMb2dnZXI9CmEucGVyZm9ybWFuY2VMb2dnZXIpO251bGwhPWEuYWJyTG9nZ2VyJiYodGhpcy5vLmFickxvZ2dlcj1hLmFickxvZ2dlcik7bnVsbCE9YS5yZWFwcGVuZEluaXRTZWdtZW50QWZ0ZXJBYm9ydCYmKHRoaXMuby5yZWFwcGVuZEluaXRTZWdtZW50QWZ0ZXJBYm9ydD1Cb29sZWFuKGEucmVhcHBlbmRJbml0U2VnbWVudEFmdGVyQWJvcnQpKTtudWxsIT1hLmxpdmVEYXRhRmV0Y2hNYXhSZXRyaWVzJiYodGhpcy5vLmxpdmVEYXRhRmV0Y2hNYXhSZXRyaWVzPU51bWJlcihhLmxpdmVEYXRhRmV0Y2hNYXhSZXRyaWVzKSk7bnVsbCE9YS5saXZlU291cmNlQnVmZmVyQ2xlYXJNYXhSZXRyaWVzJiYodGhpcy5vLmxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXM9TnVtYmVyKGEubGl2ZVNvdXJjZUJ1ZmZlckNsZWFyTWF4UmV0cmllcykpO251bGwhPWEuc2tpcEVtcHR5U2VnbWVudHMmJih0aGlzLm8uc2tpcEVtcHR5U2VnbWVudHM9Qm9vbGVhbihhLnNraXBFbXB0eVNlZ21lbnRzKSk7bnVsbCE9CmEucGxheWhlYWRGcmFnbWVudGVkR2FwRGlmZkFsbG93YW5jZSYmKHRoaXMuby5wbGF5aGVhZEZyYWdtZW50ZWRHYXBEaWZmQWxsb3dhbmNlPU51bWJlcihhLnBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2UpKTtudWxsIT1hLnVzZU1pY3JvVGFza1RpbWVvdXRzJiYodGhpcy5IYT1Cb29sZWFuKGEudXNlTWljcm9UYXNrVGltZW91dHMpKTthPXRoaXMuYztiPXRoaXMubztudWxsIT1iLnJlYXBwZW5kSW5pdFNlZ21lbnRBZnRlckFib3J0JiYoYS5SPUJvb2xlYW4oYi5yZWFwcGVuZEluaXRTZWdtZW50QWZ0ZXJBYm9ydCkpO251bGwhPWIucGVyZm9ybWFuY2VMb2dnZXImJihhLmw9Yi5wZXJmb3JtYW5jZUxvZ2dlcik7bnVsbCE9Yi5hYnJMb2dnZXImJihhLkk9Yi5hYnJMb2dnZXIpO251bGwhPWIubGl2ZURhdGFGZXRjaE1heFJldHJpZXMmJihhLk89Yi5saXZlRGF0YUZldGNoTWF4UmV0cmllcyk7bnVsbCE9Yi5saXZlU291cmNlQnVmZmVyQ2xlYXJNYXhSZXRyaWVzJiYoYS5LPQpiLmxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXMpO251bGwhPWIucGxheWhlYWRGcmFnbWVudGVkR2FwRGlmZkFsbG93YW5jZSYmKGEuUD1iLnBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2UpO251bGwhPWIuc2tpcEVtcHR5U2VnbWVudHMmJihhLlY9Yi5za2lwRW1wdHlTZWdtZW50cyl9O1UucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXtWZCh0aGlzKTt0aGlzLk8uZGVzdHJveSgpO3RoaXMucmE9dGhpcy5nPXRoaXMuTz1udWxsO3RoaXMuYy5kZXN0cm95KCk7dGhpcy5iPXRoaXMuYz1udWxsO3RoaXMuYS5nZXRCb29sKCJmaXhpbmdfc2NoZWR1bGVyX2Rpc2FibGVfbGVha3MiLCEwKSYmKHRoaXMudT1udWxsKTt0aGlzLkphPW51bGx9O249VS5wcm90b3R5cGU7bi5XYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmd9O24uRmI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mfTsKbi5LYz1mdW5jdGlvbihhKXt0aGlzLkJ8fGEudGhlbihmdW5jdGlvbigpe3RoaXMuQj0hMDt0aGlzLnd8fFYodGhpcywwKX0uYmluZCh0aGlzKSkuY2F0Y2goZnVuY3Rpb24oKXt9KTtyZXR1cm4gdGhpcy5PfTtuLkNiPWZ1bmN0aW9uKCl7dGhpcy5HPSEwO1dkKHRoaXMpfTtuLmZiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuR307Cm4uamI9ZnVuY3Rpb24oYSxiLGMsZCxlKXtpZihhIT10aGlzLmcpe3ZhciBmPTE7dGhpcy5hLmdldEJvb2woInVzZV9saXZlX2JpdHJhdGVfZXN0aW1hdGVzIiwhMSkmJm51bGwhPT10aGlzLm0mJjA8dGhpcy5nLmJhbmR3aWR0aCYmKGY9dGhpcy5tLmdldEVzdGltYXRlKCkvdGhpcy5nLmJhbmR3aWR0aCk7dmFyIGc9YS5hYTtnJiYodGhpcy5tYT1nLmNyZWF0ZSh0aGlzLmwsdGhpcy5QYSkpO3RoaXMuWj0hMDthLk0uY3JlYXRlKCkudGhlbihKKHRoaXMsZnVuY3Rpb24oZyl7aWYodGhpcy5iKXt0aGlzLlo9ITE7dmFyIGs9dGhpcy5nO3RoaXMuZz1hO3RoaXMuYS5nZXRCb29sKCJ1c2VfbGl2ZV9iaXRyYXRlX2VzdGltYXRlcyIsITEpJiYodGhpcy5tPVVkKHRoaXMsKGEuYmFuZHdpZHRofHwwKSpmKSk7dmFyIGw9dGhpcy5mO3RoaXMuZj1nO3RoaXMuYy5EPXRoaXMuZjtsJiZsLmEuRmMoKTt1ZCh0aGlzLmYsZnVuY3Rpb24oYSl7dmFyIGI9YTt0aGlzLmomJnRoaXMuai5zZXRTZWdtZW50cyh0aGlzLmYuZ2V0U2VnbWVudHMoKSk7CnRoaXMudSYmKGE9YSYmdGhpcy5hLmdldEJvb2woIm9wdGltaXplX3N0cmVhbV9nZXRfc2VnbWVudHNfY2FsbHMiLCExKT9hOnRoaXMuZi5nZXRTZWdtZW50cygpLHRoaXMuYS5nZXRCb29sKCJ0ZW1wbGF0ZWRfdXBkYXRlX3NybV9ieV9kZWx0YV9vZl9jaGFuZ2VkX3JlZmVyZW5jZXNfYm9vbCIsITEpJiZ0aGlzLmYuSyYmYi5sZW5ndGg8dGhpcy5mLmdldFNlZ21lbnRzKCkubGVuZ3RoJiYoYT10aGlzLmYuZ2V0U2VnbWVudHMoKS5zbGljZSgtKGIubGVuZ3RoKzEpKSksWGQodGhpcyx0aGlzLmcuaWR8fCIiLGEpKX0uYmluZCh0aGlzKSk7dGhpcy5qJiZ0aGlzLmouc2V0U2VnbWVudHModGhpcy5mLmdldFNlZ21lbnRzKCkpO2lmKHRoaXMudSl7dmFyIGw9W10sbT10aGlzLmEuZ2V0TnVtYmVyKCJ0ZW1wbGF0ZWRfY2h1bmtlZF9zZWdtZW50X3VwZGF0ZV9saW1pdF9pbnQiLDApO2lmKG0pe2c9dGhpcy5mLmxlbmd0aCgpO2Zvcih2YXIgbT1NYXRoLm1pbihnLG0pLHA9MTtwPD1tOysrcClsLnB1c2godGhpcy5mLmdldChnLQpwKSl9ZWxzZSBsPWcuZ2V0U2VnbWVudHMoKTtYZCh0aGlzLGEuaWR8fCIiLGwpfXRoaXMudGE9ITA7dGhpcy5jYT1kP2Q6bnVsbDt0aGlzLlN8fCh0aGlzLmEuZ2V0Qm9vbCgibWFrZV9lYXJseV90cmFja19zZWxlY3Rpb24iLCExKSYmdGhpcy5oJiYhdGhpcy5QJiYhdGhpcy53P1YodGhpcywwKTprP2I/WWQodGhpcywhMCxjKTplJiZZZCh0aGlzLCExKTpWKHRoaXMsMCkpfX0pKS5jYXRjaChKKHRoaXMsZnVuY3Rpb24oYSl7dGhpcy5aPSExOyJhYm9ydGVkIiE9YS50eXBlJiYodGhpcy5CPyhhPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGEpKTp0aGlzLk8ucmVqZWN0KGEpKX0pKX19O24uQ2M9ZnVuY3Rpb24oYSl7cmV0dXJuIFlkKHRoaXMsISFhKX07bi5IYz1mdW5jdGlvbigpe3RoaXMua2E9ITB9O24uSmM9ZnVuY3Rpb24oYSl7dGhpcy5FYT1hfTsKZnVuY3Rpb24gWGQoYSxiLGMpe2EuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9jaHVua2VkX3NlZ21lbnRfdXBkYXRlX2xpbWl0X2ludCIsMCkmJmEudS51cGRhdGVTZWdtZW50SW5kZXgoYixhLmYpO2EuYS5nZXRCb29sKCJ1c2VfdXBkYXRlX3NlZ21lbnRzX2J5X3NoYWthX3JlZmVyZW5jZSIsITApJiZhLnUudXBkYXRlU2VnbWVudHNCeVNoYWthUmVmZXJlbmNlcyhiLGMpfQpmdW5jdGlvbiBZZChhLGIsYyl7YS5nJiYhYS5TJiYoYS5TPSEwLFZkKGEpLGEuVD0hMSxudWxsIT09YS5BJiZhLkEucmVzZXQoKSxhLmMuYWJvcnQoKS50aGVuKEooYSxmdW5jdGlvbigpe3ZhciBhPXRoaXMuYi5jdXJyZW50VGltZTt0aGlzLmEuZ2V0Qm9vbCgic2V0X2N1cnJlbnRfdGltZV9pbl9yZXN5bmMiLCExKSYmMD09YT8odGhpcy5sJiZCYW56YWlPRFMuYnVtcEVudGl0eUtleSgyOTY2LCJ2aWRlb3Mud3d3LnNoYWthIiwic2V0X2N1cnJlbnRfdGltZV9pbl9yZXN5bmMiKSxhPXRoaXMuZi5maXJzdCgpLnN0YXJ0VGltZSk6dGhpcy5hLmdldEJvb2woImJldHRlcl9zZXRfY3VycmVudF90aW1lX2luX3Jlc3luYyIsITEpJiZhPHRoaXMuZi5maXJzdCgpLnN0YXJ0VGltZSYmKEJhbnphaU9EUy5idW1wRW50aXR5S2V5KDI5NjYsInZpZGVvcy53d3cuc2hha2EiLCJzZXRfY3VycmVudF90aW1lX2luX3Jlc3luYyIpLGE9dGhpcy5mLmZpcnN0KCkuc3RhcnRUaW1lK3RoaXMuYS5nZXROdW1iZXIoInJlc3luY19zZXRfY3VycmVudF90aW1lX2Z1ZGdlX2ZhY3RvciIsCjApKTtpZighYiYmMDxyYih0aGlzLmMsYSkmJjA8PUZiKHRoaXMuYyxhKSlyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7aWYoYylyZXR1cm4gQ2IodGhpcy5jLHRoaXMuYi5jdXJyZW50VGltZStjKTt0aGlzLmlhPSEwO3JldHVybiBCYih0aGlzLmMpfSkpLnRoZW4oSihhLGZ1bmN0aW9uKCl7dGhpcy5TPSExO1YodGhpcywwKX0pKS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7dGhpcy5TPSExOyJhYm9ydGVkIiE9YS50eXBlJiYodGhpcy5CPyhhPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGEpKTp0aGlzLk8ucmVqZWN0KGEpKX0pKSl9bi5JYz1mdW5jdGlvbihhKXtyZXR1cm4gMDxyYih0aGlzLmMsYSkmJjA8PUZiKHRoaXMuYyxhKX07bi52Yj1mdW5jdGlvbigpe307bi5EYj1mdW5jdGlvbigpe3JldHVybiEwfTsKZnVuY3Rpb24gWmQoYSl7YS5lYT1hLmVhfHwhYS5iLnBhdXNlZDthLmIucGF1c2VkfHxhLmJhfHwoYS5ZPURhdGUubm93KCksYS5iYT0hMCk7dmFyIGI9YS5EYSxjPW51bGw7aWYoYi5pbkV4cGVyaW1lbnQpaWYoYi51c2VTbWFydEJ1ZmZlcmluZyl7aWYoYS5iYSYmYS5ZKXt2YXIgYz0oRGF0ZS5ub3coKS1hLlkpLzFFMyxkPW51bGw7MT5jP2M9bnVsbDooZD0zPmM/Yi5idWZmZXJTaXplXzAwX3RvXzAzOjEwPmM/Yi5idWZmZXJTaXplXzAzX3RvXzEwOjMwPmM/Yi5idWZmZXJTaXplXzEwX3RvXzMwOjYwPmM/Yi5idWZmZXJTaXplXzMwX3RvXzYwOmIuYnVmZmVyU2l6ZV9hYm92ZV82MCxjPU1hdGgubWluKGQsYS5iLmR1cmF0aW9uKSl9fWVsc2UgYS5ZJiYoYz1iLm5vblNtYXJ0QnVmZmVyU2l6ZSk7Y3x8KGM9YS5HYSYmYS5iLnBhdXNlZD9hLlI6YS5nYSxhLmIucGF1c2VkJiYxPGEubmEmJihjKj1hLm5hKSxhLmphJiYhYS5iLnBhdXNlZCYmKGM9TWF0aC5tYXgoTWF0aC5taW4oYS5mLmxhc3QoKS5lbmRUaW1lLQphLmIuY3VycmVudFRpbWUsYS5qYSksYS5nYSkpKTtjPShhLlU/YS5oJiZhLmVhOmEuaCk/TWF0aC5tYXgoYS5SLGMpOmEuUjswPGEuYS5nZXROdW1iZXIoImF1ZGlvX3ZpZGVvX2J1ZmZlcl9kaWZmX3RocmVzaG9sZCIsMTQ0MDApJiYoYj1hLmIuYnVmZmVyZWQubGVuZ3RoP2EuYi5idWZmZXJlZC5lbmQoYS5iLmJ1ZmZlcmVkLmxlbmd0aC0xKTowLGI9TWF0aC5tYXgoMCxiLWEuYi5jdXJyZW50VGltZSksYz1NYXRoLm1pbihjLGIrYS5hLmdldE51bWJlcigiYXVkaW9fdmlkZW9fYnVmZmVyX2RpZmZfdGhyZXNob2xkIiwxNDQwMCkpKTtyZXR1cm4gY30KZnVuY3Rpb24gJGQoYSl7dmFyIGI9YS5hLmdldE51bWJlcigic3RhcnRfc3RyZWFtX2J1ZmZlcl9zaXplIiwxKSxjPWEuYS5nZXROdW1iZXIoImxvd19zdGFydF9zdHJlYW1fYnVmZmVyX3NpemUiLDEpO2lmKGIhPT1jKXt2YXIgZD1hLmEuZ2V0TnVtYmVyKCJsb3dfYmFuZHdpZHRoX3N0YXJ0X3N0cmVhbV9idWZmZXJfc2l6ZV90aHJlc2hvbGQiLDApLGU9YS5hLmdldE51bWJlcigic2NoZWR1bGVkX3ZpZGVvc19zdGFydF9zdHJlYW1fYnVmZmVyX3NpemVfdGhyZXNob2xkIiwwKTtpZigwPGQmJmEucmEuZ2V0QmFuZHdpZHRoKCk8ZCYmVmlkZW9TdHJlYW1pbmdUYXNrUXVldWVQcm92aWRlci5nZXRRdWV1ZVNpemUoInZpZGVvIik+PWUpcmV0dXJuIGN9cmV0dXJuIGJ9ZnVuY3Rpb24gYWUoYSxiKXtyZXR1cm4gcmIoYS5jLGEuaD9iOmIrKGEuRHx8MCkpfQpmdW5jdGlvbiBiZShhKXtpZihhLmgmJiFhLkJ8fGEuYS5nZXRCb29sKCJtYWtlX2Vhcmx5X3RyYWNrX3NlbGVjdGlvbiIsITEpJiZhLlp8fGEuYS5nZXRCb29sKCJwcmV2ZW50X2ZldGNoX3doaWxlX2ZldGNoaW5nX2luX3N0cmVhbSIsITEpJiZhLlApcmV0dXJuIGEudz1udWxsLFByb21pc2UucmVzb2x2ZSgpO3ZhciBiO2lmKGI9YS5CJiYhYS5HKWI9MTxhLmMuYS5idWZmZXJlZC5sZW5ndGg/ITA6ITE7aWYoYiYmKGEua2F8fEhiKGEuYyxhLmIpKSlyZXR1cm4gYS54YSYmKGEuYi5jdXJyZW50VGltZT1HYihhLmIpKSxudWxsPT09YS5LJiYoYS5rYT0hMSxZZChhLCEwKSksUHJvbWlzZS5yZXNvbHZlKCk7YS5hLmdldE51bWJlcigiZGVjb3VwbGVfc3RyZWFtX29uX3VwZGF0ZV9sb29wX2Zyb21fcmVxdWVzdF9sb29wX2ludCIsMCl8fChhLnc9bnVsbCk7Yj1hLmc7dmFyIGM9YS5mLGQ9YS5iLmN1cnJlbnRUaW1lO2EuYS5nZXRCb29sKCJ1c2VfcGVuZGluZ19zZWVrX3Bvc2l0aW9uX2Zvcl9yZWZlcmVuY2UiLAohMSkmJjA9PT1hLmIucmVhZHlTdGF0ZSYmIWQmJmEuSiYmKGQ9YS5KKTtpZihhLlUmJiFhLmgmJmFlKGEsZCk+PSRkKGEpKXJldHVybiBhLmEuZ2V0Qm9vbCgiZml4X2Nocm9tZV9tc2VfcmVncmVzc2lvbiIsITEpJiYxPT09YS5iLnJlYWR5U3RhdGUmJjA8YS5iLmJ1ZmZlcmVkLmxlbmd0aCYmKGEuYi5jdXJyZW50VGltZT1hLmIuY3VycmVudFRpbWUpLGNlKGEpLFYoYSwwKSxQcm9taXNlLnJlc29sdmUoKTt2YXIgZT1udWxsLGY9W107bnVsbCE9PWEuSyYmKGQ9YS5LKTtpZihhZShhLGQpPj1aZChhKSlpZihhLlQ9ITAsbnVsbCE9PWEuSSYmYS5JLnJlc29sdmUoKSxhLlV8fGNlKGEpLGY9ZGUoYSk/amUoYSxkKTpbXSwwPGYubGVuZ3RoKWU9ZlswXTtlbHNlIHJldHVybiBWKGEsMUUzLyg1KihNYXRoLmFicyhhLmIucGxheWJhY2tSYXRlKXx8MSkpKSxQcm9taXNlLnJlc29sdmUoKTtlbHNle3ZhciBnPTE7YS5qJiYoZz1hLmouZ2V0TnVtYmVyT2ZTZWdtZW50cygpKTt2YXIgaD1xYihhLmMpOwphLlYmJihoPW51bGwsbnVsbCE9PWEuSyYmKGEuVj0hMSkpO2EuYS5nZXRCb29sKCJmaW5kX2xhc3RfaW5zZXJ0ZWRfc2VnbWVudF9pbl9zZWdtZW50X2luZGV4IiwhMSkmJmgmJiFjLmEuYSYmKGg9Yy5maW5kKGguc3RhcnRUaW1lKSk7YS5hLmdldEJvb2woInNldF9wZW5kaW5nX3NlZWtfb25fc2V0X2N1cnJlbnRfdGltZV9mYWlsdXJlIiwhMSkmJm51bGwhPWEuSiYmKGQ9YS5KLGEuSj1udWxsKTtnPWtlKGEsZCxjLGcsaCk7ZT1nWzBdO2EuaiYmKGEuai5zZXRGdXR1cmVTZWdtZW50cyhnKSxhLmouc2V0QnVmZmVyaW5nR29hbChaZChhKS1hZShhLGQpKSk7IWUmJmRlKGEpJiYoZj1qZShhLGQpLDA8Zi5sZW5ndGgmJihlPWZbMF0pKX1pZighZSlyZXR1cm4gY2UoYSksYS5CJiYhYS5HJiYoYS5HPSEwLFdkKGEpKSxWKGEsMjAwKSxQcm9taXNlLnJlc29sdmUoKTthLmEuZ2V0Qm9vbCgiY3JlYXRlX293bl9zZWdtZW50X3JlZmVyZW5jZV9mb3Jfc2JtIiwhMSkmJihlPWpkKGUsZS5zdGFydFRpbWUsCmUuZW5kVGltZSkpO2xlKGEsbWUoYSxkLGYpLGIuaWR8fCIiKTtuZShhLG1lKGEsZCxmKSk7YS5hLmdldEJvb2woInJlZnJlc2hfc2VnbWVudF9yZWZlcmVuY2VfZmFpbG92ZXJfdXJpIiwhMCkmJihlLnVybD1lLnVybC5jbG9uZSgpKTthLlA9ITA7YS53YT1EYXRlLm5vdygpOyJ2aWRlbyI9PT1iLm1pbWVUeXBlLnNwbGl0KCIvIilbMF0mJmEucmEuc2V0UmVwcmVzZW50YXRpb25JRChiLmlkKTtjPWEuYy5mZXRjaChlLGMucyxiLmErYS5FYSxhLm1hLGEudmEmJiFhLmIucGF1c2VkLDA8Zi5sZW5ndGgsYS51LGEuRik7Yz1jLnRoZW4oSihhLGZ1bmN0aW9uKGEpe3RoaXMuYS5nZXRCb29sKCJ1cGRhdGVzX3ByaW9yaXR5X29uX2ZldGNoX2NvbXBsZXRlIiwhMSkmJm5lKHRoaXMsbWUodGhpcyxkLFtdKSk7dGhpcy5zYS5pbmZvcm1OZXR3b3JrUmVzdW1lZCgpO3JldHVybiBhfSkpO2EuJCYmInZpZGVvIj09PWIubWltZVR5cGUuc3BsaXQoIi8iKVswXSYmYS4kLmFkZChlLnN0YXJ0VGltZXx8CjAsZS5lbmRUaW1lfHwwLHtpZDpiLmlkLHJlYXNvbjphLmNhLHBlcmZvcm1hbmNlTG9nZ2VyOmEubD9hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJzdHJlYW1fc3dpdGNoIik6bnVsbH0pO2EubWE9bnVsbDthLnRhJiYoYS50YT0hMSxmPWEuY2EsYS5jYT1udWxsLG9lKGEsYixmLGEubGEoKSkpO2EuRz0hMTtyZXR1cm4gYy50aGVuKEooYSxmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5hLmdldEJvb2woImNsZWFyX29sZF9idWZmZXIiLCExKT9FYih0aGlzLmMsdGhpcy5iLmN1cnJlbnRUaW1lKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGF9KTphfSkpLnRoZW4oSihhLGZ1bmN0aW9uKGEpe3ZhciBiPWEuVyxjPWEuV2M7dGhpcy5ofHwodGhpcy55YT1jKTt0aGlzLmEuZ2V0Qm9vbCgidXNlX2xpdmVfYml0cmF0ZV9lc3RpbWF0ZXMiLCExKSYmbnVsbCE9YSYmMDxhLkRjJiYwPGEuSCYmKG51bGw9PT10aGlzLm0mJih0aGlzLm09VWQodGhpcyx0aGlzLmcuYmFuZHdpZHRofHwwKSksdGhpcy5tLnNhbXBsZSg4KgphLkRjLGEuSCkpO2E9dGhpcy5hLmdldE51bWJlcigiYnVmZmVyX3ZlbG9jaXR5X3RpbWVfaW5fcGFzdF90b19jb25zaWRlciIsMCk7MDxhJiZudWxsIT09dGhpcy5nJiYidmlkZW8iPT09TWQodGhpcy5nKSYmKG51bGw9PT10aGlzLkEmJih0aGlzLkE9bmV3IEJ1ZmZlclZlbG9jaXR5KGEpKSx0aGlzLkEucmVjb3JkQnVmZmVyQWhlYWQocmIodGhpcy5jLHRoaXMuYi5jdXJyZW50VGltZSkpKTt0aGlzLlA9ITE7InZpZGVvIj09PSh0aGlzLmc/dGhpcy5nLm1pbWVUeXBlLnNwbGl0KCIvIilbMF06bnVsbCkmJnRoaXMuZGlzcGF0Y2hFdmVudCh5KHt0eXBlOiJmZXRjaF9lbmQiLGJ1YmJsZXM6ITAsZGV0YWlsOntzdHJlYW1fZmV0Y2hfdGltZV9tczpEYXRlLm5vdygpLXRoaXMud2Esc2VnbWVudF9sZW5ndGhfbXM6MUUzKihlLmVuZFRpbWUtZS5zdGFydFRpbWUpfX0pKTtudWxsPT10aGlzLkQmJih0aGlzLkQ9Yik7dGhpcy5pYSYmMDxyYih0aGlzLmMsZCkmJih0aGlzLmlhPSExLHRoaXMuYS5nZXRCb29sKCJkaXNhYmxlX251ZGdlIiwKITEpfHwoYj15KHt0eXBlOiJzaG91bGRfbnVkZ2UifSksdGhpcy5kaXNwYXRjaEV2ZW50KGIpKSk7Vih0aGlzLDApfSkpLmNhdGNoKEooYSxmdW5jdGlvbihhKXt0aGlzLlA9ITE7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfSkpfWZ1bmN0aW9uIG1lKGEsYixjKXt2YXIgZD1hLmg/YjpiKyhhLkR8fDApO3JldHVybnthZGRpdGlvbmFsU2VnbWVudHNSZXF1aXJlZDpjLHBsYXloZWFkOmIsYnVmZmVyU3RhcnQ6ZCxidWZmZXJFbmQ6YWUoYSxiKStkLGJ1ZmZlcmluZ0dvYWw6WmQoYSksaXNQbGF5aW5nOiFhLmIucGF1c2VkfX1mdW5jdGlvbiBsZShhLGIsYyl7YS51JiZhLnUudXBkYXRlUGxheWVyU3RhdGUoYyxiKX1mdW5jdGlvbiBuZShhLGIpe2EuRiYmYS5GLnVwZGF0ZVBsYXllclN0YXRlKGIpfQpmdW5jdGlvbiBwZShhLGIsYyl7dmFyIGQ9bnVsbCE9PWEuaSYmLTE8YS5pJiZhLmk8Yy5sZW5ndGgoKS0xP2MuZ2V0KGEuaSk6bnVsbCxlPW51bGw7aWYobnVsbD09PWEuaXx8IWR8fGQuc3RhcnRUaW1lPmIpcmV0dXJuIGU9Yy5maW5kSW5kZXgoYiksYS5pPWU7Zm9yKGQ9YS5pO2Q8PWEuaSsxO2QrKylpZihlPWMuZ2V0KGQpLGUuc3RhcnRUaW1lPD1iJiZlLmVuZFRpbWU+YilyZXR1cm4gYS5pPWQ7ZT1jLmZpbmRJbmRleChiKTtyZXR1cm4oYS5pPWUpfHwtMX1mdW5jdGlvbiBkZShhKXtyZXR1cm4gYS5hLmdldEJvb2woInJlcGxhY2VfbG93ZXJfcXVhbGl0eV9idWZmZXIiLCExKSYmbnVsbD09PWEuRiYmYS5lYSYmbnVsbCE9PWEuJCYmInZpZGVvIj09PU1kKGEuZykmJm51bGwhPT1hLmZ9CmZ1bmN0aW9uIGplKGEsYil7aWYoIWEuRmF8fCFhLmcuaWR8fCFhLmYpcmV0dXJuW107dmFyIGM9cGUoYSxiLGEuZik7cmV0dXJuLTE9PT1jP1tdOkJ1ZmZlclJlcGxhY2VtZW50SGVscGVyLmdldFNlZ21lbnRzVG9SZXBsYWNlTG93ZXJRdWFsaXR5KGEuZi5nZXRTZWdtZW50cygpLGIsYyxhLmcuaWQsYS5GYSxhLiQse3RocmVzaG9sZEJlZm9yZTphLmEuZ2V0TnVtYmVyKCJidWZmZXJfcmVwbGFjZW1lbnRfYmVoaW5kX3RocmVzaG9sZCIsNSksdGhyZXNob2xkQWZ0ZXI6YS5hLmdldE51bWJlcigiYnVmZmVyX3JlcGxhY2VtZW50X2FoZWFkX3RocmVzaG9sZCIsMTUpLHdyYXBSZXBsYWNlbWVudFBhc3RFbmQ6YS5hLmdldEJvb2woIndyYXBfcmVwbGFjZW1lbnRfcGFzdF9lbmQiLCExKX0pfQpuLnpjPWZ1bmN0aW9uKCl7dmFyIGE7aWYodGhpcy5sKXt2YXIgYj10aGlzLmEuZ2V0TnVtYmVyKCJzdHJlYW1fb251cGRhdGVfc2FtcGxpbmciLDApO2ImJjA9PT1NYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqYikmJihhPXRoaXMubC5nZXRPcGVyYXRpb25Mb2dnZXIoInN0cmVhbV9vbnVwZGF0ZSIpLnN0YXJ0KCkpfXZhciBjO3RoaXMuYS5nZXROdW1iZXIoImRlY291cGxlX3N0cmVhbV9vbl91cGRhdGVfbG9vcF9mcm9tX3JlcXVlc3RfbG9vcF9pbnQiLDApJiZWKHRoaXMsdGhpcy5hLmdldE51bWJlcigiZGVjb3VwbGVfc3RyZWFtX29uX3VwZGF0ZV9sb29wX2Zyb21fcmVxdWVzdF9sb29wX2ludCIsMCkpO2lmKHRoaXMuYS5nZXRCb29sKCJjYXRjaF9zdHJlYW1fdXBkYXRlX3N5bmNfY29kZV9lcnJvciIsITEpKXRyeXtjPWJlKHRoaXMpfWNhdGNoKGQpe2QudHlwZT0idW5jYXVnaHQiLGEmJmEuc2V0RXJyb3IoZCksYz1Qcm9taXNlLnJlamVjdChkKX1lbHNlIGM9YmUodGhpcyk7Yy5jYXRjaChKKHRoaXMsCmZ1bmN0aW9uKGEpe2lmKCJhYm9ydGVkIiE9YS50eXBlKXtpZigic291cmNlYnVmZmVyX2Z1bGwiPT09YS50eXBlKXJldHVybiBCYih0aGlzLmMpLnRoZW4oSih0aGlzLGZ1bmN0aW9uKCl7Vih0aGlzLDApfSkpO3ZhciBiPVswLDQwNCw0MTAsNTAyLDUwMyw1MDRdO3RoaXMuYS5nZXRCb29sKCJlbmFibGVfZG91YmxlX2luZ2VzdCIsITEpJiZiLnB1c2goNDE3LDIwMCk7Yj0tMT09PWIuaW5kZXhPZihhLnN0YXR1cyk7aWYoIm5ldCI9PT1hLnR5cGUmJiFiJiZ0aGlzLmcpaWYodGhpcy5hLmdldEJvb2woImFsbG93X2luZmluaXRlX3JldHJ5X29uX25ldF9lcnIiLCEwKSlzd2l0Y2goYS5zdGF0dXMpe2Nhc2UgNDA0OlYodGhpcywyRTMpO2JyZWFrO2Nhc2UgNDEwOnRoaXMuYS5nZXRCb29sKCJlbmRfYWxsX3N0cmVhbXNfb25fNDEwIiwhMSk/cWUodGhpcyk6dGhpcy5DYigpO2JyZWFrO2Nhc2UgNDE3OmNhc2UgMjAwOmEucmVzcG9uc2VIZWFkZXJzJiZudWxsIT1hLnJlc3BvbnNlSGVhZGVyc1sieC1mYi12aWRlby1yZXBsaWNhIl0/CnRoaXMuZGlzcGF0Y2hFdmVudCh5KHt0eXBlOiJyZXBsaWNhc3dpdGNoIixidWJibGVzOiEwLHJlcGxpY2E6YS5yZXNwb25zZUhlYWRlcnNbIngtZmItdmlkZW8tcmVwbGljYSJdLHVybDphLnVybCxzdGF0dXM6YS5zdGF0dXN9KSk6Yj0hMDticmVhaztkZWZhdWx0OlYodGhpcywxRTMpfWVsc2UgVih0aGlzLDFFMyksYj0hMDswPT09YS5zdGF0dXM/dGhpcy5zYS5pbmZvcm1OZXR3b3JrSW50ZXJydXB0ZWQoKTp0aGlzLnNhLmluZm9ybU5ldHdvcmtSZXN1bWVkKCk7aWYoIXRoaXMuYS5nZXRCb29sKCJhbGxvd19pbmZpbml0ZV9yZXRyeV9vbl9uZXRfZXJyIiwhMCl8fGIpYj1BKGEpLHRoaXMuZGlzcGF0Y2hFdmVudChiKSx0aGlzLmwmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgYj10aGlzLmwuZ2V0RXZlbnRMb2dnZXIoInN0cmVhbV9lcnJvcl9mYWxsYmFjayIpLnNldEVycm9yKGEpLnNldFR5cGUodGhpcy5DYS5zcGxpdCgiLyIpWzBdKTt0aGlzLmI/Yi5zZXRSZXN1bHQoImZhaWxlZCIpOgpiLnNldFJlc3VsdCgic3VjY2VzcyIpO2IubG9nKCl9LmJpbmQodGhpcyksMCl9fSkpO2EmJmEubG9nKCl9O2Z1bmN0aW9uIGtlKGEsYixjLGQsZSl7dmFyIGY9LTE7aWYoYS5hLmdldEJvb2woInRlbXBsYXRlZF9mYXN0ZXJfc3RyZWFtX2dldF9uZXh0X24iLCExKSYmMT09PWQmJm51bGwhPWUmJm51bGwhPWUuZW5kVGltZSlyZXR1cm4oYz1jLmZpbmQoZS5lbmRUaW1lKSk/W2NdOltdO251bGwhPWU/Zj1udWxsIT1lLmVuZFRpbWU/Yy5maW5kSW5kZXgoZS5lbmRUaW1lKTotMTooZj1wZShhLGIsYyksMD5mJiYoZj1jLmxlbmd0aCgpP2MubGVuZ3RoKCktMTotMSkpO2E9W107aWYoMDw9Zilmb3IoYj1mO2I8ZitkJiZiPGMubGVuZ3RoKCk7YisrKWEucHVzaChjLmdldChiKSk7cmV0dXJuIGF9CmZ1bmN0aW9uIGNlKGEpe2lmKCFhLmgmJm51bGwhPWEuRCl7YS5oPSEwO3ZhciBiPWEuYyxjPWEuRCxkPWMtYi5VOzAhPWQmJihiLmI9a2QoYi5iLGQpLGIuVT1jKTthLk8ucmVzb2x2ZShhLkQpfX1uLkVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaH07VS5wcm90b3R5cGUuaGFzU3RhcnRlZD1VLnByb3RvdHlwZS5FZDtVLnByb3RvdHlwZS5rYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLlR9O1UucHJvdG90eXBlLmhhc0hpdEJ1ZmZlcmluZ0dvYWw9VS5wcm90b3R5cGUua2I7VS5wcm90b3R5cGUubGE9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09PXRoaXMubT9udWxsOnRoaXMubS5nZXRFc3RpbWF0ZSgpfTtVLnByb3RvdHlwZS5nZXRCaXRyYXRlRXN0aW1hdGU9VS5wcm90b3R5cGUubGE7VS5wcm90b3R5cGUucWI9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09PXRoaXMuQT9udWxsOnRoaXMuQS5nZXRWZWxvY2l0eSgpfTtVLnByb3RvdHlwZS5nZXRCdWZmZXJWZWxvY2l0eT1VLnByb3RvdHlwZS5xYjsKZnVuY3Rpb24gb2UoYSxiLGMsZCl7dmFyIGU9Yi5taW1lVHlwZS5zcGxpdCgiLyIpWzBdO2I9eSh7dHlwZToiYWRhcHRhdGlvbiIsaWQ6Yi5pZCxidWJibGVzOiEwLGNvbnRlbnRUeXBlOmUsc2l6ZToidmlkZW8iIT1lP251bGw6e3dpZHRoOmIud2lkdGgsaGVpZ2h0OmIuaGVpZ2h0fSxiYW5kd2lkdGg6ZHx8Yi5iYW5kd2lkdGgscmVhc29uOmN9KTthLmRpc3BhdGNoRXZlbnQoYil9ZnVuY3Rpb24gcWUoYSl7dmFyIGI9eSh7dHlwZToic2hvdWxkX2VuZF9hbGxfc3RyZWFtcyJ9KTthLmRpc3BhdGNoRXZlbnQoYil9ZnVuY3Rpb24gV2QoYSl7dmFyIGI9eSh7dHlwZToiZW5kZWQifSk7YS5kaXNwYXRjaEV2ZW50KGIpfVUucHJvdG90eXBlLk9hPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuRn07VS5wcm90b3R5cGUuZ2V0VmlkZW9TdHJlYW1pbmdNYW5hZ2VyPVUucHJvdG90eXBlLk9hOwpmdW5jdGlvbiBWKGEsYil7VmQoYSk7IWImJmEuSGE/UHJvbWlzZS5yZXNvbHZlKCkudGhlbihhLnpjLmJpbmQoYSkpOmEudz1zZXRUaW1lb3V0KGEuemMuYmluZChhKSxiKX1mdW5jdGlvbiBWZChhKXtudWxsIT1hLncmJihjbGVhclRpbWVvdXQoYS53KSxhLnc9bnVsbCl9VS5wcm90b3R5cGUuc2I9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy55YX07VS5wcm90b3R5cGUuZ2I9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jLml9O1UucHJvdG90eXBlLmdldFN0cmVhbVByb2dyZXNzVHJhY2tlcj1VLnByb3RvdHlwZS5nYjtmdW5jdGlvbiByZShhLGIpe2EuSz1iO2EuVj0hMDthLkl8fChhLkk9bmV3IEkpO3JldHVybiBhLkl9O2Z1bmN0aW9uIHNlKGEpe3RoaXMuYj1hO3RoaXMuYT1udWxsfXNlLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5hJiYodGhpcy5hLmRlc3Ryb3koKSx0aGlzLmE9bnVsbCl9O3NlLnByb3RvdHlwZS5jcmVhdGU9ZnVuY3Rpb24oKXtpZih0aGlzLmEpcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLmEpO3ZhciBhPW5ldyBpZCgwLG51bGwsdGhpcy5iLDAsMCksYT1uZXcgVChbYV0sMSk7dGhpcy5hPW5ldyBSKGEpO3JldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5hKX07c2UucHJvdG90eXBlLmM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hfTtmdW5jdGlvbiB0ZShhLGIpe0YuY2FsbCh0aGlzLGEpO3RoaXMuYj1iO3RoaXMuaj0hMDt0aGlzLm09dGhpcy5nPW51bGw7dGhpcy5mPW5ldyBJO3RoaXMuYT1udWxsfXIodGUsRik7dGUucHJvdG90eXBlLnBhPWZ1bmN0aW9uKCl7fTt0ZS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuYSYmdGhpcy5iLnJlbW92ZUNoaWxkKHRoaXMuYSk7dGhpcy5mLmRlc3Ryb3koKTt0aGlzLkphPXRoaXMuYj10aGlzLmc9dGhpcy5tPXRoaXMuYT10aGlzLmY9bnVsbH07bj10ZS5wcm90b3R5cGU7bi5XYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmd9O24uRmI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tfTtuLktjPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZn07bi5mYj1mdW5jdGlvbigpe3JldHVybiEwfTtuLkNiPWZ1bmN0aW9uKCl7fTsKbi5qYj1mdW5jdGlvbihhKXthLk0uY3JlYXRlKCkudGhlbihKKHRoaXMsZnVuY3Rpb24oYil7aWYodGhpcy5iKXtpZigwPT1iLmxlbmd0aCgpKXJldHVybiBQcm9taXNlLnJlamVjdChFcnJvcigiTm8gc3VidGl0bGVzIFVSTCBhdmFpbGFibGUuIikpO3ZhciBjPXRoaXMuZzt0aGlzLmc9YTt0aGlzLm09YjtiPWIuZmlyc3QoKS51cmwuY1swXS50b1N0cmluZygpO3ZhciBkPXRoaXMuRGIoKTt0aGlzLmEmJih0aGlzLnZiKCExKSx0aGlzLmIucmVtb3ZlQ2hpbGQodGhpcy5hKSk7dGhpcy5hPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRyYWNrIik7dGhpcy5iLmFwcGVuZENoaWxkKHRoaXMuYSk7dGhpcy5hLnNyYz1iO3RoaXMudmIoZCk7Yj15KHt0eXBlOiJhZGFwdGF0aW9uIixidWJibGVzOiEwLGNvbnRlbnRUeXBlOiJ0ZXh0IixzaXplOm51bGwsYmFuZHdpZHRoOmEuYmFuZHdpZHRofSk7dGhpcy5kaXNwYXRjaEV2ZW50KGIpO2N8fHRoaXMuZi5yZXNvbHZlKDApfX0pKX07bi5DYz1mdW5jdGlvbigpe307Cm4uSGM9ZnVuY3Rpb24oKXt9O24uSWM9ZnVuY3Rpb24oKXtyZXR1cm4hMH07bi52Yj1mdW5jdGlvbihhKXt0aGlzLmo9YTt0aGlzLmEmJih0aGlzLmEudHJhY2subW9kZT1hPyJzaG93aW5nIjoiZGlzYWJsZWQiKX07bi5EYj1mdW5jdGlvbigpe3RoaXMuYSYmKHRoaXMuaj0ic2hvd2luZyI9PXRoaXMuYS50cmFjay5tb2RlKTtyZXR1cm4gdGhpcy5qfTtuLnNiPWZ1bmN0aW9uKCl7cmV0dXJuIDB9O24uSmM9ZnVuY3Rpb24oKXt9O2Z1bmN0aW9uIHVlKCl7fQp1ZS5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9bnVsbDt0cnl7dmFyIGY7dmFyIGc9bmV3IElhKGIpO2lmKDQ0MDc4Njg1MSE9S2EoZykuaWQpZj1udWxsO2Vsc2V7dmFyIGg9S2EoZyk7aWYoNDA4MTI1NTQzIT1oLmlkKWY9bnVsbDtlbHNle3ZhciBrPWguYS5ieXRlT2Zmc2V0LGw7dmFyIG09bmV3IElhKGguYSk7Zm9yKGI9bnVsbDtEYShtLmEpOyl7dmFyIHA9S2EobSk7aWYoMzU3MTQ5MDMwPT1wLmlkKXtiPXA7YnJlYWt9fWlmKGIpe2Zvcih2YXIgdD1uZXcgSWEoYi5hKSxwPTFFNixtPW51bGw7RGEodC5hKTspe3ZhciB3PUthKHQpO2lmKDI4MDc3Mjk9PXcuaWQpcD1PYSh3KTtlbHNlIGlmKDE3NTQ1PT13LmlkKWlmKGI9dyw0PT1iLmEuYnl0ZUxlbmd0aCltPWIuYS5nZXRGbG9hdDMyKDApO2Vsc2UgaWYoOD09Yi5hLmJ5dGVMZW5ndGgpbT1iLmEuZ2V0RmxvYXQ2NCgwKTtlbHNlIHRocm93IG5ldyBSYW5nZUVycm9yKCJFYm1sRWxlbWVudDogZmxvYXRpbmcgcG9pbnQgbnVtYmVycyBtdXN0IGJlIDQgb3IgOCBieXRlcy4iKTt9bnVsbD09Cm0/bD1udWxsOih0PXAvMUU5LGw9e0diOnQsZHVyYXRpb246bSp0fSl9ZWxzZSBsPW51bGw7Zj1sP3tBZDprLEdiOmwuR2IsZHVyYXRpb246bC5kdXJhdGlvbn06bnVsbH19aWYoZil7dmFyIHo9S2EobmV3IElhKGEpKTtpZig0NzUyNDk1MTUhPXouaWQpZT1udWxsO2Vsc2V7dmFyIEg9Zi5BZCxkYT1mLkdiLGVhPWYuZHVyYXRpb247YT1bXTtmb3IodmFyIEFhPW5ldyBJYSh6LmEpLGs9Zj16PS0xO0RhKEFhLmEpOyl7dmFyIGNiPUthKEFhKTtpZigxODc9PWNiLmlkKXt2YXIgbmE7dmFyIHZkPW5ldyBJYShjYi5hKSx3ZD1LYSh2ZCk7aWYoMTc5IT13ZC5pZCluYT1udWxsO2Vsc2V7dmFyIFllPU9hKHdkKSx4ZD1LYSh2ZCk7aWYoMTgzIT14ZC5pZCluYT1udWxsO2Vsc2V7dmFyIGVlPW5ldyBJYSh4ZC5hKTtmb3IobD0wO0RhKGVlLmEpOyl7dmFyIGZlPUthKGVlKTtpZigyNDE9PWZlLmlkKXtsPU9hKGZlKTticmVha319bmE9e3piOlllLHlkOmx9fX1pZihuYSl7dmFyIGdlPWRhKm5hLnpiLApoZT1IK25hLnlkO2lmKDA8PXope3ZhciBOYz1uZXcgSyhkLGMsayxoZS0xKSxBZj1uYS56Yi1mO2EucHVzaChuZXcgaWQoeixnZSxOYyxuYS56YixBZikpfXo9Z2U7Zj1uYS56YjtrPWhlfX19MDw9eiYmKE5jPW5ldyBLKGQsYyxrLG51bGwpLGEucHVzaChuZXcgaWQoeixlYSxOYyxmLGVhL2RhLWYpKSk7ZT1hfX1lbHNlIGU9bnVsbH1jYXRjaChpZSl7aWYoIShpZSBpbnN0YW5jZW9mIFJhbmdlRXJyb3IpKXRocm93IGllO31yZXR1cm4gZX07ZnVuY3Rpb24gdmUoYSxiLGMsZCxlLGYsZyxoLGssbCxtKXt0aGlzLmg9YTt0aGlzLm89Yjt0aGlzLmI9Yzt0aGlzLm09bHx8bnVsbDt0aGlzLmo9bXx8bnVsbDt0aGlzLmE9ZDt0aGlzLmc9ZTt0aGlzLmY9Zjt0aGlzLnc9Zzt0aGlzLlJhPW51bGw7dGhpcy5pPWg7dGhpcy5sPWt8fG51bGw7dGhpcy51PW51bGx9dmUucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmk9dGhpcy5vPXRoaXMuaD1udWxsO3RoaXMuYS5LYSgpO3RoaXMuYT1udWxsO3RoaXMuZiYmKHRoaXMuZi5LYSgpLHRoaXMuZj1udWxsKTt0aGlzLmcmJih0aGlzLmcuS2EoKSx0aGlzLmc9bnVsbCk7dGhpcy5SYT1udWxsfTt2ZS5wcm90b3R5cGUuUWM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5SYX07dmUucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbigpe3JldHVybiB3ZSh0aGlzKX07dmUucHJvdG90eXBlLnBiPWZ1bmN0aW9uKCl7cmV0dXJuIHdlKHRoaXMpfTsKZnVuY3Rpb24gd2UoYSl7aWYoYS5SYSlyZXR1cm4gYS5SYTt2YXIgYj1udWxsO2EubCYmKGI9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigiY3JlYXRlX2NvbnRhaW5lcl9zZWdtZW50X2luZGV4X3NvdXJjZSIpLnN0YXJ0KCkpO2lmKG51bGwhPT1hLm0mJihudWxsIT09YS5qfHwid2VibSIhPT1hLmIpKXJldHVybiB4ZShhLGEubSxhLmosYik7dmFyIGM9W2EuYS5mZXRjaChudWxsLG51bGwsYS5sLGIpXTsid2VibSI9PWEuYiYmYy5wdXNoKGEuZy5mZXRjaChudWxsLG51bGwsYS5sLGIpKTthLlJhPVByb21pc2UuYWxsKGMpLnRoZW4oSihhLGZ1bmN0aW9uKGEpe3JldHVybiB4ZSh0aGlzLGFbMF0sYVsxXXx8bnVsbCxiKX0pKTtyZXR1cm4gYS5SYX0KZnVuY3Rpb24geGUoYSxiLGMsZCl7dmFyIGU9bnVsbDsibXA0Ij09YS5iPyhlPW5ldyB0ZCxlPWUucGFyc2UobmV3IERhdGFWaWV3KGIpLGEuYS5zdGFydEJ5dGUsYS5hLmMsYS5pLGEuZikpOiJ3ZWJtIj09YS5iJiYoZT1uZXcgdWUsZT1lLnBhcnNlKG5ldyBEYXRhVmlldyhiKSxuZXcgRGF0YVZpZXcoYyksYS5hLmMsYS5pKSk7aWYoIWUpcmV0dXJuIGE9RXJyb3IoIkZhaWxlZCB0byBwYXJzZSBTZWdtZW50UmVmZXJlbmNlcyBmcm9tICIrYS5hLnRvU3RyaW5nKCkrIiAob3Igb25lIG9mIGl0cyBmYWxsYmFja3MpLiIpLGEudHlwZT0ic3RyZWFtIixQcm9taXNlLnJlamVjdChhKTtiPW5ldyBUKGUsZS5zKTt2YXIgZjsiZHluYW1pYyI9PWEuaC50eXBlP2Y9bmV3IFMoYixhLmgsYS5vLGEudyk6Zj1uZXcgUihiKTtkJiZkLmxvZygpO2EudT1mO3JldHVybiBQcm9taXNlLnJlc29sdmUoZil9dmUucHJvdG90eXBlLmM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51fTtmdW5jdGlvbiB5ZShhLGIsYyxkKXt0aGlzLmM9YTt0aGlzLmI9Yjt0aGlzLmw9Y3x8bnVsbDt0aGlzLmE9ZHx8bnVsbH0KZnVuY3Rpb24gemUoYSxiLGMpe2Zvcih2YXIgZD15YSgpLzFFMyxlPTA7ZTxiLmEubGVuZ3RoOysrZSlmb3IodmFyIGY9Yi5hW2VdLGc9MDtnPGYuYS5sZW5ndGg7KytnKXt2YXIgaD1mLmFbZ107aWYoInRleHQiIT1oLmNvbnRlbnRUeXBlKWZvcih2YXIgaz0wO2s8aC5hLmxlbmd0aDsrK2spe3ZhciBsPWguYVtrXSxtPTAsbT1tKyhsLmY/MTowKSxtPW0rKGwuYj8xOjApLG09bSsobC5hPzE6MCk7MD09bT8oaC5hLnNwbGljZShrLDEpLC0tayk6MSE9bSYmKGwuZj8obC5iPW51bGwsbC5hPW51bGwpOmwuYiYmKGwuYT1udWxsKSl9fUFlKGIpO2ZvcihlPTA7ZTxiLmEubGVuZ3RoOysrZSlmb3IoZj1iLmFbZV0sZz0wO2c8Zi5hLmxlbmd0aDsrK2cpe2s9aD1mLmFbZ107bD1udWxsO2ZvcihtPTA7bTxrLmEubGVuZ3RoOysrbSl7dmFyIHA9ay5hW21dLm1pbWVUeXBlfHwiIjtsP3AhPWwmJihrLmEuc3BsaWNlKG0sMSksLS1tKTpsPXB9MD09aC5hLmxlbmd0aCYmKGYuYS5zcGxpY2UoZywxKSwKLS1nKX1iLm1hbmlmZXN0SXNMaXZlU3RyZWFtaW5nJiZudWxsPT1iLmMmJihiLmM9ZCk7ZT1uZXcgVGQ7ImR5bmFtaWMiPT1iLnR5cGUmJihlLmI9ITAsZS5jPWIuZyxlLmk9bmV3IEsoYyxiLnV8fGIudXJsLHZvaWQgMCx2b2lkIDAsdm9pZCAwLGEuYSksZS5qPWIuYyk7ZS5CPWIuaHx8MDtlLm09Yi5pfHwwO2Uubz1iLmp8fDA7ZS5nPWIubXx8NTtmb3IoZj0wO2Y8Yi5hLmxlbmd0aDsrK2Ype2c9Yi5hW2ZdO2lmKG51bGw9PWcuc3RhcnQpYnJlYWs7Zz1CZShhLGIsZyxkLGMpO2UuYS5wdXNoKGcpfWUuZj1iLkZCSXNMaXZlVGVtcGxhdGVkO2EubCYmYS5sLnNldElzVGVtcGxhdGVkTWFuaWZlc3QoYi5GQklzTGl2ZVRlbXBsYXRlZCk7ZS5BPWIuRkJXYXNMaXZlO2E9bnVsbDtjPSJub25lIjtmb3IoZj0wO2Y8Yi5hLmxlbmd0aDtmKyspZm9yKGc9Yi5hW2ZdLGQ9MDtkPGcuYS5sZW5ndGg7ZCsrKWZvcihoPWcuYVtkXSxrPTA7azxoLmEubGVuZ3RoO2srKylsPWguYVtrXS5pLG51bGwhPQpsJiZudWxsIT1sLnZhbHVlJiYoYT1jPWwudmFsdWUsInVybjptcGVnOmRhc2g6MjMwMDM6MzphdWRpb19jaGFubmVsX2NvbmZpZ3VyYXRpb246MjAxMSI9PT1sLmEmJigiMSI9PT1hP2M9Im1vbm8iOiIyIj09PWEmJihjPSJzdGVyZW8iKSkpO2Uudz1jO2E9cGFyc2VJbnQoYSwxMCk7ZS51PTA8YT9hOm51bGw7cmV0dXJuIGV9CmZ1bmN0aW9uIEFlKGEpe2lmKGEuYS5sZW5ndGgpe251bGw9PWEuYVswXS5zdGFydCYmKGEuYVswXS5zdGFydD0wKTt2YXIgYj1mdW5jdGlvbihhKXtyZXR1cm4gMD09YXx8ISFhfTthLm1hbmlmZXN0SXNMaXZlU3RyZWFtaW5nJiYoYS5iPW51bGwpO2IoYS5iKSYmMT09YS5hLmxlbmd0aCYmIWIoYS5hWzBdLmR1cmF0aW9uKSYmKGEuYVswXS5kdXJhdGlvbj1hLmIpO2Zvcih2YXIgYz0wLGQ9ITAsZT0wO2U8YS5hLmxlbmd0aDsrK2Upe3ZhciBmPWEuYVtlLTFdLGc9YS5hW2VdLGg9YS5hW2UrMV18fHtzdGFydDphLmJ9OyFiKGcuc3RhcnQpJiZmJiZiKGYuc3RhcnQpJiZiKGYuZHVyYXRpb24pJiYoZy5zdGFydD1mLnN0YXJ0K2YuZHVyYXRpb24pOyFiKGcuZHVyYXRpb24pJiZiKGguc3RhcnQpJiYoZy5kdXJhdGlvbj1oLnN0YXJ0LWcuc3RhcnQpO251bGwhPWcuc3RhcnQmJm51bGwhPWcuZHVyYXRpb24/Yys9Zy5kdXJhdGlvbjpkPSExfWIoYS5iKXx8KGU9YS5hW2EuYS5sZW5ndGgtMV0sCmQ/YS5iPWM6YihlLnN0YXJ0KSYmYihlLmR1cmF0aW9uKT9hLmI9ZS5zdGFydCtlLmR1cmF0aW9uOmEubWFuaWZlc3RJc0xpdmVTdHJlYW1pbmd8fChhLmI9YykpfX0KZnVuY3Rpb24gQmUoYSxiLGMsZCxlKXt2YXIgZj1uZXcgU2Q7Zi5pZD1jLmlkO2Yuc3RhcnQ9Yy5zdGFydDtmLmR1cmF0aW9uPWMuZHVyYXRpb247dmFyIGc9bmV3IEQ7Yy5hLmZvckVhY2goZnVuY3Rpb24oYSl7Zy5wdXNoKGEuY29udGVudFR5cGV8fCIiLGEpfSk7Zm9yKHZhciBoPWFiKGcpLGs9MDtrPGgubGVuZ3RoOysrayl7dmFyIGw9bmV3IEQ7Zy5nZXQoaFtrXSkuZm9yRWFjaChmdW5jdGlvbihhKXtsLnB1c2goYS5ncm91cCxhKX0pO2Zvcih2YXIgbT1hYihsKSxwPTA7cDxtLmxlbmd0aDsrK3Ape3ZhciB0PW5ldyBEO2wuZ2V0KG1bcF0pLmZvckVhY2goZnVuY3Rpb24oYSl7dC5wdXNoKGEubGFuZyxhKX0pO2Zvcih2YXIgdz1hYih0KSx6PTA7ejx3Lmxlbmd0aDsrK3ope3ZhciBIPXQuZ2V0KHdbel0pLEg9Q2UoYSxiLGMsSCxkLGUpO2YuYS5wdXNoKEgpfX19cmV0dXJuIGZ9CmZ1bmN0aW9uIENlKGEsYixjLGQsZSxmKXtiYShkLmV2ZXJ5KGZ1bmN0aW9uKGEpe3JldHVybiBhLmdyb3VwPT1kWzBdLmdyb3VwJiYoYS5sYW5nfHwiIik9PShkWzBdLmxhbmd8fCIiKSYmKGEuY29udGVudFR5cGV8fCIiKT09KGRbMF0uY29udGVudFR5cGV8fCIiKX0pKTt2YXIgZz1uZXcgT2QsaD1kLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YS5pZH0pO2gubGVuZ3RoPT1kLmxlbmd0aCYmKGcuaWQ9aC5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuaWR9KS5zb3J0KCkucmVkdWNlKGZ1bmN0aW9uKGEsYil7cmV0dXJuIGErIiwiK2J9KSk7Zy5iPSEoIWRbMF0uYnx8InVybjpzY3RlOmRhc2g6Y2M6Y2VhLTYwODoyMDE1IiE9PWRbMF0uYi5hKTtnLmxhbmc9ZFswXS5sYW5nfHwiIjtnLmNvbnRlbnRUeXBlPWRbMF0uY29udGVudFR5cGV8fCIiO2cuZj1kLnNvbWUoZnVuY3Rpb24oYSl7cmV0dXJuIGEuZn0pO2Zvcih2YXIgaD17fSxrPTA7azxkLmxlbmd0aDsrK2spe3ZhciBsPQpkW2tdO2wuYyYmKGcuYz1sLmMpO2Zvcih2YXIgbT0wO208bC5hLmxlbmd0aDsrK20pe3ZhciBwPWwuYVttXSx0PURlKGEscCksdz1nLmEuc2xpY2UoMCk7RWUodCx3KTswPT13Lmxlbmd0aCYmMDxnLmEubGVuZ3RofHwhKHA9RmUoYSxiLGMscCxlLGYpKXx8KGcudi5wdXNoKHApLGcuYT13LGhbcC5YXT1sKX19aWYoZy5hLnNvbWUoZnVuY3Rpb24oYSl7cmV0dXJuIiI9PWEuYX0pKXJldHVybiBnLnYuZm9yRWFjaChmdW5jdGlvbihhKXthLm9hPSEwfSksZzthPUdlKGQpO2ZvcihrPTA7azxnLnYubGVuZ3RoOysraylwPWcudltrXSxsPWhbcC5YXSxsPT1hJiYocC5vYT0hMCk7cmV0dXJuIGd9CmZ1bmN0aW9uIEdlKGEpe2Zvcih2YXIgYj1udWxsLGM9bnVsbCxkPTA7ZDxhLmxlbmd0aDsrK2QpZm9yKHZhciBlPWFbZF0sZj0wO2Y8ZS5hLmxlbmd0aDsrK2Ype3ZhciBnPWUuYVtmXSxnPShnLndpZHRofHwxKSooZy5oZWlnaHR8fDEpKihnLmJhbmR3aWR0aHx8MSk7aWYobnVsbD09Ynx8ZzxiKWI9ZyxjPWV9cmV0dXJuIGN9ZnVuY3Rpb24gRWUoYSxiKXtpZigwPT1iLmxlbmd0aClBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShiLGEpO2Vsc2UgZm9yKHZhciBjPTA7YzxiLmxlbmd0aDsrK2Mpe2Zvcih2YXIgZD0hMSxlPTA7ZTxhLmxlbmd0aDsrK2Upe3ZhciBmPWJbY10sZz1hW2VdO2lmKGYuYT09Zy5hJiZmLmk9PWcuaSYmZi53aXRoQ3JlZGVudGlhbHM9PWcud2l0aENyZWRlbnRpYWxzJiZmLmg9PWcuaCYmZi5qPT1nLmomJmYuZz09Zy5nJiZmLm09PWcubSYmTWEoZi5jLGcuYykpe2Q9ITA7T2IoYltjXSxhW2VdLmIpO2JyZWFrfX1kfHwoYi5zcGxpY2UoYywxKSwtLWMpfX0KZnVuY3Rpb24gRGUoYSxiKXt2YXIgYz1bXTtpZigwPT1iLmMubGVuZ3RoKWMucHVzaChuZXcgTWIpO2Vsc2UgaWYoYS5iKWZvcih2YXIgZD0wO2Q8Yi5jLmxlbmd0aDsrK2QpYy5wdXNoLmFwcGx5KGMsSGUoYSxiLmNbZF0pKTtyZXR1cm4gY30KZnVuY3Rpb24gSGUoYSxiKXt2YXIgYz1bXTtpZigyIT1hLmIubGVuZ3RoKXJldHVybltdO3ZhciBkPWEuYihiLmZ8fCIiLGIuYyk7aWYoIShkJiZkIGluc3RhbmNlb2YgQXJyYXkpKXJldHVybltdO2Zvcih2YXIgZT0wO2U8ZC5sZW5ndGg7KytlKXt2YXIgZjt2YXIgZz1kW2VdO2Y9bmV3IE1iO2lmKGcpe3ZhciBoPVlhKGcsImtleVN5c3RlbSIpO2lmKG51bGwhPWgpZi5hPWg7ZWxzZSB0aHJvdyBFcnJvcigiJ2tleVN5c3RlbScgY2Fubm90IGJlIG51bGwuIik7dmFyIGs9WWEoZywibGljZW5zZVNlcnZlclVybCIpO2lmKG51bGwhPWspZi5pPWs7ZWxzZSBpZihoKXRocm93IEVycm9yKCJGb3IgZW5jcnlwdGVkIHN0cmVhbWluZyBjb250ZW50LCAnbGljZW5zZVNlcnZlclVybCcgY2Fubm90IGJlIG51bGwgb3IgZW1wdHkuIik7aD1CKGcsIndpdGhDcmVkZW50aWFscyIpO251bGwhPWgmJihmLndpdGhDcmVkZW50aWFscz1oKTtoPVphKGcsImxpY2Vuc2VQb3N0UHJvY2Vzc29yIixGdW5jdGlvbik7Cm51bGwhPWgmJihmLmY9aCk7aD1aYShnLCJsaWNlbnNlUHJlUHJvY2Vzc29yIixGdW5jdGlvbik7bnVsbCE9aCYmKGYubz1oKTtoPUIoZywiZGlzdGluY3RpdmVJZGVudGlmaWVyUmVxdWlyZWQiKTtudWxsIT1oJiYoZi5oPWgpO2g9QihnLCJwZXJzaXN0ZW50U3RhdGVSZXF1aXJlZCIpO251bGwhPWgmJihmLmo9aCk7aD1ZYShnLCJhdWRpb1JvYnVzdG5lc3MiKTtudWxsIT1oJiYoZi5nPWgpO2g9WWEoZywidmlkZW9Sb2J1c3RuZXNzIik7bnVsbCE9aCYmKGYubT1oKTtoPVphKGcsInNlcnZlckNlcnRpZmljYXRlIixVaW50OEFycmF5KTtudWxsIT1oJiYoZi5jPWgpO2lmKGg9WmEoZywiaW5pdERhdGEiLE9iamVjdCkpe2c9WmEoaCwiaW5pdERhdGEiLFVpbnQ4QXJyYXkpO2lmKG51bGw9PWcpdGhyb3cgRXJyb3IoIidpbml0RGF0YS5pbml0RGF0YScgY2Fubm90IGJlIG51bGwuIik7aD1ZYShoLCJpbml0RGF0YVR5cGUiKTtpZihudWxsPT1oKXRocm93IEVycm9yKCInaW5pdERhdGEuaW5pdERhdGFUeXBlJyBjYW5ub3QgYmUgbnVsbC4iKTsKZi5iLnB1c2goe2luaXREYXRhOm5ldyBVaW50OEFycmF5KGcuYnVmZmVyKSxpbml0RGF0YVR5cGU6aH0pfX0wPT1mLmIubGVuZ3RoJiZiLmEmJmIuYS5wc3NoQm94JiZPYihmLFt7aW5pdERhdGE6Yi5hLnBzc2hCb3gsaW5pdERhdGFUeXBlOiJjZW5jIn1dKTtjLnB1c2goZil9cmV0dXJuIGN9CmZ1bmN0aW9uIEZlKGEsYixjLGQsZSxmKXtpZighZC5iYXNlVXJsfHwwPT09ZC5iYXNlVXJsLmxlbmd0aClyZXR1cm4gbnVsbDt2YXIgZz1udWxsLGg9MSxrPTA7aWYoZC5mKXtnPWQubWltZVR5cGUuc3BsaXQoIi8iKVsxXTtpZigibXA0IiE9ZyYmIndlYm0iIT1nKWc9bnVsbDtlbHNle3ZhciBsPWQuZjtpZigid2VibSIhPWd8fGwuYylpZihsLmF8fGwuYiYmbC5iLmEpe2g9bC5iO2h8fChoPW5ldyB3YyxoLnVybD1kLmJhc2VVcmwsaC5hPWwuYT9sLmEuY2xvbmUoKTpudWxsKTtrPUllKGEsaCxmKTtoPWwuYz9JZShhLGwuYyxmKTpudWxsO2wuZj8obD1sLmYsbD1uZXcgSyhmLGQuYmFzZVVybCxsLnFhLGwuZW5kLHZvaWQgMCxhLmEpKTpsPW51bGw7dmFyIG09bCxwPVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgiYWRkX2lubGluZV9pbml0aWFsaXphdGlvbl9yZXNvdXJjZXMiLCExKSYmZC5oJiZkLmguZGF0YT9kLmguZGF0YTpudWxsLGw9VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJhZGRfaW5saW5lX2luaXRpYWxpemF0aW9uX3Jlc291cmNlcyIsCiExKSYmZC5nJiZkLmcuZGF0YT9kLmcuZGF0YTpudWxsO2E9bmV3IHZlKGIsYyxnLGssaCxtLGUsZixhLmwscCxsKTtiPW5ldyBnZChoLGwpO2M9bmV3IEtkO2MuTT1hO2MuYWE9YjtnPWN9ZWxzZSBnPW51bGw7ZWxzZSBnPW51bGx9aD1kLmYucztrPWQuZi5MfWVsc2UgaWYoZC5iKWc9ZC5iLCFnLkgmJiFnLkMmJjE8Zy5hLmxlbmd0aD9nPW51bGw6Zy5IfHxjLmR1cmF0aW9ufHxnLkN8fDEhPWcuYS5sZW5ndGg/Zy5DJiYwPT09Zy5DLk4ubGVuZ3RoP2c9bnVsbDooZz1nLmI/SWUoYSxnLmIsZik6bnVsbCxhPW5ldyBGZChiLGMsZCxlLGYsYS5hKSxiPW5ldyBnZChnKSxjPW5ldyBLZCxjLk09YSxjLmFhPWIsZz1jKTpnPW51bGwsaD1kLmIucyxrPWQuYi5MO2Vsc2UgaWYoZC5hKXthOmlmKGc9ZC5hLGg9MCsoZy5hPzE6MCksaCs9Zy5DPzE6MCxoKz1nLkg/MTowLDA9PWg/aD0hMTooMSE9aCYmKGcuYT8oZy5DPW51bGwsZy5IPW51bGwpOmcuQyYmKGcuSD1udWxsKSksaD0hMCksaCl7aD0KbnVsbDtpZihnLmMmJihoPShnPWQuYS5jKT9KZShkLGcseGMpOm51bGwsIWgpKXtnPW51bGw7YnJlYWsgYX1nPWg/SWUoYSxoLGYpOm51bGw7aD1kLmE7aC5hPyhoPWQubWltZVR5cGUuc3BsaXQoIi8iKVsxXSwibXA0IiE9aCYmIndlYm0iIT1oP2E9bnVsbDoid2VibSIhPWh8fGc/bWQoZixkLDEsMCx2b2lkIDAsYS5hKT8oaz0oaz1kLmEuYSk/SmUoZCxrLHdjKTpudWxsKT8oaz1JZShhLGssZiksYT1uZXcgdmUoYixjLGgsayxnLG51bGwsZSxmLGEubCkpOmE9bnVsbDphPW51bGw6YT1udWxsKTphPWguZj9oLkM/bmV3IEpkKGEuYyxiLGMsZCxlLGYsMCxhLmEpOmguSD9iLm1hbmlmZXN0SXNMaXZlU3RyZWFtaW5nfHxudWxsIT1jLmR1cmF0aW9uP25ldyBFZChiLGMsZCxlLGYpOm51bGw6bnVsbDpudWxsO2E/KGI9bmV3IGdkKGcpLGM9bmV3IEtkLGMuTT1hLGMuYWE9YixnPWMpOmc9bnVsbH1lbHNlIGc9bnVsbDtoPWQuYS5zO2s9ZC5hLkx9ZWxzZSJ0ZXh0Ij09ZC5taW1lVHlwZS5zcGxpdCgiLyIpWzBdJiYKKGc9bmV3IEtkLGcuTT1uZXcgc2UobmV3IEsoZixkLmJhc2VVcmwpKSk7aWYoIWcpcmV0dXJuIG51bGw7Zy5pZD1kLmlkO2smJihnLmE9LTEqay9oKTtnLmJhbmR3aWR0aD1kLmJhbmR3aWR0aDtnLndpZHRoPWQud2lkdGg7Zy5oZWlnaHQ9ZC5oZWlnaHQ7Zy5taW1lVHlwZT1kLm1pbWVUeXBlfHwiIjtnLmNvZGVjcz1kLmNvZGVjc3x8IiI7Zy5nPWQub3x8bnVsbDtnLmg9ZC51fHxudWxsO2cuZmJRdWFsaXR5TGFiZWw9ZC5mYlF1YWxpdHlMYWJlbHx8bnVsbDtnLmZiUXVhbGl0eUNsYXNzPWQuZmJRdWFsaXR5Q2xhc3N8fG51bGw7Zy5mPWQubXx8bnVsbDtnLmZyYW1lUmF0ZT1kLmZyYW1lUmF0ZXx8IiI7Zy5jPWQuanx8bnVsbDtmb3IoYT0wO2E8ZC5jLmxlbmd0aDsrK2EpYj1kLmNbYV0sYi5iJiZnLmIucHVzaChiLmIpO3JldHVybiBnfQpmdW5jdGlvbiBKZShhLGIsYyl7Yj1uZChiLGEuaWQsbnVsbCxhLmJhbmR3aWR0aCxudWxsKTtpZighYilyZXR1cm4gbnVsbDtjPW5ldyBjO2MudXJsPVpjKGEuYmFzZVVybCxiKTtyZXR1cm4gY31mdW5jdGlvbiBJZShhLGIsYyl7dmFyIGQ9Yi51cmwsZT0wLGY9bnVsbDtiLmEmJihlPWIuYS5xYSxmPWIuYS5lbmQpO3JldHVybiBuZXcgSyhjLGQsZSxmLHZvaWQgMCxhLmEpfTtmdW5jdGlvbiBLZShhLGIsYyxkLGUsZixnKXt0aGlzLmI9bmV3IEsobnVsbCxbbmV3IEwoYSldKTt0aGlzLmw9ZTt0aGlzLmY9Yjt0aGlzLmM9MTt0aGlzLmc9YTt0aGlzLmE9bmV3IHRiO3RoaXMuYS5ib2R5PWI7dGhpcy5hLm1ldGhvZD1jO3RoaXMuYS5OYT0zO3RoaXMuYS53aXRoQ3JlZGVudGlhbHM9ZDt0aGlzLmEuYj0xRTMqKG51bGwhPWc/ZzpoYSk7YT1mfHx7fTtmb3IodmFyIGggaW4gYSl0aGlzLmEuUWFbaF09YVtoXX0KZnVuY3Rpb24gTGUoYSl7cmV0dXJuIGEuYi5mZXRjaChhLmEpLnRoZW4oZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYi51JiYwPHRoaXMuYz8odGhpcy5jLS0sbnVsbCE9PXRoaXMubCYmbnVsbCE9PXRoaXMuYi5pJiZ0aGlzLmwuc2V0UmVhc29uKCJSZWRpcmVjdGVkIHRvIFVSTDogIit0aGlzLmIuaS50b1N0cmluZygpKSx0aGlzLmI9bmV3IEsobnVsbCxbbmV3IEwodGhpcy5nKV0pLHRoaXMuYS5ib2R5PXRoaXMuZixMZSh0aGlzKSk6UHJvbWlzZS5yZXNvbHZlKG5ldyBVaW50OEFycmF5KGEpKX0uYmluZChhKSl9O2Z1bmN0aW9uIE1lKGEsYixjLGQpe0YuY2FsbCh0aGlzLGEpO3RoaXMuYz1iO3RoaXMuaj1jO3RoaXMuYT10aGlzLmg9bnVsbDt0aGlzLmk9bmV3IGJiO3RoaXMuYj1bXTt0aGlzLmY9W107dGhpcy5tPTA7dGhpcy5nPW5ldyBJO3RoaXMubz1udWxsO3RoaXMuQT1oYTt0aGlzLmw9ZH1yKE1lLEYpO01lLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5KYT1udWxsO2Zvcih2YXIgYT0wO2E8dGhpcy5mLmxlbmd0aDsrK2EpdGhpcy5mW2FdLmNsb3NlKCkuY2F0Y2goZnVuY3Rpb24oKXt9KTt0aGlzLmY9W107dGhpcy5iPXRoaXMuYT10aGlzLmg9bnVsbDt0aGlzLmcuZGVzdHJveSgpO3RoaXMuZz1udWxsO3RoaXMuaS5kZXN0cm95KCk7dGhpcy5pPW51bGw7dGhpcy5vJiYoY2xlYXJUaW1lb3V0KHRoaXMubyksdGhpcy5vPW51bGwpO3RoaXMuYz10aGlzLmo9bnVsbH07Ck1lLnByb3RvdHlwZS5pbml0aWFsaXplPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPW5ldyBELGI9TmUodGhpcy5qKSxjPTA7YzxiLmxlbmd0aDsrK2Mpe3ZhciBkPWJbY107ZC5hLmF8fGQuYiYmIU9lKGQuYil8fGEucHVzaChkLmNvbnRlbnRUeXBlLGQpfWZvcih2YXIgYz17fSxkPSExLGU9MDtlPGIubGVuZ3RoOysrZSl7dmFyIGY9YltlXTtpZihmLmEuYSYmIWEuYS5oYXNPd25Qcm9wZXJ0eShmLmNvbnRlbnRUeXBlKSl7dmFyIGc9Zi5hLmEsaD1jW2ddO2h8fChoPWYuYSxoPXthdWRpb0NhcGFiaWxpdGllczp2b2lkIDAsdmlkZW9DYXBhYmlsaXRpZXM6dm9pZCAwLGluaXREYXRhVHlwZXM6dm9pZCAwLGRpc3RpbmN0aXZlSWRlbnRpZmllcjpoLmg/InJlcXVpcmVkIjoib3B0aW9uYWwiLHBlcnNpc3RlbnRTdGF0ZTpoLmo/InJlcXVpcmVkIjoib3B0aW9uYWwiLHNlc3Npb25UeXBlczpbInRlbXBvcmFyeSJdfSxjW2ddPWgpO2lmKGYuYiYmKGc9Zi5jb250ZW50VHlwZSsiQ2FwYWJpbGl0aWVzIiwKZyBpbiBoKSl7ZD0hMDtoW2ddfHwoaFtnXT1bXSk7dmFyIGs7ImF1ZGlvIj09Zi5jb250ZW50VHlwZT9rPWYuYS5nOiJ2aWRlbyI9PWYuY29udGVudFR5cGUmJihrPWYuYS5tKTtoW2ddLnB1c2goe2NvbnRlbnRUeXBlOmYuYixyb2J1c3RuZXNzOmt9KX19fWlmKCFkKWlmKGIubGVuZ3RoKXRoaXMuYT1iWzBdLmE7ZWxzZSB0aHJvdyBhPUVycm9yKCJObyBEcm1JbmZvIGV4aXN0cyEiKSxhLnR5cGU9ImRybSIsYTtpZigwPT1PYmplY3Qua2V5cyhjKS5sZW5ndGgpcmV0dXJuIFBlKHRoaXMuaixhKSx0aGlzLmcucmVzb2x2ZSgpLFByb21pc2UucmVzb2x2ZSgpO2s9bmV3IEk7Yz1RZShjLGspO2M9Yy50aGVuKHRoaXMudy5iaW5kKHRoaXMsYixhKSk7ay5yZWplY3QobnVsbCk7dGhpcy5sJiZ0aGlzLmwuZ2V0RXZlbnRMb2dnZXIoImVtZV9pbml0IikubG9nKCk7cmV0dXJuIGN9OwpmdW5jdGlvbiBRZShhLGIpe2Zvcih2YXIgYyBpbiBhKWI9Yi5jYXRjaChmdW5jdGlvbihhLGIpe3JldHVybiBuYXZpZ2F0b3IucmVxdWVzdE1lZGlhS2V5U3lzdGVtQWNjZXNzKGEsW2JdKX0uYmluZChudWxsLGMsYVtjXSkpO3JldHVybiBifQpNZS5wcm90b3R5cGUudz1mdW5jdGlvbihhLGIsYyl7aWYoIXRoaXMuYylyZXR1cm4gUmUoKTtmb3IodmFyIGQ9Yy5rZXlTeXN0ZW0sZT1jLmdldENvbmZpZ3VyYXRpb24oKSxmPVsiYXVkaW8iLCJ2aWRlbyJdLGc9MDtnPGYubGVuZ3RoOysrZyl7dmFyIGg9ZltnXTtpZighYi5hLmhhc093blByb3BlcnR5KGgpKXt2YXIgaz1lW2grIkNhcGFiaWxpdGllcyJdO2lmKGspe2Zvcih2YXIgaz1rWzBdLGw9W10sbT17fSxwPTA7cDxhLmxlbmd0aDsrK3Ape3ZhciB0PWFbcF0sdz1rP3QuYj09ay5jb250ZW50VHlwZTp0LmNvbnRlbnRUeXBlPT1oO3QuYS5hIT1kfHwhd3x8dC5pZCBpbiBtfHwobC5wdXNoKHQpLG1bdC5pZF09ITAsdGhpcy5hPXRoaXMuYT9OYih0aGlzLmEsdC5hKTp0LmEpfWIuc2V0KGgsbCl9fX1QZSh0aGlzLmosYik7aWYodGhpcy5jLm1lZGlhS2V5cyl0aGlzLmg9dGhpcy5jLm1lZGlhS2V5cztlbHNlIHJldHVybiBjLmNyZWF0ZU1lZGlhS2V5cygpLnRoZW4oZnVuY3Rpb24oYSl7dGhpcy5oPQphfS5iaW5kKHRoaXMpKX07ZnVuY3Rpb24gU2UoYSl7cmV0dXJuIGEuYz9hLmg/YS5jLnNldE1lZGlhS2V5cyhhLmgpLnRoZW4oSihhLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYz90aGlzLmEuYz90aGlzLmguc2V0U2VydmVyQ2VydGlmaWNhdGUodGhpcy5hLmMpOlByb21pc2UucmVzb2x2ZSgpOlJlKCl9KSkudGhlbihKKGEsZnVuY3Rpb24oKXtpZighdGhpcy5jKXJldHVybiBSZSgpO2Zvcih2YXIgYT0wO2E8dGhpcy5hLmIubGVuZ3RoOysrYSl7dmFyIGM9dGhpcy5hLmJbYV07dGhpcy51KHt0eXBlOiJlbmNyeXB0ZWQiLGluaXREYXRhVHlwZTpjLmluaXREYXRhVHlwZSxpbml0RGF0YTpjLmluaXREYXRhfSl9MD09dGhpcy5hLmIubGVuZ3RoJiZFKHRoaXMuaSx0aGlzLmMsImVuY3J5cHRlZCIsdGhpcy51LmJpbmQodGhpcykpfSkpOlByb21pc2UucmVzb2x2ZSgpOlJlKCl9CmZ1bmN0aW9uIFJlKCl7dmFyIGE9RXJyb3IoIkVtZU1hbmFnZXIgZGVzdHJveWVkIik7YS50eXBlPSJkZXN0cm95IjtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYSl9Ck1lLnByb3RvdHlwZS51PWZ1bmN0aW9uKGEpe3ZhciBiPW5ldyBVaW50OEFycmF5KGEuaW5pdERhdGEpO3RoaXMubCYmdGhpcy5sLmdldEV2ZW50TG9nZ2VyKCJlbmNyeXB0ZWRfc2FtcGxlIikubG9nKCk7Zm9yKHZhciBjPTA7Yzx0aGlzLmIubGVuZ3RoOysrYylpZihNYShiLHRoaXMuYltjXS5kYXRhKSlyZXR1cm47dHJ5e3ZhciBkPVRlKHRoaXMpfWNhdGNoKGUpe2I9QShlKTt0aGlzLmRpc3BhdGNoRXZlbnQoYik7dGhpcy5sJiZ0aGlzLmwuZ2V0RXZlbnRMb2dnZXIoImVtZV9lcnJvciIpLnNldEVycm9yKGUpLmxvZygpO3RoaXMuZy5yZWplY3QoZSk7cmV0dXJufWE9ZC5nZW5lcmF0ZVJlcXVlc3QoYS5pbml0RGF0YVR5cGUsYS5pbml0RGF0YSk7dGhpcy5iLnB1c2goe2RhdGE6Yix1YjpkfSk7YS5jYXRjaChKKHRoaXMsZnVuY3Rpb24oYSl7aWYodGhpcy5jKXtmb3IodmFyIGI9MDtiPHRoaXMuYi5sZW5ndGg7KytiKWlmKHRoaXMuYltiXS51Yj09ZCl7dGhpcy5iLnNwbGljZShiLAoxKTticmVha31iPUEoYSk7dGhpcy5kaXNwYXRjaEV2ZW50KGIpO3RoaXMubCYmdGhpcy5sLmdldEV2ZW50TG9nZ2VyKCJlbWVfZXJyb3IiKS5zZXRFcnJvcihhKS5sb2coKTt0aGlzLmcucmVqZWN0KGEpfX0pKTt0aGlzLmYucHVzaChkKX07ZnVuY3Rpb24gVWUoYSl7Zm9yKHZhciBiPVtdLGM9MDtjPGIubGVuZ3RoOysrYyl7dmFyIGQ9VGUoYSksZT1kLmxvYWQoYltjXSk7YS5mLnB1c2goZCk7ZS50aGVuKEooYSxmdW5jdGlvbigpe3RoaXMubSsrO3RoaXMubT49dGhpcy5mLmxlbmd0aCYmdGhpcy5nLnJlc29sdmUoKX0pKS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7dmFyIGI9QShhKTt0aGlzLmRpc3BhdGNoRXZlbnQoYik7dGhpcy5sJiZ0aGlzLmwuZ2V0RXZlbnRMb2dnZXIoImVtZV9lcnJvciIpLnNldEVycm9yKGEpLmxvZygpfSkpfX0KZnVuY3Rpb24gVGUoYSl7dmFyIGI9bnVsbCxiPWEuaC5jcmVhdGVTZXNzaW9uKCk7RShhLmksYiwibWVzc2FnZSIsYS5ELmJpbmQoYSkpO0UoYS5pLGIsImtleXN0YXR1c2VzY2hhbmdlIixhLkIuYmluZChhKSk7cmV0dXJuIGJ9TWUucHJvdG90eXBlLkQ9ZnVuY3Rpb24oYSl7VmUodGhpcyxhLnRhcmdldCx0aGlzLmEsYS5tZXNzYWdlKX07Ck1lLnByb3RvdHlwZS5CPWZ1bmN0aW9uKGEpe2E9YS50YXJnZXQ7dmFyIGI9e307YS5rZXlTdGF0dXNlcy5mb3JFYWNoKGZ1bmN0aW9uKGEsYyl7aWYoInN0cmluZyI9PT10eXBlb2YgYSl7dmFyIGY9YTthPWM7Yz1mfWlmKCJjb20ubWljcm9zb2Z0LnBsYXlyZWFkeSI9PXRoaXMuYS5hJiYxNj09YS5ieXRlTGVuZ3RoKXt2YXIgZj1uZXcgRGF0YVZpZXcoYSksZz1mLmdldFVpbnQzMigwLCEwKSxoPWYuZ2V0VWludDE2KDQsITApLGs9Zi5nZXRVaW50MTYoNiwhMCk7Zi5zZXRVaW50MzIoMCxnLCExKTtmLnNldFVpbnQxNig0LGgsITEpO2Yuc2V0VWludDE2KDYsaywhMSl9Zj1MYihuZXcgVWludDhBcnJheShhKSk7YltmXT1jfS5iaW5kKHRoaXMpKTtpZihhLmV4cGlyYXRpb248RGF0ZS5ub3coKSl7Zm9yKHZhciBjPTA7Yzx0aGlzLmIubGVuZ3RoOysrYylpZih0aGlzLmJbY10udWI9PWEpe3RoaXMuYi5zcGxpY2UoYywxKTticmVha31hLmNsb3NlKCk7dGhpcy5mLnNwbGljZSh0aGlzLmYuaW5kZXhPZihhKSwKMSl9dGhpcy5sJiZ0aGlzLmwuZ2V0RXZlbnRMb2dnZXIoImVtZV9rZXlfc3RhdHVzX2NoYW5nZSIpLmxvZygpO1dlKHRoaXMuaixiKX07CmZ1bmN0aW9uIFZlKGEsYixjLGQpe2Q9WGUoYyxkKTt2YXIgZT1udWxsO2EubCYmKGU9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigibGljZW5zZV9yZXF1ZXN0Iikuc3RhcnQoKSk7TGUobmV3IEtlKGQudXJsLGQuYm9keSxkLm1ldGhvZCxjLndpdGhDcmVkZW50aWFscyxlLGQuaGVhZGVycyxhLkEpKS50aGVuKEooYSxmdW5jdGlvbihhKXtlJiYoZS5zZXRSZXN1bHQoInN1Y2Nlc3MiKSxlLmxvZygpKTtjLmYmJihhPWMuZihhKSk7ZT1udWxsO3RoaXMubCYmKGU9dGhpcy5sLmdldE9wZXJhdGlvbkxvZ2dlcigiZW1lX3Bvc3RfbGljZW5zZV9zZXNzaW9uX3VwZGF0ZSIpLnN0YXJ0KCkpO251bGw9PT1hfHx2b2lkIDA9PT1hfHwwPT09YS5ieXRlTGVuZ3RoP251bGwhPT1lJiYoZS5zZXRFcnJvcigiZW1wdHkgbGljZW5zZSIpLGUuc2V0UmVzdWx0KCJmYWlsZWQiKS5sb2coKSk6Yi51cGRhdGUoYSkudGhlbihKKHRoaXMsZnVuY3Rpb24oKXtlJiYoZS5zZXRSZXN1bHQoInN1Y2Nlc3MiKSxlLmxvZygpKTsKdmFyIGE9eSh7dHlwZToic2Vzc2lvblJlYWR5IixkZXRhaWw6Yn0pO3RoaXMuZGlzcGF0Y2hFdmVudChhKTt0aGlzLm0rKzt0aGlzLm0+PXRoaXMuZi5sZW5ndGgmJnRoaXMuZy5yZXNvbHZlKCl9KSkuY2F0Y2goSih0aGlzLGZ1bmN0aW9uKGEpe2EudWI9Yjt2YXIgYz1BKGEpO2UmJihlLnNldFJlc3VsdCgiZmFpbGVkIiksZS5zZXRFcnJvcihhKS5sb2coKSk7dGhpcy5kaXNwYXRjaEV2ZW50KGMpfSkpfSkpLmNhdGNoKEooYSxmdW5jdGlvbihhKXtpZihjLmYpe3ZhciBkPUpTT04uc3RyaW5naWZ5KHtkYXRhOlt7ZXJyb3I6YX1dfSksZD1uZXcgVWludDhBcnJheShkLnNwbGl0KCIiKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuY2hhckNvZGVBdCgwKX0pKTtjLmYoZCl9YS51Yj1iO2Q9QShhKTtlJiZlLnNldEVycm9yKGEpLmxvZygpO3RoaXMuZGlzcGF0Y2hFdmVudChkKX0pKX0KZnVuY3Rpb24gWGUoYSxiKXt2YXIgYz17dXJsOmEuaSxib2R5OmIuc2xpY2UoMCksbWV0aG9kOiJQT1NUIixoZWFkZXJzOnt9LGtleV9zeXN0ZW06YS5hfTtpZigiY29tLm1pY3Jvc29mdC5wbGF5cmVhZHkiPT09YS5hKXtmb3IodmFyIGQ9U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLG5ldyBVaW50MTZBcnJheShjLmJvZHkpKSxkPShuZXcgRE9NUGFyc2VyKS5wYXJzZUZyb21TdHJpbmcoZCwiYXBwbGljYXRpb24veG1sIiksZT1kLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJuYW1lIiksZj1kLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJ2YWx1ZSIpLGc9MDtnPGUubGVuZ3RoO2crKyljLmhlYWRlcnNbZVtnXS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZV09ZltnXS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZTtjLmJvZHk9d2luZG93LmF0b2IoZC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiQ2hhbGxlbmdlIilbMF0uY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUpfWlmKCFhLm8pcmV0dXJuIGM7CmEubyhjKTtjLnVybD1ZYShjLCJ1cmwiKTtpZihudWxsPT1jLnVybCl0aHJvdyBFcnJvcigiJ3VybCcgY2Fubm90IGJlIG51bGwuIik7aWYoIShjLmJvZHkgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcnx8InN0cmluZyI9PT10eXBlb2YgYy5ib2R5fHxudWxsPT1jLmJvZHkpKXRocm93IG5ldyBUeXBlRXJyb3IoIidib2R5JyBtdXN0IGJlIGFuIEFycmF5QnVmZmVyLCBhIHN0cmluZywgb3IgbnVsbC4iKTtjLm1ldGhvZD1ZYShjLCJtZXRob2QiKTtpZigiR0VUIiE9Yy5tZXRob2QmJiJQT1NUIiE9Yy5tZXRob2QpdGhyb3cgRXJyb3IoIidtZXRob2QnIG11c3QgYmUgZWl0aGVyICdHRVQnIG9yICdQT1NUJy4iKTtjLmhlYWRlcnM9WmEoYywiaGVhZGVycyIsT2JqZWN0KTtpZihudWxsPT1jLmhlYWRlcnMpdGhyb3cgRXJyb3IoIidoZWFkZXJzJyBjYW5ub3QgYmUgbnVsbC4iKTtyZXR1cm4gY307ZnVuY3Rpb24gVyhhLGIsYyxkLGUsZixnKXtGLmNhbGwodGhpcyxudWxsKTt0aGlzLmI9YTt0aGlzLmY9Yjt0aGlzLmE9bnVsbDt0aGlzLmc9bmV3IGJiO3RoaXMubT10aGlzLmk9bnVsbDt0aGlzLkY9MDt0aGlzLlM9dGhpcy5aPXRoaXMuJD1udWxsO3RoaXMuYmE9Zzt0aGlzLko9bnVsbDt0aGlzLk89dGhpcy5oPSExO3RoaXMuVj10aGlzLlk9ITA7dGhpcy5LPSExO3RoaXMuYz17ZW5hYmxlQWRhcHRhdGlvbjohMCxzdHJlYW1CdWZmZXJTaXplOjE1LGxpdmVTdHJlYW1FbmRUaW1lb3V0OjE1LGxpY2Vuc2VSZXF1ZXN0VGltZW91dDpoYSxtcGRSZXF1ZXN0VGltZW91dDppYSxzZWdtZW50UmVxdWVzdFRpbWVvdXQ6amEscHJlZmVycmVkTGFuZ3VhZ2U6ImVuIixyZXN0cmljdGlvbnM6bmV3IGthfTt0aGlzLmw9Yzt0aGlzLkc9ZDt0aGlzLmNhPWU7dGhpcy5nYT1mO3RoaXMubz1udWxsO3RoaXMuaj0xO3RoaXMuVD1udWxsO3RoaXMudT10aGlzLkE9dGhpcy53PSExO3RoaXMuUj10aGlzLkI9Cm51bGx9cihXLEYpO3EoInNoYWthLnBsYXllci5QbGF5ZXIiLFcpO1cudmVyc2lvbj0idjEuNi40LWZiIjtXLmlzQnJvd3NlclN1cHBvcnRlZD1mdW5jdGlvbigpe3JldHVybiEhd2luZG93Lk1lZGlhU291cmNlJiYhIXdpbmRvdy5VaW50OEFycmF5fTsKVy5wcm90b3R5cGUuQmE9ZnVuY3Rpb24oKXt2YXIgYT17fSxiPXRoaXMuYTtpZihiKXt2YXIgYz1iLlhiKCk7YS5CYW5kd2lkdGhFc3RpbWF0b3I9Yy5CYW5kd2lkdGhFc3RpbWF0b3I7dmFyIGQ9Yy5WaWRlb1NvdXJjZVN0cmVhbTtkJiYoYS5WaWRlb1NvdXJjZVN0cmVhbT1kLChkPWEuVmlkZW9CdWZmZXJNYW5hZ2VyPWQuQmEoKS5Tb3VyY2VCdWZmZXJNYW5hZ2VyKSYmKGEuVmlkZW9Tb3VyY2VCdWZmZXI9ZC5CYSgpLlNvdXJjZUJ1ZmZlcikpOyhkPWEuQXVkaW9Tb3VyY2VTdHJlYW09Yy5BdWRpb1NvdXJjZVN0cmVhbSkmJihkPWEuQXVkaW9CdWZmZXJNYW5hZ2VyPWQuQmEoKS5Tb3VyY2VCdWZmZXJNYW5hZ2VyKSYmKGEuQXVkaW9Tb3VyY2VCdWZmZXI9ZC5CYSgpLlNvdXJjZUJ1ZmZlcik7YS5UZXh0U291cmNlU3RyZWFtPWMuVGV4dFNvdXJjZVN0cmVhbTthLmdldE1hbmlmZXN0PWIuVGIuYmluZChiKX1lbHNlIGEuZ2V0TWFuaWZlc3Q9ZnVuY3Rpb24oKXt9O2EuTmQ9ITA7cmV0dXJuIGF9OwpXLnByb3RvdHlwZS5nZXREZWJ1Zz1XLnByb3RvdHlwZS5CYTtXLnByb3RvdHlwZS5zYT1mdW5jdGlvbihhKXt0aGlzLlk9YX07Vy5wcm90b3R5cGUuc2V0UmVzdW1lQWZ0ZXJCdWZmZXJpbmc9Vy5wcm90b3R5cGUuc2E7ZnVuY3Rpb24gT2UoYSl7cmV0dXJuInRleHQvdnR0Ij09YT8hIXdpbmRvdy5WVFRDdWU6TWVkaWFTb3VyY2UuaXNUeXBlU3VwcG9ydGVkKGEpfVcuaXNUeXBlU3VwcG9ydGVkPU9lO1cuc2V0VGV4dFN0eWxlPWZ1bmN0aW9uKGEpe3ZhciBiPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJTaGFrYVBsYXllclRleHRTdHlsZSIpO2J8fChiPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInN0eWxlIiksYi5pZD0iU2hha2FQbGF5ZXJUZXh0U3R5bGUiLGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoYikpO2ZvcihiPWIuc2hlZXQ7Yi5jc3NSdWxlcy5sZW5ndGg7KWIuZGVsZXRlUnVsZSgwKTtiLmluc2VydFJ1bGUoIjo6Y3VlIHsgIityYShhKSsiIH0iLDApfTsKVy5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3JldHVybiB0aGlzLlUoKS50aGVuKEoodGhpcyxmdW5jdGlvbigpe3RoaXMuZy5kZXN0cm95KCk7dGhpcy5iPXRoaXMuZz1udWxsO3RoaXMuUiYmdGhpcy5SLnJlbW92ZSgpfSkpLmNhdGNoKGZ1bmN0aW9uKCl7fSl9O1cucHJvdG90eXBlLmRlc3Ryb3k9Vy5wcm90b3R5cGUuZGVzdHJveTtXLnByb3RvdHlwZS5VPWZ1bmN0aW9uKCl7dGhpcy5LPSEwO3JldHVybiBaZSh0aGlzKX07Vy5wcm90b3R5cGUudW5sb2FkPVcucHJvdG90eXBlLlU7CmZ1bmN0aW9uIFplKGEpe3ZhciBiO2EubCYmKGI9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigidW5sb2FkIikuc3RhcnQoKSk7aWYoIWEuYSlyZXR1cm4gYiYmYi5sb2coKSxQcm9taXNlLnJlc29sdmUoKTthLmgmJiRlKGEsInVubG9hZGluZyIpO2EuYi5wYXVzZSgpO2RiKGEuZyk7YWYoYSk7YmYoYSk7YS5pJiYoYS5pLmRlc3Ryb3koKSxhLmk9bnVsbCk7YS5hJiYoYS5hLmRlc3Ryb3koKSxhLmE9bnVsbCk7YS5mLmdldEJvb2woInd3d192aWRlb3NfcGxheWJhY2tfcmVtb3ZlX3NyY19hdHRyX29uX3VubG9hZCIsITEpP2EuYi5yZW1vdmVBdHRyaWJ1dGUoInNyYyIpOmEuYi5zcmM9IiI7dmFyIGM9YS5mLmdldEJvb2woInd3d19zaGFrYV9jbGVhcl9tZWRpYV9rZXlzX29uX3VubG9hZCIsITEpJiZhLmIuc2V0TWVkaWFLZXlzJiYiZnVuY3Rpb24iPT09dHlwZW9mIGEuYi5zZXRNZWRpYUtleXM/YS5iLnNldE1lZGlhS2V5cyhudWxsKTpQcm9taXNlLnJlc29sdmUoKSxjPWMudGhlbihmdW5jdGlvbigpe2ImJgpiLmxvZygpO2lmKGEuZi5nZXRCb29sKCJlbmFibGVfcDJwX3N1cHBvcnQiLCExKSl7dmFyIGM9eSh7dHlwZToidW5sb2FkIn0pO2EuZGlzcGF0Y2hFdmVudChjKX19KTthLmg9ITE7YS5PPSExO2EuQT0hMTthLnU9ITE7cmV0dXJuIGN9ZnVuY3Rpb24gY2YoYSxiKXtmb3IodmFyIGM9MDtjPGEubGVuZ3RoO2MrKyliLnB1c2goYVtjXS5jb250ZW50VHlwZSxhW2NdKX1XLnByb3RvdHlwZS5GYT1mdW5jdGlvbihhKXtyZXR1cm4gZGYodGhpcyxhKX07Vy5wcm90b3R5cGUubG9hZD1XLnByb3RvdHlwZS5GYTsKZnVuY3Rpb24gZGYoYSxiKXt2YXIgYzthLmwmJihjPWEubC5nZXRPcGVyYXRpb25Mb2dnZXIoImxvYWQiKS5zZXRTdGF0ZSgibG9hZGluZyIpLnN0YXJ0KCksYi5sPWIuZy5wZXJmb3JtYW5jZUxvZ2dlcj1hLmwpO2EuRyYmKGIuQWI9Yi5nLmFickxvZ2dlcj1hLkcpO2EuYmEmJihiLmlhPWEuYmEpO2EuY2EmJihiLkk9YS5jYSk7YS5nYSYmYi5VLnB1c2goYS5nYSk7ZWYoYixhLmIpO3ZhciBkPW51bGw7YS5LPSExO0UoYS5nLGIsInJlcGxpY2Fzd2l0Y2giLGEubmEuYmluZChhKSk7YS5hJiYoZD1aZShhKS50aGVuKEooYSxmdW5jdGlvbigpe3JldHVybiBiLndiKCl9KSkpO2EuYi5hdXRvcGxheSYmKHUucWEoImxvYWQiKSxFKGEuZyxhLmIsInRpbWV1cGRhdGUiLGEuZWQuYmluZChhKSkpO2IubGMoYS5jKTtiLmxhPWEuVDthLlQ9bnVsbDtkfHwoZD1iLndiKCkpO2EuZi5nZXRCb29sKCJmaXhfc2hha2FfcGxheWVyX2xvYWRfcmFjZV9jb25kaXRpb24iLCExKSYmKGEuYT1iKTtkLmNhdGNoKEooYSwKZnVuY3Rpb24oYSl7Yi5kZXN0cm95KCk7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfSkpO3JldHVybiBkLnRoZW4oSihhLGZ1bmN0aW9uKCl7aWYoZmYodGhpcyxiKSlyZXR1cm4gZ2YoKTt0aGlzLmE9Yjt0aGlzLmcuYWIodGhpcy5hLCJyZXBsaWNhc3dpdGNoIik7RSh0aGlzLmcsdGhpcy5hLCJzZWVrcmFuZ2VjaGFuZ2VkIix0aGlzLnBhLmJpbmQodGhpcykpO0UodGhpcy5nLHRoaXMuYSwiYWxsU3RyZWFtc1N0YXJ0ZWQiLHRoaXMuRmQuYmluZCh0aGlzKSk7dmFyIGE9bmV3IEQ7Y2YoTmUodGhpcy5hKSxhKTtQZSh0aGlzLmEsYSk7YT10aGlzLmVhKCk7YyYmMDxhLmxlbmd0aCYmKGE9YS5yZWR1Y2UoZnVuY3Rpb24oYSxiKXtpZihudWxsPT09YXx8Yi5iYW5kd2lkdGg8YS5iYW5kd2lkdGgpYT1iO3JldHVybiBhfSxudWxsKSxjLnNldExvd2VzdFF1YWxpdHlSZXByZXNlbnRhdGlvbklEKGEuc3RyZWFtSW5mb0lEKSk7aWYoIXRoaXMuYy5lbmFibGVDb250ZW50UHJvdGVjdGlvbilyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7CnRoaXMuaT1uZXcgTWUodGhpcyx0aGlzLmIsdGhpcy5hLHRoaXMubCk7cmV0dXJuIHRoaXMuaS5pbml0aWFsaXplKCl9KSkudGhlbihKKGEsZnVuY3Rpb24oKXtpZihmZih0aGlzLGIpKXJldHVybiBnZigpO2hmKHRoaXMpO0UodGhpcy5nLHRoaXMuYiwicGxheWluZyIsdGhpcy5rZC5iaW5kKHRoaXMpKTtFKHRoaXMuZyx0aGlzLmIsInBhdXNlIix0aGlzLm1hLmJpbmQodGhpcykpO0UodGhpcy5nLHRoaXMuYiwid2FpdGluZyIsdGhpcy5zZC5iaW5kKHRoaXMpKTtFKHRoaXMuZyx0aGlzLmIsInBsYXkiLHRoaXMuaWEuYmluZCh0aGlzKSk7cmV0dXJuIGpmKHRoaXMuYSx0aGlzLHRoaXMuYil9KSkudGhlbihKKGEsZnVuY3Rpb24oKXtpZihmZih0aGlzLGIpKXJldHVybiBnZigpO2lmKHRoaXMuYy5lbmFibGVDb250ZW50UHJvdGVjdGlvbil7dmFyIGE7dGhpcy5sJiYoYT10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJlbWVfYXR0YWNoIikpO3JldHVybiBTZSh0aGlzLmkpLnRoZW4oZnVuY3Rpb24oKXthJiYKYS5sb2coKX0pfXJldHVybiBQcm9taXNlLnJlc29sdmUoKX0pKS50aGVuKEooYSxmdW5jdGlvbigpe2lmKGZmKHRoaXMsYikpcmV0dXJuIGdmKCk7a2YodGhpcyk7YyYmYy51cGRhdGVTdGF0ZSgicmVhZHkiKS5sb2coKX0pKS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7YyYmYy5zZXRFcnJvcihKU09OLnN0cmluZ2lmeShhKSkubG9nKCk7aWYoZmYodGhpcyxiKSlyZXR1cm4gZ2YoKTtpZigiZGVzdHJveSIhPWEudHlwZSl7dmFyIGQ9QShhKTt0aGlzLmRpc3BhdGNoRXZlbnQoZCl9cmV0dXJuIHRoaXMuVSgpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYSl9KX0pKX1mdW5jdGlvbiBmZihhLGIpe3JldHVybiFhLmJ8fGEuS3x8YS5mLmdldEJvb2woImZpeF9zaGFrYV9wbGF5ZXJfbG9hZF9yYWNlX2NvbmRpdGlvbiIsITEpJiZiIT09YS5hfW49Vy5wcm90b3R5cGU7Cm4uRmQ9ZnVuY3Rpb24oKXt2YXIgYSxiO3RoaXMuZi5nZXRCb29sKCJ3d3dfdmlkZW9zX2V4dGVuZGVkX3NwbF9sb2dnaW5nX2Zvcl9jb25uZWN0ZWRfdHYiLCExKSYmdGhpcy5sJiYoYT10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJvbl9hbGxfc3RyZWFtc19zdGFydGVkIiksYj10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJyZXN0b3JlX3ZpZGVvX3BsYXliYWNrX3JhdGUiKSk7dGhpcy5PPSEwO3RoaXMuaD90aGlzLkQoKToodGhpcy5iLnBsYXliYWNrUmF0ZT10aGlzLmosYiYmYi5sb2coKSk7YSYmYS5sb2coKX07ZnVuY3Rpb24gZ2YoKXt2YXIgYT1FcnJvcigiUGxheWVyIGRlc3Ryb3llZCIpO2EudHlwZT0iZGVzdHJveSI7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfQpmdW5jdGlvbiBoZihhKXt2YXIgYj1hLmIucGFyZW50Tm9kZTtiJiZhLmYuZ2V0Qm9vbCgicHJldmVudF9wbGF5aW5nX29uX2luc3VmZmljaWVudF9idWZmZXIiLCExKSYmKGEuUj1ldmVudExpc3RlbmVyQ2FwdHVyZShiLCJwbGF5aW5nIixmdW5jdGlvbihhKXthLnRhcmdldD09PXRoaXMuYiYmdGhpcy5EKGEpfS5iaW5kKGEpKSl9bi5lZD1mdW5jdGlvbigpe3UuZW5kKCJsb2FkIik7dGhpcy5nLmFiKHRoaXMuYiwidGltZXVwZGF0ZSIpfTtuLnNkPWZ1bmN0aW9uKGEpe2xmKHRoaXMpO3RoaXMuZi5nZXRCb29sKCJ1bmlmeV9zdHJlYW1fc3RhcnRfd2l0aF9idWZmZXJfZGV0ZWN0b3IiLCExKSYmIXRoaXMuaCYmdGhpcy5EKGEpfTsKbi5rZD1mdW5jdGlvbigpe3UucWEoInBsYXlpbmciKTt0aGlzLmwmJnRoaXMubC5nZXRFdmVudExvZ2dlcigicGxheWluZyIpLnNldFN0YXRlKCJwbGF5aW5nIikubG9nKCk7IXRoaXMubSYmMD50aGlzLmomJih0aGlzLmIucGxheWJhY2tSYXRlPTAsdGhpcy5QKHRoaXMuYi5jdXJyZW50VGltZSxEYXRlLm5vdygpLHRoaXMuaikpO3RoaXMuaCYmIXRoaXMuViYmJGUodGhpcywicGxheWluZyIpfTtuLkJkPWZ1bmN0aW9uKGEpe3RoaXMudT1hfTtXLnByb3RvdHlwZS5zZXRQZW5kaW5nUGxheVJlcXVlc3Q9Vy5wcm90b3R5cGUuQmQ7Vy5wcm90b3R5cGUuaWE9ZnVuY3Rpb24oKXt0aGlzLnU9ITB9O1cucHJvdG90eXBlLm1hPWZ1bmN0aW9uKCl7dGhpcy5sJiZ0aGlzLmwuZ2V0RXZlbnRMb2dnZXIoInBhdXNlIikuc2V0U3RhdGUoInBhdXNlZCIpLmxvZygpO3UuZW5kKCJwbGF5aW5nIik7dS5nZXQoInBsYXlpbmciKTtiZih0aGlzKX07ClcucHJvdG90eXBlLnBhPWZ1bmN0aW9uKGEpe3RoaXMuRj1hLnN0YXJ0O3RoaXMuJD1hLmxhc3Q7dGhpcy5aPWEuZW5kO3RoaXMuUz1hLnNlZWtSYW5nZUdhcHM7dGhpcy5mLmdldEJvb2woIm5vX3NraXBfZ2Fwc19vbl9zZWVrX3JhbmdlX2NoYW5nZWQiLCExKXx8bGYodGhpcyl9O1cucHJvdG90eXBlLmVhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYT90aGlzLmEuWigpOltdfTtXLnByb3RvdHlwZS5nZXRWaWRlb1RyYWNrcz1XLnByb3RvdHlwZS5lYTtXLnByb3RvdHlwZS54YT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmE/dGhpcy5hLnZhKCk6W119O1cucHJvdG90eXBlLmdldEF1ZGlvVHJhY2tzPVcucHJvdG90eXBlLnhhO1cucHJvdG90eXBlLkRhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYT90aGlzLmEubWMoKTpbXX07Vy5wcm90b3R5cGUuZ2V0VGV4dFRyYWNrcz1XLnByb3RvdHlwZS5EYTsKVy5wcm90b3R5cGUuc2VsZWN0VmlkZW9UcmFjaz1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmE/dGhpcy5hLnNlbGVjdFZpZGVvVHJhY2soYSx2b2lkIDA9PWI/ITA6Yik6ITF9O1cucHJvdG90eXBlLnNlbGVjdFZpZGVvVHJhY2s9Vy5wcm90b3R5cGUuc2VsZWN0VmlkZW9UcmFjaztXLnByb3RvdHlwZS5HYT1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIHRoaXMuYT9tZih0aGlzLmEsImF1ZGlvIixhLHZvaWQgMD09Yj8hMDpiLGMpOiExfTtXLnByb3RvdHlwZS5zZWxlY3RBdWRpb1RyYWNrPVcucHJvdG90eXBlLkdhO1cucHJvdG90eXBlLkhhPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmE/bWYodGhpcy5hLCJ0ZXh0IixhLCExKTohMX07Vy5wcm90b3R5cGUuc2VsZWN0VGV4dFRyYWNrPVcucHJvdG90eXBlLkhhO1cucHJvdG90eXBlLndhPWZ1bmN0aW9uKGEpe3RoaXMuYSYmbmYodGhpcy5hLGEpfTtXLnByb3RvdHlwZS5lbmFibGVUZXh0VHJhY2s9Vy5wcm90b3R5cGUud2E7ClcucHJvdG90eXBlLnJhPWZ1bmN0aW9uKGEpe2JmKHRoaXMpO3RoaXMudyYmdGhpcy5ofHwhKDA8PWEpP3RoaXMuYi5wYXVzZWR8fCh0aGlzLmIucGxheWJhY2tSYXRlPTAsdGhpcy5QKHRoaXMuYi5jdXJyZW50VGltZSxEYXRlLm5vdygpLGEpKTp0aGlzLmIucGxheWJhY2tSYXRlPWE7dGhpcy5qPWF9O1cucHJvdG90eXBlLnNldFBsYXliYWNrUmF0ZT1XLnByb3RvdHlwZS5yYTtXLnByb3RvdHlwZS5rYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmp9O1cucHJvdG90eXBlLmdldFBsYXliYWNrUmF0ZT1XLnByb3RvdHlwZS5rYTtXLnByb3RvdHlwZS5DYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmE/dGhpcy5hLk9iKCk6bnVsbH07Vy5wcm90b3R5cGUuZ2V0TWFuaWZlc3Q9Vy5wcm90b3R5cGUuQ2E7Vy5wcm90b3R5cGUuUGE9ZnVuY3Rpb24oYSl7dGhpcy5UPWF9O1cucHJvdG90eXBlLnNldFBsYXliYWNrU3RhcnRUaW1lPVcucHJvdG90eXBlLlBhOwpXLnByb3RvdHlwZS5JPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYT8hIXRoaXMuYS5QKCk6ITF9O1cucHJvdG90eXBlLmlzTGl2ZT1XLnByb3RvdHlwZS5JOwpXLnByb3RvdHlwZS52YT1mdW5jdGlvbihhKXtpZihhKXt2YXIgYj1CKGEsImVuYWJsZUFkYXB0YXRpb24iKTtudWxsIT1iJiYodGhpcy5jLmVuYWJsZUFkYXB0YXRpb249Yik7Yj1CKGEsImVuZEJ1ZmZlcmluZ09uUGxheWluZyIpO251bGwhPWImJih0aGlzLlY9Yik7Yj1CKGEsInVzZVBsYXliYWNrUmF0ZUZvckJ1ZmZlcmluZyIpO251bGwhPWImJih0aGlzLnc9Yik7Yj1DKGEsInN0cmVhbUJ1ZmZlclNpemUiLDApO251bGwhPWImJih0aGlzLmMuc3RyZWFtQnVmZmVyU2l6ZT1iKTtiPUMoYSwiZHluYW1pY1N0cmVhbUJ1ZmZlclNpemUiLDApO251bGwhPWImJih0aGlzLmMuZHluYW1pY1N0cmVhbUJ1ZmZlclNpemU9Yik7bnVsbCE9YS5zbWFydEJ1ZmZlckFkanVzdG1lbnRQYXJhbXMmJih0aGlzLmMuc21hcnRCdWZmZXJBZGp1c3RtZW50UGFyYW1zPWEuc21hcnRCdWZmZXJBZGp1c3RtZW50UGFyYW1zKTtiPUIoYSwiYWRkQ2RuRGVidWdRdWVyeVBhcmFtZXRlcnMiKTtudWxsIT1iJiYKKHRoaXMuYy5hZGRDZG5EZWJ1Z1F1ZXJ5UGFyYW1ldGVycz1iKTtiPUMoYSwiaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemUiLDApO251bGwhPWImJih0aGlzLmMuaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemU9Yik7Yj1CKGEsImluY2x1ZGVTdHJlYW1CdWZmZXJTaXplSW5TdGFydE9mZnNldCIpO251bGwhPWImJih0aGlzLmMuaW5jbHVkZVN0cmVhbUJ1ZmZlclNpemVJblN0YXJ0T2Zmc2V0PWIpO2I9QyhhLCJqdW1wVG9MaXZlVGhyZXNob2xkIik7bnVsbCE9YiYmKHRoaXMuYy5qdW1wVG9MaXZlVGhyZXNob2xkPWIpO2I9QyhhLCJsaXZlU3RyZWFtRW5kVGltZW91dCIsMCk7bnVsbCE9YiYmKHRoaXMuYy5saXZlU3RyZWFtRW5kVGltZW91dD1iKTtiPUMoYSwibGljZW5zZVJlcXVlc3RUaW1lb3V0IiwwKTtudWxsIT1iJiYodGhpcy5jLmxpY2Vuc2VSZXF1ZXN0VGltZW91dD1iKTtiPUMoYSwibXBkUmVxdWVzdFRpbWVvdXQiLDApO251bGwhPWImJih0aGlzLmMubXBkUmVxdWVzdFRpbWVvdXQ9CmIpO2I9QyhhLCJtaW5NcGRSZWZyZXNoSW50ZXJ2YWwiLDApO251bGwhPWImJih0aGlzLmMubWluTXBkUmVmcmVzaEludGVydmFsPWIpO2I9QihhLCJlbmFibGVMaXZlSW50ZXJydXB0aW9uRGV0ZWN0aW9uIik7bnVsbCE9YiYmKHRoaXMuYy5lbmFibGVMaXZlSW50ZXJydXB0aW9uRGV0ZWN0aW9uPWIpO2I9QihhLCJlbmFibGVNYW5pZmVzdERlYnVnIik7bnVsbCE9YiYmKHRoaXMuYy5lbmFibGVNYW5pZmVzdERlYnVnPWIsRi5wcm90b3R5cGUub2M9YixifHwoRi5wcm90b3R5cGUuTGE9ZnVuY3Rpb24oKXt9KSk7Yj1CKGEsInJlc29sdmVWaWRlb1RpbWVVcGRhdGVPbkZyYWdtZW50ZWRUaW1lUmFuZ2VzIik7bnVsbCE9YiYmKHRoaXMuYy5yZXNvbHZlVmlkZW9UaW1lVXBkYXRlT25GcmFnbWVudGVkVGltZVJhbmdlcz1iKTtiPUMoYSwibGl2ZUludGVycnVwdGlvbkNvbnNlY3V0aXZlVXBkYXRlc1dpdGhvdXRDaGFuZ2UiKTtudWxsIT1iJiYodGhpcy5jLmxpdmVJbnRlcnJ1cHRpb25Db25zZWN1dGl2ZVVwZGF0ZXNXaXRob3V0Q2hhbmdlPQpiKTtiPUMoYSwibGl2ZUludGVycnVwdGlvbkNvbnNlY3V0aXZlVXBkYXRlc1dpdGhDaGFuZ2UiKTtudWxsIT1iJiYodGhpcy5jLmxpdmVJbnRlcnJ1cHRpb25Db25zZWN1dGl2ZVVwZGF0ZXNXaXRoQ2hhbmdlPWIpO2I9QihhLCJyZWFwcGVuZEluaXRTZWdtZW50QWZ0ZXJBYm9ydCIpO251bGwhPWImJih0aGlzLmMucmVhcHBlbmRJbml0U2VnbWVudEFmdGVyQWJvcnQ9Yik7Yj1CKGEsImxpdmVTZW5kUHVzaEhlYWRlcnMiKTtudWxsIT1iJiYodGhpcy5jLmxpdmVTZW5kUHVzaEhlYWRlcnM9Yik7Yj1DKGEsImxpdmVNYXhNYW5pZmVzdEZldGNoZXNXaXRoUHVzaCIpO251bGwhPWImJih0aGlzLmMubGl2ZU1heE1hbmlmZXN0RmV0Y2hlc1dpdGhQdXNoPWIpO2I9QyhhLCJsaXZlTWF4U2VnbWVudHNUb1B1c2giKTtudWxsIT1iJiYodGhpcy5jLmxpdmVNYXhTZWdtZW50c1RvUHVzaD1iKTtiPUMoYSwic2VnbWVudFJlcXVlc3RUaW1lb3V0IiwwKTtudWxsIT1iJiYodGhpcy5jLnNlZ21lbnRSZXF1ZXN0VGltZW91dD0KYik7Yj1ZYShhLCJwcmVmZXJyZWRMYW5ndWFnZSIpO251bGwhPWImJih0aGlzLmMucHJlZmVycmVkTGFuZ3VhZ2U9Yik7Yj1aYShhLCJyZXN0cmljdGlvbnMiLGthKTtudWxsIT1iJiYodGhpcy5jLnJlc3RyaWN0aW9ucz1iLmNsb25lKCkpO2I9YS5saXZlSW5pdGlhbFB1c2hSZXByZXNlbnRhdGlvbjtudWxsIT1iJiYodGhpcy5jLmxpdmVJbml0aWFsUHVzaFJlcHJlc2VudGF0aW9uPWIpO2I9YS5saXZlQXVkaW9QdXNoUmVwcmVzZW50YXRpb247bnVsbCE9YiYmKHRoaXMuYy5saXZlQXVkaW9QdXNoUmVwcmVzZW50YXRpb249Yik7Yj1hLnVzZUlubGluZUluaXRTZWdtZW50O251bGwhPWImJih0aGlzLmMudXNlSW5saW5lSW5pdFNlZ21lbnQ9Yik7Yj1CKGEsImRpc2FibGVDYWNoZUJ1c3RpbmdFdmVuVGhvdWdoSXRNYXlBZmZlY3RCYW5kd2lkdGhFc3RpbWF0aW9uIik7bnVsbCE9YiYmKFRjPSFiKTtiPUIoYSwiY3VycmVudFRpbWVEdXJpbmdSZWFkeVN0YXRlWmVyb1Rocm93cyIpO251bGwhPQpiJiYodGhpcy5jLmN1cnJlbnRUaW1lRHVyaW5nUmVhZHlTdGF0ZVplcm9UaHJvd3M9Yik7Yj1DKGEsImxpdmVEYXRhRmV0Y2hNYXhSZXRyaWVzIik7bnVsbCE9YiYmKHRoaXMuYy5saXZlRGF0YUZldGNoTWF4UmV0cmllcz1iKTtiPUMoYSwibGl2ZVNvdXJjZUJ1ZmZlckNsZWFyTWF4UmV0cmllcyIpO251bGwhPWImJih0aGlzLmMubGl2ZVNvdXJjZUJ1ZmZlckNsZWFyTWF4UmV0cmllcz1iKTtiPUIoYSwidXNlTG9uZ0NhY2hlRm9yTWFuaWZlc3QiKTtudWxsIT1iJiYodGhpcy5jLnVzZUxvbmdDYWNoZUZvck1hbmlmZXN0PWIpO2I9QihhLCJqdW1wVG9FYXJsaWVzdFBvc2l0aW9uSW5DdXJyZW50QmxvY2siKTtudWxsIT1iJiYodGhpcy5jLmp1bXBUb0VhcmxpZXN0UG9zaXRpb25JbkN1cnJlbnRCbG9jaz1iKTtiPUIoYSwiaWdub3JlTWluQnVmZmVyVGltZSIpO251bGwhPWImJih0aGlzLmMuaWdub3JlTWluQnVmZmVyVGltZT1iKTtiPUMoYSwicGxheWhlYWRGcmFnbWVudGVkR2FwRGlmZkFsbG93YW5jZSIpOwpudWxsIT1iJiYodGhpcy5jLnBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2U9Yik7Yj1CKGEsImZpeEJ1ZmZlcmluZ0dvYWxEZXRlcm1pbmF0aW9uIik7bnVsbCE9YiYmKHRoaXMuYy5maXhCdWZmZXJpbmdHb2FsRGV0ZXJtaW5hdGlvbj1iKTtiPUIoYSwic2tpcEVtcHR5U2VnbWVudHMiKTtudWxsIT1iJiYodGhpcy5jLnNraXBFbXB0eVNlZ21lbnRzPWIpOyhiPUIoYSwidXNlTWljcm9UYXNrVGltZW91dHMiKSkmJih0aGlzLmMudXNlTWljcm9UYXNrVGltZW91dHM9Yik7KGI9QihhLCJlbmFibGVSZXF1ZXN0UGlwZWxpbmluZyIpKSYmKHRoaXMuYy5lbmFibGVSZXF1ZXN0UGlwZWxpbmluZz1iKTsoYj1CKGEsImVuYWJsZVN0cmVhbWluZyIpKSYmKHRoaXMuYy5lbmFibGVTdHJlYW1pbmc9Yik7KGE9QihhLCJlbmFibGVDb250ZW50UHJvdGVjdGlvbiIpKSYmKHRoaXMuYy5lbmFibGVDb250ZW50UHJvdGVjdGlvbj1hKTt0aGlzLmEmJnRoaXMuYS5sYyh0aGlzLmMpfX07ClcucHJvdG90eXBlLmNvbmZpZ3VyZT1XLnByb3RvdHlwZS52YTtXLnByb3RvdHlwZS5PYT1mdW5jdGlvbihhKXt0aGlzLmEmJnRoaXMuYS5xYyhhKX07Vy5wcm90b3R5cGUuc2V0RW5hYmxlTGl2ZWhlYWRDYXRjaHVwPVcucHJvdG90eXBlLk9hO1cucHJvdG90eXBlLkVhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYT90aGlzLmEubmE6ITF9O1cucHJvdG90eXBlLmlzTGl2ZWhlYWRDYXRjaHVwRW5hYmxlZD1XLnByb3RvdHlwZS5FYTsKZnVuY3Rpb24gbGYoYSl7aWYoYS5mLmdldEJvb2woInNraXBfbWFuaWZlc3RfZ2FwX2Jhc2VkX29uX3N0cmVhbV9saW1pdHMiLCExKSYmKCFhLkkoKXx8IWEuZi5nZXRCb29sKCJub19za2lwX21hbmlmZXN0X2dhcHNfaWZfbGl2ZSIsITEpKSl7dmFyIGI7YS5mLmdldEJvb2woInNraXBfbWFuaWZlc3RfZ2Fwc191c2VfY2FjaGVkX3N0cmVhbV9saW1pdHMiLCExKT9hLmEmJm51bGwhPT1hLlM/Yj17c3RhcnQ6YS5GLGVuZDphLlosbGFzdDphLiQsWmE6YS5TfTpiPWEuYT9hLmEubmIoKTpudWxsOmI9YS5hP2EuYS5uYigpOm51bGw7aWYoYilmb3IodmFyIGM9YS5mLmdldE51bWJlcigic2tpcF9tYW5pZmVzdF9nYXBfYm91bmRhcnlfcHJlY2lzaW9uX21zIiwxRTMpLzFFMyxkPWIuWmEsZT1hLmIucGxheWJhY2tSYXRlLGY9YS5iLmN1cnJlbnRUaW1lLGc9MDtnPGQubGVuZ3RoOysrZyl7dmFyIGg9ZFtnXS5zdGFydFRpbWUtYyxrPWRbZ10uZW5kVGltZStjO2Y8PWsmJmY+PWgmJihhLmYuZ2V0Qm9vbCgiZml4X3NlZWtfcmFuZ2VfZ2FwX2JvdW5kYXJ5IiwKITEpfHwoaD1kW2ddLnN0YXJ0VGltZSxrPWRbZ10uZW5kVGltZSksMDw9ZT9iLmVuZD5rJiYoYS5iLmN1cnJlbnRUaW1lPWspOmIuc3RhcnQ8aCYmKGEuYi5jdXJyZW50VGltZT1oKSl9fX1XLnByb3RvdHlwZS5sYT1mdW5jdGlvbigpe3ZhciBhPXRoaXMuYSYmdGhpcy5hLm5iKCk7cmV0dXJuKGE9YSYme3N0YXJ0OmEuc3RhcnQsZW5kOmEuZW5kLGxhc3Q6YS5sYXN0LHNlZWtSYW5nZUdhcHM6YS5aYX0pfHxudWxsfTtXLnByb3RvdHlwZS5nZXRWaWRlb1NvdXJjZVN0cmVhbUxpbWl0cz1XLnByb3RvdHlwZS5sYTtXLnByb3RvdHlwZS55YT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmN9O1cucHJvdG90eXBlLmdldENvbmZpZ3VyYXRpb249Vy5wcm90b3R5cGUueWE7ZnVuY3Rpb24gYmYoYSl7YS5tJiYoY2xlYXJUaW1lb3V0KGEubSksYS5tPW51bGwpfQpmdW5jdGlvbiBrZihhKXt2YXIgYjthLmYuZ2V0Qm9vbCgid3d3X3ZpZGVvc19leHRlbmRlZF9zcGxfbG9nZ2luZ19mb3JfY29ubmVjdGVkX3R2IiwhMSkmJmEubCYmKGI9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigic3RhcnRfd2F0Y2hkb2ciKSk7YWYoYSk7YS5KPXNldFRpbWVvdXQoYS5ELmJpbmQoYSksMTAwKTtiJiZiLmxvZygpfWZ1bmN0aW9uIGFmKGEpe3ZhciBiO2EuZi5nZXRCb29sKCJ3d3dfdmlkZW9zX2V4dGVuZGVkX3NwbF9sb2dnaW5nX2Zvcl9jb25uZWN0ZWRfdHYiLCExKSYmYS5sJiYoYj1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJjYW5jZWxfd2F0Y2hkb2ciKSk7YS5KJiYoY2xlYXJUaW1lb3V0KGEuSiksYS5KPW51bGwpO2ImJmIubG9nKCl9ClcucHJvdG90eXBlLlA9ZnVuY3Rpb24oYSxiLGMpe3RoaXMubT1udWxsO3ZhciBkPShEYXRlLm5vdygpLWIpLzFFMypjO3RoaXMuYi5jdXJyZW50VGltZTx0aGlzLkYrKHRoaXMuSSgpPzE6LjA1KT90aGlzLmIucGF1c2UoKTooZD1NYXRoLm1heCh0aGlzLkYsYStkKSx0aGlzLmIuY3VycmVudFRpbWU9ZCx0aGlzLm09c2V0VGltZW91dCh0aGlzLlAuYmluZCh0aGlzLGEsYixjKSwyNTApKX07ZnVuY3Rpb24gb2YoYSl7cmV0dXJuIGEuZi5nZXRCb29sKCJ1bmlmeV9zdHJlYW1fc3RhcnRfd2l0aF9idWZmZXJfZGV0ZWN0b3IiLCExKSYmIWEuT30KZnVuY3Rpb24gJGUoYSxiKXtpZighb2YoYSkpe3UuZW5kKCJidWZmZXJpbmciKTtudWxsIT09YS5CJiYoYS5CPW51bGwpO2EubyYmKGEuby5zZXRDb25jbHVkZXIoYikubG9nKCksYS5vPW51bGwpO2lmKGEuRyl7dmFyIGM9RGF0ZS5ub3coKTthLkcuc2V0RXZlbnQoImJ1ZmZlcmluZyIpLnNldENsaWVudFRpbWVCZWdpbihNYXRoLnJvdW5kKGMtdS5nZXQoImJ1ZmZlcmluZyIpKSkuc2V0Q2xpZW50VGltZUVuZChNYXRoLnJvdW5kKGMpKS5sb2coKX1hLncmJihhLmIucGxheWJhY2tSYXRlPWEuaik7YS5oPSExO2EuZGlzcGF0Y2hFdmVudCh5KHt0eXBlOiJidWZmZXJpbmdFbmQifSkpO2EuQSYmKGEuQT0hMSxkaXNwYXRjaERvbUV2ZW50KGEuYiwicGxheWluZyIpKTthLnU9ITF9fVcucHJvdG90eXBlLmphPWZ1bmN0aW9uKGEpe3RoaXMuZGlzcGF0Y2hFdmVudCh5KGEpKX07Vy5wcm90b3R5cGUuZGlzcGF0Y2hFdmVudEV4dGVybj1XLnByb3RvdHlwZS5qYTsKZnVuY3Rpb24gcGYoYSl7dmFyIGI9YS5iLmJ1ZmZlcmVkO2lmKDE9PT1iLmxlbmd0aCliPWIuZW5kKDApO2Vsc2UgaWYoMD09PWIubGVuZ3RoKWI9MDtlbHNle2Zvcih2YXIgYz0wLGQ9MDtkPGIubGVuZ3RoOysrZCliLmVuZChkKT49YS5iLmN1cnJlbnRUaW1lJiYoYz1iLnN0YXJ0KGQpPD1hLmIuY3VycmVudFRpbWU/YysoYi5lbmQoZCktYS5iLmN1cnJlbnRUaW1lKTpjKyhiLmVuZChkKS1iLnN0YXJ0KGQpKSk7cmV0dXJuIGN9cmV0dXJuIE1hdGgubWF4KGItYS5iLmN1cnJlbnRUaW1lLDApfQpXLnByb3RvdHlwZS5EPWZ1bmN0aW9uKGEpe2lmKCF0aGlzLmYuZ2V0Qm9vbCgicHJldmVudF9wbGF5aW5nX29uX2luc3VmZmljaWVudF9idWZmZXIiLCExKXx8IXRoaXMuSyl7a2YodGhpcyk7dmFyIGI9YT9hLnR5cGU6IiIsYz0id2FpdGluZyI9PT1iO2lmKCF0aGlzLmIuZW5kZWQmJiF0aGlzLmIuc2Vla2luZ3x8Yyl7dmFyIGQ7dGhpcy5mLmdldEJvb2woInd3d192aWRlb3NfZXh0ZW5kZWRfc3BsX2xvZ2dpbmdfZm9yX2Nvbm5lY3RlZF90diIsITEpJiZ0aGlzLmwmJihkPXRoaXMubC5nZXRPcGVyYXRpb25Mb2dnZXIoIndhdGNoZG9nIikpO3ZhciBlPXRoaXMuYi5idWZmZXJlZCxmPWUubGVuZ3RoP2UuZW5kKGUubGVuZ3RoLTEpOjAsZzt0aGlzLmYuZ2V0Qm9vbCgiZml4X3Vuc3RhbGxfYnVmZmVyX2NhbGN1bGF0aW9uIiwhMSk/Zz1wZih0aGlzKTpnPU1hdGgubWF4KGYtdGhpcy5iLmN1cnJlbnRUaW1lLDApO3ZhciBoPXRoaXMuYi5jdXJyZW50VGltZSxlPXRoaXMuSSgpP3RoaXMuZi5nZXROdW1iZXIoImxpdmVfYnVmZmVyaW5nX3VuZGVyZmxvd190aHJlc2hvbGQiLAouNSk6dGhpcy5mLmdldE51bWJlcigiYnVmZmVyaW5nX3VuZGVyZmxvd190aHJlc2hvbGQiLDApLGs9dGhpcy5iLmR1cmF0aW9uLGs9aXNOYU4oayk/MDpNYXRoLm1heChrLS4wNSwwKSxmPWY+PWt8fGg+PWssYj1ifHwid2F0Y2hkb2dfdGltZXIiO2lmKHRoaXMuaCl7cWYodGhpcyxhKTthPXJmKHRoaXMuYSk7dmFyIGw9MDxhP2cvYTowO2c+YXx8c2YodGhpcy5hKXx8dGhpcy5mLmdldEJvb2woImZpeF9idWZmZXJpbmdfYXRfdGhlX2VuZF9vZl9wbGF5YmFjayIsITApJiZmPygkZSh0aGlzLGIpLHRoaXMuWSYmIXRoaXMudyYmdGhpcy5iLnBsYXkoKSk6dGhpcy5CIT09bCYmKHRoaXMuQj1sLHRoaXMuZGlzcGF0Y2hFdmVudCh5KHt0eXBlOiJidWZmZXJpbmdQcm9ncmVzcyIscHJvZ3Jlc3M6bH0pKSl9ZWxzZSB0aGlzLmIucGF1c2VkJiYhY3x8ISghZiYmZzxlfHxvZih0aGlzKSl8fCh0aGlzLmg9ITAsdGhpcy53P3RoaXMuYi5wbGF5YmFja1JhdGU9MDp0aGlzLmIucGF1c2UoKSx0aGlzLmwmJgohdGhpcy5vJiYoZz10aGlzLmIuYnVmZmVyZWQsZz1nLmxlbmd0aD9nLmVuZChnLmxlbmd0aC0xKTowLHRoaXMuZi5nZXRCb29sKCJmaXhfdW5zdGFsbF9idWZmZXJfY2FsY3VsYXRpb24iLCExKT9sPXBmKHRoaXMpOmw9TWF0aC5tYXgoZy10aGlzLmIuY3VycmVudFRpbWUsMCksZz0xRTMqKHJmKHRoaXMuYSktbCksdGhpcy5vPXRoaXMubC5nZXRPcGVyYXRpb25Mb2dnZXIoImJ1ZmZlcmluZyIpLnNldExlbmd0aChNYXRoLnJvdW5kKGcpKS5zZXRUeXBlKHRoaXMudT8ic3RhcnQvdW5wYXVzZSI6ImluX3BsYXkiKS5zZXRJbml0aWF0b3IoYikuc3RhcnQoKSksdS5xYSgiYnVmZmVyaW5nIiksdGhpcy5kaXNwYXRjaEV2ZW50KHkoe3R5cGU6ImJ1ZmZlcmluZ1N0YXJ0In0pKSx0aGlzLmYuZ2V0Qm9vbCgibm9fc2tpcF9nYXBzX29uX2J1ZmZlcmluZyIsITEpfHxsZih0aGlzKSxxZih0aGlzLGEpKSxzZih0aGlzLmEpJiYkZSh0aGlzLGIpO2QmJmQubG9nKCl9ZWxzZSB0aGlzLmYuZ2V0Qm9vbCgiZml4X2ZmX2luX3BsYXlfc3RhbGxfdXBvbl9zZWVrIiwKITEpJiZxZih0aGlzLGEpfX07Vy5wcm90b3R5cGUubmE9ZnVuY3Rpb24oYSl7dGhpcy5kaXNwYXRjaEV2ZW50KGEpfTtmdW5jdGlvbiBxZihhLGIpe2ImJiJwbGF5aW5nIj09PWIudHlwZSYmKGEuQT0hMCxldmVudEtpbGwoYikpfVcucHJvdG90eXBlLnRhPWZ1bmN0aW9uKGEpe2lmKHRoaXMuYSl7dmFyIGI9dGhpcy5hO2IuYy52aWRlbyYmYi5jLnZpZGVvLkpjKGEpfX07Vy5wcm90b3R5cGUuc2V0VmlkZW9TdHJlYW1PZmZzZXQ9Vy5wcm90b3R5cGUudGE7ZnVuY3Rpb24gdGYoYSl7Zm9yKHZhciBiPTA7YjxhLmxlbmd0aDsrK2IpZm9yKHZhciBjPWFbYl0sZD0wO2Q8Yy5hLmxlbmd0aDsrK2Qpe2Zvcih2YXIgZT1jLmFbZF0sZj1lLGc9L3ZpZGVvXC93ZWJtOyBjb2RlY3M9ImF2MDEuKiIvLGg9ITEsaz0wO2s8Zi52Lmxlbmd0aDsrK2spe3ZhciBsPWYudltrXTtPZShOZChsKSk/Zy50ZXN0KE5kKGwpKSYmKGg9ITApOihmLnYuc3BsaWNlKGssMSksLS1rKX1pZihoKWZvcihrPTA7azxmLnYubGVuZ3RoOysraylsPWYudltrXSxnLnRlc3QoTmQobCkpfHwoZi52LnNwbGljZShrLDEpLC0tayk7MD09ZS52Lmxlbmd0aCYmKGMuYS5zcGxpY2UoZCwxKSwtLWQpfWZvcihiPTA7YjxhLmxlbmd0aDsrK2IpZm9yKGM9YVtiXSxkPTA7ZDxjLmEubGVuZ3RoOysrZCljLmFbZF0udi5zb3J0KHVmKX0KZnVuY3Rpb24gdWYoYSxiKXt2YXIgYz1hLmJhbmR3aWR0aHx8TnVtYmVyLk1BWF9WQUxVRSxkPWIuYmFuZHdpZHRofHxOdW1iZXIuTUFYX1ZBTFVFO3JldHVybiBjPGQ/LTE6Yz5kPzE6MH07ZnVuY3Rpb24gdmYoYSl7dGhpcy5hPWF9dmYucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmEuZGVzdHJveSgpO3RoaXMuYT1udWxsfTt2Zi5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKGEpe3ZhciBiPXdmKGEsbnVsbCksYz13Zih0aGlzLmEsYSk7cmV0dXJuIFByb21pc2UuYWxsKFtiLGNdKS50aGVuKEoodGhpcyxmdW5jdGlvbihiKXt2YXIgYz1iWzBdO2I9YlsxXTt0Zih0aGlzLmEuYSk7YS5iJiYhdGhpcy5hLmImJihhLmg9ITApO2EuYz10aGlzLmEuYzthLmk9dGhpcy5hLmk/dGhpcy5hLmkuY2xvbmUoKTpudWxsO2EuZz10aGlzLmEuZzt2YXIgZj1bXTt4ZihhLHRoaXMuYSxjLGIsZik7dGYoYS5hKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGYpfSkpfTsKZnVuY3Rpb24gd2YoYSxiKXtmdW5jdGlvbiBjKGEsYil7cmV0dXJuIGEuY29uY2F0KGIpfXZhciBkPWEuYS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuYX0pLnJlZHVjZShjLFtdKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEudn0pLnJlZHVjZShjLFtdKTtpZihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInRlbXBsYXRlZF9sYXN0X3hfdGltZWxpbmUiLCExKSYmYil2YXIgZT1iLmEubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLmF9KS5yZWR1Y2UoYyxbXSkubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLnZ9KS5yZWR1Y2UoYyxbXSkubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLk0uY3JlYXRlKCl9KSxlPVByb21pc2UuYWxsKGUpLnRoZW4oZnVuY3Rpb24oYSl7Zm9yKHZhciBiPU51bWJlci5QT1NJVElWRV9JTkZJTklUWSxjPTA7YzxhLmxlbmd0aDsrK2Mpe3ZhciBlPWFbY107ZS5sZW5ndGgoKSYmZS5sYXN0KCkudW5zY2FsZWRTdGFydFRpbWU8YiYmKGI9ZS5sYXN0KCkudW5zY2FsZWRTdGFydFRpbWUpfWI9CmEubGVuZ3RoP2I6bnVsbDthPWQubWFwKGZ1bmN0aW9uKGEpe2EuTS5FYyYmYS5NLkVjKGIpO3JldHVybiBhLk0uY3JlYXRlKCl9KTtyZXR1cm4gUHJvbWlzZS5hbGwoYSl9KTtlbHNlIGU9ZC5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuTS5jcmVhdGUoKX0pLGU9UHJvbWlzZS5hbGwoZSk7cmV0dXJuIGUudGhlbihmdW5jdGlvbihhKXtmb3IodmFyIGI9e30sYz0wO2M8ZC5sZW5ndGg7KytjKWJbZFtjXS5YXT1hW2NdO3JldHVybiBQcm9taXNlLnJlc29sdmUoYil9KX0KZnVuY3Rpb24geGYoYSxiLGMsZCxlKXt2YXIgZj1uZXcgRDthLmEuZm9yRWFjaChmdW5jdGlvbihhLGIpe2YucHVzaChhLmlkfHwiIitiLGEpfSk7dmFyIGc9bmV3IEQ7Yi5hLmZvckVhY2goZnVuY3Rpb24oYSxiKXtnLnB1c2goYS5pZHx8IiIrYixhKX0pO2E9YWIoZik7Zm9yKGI9MDtiPGEubGVuZ3RoOysrYil7dmFyIGg9YVtiXSxrPWYuZ2V0KGgpOzE8ay5sZW5ndGh8fChoPWcuZ2V0KGgpKSYmMCE9aC5sZW5ndGgmJjE9PWgubGVuZ3RoJiYoeWYoa1swXSxoWzBdLGMsZCxlKSxrWzBdLmR1cmF0aW9uPWhbMF0uZHVyYXRpb24pfX0KZnVuY3Rpb24geWYoYSxiLGMsZCxlKXt2YXIgZj1uZXcgRDthLmEuZm9yRWFjaChmdW5jdGlvbihhLGIpe2YucHVzaChhLmlkfHwiIitiLGEpfSk7dmFyIGc9bmV3IEQ7Yi5hLmZvckVhY2goZnVuY3Rpb24oYSxiKXtnLnB1c2goYS5pZHx8IiIrYixhKX0pO2E9YWIoZik7Zm9yKGI9MDtiPGEubGVuZ3RoOysrYil7dmFyIGg9YVtiXSxrPWYuZ2V0KGgpOzE8ay5sZW5ndGh8fChoPWcuZ2V0KGgpKSYmMCE9aC5sZW5ndGgmJjE9PWgubGVuZ3RoJiZ6ZihrWzBdLGhbMF0sYyxkLGUpfX0KZnVuY3Rpb24gemYoYSxiLGMsZCxlKXt2YXIgZj1uZXcgRDthLnYuZm9yRWFjaChmdW5jdGlvbihhLGIpe2YucHVzaChhLmlkfHwiIitiLGEpfSk7dmFyIGc9bmV3IEQ7Yi52LmZvckVhY2goZnVuY3Rpb24oYSxiKXtnLnB1c2goYS5pZHx8IiIrYixhKX0pO2I9e307Zm9yKHZhciBoPWFiKGYpLGs9MDtrPGgubGVuZ3RoOysrayl7dmFyIGw9aFtrXTtiW2xdPWw7dmFyIG09Zi5nZXQobCk7MTxtLmxlbmd0aHx8KChsPWcuZ2V0KGwpKSYmMCE9bC5sZW5ndGg/MT09bC5sZW5ndGgmJihCZihtWzBdLGxbMF0sYyxkKSxtWzBdLmFhPWxbMF0uYWEsbFswXS5hYT1udWxsLG1bMF0uYT1sWzBdLmEsVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJyZWZyZXNoX2JhbmR3aWR0aF9mcm9tX2xpdmVfbWFuaWZlc3QiLCExKSYmKG1bMF0uYmFuZHdpZHRoPWxbMF0uYmFuZHdpZHRoKSk6KGUucHVzaChtWzBdKSxhLnYuc3BsaWNlKGEudi5pbmRleE9mKG1bMF0pLDEpKSl9aD1hYihnKTsKZm9yKGs9MDtrPGgubGVuZ3RoOysraylsPWhba10sYltsXXx8KGJbbF09bCxsPWcuZ2V0KGwpLGEudi5wdXNoKGxbMF0pKX1mdW5jdGlvbiBCZihhLGIsYyxkKXthPWNbYS5YXTtjPWRbYi5YXTtkPShiPWEubGVuZ3RoKCkpP2EubGFzdCgpLmVuZFRpbWU6MDtpZihhLkIoYykpe2M9YS5sZW5ndGgoKTt2YXIgZT0hMTtWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInJvYnVzdF9jb3VudF9jaGFuZ2VzIiwhMSkmJihlPSEhYyYmYS5sYXN0KCkuZW5kVGltZT5kKTthLmcucHVzaChiIT09Y3x8ZSk7NTA8YS5nLmxlbmd0aCYmYS5nLnNoaWZ0KCl9fTtmdW5jdGlvbiBYKCl7dGhpcy5hPXRoaXMuYj1udWxsO3RoaXMuZj1uZXcgYmI7dGhpcy5jPU51bWJlci5QT1NJVElWRV9JTkZJTklUWTt0aGlzLmk9ITA7dGhpcy5nPSExfXEoInNoYWthLm1lZGlhLlNpbXBsZUFick1hbmFnZXIiLFgpO1gucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmYuZGVzdHJveSgpO3RoaXMuYT10aGlzLmI9dGhpcy5mPW51bGx9O1gucHJvdG90eXBlLmluaXRpYWxpemU9ZnVuY3Rpb24oYSxiKXt0aGlzLmJ8fHRoaXMuYXx8KHRoaXMuYj1hLHRoaXMuYT1iKX07ClgucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKCl7dGhpcy5iJiZ0aGlzLmEmJiF0aGlzLmcmJih0aGlzLmM9RGF0ZS5ub3coKSs0RTMsRSh0aGlzLmYsdGhpcy5iLmdldEVzdGltYXRvcigpLCJiYW5kd2lkdGgiLHRoaXMubS5iaW5kKHRoaXMpKSxFKHRoaXMuZix0aGlzLmEsImFkYXB0YXRpb24iLHRoaXMuai5iaW5kKHRoaXMpKSxFKHRoaXMuZix0aGlzLmEsInRyYWNrc2NoYW5nZWQiLHRoaXMuaC5iaW5kKHRoaXMpKSx0aGlzLmc9ITApfTtYLnByb3RvdHlwZS5lbmFibGU9ZnVuY3Rpb24oYSl7dGhpcy5pPWF9O1gucHJvdG90eXBlLmdldEluaXRpYWxWaWRlb1RyYWNrSWQ9ZnVuY3Rpb24oKXtpZighdGhpcy5ifHwhdGhpcy5hKXJldHVybiBudWxsO3ZhciBhPUNmKHRoaXMpO3JldHVybiBhP2EuaWQ6bnVsbH07WC5wcm90b3R5cGUuZ2V0SW5pdGlhbFN3aXRjaFJlYXNvbj1mdW5jdGlvbigpe3JldHVybiBudWxsfTtYLnByb3RvdHlwZS5nZXRJbml0aWFsQXVkaW9UcmFja0lkPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9OwpYLnByb3RvdHlwZS5zZWxlY3RWaWRlb1RyYWNrPWZ1bmN0aW9uKGEsYixjKXt0aGlzLmcmJnRoaXMuYS5zZWxlY3RWaWRlb1RyYWNrKGEuaWQsYixjKX07WC5wcm90b3R5cGUubT1mdW5jdGlvbigpe0RhdGUubm93KCk8dGhpcy5jfHx0aGlzLmgoKX07WC5wcm90b3R5cGUuaD1mdW5jdGlvbigpe2lmKHRoaXMuaSl7dmFyIGE9Q2YodGhpcyk7aWYoYSl7aWYoYS5hY3RpdmUpe3RoaXMuYz1EYXRlLm5vdygpKzNFMztyZXR1cm59dGhpcy5zZWxlY3RWaWRlb1RyYWNrKGEsITEpfXRoaXMuYz1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFl9fTtYLnByb3RvdHlwZS5qPWZ1bmN0aW9uKCl7dGhpcy5jPT1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkmJih0aGlzLmM9RGF0ZS5ub3coKSszRTQpfTsKZnVuY3Rpb24gQ2YoYSl7dmFyIGI9YS5hLlooKTtpZigwPT1iLmxlbmd0aClyZXR1cm4gbnVsbDtiLnNvcnQodmEpO3ZhciBjO2E6e2M9YS5hLnZhKCk7Zm9yKHZhciBkPTA7ZDxjLmxlbmd0aDsrK2QpaWYoY1tkXS5hY3RpdmUpe2M9Y1tkXTticmVhayBhfWM9bnVsbH1jPWM/Yy5iYW5kd2lkdGg6MDthPWEuYi5nZXRCYW5kd2lkdGgoKTtmb3IodmFyIGQ9YlswXSxlPTA7ZTxiLmxlbmd0aDsrK2Upe3ZhciBmPWJbZV0sZz1lKzE8Yi5sZW5ndGg/YltlKzFdOntiYW5kd2lkdGg6TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZfTtpZihmLmJhbmR3aWR0aCYmKGc9KGcuYmFuZHdpZHRoK2MpLy44NSxhPj0oZi5iYW5kd2lkdGgrYykvLjk1JiZhPD1nJiYoZD1mLGQuYWN0aXZlKSkpYnJlYWt9cmV0dXJuIGR9O2Z1bmN0aW9uIFkoYSxiLGMsZCl7Ri5jYWxsKHRoaXMsbnVsbCk7dGhpcy5iPWE7dGhpcy5hPWI7dGhpcy53YT1jO3RoaXMua2I9bmV3IFZpZGVvUGxheWVyTG9jYWxCYW5kd2lkdGhFc3RpbWF0b3IodGhpcyxjLGIpO3RoaXMuaD1uZXcgYmI7dGhpcy5pPW5ldyBNZWRpYVNvdXJjZTt0aGlzLmJhPXRoaXMudmlkZW89bnVsbDt0aGlzLkJiPTA7dGhpcy5uYz10aGlzLlpiPSExO3RoaXMuTGI9aWE7dGhpcy5BYj10aGlzLlY9dGhpcy5pYT10aGlzLmw9bnVsbDt0aGlzLktiPTM7dGhpcy5yYT10aGlzLiRiPXRoaXMuRmE9dGhpcy5FYT0hMTt0aGlzLlBhPTA7dGhpcy5kYT1uZXcgVmlkZW9QdXNoVHJhY2tlcjt0aGlzLmdhPW51bGw7dGhpcy5pYz0xO3RoaXMuZ2M9SW5maW5pdHk7dGhpcy5VYj10aGlzLlNiPSExO3RoaXMucGE9dGhpcy5PYT1udWxsO3RoaXMuV2I9dGhpcy5WYj10aGlzLkdhPXRoaXMuY2M9dGhpcy5tYT0hMTt0aGlzLmY9bmV3IEQ7dGhpcy5BPWQ7dGhpcy5BLmluaXRpYWxpemUodGhpcy5rYiwKdGhpcyk7dGhpcy5PPSExO3RoaXMuUz0iZW4iO3RoaXMueWE9ITE7dGhpcy5KPW5ldyBJO3RoaXMuSWI9bmV3IEk7dGhpcy5tPW5ldyBrYTt0aGlzLkQ9bnVsbDt0aGlzLmtjPTE7dGhpcy5jPXt9O3RoaXMuc2E9bmV3IEk7dGhpcy5qYT0wO3RoaXMuZ2I9MTVFMzt0aGlzLmo9bnVsbDt0aGlzLmVjPSExO3RoaXMuZGM9MDt0aGlzLkNhPSExO3RoaXMuQj17fTt0aGlzLmxhPXRoaXMua2E9dGhpcy51PW51bGw7dGhpcy5nPXt9O3RoaXMuJD0hMTt0aGlzLmZjPTA7dGhpcy5LPXRoaXMuYS5nZXROdW1iZXIoImJ1ZmZlcmluZ19vdmVyZmxvd190aHJlc2hvbGQiLDApO3RoaXMucGM9bnVsbDt0aGlzLm89e307dGhpcy53PXt9O3RoaXMuUj1udWxsO3RoaXMuVT1bXTt0aGlzLlQ9dGhpcy5JPW51bGw7dGhpcy5HPW5ldyBOZXR3b3JrU3RhdHVzRGV0ZWN0b3I7dGhpcy5oYz0hMTt0aGlzLm5hPSEwO3RoaXMuZWE9ITE7dGhpcy51Yz1uZXcgU3Vic2NyaXB0aW9uc0hhbmRsZXI7dGhpcy5ZYj0hMTsKdGhpcy54YT0xO3RoaXMuSWQ9dGhpcy5hLmdldE51bWJlcigic3RyZWFtX21heGltdW1fb25wYXVzZV9idWZmZXJfc2l6ZV9tdWx0aXBsaWVyIiwwKTt0aGlzLmNhPW51bGw7dGhpcy5hLmdldEJvb2woImFsbG93X2luZmluaXRlX3JldHJ5X29uX25ldF9lcnIiLCEwKSYmdGhpcy51Yy5hZGRTdWJzY3JpcHRpb25zKHRoaXMuRy5hZGRMaXN0ZW5lcigibmV0d29ya0ludGVycnVwdGVkIix0aGlzLlRjLHRoaXMpLHRoaXMuRy5hZGRMaXN0ZW5lcigibmV0d29ya1Jlc3VtZWQiLHRoaXMuVWMsdGhpcyksdGhpcy5HLmFkZExpc3RlbmVyKCJzeXN0ZW1XYWtlIix0aGlzLlZjLHRoaXMpKX1yKFksRik7cSgic2hha2EucGxheWVyLlN0cmVhbVZpZGVvU291cmNlIixZKTtZLnByb3RvdHlwZS5YYj1mdW5jdGlvbigpe3JldHVybntWaWRlb1NvdXJjZVN0cmVhbTp0aGlzLmMudmlkZW8sQXVkaW9Tb3VyY2VTdHJlYW06dGhpcy5jLmF1ZGlvLFRleHRTb3VyY2VTdHJlYW06dGhpcy5jLnRleHQsQmFuZHdpZHRoRXN0aW1hdG9yOnRoaXMud2F9fTsKWS5wcm90b3R5cGUuZ2V0U3RyZWFtRGVidWc9WS5wcm90b3R5cGUuWGI7WS5wcm90b3R5cGUuUGM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iP3RoaXMuYi53OiJub25lIn07WS5wcm90b3R5cGUuZ2V0TXBkQXVkaW9Db25maWc9WS5wcm90b3R5cGUuUGM7ClkucHJvdG90eXBlLmxjPWZ1bmN0aW9uKGEpe251bGwhPWEuc3RyZWFtQnVmZmVyU2l6ZSYmKHRoaXMuZy5zdHJlYW1CdWZmZXJTaXplPWEuc3RyZWFtQnVmZmVyU2l6ZSk7bnVsbCE9YS5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZSYmKHRoaXMuZy5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZT1hLmluaXRpYWxTdHJlYW1CdWZmZXJTaXplKTtudWxsIT1hLmR5bmFtaWNTdHJlYW1CdWZmZXJTaXplJiYodGhpcy5nLmR5bmFtaWNTdHJlYW1CdWZmZXJTaXplPWEuZHluYW1pY1N0cmVhbUJ1ZmZlclNpemUpO251bGwhPWEuc21hcnRCdWZmZXJBZGp1c3RtZW50UGFyYW1zJiYodGhpcy5nLnNtYXJ0QnVmZmVyQWRqdXN0bWVudFBhcmFtcz1hLnNtYXJ0QnVmZmVyQWRqdXN0bWVudFBhcmFtcyk7bnVsbCE9YS5hZGRDZG5EZWJ1Z1F1ZXJ5UGFyYW1ldGVycyYmKHRoaXMuZy5hZGRDZG5EZWJ1Z1F1ZXJ5UGFyYW1ldGVycz1hLmFkZENkbkRlYnVnUXVlcnlQYXJhbWV0ZXJzKTtudWxsIT1hLnNlZ21lbnRSZXF1ZXN0VGltZW91dCYmCih0aGlzLmcuc2VnbWVudFJlcXVlc3RUaW1lb3V0PWEuc2VnbWVudFJlcXVlc3RUaW1lb3V0KTtudWxsIT1hLnJlc29sdmVWaWRlb1RpbWVVcGRhdGVPbkZyYWdtZW50ZWRUaW1lUmFuZ2VzJiYodGhpcy5nLnJlc29sdmVWaWRlb1RpbWVVcGRhdGVPbkZyYWdtZW50ZWRUaW1lUmFuZ2VzPWEucmVzb2x2ZVZpZGVvVGltZVVwZGF0ZU9uRnJhZ21lbnRlZFRpbWVSYW5nZXMpO251bGwhPWEucmVhcHBlbmRJbml0U2VnbWVudEFmdGVyQWJvcnQmJih0aGlzLmcucmVhcHBlbmRJbml0U2VnbWVudEFmdGVyQWJvcnQ9YS5yZWFwcGVuZEluaXRTZWdtZW50QWZ0ZXJBYm9ydCk7bnVsbCE9YS5saXZlRGF0YUZldGNoTWF4UmV0cmllcyYmKHRoaXMuZy5saXZlRGF0YUZldGNoTWF4UmV0cmllcz1hLmxpdmVEYXRhRmV0Y2hNYXhSZXRyaWVzKTtudWxsIT1hLmxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXMmJih0aGlzLmcubGl2ZVNvdXJjZUJ1ZmZlckNsZWFyTWF4UmV0cmllcz1hLmxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXMpOwpudWxsIT1hLnBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2UmJih0aGlzLmcucGxheWhlYWRGcmFnbWVudGVkR2FwRGlmZkFsbG93YW5jZT1hLnBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2UpO251bGwhPWEuZml4QnVmZmVyaW5nR29hbERldGVybWluYXRpb24mJih0aGlzLmcuZml4QnVmZmVyaW5nR29hbERldGVybWluYXRpb249YS5maXhCdWZmZXJpbmdHb2FsRGV0ZXJtaW5hdGlvbik7bnVsbCE9YS5za2lwRW1wdHlTZWdtZW50cyYmKHRoaXMuZy5za2lwRW1wdHlTZWdtZW50cz1hLnNraXBFbXB0eVNlZ21lbnRzKTtudWxsIT1hLnVzZU1pY3JvVGFza1RpbWVvdXRzJiYodGhpcy5nLnVzZU1pY3JvVGFza1RpbWVvdXRzPWEudXNlTWljcm9UYXNrVGltZW91dHMpO0RmKHRoaXMpO251bGwhPWEuaW5jbHVkZVN0cmVhbUJ1ZmZlclNpemVJblN0YXJ0T2Zmc2V0JiYodGhpcy5aYj1Cb29sZWFuKGEuaW5jbHVkZVN0cmVhbUJ1ZmZlclNpemVJblN0YXJ0T2Zmc2V0KSk7Cm51bGwhPWEubGl2ZUF1ZGlvUHVzaFJlcHJlc2VudGF0aW9uJiYodGhpcy5wYT1TdHJpbmcoYS5saXZlQXVkaW9QdXNoUmVwcmVzZW50YXRpb24pKTtudWxsIT1hLmxpdmVJbml0aWFsUHVzaFJlcHJlc2VudGF0aW9uJiYodGhpcy5PYT1TdHJpbmcoYS5saXZlSW5pdGlhbFB1c2hSZXByZXNlbnRhdGlvbikpO251bGwhPWEuZW5hYmxlQWRhcHRhdGlvbiYmdGhpcy5BLmVuYWJsZShCb29sZWFuKGEuZW5hYmxlQWRhcHRhdGlvbikpO251bGwhPWEubXBkUmVxdWVzdFRpbWVvdXQmJih0aGlzLkxiPU51bWJlcihhLm1wZFJlcXVlc3RUaW1lb3V0KSk7bnVsbCE9YS5taW5NcGRSZWZyZXNoSW50ZXJ2YWwmJih0aGlzLktiPU51bWJlcihhLm1pbk1wZFJlZnJlc2hJbnRlcnZhbCkvMUUzKTtudWxsIT1hLmVuYWJsZU1hbmlmZXN0RGVidWcmJih0aGlzLlViPSEhYS5lbmFibGVNYW5pZmVzdERlYnVnKTtudWxsIT1hLmxpdmVTdHJlYW1FbmRUaW1lb3V0JiYodGhpcy5nYj1OdW1iZXIoYS5saXZlU3RyZWFtRW5kVGltZW91dCkpOwpudWxsIT1hLnByZWZlcnJlZExhbmd1YWdlJiYodGhpcy5TPVNhKFN0cmluZyhhLnByZWZlcnJlZExhbmd1YWdlKSkpO251bGwhPWEubGl2ZVNlbmRQdXNoSGVhZGVycyYmKHRoaXMucmE9Qm9vbGVhbihhLmxpdmVTZW5kUHVzaEhlYWRlcnMpKTtudWxsIT1hLmxpdmVNYXhNYW5pZmVzdEZldGNoZXNXaXRoUHVzaCYmKHRoaXMuUGE9TnVtYmVyKGEubGl2ZU1heE1hbmlmZXN0RmV0Y2hlc1dpdGhQdXNoKSk7bnVsbCE9YS5jdXJyZW50VGltZUR1cmluZ1JlYWR5U3RhdGVaZXJvVGhyb3dzJiYodGhpcy5TYj1Cb29sZWFuKGEuY3VycmVudFRpbWVEdXJpbmdSZWFkeVN0YXRlWmVyb1Rocm93cykpO251bGwhPWEubGl2ZU1heFNlZ21lbnRzVG9QdXNoJiYodGhpcy5nYz1OdW1iZXIoYS5saXZlTWF4U2VnbWVudHNUb1B1c2gpKTtudWxsIT1hLmp1bXBUb0xpdmVUaHJlc2hvbGQmJih0aGlzLmRjPU51bWJlcihhLmp1bXBUb0xpdmVUaHJlc2hvbGQpKTtudWxsIT1hLnJlc3RyaWN0aW9ucyYmKHRoaXMubT0KYS5yZXN0cmljdGlvbnMsdGhpcy5PJiZFZih0aGlzKSk7bnVsbCE9YS51c2VMb25nQ2FjaGVGb3JNYW5pZmVzdCYmKHRoaXMubWE9Qm9vbGVhbihhLnVzZUxvbmdDYWNoZUZvck1hbmlmZXN0KSk7bnVsbCE9YS5qdW1wVG9FYXJsaWVzdFBvc2l0aW9uSW5DdXJyZW50QmxvY2smJih0aGlzLmNjPUJvb2xlYW4oYS5qdW1wVG9FYXJsaWVzdFBvc2l0aW9uSW5DdXJyZW50QmxvY2spKTtudWxsIT1hLmlnbm9yZU1pbkJ1ZmZlclRpbWUmJih0aGlzLkdhPUJvb2xlYW4oYS5pZ25vcmVNaW5CdWZmZXJUaW1lKSk7bnVsbCE9PWEuZW5hYmxlUmVxdWVzdFBpcGVsaW5pbmcmJih0aGlzLlZiPUJvb2xlYW4oYS5lbmFibGVSZXF1ZXN0UGlwZWxpbmluZykpO251bGwhPT1hLmVuYWJsZVN0cmVhbWluZyYmKHRoaXMuV2I9Qm9vbGVhbihhLmVuYWJsZVN0cmVhbWluZykpfTsKWS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuSi5kZXN0cm95KCk7dGhpcy5zYS5kZXN0cm95KCk7dGhpcy5zYT10aGlzLko9bnVsbDt0aGlzLmthJiYoY2xlYXJUaW1lb3V0KHRoaXMua2EpLHRoaXMua2E9bnVsbCk7dGhpcy51JiYoY2xlYXJUaW1lb3V0KHRoaXMudSksdGhpcy51PW51bGwpO3RoaXMuQj1udWxsO3RoaXMuaC5kZXN0cm95KCk7dGhpcy5oPW51bGw7V2EodGhpcy5jKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2EuZGVzdHJveSgpfSk7dGhpcy5mPXRoaXMuYz1udWxsO3RoaXMuYiYmKHRoaXMuYi5kZXN0cm95KCksdGhpcy5iPW51bGwpO3RoaXMuQS5kZXN0cm95KCk7dGhpcy5KYT10aGlzLm09dGhpcy52aWRlbz10aGlzLmk9dGhpcy53YT10aGlzLkE9bnVsbDt0aGlzLmEuZ2V0Qm9vbCgiZml4aW5nX3NjaGVkdWxlcl9kaXNhYmxlX2xlYWtzIiwhMCkmJihPYmplY3Qua2V5cyh0aGlzLm8pLmZvckVhY2goZnVuY3Rpb24oYSl7KGE9dGhpcy5vW2FdKSYmYS5kaXNhYmxlKCl9LmJpbmQodGhpcykpLAp0aGlzLm89e30pO09iamVjdC5rZXlzKHRoaXMudykuZm9yRWFjaChmdW5jdGlvbihhKXsoYT10aGlzLndbYV0pJiZhLmRlc3Ryb3koKX0uYmluZCh0aGlzKSk7dGhpcy53PXt9O3RoaXMuSSYmKHRoaXMuSS5kaXNhYmxlKCksdGhpcy5JPW51bGwpO3RoaXMuUiYmKHRoaXMuUi5jbGVhbnVwKCksdGhpcy5SPW51bGwpO2Zvcih2YXIgYT0wO2E8dGhpcy5VLmxlbmd0aDthKyspdGhpcy5VW2FdLmNsZWFudXAoKTt0aGlzLlU9W107dGhpcy51Yy5yZWxlYXNlKCl9O2Z1bmN0aW9uIGVmKGEsYil7aWYoYS5sKXt2YXIgYz1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJtZWRpYV9zb3VyY2Vfb3BlbiIpLnN0YXJ0KCk7YS5JYi50aGVuKGZ1bmN0aW9uKCl7Yy5sb2coKX0pfUUoYS5oLGEuaSwic291cmNlb3BlbiIsYS5oZC5iaW5kKGEpKTtiLnNyYz13aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChhLmkpfW49WS5wcm90b3R5cGU7bi52Yz1mdW5jdGlvbigpe307CmZ1bmN0aW9uIGpmKGEsYixjKXt2YXIgZDthLmwmJihkPWEubC5nZXRPcGVyYXRpb25Mb2dnZXIoInNvdXJjZV9hdHRhY2giKS5zdGFydCgpKTtpZighYS5PKXJldHVybiBhPUVycm9yKCJDYW5ub3QgY2FsbCBhdHRhY2goKSByaWdodCBub3cuIiksYS50eXBlPSJhcHAiLGQmJmQuc2V0RXJyb3IoYSkubG9nKCksUHJvbWlzZS5yZWplY3QoYSk7YS5KYT1iO2EudmlkZW89YzthLmJhPW51bGw7YS5hLmdldEJvb2woImVuYWJsZV92aWV3cG9ydF9wcmlvcml0eV9hZGp1c3RtZW50IiwhMSkmJihhLlI9bmV3IFZpZXdwb3J0UHJpb3JpdHlBZGp1c3RlcihhLnZpZGVvKSxhLlIuc2V0T25Qcmlvcml0eUNoYW5nZWQoZnVuY3Rpb24oYSl7T2JqZWN0LmtleXModGhpcy5vKS5mb3JFYWNoKGZ1bmN0aW9uKGIpe3RoaXMub1tiXS51cGRhdGVQcmlvcml0eVdpdGhOZXdBZGp1c3RtZW50KGEpfS5iaW5kKHRoaXMpKX0uYmluZChhKSkpO2EuYS5nZXRCb29sKCJlbmFibGVfZmlyc3RfdmlkZW9fcHJpb3JpdHlfYWRqdXN0bWVudCIsCiExKSYmYS5VLnB1c2gobmV3IEZpcnN0TG9hZGVkVmlkZW9Qcmlvcml0eUFkanVzdGVyKGEudmlkZW8pKTtFKGEuaCxhLnZpZGVvLCJsb2FkZWRtZXRhZGF0YSIsYS5nZC5iaW5kKGEpKTtFKGEuaCxhLndhLCJiYW5kd2lkdGgiLGEuR2QuYmluZChhKSk7aWYoYS5iLmJ8fGEuYS5nZXRCb29sKCJiYWNrX29mZl9idWZmZXJpbmdfb3ZlcmZsb3ciLCExKSlFKGEuaCxiLCJidWZmZXJpbmdTdGFydCIsYS5jZC5iaW5kKGEpKSxFKGEuaCxiLCJidWZmZXJpbmdFbmQiLGEuYmQuYmluZChhKSk7Yj1hLmEuZ2V0Qm9vbCgiZW5hYmxlX2NvbnRlbnRfcHJvdGVjdGlvbiIsITEpPyhiPWEudmlkZW8ubWVkaWFLZXlzKSYmYS52aWRlby5zZXRNZWRpYUtleXM/YS52aWRlby5zZXRNZWRpYUtleXMoYik6UHJvbWlzZS5yZXNvbHZlKCk6UHJvbWlzZS5yZXNvbHZlKCk7RmYoYSkudGhlbihKKGEsZnVuY3Rpb24oKXtkJiZ0aGlzLlAoKSYmZC5zZXRMaXZlaGVhZFBvc2l0aW9uKEdmKEhmKHRoaXMpKSk7dGhpcy5KJiYKdGhpcy5KLnJlc29sdmUoKTt0aGlzLnZjKCl9KSkuY2F0Y2goSihhLGZ1bmN0aW9uKGEpe3RoaXMuSiYmdGhpcy5KLnJlamVjdChhKX0pKTtyZXR1cm4gUHJvbWlzZS5hbGwoW2EuSixiXSkudGhlbihmdW5jdGlvbigpe2QmJmQubG9nKCl9KX0Kbi53Yj1mdW5jdGlvbigpe2lmKHRoaXMuTyl7dmFyIGE9RXJyb3IoIkNhbm5vdCBjYWxsIGxvYWQoKSByaWdodCBub3cuIik7YS50eXBlPSJhcHAiO3JldHVybiBQcm9taXNlLnJlamVjdChhKX1pZighdGhpcy5ifHwwPT10aGlzLmIuYS5sZW5ndGgpcmV0dXJuIGE9RXJyb3IoIlRoZSBtYW5pZmVzdCBkb2VzIG5vdCBzcGVjaWZ5IGFueSBjb250ZW50LiIpLGEudHlwZT0ic3RyZWFtIixQcm9taXNlLnJlamVjdChhKTt0Zih0aGlzLmIuYSk7aWYoMD09dGhpcy5iLmEubGVuZ3RofHwwPT10aGlzLmIuYVswXS5hLmxlbmd0aHx8IXRoaXMuYi5hWzBdLmEuc29tZShmdW5jdGlvbihhKXtyZXR1cm4idmlkZW8iPT09YS5jb250ZW50VHlwZX0pKXJldHVybiBhPUVycm9yKCJUaGUgbWFuaWZlc3Qgc3BlY2lmaWVzIGNvbnRlbnQgdGhhdCBjYW5ub3QgYmUgZGlzcGxheWVkIG9uIHRoaXMgYnJvd3Nlci9wbGF0Zm9ybS4iKSxhLnR5cGU9InN0cmVhbSIsUHJvbWlzZS5yZWplY3QoYSk7dGhpcy5PPQohMDt0aGlzLkdhfHwodGhpcy5nLmluaXRpYWxTdHJlYW1CdWZmZXJTaXplPU1hdGgubWF4KHRoaXMuZy5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZXx8MCx0aGlzLmIuZykpO3RoaXMuaWEmJnRoaXMuaWEuc2V0U3RyZWFtVHlwZSh0aGlzLmIuQik7RGYodGhpcyk7RWYodGhpcyk7cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpfTtmdW5jdGlvbiBJZihhKXt2YXIgYj15KHt0eXBlOiJtYW5pZmVzdHdyYXBwZWQiLGJ1YmJsZXM6ITB9KTthLmRpc3BhdGNoRXZlbnQoYil9ZnVuY3Rpb24gSmYoYSxiKXt2YXIgYz15KHt0eXBlOiJsaXZlaGVhZElkbGVBdCIsc2Vjb25kczpiLGJ1YmJsZXM6ITB9KTthLmRpc3BhdGNoRXZlbnQoYyl9ZnVuY3Rpb24gR2YoYSl7cmV0dXJuIE1hdGgubWluLmFwcGx5KE1hdGgsYS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEubGVuZ3RoKCk/YS5sYXN0KCkuZW5kVGltZTpudWxsfSkuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiEhYX0pKX0Kbi5KYj1mdW5jdGlvbihhLGIpe3ZhciBjO3RoaXMuYS5nZXRCb29sKCJkZWNvdXBsZV9tcGRfdXBkYXRlX2xvb3BfZnJvbV9yZXF1ZXN0X2xvb3AiLCExKSYmS2YodGhpcywwKTt0aGlzLlYmJih0aGlzLlYubG9nKCksdGhpcy5WPW51bGwpO3RoaXMubCYmKGM9dGhpcy5sLmdldE9wZXJhdGlvbkxvZ2dlcigidXBkYXRlX21hbmlmZXN0Iikuc3RhcnQoKSk7aWYoIWJ8fHRoaXMuTyl7dmFyIGQ9RGF0ZS5ub3coKTt0aGlzLmEuZ2V0Qm9vbCgiZGVjb3VwbGVfbXBkX3VwZGF0ZV9sb29wX2Zyb21fcmVxdWVzdF9sb29wIiwhMSl8fCh0aGlzLnU9bnVsbCk7dmFyIGU9bnVsbCxmLGc7aWYodGhpcy5yYSYmKCF0aGlzLlBhfHx0aGlzLlBhPnRoaXMuaWMpKXtmPU1hdGguZmxvb3IoTGYodGhpcykpKzE7Zj1NYXRoLm1pbihmLHRoaXMuZ2MpO3ZhciBoPXRoaXMuYy52aWRlbztpZihoPWg/aC5GYigpOm51bGwpaD1oLmxhc3QoKSxudWxsIT1oLnVuc2NhbGVkU3RhcnRUaW1lJiYoZz1oLnVuc2NhbGVkU3RhcnRUaW1lKTsKaWYodGhpcy52aWRlby5wYXVzZWR8fHRoaXMuJClmPTB9ZiYmdGhpcy5pYysrO2g9dGhpcy5iLmk7aD10aGlzLmEuZ2V0Qm9vbCgiZW5hYmxlX2NsZWFuX2ZhaWxvdmVyX3VyaV9vbl9tcGRfcmVxdWVzdHMiLCEwKT9oLmNsb25lKCk6aDtjJiYhYSYmYy5zZXRSZXNvdXJjZShoLnRvU3RyaW5nKCkpOyhhP3RoaXMueGMoKTp0aGlzLnljKGgsZixnKSkudGhlbihKKHRoaXMsZnVuY3Rpb24oYil7YXx8dGhpcy5HLmluZm9ybU5ldHdvcmtSZXN1bWVkKCk7ZT1uZXcgdmYoYik7dmFyIGM7dGhpcy5sJiYoYz10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJ1cGRhdGVfbWFuaWZlc3RfaW5mbyIpLnN0YXJ0KCkpO2I9ZS51cGRhdGUodGhpcy5iKTtiLnRoZW4oZnVuY3Rpb24oKXtjJiZjLmxvZygpfSxmdW5jdGlvbihhKXtjJiZjLnNldEVycm9yKGEpLmxvZygpfSkuY2F0Y2goZnVuY3Rpb24oKXt9KTtyZXR1cm4gYn0pKS50aGVuKEoodGhpcyxmdW5jdGlvbihhKXtlLmRlc3Ryb3koKTtlPW51bGw7CnZhciBmPUhmKHRoaXMpO3RoaXMuTGEoIlNlZ21lbnRJbmRleGVzVXBkYXRlZCIsZik7aWYodGhpcy5hLmdldEJvb2woImVtaXRfbGl2ZV9wbGF5aGVhZF9pZGxlX2Zyb21fY2xpZW50IiwhMCkpe3ZhciBnPXRoaXMuYS5nZXROdW1iZXIoImxpdmVfcGxheWhlYWRfaWRsZV9hbGxfc3RyZWFtX3RocmVzaG9sZCIsNCksaD10aGlzLmEuZ2V0TnVtYmVyKCJsaXZlX3BsYXloZWFkX2lkbGVfc2luZ2xlX3N0cmVhbV90aHJlc2hvbGQiLDUpO2lmKEhmKHRoaXMpLmV2ZXJ5KGZ1bmN0aW9uKGEpe3JldHVybiBhLnUoKT49Z30pfHxIZih0aGlzKS5zb21lKGZ1bmN0aW9uKGEpe3JldHVybiBhLnUoKT49aH0pKXt2YXIgdD1HZihmKTtKZih0aGlzLHQpfX1mLnNvbWUoZnVuY3Rpb24oYSl7cmV0dXJuIGEucmIoKX0pJiZJZih0aGlzKTt0PU1mKHRoaXMsZik7YyYmdGhpcy5QKCkmJmMuc2V0TGl2ZWhlYWRQb3NpdGlvbihHZihmKSk7YyYmYy5zZXRNYW5pZmVzdFR5cGUodGhpcy5iLmI/ImR5bmFtaWMiOgoic3RhdGljIikuc2V0VXBkYXRlUGVyaW9kKG51bGw9PT10aGlzLmIuYz9udWxsOk1hdGguY2VpbCgxRTMqdGhpcy5iLmMpKTt0aGlzLm5hJiZOZih0aGlzLHQpO3RoaXMuYS5nZXRCb29sKCJza2lwX3JlbWFpbmluZ19idWZmZXJlZF9vbl9zdHJlYW1fZW5kIiwhMSkmJnQmJnRoaXMuYi5iJiZ0aGlzLmIuaCYmdGhpcy52aWRlby5wYXVzZWQmJih0aGlzLnZpZGVvLmN1cnJlbnRUaW1lPXRoaXMuamEtLjEpO2lmKHNmKHRoaXMpKXJldHVybiBjJiZjLmxvZygpLHRoaXMuZWIoKTtmb3IoZj0wO2Y8YS5sZW5ndGg7KytmKU9mKHRoaXMsYVtmXSk7dGhpcy5HYXx8KHRoaXMuZy5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZT1NYXRoLm1heCh0aGlzLmcuaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemV8fDAsdGhpcy5iLmcpKTt0aGlzLmcudXNlSW5pdGlhbEJ1ZmZlclNpemVXaGVuUGF1c2VkPXRoaXMuYi5iO0RmKHRoaXMpO0VmKHRoaXMpOzA9PU9iamVjdC5rZXlzKHRoaXMuYykubGVuZ3RoP0ZmKHRoaXMpOgooYT1EYXRlLm5vdygpLGJ8fEtmKHRoaXMsKGEtZCkvMUUzKSk7YyYmYy5sb2coKTt0aGlzLnRiKCkmJmV4dHJhY3RDRUE2MDgucHJlcGFyZSgpO3RoaXMuYS5nZXRCb29sKCJ1cGRhdGVfY2VhNjA4X2F2YWlsYWJpbGl0eV9vbl9tcGRfcGFyc2luZyIsITEpJiYoYT10aGlzLnRiKCksdGhpcy5ZYiE9PWEmJihmPXkoe3R5cGU6ImNlYTYwOEF2YWlsYWJpbGl0eUNoYW5nZWQiLGJ1YmJsZXM6ITB9KSx0aGlzLmRpc3BhdGNoRXZlbnQoZiksdGhpcy5ZYj1hKSl9KSkuY2F0Y2goSih0aGlzLGZ1bmN0aW9uKGEpe2MmJmMuc2V0RXJyb3IoYSkubG9nKCk7ZSYmKGUuZGVzdHJveSgpLGU9bnVsbCk7aWYoIWIpe3ZhciBkPXRoaXMuYi5mfHx0aGlzLmEuZ2V0Qm9vbCgicmV0cnlfZWdyZXNzXzUwMHMiLCExKSxmPVswLDQxMF07dGhpcy5hLmdldEJvb2woImVuYWJsZV9kb3VibGVfaW5nZXN0IiwhMSkmJmYucHVzaCg0MTcsMjAwKTshdGhpcy5hLmdldEJvb2woIm5vX3JldHJ5X29uXzUwMl81MDMiLAohMSkmJmQmJihmPWYuY29uY2F0KFs1MDIsNTAzXSkpO2Q9dGhpcy5hLmdldEJvb2woImZpeF9saXZlX3N0cmVhbV9nb25lX29uX21hbmlmZXN0X3VwZGF0ZSIsITApPy0xPT09Zi5pbmRleE9mKGEuc3RhdHVzKTowIT09YS5zdGF0dXM7aWYodGhpcy5hLmdldEJvb2woImFsbG93X2luZmluaXRlX3JldHJ5X29uX25ldF9lcnIiLCEwKSYmIm5ldCI9PT1hLnR5cGUmJiFkKXN3aXRjaChhLnN0YXR1cyl7Y2FzZSA0MTA6dGhpcy5oYz0hMDt0aGlzLmomJihjbGVhclRpbWVvdXQodGhpcy5qKSx0aGlzLmo9bnVsbCk7dGhpcy5lYigpO2JyZWFrO2Nhc2UgMjAwOmNhc2UgNDE3OmEucmVzcG9uc2VIZWFkZXJzJiZudWxsIT1hLnJlc3BvbnNlSGVhZGVyc1sieC1mYi12aWRlby1yZXBsaWNhIl0/dGhpcy5kaXNwYXRjaEV2ZW50KHkoe3R5cGU6InJlcGxpY2Fzd2l0Y2giLGJ1YmJsZXM6ITAscmVwbGljYTphLnJlc3BvbnNlSGVhZGVyc1sieC1mYi12aWRlby1yZXBsaWNhIl0sdXJsOmEudXJsLHN0YXR1czphLnN0YXR1c30pKToKZD0hMDticmVhaztkZWZhdWx0OlBmKHRoaXMpfTA9PT1hLnN0YXR1cz90aGlzLkcuaW5mb3JtTmV0d29ya0ludGVycnVwdGVkKCk6dGhpcy5HLmluZm9ybU5ldHdvcmtSZXN1bWVkKCk7aWYoImRlbGF5Ij09YS50eXBlKXJldHVybiBQZih0aGlzKTt0aGlzLmEuZ2V0Qm9vbCgiYWxsb3dfaW5maW5pdGVfcmV0cnlfb25fbmV0X2VyciIsITApJiYhZHx8ImFib3J0ZWQiPT1hLnR5cGV8fChhPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGEpLHRoaXMuYiYmUGYodGhpcykpfX0pKX19O24ueWM9ZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZWplY3QoIkNhbm5vdCB1cGRhdGUgbWFuaWZlc3Qgd2l0aCB0aGlzIFZpZGVvU291cmNlIGltcGxlbWVudGF0aW9uLiIpfTtuLnhjPWZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVqZWN0KCJDYW5ub3QgdXBkYXRlIG1hbmlmZXN0IHdpdGggdGhpcyBWaWRlb1NvdXJjZSBpbXBsZW1lbnRhdGlvbi4iKX07CmZ1bmN0aW9uIE5mKGEsYil7aWYoYiYmYS5iJiZhLmIuYilpZihhLmEuZ2V0Qm9vbCgic2Vla19vdmVyX3VuYXZhaWxhYmxlX3NlZ21lbnRzX29uX21hbmlmZXN0X3VwZGF0ZSIsITEpJiZhLmVhKWIuZW5kPmEudmlkZW8uY3VycmVudFRpbWUrMTAmJihhLmVhPSExLGEudmlkZW8uY3VycmVudFRpbWU9Yi5lbmQsUWYoYSkpO2Vsc2UgaWYoYS52aWRlby5wYXVzZWQmJmIuZW5kPmEudmlkZW8uY3VycmVudFRpbWUrMTApaWYoYS5hLmdldEJvb2woImVuYWJsZV9sYXp5X2xpdmVoZWFkX2NhdGNodXAiLCExKSl7dmFyIGM9YS54YTtjPGEuSWQmJihhLnhhPSsrYyk7UmYoYSxjKTthLmNhPWIuZW5kfWVsc2UgYS5lYT0hMSxhLnZpZGVvLmN1cnJlbnRUaW1lPWIuZW5kLFFmKGEpfQpmdW5jdGlvbiBLZihhLGIpe2lmKG51bGw9PWEuYi5jKUJhbnphaU9EUy5idW1wRW50aXR5S2V5KDI5NjYsInZpZGVvcy53d3cubGl2ZSIsInVwZGF0ZV9wZXJpb2RfaXNfbnVsbCIpO2Vsc2UgaWYoIWEuRmEpe2lmKGEuYS5nZXRCb29sKCJkZWNvdXBsZV9tcGRfdXBkYXRlX2xvb3BfZnJvbV9yZXF1ZXN0X2xvb3AiLCExKSYmKGEudSYmKGNsZWFyVGltZW91dChhLnUpLGEudT1udWxsKSxzZihhKSkpcmV0dXJuO3ZhciBjPU1hdGgubWF4KGEuYi5jLGEuS2IpLGM9TWF0aC5tYXgoYy1iLDApLGQ9YS5KYi5iaW5kKGEsITEpOyFjJiZhLmcudXNlTWljcm9UYXNrVGltZW91dHM/UHJvbWlzZS5yZXNvbHZlKCkudGhlbihkKTooYS5WJiZhLlYuc2V0UmVzdWx0KCJmYWlsZWQiKS5sb2coKSxhLmwmJihhLlY9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigic2NoZWR1bGVfbWFuaWZlc3RfdXBkYXRlIikuc3RhcnQoKS5zZXRVcGRhdGVQZXJpb2QoTWF0aC5jZWlsKDFFMypjKSkpLGEudT1zZXRUaW1lb3V0KGQsCjFFMypjKSl9fWZ1bmN0aW9uIE9mKGEsYil7dmFyIGM9TWQoYiksZD1hLmNbY107aWYoZCYmZC5XYSgpPT1iKXt2YXIgZT1hLmYuZ2V0KE1kKGIpKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEudn0pLnJlZHVjZShmdW5jdGlvbihhLGIpe3JldHVybiBhLmNvbmNhdChiKX0sW10pLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gYS5vYSYmYS5mYX0pO2lmKDA9PWUubGVuZ3RoKXtjPUVycm9yKCJBbGwgdXNhYmxlIHN0cmVhbXMgaGF2ZSBiZWVuIHJlbW92ZWQgZnJvbSB0aGUgbWFuaWZlc3QuIik7Yy50eXBlPSJhcHAiO2M9QShjKTthLmRpc3BhdGNoRXZlbnQoYyk7cmV0dXJufWEuQltjXS5MYz09YiYmZGVsZXRlIGEuQltjXTtkLmpiKGVbMF0sITApO2IuZGVzdHJveSgpfWIuZGVzdHJveSgpfW4uQ2Q9ZnVuY3Rpb24oYSl7dGhpcy5wYz1hfTtZLnByb3RvdHlwZS5zZXRUYWdnZWRUaW1lUmFuZ2VzPVkucHJvdG90eXBlLkNkOwpZLnByb3RvdHlwZS53ZD1mdW5jdGlvbigpe3JldHVybiAwPT09T2JqZWN0LmtleXModGhpcy5jKS5sZW5ndGg/ITE6WyJhdWRpbyIsInZpZGVvIl0uZXZlcnkoSih0aGlzLGZ1bmN0aW9uKGEpe3JldHVybiF0aGlzLmNbYV18fHRoaXMuY1thXS5UfSkpfTtZLnByb3RvdHlwZS5oYXNIaXRCdWZmZXJpbmdHb2FsPVkucHJvdG90eXBlLndkOwpZLnByb3RvdHlwZS5aPWZ1bmN0aW9uKGEpe2lmKCF0aGlzLmZ8fCF0aGlzLmYuYS5oYXNPd25Qcm9wZXJ0eSgidmlkZW8iKSlyZXR1cm5bXTthPWEmJmEudXNlTG9jYWxCaXRyYXRlfHwhMTt2YXIgYj10aGlzLmMudmlkZW8sYz1iP2IuV2EoKTpudWxsLGQ9Yz9jLlg6MCxlPTEsZj1udWxsO3RoaXMuYS5nZXRCb29sKCJ1c2VfbGl2ZV9iaXRyYXRlX2VzdGltYXRlcyIsITEpJiZ0aGlzLlAoKSYmbnVsbCE9YiYmKGY9Yi5sYSgpLG51bGwhPWMmJjA8Yy5iYW5kd2lkdGgmJihlPWYvYy5iYW5kd2lkdGgpKTtmb3IodmFyIGM9W10sZz10aGlzLmYuZ2V0KCJ2aWRlbyIpLGg9MDtoPGcubGVuZ3RoOysraClmb3IodmFyIGs9Z1toXSxsPTA7bDxrLnYubGVuZ3RoOysrbCl7dmFyIG09ay52W2xdO2lmKG0ub2EmJm0uZmEpe3ZhciBwPW51bGw7aWYoYSYmbnVsbCE9PW0uTSl7dmFyIHQ9bS5NLmMoKSx3PWI7aWYodGhpcy5QKCl8fG51bGw9PT10fHxudWxsPT09dylwPW51bGw7ZWxzZXt2YXIgcD0KcGUodyx0aGlzLnZpZGVvLmN1cnJlbnRUaW1lLHQpLHo9dC5nZXRTZWdtZW50cygpO3RoaXMuYS5nZXRCb29sKCJzdGFydF9sb2NhbF9iaXRyYXRlX2F0X2J1ZmZlcl9lbmQiLCExKSYmKHc9TG9jYWxCaXRyYXRlSGVscGVyLmdldEJ1ZmZlckVuZFNlZ21lbnRJbmRleCh6LHAsdGhpcy52aWRlby5jdXJyZW50VGltZSthZSh3LHRoaXMudmlkZW8uY3VycmVudFRpbWUpKSxudWxsIT09dyYmKHA9dykpO3A9TG9jYWxCaXRyYXRlSGVscGVyLmdldExvY2FsQml0cmF0ZSh0LmdldFNlZ21lbnRzKCkscCx0aGlzLmEuZ2V0TnVtYmVyKCJsb2NhbF9iaXRyYXRlX3NlZ21lbnRzX2FoZWFkIiwxMCkpfXRoaXMuYS5nZXRCb29sKCJ1c2VfbWF4X2xvY2FsX2JpdHJhdGUiLCExKSYmKHA9TWF0aC5tYXgocCxtLmJhbmR3aWR0aCkpfXQ9bS5YO3A9cHx8bS5iYW5kd2lkdGg7dGhpcy5hLmdldEJvb2woInVzZV9saXZlX2JpdHJhdGVfZXN0aW1hdGVzIiwhMSkmJm51bGwhPWYmJih0PT09ZD9wPU1hdGgubWF4KHAsCmYpOjE8ZSYmKHA9cCplKSxwPU1hdGgucm91bmQocCkpO209bmV3IHVhKHQscCxtLndpZHRoLG0uaGVpZ2h0LG0uaWQsbS5mYlF1YWxpdHlMYWJlbCxtLmZiUXVhbGl0eUNsYXNzLG0uZixtLmZyYW1lUmF0ZSxtLm1pbWVUeXBlLG0uY29kZWNzLG0uZyxtLmgpO3Q9PWQmJihtLmFjdGl2ZT0hMCk7Yy5wdXNoKG0pfX1yZXR1cm4gY307WS5wcm90b3R5cGUuZ2V0VmlkZW9UcmFja3M9WS5wcm90b3R5cGUuWjtZLnByb3RvdHlwZS5SYz1mdW5jdGlvbigpe2lmKHRoaXMuZ2EpcmV0dXJuIHRoaXMuZ2E7aWYoIXRoaXMuYilyZXR1cm4gbnVsbDtmb3IodmFyIGE9MDthPHRoaXMuYi5hLmxlbmd0aDsrK2EpZm9yKHZhciBiPXRoaXMuYi5hW2FdLGM9MDtjPGIuYS5sZW5ndGg7KytjKWlmKHRoaXMuZ2E9Yi5hW2NdLmMpcmV0dXJuIHRoaXMuZ2E7cmV0dXJuIG51bGx9O1kucHJvdG90eXBlLmdldFZpZGVvUHJvamVjdGlvbj1ZLnByb3RvdHlwZS5SYztZLnByb3RvdHlwZS5PYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmtifTsKWS5wcm90b3R5cGUuZ2V0TG9jYWxFc3RpbWF0b3I9WS5wcm90b3R5cGUuT2M7ZnVuY3Rpb24gU2YoYSl7YT1hLlooKTtmb3IodmFyIGI9MDtiPGEubGVuZ3RoO2IrKylpZihhW2JdLmFjdGl2ZSlyZXR1cm4gYVtiXX1ZLnByb3RvdHlwZS52YT1mdW5jdGlvbigpe2lmKCF0aGlzLmZ8fCF0aGlzLmYuYS5oYXNPd25Qcm9wZXJ0eSgiYXVkaW8iKSlyZXR1cm5bXTtmb3IodmFyIGE9dGhpcy5jLmF1ZGlvLGE9KGE9YT9hLldhKCk6bnVsbCk/YS5YOjAsYj1bXSxjPXRoaXMuZi5nZXQoImF1ZGlvIiksZD0wO2Q8Yy5sZW5ndGg7KytkKWZvcih2YXIgZT1jW2RdLGY9ZS5sYW5nLGc9MDtnPGUudi5sZW5ndGg7KytnKXt2YXIgaD1lLnZbZ107aWYoaC5vYSYmaC5mYSl7dmFyIGs9aC5YLGg9bmV3IGZhKGssaC5iYW5kd2lkdGgsZixoLmlkLGgubWltZVR5cGUsaC5jb2RlY3MsdGhpcy5iLnUsaC5jKTtrPT1hJiYoaC5hY3RpdmU9ITApO2IucHVzaChoKX19cmV0dXJuIGJ9OwpZLnByb3RvdHlwZS5nZXRBdWRpb1RyYWNrcz1ZLnByb3RvdHlwZS52YTtZLnByb3RvdHlwZS5tYz1mdW5jdGlvbigpe2lmKCF0aGlzLmZ8fCF0aGlzLmYuYS5oYXNPd25Qcm9wZXJ0eSgidGV4dCIpKXJldHVybltdO2Zvcih2YXIgYT10aGlzLmMudGV4dCxiPWE/YS5XYSgpOm51bGwsYj1iP2IuWDowLGM9W10sZD10aGlzLmYuZ2V0KCJ0ZXh0IiksZT0wO2U8ZC5sZW5ndGg7KytlKWZvcih2YXIgZj1kW2VdLGc9Zi5sYW5nLGg9MDtoPGYudi5sZW5ndGg7KytoKXt2YXIgaz1mLnZbaF0uWCxsPW5ldyB0YShrLGcpO2s9PWImJihsLmFjdGl2ZT0hMCxsLmVuYWJsZWQ9YS5EYigpKTtjLnB1c2gobCl9cmV0dXJuIGN9O1kucHJvdG90eXBlLmdldFRleHRUcmFja3M9WS5wcm90b3R5cGUubWM7WS5wcm90b3R5cGUuYWM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iJiZ0aGlzLmIubSYmMDx0aGlzLmIubT8hMDohMX07WS5wcm90b3R5cGUuaXNVc2luZ0FTUkNhcHRpb25zPVkucHJvdG90eXBlLmFjOwpZLnByb3RvdHlwZS5iYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmImJnRoaXMuYi5vJiYwPHRoaXMuYi5vJiZna3goIjExNzYyNTEiKT8hMDohMX07WS5wcm90b3R5cGUuaXNVc2luZ0FTUkNhcHRpb25zRW1wbG95ZWVEb2dmb29kaW5nPVkucHJvdG90eXBlLmJjO2Z1bmN0aW9uIHJmKGEpe3ZhciBiPU51bWJlcihhLmcuaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemUpO2EuZy5maXhCdWZmZXJpbmdHb2FsRGV0ZXJtaW5hdGlvbiYmKGI9MSk7aWYoYS5hLmdldEJvb2woImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvdyIsITEpKWI9YS5LO2Vsc2V7dmFyIGM9YS5hLmdldE51bWJlcigiYnVmZmVyaW5nX292ZXJmbG93X3RocmVzaG9sZCIsMCk7MDxjJiYoYj1jKX1yZXR1cm4gYS4kYj9OdW1iZXIoYS5nLnN0cmVhbUJ1ZmZlclNpemUpOmJ9CmZ1bmN0aW9uIE5lKGEpe2lmKGEuTyl7YT1hLmIuYVswXTtmb3IodmFyIGI9W10sYz0wO2M8YS5hLmxlbmd0aDsrK2MpYi5wdXNoLmFwcGx5KGIsUWQoYS5hW2NdKSk7YT1ifWVsc2UgYT1bXTtyZXR1cm4gYX0KZnVuY3Rpb24gUGUoYSxiKXtpZihhLk8pe2Zvcih2YXIgYz17fSxkPWEuYi5hWzBdLGU9MDtlPGQuYS5sZW5ndGg7KytlKXt2YXIgZj1kLmFbZV07Y1tmLlhdPWZ9YS5mLmE9e307ZD1hYihiKTtmb3IoZT0wO2U8ZC5sZW5ndGg7KytlKXt2YXIgZj1kW2VdLGc9Yi5nZXQoZik7aWYoInZpZGVvIj09Zil7dmFyIGg9Z1swXS5pZDthLmYucHVzaChmLGNbaF0pfWVsc2UgaWYoImF1ZGlvIj09Zil7aWYoMDxnLmxlbmd0aClmb3IodmFyIGg9Z1swXS5iLnNwbGl0KCI7IilbMF0saz0wO2s8Zy5sZW5ndGg7KytrKXt2YXIgbD1nW2tdO2wuYi5zcGxpdCgiOyIpWzBdPT1oJiZhLmYucHVzaChmLGNbbC5pZF0pfX1lbHNlIGZvcihrPTA7azxnLmxlbmd0aDsrK2spaD1nW2tdLmlkLGEuZi5wdXNoKGYsY1toXSl9YS55YT0hMDtpZihjPWEuZi5nZXQoImF1ZGlvIikpVGYoYSxjKSxhLmYuc2V0KCJhdWRpbyIsYyksYz1jWzBdLmxhbmd8fGEuUyxSYSgyLGEuUyxjKSYmKGEueWE9ITEpO2lmKGM9YS5mLmdldCgidGV4dCIpKVRmKGEsCmMpLGEuZi5zZXQoInRleHQiLGMpLGM9Y1swXS5sYW5nfHxhLlMsUmEoMixhLlMsYyl8fChhLnlhPSExKX19WS5wcm90b3R5cGUuWGM9ZnVuY3Rpb24oKXt0aGlzLkVhPSEwfTtZLnByb3RvdHlwZS5zZXRDbGVhckJ1ZmZlckFmdGVyU2Vla2luZz1ZLnByb3RvdHlwZS5YYztZLnByb3RvdHlwZS5zZWxlY3RWaWRlb1RyYWNrPWZ1bmN0aW9uKGEsYixjLGQsZSl7cmV0dXJuIG1mKHRoaXMsInZpZGVvIixhLGIsYyxkLGUpfTtZLnByb3RvdHlwZS5yZXN1bWVWaWRlb0ZldGNoaW5nPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5jLnZpZGVvP3RoaXMuYy52aWRlby5GOm51bGw7YSYmYS5yZXN1bWVWaWRlb0ZldGNoaW5nKCl9O1kucHJvdG90eXBlLnJlc3VtZVZpZGVvRmV0Y2hpbmc9WS5wcm90b3R5cGUucmVzdW1lVmlkZW9GZXRjaGluZztZLnByb3RvdHlwZS5IZD1mdW5jdGlvbigpe3ZhciBhPXRoaXMuYy52aWRlbz90aGlzLmMudmlkZW8uRjpudWxsO2EmJmEuc3RvcFVudGlsU2VnbWVudHNVcGRhdGUoKX07ClkucHJvdG90eXBlLnN0b3BVbnRpbFZpZGVvU3RyZWFtU3dpdGNoPVkucHJvdG90eXBlLkhkO2Z1bmN0aW9uIG5mKGEsYil7dmFyIGM9YS5jLnRleHQ7YyYmYy52YihiKX0KZnVuY3Rpb24gRWYoYSl7aWYoYS5tKXtmb3IodmFyIGI9ITEsYz0wO2M8YS5iLmEubGVuZ3RoOysrYylmb3IodmFyIGQ9YS5iLmFbY10sZT0wO2U8ZC5hLmxlbmd0aDsrK2Upe3ZhciBmPWQuYVtlXTtpZigidmlkZW8iPT1mLmNvbnRlbnRUeXBlKWZvcih2YXIgZz0wO2c8Zi52Lmxlbmd0aDsrK2cpe3ZhciBoPWYudltnXSxrPWguZmE7aC5mYT0hMDthLm0ubWF4V2lkdGgmJmgud2lkdGg+YS5tLm1heFdpZHRoJiYoaC5mYT0hMSk7YS5tLm1heEhlaWdodCYmaC5oZWlnaHQ+YS5tLm1heEhlaWdodCYmKGguZmE9ITEpO2EubS5taW5IZWlnaHQmJmguaGVpZ2h0PGEubS5taW5IZWlnaHQmJihoLmZhPSExKTthLm0ubWF4QmFuZHdpZHRoJiZoLmJhbmR3aWR0aD5hLm0ubWF4QmFuZHdpZHRoJiYoaC5mYT0hMSk7YS5tLm1pbkJhbmR3aWR0aCYmaC5iYW5kd2lkdGg8YS5tLm1pbkJhbmR3aWR0aCYmKGguZmE9ITEpO2shPWguZmEmJihiPSEwKX19MCE9JGEoYS5mKS5sZW5ndGgmJmImJihVZihhKSwKMDxhLlooKS5sZW5ndGh8fChiPUVycm9yKCJUaGUgYXBwbGljYXRpb24gaGFzIHJlc3RyaWN0ZWQgYWxsIHZpZGVvIHRyYWNrcyEiKSxiLnR5cGU9ImFwcCIsYj1BKGIpLGEuZGlzcGF0Y2hFdmVudChiKSkpfX1ZLnByb3RvdHlwZS5QPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYj90aGlzLmIuYjpudWxsfTtZLnByb3RvdHlwZS5pc0xpdmU9WS5wcm90b3R5cGUuUDtZLnByb3RvdHlwZS5ZYz1mdW5jdGlvbihhKXt0aGlzLiRiPWF9O1kucHJvdG90eXBlLnNldElzTGl2ZUludGVycnVwdGVkPVkucHJvdG90eXBlLlljO1kucHJvdG90eXBlLnZkPWZ1bmN0aW9uKCl7Zm9yKHZhciBhIGluIHRoaXMuYyl0aGlzLmNbYV0uSGMoKX07WS5wcm90b3R5cGUuZm9yY2VSZXN5bmNWaWRlb0J1ZmZlcj1ZLnByb3RvdHlwZS52ZDsKZnVuY3Rpb24gV2UoYSxiKXtmb3IodmFyIGMsZD0hMSxlPW5ldyBELGY9JGEoYS5mKSxnPTA7ZzxmLmxlbmd0aDsrK2cpZm9yKHZhciBoPWZbZ10saz0wO2s8aC52Lmxlbmd0aDsrK2spe3ZhciBsPWgudltrXTtsLmIuZm9yRWFjaChmdW5jdGlvbihhKXtlLnB1c2goYSxsKX0pfWZvcihjIGluIGIpaWYoZj1QYVtiW2NdXXx8bnVsbCxoPWUuZ2V0KGMpKWZvcihnPTA7ZzxoLmxlbmd0aDsrK2cpbD1oW2ddLGs9bC5vYSxsLm9hPSFmLGshPWwub2EmJihkPSEwKTtlbHNlIGliKGMpO2QmJihVZihhKSxkPWEudmEoKSxjPWEuWigpLGQ9YS5mLmEuaGFzT3duUHJvcGVydHkoImF1ZGlvIikmJjA9PWQubGVuZ3RoLGM9YS5mLmEuaGFzT3duUHJvcGVydHkoInZpZGVvIikmJjA9PWMubGVuZ3RoLGR8fGMpJiYoYz1FcnJvcigiVGhlIGtleSBzeXN0ZW0gaGFzIHJlc3RyaWN0ZWQgYWxsICIrKGQmJmM/ImF1ZGlvIGFuZCB2aWRlbyB0cmFja3MuIjpkPyJhdWRpbyB0cmFja3MuIjoidmlkZW8gdHJhY2tzLiIpKSwKYy50eXBlPSJkcm0iLGM9QShjKSxhLmRpc3BhdGNoRXZlbnQoYykpfWZ1bmN0aW9uIFVmKGEpe3ZhciBiPXkoe3R5cGU6InRyYWNrc2NoYW5nZWQiLGJ1YmJsZXM6ITB9KTthLmRpc3BhdGNoRXZlbnQoYil9ZnVuY3Rpb24gbWYoYSxiLGMsZCxlLGYsZyl7Zz0hIWc7aWYoIWEuZi5hLmhhc093blByb3BlcnR5KGIpfHwhYS5jW2JdKXJldHVybiExO2Zvcih2YXIgaD1hLmYuZ2V0KGIpLGs9MDtrPGgubGVuZ3RoOysraylmb3IodmFyIGw9aFtrXSxtPTA7bTxsLnYubGVuZ3RoOysrbSl7dmFyIHA9bC52W21dO2lmKHAuWD09Yyl7aWYoIXAub2F8fCFwLmZhKXJldHVybiExO2lmKCJ0ZXh0IiE9YiYmIWEuQ2EpcmV0dXJuIGM9YS5CW2JdLGEuQltiXT17TGM6cCxyYzpudWxsIT1jJiZjLnJjfHxkLHNjOm51bGwhPWMmJmMuc2N8fGUsc3dpdGNoUmVhc29uOmYsS2E6Z30sITA7YS5jW2JdLmpiKHAsZCxlLGYsZyk7cmV0dXJuITB9fXJldHVybiExfQpmdW5jdGlvbiBUZihhLGIpe2Zvcih2YXIgYz0wOzI+PWM7KytjKWZvcih2YXIgZD0wO2Q8Yi5sZW5ndGg7KytkKXt2YXIgZT1iW2RdO2lmKFJhKGMsYS5TLGUubGFuZykpe2Iuc3BsaWNlKGQsMSk7Yi5zcGxpY2UoMCwwLGUpO3JldHVybn19Zm9yKGQ9MDtkPGIubGVuZ3RoOysrZClpZihlPWJbZF0sZS5mKXtiLnNwbGljZShkLDEpO2Iuc3BsaWNlKDAsMCxlKTticmVha319bj1ZLnByb3RvdHlwZTtuLmhkPWZ1bmN0aW9uKCl7dGhpcy5oLmFiKHRoaXMuaSwic291cmNlb3BlbiIpO3RoaXMuSWIucmVzb2x2ZSgpfTsKZnVuY3Rpb24gRmYoYSl7dmFyIGI7YS5sJiYoYj1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJzdGFydF9zdHJlYW1zIikuc3RhcnQoKSk7Zm9yKHZhciBjPVtdLGQ9WyJhdWRpbyIsInZpZGVvIiwidGV4dCJdLGU9MDtlPGQubGVuZ3RoOysrZSl7dmFyIGY9ZFtlXTthLmYuYS5oYXNPd25Qcm9wZXJ0eShmKSYmYy5wdXNoKGEuZi5nZXQoZilbMF0pfWZvcih2YXIgZz1WZihhLGMpLGU9MDtlPGQubGVuZ3RoOysrZSlpZihmPWRbZV0sYS5mLmEuaGFzT3duUHJvcGVydHkoZikmJiFnW2ZdKXJldHVybiBhPUVycm9yKCJVbmFibGUgdG8gc2VsZWN0IGFuIGluaXRpYWwgIitmKyIgc3RyZWFtOiBhbGwgIitmKyIgc3RyZWFtcyBoYXZlIGJlZW4gcmVzdHJpY3RlZCAoYnkgdGhlIGFwcGxpY2F0aW9uIG9yIGJ5IHRoZSBrZXkgc3lzdGVtKS4iKSxhLnR5cGU9InN0cmVhbSIsYiYmYi5zZXRFcnJvcihhKS5sb2coKSxQcm9taXNlLnJlamVjdChhKTtjPVdhKGcpLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS5NLmNyZWF0ZSgpfSk7CmMucHVzaChhLkliKTtyZXR1cm4gUHJvbWlzZS5hbGwoYykudGhlbihKKGEsZnVuY3Rpb24oYSl7YS5wb3AoKTtpZighYS5ldmVyeShmdW5jdGlvbihhKXtyZXR1cm4gYS5sZW5ndGgoKX0pKXJldHVybiBhPUVycm9yKCJTb21lIHN0cmVhbXMgYXJlIG5vdCBhdmFpbGFibGUuIiksYS50eXBlPSJzdHJlYW0iLFByb21pc2UucmVqZWN0KGEpO2E9TWYodGhpcyxhKTtpZighYSlyZXR1cm4gYT1FcnJvcigiU29tZSBzdHJlYW1zIGFyZSBub3QgYXZhaWxhYmxlLiIpLGEudHlwZT0ic3RyZWFtIixQcm9taXNlLnJlamVjdChhKTtpZighV2YodGhpcyxnKSlyZXR1cm4gYT1FcnJvcigiRmFpbGVkIHRvIGNyZWF0ZSBTdHJlYW0gb2JqZWN0cy4iKSxhLnR5cGU9InN0cmVhbSIsUHJvbWlzZS5yZWplY3QoYSk7dGhpcy5BLnN0YXJ0KCk7WGYodGhpcyxnLGEpO3JldHVybiBQcm9taXNlLnJlc29sdmUoKX0pKS50aGVuKGZ1bmN0aW9uKCl7YiYmYi5sb2coKX0pLmNhdGNoKEooYSxmdW5jdGlvbihhKXtpZigiYWJvcnRlZCI9PQphLnR5cGUpYiYmYi5zZXRFcnJvcihhKS5sb2coKTtlbHNle09iamVjdC5rZXlzKHRoaXMuYyk7aWYodGhpcy5iLmIpcmV0dXJuIHlhKCk8dGhpcy5iLmo/KGE9TWF0aC5tYXgodGhpcy5iLmotRGF0ZS5ub3coKS8xRTMsdGhpcy5LYiksdGhpcy51PXNldFRpbWVvdXQodGhpcy5KYi5iaW5kKHRoaXMsITApLDFFMyphKSk6S2YodGhpcywwKSxiJiZiLmxvZygpLFByb21pc2UucmVzb2x2ZSgpO2ImJmIuc2V0RXJyb3IoYSkubG9nKCk7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfX0pKX0KZnVuY3Rpb24gVmYoYSxiKXtmb3IodmFyIGM9e30sZD0wO2Q8Yi5sZW5ndGg7KytkKXt2YXIgZT1iW2RdLGY9bnVsbDtpZigidmlkZW8iPT1lLmNvbnRlbnRUeXBlKXt2YXIgZz1hLkEuZ2V0SW5pdGlhbFZpZGVvVHJhY2tJZCgpO2lmKG51bGw9PWcpY29udGludWU7Zj1lLnYuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiBhLlg9PWd9KTtpZigwPT1mLmxlbmd0aCljb250aW51ZTtmPWZbMF19ZWxzZSBpZigiYXVkaW8iPT1lLmNvbnRlbnRUeXBlKWlmKGc9YS5BLmdldEluaXRpYWxBdWRpb1RyYWNrSWQoKSxmPWUudi5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIGEuWD09Z30pLDA9PWYubGVuZ3RoKXtmPWUudi5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIGEub2EmJmEuZmF9KTtpZigwPT1mLmxlbmd0aCljb250aW51ZTtmPWUudltNYXRoLmZsb29yKGYubGVuZ3RoLzIpXX1lbHNlIGY9ZlswXTtlbHNlIDA8ZS52Lmxlbmd0aCYmKGY9ZS52WzBdKTtjW2UuY29udGVudFR5cGVdPWZ9cmV0dXJuIGN9CmZ1bmN0aW9uIFdmKGEsYil7dmFyIGM9e30sZDtmb3IoZCBpbiBiKXt2YXIgZT1iW2RdLGU9InRleHQiPT1kP25ldyB0ZShhLGEudmlkZW8pOllmKGEsZSk7aWYoIWUpcmV0dXJuIFdhKGMpLmZvckVhY2goZnVuY3Rpb24oYSl7YS5kZXN0cm95KCl9KSwhMTtjW2RdPWV9YS5QYihhLm5jKTthLmM9YztyZXR1cm4hMH0KZnVuY3Rpb24gWWYoYSxiKXt2YXIgYz1OZChiKSxkPVpmKGMuc3BsaXQoIjsiKVswXSksZT1udWxsLGY9YS5hLmdldEJvb2woInVzZV9sb2NhbF9lc3RpbWF0b3JfZm9yX2Ficl9zYW1wbGluZyIsITApP2Eua2I6YS53YSxnPW51bGwsaD1udWxsLGs9YS5iLmZ8fGEuYi5BLGs9YS5hLmdldEJvb2woInNraXBfc2VnbWVudF9yZXF1ZXN0X21hbmFnZXIiLCExKSYmazthLldiJiZjYW5Vc2VGZXRjaFN0cmVhbSgpPyhoPW5ldyBNdWx0aXBsZVNlZ21lbnRzUHJvdmlkZXIoYS5hLmdldE51bWJlcigic3RyZWFtaW5nX3NlZ21lbnRfc2l6ZSIsNCkpLGc9JGYoYSxoLGQsZikpOmEuVmImJiFrJiYoZT1hZyhhLGQsZikpO3ZhciBrPW51bGwsbD1hLmYuZ2V0KGQpOyJ2aWRlbyI9PT1kJiYwPGwubGVuZ3RoJiYoaz1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz1udWxsLGQ9bnVsbCxlPTA7ZTxsWzBdLnYubGVuZ3RoO2UrKylsWzBdLnZbZV0uaWQ9PT1hP2M9bFswXS52W2VdOmxbMF0udltlXS5pZD09PQpiJiYoZD1sWzBdLnZbZV0pO3JldHVybiBudWxsPT09Y3x8bnVsbD09PWQ/MDpjLmJhbmR3aWR0aD5kLmJhbmR3aWR0aD8xOi0xfSk7Yz1uZXcgVShhLGEudmlkZW8sYS5hLGEuaSxjLGYsYS5wYyxhLmRhLGssYS5HLGUsZyxoLGEuaWEpO2MucGEoYS5nKTtyZXR1cm4gY30KZnVuY3Rpb24gJGYoYSxiLGMsZCl7dmFyIGU9YS53W2NdLGY9ImF1ZGlvIiE9PWN8fGEuYS5nZXRCb29sKCJlbmFibGVfYXVkaW9fc3RyZWFtaW5nIiwhMSk7aWYoIWUmJmYpe3ZhciBlPW5ldyBWaWRlb1N0cmVhbWluZ01hbmFnZXIoYS5hLGIsYyxhLmwsYS5VKSxnPSJ2aWRlbyI9PT1jO2cmJmUuYWRkTGlzdGVuZXIoImJhbmR3aWR0aFVwZGF0ZSIsZnVuY3Rpb24oYSl7ZC5zYW1wbGUoYS50aW1lVGFrZW4sYS5ieXRlc1JlYWQsZyx7dGltZVRvTGFzdEJ5dGU6YS50aW1lVGFrZW59LHRoaXMuQWIsdGhpcy5sLCF0aGlzLmEuZ2V0Qm9vbCgiZXZhbHVhdGVfYWJyX29uX3N0cmVhbV9iYW5kd2lkdGhfc2FtcGxlIiwhMCkpfS5iaW5kKGEpKX1lJiYoYS53W2NdPWUpO3JldHVybiBlfHxudWxsfQpmdW5jdGlvbiBhZyhhLGIsYyl7aWYoInZpZGVvIj09PWJ8fCJhdWRpbyI9PT1iJiZhLmEuZ2V0Qm9vbCgiZW5hYmxlX3JlcXVlc3RfcGlwZWxpbmluZ19mb3Jfdm9kX2F1ZGlvcyIsITEpKXt2YXIgZD1hLm9bYl07ZHx8KGQ9bmV3IFNlZ21lbnRSZXF1ZXN0TWFuYWdlcihhLmEsYixhLlAoKT9WaWRlb1ByaW9yaXR5Q2FsY3VsYXRvci5jYWxjdWxhdGVMaXZlOlZpZGVvUHJpb3JpdHlDYWxjdWxhdG9yLmNhbGN1bGF0ZSxhLmwsYyxhLkFiLGEuZGEsYS5pYSksYS5SJiZkLnVwZGF0ZVByaW9yaXR5V2l0aE5ld0FkanVzdG1lbnQoYS5SLmdldFByaW9yaXR5QWRqdXN0bWVudCgpKSxhLm9bYl09ZCk7cmV0dXJuIGR9cmV0dXJuIG51bGx9ZnVuY3Rpb24gYmcoYSxiKXthLnZpZGVvLmN1cnJlbnRUaW1lPWI7YS5hLmdldEJvb2woInNldF9wZW5kaW5nX3NlZWtfb25fc2V0X2N1cnJlbnRfdGltZV9mYWlsdXJlIiwhMSkmJmEudmlkZW8uY3VycmVudFRpbWUrMTxiJiZjZyhhLGIpO2EuRD1ifQpmdW5jdGlvbiBYZihhLGIsYyl7YS5rYz1hLnZpZGVvLnBsYXliYWNrUmF0ZTthLnZpZGVvLnBsYXliYWNrUmF0ZT0wO2RnKGEsYyk7dmFyIGQ7ZD1hLmIuZjsoIWEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9hZGp1c3Rfc3RyZWFtX2xpbWl0c19zdGFydF9vZmZzZXRfaW50IiwwKSYmIWEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9qdW1wX3RvX2xpdmVfc2lkeF9lbmRfb2Zmc2V0IiwwKXx8IWQpJiZhLmxhJiZhLmxhPD1jLmVuZCYmYS5sYT49Yy5zdGFydD9kPWEubGE6YS5iLmI/KGQ9ZWcoYSxjKSxhLmVjPSEwKTpkPWMuc3RhcnQ7RShhLmgsYS52aWRlbywic2Vla2luZyIsYS5tZC5iaW5kKGEpKTthLkk/KGEuSS5zZXRPblBsYXlpbmcoYS5tYi5iaW5kKGEsITApKSxhLkkuc2V0T25QYXVzZWQoYS5tYi5iaW5kKGEsITEpKSxhLkkuZW5hYmxlKCkpOihFKGEuaCxhLnZpZGVvLCJwbGF5aW5nIixhLm1iLmJpbmQoYSwhMCkpLGEuYS5nZXRCb29sKCJ1cGRhdGVfcHJpb3JpdHlfb25fcGxheV9ldmVudCIsCiEwKSYmRShhLmgsYS52aWRlbywicGxheSIsYS5tYi5iaW5kKGEsITApKSxFKGEuaCxhLnZpZGVvLCJwYXVzZSIsYS5tYi5iaW5kKGEsITEpKSk7RShhLmgsYS52aWRlbywic2Vla2luZyIsYS5NYy5iaW5kKGEpKTtFKGEuaCxhLnZpZGVvLCJ0aW1ldXBkYXRlIix0aHJvdHRsZShhLk1jLmJpbmQoYSksYS5hLmdldE51bWJlcigic2NoZWR1bGVyX3ByaW9yaXR5X3VwZGF0ZV9pbnRlcnZhbCIsMUUzKSkpO2lmKGEudmlkZW8uY3VycmVudFRpbWUhPWQpaWYoYS5TYikwIT09YS52aWRlby5yZWFkeVN0YXRlP2JnKGEsZCk6Y2coYSxkKTtlbHNlIHRyeXtiZyhhLGQpfWNhdGNoKGUpe2NnKGEsZCl9ZmcoYSxjLnN0YXJ0LGMuZW5kLGMubGFzdCxjLlphKTt2YXIgZj1bXSxnO2ZvcihnIGluIGEuYyl7Yz1hLmNbZ107SihhLGZ1bmN0aW9uKGEpe2YucHVzaChhLktjKHRoaXMuc2EpLnRoZW4oSih0aGlzLGZ1bmN0aW9uKGIpe3ZhciBjPWEuc2IoKTtjPnRoaXMuQmImJih0aGlzLkJiPWMpO3JldHVybiBifSkpKX0pKGMpOwpFKGEuaCxjLCJlbmRlZCIsYS5vZC5iaW5kKGEpKTtFKGEuaCxjLCJzaG91bGRfZW5kX2FsbF9zdHJlYW1zIixhLnBkLmJpbmQoYSkpO0UoYS5oLGMsInNob3VsZF9udWRnZSIsYS5qZC5iaW5kKGEpKTtkPWJbZ107dmFyIGg9YS5BLmdldEluaXRpYWxTd2l0Y2hSZWFzb24oKXx8dm9pZCAwO2MuamIoZCwhMSx2b2lkIDAsaCl9UHJvbWlzZS5hbGwoZikudGhlbihKKGEsZnVuY3Rpb24oYSl7dGhpcy5hLmdldEJvb2woInByZXZlbnRfc3RyZWFtX3N0YXJ0X2lmX3N0cmVhbXNfY2hhbmdlIiwhMSkmJiFnZyh0aGlzKXx8aGcodGhpcyxhKX0pKS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7ImRlc3Ryb3kiIT1hLnR5cGUmJihhPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGEpKX0pKTtuZihhLGEueWEpfQpuLm1iPWZ1bmN0aW9uKGEpe09iamVjdC5rZXlzKHRoaXMubykuZm9yRWFjaChmdW5jdGlvbihiKXt0aGlzLm9bYl0udXBkYXRlUHJpb3JpdHlXaXRoTmV3UGxheWluZ1N0YXRlKGEpfS5iaW5kKHRoaXMpKTtPYmplY3Qua2V5cyh0aGlzLncpLmZvckVhY2goZnVuY3Rpb24oYil7dGhpcy53W2JdLmdldFByaW9yaXR5VXBkYXRlcigpLnVwZGF0ZVByaW9yaXR5V2l0aE5ld1BsYXlpbmdTdGF0ZShhKX0uYmluZCh0aGlzKSk7aWYodGhpcy5sKXt2YXIgYj1NZih0aGlzLEhmKHRoaXMpKTtiJiZ0aGlzLnZpZGVvLmN1cnJlbnRUaW1lPGIuc3RhcnQmJkJhbnphaU9EUy5idW1wRW50aXR5S2V5KDI5NjYsInZpZGVvcy53d3cuc2hha2EiLCJjdXJyZW50X3RpbWVfYXRfcGxheWluZ19sZXNzX3RoYW5fc3RyZWFtX2xpbWl0c19zdGFydCIpfWEmJm51bGwhPT10aGlzLmNhJiYodGhpcy54YT0xLFJmKHRoaXMsdGhpcy54YSksaWcodGhpcykpfTsKbi5NYz1mdW5jdGlvbigpe3RoaXMudmlkZW8mJihPYmplY3Qua2V5cyh0aGlzLm8pLmZvckVhY2goZnVuY3Rpb24oYSl7dGhpcy5vW2FdLnVwZGF0ZVByaW9yaXR5V2l0aE5ld1BsYXloZWFkKHRoaXMudmlkZW8uY3VycmVudFRpbWUpfS5iaW5kKHRoaXMpKSxPYmplY3Qua2V5cyh0aGlzLncpLmZvckVhY2goZnVuY3Rpb24oYSl7dGhpcy53W2FdLmdldFByaW9yaXR5VXBkYXRlcigpLnVwZGF0ZVByaW9yaXR5V2l0aE5ld1BsYXloZWFkKHRoaXMudmlkZW8uY3VycmVudFRpbWUpfS5iaW5kKHRoaXMpKSl9O2Z1bmN0aW9uIFFmKGEpe2lmKGEuYS5nZXRCb29sKCJjbGVhcl9jdXJyZW50X3NlZ21lbnRfaW5kZXhlc19kdXJpbmdfbGl2ZWhlYWRfY2F0Y2h1cCIsITEpKWZvcih2YXIgYiBpbiBhLmMpYS5jW2JdLmk9bnVsbH1mdW5jdGlvbiBjZyhhLGIpe2EuYmE9Yjtmb3IodmFyIGMgaW4gYS5jKXt2YXIgZD1hLmNbY107YS5iYSYmKGQuSj1hLmJhKX19CmZ1bmN0aW9uIGdnKGEpe3JldHVybiFPYmplY3Qua2V5cyhhLmMpLnNvbWUoSihhLGZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNbYV0mJiF0aGlzLmNbYV0uaH0pKX0KZnVuY3Rpb24gaGcoYSxiKXtiYShiJiZiLmxlbmd0aD09T2JqZWN0LmtleXMoYS5jKS5sZW5ndGgpO2Zvcih2YXIgYz1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksZD1OdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFksZT0wO2U8Yi5sZW5ndGg7KytlKXZhciBmPWJbZV0sYz1NYXRoLm1pbihjLGYpLGQ9TWF0aC5tYXgoZCxmKTtjPUhmKGEpO2ZvcihlPTA7ZTxjLmxlbmd0aDsrK2UpY1tlXS5UYShkKTthLmEuZ2V0Qm9vbCgicHJvY2Vzc19kZWZlcnJlZF9zd2l0Y2hlc19lYXJseSIsITEpJiZqZyhhKTtrZyhhLGMsZCk7dmFyIGc9V2EoYS5jKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuV2EoKS5pZH0pO2EuYS5nZXRCb29sKCJzZXF1ZW50aWFsbHlfbG9hZF9zdHJlYW1zIiwhMSk/bGcoYSxnLGQpOihlPSRhKGEuZikubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLnZ9KS5yZWR1Y2UoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5jb25jYXQoYil9LFtdKS5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIX5nLmluZGV4T2YoYS5pZCl9KS5tYXAoSihhLApmdW5jdGlvbihhKXt2YXIgYj1bYS5NLnBiP2EuTS5wYigpOmEuTS5jcmVhdGUoKV07YS5hYSYmYi5wdXNoKGEuYWEuY3JlYXRlKHRoaXMubCx0aGlzLmRhKSk7cmV0dXJuIFByb21pc2UuYWxsKGIpfSkpLFByb21pc2UuYWxsKGUpLnRoZW4oSihhLGZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7KytiKWFbYl1bMF0uVGEoZCk7dGhpcy5DYT0hMDtqZyh0aGlzKX0pKS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7ImFib3J0ZWQiIT1hLnR5cGUmJihhPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGEpKX0pKSl9CmZ1bmN0aW9uIGxnKGEsYixjKXt2YXIgZD1Qcm9taXNlLnJlc29sdmUoKTskYShhLmYpLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS52fSkucmVkdWNlKGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuY29uY2F0KGIpfSxbXSkuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiF+Yi5pbmRleE9mKGEuaWQpfSkuZm9yRWFjaChmdW5jdGlvbihhKXtkPWQudGhlbihKKHRoaXMsZnVuY3Rpb24oYil7YiYmYlswXS5UYShjKTtiPVthLk0ucGI/YS5NLnBiKCk6YS5NLmNyZWF0ZSgpXTthLmFhJiZiLnB1c2goYS5hYS5jcmVhdGUodGhpcy5sLHRoaXMuZGEpKTtyZXR1cm4gUHJvbWlzZS5hbGwoYil9KSkuY2F0Y2goZnVuY3Rpb24oYSl7dGhyb3cgYTt9KX0pO2QudGhlbihKKGEsZnVuY3Rpb24oKXt0aGlzLkNhPSEwO2pnKHRoaXMpfSkpLmNhdGNoKEooYSxmdW5jdGlvbihhKXsiYWJvcnRlZCIhPWEudHlwZSYmKGE9QShhKSx0aGlzLmRpc3BhdGNoRXZlbnQoYSkpfSkpfQpmdW5jdGlvbiBqZyhhKXtmb3IodmFyIGIgaW4gYS5CKXt2YXIgYz1hLkJbYl07YS5jW2JdLmpiKGMuTGMsYy5yYyxjLnNjLGMuc3dpdGNoUmVhc29uLGMuS2EpfWEuQj17fX0KZnVuY3Rpb24ga2coYSxiLGMpe3ZhciBkO2EuYS5nZXRCb29sKCJ3d3dfdmlkZW9zX2V4dGVuZGVkX3NwbF9sb2dnaW5nX2Zvcl9jb25uZWN0ZWRfdHYiLCExKSYmYS5sJiYoZD1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJzdHJlYW1fdmlkZW9fc291cmNlX2JlZ2luX3BsYXliYWNrIikpO2lmKGI9TWYoYSxiKSlkZyhhLGIpLGZnKGEsYi5zdGFydCxiLmVuZCxiLmxhc3QsYi5aYSk7MCE9Yz8oYz1hLnZpZGVvLmN1cnJlbnRUaW1lK2MsYS5hLmdldE51bWJlcigid3d3X3ZpZGVvc19udWRnZV90aW1lc3RhbXBfY29ycmVjdGlvbl9zIiwwKSYmKGMrPWEuYS5nZXROdW1iZXIoInd3d192aWRlb3NfbnVkZ2VfdGltZXN0YW1wX2NvcnJlY3Rpb25fcyIsMCkpLGEudmlkZW8uY3VycmVudFRpbWU9YyxhLkQ9Yyk6YS5lYyYmYiYmKGM9ZWcoYSxiKSxNYXRoLmFicyhjLWEudmlkZW8uY3VycmVudFRpbWUpPj1hLmRjJiYoYS52aWRlby5jdXJyZW50VGltZT1jKSk7YS5hLmdldEJvb2woInVuaWZ5X3N0cmVhbV9zdGFydF93aXRoX2J1ZmZlcl9kZXRlY3RvciIsCiExKT8oYz15KHt0eXBlOiJhbGxTdHJlYW1zU3RhcnRlZCIsYnViYmxlczohMH0pLGEuZGlzcGF0Y2hFdmVudChjKSk6YS52aWRlby5wbGF5YmFja1JhdGU9YS5rYzthLmIuYiYmbnVsbCE9YS5iLmMmJktmKGEsMCk7bWcoYSk7YS5zYS5yZXNvbHZlKCk7ZCYmZC5sb2coKX0KZnVuY3Rpb24gZWcoYSxiKXt2YXIgYz1iLmVuZDt2b2lkIDAhPT1iLkJjJiYoYz1iLkJjKTtpZihhLmEuZ2V0Qm9vbCgidGVtcGxhdGVkX2Fsd2F5c19qdW1wX3RvX3N0cmVhbV9saW1pdHNfZW5kIiwhMSkmJmEuYiYmYS5iLmYpcmV0dXJuIGIuZW5kO2lmKGEuY2Mpe3ZhciBkPWEudmlkZW8uY3VycmVudFRpbWUsZT1iLnN0YXJ0O2lmKGEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9hZGp1c3Rfc3RyZWFtX2xpbWl0c19zdGFydF9vZmZzZXRfaW50IiwwKSYmYS5iJiZhLmIuZil7Zm9yKHZhciBmPUhmKGEpLGc9MCxoPTA7aDxmLmxlbmd0aDsrK2gpe3ZhciBrPWZbaF0sbD1NYXRoLm1pbihhLmEuZ2V0TnVtYmVyKCJ0ZW1wbGF0ZWRfYWRqdXN0X3N0cmVhbV9saW1pdHNfc3RhcnRfb2Zmc2V0X2ludCIsMCksay5sZW5ndGgoKSk7ay5sZW5ndGgoKSYmMDxsJiZsPD1rLmxlbmd0aCgpJiYoZz1NYXRoLm1heChrLmdldChrLmxlbmd0aCgpLWwpLnN0YXJ0VGltZSxnKSl9ZT1NYXRoLm1heChlLApnKX1pZihkPj1lJiZkPD1iLmVuZCYmZDxjKWlmKGEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9qdW1wX3RvX2xpdmVfc2lkeF9lbmRfb2Zmc2V0IiwwKSYmYS5iJiZhLmIuZil7Zj1IZihhKTtrPW51bGw7ZT1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7Zm9yKGg9MDtoPGYubGVuZ3RoOysraClmW2hdLmxlbmd0aCgpPGUmJihlPWZbaF0ubGVuZ3RoKCksaz1mW2hdKTtrJiZlPmEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9qdW1wX3RvX2xpdmVfc2lkeF9lbmRfb2Zmc2V0IiwwKSYmKGY9ay5nZXQoay5sZW5ndGgoKS1hLmEuZ2V0TnVtYmVyKCJ0ZW1wbGF0ZWRfanVtcF90b19saXZlX3NpZHhfZW5kX29mZnNldCIsMCkpLnN0YXJ0VGltZSxkPj1mJiYoYz1kKSl9ZWxzZSBjPWR9cmV0dXJuIGN9CmZ1bmN0aW9uIGRnKGEsYil7aWYoYS5iLmIpaXNOYU4oYS5pLmR1cmF0aW9uKSYmKGEuaS5kdXJhdGlvbj1iLmVuZCsyNTkyRTMpO2Vsc2UgaWYoaXNOYU4oYS5pLmR1cmF0aW9uKXx8Yi5lbmQ+YS5pLmR1cmF0aW9uKWlmKGEuaS5kdXJhdGlvbj1iLmVuZCwhYS5hLmdldEJvb2woImRpc2FibGVfYXBwZW5kX3dpbmRvd19lbmQiLCExKSlmb3IodmFyIGM9YS5hLmdldE51bWJlcigiYXBwZW5kX3dpbmRvd19lbmRfZnVkZ2VfZmFjdG9yIiwwKSxkPTA7ZDxhLmkuc291cmNlQnVmZmVycy5sZW5ndGg7KytkKWEuaS5zb3VyY2VCdWZmZXJzW2RdLmFwcGVuZFdpbmRvd0VuZD1iLmVuZCtjfQpuLnJkPWZ1bmN0aW9uKCl7dGhpcy5rYT1udWxsO21nKHRoaXMpO3ZhciBhPU1mKHRoaXMsSGYodGhpcykpO2lmKGEpe3ZhciBiPXRoaXMuYi5iO3RoaXMuYS5nZXRCb29sKCJ0cmVhdF9saXZlX3N0YXRpY19tYW5pZmVzdF9hc19keW5hbWljIiwhMSkmJihiPWJ8fHRoaXMuYi5oKTtiJiZ0aGlzLmphIT1hLmxhc3QmJih0aGlzLmphPWEubGFzdCxudWxsIT10aGlzLmomJihjbGVhclRpbWVvdXQodGhpcy5qKSx0aGlzLmo9bnVsbCkpO2ZnKHRoaXMsYS5zdGFydCxhLmVuZCxhLmxhc3QsYS5aYSk7dGhpcy52aWRlby5wYXVzZWR8fG5nKHRoaXMsdGhpcy52aWRlby5jdXJyZW50VGltZSxhLnN0YXJ0LGEuZW5kKX19O2Z1bmN0aW9uIGZnKGEsYixjLGQsZSl7Yj15KHt0eXBlOiJzZWVrcmFuZ2VjaGFuZ2VkIixidWJibGVzOiEwLHN0YXJ0OmIsZW5kOmMsbGFzdDpkLHNlZWtSYW5nZUdhcHM6ZX0pO2EuZGlzcGF0Y2hFdmVudChiKX0Kbi5tZD1mdW5jdGlvbigpe3ZhciBhPXRoaXMudmlkZW8uY3VycmVudFRpbWUsYj1NZih0aGlzLEhmKHRoaXMpKTt0aGlzLmwmJmImJmE8Yi5zdGFydCYmQmFuemFpT0RTLmJ1bXBFbnRpdHlLZXkoMjk2NiwidmlkZW9zLnd3dy5zaGFrYSIsImN1cnJlbnRfdGltZV9hdF9zZWVrX2xlc3NfdGhhbl9zdHJlYW1fbGltaXRzX3N0YXJ0Iik7aWYobnVsbCE9dGhpcy5EKXtpZihhPj10aGlzLkQtLjAxJiZhPD10aGlzLkQrLjAxKXt0aGlzLkQ9bnVsbDt0aGlzLmwmJmImJmE8Yi5zdGFydCYmQmFuemFpT0RTLmJ1bXBFbnRpdHlLZXkoMjk2NiwidmlkZW9zLnd3dy5zaGFrYSIsImlnbm9yZWRfc2Vla193aGVuX2N1cnJlbnRfdGltZV9hdF9zZWVrX2xlc3NfdGhhbl9zdHJlYW1fbGltaXRzX3N0YXJ0Iik7cmV0dXJufXRoaXMuRD1udWxsfWlmKGIpe3ZhciBjPWIuc3RhcnQsZD1iLmVuZDt0aGlzLmEuZ2V0Qm9vbCgic2tpcF9yZW1haW5pbmdfYnVmZmVyZWRfb25fc3RyZWFtX2VuZCIsITEpJiZ0aGlzLmIuYiYmCnRoaXMuYi5oJiZ0aGlzLnZpZGVvLnBhdXNlZCYmKGQ9dGhpcy5qYSk7KGM9bmcodGhpcyxhLGMsZCkpfHwoYTw9ZCsuMDF8fHRoaXMuYi5iJiYhb2codGhpcyxkKT9jPSExOih0aGlzLnZpZGVvLmN1cnJlbnRUaW1lPWQsYz0hMCkpO2lmKGMpdGhpcy5sJiZhPGIuc3RhcnQmJkJhbnphaU9EUy5idW1wRW50aXR5S2V5KDI5NjYsInZpZGVvcy53d3cuc2hha2EiLCJjbGFtcF9wbGF5aGVhZF93aGVuX2N1cnJlbnRfdGltZV9hdF9zZWVrX2xlc3NfdGhhbl9zdHJlYW1fbGltaXRzX3N0YXJ0Iik7ZWxzZXtmb3IodmFyIGUgaW4gdGhpcy5jKXRoaXMuY1tlXS5DYyh0aGlzLkVhKTt0aGlzLkVhPSExfX19O2Z1bmN0aW9uIG5nKGEsYixjLGQpe2lmKGI+PWMtLjAxKXJldHVybiExO2I9MDthLmIuYiYmKGI9LjUsb2coYSxjK2IpfHwoYj1hLmIuZykpO2EudmlkZW8uY3VycmVudFRpbWU9TWF0aC5taW4oYytiLGQpO3JldHVybiEwfQpmdW5jdGlvbiBvZyhhLGIpe2Zvcih2YXIgYyBpbiBhLmMpaWYoIWEuY1tjXS5JYyhiKSlyZXR1cm4hMTtyZXR1cm4hMH1uLm9kPWZ1bmN0aW9uKCl7aWYoIXRoaXMuYi5ifHx0aGlzLkZhKXtmb3IodmFyIGEgaW4gdGhpcy5jKWlmKCF0aGlzLmNbYV0uZmIoKSlyZXR1cm47dGhpcy5lYigpfX07bi5wZD1mdW5jdGlvbigpe2NsZWFyVGltZW91dCh0aGlzLnUpO3RoaXMuRmE9ITA7Zm9yKHZhciBhIGluIHRoaXMuYyl0aGlzLmNbYV0uZmIoKXx8dGhpcy5jW2FdLkNiKCl9O24uamQ9ZnVuY3Rpb24oKXt0aGlzLmEuZ2V0Qm9vbCgiaWdub3JlX3NlZWtfd2hlbl9udWRnaW5nIiwhMCkmJih0aGlzLkQ9dGhpcy52aWRlby5jdXJyZW50VGltZSk7dGhpcy52aWRlby5jdXJyZW50VGltZSs9LjAwMX07Cm4udGI9ZnVuY3Rpb24oKXtpZih0aGlzLmFjKCl8fHRoaXMuYmMoKSlyZXR1cm4hMDt2YXIgYT10aGlzLmIsYj1udWxsLGM9bnVsbDthJiZhLmEmJmEuYVswXSYmKGI9YS5hWzBdKTtiJiZiLmEmJmIuYVswXSYmKGM9Yi5hWzBdKTtyZXR1cm4hIWMmJmMuYn07WS5wcm90b3R5cGUuaGFzSW5saW5lZENlYTYwOFN1YnRpdGxlcz1ZLnByb3RvdHlwZS50YjtZLnByb3RvdHlwZS5QYj1mdW5jdGlvbihhKXt0aGlzLm5jPWE7dmFyIGI9dGhpcy5jOyJ2aWRlbyJpbiBiJiYoYT1hJiZ0aGlzLnRiKCksYi52aWRlby5jLlM9YSl9O1kucHJvdG90eXBlLnNldEVuYWJsZUNlYTYwOFBhcnNpbmc9WS5wcm90b3R5cGUuUGI7CmZ1bmN0aW9uIHNmKGEpe3ZhciBiPWEuYS5nZXROdW1iZXIoImxpdmVfYnVmZmVyaW5nX3VuZGVyZmxvd190aHJlc2hvbGQiLC41KSxjPWEuYS5nZXRCb29sKCJmaXhfbGl2ZV9zdHJlYW1fZ29uZV9vbl9tYW5pZmVzdF91cGRhdGUiLCEwKSYmYS5oYyxkPSExO2lmKGEuYi5oKXt2YXIgZD1hLmEuZ2V0TnVtYmVyKCJsaXZlX3N0cmVhbV9lbmRfc2xhY2siLDApLGU7Zm9yKGUgaW4gYS5jKWEuY1tlXS5mYigpfHwoZD0wKTtkPWEudmlkZW8uY3VycmVudFRpbWUrYitkPmEuamF9cmV0dXJuIGN8fGR9bj1ZLnByb3RvdHlwZTsKbi5jZD1mdW5jdGlvbigpe3RoaXMuJD0hMDtpZih0aGlzLmImJnRoaXMuYi5iKXtpZihzZih0aGlzKSlyZXR1cm4gdGhpcy5lYigpO3RoaXMuYS5nZXRCb29sKCJhbGxvd19pbmZpbml0ZV9yZXRyeV9vbl9uZXRfZXJyIiwhMCkmJnRoaXMuRy5pc05ldHdvcmtJbnRlcnJ1cHRlZCgpfHwhV2EodGhpcy5jKS5ldmVyeShmdW5jdGlvbihhKXtyZXR1cm4gYS5mYigpfSl8fHBnKHRoaXMsdGhpcy5nYil9dGhpcy5hLmdldEJvb2woImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvdyIsITEpJiYobnVsbD09PXRoaXMuS3x8RGF0ZS5ub3coKS10aGlzLmZjPnRoaXMuYS5nZXROdW1iZXIoImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvd190aW1lX3dpbmRvdyIsMkUzKT90aGlzLks9dGhpcy5hLmdldE51bWJlcigiYnVmZmVyaW5nX292ZXJmbG93X3RocmVzaG9sZCIsMCk6dGhpcy5LKj10aGlzLmEuZ2V0TnVtYmVyKCJiYWNrX29mZl9idWZmZXJpbmdfb3ZlcmZsb3dfdGltZV9mYWN0b3IiLDIpLAp0aGlzLks9TWF0aC5taW4odGhpcy5LLHRoaXMuYS5nZXROdW1iZXIoImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvd19tYXgiLDUpKSl9O2Z1bmN0aW9uIHBnKGEsYil7YS5qPXNldFRpbWVvdXQoYS5lYi5iaW5kKGEpLGIpfW4uYmQ9ZnVuY3Rpb24oKXt0aGlzLiQ9ITE7dGhpcy5hLmdldEJvb2woImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvdyIsITEpJiYodGhpcy5mYz1EYXRlLm5vdygpKTtudWxsIT10aGlzLmomJihjbGVhclRpbWVvdXQodGhpcy5qKSx0aGlzLmo9bnVsbCl9O24uZ2Q9ZnVuY3Rpb24oKXtudWxsIT09dGhpcy5iYSYmKGJnKHRoaXMsdGhpcy5iYSksY2codGhpcyxudWxsKSl9O24uR2Q9ZnVuY3Rpb24oKXt9OwpuLmViPWZ1bmN0aW9uKCl7dGhpcy4kPSExO3RoaXMuaj1udWxsO3ZhciBhO2lmKGE9dGhpcy5hLmdldEJvb2woInRlc3Rfc291cmNlX2J1ZmZlcnNfbm90X3VwZGF0aW5nX2VuZF9vZl9zdHJlYW0iLCExKSlhOntmb3IoYT0wO2E8dGhpcy5pLnNvdXJjZUJ1ZmZlcnMubGVuZ3RoOysrYSlpZih0aGlzLmkuc291cmNlQnVmZmVyc1thXS51cGRhdGluZyl7YT0hMDticmVhayBhfWE9ITF9aWYoYSlyZXR1cm4gcGcodGhpcywxRTMpOyJvcGVuIj09dGhpcy5pLnJlYWR5U3RhdGUmJnRoaXMuaS5lbmRPZlN0cmVhbSgpfTtmdW5jdGlvbiBIZihhKXtyZXR1cm4gV2EoYS5jKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuRmIoKX0pLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YX0pfWZ1bmN0aW9uIExmKGEpe3JldHVybiBNYXRoLm1heChhLmI/YS5iLmc6MSxhLlpiP2EuZy5zdHJlYW1CdWZmZXJTaXplfHwwOjApfQpmdW5jdGlvbiBNZihhLGIpe2Zvcih2YXIgYz0wLGQ9TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLGU9TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLGY9W10sZz0hVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJub19zZWVrX3JhbmdlX2dhcHNfZHVyaW5nX2NvbXB1dGVfc3RyZWFtX2xpbWl0cyIsITEpLGg9MDtoPGIubGVuZ3RoOysraCl7dmFyIGs9YltoXS5BKCk7ZyYmKGY9Zi5jb25jYXQoYltoXS5nZXRTZWVrUmFuZ2VHYXBzKCkpKTtjPU1hdGgubWF4KGMsay5zdGFydCk7bnVsbCE9ay5lbmQmJihkPU1hdGgubWluKGQsay5lbmQpKTtiW2hdLmxlbmd0aCgpJiYoZT1NYXRoLm1pbihlLGJbaF0ubGFzdCgpLmVuZFRpbWUpKX1nJiYoZj1tZXJnZVNlZWtSYW5nZUdhcHMoZikpO2lmKGQ9PU51bWJlci5QT1NJVElWRV9JTkZJTklUWSlpZihkPWEuYi5hWzBdLGQuZHVyYXRpb24pZD0oZC5zdGFydHx8MCkrZC5kdXJhdGlvbjtlbHNlIHJldHVybiBudWxsO2lmKGEuYi5iKXt2YXIgZz0KTGYoYSksZD1NYXRoLm1heChkLWcsYyksbDthLnJhJiZhLmEuZ2V0Qm9vbCgibGl2ZV9qdW1wX3RvX3B1c2hlZF9zZWdtZW50IiwhMSkmJmIubGVuZ3RoJiYoaD1NYXRoLmZsb29yKExmKGEpLzEpKzEsZz1iWzBdLGg9Zy5sZW5ndGgoKS1oLChnPWcuZ2V0KGgpKSYmKGw9Zy5zdGFydFRpbWUpKX1pZihjPmQpcmV0dXJuIG51bGw7ZD1NYXRoLmZsb29yKDFFNSpkKS8xRTU7cmV0dXJue3N0YXJ0OmMsZW5kOmQsbGFzdDplLFphOmYsQmM6bH19bi5uYj1mdW5jdGlvbigpe3JldHVybiBNZih0aGlzLEhmKHRoaXMpKX07WS5wcm90b3R5cGUuY29tcHV0ZVN0cmVhbUxpbWl0cz1ZLnByb3RvdHlwZS5uYjtmdW5jdGlvbiBtZyhhKXthLmIuYiYmKGEua2E9c2V0VGltZW91dChhLnJkLmJpbmQoYSksMUUzKSl9ZnVuY3Rpb24gRGYoYSl7Zm9yKHZhciBiIGluIGEuYylhLmNbYl0ucGEoYS5nKX1ZLnByb3RvdHlwZS5zYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLkJifTsKWS5wcm90b3R5cGUuZ2V0TG9uZ2VzdEluaXRSZXNwb25zZVRpbWU9WS5wcm90b3R5cGUuc2I7ZnVuY3Rpb24gWmYoYSl7cmV0dXJuInYiPT09YS5jaGFyQXQoMCk/InZpZGVvIjoiYSI9PT1hLmNoYXJBdCgwKT8iYXVkaW8iOm51bGx9WS5wcm90b3R5cGUuVGM9ZnVuY3Rpb24oKXt2YXIgYT15KHt0eXBlOiJuZXR3b3JraW50ZXJydXB0ZWQiLGJ1YmJsZXM6ITB9KTt0aGlzLmRpc3BhdGNoRXZlbnQoYSk7dGhpcy5UPXRoaXMuVHx8RGF0ZS5ub3coKTt0aGlzLiQmJnRoaXMuaiYmY2xlYXJUaW1lb3V0KHRoaXMuail9OwpZLnByb3RvdHlwZS5VYz1mdW5jdGlvbigpe3ZhciBhPXkoe3R5cGU6Im5ldHdvcmtyZXN1bWVkIixidWJibGVzOiEwfSk7dGhpcy5kaXNwYXRjaEV2ZW50KGEpO2E9dGhpcy5hLmdldE51bWJlcigibWF4X25ldHdvcmtfaW50ZXJydXB0ZWRfdGltZV9iZWZvcmVfc2VlayIsMUU0KTtudWxsIT09dGhpcy5UJiZEYXRlLm5vdygpLXRoaXMuVD49YSYmKHRoaXMuVD1udWxsLHRoaXMuZWE9ITApO3RoaXMuYS5nZXRCb29sKCJmaXhfbmV0d29ya19pbnRlcnJ1cHRlZF9zdGFydF9ub3RfbnVsbGVkIiwhMSkmJih0aGlzLlQ9bnVsbCk7dGhpcy4kJiZwZyh0aGlzLHRoaXMuZ2IpfTtZLnByb3RvdHlwZS5WYz1mdW5jdGlvbigpe3RoaXMuZWE9ITB9O2Z1bmN0aW9uIFBmKGEpe2EuYS5nZXRCb29sKCJkZWNvdXBsZV9tcGRfdXBkYXRlX2xvb3BfZnJvbV9yZXF1ZXN0X2xvb3AiLCExKXx8S2YoYSwwKX1ZLnByb3RvdHlwZS5xYz1mdW5jdGlvbihhKXt0aGlzLm5hPWF9OwpZLnByb3RvdHlwZS5zZXRFbmFibGVMaXZlaGVhZENhdGNodXA9WS5wcm90b3R5cGUucWM7WS5wcm90b3R5cGUuemQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uYX07WS5wcm90b3R5cGUuaXNMaXZlaGVhZENhdGNodXBFbmFibGVkPVkucHJvdG90eXBlLnpkO1kucHJvdG90eXBlLlNjPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYy52aWRlbz90aGlzLmMudmlkZW8uYy5pOm51bGx9O1kucHJvdG90eXBlLmdldFZpZGVvU3RyZWFtUHJvZ3Jlc3NUcmFja2VyPVkucHJvdG90eXBlLlNjO1kucHJvdG90eXBlLnFiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYy52aWRlbz90aGlzLmMudmlkZW8ucWIoKTpudWxsfTtZLnByb3RvdHlwZS5nZXRCdWZmZXJWZWxvY2l0eT1ZLnByb3RvdHlwZS5xYjtmdW5jdGlvbiBSZihhLGIpe2Zvcih2YXIgYyBpbiBhLmMpYS5jW2NdLm5hPWJ9CmZ1bmN0aW9uIGlnKGEpe3ZhciBiPVtdO2lmKG51bGwhPT1hLmNhKXt2YXIgYz1hLmNhLGQ7Zm9yKGQgaW4gYS5jKWIucHVzaChyZShhLmNbZF0sYS5jYSkpO1Byb21pc2UuYWxsKGIpLnRoZW4oSihhLGZ1bmN0aW9uKCl7aWYoYyl7Zm9yKHZhciBhIGluIHRoaXMuYyl7dmFyIGI9dGhpcy5jW2FdO2IuSz1udWxsO2IuVj0hMTtiLkk9bnVsbH1jPnRoaXMudmlkZW8uY3VycmVudFRpbWUmJih0aGlzLnZpZGVvLmN1cnJlbnRUaW1lPWMpfX0pKX1hLmNhPW51bGx9O2Z1bmN0aW9uIFooYSxiLGMsZCxlLGYsZyl7ZHx8KGQ9bmV3IEcpO2V8fChlPW5ldyBYKTtZLmNhbGwodGhpcyxudWxsLGIsZCxlKTsic3RyaW5nIj09PXR5cGVvZiBhP3RoaXMuamM9YTp0aGlzLk5iPWE7dGhpcy5hPWI7dGhpcy5GPW51bGw7dGhpcy50YT1jO3RoaXMuRGE9W107dGhpcy5RYj1bXTt0aGlzLlJiPVtdO3RoaXMuSGE9MDt0aGlzLlk9bnVsbDt0aGlzLk1iPWd8fG51bGx9cihaLFkpO3EoInNoYWthLnBsYXllci5EYXNoVmlkZW9Tb3VyY2UiLFopO1oucHJvdG90eXBlLkpkPWZ1bmN0aW9uKGEpe3RoaXMuRj1hO3RoaXMuSmIoITAsITApfTtaLnByb3RvdHlwZS51cGRhdGVNYW5pZmVzdD1aLnByb3RvdHlwZS5KZDtaLnByb3RvdHlwZS5PYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLk5ifHx0aGlzLkZ9O1oucHJvdG90eXBlLmdldE1hbmlmZXN0PVoucHJvdG90eXBlLk9iO1oucHJvdG90eXBlLlRiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuT2IoKX07CloucHJvdG90eXBlLmRlYnVnR2V0TWFuaWZlc3Q9Wi5wcm90b3R5cGUuVGI7Wi5wcm90b3R5cGUuWmM9ZnVuY3Rpb24oYSxiLGMpe3RoaXMuRGEucHVzaChhKTt0aGlzLlFiLnB1c2goYnx8IiIpO3RoaXMuUmIucHVzaChjfHwiIil9O1oucHJvdG90eXBlLmFkZEV4dGVybmFsQ2FwdGlvbnM9Wi5wcm90b3R5cGUuWmM7Wi5wcm90b3R5cGUudGQ9ZnVuY3Rpb24oYSl7dGhpcy5ZPWF9O1oucHJvdG90eXBlLnNldE5ldHdvcmtDYWxsYmFjaz1aLnByb3RvdHlwZS50ZDtaLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5GPXRoaXMuWT10aGlzLnRhPW51bGw7WS5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpfTsKWi5wcm90b3R5cGUud2I9ZnVuY3Rpb24oKXt2YXIgYTt0aGlzLmwmJihhPXRoaXMubC5nZXRPcGVyYXRpb25Mb2dnZXIoInNvdXJjZV9sb2FkIikuc3RhcnQoKSk7dmFyIGIsYz1KKHRoaXMsZnVuY3Rpb24oYSl7aWYodGhpcy5hLmdldEJvb2woImVuYWJsZV9kb3VibGVfaW5nZXN0X29uX2luaXRpYWxfbXBkIiwhMSkpc3dpdGNoKGEuc3RhdHVzKXtjYXNlIDIwMDpjYXNlIDQxNzppZihhLnJlc3BvbnNlSGVhZGVycyYmbnVsbCE9YS5yZXNwb25zZUhlYWRlcnNbIngtZmItdmlkZW8tcmVwbGljYSJdKXJldHVybiB0aGlzLmRpc3BhdGNoRXZlbnQoeSh7dHlwZToicmVwbGljYXN3aXRjaCIsYnViYmxlczohMCxyZXBsaWNhOmEucmVzcG9uc2VIZWFkZXJzWyJ4LWZiLXZpZGVvLXJlcGxpY2EiXX0pKSxuZXcgUHJvbWlzZShmdW5jdGlvbigpe30pfXRocm93IGE7fSksZD1KKHRoaXMsZnVuY3Rpb24oYyl7dGhpcy5MYSgiTVBERmV0Y2hEdXJhdGlvbiIsKERhdGUubm93KCktYikvMUUzKTt0aGlzLkY9CmM7Zm9yKHZhciBkPTA7ZDx0aGlzLkRhLmxlbmd0aDtkKyspTGMoYyx0aGlzLkRhW2RdLHRoaXMuUWJbZF0sdGhpcy5SYltkXSk7dmFyIGQ9bmV3IHllKHRoaXMuYSx0aGlzLnRhLHRoaXMubCx0aGlzLk1iKSxlO3RoaXMubCYmKGU9dGhpcy5sLmdldE9wZXJhdGlvbkxvZ2dlcigicHJvY2Vzc19tYW5pZmVzdCIpLnN0YXJ0KCkpO3RoaXMuYj16ZShkLGMsdGhpcy5ZKTtlJiZlLmxvZygpO2EmJmEuc2V0TWFuaWZlc3RUeXBlKHRoaXMuYi5iPyJkeW5hbWljIjoic3RhdGljIik7cmV0dXJuIFkucHJvdG90eXBlLndiLmNhbGwodGhpcykudGhlbihmdW5jdGlvbigpe2EmJmEubG9nKCl9KX0pO2lmKHRoaXMuTmIpcmV0dXJuIGI9RGF0ZS5ub3coKSxkKHRoaXMuTmIpO3ZhciBlPVtuZXcgTCh0aGlzLmpjKV0sZjtpZih0aGlzLnJhKXt2YXIgZz1uZXcgVmlkZW9QdXNoUGFyYW1ldGVyc0hlbHBlcih0aGlzLmpjKTtnLnNldFN0cmVhbUVuZE9mZnNldChNYXRoLmZsb29yKExmKHRoaXMpLzEpKTsKdGhpcy5PYSYmZy5zZXRQdXNoVmlkZW9SZXByZXNlbnRhdGlvbklEKHRoaXMuT2EpO3RoaXMucGEmJmcuc2V0UHVzaEF1ZGlvUmVwcmVzZW50YXRpb25JRCh0aGlzLnBhKTt0aGlzLm1hJiZnLnNldFVzZUxvbmdDYWNoZUZvck1hbmlmZXN0KHRoaXMubWEpO2Y9bmV3IGZkKG51bGwpO2YuYT1nfWU9bmV3IEsodGhpcy5ZLGUsdm9pZCAwLHZvaWQgMCx2b2lkIDAsdGhpcy5NYik7Zj1uZXcgZGQoZSx0aGlzLkxiLGYsdGhpcy5kYSk7Yj1EYXRlLm5vdygpO3JldHVybiBlZChmLHRoaXMubCkudGhlbihkLGMpfTsKWi5wcm90b3R5cGUudmM9ZnVuY3Rpb24oKXtpZih0aGlzLlViKXt2YXIgYT10aGlzLmI7aWYoYT0oYT1hJiZhLmEpJiZhWzBdKXt2YXIgYT1hLmEucmVkdWNlKGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuY29uY2F0KGIudil9LFtdKSxiPWZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hfTtQcm9taXNlLmFsbChhLm1hcChmdW5jdGlvbihhKXthPWEuTTtyZXR1cm4gYS5RYz9hLlJhOmEuY3JlYXRlKCl9KSkudGhlbihmdW5jdGlvbihhKXthPWEuZmlsdGVyKGIpO3RoaXMuTGEoIkluaXRpYWxTZWdtZW50SW5kZXhlcyIsYSl9LmJpbmQodGhpcykpO1Byb21pc2UuYWxsKGEubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLmFhfSkpLnRoZW4oZnVuY3Rpb24oYSl7YT1hLmZpbHRlcihiKTt0aGlzLkxhKCJTZWdtZW50SW5pdFNvdXJjZXMiLGEpfS5iaW5kKHRoaXMpKX19fTsKWi5wcm90b3R5cGUueWM9ZnVuY3Rpb24oYSxiLGMpe2lmKHRoaXMudmlkZW8ucGF1c2VkJiZ0aGlzLkhhKzFFND5EYXRlLm5vdygpJiZ0aGlzLmIpcmV0dXJuIFByb21pc2UucmVqZWN0KHt0eXBlOiJkZWxheSJ9KTt2YXIgZDtpZihiJiZ2b2lkIDAhPWMpZD1uZXcgZmQoYiksZC5mPWMsYj1TZih0aGlzKSxudWxsIT1iJiYoZC5jPWIuc3RyZWFtSW5mb0lELGQuYj10aGlzLnBhKTtlbHNlIGZvcihiPWEuYyxjPTA7YzxiLmxlbmd0aDtjKyspe3ZhciBlPW5ldyBWaWRlb1B1c2hQYXJhbWV0ZXJzSGVscGVyKGJbY10udG9TdHJpbmcoKSk7dGhpcy5tYSYmZS5zZXRVc2VMb25nQ2FjaGVGb3JNYW5pZmVzdCh0aGlzLm1hKTtiW2NdPW5ldyBMKGUuZ2V0VVJMKCkpfWE9bmV3IGRkKGEsdGhpcy5MYixkLHRoaXMuZGEpO3ZhciBmPURhdGUubm93KCk7cmV0dXJuIGVkKGEsdGhpcy5sKS50aGVuKEoodGhpcyxmdW5jdGlvbihhKXt0aGlzLkhhPURhdGUubm93KCk7dGhpcy5MYSgiTVBERmV0Y2hEdXJhdGlvbiIsCih0aGlzLkhhLWYpLzFFMyk7dGhpcy5hLmdldEJvb2woInRyZWF0X2xpdmVfc3RhdGljX21hbmlmZXN0X2FzX2R5bmFtaWMiLCExKSYmKGEubWFuaWZlc3RJc0xpdmVTdHJlYW1pbmc9ImR5bmFtaWMiPT09KHRoaXMuRj90aGlzLkYudHlwZTphLnR5cGUpKTt0aGlzLkY9YTt2YXIgYj1uZXcgeWUodGhpcy5hLHRoaXMudGEsdGhpcy5sLHRoaXMuTWIpO2lmKHRoaXMubCl2YXIgYz10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJwcm9jZXNzX21hbmlmZXN0Iikuc3RhcnQoKTthPXplKGIsYSx0aGlzLlkpO2MmJmMubG9nKCk7cmV0dXJuIFByb21pc2UucmVzb2x2ZShhKX0pKX07Wi5wcm90b3R5cGUueGM9ZnVuY3Rpb24oKXt2YXIgYT16ZShuZXcgeWUodGhpcy5hLHRoaXMudGEpLHRoaXMuRix0aGlzLlkpO3JldHVybiBQcm9taXNlLnJlc29sdmUoYSl9O30uYmluZChnLCBnbG9iYWwpKSgpOwoKbW9kdWxlLmV4cG9ydHMgPSBnLnNoYWthOwoKCi8qICAqL30pLG51bGwpOwovLyMgc291cmNlVVJMPWZiOGIxNmM4YjU3NjdkNTE4ODYwZGFiMjgzMGM1MGYyLmpzCg==, line 416: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/yz/r/XpFFWCF_B8_.js?_nc_x=F-xmOkya9-Y, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
1578567517034	mozrunner::runner	INFO	Running command: "/usr/bin/firefox" "-marionette" "-foreground" "-no-remote" "-profile" "/tmp/rust_mozprofileakORfy"
1578567520621	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: mozillaAddons
1578567520621	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: telemetry
1578567520621	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: resource://pdf.js/
1578567520621	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: about:reader*
1578567526285	Marionette	INFO	Listening on port 40683
1578567526481	Marionette	WARN	TLS certificate errors will be ignored for this session
1578567546800	Marionette	WARN	TimedPromise timed out after 5000 ms: stacktrace:
bail@chrome://marionette/content/sync.js:237:64
1578567547436	Marionette	WARN	TimedPromise timed out after 500 ms: stacktrace:
bail@chrome://marionette/content/sync.js:237:64
1578567633986	Marionette	WARN	TimedPromise timed out after 500 ms: stacktrace:
bail@chrome://marionette/content/sync.js:237:64
1578567634694	Marionette	WARN	TimedPromise timed out after 500 ms: stacktrace:
bail@chrome://marionette/content/sync.js:237:64
1578567635415	Marionette	WARN	TimedPromise timed out after 500 ms: stacktrace:
bail@chrome://marionette/content/sync.js:237:64
1578567636142	Marionette	WARN	TimedPromise timed out after 500 ms: stacktrace:
bail@chrome://marionette/content/sync.js:237:64
1578567636861	Marionette	WARN	TimedPromise timed out after 500 ms: stacktrace:
bail@chrome://marionette/content/sync.js:237:64
1578567637579	Marionette	WARN	TimedPromise timed out after 500 ms: stacktrace:
bail@chrome://marionette/content/sync.js:237:64
1578567638360	Marionette	INFO	Stopped listening on port 40683
IPDL protocol error: Handler returned error code!

###!!! [Parent][DispatchAsyncMessage] Error: PLayerTransaction::Msg_ReleaseLayer Processing error: message was deserialized, but the handler returned false (indicating failure)

IPDL protocol error: Handler returned error code!

###!!! [Parent][DispatchAsyncMessage] Error: PLayerTransaction::Msg_ReleaseLayer Processing error: message was deserialized, but the handler returned false (indicating failure)

IPDL protocol error: Handler returned error code!

###!!! [Parent][DispatchAsyncMessage] Error: PLayerTransaction::Msg_ReleaseLayer Processing error: message was deserialized, but the handler returned false (indicating failure)

IPDL protocol error: Handler returned error code!

###!!! [Parent][DispatchAsyncMessage] Error: PLayerTransaction::Msg_ReleaseLayer Processing error: message was deserialized, but the handler returned false (indicating failure)

IPDL protocol error: Handler returned error code!

###!!! [Parent][DispatchAsyncMessage] Error: PLayerTransaction::Msg_ReleaseLayer Processing error: message was deserialized, but the handler returned false (indicating failure)

IPDL protocol error: Handler returned error code!

###!!! [Parent][DispatchAsyncMessage] Error: PLayerTransaction::Msg_ReleaseLayer Processing error: message was deserialized, but the handler returned false (indicating failure)

IPDL protocol error: Handler returned error code!

###!!! [Parent][DispatchAsyncMessage] Error: PLayerTransaction::Msg_ReleaseLayer Processing error: message was deserialized, but the handler returned false (indicating failure)

IPDL protocol error: Handler returned error code!

###!!! [Parent][DispatchAsyncMessage] Error: PLayerTransaction::Msg_ReleaseLayer Processing error: message was deserialized, but the handler returned false (indicating failure)

IPDL protocol error: Handler returned error code!

###!!! [Parent][DispatchAsyncMessage] Error: PLayerTransaction::Msg_ReleaseLayer Processing error: message was deserialized, but the handler returned false (indicating failure)

IPDL protocol error: Handler returned error code!

###!!! [Parent][DispatchAsyncMessage] Error: PLayerTransaction::Msg_ReleaseLayer Processing error: message was deserialized, but the handler returned false (indicating failure)

IPDL protocol error: Handler returned error code!

###!!! [Parent][DispatchAsyncMessage] Error: PLayerTransaction::Msg_ReleaseLayer Processing error: message was deserialized, but the handler returned false (indicating failure)

IPDL protocol error: Handler returned error code!

###!!! [Parent][DispatchAsyncMessage] Error: PLayerTransaction::Msg_ReleaseLayer Processing error: message was deserialized, but the handler returned false (indicating failure)

IPDL protocol error: Handler returned error code!

###!!! [Parent][DispatchAsyncMessage] Error: PLayerTransaction::Msg_ReleaseLayer Processing error: message was deserialized, but the handler returned false (indicating failure)

IPDL protocol error: Handler returned error code!

###!!! [Parent][DispatchAsyncMessage] Error: PLayerTransaction::Msg_ReleaseLayer Processing error: message was deserialized, but the handler returned false (indicating failure)

IPDL protocol error: Handler returned error code!

###!!! [Parent][DispatchAsyncMessage] Error: PLayerTransaction::Msg_ReleaseLayer Processing error: message was deserialized, but the handler returned false (indicating failure)

IPDL protocol error: Handler returned error code!

###!!! [Parent][DispatchAsyncMessage] Error: PLayerTransaction::Msg_ReleaseLayer Processing error: message was deserialized, but the handler returned false (indicating failure)

IPDL protocol error: Handler returned error code!

###!!! [Parent][DispatchAsyncMessage] Error: PLayerTransaction::Msg_ReleaseLayer Processing error: message was deserialized, but the handler returned false (indicating failure)


###!!! [Child][MessageChannel] Error: (msgtype=0x3700A9,name=PContent::Msg_StartVisitedQuery) Channel closing: too late to send/recv, messages will be lost


###!!! [Child][MessageChannel] Error: (msgtype=0x3700A9,name=PContent::Msg_StartVisitedQuery) Channel closing: too late to send/recv, messages will be lost


###!!! [Child][MessageChannel] Error: (msgtype=0x3700A9,name=PContent::Msg_StartVisitedQuery) Channel closing: too late to send/recv, messages will be lost


###!!! [Child][MessageChannel] Error: (msgtype=0x3700A9,name=PContent::Msg_StartVisitedQuery) Channel closing: too late to send/recv, messages will be lost


###!!! [Child][MessageChannel] Error: (msgtype=0x3700A9,name=PContent::Msg_StartVisitedQuery) Channel closing: too late to send/recv, messages will be lost


###!!! [Child][MessageChannel] Error: (msgtype=0x3700A9,name=PContent::Msg_StartVisitedQuery) Channel closing: too late to send/recv, messages will be lost

1578567872632	mozrunner::runner	INFO	Running command: "/usr/bin/firefox" "-marionette" "-foreground" "-no-remote" "-profile" "/tmp/rust_mozprofilewqIX1P"
1578567873334	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: mozillaAddons
1578567873334	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: telemetry
1578567873334	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: resource://pdf.js/
1578567873334	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: about:reader*
1578567875177	Marionette	INFO	Listening on port 40715
1578567875239	Marionette	WARN	TLS certificate errors will be ignored for this session
1578567895836	Marionette	WARN	TimedPromise timed out after 5000 ms: stacktrace:
bail@chrome://marionette/content/sync.js:237:64
1578567896455	Marionette	WARN	TimedPromise timed out after 500 ms: stacktrace:
bail@chrome://marionette/content/sync.js:237:64
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/yz/r/XpFFWCF_B8_.js?_nc_x=F-xmOkya9-Y, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
1578570004383	Marionette	WARN	TimedPromise timed out after 500 ms: stacktrace:
bail@chrome://marionette/content/sync.js:237:64
1578570005137	Marionette	WARN	TimedPromise timed out after 500 ms: stacktrace:
bail@chrome://marionette/content/sync.js:237:64
1578570005856	Marionette	WARN	TimedPromise timed out after 500 ms: stacktrace:
bail@chrome://marionette/content/sync.js:237:64
1578570006576	Marionette	WARN	TimedPromise timed out after 500 ms: stacktrace:
bail@chrome://marionette/content/sync.js:237:64
1578570007294	Marionette	WARN	TimedPromise timed out after 500 ms: stacktrace:
bail@chrome://marionette/content/sync.js:237:64
1578570008014	Marionette	WARN	TimedPromise timed out after 500 ms: stacktrace:
bail@chrome://marionette/content/sync.js:237:64
1578570008724	Marionette	WARN	TimedPromise timed out after 500 ms: stacktrace:
bail@chrome://marionette/content/sync.js:237:64
1578570009447	Marionette	WARN	TimedPromise timed out after 500 ms: stacktrace:
bail@chrome://marionette/content/sync.js:237:64
1578570010401	Marionette	WARN	TimedPromise timed out after 500 ms: stacktrace:
bail@chrome://marionette/content/sync.js:237:64
1578570011107	Marionette	WARN	TimedPromise timed out after 500 ms: stacktrace:
bail@chrome://marionette/content/sync.js:237:64
1578570012412	Marionette	WARN	TimedPromise timed out after 500 ms: stacktrace:
bail@chrome://marionette/content/sync.js:237:64
1578570013129	Marionette	WARN	TimedPromise timed out after 500 ms: stacktrace:
bail@chrome://marionette/content/sync.js:237:64
1578570014418	Marionette	WARN	TimedPromise timed out after 500 ms: stacktrace:
bail@chrome://marionette/content/sync.js:237:64
1578570015420	Marionette	WARN	TimedPromise timed out after 500 ms: stacktrace:
bail@chrome://marionette/content/sync.js:237:64
1578570016420	Marionette	WARN	TimedPromise timed out after 500 ms: stacktrace:
bail@chrome://marionette/content/sync.js:237:64
1578570017139	Marionette	WARN	TimedPromise timed out after 500 ms: stacktrace:
bail@chrome://marionette/content/sync.js:237:64
1578570017857	Marionette	WARN	TimedPromise timed out after 500 ms: stacktrace:
bail@chrome://marionette/content/sync.js:237:64
1578570018567	Marionette	WARN	TimedPromise timed out after 500 ms: stacktrace:
bail@chrome://marionette/content/sync.js:237:64
1578570019275	Marionette	WARN	TimedPromise timed out after 500 ms: stacktrace:
bail@chrome://marionette/content/sync.js:237:64
1578570019992	Marionette	WARN	TimedPromise timed out after 500 ms: stacktrace:
bail@chrome://marionette/content/sync.js:237:64
1578570020698	Marionette	WARN	TimedPromise timed out after 500 ms: stacktrace:
bail@chrome://marionette/content/sync.js:237:64
1578570021415	Marionette	WARN	TimedPromise timed out after 500 ms: stacktrace:
bail@chrome://marionette/content/sync.js:237:64
1578570022131	Marionette	WARN	TimedPromise timed out after 500 ms: stacktrace:
bail@chrome://marionette/content/sync.js:237:64
1578570023493	Marionette	WARN	TimedPromise timed out after 500 ms: stacktrace:
bail@chrome://marionette/content/sync.js:237:64
1578570024494	Marionette	WARN	TimedPromise timed out after 500 ms: stacktrace:
bail@chrome://marionette/content/sync.js:237:64
1578570025495	Marionette	WARN	TimedPromise timed out after 500 ms: stacktrace:
bail@chrome://marionette/content/sync.js:237:64
1578570026496	Marionette	WARN	TimedPromise timed out after 500 ms: stacktrace:
bail@chrome://marionette/content/sync.js:237:64
1578570027497	Marionette	WARN	TimedPromise timed out after 500 ms: stacktrace:
bail@chrome://marionette/content/sync.js:237:64
1578570028499	Marionette	WARN	TimedPromise timed out after 500 ms: stacktrace:
bail@chrome://marionette/content/sync.js:237:64
1578570031358	Marionette	INFO	Stopped listening on port 40715
IPDL protocol error: Handler returned error code!

###!!! [Parent][DispatchAsyncMessage] Error: PLayerTransaction::Msg_ReleaseLayer Processing error: message was deserialized, but the handler returned false (indicating failure)

IPDL protocol error: Handler returned error code!

###!!! [Parent][DispatchAsyncMessage] Error: PLayerTransaction::Msg_ReleaseLayer Processing error: message was deserialized, but the handler returned false (indicating failure)

IPDL protocol error: Handler returned error code!

###!!! [Parent][DispatchAsyncMessage] Error: PLayerTransaction::Msg_ReleaseLayer Processing error: message was deserialized, but the handler returned false (indicating failure)

IPDL protocol error: Handler returned error code!

###!!! [Parent][DispatchAsyncMessage] Error: PLayerTransaction::Msg_ReleaseLayer Processing error: message was deserialized, but the handler returned false (indicating failure)

IPDL protocol error: Handler returned error code!

###!!! [Parent][DispatchAsyncMessage] Error: PLayerTransaction::Msg_ReleaseLayer Processing error: message was deserialized, but the handler returned false (indicating failure)

IPDL protocol error: Handler returned error code!

###!!! [Parent][DispatchAsyncMessage] Error: PLayerTransaction::Msg_ReleaseLayer Processing error: message was deserialized, but the handler returned false (indicating failure)

IPDL protocol error: Handler returned error code!

###!!! [Parent][DispatchAsyncMessage] Error: PLayerTransaction::Msg_ReleaseLayer Processing error: message was deserialized, but the handler returned false (indicating failure)

IPDL protocol error: Handler returned error code!

###!!! [Parent][DispatchAsyncMessage] Error: PLayerTransaction::Msg_ReleaseLayer Processing error: message was deserialized, but the handler returned false (indicating failure)

IPDL protocol error: Handler returned error code!

###!!! [Parent][DispatchAsyncMessage] Error: PLayerTransaction::Msg_ReleaseLayer Processing error: message was deserialized, but the handler returned false (indicating failure)

IPDL protocol error: Handler returned error code!

###!!! [Parent][DispatchAsyncMessage] Error: PLayerTransaction::Msg_ReleaseLayer Processing error: message was deserialized, but the handler returned false (indicating failure)

IPDL protocol error: Handler returned error code!

###!!! [Parent][DispatchAsyncMessage] Error: PLayerTransaction::Msg_ReleaseLayer Processing error: message was deserialized, but the handler returned false (indicating failure)

IPDL protocol error: Handler returned error code!

###!!! [Parent][DispatchAsyncMessage] Error: PLayerTransaction::Msg_ReleaseLayer Processing error: message was deserialized, but the handler returned false (indicating failure)

IPDL protocol error: Handler returned error code!

###!!! [Parent][DispatchAsyncMessage] Error: PLayerTransaction::Msg_ReleaseLayer Processing error: message was deserialized, but the handler returned false (indicating failure)

IPDL protocol error: Handler returned error code!

###!!! [Parent][DispatchAsyncMessage] Error: PLayerTransaction::Msg_ReleaseLayer Processing error: message was deserialized, but the handler returned false (indicating failure)

IPDL protocol error: Handler returned error code!

###!!! [Parent][DispatchAsyncMessage] Error: PLayerTransaction::Msg_ReleaseLayer Processing error: message was deserialized, but the handler returned false (indicating failure)

IPDL protocol error: Handler returned error code!

###!!! [Parent][DispatchAsyncMessage] Error: PLayerTransaction::Msg_ReleaseLayer Processing error: message was deserialized, but the handler returned false (indicating failure)

IPDL protocol error: Handler returned error code!

###!!! [Parent][DispatchAsyncMessage] Error: PLayerTransaction::Msg_ReleaseLayer Processing error: message was deserialized, but the handler returned false (indicating failure)

IPDL protocol error: Handler returned error code!

###!!! [Parent][DispatchAsyncMessage] Error: PLayerTransaction::Msg_ReleaseLayer Processing error: message was deserialized, but the handler returned false (indicating failure)

IPDL protocol error: Handler returned error code!

###!!! [Parent][DispatchAsyncMessage] Error: PLayerTransaction::Msg_ReleaseLayer Processing error: message was deserialized, but the handler returned false (indicating failure)

IPDL protocol error: Handler returned error code!

###!!! [Parent][DispatchAsyncMessage] Error: PLayerTransaction::Msg_ReleaseLayer Processing error: message was deserialized, but the handler returned false (indicating failure)

IPDL protocol error: Handler returned error code!

###!!! [Parent][DispatchAsyncMessage] Error: PLayerTransaction::Msg_ReleaseLayer Processing error: message was deserialized, but the handler returned false (indicating failure)

IPDL protocol error: Handler returned error code!

###!!! [Parent][DispatchAsyncMessage] Error: PLayerTransaction::Msg_ReleaseLayer Processing error: message was deserialized, but the handler returned false (indicating failure)

IPDL protocol error: Handler returned error code!

###!!! [Parent][DispatchAsyncMessage] Error: PLayerTransaction::Msg_ReleaseLayer Processing error: message was deserialized, but the handler returned false (indicating failure)

JavaScript error: resource://gre/modules/IndexedDB.jsm, line 370: UnknownError: The operation failed for reasons unrelated to the database itself and not covered by any other error code.
1578571120447	mozrunner::runner	INFO	Running command: "/usr/bin/firefox" "-marionette" "-foreground" "-no-remote" "-profile" "/tmp/rust_mozprofileob43s2"
1578571122291	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: mozillaAddons
1578571122291	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: telemetry
1578571122291	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: resource://pdf.js/
1578571122291	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: about:reader*
1578571128384	Marionette	INFO	Listening on port 38277
1578571128396	Marionette	WARN	TLS certificate errors will be ignored for this session
JavaScript warning: https://static.xx.fbcdn.net/rsrc.php/v3/yQ/r/W9qrNxMA_zR.js?_nc_x=F-xmOkya9-Y, line 17: Error: This error message will be blank when privacy.resistFingerprinting = true.  If it is really necessary, please add it to the whitelist in MediaError::GetMessage: Failed to init decoder
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/yz/r/XpFFWCF_B8_.js?_nc_x=F-xmOkya9-Y, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/yz/r/XpFFWCF_B8_.js?_nc_x=F-xmOkya9-Y, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/yz/r/XpFFWCF_B8_.js?_nc_x=F-xmOkya9-Y, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/yz/r/XpFFWCF_B8_.js?_nc_x=F-xmOkya9-Y, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/yz/r/XpFFWCF_B8_.js?_nc_x=F-xmOkya9-Y, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/yz/r/XpFFWCF_B8_.js?_nc_x=F-xmOkya9-Y, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/yz/r/XpFFWCF_B8_.js?_nc_x=F-xmOkya9-Y, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/yz/r/XpFFWCF_B8_.js?_nc_x=F-xmOkya9-Y, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/yz/r/XpFFWCF_B8_.js?_nc_x=F-xmOkya9-Y, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/yz/r/XpFFWCF_B8_.js?_nc_x=F-xmOkya9-Y, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/yz/r/XpFFWCF_B8_.js?_nc_x=F-xmOkya9-Y, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/yz/r/XpFFWCF_B8_.js?_nc_x=F-xmOkya9-Y, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/yz/r/XpFFWCF_B8_.js?_nc_x=F-xmOkya9-Y, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript warning: https://static.xx.fbcdn.net/rsrc.php/v3/yQ/r/W9qrNxMA_zR.js?_nc_x=F-xmOkya9-Y, line 17: Error: This error message will be blank when privacy.resistFingerprinting = true.  If it is really necessary, please add it to the whitelist in MediaError::GetMessage: Failed to init decoder
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/yz/r/XpFFWCF_B8_.js?_nc_x=F-xmOkya9-Y, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/yz/r/XpFFWCF_B8_.js?_nc_x=F-xmOkya9-Y, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/yz/r/XpFFWCF_B8_.js?_nc_x=F-xmOkya9-Y, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/yz/r/XpFFWCF_B8_.js?_nc_x=F-xmOkya9-Y, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/yz/r/XpFFWCF_B8_.js?_nc_x=F-xmOkya9-Y, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript warning: https://static.xx.fbcdn.net/rsrc.php/v3/yQ/r/W9qrNxMA_zR.js?_nc_x=F-xmOkya9-Y, line 17: Error: This error message will be blank when privacy.resistFingerprinting = true.  If it is really necessary, please add it to the whitelist in MediaError::GetMessage: Failed to init decoder
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/yz/r/XpFFWCF_B8_.js?_nc_x=F-xmOkya9-Y, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/yz/r/XpFFWCF_B8_.js?_nc_x=F-xmOkya9-Y, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/yz/r/XpFFWCF_B8_.js?_nc_x=F-xmOkya9-Y, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/yz/r/XpFFWCF_B8_.js?_nc_x=F-xmOkya9-Y, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
1578571499155	Marionette	INFO	Stopped listening on port 38277
[Parent 30330, Gecko_IOThread] WARNING: pipe error (65): Connection reset by peer: file /build/firefox-kECWsf/firefox-71.0+build5/ipc/chromium/src/chrome/common/ipc_channel_posix.cc, line 358

###!!! [Child][RunMessage] Error: Channel closing: too late to send/recv, messages will be lost

1579268989633	mozrunner::runner	INFO	Running command: "/usr/bin/firefox" "-marionette" "-foreground" "-no-remote" "-profile" "/tmp/rust_mozprofileh1oWrC"
1579268990052	addons.webextension.doh-rollout@mozilla.org	WARN	Loading extension 'doh-rollout@mozilla.org': Reading manifest: Invalid extension permission: networkStatus
1579268990074	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: mozillaAddons
1579268990074	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: telemetry
1579268990075	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: resource://pdf.js/
1579268990075	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: about:reader*
1579268991513	Marionette	INFO	Listening on port 33197
1579268991548	Marionette	WARN	TLS certificate errors will be ignored for this session
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/yZ/r/FFsB_XOcYEA.js?_nc_x=LFj7KCR4P_p, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/yZ/r/FFsB_XOcYEA.js?_nc_x=LFj7KCR4P_p, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/yZ/r/FFsB_XOcYEA.js?_nc_x=LFj7KCR4P_p, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/yZ/r/FFsB_XOcYEA.js?_nc_x=LFj7KCR4P_p, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/yZ/r/FFsB_XOcYEA.js?_nc_x=LFj7KCR4P_p, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/yZ/r/FFsB_XOcYEA.js?_nc_x=LFj7KCR4P_p, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/yZ/r/FFsB_XOcYEA.js?_nc_x=LFj7KCR4P_p, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/yZ/r/FFsB_XOcYEA.js?_nc_x=LFj7KCR4P_p, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
1579269083075	Marionette	WARN	TimedPromise timed out after 500 ms: stacktrace:
bail@chrome://marionette/content/sync.js:237:64
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/yZ/r/FFsB_XOcYEA.js?_nc_x=LFj7KCR4P_p, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/yZ/r/FFsB_XOcYEA.js?_nc_x=LFj7KCR4P_p, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
Exiting due to channel error.
Exiting due to channel error.
Exiting due to channel error.
Exiting due to channel error.
1579270252388	mozrunner::runner	INFO	Running command: "/usr/bin/firefox" "-marionette" "-foreground" "-no-remote" "-profile" "/tmp/rust_mozprofile5XvWk7"
1579270252688	addons.webextension.doh-rollout@mozilla.org	WARN	Loading extension 'doh-rollout@mozilla.org': Reading manifest: Invalid extension permission: networkStatus
1579270252707	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: mozillaAddons
1579270252708	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: telemetry
1579270252708	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: resource://pdf.js/
1579270252708	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: about:reader*
1579270254113	Marionette	INFO	Listening on port 44845
1579270254209	Marionette	WARN	TLS certificate errors will be ignored for this session
JavaScript error: https://www.facebook.com/rsrc.php/v3/yZ/r/FFsB_XOcYEA.js?_nc_x=LFj7KCR4P_p, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
Exiting due to channel error.
Exiting due to channel error.
Exiting due to channel error.
1579270573313	mozrunner::runner	INFO	Running command: "/usr/bin/firefox" "-marionette" "-foreground" "-no-remote" "-profile" "/tmp/rust_mozprofileo60PZQ"
1579270573623	addons.webextension.doh-rollout@mozilla.org	WARN	Loading extension 'doh-rollout@mozilla.org': Reading manifest: Invalid extension permission: networkStatus
1579270573642	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: mozillaAddons
1579270573643	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: telemetry
1579270573643	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: resource://pdf.js/
1579270573643	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: about:reader*
1579270575102	Marionette	INFO	Listening on port 37813
1579270575123	Marionette	WARN	TLS certificate errors will be ignored for this session
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/yZ/r/FFsB_XOcYEA.js?_nc_x=LFj7KCR4P_p, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/yZ/r/FFsB_XOcYEA.js?_nc_x=LFj7KCR4P_p, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
Exiting due to channel error.
Exiting due to channel error.
Exiting due to channel error.
1579270737762	mozrunner::runner	INFO	Running command: "/usr/bin/firefox" "-marionette" "-foreground" "-no-remote" "-profile" "/tmp/rust_mozprofile3UJNgB"
1579270738091	addons.webextension.doh-rollout@mozilla.org	WARN	Loading extension 'doh-rollout@mozilla.org': Reading manifest: Invalid extension permission: networkStatus
1579270738111	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: mozillaAddons
1579270738111	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: telemetry
1579270738112	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: resource://pdf.js/
1579270738112	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: about:reader*
1579270739617	Marionette	INFO	Listening on port 39907
1579270739685	Marionette	WARN	TLS certificate errors will be ignored for this session
1579270773875	Marionette	INFO	Stopped listening on port 39907
1579270828182	mozrunner::runner	INFO	Running command: "/usr/bin/firefox" "-marionette" "-foreground" "-no-remote" "-profile" "/tmp/rust_mozprofilebaXDFh"
1579270828482	addons.webextension.doh-rollout@mozilla.org	WARN	Loading extension 'doh-rollout@mozilla.org': Reading manifest: Invalid extension permission: networkStatus
1579270828504	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: mozillaAddons
1579270828504	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: telemetry
1579270828504	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: resource://pdf.js/
1579270828504	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: about:reader*
1579270829950	Marionette	INFO	Listening on port 38149
1579270830004	Marionette	WARN	TLS certificate errors will be ignored for this session
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/yZ/r/FFsB_XOcYEA.js?_nc_x=LFj7KCR4P_p, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/yZ/r/FFsB_XOcYEA.js?_nc_x=LFj7KCR4P_p, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/yZ/r/FFsB_XOcYEA.js?_nc_x=LFj7KCR4P_p, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
Exiting due to channel error.
Exiting due to channel error.
Exiting due to channel error.
1579272570290	mozrunner::runner	INFO	Running command: "/usr/bin/firefox" "-marionette" "-foreground" "-no-remote" "-profile" "/tmp/rust_mozprofilejNjHHF"
1579272570729	addons.webextension.doh-rollout@mozilla.org	WARN	Loading extension 'doh-rollout@mozilla.org': Reading manifest: Invalid extension permission: networkStatus
1579272570752	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: mozillaAddons
1579272570752	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: telemetry
1579272570752	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: resource://pdf.js/
1579272570752	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: about:reader*
1579272572370	Marionette	INFO	Listening on port 39797
1579272572397	Marionette	WARN	TLS certificate errors will be ignored for this session
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/yZ/r/FFsB_XOcYEA.js?_nc_x=LFj7KCR4P_p, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/yZ/r/FFsB_XOcYEA.js?_nc_x=LFj7KCR4P_p, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript warning: https://static.xx.fbcdn.net/rsrc.php/v3i6N34/yY/l/en_GB/WqJBXwyfl8E.js?_nc_x=LFj7KCR4P_p, line 56: Error: This error message will be blank when privacy.resistFingerprinting = true.  If it is really necessary, please add it to the whitelist in MediaError::GetMessage: Failed to init decoder
JavaScript warning: https://static.xx.fbcdn.net/rsrc.php/v3i6N34/yY/l/en_GB/WqJBXwyfl8E.js?_nc_x=LFj7KCR4P_p, line 56: Error: This error message will be blank when privacy.resistFingerprinting = true.  If it is really necessary, please add it to the whitelist in MediaError::GetMessage: Failed to init decoder
Exiting due to channel error.
Exiting due to channel error.
Exiting due to channel error.
1579272713971	mozrunner::runner	INFO	Running command: "/usr/bin/firefox" "-marionette" "-foreground" "-no-remote" "-profile" "/tmp/rust_mozprofilef3w5XO"
1579272714319	addons.webextension.doh-rollout@mozilla.org	WARN	Loading extension 'doh-rollout@mozilla.org': Reading manifest: Invalid extension permission: networkStatus
1579272714339	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: mozillaAddons
1579272714339	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: telemetry
1579272714339	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: resource://pdf.js/
1579272714339	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: about:reader*
1579272715915	Marionette	INFO	Listening on port 43751
1579272715984	Marionette	WARN	TLS certificate errors will be ignored for this session
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/yZ/r/FFsB_XOcYEA.js?_nc_x=LFj7KCR4P_p, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/yZ/r/FFsB_XOcYEA.js?_nc_x=LFj7KCR4P_p, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/yZ/r/FFsB_XOcYEA.js?_nc_x=LFj7KCR4P_p, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
1579272769528	Marionette	WARN	TimedPromise timed out after 500 ms: stacktrace:
bail@chrome://marionette/content/sync.js:237:64
IPDL protocol error: Handler returned error code!

###!!! [Parent][DispatchAsyncMessage] Error: PLayerTransaction::Msg_ReleaseLayer Processing error: message was deserialized, but the handler returned false (indicating failure)

Exiting due to channel error.
Exiting due to channel error.
Exiting due to channel error.
1579273430238	mozrunner::runner	INFO	Running command: "/usr/bin/firefox" "-marionette" "-foreground" "-no-remote" "-profile" "/tmp/rust_mozprofileWbpjKK"
1579273430609	addons.webextension.doh-rollout@mozilla.org	WARN	Loading extension 'doh-rollout@mozilla.org': Reading manifest: Invalid extension permission: networkStatus
1579273430630	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: mozillaAddons
1579273430630	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: telemetry
1579273430630	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: resource://pdf.js/
1579273430630	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: about:reader*
1579273432119	Marionette	INFO	Listening on port 44917
1579273432151	Marionette	WARN	TLS certificate errors will be ignored for this session
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/yZ/r/FFsB_XOcYEA.js?_nc_x=LFj7KCR4P_p, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/yZ/r/FFsB_XOcYEA.js?_nc_x=LFj7KCR4P_p, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/yZ/r/FFsB_XOcYEA.js?_nc_x=LFj7KCR4P_p, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript error: resource://devtools/client/shared/widgets/tooltip/HTMLTooltip.js, line 912: TypeError: node.ownerDocument is null
Exiting due to channel error.
Exiting due to channel error.
Exiting due to channel error.
1579273864276	mozrunner::runner	INFO	Running command: "/usr/bin/firefox" "-marionette" "-foreground" "-no-remote" "-profile" "/tmp/rust_mozprofile7wSoYW"
1579273864584	addons.webextension.doh-rollout@mozilla.org	WARN	Loading extension 'doh-rollout@mozilla.org': Reading manifest: Invalid extension permission: networkStatus
1579273864603	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: mozillaAddons
1579273864603	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: telemetry
1579273864603	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: resource://pdf.js/
1579273864603	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: about:reader*
1579273866168	Marionette	INFO	Listening on port 38823
1579273866191	Marionette	WARN	TLS certificate errors will be ignored for this session
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/yZ/r/FFsB_XOcYEA.js?_nc_x=LFj7KCR4P_p, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/yZ/r/FFsB_XOcYEA.js?_nc_x=LFj7KCR4P_p, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/yZ/r/FFsB_XOcYEA.js?_nc_x=LFj7KCR4P_p, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
IPDL protocol error: Handler returned error code!

###!!! [Parent][DispatchAsyncMessage] Error: PLayerTransaction::Msg_ReleaseLayer Processing error: message was deserialized, but the handler returned false (indicating failure)

1579273990436	mozrunner::runner	INFO	Running command: "/usr/bin/firefox" "-marionette" "-foreground" "-no-remote" "-profile" "/tmp/rust_mozprofile5A4hnq"
1579273990720	addons.webextension.doh-rollout@mozilla.org	WARN	Loading extension 'doh-rollout@mozilla.org': Reading manifest: Invalid extension permission: networkStatus
1579273990743	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: mozillaAddons
1579273990743	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: telemetry
1579273990743	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: resource://pdf.js/
1579273990743	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: about:reader*
1579273992179	Marionette	INFO	Listening on port 37423
1579273992250	Marionette	WARN	TLS certificate errors will be ignored for this session
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/yZ/r/FFsB_XOcYEA.js?_nc_x=LFj7KCR4P_p, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/yZ/r/FFsB_XOcYEA.js?_nc_x=LFj7KCR4P_p, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/yZ/r/FFsB_XOcYEA.js?_nc_x=LFj7KCR4P_p, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/yZ/r/FFsB_XOcYEA.js?_nc_x=LFj7KCR4P_p, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/yZ/r/FFsB_XOcYEA.js?_nc_x=LFj7KCR4P_p, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/yZ/r/FFsB_XOcYEA.js?_nc_x=LFj7KCR4P_p, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
IPDL protocol error: Handler returned error code!

###!!! [Parent][DispatchAsyncMessage] Error: PLayerTransaction::Msg_ReleaseLayer Processing error: message was deserialized, but the handler returned false (indicating failure)

1579274201979	Marionette	INFO	Stopped listening on port 37423
1579274202000	Marionette	INFO	Stopped listening on port 38823
1579274245246	mozrunner::runner	INFO	Running command: "/usr/bin/firefox" "-marionette" "-foreground" "-no-remote" "-profile" "/tmp/rust_mozprofile3F5erZ"
1579274245606	addons.webextension.doh-rollout@mozilla.org	WARN	Loading extension 'doh-rollout@mozilla.org': Reading manifest: Invalid extension permission: networkStatus
1579274245628	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: mozillaAddons
1579274245628	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: telemetry
1579274245628	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: resource://pdf.js/
1579274245628	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: about:reader*
1579274247186	Marionette	INFO	Listening on port 45529
1579274247262	Marionette	WARN	TLS certificate errors will be ignored for this session
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/yZ/r/FFsB_XOcYEA.js?_nc_x=LFj7KCR4P_p, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/yZ/r/FFsB_XOcYEA.js?_nc_x=LFj7KCR4P_p, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
1579275311670	Marionette	INFO	Stopped listening on port 45529
